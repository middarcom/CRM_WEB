var TX=Object.defineProperty;var j4=e=>{throw TypeError(e)};var AX=(e,t,r)=>t in e?TX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var qp=(e,t,r)=>AX(e,typeof t!="symbol"?t+"":t,r),Oj=(e,t,r)=>t.has(e)||j4("Cannot "+r);var xe=(e,t,r)=>(Oj(e,t,"read from private field"),r?r.call(e):t.get(e)),St=(e,t,r)=>t.has(e)?j4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),gt=(e,t,r,n)=>(Oj(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Xt=(e,t,r)=>(Oj(e,t,"access private method"),r);var Px=(e,t,r,n)=>({set _(a){gt(e,t,a,r)},get _(){return xe(e,t,n)}});function PX(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var E$={exports:{}},j_={},T$={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv=Symbol.for("react.element"),OX=Symbol.for("react.portal"),DX=Symbol.for("react.fragment"),RX=Symbol.for("react.strict_mode"),FX=Symbol.for("react.profiler"),MX=Symbol.for("react.provider"),IX=Symbol.for("react.context"),LX=Symbol.for("react.forward_ref"),$X=Symbol.for("react.suspense"),BX=Symbol.for("react.memo"),UX=Symbol.for("react.lazy"),S4=Symbol.iterator;function zX(e){return e===null||typeof e!="object"?null:(e=S4&&e[S4]||e["@@iterator"],typeof e=="function"?e:null)}var A$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P$=Object.assign,O$={};function sp(e,t,r){this.props=e,this.context=t,this.refs=O$,this.updater=r||A$}sp.prototype.isReactComponent={};sp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function D$(){}D$.prototype=sp.prototype;function hE(e,t,r){this.props=e,this.context=t,this.refs=O$,this.updater=r||A$}var mE=hE.prototype=new D$;mE.constructor=hE;P$(mE,sp.prototype);mE.isPureReactComponent=!0;var N4=Array.isArray,R$=Object.prototype.hasOwnProperty,pE={current:null},F$={key:!0,ref:!0,__self:!0,__source:!0};function M$(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)R$.call(t,n)&&!F$.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Lv,type:e,key:s,ref:o,props:a,_owner:pE.current}}function VX(e,t){return{$$typeof:Lv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gE(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lv}function WX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var k4=/\/+/g;function Dj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?WX(""+e.key):t.toString(36)}function Fy(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Lv:case OX:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Dj(o,0):n,N4(a)?(r="",e!=null&&(r=e.replace(k4,"$&/")+"/"),Fy(a,t,r,"",function(u){return u})):a!=null&&(gE(a)&&(a=VX(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(k4,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",N4(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Dj(s,l);o+=Fy(s,t,r,c,a)}else if(c=zX(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Dj(s,l++),o+=Fy(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Dx(e,t,r){if(e==null)return e;var n=[],a=0;return Fy(e,n,"","",function(s){return t.call(r,s,a++)}),n}function HX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ps={current:null},My={transition:null},qX={ReactCurrentDispatcher:ps,ReactCurrentBatchConfig:My,ReactCurrentOwner:pE};function I$(){throw Error("act(...) is not supported in production builds of React.")}qt.Children={map:Dx,forEach:function(e,t,r){Dx(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Dx(e,function(){t++}),t},toArray:function(e){return Dx(e,function(t){return t})||[]},only:function(e){if(!gE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};qt.Component=sp;qt.Fragment=DX;qt.Profiler=FX;qt.PureComponent=hE;qt.StrictMode=RX;qt.Suspense=$X;qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qX;qt.act=I$;qt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=P$({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=pE.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)R$.call(t,c)&&!F$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Lv,type:e.type,key:a,ref:s,props:n,_owner:o}};qt.createContext=function(e){return e={$$typeof:IX,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:MX,_context:e},e.Consumer=e};qt.createElement=M$;qt.createFactory=function(e){var t=M$.bind(null,e);return t.type=e,t};qt.createRef=function(){return{current:null}};qt.forwardRef=function(e){return{$$typeof:LX,render:e}};qt.isValidElement=gE;qt.lazy=function(e){return{$$typeof:UX,_payload:{_status:-1,_result:e},_init:HX}};qt.memo=function(e,t){return{$$typeof:BX,type:e,compare:t===void 0?null:t}};qt.startTransition=function(e){var t=My.transition;My.transition={};try{e()}finally{My.transition=t}};qt.unstable_act=I$;qt.useCallback=function(e,t){return ps.current.useCallback(e,t)};qt.useContext=function(e){return ps.current.useContext(e)};qt.useDebugValue=function(){};qt.useDeferredValue=function(e){return ps.current.useDeferredValue(e)};qt.useEffect=function(e,t){return ps.current.useEffect(e,t)};qt.useId=function(){return ps.current.useId()};qt.useImperativeHandle=function(e,t,r){return ps.current.useImperativeHandle(e,t,r)};qt.useInsertionEffect=function(e,t){return ps.current.useInsertionEffect(e,t)};qt.useLayoutEffect=function(e,t){return ps.current.useLayoutEffect(e,t)};qt.useMemo=function(e,t){return ps.current.useMemo(e,t)};qt.useReducer=function(e,t,r){return ps.current.useReducer(e,t,r)};qt.useRef=function(e){return ps.current.useRef(e)};qt.useState=function(e){return ps.current.useState(e)};qt.useSyncExternalStore=function(e,t,r){return ps.current.useSyncExternalStore(e,t,r)};qt.useTransition=function(){return ps.current.useTransition()};qt.version="18.3.1";T$.exports=qt;var x=T$.exports;const ce=pr(x),vE=PX({__proto__:null,default:ce},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GX=x,KX=Symbol.for("react.element"),YX=Symbol.for("react.fragment"),XX=Object.prototype.hasOwnProperty,QX=GX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JX={key:!0,ref:!0,__self:!0,__source:!0};function L$(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)XX.call(t,n)&&!JX.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:KX,type:e,key:s,ref:o,props:a,_owner:QX.current}}j_.Fragment=YX;j_.jsx=L$;j_.jsxs=L$;E$.exports=j_;var i=E$.exports,$$={exports:{}},mi={},B$={exports:{}},U$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,I){var q=M.length;M.push(I);e:for(;0<q;){var J=q-1>>>1,A=M[J];if(0<a(A,I))M[J]=I,M[q]=A,q=J;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var I=M[0],q=M.pop();if(q!==I){M[0]=q;e:for(var J=0,A=M.length,B=A>>>1;J<B;){var G=2*(J+1)-1,H=M[G],ee=G+1,ue=M[ee];if(0>a(H,q))ee<A&&0>a(ue,H)?(M[J]=ue,M[ee]=q,J=ee):(M[J]=H,M[G]=q,J=G);else if(ee<A&&0>a(ue,q))M[J]=ue,M[ee]=q,J=ee;else break e}}return I}function a(M,I){var q=M.sortIndex-I.sortIndex;return q!==0?q:M.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(M){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=M)n(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function j(M){if(p=!1,_(M),!g)if(r(c)!==null)g=!0,z(w);else{var I=r(u);I!==null&&P(j,I.startTime-M)}}function w(M,I){g=!1,p&&(p=!1,y(C),C=-1),m=!0;var q=h;try{for(_(I),f=r(c);f!==null&&(!(f.expirationTime>I)||M&&!O());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var A=J(f.expirationTime<=I);I=e.unstable_now(),typeof A=="function"?f.callback=A:f===r(c)&&n(c),_(I)}else n(c);f=r(c)}if(f!==null)var B=!0;else{var G=r(u);G!==null&&P(j,G.startTime-I),B=!1}return B}finally{f=null,h=q,m=!1}}var S=!1,N=null,C=-1,k=5,E=-1;function O(){return!(e.unstable_now()-E<k)}function T(){if(N!==null){var M=e.unstable_now();E=M;var I=!0;try{I=N(!0,M)}finally{I?U():(S=!1,N=null)}}else S=!1}var U;if(typeof b=="function")U=function(){b(T)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,R=W.port2;W.port1.onmessage=T,U=function(){R.postMessage(null)}}else U=function(){v(T,0)};function z(M){N=M,S||(S=!0,U())}function P(M,I){C=v(function(){M(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,z(w))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var q=h;h=I;try{return M()}finally{h=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,I){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var q=h;h=M;try{return I()}finally{h=q}},e.unstable_scheduleCallback=function(M,I,q){var J=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?J+q:J):q=J,M){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=q+A,M={id:d++,callback:I,priorityLevel:M,startTime:q,expirationTime:A,sortIndex:-1},q>J?(M.sortIndex=q,t(u,M),r(c)===null&&M===r(u)&&(p?(y(C),C=-1):p=!0,P(j,q-J))):(M.sortIndex=A,t(c,M),g||m||(g=!0,z(w))),M},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(M){var I=h;return function(){var q=h;h=I;try{return M.apply(this,arguments)}finally{h=q}}}})(U$);B$.exports=U$;var ZX=B$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eQ=x,ci=ZX;function Ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z$=new Set,hg={};function _f(e,t){am(e,t),am(e+"Capture",t)}function am(e,t){for(hg[e]=t,e=0;e<t.length;e++)z$.add(t[e])}var lc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),PN=Object.prototype.hasOwnProperty,tQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C4={},E4={};function rQ(e){return PN.call(E4,e)?!0:PN.call(C4,e)?!1:tQ.test(e)?E4[e]=!0:(C4[e]=!0,!1)}function nQ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aQ(e,t,r,n){if(t===null||typeof t>"u"||nQ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gs(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ia={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ia[e]=new gs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ia[t]=new gs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ia[e]=new gs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ia[e]=new gs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ia[e]=new gs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ia[e]=new gs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ia[e]=new gs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ia[e]=new gs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ia[e]=new gs(e,5,!1,e.toLowerCase(),null,!1,!1)});var xE=/[\-:]([a-z])/g;function yE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xE,yE);ia[t]=new gs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xE,yE);ia[t]=new gs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xE,yE);ia[t]=new gs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ia[e]=new gs(e,1,!1,e.toLowerCase(),null,!1,!1)});ia.xlinkHref=new gs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ia[e]=new gs(e,1,!1,e.toLowerCase(),null,!0,!0)});function bE(e,t,r,n){var a=ia.hasOwnProperty(t)?ia[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aQ(t,r,a,n)&&(r=null),n||a===null?rQ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var jc=eQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rx=Symbol.for("react.element"),ch=Symbol.for("react.portal"),uh=Symbol.for("react.fragment"),_E=Symbol.for("react.strict_mode"),ON=Symbol.for("react.profiler"),V$=Symbol.for("react.provider"),W$=Symbol.for("react.context"),wE=Symbol.for("react.forward_ref"),DN=Symbol.for("react.suspense"),RN=Symbol.for("react.suspense_list"),jE=Symbol.for("react.memo"),Uc=Symbol.for("react.lazy"),H$=Symbol.for("react.offscreen"),T4=Symbol.iterator;function Gp(e){return e===null||typeof e!="object"?null:(e=T4&&e[T4]||e["@@iterator"],typeof e=="function"?e:null)}var Yr=Object.assign,Rj;function w0(e){if(Rj===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Rj=t&&t[1]||""}return`
`+Rj+e}var Fj=!1;function Mj(e,t){if(!e||Fj)return"";Fj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Fj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?w0(e):""}function sQ(e){switch(e.tag){case 5:return w0(e.type);case 16:return w0("Lazy");case 13:return w0("Suspense");case 19:return w0("SuspenseList");case 0:case 2:case 15:return e=Mj(e.type,!1),e;case 11:return e=Mj(e.type.render,!1),e;case 1:return e=Mj(e.type,!0),e;default:return""}}function FN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case uh:return"Fragment";case ch:return"Portal";case ON:return"Profiler";case _E:return"StrictMode";case DN:return"Suspense";case RN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case W$:return(e.displayName||"Context")+".Consumer";case V$:return(e._context.displayName||"Context")+".Provider";case wE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jE:return t=e.displayName||null,t!==null?t:FN(e.type)||"Memo";case Uc:t=e._payload,e=e._init;try{return FN(e(t))}catch{}}return null}function iQ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return FN(t);case 8:return t===_E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function q$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oQ(e){var t=q$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fx(e){e._valueTracker||(e._valueTracker=oQ(e))}function G$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=q$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function o1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function MN(e,t){var r=t.checked;return Yr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function A4(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Tu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function K$(e,t){t=t.checked,t!=null&&bE(e,"checked",t,!1)}function IN(e,t){K$(e,t);var r=Tu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?LN(e,t.type,r):t.hasOwnProperty("defaultValue")&&LN(e,t.type,Tu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function P4(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function LN(e,t,r){(t!=="number"||o1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var j0=Array.isArray;function Ch(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Tu(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function $N(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return Yr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function O4(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ge(92));if(j0(r)){if(1<r.length)throw Error(Ge(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Tu(r)}}function Y$(e,t){var r=Tu(t.value),n=Tu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function D4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function X$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function BN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?X$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mx,Q$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mx=Mx||document.createElement("div"),Mx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var F0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lQ=["Webkit","ms","Moz","O"];Object.keys(F0).forEach(function(e){lQ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),F0[t]=F0[e]})});function J$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||F0.hasOwnProperty(e)&&F0[e]?(""+t).trim():t+"px"}function Z$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=J$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var cQ=Yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function UN(e,t){if(t){if(cQ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ge(62))}}function zN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VN=null;function SE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var WN=null,Eh=null,Th=null;function R4(e){if(e=Uv(e)){if(typeof WN!="function")throw Error(Ge(280));var t=e.stateNode;t&&(t=E_(t),WN(e.stateNode,e.type,t))}}function e8(e){Eh?Th?Th.push(e):Th=[e]:Eh=e}function t8(){if(Eh){var e=Eh,t=Th;if(Th=Eh=null,R4(e),t)for(e=0;e<t.length;e++)R4(t[e])}}function r8(e,t){return e(t)}function n8(){}var Ij=!1;function a8(e,t,r){if(Ij)return e(t,r);Ij=!0;try{return r8(e,t,r)}finally{Ij=!1,(Eh!==null||Th!==null)&&(n8(),t8())}}function pg(e,t){var r=e.stateNode;if(r===null)return null;var n=E_(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ge(231,t,typeof r));return r}var HN=!1;if(lc)try{var Kp={};Object.defineProperty(Kp,"passive",{get:function(){HN=!0}}),window.addEventListener("test",Kp,Kp),window.removeEventListener("test",Kp,Kp)}catch{HN=!1}function uQ(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var M0=!1,l1=null,c1=!1,qN=null,dQ={onError:function(e){M0=!0,l1=e}};function fQ(e,t,r,n,a,s,o,l,c){M0=!1,l1=null,uQ.apply(dQ,arguments)}function hQ(e,t,r,n,a,s,o,l,c){if(fQ.apply(this,arguments),M0){if(M0){var u=l1;M0=!1,l1=null}else throw Error(Ge(198));c1||(c1=!0,qN=u)}}function wf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function s8(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function F4(e){if(wf(e)!==e)throw Error(Ge(188))}function mQ(e){var t=e.alternate;if(!t){if(t=wf(e),t===null)throw Error(Ge(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return F4(a),e;if(s===n)return F4(a),t;s=s.sibling}throw Error(Ge(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(Ge(189))}}if(r.alternate!==n)throw Error(Ge(190))}if(r.tag!==3)throw Error(Ge(188));return r.stateNode.current===r?e:t}function i8(e){return e=mQ(e),e!==null?o8(e):null}function o8(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=o8(e);if(t!==null)return t;e=e.sibling}return null}var l8=ci.unstable_scheduleCallback,M4=ci.unstable_cancelCallback,pQ=ci.unstable_shouldYield,gQ=ci.unstable_requestPaint,dn=ci.unstable_now,vQ=ci.unstable_getCurrentPriorityLevel,NE=ci.unstable_ImmediatePriority,c8=ci.unstable_UserBlockingPriority,u1=ci.unstable_NormalPriority,xQ=ci.unstable_LowPriority,u8=ci.unstable_IdlePriority,S_=null,cl=null;function yQ(e){if(cl&&typeof cl.onCommitFiberRoot=="function")try{cl.onCommitFiberRoot(S_,e,void 0,(e.current.flags&128)===128)}catch{}}var wo=Math.clz32?Math.clz32:wQ,bQ=Math.log,_Q=Math.LN2;function wQ(e){return e>>>=0,e===0?32:31-(bQ(e)/_Q|0)|0}var Ix=64,Lx=4194304;function S0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function d1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=S0(l):(s&=o,s!==0&&(n=S0(s)))}else o=r&~a,o!==0?n=S0(o):s!==0&&(n=S0(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wo(t),a=1<<r,n|=e[r],t&=~a;return n}function jQ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SQ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-wo(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=jQ(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function GN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function d8(){var e=Ix;return Ix<<=1,!(Ix&4194240)&&(Ix=64),e}function Lj(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function $v(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wo(t),e[t]=r}function NQ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-wo(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function kE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wo(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var br=0;function f8(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var h8,CE,m8,p8,g8,KN=!1,$x=[],pu=null,gu=null,vu=null,gg=new Map,vg=new Map,Hc=[],kQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I4(e,t){switch(e){case"focusin":case"focusout":pu=null;break;case"dragenter":case"dragleave":gu=null;break;case"mouseover":case"mouseout":vu=null;break;case"pointerover":case"pointerout":gg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vg.delete(t.pointerId)}}function Yp(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Uv(t),t!==null&&CE(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function CQ(e,t,r,n,a){switch(t){case"focusin":return pu=Yp(pu,e,t,r,n,a),!0;case"dragenter":return gu=Yp(gu,e,t,r,n,a),!0;case"mouseover":return vu=Yp(vu,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return gg.set(s,Yp(gg.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,vg.set(s,Yp(vg.get(s)||null,e,t,r,n,a)),!0}return!1}function v8(e){var t=gd(e.target);if(t!==null){var r=wf(t);if(r!==null){if(t=r.tag,t===13){if(t=s8(r),t!==null){e.blockedOn=t,g8(e.priority,function(){m8(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Iy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=YN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);VN=n,r.target.dispatchEvent(n),VN=null}else return t=Uv(r),t!==null&&CE(t),e.blockedOn=r,!1;t.shift()}return!0}function L4(e,t,r){Iy(e)&&r.delete(t)}function EQ(){KN=!1,pu!==null&&Iy(pu)&&(pu=null),gu!==null&&Iy(gu)&&(gu=null),vu!==null&&Iy(vu)&&(vu=null),gg.forEach(L4),vg.forEach(L4)}function Xp(e,t){e.blockedOn===t&&(e.blockedOn=null,KN||(KN=!0,ci.unstable_scheduleCallback(ci.unstable_NormalPriority,EQ)))}function xg(e){function t(a){return Xp(a,e)}if(0<$x.length){Xp($x[0],e);for(var r=1;r<$x.length;r++){var n=$x[r];n.blockedOn===e&&(n.blockedOn=null)}}for(pu!==null&&Xp(pu,e),gu!==null&&Xp(gu,e),vu!==null&&Xp(vu,e),gg.forEach(t),vg.forEach(t),r=0;r<Hc.length;r++)n=Hc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Hc.length&&(r=Hc[0],r.blockedOn===null);)v8(r),r.blockedOn===null&&Hc.shift()}var Ah=jc.ReactCurrentBatchConfig,f1=!0;function TQ(e,t,r,n){var a=br,s=Ah.transition;Ah.transition=null;try{br=1,EE(e,t,r,n)}finally{br=a,Ah.transition=s}}function AQ(e,t,r,n){var a=br,s=Ah.transition;Ah.transition=null;try{br=4,EE(e,t,r,n)}finally{br=a,Ah.transition=s}}function EE(e,t,r,n){if(f1){var a=YN(e,t,r,n);if(a===null)Kj(e,t,n,h1,r),I4(e,n);else if(CQ(a,e,t,r,n))n.stopPropagation();else if(I4(e,n),t&4&&-1<kQ.indexOf(e)){for(;a!==null;){var s=Uv(a);if(s!==null&&h8(s),s=YN(e,t,r,n),s===null&&Kj(e,t,n,h1,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Kj(e,t,n,null,r)}}var h1=null;function YN(e,t,r,n){if(h1=null,e=SE(n),e=gd(e),e!==null)if(t=wf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=s8(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return h1=e,null}function x8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vQ()){case NE:return 1;case c8:return 4;case u1:case xQ:return 16;case u8:return 536870912;default:return 16}default:return 16}}var iu=null,TE=null,Ly=null;function y8(){if(Ly)return Ly;var e,t=TE,r=t.length,n,a="value"in iu?iu.value:iu.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return Ly=a.slice(e,1<n?1-n:void 0)}function $y(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bx(){return!0}function $4(){return!1}function pi(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bx:$4,this.isPropagationStopped=$4,this}return Yr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bx)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bx)},persist:function(){},isPersistent:Bx}),t}var ip={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},AE=pi(ip),Bv=Yr({},ip,{view:0,detail:0}),PQ=pi(Bv),$j,Bj,Qp,N_=Yr({},Bv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:PE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qp&&(Qp&&e.type==="mousemove"?($j=e.screenX-Qp.screenX,Bj=e.screenY-Qp.screenY):Bj=$j=0,Qp=e),$j)},movementY:function(e){return"movementY"in e?e.movementY:Bj}}),B4=pi(N_),OQ=Yr({},N_,{dataTransfer:0}),DQ=pi(OQ),RQ=Yr({},Bv,{relatedTarget:0}),Uj=pi(RQ),FQ=Yr({},ip,{animationName:0,elapsedTime:0,pseudoElement:0}),MQ=pi(FQ),IQ=Yr({},ip,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LQ=pi(IQ),$Q=Yr({},ip,{data:0}),U4=pi($Q),BQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zQ[e])?!!t[e]:!1}function PE(){return VQ}var WQ=Yr({},Bv,{key:function(e){if(e.key){var t=BQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$y(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?UQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:PE,charCode:function(e){return e.type==="keypress"?$y(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$y(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HQ=pi(WQ),qQ=Yr({},N_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z4=pi(qQ),GQ=Yr({},Bv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:PE}),KQ=pi(GQ),YQ=Yr({},ip,{propertyName:0,elapsedTime:0,pseudoElement:0}),XQ=pi(YQ),QQ=Yr({},N_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),JQ=pi(QQ),ZQ=[9,13,27,32],OE=lc&&"CompositionEvent"in window,I0=null;lc&&"documentMode"in document&&(I0=document.documentMode);var eJ=lc&&"TextEvent"in window&&!I0,b8=lc&&(!OE||I0&&8<I0&&11>=I0),V4=" ",W4=!1;function _8(e,t){switch(e){case"keyup":return ZQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dh=!1;function tJ(e,t){switch(e){case"compositionend":return w8(t);case"keypress":return t.which!==32?null:(W4=!0,V4);case"textInput":return e=t.data,e===V4&&W4?null:e;default:return null}}function rJ(e,t){if(dh)return e==="compositionend"||!OE&&_8(e,t)?(e=y8(),Ly=TE=iu=null,dh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return b8&&t.locale!=="ko"?null:t.data;default:return null}}var nJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nJ[e.type]:t==="textarea"}function j8(e,t,r,n){e8(n),t=m1(t,"onChange"),0<t.length&&(r=new AE("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var L0=null,yg=null;function aJ(e){R8(e,0)}function k_(e){var t=mh(e);if(G$(t))return e}function sJ(e,t){if(e==="change")return t}var S8=!1;if(lc){var zj;if(lc){var Vj="oninput"in document;if(!Vj){var q4=document.createElement("div");q4.setAttribute("oninput","return;"),Vj=typeof q4.oninput=="function"}zj=Vj}else zj=!1;S8=zj&&(!document.documentMode||9<document.documentMode)}function G4(){L0&&(L0.detachEvent("onpropertychange",N8),yg=L0=null)}function N8(e){if(e.propertyName==="value"&&k_(yg)){var t=[];j8(t,yg,e,SE(e)),a8(aJ,t)}}function iJ(e,t,r){e==="focusin"?(G4(),L0=t,yg=r,L0.attachEvent("onpropertychange",N8)):e==="focusout"&&G4()}function oJ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return k_(yg)}function lJ(e,t){if(e==="click")return k_(t)}function cJ(e,t){if(e==="input"||e==="change")return k_(t)}function uJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ko=typeof Object.is=="function"?Object.is:uJ;function bg(e,t){if(ko(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!PN.call(t,a)||!ko(e[a],t[a]))return!1}return!0}function K4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Y4(e,t){var r=K4(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=K4(r)}}function k8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?k8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function C8(){for(var e=window,t=o1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=o1(e.document)}return t}function DE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dJ(e){var t=C8(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&k8(r.ownerDocument.documentElement,r)){if(n!==null&&DE(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=Y4(r,s);var o=Y4(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fJ=lc&&"documentMode"in document&&11>=document.documentMode,fh=null,XN=null,$0=null,QN=!1;function X4(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;QN||fh==null||fh!==o1(n)||(n=fh,"selectionStart"in n&&DE(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$0&&bg($0,n)||($0=n,n=m1(XN,"onSelect"),0<n.length&&(t=new AE("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=fh)))}function Ux(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var hh={animationend:Ux("Animation","AnimationEnd"),animationiteration:Ux("Animation","AnimationIteration"),animationstart:Ux("Animation","AnimationStart"),transitionend:Ux("Transition","TransitionEnd")},Wj={},E8={};lc&&(E8=document.createElement("div").style,"AnimationEvent"in window||(delete hh.animationend.animation,delete hh.animationiteration.animation,delete hh.animationstart.animation),"TransitionEvent"in window||delete hh.transitionend.transition);function C_(e){if(Wj[e])return Wj[e];if(!hh[e])return e;var t=hh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in E8)return Wj[e]=t[r];return e}var T8=C_("animationend"),A8=C_("animationiteration"),P8=C_("animationstart"),O8=C_("transitionend"),D8=new Map,Q4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bu(e,t){D8.set(e,t),_f(t,[e])}for(var Hj=0;Hj<Q4.length;Hj++){var qj=Q4[Hj],hJ=qj.toLowerCase(),mJ=qj[0].toUpperCase()+qj.slice(1);Bu(hJ,"on"+mJ)}Bu(T8,"onAnimationEnd");Bu(A8,"onAnimationIteration");Bu(P8,"onAnimationStart");Bu("dblclick","onDoubleClick");Bu("focusin","onFocus");Bu("focusout","onBlur");Bu(O8,"onTransitionEnd");am("onMouseEnter",["mouseout","mouseover"]);am("onMouseLeave",["mouseout","mouseover"]);am("onPointerEnter",["pointerout","pointerover"]);am("onPointerLeave",["pointerout","pointerover"]);_f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_f("onBeforeInput",["compositionend","keypress","textInput","paste"]);_f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var N0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(N0));function J4(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,hQ(n,t,void 0,e),e.currentTarget=null}function R8(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;J4(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;J4(a,l,u),s=c}}}if(c1)throw e=qN,c1=!1,qN=null,e}function Mr(e,t){var r=t[r2];r===void 0&&(r=t[r2]=new Set);var n=e+"__bubble";r.has(n)||(F8(t,e,2,!1),r.add(n))}function Gj(e,t,r){var n=0;t&&(n|=4),F8(r,e,n,t)}var zx="_reactListening"+Math.random().toString(36).slice(2);function _g(e){if(!e[zx]){e[zx]=!0,z$.forEach(function(r){r!=="selectionchange"&&(pJ.has(r)||Gj(r,!1,e),Gj(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zx]||(t[zx]=!0,Gj("selectionchange",!1,t))}}function F8(e,t,r,n){switch(x8(t)){case 1:var a=TQ;break;case 4:a=AQ;break;default:a=EE}r=a.bind(null,t,r,e),a=void 0,!HN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Kj(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=gd(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}a8(function(){var u=s,d=SE(r),f=[];e:{var h=D8.get(e);if(h!==void 0){var m=AE,g=e;switch(e){case"keypress":if($y(r)===0)break e;case"keydown":case"keyup":m=HQ;break;case"focusin":g="focus",m=Uj;break;case"focusout":g="blur",m=Uj;break;case"beforeblur":case"afterblur":m=Uj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=B4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=DQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=KQ;break;case T8:case A8:case P8:m=MQ;break;case O8:m=XQ;break;case"scroll":m=PQ;break;case"wheel":m=JQ;break;case"copy":case"cut":case"paste":m=LQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=z4}var p=(t&4)!==0,v=!p&&e==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var b=u,_;b!==null;){_=b;var j=_.stateNode;if(_.tag===5&&j!==null&&(_=j,y!==null&&(j=pg(b,y),j!=null&&p.push(wg(b,j,_)))),v)break;b=b.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==VN&&(g=r.relatedTarget||r.fromElement)&&(gd(g)||g[cc]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?gd(g):null,g!==null&&(v=wf(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=B4,j="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=z4,j="onPointerLeave",y="onPointerEnter",b="pointer"),v=m==null?h:mh(m),_=g==null?h:mh(g),h=new p(j,b+"leave",m,r,d),h.target=v,h.relatedTarget=_,j=null,gd(d)===u&&(p=new p(y,b+"enter",g,r,d),p.target=_,p.relatedTarget=v,j=p),v=j,m&&g)t:{for(p=m,y=g,b=0,_=p;_;_=$f(_))b++;for(_=0,j=y;j;j=$f(j))_++;for(;0<b-_;)p=$f(p),b--;for(;0<_-b;)y=$f(y),_--;for(;b--;){if(p===y||y!==null&&p===y.alternate)break t;p=$f(p),y=$f(y)}p=null}else p=null;m!==null&&Z4(f,h,m,p,!1),g!==null&&v!==null&&Z4(f,v,g,p,!0)}}e:{if(h=u?mh(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var w=sJ;else if(H4(h))if(S8)w=cJ;else{w=oJ;var S=iJ}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=lJ);if(w&&(w=w(e,u))){j8(f,w,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&LN(h,"number",h.value)}switch(S=u?mh(u):window,e){case"focusin":(H4(S)||S.contentEditable==="true")&&(fh=S,XN=u,$0=null);break;case"focusout":$0=XN=fh=null;break;case"mousedown":QN=!0;break;case"contextmenu":case"mouseup":case"dragend":QN=!1,X4(f,r,d);break;case"selectionchange":if(fJ)break;case"keydown":case"keyup":X4(f,r,d)}var N;if(OE)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else dh?_8(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(b8&&r.locale!=="ko"&&(dh||C!=="onCompositionStart"?C==="onCompositionEnd"&&dh&&(N=y8()):(iu=d,TE="value"in iu?iu.value:iu.textContent,dh=!0)),S=m1(u,C),0<S.length&&(C=new U4(C,e,null,r,d),f.push({event:C,listeners:S}),N?C.data=N:(N=w8(r),N!==null&&(C.data=N)))),(N=eJ?tJ(e,r):rJ(e,r))&&(u=m1(u,"onBeforeInput"),0<u.length&&(d=new U4("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}R8(f,t)})}function wg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function m1(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=pg(e,r),s!=null&&n.unshift(wg(e,s,a)),s=pg(e,t),s!=null&&n.push(wg(e,s,a))),e=e.return}return n}function $f(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Z4(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=pg(r,s),c!=null&&o.unshift(wg(r,c,l))):a||(c=pg(r,s),c!=null&&o.push(wg(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var gJ=/\r\n?/g,vJ=/\u0000|\uFFFD/g;function eD(e){return(typeof e=="string"?e:""+e).replace(gJ,`
`).replace(vJ,"")}function Vx(e,t,r){if(t=eD(t),eD(e)!==t&&r)throw Error(Ge(425))}function p1(){}var JN=null,ZN=null;function e2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var t2=typeof setTimeout=="function"?setTimeout:void 0,xJ=typeof clearTimeout=="function"?clearTimeout:void 0,tD=typeof Promise=="function"?Promise:void 0,yJ=typeof queueMicrotask=="function"?queueMicrotask:typeof tD<"u"?function(e){return tD.resolve(null).then(e).catch(bJ)}:t2;function bJ(e){setTimeout(function(){throw e})}function Yj(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),xg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);xg(t)}function xu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rD(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var op=Math.random().toString(36).slice(2),Qo="__reactFiber$"+op,jg="__reactProps$"+op,cc="__reactContainer$"+op,r2="__reactEvents$"+op,_J="__reactListeners$"+op,wJ="__reactHandles$"+op;function gd(e){var t=e[Qo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[cc]||r[Qo]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=rD(e);e!==null;){if(r=e[Qo])return r;e=rD(e)}return t}e=r,r=e.parentNode}return null}function Uv(e){return e=e[Qo]||e[cc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ge(33))}function E_(e){return e[jg]||null}var n2=[],ph=-1;function Uu(e){return{current:e}}function $r(e){0>ph||(e.current=n2[ph],n2[ph]=null,ph--)}function Ar(e,t){ph++,n2[ph]=e.current,e.current=t}var Au={},Ta=Uu(Au),As=Uu(!1),qd=Au;function sm(e,t){var r=e.type.contextTypes;if(!r)return Au;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ps(e){return e=e.childContextTypes,e!=null}function g1(){$r(As),$r(Ta)}function nD(e,t,r){if(Ta.current!==Au)throw Error(Ge(168));Ar(Ta,t),Ar(As,r)}function M8(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ge(108,iQ(e)||"Unknown",a));return Yr({},r,n)}function v1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Au,qd=Ta.current,Ar(Ta,e),Ar(As,As.current),!0}function aD(e,t,r){var n=e.stateNode;if(!n)throw Error(Ge(169));r?(e=M8(e,t,qd),n.__reactInternalMemoizedMergedChildContext=e,$r(As),$r(Ta),Ar(Ta,e)):$r(As),Ar(As,r)}var Wl=null,T_=!1,Xj=!1;function I8(e){Wl===null?Wl=[e]:Wl.push(e)}function jJ(e){T_=!0,I8(e)}function zu(){if(!Xj&&Wl!==null){Xj=!0;var e=0,t=br;try{var r=Wl;for(br=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Wl=null,T_=!1}catch(a){throw Wl!==null&&(Wl=Wl.slice(e+1)),l8(NE,zu),a}finally{br=t,Xj=!1}}return null}var gh=[],vh=0,x1=null,y1=0,Ti=[],Ai=0,Gd=null,Kl=1,Yl="";function ad(e,t){gh[vh++]=y1,gh[vh++]=x1,x1=e,y1=t}function L8(e,t,r){Ti[Ai++]=Kl,Ti[Ai++]=Yl,Ti[Ai++]=Gd,Gd=e;var n=Kl;e=Yl;var a=32-wo(n)-1;n&=~(1<<a),r+=1;var s=32-wo(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Kl=1<<32-wo(t)+a|r<<a|n,Yl=s+e}else Kl=1<<s|r<<a|n,Yl=e}function RE(e){e.return!==null&&(ad(e,1),L8(e,1,0))}function FE(e){for(;e===x1;)x1=gh[--vh],gh[vh]=null,y1=gh[--vh],gh[vh]=null;for(;e===Gd;)Gd=Ti[--Ai],Ti[Ai]=null,Yl=Ti[--Ai],Ti[Ai]=null,Kl=Ti[--Ai],Ti[Ai]=null}var si=null,ai=null,zr=!1,po=null;function $8(e,t){var r=Ri(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function sD(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,si=e,ai=xu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,si=e,ai=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gd!==null?{id:Kl,overflow:Yl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ri(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,si=e,ai=null,!0):!1;default:return!1}}function a2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function s2(e){if(zr){var t=ai;if(t){var r=t;if(!sD(e,t)){if(a2(e))throw Error(Ge(418));t=xu(r.nextSibling);var n=si;t&&sD(e,t)?$8(n,r):(e.flags=e.flags&-4097|2,zr=!1,si=e)}}else{if(a2(e))throw Error(Ge(418));e.flags=e.flags&-4097|2,zr=!1,si=e}}}function iD(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;si=e}function Wx(e){if(e!==si)return!1;if(!zr)return iD(e),zr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!e2(e.type,e.memoizedProps)),t&&(t=ai)){if(a2(e))throw B8(),Error(Ge(418));for(;t;)$8(e,t),t=xu(t.nextSibling)}if(iD(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ai=xu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ai=null}}else ai=si?xu(e.stateNode.nextSibling):null;return!0}function B8(){for(var e=ai;e;)e=xu(e.nextSibling)}function im(){ai=si=null,zr=!1}function ME(e){po===null?po=[e]:po.push(e)}var SJ=jc.ReactCurrentBatchConfig;function Jp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ge(309));var n=r.stateNode}if(!n)throw Error(Ge(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ge(284));if(!r._owner)throw Error(Ge(290,e))}return e}function Hx(e,t){throw e=Object.prototype.toString.call(t),Error(Ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function oD(e){var t=e._init;return t(e._payload)}function U8(e){function t(y,b){if(e){var _=y.deletions;_===null?(y.deletions=[b],y.flags|=16):_.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=wu(y,b),y.index=0,y.sibling=null,y}function s(y,b,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<b?(y.flags|=2,b):_):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,_,j){return b===null||b.tag!==6?(b=nS(_,y.mode,j),b.return=y,b):(b=a(b,_),b.return=y,b)}function c(y,b,_,j){var w=_.type;return w===uh?d(y,b,_.props.children,j,_.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Uc&&oD(w)===b.type)?(j=a(b,_.props),j.ref=Jp(y,b,_),j.return=y,j):(j=qy(_.type,_.key,_.props,null,y.mode,j),j.ref=Jp(y,b,_),j.return=y,j)}function u(y,b,_,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=aS(_,y.mode,j),b.return=y,b):(b=a(b,_.children||[]),b.return=y,b)}function d(y,b,_,j,w){return b===null||b.tag!==7?(b=Id(_,y.mode,j,w),b.return=y,b):(b=a(b,_),b.return=y,b)}function f(y,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=nS(""+b,y.mode,_),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Rx:return _=qy(b.type,b.key,b.props,null,y.mode,_),_.ref=Jp(y,null,b),_.return=y,_;case ch:return b=aS(b,y.mode,_),b.return=y,b;case Uc:var j=b._init;return f(y,j(b._payload),_)}if(j0(b)||Gp(b))return b=Id(b,y.mode,_,null),b.return=y,b;Hx(y,b)}return null}function h(y,b,_,j){var w=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return w!==null?null:l(y,b,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Rx:return _.key===w?c(y,b,_,j):null;case ch:return _.key===w?u(y,b,_,j):null;case Uc:return w=_._init,h(y,b,w(_._payload),j)}if(j0(_)||Gp(_))return w!==null?null:d(y,b,_,j,null);Hx(y,_)}return null}function m(y,b,_,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(_)||null,l(b,y,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Rx:return y=y.get(j.key===null?_:j.key)||null,c(b,y,j,w);case ch:return y=y.get(j.key===null?_:j.key)||null,u(b,y,j,w);case Uc:var S=j._init;return m(y,b,_,S(j._payload),w)}if(j0(j)||Gp(j))return y=y.get(_)||null,d(b,y,j,w,null);Hx(b,j)}return null}function g(y,b,_,j){for(var w=null,S=null,N=b,C=b=0,k=null;N!==null&&C<_.length;C++){N.index>C?(k=N,N=null):k=N.sibling;var E=h(y,N,_[C],j);if(E===null){N===null&&(N=k);break}e&&N&&E.alternate===null&&t(y,N),b=s(E,b,C),S===null?w=E:S.sibling=E,S=E,N=k}if(C===_.length)return r(y,N),zr&&ad(y,C),w;if(N===null){for(;C<_.length;C++)N=f(y,_[C],j),N!==null&&(b=s(N,b,C),S===null?w=N:S.sibling=N,S=N);return zr&&ad(y,C),w}for(N=n(y,N);C<_.length;C++)k=m(N,y,C,_[C],j),k!==null&&(e&&k.alternate!==null&&N.delete(k.key===null?C:k.key),b=s(k,b,C),S===null?w=k:S.sibling=k,S=k);return e&&N.forEach(function(O){return t(y,O)}),zr&&ad(y,C),w}function p(y,b,_,j){var w=Gp(_);if(typeof w!="function")throw Error(Ge(150));if(_=w.call(_),_==null)throw Error(Ge(151));for(var S=w=null,N=b,C=b=0,k=null,E=_.next();N!==null&&!E.done;C++,E=_.next()){N.index>C?(k=N,N=null):k=N.sibling;var O=h(y,N,E.value,j);if(O===null){N===null&&(N=k);break}e&&N&&O.alternate===null&&t(y,N),b=s(O,b,C),S===null?w=O:S.sibling=O,S=O,N=k}if(E.done)return r(y,N),zr&&ad(y,C),w;if(N===null){for(;!E.done;C++,E=_.next())E=f(y,E.value,j),E!==null&&(b=s(E,b,C),S===null?w=E:S.sibling=E,S=E);return zr&&ad(y,C),w}for(N=n(y,N);!E.done;C++,E=_.next())E=m(N,y,C,E.value,j),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?C:E.key),b=s(E,b,C),S===null?w=E:S.sibling=E,S=E);return e&&N.forEach(function(T){return t(y,T)}),zr&&ad(y,C),w}function v(y,b,_,j){if(typeof _=="object"&&_!==null&&_.type===uh&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Rx:e:{for(var w=_.key,S=b;S!==null;){if(S.key===w){if(w=_.type,w===uh){if(S.tag===7){r(y,S.sibling),b=a(S,_.props.children),b.return=y,y=b;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Uc&&oD(w)===S.type){r(y,S.sibling),b=a(S,_.props),b.ref=Jp(y,S,_),b.return=y,y=b;break e}r(y,S);break}else t(y,S);S=S.sibling}_.type===uh?(b=Id(_.props.children,y.mode,j,_.key),b.return=y,y=b):(j=qy(_.type,_.key,_.props,null,y.mode,j),j.ref=Jp(y,b,_),j.return=y,y=j)}return o(y);case ch:e:{for(S=_.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){r(y,b.sibling),b=a(b,_.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=aS(_,y.mode,j),b.return=y,y=b}return o(y);case Uc:return S=_._init,v(y,b,S(_._payload),j)}if(j0(_))return g(y,b,_,j);if(Gp(_))return p(y,b,_,j);Hx(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,_),b.return=y,y=b):(r(y,b),b=nS(_,y.mode,j),b.return=y,y=b),o(y)):r(y,b)}return v}var om=U8(!0),z8=U8(!1),b1=Uu(null),_1=null,xh=null,IE=null;function LE(){IE=xh=_1=null}function $E(e){var t=b1.current;$r(b1),e._currentValue=t}function i2(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ph(e,t){_1=e,IE=xh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Cs=!0),e.firstContext=null)}function Bi(e){var t=e._currentValue;if(IE!==e)if(e={context:e,memoizedValue:t,next:null},xh===null){if(_1===null)throw Error(Ge(308));xh=e,_1.dependencies={lanes:0,firstContext:e}}else xh=xh.next=e;return t}var vd=null;function BE(e){vd===null?vd=[e]:vd.push(e)}function V8(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,BE(t)):(r.next=a.next,a.next=r),t.interleaved=r,uc(e,n)}function uc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zc=!1;function UE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W8(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,rr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,uc(e,r)}return a=n.interleaved,a===null?(t.next=t,BE(n)):(t.next=a.next,a.next=t),n.interleaved=t,uc(e,r)}function By(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kE(e,r)}}function lD(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function w1(e,t,r,n){var a=e.updateQueue;zc=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Yr({},f,h);break e;case 2:zc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Yd|=o,e.lanes=o,e.memoizedState=f}}function cD(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ge(191,a));a.call(n)}}}var zv={},ul=Uu(zv),Sg=Uu(zv),Ng=Uu(zv);function xd(e){if(e===zv)throw Error(Ge(174));return e}function zE(e,t){switch(Ar(Ng,t),Ar(Sg,e),Ar(ul,zv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:BN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=BN(t,e)}$r(ul),Ar(ul,t)}function lm(){$r(ul),$r(Sg),$r(Ng)}function H8(e){xd(Ng.current);var t=xd(ul.current),r=BN(t,e.type);t!==r&&(Ar(Sg,e),Ar(ul,r))}function VE(e){Sg.current===e&&($r(ul),$r(Sg))}var qr=Uu(0);function j1(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qj=[];function WE(){for(var e=0;e<Qj.length;e++)Qj[e]._workInProgressVersionPrimary=null;Qj.length=0}var Uy=jc.ReactCurrentDispatcher,Jj=jc.ReactCurrentBatchConfig,Kd=0,Kr=null,Pn=null,zn=null,S1=!1,B0=!1,kg=0,NJ=0;function ha(){throw Error(Ge(321))}function HE(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ko(e[r],t[r]))return!1;return!0}function qE(e,t,r,n,a,s){if(Kd=s,Kr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Uy.current=e===null||e.memoizedState===null?TJ:AJ,e=r(n,a),B0){s=0;do{if(B0=!1,kg=0,25<=s)throw Error(Ge(301));s+=1,zn=Pn=null,t.updateQueue=null,Uy.current=PJ,e=r(n,a)}while(B0)}if(Uy.current=N1,t=Pn!==null&&Pn.next!==null,Kd=0,zn=Pn=Kr=null,S1=!1,t)throw Error(Ge(300));return e}function GE(){var e=kg!==0;return kg=0,e}function Ho(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?Kr.memoizedState=zn=e:zn=zn.next=e,zn}function Ui(){if(Pn===null){var e=Kr.alternate;e=e!==null?e.memoizedState:null}else e=Pn.next;var t=zn===null?Kr.memoizedState:zn.next;if(t!==null)zn=t,Pn=e;else{if(e===null)throw Error(Ge(310));Pn=e,e={memoizedState:Pn.memoizedState,baseState:Pn.baseState,baseQueue:Pn.baseQueue,queue:Pn.queue,next:null},zn===null?Kr.memoizedState=zn=e:zn=zn.next=e}return zn}function Cg(e,t){return typeof t=="function"?t(e):t}function Zj(e){var t=Ui(),r=t.queue;if(r===null)throw Error(Ge(311));r.lastRenderedReducer=e;var n=Pn,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Kd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Kr.lanes|=d,Yd|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,ko(n,t.memoizedState)||(Cs=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Kr.lanes|=s,Yd|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function eS(e){var t=Ui(),r=t.queue;if(r===null)throw Error(Ge(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);ko(s,t.memoizedState)||(Cs=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function q8(){}function G8(e,t){var r=Kr,n=Ui(),a=t(),s=!ko(n.memoizedState,a);if(s&&(n.memoizedState=a,Cs=!0),n=n.queue,KE(X8.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||zn!==null&&zn.memoizedState.tag&1){if(r.flags|=2048,Eg(9,Y8.bind(null,r,n,a,t),void 0,null),qn===null)throw Error(Ge(349));Kd&30||K8(r,t,a)}return a}function K8(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Kr.updateQueue,t===null?(t={lastEffect:null,stores:null},Kr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Y8(e,t,r,n){t.value=r,t.getSnapshot=n,Q8(t)&&J8(e)}function X8(e,t,r){return r(function(){Q8(t)&&J8(e)})}function Q8(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ko(e,r)}catch{return!0}}function J8(e){var t=uc(e,1);t!==null&&jo(t,e,1,-1)}function uD(e){var t=Ho();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cg,lastRenderedState:e},t.queue=e,e=e.dispatch=EJ.bind(null,Kr,e),[t.memoizedState,e]}function Eg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Kr.updateQueue,t===null?(t={lastEffect:null,stores:null},Kr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Z8(){return Ui().memoizedState}function zy(e,t,r,n){var a=Ho();Kr.flags|=e,a.memoizedState=Eg(1|t,r,void 0,n===void 0?null:n)}function A_(e,t,r,n){var a=Ui();n=n===void 0?null:n;var s=void 0;if(Pn!==null){var o=Pn.memoizedState;if(s=o.destroy,n!==null&&HE(n,o.deps)){a.memoizedState=Eg(t,r,s,n);return}}Kr.flags|=e,a.memoizedState=Eg(1|t,r,s,n)}function dD(e,t){return zy(8390656,8,e,t)}function KE(e,t){return A_(2048,8,e,t)}function e6(e,t){return A_(4,2,e,t)}function t6(e,t){return A_(4,4,e,t)}function r6(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function n6(e,t,r){return r=r!=null?r.concat([e]):null,A_(4,4,r6.bind(null,t,e),r)}function YE(){}function a6(e,t){var r=Ui();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&HE(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function s6(e,t){var r=Ui();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&HE(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function i6(e,t,r){return Kd&21?(ko(r,t)||(r=d8(),Kr.lanes|=r,Yd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Cs=!0),e.memoizedState=r)}function kJ(e,t){var r=br;br=r!==0&&4>r?r:4,e(!0);var n=Jj.transition;Jj.transition={};try{e(!1),t()}finally{br=r,Jj.transition=n}}function o6(){return Ui().memoizedState}function CJ(e,t,r){var n=_u(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},l6(e))c6(t,r);else if(r=V8(e,t,r,n),r!==null){var a=us();jo(r,e,n,a),u6(r,t,n)}}function EJ(e,t,r){var n=_u(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(l6(e))c6(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,ko(l,o)){var c=t.interleaved;c===null?(a.next=a,BE(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=V8(e,t,a,n),r!==null&&(a=us(),jo(r,e,n,a),u6(r,t,n))}}function l6(e){var t=e.alternate;return e===Kr||t!==null&&t===Kr}function c6(e,t){B0=S1=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function u6(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kE(e,r)}}var N1={readContext:Bi,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},TJ={readContext:Bi,useCallback:function(e,t){return Ho().memoizedState=[e,t===void 0?null:t],e},useContext:Bi,useEffect:dD,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,zy(4194308,4,r6.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zy(4194308,4,e,t)},useInsertionEffect:function(e,t){return zy(4,2,e,t)},useMemo:function(e,t){var r=Ho();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ho();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=CJ.bind(null,Kr,e),[n.memoizedState,e]},useRef:function(e){var t=Ho();return e={current:e},t.memoizedState=e},useState:uD,useDebugValue:YE,useDeferredValue:function(e){return Ho().memoizedState=e},useTransition:function(){var e=uD(!1),t=e[0];return e=kJ.bind(null,e[1]),Ho().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Kr,a=Ho();if(zr){if(r===void 0)throw Error(Ge(407));r=r()}else{if(r=t(),qn===null)throw Error(Ge(349));Kd&30||K8(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,dD(X8.bind(null,n,s,e),[e]),n.flags|=2048,Eg(9,Y8.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Ho(),t=qn.identifierPrefix;if(zr){var r=Yl,n=Kl;r=(n&~(1<<32-wo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=kg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=NJ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},AJ={readContext:Bi,useCallback:a6,useContext:Bi,useEffect:KE,useImperativeHandle:n6,useInsertionEffect:e6,useLayoutEffect:t6,useMemo:s6,useReducer:Zj,useRef:Z8,useState:function(){return Zj(Cg)},useDebugValue:YE,useDeferredValue:function(e){var t=Ui();return i6(t,Pn.memoizedState,e)},useTransition:function(){var e=Zj(Cg)[0],t=Ui().memoizedState;return[e,t]},useMutableSource:q8,useSyncExternalStore:G8,useId:o6,unstable_isNewReconciler:!1},PJ={readContext:Bi,useCallback:a6,useContext:Bi,useEffect:KE,useImperativeHandle:n6,useInsertionEffect:e6,useLayoutEffect:t6,useMemo:s6,useReducer:eS,useRef:Z8,useState:function(){return eS(Cg)},useDebugValue:YE,useDeferredValue:function(e){var t=Ui();return Pn===null?t.memoizedState=e:i6(t,Pn.memoizedState,e)},useTransition:function(){var e=eS(Cg)[0],t=Ui().memoizedState;return[e,t]},useMutableSource:q8,useSyncExternalStore:G8,useId:o6,unstable_isNewReconciler:!1};function so(e,t){if(e&&e.defaultProps){t=Yr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function o2(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Yr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var P_={isMounted:function(e){return(e=e._reactInternals)?wf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=us(),a=_u(e),s=tc(n,a);s.payload=t,r!=null&&(s.callback=r),t=yu(e,s,a),t!==null&&(jo(t,e,a,n),By(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=us(),a=_u(e),s=tc(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=yu(e,s,a),t!==null&&(jo(t,e,a,n),By(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=us(),n=_u(e),a=tc(r,n);a.tag=2,t!=null&&(a.callback=t),t=yu(e,a,n),t!==null&&(jo(t,e,n,r),By(t,e,n))}};function fD(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!bg(r,n)||!bg(a,s):!0}function d6(e,t,r){var n=!1,a=Au,s=t.contextType;return typeof s=="object"&&s!==null?s=Bi(s):(a=Ps(t)?qd:Ta.current,n=t.contextTypes,s=(n=n!=null)?sm(e,a):Au),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=P_,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function hD(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&P_.enqueueReplaceState(t,t.state,null)}function l2(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},UE(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Bi(s):(s=Ps(t)?qd:Ta.current,a.context=sm(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(o2(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&P_.enqueueReplaceState(a,a.state,null),w1(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function cm(e,t){try{var r="",n=t;do r+=sQ(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function tS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function c2(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var OJ=typeof WeakMap=="function"?WeakMap:Map;function f6(e,t,r){r=tc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){C1||(C1=!0,y2=n),c2(e,t)},r}function h6(e,t,r){r=tc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){c2(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){c2(e,t),typeof n!="function"&&(bu===null?bu=new Set([this]):bu.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function mD(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new OJ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=qJ.bind(null,e,t,r),t.then(e,e))}function pD(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gD(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=tc(-1,1),t.tag=2,yu(r,t,1))),r.lanes|=1),e)}var DJ=jc.ReactCurrentOwner,Cs=!1;function Qa(e,t,r,n){t.child=e===null?z8(t,null,r,n):om(t,e.child,r,n)}function vD(e,t,r,n,a){r=r.render;var s=t.ref;return Ph(t,a),n=qE(e,t,r,n,s,a),r=GE(),e!==null&&!Cs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,dc(e,t,a)):(zr&&r&&RE(t),t.flags|=1,Qa(e,t,n,a),t.child)}function xD(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!nT(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,m6(e,t,s,n,a)):(e=qy(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:bg,r(o,n)&&e.ref===t.ref)return dc(e,t,a)}return t.flags|=1,e=wu(s,n),e.ref=t.ref,e.return=t,t.child=e}function m6(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(bg(s,n)&&e.ref===t.ref)if(Cs=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Cs=!0);else return t.lanes=e.lanes,dc(e,t,a)}return u2(e,t,r,n,a)}function p6(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ar(bh,Xs),Xs|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ar(bh,Xs),Xs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ar(bh,Xs),Xs|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Ar(bh,Xs),Xs|=n;return Qa(e,t,a,r),t.child}function g6(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function u2(e,t,r,n,a){var s=Ps(r)?qd:Ta.current;return s=sm(t,s),Ph(t,a),r=qE(e,t,r,n,s,a),n=GE(),e!==null&&!Cs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,dc(e,t,a)):(zr&&n&&RE(t),t.flags|=1,Qa(e,t,r,a),t.child)}function yD(e,t,r,n,a){if(Ps(r)){var s=!0;v1(t)}else s=!1;if(Ph(t,a),t.stateNode===null)Vy(e,t),d6(t,r,n),l2(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Bi(u):(u=Ps(r)?qd:Ta.current,u=sm(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&hD(t,o,n,u),zc=!1;var h=t.memoizedState;o.state=h,w1(t,n,o,a),c=t.memoizedState,l!==n||h!==c||As.current||zc?(typeof d=="function"&&(o2(t,r,d,n),c=t.memoizedState),(l=zc||fD(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,W8(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:so(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Bi(c):(c=Ps(r)?qd:Ta.current,c=sm(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&hD(t,o,n,c),zc=!1,h=t.memoizedState,o.state=h,w1(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||As.current||zc?(typeof m=="function"&&(o2(t,r,m,n),g=t.memoizedState),(u=zc||fD(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return d2(e,t,r,n,s,a)}function d2(e,t,r,n,a,s){g6(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&aD(t,r,!1),dc(e,t,s);n=t.stateNode,DJ.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=om(t,e.child,null,s),t.child=om(t,null,l,s)):Qa(e,t,l,s),t.memoizedState=n.state,a&&aD(t,r,!0),t.child}function v6(e){var t=e.stateNode;t.pendingContext?nD(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nD(e,t.context,!1),zE(e,t.containerInfo)}function bD(e,t,r,n,a){return im(),ME(a),t.flags|=256,Qa(e,t,r,n),t.child}var f2={dehydrated:null,treeContext:null,retryLane:0};function h2(e){return{baseLanes:e,cachePool:null,transitions:null}}function x6(e,t,r){var n=t.pendingProps,a=qr.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ar(qr,a&1),e===null)return s2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=R_(o,n,0,null),e=Id(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=h2(r),t.memoizedState=f2,e):XE(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return RJ(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=wu(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=wu(l,s):(s=Id(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?h2(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=f2,n}return s=e.child,e=s.sibling,n=wu(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function XE(e,t){return t=R_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qx(e,t,r,n){return n!==null&&ME(n),om(t,e.child,null,r),e=XE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function RJ(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=tS(Error(Ge(422))),qx(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=R_({mode:"visible",children:n.children},a,0,null),s=Id(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&om(t,e.child,null,o),t.child.memoizedState=h2(o),t.memoizedState=f2,s);if(!(t.mode&1))return qx(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Ge(419)),n=tS(s,n,void 0),qx(e,t,o,n)}if(l=(o&e.childLanes)!==0,Cs||l){if(n=qn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,uc(e,a),jo(n,e,a,-1))}return rT(),n=tS(Error(Ge(421))),qx(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=GJ.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ai=xu(a.nextSibling),si=t,zr=!0,po=null,e!==null&&(Ti[Ai++]=Kl,Ti[Ai++]=Yl,Ti[Ai++]=Gd,Kl=e.id,Yl=e.overflow,Gd=t),t=XE(t,n.children),t.flags|=4096,t)}function _D(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),i2(e.return,t,r)}function rS(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function y6(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Qa(e,t,n.children,r),n=qr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_D(e,r,t);else if(e.tag===19)_D(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ar(qr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&j1(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),rS(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&j1(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}rS(t,!0,r,null,s);break;case"together":rS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ge(153));if(t.child!==null){for(e=t.child,r=wu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=wu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function FJ(e,t,r){switch(t.tag){case 3:v6(t),im();break;case 5:H8(t);break;case 1:Ps(t.type)&&v1(t);break;case 4:zE(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ar(b1,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ar(qr,qr.current&1),t.flags|=128,null):r&t.child.childLanes?x6(e,t,r):(Ar(qr,qr.current&1),e=dc(e,t,r),e!==null?e.sibling:null);Ar(qr,qr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return y6(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ar(qr,qr.current),n)break;return null;case 22:case 23:return t.lanes=0,p6(e,t,r)}return dc(e,t,r)}var b6,m2,_6,w6;b6=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};m2=function(){};_6=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,xd(ul.current);var s=null;switch(r){case"input":a=MN(e,a),n=MN(e,n),s=[];break;case"select":a=Yr({},a,{value:void 0}),n=Yr({},n,{value:void 0}),s=[];break;case"textarea":a=$N(e,a),n=$N(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=p1)}UN(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hg.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hg.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Mr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};w6=function(e,t,r,n){r!==n&&(t.flags|=4)};function Zp(e,t){if(!zr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ma(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function MJ(e,t,r){var n=t.pendingProps;switch(FE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ma(t),null;case 1:return Ps(t.type)&&g1(),ma(t),null;case 3:return n=t.stateNode,lm(),$r(As),$r(Ta),WE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,po!==null&&(w2(po),po=null))),m2(e,t),ma(t),null;case 5:VE(t);var a=xd(Ng.current);if(r=t.type,e!==null&&t.stateNode!=null)_6(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ge(166));return ma(t),null}if(e=xd(ul.current),Wx(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Qo]=t,n[jg]=s,e=(t.mode&1)!==0,r){case"dialog":Mr("cancel",n),Mr("close",n);break;case"iframe":case"object":case"embed":Mr("load",n);break;case"video":case"audio":for(a=0;a<N0.length;a++)Mr(N0[a],n);break;case"source":Mr("error",n);break;case"img":case"image":case"link":Mr("error",n),Mr("load",n);break;case"details":Mr("toggle",n);break;case"input":A4(n,s),Mr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Mr("invalid",n);break;case"textarea":O4(n,s),Mr("invalid",n)}UN(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Vx(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Vx(n.textContent,l,e),a=["children",""+l]):hg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Mr("scroll",n)}switch(r){case"input":Fx(n),P4(n,s,!0);break;case"textarea":Fx(n),D4(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=p1)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=X$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Qo]=t,e[jg]=n,b6(e,t,!1,!1),t.stateNode=e;e:{switch(o=zN(r,n),r){case"dialog":Mr("cancel",e),Mr("close",e),a=n;break;case"iframe":case"object":case"embed":Mr("load",e),a=n;break;case"video":case"audio":for(a=0;a<N0.length;a++)Mr(N0[a],e);a=n;break;case"source":Mr("error",e),a=n;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),a=n;break;case"details":Mr("toggle",e),a=n;break;case"input":A4(e,n),a=MN(e,n),Mr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Yr({},n,{value:void 0}),Mr("invalid",e);break;case"textarea":O4(e,n),a=$N(e,n),Mr("invalid",e);break;default:a=n}UN(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Z$(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Q$(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&mg(e,c):typeof c=="number"&&mg(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hg.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Mr("scroll",e):c!=null&&bE(e,s,c,o))}switch(r){case"input":Fx(e),P4(e,n,!1);break;case"textarea":Fx(e),D4(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Tu(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Ch(e,!!n.multiple,s,!1):n.defaultValue!=null&&Ch(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=p1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ma(t),null;case 6:if(e&&t.stateNode!=null)w6(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ge(166));if(r=xd(Ng.current),xd(ul.current),Wx(t)){if(n=t.stateNode,r=t.memoizedProps,n[Qo]=t,(s=n.nodeValue!==r)&&(e=si,e!==null))switch(e.tag){case 3:Vx(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vx(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qo]=t,t.stateNode=n}return ma(t),null;case 13:if($r(qr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(zr&&ai!==null&&t.mode&1&&!(t.flags&128))B8(),im(),t.flags|=98560,s=!1;else if(s=Wx(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Ge(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ge(317));s[Qo]=t}else im(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ma(t),s=!1}else po!==null&&(w2(po),po=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||qr.current&1?Dn===0&&(Dn=3):rT())),t.updateQueue!==null&&(t.flags|=4),ma(t),null);case 4:return lm(),m2(e,t),e===null&&_g(t.stateNode.containerInfo),ma(t),null;case 10:return $E(t.type._context),ma(t),null;case 17:return Ps(t.type)&&g1(),ma(t),null;case 19:if($r(qr),s=t.memoizedState,s===null)return ma(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Zp(s,!1);else{if(Dn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=j1(e),o!==null){for(t.flags|=128,Zp(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ar(qr,qr.current&1|2),t.child}e=e.sibling}s.tail!==null&&dn()>um&&(t.flags|=128,n=!0,Zp(s,!1),t.lanes=4194304)}else{if(!n)if(e=j1(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Zp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!zr)return ma(t),null}else 2*dn()-s.renderingStartTime>um&&r!==1073741824&&(t.flags|=128,n=!0,Zp(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=dn(),t.sibling=null,r=qr.current,Ar(qr,n?r&1|2:r&1),t):(ma(t),null);case 22:case 23:return tT(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Xs&1073741824&&(ma(t),t.subtreeFlags&6&&(t.flags|=8192)):ma(t),null;case 24:return null;case 25:return null}throw Error(Ge(156,t.tag))}function IJ(e,t){switch(FE(t),t.tag){case 1:return Ps(t.type)&&g1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lm(),$r(As),$r(Ta),WE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return VE(t),null;case 13:if($r(qr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ge(340));im()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $r(qr),null;case 4:return lm(),null;case 10:return $E(t.type._context),null;case 22:case 23:return tT(),null;case 24:return null;default:return null}}var Gx=!1,_a=!1,LJ=typeof WeakSet=="function"?WeakSet:Set,mt=null;function yh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Jr(e,t,n)}else r.current=null}function p2(e,t,r){try{r()}catch(n){Jr(e,t,n)}}var wD=!1;function $J(e,t){if(JN=f1,e=C8(),DE(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===s&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ZN={focusedElem:e,selectionRange:r},f1=!1,mt=t;mt!==null;)if(t=mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,mt=e;else for(;mt!==null;){t=mt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:so(t.type,p),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ge(163))}}catch(j){Jr(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,mt=e;break}mt=t.return}return g=wD,wD=!1,g}function U0(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&p2(t,r,s)}a=a.next}while(a!==n)}}function O_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function g2(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function j6(e){var t=e.alternate;t!==null&&(e.alternate=null,j6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qo],delete t[jg],delete t[r2],delete t[_J],delete t[wJ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function S6(e){return e.tag===5||e.tag===3||e.tag===4}function jD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||S6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function v2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=p1));else if(n!==4&&(e=e.child,e!==null))for(v2(e,t,r),e=e.sibling;e!==null;)v2(e,t,r),e=e.sibling}function x2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(x2(e,t,r),e=e.sibling;e!==null;)x2(e,t,r),e=e.sibling}var Zn=null,co=!1;function Rc(e,t,r){for(r=r.child;r!==null;)N6(e,t,r),r=r.sibling}function N6(e,t,r){if(cl&&typeof cl.onCommitFiberUnmount=="function")try{cl.onCommitFiberUnmount(S_,r)}catch{}switch(r.tag){case 5:_a||yh(r,t);case 6:var n=Zn,a=co;Zn=null,Rc(e,t,r),Zn=n,co=a,Zn!==null&&(co?(e=Zn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Zn.removeChild(r.stateNode));break;case 18:Zn!==null&&(co?(e=Zn,r=r.stateNode,e.nodeType===8?Yj(e.parentNode,r):e.nodeType===1&&Yj(e,r),xg(e)):Yj(Zn,r.stateNode));break;case 4:n=Zn,a=co,Zn=r.stateNode.containerInfo,co=!0,Rc(e,t,r),Zn=n,co=a;break;case 0:case 11:case 14:case 15:if(!_a&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&p2(r,t,o),a=a.next}while(a!==n)}Rc(e,t,r);break;case 1:if(!_a&&(yh(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Jr(r,t,l)}Rc(e,t,r);break;case 21:Rc(e,t,r);break;case 22:r.mode&1?(_a=(n=_a)||r.memoizedState!==null,Rc(e,t,r),_a=n):Rc(e,t,r);break;default:Rc(e,t,r)}}function SD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new LJ),t.forEach(function(n){var a=KJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Zi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Zn=l.stateNode,co=!1;break e;case 3:Zn=l.stateNode.containerInfo,co=!0;break e;case 4:Zn=l.stateNode.containerInfo,co=!0;break e}l=l.return}if(Zn===null)throw Error(Ge(160));N6(s,o,a),Zn=null,co=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Jr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)k6(t,e),t=t.sibling}function k6(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zi(t,e),$o(e),n&4){try{U0(3,e,e.return),O_(3,e)}catch(p){Jr(e,e.return,p)}try{U0(5,e,e.return)}catch(p){Jr(e,e.return,p)}}break;case 1:Zi(t,e),$o(e),n&512&&r!==null&&yh(r,r.return);break;case 5:if(Zi(t,e),$o(e),n&512&&r!==null&&yh(r,r.return),e.flags&32){var a=e.stateNode;try{mg(a,"")}catch(p){Jr(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&K$(a,s),zN(l,o);var u=zN(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?Z$(a,f):d==="dangerouslySetInnerHTML"?Q$(a,f):d==="children"?mg(a,f):bE(a,d,f,u)}switch(l){case"input":IN(a,s);break;case"textarea":Y$(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ch(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ch(a,!!s.multiple,s.defaultValue,!0):Ch(a,!!s.multiple,s.multiple?[]:"",!1))}a[jg]=s}catch(p){Jr(e,e.return,p)}}break;case 6:if(Zi(t,e),$o(e),n&4){if(e.stateNode===null)throw Error(Ge(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(p){Jr(e,e.return,p)}}break;case 3:if(Zi(t,e),$o(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{xg(t.containerInfo)}catch(p){Jr(e,e.return,p)}break;case 4:Zi(t,e),$o(e);break;case 13:Zi(t,e),$o(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(ZE=dn())),n&4&&SD(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(_a=(u=_a)||d,Zi(t,e),_a=u):Zi(t,e),$o(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(mt=e,d=e.child;d!==null;){for(f=mt=d;mt!==null;){switch(h=mt,m=h.child,h.tag){case 0:case 11:case 14:case 15:U0(4,h,h.return);break;case 1:yh(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Jr(n,r,p)}}break;case 5:yh(h,h.return);break;case 22:if(h.memoizedState!==null){kD(f);continue}}m!==null?(m.return=h,mt=m):kD(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=J$("display",o))}catch(p){Jr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Jr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zi(t,e),$o(e),n&4&&SD(e);break;case 21:break;default:Zi(t,e),$o(e)}}function $o(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(S6(r)){var n=r;break e}r=r.return}throw Error(Ge(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(mg(a,""),n.flags&=-33);var s=jD(e);x2(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=jD(e);v2(e,l,o);break;default:throw Error(Ge(161))}}catch(c){Jr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function BJ(e,t,r){mt=e,C6(e)}function C6(e,t,r){for(var n=(e.mode&1)!==0;mt!==null;){var a=mt,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Gx;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||_a;l=Gx;var u=_a;if(Gx=o,(_a=c)&&!u)for(mt=a;mt!==null;)o=mt,c=o.child,o.tag===22&&o.memoizedState!==null?CD(a):c!==null?(c.return=o,mt=c):CD(a);for(;s!==null;)mt=s,C6(s),s=s.sibling;mt=a,Gx=l,_a=u}ND(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,mt=s):ND(e)}}function ND(e){for(;mt!==null;){var t=mt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_a||O_(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!_a)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:so(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&cD(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}cD(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ge(163))}_a||t.flags&512&&g2(t)}catch(h){Jr(t,t.return,h)}}if(t===e){mt=null;break}if(r=t.sibling,r!==null){r.return=t.return,mt=r;break}mt=t.return}}function kD(e){for(;mt!==null;){var t=mt;if(t===e){mt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,mt=r;break}mt=t.return}}function CD(e){for(;mt!==null;){var t=mt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{O_(4,t)}catch(c){Jr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Jr(t,a,c)}}var s=t.return;try{g2(t)}catch(c){Jr(t,s,c)}break;case 5:var o=t.return;try{g2(t)}catch(c){Jr(t,o,c)}}}catch(c){Jr(t,t.return,c)}if(t===e){mt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,mt=l;break}mt=t.return}}var UJ=Math.ceil,k1=jc.ReactCurrentDispatcher,QE=jc.ReactCurrentOwner,Mi=jc.ReactCurrentBatchConfig,rr=0,qn=null,_n=null,ra=0,Xs=0,bh=Uu(0),Dn=0,Tg=null,Yd=0,D_=0,JE=0,z0=null,ks=null,ZE=0,um=1/0,zl=null,C1=!1,y2=null,bu=null,Kx=!1,ou=null,E1=0,V0=0,b2=null,Wy=-1,Hy=0;function us(){return rr&6?dn():Wy!==-1?Wy:Wy=dn()}function _u(e){return e.mode&1?rr&2&&ra!==0?ra&-ra:SJ.transition!==null?(Hy===0&&(Hy=d8()),Hy):(e=br,e!==0||(e=window.event,e=e===void 0?16:x8(e.type)),e):1}function jo(e,t,r,n){if(50<V0)throw V0=0,b2=null,Error(Ge(185));$v(e,r,n),(!(rr&2)||e!==qn)&&(e===qn&&(!(rr&2)&&(D_|=r),Dn===4&&qc(e,ra)),Os(e,n),r===1&&rr===0&&!(t.mode&1)&&(um=dn()+500,T_&&zu()))}function Os(e,t){var r=e.callbackNode;SQ(e,t);var n=d1(e,e===qn?ra:0);if(n===0)r!==null&&M4(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&M4(r),t===1)e.tag===0?jJ(ED.bind(null,e)):I8(ED.bind(null,e)),yJ(function(){!(rr&6)&&zu()}),r=null;else{switch(f8(n)){case 1:r=NE;break;case 4:r=c8;break;case 16:r=u1;break;case 536870912:r=u8;break;default:r=u1}r=F6(r,E6.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function E6(e,t){if(Wy=-1,Hy=0,rr&6)throw Error(Ge(327));var r=e.callbackNode;if(Oh()&&e.callbackNode!==r)return null;var n=d1(e,e===qn?ra:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=T1(e,n);else{t=n;var a=rr;rr|=2;var s=A6();(qn!==e||ra!==t)&&(zl=null,um=dn()+500,Md(e,t));do try{WJ();break}catch(l){T6(e,l)}while(!0);LE(),k1.current=s,rr=a,_n!==null?t=0:(qn=null,ra=0,t=Dn)}if(t!==0){if(t===2&&(a=GN(e),a!==0&&(n=a,t=_2(e,a))),t===1)throw r=Tg,Md(e,0),qc(e,n),Os(e,dn()),r;if(t===6)qc(e,n);else{if(a=e.current.alternate,!(n&30)&&!zJ(a)&&(t=T1(e,n),t===2&&(s=GN(e),s!==0&&(n=s,t=_2(e,s))),t===1))throw r=Tg,Md(e,0),qc(e,n),Os(e,dn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ge(345));case 2:sd(e,ks,zl);break;case 3:if(qc(e,n),(n&130023424)===n&&(t=ZE+500-dn(),10<t)){if(d1(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){us(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=t2(sd.bind(null,e,ks,zl),t);break}sd(e,ks,zl);break;case 4:if(qc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-wo(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=dn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*UJ(n/1960))-n,10<n){e.timeoutHandle=t2(sd.bind(null,e,ks,zl),n);break}sd(e,ks,zl);break;case 5:sd(e,ks,zl);break;default:throw Error(Ge(329))}}}return Os(e,dn()),e.callbackNode===r?E6.bind(null,e):null}function _2(e,t){var r=z0;return e.current.memoizedState.isDehydrated&&(Md(e,t).flags|=256),e=T1(e,t),e!==2&&(t=ks,ks=r,t!==null&&w2(t)),e}function w2(e){ks===null?ks=e:ks.push.apply(ks,e)}function zJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!ko(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qc(e,t){for(t&=~JE,t&=~D_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wo(t),n=1<<r;e[r]=-1,t&=~n}}function ED(e){if(rr&6)throw Error(Ge(327));Oh();var t=d1(e,0);if(!(t&1))return Os(e,dn()),null;var r=T1(e,t);if(e.tag!==0&&r===2){var n=GN(e);n!==0&&(t=n,r=_2(e,n))}if(r===1)throw r=Tg,Md(e,0),qc(e,t),Os(e,dn()),r;if(r===6)throw Error(Ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sd(e,ks,zl),Os(e,dn()),null}function eT(e,t){var r=rr;rr|=1;try{return e(t)}finally{rr=r,rr===0&&(um=dn()+500,T_&&zu())}}function Xd(e){ou!==null&&ou.tag===0&&!(rr&6)&&Oh();var t=rr;rr|=1;var r=Mi.transition,n=br;try{if(Mi.transition=null,br=1,e)return e()}finally{br=n,Mi.transition=r,rr=t,!(rr&6)&&zu()}}function tT(){Xs=bh.current,$r(bh)}function Md(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,xJ(r)),_n!==null)for(r=_n.return;r!==null;){var n=r;switch(FE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&g1();break;case 3:lm(),$r(As),$r(Ta),WE();break;case 5:VE(n);break;case 4:lm();break;case 13:$r(qr);break;case 19:$r(qr);break;case 10:$E(n.type._context);break;case 22:case 23:tT()}r=r.return}if(qn=e,_n=e=wu(e.current,null),ra=Xs=t,Dn=0,Tg=null,JE=D_=Yd=0,ks=z0=null,vd!==null){for(t=0;t<vd.length;t++)if(r=vd[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}vd=null}return e}function T6(e,t){do{var r=_n;try{if(LE(),Uy.current=N1,S1){for(var n=Kr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}S1=!1}if(Kd=0,zn=Pn=Kr=null,B0=!1,kg=0,QE.current=null,r===null||r.return===null){Dn=1,Tg=t,_n=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=ra,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=pD(o);if(m!==null){m.flags&=-257,gD(m,o,l,s,t),m.mode&1&&mD(s,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){mD(s,u,t),rT();break e}c=Error(Ge(426))}}else if(zr&&l.mode&1){var v=pD(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),gD(v,o,l,s,t),ME(cm(c,l));break e}}s=c=cm(c,l),Dn!==4&&(Dn=2),z0===null?z0=[s]:z0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=f6(s,c,t);lD(s,y);break e;case 1:l=c;var b=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(bu===null||!bu.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=h6(s,l,t);lD(s,j);break e}}s=s.return}while(s!==null)}O6(r)}catch(w){t=w,_n===r&&r!==null&&(_n=r=r.return);continue}break}while(!0)}function A6(){var e=k1.current;return k1.current=N1,e===null?N1:e}function rT(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),qn===null||!(Yd&268435455)&&!(D_&268435455)||qc(qn,ra)}function T1(e,t){var r=rr;rr|=2;var n=A6();(qn!==e||ra!==t)&&(zl=null,Md(e,t));do try{VJ();break}catch(a){T6(e,a)}while(!0);if(LE(),rr=r,k1.current=n,_n!==null)throw Error(Ge(261));return qn=null,ra=0,Dn}function VJ(){for(;_n!==null;)P6(_n)}function WJ(){for(;_n!==null&&!pQ();)P6(_n)}function P6(e){var t=R6(e.alternate,e,Xs);e.memoizedProps=e.pendingProps,t===null?O6(e):_n=t,QE.current=null}function O6(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=IJ(r,t),r!==null){r.flags&=32767,_n=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dn=6,_n=null;return}}else if(r=MJ(r,t,Xs),r!==null){_n=r;return}if(t=t.sibling,t!==null){_n=t;return}_n=t=e}while(t!==null);Dn===0&&(Dn=5)}function sd(e,t,r){var n=br,a=Mi.transition;try{Mi.transition=null,br=1,HJ(e,t,r,n)}finally{Mi.transition=a,br=n}return null}function HJ(e,t,r,n){do Oh();while(ou!==null);if(rr&6)throw Error(Ge(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ge(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(NQ(e,s),e===qn&&(_n=qn=null,ra=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Kx||(Kx=!0,F6(u1,function(){return Oh(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Mi.transition,Mi.transition=null;var o=br;br=1;var l=rr;rr|=4,QE.current=null,$J(e,r),k6(r,e),dJ(ZN),f1=!!JN,ZN=JN=null,e.current=r,BJ(r),gQ(),rr=l,br=o,Mi.transition=s}else e.current=r;if(Kx&&(Kx=!1,ou=e,E1=a),s=e.pendingLanes,s===0&&(bu=null),yQ(r.stateNode),Os(e,dn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(C1)throw C1=!1,e=y2,y2=null,e;return E1&1&&e.tag!==0&&Oh(),s=e.pendingLanes,s&1?e===b2?V0++:(V0=0,b2=e):V0=0,zu(),null}function Oh(){if(ou!==null){var e=f8(E1),t=Mi.transition,r=br;try{if(Mi.transition=null,br=16>e?16:e,ou===null)var n=!1;else{if(e=ou,ou=null,E1=0,rr&6)throw Error(Ge(331));var a=rr;for(rr|=4,mt=e.current;mt!==null;){var s=mt,o=s.child;if(mt.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(mt=u;mt!==null;){var d=mt;switch(d.tag){case 0:case 11:case 15:U0(8,d,s)}var f=d.child;if(f!==null)f.return=d,mt=f;else for(;mt!==null;){d=mt;var h=d.sibling,m=d.return;if(j6(d),d===u){mt=null;break}if(h!==null){h.return=m,mt=h;break}mt=m}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}mt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,mt=o;else e:for(;mt!==null;){if(s=mt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:U0(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,mt=y;break e}mt=s.return}}var b=e.current;for(mt=b;mt!==null;){o=mt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,mt=_;else e:for(o=b;mt!==null;){if(l=mt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:O_(9,l)}}catch(w){Jr(l,l.return,w)}if(l===o){mt=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,mt=j;break e}mt=l.return}}if(rr=a,zu(),cl&&typeof cl.onPostCommitFiberRoot=="function")try{cl.onPostCommitFiberRoot(S_,e)}catch{}n=!0}return n}finally{br=r,Mi.transition=t}}return!1}function TD(e,t,r){t=cm(r,t),t=f6(e,t,1),e=yu(e,t,1),t=us(),e!==null&&($v(e,1,t),Os(e,t))}function Jr(e,t,r){if(e.tag===3)TD(e,e,r);else for(;t!==null;){if(t.tag===3){TD(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bu===null||!bu.has(n))){e=cm(r,e),e=h6(t,e,1),t=yu(t,e,1),e=us(),t!==null&&($v(t,1,e),Os(t,e));break}}t=t.return}}function qJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=us(),e.pingedLanes|=e.suspendedLanes&r,qn===e&&(ra&r)===r&&(Dn===4||Dn===3&&(ra&130023424)===ra&&500>dn()-ZE?Md(e,0):JE|=r),Os(e,t)}function D6(e,t){t===0&&(e.mode&1?(t=Lx,Lx<<=1,!(Lx&130023424)&&(Lx=4194304)):t=1);var r=us();e=uc(e,t),e!==null&&($v(e,t,r),Os(e,r))}function GJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),D6(e,r)}function KJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ge(314))}n!==null&&n.delete(t),D6(e,r)}var R6;R6=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||As.current)Cs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Cs=!1,FJ(e,t,r);Cs=!!(e.flags&131072)}else Cs=!1,zr&&t.flags&1048576&&L8(t,y1,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vy(e,t),e=t.pendingProps;var a=sm(t,Ta.current);Ph(t,r),a=qE(null,t,n,e,a,r);var s=GE();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ps(n)?(s=!0,v1(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,UE(t),a.updater=P_,t.stateNode=a,a._reactInternals=t,l2(t,n,e,r),t=d2(null,t,n,!0,s,r)):(t.tag=0,zr&&s&&RE(t),Qa(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vy(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=XJ(n),e=so(n,e),a){case 0:t=u2(null,t,n,e,r);break e;case 1:t=yD(null,t,n,e,r);break e;case 11:t=vD(null,t,n,e,r);break e;case 14:t=xD(null,t,n,so(n.type,e),r);break e}throw Error(Ge(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:so(n,a),u2(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:so(n,a),yD(e,t,n,a,r);case 3:e:{if(v6(t),e===null)throw Error(Ge(387));n=t.pendingProps,s=t.memoizedState,a=s.element,W8(e,t),w1(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=cm(Error(Ge(423)),t),t=bD(e,t,n,r,a);break e}else if(n!==a){a=cm(Error(Ge(424)),t),t=bD(e,t,n,r,a);break e}else for(ai=xu(t.stateNode.containerInfo.firstChild),si=t,zr=!0,po=null,r=z8(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(im(),n===a){t=dc(e,t,r);break e}Qa(e,t,n,r)}t=t.child}return t;case 5:return H8(t),e===null&&s2(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,e2(n,a)?o=null:s!==null&&e2(n,s)&&(t.flags|=32),g6(e,t),Qa(e,t,o,r),t.child;case 6:return e===null&&s2(t),null;case 13:return x6(e,t,r);case 4:return zE(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=om(t,null,n,r):Qa(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:so(n,a),vD(e,t,n,a,r);case 7:return Qa(e,t,t.pendingProps,r),t.child;case 8:return Qa(e,t,t.pendingProps.children,r),t.child;case 12:return Qa(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Ar(b1,n._currentValue),n._currentValue=o,s!==null)if(ko(s.value,o)){if(s.children===a.children&&!As.current){t=dc(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=tc(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),i2(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ge(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),i2(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Qa(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ph(t,r),a=Bi(a),n=n(a),t.flags|=1,Qa(e,t,n,r),t.child;case 14:return n=t.type,a=so(n,t.pendingProps),a=so(n.type,a),xD(e,t,n,a,r);case 15:return m6(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:so(n,a),Vy(e,t),t.tag=1,Ps(n)?(e=!0,v1(t)):e=!1,Ph(t,r),d6(t,n,a),l2(t,n,a,r),d2(null,t,n,!0,e,r);case 19:return y6(e,t,r);case 22:return p6(e,t,r)}throw Error(Ge(156,t.tag))};function F6(e,t){return l8(e,t)}function YJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(e,t,r,n){return new YJ(e,t,r,n)}function nT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function XJ(e){if(typeof e=="function")return nT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wE)return 11;if(e===jE)return 14}return 2}function wu(e,t){var r=e.alternate;return r===null?(r=Ri(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qy(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")nT(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case uh:return Id(r.children,a,s,t);case _E:o=8,a|=8;break;case ON:return e=Ri(12,r,t,a|2),e.elementType=ON,e.lanes=s,e;case DN:return e=Ri(13,r,t,a),e.elementType=DN,e.lanes=s,e;case RN:return e=Ri(19,r,t,a),e.elementType=RN,e.lanes=s,e;case H$:return R_(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V$:o=10;break e;case W$:o=9;break e;case wE:o=11;break e;case jE:o=14;break e;case Uc:o=16,n=null;break e}throw Error(Ge(130,e==null?e:typeof e,""))}return t=Ri(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Id(e,t,r,n){return e=Ri(7,e,n,t),e.lanes=r,e}function R_(e,t,r,n){return e=Ri(22,e,n,t),e.elementType=H$,e.lanes=r,e.stateNode={isHidden:!1},e}function nS(e,t,r){return e=Ri(6,e,null,t),e.lanes=r,e}function aS(e,t,r){return t=Ri(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function QJ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lj(0),this.expirationTimes=Lj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lj(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function aT(e,t,r,n,a,s,o,l,c){return e=new QJ(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ri(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},UE(s),e}function JJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ch,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function M6(e){if(!e)return Au;e=e._reactInternals;e:{if(wf(e)!==e||e.tag!==1)throw Error(Ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ps(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ge(171))}if(e.tag===1){var r=e.type;if(Ps(r))return M8(e,r,t)}return t}function I6(e,t,r,n,a,s,o,l,c){return e=aT(r,n,!0,e,a,s,o,l,c),e.context=M6(null),r=e.current,n=us(),a=_u(r),s=tc(n,a),s.callback=t??null,yu(r,s,a),e.current.lanes=a,$v(e,a,n),Os(e,n),e}function F_(e,t,r,n){var a=t.current,s=us(),o=_u(a);return r=M6(r),t.context===null?t.context=r:t.pendingContext=r,t=tc(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=yu(a,t,o),e!==null&&(jo(e,a,o,s),By(e,a,o)),o}function A1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function AD(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sT(e,t){AD(e,t),(e=e.alternate)&&AD(e,t)}function ZJ(){return null}var L6=typeof reportError=="function"?reportError:function(e){console.error(e)};function iT(e){this._internalRoot=e}M_.prototype.render=iT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ge(409));F_(e,t,null,null)};M_.prototype.unmount=iT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xd(function(){F_(null,e,null,null)}),t[cc]=null}};function M_(e){this._internalRoot=e}M_.prototype.unstable_scheduleHydration=function(e){if(e){var t=p8();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Hc.length&&t!==0&&t<Hc[r].priority;r++);Hc.splice(r,0,e),r===0&&v8(e)}};function oT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function I_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function PD(){}function eZ(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=A1(o);s.call(u)}}var o=I6(t,n,e,0,null,!1,!1,"",PD);return e._reactRootContainer=o,e[cc]=o.current,_g(e.nodeType===8?e.parentNode:e),Xd(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=A1(c);l.call(u)}}var c=aT(e,0,!1,null,null,!1,!1,"",PD);return e._reactRootContainer=c,e[cc]=c.current,_g(e.nodeType===8?e.parentNode:e),Xd(function(){F_(t,c,r,n)}),c}function L_(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=A1(o);l.call(c)}}F_(t,o,e,a)}else o=eZ(r,t,e,a,n);return A1(o)}h8=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=S0(t.pendingLanes);r!==0&&(kE(t,r|1),Os(t,dn()),!(rr&6)&&(um=dn()+500,zu()))}break;case 13:Xd(function(){var n=uc(e,1);if(n!==null){var a=us();jo(n,e,1,a)}}),sT(e,1)}};CE=function(e){if(e.tag===13){var t=uc(e,134217728);if(t!==null){var r=us();jo(t,e,134217728,r)}sT(e,134217728)}};m8=function(e){if(e.tag===13){var t=_u(e),r=uc(e,t);if(r!==null){var n=us();jo(r,e,t,n)}sT(e,t)}};p8=function(){return br};g8=function(e,t){var r=br;try{return br=e,t()}finally{br=r}};WN=function(e,t,r){switch(t){case"input":if(IN(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=E_(n);if(!a)throw Error(Ge(90));G$(n),IN(n,a)}}}break;case"textarea":Y$(e,r);break;case"select":t=r.value,t!=null&&Ch(e,!!r.multiple,t,!1)}};r8=eT;n8=Xd;var tZ={usingClientEntryPoint:!1,Events:[Uv,mh,E_,e8,t8,eT]},e0={findFiberByHostInstance:gd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rZ={bundleType:e0.bundleType,version:e0.version,rendererPackageName:e0.rendererPackageName,rendererConfig:e0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=i8(e),e===null?null:e.stateNode},findFiberByHostInstance:e0.findFiberByHostInstance||ZJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yx.isDisabled&&Yx.supportsFiber)try{S_=Yx.inject(rZ),cl=Yx}catch{}}mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tZ;mi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oT(t))throw Error(Ge(200));return JJ(e,t,null,r)};mi.createRoot=function(e,t){if(!oT(e))throw Error(Ge(299));var r=!1,n="",a=L6;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=aT(e,1,!1,null,null,r,!1,n,a),e[cc]=t.current,_g(e.nodeType===8?e.parentNode:e),new iT(t)};mi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ge(188)):(e=Object.keys(e).join(","),Error(Ge(268,e)));return e=i8(t),e=e===null?null:e.stateNode,e};mi.flushSync=function(e){return Xd(e)};mi.hydrate=function(e,t,r){if(!I_(t))throw Error(Ge(200));return L_(null,e,t,!0,r)};mi.hydrateRoot=function(e,t,r){if(!oT(e))throw Error(Ge(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=L6;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=I6(t,null,e,1,r??null,a,!1,s,o),e[cc]=t.current,_g(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new M_(t)};mi.render=function(e,t,r){if(!I_(t))throw Error(Ge(200));return L_(null,e,t,!1,r)};mi.unmountComponentAtNode=function(e){if(!I_(e))throw Error(Ge(40));return e._reactRootContainer?(Xd(function(){L_(null,null,e,!1,function(){e._reactRootContainer=null,e[cc]=null})}),!0):!1};mi.unstable_batchedUpdates=eT;mi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!I_(r))throw Error(Ge(200));if(e==null||e._reactInternals===void 0)throw Error(Ge(38));return L_(e,t,r,!1,n)};mi.version="18.3.1-next-f1338f8080-20240426";function $6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($6)}catch(e){console.error(e)}}$6(),$$.exports=mi;var lp=$$.exports;const nZ=pr(lp);var B6,OD=lp;B6=OD.createRoot,OD.hydrateRoot;var Vv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qd=typeof window>"u"||"Deno"in globalThis;function Ns(){}function aZ(e,t){return typeof e=="function"?e(t):e}function j2(e){return typeof e=="number"&&e>=0&&e!==1/0}function U6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ju(e,t){return typeof e=="function"?e(t):e}function Ei(e,t){return typeof e=="function"?e(t):e}function DD(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==lT(o,t.options))return!1}else if(!Pg(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function RD(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Ag(t.options.mutationKey)!==Ag(s))return!1}else if(!Pg(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function lT(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ag)(e)}function Ag(e){return JSON.stringify(e,(t,r)=>N2(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Pg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Pg(e[r],t[r])):!1}function z6(e,t){if(e===t)return e;const r=FD(e)&&FD(t);if(r||N2(e)&&N2(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),o=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:s[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=z6(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function S2(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function FD(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function N2(e){if(!MD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!MD(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function MD(e){return Object.prototype.toString.call(e)==="[object Object]"}function sZ(e){return new Promise(t=>{setTimeout(t,e)})}function k2(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?z6(e,t):t}function iZ(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function oZ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var cT=Symbol();function V6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===cT?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function lZ(e,t){return typeof e=="function"?e(...t):!!e}var Cd,Jc,qh,y$,cZ=(y$=class extends Vv{constructor(){super();St(this,Cd);St(this,Jc);St(this,qh);gt(this,qh,t=>{if(!Qd&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){xe(this,Jc)||this.setEventListener(xe(this,qh))}onUnsubscribe(){var t;this.hasListeners()||((t=xe(this,Jc))==null||t.call(this),gt(this,Jc,void 0))}setEventListener(t){var r;gt(this,qh,t),(r=xe(this,Jc))==null||r.call(this),gt(this,Jc,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){xe(this,Cd)!==t&&(gt(this,Cd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof xe(this,Cd)=="boolean"?xe(this,Cd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Cd=new WeakMap,Jc=new WeakMap,qh=new WeakMap,y$),uT=new cZ,Gh,Zc,Kh,b$,uZ=(b$=class extends Vv{constructor(){super();St(this,Gh,!0);St(this,Zc);St(this,Kh);gt(this,Kh,t=>{if(!Qd&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){xe(this,Zc)||this.setEventListener(xe(this,Kh))}onUnsubscribe(){var t;this.hasListeners()||((t=xe(this,Zc))==null||t.call(this),gt(this,Zc,void 0))}setEventListener(t){var r;gt(this,Kh,t),(r=xe(this,Zc))==null||r.call(this),gt(this,Zc,t(this.setOnline.bind(this)))}setOnline(t){xe(this,Gh)!==t&&(gt(this,Gh,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return xe(this,Gh)}},Gh=new WeakMap,Zc=new WeakMap,Kh=new WeakMap,b$),P1=new uZ;function C2(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function dZ(e){return Math.min(1e3*2**e,3e4)}function W6(e){return(e??"online")==="online"?P1.isOnline():!0}var H6=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function sS(e){return e instanceof H6}function q6(e){let t=!1,r=0,n=!1,a;const s=C2(),o=p=>{var v;n||(h(new H6(p)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>uT.isFocused()&&(e.networkMode==="always"||P1.isOnline())&&e.canRun(),d=()=>W6(e.networkMode)&&e.canRun(),f=p=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,p),a==null||a(),s.resolve(p))},h=p=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,p),a==null||a(),s.reject(p))},m=()=>new Promise(p=>{var v;a=y=>{(n||u())&&p(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(n)return;let p;const v=r===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var S;if(n)return;const b=e.retry??(Qd?0:3),_=e.retryDelay??dZ,j=typeof _=="function"?_(r,y):_,w=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!w){h(y);return}r++,(S=e.onFail)==null||S.call(e,r,y),sZ(j).then(()=>u()?void 0:m()).then(()=>{t?h(y):g()})})};return{promise:s,cancel:o,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),s)}}var fZ=e=>setTimeout(e,0);function hZ(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=fZ;const s=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var ta=hZ(),Ed,_$,G6=(_$=class{constructor(){St(this,Ed)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),j2(this.gcTime)&&gt(this,Ed,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qd?1/0:5*60*1e3))}clearGcTimeout(){xe(this,Ed)&&(clearTimeout(xe(this,Ed)),gt(this,Ed,void 0))}},Ed=new WeakMap,_$),Yh,Td,Ci,Ad,va,Rv,Pd,oo,Ul,w$,mZ=(w$=class extends G6{constructor(t){super();St(this,oo);St(this,Yh);St(this,Td);St(this,Ci);St(this,Ad);St(this,va);St(this,Rv);St(this,Pd);gt(this,Pd,!1),gt(this,Rv,t.defaultOptions),this.setOptions(t.options),this.observers=[],gt(this,Ad,t.client),gt(this,Ci,xe(this,Ad).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,gt(this,Yh,pZ(this.options)),this.state=t.state??xe(this,Yh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=xe(this,va))==null?void 0:t.promise}setOptions(t){this.options={...xe(this,Rv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&xe(this,Ci).remove(this)}setData(t,r){const n=k2(this.state.data,t,this.options);return Xt(this,oo,Ul).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Xt(this,oo,Ul).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=xe(this,va))==null?void 0:n.promise;return(a=xe(this,va))==null||a.cancel(t),r?r.then(Ns).catch(Ns):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(xe(this,Yh))}isActive(){return this.observers.some(t=>Ei(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ju(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!U6(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=xe(this,va))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=xe(this,va))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),xe(this,Ci).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(xe(this,va)&&(xe(this,Pd)?xe(this,va).cancel({revert:!0}):xe(this,va).cancelRetry()),this.scheduleGc()),xe(this,Ci).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xt(this,oo,Ul).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(xe(this,va))return xe(this,va).continueRetry(),xe(this,va).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(gt(this,Pd,!0),n.signal)})},s=()=>{const h=V6(this.options,r),g=(()=>{const p={client:xe(this,Ad),queryKey:this.queryKey,meta:this.meta};return a(p),p})();return gt(this,Pd,!1),this.options.persister?this.options.persister(h,g,this):h(g)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:xe(this,Ad),state:this.state,fetchFn:s};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),gt(this,Td,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Xt(this,oo,Ul).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,g,p,v;sS(h)&&h.silent||Xt(this,oo,Ul).call(this,{type:"error",error:h}),sS(h)||((g=(m=xe(this,Ci).config).onError)==null||g.call(m,h,this),(v=(p=xe(this,Ci).config).onSettled)==null||v.call(p,this.state.data,h,this)),this.scheduleGc()};return gt(this,va,q6({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,g,p,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){c(y);return}(g=(m=xe(this,Ci).config).onSuccess)==null||g.call(m,h,this),(v=(p=xe(this,Ci).config).onSettled)==null||v.call(p,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Xt(this,oo,Ul).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Xt(this,oo,Ul).call(this,{type:"pause"})},onContinue:()=>{Xt(this,oo,Ul).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),xe(this,va).start()}},Yh=new WeakMap,Td=new WeakMap,Ci=new WeakMap,Ad=new WeakMap,va=new WeakMap,Rv=new WeakMap,Pd=new WeakMap,oo=new WeakSet,Ul=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...K6(n.data,this.options),fetchMeta:t.meta??null};case"success":return gt(this,Td,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return sS(a)&&a.revert&&xe(this,Td)?{...xe(this,Td),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ta.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),xe(this,Ci).notify({query:this,type:"updated",action:t})})},w$);function K6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:W6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function pZ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ko,j$,gZ=(j$=class extends Vv{constructor(t={}){super();St(this,Ko);this.config=t,gt(this,Ko,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??lT(a,r);let o=this.get(s);return o||(o=new mZ({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){xe(this,Ko).has(t.queryHash)||(xe(this,Ko).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=xe(this,Ko).get(t.queryHash);r&&(t.destroy(),r===t&&xe(this,Ko).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ta.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return xe(this,Ko).get(t)}getAll(){return[...xe(this,Ko).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>DD(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>DD(t,n)):r}notify(t){ta.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ta.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ta.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ko=new WeakMap,j$),Yo,Ya,Od,Xo,$c,S$,vZ=(S$=class extends G6{constructor(t){super();St(this,Xo);St(this,Yo);St(this,Ya);St(this,Od);this.mutationId=t.mutationId,gt(this,Ya,t.mutationCache),gt(this,Yo,[]),this.state=t.state||xZ(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){xe(this,Yo).includes(t)||(xe(this,Yo).push(t),this.clearGcTimeout(),xe(this,Ya).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){gt(this,Yo,xe(this,Yo).filter(r=>r!==t)),this.scheduleGc(),xe(this,Ya).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){xe(this,Yo).length||(this.state.status==="pending"?this.scheduleGc():xe(this,Ya).remove(this))}continue(){var t;return((t=xe(this,Od))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,l,c,u,d,f,h,m,g,p,v,y,b,_,j,w,S,N,C;const r=()=>{Xt(this,Xo,$c).call(this,{type:"continue"})};gt(this,Od,q6({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,E)=>{Xt(this,Xo,$c).call(this,{type:"failed",failureCount:k,error:E})},onPause:()=>{Xt(this,Xo,$c).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>xe(this,Ya).canRun(this)}));const n=this.state.status==="pending",a=!xe(this,Od).canStart();try{if(n)r();else{Xt(this,Xo,$c).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(s=xe(this,Ya).config).onMutate)==null?void 0:o.call(s,t,this));const E=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));E!==this.state.context&&Xt(this,Xo,$c).call(this,{type:"pending",context:E,variables:t,isPaused:a})}const k=await xe(this,Od).start();return await((d=(u=xe(this,Ya).config).onSuccess)==null?void 0:d.call(u,k,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,k,t,this.state.context)),await((g=(m=xe(this,Ya).config).onSettled)==null?void 0:g.call(m,k,null,this.state.variables,this.state.context,this)),await((v=(p=this.options).onSettled)==null?void 0:v.call(p,k,null,t,this.state.context)),Xt(this,Xo,$c).call(this,{type:"success",data:k}),k}catch(k){try{throw await((b=(y=xe(this,Ya).config).onError)==null?void 0:b.call(y,k,t,this.state.context,this)),await((j=(_=this.options).onError)==null?void 0:j.call(_,k,t,this.state.context)),await((S=(w=xe(this,Ya).config).onSettled)==null?void 0:S.call(w,void 0,k,this.state.variables,this.state.context,this)),await((C=(N=this.options).onSettled)==null?void 0:C.call(N,void 0,k,t,this.state.context)),k}finally{Xt(this,Xo,$c).call(this,{type:"error",error:k})}}finally{xe(this,Ya).runNext(this)}}},Yo=new WeakMap,Ya=new WeakMap,Od=new WeakMap,Xo=new WeakSet,$c=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ta.batch(()=>{xe(this,Yo).forEach(n=>{n.onMutationUpdate(t)}),xe(this,Ya).notify({mutation:this,type:"updated",action:t})})},S$);function xZ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hl,lo,Fv,N$,yZ=(N$=class extends Vv{constructor(t={}){super();St(this,Hl);St(this,lo);St(this,Fv);this.config=t,gt(this,Hl,new Set),gt(this,lo,new Map),gt(this,Fv,0)}build(t,r,n){const a=new vZ({mutationCache:this,mutationId:++Px(this,Fv)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){xe(this,Hl).add(t);const r=Xx(t);if(typeof r=="string"){const n=xe(this,lo).get(r);n?n.push(t):xe(this,lo).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(xe(this,Hl).delete(t)){const r=Xx(t);if(typeof r=="string"){const n=xe(this,lo).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&xe(this,lo).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Xx(t);if(typeof r=="string"){const n=xe(this,lo).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Xx(t);if(typeof r=="string"){const a=(n=xe(this,lo).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ta.batch(()=>{xe(this,Hl).forEach(t=>{this.notify({type:"removed",mutation:t})}),xe(this,Hl).clear(),xe(this,lo).clear()})}getAll(){return Array.from(xe(this,Hl))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>RD(r,n))}findAll(t={}){return this.getAll().filter(r=>RD(t,r))}notify(t){ta.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ta.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ns))))}},Hl=new WeakMap,lo=new WeakMap,Fv=new WeakMap,N$);function Xx(e){var t;return(t=e.options.scope)==null?void 0:t.id}function ID(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=V6(t.options,t.fetchOptions),b=async(_,j,w)=>{if(p)return Promise.reject();if(j==null&&_.pages.length)return Promise.resolve(_);const N=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:j,direction:w?"backward":"forward",meta:t.options.meta};return v(O),O})(),C=await y(N),{maxPages:k}=t.options,E=w?oZ:iZ;return{pages:E(_.pages,C,k),pageParams:E(_.pageParams,j,k)}};if(a&&s.length){const _=a==="backward",j=_?bZ:LD,w={pages:s,pageParams:o},S=j(n,w);l=await b(w,S,_)}else{const _=e??s.length;do{const j=c===0?o[0]??n.initialPageParam:LD(n,l);if(c>0&&j==null)break;l=await b(l,j),c++}while(c<_)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function LD(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function bZ(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Xr,eu,tu,Xh,Qh,ru,Jh,Zh,k$,_Z=(k$=class{constructor(e={}){St(this,Xr);St(this,eu);St(this,tu);St(this,Xh);St(this,Qh);St(this,ru);St(this,Jh);St(this,Zh);gt(this,Xr,e.queryCache||new gZ),gt(this,eu,e.mutationCache||new yZ),gt(this,tu,e.defaultOptions||{}),gt(this,Xh,new Map),gt(this,Qh,new Map),gt(this,ru,0)}mount(){Px(this,ru)._++,xe(this,ru)===1&&(gt(this,Jh,uT.subscribe(async e=>{e&&(await this.resumePausedMutations(),xe(this,Xr).onFocus())})),gt(this,Zh,P1.subscribe(async e=>{e&&(await this.resumePausedMutations(),xe(this,Xr).onOnline())})))}unmount(){var e,t;Px(this,ru)._--,xe(this,ru)===0&&((e=xe(this,Jh))==null||e.call(this),gt(this,Jh,void 0),(t=xe(this,Zh))==null||t.call(this),gt(this,Zh,void 0))}isFetching(e){return xe(this,Xr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return xe(this,eu).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=xe(this,Xr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=xe(this,Xr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ju(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return xe(this,Xr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=xe(this,Xr).get(n.queryHash),s=a==null?void 0:a.state.data,o=aZ(t,s);if(o!==void 0)return xe(this,Xr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ta.batch(()=>xe(this,Xr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=xe(this,Xr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=xe(this,Xr);ta.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=xe(this,Xr);return ta.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ta.batch(()=>xe(this,Xr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Ns).catch(Ns)}invalidateQueries(e,t={}){return ta.batch(()=>(xe(this,Xr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ta.batch(()=>xe(this,Xr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Ns)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Ns)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=xe(this,Xr).build(this,t);return r.isStaleByTime(ju(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ns).catch(Ns)}fetchInfiniteQuery(e){return e.behavior=ID(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ns).catch(Ns)}ensureInfiniteQueryData(e){return e.behavior=ID(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return P1.isOnline()?xe(this,eu).resumePausedMutations():Promise.resolve()}getQueryCache(){return xe(this,Xr)}getMutationCache(){return xe(this,eu)}getDefaultOptions(){return xe(this,tu)}setDefaultOptions(e){gt(this,tu,e)}setQueryDefaults(e,t){xe(this,Xh).set(Ag(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...xe(this,Xh).values()],r={};return t.forEach(n=>{Pg(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){xe(this,Qh).set(Ag(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...xe(this,Qh).values()],r={};return t.forEach(n=>{Pg(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...xe(this,tu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=lT(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===cT&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...xe(this,tu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){xe(this,Xr).clear(),xe(this,eu).clear()}},Xr=new WeakMap,eu=new WeakMap,tu=new WeakMap,Xh=new WeakMap,Qh=new WeakMap,ru=new WeakMap,Jh=new WeakMap,Zh=new WeakMap,k$),ws,Qt,Mv,Xa,Dd,em,nu,au,Iv,tm,rm,Rd,Fd,su,nm,mr,k0,E2,T2,A2,P2,O2,D2,R2,Y6,C$,wZ=(C$=class extends Vv{constructor(t,r){super();St(this,mr);St(this,ws);St(this,Qt);St(this,Mv);St(this,Xa);St(this,Dd);St(this,em);St(this,nu);St(this,au);St(this,Iv);St(this,tm);St(this,rm);St(this,Rd);St(this,Fd);St(this,su);St(this,nm,new Set);this.options=r,gt(this,ws,t),gt(this,au,null),gt(this,nu,C2()),this.options.experimental_prefetchInRender||xe(this,nu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(xe(this,Qt).addObserver(this),$D(xe(this,Qt),this.options)?Xt(this,mr,k0).call(this):this.updateResult(),Xt(this,mr,P2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return F2(xe(this,Qt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return F2(xe(this,Qt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Xt(this,mr,O2).call(this),Xt(this,mr,D2).call(this),xe(this,Qt).removeObserver(this)}setOptions(t){const r=this.options,n=xe(this,Qt);if(this.options=xe(this,ws).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ei(this.options.enabled,xe(this,Qt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Xt(this,mr,R2).call(this),xe(this,Qt).setOptions(this.options),r._defaulted&&!S2(this.options,r)&&xe(this,ws).getQueryCache().notify({type:"observerOptionsUpdated",query:xe(this,Qt),observer:this});const a=this.hasListeners();a&&BD(xe(this,Qt),n,this.options,r)&&Xt(this,mr,k0).call(this),this.updateResult(),a&&(xe(this,Qt)!==n||Ei(this.options.enabled,xe(this,Qt))!==Ei(r.enabled,xe(this,Qt))||ju(this.options.staleTime,xe(this,Qt))!==ju(r.staleTime,xe(this,Qt)))&&Xt(this,mr,E2).call(this);const s=Xt(this,mr,T2).call(this);a&&(xe(this,Qt)!==n||Ei(this.options.enabled,xe(this,Qt))!==Ei(r.enabled,xe(this,Qt))||s!==xe(this,su))&&Xt(this,mr,A2).call(this,s)}getOptimisticResult(t){const r=xe(this,ws).getQueryCache().build(xe(this,ws),t),n=this.createResult(r,t);return SZ(this,n)&&(gt(this,Xa,n),gt(this,em,this.options),gt(this,Dd,xe(this,Qt).state)),n}getCurrentResult(){return xe(this,Xa)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){xe(this,nm).add(t)}getCurrentQuery(){return xe(this,Qt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=xe(this,ws).defaultQueryOptions(t),n=xe(this,ws).getQueryCache().build(xe(this,ws),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Xt(this,mr,k0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),xe(this,Xa)))}createResult(t,r){var k;const n=xe(this,Qt),a=this.options,s=xe(this,Xa),o=xe(this,Dd),l=xe(this,em),u=t!==n?t.state:xe(this,Mv),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const E=this.hasListeners(),O=!E&&$D(t,r),T=E&&BD(t,n,r,a);(O||T)&&(f={...f,...K6(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:v}=f;m=f.data;let y=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let E;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(E=s.data,y=!0):E=typeof r.placeholderData=="function"?r.placeholderData((k=xe(this,rm))==null?void 0:k.state.data,xe(this,rm)):r.placeholderData,E!==void 0&&(v="success",m=k2(s==null?void 0:s.data,E,r),h=!0)}if(r.select&&m!==void 0&&!y)if(s&&m===(o==null?void 0:o.data)&&r.select===xe(this,Iv))m=xe(this,tm);else try{gt(this,Iv,r.select),m=r.select(m),m=k2(s==null?void 0:s.data,m,r),gt(this,tm,m),gt(this,au,null)}catch(E){gt(this,au,E)}xe(this,au)&&(g=xe(this,au),m=xe(this,tm),p=Date.now(),v="error");const b=f.fetchStatus==="fetching",_=v==="pending",j=v==="error",w=_&&b,S=m!==void 0,C={status:v,fetchStatus:f.fetchStatus,isPending:_,isSuccess:v==="success",isError:j,isInitialLoading:w,isLoading:w,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!_,isLoadingError:j&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&S,isStale:dT(t,r),refetch:this.refetch,promise:xe(this,nu),isEnabled:Ei(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=U=>{C.status==="error"?U.reject(C.error):C.data!==void 0&&U.resolve(C.data)},O=()=>{const U=gt(this,nu,C.promise=C2());E(U)},T=xe(this,nu);switch(T.status){case"pending":t.queryHash===n.queryHash&&E(T);break;case"fulfilled":(C.status==="error"||C.data!==T.value)&&O();break;case"rejected":(C.status!=="error"||C.error!==T.reason)&&O();break}}return C}updateResult(){const t=xe(this,Xa),r=this.createResult(xe(this,Qt),this.options);if(gt(this,Dd,xe(this,Qt).state),gt(this,em,this.options),xe(this,Dd).data!==void 0&&gt(this,rm,xe(this,Qt)),S2(r,t))return;gt(this,Xa,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!xe(this,nm).size)return!0;const o=new Set(s??xe(this,nm));return this.options.throwOnError&&o.add("error"),Object.keys(xe(this,Xa)).some(l=>{const c=l;return xe(this,Xa)[c]!==t[c]&&o.has(c)})};Xt(this,mr,Y6).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Xt(this,mr,P2).call(this)}},ws=new WeakMap,Qt=new WeakMap,Mv=new WeakMap,Xa=new WeakMap,Dd=new WeakMap,em=new WeakMap,nu=new WeakMap,au=new WeakMap,Iv=new WeakMap,tm=new WeakMap,rm=new WeakMap,Rd=new WeakMap,Fd=new WeakMap,su=new WeakMap,nm=new WeakMap,mr=new WeakSet,k0=function(t){Xt(this,mr,R2).call(this);let r=xe(this,Qt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ns)),r},E2=function(){Xt(this,mr,O2).call(this);const t=ju(this.options.staleTime,xe(this,Qt));if(Qd||xe(this,Xa).isStale||!j2(t))return;const n=U6(xe(this,Xa).dataUpdatedAt,t)+1;gt(this,Rd,setTimeout(()=>{xe(this,Xa).isStale||this.updateResult()},n))},T2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(xe(this,Qt)):this.options.refetchInterval)??!1},A2=function(t){Xt(this,mr,D2).call(this),gt(this,su,t),!(Qd||Ei(this.options.enabled,xe(this,Qt))===!1||!j2(xe(this,su))||xe(this,su)===0)&&gt(this,Fd,setInterval(()=>{(this.options.refetchIntervalInBackground||uT.isFocused())&&Xt(this,mr,k0).call(this)},xe(this,su)))},P2=function(){Xt(this,mr,E2).call(this),Xt(this,mr,A2).call(this,Xt(this,mr,T2).call(this))},O2=function(){xe(this,Rd)&&(clearTimeout(xe(this,Rd)),gt(this,Rd,void 0))},D2=function(){xe(this,Fd)&&(clearInterval(xe(this,Fd)),gt(this,Fd,void 0))},R2=function(){const t=xe(this,ws).getQueryCache().build(xe(this,ws),this.options);if(t===xe(this,Qt))return;const r=xe(this,Qt);gt(this,Qt,t),gt(this,Mv,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Y6=function(t){ta.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(xe(this,Xa))}),xe(this,ws).getQueryCache().notify({query:xe(this,Qt),type:"observerResultsUpdated"})})},C$);function jZ(e,t){return Ei(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function $D(e,t){return jZ(e,t)||e.state.data!==void 0&&F2(e,t,t.refetchOnMount)}function F2(e,t,r){if(Ei(t.enabled,e)!==!1&&ju(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&dT(e,t)}return!1}function BD(e,t,r,n){return(e!==t||Ei(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&dT(e,r)}function dT(e,t){return Ei(t.enabled,e)!==!1&&e.isStaleByTime(ju(t.staleTime,e))}function SZ(e,t){return!S2(e.getCurrentResult(),t)}var X6=x.createContext(void 0),NZ=e=>{const t=x.useContext(X6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},kZ=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(X6.Provider,{value:e,children:t})),Q6=x.createContext(!1),CZ=()=>x.useContext(Q6);Q6.Provider;function EZ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var TZ=x.createContext(EZ()),AZ=()=>x.useContext(TZ),PZ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},OZ=e=>{x.useEffect(()=>{e.clearReset()},[e])},DZ=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||lZ(r,[e.error,n])),RZ=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},FZ=(e,t)=>e.isLoading&&e.isFetching&&!t,MZ=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,UD=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function IZ(e,t,r){var f,h,m,g,p;const n=CZ(),a=AZ(),s=NZ(),o=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",RZ(o),PZ(o,a),OZ(a);const l=!s.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(s,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const y=d?c.subscribe(ta.batchCalls(v)):Ns;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),MZ(o,u))throw UD(o,c,a);if(DZ({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((g=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,o,u),o.experimental_prefetchInRender&&!Qd&&FZ(u,n)){const v=l?UD(o,c,a):(p=s.getQueryCache().get(o.queryHash))==null?void 0:p.promise;v==null||v.catch(Ns).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function fT(e,t){return IZ(e,wZ)}const Tt=e=>typeof e=="string",t0=()=>{let e,t;const r=new Promise((n,a)=>{e=n,t=a});return r.resolve=e,r.reject=t,r},zD=e=>e==null?"":""+e,LZ=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},$Z=/###/g,VD=e=>e&&e.indexOf("###")>-1?e.replace($Z,"."):e,WD=e=>!e||Tt(e),W0=(e,t,r)=>{const n=Tt(t)?t.split("."):t;let a=0;for(;a<n.length-1;){if(WD(e))return{};const s=VD(n[a]);!e[s]&&r&&(e[s]=new r),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++a}return WD(e)?{}:{obj:e,k:VD(n[a])}},HD=(e,t,r)=>{const{obj:n,k:a}=W0(e,t,Object);if(n!==void 0||t.length===1){n[a]=r;return}let s=t[t.length-1],o=t.slice(0,t.length-1),l=W0(e,o,Object);for(;l.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),l=W0(e,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=r},BZ=(e,t,r,n)=>{const{obj:a,k:s}=W0(e,t,Object);a[s]=a[s]||[],a[s].push(r)},O1=(e,t)=>{const{obj:r,k:n}=W0(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},UZ=(e,t,r)=>{const n=O1(e,r);return n!==void 0?n:O1(t,r)},J6=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?Tt(e[n])||e[n]instanceof String||Tt(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):J6(e[n],t[n],r):e[n]=t[n]);return e},Bf=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var zZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const VZ=e=>Tt(e)?e.replace(/[&<>"'\/]/g,t=>zZ[t]):e;class WZ{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const HZ=[" ",",","?","!",";"],qZ=new WZ(20),GZ=(e,t,r)=>{t=t||"",r=r||"";const n=HZ.filter(o=>t.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const a=qZ.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!a.test(e);if(!s){const o=e.indexOf(r);o>0&&!a.test(e.substring(0,o))&&(s=!0)}return s},M2=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const n=t.split(r);let a=e;for(let s=0;s<n.length;){if(!a||typeof a!="object")return;let o,l="";for(let c=s;c<n.length;++c)if(c!==s&&(l+=r),l+=n[c],o=a[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;s+=c-s+1;break}a=o}return a},Og=e=>e==null?void 0:e.replace("_","-"),KZ={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var r,n;(n=(r=console==null?void 0:console[e])==null?void 0:r.apply)==null||n.call(r,console,t)}};class D1{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||KZ,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,a){return a&&!this.debug?null:(Tt(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new D1(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new D1(this.logger,t)}}var al=new D1;let $_=class{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,s])=>{for(let o=0;o<s;o++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,s])=>{for(let o=0;o<s;o++)a.apply(a,[t,...r])})}};class qD extends $_{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n,a={}){var u,d;const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):Tt(n)&&s?l.push(...n.split(s)):l.push(n)));const c=O1(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!o||!Tt(n)?c:M2((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[r],n,s)}addResource(t,r,n,a,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(l=t.split("."),a=r,r=l[1]),this.addNamespaces(r),HD(this.data,l,a),s.silent||this.emit("added",t,r,n,a)}addResources(t,r,n,a={silent:!1}){for(const s in n)(Tt(n[s])||Array.isArray(n[s]))&&this.addResource(t,r,s,n[s],{silent:!0});a.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,a,s,o={silent:!1,skipCopy:!1}){let l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),a=n,n=r,r=l[1]),this.addNamespaces(r);let c=O1(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?J6(c,n,s):c={...c,...n},HD(this.data,l,c),o.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var Z6={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,a){return e.forEach(s=>{var o;t=((o=this.processors[s])==null?void 0:o.process(t,r,n,a))??t}),t}};const eB=Symbol("i18next/PATH_KEY");function YZ(){const e=[],t=Object.create(null);let r;return t.get=(n,a)=>{var s;return(s=r==null?void 0:r.revoke)==null||s.call(r),a===eB?e:(e.push(a),r=Proxy.revocable(n,t),r.proxy)},Proxy.revocable(Object.create(null),t).proxy}function I2(e,t){const{[eB]:r}=e(YZ());return r.join((t==null?void 0:t.keySeparator)??".")}const GD={},iS=e=>!Tt(e)&&typeof e!="boolean"&&typeof e!="number";class R1 extends $_{constructor(t,r={}){super(),LZ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=al.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const n={...r};if(t==null)return!1;const a=this.resolve(t,n);if((a==null?void 0:a.res)===void 0)return!1;const s=iS(a.res);return!(n.returnObjects===!1&&s)}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!GZ(t,n,a);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Tt(s)?[s]:s};const u=t.split(n);(n!==a||n===a&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(a)}return{key:t,namespaces:Tt(s)?[s]:s}}translate(t,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=I2(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const s=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],a),u=c[c.length-1];let d=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=a.lng||this.language,h=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return h?s?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:`${u}${d}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:l;const m=this.resolve(t,a);let g=m==null?void 0:m.res;const p=(m==null?void 0:m.usedKey)||l,v=(m==null?void 0:m.exactUsedKey)||l,y=["[object Number]","[object Function]","[object RegExp]"],b=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,j=a.count!==void 0&&!Tt(a.count),w=R1.hasDefaultValue(a),S=j?this.pluralResolver.getSuffix(f,a.count,a):"",N=a.ordinal&&j?this.pluralResolver.getSuffix(f,a.count,{ordinal:!1}):"",C=j&&!a.ordinal&&a.count===0,k=C&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${S}`]||a[`defaultValue${N}`]||a.defaultValue;let E=g;_&&!g&&w&&(E=k);const O=iS(E),T=Object.prototype.toString.apply(E);if(_&&E&&O&&y.indexOf(T)<0&&!(Tt(b)&&Array.isArray(E))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,E,{...a,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(m.res=U,m.usedParams=this.getUsedParamsDetails(a),m):U}if(o){const U=Array.isArray(E),W=U?[]:{},R=U?v:p;for(const z in E)if(Object.prototype.hasOwnProperty.call(E,z)){const P=`${R}${o}${z}`;w&&!g?W[z]=this.translate(P,{...a,defaultValue:iS(k)?k[z]:void 0,joinArrays:!1,ns:c}):W[z]=this.translate(P,{...a,joinArrays:!1,ns:c}),W[z]===P&&(W[z]=E[z])}g=W}}else if(_&&Tt(b)&&Array.isArray(g))g=g.join(b),g&&(g=this.extendTranslation(g,t,a,n));else{let U=!1,W=!1;!this.isValidLookup(g)&&w&&(U=!0,g=k),this.isValidLookup(g)||(W=!0,g=l);const z=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&W?void 0:g,P=w&&k!==g&&this.options.updateMissing;if(W||U||P){if(this.logger.log(P?"updateKey":"missingKey",f,u,l,P?k:g),o){const J=this.resolve(l,{...a,keySeparator:!1});J&&J.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let M=[];const I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&I&&I[0])for(let J=0;J<I.length;J++)M.push(I[J]);else this.options.saveMissingTo==="all"?M=this.languageUtils.toResolveHierarchy(a.lng||this.language):M.push(a.lng||this.language);const q=(J,A,B)=>{var H;const G=w&&B!==g?B:z;this.options.missingKeyHandler?this.options.missingKeyHandler(J,u,A,G,P,a):(H=this.backendConnector)!=null&&H.saveMissing&&this.backendConnector.saveMissing(J,u,A,G,P,a),this.emit("missingKey",J,u,A,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?M.forEach(J=>{const A=this.pluralResolver.getSuffixes(J,a);C&&a[`defaultValue${this.options.pluralSeparator}zero`]&&A.indexOf(`${this.options.pluralSeparator}zero`)<0&&A.push(`${this.options.pluralSeparator}zero`),A.forEach(B=>{q([J],l+B,a[`defaultValue${B}`]||k)})}):q(M,l,k))}g=this.extendTranslation(g,t,a,m,n),W&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${u}${d}${l}`),(W||U)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,U?g:void 0,a))}return s?(m.res=g,m.usedParams=this.getUsedParamsDetails(a),m):g}extendTranslation(t,r,n,a,s){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=Tt(t)&&(((u=n==null?void 0:n.interpolation)==null?void 0:u.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const m=t.match(this.interpolator.nestingRegexp);f=m&&m.length}let h=n.replace&&!Tt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,n.lng||this.language||a.usedLng,n),d){const m=t.match(this.interpolator.nestingRegexp),g=m&&m.length;f<g&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,(...m)=>(s==null?void 0:s[0])===m[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${r[0]}`),null):this.translate(...m,r),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=Tt(o)?[o]:o;return t!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(t=Z6.handle(l,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t,r={}){let n,a,s,o,l;return Tt(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;a=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=r.count!==void 0&&!Tt(r.count),m=h&&!r.ordinal&&r.count===0,g=r.context!==void 0&&(Tt(r.context)||typeof r.context=="number")&&r.context!=="",p=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(v=>{var y,b;this.isValidLookup(n)||(l=v,!GD[`${p[0]}-${v}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(l))&&(GD[`${p[0]}-${v}`]=!0,this.logger.warn(`key "${a}" for languages "${p.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(_=>{var S;if(this.isValidLookup(n))return;o=_;const j=[d];if((S=this.i18nFormat)!=null&&S.addLookupKeys)this.i18nFormat.addLookupKeys(j,d,_,v,r);else{let N;h&&(N=this.pluralResolver.getSuffix(_,r.count,r));const C=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(r.ordinal&&N.indexOf(k)===0&&j.push(d+N.replace(k,this.options.pluralSeparator)),j.push(d+N),m&&j.push(d+C)),g){const E=`${d}${this.options.contextSeparator||"_"}${r.context}`;j.push(E),h&&(r.ordinal&&N.indexOf(k)===0&&j.push(E+N.replace(k,this.options.pluralSeparator)),j.push(E+N),m&&j.push(E+C))}}let w;for(;w=j.pop();)this.isValidLookup(n)||(s=w,n=this.getResource(_,v,w,r))}))})}),{res:n,usedKey:a,exactUsedKey:s,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n,a={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,r,n,a):this.resourceStore.getResource(t,r,n,a)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!Tt(t.replace);let a=n?t.replace:t;if(n&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const s of r)delete a[s]}return a}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}class KD{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=al.create("languageUtils")}getScriptPartFromCode(t){if(t=Og(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=Og(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Tt(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Tt(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),a=[],s=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Tt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):Tt(t)&&s(this.formatLanguageCode(t)),n.forEach(o=>{a.indexOf(o)<0&&s(this.formatLanguageCode(o))}),a}}const YD={zero:0,one:1,two:2,few:3,many:4,other:5},XD={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class XZ{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=al.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const n=Og(t==="dev"?"en":t),a=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:a});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),XD;if(!t.match(/-|_/))return XD;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,r)}return this.pluralRulesCache[s]=o,o}needsPlural(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,r,n={}){return this.getSuffixes(t,n).map(a=>`${r}${a}`)}getSuffixes(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,s)=>YD[a]-YD[s]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,r,n={}){const a=this.getRule(t,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,n))}}const QD=(e,t,r,n=".",a=!0)=>{let s=UZ(e,t,r);return!s&&a&&Tt(r)&&(s=M2(e,r,n),s===void 0&&(s=M2(t,r,n))),s},oS=e=>e.replace(/\$/g,"$$$$");class QZ{constructor(t={}){var r;this.logger=al.create("interpolator"),this.options=t,this.format=((r=t==null?void 0:t.interpolation)==null?void 0:r.format)||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:s,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:p,nestingOptionsSeparator:v,maxReplaces:y,alwaysFormat:b}=t.interpolation;this.escape=r!==void 0?r:VZ,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=s?Bf(s):o||"{{",this.suffix=l?Bf(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?Bf(h):m||Bf("$t("),this.nestingSuffix=g?Bf(g):p||Bf(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,r,n,a){var m;let s,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const b=QD(r,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,n,{...a,...r,interpolationkey:g}):b}const p=g.split(this.formatSeparator),v=p.shift().trim(),y=p.join(this.formatSeparator).trim();return this.format(QD(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...a,...r,interpolationkey:v})};this.resetRegExp();const d=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((m=a==null?void 0:a.interpolation)==null?void 0:m.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>oS(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?oS(this.escape(g)):oS(g)}].forEach(g=>{for(l=0;s=g.regex.exec(t);){const p=s[1].trim();if(o=u(p),o===void 0)if(typeof d=="function"){const y=d(t,s,a);o=Tt(y)?y:""}else if(a&&Object.prototype.hasOwnProperty.call(a,p))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${t}`),o="";else!Tt(o)&&!this.useRawValueToEscape&&(o=zD(o));const v=g.safeValue(o);if(t=t.replace(s[0],v),f?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r,n={}){let a,s,o;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let h=`{${f[1]}`;c=f[0],h=this.interpolate(h,o);const m=h.match(/'/g),g=h.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),u&&(o={...u,...o})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,p),`${c}${d}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;a=this.nestingRegexp.exec(t);){let c=[];o={...n},o=o.replace&&!Tt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(u!==-1&&(c=a[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),a[1]=a[1].slice(0,u)),s=r(l.call(this,a[1].trim(),o),o),s&&a[0]===t&&!Tt(s))return s;Tt(s)||(s=zD(s)),s||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),s=""),c.length&&(s=c.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:a[1].trim()}),s.trim())),t=t.replace(a[0],s),this.regexp.lastIndex=0}return t}}const JZ=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);t==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},JD=e=>{const t={};return(r,n,a)=>{let s=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(s={...s,[a.interpolationkey]:void 0});const o=n+JSON.stringify(s);let l=t[o];return l||(l=e(Og(n),a),t[o]=l),l(r)}},ZZ=e=>(t,r,n)=>e(Og(r),n)(t);class eee{constructor(t={}){this.logger=al.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?JD:ZZ;this.formats={number:n((a,s)=>{const o=new Intl.NumberFormat(a,{...s});return l=>o.format(l)}),currency:n((a,s)=>{const o=new Intl.NumberFormat(a,{...s,style:"currency"});return l=>o.format(l)}),datetime:n((a,s)=>{const o=new Intl.DateTimeFormat(a,{...s});return l=>o.format(l)}),relativetime:n((a,s)=>{const o=new Intl.RelativeTimeFormat(a,{...s});return l=>o.format(l,s.range||"day")}),list:n((a,s)=>{const o=new Intl.ListFormat(a,{...s});return l=>o.format(l)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=JD(r)}format(t,r,n,a={}){const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{var f;const{formatName:u,formatOptions:d}=JZ(c);if(this.formats[u]){let h=l;try{const m=((f=a==null?void 0:a.formatParams)==null?void 0:f[a.interpolationkey])||{},g=m.locale||m.lng||a.locale||a.lng||n;h=this.formats[u](l,g,{...d,...a,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const tee=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class ree extends $_{constructor(t,r,n,a={}){var s,o;super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=al.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(o=(s=this.backend)==null?void 0:s.init)==null||o.call(s,n,a.backend,a)}queueLoad(t,r,n,a){const s={},o={},l={},c={};return t.forEach(u=>{let d=!0;r.forEach(f=>{const h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,d=!1,o[h]===void 0&&(o[h]=!0),s[h]===void 0&&(s[h]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const a=t.split("|"),s=a[0],o=a[1];r&&this.emit("failedLoading",s,o,r),!r&&n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{BZ(c.loaded,[s],o),tee(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n,a=0,s=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:a,wait:s,callback:o});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,a+1,s*2,o)},s);return}o(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(t,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,r,l)}prepareLoading(t,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Tt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Tt(r)&&(r=[r]);const s=this.queueLoad(t,r,n,a);if(!s.toLoad.length)return s.pending.length||a(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t,r=""){const n=t.split("|"),a=n[0],s=n[1];this.read(a,s,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${r}loading namespace ${s} for language ${a} failed`,o),!o&&l&&this.logger.log(`${r}loaded namespace ${s} for language ${a}`,l),this.loaded(t,o,l)})}saveMissing(t,r,n,a,s,o={},l=()=>{}){var c,u,d,f,h;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((h=this.backend)!=null&&h.create){const m={...o,isUpdate:s},g=this.backend.create.bind(this.backend);if(g.length<6)try{let p;g.length===5?p=g(t,r,n,a,m):p=g(t,r,n,a),p&&typeof p.then=="function"?p.then(v=>l(null,v)).catch(l):l(null,p)}catch(p){l(p)}else g(t,r,n,a,l,m)}!t||!t[0]||this.store.addResource(t[0],r,n,a)}}}const ZD=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Tt(e[1])&&(t.defaultValue=e[1]),Tt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),eR=e=>{var t,r;return Tt(e.ns)&&(e.ns=[e.ns]),Tt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Tt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((r=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:r.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Qx=()=>{},nee=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class H0 extends $_{constructor(t={},r){if(super(),this.options=eR(t),this.services={},this.logger=al,this.modules={external:[]},nee(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(Tt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=ZD();this.options={...n,...this.options,...eR(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?al.init(a(this.modules.logger),this.options):al.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=eee;const d=new KD(this.options);this.store=new qD(this.options.resources,this.options);const f=this.services;f.logger=al,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new XZ(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=a(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new QZ(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new ree(a(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.languageDetector&&(f.languageDetector=a(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=a(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new R1(this.services,this.options),this.translator.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Qx),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=t0(),c=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(d,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,r=Qx){var s,o;let n=r;const a=Tt(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(o=(s=this.options.preload)==null?void 0:s.forEach)==null||o.call(s,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(t,r,n){const a=t0();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=Qx),this.services.backendConnector.reload(t,r,s=>{a.resolve(),n(s)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Z6.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const n=t0();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===t&&(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(l,(...u)=>this.t(...u))},o=l=>{var d,f;!t&&!l&&this.services.languageDetector&&(l=[]);const c=Tt(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Tt(l)?[l]:l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),(f=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||f.call(d,u)),this.loadResources(u,h=>{s(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),n}getFixedT(t,r,n){const a=(s,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([s,o].concat(l)):c={...o},c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||a.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(s)?d=s.map(f=>(typeof f=="function"&&(f=I2(f,{...this.options,...o})),`${c.keyPrefix}${u}${f}`)):(typeof s=="function"&&(s=I2(s,{...this.options,...o})),d=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(d,c)};return Tt(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=n,a}t(...t){var r;return(r=this.translator)==null?void 0:r.translate(...t)}exists(...t){var r;return(r=this.translator)==null?void 0:r.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,t)&&(!a||o(s,t)))}loadNamespaces(t,r){const n=t0();return this.options.ns?(Tt(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=t0();Tt(t)&&(t=[t]);const a=this.options.preload||[],s=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=a.concat(s),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(t){var a,s;if(t||(t=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const o=new Intl.Locale(t);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((s=this.services)==null?void 0:s.languageUtils)||new KD(ZD());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){const n=new H0(t,r);return n.createInstance=H0.createInstance,n}cloneInstance(t={},r=Qx){const n=t.forkResourceStore;n&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},s=new H0(a);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,f)=>(d[f]={...c[u][f]},d),c[u]),c),{});s.store=new qD(l,a),s.services.resourceStore=s.store}return s.translator=new R1(s.services,a),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(a,r),s.translator.options=a,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Gr=H0.createInstance();Gr.createInstance;Gr.dir;Gr.init;Gr.loadResources;Gr.reloadResources;Gr.use;Gr.changeLanguage;Gr.getFixedT;Gr.t;Gr.exists;Gr.setDefaultNamespace;Gr.hasLoadedNamespace;Gr.loadNamespaces;Gr.loadLanguages;const aee=(e,t,r,n)=>{var s,o,l,c;const a=[r,{code:t,...n||{}}];if((o=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&o.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);Jd(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},tR={},tB=(e,t,r,n)=>{Jd(r)&&tR[r]||(Jd(r)&&(tR[r]=new Date),aee(e,t,r,n))},rB=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},L2=(e,t,r)=>{e.loadNamespaces(t,rB(e,r))},rR=(e,t,r,n)=>{if(Jd(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return L2(e,r,n);r.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,rB(e,n))},see=(e,t,r={})=>!t.languages||!t.languages.length?(tB(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,e))return!1}}),Jd=e=>typeof e=="string",iee=e=>typeof e=="object"&&e!==null,oee=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,lee={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},cee=e=>lee[e],uee=e=>e.replace(oee,cee);let $2={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:uee};const dee=(e={})=>{$2={...$2,...e}},fee=()=>$2;let nB;const hee=e=>{nB=e},mee=()=>nB,pee={type:"3rdParty",init(e){dee(e.options.react),hee(e)}},aB=x.createContext();class gee{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var sB={exports:{}},iB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm=x;function vee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xee=typeof Object.is=="function"?Object.is:vee,yee=dm.useState,bee=dm.useEffect,_ee=dm.useLayoutEffect,wee=dm.useDebugValue;function jee(e,t){var r=t(),n=yee({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return _ee(function(){a.value=r,a.getSnapshot=t,lS(a)&&s({inst:a})},[e,r,t]),bee(function(){return lS(a)&&s({inst:a}),e(function(){lS(a)&&s({inst:a})})},[e]),wee(r),r}function lS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xee(e,r)}catch{return!0}}function See(e,t){return t()}var Nee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?See:jee;iB.useSyncExternalStore=dm.useSyncExternalStore!==void 0?dm.useSyncExternalStore:Nee;sB.exports=iB;var oB=sB.exports;const kee=(e,t)=>Jd(t)?t:iee(t)&&Jd(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,Cee={t:kee,ready:!1},Eee=()=>()=>{},Pt=(e,t={})=>{var N,C;const{i18n:r}=t,{i18n:n,defaultNS:a}=x.useContext(aB)||{},s=r||n||mee();s&&!s.reportNamespaces&&(s.reportNamespaces=new gee),s||tB(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=x.useMemo(()=>{var k;return{...fee(),...(k=s==null?void 0:s.options)==null?void 0:k.react,...t}},[s,t]),{useSuspense:l,keyPrefix:c}=o,u=x.useMemo(()=>{var E;const k=a||((E=s==null?void 0:s.options)==null?void 0:E.defaultNS);return Jd(k)?[k]:k||["translation"]},[e,a,s]);(C=(N=s==null?void 0:s.reportNamespaces)==null?void 0:N.addUsedNamespaces)==null||C.call(N,u);const d=x.useRef(0),f=x.useCallback(k=>{if(!s)return Eee;const{bindI18n:E,bindI18nStore:O}=o,T=()=>{d.current+=1,k()};return E&&s.on(E,T),O&&s.store.on(O,T),()=>{E&&E.split(" ").forEach(U=>s.off(U,T)),O&&O.split(" ").forEach(U=>s.store.off(U,T))}},[s,o]),h=x.useRef(),m=x.useCallback(()=>{if(!s)return Cee;const k=!!(s.isInitialized||s.initializedStoreOnce)&&u.every(R=>see(R,s,o)),E=t.lng||s.language,O=d.current,T=h.current;if(T&&T.ready===k&&T.lng===E&&T.keyPrefix===c&&T.revision===O)return T;const W={t:s.getFixedT(E,o.nsMode==="fallback"?u:u[0],c),ready:k,lng:E,keyPrefix:c,revision:O};return h.current=W,W},[s,u,c,o,t.lng]),[g,p]=x.useState(0),{t:v,ready:y}=oB.useSyncExternalStore(f,m,m);x.useEffect(()=>{if(s&&!y&&!l){const k=()=>p(E=>E+1);t.lng?rR(s,t.lng,u,k):L2(s,u,k)}},[s,t.lng,u,y,l,g]);const b=s||{},_=x.useRef(null),j=x.useRef(),w=k=>{const E=Object.getOwnPropertyDescriptors(k);E.__original&&delete E.__original;const O=Object.create(Object.getPrototypeOf(k),E);if(!Object.prototype.hasOwnProperty.call(O,"__original"))try{Object.defineProperty(O,"__original",{value:k,writable:!1,enumerable:!1,configurable:!1})}catch{}return O},S=x.useMemo(()=>{const k=b,E=k==null?void 0:k.language;let O=k;k&&(_.current&&_.current.__original===k?j.current!==E?(O=w(k),_.current=O,j.current=E):O=_.current:(O=w(k),_.current=O,j.current=E));const T=[v,O,y];return T.t=v,T.i18n=O,T.ready=y,T},[v,b,y,b.resolvedLanguage,b.language,b.languages]);if(s&&l&&!y)throw new Promise(k=>{const E=()=>k();t.lng?rR(s,t.lng,u,E):L2(s,u,E)});return S};function Tee({i18n:e,defaultNS:t,children:r}){const n=x.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return x.createElement(aB.Provider,{value:n},r)}const Aee={home:"Home",dashboard:"Dashboard",empDashboard:"Emp Dashboard",whatsapp:"WhatsApp",clientPortal:"Client Portal",partnerDashboard:"Partner Dashboard",leads:"Leads",masterLeads:"Master Leads",projects:"Projects",tasks:"Tasks",tickets:"Tickets",teams:"Teams",chats:"Chats",allChats:"All Chats",surveys:"Surveys",users:"Users",reports:"Reports",settings:"Settings",mainGroup:"Main",salesGroup:"Sales",workGroup:"Work",communicationGroup:"Communication",requestGroup:"",requests:"Requests",systemGroup:"System",permissions:"Permissions",marketingTemplates:"Marketing Templates",webmail:"Webmail"},Pee={save:"Save",cancel:"Cancel",close:"Close",submit:"Submit",delete:"Delete",edit:"Edit",add:"Add",create:"Create",login:"Login",signup:"Sign Up",logout:"Logout",saving:"Saving..."},Oee={name:"Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",phone:"Phone",message:"Message"},Dee={signIn:"Sign In",signUp:"Sign Up",createAccount:"Create Account",enterCredentials:"Enter your credentials to access your account",signUpToGetStarted:"Sign up to get started",chooseAccountType:"Choose your account type to continue with Google",chooseAccountTypeSignUp:"Choose your account type to sign up with Google",client:"Client",partner:"Partner",partnerEmployee:"Partner Employee",redirectingToGoogle:"Redirecting to Google...",orContinueWith:"Or continue with",email:"Email",password:"Password",signingIn:"Logging in...",signInButton:"Login",signUpButton:"Sign Up",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",noAccount:"Don't have an account?",clientPortal:"Client Portal",failedToSignIn:"Failed to sign in",failedToSignInWithGoogle:"Failed to sign in with Google",welcomeBack:"Welcome Back",emailOrUsername:"Email / Username",enterEmail:"Enter your email",enterPassword:"Enter your password",companyCode:"Company Code",forgotPassword:"Forgot your password?",forgotPasswordDesc:"Please contact your administrator to reset your password.",loginSuccess:"Logged in successfully",loginFailed:"Failed to login. Please check your credentials.",loginFailedTitle:"Login Failed"},Ree={welcome:"Welcome",saving:"Saving...",loading:"Loading...",export:"Export",error:"Error",success:"Success",search:"Search",filter:"Filter",filters:"Filters",notifications:"Notifications",kanban:"Kanban",add:"Add",edit:"Edit",delete:"Delete",create:"Create",update:"Update",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close",submit:"Submit",back:"Back",next:"Next",previous:"Previous",first:"First",last:"Last",noData:"No data available",noResults:"No results found",noItems:"No items to display",noRecords:"No records found",noRecordsFound:"No records found",noMatches:"No matches found",list:"List",select:"Select",view:"View",status:"Status",assignee:"Assignee",all:"All",pickDate:"Pick a date",clearFilters:"Clear filters",actions:"Actions",stage:"Stage",priority:"Priority",veryLow:"Very Low",low:"Low",medium:"Medium",high:"High",veryHigh:"Very High",overview:"Overview",unassigned:"Unassigned",page:"Page",of:"of",copy:"Copy",copyHTML:"Copy HTML",copyText:"Copy Text"},Fee={open:"Open",in_progress:"In Progress",closed:"Closed",resolve:"Resolve",reopen:"Reopen",pending:"Pending",approved:"Approved",rejected:"Rejected",completed:"Completed"},Mee={title:"Dashboard",subtitle:"Welcome to your CRM dashboard",totalProjects:"Total Projects",completed:"completed",inProgress:"In Progress",activeProjects:"active projects",clients:"Clients",totalClients:"total clients",teamMembers:"Team Members",activeUsers:"active users",leads:"Leads",totalLeads:"total leads",surveys:"Surveys",totalSurveys:"total surveys",recentProjects:"Recent Projects",projectStatus:"Project Status",noProjectsYet:"No projects yet",noClient:"No client",mleadsTrend:"MLeads Trend (Last 30 Days)",recentMLeads:"Recent MLeads",companyName:"Company",contactPerson:"Contact Person",email:"Email",phone:"Phone",status:"Status",createdAt:"Created At",noMLeads:"No MLeads found",completedStatus:"Completed",inProgressStatus:"In Progress",notStartedStatus:"Not Started"},Iee={title:"Leads",subtitle:"Manage and track all your leads",newLead:"New Lead",addLead:"Add Lead",createLead:"Create New Lead",createLeadDesc:"Add a new lead to the selected stage.",leadName:"Lead Name",leadNamePlaceholder:"Enter lead name",description:"Description",descriptionPlaceholder:"Enter lead description",clientName:"Client Name",clientNamePlaceholder:"Enter client name",client:"Client",selectClient:"Select a client (optional)",noClient:"No client",unknown:"Unknown",created:"Created",updated:"Updated",createdBy:"Created by",assignedTo:"Assigned to",assignToEmployee:"Assign to Employee",selectAssignee:"Select assignee",lead:"Lead",deleteLead:"Delete Lead",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',addStage:"Add Stage",stageNamePlaceholder:"Stage name...",deleteStage:"Delete Stage",deleteStageConfirmation:"This stage contains {{count}} lead(s). Deleting this stage will also remove all leads in it. This action cannot be undone.",addNewLeadCard:"Add New Lead",noLeadsYet:"No leads have been created yet.",value:"Value",currency:"Currency",stageTotal:"Total: {{amount}}",leadDetails:"Lead Details",leadDetailsDesc:"View and edit lead information",notFound:"Lead not found",expectedCloseDate:"Expected Close Date"},Lee={title:"Notes",addNote:"Add Note",noNotes:"No notes yet",placeholder:"Enter your note...",save:"Save Note",edit:"Edit",delete:"Delete Note",deleteConfirmation:"Are you sure you want to delete this note?",unknown:"Unknown user"},$ee={title:"Projects",subtitle:"Manage and track all your projects",newProject:"New Project",createProject:"Create New Project",createProjectDesc:"Add a new project to the selected stage.",projectName:"Project Name",projectNamePlaceholder:"Enter project name",description:"Description",descriptionPlaceholder:"Enter project description",client:"Client",selectClient:"Select a client",initialProgress:"Initial Progress",addProject:"Add Project",addNewProjectCard:"Add New Project",progress:"Progress",started:"Started",completed:"Completed",due:"Due",deleteProject:"Delete Project",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',noProjectsYet:"No projects have been created yet.",dueDate:"Due Date",stage:"Stage",manager:"Manager",deleteComment:"Delete Comment",deleteCommentConfirmation:"Are you sure you want to delete this comment?"},Bee={title:"Settings",description:"Manage application settings and configurations",stageManagement:"Stage Management",leads:"Lead Stages",projects:"Project Stages",tasks:"Task Stages",tickets:"Ticket Stages",mleads:"Master Lead Stages",mprojects:"Master Project Stages",addStage:"Add Stage",editStage:"Edit Stage",deleteStage:"Delete Stage",stageName:"Stage Name",stageNamePlaceholder:"Enter stage name",stageColor:"Stage Color",order:"Order",noStages:"No stages found. Add one to get started.",addStageDesc:"Add a new stage for {{type}}",deleteStageConfirmation:"Are you sure you want to delete this stage? This action cannot be undone.",englishName:"English name",arabicName:"Arabic name",changePassword:"Change Password",changePasswordDescription:"Enter your new password below. Make sure it's at least 6 characters long.",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",newPasswordRequired:"New password is required",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",passwordsDoNotMatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters long",changingPassword:"Changing password...",passwordChangedSuccessfully:"Password changed successfully!",passwordChangeFailed:"Failed to change password"},Uee={title:"Messages",channels:"Channels",teams:"Teams",directMessages:"Direct Messages",welcome:"Welcome to Chat",selectRoomDesc:"Select a channel or direct message to start chatting.",membersCount:"{{count}} members",loadingMembers:"Loading members...",today:"Today",placeholder:"Message...",noChannels:"No channels",noMessages:"No messages"},zee={title:"Tickets",subtitle:"Manage and track all support tickets.",newTicket:"New Ticket",createNewTicket:"Create New Ticket",createTicketDesc:"Fill in the details to create a new support ticket.",searchPlaceholder:"Search tickets...",allTickets:"All Tickets",noTicketsFound:"No Tickets Found",noTicketsFoundDesc:"Try adjusting your search terms.",noTicketsYet:"No tickets have been created yet.",id:"ID",subject:"Subject",subjectPlaceholder:"Enter ticket subject",description:"Description",descriptionPlaceholder:"Describe the issue or request",status:"Status",priority:"Priority",priorityLow:"Low",priorityMedium:"Medium",priorityHigh:"High",priorityUrgent:"Urgent",ticketType:"Ticket Type",typeRequest:"Request",typeFollowUp:"Follow Up",typeIssue:"Issue",typeInternalTask:"Internal Task",assignTo:"Assign To",selectAssignee:"Select assignee (optional)",assignedTo:"Assigned To",createdDate:"Created Date",actions:"Actions",view:"View",loading:"Loading tickets...",createTicket:"Create Ticket",creatingTicket:"Creating...",createError:"Failed to create ticket",allStatuses:"All Statuses",allPriorities:"All Priorities",allTypes:"All Types",allStages:"All Stages",noTicketsInPage:"No tickets in this page",stage:"Stage",statusOpen:"Open",statusInProgress:"In Progress",statusResolved:"Resolved",statusClosed:"Closed",ticketId:"Ticket ID",createdBy:"Created By",resolvedDate:"Resolved Date",closedDate:"Closed Date"},Vee={title:"Teams",subtitle:"Manage teams and team members",createTeam:"Create Team",createTeamTitle:"Create New Team",createTeamDesc:"Create a new team and assign a team leader. You can add members after creation.",teamName:"Team Name",teamNamePlaceholder:"Enter team name",team_leader:"Team Leader",teamLeader:"Team Leader",selectTeamLeader:"Select a team leader (optional)",searchPlaceholder:"Search teams...",members:"Members",memberCount:"{{count}} member",memberCount_plural:"{{count}} members",addMember:"Add member",created:"Created",noTeamsFound:"No teams found",noTeamsYet:"No teams yet",createFirstTeam:"Create Your First Team",deleteTeam:"Delete Team",deleteConfirmation:'Are you sure you want to delete "{{name}}"? This will also remove all team members. This action cannot be undone.',moreMembers:"+{{count}} more members",noMembersYet:"No members yet"},Wee={title:"Tasks",subtitle:"Manage and track all your tasks in one place.",loading:"Loading...",error:"Error",description:"Description",deleteTask:"Delete Task",createTask:"Create New Task",createTaskDesc:"Add a new task to the selected stage.",newTask:"New Task",addNewTask:"Add New Task",addTask:"Add Task",taskName:"Task Name",taskNamePlaceholder:"Enter task name",descriptionPlaceholder:"Enter task description",dueDate:"Due Date",selectUser:"Select a user",selectStage:"Select a stage",selectStatus:"Select status",todo:"Todo",inProgress:"In Progress",done:"Done",stage:"Stage",allTasks:"All Tasks",totalTasks:"Total Tasks",status:"Status",assignedTo:"Assigned To",noTasksYet:"No tasks have been created yet."},Hee={brandName:"Middar",badge:" New Feature",hero:{title:{line1:"Streamline Your",line2:"Business Operations"},description:"Powerful CRM solution to manage projects, leads, tasks, and teams all in one place. Boost productivity and grow your business with our comprehensive platform.",cta:{primary:"Get Started",secondary:"Learn More"}},stats:{users:"10K+",usersLabel:"Active Users",projects:"50K+",projectsLabel:"Projects Managed",uptime:"99.9%",uptimeLabel:"Uptime",support:"24/7",supportLabel:"Support"},features:{title:"Everything you need to succeed",subtitle:"Comprehensive tools designed for modern businesses",projectManagement:{title:"Project Management",description:"Track projects from inception to completion with detailed progress monitoring and team collaboration."},leadManagement:{title:"Lead Management",description:"Convert more leads with our advanced CRM tools and automated follow-up systems."},analytics:{title:"Analytics & Insights",description:"Make data-driven decisions with comprehensive analytics and reporting dashboards."},communication:{title:"Team Communication",description:"Keep your team connected with integrated chat, notifications, and collaboration tools."},taskManagement:{title:"Task Management",description:"Organize and prioritize tasks with our intuitive kanban board and deadline tracking."},security:{title:"Enterprise Security",description:"Your data is protected with enterprise-grade security and compliance standards."}},cta:{title:"Ready to get started?",description:"Join thousands of businesses transforming their operations with our CRM.",button:"Start Free Trial"},partner:{title:"Become a Partner",subtitle:"Help distribute this CRM and grow with us. Fill the form below and we will get back to you.",companyName:"Company Name",fullName:"Full Name",email:"Email Address",phone:"Phone Number",submit:"Apply Now",success:"Application Received",successMessage:"Thank you for your interest! We will contact you shortly."},footer:{copyright:" 2025 {{brand}} CRM. All rights reserved."}},qee={title:"Users",subtitle:"Manage system users and their roles",totalUsers:"Total Users",addUser:"Add User",addNewUser:"Add New User",addUserDescription:"Fill in the details below to create a new user account.",fullName:"Full Name",email:"Email",password:"Password",role:"Role",admin:"Admin",manager:"Manager",employee:"Employee",partner_leader:"Partner Leader",team_leader:"Team Leader",client:"Client",employees:"Employees",clients:"Clients",addingUser:"Adding user...",addUserError:"Failed to add user",deleteUser:"Delete User",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',deleteError:"Failed to delete user",updateRoleError:"Failed to update user role",changeRole:"Change Role",searchPlaceholder:"Search users...",noUsersFound:"No users found",noUsersFoundDesc:"Try adjusting your search terms.",noUsersAvailable:"No users available",joined:"Joined",updated:"Updated",userDetails:"User Details",userDetailsDescription:"View detailed information about this user",phone:"Phone",contact:"Contact",company:"Company",userId:"User ID",authUserId:"Auth User ID",updateUserError:"Failed to update user",partners:"Partners",partnerUsers:"Partner Users",partnerApplications:"Partner Applications",partner:"Partner",partner_employee:"Partner Employee",noPartnerUsersFound:"No partner users found",noApplicationsFound:"No applications found",approve:"Approve",reject:"Reject",rejectConfirmation:"Are you sure you want to reject this application?",viewApplication:"View Application"},Gee={title:"Clients",subtitle:"Manage and view all your clients",newClient:"New Client",loading:"Loading clients...",noClientsFound:"No clients found",noClientsYet:"No clients have been added yet",active:"active",totalProjects:"Total Projects",activeProjects:"Active Projects",completedProjects:"Completed Projects",noCompany:"No company",noEmail:"No email",projects:"projects",viewDetails:"View Details",clientDetails:"Client Details",userId:"User ID",emailLabel:"Email",contactLabel:"Contact",companyLabel:"Company",createdLabel:"Created",updatedLabel:"Updated",projectSummary:"Project Summary"},Kee={title:"My Dashboard",subtitle:"Welcome back, {{name}}! Here's your work overview.",employeeInfo:"Employee Information",name:"Name",email:"Email",role:"Role",memberSince:"Member Since",myProjects:"My Projects",active:"active",myTasks:"My Tasks",completed:"completed",inProgress:"In Progress",activeTasks:"Active tasks",completedTasks:"Completed",finishedTasks:"Finished tasks",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentTasks:"Recent Tasks",noDescription:"No description",noProjectsAssigned:"No projects assigned yet",noTasksAssigned:"No tasks assigned yet"},Yee={chatRooms:"Chat Rooms",createRoomTitle:"Create New Room",createRoomDesc:"Create a new chat room for your team or project",roomName:"Room Name",roomNamePlaceholder:"Enter room name",private:"Private",privateRoom:"Private Room",publicRoom:"Public Room",project:"Project",projectIdPlaceholder:"Enter project ID (optional)",createRoom:"Create Room",searchConversations:"Search conversations...",searchRooms:"Search rooms...",members:"members",online:"Online",selectRoom:"Select a room to start chatting",selectConversation:"Select a conversation",connectDescription:"Connect with your clients through Email, WhatsApp, and more.",typeMessage:"Type a message...",you:"You",unknownUser:"Unknown User",justNow:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",viewDetails:"View Details",viewContactDetails:"View Contact Details",deleteConversation:"Delete Conversation",muteNotifications:"Mute Notifications",leaveRoom:"Leave Room",someoneTyping:"Someone is typing...",note:"Note",resolvedMessage:"This conversation is resolved. Reopen it to send a message.",resolved:"Resolved"},Xee={title:"Surveys",subtitle:"Manage and track all surveys and questionnaires",surveys:"Surveys",templates:"Templates",totalSurveys:"Total Surveys",surveyName:"Survey Name",bulkImport:"Bulk Import",selectTemplateForImport:"Select a template to import surveys into",uploadFile:"Upload your Excel file",reviewData:"Review and map your data",importingData:"Importing your data...",importInstructions:"Import Instructions:",importInstruction1:"File must be in Excel (.xlsx, .xls) or CSV format",importInstruction2:"First row should contain column headers",importInstruction3:"Column headers should match template field names",dragDropFile:"Drag and drop your file here, or",selectFile:"Select File",fileEmpty:"The uploaded file is empty",fileParseError:"Failed to parse the file. Please check the format and try again.",validationErrors:"Validation Errors Found",requiredFieldNotFound:"Required field {{field}} not found in file",requiredFieldNotMapped:"Required field {{field}} is not mapped",columnMapping:"Column Mapping",required:"Required",notMapped:"Not Mapped",optional:"Optional",noTemplateSelected:"No template selected",previewFirstRows:"Preview First {{count}} Rows",showingRows:"Showing {{shown}} of {{total}} rows",startImport:"Start Import",processingRows:"Processing",importSuccess:"Successfully imported {{count}} surveys",importFailed:"Failed to import surveys",createdDate:"Created Date",deleteSurvey:"Delete Survey",deleteSurveyConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',createTemplate:"Create Template",createTemplateTitle:"Create New Survey Template",createTemplateDesc:"Create a custom survey template for your needs",templateName:"Template Name",templateNameAr:"Template Name (Arabic)",description:"Description",descriptionAr:"Description (Arabic)",category:"Category",selectCategory:"Select Category",setAsDefault:"Set as Default",customerSatisfaction:"Customer Satisfaction",productFeedback:"Product Feedback",serviceQuality:"Service Quality",general:"General",settings:"Settings",isActive:"Active",isDefault:"Default",searchPlaceholder:"Search surveys...",noSurveysFound:"No surveys found",noSurveysFoundDesc:"Try adjusting your search terms.",noSurveysYet:"No surveys have been created yet.",noTemplatesFound:"No templates found",noTemplatesFoundDesc:"Try adjusting your search terms.",noTemplatesYet:"No templates have been created yet.",survey:"Survey",clientName:"Client Name",clientCompany:"Client Company",contact:"Contact",noContact:"No contact",noCompany:"No company",noEmail:"No email",location:"Location",responses:"Responses",completed:"Completed",inProgress:"In Progress",pending:"Pending",active:"Active",inactive:"Inactive",default:"Default",noCategory:"No category",status:"Status",noDescription:"No description",fields:"Fields",noFields:"No fields defined",noResponsesRecorded:"No responses recorded",created:"Created",updated:"Updated",createdBy:"Created By",unknownCreator:"Unknown Creator",newSurvey:"New Survey",createNewSurvey:"Create New Survey",selectTemplate:"Select Template",fillSurveyDetails:"Fill Survey Details",changeTemplate:"Change Template",submitSurvey:"Submit Survey",locationWillBeCaptured:"Your location will be captured automatically",addField:"Add Field",fieldLabel:"Field Label",fieldType:"Field Type",text:"Text",textarea:"Textarea",email:"Email",date:"Date",select:"Select",multiselect:"Multiselect",radio:"Radio",checkbox:"Checkbox",image:"Image",options:"Options",optionsPlaceholder:"Enter options separated by spaces (e.g., option1 option2 option3)",isRequired:"Required",editTemplateTitle:"Edit Survey Template",updateTemplate:"Update Template",deleteTemplate:"Delete Template",deleteTemplateConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',templateNameRequired:"Template name is required",atLeastOneFieldRequired:"At least one field is required",fieldLabelRequired:"Field {{number}}: Label is required",templateCreated:"Template created successfully!",templateUpdated:"Template updated successfully!",templateValidationFailed:"Please fix the validation errors before saving.",templateSaveError:"Failed to {{action}} template. Please try again.",bulkSelect:"Bulk Select",exitBulkMode:"Exit Bulk Mode",bulkDeleteSuccess:"Successfully deleted {{count}} surveys",bulkDeleteError:"Failed to delete surveys",confirmBulkDelete:"Delete Selected Surveys",confirmBulkDeleteDesc:"Are you sure you want to delete {{count}} selected surveys? This action cannot be undone.",selectedCount:"{{count}} surveys selected",clearSelection:"Clear Selection",deleteSelected:"Delete Selected",selectAll:"Select All"},Qee={company:"Company",city:"City",country:"Country",activity:"Activity",distributionCharts:"Distribution Charts",timeline:"Timeline",createdBy:"Created By",status:"Status",system:"System",assignedTo:"Assigned To",created:"Created",stage:"Stage",allStatuses:"All Statuses",addNewLead:"+ Add New Lead",filterLeads:"Filter Leads",applyFilters:"Apply Filters",allCountries:"All Countries",allCities:"All Cities",allUsers:"All Users",allStages:"All Stages",leadName:"Lead Name",quotation:"Quotation",viewQuotation:"View Quotation",editLeadDescription:"Edit lead information and details",createLeadDescription:"Add a new lead to the system",leadDetailsDescription:"View and manage lead details and information",reports:"Reports",selectReport:"Select Report",leadsSummaryReport:"Leads Summary Report",leadsByCityReport:"Leads by City Report",leadsConversionReport:"Leads Conversion Report",salesPerformanceReport:"Sales Performance Report",leadsTrendReport:"Leads Trend Report",reportParameters:"Report Parameters",runReport:"Run Report",reportResults:"Report Results",records:"records",allActivities:"All Activities",allSystems:"All Systems",startDate:"Start Date",endDate:"End Date",totalLeads:"Total Leads",wonLeads:"Won Leads",lostLeads:"Lost Leads",leadsByCity:"Leads by City",salesPerformance:"Sales Performance",wonDeals:"Won Deals",lostDeals:"Lost Deals",pendingLeads:"Pending Leads",uploadQuotation:"Upload Quotation",description:"Description",decisionMaker:"Decision Maker",clearFilters:"Clear Filters",notes:"Notes",value:"Value",currency:"Currency",leadDetails:"Lead Details",companyName:"Company Name",address:"Address",contacts:"Contacts",addContact:"+ Add Contact",noContactsFound:"No contacts found",cancel:"Cancel",contactName:"Contact name",email:"Email",showChart:"Show Chart",createLead:"Create Lead",editlead:"Edit Lead",hideChart:"Hide Chart",firstName:"First Name",lastName:"Last Name",mobile:"Mobile",jobTitle:"Job Title",selectContact:"Select contact",selectStage:"Select stage",selectJobTitle:"Select job title",searchActivity:"Search Activity",searchCountry:"Search Country",searchCity:"Search City",searchSystem:"Search System",searchStatus:"Search Status",searchUser:"Search User",searchStage:"Search Stage",searchJobTitle:"Search Job Title",kanbanView:"Kanban View",listView:"List View",searchPlaceholder:"Search by company or address",addNew:"+ Add New",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",selectCountry:"Select country",createCity:"Create City",selectActivity:"Select activity",selectSystem:"Select system",selectStatus:"Select status",selectUser:"Select user",editLead:"Edit Lead",createNewLead:"Create New Lead",addContactTitle:"Add Contact",createNewCity:"Create New City",systemNameEn:"System name (English)",systemNameAr:"System name (Arabic)",createSystem:"Create System",createNewSystem:"Create New System",activityNameEn:"Activity name (English)",activityNameAr:"Activity name (Arabic)",createActivity:"Create Activity",createNewActivity:"Create New Activity",statusNameEn:"Status name (English)",statusNameAr:"Status name (Arabic)",createStatus:"Create Status",createNewStatus:"Create New Status",masterLeads:"Master Leads",manageMasterLeadsData:"Manage master leads data",noLeadsFound:"No leads found",createNewLeadToGetStarted:"Create a new lead to get started",deleteLead:"Delete Lead",deleteLeadConfirmation:"Are you sure you want to delete this lead? This action cannot be undone.",leadUpdatedSuccessfully:"Lead updated successfully",leadCreatedSuccessfully:"Lead created successfully",leadDeletedSuccessfully:"Lead deleted successfully",leadsDeletedSuccessfully:"leads deleted successfully",cityCreatedSuccessfully:"City created successfully",systemCreatedSuccessfully:"System created successfully",activityCreatedSuccessfully:"Activity created successfully",statusCreatedSuccessfully:"Status created successfully",showLead:"Show Lead",hideLead:"Hide Lead"},Jee={masterProjects:"Master Projects",manageMasterProjectsData:"Manage master projects data",kanbanView:"Kanban View",listView:"List View",company:"Company",country:"Country",contactName:"Contact name",mobile:"Mobile",email:"Email",jobTitle:"Job Title",selectJobTitle:"Select job title",addContactTitle:"Add Contact",viewContract:"View Contract",editProjectDescription:"Edit project information and details",searchJobTitle:"Search Job Title",contacts:"Contacts",allCountries:"All Countries",allCities:"All Cities",searchPlaceholder:"Search by company, addresses or contract code",notStarted:"Not Started",inProgress:"In Progress",completed:"Completed",clearFilters:"Clear Filters",noContactsFound:"No contacts found",projectName:"Project Name",description:"Description",notes:"Notes",projectDetails:"Project Details",companyName:"Company Name",contractCode:"Contract Code",contractAmount:"Contract Amount",startDate:"Start Date",endDate:"End Date",city:"City",contact:"Contact",created:"Created",createNewProject:"Create New Project",editProject:"Edit Project",deleteProject:"Delete Project",deleteProjectConfirmation:"Are you sure you want to delete this project? This action cannot be undone.",projectUpdatedSuccessfully:"Project updated successfully",projectCreatedSuccessfully:"Project created successfully",projectDeletedSuccessfully:"Project deleted successfully",projectsDeletedSuccessfully:"projects deleted successfully",cityCreatedSuccessfully:"City created successfully",showChart:"Show Chart",hideChart:"Hide Chart",selectCity:"Select city",selectContact:"Select contact",selectCountry:"Select country",addCity:"Add City",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",createNewCity:"Create New City",noProjectsFound:"No projects found",createNewProjectToGetStarted:"Create a new project to get started",analytics:"Analytics",contractDocument:"Contract Document",noContract:"No contract uploaded",existingDocumentWillBeReplaced:"Existing document will be replaced",uploadContractDocument:"Upload Contract Document",supportedFormats:"Supported formats",createCity:"Create City",addContact:"Add Contact",createContact:"Create",contactCreatedSuccessfully:"Contact created successfully",cancel:"Cancel"},Zee={title:"Requests",subtitle:"Manage internal requests and tasks",createRequest:"Create Request",editRequest:"Edit Request",requestTitle:"Request Title",titlePlaceholder:"Enter request title",searchPlaceholder:"Search requests...",type:"Type",priority:"Priority",status:"Status",createdDate:"Created Date",deleteSuccess:"Request deleted successfully",updateSuccess:"Request updated successfully",createSuccess:"Request created successfully",deleteConfirmation:"Are you sure you want to delete this request? This action cannot be undone.",description:"Description",descriptionPlaceholder:"Request details...",types:{internalTask:"Internal Task",support:"Support",feature:"Feature"},priorities:{low:"Low",medium:"Medium",high:"High"}},ete={title:"Reports",subtitle:"Manage and track all your reports in one place.",loading:"Loading...",description:"Description",createNew:"Create New Report",createNewTitle:"Create New Report",createNewDesc:"Create a new report and assign a team leader. You can add members after creation.",reportName:"Report Name",reportNamePlaceholder:"Enter report name",reportLeader:"Report Leader",selectReportLeader:"Select report leader (optional)",created:"Created",noReportsFound:"No reports found",noReportsYet:"No reports yet",createFirstReport:"Create your first report",deleteReport:"Delete Report",deleteConfirmation:'Are you sure you want to delete "{{name}}"? This will also remove all report members. This action cannot be undone.',moreReports:"+{{count}} more reports",list:"List",create:"Create",schedule:"Schedule",addReport:"Add Report",addReportDesc:"Add a new report to the selected stage.",reportDetails:"Report Details",createdBy:"Created By",lastModified:"Last Modified",searchReports:"Search reports...",noReports:"No reports",titleArPlaceholder:"Enter report title in Arabic",descriptionPlaceholder:"Enter report description",selectType:"Select report type",titleEnPlaceholder:"Enter report title in English",noReportsDesc:"No reports in this folder.",titleEn:"Title (English)",titleAr:"Title (Arabic)",descriptionEn:"Description (English)",descriptionAr:"Description (Arabic)",reportType:"Report Type",createReport:"Create Report",scheduling:"Scheduling",comingSoon:"Coming Soon",schedulingDesc:"Report scheduling feature is under development and will be available soon.",errorLoading:"Failed to load reports",downloadSuccess:"Report downloaded successfully",exportError:"Failed to export report",parameters:"Parameters",executing:"Executing...",executeReport:"Execute Report",results:"Results",records:"records",exportCSV:"Export CSV",types:{summary:"Summary",analytics:"Analytics",trend:"Trend",conversion:"Conversion",performance:"Performance"}},tte={title:"Webmail",emailAccounts:"Email Accounts",addAccount:"Add Account",addAccountDesc:"Connect your email account to start sending and receiving emails",noAccounts:"No email accounts",editAccount:"Edit Account",deleteAccount:"Delete Account",accountCreated:"Account created successfully",accountUpdated:"Account updated successfully",accountDeleted:"Account deleted successfully",emailAddress:"Email Address",password:"Password",enterPassword:"Enter your password",leaveBlankToKeep:"Leave blank to keep current password",imapServer:"IMAP Server",imapPort:"IMAP Port",smtpServer:"SMTP Server",smtpPort:"SMTP Port",useSSL:"Use SSL/TLS",testConnection:"Test Connection",testConnectionFailed:"Failed to test connection",saveFailed:"Failed to save account",active:"Active",inactive:"Inactive",lastSync:"Last sync",manageAccounts:"Manage Accounts",compose:"Compose",inbox:"Inbox",starred:"Starred",sent:"Sent",drafts:"Drafts",trash:"Trash",noEmails:"No emails found",searchEmails:"Search emails...",refresh:"Refresh",syncComplete:"Sync Complete",syncedEmails:"Synced {{count}} emails",syncFailed:"Failed to sync emails",loadEmailsFailed:"Failed to load emails",reply:"Reply",replyAll:"Reply All",forward:"Forward",markAsRead:"Mark as read",markAsUnread:"Mark as unread",star:"Star",unstar:"Unstar",delete:"Delete",emailDeleted:"Email deleted",deleteFailed:"Failed to delete email",send:"Send",saveDraft:"Save Draft",emailSent:"Email sent successfully",sendFailed:"Failed to send email",draftSaved:"Draft saved",saveDraftFailed:"Failed to save draft",to:"To",cc:"CC",bcc:"BCC",addRecipient:"Add recipient",addCC:"Add CC",addBCC:"Add BCC",subject:"Subject",subjectPlaceholder:"Enter subject",noSubject:"(No subject)",message:"Message",messagePlaceholder:"Write your message here...",attachments:"Attachments",noAttachments:"No attachments",recipientRequired:"At least one recipient is required",success:"Success",error:"Error",back:"Back",from:"From",date:"Date"},rte={title:"Marketing Templates",description:"Manage email templates and marketing content for campaigns",createTemplate:"Create Template",editTemplate:"Edit Template",template:"Template",category:"Category",status:"Status",usage:"Usage",uses:"uses",lastUsed:"Last used",active:"Active",inactive:"Inactive",system:"System",default:"Default",searchPlaceholder:"Search templates by name, code, or subject...",allCategories:"All Categories",allTypes:"All Types",allStatuses:"All Statuses",templateName:"Template Name",templateNamePlaceholder:"Enter a descriptive name",templateCode:"Template Code",subject:"Subject",subjectAr:"Subject (Arabic)",subjectPlaceholder:"Enter email subject line",subjectArPlaceholder:"  ",previewText:"Preview Text",previewTextPlaceholder:"Text shown in email preview",content:"Content",plainText:"Plain Text",html:"HTML",htmlPlaceholder:"Enter HTML email template content...",textPlaceholder:"Enter plain text version...",design:"Design",primaryColor:"Primary Color",secondaryColor:"Secondary Color",internalDescription:"Internal Description",descriptionPlaceholder:"Describe when and how to use this template",availableVariables:"Available Variables",isActive:"Active",isDefault:"Set as Default",preview:"Preview",copied:"Copied!",copiedDescription:"Content copied to clipboard",copyFailed:"Copy Failed",copyFailedDescription:"Could not copy to clipboard",created:"Created",updated:"Updated",noTemplates:"No Templates Found",noTemplatesDescription:"Create your first template to get started",confirmDelete:"Delete Template",confirmDeleteDescription:"Are you sure you want to delete this template? This action cannot be undone.",confirmBulkDelete:"Are you sure you want to delete {{count}} selected templates?",bulkDeleteComplete:"Delete Complete",bulkDeleteDescription:"Successfully deleted {{count}} templates",saveFailed:"Save Failed",saveFailedDescription:"Failed to save template. Please try again.",deleteFailed:"Delete Failed",deleteFailedDescription:"Failed to delete template. Please try again.",createdDescription:"Template created successfully",updatedDescription:"Template updated successfully",deletedDescription:"Template deleted successfully",errorTitle:"Error Loading Templates",validation:{nameRequired:"Template name is required",codeRequired:"Template code is required",subjectRequired:"Subject is required for email templates",contentRequired:"At least one content type (HTML or text) is required"},loadSample:"Load Sample",selectCategory:"Select category",noContent:"No content available"},nte={navigation:Aee,buttons:Pee,forms:Oee,auth:Dee,common:Ree,status:Fee,dashboard:Mee,leads:Iee,notes:Lee,projects:$ee,settings:Bee,chat:Uee,tickets:zee,teams:Vee,tasks:Wee,landing:Hee,users:qee,clients:Gee,employeeDashboard:Kee,chats:Yee,surveys:Xee,mleads:Qee,mprojects:Jee,requests:Zee,reports:ete,webmail:tte,marketingTemplates:rte},ate={home:"",dashboard:" ",projects:"",whatsapp:"",reports:"",users:"",settings:"",leads:" ",masterLeads:" ",tickets:"",tasks:"",teams:"",clients:"",chats:"",allChats:" ",surveys:"",clientPortal:" ",partnerDashboard:"  ",empDashboard:"  ",mainGroup:"",salesGroup:"",workGroup:"",communicationGroup:"",requestGroup:"",requestsGroup:"",requests:"",systemGroup:"",permissions:"",marketingTemplates:" ",webmail:" "},ste={save:"",cancel:"",submit:"",delete:"",edit:"",close:"",add:"",create:"",login:" ",signup:" ",logout:" ",saving:" ..."},ite={name:"",email:" ",password:" ",confirmPassword:"  ",phone:"",message:""},ote={signIn:" ",signUp:" ",createAccount:" ",enterCredentials:"  ",signUpToGetStarted:" ",companyCode:" ",chooseAccountType:"     ",chooseAccountTypeSignUp:"     ",client:"",partner:"",partnerEmployee:" ",redirectingToGoogle:"    ...",orContinueWith:"  ",email:" ",password:" ",signingIn:"  ...",signInButton:" ",signUpButton:" ",dontHaveAccount:"  ",alreadyHaveAccount:"  ",clientPortal:" ",failedToSignIn:"  ",failedToSignInWithGoogle:"    ",emailOrUsername:"  /  ",enterEmail:"  ",enterPassword:"  ",loginSuccess:"   ",loginFailed:"  .    .",loginFailedTitle:"  "},lte={welcome:"",saving:" ...",retry:" ",comingSoon:"",loading:" ...",filters:"",export:"",error:"",success:"",add:"",edit:"",delete:"",create:"",update:"",save:"",cancel:"",confirm:"",close:"",submit:"",back:"",next:"",previous:"",first:"",last:"",noData:"   ",noResults:"    ",noItems:"   ",noRecords:"    ",noRecordsFound:"    ",noMatches:"    ",search:"",filter:"",notifications:"",kanban:"",list:"",select:"",view:"",status:"",assignee:" ",all:"",pickDate:" ",clearFilters:" ",actions:"",stage:"",priority:"",veryLow:" ",low:"",medium:"",high:"",veryHigh:" ",overview:" ",unassigned:" ",page:"",of:"",copy:"",copyHTML:" HTML",copyText:" "},cte={fillAllFields:"   ",required:"",invalidEmail:"   ",passwordTooShort:"   ",passwordsNotMatch:"   "},ute={title:"   ",subtitle:"     ",comingSoonMessage:"       ."},dte={open:"",in_progress:" ",closed:"",resolve:"",reopen:" ",pending:" ",approved:" ",rejected:"",completed:""},fte={title:" ",noClient:"  ",subtitle:" !     .",totalProjects:" ",completed:"",inProgress:" ",activeProjects:" ",clients:"",totalClients:" ",teamMembers:" ",activeUsers:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentProjects:" ",projectStatus:" ",noProjectsYet:"   ",retry:" ",completedStatus:"",inProgressStatus:" ",notStartedStatus:" "},hte={title:" ",subtitle:"    ",newLead:"  ",addLead:"  ",createLead:"   ",createLeadDesc:"      .",leadName:"  ",leadNamePlaceholder:"   ",description:"",descriptionPlaceholder:"   ",clientName:" ",clientNamePlaceholder:"  ",client:"",selectClient:"  ()",noClient:" ",unknown:" ",created:" ",updated:" ",createdBy:"  ",assignedTo:" ",assignToEmployee:" ",selectAssignee:"  ",lead:" ",deleteLead:"  ",deleteConfirmation:'      "{{name}}"',addStage:" ",stageNamePlaceholder:" ...",deleteStage:" ",deleteStageConfirmation:"    {{count}}  .           .      .",addNewLeadCard:"   ",noLeadsYet:"      .",value:"",currency:"",stageTotal:": {{amount}}",leadDetails:"  ",leadDetailsDesc:"    ",notFound:"   ",expectedCloseDate:"  ",totalLeads:"  ",thisMonth:" ",totalValue:" ",avgValue:" "},mte={title:"",addNote:" ",noNotes:"   ",placeholder:" ...",save:" ",edit:"",delete:" ",deleteConfirmation:"       ",unknown:"  "},pte={title:"",subtitle:"   ",newProject:" ",createProject:"  ",createProjectDesc:"     .",projectName:" ",projectNamePlaceholder:"  ",description:"",descriptionPlaceholder:"  ",client:"",selectClient:" ",initialProgress:" ",addProject:" ",addNewProjectCard:"  ",progress:"",started:"",due:"",deleteProject:" ",deleteConfirmation:'      "{{name}}"',noProjectsYet:"     .",dueDate:" ",stage:"",manager:"",total:" ",inProgress:" ",completed:"",avgProgress:" ",deleteComment:" ",deleteCommentConfirmation:"       "},gte={title:"",channels:"",teams:"",directMessages:" ",welcome:"   ",selectRoomDesc:"      .",membersCount:"{{count}} ",loadingMembers:"  ...",today:"",placeholder:" ...",noChannels:"  ",noMessages:"  "},vte={title:"",subtitle:"    .",newTicket:" ",createNewTicket:"  ",createTicketDesc:"     .",searchPlaceholder:"  ...",allTickets:" ",noTicketsFound:"  ",noTicketsFoundDesc:"   .",noTicketsYet:"     .",id:"",subject:"",subjectPlaceholder:"  ",description:"",descriptionPlaceholder:"   ",status:"",priority:"",priorityLow:"",priorityMedium:"",priorityHigh:"",priorityUrgent:"",ticketType:" ",typeRequest:"",typeFollowUp:"",typeIssue:"",typeInternalTask:" ",assignTo:" ",selectAssignee:"   ()",assignedTo:" ",createdDate:" ",actions:"",view:"",loading:"  ...",createTicket:" ",creatingTicket:" ...",createError:"   ",allStatuses:" ",allPriorities:" ",allTypes:" ",allStages:" ",noTicketsInPage:"     ",stage:"",statusOpen:"",statusInProgress:" ",statusResolved:" ",statusClosed:"",ticketId:" ",createdBy:"  ",resolvedDate:" ",closedDate:" ",total:" "},xte={title:"",subtitle:"   ",createTeam:" ",createTeamTitle:"  ",createTeamDesc:"     .     .",teamName:" ",teamNamePlaceholder:"  ",team_leader:" ",selectTeamLeader:"   ()",teamLeader:" ",searchPlaceholder:"  ...",members:"",memberCount:"{{count}} ",memberCount_plural:"{{count}} ",addMember:" ",created:" ",noTeamsFound:"  ",noTeamsYet:"   ",createFirstTeam:"  ",deleteTeam:" ",deleteConfirmation:'      "{{name}}"        .      .',moreMembers:"+{{count}}  ",noMembersYet:"   "},yte={title:"",subtitle:"      .",loading:" ...",description:"",createNew:"  ",createNewTitle:"  ",createNewDesc:"     .     .",reportName:" ",reportNamePlaceholder:"  ",reportLeader:" ",selectReportLeader:"   ()",created:" ",noReportsFound:"  ",noReportsYet:"   ",createFirstReport:"  ",deleteReport:" ",deleteConfirmation:'      "{{name}}"        .      .',moreReports:"+{{count}}  ",list:"",create:"",schedule:"",addReport:" ",addReportDesc:"     .",reportDetails:" ",createdBy:"  ",lastModified:" ",searchReports:"  ...",noReports:"  ",titleArPlaceholder:"   ",descriptionPlaceholder:"  ",selectType:"  ",titleEnPlaceholder:"   ",noReportsDesc:"     .",titleEn:" ",titleAr:" ",descriptionEn:" ",descriptionAr:" ",reportType:" ",createReport:" ",scheduling:"",comingSoon:"",schedulingDesc:"       .",errorLoading:"   ",downloadSuccess:"   ",exportError:"   ",parameters:"",executing:" ...",executeReport:" ",results:"",records:"",exportCSV:" CSV",types:{summary:"",analytics:"",trend:"",conversion:"",performance:""}},bte={title:"",subtitle:"      .",loading:" ...",description:"",error:"",deleteTask:" ",createTask:"  ",createTaskDesc:"     .",newTask:" ",addNewTask:"  ",addTask:" ",taskName:" ",taskNamePlaceholder:"  ",descriptionPlaceholder:"  ",dueDate:" ",selectUser:" ",selectStage:" ",selectStatus:" ",todo:"",inProgress:" ",done:"",stage:"",allTasks:" ",totalTasks:" ",status:"",assignedTo:" ",noTasksYet:"     ."},_te={brandName:"",badge:"  ",hero:{title:{line1:"",line2:" "},description:" CRM           .       .",cta:{primary:" ",secondary:" "}},stats:{users:"10 +",usersLabel:" ",projects:"50 +",projectsLabel:" ",uptime:"99.9%",uptimeLabel:" ",support:"24/7",supportLabel:""},features:{title:"   ",subtitle:"    ",projectManagement:{title:" ",description:"           ."},leadManagement:{title:"  ",description:"       CRM    ."},analytics:{title:" ",description:"        ."},communication:{title:" ",description:"         ."},taskManagement:{title:" ",description:"         ."},security:{title:" ",description:"       ."}},cta:{title:" ",description:"               .",button:"  "},partner:{title:" ",subtitle:"      .      .",companyName:" ",fullName:" ",email:" ",phone:" ",submit:" ",success:"  ",successMessage:" !   ."},footer:{copyright:" 2025 {{brand}} CRM.   ."}},wte={title:"",subtitle:"   ",totalUsers:" ",addUser:" ",addNewUser:"  ",addUserDescription:"      .",fullName:" ",email:" ",password:" ",role:"",admin:"",manager:"",employee:"",team_leader:" ",client:"",employees:"",clients:"",addingUser:"  ...",addUserError:"   ",deleteUser:" ",deleteConfirmation:'      "{{name}}"',deleteError:"   ",updateRoleError:"    ",changeRole:" ",searchPlaceholder:"  ...",noUsersFound:"  ",noUsersFoundDesc:"   .",noUsersAvailable:"   ",joined:"",updated:" ",userDetails:" ",userDetailsDescription:"     ",phone:"",contact:"",company:"",userId:" ",authUserId:"  ",updateUserError:"   ",partners:"",partnerUsers:" ",partnerApplications:" ",partner:"",partner_employee:" ",noPartnerUsersFound:"   ",noApplicationsFound:"   ",approve:"",reject:"",rejectConfirmation:"       ",viewApplication:" "},jte={title:"",subtitle:"   ",newClient:" ",loading:"  ...",noClientsFound:"  ",noClientsYet:"     ",active:"",totalProjects:" ",activeProjects:" ",completedProjects:" ",noCompany:" ",noEmail:"  ",projects:"",viewDetails:" ",clientDetails:" ",userId:" ",emailLabel:" ",contactLabel:"",companyLabel:"",createdLabel:" ",updatedLabel:" ",projectSummary:" "},Ste={title:"   ",subtitle:"  {{name}}!     .",employeeInfo:" ",name:"",email:" ",role:"",memberSince:" ",myProjects:"",active:"",myTasks:"",completed:"",inProgress:" ",activeTasks:" ",completedTasks:"",finishedTasks:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentTasks:" ",noDescription:" ",noProjectsAssigned:"    ",noTasksAssigned:"    "},Nte={chatRooms:" ",createRoomTitle:"  ",createRoomDesc:"    ",roomName:" ",roomNamePlaceholder:"  ",private:"",privateRoom:" ",publicRoom:" ",project:"",projectIdPlaceholder:"  ()",createRoom:" ",selectRoom:"   ",selectConversation:" ",connectDescription:"        .",members:"",typeMessage:" ...",you:"",unknownUser:"  ",justNow:"",minutesAgo:" {{count}} ",hoursAgo:" {{count}} ",online:"",someoneTyping:"  ...",searchConversations:"  ...",searchRooms:"  ...",viewDetails:" ",viewContactDetails:"  ",deleteConversation:" ",muteNotifications:" ",leaveRoom:" ",note:"",resolvedMessage:"   .    .",resolved:" "},kte={title:"",subtitle:"    ",fileEmpty:" ",fileParseError:"   ",requiredFieldNotFound:"   : {{field}}",requiredFieldNotMapped:"   : {{field}}",importSuccess:"  {{count}}  ",importFailed:" ",selectTemplateForImport:"  ",uploadFile:"  Excel  CSV  ",reviewData:"   ",importingData:"  ...",importInstructions:" ",importInstruction1:"        ",importInstruction2:"       ",importInstruction3:" : Excel (.xlsx, .xls)  CSV",dragDropFile:"   ",selectFile:" ",validationErrors:" ",columnMapping:" ",required:"",notMapped:" ",optional:"",noTemplateSelected:"   ",previewFirstRows:" ( {{count}} )",showingRows:"  {{shown}}  {{total}} ",processingRows:" ",startImport:" ",surveys:"",templates:"",totalSurveys:" ",deleteSurvey:" ",deleteSurveyConfirmation:'      "{{name}}"      .',createTemplateTitle:"   ",createTemplateDesc:"    ",templateName:" ",templateNameAr:"  ",descriptionAr:" ",selectCategory:" ",setAsDefault:" ",customerSatisfaction:" ",productFeedback:" ",serviceQuality:" ",general:"",settings:"",isActive:"",isDefault:"",surveyName:" ",surveyNameAr:"  ",createdDate:" ",bulkImport:" ",createTemplate:" ",searchPlaceholder:"  ...",noSurveysFound:"  ",noSurveysFoundDesc:"   .",noSurveysYet:"     .",noTemplatesFound:"  ",noTemplatesFoundDesc:"   .",noTemplatesYet:"     .",survey:"",clientName:" ",clientCompany:" ",contact:"",noContact:" ",noCompany:" ",noEmail:"  ",location:"",responses:"",completed:"",inProgress:" ",pending:" ",active:"",inactive:" ",default:"",category:"",noCategory:" ",status:"",description:"",noDescription:" ",fields:"",noFields:"   ",noResponsesRecorded:"    ",created:" ",updated:" ",createdBy:"  ",unknownCreator:"  ",newSurvey:" ",createNewSurvey:"  ",selectTemplate:" ",fillSurveyDetails:"  ",changeTemplate:" ",submitSurvey:" ",locationWillBeCaptured:"    ",addField:" ",fieldLabel:" ",fieldType:" ",text:"",textarea:" ",email:" ",date:"",select:" ",multiselect:"  ",radio:" ",checkbox:" ",image:"",options:"",optionsPlaceholder:"    (: 1 2 3)",isRequired:"",editTemplateTitle:" ",updateTemplate:" ",deleteTemplate:" ",deleteTemplateConfirmation:'      "{{name}}"      .',templateNameRequired:"  ",atLeastOneFieldRequired:"    ",fieldLabelRequired:" {{number}}:  ",templateCreated:"   !",templateUpdated:"   !",templateValidationFailed:"     .",templateSaveError:"  {{action}} .    .",bulkSelect:" ",exitBulkMode:"   ",bulkDeleteSuccess:"  {{count}}  ",bulkDeleteError:"   ",confirmBulkDelete:"  ",confirmBulkDeleteDesc:"      {{count}}        .",selectedCount:"{{count}}  ",clearSelection:" ",deleteSelected:" ",selectAll:" "},Cte={title:"",description:"   ",stageManagement:" ",leads:"  ",projects:" ",tasks:" ",tickets:" ",mleads:"  ",mprojects:"  ",addStage:" ",editStage:" ",deleteStage:" ",stageName:" ",stageNamePlaceholder:"  ",stageColor:" ",order:"",noStages:"    .   .",addStageDesc:"    {{type}}",deleteStageConfirmation:"             .",englishName:" ",arabicName:" ",changePassword:"  ",changePasswordDescription:"    .      6   .",newPassword:"  ",newPasswordPlaceholder:"   ",newPasswordRequired:"   ",confirmPassword:"  ",confirmPasswordPlaceholder:"    ",passwordsDoNotMatch:"   ",passwordTooShort:"     6   ",changingPassword:"   ...",passwordChangedSuccessfully:"    !",passwordChangeFailed:"    "},Ete={company:"",city:"",country:"",activity:"",addNewLead:"   ",leads:" ",leadManagement:"  ",leadOverview:"    ",filters:"",distributionCharts:"  ",timeline:" ",status:"",system:"",assignedTo:" ",created:" ",stage:"",notes:"",value:"",currency:"",leadDetails:" ",companyName:" ",address:"",contacts:" ",addContact:"+   ",quotation:"",viewQuotation:" ",editLeadDescription:"   ",createLeadDescription:"    ",leadDetailsDescription:"    ",reports:"",selectReport:" ",leadsSummaryReport:"   ",leadsByCityReport:"    ",leadsConversionReport:"   ",salesPerformanceReport:"  ",leadsTrendReport:"   ",reportParameters:" ",runReport:" ",reportResults:" ",records:"",allActivities:" ",allSystems:" ",startDate:" ",endDate:" ",totalLeads:"  ",wonLeads:" ",lostLeads:" ",leadsByCity:"   ",salesPerformance:" ",wonDeals:" ",lostDeals:" ",pendingLeads:"  ",uploadQuotation:" ",noContactsFound:"     ",allCountries:" ",allUsers:" ",clearFilters:" ",decisionMaker:"  ",save:"",cancel:"",contactName:"  ",email:" ",mobile:" ",jobTitle:" ",selectContact:"  ",selectStage:" ",selectJobTitle:"  ",kanbanView:"",listView:"",searchPlaceholder:"   ",searchCompany:"  ...",searchActivity:"  ...",searchCity:"  ...",searchCountry:"  ...",searchSystem:"  ...",searchStatus:"  ...",searchUser:"  ...",searchContact:"   ...",searchStage:"  ...",allStages:" ",searchJobTitle:"   ...  ",addNew:"+  ",cityNameEn:"  ()",cityNameAr:"  ()",selectCountry:" ",createCity:" ",selectActivity:" ",selectSystem:" ",selectStatus:" ",selectUser:" ",leadName:"  ",hideChart:"  ",showChart:"  ",leadDescription:"  ",leadValue:"  ",leadCurrency:"  ",saveLead:"  ",editLead:"  ",createNewLead:"   ",addContactTitle:"  ",createNewCity:"  ",systemNameEn:"  ()",systemNameAr:"  ()",createSystem:" ",createNewSystem:"  ",activityNameEn:"  ()",activityNameAr:"  ()",createActivity:" ",createNewActivity:"  ",statusNameEn:"  ()",statusNameAr:"  ()",createStatus:" ",createNewStatus:"  ",masterLeads:" ",manageMasterLeadsData:"   ",noLeadsFound:"    ",createNewLeadToGetStarted:"   ",deleteLead:" ",deleteLeadConfirmation:"             .",leadUpdatedSuccessfully:"   ",leadCreatedSuccessfully:"   ",leadDeletedSuccessfully:"   ",leadsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",systemCreatedSuccessfully:"   ",activityCreatedSuccessfully:"   ",statusCreatedSuccessfully:"   ",createdBy:"  ",description:"",createLead:"  ",editlead:"  ",firstName:" ",lastName:" ",showLead:" ",hideLead:" "},Tte={masterProjects:" ",manageMasterProjectsData:"   ",kanbanView:"",listView:"",createdBy:"  ",client:"",company:"",country:"",allCountries:" ",allCities:" ",allClients:" ",allUsers:" ",searchCity:"  ...",searchCountry:"  ...",searchClient:"  ...",searchUser:"  ...",jobTitle:" ",selectJobTitle:"  ",addContactTitle:"  ",searchJobTitle:"   ",contacts:" ",noContactsFound:"     ",viewContract:" ",contactName:"  ",email:" ",mobile:" ",projectName:" ",description:"",projectDescription:" ",projectCountry:" ",projectCity:" ",clearFilters:" ",searchPlaceholder:"     ",notStarted:" ",inProgress:" ",completed:"",notes:"",projectDetails:" ",companyName:" ",contractCode:" ",contractAmount:" ",startDate:" ",endDate:" ",city:"",contact:" ",created:" ",createNewProject:"  ",editProject:" ",deleteProject:" ",deleteProjectConfirmation:"             .",projectUpdatedSuccessfully:"   ",projectCreatedSuccessfully:"   ",projectDeletedSuccessfully:"   ",projectsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",showChart:"  ",hideChart:"  ",selectCity:" ",selectContact:"  ",selectCountry:" ",addCity:" ",cancel:"",cityNameEn:"  ()",cityNameAr:"  ()",createCity:" ",createNewCity:"  ",noProjectsFound:"    ",createNewProjectToGetStarted:"   ",analytics:"",contractDocument:" ",noContract:"   ",existingDocumentWillBeReplaced:"   ",uploadContractDocument:"  ",supportedFormats:" ",addContact:"  ",createContact:"",contactCreatedSuccessfully:"    "},Ate={title:"",subtitle:"   ",createRequest:" ",editRequest:" ",requestTitle:" ",titlePlaceholder:"  ",searchPlaceholder:"  ...",type:"",priority:"",status:"",createdDate:" ",deleteSuccess:"   ",updateSuccess:"   ",createSuccess:"   ",deleteConfirmation:"             .",description:"",descriptionPlaceholder:" ...",types:{internalTask:" ",support:"",feature:" "},priorities:{low:"",medium:"",high:""}},Pte={title:" ",description:"      ",createTemplate:" ",editTemplate:" ",template:"",category:"",status:"",usage:"",uses:"",lastUsed:" ",active:"",inactive:" ",system:"",default:"",searchPlaceholder:"       ...",allCategories:" ",allTypes:" ",allStatuses:" ",templateName:" ",templateNamePlaceholder:"  ",templateCode:" ",subject:"",subjectAr:" ()",subjectPlaceholder:"  ",subjectArPlaceholder:"   ",previewText:" ",previewTextPlaceholder:"    ",content:"",plainText:" ",html:"HTML",htmlPlaceholder:"    HTML...",textPlaceholder:"   ...",design:"",primaryColor:" ",secondaryColor:" ",internalDescription:" ",descriptionPlaceholder:"     ",availableVariables:" ",isActive:"",isDefault:" ",preview:"",copied:" !",copiedDescription:"    ",copyFailed:" ",copyFailedDescription:"   ",created:" ",updated:" ",noTemplates:"    ",noTemplatesDescription:"   ",confirmDelete:" ",confirmDeleteDescription:"             .",confirmBulkDelete:"      {{count}}  ",bulkDeleteComplete:" ",bulkDeleteDescription:"  {{count}}  ",saveFailed:" ",saveFailedDescription:"  .    .",deleteFailed:" ",deleteFailedDescription:"  .    .",createdDescription:"   ",updatedDescription:"   ",deletedDescription:"   ",errorTitle:"   ",validation:{nameRequired:"  ",codeRequired:"  ",subjectRequired:"   ",contentRequired:"      (HTML  )"},loadSample:" ",selectCategory:" ",noContent:"   "},Ote={title:" ",emailAccounts:"  ",addAccount:" ",addAccountDesc:"        ",noAccounts:"    ",editAccount:" ",deleteAccount:" ",accountCreated:"   ",accountUpdated:"   ",accountDeleted:"   ",emailAddress:"  ",password:" ",enterPassword:"  ",leaveBlankToKeep:"      ",imapServer:" IMAP",imapPort:" IMAP",smtpServer:" SMTP",smtpPort:" SMTP",useSSL:" SSL/TLS",testConnection:" ",testConnectionFailed:"  ",saveFailed:"  ",active:"",inactive:" ",lastSync:" ",manageAccounts:" ",compose:" ",inbox:" ",starred:" ",sent:"",drafts:"",trash:"",noEmails:"    ",searchEmails:"  ...",refresh:"",syncComplete:" ",syncedEmails:"  {{count}} ",syncFailed:" ",loadEmailsFailed:"  ",reply:"",replyAll:"  ",forward:" ",markAsRead:"  ",markAsUnread:"   ",star:" ",unstar:" ",delete:"",emailDeleted:"  ",deleteFailed:"  ",send:"",saveDraft:" ",emailSent:"   ",sendFailed:"  ",draftSaved:"  ",saveDraftFailed:"  ",to:"",cc:" ",bcc:" ",addRecipient:" ",addCC:" ",addBCC:"  ",subject:"",subjectPlaceholder:" ",noSubject:"( )",message:"",messagePlaceholder:"  ...",attachments:"",noAttachments:"  ",recipientRequired:"    ",success:"",error:"",back:"",from:"",date:""},Dte={navigation:ate,buttons:ste,forms:ite,auth:ote,common:lte,validation:cte,partnerEmployeeDashboard:ute,status:dte,dashboard:fte,leads:hte,notes:mte,projects:pte,chat:gte,tickets:vte,teams:xte,reports:yte,tasks:bte,landing:_te,users:wte,clients:jte,employeeDashboard:Ste,chats:Nte,surveys:kte,settings:Cte,mleads:Ete,mprojects:Tte,requests:Ate,marketingTemplates:Pte,webmail:Ote},Rte={en:{translation:nte},ar:{translation:Dte}};Gr.use(pee).init({resources:Rte,lng:"ar",fallbackLng:"en",interpolation:{escapeValue:!1}});const Te=(e,t)=>{if(Gr.language==="ar"){const a=`${t}_ar`;if(e[a]&&e[a].trim())return e[a]}if(e[t]&&e[t].trim())return e[t];const n=`${t}_ar`;return e[n]&&e[n].trim()?e[n]:""},fc=(e,t)=>{const r=Gr.language,n={...e};return Object.entries(t).forEach(([a,s])=>{r==="ar"?(n[`${s}_ar`]=e[a],n[s]=e[a]):(n[s]=e[a],n[`${s}_ar`]=e[a])}),n},cS=()=>Gr.dir()==="rtl";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dg.apply(this,arguments)}var lu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(lu||(lu={}));const nR="popstate";function Fte(e){e===void 0&&(e={});function t(a,s){let{pathname:o="/",search:l="",hash:c=""}=jf(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),B2("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let o=a.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:F1(s))}function n(a,s){hT(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Ite(t,r,n,e)}function hn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hT(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mte(){return Math.random().toString(36).substr(2,8)}function aR(e,t){return{usr:e.state,key:e.key,idx:t}}function B2(e,t,r,n){return r===void 0&&(r=null),Dg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?jf(t):t,{state:r,key:t&&t.key||n||Mte()})}function F1(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Ite(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=lu.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Dg({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=lu.Pop;let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:y})}function h(v,y){l=lu.Push;let b=B2(p.location,v,y);r&&r(b,v),u=d()+1;let _=aR(b,u),j=p.createHref(b);try{o.pushState(_,"",j)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(j)}s&&c&&c({action:l,location:p.location,delta:1})}function m(v,y){l=lu.Replace;let b=B2(p.location,v,y);r&&r(b,v),u=d();let _=aR(b,u),j=p.createHref(b);o.replaceState(_,"",j),s&&c&&c({action:l,location:p.location,delta:0})}function g(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:F1(v);return b=b.replace(/ $/,"%20"),hn(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let p={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(nR,f),c=v,()=>{a.removeEventListener(nR,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(v){return o.go(v)}};return p}var sR;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sR||(sR={}));function Lte(e,t,r){return r===void 0&&(r="/"),$te(e,t,r,!1)}function $te(e,t,r,n){let a=typeof t=="string"?jf(t):t,s=mT(a.pathname||"/",r);if(s==null)return null;let o=lB(e);Bte(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Qte(s);l=Yte(o[c],u,n)}return l}function lB(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(hn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Su([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(hn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lB(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Gte(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of cB(s.path))a(s,o,c)}),t}function cB(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=cB(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Bte(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Kte(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ute=/^:[\w-]+$/,zte=3,Vte=2,Wte=1,Hte=10,qte=-2,iR=e=>e==="*";function Gte(e,t){let r=e.split("/"),n=r.length;return r.some(iR)&&(n+=qte),t&&(n+=Vte),r.filter(a=>!iR(a)).reduce((a,s)=>a+(Ute.test(s)?zte:s===""?Wte:Hte),n)}function Kte(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Yte(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=oR({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=oR({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Su([s,f.pathname]),pathnameBase:tre(Su([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Su([s,f.pathnameBase]))}return o}function oR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Xte(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function Xte(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),hT(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Qte(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function mT(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Jte(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?jf(e):e;return{pathname:r?r.startsWith("/")?r:Zte(r,t):t,search:rre(n),hash:nre(a)}}function Zte(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function uS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ere(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pT(e,t){let r=ere(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function gT(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=jf(e):(a=Dg({},e),hn(!a.pathname||!a.pathname.includes("?"),uS("?","pathname","search",a)),hn(!a.pathname||!a.pathname.includes("#"),uS("#","pathname","hash",a)),hn(!a.search||!a.search.includes("#"),uS("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Jte(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Su=e=>e.join("/").replace(/\/\/+/g,"/"),tre=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rre=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nre=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function are(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const uB=["post","put","patch","delete"];new Set(uB);const sre=["get",...uB];new Set(sre);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}const vT=x.createContext(null),ire=x.createContext(null),Vu=x.createContext(null),B_=x.createContext(null),kl=x.createContext({outlet:null,matches:[],isDataRoute:!1}),dB=x.createContext(null);function ore(e,t){let{relative:r}=t===void 0?{}:t;cp()||hn(!1);let{basename:n,navigator:a}=x.useContext(Vu),{hash:s,pathname:o,search:l}=hB(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Su([n,o])),a.createHref({pathname:c,search:l,hash:s})}function cp(){return x.useContext(B_)!=null}function Cl(){return cp()||hn(!1),x.useContext(B_).location}function fB(e){x.useContext(Vu).static||x.useLayoutEffect(e)}function Us(){let{isDataRoute:e}=x.useContext(kl);return e?jre():lre()}function lre(){cp()||hn(!1);let e=x.useContext(vT),{basename:t,future:r,navigator:n}=x.useContext(Vu),{matches:a}=x.useContext(kl),{pathname:s}=Cl(),o=JSON.stringify(pT(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return fB(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=gT(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Su([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,s,e])}const cre=x.createContext(null);function ure(e){let t=x.useContext(kl).outlet;return t&&x.createElement(cre.Provider,{value:e},t)}function dre(){let{matches:e}=x.useContext(kl),t=e[e.length-1];return t?t.params:{}}function hB(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Vu),{matches:a}=x.useContext(kl),{pathname:s}=Cl(),o=JSON.stringify(pT(a,n.v7_relativeSplatPath));return x.useMemo(()=>gT(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function fre(e,t){return hre(e,t)}function hre(e,t,r,n){cp()||hn(!1);let{navigator:a}=x.useContext(Vu),{matches:s}=x.useContext(kl),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Cl(),d;if(t){var f;let v=typeof t=="string"?jf(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||hn(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=Lte(e,{pathname:m}),p=xre(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Su([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Su([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&p?x.createElement(B_.Provider,{value:{location:Rg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:lu.Pop}},p):p}function mre(){let e=wre(),t=are(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const pre=x.createElement(mre,null);class gre extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(kl.Provider,{value:this.props.routeContext},x.createElement(dB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vre(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(vT);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(kl.Provider,{value:t},n)}function xre(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||hn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||pre,c&&(u<0&&h===0?(g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),b=()=>{let _;return m?_=p:g?_=v:f.route.Component?_=x.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,x.createElement(vre,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(gre,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var mB=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mB||{}),M1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(M1||{});function yre(e){let t=x.useContext(vT);return t||hn(!1),t}function bre(e){let t=x.useContext(ire);return t||hn(!1),t}function _re(e){let t=x.useContext(kl);return t||hn(!1),t}function pB(e){let t=_re(),r=t.matches[t.matches.length-1];return r.route.id||hn(!1),r.route.id}function wre(){var e;let t=x.useContext(dB),r=bre(M1.UseRouteError),n=pB(M1.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function jre(){let{router:e}=yre(mB.UseNavigateStable),t=pB(M1.UseNavigateStable),r=x.useRef(!1);return fB(()=>{r.current=!0}),x.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Rg({fromRouteId:t},s)))},[e,t])}function Sre(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Gy(e){let{to:t,replace:r,state:n,relative:a}=e;cp()||hn(!1);let{future:s,static:o}=x.useContext(Vu),{matches:l}=x.useContext(kl),{pathname:c}=Cl(),u=Us(),d=gT(t,pT(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function lR(e){return ure(e.context)}function Sr(e){hn(!1)}function Nre(e){let{basename:t="/",children:r=null,location:n,navigationType:a=lu.Pop,navigator:s,static:o=!1,future:l}=e;cp()&&hn(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:o,future:Rg({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=jf(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=x.useMemo(()=>{let v=mT(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:g},navigationType:a}},[c,d,f,h,m,g,a]);return p==null?null:x.createElement(Vu.Provider,{value:u},x.createElement(B_.Provider,{children:r,value:p}))}function kre(e){let{children:t,location:r}=e;return fre(U2(t),r)}new Promise(()=>{});function U2(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let s=[...t,a];if(n.type===x.Fragment){r.push.apply(r,U2(n.props.children,s));return}n.type!==Sr&&hn(!1),!n.props.index||!n.props.children||hn(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=U2(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function z2(){return z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z2.apply(this,arguments)}function Cre(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Ere(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Tre(e,t){return e.button===0&&(!t||t==="_self")&&!Ere(e)}const Are=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Pre="6";try{window.__reactRouterVersion=Pre}catch{}const Ore="startTransition",cR=vE[Ore];function Dre(e){let{basename:t,children:r,future:n,window:a}=e,s=x.useRef();s.current==null&&(s.current=Fte({window:a,v5Compat:!0}));let o=s.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&cR?cR(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>Sre(n),[n]),x.createElement(Nre,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Rre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V2=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Cre(t,Are),{basename:m}=x.useContext(Vu),g,p=!1;if(typeof u=="string"&&Fre.test(u)&&(g=u,Rre))try{let _=new URL(window.location.href),j=u.startsWith("//")?new URL(_.protocol+u):new URL(u),w=mT(j.pathname,m);j.origin===_.origin&&w!=null?u=w+j.search+j.hash:p=!0}catch{}let v=ore(u,{relative:a}),y=Mre(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(_){n&&n(_),_.defaultPrevented||y(_)}return x.createElement("a",z2({},h,{href:g||v,onClick:p||s?n:b,ref:r,target:c}))});var uR;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(uR||(uR={}));var dR;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dR||(dR={}));function Mre(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=Us(),u=Cl(),d=hB(e,{relative:o});return x.useCallback(f=>{if(Tre(f,r)){f.preventDefault();let h=n!==void 0?n:F1(u)===F1(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,s,o,l])}function At(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ms(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ja(e,t){const r=At(e);return isNaN(t)?Ms(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Co(e,t){const r=At(e);if(isNaN(t))return Ms(e,NaN);if(!t)return r;const n=r.getDate(),a=Ms(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const s=a.getDate();return n>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const xT=6048e5,Ire=864e5,Jx=43200,fR=1440;let Lre={};function up(){return Lre}function gl(e,t){var l,c,u,d;const r=up(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=At(e),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Zd(e){return gl(e,{weekStartsOn:1})}function gB(e){const t=At(e),r=t.getFullYear(),n=Ms(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Zd(n),s=Ms(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Zd(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function fm(e){const t=At(e);return t.setHours(0,0,0,0),t}function hm(e){const t=At(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function sl(e,t){const r=fm(e),n=fm(t),a=+r-hm(r),s=+n-hm(n);return Math.round((a-s)/Ire)}function $re(e){const t=gB(e),r=Ms(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Zd(r)}function W2(e,t){const r=t*7;return Ja(e,r)}function Bre(e,t){return Co(e,t*12)}function Ure(e){let t;return e.forEach(function(r){const n=At(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function zre(e){let t;return e.forEach(r=>{const n=At(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Ky(e,t){const r=At(e),n=At(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Vre(e){return Ms(e,Date.now())}function Es(e,t){const r=fm(e),n=fm(t);return+r==+n}function yT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Wre(e){if(!yT(e)&&typeof e!="number")return!1;const t=At(e);return!isNaN(Number(t))}function mm(e,t){const r=At(e),n=At(t),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function Hre(e,t,r){const n=gl(e,r),a=gl(t,r),s=+n-hm(n),o=+a-hm(a);return Math.round((s-o)/xT)}function qre(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Gre(e,t){return+At(e)-+At(t)}function Kre(e){const t=At(e);return t.setHours(23,59,59,999),t}function U_(e){const t=At(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Yre(e){const t=At(e);return+Kre(t)==+U_(t)}function Xre(e,t){const r=At(e),n=At(t),a=Ky(r,n),s=Math.abs(mm(r,n));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let l=Ky(r,n)===-a;Yre(At(e))&&s===1&&Ky(e,n)===1&&(l=!1),o=a*(s-Number(l))}return o===0?0:o}function Qre(e,t,r){const n=Gre(e,t)/1e3;return qre(r==null?void 0:r.roundingMethod)(n)}function Ds(e){const t=At(e);return t.setDate(1),t.setHours(0,0,0,0),t}function vB(e){const t=At(e),r=Ms(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function bT(e,t){var l,c,u,d;const r=up(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=At(e),s=a.getDay(),o=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function xB(e){return bT(e,{weekStartsOn:1})}const Jre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zre=(e,t,r)=>{let n;const a=Jre[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Dh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const ene={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nne={date:Dh({formats:ene,defaultWidth:"full"}),time:Dh({formats:tne,defaultWidth:"full"}),dateTime:Dh({formats:rne,defaultWidth:"full"})},ane={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sne=(e,t,r,n)=>ane[e];function Jo(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const ine={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},one={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},une={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fne=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hne={ordinalNumber:fne,era:Jo({values:ine,defaultWidth:"wide"}),quarter:Jo({values:one,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Jo({values:lne,defaultWidth:"wide"}),day:Jo({values:cne,defaultWidth:"wide"}),dayPeriod:Jo({values:une,defaultWidth:"wide",formattingValues:dne,defaultFormattingWidth:"wide"})};function Zo(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?pne(l,f=>f.test(o)):mne(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function mne(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function pne(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function yB(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const gne=/^(\d+)(th|st|nd|rd)?/i,vne=/\d+/i,xne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yne={any:[/^b/i,/^(a|c)/i]},bne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_ne={any:[/1/i,/2/i,/3/i,/4/i]},wne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Sne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Cne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ene={ordinalNumber:yB({matchPattern:gne,parsePattern:vne,valueCallback:e=>parseInt(e,10)}),era:Zo({matchPatterns:xne,defaultMatchWidth:"wide",parsePatterns:yne,defaultParseWidth:"any"}),quarter:Zo({matchPatterns:bne,defaultMatchWidth:"wide",parsePatterns:_ne,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Zo({matchPatterns:wne,defaultMatchWidth:"wide",parsePatterns:jne,defaultParseWidth:"any"}),day:Zo({matchPatterns:Sne,defaultMatchWidth:"wide",parsePatterns:Nne,defaultParseWidth:"any"}),dayPeriod:Zo({matchPatterns:kne,defaultMatchWidth:"any",parsePatterns:Cne,defaultParseWidth:"any"})},_T={code:"en-US",formatDistance:Zre,formatLong:nne,formatRelative:sne,localize:hne,match:Ene,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Tne(e){const t=At(e);return sl(t,vB(t))+1}function bB(e){const t=At(e),r=+Zd(t)-+$re(t);return Math.round(r/xT)+1}function _B(e,t){var d,f,h,m;const r=At(e),n=r.getFullYear(),a=up(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Ms(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=gl(o,t),c=Ms(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=gl(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Ane(e,t){var l,c,u,d;const r=up(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=_B(e,t),s=Ms(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),gl(s,t)}function wB(e,t){const r=At(e),n=+gl(r,t)-+Ane(r,t);return Math.round(n/xT)+1}function xr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Fc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return xr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):xr(r+1,2)},d(e,t){return xr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return xr(e.getHours()%12||12,t.length)},H(e,t){return xr(e.getHours(),t.length)},m(e,t){return xr(e.getMinutes(),t.length)},s(e,t){return xr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return xr(a,t.length)}},Uf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hR={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Fc.y(e,t)},Y:function(e,t,r,n){const a=_B(e,n),s=a>0?a:1-a;if(t==="YY"){const o=s%100;return xr(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):xr(s,t.length)},R:function(e,t){const r=gB(e);return xr(r,t.length)},u:function(e,t){const r=e.getFullYear();return xr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return xr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return xr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Fc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return xr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=wB(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):xr(a,t.length)},I:function(e,t,r){const n=bB(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):xr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Fc.d(e,t)},D:function(e,t,r){const n=Tne(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):xr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return xr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return xr(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return xr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Uf.noon:n===0?a=Uf.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Uf.evening:n>=12?a=Uf.afternoon:n>=4?a=Uf.morning:a=Uf.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Fc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Fc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):xr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):xr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Fc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Fc.s(e,t)},S:function(e,t){return Fc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return pR(n);case"XXXX":case"XX":return id(n);case"XXXXX":case"XXX":default:return id(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return pR(n);case"xxxx":case"xx":return id(n);case"xxxxx":case"xxx":default:return id(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+mR(n,":");case"OOOO":default:return"GMT"+id(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+mR(n,":");case"zzzz":default:return"GMT"+id(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return xr(n,t.length)},T:function(e,t,r){const n=e.getTime();return xr(n,t.length)}};function mR(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+xr(s,2)}function pR(e,t){return e%60===0?(e>0?"-":"+")+xr(Math.abs(e)/60,2):id(e,t)}function id(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=xr(Math.trunc(n/60),2),s=xr(n%60,2);return r+a+t+s}const gR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},jB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Pne=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return gR(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",gR(n,t)).replace("{{time}}",jB(a,t))},One={p:jB,P:Pne},Dne=/^D+$/,Rne=/^Y+$/,Fne=["D","DD","YY","YYYY"];function Mne(e){return Dne.test(e)}function Ine(e){return Rne.test(e)}function Lne(e,t,r){const n=$ne(e,t,r);if(console.warn(n),Fne.includes(e))throw new RangeError(n)}function $ne(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Bne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Une=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zne=/^'([^]*?)'?$/,Vne=/''/g,Wne=/[a-zA-Z]/;function ds(e,t,r){var d,f,h,m,g,p,v,y;const n=up(),a=(r==null?void 0:r.locale)??n.locale??_T,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,l=At(e);if(!Wre(l))throw new RangeError("Invalid time value");let c=t.match(Une).map(b=>{const _=b[0];if(_==="p"||_==="P"){const j=One[_];return j(b,a.formatLong)}return b}).join("").match(Bne).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const _=b[0];if(_==="'")return{isToken:!1,value:Hne(b)};if(hR[_])return{isToken:!0,value:b};if(_.match(Wne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const _=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Ine(_)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Mne(_))&&Lne(_,t,String(e));const j=hR[_[0]];return j(l,_,a.localize,u)}).join("")}function Hne(e){const t=e.match(zne);return t?t[1].replace(Vne,"'"):e}function qne(e,t,r){const n=up(),a=(r==null?void 0:r.locale)??n.locale??_T,s=2520,o=Ky(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=At(t),u=At(e)):(c=At(e),u=At(t));const d=Qre(u,c),f=(hm(u)-hm(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<fR){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<s)return a.formatDistance("xDays",1,l);if(h<Jx){const g=Math.round(h/fR);return a.formatDistance("xDays",g,l)}else if(h<Jx*2)return m=Math.round(h/Jx),a.formatDistance("aboutXMonths",m,l)}if(m=Xre(u,c),m<12){const g=Math.round(h/Jx);return a.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?a.formatDistance("aboutXYears",p,l):g<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function Gne(e,t){return qne(e,Vre(e),t)}function Kne(e){const t=At(e),r=t.getFullYear(),n=t.getMonth(),a=Ms(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Yne(e){return Math.trunc(+At(e)/1e3)}function Xne(e){const t=At(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Qne(e,t){return Hre(Xne(e),Ds(e),t)+1}function H2(e,t){const r=At(e),n=At(t);return r.getTime()>n.getTime()}function SB(e,t){const r=At(e),n=At(t);return+r<+n}function wT(e,t){const r=At(e),n=At(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Jne(e,t){const r=At(e),n=At(t);return r.getFullYear()===n.getFullYear()}function dS(e,t){return Ja(e,-t)}function fS(e,t){const r=At(e),n=r.getFullYear(),a=r.getDate(),s=Ms(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const o=Kne(s);return r.setMonth(t,Math.min(a,o)),r}function vR(e,t){const r=At(e);return isNaN(+r)?Ms(e,NaN):(r.setFullYear(t),r)}function xR(e){if(!e)return e;if(typeof e=="string")try{const t=new Date(e);return isNaN(t.getTime())?e:ds(t,"yyyy-MM-dd HH:mm:ss")}catch{return e}return e instanceof Date?ds(e,"yyyy-MM-dd HH:mm:ss"):e}function q2(e){if(e==null)return e;if(e instanceof Date)return xR(e);if(Array.isArray(e))return e.map(t=>q2(t));if(typeof e=="object"){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(r.toLowerCase().includes("date")||r.toLowerCase().includes("time")?t[r]=xR(e[r]):t[r]=q2(e[r]));return t}return e}const Zne="https://api.middar.com";async function qo(e,t={}){const r={"Content-Type":"application/json",...t.headers},n=localStorage.getItem("authToken");n&&(r.Authorization=`Bearer ${n}`);try{let a=t.body;if(a&&typeof a=="string")try{const l=JSON.parse(a),c=q2(l);a=JSON.stringify(c)}catch(l){console.warn("Failed to parse request body for date formatting",l)}console.log(`API Request: ${t.method||"GET"} ${e}`,a?JSON.parse(a):null);const s=await fetch(`${Zne}${e}`,{...t,headers:r,body:a});let o;try{const l=await s.text();o=l?JSON.parse(l):{}}catch(l){console.error("Failed to parse API response:",l),o={}}if(!s.ok){const l={status:s.status,statusText:s.statusText,url:e,headers:Object.fromEntries(s.headers.entries()),response:o,requestBody:t.body?JSON.parse(t.body):null};console.error("API Error Details:",JSON.stringify(l,null,2));let c="Something went wrong";o&&typeof o=="object"?c=o.message||o.error||JSON.stringify(o):o&&(c=String(o));const u=new Error(c);throw u.status=s.status,u.response=o,u.details=l,u}return o}catch(a){throw console.error("API Request Failed:",{endpoint:e,error:a.message,stack:a.stack}),a}}const K={get:(e,t,r)=>{const n=new URLSearchParams(r).toString();return qo(`/api/v1/get/${e}/${t}${n?`?${n}`:""}`)},list:async(e,t={})=>{const r={...t},n=["m_leads","m_projects","tasks","tickets"];r.sort_by||(r.sort_by="created_at",r.sort_order=n.includes(e)?"DESC":"ASC");let a="";if(r.exact_filters&&(a=typeof r.exact_filters=="string"?r.exact_filters:JSON.stringify(r.exact_filters),delete r.exact_filters),r.advanced_filters&&typeof r.advanced_filters=="string")try{JSON.parse(r.advanced_filters)}catch{delete r.advanced_filters}else r.advanced_filters&&(r.advanced_filters=JSON.stringify(r.advanced_filters));const s=new URLSearchParams;Object.entries(r).forEach(([c,u])=>{u!=null&&s.append(c,u.toString())});const o=a?`/api/v1/${e}/list?exact_filters=${encodeURIComponent(a)}&${s.toString()}`:s.toString()?`/api/v1/${e}/list?${s.toString()}`:`/api/v1/${e}/list`;console.log("Sending request to:",o);const l=await qo(o);return{data:l.data||[],total:l.totalRows||0,page:(l.page||1)-1,pageSize:l.totalRows||0}},count:async(e,t={})=>{try{return(await K.list(e,{...t,pageSize:1})).total||0}catch{return console.warn(`Count failed for ${e}, returning 0`),0}},create:(e,t)=>e==="messages"?qo(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(t)}):qo(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(t)}),update:(e,t,r)=>qo(`/api/v1/update/${e}/${t}`,{method:"PUT",body:JSON.stringify(r)}),delete:(e,t)=>qo(`/api/v1/delete/${e}/${t}`,{method:"DELETE"}),getAggregates:async(e,t={})=>{try{console.log("[API] Getting aggregates for tables:",e);const r=e.map(async s=>{try{const l={m_projects:"m_projects",m_leads:"m_leads",clients:"Users",users:"Users",surveys:"surveys",tasks:"tasks"}[s]||s,u=(await K.list(l,{pageSize:1})).total||0;return console.log(`[API] Got count for ${s} (${l}):`,u),{[s]:{Count:u}}}catch(o){return console.warn(`[API] Count failed for ${s}, using fallback:`,o),{[s]:{Count:0}}}}),a=(await Promise.all(r)).reduce((s,o)=>({...s,...o}),{});return console.log("[API] Combined aggregates result:",a),a}catch(r){return console.error("[API] Failed to get aggregates:",r),{}}},auth:{login:async e=>qo("/api/v1/account/login",{method:"POST",body:JSON.stringify(e)})},permissions:{list:(e={})=>K.list("permissions",e),get:e=>K.get("permissions",e),create:e=>K.create("permissions",e),update:(e,t)=>K.update("permissions",e,t),delete:e=>K.delete("permissions",e)},comments:{list:(e={})=>K.list("comments",e),get:e=>K.get("comments",e),create:e=>K.create("comments",e),update:(e,t)=>K.update("comments",e,t),delete:e=>K.delete("comments",e)},leads:{list:(e={})=>K.list("leads",e),get:e=>K.get("leads",e),create:e=>K.create("leads",e),update:(e,t)=>K.update("leads",e,t),delete:e=>K.delete("leads",e)},mAction:{list:(e={})=>K.list("m_action",e),get:e=>K.get("m_action",e),create:e=>K.create("m_action",e),update:(e,t)=>K.update("m_action",e,t),delete:e=>K.delete("m_action",e)},mActivity:{list:(e={})=>K.list("m_activity",e),get:e=>K.get("m_activity",e),create:e=>K.create("m_activity",e),update:(e,t)=>K.update("m_activity",e,t),delete:e=>K.delete("m_activity",e)},messages:{list:(e={})=>K.list("messages",e),get:e=>K.get("messages",e),create:e=>K.create("messages",e),update:(e,t)=>K.update("messages",e,t),delete:e=>K.delete("messages",e)},mContacts:{list:(e={})=>K.list("m_contacts",e),get:e=>K.get("m_contacts",e),create:e=>K.create("m_contacts",e),update:(e,t)=>K.update("m_contacts",e,t),delete:e=>K.delete("m_contacts",e)},mCountry:{list:(e={})=>K.list("m_country",e),get:e=>K.get("m_country",e),create:e=>K.create("m_country",e),update:(e,t)=>K.update("m_country",e,t),delete:e=>K.delete("m_country",e)},mCity:{list:(e={})=>K.list("m_city",e),get:e=>K.get("m_city",e),create:e=>K.create("m_city",e),update:(e,t)=>K.update("m_city",e,t),delete:e=>K.delete("m_city",e),getByCountry:(e,t={})=>K.list("m_city",{...t,exact_filters:{country_id:e}})},mJobtitle:{list:(e={})=>K.list("m_jobtitle",e),get:e=>K.get("m_jobtitle",e),create:e=>K.create("m_jobtitle",e),update:(e,t)=>K.update("m_jobtitle",e,t),delete:e=>K.delete("m_jobtitle",e)},mLeads:{list:(e={})=>K.list("m_leads",e),get:e=>K.get("m_leads",e),create:e=>K.create("m_leads",e),update:(e,t)=>K.update("m_leads",e,t),delete:e=>K.delete("m_leads",e),getByStage:(e,t={})=>K.list("m_leads",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>K.list("m_leads",{...t,exact_filters:{assigned_to:e}}),getByStatus:(e,t={})=>K.list("m_leads",{...t,exact_filters:{status_id:e}})},mSystem:{list:(e={})=>K.list("m_system",e),get:e=>K.get("m_system",e),create:e=>K.create("m_system",e),update:(e,t)=>K.update("m_system",e,t),delete:e=>K.delete("m_system",e)},mLeadsTrans:{list:(e={})=>K.list("m_leads_trans",e),get:e=>K.get("m_leads_trans",e),create:e=>K.create("m_leads_trans",e),update:(e,t)=>K.update("m_leads_trans",e,t),delete:e=>K.delete("m_leads_trans",e),getByLead:(e,t={})=>K.list("m_leads_trans",{...t,exact_filters:{leads_id:e}}),getByUser:(e,t={})=>K.list("m_leads_trans",{...t,exact_filters:{user_id:e}})},mProjects:{list:(e={})=>K.list("m_projects",e),get:e=>K.get("m_projects",e),create:e=>K.create("m_projects",e),update:(e,t)=>K.update("m_projects",e,t),delete:e=>K.delete("m_projects",e)},mStatus:{list:(e={})=>K.list("m_status",e),get:e=>K.get("m_status",e),create:e=>K.create("m_status",e),update:(e,t)=>K.update("m_status",e,t),delete:e=>K.delete("m_status",e)},notes:{list:(e={})=>K.list("notes",e),get:e=>K.get("notes",e),create:e=>K.create("notes",e),update:(e,t)=>K.update("notes",e,t),delete:e=>K.delete("notes",e),getByRelated:(e,t,r={})=>K.list("notes",{...r,exact_filters:{related_to_type:e,related_to_id:t}})},partnerApply:{list:(e={})=>K.list("partner_apply",e),get:e=>K.get("partner_apply",e),create:e=>K.create("partner_apply",e),update:(e,t)=>K.update("partner_apply",e,t),delete:e=>K.delete("partner_apply",e),getPending:(e={})=>K.list("partner_apply",{...e,exact_filters:{status:"Pending"}}),getByStatus:(e,t={})=>K.list("partner_apply",{...t,exact_filters:{status:e}})},projectUsers:{list:(e={})=>K.list("project_users",e),get:e=>K.get("project_users",e),create:e=>K.create("project_users",e),update:(e,t)=>K.update("project_users",e,t),delete:e=>K.delete("project_users",e),getByProject:(e,t={})=>K.list("project_users",{...t,exact_filters:{project_id:e}})},projectImages:{list:(e={})=>K.list("project_images",e),get:e=>K.get("project_images",e),create:e=>K.create("project_images",e),update:(e,t)=>K.update("project_images",e,t),delete:e=>K.delete("project_images",e),getByProject:(e,t={})=>K.list("project_images",{...t,exact_filters:{project_id:e}})},projects:{list:(e={})=>K.list("projects",e),get:e=>K.get("projects",e),create:e=>K.create("projects",e),update:(e,t)=>K.update("projects",e,t),delete:e=>K.delete("projects",e),getByStage:(e,t={})=>K.list("projects",{...t,exact_filters:{stage:e}}),getByLead:(e,t={})=>K.list("projects",{...t,exact_filters:{lead_id:e}})},requests:{list:(e={})=>K.list("requests_crm",e),get:e=>K.get("requests_crm",e),create:e=>K.create("requests_crm",e),update:(e,t)=>K.update("requests_crm",e,t),delete:e=>K.delete("requests_crm",e)},rooms:{list:(e={})=>K.list("rooms",e),get:e=>K.get("rooms",e),create:e=>K.create("rooms",e),update:(e,t)=>K.update("rooms",e,t),delete:e=>K.delete("rooms",e),getByProject:(e,t={})=>K.list("rooms",{...t,exact_filters:{project_id:e}}),getByTeam:(e,t={})=>K.list("rooms",{...t,exact_filters:{team_id:e}})},roomMembers:{list:(e={})=>K.list("room_members",e),get:e=>K.get("room_members",e),create:e=>K.create("room_members",e),update:(e,t)=>K.update("room_members",e,t),delete:e=>K.delete("room_members",e),getByRoom:(e,t={})=>K.list("room_members",{...t,exact_filters:{room_id:e}})},stages:{list:(e={})=>K.list("stages",e),get:e=>K.get("stages",e),create:e=>K.create("stages",e),update:(e,t)=>K.update("stages",e,t),delete:e=>K.delete("stages",e)},tasks:{list:(e={})=>K.list("tasks",e),get:e=>K.get("tasks",e),create:e=>K.create("tasks",e),update:(e,t)=>K.update("tasks",e,t),delete:e=>K.delete("tasks",e),getByStage:(e,t={})=>K.list("tasks",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>K.list("tasks",{...t,exact_filters:{assigned_to:e}})},surveyTemplates:{list:(e={})=>K.list("survey_templates",e),get:e=>K.get("survey_templates",e),create:e=>K.create("survey_templates",e),update:(e,t)=>K.update("survey_templates",e,t),delete:e=>K.delete("survey_templates",e)},surveyTemplateFields:{list:(e={})=>K.list("survey_template_fields",e),get:e=>K.get("survey_template_fields",e),create:e=>K.create("survey_template_fields",e),update:(e,t)=>K.update("survey_template_fields",e,t),delete:e=>K.delete("survey_template_fields",e),getByTemplate:(e,t={})=>K.list("survey_template_fields",{...t,exact_filters:{template_id:e}})},surveys:{list:(e={})=>K.list("surveys",e),get:e=>K.get("surveys",e),create:e=>K.create("surveys",e),update:(e,t)=>K.update("surveys",e,t),delete:e=>K.delete("surveys",e)},teams:{list:(e={})=>K.list("teams",e),get:e=>K.get("teams",e),create:e=>K.create("teams",e),update:(e,t)=>K.update("teams",e,t),delete:e=>K.delete("teams",e)},teamMembers:{list:(e={})=>K.list("team_members",e),get:e=>K.get("team_members",e),create:e=>{const{team_id:t,user_id:r,userid:n,...a}=e??{},s={...a};t!==void 0&&(s.team_id=t);const o=r??(n!==void 0?Number(n):void 0);return o!==void 0&&!Number.isNaN(o)&&(s.user_id=o),K.create("team_members",s)},update:(e,t)=>K.update("team_members",e,t),delete:e=>K.delete("team_members",e),getByTeam:(e,t={})=>K.list("team_members",{...t,exact_filters:{team_id:e}})},tickets:{list:(e={})=>K.list("tickets",e),get:e=>K.get("tickets",e),create:e=>K.create("tickets",e),update:(e,t)=>K.update("tickets",e,t),delete:e=>K.delete("tickets",e),getByStatus:(e,t={})=>K.list("tickets",{...t,exact_filters:{status:e}}),getByStage:(e,t={})=>K.list("tickets",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>K.list("tickets",{...t,exact_filters:{assigned_to:e}})},Users:{list:(e={})=>K.list("Users",e),get:e=>K.get("Users",e),create:e=>K.create("Users",e),update:(e,t)=>K.update("Users",e,t),delete:e=>K.delete("Users",e)},whatsappConversations:{list:(e={})=>K.list("whatsapp_conversations",e),get:e=>K.get("whatsapp_conversations",e),create:e=>K.create("whatsapp_conversations",e),update:(e,t)=>K.update("whatsapp_conversations",e,t),delete:e=>K.delete("whatsapp_conversations",e),getByLead:(e,t={})=>K.list("whatsapp_conversations",{...t,exact_filters:{lead_id:e}}),getByUser:(e,t={})=>K.list("whatsapp_conversations",{...t,exact_filters:{user_id:e}})},whatsappMessages:{list:(e={})=>K.list("whatsapp_messages",e),get:e=>K.get("whatsapp_messages",e),create:e=>K.create("whatsapp_messages",e),update:(e,t)=>K.update("whatsapp_messages",e,t),delete:e=>K.delete("whatsapp_messages",e),getByConversation:(e,t={})=>K.list("whatsapp_messages",{...t,exact_filters:{conversation_id:e}})},MarketingTemplates:{list:(e={})=>K.list("marketing_templates",e),get:e=>K.get("marketing_templates",e),create:e=>K.create("marketing_templates",e),update:(e,t)=>K.update("marketing_templates",e,t),delete:e=>K.delete("marketing_templates",e),getByCategory:(e,t={})=>K.list("marketing_templates",{...t,exact_filters:{category:e}}),getByType:(e,t={})=>K.list("marketing_templates",{...t,exact_filters:{template_type:e}}),getActive:(e={})=>K.list("marketing_templates",{...e,exact_filters:{is_active:1}})}};let hS=null,zf=null;async function jT(){return hS||zf||(zf=K.permissions.list().then(e=>{const t=e.data||[];return hS=t,zf=null,t}).catch(e=>(zf=null,console.error("Failed to fetch permissions:",e),[])),zf)}const NB=x.createContext(void 0),eae=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(null),[s,o]=x.useState(!0);x.useEffect(()=>{(()=>{try{const h=localStorage.getItem("authToken"),m=localStorage.getItem("authUser");if(h&&m){const g=JSON.parse(m);if(g&&g.role&&(g.role=g.role.toLowerCase()),!g.permissions_permissions_Name)if(g.profile&&g.profile.permissions_permissions_Name)g.permissions_permissions_Name=g.profile.permissions_permissions_Name;else if(g.profile&&g.profile.permissions){const p=g.profile.permissions,v={1:"admin",2:"manager",3:"employee",4:"team_leader",5:"partner_employee",6:"partner_leader"};v[p]&&(g.permissions_permissions_Name=v[p],g.role=v[p])}else g.isAdmin===1&&(g.permissions_permissions_Name="admin",g.role="admin");a(h),r(g)}}catch(h){console.error("Failed to parse stored auth data:",h),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")}finally{o(!1)}})()},[]);const l=x.useCallback(async(f,h)=>{a(f),localStorage.setItem("authToken",f);try{await new Promise(v=>setTimeout(v,100)),await jT()}catch(v){console.warn("Failed to preload permissions:",v)}let m=h;try{let v=null;try{v=await K.list("Users",{exact_filters:{userid:h.id},pageSize:1})}catch{const b=await fetch(`https://api.middar.com/api/v1/Users/list?exact_filters=${encodeURIComponent(JSON.stringify({userid:h.id}))}&pageSize=1`,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});b.ok&&(v=await b.json())}v&&v.data&&v.data.length>0&&(m=v.data[0])}catch(v){console.warn("Failed to fetch full user profile, using basic login data:",v)}let g="employee";if(m.permissions_permissions_Name){const v=m.permissions_permissions_Name.toLowerCase();v==="admin"?g="admin":v==="manager"?g="manager":v==="employee"?g="employee":v==="team_leader"?g="team_leader":v==="partner_employee"?g="partner_employee":v==="partner_leader"?g="partner_leader":g="employee"}else m.isAdmin===1&&(g="admin");const p={id:m.userid||m.id||"unknown",email:m.Email||m.email||h.email||"",role:g,profile:m,userid:m.userid||0,permissions:m.permissions||0,permissions_permissions_Name:m.permissions_permissions_Name||"",Employee:m.Employee||0,AccountNumber:m.AccountNumber||null,mobile:m.mobile||null,Owner:m.Owner||0,Email_v:m.Email_v||0,IsActive:m.IsActive||0,user_pasword:m.user_pasword||"",name:m.name||h.name||"",Email:m.Email||m.email||h.email||"",pin:m.pin||null,isAllBranches:m.isAllBranches||0,Safe:m.Safe||0,reset_code:m.reset_code||null,reset_expires:m.reset_expires||"",reset_used:m.reset_used||0,isAdmin:m.isAdmin||0};r(p),localStorage.setItem("authUser",JSON.stringify(p)),await new Promise(v=>setTimeout(v,50))},[]),c=x.useCallback(()=>{a(null),r(null),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")},[]),u=x.useCallback(f=>!t||!t.role?!1:f.includes(t.role),[t]),d=x.useMemo(()=>({user:t,token:n,isAuthenticated:!!t&&!!n,loading:s,login:l,logout:c,hasRole:u}),[t,n,s,l,c,u]);return i.jsx(NB.Provider,{value:d,children:e})},dr=()=>{const e=x.useContext(NB);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},kB=x.createContext(void 0),tae=[{code:"en",name:"English",flag:""},{code:"ar",name:"",flag:""}],rae=({children:e})=>{const[t,r]=x.useState(Gr.language||"ar"),[n,a]=x.useState(cS());x.useEffect(()=>{const l=c=>{r(c),a(cS())};return Gr.on("languageChanged",l),()=>{Gr.off("languageChanged",l)}},[]);const o={currentLanguage:t,changeLanguage:async l=>{try{await Gr.changeLanguage(l),r(l),a(cS())}catch(c){console.error("Failed to change language:",c)}},isRTL:n,languages:tae};return i.jsx(kB.Provider,{value:o,children:e})},ar=()=>{const e=x.useContext(kB);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},CB=x.createContext(void 0);function nae({children:e}){const[t,r]=x.useState([]);return i.jsx(CB.Provider,{value:{breadcrumbs:t,setBreadcrumbs:r},children:e})}function dp(){const e=x.useContext(CB);if(e===void 0)throw new Error("useBreadcrumbs must be used within a BreadcrumbsProvider");return e}var I1=["light","dark"],ST="(prefers-color-scheme: dark)",aae=typeof window>"u",NT=x.createContext(void 0),sae={setTheme:e=>{},themes:[]},iae=()=>{var e;return(e=x.useContext(NT))!=null?e:sae},EB=e=>x.useContext(NT)?e.children:x.createElement(lae,{...e}),oae=["light","dark"],lae=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:s=oae,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=x.useState(()=>yR(a,o)),[m,g]=x.useState(()=>yR(a)),p=c?Object.values(c):s,v=x.useCallback(j=>{let w=j;if(!w)return;j==="system"&&r&&(w=bR());let S=c?c[w]:w,N=t?uae():null,C=document.documentElement;if(l==="class"?(C.classList.remove(...p),S&&C.classList.add(S)):S?C.setAttribute(l,S):C.removeAttribute(l),n){let k=I1.includes(o)?o:null,E=I1.includes(w)?w:k;C.style.colorScheme=E}N==null||N()},[]),y=x.useCallback(j=>{let w=typeof j=="function"?j(j):j;h(w);try{localStorage.setItem(a,w)}catch{}},[e]),b=x.useCallback(j=>{let w=bR(j);g(w),f==="system"&&r&&!e&&v("system")},[f,e]);x.useEffect(()=>{let j=window.matchMedia(ST);return j.addListener(b),b(j),()=>j.removeListener(b)},[b]),x.useEffect(()=>{let j=w=>{if(w.key!==a)return;let S=w.newValue||o;y(S)};return window.addEventListener("storage",j),()=>window.removeEventListener("storage",j)},[y]),x.useEffect(()=>{v(e??f)},[e,f]);let _=x.useMemo(()=>({theme:f,setTheme:y,forcedTheme:e,resolvedTheme:f==="system"?m:f,themes:r?[...s,"system"]:s,systemTheme:r?m:void 0}),[f,y,e,m,r,s]);return x.createElement(NT.Provider,{value:_},x.createElement(cae,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:s,defaultTheme:o,attribute:l,value:c,children:u,attrs:p,nonce:d}),u)},cae=x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:o,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?I1.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,v=!0)=>{let y=o?o[g]:g,b=p?g+"|| ''":`'${y}'`,_="";return a&&v&&!p&&I1.includes(g)&&(_+=`d.style.colorScheme = '${g}';`),r==="class"?p||y?_+=`c.add(${b})`:_+="null":y&&(_+=`d[s](n,${b})`),_},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${ST}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),yR=(e,t)=>{if(aae)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},uae=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},bR=e=>(e||(e=window.matchMedia(ST)),e.matches?"dark":"light");/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TB=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...fae,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:TB("lucide",a),...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement(hae,{ref:s,iconNode:t,className:TB(`lucide-${dae(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=Ke("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=Ke("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=Ke("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=Ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=Ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=Ke("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=Ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=Ke("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Ke("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=Ke("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=Ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=Ke("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=Ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=Ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=Ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=Ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Ke("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=Ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=Ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=Ke("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=Ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=Ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=Ke("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=Ke("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=Ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=Ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=Ke("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=Ke("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=Ke("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=Ke("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=Ke("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=Ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=Ke("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=Ke("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=Ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=Ke("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tae=Ke("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Ke("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=Ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=Ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pae=Ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=Ke("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oae=Ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Ke("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=Ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=Ke("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=Ke("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=Ke("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=Ke("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=Ke("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=Ke("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Ke("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=Ke("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=Ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=Ke("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=Ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lae=Ke("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Ke("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=Ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=Ke("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=Ke("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=Ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=Ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=Ke("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=Ke("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=Ke("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=Ke("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=Ke("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=Ke("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=Ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=Ke("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=Ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=Ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=Ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=Ke("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=Ke("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=Ke("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=Ke("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=Ke("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=Ke("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=Ke("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hae=Ke("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function LB(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=LB(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Mt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=LB(e))&&(n&&(n+=" "),n+=t);return n}const ET="-",qae=e=>{const t=Kae(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(ET);return l[0]===""&&l.length!==1&&l.shift(),$B(l,t)||Gae(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},$B=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?$B(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(ET);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},CR=/^\[(.+)\]$/,Gae=e=>{if(CR.test(e)){const t=CR.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Kae=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Xae(Object.entries(e.classGroups),r).forEach(([s,o])=>{Q2(o,n,s,t)}),n},Q2=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:ER(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(Yae(a)){Q2(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{Q2(o,ER(t,s),r,n)})})},ER=(e,t)=>{let r=e;return t.split(ET).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Yae=e=>e.isThemeGetter,Xae=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,a]}):e,Qae=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},BB="!",Jae=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let y=l[v];if(u===0){if(y===a&&(n||l.slice(v,v+s)===t)){c.push(l.slice(d,v)),d=v+s;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(BB),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},Zae=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ese=e=>({cache:Qae(e.cacheSize),parseClassName:Jae(e),...qae(e)}),tse=/\s+/,rse=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split(tse);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=Zae(d).join(":"),y=f?v+BB:v,b=y+p;if(s.includes(b))continue;s.push(b);const _=a(p,g);for(let j=0;j<_.length;++j){const w=_[j];s.push(y+w)}l=u+(l.length>0?" "+l:l)}return l};function nse(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=UB(t))&&(n&&(n+=" "),n+=r);return n}const UB=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=UB(e[n]))&&(r&&(r+=" "),r+=t);return r};function ase(e,...t){let r,n,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=ese(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=rse(c,r);return a(c,d),d}return function(){return s(nse.apply(null,arguments))}}const Fr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},zB=/^\[(?:([a-z-]+):)?(.+)\]$/i,sse=/^\d+\/\d+$/,ise=new Set(["px","full","screen"]),ose=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lse=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cse=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,use=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dse=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Il=e=>Fh(e)||ise.has(e)||sse.test(e),Mc=e=>fp(e,"length",yse),Fh=e=>!!e&&!Number.isNaN(Number(e)),pS=e=>fp(e,"number",Fh),r0=e=>!!e&&Number.isInteger(Number(e)),fse=e=>e.endsWith("%")&&Fh(e.slice(0,-1)),$t=e=>zB.test(e),Ic=e=>ose.test(e),hse=new Set(["length","size","percentage"]),mse=e=>fp(e,hse,VB),pse=e=>fp(e,"position",VB),gse=new Set(["image","url"]),vse=e=>fp(e,gse,_se),xse=e=>fp(e,"",bse),n0=()=>!0,fp=(e,t,r)=>{const n=zB.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},yse=e=>lse.test(e)&&!cse.test(e),VB=()=>!1,bse=e=>use.test(e),_se=e=>dse.test(e),wse=()=>{const e=Fr("colors"),t=Fr("spacing"),r=Fr("blur"),n=Fr("brightness"),a=Fr("borderColor"),s=Fr("borderRadius"),o=Fr("borderSpacing"),l=Fr("borderWidth"),c=Fr("contrast"),u=Fr("grayscale"),d=Fr("hueRotate"),f=Fr("invert"),h=Fr("gap"),m=Fr("gradientColorStops"),g=Fr("gradientColorStopPositions"),p=Fr("inset"),v=Fr("margin"),y=Fr("opacity"),b=Fr("padding"),_=Fr("saturate"),j=Fr("scale"),w=Fr("sepia"),S=Fr("skew"),N=Fr("space"),C=Fr("translate"),k=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",$t,t],T=()=>[$t,t],U=()=>["",Il,Mc],W=()=>["auto",Fh,$t],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",$t],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Fh,$t];return{cacheSize:500,separator:":",theme:{colors:[n0],spacing:[Il,Mc],blur:["none","",Ic,$t],brightness:J(),borderColor:[e],borderRadius:["none","","full",Ic,$t],borderSpacing:T(),borderWidth:U(),contrast:J(),grayscale:I(),hueRotate:J(),invert:I(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[fse,Mc],inset:O(),margin:O(),opacity:J(),padding:T(),saturate:J(),scale:J(),sepia:I(),skew:J(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",$t]}],container:["container"],columns:[{columns:[Ic]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),$t]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",r0,$t]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$t]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",r0,$t]}],"grid-cols":[{"grid-cols":[n0]}],"col-start-end":[{col:["auto",{span:["full",r0,$t]},$t]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[n0]}],"row-start-end":[{row:["auto",{span:[r0,$t]},$t]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$t]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$t]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$t,t]}],"min-w":[{"min-w":[$t,t,"min","max","fit"]}],"max-w":[{"max-w":[$t,t,"none","full","min","max","fit","prose",{screen:[Ic]},Ic]}],h:[{h:[$t,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$t,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$t,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$t,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ic,Mc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pS]}],"font-family":[{font:[n0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$t]}],"line-clamp":[{"line-clamp":["none",Fh,pS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Il,$t]}],"list-image":[{"list-image":["none",$t]}],"list-style-type":[{list:["none","disc","decimal",$t]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Il,Mc]}],"underline-offset":[{"underline-offset":["auto",Il,$t]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),pse]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mse]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vse]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:z()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Il,$t]}],"outline-w":[{outline:[Il,Mc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Il,Mc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ic,xse]}],"shadow-color":[{shadow:[n0]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ic,$t]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$t]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",$t]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",$t]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[r0,$t]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$t]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$t]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$t]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Il,Mc,pS]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jse=ase(wse);function Ne(...e){return jse(Mt(e))}const Sse={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12","2xl":"h-16 w-16"};function oa({message:e="Loading...",className:t="",size:r="xl",fullScreen:n=!1,showProgress:a=!1,progress:s=0}){const o=i.jsxs("div",{className:Ne("flex flex-col items-center justify-center space-y-4",n?"min-h-screen":"",t),children:[i.jsx(CT,{className:Ne("animate-spin text-primary",Sse[r])}),a&&i.jsx("div",{className:"w-24 h-1 bg-muted rounded-full overflow-hidden mx-auto",children:i.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${s}%`}})}),e&&!a&&i.jsx("p",{className:"text-sm text-muted-foreground animate-pulse font-medium",children:e}),e&&a&&i.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:e})]});return n?i.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:o}):o}const ty=({children:e,allowedRoles:t,requireAuth:r=!0,denyPermissionIds:n=[]})=>{var f,h;const a=Cl(),{user:s,loading:o,hasRole:l}=dr(),c=x.useMemo(()=>t?l(t):!0,[t,l]);if(x.useMemo(()=>({loading:o,user:s?{id:s.id,email:s.email,role:s.role}:null,hasRequiredRole:c}),[o,s,c]),console.log("[ProtectedRoute]",{path:a.pathname,loading:o,hasUser:!!s,requireAuth:r,hasRequiredRole:c,userRole:s==null?void 0:s.role}),o)return console.log("[ProtectedRoute] Showing loading spinner"),i.jsx(oa,{size:"xl",fullScreen:!0});if(r&&!s)return console.log("[ProtectedRoute] No user, redirecting to login"),i.jsx(Gy,{to:"/login",state:{from:a},replace:!0});const u=(s==null?void 0:s.permissions)||((f=s==null?void 0:s.profile)==null?void 0:f.permissions)||((h=s==null?void 0:s.profile)==null?void 0:h.permissions_ID),d=u!=null?Number(u):NaN;return n.length>0&&!Number.isNaN(d)&&n.includes(d)?(console.log("[ProtectedRoute] User permission denied:",d),i.jsx(Gy,{to:"/unauthorized",replace:!0})):t&&!c?(console.log("[ProtectedRoute] User does not have required role"),i.jsx(Gy,{to:"/unauthorized",replace:!0})):(console.log("[ProtectedRoute] Rendering protected content"),i.jsx(i.Fragment,{children:e}))};function TR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function hc(...e){return t=>{let r=!1;const n=e.map(a=>{const s=TR(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():TR(e[a],null)}}}}function Bt(...e){return x.useCallback(hc(...e),e)}function Pu(e){const t=Nse(e),r=x.forwardRef((n,a)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(Cse);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var WB=Pu("Slot");function Nse(e){const t=x.forwardRef((r,n)=>{const{children:a,...s}=r;if(x.isValidElement(a)){const o=Tse(a),l=Ese(s,a.props);return a.type!==x.Fragment&&(l.ref=n?hc(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HB=Symbol("radix.slottable");function kse(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=HB,t}function Cse(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HB}function Ese(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Tse(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const AR=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,PR=Mt,Hv=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return PR(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=AR(d)||AR(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...s,...l}[p]):{...s,...l}[p]===v})?[...u,f,h]:u},[]);return PR(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},vm=Hv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),fe=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const o=n?WB:"button";return i.jsx(o,{className:Ne(vm({variant:t,size:r,className:e})),ref:s,...a})});fe.displayName="Button";const ze=x.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:Ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ze.displayName="Input";var Ase=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vt=Ase.reduce((e,t)=>{const r=Pu(`Primitive.${t}`),n=x.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function qB(e,t){e&&lp.flushSync(()=>e.dispatchEvent(t))}var Pse="Label",GB=x.forwardRef((e,t)=>i.jsx(vt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));GB.displayName=Pse;var KB=GB;const Ose=Hv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ue=x.forwardRef(({className:e,...t},r)=>i.jsx(KB,{ref:r,className:Ne(Ose(),e),...t}));Ue.displayName=KB.displayName;const ft=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ne("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ft.displayName="Card";const Yt=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ne("flex flex-col space-y-1.5 p-6",e),...t}));Yt.displayName="CardHeader";const yr=x.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:Ne("text-2xl font-semibold leading-none tracking-tight",e),...t}));yr.displayName="CardTitle";const Dse=x.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:Ne("text-sm text-muted-foreground",e),...t}));Dse.displayName="CardDescription";const yt=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ne("p-6 pt-0",e),...t}));yt.displayName="CardContent";const YB=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ne("flex items-center p-6 pt-0",e),...t}));YB.displayName="CardFooter";const Rse=1,Fse=5e3;let gS=0;function Mse(){return gS=(gS+1)%Number.MAX_SAFE_INTEGER,gS.toString()}const vS=new Map,OR=e=>{if(vS.has(e))return;const t=setTimeout(()=>{vS.delete(e),K0({type:"REMOVE_TOAST",toastId:e})},Fse);vS.set(e,t)},Ise=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Rse)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?OR(r):e.toasts.forEach(n=>{OR(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Yy=[];let Xy={toasts:[]};function K0(e){Xy=Ise(Xy,e),Yy.forEach(t=>{t(Xy)})}function Lse({...e}){const t=Mse(),r=a=>K0({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>K0({type:"DISMISS_TOAST",toastId:t});return K0({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function gi(){const[e,t]=x.useState(Xy);return x.useEffect(()=>(Yy.push(t),()=>{const r=Yy.indexOf(t);r>-1&&Yy.splice(r,1)}),[e]),{...e,toast:Lse,dismiss:r=>K0({type:"DISMISS_TOAST",toastId:r})}}const $se=()=>{var b,_;const[e,t]=x.useState(""),[r,n]=x.useState(""),[a,s]=x.useState("crmdb"),[o,l]=x.useState(!1),[c,u]=x.useState(!1),{login:d}=dr(),f=Us(),h=Cl(),{t:m}=Pt(),{isRTL:g}=ar(),{toast:p}=gi(),v=((_=(b=h.state)==null?void 0:b.from)==null?void 0:_.pathname)||"/dashboard",y=async j=>{if(j.preventDefault(),!e||!r){p({title:m("common.error","Error"),description:m("validation.fillAllFields","Please fill in all fields"),variant:"destructive"});return}l(!0);try{const w=await K.auth.login({email:e,password:r,company_code:a});if(w.serviceToken&&w.user)await d(w.serviceToken,w.user),p({title:m("common.success","Success"),description:m("auth.loginSuccess","Logged in successfully")}),f(v,{replace:!0});else throw new Error("Invalid response from server")}catch(w){console.error("Login error:",w);let S=m("auth.loginFailed","Failed to login. Please check your credentials.");w.message&&!w.message.includes("Unexpected token")&&(S=w.message),p({title:m("auth.loginFailedTitle","Login Failed"),description:S,variant:"destructive"})}finally{l(!1)}};return i.jsxs("div",{className:"w-full max-w-md mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-primary to-primary/80 rounded-2xl flex items-center justify-center shadow-lg mb-4",children:i.jsx(Wn,{className:"h-8 w-8 text-white"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:m("auth.welcomeBack","Welcome Back")}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:m("auth.enterCredentials","Enter your credentials to access your account")})]}),i.jsx(ft,{className:"border-0 shadow-xl bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm",children:i.jsxs("form",{onSubmit:y,children:[i.jsxs(yt,{className:"p-8 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("auth.emailOrUsername","Email / Username")}),i.jsx("div",{className:"relative",children:i.jsx(ze,{id:"email",type:"text",placeholder:m("auth.enterEmail","Enter your email"),value:e,onChange:j=>t(j.target.value),disabled:o,className:`pl-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${g?"text-right pr-10 pl-3":"text-left"}`,autoComplete:"email"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"password",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("forms.password","Password")}),i.jsxs("div",{className:"relative",children:[i.jsx(ze,{id:"password",type:c?"text":"password",placeholder:m("auth.enterPassword","Enter your password"),value:r,onChange:j=>n(j.target.value),disabled:o,className:`pl-10 pr-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${g?"text-right pr-16 pl-3":"text-left"}`,autoComplete:"current-password"}),i.jsx("button",{type:"button",onClick:()=>u(!c),className:`absolute ${g?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors`,disabled:o,children:c?i.jsx(Nae,{className:"h-4 w-4"}):i.jsx(as,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"companyCode",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("auth.companyCode","Company Code")}),i.jsx("div",{className:"relative",children:i.jsx(ze,{id:"companyCode",type:"text",value:a,onChange:j=>s(j.target.value),disabled:o,className:`pl-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${g?"text-right pr-3 pl-10":"text-left"}`,placeholder:"crmdb"})})]})]}),i.jsx(YB,{className:"px-8 pb-8",children:i.jsx(fe,{type:"submit",className:"w-full h-12 text-base font-medium shadow-lg hover:shadow-xl transition-all duration-200 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary",disabled:o,children:o?i.jsxs(i.Fragment,{children:[i.jsx(CT,{className:"mr-2 h-4 w-4 animate-spin"}),m("auth.signingIn","Logging in...")]}):i.jsx(i.Fragment,{children:m("auth.signInButton","Login")})})})]})}),i.jsxs("div",{className:"mt-6 text-center space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m("auth.noAccount","Don't have an account?")," ",i.jsx("button",{onClick:()=>f("/signup"),className:"text-primary hover:text-primary/80 font-medium transition-colors",children:m("auth.signUp","Sign up")})]}),i.jsx("button",{onClick:()=>{p({title:m("auth.forgotPassword","Forgot Password"),description:m("auth.forgotPasswordDesc","Please contact your administrator to reset your password.")})},className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:m("auth.forgotPassword","Forgot your password?")})]})]})},Bse=()=>{const[e,t]=x.useState(!1);dr();const r=Us(),{t:n}=Pt();return i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:n("auth.createAccount")}),i.jsx("p",{className:"text-muted-foreground mt-2",children:n("auth.signUpToGetStarted")})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.chooseAccountTypeSignUp")}),e&&i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.redirectingToGoogle")})]}),i.jsxs("div",{className:"text-center text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[n("auth.alreadyHaveAccount")," "]}),i.jsx(fe,{variant:"link",className:"p-0",onClick:()=>r("/login"),children:n("auth.signIn")})]})]})},$1=()=>{const{user:e}=dr(),t=e==null?void 0:e.permissions,r=m=>{var p;return t===1?!0:((p={1:[],2:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_templates_INSERT","survey_templates_UPDATE","survey_templates_DELETE","survey_template_fields_SELECT","survey_template_fields_INSERT","survey_template_fields_UPDATE","survey_template_fields_DELETE","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE","teams_SELECT","teams_INSERT","teams_UPDATE","teams_DELETE","fr_can_view_app_settings","system_update","update_permissions"],3:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"],4:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"],5:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"],6:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"]}[t||0])==null?void 0:p.includes(m))||!1};return{user:e,userPermissionId:t,hasPermission:r,canView:m=>r(`${m}_SELECT`),canEdit:m=>r(`${m}_UPDATE`),canDelete:m=>r(`${m}_DELETE`),canCreate:m=>r(`${m}_INSERT`),canViewAllData:()=>t===1||t===2,canViewOwnData:()=>t===3||t===4||t===5||t===6,canViewTeamData:()=>t===4,canUpdateSystem:()=>r("system_update"),canManageUsers:()=>r("update_permissions"),canAccessSystem:()=>{const m=r("fr_can_view_app_settings");return console.log("canAccessSystem check:",{userPermissionId:t,result:m}),m}}},XB=x.createContext(void 0),Use=({children:e})=>{const[t,r]=x.useState(()=>localStorage.getItem("crm_company_name")||"Middar CRM"),[n,a]=x.useState(()=>localStorage.getItem("crm_primary_color")||"#2563eb"),[s,o]=x.useState(()=>localStorage.getItem("crm_logo_url")||""),l=h=>{r(h),localStorage.setItem("crm_company_name",h)},c=h=>{a(h),localStorage.setItem("crm_primary_color",h),d(h)},u=h=>{o(h),localStorage.setItem("crm_logo_url",h)},d=h=>{const m=f(h);m&&(document.documentElement.style.setProperty("--primary",`${m.h} ${m.s}% ${m.l}%`),document.documentElement.style.setProperty("--ring",`${m.h} ${m.s}% ${m.l}%`))};function f(h){let m=0,g=0,p=0;h.length===4?(m=parseInt(h[1]+h[1],16),g=parseInt(h[2]+h[2],16),p=parseInt(h[3]+h[3],16)):h.length===7&&(m=parseInt(h.substring(1,3),16),g=parseInt(h.substring(3,5),16),p=parseInt(h.substring(5,7),16)),m/=255,g/=255,p/=255;const v=Math.max(m,g,p),y=Math.min(m,g,p);let b=0,_,j=(v+y)/2;if(v===y)b=_=0;else{const w=v-y;switch(_=j>.5?w/(2-v-y):w/(v+y),v){case m:b=(g-p)/w+(g<p?6:0);break;case g:b=(p-m)/w+2;break;case p:b=(m-g)/w+4;break}b/=6}return{h:Math.round(b*360),s:Math.round(_*100),l:Math.round(j*100)}}return x.useEffect(()=>{d(n)},[]),i.jsx(XB.Provider,{value:{companyName:t,setCompanyName:l,primaryColor:n,setPrimaryColor:c,logoUrl:s,setLogoUrl:u},children:e})},QB=()=>{const e=x.useContext(XB);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e},zse={admin:1,manager:2,employee:3,team_leader:4,partner_employee:5,partner_leader:6};function Vse(e,t){return zse[e]===t}function Wse(e,t){const r=x.createContext(t),n=s=>{const{children:o,...l}=s,c=x.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(s){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function vs(e,t=[]){let r=[];function n(s,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:m,...g}=f,p=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,v=x.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:v,children:m})};u.displayName=s+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=x.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Hse(a,...t)]}function Hse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Hn(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var Sn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function qse(){return oB.useSyncExternalStore(Gse,()=>!0,()=>!1)}function Gse(){return()=>{}}var TT="Avatar",[Kse,eqe]=vs(TT),[Yse,JB]=Kse(TT),ZB=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=x.useState("idle");return i.jsx(Yse,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(vt.span,{...n,ref:t})})});ZB.displayName=TT;var e9="AvatarImage",t9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,o=JB(e9,r),l=Xse(n,s),c=Hn(u=>{a(u),o.onImageLoadingStatusChange(u)});return Sn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(vt.img,{...s,ref:t,src:n}):null});t9.displayName=e9;var r9="AvatarFallback",n9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=JB(r9,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?i.jsx(vt.span,{...a,ref:t}):null});n9.displayName=r9;function DR(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Xse(e,{referrerPolicy:t,crossOrigin:r}){const n=qse(),a=x.useRef(null),s=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=x.useState(()=>DR(s,e));return Sn(()=>{l(DR(s,e))},[s,e]),Sn(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,t]),o}var a9=ZB,s9=t9,i9=n9;const Ls=x.forwardRef(({className:e,...t},r)=>i.jsx(a9,{ref:r,className:Ne("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Ls.displayName=a9.displayName;const To=x.forwardRef(({className:e,...t},r)=>i.jsx(s9,{ref:r,className:Ne("aspect-square h-full w-full",e),...t}));To.displayName=s9.displayName;const $s=x.forwardRef(({className:e,...t},r)=>i.jsx(i9,{ref:r,className:Ne("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));$s.displayName=i9.displayName;const Qse=[{label:"main",items:[{labelKey:"navigation.dashboard",path:"/dashboard",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Tae},{labelKey:"navigation.surveys",path:"/surveys",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:bn},{labelKey:"navigation.reports",path:"/reports",roles:["admin","manager","team_leader"],icon:OB},{labelKey:"navigation.marketingTemplates",path:"/marketing-templates",roles:["admin","manager","team_leader"],icon:el}]},{label:"sales",items:[{labelKey:"navigation.masterLeads",path:"/mleads",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Wn},{labelKey:"navigation.projects",path:"/projects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Ld},{labelKey:"mprojects.masterProjects",path:"/mprojects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Wn}]},{label:"work",items:[{labelKey:"navigation.tasks",path:"/tasks",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:G0},{labelKey:"navigation.tickets",path:"/tickets",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:Zf},{labelKey:"navigation.requests",path:"/requests",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:bn}]},{label:"communication",items:[{labelKey:"navigation.whatsapp",path:"/whatsapp",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:vl},{labelKey:"navigation.webmail",path:"/webmail",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:el},{labelKey:"navigation.chats",path:"/chats",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:vl},{labelKey:"navigation.teams",path:"/teams",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:L1}]},{label:"system",items:[{labelKey:"navigation.users",path:"/users",roles:["admin"],icon:Uae},{labelKey:"navigation.settings",path:"/settings",roles:["admin","manager"],icon:Mg},{labelKey:"navigation.permissions",path:"/permissions",roles:["admin"],icon:L1}]}];function xS({onNavigate:e}={}){var l,c,u;const t=Cl(),{user:r}=dr(),{userPermissionId:n}=$1(),{canAccessSystem:a}=$1(),{t:s}=Pt(),{companyName:o}=QB();return i.jsxs("div",{className:"h-full w-full bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95 border-r border-sidebar-border/50 flex flex-col shadow-xl",children:[i.jsx("div",{className:"p-6 border-b border-sidebar-border/30 bg-gradient-to-r from-primary/5 via-primary/3 to-transparent",children:i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"text-2xl font-bold text-primary-foreground",children:o})})}),i.jsx("div",{className:"flex-1 px-4 py-6 overflow-y-auto",children:i.jsx("nav",{className:"space-y-6",children:Qse.map(d=>{if(d.label==="system"&&!a)return null;const f=d.items.filter(h=>r&&h.roles&&h.roles.some(m=>Vse(m,n)));return f.length===0?null:i.jsxs("div",{children:[i.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-sidebar-foreground/50 uppercase tracking-wider",children:s(`navigation.${d.label} Group`,d.label)}),i.jsx("div",{className:"space-y-1",children:f.map(h=>{const m=t.pathname===h.path,g=h.icon;return i.jsxs(V2,{to:h.path,onClick:p=>{m&&p.preventDefault(),e==null||e()},className:Ne("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group relative overflow-hidden",m?"bg-gradient-to-r from-primary to-primary/90 text-white shadow-lg shadow-primary/25 translate-x-1":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:translate-x-0.5"),children:[m&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-transparent to-transparent"}),i.jsx(g,{className:Ne("h-4 w-4 transition-transform group-hover:scale-110 relative z-10",m?"text-white":"text-sidebar-foreground/50 group-hover:text-sidebar-accent-foreground")}),i.jsx("span",{className:"flex-1 relative z-10",children:s(h.labelKey)})]},h.path)})})]},d.label)})})}),i.jsx("div",{className:"p-4 border-t border-sidebar-border/50 bg-sidebar-accent/30",children:i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-sidebar-accent/50 to-transparent hover:from-sidebar-accent hover:shadow-md transition-all cursor-pointer group",children:[i.jsx(Ls,{className:"h-10 w-10 ring-2 ring-primary/20 transition-all group-hover:ring-primary/40",children:i.jsx($s,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-bold",children:(l=r==null?void 0:r.email)==null?void 0:l.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-semibold text-sidebar-foreground truncate",children:((c=r==null?void 0:r.profile)==null?void 0:c.name)||(r==null?void 0:r.email)}),i.jsxs("p",{className:"text-xs text-sidebar-foreground/60 capitalize flex items-center gap-1.5",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-lg shadow-green-500/50"}),(u=r==null?void 0:r.role)==null?void 0:u.replace("_"," ")]})]}),i.jsx(z_,{className:"h-4 w-4 text-sidebar-foreground/30 group-hover:text-sidebar-foreground/60 transition-colors"})]})})]})}function Jse(){const e=Cl(),{t}=Pt(),r=e.pathname.split("/").filter(s=>s);if(r.length===0)return null;const n={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",mleads:"navigation.masterLeads",mprojects:"mprojects.masterProjects",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee"},a=s=>n[s]?t(n[s]):/^\d+$/.test(s)||s.length>20?s:s.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");return i.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[i.jsx(V2,{to:"/",className:"hover:text-foreground transition-colors",children:t("navigation.home")}),r.map((s,o)=>{const l=`/${r.slice(0,o+1).join("/")}`,c=o===r.length-1,u=a(s);return i.jsxs("div",{className:"flex items-center",children:[i.jsx(z_,{className:"h-4 w-4 mx-2 text-muted-foreground rtl:rotate-180"}),c?i.jsx("span",{className:"text-foreground font-medium",children:u}):i.jsx(V2,{to:l,className:"hover:text-foreground transition-colors",children:u})]},s)})]})}function J2(e,[t,r]){return Math.min(r,Math.max(t,e))}function at(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function AT(e){const t=e+"CollectionProvider",[r,n]=vs(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:y}=p,b=ce.useRef(null),_=ce.useRef(new Map).current;return i.jsx(a,{scope:v,itemMap:_,collectionRef:b,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Pu(l),u=ce.forwardRef((p,v)=>{const{scope:y,children:b}=p,_=s(l,y),j=Bt(v,_.collectionRef);return i.jsx(c,{ref:j,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Pu(d),m=ce.forwardRef((p,v)=>{const{scope:y,children:b,..._}=p,j=ce.useRef(null),w=Bt(v,j),S=s(d,y);return ce.useEffect(()=>(S.itemMap.set(j,{ref:j,..._}),()=>void S.itemMap.delete(j))),i.jsx(h,{[f]:"",ref:w,children:b})});m.displayName=d;function g(p){const v=s(e+"CollectionConsumer",p);return ce.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const _=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((S,N)=>_.indexOf(S.ref.current)-_.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}var Zse=x.createContext(void 0);function qv(e){const t=x.useContext(Zse);return e||t||"ltr"}function eie(e,t=globalThis==null?void 0:globalThis.document){const r=Hn(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var tie="DismissableLayer",Z2="dismissableLayer.update",rie="dismissableLayer.pointerDownOutside",nie="dismissableLayer.focusOutside",RR,o9=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gv=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(o9),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),g=Bt(t,N=>f(N)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(v),b=d?p.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,j=b>=y,w=iie(N=>{const C=N.target,k=[...u.branches].some(E=>E.contains(C));!j||k||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),S=oie(N=>{const C=N.target;[...u.branches].some(E=>E.contains(C))||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return eie(N=>{b===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(RR=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),FR(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=RR)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),FR())},[d,u]),x.useEffect(()=>{const N=()=>m({});return document.addEventListener(Z2,N),()=>document.removeEventListener(Z2,N)},[]),i.jsx(vt.div,{...c,ref:g,style:{pointerEvents:_?j?"auto":"none":void 0,...e.style},onFocusCapture:at(e.onFocusCapture,S.onFocusCapture),onBlurCapture:at(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:at(e.onPointerDownCapture,w.onPointerDownCapture)})});Gv.displayName=tie;var aie="DismissableLayerBranch",sie=x.forwardRef((e,t)=>{const r=x.useContext(o9),n=x.useRef(null),a=Bt(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(vt.div,{...e,ref:a})});sie.displayName=aie;function iie(e,t=globalThis==null?void 0:globalThis.document){const r=Hn(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){l9(rie,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function oie(e,t=globalThis==null?void 0:globalThis.document){const r=Hn(e),n=x.useRef(!1);return x.useEffect(()=>{const a=s=>{s.target&&!n.current&&l9(nie,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function FR(){const e=new CustomEvent(Z2);document.dispatchEvent(e)}function l9(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?qB(a,s):a.dispatchEvent(s)}var yS=0;function H_(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??MR()),document.body.insertAdjacentElement("beforeend",e[1]??MR()),yS++,()=>{yS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),yS--}},[])}function MR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var bS="focusScope.autoFocusOnMount",_S="focusScope.autoFocusOnUnmount",IR={bubbles:!1,cancelable:!0},lie="FocusScope",Kv=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=x.useState(null),u=Hn(a),d=Hn(s),f=x.useRef(null),h=Bt(t,p=>c(p)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let p=function(_){if(m.paused||!l)return;const j=_.target;l.contains(j)?f.current=j:Bc(f.current,{select:!0})},v=function(_){if(m.paused||!l)return;const j=_.relatedTarget;j!==null&&(l.contains(j)||Bc(f.current,{select:!0}))},y=function(_){if(document.activeElement===document.body)for(const w of _)w.removedNodes.length>0&&Bc(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,m.paused]),x.useEffect(()=>{if(l){$R.add(m);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(bS,IR);l.addEventListener(bS,u),l.dispatchEvent(y),y.defaultPrevented||(cie(mie(c9(l)),{select:!0}),document.activeElement===p&&Bc(l))}return()=>{l.removeEventListener(bS,u),setTimeout(()=>{const y=new CustomEvent(_S,IR);l.addEventListener(_S,d),l.dispatchEvent(y),y.defaultPrevented||Bc(p??document.body,{select:!0}),l.removeEventListener(_S,d),$R.remove(m)},0)}}},[l,u,d,m]);const g=x.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(v&&y){const b=p.currentTarget,[_,j]=uie(b);_&&j?!p.shiftKey&&y===j?(p.preventDefault(),r&&Bc(_,{select:!0})):p.shiftKey&&y===_&&(p.preventDefault(),r&&Bc(j,{select:!0})):y===b&&p.preventDefault()}},[r,n,m.paused]);return i.jsx(vt.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Kv.displayName=lie;function cie(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Bc(n,{select:t}),document.activeElement!==r)return}function uie(e){const t=c9(e),r=LR(t,e),n=LR(t.reverse(),e);return[r,n]}function c9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function LR(e,t){for(const r of e)if(!die(r,{upTo:t}))return r}function die(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function fie(e){return e instanceof HTMLInputElement&&"select"in e}function Bc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&fie(e)&&t&&e.select()}}var $R=hie();function hie(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=BR(e,t),e.unshift(t)},remove(t){var r;e=BR(e,t),(r=e[0])==null||r.resume()}}}function BR(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function mie(e){return e.filter(t=>t.tagName!=="A")}var pie=vE[" useId ".trim().toString()]||(()=>{}),gie=0;function na(e){const[t,r]=x.useState(pie());return Sn(()=>{r(n=>n??String(gie++))},[e]),t?`radix-${t}`:""}const vie=["top","right","bottom","left"],Ou=Math.min,Zs=Math.max,B1=Math.round,ry=Math.floor,dl=e=>({x:e,y:e}),xie={left:"right",right:"left",bottom:"top",top:"bottom"},yie={start:"end",end:"start"};function ek(e,t,r){return Zs(e,Ou(t,r))}function mc(e,t){return typeof e=="function"?e(t):e}function pc(e){return e.split("-")[0]}function hp(e){return e.split("-")[1]}function PT(e){return e==="x"?"y":"x"}function OT(e){return e==="y"?"height":"width"}const bie=new Set(["top","bottom"]);function il(e){return bie.has(pc(e))?"y":"x"}function DT(e){return PT(il(e))}function _ie(e,t,r){r===void 0&&(r=!1);const n=hp(e),a=DT(e),s=OT(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=U1(o)),[o,U1(o)]}function wie(e){const t=U1(e);return[tk(e),t,tk(t)]}function tk(e){return e.replace(/start|end/g,t=>yie[t])}const UR=["left","right"],zR=["right","left"],jie=["top","bottom"],Sie=["bottom","top"];function Nie(e,t,r){switch(e){case"top":case"bottom":return r?t?zR:UR:t?UR:zR;case"left":case"right":return t?jie:Sie;default:return[]}}function kie(e,t,r,n){const a=hp(e);let s=Nie(pc(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(tk)))),s}function U1(e){return e.replace(/left|right|bottom|top/g,t=>xie[t])}function Cie(e){return{top:0,right:0,bottom:0,left:0,...e}}function u9(e){return typeof e!="number"?Cie(e):{top:e,right:e,bottom:e,left:e}}function z1(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function VR(e,t,r){let{reference:n,floating:a}=e;const s=il(t),o=DT(t),l=OT(o),c=pc(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(hp(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const Eie=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=VR(u,n,c),h=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:v,fn:y}=l[p],{x:b,y:_,data:j,reset:w}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=_??f,m={...m,[v]:{...m[v],...j}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(u=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):w.rects),{x:d,y:f}=VR(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Lg(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=mc(t,e),g=u9(m),v=l[h?f==="floating"?"reference":"floating":f],y=z1(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},w=z1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:_,strategy:c}):b);return{top:(y.top-w.top+g.top)/j.y,bottom:(w.bottom-y.bottom+g.bottom)/j.y,left:(y.left-w.left+g.left)/j.x,right:(w.right-y.right+g.right)/j.x}}const Tie=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=mc(e,t)||{};if(u==null)return{};const f=u9(d),h={x:r,y:n},m=DT(a),g=OT(m),p=await o.getDimensions(u),v=m==="y",y=v?"top":"left",b=v?"bottom":"right",_=v?"clientHeight":"clientWidth",j=s.reference[g]+s.reference[m]-h[m]-s.floating[g],w=h[m]-s.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=S?S[_]:0;(!N||!await(o.isElement==null?void 0:o.isElement(S)))&&(N=l.floating[_]||s.floating[g]);const C=j/2-w/2,k=N/2-p[g]/2-1,E=Ou(f[y],k),O=Ou(f[b],k),T=E,U=N-p[g]-O,W=N/2-p[g]/2+C,R=ek(T,W,U),z=!c.arrow&&hp(a)!=null&&W!==R&&s.reference[g]/2-(W<T?E:O)-p[g]/2<0,P=z?W<T?W-T:W-U:0;return{[m]:h[m]+P,data:{[m]:R,centerOffset:W-R-P,...z&&{alignmentOffset:P}},reset:z}}}),Aie=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=mc(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=pc(a),b=il(l),_=pc(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),w=h||(_||!p?[U1(l)]:wie(l)),S=g!=="none";!h&&S&&w.push(...kie(l,p,g,j));const N=[l,...w],C=await Lg(t,v),k=[];let E=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&k.push(C[y]),f){const W=_ie(a,o,j);k.push(C[W[0]],C[W[1]])}if(E=[...E,{placement:a,overflows:k}],!k.every(W=>W<=0)){var O,T;const W=(((O=s.flip)==null?void 0:O.index)||0)+1,R=N[W];if(R&&(!(f==="alignment"?b!==il(R):!1)||E.every(M=>M.overflows[0]>0&&il(M.placement)===b)))return{data:{index:W,overflows:E},reset:{placement:R}};let z=(T=E.filter(P=>P.overflows[0]<=0).sort((P,M)=>P.overflows[1]-M.overflows[1])[0])==null?void 0:T.placement;if(!z)switch(m){case"bestFit":{var U;const P=(U=E.filter(M=>{if(S){const I=il(M.placement);return I===b||I==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(I=>I>0).reduce((I,q)=>I+q,0)]).sort((M,I)=>M[1]-I[1])[0])==null?void 0:U[0];P&&(z=P);break}case"initialPlacement":z=l;break}if(a!==z)return{reset:{placement:z}}}return{}}}};function WR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function HR(e){return vie.some(t=>e[t]>=0)}const Pie=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=mc(e,t);switch(n){case"referenceHidden":{const s=await Lg(t,{...a,elementContext:"reference"}),o=WR(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:HR(o)}}}case"escaped":{const s=await Lg(t,{...a,altBoundary:!0}),o=WR(s,r.floating);return{data:{escapedOffsets:o,escaped:HR(o)}}}default:return{}}}}},d9=new Set(["left","top"]);async function Oie(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=pc(r),l=hp(r),c=il(r)==="y",u=d9.has(o)?-1:1,d=s&&c?-1:1,f=mc(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Die=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await Oie(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},Rie=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...c}=mc(e,t),u={x:r,y:n},d=await Lg(t,c),f=il(pc(a)),h=PT(f);let m=u[h],g=u[f];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=m+d[v],_=m-d[y];m=ek(b,m,_)}if(o){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=g+d[v],_=g-d[y];g=ek(b,g,_)}const p=l.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:s,[f]:o}}}}}},Fie=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=mc(e,t),d={x:r,y:n},f=il(a),h=PT(f);let m=d[h],g=d[f];const p=mc(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const _=h==="y"?"height":"width",j=s.reference[h]-s.floating[_]+v.mainAxis,w=s.reference[h]+s.reference[_]-v.mainAxis;m<j?m=j:m>w&&(m=w)}if(u){var y,b;const _=h==="y"?"width":"height",j=d9.has(pc(a)),w=s.reference[f]-s.floating[_]+(j&&((y=o.offset)==null?void 0:y[f])||0)+(j?0:v.crossAxis),S=s.reference[f]+s.reference[_]+(j?0:((b=o.offset)==null?void 0:b[f])||0)-(j?v.crossAxis:0);g<w?g=w:g>S&&(g=S)}return{[h]:m,[f]:g}}}},Mie=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=mc(e,t),d=await Lg(t,u),f=pc(a),h=hp(a),m=il(a)==="y",{width:g,height:p}=s.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const b=p-d.top-d.bottom,_=g-d.left-d.right,j=Ou(p-d[v],b),w=Ou(g-d[y],_),S=!t.middlewareData.shift;let N=j,C=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=b),S&&!h){const E=Zs(d.left,0),O=Zs(d.right,0),T=Zs(d.top,0),U=Zs(d.bottom,0);m?C=g-2*(E!==0||O!==0?E+O:Zs(d.left,d.right)):N=p-2*(T!==0||U!==0?T+U:Zs(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:N});const k=await o.getDimensions(l.floating);return g!==k.width||p!==k.height?{reset:{rects:!0}}:{}}}};function q_(){return typeof window<"u"}function mp(e){return f9(e)?(e.nodeName||"").toLowerCase():"#document"}function ii(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function El(e){var t;return(t=(f9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function f9(e){return q_()?e instanceof Node||e instanceof ii(e).Node:!1}function Ao(e){return q_()?e instanceof Element||e instanceof ii(e).Element:!1}function xl(e){return q_()?e instanceof HTMLElement||e instanceof ii(e).HTMLElement:!1}function qR(e){return!q_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ii(e).ShadowRoot}const Iie=new Set(["inline","contents"]);function Yv(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Po(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Iie.has(a)}const Lie=new Set(["table","td","th"]);function $ie(e){return Lie.has(mp(e))}const Bie=[":popover-open",":modal"];function G_(e){return Bie.some(t=>{try{return e.matches(t)}catch{return!1}})}const Uie=["transform","translate","scale","rotate","perspective"],zie=["transform","translate","scale","rotate","perspective","filter"],Vie=["paint","layout","strict","content"];function RT(e){const t=FT(),r=Ao(e)?Po(e):e;return Uie.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||zie.some(n=>(r.willChange||"").includes(n))||Vie.some(n=>(r.contain||"").includes(n))}function Wie(e){let t=Du(e);for(;xl(t)&&!xm(t);){if(RT(t))return t;if(G_(t))return null;t=Du(t)}return null}function FT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Hie=new Set(["html","body","#document"]);function xm(e){return Hie.has(mp(e))}function Po(e){return ii(e).getComputedStyle(e)}function K_(e){return Ao(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Du(e){if(mp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||qR(e)&&e.host||El(e);return qR(t)?t.host:t}function h9(e){const t=Du(e);return xm(t)?e.ownerDocument?e.ownerDocument.body:e.body:xl(t)&&Yv(t)?t:h9(t)}function $g(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=h9(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=ii(a);if(s){const l=rk(o);return t.concat(o,o.visualViewport||[],Yv(a)?a:[],l&&r?$g(l):[])}return t.concat(a,$g(a,[],r))}function rk(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function m9(e){const t=Po(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=xl(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=B1(r)!==s||B1(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function MT(e){return Ao(e)?e:e.contextElement}function Mh(e){const t=MT(e);if(!xl(t))return dl(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=m9(t);let o=(s?B1(r.width):r.width)/n,l=(s?B1(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const qie=dl(0);function p9(e){const t=ii(e);return!FT()||!t.visualViewport?qie:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Gie(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ii(e)?!1:t}function tf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=MT(e);let o=dl(1);t&&(n?Ao(n)&&(o=Mh(n)):o=Mh(e));const l=Gie(s,r,n)?p9(s):dl(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const h=ii(s),m=n&&Ao(n)?ii(n):n;let g=h,p=rk(g);for(;p&&n&&m!==g;){const v=Mh(p),y=p.getBoundingClientRect(),b=Po(p),_=y.left+(p.clientLeft+parseFloat(b.paddingLeft))*v.x,j=y.top+(p.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=_,u+=j,g=ii(p),p=rk(g)}}return z1({width:d,height:f,x:c,y:u})}function IT(e,t){const r=K_(e).scrollLeft;return t?t.left+r:tf(El(e)).left+r}function g9(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:IT(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function Kie(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=El(n),l=t?G_(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=dl(1);const d=dl(0),f=xl(n);if((f||!f&&!s)&&((mp(n)!=="body"||Yv(o))&&(c=K_(n)),xl(n))){const m=tf(n);u=Mh(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!s?g9(o,c,!0):dl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Yie(e){return Array.from(e.getClientRects())}function Xie(e){const t=El(e),r=K_(e),n=e.ownerDocument.body,a=Zs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Zs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+IT(e);const l=-r.scrollTop;return Po(n).direction==="rtl"&&(o+=Zs(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}function Qie(e,t){const r=ii(e),n=El(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const u=FT();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:l,y:c}}const Jie=new Set(["absolute","fixed"]);function Zie(e,t){const r=tf(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=xl(e)?Mh(e):dl(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function GR(e,t,r){let n;if(t==="viewport")n=Qie(e,r);else if(t==="document")n=Xie(El(e));else if(Ao(t))n=Zie(t,r);else{const a=p9(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return z1(n)}function v9(e,t){const r=Du(e);return r===t||!Ao(r)||xm(r)?!1:Po(r).position==="fixed"||v9(r,t)}function eoe(e,t){const r=t.get(e);if(r)return r;let n=$g(e,[],!1).filter(l=>Ao(l)&&mp(l)!=="body"),a=null;const s=Po(e).position==="fixed";let o=s?Du(e):e;for(;Ao(o)&&!xm(o);){const l=Po(o),c=RT(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&Jie.has(a.position)||Yv(o)&&!c&&v9(e,o))?n=n.filter(d=>d!==o):a=l,o=Du(o)}return t.set(e,n),n}function toe(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?G_(t)?[]:eoe(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=GR(t,d,a);return u.top=Zs(f.top,u.top),u.right=Ou(f.right,u.right),u.bottom=Ou(f.bottom,u.bottom),u.left=Zs(f.left,u.left),u},GR(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function roe(e){const{width:t,height:r}=m9(e);return{width:t,height:r}}function noe(e,t,r){const n=xl(t),a=El(t),s=r==="fixed",o=tf(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=dl(0);function u(){c.x=IT(a)}if(n||!n&&!s)if((mp(t)!=="body"||Yv(a))&&(l=K_(t)),n){const m=tf(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?g9(a,l):dl(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function wS(e){return Po(e).position==="static"}function KR(e,t){if(!xl(e)||Po(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return El(e)===r&&(r=r.ownerDocument.body),r}function x9(e,t){const r=ii(e);if(G_(e))return r;if(!xl(e)){let a=Du(e);for(;a&&!xm(a);){if(Ao(a)&&!wS(a))return a;a=Du(a)}return r}let n=KR(e,t);for(;n&&$ie(n)&&wS(n);)n=KR(n,t);return n&&xm(n)&&wS(n)&&!RT(n)?r:n||Wie(e)||r}const aoe=async function(e){const t=this.getOffsetParent||x9,r=this.getDimensions,n=await r(e.floating);return{reference:noe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function soe(e){return Po(e).direction==="rtl"}const ioe={convertOffsetParentRelativeRectToViewportRelativeRect:Kie,getDocumentElement:El,getClippingRect:toe,getOffsetParent:x9,getElementRects:aoe,getClientRects:Yie,getDimensions:roe,getScale:Mh,isElement:Ao,isRTL:soe};function y9(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ooe(e,t){let r=null,n;const a=El(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=ry(f),p=ry(a.clientWidth-(d+h)),v=ry(a.clientHeight-(f+m)),y=ry(d),_={rootMargin:-g+"px "+-p+"px "+-v+"px "+-y+"px",threshold:Zs(0,Ou(1,c))||1};let j=!0;function w(S){const N=S[0].intersectionRatio;if(N!==c){if(!j)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!y9(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(w,{..._,root:a.ownerDocument})}catch{r=new IntersectionObserver(w,_)}r.observe(e)}return o(!0),s}function loe(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=MT(e),d=a||s?[...u?$g(u):[],...$g(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=u&&l?ooe(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?tf(e):null;c&&v();function v(){const y=tf(e);p&&!y9(p,y)&&r(),p=y,g=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(b=>{a&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const coe=Die,uoe=Rie,doe=Aie,foe=Mie,hoe=Pie,YR=Tie,moe=Fie,poe=(e,t,r)=>{const n=new Map,a={platform:ioe,...r},s={...a.platform,_c:n};return Eie(e,t,{...a,platform:s})};var goe=typeof document<"u",voe=function(){},Qy=goe?x.useLayoutEffect:voe;function V1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!V1(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!V1(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function b9(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function XR(e,t){const r=b9(e);return Math.round(t*r)/r}function jS(e){const t=x.useRef(e);return Qy(()=>{t.current=e}),t}function xoe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(n);V1(h,n)||m(n);const[g,p]=x.useState(null),[v,y]=x.useState(null),b=x.useCallback(M=>{M!==S.current&&(S.current=M,p(M))},[]),_=x.useCallback(M=>{M!==N.current&&(N.current=M,y(M))},[]),j=s||g,w=o||v,S=x.useRef(null),N=x.useRef(null),C=x.useRef(d),k=c!=null,E=jS(c),O=jS(a),T=jS(u),U=x.useCallback(()=>{if(!S.current||!N.current)return;const M={placement:t,strategy:r,middleware:h};O.current&&(M.platform=O.current),poe(S.current,N.current,M).then(I=>{const q={...I,isPositioned:T.current!==!1};W.current&&!V1(C.current,q)&&(C.current=q,lp.flushSync(()=>{f(q)}))})},[h,t,r,O,T]);Qy(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const W=x.useRef(!1);Qy(()=>(W.current=!0,()=>{W.current=!1}),[]),Qy(()=>{if(j&&(S.current=j),w&&(N.current=w),j&&w){if(E.current)return E.current(j,w,U);U()}},[j,w,U,E,k]);const R=x.useMemo(()=>({reference:S,floating:N,setReference:b,setFloating:_}),[b,_]),z=x.useMemo(()=>({reference:j,floating:w}),[j,w]),P=x.useMemo(()=>{const M={position:r,left:0,top:0};if(!z.floating)return M;const I=XR(z.floating,d.x),q=XR(z.floating,d.y);return l?{...M,transform:"translate("+I+"px, "+q+"px)",...b9(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:q}},[r,l,z.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:U,refs:R,elements:z,floatingStyles:P}),[d,U,R,z,P])}const yoe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?YR({element:n.current,padding:a}).fn(r):{}:n?YR({element:n,padding:a}).fn(r):{}}}},boe=(e,t)=>({...coe(e),options:[e,t]}),_oe=(e,t)=>({...uoe(e),options:[e,t]}),woe=(e,t)=>({...moe(e),options:[e,t]}),joe=(e,t)=>({...doe(e),options:[e,t]}),Soe=(e,t)=>({...foe(e),options:[e,t]}),Noe=(e,t)=>({...hoe(e),options:[e,t]}),koe=(e,t)=>({...yoe(e),options:[e,t]});var Coe="Arrow",_9=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return i.jsx(vt.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});_9.displayName=Coe;var Eoe=_9;function LT(e){const[t,r]=x.useState(void 0);return Sn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var $T="Popper",[w9,pp]=vs($T),[Toe,j9]=w9($T),S9=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return i.jsx(Toe,{scope:t,anchor:n,onAnchorChange:a,children:r})};S9.displayName=$T;var N9="PopperAnchor",k9=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=j9(N9,r),o=x.useRef(null),l=Bt(t,o);return x.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(vt.div,{...a,ref:l})});k9.displayName=N9;var BT="PopperContent",[Aoe,Poe]=w9(BT),C9=x.forwardRef((e,t)=>{var ue,ye,ie,Y,L,D;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=j9(BT,r),[y,b]=x.useState(null),_=Bt(t,se=>b(se)),[j,w]=x.useState(null),S=LT(j),N=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,k=n+(s!=="center"?"-"+s:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],T=O.length>0,U={padding:E,boundary:O.filter(Doe),altBoundary:T},{refs:W,floatingStyles:R,placement:z,isPositioned:P,middlewareData:M}=xoe({strategy:"fixed",placement:k,whileElementsMounted:(...se)=>loe(...se,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[boe({mainAxis:a+C,alignmentAxis:o}),c&&_oe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?woe():void 0,...U}),c&&joe({...U}),Soe({...U,apply:({elements:se,rects:be,availableWidth:ve,availableHeight:ke})=>{const{width:Se,height:Ve}=be.reference,dt=se.floating.style;dt.setProperty("--radix-popper-available-width",`${ve}px`),dt.setProperty("--radix-popper-available-height",`${ke}px`),dt.setProperty("--radix-popper-anchor-width",`${Se}px`),dt.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),j&&koe({element:j,padding:l}),Roe({arrowWidth:N,arrowHeight:C}),h&&Noe({strategy:"referenceHidden",...U})]}),[I,q]=A9(z),J=Hn(g);Sn(()=>{P&&(J==null||J())},[P,J]);const A=(ue=M.arrow)==null?void 0:ue.x,B=(ye=M.arrow)==null?void 0:ye.y,G=((ie=M.arrow)==null?void 0:ie.centerOffset)!==0,[H,ee]=x.useState();return Sn(()=>{y&&ee(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:P?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(Y=M.transformOrigin)==null?void 0:Y.x,(L=M.transformOrigin)==null?void 0:L.y].join(" "),...((D=M.hide)==null?void 0:D.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(Aoe,{scope:r,placedSide:I,onArrowChange:w,arrowX:A,arrowY:B,shouldHideArrow:G,children:i.jsx(vt.div,{"data-side":I,"data-align":q,...p,ref:_,style:{...p.style,animation:P?void 0:"none"}})})})});C9.displayName=BT;var E9="PopperArrow",Ooe={top:"bottom",right:"left",bottom:"top",left:"right"},T9=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=Poe(E9,n),o=Ooe[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(Eoe,{...a,ref:r,style:{...a.style,display:"block"}})})});T9.displayName=E9;function Doe(e){return e!==null}var Roe=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=A9(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function A9(e){const[t,r="center"]=e.split("-");return[t,r]}var UT=S9,Y_=k9,zT=C9,VT=T9,Foe="Portal",Xv=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=x.useState(!1);Sn(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?nZ.createPortal(i.jsx(vt.div,{...n,ref:t}),o):null});Xv.displayName=Foe;var Moe=vE[" useInsertionEffect ".trim().toString()]||Sn;function gc({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,o]=Ioe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=Loe(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[l,e,s,o]);return[c,u]}function Ioe({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),s=x.useRef(t);return Moe(()=>{s.current=t},[t]),x.useEffect(()=>{var o;a.current!==r&&((o=s.current)==null||o.call(s,r),a.current=r)},[r,a]),[r,n,s]}function Loe(e){return typeof e=="function"}function WT(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var P9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$oe="VisuallyHidden",Boe=x.forwardRef((e,t)=>i.jsx(vt.span,{...e,ref:t,style:{...P9,...e.style}}));Boe.displayName=$oe;var Uoe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vf=new WeakMap,ny=new WeakMap,ay={},SS=0,O9=function(e){return e&&(e.host||O9(e.parentNode))},zoe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=O9(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Voe=function(e,t,r,n){var a=zoe(t,Array.isArray(e)?e:[e]);ay[r]||(ay[r]=new WeakMap);var s=ay[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Vf.get(h)||0)+1,v=(s.get(h)||0)+1;Vf.set(h,p),s.set(h,v),o.push(h),p===1&&g&&ny.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),SS++,function(){o.forEach(function(f){var h=Vf.get(f)-1,m=s.get(f)-1;Vf.set(f,h),s.set(f,m),h||(ny.has(f)||f.removeAttribute(n),ny.delete(f)),m||f.removeAttribute(r)}),SS--,SS||(Vf=new WeakMap,Vf=new WeakMap,ny=new WeakMap,ay={})}},X_=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Uoe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Voe(n,a,r,"aria-hidden")):function(){return null}},tl=function(){return tl=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},tl.apply(this,arguments)};function D9(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Woe(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Jy="right-scroll-bar-position",Zy="width-before-scroll-bar",Hoe="with-scroll-bars-hidden",qoe="--removed-body-scroll-bar-size";function NS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Goe(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Koe=typeof window<"u"?x.useLayoutEffect:x.useEffect,QR=new WeakMap;function Yoe(e,t){var r=Goe(null,function(n){return e.forEach(function(a){return NS(a,n)})});return Koe(function(){var n=QR.get(r);if(n){var a=new Set(n),s=new Set(e),o=r.current;a.forEach(function(l){s.has(l)||NS(l,null)}),s.forEach(function(l){a.has(l)||NS(l,o)})}QR.set(r,e)},[e]),r}function Xoe(e){return e}function Qoe(e,t){t===void 0&&(t=Xoe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Joe(e){e===void 0&&(e={});var t=Qoe(null);return t.options=tl({async:!0,ssr:!1},e),t}var R9=function(e){var t=e.sideCar,r=D9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,tl({},r))};R9.isSideCarExport=!0;function Zoe(e,t){return e.useMedium(t),R9}var F9=Joe(),kS=function(){},Q_=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:kS,onWheelCapture:kS,onTouchMoveCapture:kS}),a=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,v=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,_=e.gapMode,j=D9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,S=Yoe([r,t]),N=tl(tl({},j),a);return x.createElement(x.Fragment,null,d&&x.createElement(w,{sideCar:F9,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:_}),o?x.cloneElement(x.Children.only(l),tl(tl({},N),{ref:S})):x.createElement(b,tl({},N,{className:c,ref:S}),l))});Q_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Q_.classNames={fullWidth:Zy,zeroRight:Jy};var ele=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tle(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ele();return t&&e.setAttribute("nonce",t),e}function rle(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function nle(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ale=function(){var e=0,t=null;return{add:function(r){e==0&&(t=tle())&&(rle(t,r),nle(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},sle=function(){var e=ale();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},M9=function(){var e=sle(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},ile={left:0,top:0,right:0,gap:0},CS=function(e){return parseInt(e||"",10)||0},ole=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[CS(r),CS(n),CS(a)]},lle=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ile;var t=ole(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},cle=M9(),Ih="data-scroll-locked",ule=function(e,t,r,n){var a=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Hoe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ih,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jy,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Zy,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Jy," .").concat(Jy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Zy," .").concat(Zy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ih,`] {
    `).concat(qoe,": ").concat(l,`px;
  }
`)},JR=function(){var e=parseInt(document.body.getAttribute(Ih)||"0",10);return isFinite(e)?e:0},dle=function(){x.useEffect(function(){return document.body.setAttribute(Ih,(JR()+1).toString()),function(){var e=JR()-1;e<=0?document.body.removeAttribute(Ih):document.body.setAttribute(Ih,e.toString())}},[])},fle=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;dle();var s=x.useMemo(function(){return lle(a)},[a]);return x.createElement(cle,{styles:ule(s,!t,a,r?"":"!important")})},nk=!1;if(typeof window<"u")try{var sy=Object.defineProperty({},"passive",{get:function(){return nk=!0,!0}});window.addEventListener("test",sy,sy),window.removeEventListener("test",sy,sy)}catch{nk=!1}var Wf=nk?{passive:!1}:!1,hle=function(e){return e.tagName==="TEXTAREA"},I9=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!hle(e)&&r[t]==="visible")},mle=function(e){return I9(e,"overflowY")},ple=function(e){return I9(e,"overflowX")},ZR=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=L9(e,n);if(a){var s=$9(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},gle=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},vle=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},L9=function(e,t){return e==="v"?mle(t):ple(t)},$9=function(e,t){return e==="v"?gle(t):vle(t)},xle=function(e,t){return e==="h"&&t==="rtl"?-1:1},yle=function(e,t,r,n,a){var s=xle(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=$9(e,l),g=m[0],p=m[1],v=m[2],y=p-v-s*g;(g||y)&&L9(e,l)&&(f+=y,h+=g);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},iy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},eF=function(e){return[e.deltaX,e.deltaY]},tF=function(e){return e&&"current"in e?e.current:e},ble=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_le=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wle=0,Hf=[];function jle(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(wle++)[0],s=x.useState(M9)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Woe([e.lockRef.current],(e.shards||[]).map(tF),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=iy(p),b=r.current,_="deltaX"in p?p.deltaX:b[0]-y[0],j="deltaY"in p?p.deltaY:b[1]-y[1],w,S=p.target,N=Math.abs(_)>Math.abs(j)?"h":"v";if("touches"in p&&N==="h"&&S.type==="range")return!1;var C=ZR(N,S);if(!C)return!0;if(C?w=N:(w=N==="v"?"h":"v",C=ZR(N,S)),!C)return!1;if(!n.current&&"changedTouches"in p&&(_||j)&&(n.current=w),!w)return!0;var k=n.current||w;return yle(k,v,p,k==="h"?_:j,!0)},[]),c=x.useCallback(function(p){var v=p;if(!(!Hf.length||Hf[Hf.length-1]!==s)){var y="deltaY"in v?eF(v):iy(v),b=t.current.filter(function(w){return w.name===v.type&&(w.target===v.target||v.target===w.shadowParent)&&ble(w.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var _=(o.current.shards||[]).map(tF).filter(Boolean).filter(function(w){return w.contains(v.target)}),j=_.length>0?l(v,_[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),u=x.useCallback(function(p,v,y,b){var _={name:p,delta:v,target:y,should:b,shadowParent:Sle(y)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(j){return j!==_})},1)},[]),d=x.useCallback(function(p){r.current=iy(p),n.current=void 0},[]),f=x.useCallback(function(p){u(p.type,eF(p),p.target,l(p,e.lockRef.current))},[]),h=x.useCallback(function(p){u(p.type,iy(p),p.target,l(p,e.lockRef.current))},[]);x.useEffect(function(){return Hf.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Wf),document.addEventListener("touchmove",c,Wf),document.addEventListener("touchstart",d,Wf),function(){Hf=Hf.filter(function(p){return p!==s}),document.removeEventListener("wheel",c,Wf),document.removeEventListener("touchmove",c,Wf),document.removeEventListener("touchstart",d,Wf)}},[]);var m=e.removeScrollBar,g=e.inert;return x.createElement(x.Fragment,null,g?x.createElement(s,{styles:_le(a)}):null,m?x.createElement(fle,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Sle(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Nle=Zoe(F9,jle);var Qv=x.forwardRef(function(e,t){return x.createElement(Q_,tl({},e,{ref:t,sideCar:Nle}))});Qv.classNames=Q_.classNames;var kle=[" ","Enter","ArrowUp","ArrowDown"],Cle=[" ","Enter"],rf="Select",[J_,Z_,Ele]=AT(rf),[gp,tqe]=vs(rf,[Ele,pp]),ew=pp(),[Tle,Wu]=gp(rf),[Ale,Ple]=gp(rf),B9=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=ew(t),[v,y]=x.useState(null),[b,_]=x.useState(null),[j,w]=x.useState(!1),S=qv(u),[N,C]=gc({prop:n,defaultProp:a??!1,onChange:s,caller:rf}),[k,E]=gc({prop:o,defaultProp:l,onChange:c,caller:rf}),O=x.useRef(null),T=v?g||!!v.closest("form"):!0,[U,W]=x.useState(new Set),R=Array.from(U).map(z=>z.props.value).join(";");return i.jsx(UT,{...p,children:i.jsxs(Tle,{required:m,scope:t,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:_,valueNodeHasChildren:j,onValueNodeHasChildrenChange:w,contentId:na(),value:k,onValueChange:E,open:N,onOpenChange:C,dir:S,triggerPointerDownPosRef:O,disabled:h,children:[i.jsx(J_.Provider,{scope:t,children:i.jsx(Ale,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(z=>{W(P=>new Set(P).add(z))},[]),onNativeOptionRemove:x.useCallback(z=>{W(P=>{const M=new Set(P);return M.delete(z),M})},[]),children:r})}),T?i.jsxs(uU,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:z=>E(z.target.value),disabled:h,form:g,children:[k===void 0?i.jsx("option",{value:""}):null,Array.from(U)]},R):null]})})};B9.displayName=rf;var U9="SelectTrigger",z9=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=ew(r),o=Wu(U9,r),l=o.disabled||n,c=Bt(t,o.onTriggerChange),u=Z_(r),d=x.useRef("touch"),[f,h,m]=fU(p=>{const v=u().filter(_=>!_.disabled),y=v.find(_=>_.value===o.value),b=hU(v,p,y);b!==void 0&&o.onValueChange(b.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(Y_,{asChild:!0,...s,children:i.jsx(vt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":dU(o.value)?"":void 0,...a,ref:c,onClick:at(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:at(a.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:at(a.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&kle.includes(p.key)&&(g(),p.preventDefault())})})})});z9.displayName=U9;var V9="SelectValue",W9=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...l}=e,c=Wu(V9,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Bt(t,c.onValueNodeChange);return Sn(()=>{u(d)},[u,d]),i.jsx(vt.span,{...l,ref:f,style:{pointerEvents:"none"},children:dU(c.value)?i.jsx(i.Fragment,{children:o}):s})});W9.displayName=V9;var Ole="SelectIcon",H9=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return i.jsx(vt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});H9.displayName=Ole;var Dle="SelectPortal",q9=e=>i.jsx(Xv,{asChild:!0,...e});q9.displayName=Dle;var nf="SelectContent",G9=x.forwardRef((e,t)=>{const r=Wu(nf,e.__scopeSelect),[n,a]=x.useState();if(Sn(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?lp.createPortal(i.jsx(K9,{scope:e.__scopeSelect,children:i.jsx(J_.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(Y9,{...e,ref:t})});G9.displayName=nf;var ao=10,[K9,Hu]=gp(nf),Rle="SelectContentImpl",Fle=Pu("SelectContent.RemoveScroll"),Y9=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...y}=e,b=Wu(nf,r),[_,j]=x.useState(null),[w,S]=x.useState(null),N=Bt(t,ue=>j(ue)),[C,k]=x.useState(null),[E,O]=x.useState(null),T=Z_(r),[U,W]=x.useState(!1),R=x.useRef(!1);x.useEffect(()=>{if(_)return X_(_)},[_]),H_();const z=x.useCallback(ue=>{const[ye,...ie]=T().map(D=>D.ref.current),[Y]=ie.slice(-1),L=document.activeElement;for(const D of ue)if(D===L||(D==null||D.scrollIntoView({block:"nearest"}),D===ye&&w&&(w.scrollTop=0),D===Y&&w&&(w.scrollTop=w.scrollHeight),D==null||D.focus(),document.activeElement!==L))return},[T,w]),P=x.useCallback(()=>z([C,_]),[z,C,_]);x.useEffect(()=>{U&&P()},[U,P]);const{onOpenChange:M,triggerPointerDownPosRef:I}=b;x.useEffect(()=>{if(_){let ue={x:0,y:0};const ye=Y=>{var L,D;ue={x:Math.abs(Math.round(Y.pageX)-(((L=I.current)==null?void 0:L.x)??0)),y:Math.abs(Math.round(Y.pageY)-(((D=I.current)==null?void 0:D.y)??0))}},ie=Y=>{ue.x<=10&&ue.y<=10?Y.preventDefault():_.contains(Y.target)||M(!1),document.removeEventListener("pointermove",ye),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",ie,{capture:!0})}}},[_,M,I]),x.useEffect(()=>{const ue=()=>M(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[M]);const[q,J]=fU(ue=>{const ye=T().filter(L=>!L.disabled),ie=ye.find(L=>L.ref.current===document.activeElement),Y=hU(ye,ue,ie);Y&&setTimeout(()=>Y.ref.current.focus())}),A=x.useCallback((ue,ye,ie)=>{const Y=!R.current&&!ie;(b.value!==void 0&&b.value===ye||Y)&&(k(ue),Y&&(R.current=!0))},[b.value]),B=x.useCallback(()=>_==null?void 0:_.focus(),[_]),G=x.useCallback((ue,ye,ie)=>{const Y=!R.current&&!ie;(b.value!==void 0&&b.value===ye||Y)&&O(ue)},[b.value]),H=n==="popper"?ak:X9,ee=H===ak?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return i.jsx(K9,{scope:r,content:_,viewport:w,onViewportChange:S,itemRefCallback:A,selectedItem:C,onItemLeave:B,itemTextRefCallback:G,focusSelectedItem:P,selectedItemText:E,position:n,isPositioned:U,searchRef:q,children:i.jsx(Qv,{as:Fle,allowPinchZoom:!0,children:i.jsx(Kv,{asChild:!0,trapped:b.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:at(a,ue=>{var ye;(ye=b.trigger)==null||ye.focus({preventScroll:!0}),ue.preventDefault()}),children:i.jsx(Gv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:i.jsx(H,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ue=>ue.preventDefault(),...y,...ee,onPlaced:()=>W(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:at(y.onKeyDown,ue=>{const ye=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!ye&&ue.key.length===1&&J(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Y=T().filter(L=>!L.disabled).map(L=>L.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Y=Y.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const L=ue.target,D=Y.indexOf(L);Y=Y.slice(D+1)}setTimeout(()=>z(Y)),ue.preventDefault()}})})})})})})});Y9.displayName=Rle;var Mle="SelectItemAlignedPosition",X9=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Wu(nf,r),o=Hu(nf,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=Bt(t,N=>d(N)),h=Z_(r),m=x.useRef(!1),g=x.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=o,_=x.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&p&&v&&y){const N=s.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),k=s.valueNode.getBoundingClientRect(),E=y.getBoundingClientRect();if(s.dir!=="rtl"){const L=E.left-C.left,D=k.left-L,se=N.left-D,be=N.width+se,ve=Math.max(be,C.width),ke=window.innerWidth-ao,Se=J2(D,[ao,Math.max(ao,ke-ve)]);l.style.minWidth=be+"px",l.style.left=Se+"px"}else{const L=C.right-E.right,D=window.innerWidth-k.right-L,se=window.innerWidth-N.right-D,be=N.width+se,ve=Math.max(be,C.width),ke=window.innerWidth-ao,Se=J2(D,[ao,Math.max(ao,ke-ve)]);l.style.minWidth=be+"px",l.style.right=Se+"px"}const O=h(),T=window.innerHeight-ao*2,U=p.scrollHeight,W=window.getComputedStyle(u),R=parseInt(W.borderTopWidth,10),z=parseInt(W.paddingTop,10),P=parseInt(W.borderBottomWidth,10),M=parseInt(W.paddingBottom,10),I=R+z+U+M+P,q=Math.min(v.offsetHeight*5,I),J=window.getComputedStyle(p),A=parseInt(J.paddingTop,10),B=parseInt(J.paddingBottom,10),G=N.top+N.height/2-ao,H=T-G,ee=v.offsetHeight/2,ue=v.offsetTop+ee,ye=R+z+ue,ie=I-ye;if(ye<=G){const L=O.length>0&&v===O[O.length-1].ref.current;l.style.bottom="0px";const D=u.clientHeight-p.offsetTop-p.offsetHeight,se=Math.max(H,ee+(L?B:0)+D+P),be=ye+se;l.style.height=be+"px"}else{const L=O.length>0&&v===O[0].ref.current;l.style.top="0px";const se=Math.max(G,R+p.offsetTop+(L?A:0)+ee)+ie;l.style.height=se+"px",p.scrollTop=ye-G+p.offsetTop}l.style.margin=`${ao}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,p,v,y,s.dir,n]);Sn(()=>_(),[_]);const[j,w]=x.useState();Sn(()=>{u&&w(window.getComputedStyle(u).zIndex)},[u]);const S=x.useCallback(N=>{N&&g.current===!0&&(_(),b==null||b(),g.current=!1)},[_,b]);return i.jsx(Lle,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(vt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});X9.displayName=Mle;var Ile="SelectPopperPosition",ak=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ao,...s}=e,o=ew(r);return i.jsx(zT,{...o,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ak.displayName=Ile;var[Lle,HT]=gp(nf,{}),sk="SelectViewport",Q9=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Hu(sk,r),o=HT(sk,r),l=Bt(t,s.onViewportChange),c=x.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(J_.Slot,{scope:r,children:i.jsx(vt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:at(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-ao*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(p,v);if(y<g){const b=y+m,_=Math.min(g,b),j=b-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Q9.displayName=sk;var J9="SelectGroup",[$le,Ble]=gp(J9),Ule=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=na();return i.jsx($le,{scope:r,id:a,children:i.jsx(vt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Ule.displayName=J9;var Z9="SelectLabel",eU=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ble(Z9,r);return i.jsx(vt.div,{id:a.id,...n,ref:t})});eU.displayName=Z9;var W1="SelectItem",[zle,tU]=gp(W1),rU=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=e,l=Wu(W1,r),c=Hu(W1,r),u=l.value===n,[d,f]=x.useState(s??""),[h,m]=x.useState(!1),g=Bt(t,b=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,b,n,a)}),p=na(),v=x.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(zle,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:x.useCallback(b=>{f(_=>_||((b==null?void 0:b.textContent)??"").trim())},[]),children:i.jsx(J_.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:i.jsx(vt.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:at(o.onFocus,()=>m(!0)),onBlur:at(o.onBlur,()=>m(!1)),onClick:at(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:at(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:at(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:at(o.onPointerMove,b=>{var _;v.current=b.pointerType,a?(_=c.onItemLeave)==null||_.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:at(o.onPointerLeave,b=>{var _;b.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:at(o.onKeyDown,b=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&b.key===" "||(Cle.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});rU.displayName=W1;var C0="SelectItemText",nU=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,o=Wu(C0,r),l=Hu(C0,r),c=tU(C0,r),u=Ple(C0,r),[d,f]=x.useState(null),h=Bt(t,y=>f(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=x.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return Sn(()=>(p(g),()=>v(g)),[p,v,g]),i.jsxs(i.Fragment,{children:[i.jsx(vt.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?lp.createPortal(s.children,o.valueNode):null]})});nU.displayName=C0;var aU="SelectItemIndicator",sU=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return tU(aU,r).isSelected?i.jsx(vt.span,{"aria-hidden":!0,...n,ref:t}):null});sU.displayName=aU;var ik="SelectScrollUpButton",iU=x.forwardRef((e,t)=>{const r=Hu(ik,e.__scopeSelect),n=HT(ik,e.__scopeSelect),[a,s]=x.useState(!1),o=Bt(t,n.onScrollButtonChange);return Sn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(lU,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});iU.displayName=ik;var ok="SelectScrollDownButton",oU=x.forwardRef((e,t)=>{const r=Hu(ok,e.__scopeSelect),n=HT(ok,e.__scopeSelect),[a,s]=x.useState(!1),o=Bt(t,n.onScrollButtonChange);return Sn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(lU,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});oU.displayName=ok;var lU=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Hu("SelectScrollButton",r),o=x.useRef(null),l=Z_(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),Sn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(vt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:at(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:at(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:at(a.onPointerLeave,()=>{c()})})}),Vle="SelectSeparator",cU=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(vt.div,{"aria-hidden":!0,...n,ref:t})});cU.displayName=Vle;var lk="SelectArrow",Wle=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ew(r),s=Wu(lk,r),o=Hu(lk,r);return s.open&&o.position==="popper"?i.jsx(VT,{...a,...n,ref:t}):null});Wle.displayName=lk;var Hle="SelectBubbleInput",uU=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),s=Bt(n,a),o=WT(t);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(vt.select,{...r,style:{...P9,...r.style},ref:s,defaultValue:t})});uU.displayName=Hle;function dU(e){return e===""||e===void 0}function fU(e){const t=Hn(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function hU(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=qle(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function qle(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Gle=B9,mU=z9,Kle=W9,Yle=H9,Xle=q9,pU=G9,Qle=Q9,gU=eU,vU=rU,Jle=nU,Zle=sU,xU=iU,yU=oU,bU=cU;const ct=Gle,ut=Kle,ot=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(mU,{ref:n,className:Ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(Yle,{asChild:!0,children:i.jsx($d,{className:"h-4 w-4 opacity-50"})})]}));ot.displayName=mU.displayName;const _U=x.forwardRef(({className:e,...t},r)=>i.jsx(xU,{ref:r,className:Ne("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(bae,{className:"h-4 w-4"})}));_U.displayName=xU.displayName;const wU=x.forwardRef(({className:e,...t},r)=>i.jsx(yU,{ref:r,className:Ne("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx($d,{className:"h-4 w-4"})}));wU.displayName=yU.displayName;const lt=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>i.jsx(Xle,{children:i.jsxs(pU,{ref:a,className:Ne("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(_U,{}),i.jsx(Qle,{className:Ne("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(wU,{})]})}));lt.displayName=pU.displayName;const ece=x.forwardRef(({className:e,...t},r)=>i.jsx(gU,{ref:r,className:Ne("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ece.displayName=gU.displayName;const je=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(vU,{ref:n,className:Ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Zle,{children:i.jsx(Rh,{className:"h-4 w-4"})})}),i.jsx(Jle,{children:t})]}));je.displayName=vU.displayName;const tce=x.forwardRef(({className:e,...t},r)=>i.jsx(bU,{ref:r,className:Ne("-mx-1 my-1 h-px bg-muted",e),...t}));tce.displayName=bU.displayName;const jU=()=>{const{currentLanguage:e,changeLanguage:t,languages:r}=ar(),n=r.find(a=>a.code===e);return i.jsxs(ct,{value:e,onValueChange:t,children:[i.jsx(ot,{className:"w-[140px]",children:i.jsx(ut,{children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{children:n==null?void 0:n.name})})})}),i.jsx(lt,{children:r.map(a=>i.jsx(je,{value:a.code,children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{children:a.name})})},a.code))})]})};function rce(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var $a=e=>{const{present:t,children:r}=e,n=nce(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=Bt(n.ref,ace(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:s}):null};$a.displayName="Presence";function nce(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=rce(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=oy(n.current);s.current=l==="mounted"?u:"none"},[l]),Sn(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=oy(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Sn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=oy(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(s.current=oy(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function oy(e){return(e==null?void 0:e.animationName)||"none"}function ace(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ES="rovingFocusGroup.onEntryFocus",sce={bubbles:!1,cancelable:!0},Jv="RovingFocusGroup",[ck,SU,ice]=AT(Jv),[oce,tw]=vs(Jv,[ice]),[lce,cce]=oce(Jv),NU=x.forwardRef((e,t)=>i.jsx(ck.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(ck.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(uce,{...e,ref:t})})}));NU.displayName=Jv;var uce=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),m=Bt(t,h),g=qv(s),[p,v]=gc({prop:o,defaultProp:l??null,onChange:c,caller:Jv}),[y,b]=x.useState(!1),_=Hn(u),j=SU(r),w=x.useRef(!1),[S,N]=x.useState(0);return x.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(ES,_),()=>C.removeEventListener(ES,_)},[_]),i.jsx(lce,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:p,onItemFocus:x.useCallback(C=>v(C),[v]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>N(C=>C+1),[]),onFocusableItemRemove:x.useCallback(()=>N(C=>C-1),[]),children:i.jsx(vt.div,{tabIndex:y||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:at(e.onMouseDown,()=>{w.current=!0}),onFocus:at(e.onFocus,C=>{const k=!w.current;if(C.target===C.currentTarget&&k&&!y){const E=new CustomEvent(ES,sce);if(C.currentTarget.dispatchEvent(E),!E.defaultPrevented){const O=j().filter(z=>z.focusable),T=O.find(z=>z.active),U=O.find(z=>z.id===p),R=[T,U,...O].filter(Boolean).map(z=>z.ref.current);EU(R,d)}}w.current=!1}),onBlur:at(e.onBlur,()=>b(!1))})})}),kU="RovingFocusGroupItem",CU=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:o,...l}=e,c=na(),u=s||c,d=cce(kU,r),f=d.currentTabStopId===u,h=SU(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return x.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),i.jsx(ck.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:i.jsx(vt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:at(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:at(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:at(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=hce(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let _=h().filter(j=>j.focusable).map(j=>j.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const j=_.indexOf(v.currentTarget);_=d.loop?mce(_,j+1):_.slice(j+1)}setTimeout(()=>EU(_))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});CU.displayName=kU;var dce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fce(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function hce(e,t,r){const n=fce(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return dce[n]}function EU(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function mce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var TU=NU,AU=CU,uk=["Enter"," "],pce=["ArrowDown","PageUp","Home"],PU=["ArrowUp","PageDown","End"],gce=[...pce,...PU],vce={ltr:[...uk,"ArrowRight"],rtl:[...uk,"ArrowLeft"]},xce={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Zv="Menu",[Bg,yce,bce]=AT(Zv),[Sf,OU]=vs(Zv,[bce,pp,tw]),rw=pp(),DU=tw(),[_ce,Nf]=Sf(Zv),[wce,ex]=Sf(Zv),RU=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:o=!0}=e,l=rw(t),[c,u]=x.useState(null),d=x.useRef(!1),f=Hn(s),h=qv(a);return x.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),i.jsx(UT,{...l,children:i.jsx(_ce,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(wce,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};RU.displayName=Zv;var jce="MenuAnchor",qT=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=rw(r);return i.jsx(Y_,{...a,...n,ref:t})});qT.displayName=jce;var GT="MenuPortal",[Sce,FU]=Sf(GT,{forceMount:void 0}),MU=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=Nf(GT,t);return i.jsx(Sce,{scope:t,forceMount:r,children:i.jsx($a,{present:r||s.open,children:i.jsx(Xv,{asChild:!0,container:a,children:n})})})};MU.displayName=GT;var Ii="MenuContent",[Nce,KT]=Sf(Ii),IU=x.forwardRef((e,t)=>{const r=FU(Ii,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Nf(Ii,e.__scopeMenu),o=ex(Ii,e.__scopeMenu);return i.jsx(Bg.Provider,{scope:e.__scopeMenu,children:i.jsx($a,{present:n||s.open,children:i.jsx(Bg.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(kce,{...a,ref:t}):i.jsx(Cce,{...a,ref:t})})})})}),kce=x.forwardRef((e,t)=>{const r=Nf(Ii,e.__scopeMenu),n=x.useRef(null),a=Bt(t,n);return x.useEffect(()=>{const s=n.current;if(s)return X_(s)},[]),i.jsx(YT,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:at(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Cce=x.forwardRef((e,t)=>{const r=Nf(Ii,e.__scopeMenu);return i.jsx(YT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Ece=Pu("MenuContent.ScrollLock"),YT=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,v=Nf(Ii,r),y=ex(Ii,r),b=rw(r),_=DU(r),j=yce(r),[w,S]=x.useState(null),N=x.useRef(null),C=Bt(t,N,v.onContentChange),k=x.useRef(0),E=x.useRef(""),O=x.useRef(0),T=x.useRef(null),U=x.useRef("right"),W=x.useRef(0),R=g?Qv:x.Fragment,z=g?{as:Ece,allowPinchZoom:!0}:void 0,P=I=>{var ue,ye;const q=E.current+I,J=j().filter(ie=>!ie.disabled),A=document.activeElement,B=(ue=J.find(ie=>ie.ref.current===A))==null?void 0:ue.textValue,G=J.map(ie=>ie.textValue),H=Bce(G,q,B),ee=(ye=J.find(ie=>ie.textValue===H))==null?void 0:ye.ref.current;(function ie(Y){E.current=Y,window.clearTimeout(k.current),Y!==""&&(k.current=window.setTimeout(()=>ie(""),1e3))})(q),ee&&setTimeout(()=>ee.focus())};x.useEffect(()=>()=>window.clearTimeout(k.current),[]),H_();const M=x.useCallback(I=>{var J,A;return U.current===((J=T.current)==null?void 0:J.side)&&zce(I,(A=T.current)==null?void 0:A.area)},[]);return i.jsx(Nce,{scope:r,searchRef:E,onItemEnter:x.useCallback(I=>{M(I)&&I.preventDefault()},[M]),onItemLeave:x.useCallback(I=>{var q;M(I)||((q=N.current)==null||q.focus(),S(null))},[M]),onTriggerLeave:x.useCallback(I=>{M(I)&&I.preventDefault()},[M]),pointerGraceTimerRef:O,onPointerGraceIntentChange:x.useCallback(I=>{T.current=I},[]),children:i.jsx(R,{...z,children:i.jsx(Kv,{asChild:!0,trapped:a,onMountAutoFocus:at(s,I=>{var q;I.preventDefault(),(q=N.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Gv,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:i.jsx(TU,{asChild:!0,..._,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:w,onCurrentTabStopIdChange:S,onEntryFocus:at(c,I=>{y.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(zT,{role:"menu","aria-orientation":"vertical","data-state":ZU(v.open),"data-radix-menu-content":"",dir:y.dir,...b,...p,ref:C,style:{outline:"none",...p.style},onKeyDown:at(p.onKeyDown,I=>{const J=I.target.closest("[data-radix-menu-content]")===I.currentTarget,A=I.ctrlKey||I.altKey||I.metaKey,B=I.key.length===1;J&&(I.key==="Tab"&&I.preventDefault(),!A&&B&&P(I.key));const G=N.current;if(I.target!==G||!gce.includes(I.key))return;I.preventDefault();const ee=j().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);PU.includes(I.key)&&ee.reverse(),Lce(ee)}),onBlur:at(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(k.current),E.current="")}),onPointerMove:at(e.onPointerMove,Ug(I=>{const q=I.target,J=W.current!==I.clientX;if(I.currentTarget.contains(q)&&J){const A=I.clientX>W.current?"right":"left";U.current=A,W.current=I.clientX}}))})})})})})})});IU.displayName=Ii;var Tce="MenuGroup",XT=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(vt.div,{role:"group",...n,ref:t})});XT.displayName=Tce;var Ace="MenuLabel",LU=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(vt.div,{...n,ref:t})});LU.displayName=Ace;var H1="MenuItem",rF="menu.itemSelect",nw=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=x.useRef(null),o=ex(H1,e.__scopeMenu),l=KT(H1,e.__scopeMenu),c=Bt(t,s),u=x.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(rF,{bubbles:!0,cancelable:!0});f.addEventListener(rF,m=>n==null?void 0:n(m),{once:!0}),qB(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx($U,{...a,ref:c,disabled:r,onClick:at(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:at(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:at(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||uk.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});nw.displayName=H1;var $U=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,o=KT(H1,r),l=DU(r),c=x.useRef(null),u=Bt(t,c),[d,f]=x.useState(!1),[h,m]=x.useState("");return x.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[s.children]),i.jsx(Bg.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:i.jsx(AU,{asChild:!0,...l,focusable:!n,children:i.jsx(vt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:at(e.onPointerMove,Ug(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:at(e.onPointerLeave,Ug(g=>o.onItemLeave(g))),onFocus:at(e.onFocus,()=>f(!0)),onBlur:at(e.onBlur,()=>f(!1))})})})}),Pce="MenuCheckboxItem",BU=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return i.jsx(HU,{scope:e.__scopeMenu,checked:r,children:i.jsx(nw,{role:"menuitemcheckbox","aria-checked":q1(r)?"mixed":r,...a,ref:t,"data-state":JT(r),onSelect:at(a.onSelect,()=>n==null?void 0:n(q1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});BU.displayName=Pce;var UU="MenuRadioGroup",[Oce,Dce]=Sf(UU,{value:void 0,onValueChange:()=>{}}),zU=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=Hn(n);return i.jsx(Oce,{scope:e.__scopeMenu,value:r,onValueChange:s,children:i.jsx(XT,{...a,ref:t})})});zU.displayName=UU;var VU="MenuRadioItem",WU=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=Dce(VU,e.__scopeMenu),s=r===a.value;return i.jsx(HU,{scope:e.__scopeMenu,checked:s,children:i.jsx(nw,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":JT(s),onSelect:at(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});WU.displayName=VU;var QT="MenuItemIndicator",[HU,Rce]=Sf(QT,{checked:!1}),qU=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=Rce(QT,r);return i.jsx($a,{present:n||q1(s.checked)||s.checked===!0,children:i.jsx(vt.span,{...a,ref:t,"data-state":JT(s.checked)})})});qU.displayName=QT;var Fce="MenuSeparator",GU=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(vt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});GU.displayName=Fce;var Mce="MenuArrow",KU=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=rw(r);return i.jsx(VT,{...a,...n,ref:t})});KU.displayName=Mce;var Ice="MenuSub",[rqe,YU]=Sf(Ice),E0="MenuSubTrigger",XU=x.forwardRef((e,t)=>{const r=Nf(E0,e.__scopeMenu),n=ex(E0,e.__scopeMenu),a=YU(E0,e.__scopeMenu),s=KT(E0,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(qT,{asChild:!0,...u,children:i.jsx($U,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":ZU(r.open),...e,ref:hc(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:at(e.onPointerMove,Ug(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:at(e.onPointerLeave,Ug(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,v=p==="right",y=v?-5:5,b=h[v?"left":"right"],_=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:b,y:h.top},{x:_,y:h.top},{x:_,y:h.bottom},{x:b,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:at(e.onKeyDown,f=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||vce[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});XU.displayName=E0;var QU="MenuSubContent",JU=x.forwardRef((e,t)=>{const r=FU(Ii,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Nf(Ii,e.__scopeMenu),o=ex(Ii,e.__scopeMenu),l=YU(QU,e.__scopeMenu),c=x.useRef(null),u=Bt(t,c);return i.jsx(Bg.Provider,{scope:e.__scopeMenu,children:i.jsx($a,{present:n||s.open,children:i.jsx(Bg.Slot,{scope:e.__scopeMenu,children:i.jsx(YT,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:at(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:at(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:at(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=xce[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});JU.displayName=QU;function ZU(e){return e?"open":"closed"}function q1(e){return e==="indeterminate"}function JT(e){return q1(e)?"indeterminate":e?"checked":"unchecked"}function Lce(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function $ce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Bce(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=$ce(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Uce(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function zce(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Uce(r,t)}function Ug(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Vce=RU,Wce=qT,Hce=MU,qce=IU,Gce=XT,Kce=LU,Yce=nw,Xce=BU,Qce=zU,Jce=WU,Zce=qU,eue=GU,tue=KU,rue=XU,nue=JU,aw="DropdownMenu",[aue,nqe]=vs(aw,[OU]),xs=OU(),[sue,e7]=aue(aw),t7=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=xs(t),u=x.useRef(null),[d,f]=gc({prop:a,defaultProp:s??!1,onChange:o,caller:aw});return i.jsx(sue,{scope:t,triggerId:na(),triggerRef:u,contentId:na(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(Vce,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};t7.displayName=aw;var r7="DropdownMenuTrigger",n7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=e7(r7,r),o=xs(r);return i.jsx(Wce,{asChild:!0,...o,children:i.jsx(vt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:hc(t,s.triggerRef),onPointerDown:at(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:at(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});n7.displayName=r7;var iue="DropdownMenuPortal",a7=e=>{const{__scopeDropdownMenu:t,...r}=e,n=xs(t);return i.jsx(Hce,{...n,...r})};a7.displayName=iue;var s7="DropdownMenuContent",i7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=e7(s7,r),s=xs(r),o=x.useRef(!1);return i.jsx(qce,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:at(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:at(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});i7.displayName=s7;var oue="DropdownMenuGroup",lue=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=xs(r);return i.jsx(Gce,{...a,...n,ref:t})});lue.displayName=oue;var cue="DropdownMenuLabel",o7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=xs(r);return i.jsx(Kce,{...a,...n,ref:t})});o7.displayName=cue;var uue="DropdownMenuItem",l7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=xs(r);return i.jsx(Yce,{...a,...n,ref:t})});l7.displayName=uue;var due="DropdownMenuCheckboxItem",c7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=xs(r);return i.jsx(Xce,{...a,...n,ref:t})});c7.displayName=due;var fue="DropdownMenuRadioGroup",hue=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=xs(r);return i.jsx(Qce,{...a,...n,ref:t})});hue.displayName=fue;var mue="DropdownMenuRadioItem",u7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=xs(r);return i.jsx(Jce,{...a,...n,ref:t})});u7.displayName=mue;var pue="DropdownMenuItemIndicator",d7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=xs(r);return i.jsx(Zce,{...a,...n,ref:t})});d7.displayName=pue;var gue="DropdownMenuSeparator",f7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=xs(r);return i.jsx(eue,{...a,...n,ref:t})});f7.displayName=gue;var vue="DropdownMenuArrow",xue=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=xs(r);return i.jsx(tue,{...a,...n,ref:t})});xue.displayName=vue;var yue="DropdownMenuSubTrigger",h7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=xs(r);return i.jsx(rue,{...a,...n,ref:t})});h7.displayName=yue;var bue="DropdownMenuSubContent",m7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=xs(r);return i.jsx(nue,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});m7.displayName=bue;var _ue=t7,wue=n7,jue=a7,p7=i7,g7=o7,v7=l7,x7=c7,y7=u7,b7=d7,_7=f7,w7=h7,j7=m7;const ZT=_ue,eA=wue,Sue=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>i.jsxs(w7,{ref:a,className:Ne("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(z_,{className:"ml-auto h-4 w-4"})]}));Sue.displayName=w7.displayName;const Nue=x.forwardRef(({className:e,...t},r)=>i.jsx(j7,{ref:r,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Nue.displayName=j7.displayName;const sw=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(jue,{children:i.jsx(p7,{ref:n,sideOffset:t,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));sw.displayName=p7.displayName;const ql=x.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(v7,{ref:n,className:Ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));ql.displayName=v7.displayName;const kue=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>i.jsxs(x7,{ref:a,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(b7,{children:i.jsx(Rh,{className:"h-4 w-4"})})}),t]}));kue.displayName=x7.displayName;const Cue=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(y7,{ref:n,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(b7,{children:i.jsx(wae,{className:"h-2 w-2 fill-current"})})}),t]}));Cue.displayName=y7.displayName;const Eue=x.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(g7,{ref:n,className:Ne("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Eue.displayName=g7.displayName;const dk=x.forwardRef(({className:e,...t},r)=>i.jsx(_7,{ref:r,className:Ne("-mx-1 my-1 h-px bg-muted",e),...t}));dk.displayName=_7.displayName;var iw="Dialog",[S7,N7]=vs(iw),[Tue,Fo]=S7(iw),k7=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=gc({prop:n,defaultProp:a??!1,onChange:s,caller:iw});return i.jsx(Tue,{scope:t,triggerRef:l,contentRef:c,contentId:na(),titleId:na(),descriptionId:na(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};k7.displayName=iw;var C7="DialogTrigger",E7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Fo(C7,r),s=Bt(t,a.triggerRef);return i.jsx(vt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":nA(a.open),...n,ref:s,onClick:at(e.onClick,a.onOpenToggle)})});E7.displayName=C7;var tA="DialogPortal",[Aue,T7]=S7(tA,{forceMount:void 0}),A7=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Fo(tA,t);return i.jsx(Aue,{scope:t,forceMount:r,children:x.Children.map(n,o=>i.jsx($a,{present:r||s.open,children:i.jsx(Xv,{asChild:!0,container:a,children:o})}))})};A7.displayName=tA;var G1="DialogOverlay",P7=x.forwardRef((e,t)=>{const r=T7(G1,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Fo(G1,e.__scopeDialog);return s.modal?i.jsx($a,{present:n||s.open,children:i.jsx(Oue,{...a,ref:t})}):null});P7.displayName=G1;var Pue=Pu("DialogOverlay.RemoveScroll"),Oue=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Fo(G1,r);return i.jsx(Qv,{as:Pue,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(vt.div,{"data-state":nA(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),af="DialogContent",O7=x.forwardRef((e,t)=>{const r=T7(af,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Fo(af,e.__scopeDialog);return i.jsx($a,{present:n||s.open,children:s.modal?i.jsx(Due,{...a,ref:t}):i.jsx(Rue,{...a,ref:t})})});O7.displayName=af;var Due=x.forwardRef((e,t)=>{const r=Fo(af,e.__scopeDialog),n=x.useRef(null),a=Bt(t,r.contentRef,n);return x.useEffect(()=>{const s=n.current;if(s)return X_(s)},[]),i.jsx(D7,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:at(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:at(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:at(e.onFocusOutside,s=>s.preventDefault())})}),Rue=x.forwardRef((e,t)=>{const r=Fo(af,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return i.jsx(D7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),D7=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=Fo(af,r),c=x.useRef(null),u=Bt(t,c);return H_(),i.jsxs(i.Fragment,{children:[i.jsx(Kv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Gv,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":nA(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(Mue,{titleId:l.titleId}),i.jsx(Lue,{contentRef:c,descriptionId:l.descriptionId})]})]})}),rA="DialogTitle",R7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Fo(rA,r);return i.jsx(vt.h2,{id:a.titleId,...n,ref:t})});R7.displayName=rA;var F7="DialogDescription",M7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Fo(F7,r);return i.jsx(vt.p,{id:a.descriptionId,...n,ref:t})});M7.displayName=F7;var I7="DialogClose",L7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Fo(I7,r);return i.jsx(vt.button,{type:"button",...n,ref:t,onClick:at(e.onClick,()=>a.onOpenChange(!1))})});L7.displayName=I7;function nA(e){return e?"open":"closed"}var $7="DialogTitleWarning",[Fue,B7]=Wse($7,{contentName:af,titleName:rA,docsSlug:"dialog"}),Mue=({titleId:e})=>{const t=B7($7),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Iue="DialogDescriptionWarning",Lue=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${B7(Iue).contentName}}.`;return x.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ow=k7,aA=E7,lw=A7,vp=P7,xp=O7,tx=R7,rx=M7,cw=L7;const fn=ow,K1=aA,$ue=lw,U7=x.forwardRef(({className:e,...t},r)=>i.jsx(vp,{ref:r,className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));U7.displayName=vp.displayName;const tn=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs($ue,{children:[i.jsx(U7,{}),i.jsxs(xp,{ref:n,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-xl",e),...r,children:[t,i.jsxs(cw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(ui,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));tn.displayName=xp.displayName;const rn=({className:e,...t})=>i.jsx("div",{className:Ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});rn.displayName="DialogHeader";const la=({className:e,...t})=>{const{isRTL:r}=ar();return i.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r&&"sm:space-x-reverse",e),...t})};la.displayName="DialogFooter";const nn=x.forwardRef(({className:e,...t},r)=>i.jsx(tx,{ref:r,className:Ne("text-lg font-semibold leading-none tracking-tight",e),...t}));nn.displayName=tx.displayName;const ca=x.forwardRef(({className:e,...t},r)=>i.jsx(rx,{ref:r,className:Ne("text-sm text-muted-foreground",e),...t}));ca.displayName=rx.displayName;const Bue=Hv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ym=x.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:Ne(Bue({variant:t}),e),...r}));ym.displayName="Alert";const Uue=x.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:Ne("mb-1 font-medium leading-none tracking-tight",e),...t}));Uue.displayName="AlertTitle";const bm=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ne("text-sm [&_p]:leading-relaxed",e),...t}));bm.displayName="AlertDescription";function zue({onToggleSidebar:e}){var j,w,S;const{breadcrumbs:t}=dp(),{user:r,logout:n}=dr(),{t:a}=Pt(),s=Us(),{setTheme:o}=iae(),[l,c]=x.useState(!1),[u,d]=x.useState(""),[f,h]=x.useState(""),[m,g]=x.useState(""),[p,v]=x.useState(!1),y=()=>{try{n(),s("/login")}catch(N){console.error("Logout failed:",N),s("/login")}},b=()=>{c(!0)},_=async N=>{if(N.preventDefault(),!p){if(!u.trim()){g(a("settings.newPasswordRequired"));return}if(u.length<6){g(a("settings.passwordTooShort"));return}if(u!==f){g(a("settings.passwordsDoNotMatch"));return}g(""),v(!0);try{throw new Error("Password change not available - Supabase removed")}catch(C){console.error("Password change failed:",C),g(C.message||a("settings.passwordChangeFailed"))}finally{v(!1)}}};return i.jsxs("header",{className:"border-b bg-background/80 backdrop-blur-md sticky top-0 z-50 shadow-sm",children:[i.jsxs("div",{className:"h-16 flex items-center px-4 md:px-6 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:e,className:"text-foreground hover:bg-accent hover:text-accent-foreground p-2 rounded-lg transition-all","aria-label":"Toggle sidebar",children:i.jsx(Oae,{className:"h-5 w-5"})}),t&&t.length>0&&i.jsx("div",{className:"hidden md:block",children:i.jsx(Jse,{items:t})})]}),i.jsx("div",{className:"hidden md:flex flex-1 max-w-md",children:i.jsxs("div",{className:"relative w-full",children:[i.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(ze,{type:"search",placeholder:a("common.search","Search..."),className:"pl-10 pr-4 h-9 bg-muted/50 border-0 focus-visible:ring-1"})]})}),i.jsx("div",{className:"flex-1"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:Te((r==null?void 0:r.profile)||{},"user_name")||(r==null?void 0:r.email)}),i.jsx(jU,{}),i.jsxs("button",{className:"text-foreground hover:text-muted-foreground relative transition-colors",title:a("common.notifications"),children:[i.jsx(kT,{className:"h-5 w-5"}),i.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-primary flex items-center justify-center",children:i.jsx("span",{className:"h-2 w-2 rounded-full bg-primary-foreground"})}),i.jsx("span",{className:"sr-only",children:a("common.notifications")})]}),i.jsxs(ZT,{children:[i.jsx(eA,{asChild:!0,children:i.jsxs(fe,{variant:"ghost",size:"icon",className:"h-9 w-9 hover:bg-accent",title:a("navigation.settings"),children:[i.jsxs(Ls,{className:"h-8 w-8",children:[i.jsx(To,{src:(j=r==null?void 0:r.profile)==null?void 0:j.avatar}),i.jsx($s,{className:"bg-primary/10 text-primary font-semibold text-sm",children:(w=r==null?void 0:r.email)==null?void 0:w.charAt(0).toUpperCase()})]}),i.jsx("span",{className:"sr-only",children:a("navigation.settings")})]})}),i.jsxs(sw,{align:"end",className:"w-56",children:[i.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:i.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[i.jsx("p",{className:"font-medium text-sm",children:Te((r==null?void 0:r.profile)||{},"user_name")||((S=r==null?void 0:r.email)==null?void 0:S.split("@")[0])}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r==null?void 0:r.email})]})}),i.jsx(dk,{}),i.jsxs(ql,{onClick:()=>o("light"),children:[i.jsx(Bae,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:a("theme.light","Light")})]}),i.jsxs(ql,{onClick:()=>o("dark"),children:[i.jsx(Rae,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:a("theme.dark","Dark")})]}),i.jsxs(ql,{onClick:()=>o("system"),children:[i.jsx(Mg,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:a("theme.system","System")})]}),i.jsx(dk,{}),i.jsxs(ql,{onClick:b,children:[i.jsx(Aae,{className:"h-4 w-4 mr-2"}),a("settings.changePassword")]}),i.jsxs(ql,{onClick:y,className:"text-destructive focus:text-destructive",children:[i.jsx(Vae,{className:"h-4 w-4 mr-2"}),a("buttons.logout")]})]})]})]})]}),i.jsx(fn,{open:l,onOpenChange:c,children:i.jsxs(tn,{className:"sm:max-w-[425px]",children:[i.jsxs(rn,{children:[i.jsx(nn,{children:a("settings.changePassword")}),i.jsx(ca,{children:a("settings.changePasswordDescription")})]}),i.jsxs("form",{onSubmit:_,className:"space-y-4",children:[m&&i.jsx(ym,{variant:"destructive",children:i.jsx(bm,{children:m})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"newPassword",children:a("settings.newPassword")}),i.jsx(ze,{id:"newPassword",type:"password",value:u,onChange:N=>d(N.target.value),placeholder:a("settings.newPasswordPlaceholder"),required:!0,minLength:6})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"confirmPassword",children:a("settings.confirmPassword")}),i.jsx(ze,{id:"confirmPassword",type:"password",value:f,onChange:N=>h(N.target.value),placeholder:a("settings.confirmPasswordPlaceholder"),required:!0,minLength:6})]}),i.jsxs(la,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[i.jsx(fe,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:a("buttons.cancel")}),i.jsx(fe,{type:"submit",disabled:p||!u.trim()||!f.trim(),className:"w-full sm:w-auto",children:a(p?"settings.changingPassword":"settings.changePassword")})]})]})]})})]})}const Oo=ow,z7=aA,Vue=lw,V7=x.forwardRef(({className:e,...t},r)=>i.jsx(vp,{className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));V7.displayName=vp.displayName;const Wue=Hv("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Vi=x.forwardRef(({side:e="right",className:t,children:r,...n},a)=>i.jsxs(Vue,{children:[i.jsx(V7,{}),i.jsxs(xp,{ref:a,className:Ne(Wue({side:e}),t),...n,children:[r,i.jsxs(cw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(ui,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Vi.displayName=xp.displayName;const yl=({className:e,...t})=>i.jsx("div",{className:Ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});yl.displayName="SheetHeader";const Do=x.forwardRef(({className:e,...t},r)=>i.jsx(tx,{ref:r,className:Ne("text-lg font-semibold text-foreground",e),...t}));Do.displayName=tx.displayName;const Ru=x.forwardRef(({className:e,...t},r)=>i.jsx(rx,{ref:r,className:Ne("text-sm text-muted-foreground",e),...t}));Ru.displayName=rx.displayName;function fk({children:e}){const{isRTL:t}=ar(),[r,n]=x.useState(!0),[a,s]=x.useState(!1),[o,l]=x.useState(!1);x.useEffect(()=>{const d=()=>{const f=window.innerWidth;s(f<768),l(f>=768&&f<1024),f<768?n(!1):n(!0)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const c=()=>{n(!r)},u=()=>{a&&n(!1)};return i.jsxs("div",{className:"h-screen bg-background w-full flex flex-col",children:[i.jsx(zue,{onToggleSidebar:c}),i.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[!a&&!o&&i.jsx("aside",{className:Ne("bg-sidebar transition-all duration-300 ease-in-out hidden lg:block h-full",r?"w-60":"w-0 overflow-hidden"),children:i.jsx(xS,{onNavigate:u})}),o&&i.jsx("aside",{className:Ne("bg-sidebar transition-all duration-300 ease-in-out h-full",r?"w-60":"w-0 overflow-hidden"),children:i.jsx(xS,{onNavigate:u})}),a&&i.jsx(Oo,{open:r,onOpenChange:n,children:i.jsxs(Vi,{side:t?"right":"left",className:"p-0 w-60 [&>button]:hidden",children:[i.jsx(Do,{className:"sr-only",children:"Navigation Menu"}),i.jsx(Ru,{className:"sr-only",children:"Application navigation sidebar"}),i.jsx(xS,{onNavigate:u})]})}),i.jsx("main",{className:"flex-1 overflow-hidden bg-background w-full",children:i.jsx("div",{className:"h-full p-3 sm:p-4 md:p-6 pt-2 overflow-y-auto",children:e})})]})]})}const TS=1024;function Br(){const[e,t]=x.useState(void 0);return x.useEffect(()=>{const r=window.matchMedia(`(max-width: ${TS-1}px)`),n=()=>{t(window.innerWidth<TS)};return r.addEventListener("change",n),t(window.innerWidth<TS),()=>r.removeEventListener("change",n)},[]),!!e}const Hue=Hv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ht({className:e,variant:t,...r}){return i.jsx("div",{className:Ne(Hue({variant:t}),e),...r})}function W7(){Pt();const[e,t]=x.useState(new Date);x.useEffect(()=>{const a=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(a)},[]);const r=a=>a.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"short",day:"numeric"}),n=a=>a.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});return i.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[i.jsx("div",{className:"text-lg font-mono font-semibold text-foreground",children:n(e)}),i.jsx("div",{className:"text-sm",children:r(e)})]})}var que=Array.isArray,zs=que,Gue=typeof Ox=="object"&&Ox&&Ox.Object===Object&&Ox,H7=Gue,Kue=H7,Yue=typeof self=="object"&&self&&self.Object===Object&&self,Xue=Kue||Yue||Function("return this")(),Tl=Xue,Que=Tl,Jue=Que.Symbol,nx=Jue,nF=nx,q7=Object.prototype,Zue=q7.hasOwnProperty,ede=q7.toString,a0=nF?nF.toStringTag:void 0;function tde(e){var t=Zue.call(e,a0),r=e[a0];try{e[a0]=void 0;var n=!0}catch{}var a=ede.call(e);return n&&(t?e[a0]=r:delete e[a0]),a}var rde=tde,nde=Object.prototype,ade=nde.toString;function sde(e){return ade.call(e)}var ide=sde,aF=nx,ode=rde,lde=ide,cde="[object Null]",ude="[object Undefined]",sF=aF?aF.toStringTag:void 0;function dde(e){return e==null?e===void 0?ude:cde:sF&&sF in Object(e)?ode(e):lde(e)}var Sc=dde;function fde(e){return e!=null&&typeof e=="object"}var Nc=fde,hde=Sc,mde=Nc,pde="[object Symbol]";function gde(e){return typeof e=="symbol"||mde(e)&&hde(e)==pde}var yp=gde,vde=zs,xde=yp,yde=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bde=/^\w*$/;function _de(e,t){if(vde(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||xde(e)?!0:bde.test(e)||!yde.test(e)||t!=null&&e in Object(t)}var sA=_de;function wde(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var qu=wde;const bp=pr(qu);var jde=Sc,Sde=qu,Nde="[object AsyncFunction]",kde="[object Function]",Cde="[object GeneratorFunction]",Ede="[object Proxy]";function Tde(e){if(!Sde(e))return!1;var t=jde(e);return t==kde||t==Cde||t==Nde||t==Ede}var iA=Tde;const Et=pr(iA);var Ade=Tl,Pde=Ade["__core-js_shared__"],Ode=Pde,AS=Ode,iF=function(){var e=/[^.]+$/.exec(AS&&AS.keys&&AS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Dde(e){return!!iF&&iF in e}var Rde=Dde,Fde=Function.prototype,Mde=Fde.toString;function Ide(e){if(e!=null){try{return Mde.call(e)}catch{}try{return e+""}catch{}}return""}var G7=Ide,Lde=iA,$de=Rde,Bde=qu,Ude=G7,zde=/[\\^$.*+?()[\]{}|]/g,Vde=/^\[object .+?Constructor\]$/,Wde=Function.prototype,Hde=Object.prototype,qde=Wde.toString,Gde=Hde.hasOwnProperty,Kde=RegExp("^"+qde.call(Gde).replace(zde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Yde(e){if(!Bde(e)||$de(e))return!1;var t=Lde(e)?Kde:Vde;return t.test(Ude(e))}var Xde=Yde;function Qde(e,t){return e==null?void 0:e[t]}var Jde=Qde,Zde=Xde,efe=Jde;function tfe(e,t){var r=efe(e,t);return Zde(r)?r:void 0}var kf=tfe,rfe=kf,nfe=rfe(Object,"create"),uw=nfe,oF=uw;function afe(){this.__data__=oF?oF(null):{},this.size=0}var sfe=afe;function ife(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ofe=ife,lfe=uw,cfe="__lodash_hash_undefined__",ufe=Object.prototype,dfe=ufe.hasOwnProperty;function ffe(e){var t=this.__data__;if(lfe){var r=t[e];return r===cfe?void 0:r}return dfe.call(t,e)?t[e]:void 0}var hfe=ffe,mfe=uw,pfe=Object.prototype,gfe=pfe.hasOwnProperty;function vfe(e){var t=this.__data__;return mfe?t[e]!==void 0:gfe.call(t,e)}var xfe=vfe,yfe=uw,bfe="__lodash_hash_undefined__";function _fe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=yfe&&t===void 0?bfe:t,this}var wfe=_fe,jfe=sfe,Sfe=ofe,Nfe=hfe,kfe=xfe,Cfe=wfe;function _p(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_p.prototype.clear=jfe;_p.prototype.delete=Sfe;_p.prototype.get=Nfe;_p.prototype.has=kfe;_p.prototype.set=Cfe;var Efe=_p;function Tfe(){this.__data__=[],this.size=0}var Afe=Tfe;function Pfe(e,t){return e===t||e!==e&&t!==t}var oA=Pfe,Ofe=oA;function Dfe(e,t){for(var r=e.length;r--;)if(Ofe(e[r][0],t))return r;return-1}var dw=Dfe,Rfe=dw,Ffe=Array.prototype,Mfe=Ffe.splice;function Ife(e){var t=this.__data__,r=Rfe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Mfe.call(t,r,1),--this.size,!0}var Lfe=Ife,$fe=dw;function Bfe(e){var t=this.__data__,r=$fe(t,e);return r<0?void 0:t[r][1]}var Ufe=Bfe,zfe=dw;function Vfe(e){return zfe(this.__data__,e)>-1}var Wfe=Vfe,Hfe=dw;function qfe(e,t){var r=this.__data__,n=Hfe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Gfe=qfe,Kfe=Afe,Yfe=Lfe,Xfe=Ufe,Qfe=Wfe,Jfe=Gfe;function wp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wp.prototype.clear=Kfe;wp.prototype.delete=Yfe;wp.prototype.get=Xfe;wp.prototype.has=Qfe;wp.prototype.set=Jfe;var fw=wp,Zfe=kf,ehe=Tl,the=Zfe(ehe,"Map"),lA=the,lF=Efe,rhe=fw,nhe=lA;function ahe(){this.size=0,this.__data__={hash:new lF,map:new(nhe||rhe),string:new lF}}var she=ahe;function ihe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ohe=ihe,lhe=ohe;function che(e,t){var r=e.__data__;return lhe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var hw=che,uhe=hw;function dhe(e){var t=uhe(this,e).delete(e);return this.size-=t?1:0,t}var fhe=dhe,hhe=hw;function mhe(e){return hhe(this,e).get(e)}var phe=mhe,ghe=hw;function vhe(e){return ghe(this,e).has(e)}var xhe=vhe,yhe=hw;function bhe(e,t){var r=yhe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var _he=bhe,whe=she,jhe=fhe,She=phe,Nhe=xhe,khe=_he;function jp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jp.prototype.clear=whe;jp.prototype.delete=jhe;jp.prototype.get=She;jp.prototype.has=Nhe;jp.prototype.set=khe;var cA=jp,K7=cA,Che="Expected a function";function uA(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Che);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(uA.Cache||K7),r}uA.Cache=K7;var Y7=uA;const Ehe=pr(Y7);var The=Y7,Ahe=500;function Phe(e){var t=The(e,function(n){return r.size===Ahe&&r.clear(),n}),r=t.cache;return t}var Ohe=Phe,Dhe=Ohe,Rhe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fhe=/\\(\\)?/g,Mhe=Dhe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Rhe,function(r,n,a,s){t.push(a?s.replace(Fhe,"$1"):n||r)}),t}),Ihe=Mhe;function Lhe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var dA=Lhe,cF=nx,$he=dA,Bhe=zs,Uhe=yp,zhe=1/0,uF=cF?cF.prototype:void 0,dF=uF?uF.toString:void 0;function X7(e){if(typeof e=="string")return e;if(Bhe(e))return $he(e,X7)+"";if(Uhe(e))return dF?dF.call(e):"";var t=e+"";return t=="0"&&1/e==-zhe?"-0":t}var Vhe=X7,Whe=Vhe;function Hhe(e){return e==null?"":Whe(e)}var Q7=Hhe,qhe=zs,Ghe=sA,Khe=Ihe,Yhe=Q7;function Xhe(e,t){return qhe(e)?e:Ghe(e,t)?[e]:Khe(Yhe(e))}var J7=Xhe,Qhe=yp,Jhe=1/0;function Zhe(e){if(typeof e=="string"||Qhe(e))return e;var t=e+"";return t=="0"&&1/e==-Jhe?"-0":t}var mw=Zhe,eme=J7,tme=mw;function rme(e,t){t=eme(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[tme(t[r++])];return r&&r==n?e:void 0}var fA=rme,nme=fA;function ame(e,t,r){var n=e==null?void 0:nme(e,t);return n===void 0?r:n}var Z7=ame;const oi=pr(Z7);function sme(e){return e==null}var ime=sme;const Ft=pr(ime);var ome=Sc,lme=zs,cme=Nc,ume="[object String]";function dme(e){return typeof e=="string"||!lme(e)&&cme(e)&&ome(e)==ume}var fme=dme;const sf=pr(fme);var ez={exports:{}},_r={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hA=Symbol.for("react.element"),mA=Symbol.for("react.portal"),pw=Symbol.for("react.fragment"),gw=Symbol.for("react.strict_mode"),vw=Symbol.for("react.profiler"),xw=Symbol.for("react.provider"),yw=Symbol.for("react.context"),hme=Symbol.for("react.server_context"),bw=Symbol.for("react.forward_ref"),_w=Symbol.for("react.suspense"),ww=Symbol.for("react.suspense_list"),jw=Symbol.for("react.memo"),Sw=Symbol.for("react.lazy"),mme=Symbol.for("react.offscreen"),tz;tz=Symbol.for("react.module.reference");function qi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hA:switch(e=e.type,e){case pw:case vw:case gw:case _w:case ww:return e;default:switch(e=e&&e.$$typeof,e){case hme:case yw:case bw:case Sw:case jw:case xw:return e;default:return t}}case mA:return t}}}_r.ContextConsumer=yw;_r.ContextProvider=xw;_r.Element=hA;_r.ForwardRef=bw;_r.Fragment=pw;_r.Lazy=Sw;_r.Memo=jw;_r.Portal=mA;_r.Profiler=vw;_r.StrictMode=gw;_r.Suspense=_w;_r.SuspenseList=ww;_r.isAsyncMode=function(){return!1};_r.isConcurrentMode=function(){return!1};_r.isContextConsumer=function(e){return qi(e)===yw};_r.isContextProvider=function(e){return qi(e)===xw};_r.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hA};_r.isForwardRef=function(e){return qi(e)===bw};_r.isFragment=function(e){return qi(e)===pw};_r.isLazy=function(e){return qi(e)===Sw};_r.isMemo=function(e){return qi(e)===jw};_r.isPortal=function(e){return qi(e)===mA};_r.isProfiler=function(e){return qi(e)===vw};_r.isStrictMode=function(e){return qi(e)===gw};_r.isSuspense=function(e){return qi(e)===_w};_r.isSuspenseList=function(e){return qi(e)===ww};_r.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===pw||e===vw||e===gw||e===_w||e===ww||e===mme||typeof e=="object"&&e!==null&&(e.$$typeof===Sw||e.$$typeof===jw||e.$$typeof===xw||e.$$typeof===yw||e.$$typeof===bw||e.$$typeof===tz||e.getModuleId!==void 0)};_r.typeOf=qi;ez.exports=_r;var pme=ez.exports,gme=Sc,vme=Nc,xme="[object Number]";function yme(e){return typeof e=="number"||vme(e)&&gme(e)==xme}var rz=yme;const bme=pr(rz);var _me=rz;function wme(e){return _me(e)&&e!=+e}var jme=wme;const ax=pr(jme);var is=function(t){return t===0?0:t>0?1:-1},yd=function(t){return sf(t)&&t.indexOf("%")===t.length-1},Ze=function(t){return bme(t)&&!ax(t)},Sme=function(t){return Ft(t)},Rn=function(t){return Ze(t)||sf(t)},Nme=0,Sp=function(t){var r=++Nme;return"".concat(t||"").concat(r)},os=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ze(t)&&!sf(t))return n;var s;if(yd(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return ax(s)&&(s=n),a&&s>r&&(s=r),s},Gc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},kme=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},ei=function(t,r){return Ze(t)&&Ze(r)?function(n){return t+n*(r-t)}:function(){return r}};function Y1(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):oi(n,t))===r})}var Cme=function(t,r){return Ze(t)&&Ze(r)?t-r:sf(t)&&sf(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Lh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function hk(e){"@babel/helpers - typeof";return hk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hk(e)}var Eme=["viewBox","children"],Tme=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fF=["points","pathLength"],PS={svg:Eme,polygon:fF,polyline:fF},pA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],X1=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!bp(n))return null;var a={};return Object.keys(n).forEach(function(s){pA.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},Ame=function(t,r,n){return function(a){return t(r,n,a),null}},of=function(t,r,n){if(!bp(t)||hk(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];pA.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=Ame(o,r,n))}),a},Pme=["children"],Ome=["children"];function hF(e,t){if(e==null)return{};var r=Dme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mk(e){"@babel/helpers - typeof";return mk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mk(e)}var mF={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},nc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},pF=null,OS=null,gA=function e(t){if(t===pF&&Array.isArray(OS))return OS;var r=[];return x.Children.forEach(t,function(n){Ft(n)||(pme.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),OS=r,pF=t,r};function li(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return nc(a)}):n=[nc(t)],gA(e).forEach(function(a){var s=oi(a,"type.displayName")||oi(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Qs(e,t){var r=li(e,t);return r&&r[0]}var gF=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ze(n)||n<=0||!Ze(a)||a<=0)},Rme=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Fme=function(t){return t&&t.type&&sf(t.type)&&Rme.indexOf(t.type)>=0},Mme=function(t){return t&&mk(t)==="object"&&"clipDot"in t},Ime=function(t,r,n,a){var s,o=(s=PS==null?void 0:PS[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Et(t)&&(a&&o.includes(r)||Tme.includes(r))||n&&pA.includes(r)},_t=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!bp(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;Ime((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},pk=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return vF(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!vF(s,o))return!1}return!0},vF=function(t,r){if(Ft(t)&&Ft(r))return!0;if(!Ft(t)&&!Ft(r)){var n=t.props||{},a=n.children,s=hF(n,Pme),o=r.props||{},l=o.children,c=hF(o,Ome);return a&&l?Lh(s,c)&&pk(a,l):!a&&!l?Lh(s,c):!1}return!1},xF=function(t,r){var n=[],a={};return gA(t).forEach(function(s,o){if(Fme(s))n.push(s);else if(s){var l=nc(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);n.push(f),a[l]=!0}}}),n},Lme=function(t){var r=t&&t.type;return r&&mF[r]?mF[r]:null},$me=function(t,r){return gA(r).indexOf(t)},Bme=["children","width","height","viewBox","className","style","title","desc"];function gk(){return gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gk.apply(this,arguments)}function Ume(e,t){if(e==null)return{};var r=zme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vk(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=Ume(e,Bme),d=a||{width:r,height:n,x:0,y:0},f=Mt("recharts-surface",s);return ce.createElement("svg",gk({},_t(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ce.createElement("title",null,l),ce.createElement("desc",null,c),t)}var Vme=["children","className"];function xk(){return xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xk.apply(this,arguments)}function Wme(e,t){if(e==null)return{};var r=Hme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var or=ce.forwardRef(function(e,t){var r=e.children,n=e.className,a=Wme(e,Vme),s=Mt("recharts-layer",n);return ce.createElement("g",xk({className:s},_t(a,!0),{ref:t}),r)}),So=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function qme(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var Gme=qme,Kme=Gme;function Yme(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Kme(e,t,r)}var Xme=Yme,Qme="\\ud800-\\udfff",Jme="\\u0300-\\u036f",Zme="\\ufe20-\\ufe2f",epe="\\u20d0-\\u20ff",tpe=Jme+Zme+epe,rpe="\\ufe0e\\ufe0f",npe="\\u200d",ape=RegExp("["+npe+Qme+tpe+rpe+"]");function spe(e){return ape.test(e)}var nz=spe;function ipe(e){return e.split("")}var ope=ipe,az="\\ud800-\\udfff",lpe="\\u0300-\\u036f",cpe="\\ufe20-\\ufe2f",upe="\\u20d0-\\u20ff",dpe=lpe+cpe+upe,fpe="\\ufe0e\\ufe0f",hpe="["+az+"]",yk="["+dpe+"]",bk="\\ud83c[\\udffb-\\udfff]",mpe="(?:"+yk+"|"+bk+")",sz="[^"+az+"]",iz="(?:\\ud83c[\\udde6-\\uddff]){2}",oz="[\\ud800-\\udbff][\\udc00-\\udfff]",ppe="\\u200d",lz=mpe+"?",cz="["+fpe+"]?",gpe="(?:"+ppe+"(?:"+[sz,iz,oz].join("|")+")"+cz+lz+")*",vpe=cz+lz+gpe,xpe="(?:"+[sz+yk+"?",yk,iz,oz,hpe].join("|")+")",ype=RegExp(bk+"(?="+bk+")|"+xpe+vpe,"g");function bpe(e){return e.match(ype)||[]}var _pe=bpe,wpe=ope,jpe=nz,Spe=_pe;function Npe(e){return jpe(e)?Spe(e):wpe(e)}var kpe=Npe,Cpe=Xme,Epe=nz,Tpe=kpe,Ape=Q7;function Ppe(e){return function(t){t=Ape(t);var r=Epe(t)?Tpe(t):void 0,n=r?r[0]:t.charAt(0),a=r?Cpe(r,1).join(""):t.slice(1);return n[e]()+a}}var Ope=Ppe,Dpe=Ope,Rpe=Dpe("toUpperCase"),Fpe=Rpe;const Nw=pr(Fpe);function Tr(e){return function(){return e}}const uz=Math.cos,Q1=Math.sin,Mo=Math.sqrt,J1=Math.PI,kw=2*J1,_k=Math.PI,wk=2*_k,od=1e-6,Mpe=wk-od;function dz(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Ipe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return dz;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Lpe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?dz:Ipe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>od)if(!(Math.abs(f*c-u*d)>od)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,p=c*c+u*u,v=m*m+g*g,y=Math.sqrt(p),b=Math.sqrt(h),_=s*Math.tan((_k-Math.acos((p+h-v)/(2*y*b)))/2),j=_/b,w=_/y;Math.abs(j-1)>od&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*g)},${this._x1=t+w*c},${this._y1=r+w*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>od||Math.abs(this._y1-d)>od)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%wk+wk),h>Mpe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>od&&this._append`A${n},${n},0,${+(h>=_k)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function vA(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Lpe(t)}function xA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fz(e){this._context=e}fz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Cw(e){return new fz(e)}function hz(e){return e[0]}function mz(e){return e[1]}function pz(e,t){var r=Tr(!0),n=null,a=Cw,s=null,o=vA(l);e=typeof e=="function"?e:e===void 0?hz:Tr(e),t=typeof t=="function"?t:t===void 0?mz:Tr(t);function l(c){var u,d=(c=xA(c)).length,f,h=!1,m;for(n==null&&(s=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Tr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Tr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Tr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function ly(e,t,r){var n=null,a=Tr(!0),s=null,o=Cw,l=null,c=vA(u);e=typeof e=="function"?e:e===void 0?hz:Tr(+e),t=typeof t=="function"?t:Tr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?mz:Tr(+r);function u(f){var h,m,g,p=(f=xA(f)).length,v,y=!1,b,_=new Array(p),j=new Array(p);for(s==null&&(l=o(b=c())),h=0;h<=p;++h){if(!(h<p&&a(v=f[h],h,f))===y)if(y=!y)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(_[g],j[g]);l.lineEnd(),l.areaEnd()}y&&(_[h]=+e(v,h,f),j[h]=+t(v,h,f),l.point(n?+n(v,h,f):_[h],r?+r(v,h,f):j[h]))}if(b)return l=null,b+""||null}function d(){return pz().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Tr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Tr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Tr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Tr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Tr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Tr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Tr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class gz{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function $pe(e){return new gz(e,!0)}function Bpe(e){return new gz(e,!1)}const yA={draw(e,t){const r=Mo(t/J1);e.moveTo(r,0),e.arc(0,0,r,0,kw)}},Upe={draw(e,t){const r=Mo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},vz=Mo(1/3),zpe=vz*2,Vpe={draw(e,t){const r=Mo(t/zpe),n=r*vz;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Wpe={draw(e,t){const r=Mo(t),n=-r/2;e.rect(n,n,r,r)}},Hpe=.8908130915292852,xz=Q1(J1/10)/Q1(7*J1/10),qpe=Q1(kw/10)*xz,Gpe=-uz(kw/10)*xz,Kpe={draw(e,t){const r=Mo(t*Hpe),n=qpe*r,a=Gpe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=kw*s/5,l=uz(o),c=Q1(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},DS=Mo(3),Ype={draw(e,t){const r=-Mo(t/(DS*3));e.moveTo(0,r*2),e.lineTo(-DS*r,-r),e.lineTo(DS*r,-r),e.closePath()}},_i=-.5,wi=Mo(3)/2,jk=1/Mo(12),Xpe=(jk/2+1)*3,Qpe={draw(e,t){const r=Mo(t/Xpe),n=r/2,a=r*jk,s=n,o=r*jk+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(_i*n-wi*a,wi*n+_i*a),e.lineTo(_i*s-wi*o,wi*s+_i*o),e.lineTo(_i*l-wi*c,wi*l+_i*c),e.lineTo(_i*n+wi*a,_i*a-wi*n),e.lineTo(_i*s+wi*o,_i*o-wi*s),e.lineTo(_i*l+wi*c,_i*c-wi*l),e.closePath()}};function Jpe(e,t){let r=null,n=vA(a);e=typeof e=="function"?e:Tr(e||yA),t=typeof t=="function"?t:Tr(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Tr(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Tr(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Z1(){}function eb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function yz(e){this._context=e}yz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Zpe(e){return new yz(e)}function bz(e){this._context=e}bz.prototype={areaStart:Z1,areaEnd:Z1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:eb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function e0e(e){return new bz(e)}function _z(e){this._context=e}_z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:eb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function t0e(e){return new _z(e)}function wz(e){this._context=e}wz.prototype={areaStart:Z1,areaEnd:Z1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function r0e(e){return new wz(e)}function yF(e){return e<0?-1:1}function bF(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(yF(s)+yF(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function _F(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function RS(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function tb(e){this._context=e}tb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:RS(this,this._t0,_F(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,RS(this,_F(this,r=bF(this,e,t)),r);break;default:RS(this,this._t0,r=bF(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function jz(e){this._context=new Sz(e)}(jz.prototype=Object.create(tb.prototype)).point=function(e,t){tb.prototype.point.call(this,t,e)};function Sz(e){this._context=e}Sz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function n0e(e){return new tb(e)}function a0e(e){return new jz(e)}function Nz(e){this._context=e}Nz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=wF(e),a=wF(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function wF(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function s0e(e){return new Nz(e)}function Ew(e,t){this._context=e,this._t=t}Ew.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function i0e(e){return new Ew(e,.5)}function o0e(e){return new Ew(e,0)}function l0e(e){return new Ew(e,1)}function _m(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Sk(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function c0e(e,t){return e[t]}function u0e(e){const t=[];return t.key=e,t}function d0e(){var e=Tr([]),t=Sk,r=_m,n=c0e;function a(s){var o=Array.from(e.apply(this,arguments),u0e),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=xA(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Tr(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Tr(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?Sk:typeof s=="function"?s:Tr(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??_m,a):r},a}function f0e(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}_m(e,t)}}function h0e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}_m(e,t)}}function m0e(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],v=p[n][1]||0,y=p[n-1][1]||0;m+=v-y}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,_m(e,t)}}function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}var p0e=["type","size","sizeType"];function Nk(){return Nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nk.apply(this,arguments)}function jF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jF(Object(r),!0).forEach(function(n){g0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g0e(e,t,r){return t=v0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v0e(e){var t=x0e(e,"string");return zg(t)=="symbol"?t:t+""}function x0e(e,t){if(zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y0e(e,t){if(e==null)return{};var r=b0e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kz={symbolCircle:yA,symbolCross:Upe,symbolDiamond:Vpe,symbolSquare:Wpe,symbolStar:Kpe,symbolTriangle:Ype,symbolWye:Qpe},_0e=Math.PI/180,w0e=function(t){var r="symbol".concat(Nw(t));return kz[r]||yA},j0e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*_0e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},S0e=function(t,r){kz["symbol".concat(Nw(t))]=r},bA=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=y0e(t,p0e),u=SF(SF({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=w0e(n),y=Jpe().type(v).size(j0e(s,l,n));return y()},f=u.className,h=u.cx,m=u.cy,g=_t(u,!0);return h===+h&&m===+m&&s===+s?ce.createElement("path",Nk({},g,{className:Mt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};bA.registerSymbol=S0e;function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}function kk(){return kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kk.apply(this,arguments)}function NF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N0e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NF(Object(r),!0).forEach(function(n){Vg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ez(n.key),n)}}function E0e(e,t,r){return t&&C0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function T0e(e,t,r){return t=rb(t),A0e(e,Cz()?Reflect.construct(t,r||[],rb(e).constructor):t.apply(e,r))}function A0e(e,t){if(t&&(wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P0e(e)}function P0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cz=function(){return!!e})()}function rb(e){return rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rb(e)}function O0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ck(e,t)}function Ck(e,t){return Ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ck(e,t)}function Vg(e,t,r){return t=Ez(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ez(e){var t=D0e(e,"string");return wm(t)=="symbol"?t:t+""}function D0e(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ji=32,_A=function(e){function t(){return k0e(this,t),T0e(this,t,arguments)}return O0e(t,e),E0e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=ji/2,o=ji/6,l=ji/3,c=n.inactive?a:n.color;if(n.type==="plainline")return ce.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:ji,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return ce.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(ji,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return ce.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ji/8,"h").concat(ji,"v").concat(ji*3/4,"h").concat(-ji,"z"),className:"recharts-legend-icon"});if(ce.isValidElement(n.legendIcon)){var u=N0e({},n);return delete u.legendIcon,ce.cloneElement(n.legendIcon,u)}return ce.createElement(bA,{fill:c,cx:s,cy:s,size:ji,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ji,height:ji},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,g){var p=m.formatter||c,v=Mt(Vg(Vg({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=Et(m.value)?null:m.value;So(!Et(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return ce.createElement("li",kk({className:v,style:f,key:"legend-item-".concat(g)},of(n.props,m,g)),ce.createElement(vk,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),ce.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(y,m,g):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return ce.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);Vg(_A,"displayName","Legend");Vg(_A,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var R0e=fw;function F0e(){this.__data__=new R0e,this.size=0}var M0e=F0e;function I0e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var L0e=I0e;function $0e(e){return this.__data__.get(e)}var B0e=$0e;function U0e(e){return this.__data__.has(e)}var z0e=U0e,V0e=fw,W0e=lA,H0e=cA,q0e=200;function G0e(e,t){var r=this.__data__;if(r instanceof V0e){var n=r.__data__;if(!W0e||n.length<q0e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new H0e(n)}return r.set(e,t),this.size=r.size,this}var K0e=G0e,Y0e=fw,X0e=M0e,Q0e=L0e,J0e=B0e,Z0e=z0e,ege=K0e;function Np(e){var t=this.__data__=new Y0e(e);this.size=t.size}Np.prototype.clear=X0e;Np.prototype.delete=Q0e;Np.prototype.get=J0e;Np.prototype.has=Z0e;Np.prototype.set=ege;var Tz=Np,tge="__lodash_hash_undefined__";function rge(e){return this.__data__.set(e,tge),this}var nge=rge;function age(e){return this.__data__.has(e)}var sge=age,ige=cA,oge=nge,lge=sge;function nb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new ige;++t<r;)this.add(e[t])}nb.prototype.add=nb.prototype.push=oge;nb.prototype.has=lge;var Az=nb;function cge(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Pz=cge;function uge(e,t){return e.has(t)}var Oz=uge,dge=Az,fge=Pz,hge=Oz,mge=1,pge=2;function gge(e,t,r,n,a,s){var o=r&mge,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&pge?new dge:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var v=o?n(p,g,f,t,e,s):n(g,p,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!fge(t,function(y,b){if(!hge(m,b)&&(g===y||a(g,y,r,n,s)))return m.push(b)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var Dz=gge,vge=Tl,xge=vge.Uint8Array,yge=xge;function bge(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var _ge=bge;function wge(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var wA=wge,kF=nx,CF=yge,jge=oA,Sge=Dz,Nge=_ge,kge=wA,Cge=1,Ege=2,Tge="[object Boolean]",Age="[object Date]",Pge="[object Error]",Oge="[object Map]",Dge="[object Number]",Rge="[object RegExp]",Fge="[object Set]",Mge="[object String]",Ige="[object Symbol]",Lge="[object ArrayBuffer]",$ge="[object DataView]",EF=kF?kF.prototype:void 0,FS=EF?EF.valueOf:void 0;function Bge(e,t,r,n,a,s,o){switch(r){case $ge:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Lge:return!(e.byteLength!=t.byteLength||!s(new CF(e),new CF(t)));case Tge:case Age:case Dge:return jge(+e,+t);case Pge:return e.name==t.name&&e.message==t.message;case Rge:case Mge:return e==t+"";case Oge:var l=Nge;case Fge:var c=n&Cge;if(l||(l=kge),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Ege,o.set(e,t);var d=Sge(l(e),l(t),n,a,s,o);return o.delete(e),d;case Ige:if(FS)return FS.call(e)==FS.call(t)}return!1}var Uge=Bge;function zge(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Rz=zge,Vge=Rz,Wge=zs;function Hge(e,t,r){var n=t(e);return Wge(e)?n:Vge(n,r(e))}var qge=Hge;function Gge(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var Kge=Gge;function Yge(){return[]}var Xge=Yge,Qge=Kge,Jge=Xge,Zge=Object.prototype,eve=Zge.propertyIsEnumerable,TF=Object.getOwnPropertySymbols,tve=TF?function(e){return e==null?[]:(e=Object(e),Qge(TF(e),function(t){return eve.call(e,t)}))}:Jge,rve=tve;function nve(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var ave=nve,sve=Sc,ive=Nc,ove="[object Arguments]";function lve(e){return ive(e)&&sve(e)==ove}var cve=lve,AF=cve,uve=Nc,Fz=Object.prototype,dve=Fz.hasOwnProperty,fve=Fz.propertyIsEnumerable,hve=AF(function(){return arguments}())?AF:function(e){return uve(e)&&dve.call(e,"callee")&&!fve.call(e,"callee")},jA=hve,ab={exports:{}};function mve(){return!1}var pve=mve;ab.exports;(function(e,t){var r=Tl,n=pve,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(ab,ab.exports);var Mz=ab.exports,gve=9007199254740991,vve=/^(?:0|[1-9]\d*)$/;function xve(e,t){var r=typeof e;return t=t??gve,!!t&&(r=="number"||r!="symbol"&&vve.test(e))&&e>-1&&e%1==0&&e<t}var SA=xve,yve=9007199254740991;function bve(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=yve}var NA=bve,_ve=Sc,wve=NA,jve=Nc,Sve="[object Arguments]",Nve="[object Array]",kve="[object Boolean]",Cve="[object Date]",Eve="[object Error]",Tve="[object Function]",Ave="[object Map]",Pve="[object Number]",Ove="[object Object]",Dve="[object RegExp]",Rve="[object Set]",Fve="[object String]",Mve="[object WeakMap]",Ive="[object ArrayBuffer]",Lve="[object DataView]",$ve="[object Float32Array]",Bve="[object Float64Array]",Uve="[object Int8Array]",zve="[object Int16Array]",Vve="[object Int32Array]",Wve="[object Uint8Array]",Hve="[object Uint8ClampedArray]",qve="[object Uint16Array]",Gve="[object Uint32Array]",Ir={};Ir[$ve]=Ir[Bve]=Ir[Uve]=Ir[zve]=Ir[Vve]=Ir[Wve]=Ir[Hve]=Ir[qve]=Ir[Gve]=!0;Ir[Sve]=Ir[Nve]=Ir[Ive]=Ir[kve]=Ir[Lve]=Ir[Cve]=Ir[Eve]=Ir[Tve]=Ir[Ave]=Ir[Pve]=Ir[Ove]=Ir[Dve]=Ir[Rve]=Ir[Fve]=Ir[Mve]=!1;function Kve(e){return jve(e)&&wve(e.length)&&!!Ir[_ve(e)]}var Yve=Kve;function Xve(e){return function(t){return e(t)}}var Iz=Xve,sb={exports:{}};sb.exports;(function(e,t){var r=H7,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(sb,sb.exports);var Qve=sb.exports,Jve=Yve,Zve=Iz,PF=Qve,OF=PF&&PF.isTypedArray,exe=OF?Zve(OF):Jve,Lz=exe,txe=ave,rxe=jA,nxe=zs,axe=Mz,sxe=SA,ixe=Lz,oxe=Object.prototype,lxe=oxe.hasOwnProperty;function cxe(e,t){var r=nxe(e),n=!r&&rxe(e),a=!r&&!n&&axe(e),s=!r&&!n&&!a&&ixe(e),o=r||n||a||s,l=o?txe(e.length,String):[],c=l.length;for(var u in e)(t||lxe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||sxe(u,c)))&&l.push(u);return l}var uxe=cxe,dxe=Object.prototype;function fxe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||dxe;return e===r}var hxe=fxe;function mxe(e,t){return function(r){return e(t(r))}}var $z=mxe,pxe=$z,gxe=pxe(Object.keys,Object),vxe=gxe,xxe=hxe,yxe=vxe,bxe=Object.prototype,_xe=bxe.hasOwnProperty;function wxe(e){if(!xxe(e))return yxe(e);var t=[];for(var r in Object(e))_xe.call(e,r)&&r!="constructor"&&t.push(r);return t}var jxe=wxe,Sxe=iA,Nxe=NA;function kxe(e){return e!=null&&Nxe(e.length)&&!Sxe(e)}var sx=kxe,Cxe=uxe,Exe=jxe,Txe=sx;function Axe(e){return Txe(e)?Cxe(e):Exe(e)}var Tw=Axe,Pxe=qge,Oxe=rve,Dxe=Tw;function Rxe(e){return Pxe(e,Dxe,Oxe)}var Fxe=Rxe,DF=Fxe,Mxe=1,Ixe=Object.prototype,Lxe=Ixe.hasOwnProperty;function $xe(e,t,r,n,a,s){var o=r&Mxe,l=DF(e),c=l.length,u=DF(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:Lxe.call(t,h)))return!1}var m=s.get(e),g=s.get(t);if(m&&g)return m==t&&g==e;var p=!0;s.set(e,t),s.set(t,e);for(var v=o;++f<c;){h=l[f];var y=e[h],b=t[h];if(n)var _=o?n(b,y,h,t,e,s):n(y,b,h,e,t,s);if(!(_===void 0?y===b||a(y,b,r,n,s):_)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var j=e.constructor,w=t.constructor;j!=w&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof w=="function"&&w instanceof w)&&(p=!1)}return s.delete(e),s.delete(t),p}var Bxe=$xe,Uxe=kf,zxe=Tl,Vxe=Uxe(zxe,"DataView"),Wxe=Vxe,Hxe=kf,qxe=Tl,Gxe=Hxe(qxe,"Promise"),Kxe=Gxe,Yxe=kf,Xxe=Tl,Qxe=Yxe(Xxe,"Set"),Bz=Qxe,Jxe=kf,Zxe=Tl,eye=Jxe(Zxe,"WeakMap"),tye=eye,Ek=Wxe,Tk=lA,Ak=Kxe,Pk=Bz,Ok=tye,Uz=Sc,kp=G7,RF="[object Map]",rye="[object Object]",FF="[object Promise]",MF="[object Set]",IF="[object WeakMap]",LF="[object DataView]",nye=kp(Ek),aye=kp(Tk),sye=kp(Ak),iye=kp(Pk),oye=kp(Ok),ld=Uz;(Ek&&ld(new Ek(new ArrayBuffer(1)))!=LF||Tk&&ld(new Tk)!=RF||Ak&&ld(Ak.resolve())!=FF||Pk&&ld(new Pk)!=MF||Ok&&ld(new Ok)!=IF)&&(ld=function(e){var t=Uz(e),r=t==rye?e.constructor:void 0,n=r?kp(r):"";if(n)switch(n){case nye:return LF;case aye:return RF;case sye:return FF;case iye:return MF;case oye:return IF}return t});var lye=ld,MS=Tz,cye=Dz,uye=Uge,dye=Bxe,$F=lye,BF=zs,UF=Mz,fye=Lz,hye=1,zF="[object Arguments]",VF="[object Array]",cy="[object Object]",mye=Object.prototype,WF=mye.hasOwnProperty;function pye(e,t,r,n,a,s){var o=BF(e),l=BF(t),c=o?VF:$F(e),u=l?VF:$F(t);c=c==zF?cy:c,u=u==zF?cy:u;var d=c==cy,f=u==cy,h=c==u;if(h&&UF(e)){if(!UF(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new MS),o||fye(e)?cye(e,t,r,n,a,s):uye(e,t,c,r,n,a,s);if(!(r&hye)){var m=d&&WF.call(e,"__wrapped__"),g=f&&WF.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return s||(s=new MS),a(p,v,r,n,s)}}return h?(s||(s=new MS),dye(e,t,r,n,a,s)):!1}var gye=pye,vye=gye,HF=Nc;function zz(e,t,r,n,a){return e===t?!0:e==null||t==null||!HF(e)&&!HF(t)?e!==e&&t!==t:vye(e,t,r,n,zz,a)}var kA=zz,xye=Tz,yye=kA,bye=1,_ye=2;function wye(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new xye;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?yye(d,u,bye|_ye,n,f):h))return!1}}return!0}var jye=wye,Sye=qu;function Nye(e){return e===e&&!Sye(e)}var Vz=Nye,kye=Vz,Cye=Tw;function Eye(e){for(var t=Cye(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,kye(a)]}return t}var Tye=Eye;function Aye(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Wz=Aye,Pye=jye,Oye=Tye,Dye=Wz;function Rye(e){var t=Oye(e);return t.length==1&&t[0][2]?Dye(t[0][0],t[0][1]):function(r){return r===e||Pye(r,e,t)}}var Fye=Rye;function Mye(e,t){return e!=null&&t in Object(e)}var Iye=Mye,Lye=J7,$ye=jA,Bye=zs,Uye=SA,zye=NA,Vye=mw;function Wye(e,t,r){t=Lye(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=Vye(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&zye(a)&&Uye(o,a)&&(Bye(e)||$ye(e)))}var Hye=Wye,qye=Iye,Gye=Hye;function Kye(e,t){return e!=null&&Gye(e,t,qye)}var Yye=Kye,Xye=kA,Qye=Z7,Jye=Yye,Zye=sA,e1e=Vz,t1e=Wz,r1e=mw,n1e=1,a1e=2;function s1e(e,t){return Zye(e)&&e1e(t)?t1e(r1e(e),t):function(r){var n=Qye(r,e);return n===void 0&&n===t?Jye(r,e):Xye(t,n,n1e|a1e)}}var i1e=s1e;function o1e(e){return e}var Cp=o1e;function l1e(e){return function(t){return t==null?void 0:t[e]}}var c1e=l1e,u1e=fA;function d1e(e){return function(t){return u1e(t,e)}}var f1e=d1e,h1e=c1e,m1e=f1e,p1e=sA,g1e=mw;function v1e(e){return p1e(e)?h1e(g1e(e)):m1e(e)}var x1e=v1e,y1e=Fye,b1e=i1e,_1e=Cp,w1e=zs,j1e=x1e;function S1e(e){return typeof e=="function"?e:e==null?_1e:typeof e=="object"?w1e(e)?b1e(e[0],e[1]):y1e(e):j1e(e)}var Al=S1e;function N1e(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var Hz=N1e;function k1e(e){return e!==e}var C1e=k1e;function E1e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var T1e=E1e,A1e=Hz,P1e=C1e,O1e=T1e;function D1e(e,t,r){return t===t?O1e(e,t,r):A1e(e,P1e,r)}var R1e=D1e,F1e=R1e;function M1e(e,t){var r=e==null?0:e.length;return!!r&&F1e(e,t,0)>-1}var I1e=M1e;function L1e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var $1e=L1e;function B1e(){}var U1e=B1e,IS=Bz,z1e=U1e,V1e=wA,W1e=1/0,H1e=IS&&1/V1e(new IS([,-0]))[1]==W1e?function(e){return new IS(e)}:z1e,q1e=H1e,G1e=Az,K1e=I1e,Y1e=$1e,X1e=Oz,Q1e=q1e,J1e=wA,Z1e=200;function ebe(e,t,r){var n=-1,a=K1e,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=Y1e;else if(s>=Z1e){var u=t?null:Q1e(e);if(u)return J1e(u);o=!1,a=X1e,c=new G1e}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var tbe=ebe,rbe=Al,nbe=tbe;function abe(e,t){return e&&e.length?nbe(e,rbe(t)):[]}var sbe=abe;const qF=pr(sbe);function qz(e,t,r){return t===!0?qF(e,r):Et(t)?qF(e,t):e}function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}var ibe=["ref"];function GF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ll(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GF(Object(r),!0).forEach(function(n){Aw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function obe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kz(n.key),n)}}function lbe(e,t,r){return t&&KF(e.prototype,t),r&&KF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cbe(e,t,r){return t=ib(t),ube(e,Gz()?Reflect.construct(t,r||[],ib(e).constructor):t.apply(e,r))}function ube(e,t){if(t&&(jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dbe(e)}function dbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gz=function(){return!!e})()}function ib(e){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ib(e)}function fbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dk(e,t)}function Dk(e,t){return Dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dk(e,t)}function Aw(e,t,r){return t=Kz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kz(e){var t=hbe(e,"string");return jm(t)=="symbol"?t:t+""}function hbe(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mbe(e,t){if(e==null)return{};var r=pbe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gbe(e){return e.value}function vbe(e,t){if(ce.isValidElement(e))return ce.cloneElement(e,t);if(typeof e=="function")return ce.createElement(e,t);t.ref;var r=mbe(t,ibe);return ce.createElement(_A,r)}var YF=1,Li=function(e){function t(){var r;obe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=cbe(this,t,[].concat(a)),Aw(r,"lastBoundingBox",{width:-1,height:-1}),r}return fbe(t,e),lbe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>YF||Math.abs(a.height-this.lastBoundingBox.height)>YF)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ll({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ll(Ll({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Ll(Ll({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ce.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},vbe(s,Ll(Ll({},this.props),{},{payload:qz(d,u,gbe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Ll(Ll({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Ze(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(x.PureComponent);Aw(Li,"displayName","Legend");Aw(Li,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var XF=nx,xbe=jA,ybe=zs,QF=XF?XF.isConcatSpreadable:void 0;function bbe(e){return ybe(e)||xbe(e)||!!(QF&&e&&e[QF])}var _be=bbe,wbe=Rz,jbe=_be;function Yz(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=jbe),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?Yz(l,t-1,r,n,a):wbe(a,l):n||(a[a.length]=l)}return a}var Xz=Yz;function Sbe(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var Nbe=Sbe,kbe=Nbe,Cbe=kbe(),Ebe=Cbe,Tbe=Ebe,Abe=Tw;function Pbe(e,t){return e&&Tbe(e,t,Abe)}var Qz=Pbe,Obe=sx;function Dbe(e,t){return function(r,n){if(r==null)return r;if(!Obe(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var Rbe=Dbe,Fbe=Qz,Mbe=Rbe,Ibe=Mbe(Fbe),CA=Ibe,Lbe=CA,$be=sx;function Bbe(e,t){var r=-1,n=$be(e)?Array(e.length):[];return Lbe(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var Jz=Bbe;function Ube(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var zbe=Ube,JF=yp;function Vbe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=JF(e),o=t!==void 0,l=t===null,c=t===t,u=JF(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var Wbe=Vbe,Hbe=Wbe;function qbe(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=Hbe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Gbe=qbe,LS=dA,Kbe=fA,Ybe=Al,Xbe=Jz,Qbe=zbe,Jbe=Iz,Zbe=Gbe,e_e=Cp,t_e=zs;function r_e(e,t,r){t.length?t=LS(t,function(s){return t_e(s)?function(o){return Kbe(o,s.length===1?s[0]:s)}:s}):t=[e_e];var n=-1;t=LS(t,Jbe(Ybe));var a=Xbe(e,function(s,o,l){var c=LS(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return Qbe(a,function(s,o){return Zbe(s,o,r)})}var n_e=r_e;function a_e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var s_e=a_e,i_e=s_e,ZF=Math.max;function o_e(e,t,r){return t=ZF(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=ZF(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),i_e(e,this,l)}}var l_e=o_e;function c_e(e){return function(){return e}}var u_e=c_e,d_e=kf,f_e=function(){try{var e=d_e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Zz=f_e,h_e=u_e,eM=Zz,m_e=Cp,p_e=eM?function(e,t){return eM(e,"toString",{configurable:!0,enumerable:!1,value:h_e(t),writable:!0})}:m_e,g_e=p_e,v_e=800,x_e=16,y_e=Date.now;function b_e(e){var t=0,r=0;return function(){var n=y_e(),a=x_e-(n-r);if(r=n,a>0){if(++t>=v_e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var __e=b_e,w_e=g_e,j_e=__e,S_e=j_e(w_e),N_e=S_e,k_e=Cp,C_e=l_e,E_e=N_e;function T_e(e,t){return E_e(C_e(e,t,k_e),e+"")}var A_e=T_e,P_e=oA,O_e=sx,D_e=SA,R_e=qu;function F_e(e,t,r){if(!R_e(r))return!1;var n=typeof t;return(n=="number"?O_e(r)&&D_e(t,r.length):n=="string"&&t in r)?P_e(r[t],e):!1}var Pw=F_e,M_e=Xz,I_e=n_e,L_e=A_e,tM=Pw,$_e=L_e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&tM(e,t[0],t[1])?t=[]:r>2&&tM(t[0],t[1],t[2])&&(t=[t[0]]),I_e(e,M_e(t,1),[])}),B_e=$_e;const EA=pr(B_e);function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function Rk(){return Rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rk.apply(this,arguments)}function U_e(e,t){return H_e(e)||W_e(e,t)||V_e(e,t)||z_e()}function z_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V_e(e,t){if(e){if(typeof e=="string")return rM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rM(e,t)}}function rM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function H_e(e){if(Array.isArray(e))return e}function nM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $S(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(r),!0).forEach(function(n){q_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q_e(e,t,r){return t=G_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G_e(e){var t=K_e(e,"string");return Wg(t)=="symbol"?t:t+""}function K_e(e,t){if(Wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y_e(e){return Array.isArray(e)&&Rn(e[0])&&Rn(e[1])?e.join(" ~ "):e}var X_e=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,_=function(){if(d&&d.length){var T={padding:0,margin:0},U=(h?EA(d,h):d).map(function(W,R){if(W.type==="none")return null;var z=$S({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},l),P=W.formatter||f||Y_e,M=W.value,I=W.name,q=M,J=I;if(P&&q!=null&&J!=null){var A=P(M,I,W,R,d);if(Array.isArray(A)){var B=U_e(A,2);q=B[0],J=B[1]}else q=A}return ce.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:z},Rn(J)?ce.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Rn(J)?ce.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ce.createElement("span",{className:"recharts-tooltip-item-value"},q),ce.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return ce.createElement("ul",{className:"recharts-tooltip-item-list",style:T},U)}return null},j=$S({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),w=$S({margin:0},u),S=!Ft(p),N=S?p:"",C=Mt("recharts-default-tooltip",m),k=Mt("recharts-tooltip-label",g);S&&v&&d!==void 0&&d!==null&&(N=v(p,d));var E=b?{role:"status","aria-live":"assertive"}:{};return ce.createElement("div",Rk({className:C,style:j},E),ce.createElement("p",{className:k,style:w},ce.isValidElement(N)?N:"".concat(N)),_())};function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function uy(e,t,r){return t=Q_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q_e(e){var t=J_e(e,"string");return Hg(t)=="symbol"?t:t+""}function J_e(e,t){if(Hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s0="recharts-tooltip-wrapper",Z_e={visibility:"hidden"};function ewe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Mt(s0,uy(uy(uy(uy({},"".concat(s0,"-right"),Ze(r)&&t&&Ze(t.x)&&r>=t.x),"".concat(s0,"-left"),Ze(r)&&t&&Ze(t.x)&&r<t.x),"".concat(s0,"-bottom"),Ze(n)&&t&&Ze(t.y)&&n>=t.y),"".concat(s0,"-top"),Ze(n)&&t&&Ze(t.y)&&n<t.y))}function aM(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&Ze(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function twe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function rwe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=aM({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=aM({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=twe({translateX:d,translateY:f,useTranslate3d:l})):u=Z_e,{cssProperties:u,cssClasses:ewe({translateX:d,translateY:f,coordinate:r})}}function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function sM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(r),!0).forEach(function(n){Mk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function awe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tV(n.key),n)}}function swe(e,t,r){return t&&awe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iwe(e,t,r){return t=ob(t),owe(e,eV()?Reflect.construct(t,r||[],ob(e).constructor):t.apply(e,r))}function owe(e,t){if(t&&(Sm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lwe(e)}function lwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eV=function(){return!!e})()}function ob(e){return ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ob(e)}function cwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fk(e,t)}function Fk(e,t){return Fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fk(e,t)}function Mk(e,t,r){return t=tV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tV(e){var t=uwe(e,"string");return Sm(t)=="symbol"?t:t+""}function uwe(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oM=1,dwe=function(e){function t(){var r;nwe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=iwe(this,t,[].concat(a)),Mk(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Mk(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return cwe(t,e),swe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>oM||Math.abs(n.height-this.state.lastBoundingBox.height)>oM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,_=rwe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),j=_.cssClasses,w=_.cssProperties,S=iM(iM({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return ce.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(C){n.wrapperNode=C}},u)}}])}(x.PureComponent),fwe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fl={isSsr:fwe(),get:function(t){return fl[t]},set:function(t,r){if(typeof t=="string")fl[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){fl[a]=t[a]})}}};function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function lM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lM(Object(r),!0).forEach(function(n){TA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nV(n.key),n)}}function pwe(e,t,r){return t&&mwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gwe(e,t,r){return t=lb(t),vwe(e,rV()?Reflect.construct(t,r||[],lb(e).constructor):t.apply(e,r))}function vwe(e,t){if(t&&(Nm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xwe(e)}function xwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rV=function(){return!!e})()}function lb(e){return lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lb(e)}function ywe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ik(e,t)}function Ik(e,t){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ik(e,t)}function TA(e,t,r){return t=nV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nV(e){var t=bwe(e,"string");return Nm(t)=="symbol"?t:t+""}function bwe(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _we(e){return e.dataKey}function wwe(e,t){return ce.isValidElement(e)?ce.cloneElement(e,t):typeof e=="function"?ce.createElement(e,t):ce.createElement(X_e,t)}var ya=function(e){function t(){return hwe(this,t),gwe(this,t,arguments)}return ywe(t,e),pwe(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,v=a.position,y=a.reverseDirection,b=a.useTranslate3d,_=a.viewBox,j=a.wrapperStyle,w=g??[];f&&w.length&&(w=qz(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),p,_we));var S=w.length>0;return ce.createElement(dwe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:S,offset:m,position:v,reverseDirection:y,useTranslate3d:b,viewBox:_,wrapperStyle:j},wwe(u,cM(cM({},this.props),{},{payload:w})))}}])}(x.PureComponent);TA(ya,"displayName","Tooltip");TA(ya,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var jwe=Tl,Swe=function(){return jwe.Date.now()},Nwe=Swe,kwe=/\s/;function Cwe(e){for(var t=e.length;t--&&kwe.test(e.charAt(t)););return t}var Ewe=Cwe,Twe=Ewe,Awe=/^\s+/;function Pwe(e){return e&&e.slice(0,Twe(e)+1).replace(Awe,"")}var Owe=Pwe,Dwe=Owe,uM=qu,Rwe=yp,dM=NaN,Fwe=/^[-+]0x[0-9a-f]+$/i,Mwe=/^0b[01]+$/i,Iwe=/^0o[0-7]+$/i,Lwe=parseInt;function $we(e){if(typeof e=="number")return e;if(Rwe(e))return dM;if(uM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=uM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Dwe(e);var r=Mwe.test(e);return r||Iwe.test(e)?Lwe(e.slice(2),r?2:8):Fwe.test(e)?dM:+e}var aV=$we,Bwe=qu,BS=Nwe,fM=aV,Uwe="Expected a function",zwe=Math.max,Vwe=Math.min;function Wwe(e,t,r){var n,a,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Uwe);t=fM(t)||0,Bwe(r)&&(d=!!r.leading,f="maxWait"in r,s=f?zwe(fM(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(S){var N=n,C=a;return n=a=void 0,u=S,o=e.apply(C,N),o}function g(S){return u=S,l=setTimeout(y,t),d?m(S):o}function p(S){var N=S-c,C=S-u,k=t-N;return f?Vwe(k,s-C):k}function v(S){var N=S-c,C=S-u;return c===void 0||N>=t||N<0||f&&C>=s}function y(){var S=BS();if(v(S))return b(S);l=setTimeout(y,p(S))}function b(S){return l=void 0,h&&n?m(S):(n=a=void 0,o)}function _(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?o:b(BS())}function w(){var S=BS(),N=v(S);if(n=arguments,a=this,c=S,N){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(y,t),m(c)}return l===void 0&&(l=setTimeout(y,t)),o}return w.cancel=_,w.flush=j,w}var Hwe=Wwe,qwe=Hwe,Gwe=qu,Kwe="Expected a function";function Ywe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Kwe);return Gwe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),qwe(e,t,{leading:n,maxWait:t,trailing:a})}var Xwe=Ywe;const sV=pr(Xwe);function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}function hM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hM(Object(r),!0).forEach(function(n){Qwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qwe(e,t,r){return t=Jwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jwe(e){var t=Zwe(e,"string");return qg(t)=="symbol"?t:t+""}function Zwe(e,t){if(qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eje(e,t){return aje(e)||nje(e,t)||rje(e,t)||tje()}function tje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rje(e,t){if(e){if(typeof e=="string")return mM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mM(e,t)}}function mM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function aje(e){if(Array.isArray(e))return e}var lf=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,y=e.className,b=e.onResize,_=e.style,j=_===void 0?{}:_,w=x.useRef(null),S=x.useRef();S.current=b,x.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var N=x.useState({containerWidth:a.width,containerHeight:a.height}),C=eje(N,2),k=C[0],E=C[1],O=x.useCallback(function(U,W){E(function(R){var z=Math.round(U),P=Math.round(W);return R.containerWidth===z&&R.containerHeight===P?R:{containerWidth:z,containerHeight:P}})},[]);x.useEffect(function(){var U=function(I){var q,J=I[0].contentRect,A=J.width,B=J.height;O(A,B),(q=S.current)===null||q===void 0||q.call(S,A,B)};p>0&&(U=sV(U,p,{trailing:!0,leading:!1}));var W=new ResizeObserver(U),R=w.current.getBoundingClientRect(),z=R.width,P=R.height;return O(z,P),W.observe(w.current),function(){W.disconnect()}},[O,p]);var T=x.useMemo(function(){var U=k.containerWidth,W=k.containerHeight;if(U<0||W<0)return null;So(yd(o)||yd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),So(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=yd(o)?U:o,z=yd(c)?W:c;r&&r>0&&(R?z=R/r:z&&(R=z*r),h&&z>h&&(z=h)),So(R>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,z,o,c,d,f,r);var P=!Array.isArray(m)&&nc(m.type).endsWith("Chart");return ce.Children.map(m,function(M){return ce.isValidElement(M)?x.cloneElement(M,dy({width:R,height:z},P?{style:dy({height:"100%",width:"100%",maxHeight:z,maxWidth:R},M.props.style)}:{})):M})},[r,m,c,h,f,d,k,o]);return ce.createElement("div",{id:v?"".concat(v):void 0,className:Mt("recharts-responsive-container",y),style:dy(dy({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},T)}),rl=function(t){return null};rl.displayName="Cell";function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function pM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(r),!0).forEach(function(n){sje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sje(e,t,r){return t=ije(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ije(e){var t=oje(e,"string");return Gg(t)=="symbol"?t:t+""}function oje(e,t){if(Gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qf={widthCache:{},cacheCount:0},lje=2e3,cje={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gM="recharts_measurement_span";function uje(e){var t=Lk({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Y0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||fl.isSsr)return{width:0,height:0};var n=uje(r),a=JSON.stringify({text:t,copyStyle:n});if(qf.widthCache[a])return qf.widthCache[a];try{var s=document.getElementById(gM);s||(s=document.createElement("span"),s.setAttribute("id",gM),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Lk(Lk({},cje),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return qf.widthCache[a]=c,++qf.cacheCount>lje&&(qf.cacheCount=0,qf.widthCache={}),c}catch{return{width:0,height:0}}},dje=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function cb(e,t){return pje(e)||mje(e,t)||hje(e,t)||fje()}function fje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hje(e,t){if(e){if(typeof e=="string")return vM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vM(e,t)}}function vM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function pje(e){if(Array.isArray(e))return e}function gje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xje(n.key),n)}}function vje(e,t,r){return t&&xM(e.prototype,t),r&&xM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xje(e){var t=yje(e,"string");return Kg(t)=="symbol"?t:t+""}function yje(e,t){if(Kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bje=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_je=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,iV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wje=Object.keys(iV),_h="NaN";function jje(e,t){return e*iV[t]}var fy=function(){function e(t,r){gje(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!bje.test(r)&&(this.num=NaN,this.unit=""),wje.includes(r)&&(this.num=jje(t,r),this.unit="px")}return vje(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=_je.exec(r))!==null&&n!==void 0?n:[],s=cb(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function oV(e){if(e.includes(_h))return _h;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=yM.exec(t))!==null&&r!==void 0?r:[],a=cb(n,4),s=a[1],o=a[2],l=a[3],c=fy.parse(s??""),u=fy.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return _h;t=t.replace(yM,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=bM.exec(t))!==null&&f!==void 0?f:[],m=cb(h,4),g=m[1],p=m[2],v=m[3],y=fy.parse(g??""),b=fy.parse(v??""),_=p==="+"?y.add(b):y.subtract(b);if(_.isNaN())return _h;t=t.replace(bM,_.toString())}return t}var _M=/\(([^()]*)\)/;function Sje(e){for(var t=e;t.includes("(");){var r=_M.exec(t),n=cb(r,2),a=n[1];t=t.replace(_M,oV(a))}return t}function Nje(e){var t=e.replace(/\s+/g,"");return t=Sje(t),t=oV(t),t}function kje(e){try{return Nje(e)}catch{return _h}}function US(e){var t=kje(e.slice(5,-1));return t===_h?"":t}var Cje=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Eje=["dx","dy","angle","className","breakAll"];function $k(){return $k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$k.apply(this,arguments)}function wM(e,t){if(e==null)return{};var r=Tje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jM(e,t){return Dje(e)||Oje(e,t)||Pje(e,t)||Aje()}function Aje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pje(e,t){if(e){if(typeof e=="string")return SM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SM(e,t)}}function SM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Dje(e){if(Array.isArray(e))return e}var lV=/[ \f\n\r\t\v\u2028\u2029]+/,cV=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Ft(r)||(n?s=r.toString().split(""):s=r.toString().split(lV));var o=s.map(function(c){return{word:c,width:Y0(c,a).width}}),l=n?0:Y0("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Rje=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ze(o),f=l,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(z,P){var M=P.word,I=P.width,q=z[z.length-1];if(q&&(a==null||s||q.width+I+n<Number(a)))q.words.push(M),q.width+=I+n;else{var J={words:[M],width:I};z.push(J)}return z},[])},m=h(r),g=function(R){return R.reduce(function(z,P){return z.width>P.width?z:P})};if(!d)return m;for(var p="",v=function(R){var z=f.slice(0,R),P=cV({breakAll:u,style:c,children:z+p}).wordsWithComputedWidth,M=h(P),I=M.length>o||g(M).width>Number(a);return[I,M]},y=0,b=f.length-1,_=0,j;y<=b&&_<=f.length-1;){var w=Math.floor((y+b)/2),S=w-1,N=v(S),C=jM(N,2),k=C[0],E=C[1],O=v(w),T=jM(O,1),U=T[0];if(!k&&!U&&(y=w+1),k&&U&&(b=w-1),!k&&U){j=E;break}_++}return j||m},NM=function(t){var r=Ft(t)?[]:t.toString().split(lV);return[{words:r}]},Fje=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!fl.isSsr){var c,u,d=cV({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return NM(a);return Rje({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return NM(a)},kM="#808080",cf=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,y=v===void 0?kM:v,b=wM(t,Cje),_=x.useMemo(function(){return Fje({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),j=b.dx,w=b.dy,S=b.angle,N=b.className,C=b.breakAll,k=wM(b,Eje);if(!Rn(n)||!Rn(s))return null;var E=n+(Ze(j)?j:0),O=s+(Ze(w)?w:0),T;switch(p){case"start":T=US("calc(".concat(u,")"));break;case"middle":T=US("calc(".concat((_.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=US("calc(".concat(_.length-1," * -").concat(l,")"));break}var U=[];if(f){var W=_[0].width,R=b.width;U.push("scale(".concat((Ze(R)?R/W:1)/W,")"))}return S&&U.push("rotate(".concat(S,", ").concat(E,", ").concat(O,")")),U.length&&(k.transform=U.join(" ")),ce.createElement("text",$k({},_t(k,!0),{x:E,y:O,className:Mt("recharts-text",N),textAnchor:m,fill:y.includes("url")?kM:y}),_.map(function(z,P){var M=z.words.join(C?"":" ");return ce.createElement("tspan",{x:E,dy:P===0?T:l,key:"".concat(M,"-").concat(P)},M)}))};function Nu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Mje(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function AA(e){let t,r,n;e.length!==2?(t=Nu,r=(l,c)=>Nu(e(l),c),n=(l,c)=>e(l)-c):(t=e===Nu||e===Mje?e:Ije,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function Ije(){return 0}function uV(e){return e===null?NaN:+e}function*Lje(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const $je=AA(Nu),ix=$je.right;AA(uV).center;class CM extends Map{constructor(t,r=zje){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(EM(this,t))}has(t){return super.has(EM(this,t))}set(t,r){return super.set(Bje(this,t),r)}delete(t){return super.delete(Uje(this,t))}}function EM({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Bje({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Uje({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function zje(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Vje(e=Nu){if(e===Nu)return dV;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function dV(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Wje=Math.sqrt(50),Hje=Math.sqrt(10),qje=Math.sqrt(2);function ub(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=Wje?10:s>=Hje?5:s>=qje?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?ub(e,t,r*2):[l,c,u]}function Bk(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?ub(t,e,r):ub(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Uk(e,t,r){return t=+t,e=+e,r=+r,ub(e,t,r)[2]}function zk(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Uk(t,e,r):Uk(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function TM(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function AM(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function fV(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?dV:Vje(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));fV(e,t,m,g,a)}const s=e[t];let o=r,l=n;for(i0(e,r,t),a(e[n],s)>0&&i0(e,r,n);o<l;){for(i0(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?i0(e,r,l):(++l,i0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function i0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Gje(e,t,r){if(e=Float64Array.from(Lje(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return AM(e);if(t>=1)return TM(e);var n,a=(n-1)*t,s=Math.floor(a),o=TM(fV(e,s).subarray(0,s+1)),l=AM(e.subarray(s+1));return o+(l-o)*(a-s)}}function Kje(e,t,r=uV){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function Yje(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Gi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function kc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Vk=Symbol("implicit");function PA(){var e=new CM,t=[],r=[],n=Vk;function a(s){let o=e.get(s);if(o===void 0){if(n!==Vk)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new CM;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return PA(t,r).unknown(n)},Gi.apply(a,arguments),a}function Yg(){var e=PA().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,p=m?n:a;s=(p-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(p-g-s*(h-c))*d,o=s*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=Yje(h).map(function(y){return g+s*y});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Yg(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Gi.apply(f(),arguments)}function hV(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return hV(t())},e}function X0(){return hV(Yg.apply(null,arguments).paddingInner(1))}function OA(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function mV(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ox(){}var Xg=.7,db=1/Xg,$h="\\s*([+-]?\\d+)\\s*",Qg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xje=/^#([0-9a-f]{3,8})$/,Qje=new RegExp(`^rgb\\(${$h},${$h},${$h}\\)$`),Jje=new RegExp(`^rgb\\(${hl},${hl},${hl}\\)$`),Zje=new RegExp(`^rgba\\(${$h},${$h},${$h},${Qg}\\)$`),eSe=new RegExp(`^rgba\\(${hl},${hl},${hl},${Qg}\\)$`),tSe=new RegExp(`^hsl\\(${Qg},${hl},${hl}\\)$`),rSe=new RegExp(`^hsla\\(${Qg},${hl},${hl},${Qg}\\)$`),PM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};OA(ox,Jg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:OM,formatHex:OM,formatHex8:nSe,formatHsl:aSe,formatRgb:DM,toString:DM});function OM(){return this.rgb().formatHex()}function nSe(){return this.rgb().formatHex8()}function aSe(){return pV(this).formatHsl()}function DM(){return this.rgb().formatRgb()}function Jg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Xje.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?RM(t):r===3?new Ts(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?hy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?hy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Qje.exec(e))?new Ts(t[1],t[2],t[3],1):(t=Jje.exec(e))?new Ts(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Zje.exec(e))?hy(t[1],t[2],t[3],t[4]):(t=eSe.exec(e))?hy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=tSe.exec(e))?IM(t[1],t[2]/100,t[3]/100,1):(t=rSe.exec(e))?IM(t[1],t[2]/100,t[3]/100,t[4]):PM.hasOwnProperty(e)?RM(PM[e]):e==="transparent"?new Ts(NaN,NaN,NaN,0):null}function RM(e){return new Ts(e>>16&255,e>>8&255,e&255,1)}function hy(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ts(e,t,r,n)}function sSe(e){return e instanceof ox||(e=Jg(e)),e?(e=e.rgb(),new Ts(e.r,e.g,e.b,e.opacity)):new Ts}function Wk(e,t,r,n){return arguments.length===1?sSe(e):new Ts(e,t,r,n??1)}function Ts(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}OA(Ts,Wk,mV(ox,{brighter(e){return e=e==null?db:Math.pow(db,e),new Ts(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xg:Math.pow(Xg,e),new Ts(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ts(Ud(this.r),Ud(this.g),Ud(this.b),fb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FM,formatHex:FM,formatHex8:iSe,formatRgb:MM,toString:MM}));function FM(){return`#${bd(this.r)}${bd(this.g)}${bd(this.b)}`}function iSe(){return`#${bd(this.r)}${bd(this.g)}${bd(this.b)}${bd((isNaN(this.opacity)?1:this.opacity)*255)}`}function MM(){const e=fb(this.opacity);return`${e===1?"rgb(":"rgba("}${Ud(this.r)}, ${Ud(this.g)}, ${Ud(this.b)}${e===1?")":`, ${e})`}`}function fb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ud(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bd(e){return e=Ud(e),(e<16?"0":"")+e.toString(16)}function IM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new go(e,t,r,n)}function pV(e){if(e instanceof go)return new go(e.h,e.s,e.l,e.opacity);if(e instanceof ox||(e=Jg(e)),!e)return new go;if(e instanceof go)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new go(o,l,c,e.opacity)}function oSe(e,t,r,n){return arguments.length===1?pV(e):new go(e,t,r,n??1)}function go(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}OA(go,oSe,mV(ox,{brighter(e){return e=e==null?db:Math.pow(db,e),new go(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xg:Math.pow(Xg,e),new go(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ts(zS(e>=240?e-240:e+120,a,n),zS(e,a,n),zS(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new go(LM(this.h),my(this.s),my(this.l),fb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fb(this.opacity);return`${e===1?"hsl(":"hsla("}${LM(this.h)}, ${my(this.s)*100}%, ${my(this.l)*100}%${e===1?")":`, ${e})`}`}}));function LM(e){return e=(e||0)%360,e<0?e+360:e}function my(e){return Math.max(0,Math.min(1,e||0))}function zS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const DA=e=>()=>e;function lSe(e,t){return function(r){return e+r*t}}function cSe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function uSe(e){return(e=+e)==1?gV:function(t,r){return r-t?cSe(t,r,e):DA(isNaN(t)?r:t)}}function gV(e,t){var r=t-e;return r?lSe(e,r):DA(isNaN(e)?t:e)}const $M=function e(t){var r=uSe(t);function n(a,s){var o=r((a=Wk(a)).r,(s=Wk(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=gV(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function dSe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function fSe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hSe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Ep(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function mSe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function hb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function pSe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ep(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Hk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,VS=new RegExp(Hk.source,"g");function gSe(e){return function(){return e}}function vSe(e){return function(t){return e(t)+""}}function xSe(e,t){var r=Hk.lastIndex=VS.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Hk.exec(e))&&(a=VS.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:hb(n,a)})),r=VS.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?vSe(c[0].x):gSe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Ep(e,t){var r=typeof t,n;return t==null||r==="boolean"?DA(t):(r==="number"?hb:r==="string"?(n=Jg(t))?(t=n,$M):xSe:t instanceof Jg?$M:t instanceof Date?mSe:fSe(t)?dSe:Array.isArray(t)?hSe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pSe:hb)(e,t)}function RA(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function ySe(e,t){t===void 0&&(t=e,e=Ep);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function bSe(e){return function(){return e}}function mb(e){return+e}var BM=[0,1];function ls(e){return e}function qk(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:bSe(isNaN(t)?NaN:.5)}function _Se(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function wSe(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=qk(a,n),s=r(o,s)):(n=qk(n,a),s=r(s,o)),function(l){return s(n(l))}}function jSe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=qk(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=ix(e,l,1,n)-1;return s[c](a[c](l))}}function lx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ow(){var e=BM,t=BM,r=Ep,n,a,s,o=ls,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==ls&&(o=_Se(e[0],e[h-1])),l=h>2?jSe:wSe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),hb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,mb),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=RA,d()},f.clamp=function(h){return arguments.length?(o=h?!0:ls,d()):o!==ls},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function FA(){return Ow()(ls,ls)}function SSe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function km(e){return e=pb(Math.abs(e)),e?e[1]:NaN}function NSe(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function kSe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var CSe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zg(e){if(!(t=CSe.exec(e)))throw new Error("invalid format: "+e);var t;return new MA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Zg.prototype=MA.prototype;function MA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}MA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ESe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var vV;function TSe(e,t){var r=pb(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(vV=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+pb(e,Math.max(0,t+s-1))[0]}function UM(e,t){var r=pb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const zM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:SSe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>UM(e*100,t),r:UM,s:TSe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function VM(e){return e}var WM=Array.prototype.map,HM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ASe(e){var t=e.grouping===void 0||e.thousands===void 0?VM:NSe(WM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?VM:kSe(WM.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Zg(f);var h=f.fill,m=f.align,g=f.sign,p=f.symbol,v=f.zero,y=f.width,b=f.comma,_=f.precision,j=f.trim,w=f.type;w==="n"?(b=!0,w="g"):zM[w]||(_===void 0&&(_=12),j=!0,w="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",N=p==="$"?n:/[%p]/.test(w)?o:"",C=zM[w],k=/[defgprs%]/.test(w);_=_===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function E(O){var T=S,U=N,W,R,z;if(w==="c")U=C(O)+U,O="";else{O=+O;var P=O<0||1/O<0;if(O=isNaN(O)?c:C(Math.abs(O),_),j&&(O=ESe(O)),P&&+O==0&&g!=="+"&&(P=!1),T=(P?g==="("?g:l:g==="-"||g==="("?"":g)+T,U=(w==="s"?HM[8+vV/3]:"")+U+(P&&g==="("?")":""),k){for(W=-1,R=O.length;++W<R;)if(z=O.charCodeAt(W),48>z||z>57){U=(z===46?a+O.slice(W+1):O.slice(W))+U,O=O.slice(0,W);break}}}b&&!v&&(O=t(O,1/0));var M=T.length+O.length+U.length,I=M<y?new Array(y-M+1).join(h):"";switch(b&&v&&(O=t(I+O,I.length?y-U.length:1/0),I=""),m){case"<":O=T+O+U+I;break;case"=":O=T+I+O+U;break;case"^":O=I.slice(0,M=I.length>>1)+T+O+U+I.slice(M);break;default:O=I+T+O+U;break}return s(O)}return E.toString=function(){return f+""},E}function d(f,h){var m=u((f=Zg(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(km(h)/3)))*3,p=Math.pow(10,-g),v=HM[8+g/3];return function(y){return m(p*y)+v}}return{format:u,formatPrefix:d}}var py,IA,xV;PSe({thousands:",",grouping:[3],currency:["$",""]});function PSe(e){return py=ASe(e),IA=py.format,xV=py.formatPrefix,py}function OSe(e){return Math.max(0,-km(Math.abs(e)))}function DSe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(km(t)/3)))*3-km(Math.abs(e)))}function RSe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,km(t)-km(e))+1}function yV(e,t,r,n){var a=zk(e,t,r),s;switch(n=Zg(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=DSe(a,o))&&(n.precision=s),xV(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=RSe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=OSe(a))&&(n.precision=s-(n.type==="%")*2);break}}return IA(n)}function Gu(e){var t=e.domain;return e.ticks=function(r){var n=t();return Bk(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return yV(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=Uk(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function gb(){var e=FA();return e.copy=function(){return lx(e,gb())},Gi.apply(e,arguments),Gu(e)}function bV(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,mb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return bV(e).unknown(t)},e=arguments.length?Array.from(e,mb):[0,1],Gu(r)}function _V(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function qM(e){return Math.log(e)}function GM(e){return Math.exp(e)}function FSe(e){return-Math.log(-e)}function MSe(e){return-Math.exp(-e)}function ISe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function LSe(e){return e===10?ISe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $Se(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function KM(e){return(t,r)=>-e(-t,r)}function LA(e){const t=e(qM,GM),r=t.domain;let n=10,a,s;function o(){return a=$Se(n),s=LSe(n),r()[0]<0?(a=KM(a),s=KM(s),e(FSe,MSe)):e(qM,GM),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,p;const v=l==null?10:+l;let y=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/s(-h):g*s(h),!(p<u)){if(p>d)break;y.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/s(-h):g*s(h),!(p<u)){if(p>d)break;y.push(p)}y.length*2<v&&(y=Bk(u,d,v))}else y=Bk(h,m,Math.min(m-h,v)).map(s);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Zg(c)).precision==null&&(c.trim=!0),c=IA(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(_V(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function wV(){const e=LA(Ow()).domain([1,10]);return e.copy=()=>lx(e,wV()).base(e.base()),Gi.apply(e,arguments),e}function YM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function XM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $A(e){var t=1,r=e(YM(t),XM(t));return r.constant=function(n){return arguments.length?e(YM(t=+n),XM(t)):t},Gu(r)}function jV(){var e=$A(Ow());return e.copy=function(){return lx(e,jV()).constant(e.constant())},Gi.apply(e,arguments)}function QM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function BSe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function USe(e){return e<0?-e*e:e*e}function BA(e){var t=e(ls,ls),r=1;function n(){return r===1?e(ls,ls):r===.5?e(BSe,USe):e(QM(r),QM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Gu(t)}function UA(){var e=BA(Ow());return e.copy=function(){return lx(e,UA()).exponent(e.exponent())},Gi.apply(e,arguments),e}function zSe(){return UA.apply(null,arguments).exponent(.5)}function JM(e){return Math.sign(e)*e*e}function VSe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function SV(){var e=FA(),t=[0,1],r=!1,n;function a(s){var o=VSe(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(JM(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,mb)).map(JM)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return SV(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Gi.apply(a,arguments),Gu(a)}function NV(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Kje(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[ix(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Nu),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return NV().domain(e).range(t).unknown(n)},Gi.apply(s,arguments)}function kV(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[ix(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return kV().domain([e,t]).range(a).unknown(s)},Gi.apply(Gu(o),arguments)}function CV(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[ix(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return CV().domain(e).range(t).unknown(r)},Gi.apply(a,arguments)}const WS=new Date,HS=new Date;function Ln(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>Ln(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(WS.setTime(+s),HS.setTime(+o),e(WS),e(HS),Math.floor(r(WS,HS))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const vb=Ln(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ln(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):vb);vb.range;const Ql=1e3,Fi=Ql*60,Jl=Fi*60,vc=Jl*24,zA=vc*7,ZM=vc*30,qS=vc*365,_d=Ln(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ql)},(e,t)=>(t-e)/Ql,e=>e.getUTCSeconds());_d.range;const VA=Ln(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ql)},(e,t)=>{e.setTime(+e+t*Fi)},(e,t)=>(t-e)/Fi,e=>e.getMinutes());VA.range;const WA=Ln(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fi)},(e,t)=>(t-e)/Fi,e=>e.getUTCMinutes());WA.range;const HA=Ln(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ql-e.getMinutes()*Fi)},(e,t)=>{e.setTime(+e+t*Jl)},(e,t)=>(t-e)/Jl,e=>e.getHours());HA.range;const qA=Ln(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Jl)},(e,t)=>(t-e)/Jl,e=>e.getUTCHours());qA.range;const cx=Ln(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fi)/vc,e=>e.getDate()-1);cx.range;const Dw=Ln(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vc,e=>e.getUTCDate()-1);Dw.range;const EV=Ln(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vc,e=>Math.floor(e/vc));EV.range;function Cf(e){return Ln(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Fi)/zA)}const Rw=Cf(0),xb=Cf(1),WSe=Cf(2),HSe=Cf(3),Cm=Cf(4),qSe=Cf(5),GSe=Cf(6);Rw.range;xb.range;WSe.range;HSe.range;Cm.range;qSe.range;GSe.range;function Ef(e){return Ln(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/zA)}const Fw=Ef(0),yb=Ef(1),KSe=Ef(2),YSe=Ef(3),Em=Ef(4),XSe=Ef(5),QSe=Ef(6);Fw.range;yb.range;KSe.range;YSe.range;Em.range;XSe.range;QSe.range;const GA=Ln(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());GA.range;const KA=Ln(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());KA.range;const xc=Ln(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ln(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});xc.range;const yc=Ln(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());yc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ln(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});yc.range;function TV(e,t,r,n,a,s){const o=[[_d,1,Ql],[_d,5,5*Ql],[_d,15,15*Ql],[_d,30,30*Ql],[s,1,Fi],[s,5,5*Fi],[s,15,15*Fi],[s,30,30*Fi],[a,1,Jl],[a,3,3*Jl],[a,6,6*Jl],[a,12,12*Jl],[n,1,vc],[n,2,2*vc],[r,1,zA],[t,1,ZM],[t,3,3*ZM],[e,1,qS]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=AA(([,,v])=>v).right(o,h);if(m===o.length)return e.every(zk(u/qS,d/qS,f));if(m===0)return vb.every(Math.max(zk(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[JSe,ZSe]=TV(yc,KA,Fw,EV,qA,WA),[eNe,tNe]=TV(xc,GA,Rw,cx,HA,VA);function GS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function KS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function o0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function rNe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=l0(a),d=c0(a),f=l0(s),h=c0(s),m=l0(o),g=c0(o),p=l0(l),v=c0(l),y=l0(c),b=c0(c),_={a:P,A:M,b:I,B:q,c:null,d:s3,e:s3,f:NNe,g:FNe,G:INe,H:wNe,I:jNe,j:SNe,L:AV,m:kNe,M:CNe,p:J,q:A,Q:l3,s:c3,S:ENe,u:TNe,U:ANe,V:PNe,w:ONe,W:DNe,x:null,X:null,y:RNe,Y:MNe,Z:LNe,"%":o3},j={a:B,A:G,b:H,B:ee,c:null,d:i3,e:i3,f:zNe,g:JNe,G:e2e,H:$Ne,I:BNe,j:UNe,L:OV,m:VNe,M:WNe,p:ue,q:ye,Q:l3,s:c3,S:HNe,u:qNe,U:GNe,V:KNe,w:YNe,W:XNe,x:null,X:null,y:QNe,Y:ZNe,Z:t2e,"%":o3},w={a:E,A:O,b:T,B:U,c:W,d:n3,e:n3,f:xNe,g:r3,G:t3,H:a3,I:a3,j:mNe,L:vNe,m:hNe,M:pNe,p:k,q:fNe,Q:bNe,s:_Ne,S:gNe,u:oNe,U:lNe,V:cNe,w:iNe,W:uNe,x:R,X:z,y:r3,Y:t3,Z:dNe,"%":yNe};_.x=S(r,_),_.X=S(n,_),_.c=S(t,_),j.x=S(r,j),j.X=S(n,j),j.c=S(t,j);function S(ie,Y){return function(L){var D=[],se=-1,be=0,ve=ie.length,ke,Se,Ve;for(L instanceof Date||(L=new Date(+L));++se<ve;)ie.charCodeAt(se)===37&&(D.push(ie.slice(be,se)),(Se=e3[ke=ie.charAt(++se)])!=null?ke=ie.charAt(++se):Se=ke==="e"?" ":"0",(Ve=Y[ke])&&(ke=Ve(L,Se)),D.push(ke),be=se+1);return D.push(ie.slice(be,se)),D.join("")}}function N(ie,Y){return function(L){var D=o0(1900,void 0,1),se=C(D,ie,L+="",0),be,ve;if(se!=L.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(Y&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(be=KS(o0(D.y,0,1)),ve=be.getUTCDay(),be=ve>4||ve===0?yb.ceil(be):yb(be),be=Dw.offset(be,(D.V-1)*7),D.y=be.getUTCFullYear(),D.m=be.getUTCMonth(),D.d=be.getUTCDate()+(D.w+6)%7):(be=GS(o0(D.y,0,1)),ve=be.getDay(),be=ve>4||ve===0?xb.ceil(be):xb(be),be=cx.offset(be,(D.V-1)*7),D.y=be.getFullYear(),D.m=be.getMonth(),D.d=be.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),ve="Z"in D?KS(o0(D.y,0,1)).getUTCDay():GS(o0(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(ve+5)%7:D.w+D.U*7-(ve+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,KS(D)):GS(D)}}function C(ie,Y,L,D){for(var se=0,be=Y.length,ve=L.length,ke,Se;se<be;){if(D>=ve)return-1;if(ke=Y.charCodeAt(se++),ke===37){if(ke=Y.charAt(se++),Se=w[ke in e3?Y.charAt(se++):ke],!Se||(D=Se(ie,L,D))<0)return-1}else if(ke!=L.charCodeAt(D++))return-1}return D}function k(ie,Y,L){var D=u.exec(Y.slice(L));return D?(ie.p=d.get(D[0].toLowerCase()),L+D[0].length):-1}function E(ie,Y,L){var D=m.exec(Y.slice(L));return D?(ie.w=g.get(D[0].toLowerCase()),L+D[0].length):-1}function O(ie,Y,L){var D=f.exec(Y.slice(L));return D?(ie.w=h.get(D[0].toLowerCase()),L+D[0].length):-1}function T(ie,Y,L){var D=y.exec(Y.slice(L));return D?(ie.m=b.get(D[0].toLowerCase()),L+D[0].length):-1}function U(ie,Y,L){var D=p.exec(Y.slice(L));return D?(ie.m=v.get(D[0].toLowerCase()),L+D[0].length):-1}function W(ie,Y,L){return C(ie,t,Y,L)}function R(ie,Y,L){return C(ie,r,Y,L)}function z(ie,Y,L){return C(ie,n,Y,L)}function P(ie){return o[ie.getDay()]}function M(ie){return s[ie.getDay()]}function I(ie){return c[ie.getMonth()]}function q(ie){return l[ie.getMonth()]}function J(ie){return a[+(ie.getHours()>=12)]}function A(ie){return 1+~~(ie.getMonth()/3)}function B(ie){return o[ie.getUTCDay()]}function G(ie){return s[ie.getUTCDay()]}function H(ie){return c[ie.getUTCMonth()]}function ee(ie){return l[ie.getUTCMonth()]}function ue(ie){return a[+(ie.getUTCHours()>=12)]}function ye(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Y=S(ie+="",_);return Y.toString=function(){return ie},Y},parse:function(ie){var Y=N(ie+="",!1);return Y.toString=function(){return ie},Y},utcFormat:function(ie){var Y=S(ie+="",j);return Y.toString=function(){return ie},Y},utcParse:function(ie){var Y=N(ie+="",!0);return Y.toString=function(){return ie},Y}}}var e3={"-":"",_:" ",0:"0"},Kn=/^\s*\d+/,nNe=/^%/,aNe=/[\\^$*+?|[\]().{}]/g;function lr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function sNe(e){return e.replace(aNe,"\\$&")}function l0(e){return new RegExp("^(?:"+e.map(sNe).join("|")+")","i")}function c0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function iNe(e,t,r){var n=Kn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function oNe(e,t,r){var n=Kn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function lNe(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function cNe(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function uNe(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function t3(e,t,r){var n=Kn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function r3(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function dNe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function fNe(e,t,r){var n=Kn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function hNe(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function n3(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function mNe(e,t,r){var n=Kn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function a3(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function pNe(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function gNe(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function vNe(e,t,r){var n=Kn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function xNe(e,t,r){var n=Kn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function yNe(e,t,r){var n=nNe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function bNe(e,t,r){var n=Kn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function _Ne(e,t,r){var n=Kn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function s3(e,t){return lr(e.getDate(),t,2)}function wNe(e,t){return lr(e.getHours(),t,2)}function jNe(e,t){return lr(e.getHours()%12||12,t,2)}function SNe(e,t){return lr(1+cx.count(xc(e),e),t,3)}function AV(e,t){return lr(e.getMilliseconds(),t,3)}function NNe(e,t){return AV(e,t)+"000"}function kNe(e,t){return lr(e.getMonth()+1,t,2)}function CNe(e,t){return lr(e.getMinutes(),t,2)}function ENe(e,t){return lr(e.getSeconds(),t,2)}function TNe(e){var t=e.getDay();return t===0?7:t}function ANe(e,t){return lr(Rw.count(xc(e)-1,e),t,2)}function PV(e){var t=e.getDay();return t>=4||t===0?Cm(e):Cm.ceil(e)}function PNe(e,t){return e=PV(e),lr(Cm.count(xc(e),e)+(xc(e).getDay()===4),t,2)}function ONe(e){return e.getDay()}function DNe(e,t){return lr(xb.count(xc(e)-1,e),t,2)}function RNe(e,t){return lr(e.getFullYear()%100,t,2)}function FNe(e,t){return e=PV(e),lr(e.getFullYear()%100,t,2)}function MNe(e,t){return lr(e.getFullYear()%1e4,t,4)}function INe(e,t){var r=e.getDay();return e=r>=4||r===0?Cm(e):Cm.ceil(e),lr(e.getFullYear()%1e4,t,4)}function LNe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+lr(t/60|0,"0",2)+lr(t%60,"0",2)}function i3(e,t){return lr(e.getUTCDate(),t,2)}function $Ne(e,t){return lr(e.getUTCHours(),t,2)}function BNe(e,t){return lr(e.getUTCHours()%12||12,t,2)}function UNe(e,t){return lr(1+Dw.count(yc(e),e),t,3)}function OV(e,t){return lr(e.getUTCMilliseconds(),t,3)}function zNe(e,t){return OV(e,t)+"000"}function VNe(e,t){return lr(e.getUTCMonth()+1,t,2)}function WNe(e,t){return lr(e.getUTCMinutes(),t,2)}function HNe(e,t){return lr(e.getUTCSeconds(),t,2)}function qNe(e){var t=e.getUTCDay();return t===0?7:t}function GNe(e,t){return lr(Fw.count(yc(e)-1,e),t,2)}function DV(e){var t=e.getUTCDay();return t>=4||t===0?Em(e):Em.ceil(e)}function KNe(e,t){return e=DV(e),lr(Em.count(yc(e),e)+(yc(e).getUTCDay()===4),t,2)}function YNe(e){return e.getUTCDay()}function XNe(e,t){return lr(yb.count(yc(e)-1,e),t,2)}function QNe(e,t){return lr(e.getUTCFullYear()%100,t,2)}function JNe(e,t){return e=DV(e),lr(e.getUTCFullYear()%100,t,2)}function ZNe(e,t){return lr(e.getUTCFullYear()%1e4,t,4)}function e2e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Em(e):Em.ceil(e),lr(e.getUTCFullYear()%1e4,t,4)}function t2e(){return"+0000"}function o3(){return"%"}function l3(e){return+e}function c3(e){return Math.floor(+e/1e3)}var Gf,RV,FV;r2e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function r2e(e){return Gf=rNe(e),RV=Gf.format,Gf.parse,FV=Gf.utcFormat,Gf.utcParse,Gf}function n2e(e){return new Date(e)}function a2e(e){return e instanceof Date?+e:+new Date(+e)}function YA(e,t,r,n,a,s,o,l,c,u){var d=FA(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),b=u("%b %d"),_=u("%B"),j=u("%Y");function w(S){return(c(S)<S?m:l(S)<S?g:o(S)<S?p:s(S)<S?v:n(S)<S?a(S)<S?y:b:r(S)<S?_:j)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,a2e)):h().map(n2e)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?w:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(_V(N,S)):d},d.copy=function(){return lx(d,YA(e,t,r,n,a,s,o,l,c,u))},d}function s2e(){return Gi.apply(YA(eNe,tNe,xc,GA,Rw,cx,HA,VA,_d,RV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function i2e(){return Gi.apply(YA(JSe,ZSe,yc,KA,Fw,Dw,qA,WA,_d,FV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mw(){var e=0,t=1,r,n,a,s,o=ls,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(Ep),u.rangeRound=d(RA),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ku(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function MV(){var e=Gu(Mw()(ls));return e.copy=function(){return Ku(e,MV())},kc.apply(e,arguments)}function IV(){var e=LA(Mw()).domain([1,10]);return e.copy=function(){return Ku(e,IV()).base(e.base())},kc.apply(e,arguments)}function LV(){var e=$A(Mw());return e.copy=function(){return Ku(e,LV()).constant(e.constant())},kc.apply(e,arguments)}function XA(){var e=BA(Mw());return e.copy=function(){return Ku(e,XA()).exponent(e.exponent())},kc.apply(e,arguments)}function o2e(){return XA.apply(null,arguments).exponent(.5)}function $V(){var e=[],t=ls;function r(n){if(n!=null&&!isNaN(n=+n))return t((ix(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Nu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>Gje(e,s/n))},r.copy=function(){return $V(t).domain(e)},kc.apply(r,arguments)}function Iw(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=ls,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-s)*(n*p<n*s?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var y,b,_;return arguments.length?([y,b,_]=v,u=ySe(p,[y,b,_]),m):[u(0),u(.5),u(1)]}}return m.range=g(Ep),m.rangeRound=g(RA),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),s=p(t),o=p(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m}}function BV(){var e=Gu(Iw()(ls));return e.copy=function(){return Ku(e,BV())},kc.apply(e,arguments)}function UV(){var e=LA(Iw()).domain([.1,1,10]);return e.copy=function(){return Ku(e,UV()).base(e.base())},kc.apply(e,arguments)}function zV(){var e=$A(Iw());return e.copy=function(){return Ku(e,zV()).constant(e.constant())},kc.apply(e,arguments)}function QA(){var e=BA(Iw());return e.copy=function(){return Ku(e,QA()).exponent(e.exponent())},kc.apply(e,arguments)}function l2e(){return QA.apply(null,arguments).exponent(.5)}const u3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yg,scaleDiverging:BV,scaleDivergingLog:UV,scaleDivergingPow:QA,scaleDivergingSqrt:l2e,scaleDivergingSymlog:zV,scaleIdentity:bV,scaleImplicit:Vk,scaleLinear:gb,scaleLog:wV,scaleOrdinal:PA,scalePoint:X0,scalePow:UA,scaleQuantile:NV,scaleQuantize:kV,scaleRadial:SV,scaleSequential:MV,scaleSequentialLog:IV,scaleSequentialPow:XA,scaleSequentialQuantile:$V,scaleSequentialSqrt:o2e,scaleSequentialSymlog:LV,scaleSqrt:zSe,scaleSymlog:jV,scaleThreshold:CV,scaleTime:s2e,scaleUtc:i2e,tickFormat:yV},Symbol.toStringTag,{value:"Module"}));var c2e=yp;function u2e(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!c2e(o):r(o,l)))var l=o,c=s}return c}var Lw=u2e;function d2e(e,t){return e>t}var VV=d2e,f2e=Lw,h2e=VV,m2e=Cp;function p2e(e){return e&&e.length?f2e(e,m2e,h2e):void 0}var g2e=p2e;const $w=pr(g2e);function v2e(e,t){return e<t}var WV=v2e,x2e=Lw,y2e=WV,b2e=Cp;function _2e(e){return e&&e.length?x2e(e,b2e,y2e):void 0}var w2e=_2e;const Bw=pr(w2e);var j2e=dA,S2e=Al,N2e=Jz,k2e=zs;function C2e(e,t){var r=k2e(e)?j2e:N2e;return r(e,S2e(t))}var E2e=C2e,T2e=Xz,A2e=E2e;function P2e(e,t){return T2e(A2e(e,t),1)}var O2e=P2e;const D2e=pr(O2e);var R2e=kA;function F2e(e,t){return R2e(e,t)}var M2e=F2e;const ux=pr(M2e);var Tp=1e9,I2e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ZA,Wr=!0,Wi="[DecimalError] ",zd=Wi+"Invalid argument: ",JA=Wi+"Exponent out of range: ",Ap=Math.floor,cd=Math.pow,L2e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ri,Bn=1e7,Lr=7,HV=9007199254740991,bb=Ap(HV/Lr),pt={};pt.absoluteValue=pt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};pt.comparedTo=pt.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};pt.decimalPlaces=pt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Lr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};pt.dividedBy=pt.div=function(e){return ac(this,new this.constructor(e))};pt.dividedToIntegerBy=pt.idiv=function(e){var t=this,r=t.constructor;return Cr(ac(t,new r(e),0,1),r.precision)};pt.equals=pt.eq=function(e){return!this.cmp(e)};pt.exponent=function(){return wn(this)};pt.greaterThan=pt.gt=function(e){return this.cmp(e)>0};pt.greaterThanOrEqualTo=pt.gte=function(e){return this.cmp(e)>=0};pt.isInteger=pt.isint=function(){return this.e>this.d.length-2};pt.isNegative=pt.isneg=function(){return this.s<0};pt.isPositive=pt.ispos=function(){return this.s>0};pt.isZero=function(){return this.s===0};pt.lessThan=pt.lt=function(e){return this.cmp(e)<0};pt.lessThanOrEqualTo=pt.lte=function(e){return this.cmp(e)<1};pt.logarithm=pt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ri))throw Error(Wi+"NaN");if(r.s<1)throw Error(Wi+(r.s?"NaN":"-Infinity"));return r.eq(ri)?new n(0):(Wr=!1,t=ac(ev(r,s),ev(e,s),s),Wr=!0,Cr(t,a))};pt.minus=pt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?KV(t,e):qV(t,(e.s=-e.s,e))};pt.modulo=pt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Wi+"NaN");return r.s?(Wr=!1,t=ac(r,e,0,1).times(e),Wr=!0,r.minus(t)):Cr(new n(r),a)};pt.naturalExponential=pt.exp=function(){return GV(this)};pt.naturalLogarithm=pt.ln=function(){return ev(this)};pt.negated=pt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};pt.plus=pt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qV(t,e):KV(t,(e.s=-e.s,e))};pt.precision=pt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(zd+e);if(t=wn(a)+1,n=a.d.length-1,r=n*Lr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};pt.squareRoot=pt.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Wi+"NaN")}for(e=wn(l),Wr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=ol(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ap((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(ac(l,s,o+2)).times(.5),ol(s.d).slice(0,o)===(t=ol(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Cr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Wr=!0,Cr(n,r)};pt.times=pt.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%Bn|0,t=l/Bn|0;s[a]=(s[a]+t)%Bn|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Wr?Cr(e,f.precision):e};pt.toDecimalPlaces=pt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(bl(e,0,Tp),t===void 0?t=n.rounding:bl(t,0,8),Cr(r,e+wn(r)+1,t))};pt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=uf(n,!0):(bl(e,0,Tp),t===void 0?t=a.rounding:bl(t,0,8),n=Cr(new a(n),e+1,t),r=uf(n,!0,e+1)),r};pt.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?uf(a):(bl(e,0,Tp),t===void 0?t=s.rounding:bl(t,0,8),n=Cr(new s(a),e+wn(a)+1,t),r=uf(n.abs(),!1,e+wn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};pt.toInteger=pt.toint=function(){var e=this,t=e.constructor;return Cr(new t(e),wn(e)+1,t.rounding)};pt.toNumber=function(){return+this};pt.toPower=pt.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ri);if(l=new c(l),!l.s){if(e.s<1)throw Error(Wi+"Infinity");return l}if(l.eq(ri))return l;if(n=c.precision,e.eq(ri))return Cr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=HV){for(a=new c(ri),t=Math.ceil(n/Lr+4),Wr=!1;r%2&&(a=a.times(l),f3(a.d,t)),r=Ap(r/2),r!==0;)l=l.times(l),f3(l.d,t);return Wr=!0,e.s<0?new c(ri).div(a):Cr(a,n)}}else if(s<0)throw Error(Wi+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Wr=!1,a=e.times(ev(l,n+u)),Wr=!0,a=GV(a),a.s=s,a};pt.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=wn(a),n=uf(a,r<=s.toExpNeg||r>=s.toExpPos)):(bl(e,1,Tp),t===void 0?t=s.rounding:bl(t,0,8),a=Cr(new s(a),e,t),r=wn(a),n=uf(a,e<=r||r<=s.toExpNeg,e)),n};pt.toSignificantDigits=pt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(bl(e,1,Tp),t===void 0?t=n.rounding:bl(t,0,8)),Cr(new n(r),e,t)};pt.toString=pt.valueOf=pt.val=pt.toJSON=pt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wn(e),r=e.constructor;return uf(e,t<=r.toExpNeg||t>=r.toExpPos)};function qV(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Wr?Cr(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Lr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Bn|0,c[s]%=Bn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Wr?Cr(t,f):t}function bl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(zd+e)}function ol(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=Lr-n.length,r&&(s+=Vc(r)),s+=n;o=e[t],n=o+"",r=Lr-n.length,r&&(s+=Vc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var ac=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%Bn|0,o=s/Bn|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*Bn+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,m,g,p,v,y,b,_,j,w,S,N,C,k=n.constructor,E=n.s==a.s?1:-1,O=n.d,T=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(Wi+"Division by zero");for(c=n.e-a.e,N=T.length,w=O.length,m=new k(E),g=m.d=[],u=0;T[u]==(O[u]||0);)++u;if(T[u]>(O[u]||0)&&--c,s==null?b=s=k.precision:o?b=s+(wn(n)-wn(a))+1:b=s,b<0)return new k(0);if(b=b/Lr+2|0,u=0,N==1)for(d=0,T=T[0],b++;(u<w||d)&&b--;u++)_=d*Bn+(O[u]||0),g[u]=_/T|0,d=_%T|0;else{for(d=Bn/(T[0]+1)|0,d>1&&(T=e(T,d),O=e(O,d),N=T.length,w=O.length),j=N,p=O.slice(0,N),v=p.length;v<N;)p[v++]=0;C=T.slice(),C.unshift(0),S=T[0],T[1]>=Bn/2&&++S;do d=0,l=t(T,p,N,v),l<0?(y=p[0],N!=v&&(y=y*Bn+(p[1]||0)),d=y/S|0,d>1?(d>=Bn&&(d=Bn-1),f=e(T,d),h=f.length,v=p.length,l=t(f,p,h,v),l==1&&(d--,r(f,N<h?C:T,h))):(d==0&&(l=d=1),f=T.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),l==-1&&(v=p.length,l=t(T,p,N,v),l<1&&(d++,r(p,N<v?C:T,v))),v=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[v++]=O[j]||0:(p=[O[j]],v=1);while((j++<w||p[0]!==void 0)&&b--)}return g[0]||g.shift(),m.e=c,Cr(m,o?s+wn(m)+1:s)}}();function GV(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(wn(e)>16)throw Error(JA+wn(e));if(!e.s)return new d(ri);for(t==null?(Wr=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(cd(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(ri),d.precision=l;;){if(a=Cr(a.times(e),l),r=r.times(++c),o=s.plus(ac(a,r,l)),ol(o.d).slice(0,l)===ol(s.d).slice(0,l)){for(;u--;)s=Cr(s.times(s),l);return d.precision=f,t==null?(Wr=!0,Cr(s,f)):s}s=o}}function wn(e){for(var t=e.e*Lr,r=e.d[0];r>=10;r/=10)t++;return t}function YS(e,t,r){if(t>e.LN10.sd())throw Wr=!0,r&&(e.precision=r),Error(Wi+"LN10 precision limit exceeded");return Cr(new e(e.LN10),t)}function Vc(e){for(var t="";e--;)t+="0";return t}function ev(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(Wi+(m.s?"NaN":"-Infinity"));if(m.eq(ri))return new p(0);if(t==null?(Wr=!1,u=v):u=t,m.eq(10))return t==null&&(Wr=!0),YS(p,u);if(u+=h,p.precision=u,r=ol(g),n=r.charAt(0),s=wn(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=ol(m.d),n=r.charAt(0),f++;s=wn(m),n>1?(m=new p("0."+r),s++):m=new p(n+"."+r.slice(1))}else return c=YS(p,u+2,v).times(s+""),m=ev(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?(Wr=!0,Cr(m,v)):m;for(l=o=m=ac(m.minus(ri),m.plus(ri),u),d=Cr(m.times(m),u),a=3;;){if(o=Cr(o.times(d),u),c=l.plus(ac(o,new p(a),u)),ol(c.d).slice(0,u)===ol(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(YS(p,u+2,v).times(s+""))),l=ac(l,new p(f),u),p.precision=v,t==null?(Wr=!0,Cr(l,v)):l;l=c,a+=2}}function d3(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ap(r/Lr),e.d=[],n=(r+1)%Lr,r<0&&(n+=Lr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Lr;n<a;)e.d.push(+t.slice(n,n+=Lr));t=t.slice(n),n=Lr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Wr&&(e.e>bb||e.e<-bb))throw Error(JA+r)}else e.s=0,e.e=0,e.d=[0];return e}function Cr(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Lr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Lr),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=Lr,a=n-Lr+o}if(r!==void 0&&(s=cd(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/cd(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=wn(e),f.length=1,t=t-s-1,f[0]=cd(10,(Lr-t%Lr)%Lr),e.e=Ap(-t/Lr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=cd(10,Lr-n),f[d]=a>0?(u/cd(10,o-a)%cd(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Bn&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Bn)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Wr&&(e.e>bb||e.e<-bb))throw Error(JA+wn(e));return e}function KV(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Wr?Cr(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Lr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=Bn-1;--c[s],c[a]+=Bn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Wr?Cr(t,m):t):new h(0)}function uf(e,t,r){var n,a=wn(e),s=ol(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Vc(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Vc(-a-1)+s,r&&(n=r-o)>0&&(s+=Vc(n))):a>=o?(s+=Vc(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Vc(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Vc(n))),e.s<0?"-"+s:s}function f3(e,t){if(e.length>t)return e.length=t,!0}function YV(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(zd+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return d3(o,s.toString())}else if(typeof s!="string")throw Error(zd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,L2e.test(s))d3(o,s);else throw Error(zd+s)}if(a.prototype=pt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=YV,a.config=a.set=$2e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function $2e(e){if(!e||typeof e!="object")throw Error(Wi+"Object expected");var t,r,n,a=["precision",1,Tp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ap(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(zd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(zd+r+": "+n);return this}var ZA=YV(I2e);ri=new ZA(1);const Nr=ZA;function B2e(e){return W2e(e)||V2e(e)||z2e(e)||U2e()}function U2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z2e(e,t){if(e){if(typeof e=="string")return Gk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gk(e,t)}}function V2e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function W2e(e){if(Array.isArray(e))return Gk(e)}function Gk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var H2e=function(t){return t},XV={"@@functional/placeholder":!0},QV=function(t){return t===XV},h3=function(t){return function r(){return arguments.length===0||arguments.length===1&&QV(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},q2e=function e(t,r){return t===1?r:h3(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==XV}).length;return o>=t?r.apply(void 0,a):e(t-o,h3(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return QV(f)?c.shift():f});return r.apply(void 0,B2e(d).concat(c))}))})},Uw=function(t){return q2e(t.length,t)},Kk=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},G2e=Uw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),K2e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return H2e;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Yk=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},JV=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function Y2e(e){var t;return e===0?t=1:t=Math.floor(new Nr(e).abs().log(10).toNumber())+1,t}function X2e(e,t,r){for(var n=new Nr(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var Q2e=Uw(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),J2e=Uw(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Z2e=Uw(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const zw={rangeStep:X2e,getDigitCount:Y2e,interpolateNumber:Q2e,uninterpolateNumber:J2e,uninterpolateTruncation:Z2e};function Xk(e){return rke(e)||tke(e)||ZV(e)||eke()}function eke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function rke(e){if(Array.isArray(e))return Qk(e)}function tv(e,t){return ske(e)||ake(e,t)||ZV(e,t)||nke()}function nke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZV(e,t){if(e){if(typeof e=="string")return Qk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qk(e,t)}}function Qk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ake(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function ske(e){if(Array.isArray(e))return e}function eW(e){var t=tv(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function tW(e,t,r){if(e.lte(0))return new Nr(0);var n=zw.getDigitCount(e.toNumber()),a=new Nr(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new Nr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Nr(Math.ceil(c))}function ike(e,t,r){var n=1,a=new Nr(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Nr(10).pow(zw.getDigitCount(e)-1),a=new Nr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Nr(Math.floor(e)))}else e===0?a=new Nr(Math.floor((t-1)/2)):r||(a=new Nr(Math.floor(e)));var o=Math.floor((t-1)/2),l=K2e(G2e(function(c){return a.add(new Nr(c-o).mul(n)).toNumber()}),Kk);return l(0,t)}function rW(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Nr(0),tickMin:new Nr(0),tickMax:new Nr(0)};var s=tW(new Nr(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Nr(0):(o=new Nr(e).add(t).div(2),o=o.sub(new Nr(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Nr(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?rW(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Nr(l).mul(s)),tickMax:o.add(new Nr(c).mul(s))})}function oke(e){var t=tv(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=eW([r,n]),c=tv(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Xk(Kk(0,a-1).map(function(){return 1/0}))):[].concat(Xk(Kk(0,a-1).map(function(){return-1/0})),[d]);return r>n?Yk(f):f}if(u===d)return ike(u,a,s);var h=rW(u,d,o,s),m=h.step,g=h.tickMin,p=h.tickMax,v=zw.rangeStep(g,p.add(new Nr(.1).mul(m)),m);return r>n?Yk(v):v}function lke(e,t){var r=tv(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=eW([n,a]),l=tv(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=tW(new Nr(u).sub(c).div(d-1),s,0),h=[].concat(Xk(zw.rangeStep(new Nr(c),new Nr(u).sub(new Nr(.99).mul(f)),f)),[u]);return n>a?Yk(h):h}var cke=JV(oke),uke=JV(lke),dke="Invariant failed";function df(e,t){throw new Error(dke)}var fke=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_b.apply(this,arguments)}function hke(e,t){return vke(e)||gke(e,t)||pke(e,t)||mke()}function mke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pke(e,t){if(e){if(typeof e=="string")return m3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m3(e,t)}}function m3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function vke(e){if(Array.isArray(e))return e}function xke(e,t){if(e==null)return{};var r=yke(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sW(n.key),n)}}function wke(e,t,r){return t&&_ke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jke(e,t,r){return t=wb(t),Ske(e,nW()?Reflect.construct(t,r||[],wb(e).constructor):t.apply(e,r))}function Ske(e,t){if(t&&(Tm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nke(e)}function Nke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nW=function(){return!!e})()}function wb(e){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wb(e)}function kke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jk(e,t)}function Jk(e,t){return Jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jk(e,t)}function aW(e,t,r){return t=sW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sW(e){var t=Cke(e,"string");return Tm(t)=="symbol"?t:t+""}function Cke(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dx=function(e){function t(){return bke(this,t),jke(this,t,arguments)}return kke(t,e),wke(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=xke(n,fke),m=_t(h,!1);this.props.direction==="x"&&d.type!=="number"&&df();var g=c.map(function(p){var v=u(p,l),y=v.x,b=v.y,_=v.value,j=v.errorVal;if(!j)return null;var w=[],S,N;if(Array.isArray(j)){var C=hke(j,2);S=C[0],N=C[1]}else S=N=j;if(s==="vertical"){var k=d.scale,E=b+a,O=E+o,T=E-o,U=k(_-S),W=k(_+N);w.push({x1:W,y1:O,x2:W,y2:T}),w.push({x1:U,y1:E,x2:W,y2:E}),w.push({x1:U,y1:O,x2:U,y2:T})}else if(s==="horizontal"){var R=f.scale,z=y+a,P=z-o,M=z+o,I=R(_-S),q=R(_+N);w.push({x1:P,y1:q,x2:M,y2:q}),w.push({x1:z,y1:I,x2:z,y2:q}),w.push({x1:P,y1:I,x2:M,y2:I})}return ce.createElement(or,_b({className:"recharts-errorBar",key:"bar-".concat(w.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},m),w.map(function(J){return ce.createElement("line",_b({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return ce.createElement(or,{className:"recharts-errorBars"},g)}}])}(ce.Component);aW(dx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});aW(dx,"displayName","ErrorBar");function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}function p3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(r),!0).forEach(function(n){Eke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eke(e,t,r){return t=Tke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tke(e){var t=Ake(e,"string");return rv(t)=="symbol"?t:t+""}function Ake(e,t){if(rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iW=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=Qs(r,Li);if(!o)return null;var l=Li.defaultProps,c=l!==void 0?td(td({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?td(td({},h),f.props):{},g=m.dataKey,p=m.name,v=m.legendType,y=m.hide;return{inactive:y,dataKey:g,type:c.iconType||v||"square",color:eP(f),value:p||g,payload:m}}),td(td(td({},c),Li.getWithHeight(o,a)),{},{payload:u,item:o})};function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function g3(e){return Rke(e)||Dke(e)||Oke(e)||Pke()}function Pke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oke(e,t){if(e){if(typeof e=="string")return Zk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zk(e,t)}}function Dke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rke(e){if(Array.isArray(e))return Zk(e)}function Zk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(r),!0).forEach(function(n){Bh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bh(e,t,r){return t=Fke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fke(e){var t=Mke(e,"string");return nv(t)=="symbol"?t:t+""}function Mke(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function On(e,t,r){return Ft(e)||Ft(t)?r:Rn(t)?oi(e,t,r):Et(t)?t(e):r}function Q0(e,t,r,n){var a=D2e(e,function(l){return On(l,t)});if(r==="number"){var s=a.filter(function(l){return Ze(l)||parseFloat(l)});return s.length?[Bw(s),$w(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Ft(l)}):a;return o.map(function(l){return Rn(l)||l instanceof Date?l:""})}var Ike=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(is(f-d)!==is(h-f)){var g=[];if(is(h-f)===is(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var b=Math.min(d,h),_=Math.max(d,h);if(t>(b+f)/2&&t<=(_+f)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},eP=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Zr(Zr({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Lke=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,v=g.cateAxisId,y=p.filter(function(N){return nc(N.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,_=b!==void 0?Zr(Zr({},b),y[0].props):y[0].props,j=_.barSize,w=_[v];o[w]||(o[w]=[]);var S=Ft(j)?r:j;o[w].push({item:y[0],stackList:y.slice(1),barSize:Ft(S)?void 0:os(S,n,0)})}}return o},$ke=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=os(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,g=o.reduce(function(j,w){return j+w.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(h=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,v={offset:p-u,size:0};d=o.reduce(function(j,w){var S={item:w.item,position:{offset:v.offset+v.size+u,size:h?m:w.barSize}},N=[].concat(g3(j),[S]);return v=N[N.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(C){N.push({item:C,position:v})}),N},f)}else{var y=os(n,a,0,!0);a-2*y-(c-1)*u<=0&&(u=0);var b=(a-2*y-(c-1)*u)/c;b>1&&(b>>=0);var _=l===+l?Math.min(b,l):b;d=o.reduce(function(j,w,S){var N=[].concat(g3(j),[{item:w.item,position:{offset:y+(b+u)*S+(b-_)/2,size:_}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(C){N.push({item:C,position:N[N.length-1].position})}),N},f)}return d},Bke=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=iW({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&Ze(t[m]))return Zr(Zr({},t),{},Bh({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&Ze(t[g]))return Zr(Zr({},t),{},Bh({},g,t[g]+(h||0)))}return t},Uke=function(t,r,n){return Ft(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},oW=function(t,r,n,a,s){var o=r.props.children,l=li(o,dx).filter(function(u){return Uke(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=On(d,n);if(Ft(f))return u;var h=Array.isArray(f)?[Bw(f),$w(f)]:[f,f],m=c.reduce(function(g,p){var v=On(d,p,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},zke=function(t,r,n,a,s){var o=r.map(function(l){return oW(t,l,n,s,a)}).filter(function(l){return!Ft(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},lW=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&oW(t,c,u,a)||Q0(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},cW=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},uW=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},Zl=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?is(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!ax(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},XS=new WeakMap,gy=function(t,r){if(typeof r!="function")return t;XS.has(t)||XS.set(t,new WeakMap);var n=XS.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},dW=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Yg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:gb(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:X0(),realScaleType:"point"}:s==="category"?{scale:Yg(),realScaleType:"band"}:{scale:gb(),realScaleType:"linear"};if(sf(a)){var c="scale".concat(Nw(a));return{scale:(u3[c]||X0)(),realScaleType:u3[c]?c:"point"}}return Et(a)?{scale:a}:{scale:X0(),realScaleType:"point"}},x3=1e-4,fW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-x3,o=Math.max(a[0],a[1])+x3,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},Vke=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Wke=function(t,r){if(!r||r.length!==2||!Ze(r[0])||!Ze(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Ze(t[0])||t[0]<n)&&(s[0]=n),(!Ze(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},Hke=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=ax(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},qke=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=ax(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Gke={sign:Hke,expand:f0e,none:_m,silhouette:h0e,wiggle:m0e,positive:qke},Kke=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=Gke[n],o=d0e().keys(a).value(function(l,c){return+On(l,c,0)}).order(Sk).offset(s);return o(t)},Yke=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Zr(Zr({},h.type.defaultProps),h.props):h.props,p=g.stackId,v=g.hide;if(v)return f;var y=g[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(Rn(p)){var _=b.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};_.items.push(h),b.hasStack=!0,b.stackGroups[p]=_}else b.stackGroups[Sp("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Zr(Zr({},f),{},Bh({},y,b))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var y=m.stackGroups[v];return Zr(Zr({},p),{},Bh({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:Kke(t,y.items,s)}))},g)}return Zr(Zr({},f),{},Bh({},h,m))},d)},hW=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=cke(u,s,l);return t.domain([Bw(d),$w(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=uke(f,s,l);return{niceTicks:h}}return null};function y3(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ft(a[t.dataKey])){var l=Y1(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=On(a,Ft(o)?t.dataKey:o);return Ft(c)?null:t.scale(c)}var b3=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=On(o,r.dataKey,r.domain[l]);return Ft(c)?null:r.scale(c)-s/2+a},Xke=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},Qke=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Zr(Zr({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(Rn(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Jke=function(t){return t.reduce(function(r,n){return[Bw(n.concat([r[0]]).filter(Ze)),$w(n.concat([r[1]]).filter(Ze))]},[1/0,-1/0])},mW=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=Jke(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},_3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eC=function(t,r,n){if(Et(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ze(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(_3.test(t[0])){var s=+_3.exec(t[0])[1];a[0]=r[0]-s}else Et(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ze(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(w3.test(t[1])){var o=+w3.exec(t[1])[1];a[1]=r[1]+o}else Et(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},jb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=EA(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},j3=function(t,r,n){return!t||!t.length||ux(t,oi(n,"type.defaultProps.domain"))?r:t},pW=function(t,r){var n=t.type.defaultProps?Zr(Zr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Zr(Zr({},_t(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:eP(t),value:On(r,a),type:c,payload:r,chartType:u,hide:d})};function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function S3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(r),!0).forEach(function(n){gW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gW(e,t,r){return t=Zke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zke(e){var t=eCe(e,"string");return av(t)=="symbol"?t:t+""}function eCe(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tCe(e,t){return sCe(e)||aCe(e,t)||nCe(e,t)||rCe()}function rCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nCe(e,t){if(e){if(typeof e=="string")return N3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N3(e,t)}}function N3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sCe(e){if(Array.isArray(e))return e}var Sb=Math.PI/180,iCe=function(t){return t*180/Math.PI},Pr=function(t,r,n,a){return{x:t+Math.cos(-Sb*a)*n,y:r+Math.sin(-Sb*a)*n}},vW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},oCe=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=os(t.cx,o,o/2),f=os(t.cy,l,l/2),h=vW(o,l,n),m=os(t.innerRadius,h,0),g=os(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(v,y){var b=r[y],_=b.domain,j=b.reversed,w;if(Ft(b.range))a==="angleAxis"?w=[c,u]:a==="radiusAxis"&&(w=[m,g]),j&&(w=[w[1],w[0]]);else{w=b.range;var S=w,N=tCe(S,2);c=N[0],u=N[1]}var C=dW(b,s),k=C.realScaleType,E=C.scale;E.domain(_).range(w),fW(E);var O=hW(E,Vl(Vl({},b),{},{realScaleType:k})),T=Vl(Vl(Vl({},b),O),{},{range:w,radius:g,realScaleType:k,scale:E,cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return Vl(Vl({},v),{},gW({},y,T))},{})},lCe=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},cCe=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=lCe({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:iCe(u),angleInRadian:u}},uCe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},dCe=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},k3=function(t,r){var n=t.x,a=t.y,s=cCe({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=uCe(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?Vl(Vl({},r),{},{radius:o,angle:dCe(m,r)}):null},xW=function(t){return!x.isValidElement(t)&&!Et(t)&&typeof t!="boolean"?t.className:""};function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}var fCe=["offset"];function hCe(e){return vCe(e)||gCe(e)||pCe(e)||mCe()}function mCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pCe(e,t){if(e){if(typeof e=="string")return tC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tC(e,t)}}function gCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vCe(e){if(Array.isArray(e))return tC(e)}function tC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xCe(e,t){if(e==null)return{};var r=yCe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function C3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C3(Object(r),!0).forEach(function(n){bCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bCe(e,t,r){return t=_Ce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Ce(e){var t=wCe(e,"string");return sv(t)=="symbol"?t:t+""}function wCe(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iv(){return iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iv.apply(this,arguments)}var jCe=function(t){var r=t.value,n=t.formatter,a=Ft(t.children)?r:t.children;return Et(n)?n(a):a},SCe=function(t,r){var n=is(r-t),a=Math.min(Math.abs(r-t),360);return n*a},NCe=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(f+h)/2,y=SCe(m,g),b=y>=0?1:-1,_,j;a==="insideStart"?(_=m+b*o,j=p):a==="insideEnd"?(_=g-b*o,j=!p):a==="end"&&(_=g+b*o,j=p),j=y<=0?j:!j;var w=Pr(u,d,v,_),S=Pr(u,d,v,_+(j?1:-1)*359),N="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),C=Ft(t.id)?Sp("recharts-radial-line-"):t.id;return ce.createElement("text",iv({},n,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",l)}),ce.createElement("defs",null,ce.createElement("path",{id:C,d:N})),ce.createElement("textPath",{xlinkHref:"#".concat(C)},r))},kCe=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=Pr(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,y=Pr(o,l,v,h),b=y.x,_=y.y;return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},CCe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,v=p*a,y=p>0?"end":"start",b=p>0?"start":"end";if(s==="top"){var _={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return En(En({},_),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return En(En({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var w={x:l-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return En(En({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(s==="right"){var S={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return En(En({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return s==="insideLeft"?En({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):s==="insideRight"?En({x:l+u-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},N):s==="insideTop"?En({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},N):s==="insideBottom"?En({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):s==="insideTopLeft"?En({x:l+v,y:c+h,textAnchor:b,verticalAnchor:g},N):s==="insideTopRight"?En({x:l+u-v,y:c+h,textAnchor:y,verticalAnchor:g},N):s==="insideBottomLeft"?En({x:l+v,y:c+d-h,textAnchor:b,verticalAnchor:m},N):s==="insideBottomRight"?En({x:l+u-v,y:c+d-h,textAnchor:y,verticalAnchor:m},N):bp(s)&&(Ze(s.x)||yd(s.x))&&(Ze(s.y)||yd(s.y))?En({x:l+os(s.x,u),y:c+os(s.y,d),textAnchor:"end",verticalAnchor:"end"},N):En({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},ECe=function(t){return"cx"in t&&Ze(t.cx)};function Vn(e){var t=e.offset,r=t===void 0?5:t,n=xCe(e,fCe),a=En({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||Ft(l)&&Ft(c)&&!x.isValidElement(u)&&!Et(u))return null;if(x.isValidElement(u))return x.cloneElement(u,a);var m;if(Et(u)){if(m=x.createElement(u,a),x.isValidElement(m))return m}else m=jCe(a);var g=ECe(s),p=_t(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return NCe(a,m,p);var v=g?kCe(a):CCe(a);return ce.createElement(cf,iv({className:Mt("recharts-label",f)},p,v,{breakAll:h}),m)}Vn.displayName="Label";var yW=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(Ze(p)&&Ze(v)){if(Ze(f)&&Ze(h))return{x:f,y:h,width:p,height:v};if(Ze(m)&&Ze(g))return{x:m,y:g,width:p,height:v}}return Ze(f)&&Ze(h)?{x:f,y:h,width:0,height:0}:Ze(r)&&Ze(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},TCe=function(t,r){return t?t===!0?ce.createElement(Vn,{key:"label-implicit",viewBox:r}):Rn(t)?ce.createElement(Vn,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===Vn?x.cloneElement(t,{key:"label-implicit",viewBox:r}):ce.createElement(Vn,{key:"label-implicit",content:t,viewBox:r}):Et(t)?ce.createElement(Vn,{key:"label-implicit",content:t,viewBox:r}):bp(t)?ce.createElement(Vn,iv({viewBox:r},t,{key:"label-implicit"})):null:null},ACe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=yW(t),o=li(a,Vn).map(function(c,u){return x.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=TCe(t.label,r||s);return[l].concat(hCe(o))};Vn.parseViewBox=yW;Vn.renderCallByParent=ACe;function PCe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var OCe=PCe;const DCe=pr(OCe);function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}var RCe=["valueAccessor"],FCe=["data","dataKey","clockWise","id","textBreakAll"];function MCe(e){return BCe(e)||$Ce(e)||LCe(e)||ICe()}function ICe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LCe(e,t){if(e){if(typeof e=="string")return rC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rC(e,t)}}function $Ce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BCe(e){if(Array.isArray(e))return rC(e)}function rC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nb.apply(this,arguments)}function E3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function T3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E3(Object(r),!0).forEach(function(n){UCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UCe(e,t,r){return t=zCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zCe(e){var t=VCe(e,"string");return ov(t)=="symbol"?t:t+""}function VCe(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A3(e,t){if(e==null)return{};var r=WCe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var HCe=function(t){return Array.isArray(t.value)?DCe(t.value):t.value};function sc(e){var t=e.valueAccessor,r=t===void 0?HCe:t,n=A3(e,RCe),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=A3(n,FCe);return!a||!a.length?null:ce.createElement(or,{className:"recharts-label-list"},a.map(function(d,f){var h=Ft(s)?r(d,f):On(d&&d.payload,s),m=Ft(l)?{}:{id:"".concat(l,"-").concat(f)};return ce.createElement(Vn,Nb({},_t(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Vn.parseViewBox(Ft(o)?d:T3(T3({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}sc.displayName="LabelList";function qCe(e,t){return e?e===!0?ce.createElement(sc,{key:"labelList-implicit",data:t}):ce.isValidElement(e)||Et(e)?ce.createElement(sc,{key:"labelList-implicit",data:t,content:e}):bp(e)?ce.createElement(sc,Nb({data:t},e,{key:"labelList-implicit"})):null:null}function GCe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=li(n,sc).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=qCe(e.label,t);return[s].concat(MCe(a))}sc.renderCallByParent=GCe;function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function nC(){return nC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nC.apply(this,arguments)}function P3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(r),!0).forEach(function(n){KCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KCe(e,t,r){return t=YCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YCe(e){var t=XCe(e,"string");return lv(t)=="symbol"?t:t+""}function XCe(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QCe=function(t,r){var n=is(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},vy=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Sb,h=u?s:s+o*f,m=Pr(r,n,d,h),g=Pr(r,n,a,h),p=u?s-o*f:s,v=Pr(r,n,d*Math.cos(f*Sb),p);return{center:m,circleTangency:g,lineTangency:v,theta:f}},bW=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=QCe(o,l),u=o+c,d=Pr(r,n,s,o),f=Pr(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Pr(r,n,a,o),g=Pr(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},JCe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=is(d-u),h=vy({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,v=vy({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),y=v.circleTangency,b=v.lineTangency,_=v.theta,j=c?Math.abs(u-d):Math.abs(u-d)-p-_;if(j<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):bW({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var S=vy({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=S.circleTangency,C=S.lineTangency,k=S.theta,E=vy({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=E.circleTangency,T=E.lineTangency,U=E.theta,W=c?Math.abs(u-d):Math.abs(u-d)-k-U;if(W<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(W>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},ZCe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_W=function(t){var r=O3(O3({},ZCe),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var m=Mt("recharts-sector",h),g=o-s,p=os(l,g,0,!0),v;return p>0&&Math.abs(d-f)<360?v=JCe({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=bW({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),ce.createElement("path",nC({},_t(r,!0),{className:m,d:v,role:"img"}))};function cv(e){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cv(e)}function aC(){return aC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aC.apply(this,arguments)}function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(n){eEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eEe(e,t,r){return t=tEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tEe(e){var t=rEe(e,"string");return cv(t)=="symbol"?t:t+""}function rEe(e,t){if(cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F3={curveBasisClosed:e0e,curveBasisOpen:t0e,curveBasis:Zpe,curveBumpX:$pe,curveBumpY:Bpe,curveLinearClosed:r0e,curveLinear:Cw,curveMonotoneX:n0e,curveMonotoneY:a0e,curveNatural:s0e,curveStep:i0e,curveStepAfter:l0e,curveStepBefore:o0e},xy=function(t){return t.x===+t.x&&t.y===+t.y},u0=function(t){return t.x},d0=function(t){return t.y},nEe=function(t,r){if(Et(t))return t;var n="curve".concat(Nw(t));return(n==="curveMonotone"||n==="curveBump")&&r?F3["".concat(n).concat(r==="vertical"?"Y":"X")]:F3[n]||Cw},aEe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=nEe(n,l),f=u?s.filter(function(p){return xy(p)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return xy(p)}):o,g=f.map(function(p,v){return R3(R3({},p),{},{base:m[v]})});return l==="vertical"?h=ly().y(d0).x1(u0).x0(function(p){return p.base.x}):h=ly().x(u0).y1(d0).y0(function(p){return p.base.y}),h.defined(xy).curve(d),h(g)}return l==="vertical"&&Ze(o)?h=ly().y(d0).x1(u0).x0(o):Ze(o)?h=ly().x(u0).y1(d0).y0(o):h=pz().x(u0).y(d0),h.defined(xy).curve(d),h(f)},kb=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?aEe(t):a;return x.createElement("path",aC({},_t(t,!1),X1(t),{className:Mt("recharts-curve",r),d:o,ref:s}))},wW={exports:{}},sEe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",iEe=sEe,oEe=iEe;function jW(){}function SW(){}SW.resetWarningCache=jW;var lEe=function(){function e(n,a,s,o,l,c){if(c!==oEe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:SW,resetWarningCache:jW};return r.PropTypes=r,r};wW.exports=lEe();var cEe=wW.exports;const hr=pr(cEe);var uEe=Object.getOwnPropertyNames,dEe=Object.getOwnPropertySymbols,fEe=Object.prototype.hasOwnProperty;function M3(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function yy(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function I3(e){return uEe(e).concat(dEe(e))}var hEe=Object.hasOwn||function(e,t){return fEe.call(e,t)};function Tf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var mEe="__v",pEe="__o",gEe="_owner",L3=Object.getOwnPropertyDescriptor,$3=Object.keys;function vEe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function xEe(e,t){return Tf(e.getTime(),t.getTime())}function yEe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function bEe(e,t){return e===t}function B3(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var _Ee=Tf;function wEe(e,t,r){var n=$3(e),a=n.length;if($3(t).length!==a)return!1;for(;a-- >0;)if(!NW(e,t,r,n[a]))return!1;return!0}function f0(e,t,r){var n=I3(e),a=n.length;if(I3(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],!NW(e,t,r,s)||(o=L3(e,s),l=L3(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function jEe(e,t){return Tf(e.valueOf(),t.valueOf())}function SEe(e,t){return e.source===t.source&&e.flags===t.flags}function U3(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function NEe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function kEe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function NW(e,t,r,n){return(n===gEe||n===pEe||n===mEe)&&(e.$$typeof||t.$$typeof)?!0:hEe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var CEe="[object Arguments]",EEe="[object Boolean]",TEe="[object Date]",AEe="[object Error]",PEe="[object Map]",OEe="[object Number]",DEe="[object Object]",REe="[object RegExp]",FEe="[object Set]",MEe="[object String]",IEe="[object URL]",LEe=Array.isArray,z3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,V3=Object.assign,$Ee=Object.prototype.toString.call.bind(Object.prototype.toString);function BEe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,p,v){if(g===p)return!0;if(g==null||p==null)return!1;var y=typeof g;if(y!==typeof p)return!1;if(y!=="object")return y==="number"?o(g,p,v):y==="function"?a(g,p,v):!1;var b=g.constructor;if(b!==p.constructor)return!1;if(b===Object)return l(g,p,v);if(LEe(g))return t(g,p,v);if(z3!=null&&z3(g))return f(g,p,v);if(b===Date)return r(g,p,v);if(b===RegExp)return u(g,p,v);if(b===Map)return s(g,p,v);if(b===Set)return d(g,p,v);var _=$Ee(g);return _===TEe?r(g,p,v):_===REe?u(g,p,v):_===PEe?s(g,p,v):_===FEe?d(g,p,v):_===DEe?typeof g.then!="function"&&typeof p.then!="function"&&l(g,p,v):_===IEe?h(g,p,v):_===AEe?n(g,p,v):_===CEe?l(g,p,v):_===EEe||_===OEe||_===MEe?c(g,p,v):!1}}function UEe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?f0:vEe,areDatesEqual:xEe,areErrorsEqual:yEe,areFunctionsEqual:bEe,areMapsEqual:n?M3(B3,f0):B3,areNumbersEqual:_Ee,areObjectsEqual:n?f0:wEe,arePrimitiveWrappersEqual:jEe,areRegExpsEqual:SEe,areSetsEqual:n?M3(U3,f0):U3,areTypedArraysEqual:n?f0:NEe,areUrlsEqual:kEe};if(r&&(a=V3({},a,r(a))),t){var s=yy(a.areArraysEqual),o=yy(a.areMapsEqual),l=yy(a.areObjectsEqual),c=yy(a.areSetsEqual);a=V3({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function zEe(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function VEe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var WEe=Yu();Yu({strict:!0});Yu({circular:!0});Yu({circular:!0,strict:!0});Yu({createInternalComparator:function(){return Tf}});Yu({strict:!0,createInternalComparator:function(){return Tf}});Yu({circular:!0,createInternalComparator:function(){return Tf}});Yu({circular:!0,createInternalComparator:function(){return Tf},strict:!0});function Yu(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=UEe(e),c=BEe(l),u=n?n(c):zEe(c);return VEe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function HEe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function W3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):HEe(a)};requestAnimationFrame(n)}function sC(e){"@babel/helpers - typeof";return sC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sC(e)}function qEe(e){return XEe(e)||YEe(e)||KEe(e)||GEe()}function GEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KEe(e,t){if(e){if(typeof e=="string")return H3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H3(e,t)}}function H3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XEe(e){if(Array.isArray(e))return e}function QEe(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=qEe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){W3(a.bind(null,u),c);return}a(c),W3(a.bind(null,u));return}sC(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function G3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q3(Object(r),!0).forEach(function(n){kW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kW(e,t,r){return t=JEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JEe(e){var t=ZEe(e,"string");return uv(t)==="symbol"?t:String(t)}function ZEe(e,t){if(uv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eTe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},tTe=function(t){return t},rTe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},J0=function(t,r){return Object.keys(r).reduce(function(n,a){return G3(G3({},n),{},kW({},a,t(a,r[a])))},{})},K3=function(t,r,n){return t.map(function(a){return"".concat(rTe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function nTe(e,t){return iTe(e)||sTe(e,t)||CW(e,t)||aTe()}function aTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function iTe(e){if(Array.isArray(e))return e}function oTe(e){return uTe(e)||cTe(e)||CW(e)||lTe()}function lTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CW(e,t){if(e){if(typeof e=="string")return iC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iC(e,t)}}function cTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uTe(e){if(Array.isArray(e))return iC(e)}function iC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cb=1e-4,EW=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},TW=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Y3=function(t,r){return function(n){var a=EW(t,r);return TW(a,n)}},dTe=function(t,r){return function(n){var a=EW(t,r),s=[].concat(oTe(a.map(function(o,l){return o*l}).slice(1)),[0]);return TW(s,n)}},X3=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=nTe(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=Y3(a,o),h=Y3(s,l),m=dTe(a,o),g=function(y){return y>1?1:y<0?0:y},p=function(y){for(var b=y>1?1:y,_=b,j=0;j<8;++j){var w=f(_)-b,S=m(_);if(Math.abs(w-b)<Cb||S<Cb)return h(_);_=g(_-w/S)}return h(_)};return p.isStepper=!1,p},fTe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*s,p=h+(m-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Cb&&Math.abs(p)<Cb?[f,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},hTe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return X3(a);case"spring":return fTe();default:if(a.split("(")[0]==="cubic-bezier")return X3(a)}return typeof a=="function"?a:null};function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}function Q3(e){return gTe(e)||pTe(e)||AW(e)||mTe()}function mTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gTe(e){if(Array.isArray(e))return lC(e)}function J3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(r),!0).forEach(function(n){oC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oC(e,t,r){return t=vTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vTe(e){var t=xTe(e,"string");return dv(t)==="symbol"?t:String(t)}function xTe(e,t){if(dv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yTe(e,t){return wTe(e)||_Te(e,t)||AW(e,t)||bTe()}function bTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AW(e,t){if(e){if(typeof e=="string")return lC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lC(e,t)}}function lC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _Te(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function wTe(e){if(Array.isArray(e))return e}var Eb=function(t,r,n){return t+(r-t)*n},cC=function(t){var r=t.from,n=t.to;return r!==n},jTe=function e(t,r,n){var a=J0(function(s,o){if(cC(o)){var l=t(o.from,o.to,o.velocity),c=yTe(l,2),u=c[0],d=c[1];return Jn(Jn({},o),{},{from:u,velocity:d})}return o},r);return n<1?J0(function(s,o){return cC(o)?Jn(Jn({},o),{},{velocity:Eb(o.velocity,a[s].velocity,n),from:Eb(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const STe=function(e,t,r,n,a){var s=eTe(e,t),o=s.reduce(function(v,y){return Jn(Jn({},v),{},oC({},y,[e[y],t[y]]))},{}),l=s.reduce(function(v,y){return Jn(Jn({},v),{},oC({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return J0(function(y,b){return b.from},l)},m=function(){return!Object.values(l).filter(cC).length},g=function(y){u||(u=y);var b=y-u,_=b/r.dt;l=jTe(r,l,_),a(Jn(Jn(Jn({},e),t),h())),u=y,m()||(c=requestAnimationFrame(f))},p=function(y){d||(d=y);var b=(y-d)/n,_=J0(function(w,S){return Eb.apply(void 0,Q3(S).concat([r(b)]))},o);if(a(Jn(Jn(Jn({},e),t),_)),b<1)c=requestAnimationFrame(f);else{var j=J0(function(w,S){return Eb.apply(void 0,Q3(S).concat([r(1)]))},o);a(Jn(Jn(Jn({},e),t),j))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}var NTe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function kTe(e,t){if(e==null)return{};var r=CTe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CTe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function QS(e){return PTe(e)||ATe(e)||TTe(e)||ETe()}function ETe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TTe(e,t){if(e){if(typeof e=="string")return uC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uC(e,t)}}function ATe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PTe(e){if(Array.isArray(e))return uC(e)}function uC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z3(Object(r),!0).forEach(function(n){T0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T0(e,t,r){return t=PW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PW(n.key),n)}}function RTe(e,t,r){return t&&DTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PW(e){var t=FTe(e,"string");return Am(t)==="symbol"?t:String(t)}function FTe(e,t){if(Am(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Am(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dC(e,t)}function dC(e,t){return dC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dC(e,t)}function ITe(e){var t=LTe();return function(){var n=Tb(e),a;if(t){var s=Tb(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return fC(this,a)}}function fC(e,t){if(t&&(Am(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hC(e)}function hC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tb(e){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tb(e)}var _l=function(e){MTe(r,e);var t=ITe(r);function r(n,a){var s;OTe(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(hC(s)),s.changeStyle=s.changeStyle.bind(hC(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),fC(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},fC(s);s.state={style:c?T0({},c,u):u}}else s.state={style:{}};return s}return RTe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var m={style:c?T0({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(WEe(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:a.to;if(this.state&&h){var v={style:c?T0({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(eo(eo({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=STe(o,l,hTe(u),c,this.changeStyle),g=function(){s.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,v,y){if(y===0)return p;var b=v.duration,_=v.easing,j=_===void 0?"ease":_,w=v.style,S=v.properties,N=v.onAnimationEnd,C=y>0?o[y-1]:v,k=S||Object.keys(w);if(typeof j=="function"||j==="spring")return[].concat(QS(p),[s.runJSAnimation.bind(s,{from:C.style,to:w,duration:b,easing:j}),b]);var E=K3(k,b,j),O=eo(eo(eo({},C.style),w),{},{transition:E});return[].concat(QS(p),[O,b,N]).filter(tTe)};return this.manager.start([c].concat(QS(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=QEe());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?T0({},l,c):c,v=K3(Object.keys(p),o,u);g.start([d,s,eo(eo({},p),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=kTe(a,NTe),u=x.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,y=g.className,b=x.cloneElement(m,eo(eo({},c),{},{style:eo(eo({},v),d),className:y}));return b};return u===1?f(x.Children.only(s)):ce.createElement("div",null,x.Children.map(s,function(h){return f(h)}))}}]),r}(x.PureComponent);_l.displayName="Animate";_l.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_l.propTypes={from:hr.oneOfType([hr.object,hr.string]),to:hr.oneOfType([hr.object,hr.string]),attributeName:hr.string,duration:hr.number,begin:hr.number,easing:hr.oneOfType([hr.string,hr.func]),steps:hr.arrayOf(hr.shape({duration:hr.number.isRequired,style:hr.object.isRequired,easing:hr.oneOfType([hr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),hr.func]),properties:hr.arrayOf("string"),onAnimationEnd:hr.func})),children:hr.oneOfType([hr.node,hr.func]),isActive:hr.bool,canBegin:hr.bool,onAnimationEnd:hr.func,shouldReAnimate:hr.bool,onAnimationStart:hr.func,onAnimationReStart:hr.func};function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(this,arguments)}function $Te(e,t){return VTe(e)||zTe(e,t)||UTe(e,t)||BTe()}function BTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UTe(e,t){if(e){if(typeof e=="string")return eI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eI(e,t)}}function eI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function VTe(e){if(Array.isArray(e))return e}function tI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(r),!0).forEach(function(n){WTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WTe(e,t,r){return t=HTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HTe(e){var t=qTe(e,"string");return fv(t)=="symbol"?t:t+""}function qTe(e,t){if(fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nI=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var g=Math.min(o,s);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},GTe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},KTe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tP=function(t){var r=rI(rI({},KTe),t),n=x.useRef(),a=x.useState(-1),s=$Te(a,2),o=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var _=Mt("recharts-rectangle",m);return b?ce.createElement(_l,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(j){var w=j.width,S=j.height,N=j.x,C=j.y;return ce.createElement(_l,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:y,easing:g},ce.createElement("path",Ab({},_t(r,!0),{className:_,d:nI(N,C,w,S,h),ref:n})))}):ce.createElement("path",Ab({},_t(r,!0),{className:_,d:nI(c,u,d,f,h)}))},YTe=["points","className","baseLinePoints","connectNulls"];function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wh.apply(this,arguments)}function XTe(e,t){if(e==null)return{};var r=QTe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aI(e){return tAe(e)||eAe(e)||ZTe(e)||JTe()}function JTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZTe(e,t){if(e){if(typeof e=="string")return mC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mC(e,t)}}function eAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tAe(e){if(Array.isArray(e))return mC(e)}function mC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sI=function(t){return t&&t.x===+t.x&&t.y===+t.y},rAe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){sI(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),sI(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Z0=function(t,r){var n=rAe(t);r&&(n=[n.reduce(function(s,o){return[].concat(aI(s),aI(o))},[])]);var a=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},nAe=function(t,r,n){var a=Z0(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Z0(r.reverse(),n).slice(1))},aAe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,o=XTe(t,YTe);if(!r||!r.length)return null;var l=Mt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=nAe(r,a,s);return ce.createElement("g",{className:l},ce.createElement("path",wh({},_t(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?ce.createElement("path",wh({},_t(o,!0),{fill:"none",d:Z0(r,s)})):null,c?ce.createElement("path",wh({},_t(o,!0),{fill:"none",d:Z0(a,s)})):null)}var d=Z0(r,s);return ce.createElement("path",wh({},_t(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function pC(){return pC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pC.apply(this,arguments)}var Vw=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=Mt("recharts-dot",s);return r===+r&&n===+n&&a===+a?x.createElement("circle",pC({},_t(t,!1),X1(t),{className:o,cx:r,cy:n,r:a})):null};function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}var sAe=["x","y","top","left","width","height","className"];function gC(){return gC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gC.apply(this,arguments)}function iI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iAe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(r),!0).forEach(function(n){oAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oAe(e,t,r){return t=lAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lAe(e){var t=cAe(e,"string");return hv(t)=="symbol"?t:t+""}function cAe(e,t){if(hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uAe(e,t){if(e==null)return{};var r=dAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fAe=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},hAe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=uAe(t,sAe),v=iAe({x:n,y:s,top:l,left:u,width:f,height:m},p);return!Ze(n)||!Ze(s)||!Ze(f)||!Ze(m)||!Ze(l)||!Ze(u)?null:ce.createElement("path",gC({},_t(v,!0),{className:Mt("recharts-cross",g),d:fAe(n,s,f,m,l,u)}))},mAe=Lw,pAe=VV,gAe=Al;function vAe(e,t){return e&&e.length?mAe(e,gAe(t),pAe):void 0}var xAe=vAe;const yAe=pr(xAe);var bAe=Lw,_Ae=Al,wAe=WV;function jAe(e,t){return e&&e.length?bAe(e,_Ae(t),wAe):void 0}var SAe=jAe;const NAe=pr(SAe);var kAe=["cx","cy","angle","ticks","axisLine"],CAe=["ticks","tick","angle","tickFormatter","stroke"];function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eg.apply(this,arguments)}function oI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(r),!0).forEach(function(n){Ww(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lI(e,t){if(e==null)return{};var r=EAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DW(n.key),n)}}function AAe(e,t,r){return t&&cI(e.prototype,t),r&&cI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PAe(e,t,r){return t=Pb(t),OAe(e,OW()?Reflect.construct(t,r||[],Pb(e).constructor):t.apply(e,r))}function OAe(e,t){if(t&&(Pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DAe(e)}function DAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OW=function(){return!!e})()}function Pb(e){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pb(e)}function RAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vC(e,t)}function vC(e,t){return vC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vC(e,t)}function Ww(e,t,r){return t=DW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DW(e){var t=FAe(e,"string");return Pm(t)=="symbol"?t:t+""}function FAe(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hw=function(e){function t(){return TAe(this,t),PAe(this,t,arguments)}return RAe(t,e),AAe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return Pr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=yAe(l,function(d){return d.coordinate||0}),u=NAe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=lI(n,kAe),d=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),f=Pr(a,s,d[0],o),h=Pr(a,s,d[1],o),m=rd(rd(rd({},_t(u,!1)),{},{fill:"none"},_t(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return ce.createElement("line",eg({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=lI(a,CAe),f=this.getTickTextAnchor(),h=_t(d,!1),m=_t(o,!1),g=s.map(function(p,v){var y=n.getTickValueCoord(p),b=rd(rd(rd(rd({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},y),{},{payload:p});return ce.createElement(or,eg({className:Mt("recharts-polar-radius-axis-tick",xW(o)),key:"tick-".concat(p.coordinate)},of(n.props,p,v)),t.renderTickItem(o,b,c?c(p.value,v):p.value))});return ce.createElement(or,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,o=n.tick;return!a||!a.length?null:ce.createElement(or,{className:Mt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Vn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return ce.isValidElement(n)?o=ce.cloneElement(n,a):Et(n)?o=n(a):o=ce.createElement(cf,eg({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(x.PureComponent);Ww(Hw,"displayName","PolarRadiusAxis");Ww(Hw,"axisType","radiusAxis");Ww(Hw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ud.apply(this,arguments)}function uI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(r),!0).forEach(function(n){qw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FW(n.key),n)}}function IAe(e,t,r){return t&&dI(e.prototype,t),r&&dI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LAe(e,t,r){return t=Ob(t),$Ae(e,RW()?Reflect.construct(t,r||[],Ob(e).constructor):t.apply(e,r))}function $Ae(e,t){if(t&&(Om(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BAe(e)}function BAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RW=function(){return!!e})()}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(e)}function UAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xC(e,t)}function xC(e,t){return xC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xC(e,t)}function qw(e,t,r){return t=FW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FW(e){var t=zAe(e,"string");return Om(t)=="symbol"?t:t+""}function zAe(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VAe=Math.PI/180,fI=1e-5,Gw=function(e){function t(){return MAe(this,t),LAe(this,t,arguments)}return UAe(t,e),IAe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Pr(s,o,l,n.coordinate),h=Pr(s,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*VAe),o;return s>fI?o=a==="outer"?"start":"end":s<-fI?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=nd(nd({},_t(this.props,!1)),{},{fill:"none"},_t(l,!1));if(c==="circle")return ce.createElement(Vw,ud({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return Pr(a,s,o,h.coordinate)});return ce.createElement(aAe,ud({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=_t(this.props,!1),f=_t(o,!1),h=nd(nd({},d),{},{fill:"none"},_t(l,!1)),m=s.map(function(g,p){var v=n.getTickLineCoord(g),y=n.getTickTextAnchor(g),b=nd(nd(nd({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:g,x:v.x2,y:v.y2});return ce.createElement(or,ud({className:Mt("recharts-polar-angle-axis-tick",xW(o)),key:"tick-".concat(g.coordinate)},of(n.props,g,p)),l&&ce.createElement("line",ud({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,b,c?c(g.value,p):g.value))});return ce.createElement(or,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!a||!a.length?null:ce.createElement(or,{className:Mt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var o;return ce.isValidElement(n)?o=ce.cloneElement(n,a):Et(n)?o=n(a):o=ce.createElement(cf,ud({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(x.PureComponent);qw(Gw,"displayName","PolarAngleAxis");qw(Gw,"axisType","angleAxis");qw(Gw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var WAe=$z,HAe=WAe(Object.getPrototypeOf,Object),qAe=HAe,GAe=Sc,KAe=qAe,YAe=Nc,XAe="[object Object]",QAe=Function.prototype,JAe=Object.prototype,MW=QAe.toString,ZAe=JAe.hasOwnProperty,ePe=MW.call(Object);function tPe(e){if(!YAe(e)||GAe(e)!=XAe)return!1;var t=KAe(e);if(t===null)return!0;var r=ZAe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&MW.call(r)==ePe}var rPe=tPe;const nPe=pr(rPe);var aPe=Sc,sPe=Nc,iPe="[object Boolean]";function oPe(e){return e===!0||e===!1||sPe(e)&&aPe(e)==iPe}var lPe=oPe;const cPe=pr(lPe);function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Db.apply(this,arguments)}function uPe(e,t){return mPe(e)||hPe(e,t)||fPe(e,t)||dPe()}function dPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fPe(e,t){if(e){if(typeof e=="string")return hI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hI(e,t)}}function hI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function mPe(e){if(Array.isArray(e))return e}function mI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(r),!0).forEach(function(n){pPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pPe(e,t,r){return t=gPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gPe(e){var t=vPe(e,"string");return mv(t)=="symbol"?t:t+""}function vPe(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gI=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},xPe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yPe=function(t){var r=pI(pI({},xPe),t),n=x.useRef(),a=x.useState(-1),s=uPe(a,2),o=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Mt("recharts-trapezoid",m);return y?ce.createElement(_l,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:y},function(_){var j=_.upperWidth,w=_.lowerWidth,S=_.height,N=_.x,C=_.y;return ce.createElement(_l,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},ce.createElement("path",Db({},_t(r,!0),{className:b,d:gI(N,C,j,w,S),ref:n})))}):ce.createElement("g",null,ce.createElement("path",Db({},_t(r,!0),{className:b,d:gI(c,u,d,f,h)})))},bPe=["option","shapeType","propTransformer","activeClassName","isActive"];function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function _Pe(e,t){if(e==null)return{};var r=wPe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(r),!0).forEach(function(n){jPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jPe(e,t,r){return t=SPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SPe(e){var t=NPe(e,"string");return pv(t)=="symbol"?t:t+""}function NPe(e,t){if(pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kPe(e,t){return Rb(Rb({},t),e)}function CPe(e,t){return e==="symbols"}function xI(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ce.createElement(tP,r);case"trapezoid":return ce.createElement(yPe,r);case"sector":return ce.createElement(_W,r);case"symbols":if(CPe(t))return ce.createElement(bA,r);break;default:return null}}function EPe(e){return x.isValidElement(e)?e.props:e}function IW(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?kPe:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=_Pe(e,bPe),u;if(x.isValidElement(t))u=x.cloneElement(t,Rb(Rb({},c),EPe(t)));else if(Et(t))u=t(c);else if(nPe(t)&&!cPe(t)){var d=a(t,c);u=ce.createElement(xI,{shapeType:r,elementProps:d})}else{var f=c;u=ce.createElement(xI,{shapeType:r,elementProps:f})}return l?ce.createElement(or,{className:o},u):u}function Kw(e,t){return t!=null&&"trapezoids"in e.props}function Yw(e,t){return t!=null&&"sectors"in e.props}function gv(e,t){return t!=null&&"points"in e.props}function TPe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function APe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function PPe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function OPe(e,t){var r;return Kw(e,t)?r=TPe:Yw(e,t)?r=APe:gv(e,t)&&(r=PPe),r}function DPe(e,t){var r;return Kw(e,t)?r="trapezoids":Yw(e,t)?r="sectors":gv(e,t)&&(r="points"),r}function RPe(e,t){if(Kw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Yw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return gv(e,t)?t.payload:{}}function FPe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=DPe(r,t),s=RPe(r,t),o=n.filter(function(c,u){var d=ux(s,c),f=r.props[a].filter(function(g){var p=OPe(r,t);return p(g,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var e1;function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jh.apply(this,arguments)}function yI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(r),!0).forEach(function(n){Di(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$W(n.key),n)}}function IPe(e,t,r){return t&&bI(e.prototype,t),r&&bI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LPe(e,t,r){return t=Fb(t),$Pe(e,LW()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function $Pe(e,t){if(t&&(Dm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BPe(e)}function BPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LW=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function UPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yC(e,t)}function yC(e,t){return yC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yC(e,t)}function Di(e,t,r){return t=$W(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $W(e){var t=zPe(e,"string");return Dm(t)=="symbol"?t:t+""}function zPe(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rs=function(e){function t(r){var n;return MPe(this,t),n=LPe(this,t,[r]),Di(n,"pieRef",null),Di(n,"sectorRefs",[]),Di(n,"id",Sp("recharts-pie-")),Di(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Et(a)&&a()}),Di(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Et(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return UPe(t,e),IPe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=_t(this.props,!1),f=_t(o,!1),h=_t(l,!1),m=o&&o.offsetRadius||20,g=n.map(function(p,v){var y=(p.startAngle+p.endAngle)/2,b=Pr(p.cx,p.cy,p.outerRadius+m,y),_=Er(Er(Er(Er({},d),p),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,p.cx)},b),j=Er(Er(Er(Er({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:v,points:[Pr(p.cx,p.cy,p.outerRadius,y),b]}),w=c;return Ft(c)&&Ft(u)?w="value":Ft(c)&&(w=u),ce.createElement(or,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,_,On(p,w)))});return ce.createElement(or,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,g=Er(Er({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ce.createElement(or,jh({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},of(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ce.createElement(IW,jh({option:m,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return ce.createElement(_l,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,v=[],y=s&&s[0],b=y.startAngle;return s.forEach(function(_,j){var w=h&&h[j],S=j>0?oi(_,"paddingAngle",0):0;if(w){var N=ei(w.endAngle-w.startAngle,_.endAngle-_.startAngle),C=Er(Er({},_),{},{startAngle:b+S,endAngle:b+N(p)+S});v.push(C),b=C.endAngle}else{var k=_.endAngle,E=_.startAngle,O=ei(0,k-E),T=O(p),U=Er(Er({},_),{},{startAngle:b+S,endAngle:b+T+S});v.push(U),b=U.endAngle}}),ce.createElement(or,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!ux(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,g=this.state.isAnimationFinished;if(s||!o||!o.length||!Ze(u)||!Ze(d)||!Ze(f)||!Ze(h))return null;var p=Mt("recharts-pie",l);return ce.createElement(or,{tabIndex:this.props.rootTabIndex,className:p,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),Vn.renderCallByParent(this.props,null,!1),(!m||g)&&sc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(ce.isValidElement(n))return ce.cloneElement(n,a);if(Et(n))return n(a);var o=Mt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ce.createElement(kb,jh({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,s){if(ce.isValidElement(n))return ce.cloneElement(n,a);var o=s;if(Et(n)&&(o=n(a),ce.isValidElement(o)))return o;var l=Mt("recharts-pie-label-text",typeof n!="boolean"&&!Et(n)?n.className:"");return ce.createElement(cf,jh({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(x.PureComponent);e1=rs;Di(rs,"displayName","Pie");Di(rs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!fl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Di(rs,"parseDeltaAngle",function(e,t){var r=is(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Di(rs,"getRealPieData",function(e){var t=e.data,r=e.children,n=_t(e,!1),a=li(r,rl);return t&&t.length?t.map(function(s,o){return Er(Er(Er({payload:s},n),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return Er(Er({},n),s.props)}):[]});Di(rs,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,o=vW(a,s),l=n+os(e.cx,a,a/2),c=r+os(e.cy,s,s/2),u=os(e.innerRadius,o,0),d=os(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Di(rs,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Er(Er({},t.type.defaultProps),t.props):t.props,a=e1.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),g=e1.parseCoordinateOfPie(n,r),p=e1.parseDeltaAngle(o,l),v=Math.abs(p),y=u;Ft(u)&&Ft(f)?(So(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Ft(u)&&(So(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var b=a.filter(function(C){return On(C,y,0)!==0}).length,_=(v>=360?b:b-1)*c,j=v-b*m-_,w=a.reduce(function(C,k){var E=On(k,y,0);return C+(Ze(E)?E:0)},0),S;if(w>0){var N;S=a.map(function(C,k){var E=On(C,y,0),O=On(C,d,k),T=(Ze(E)?E:0)/w,U;k?U=N.endAngle+is(p)*c*(E!==0?1:0):U=o;var W=U+is(p)*((E!==0?m:0)+T*j),R=(U+W)/2,z=(g.innerRadius+g.outerRadius)/2,P=[{name:O,value:E,payload:C,dataKey:y,type:h}],M=Pr(g.cx,g.cy,z,R);return N=Er(Er(Er({percent:T,cornerRadius:s,name:O,tooltipPayload:P,midAngle:R,middleRadius:z,tooltipPosition:M},C),g),{},{value:On(C,y),startAngle:U,endAngle:W,payload:C,paddingAngle:is(p)*c}),N})}return Er(Er({},g),{},{sectors:S,data:a})});var VPe=Math.ceil,WPe=Math.max;function HPe(e,t,r,n){for(var a=-1,s=WPe(VPe((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var qPe=HPe,GPe=aV,_I=1/0,KPe=17976931348623157e292;function YPe(e){if(!e)return e===0?e:0;if(e=GPe(e),e===_I||e===-_I){var t=e<0?-1:1;return t*KPe}return e===e?e:0}var BW=YPe,XPe=qPe,QPe=Pw,JS=BW;function JPe(e){return function(t,r,n){return n&&typeof n!="number"&&QPe(t,r,n)&&(r=n=void 0),t=JS(t),r===void 0?(r=t,t=0):r=JS(r),n=n===void 0?t<r?1:-1:JS(n),XPe(t,r,n,e)}}var ZPe=JPe,eOe=ZPe,tOe=eOe(),rOe=tOe;const Mb=pr(rOe);function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}function wI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(r),!0).forEach(function(n){UW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UW(e,t,r){return t=nOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nOe(e){var t=aOe(e,"string");return vv(t)=="symbol"?t:t+""}function aOe(e,t){if(vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sOe=["Webkit","Moz","O","ms"],iOe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=sOe.reduce(function(s,o){return jI(jI({},s),{},UW({},o+n,r))},{});return a[t]=r,a};function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ib.apply(this,arguments)}function SI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(r),!0).forEach(function(n){Ys(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VW(n.key),n)}}function lOe(e,t,r){return t&&NI(e.prototype,t),r&&NI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cOe(e,t,r){return t=Lb(t),uOe(e,zW()?Reflect.construct(t,r||[],Lb(e).constructor):t.apply(e,r))}function uOe(e,t){if(t&&(Rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dOe(e)}function dOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zW=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(e)}function fOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bC(e,t)}function bC(e,t){return bC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bC(e,t)}function Ys(e,t,r){return t=VW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VW(e){var t=hOe(e,"string");return Rm(t)=="symbol"?t:t+""}function hOe(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mOe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=X0().domain(Mb(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},kI=function(t){return t.changedTouches&&!!t.changedTouches.length},Fm=function(e){function t(r){var n;return oOe(this,t),n=cOe(this,t,[r]),Ys(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ys(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ys(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Ys(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ys(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ys(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ys(n,"handleSlideDragStart",function(a){var s=kI(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return fOe(t,e),lOe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=On(s[n],l,n);return Et(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-s;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=kI(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-s;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),y[o]=u+b;var _=this.getIndex(y),j=_.startIndex,w=_.endIndex,S=function(){var C=v.length-1;return o==="startX"&&(l>c?j%p===0:w%p===0)||l<c&&w===C||o==="endX"&&(l>c?w%p===0:j%p===0)||l>c&&w===C};this.setState(Ys(Ys({},o,u+b),"brushMoveStartX",n.pageX),function(){g&&S()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Ys({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return ce.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?ce.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,y=Math.max(n,this.props.x),b=ZS(ZS({},_t(this.props,!1)),{},{x:y,y:u,width:d,height:f}),_=m||"Min value: ".concat((s=g[p])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return ce.createElement(or,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return ce.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return ce.createElement(or,{className:"recharts-brush-texts"},ce.createElement(cf,Ib({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(a)),ce.createElement(cf,Ib({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Ze(l)||!Ze(c)||!Ze(u)||!Ze(d)||u<=0||d<=0)return null;var _=Mt("recharts-brush",s),j=ce.Children.count(o)===1,w=iOe("userSelect","none");return ce.createElement(or,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return ce.createElement(ce.Fragment,null,ce.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),ce.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),ce.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return ce.isValidElement(n)?s=ce.cloneElement(n,a):Et(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return ZS({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?mOe({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(x.PureComponent);Ys(Fm,"displayName","Brush");Ys(Fm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var pOe=CA;function gOe(e,t){var r;return pOe(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var vOe=gOe,xOe=Pz,yOe=Al,bOe=vOe,_Oe=zs,wOe=Pw;function jOe(e,t,r){var n=_Oe(e)?xOe:bOe;return r&&wOe(e,t,r)&&(t=void 0),n(e,yOe(t))}var SOe=jOe;const NOe=pr(SOe);var ml=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},CI=Zz;function kOe(e,t,r){t=="__proto__"&&CI?CI(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var COe=kOe,EOe=COe,TOe=Qz,AOe=Al;function POe(e,t){var r={};return t=AOe(t),TOe(e,function(n,a,s){EOe(r,a,t(n,a,s))}),r}var OOe=POe;const DOe=pr(OOe);function ROe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var FOe=ROe,MOe=CA;function IOe(e,t){var r=!0;return MOe(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var LOe=IOe,$Oe=FOe,BOe=LOe,UOe=Al,zOe=zs,VOe=Pw;function WOe(e,t,r){var n=zOe(e)?$Oe:BOe;return r&&VOe(e,t,r)&&(t=void 0),n(e,UOe(t))}var HOe=WOe;const WW=pr(HOe);var qOe=["x","y"];function xv(e){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xv(e)}function _C(){return _C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_C.apply(this,arguments)}function EI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function h0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(r),!0).forEach(function(n){GOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GOe(e,t,r){return t=KOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KOe(e){var t=YOe(e,"string");return xv(t)=="symbol"?t:t+""}function YOe(e,t){if(xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XOe(e,t){if(e==null)return{};var r=QOe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JOe(e,t){var r=e.x,n=e.y,a=XOe(e,qOe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return h0(h0(h0(h0(h0({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function TI(e){return ce.createElement(IW,_C({shapeType:"rectangle",propTransformer:JOe,activeClassName:"recharts-active-bar"},e))}var ZOe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=Ze(n)||Sme(n);return s?t(n,a):(s||df(),r)}},e4e=["value","background"],HW;function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function t4e(e,t){if(e==null)return{};var r=r4e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$b.apply(this,arguments)}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){cu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GW(n.key),n)}}function a4e(e,t,r){return t&&PI(e.prototype,t),r&&PI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s4e(e,t,r){return t=Bb(t),i4e(e,qW()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function i4e(e,t){if(t&&(Mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o4e(e)}function o4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qW=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function l4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wC(e,t)}function wC(e,t){return wC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wC(e,t)}function cu(e,t,r){return t=GW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GW(e){var t=c4e(e,"string");return Mm(t)=="symbol"?t:t+""}function c4e(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pi=function(e){function t(){var r;n4e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=s4e(this,t,[].concat(a)),cu(r,"state",{isAnimationFinished:!1}),cu(r,"id",Sp("recharts-bar-")),cu(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),cu(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return l4e(t,e),a4e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=_t(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=vn(vn(vn({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ce.createElement(or,$b({className:"recharts-bar-rectangle"},of(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),ce.createElement(TI,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return ce.createElement(_l,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=s.map(function(v,y){var b=h&&h[y];if(b){var _=ei(b.x,v.x),j=ei(b.y,v.y),w=ei(b.width,v.width),S=ei(b.height,v.height);return vn(vn({},v),{},{x:_(g),y:j(g),width:w(g),height:S(g)})}if(o==="horizontal"){var N=ei(0,v.height),C=N(g);return vn(vn({},v),{},{y:v.y+v.height-C,height:C})}var k=ei(0,v.width),E=k(g);return vn(vn({},v),{},{width:E})});return ce.createElement(or,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!ux(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=_t(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=t4e(u,e4e);if(!f)return null;var m=vn(vn(vn(vn(vn({},h),{},{fill:"#eee"},f),c),of(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ce.createElement(TI,$b({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=li(d,dx);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:On(v,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ce.createElement(or,g,f.map(function(p){return ce.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,y=Mt("recharts-bar",o),b=l&&l.allowDataOverflow,_=c&&c.allowDataOverflow,j=b||_,w=Ft(p)?this.id:p;return ce.createElement(or,{className:y},b||_?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(w)},ce.createElement("rect",{x:b?u:u-f/2,y:_?d:d-h/2,width:b?f:f*2,height:_?h:h*2}))):null,ce.createElement(or,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,w),(!m||v)&&sc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(x.PureComponent);HW=Pi;cu(Pi,"displayName","Bar");cu(Pi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});cu(Pi,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=Vke(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,v=p!==void 0?vn(vn({},p),r.props):r.props,y=v.dataKey,b=v.children,_=v.minPointSize,j=g==="horizontal"?o:s,w=u?j.scale.domain():null,S=Xke({numericAxis:j}),N=li(b,rl),C=f.map(function(k,E){var O,T,U,W,R,z;u?O=Wke(u[d+E],w):(O=On(k,y),Array.isArray(O)||(O=[S,O]));var P=ZOe(_,HW.defaultProps.minPointSize)(O[1],E);if(g==="horizontal"){var M,I=[o.scale(O[0]),o.scale(O[1])],q=I[0],J=I[1];T=b3({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:k,index:E}),U=(M=J??q)!==null&&M!==void 0?M:void 0,W=m.size;var A=q-J;if(R=Number.isNaN(A)?0:A,z={x:T,y:o.y,width:W,height:o.height},Math.abs(P)>0&&Math.abs(R)<Math.abs(P)){var B=is(R||P)*(Math.abs(P)-Math.abs(R));U-=B,R+=B}}else{var G=[s.scale(O[0]),s.scale(O[1])],H=G[0],ee=G[1];if(T=H,U=b3({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:k,index:E}),W=ee-H,R=m.size,z={x:s.x,y:U,width:s.width,height:R},Math.abs(P)>0&&Math.abs(W)<Math.abs(P)){var ue=is(W||P)*(Math.abs(P)-Math.abs(W));W+=ue}}return vn(vn(vn({},k),{},{x:T,y:U,width:W,height:R,value:u?O:O[1],payload:k,background:z},N&&N[E]&&N[E].props),{},{tooltipPayload:[pW(r,k)],tooltipPosition:{x:T+W/2,y:U+R/2}})});return vn({data:C,layout:g},h)});function yv(e){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(e)}function u4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KW(n.key),n)}}function d4e(e,t,r){return t&&OI(e.prototype,t),r&&OI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(r),!0).forEach(function(n){Xw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xw(e,t,r){return t=KW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KW(e){var t=f4e(e,"string");return yv(t)=="symbol"?t:t+""}function f4e(e,t){if(yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YW=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Qs(u,Pi);return d.reduce(function(m,g){var p=r[g],v=p.orientation,y=p.domain,b=p.padding,_=b===void 0?{}:b,j=p.mirror,w=p.reversed,S="".concat(v).concat(j?"Mirror":""),N,C,k,E,O;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var T=y[1]-y[0],U=1/0,W=p.categoricalDomain.sort(Cme);if(W.forEach(function(G,H){H>0&&(U=Math.min((G||0)-(W[H-1]||0),U))}),Number.isFinite(U)){var R=U/T,z=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(N=R*z/2),p.padding==="no-gap"){var P=os(t.barCategoryGap,R*z),M=R*z/2;N=M-P-(M-P)/z*P}}}a==="xAxis"?C=[n.left+(_.left||0)+(N||0),n.left+n.width-(_.right||0)-(N||0)]:a==="yAxis"?C=c==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(N||0),n.top+n.height-(_.bottom||0)-(N||0)]:C=p.range,w&&(C=[C[1],C[0]]);var I=dW(p,s,h),q=I.scale,J=I.realScaleType;q.domain(y).range(C),fW(q);var A=hW(q,uo(uo({},p),{},{realScaleType:J}));a==="xAxis"?(O=v==="top"&&!j||v==="bottom"&&j,k=n.left,E=f[S]-O*p.height):a==="yAxis"&&(O=v==="left"&&!j||v==="right"&&j,k=f[S]-O*p.width,E=n.top);var B=uo(uo(uo({},p),A),{},{realScaleType:J,x:k,y:E,scale:q,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return B.bandSize=jb(B,A),!p.hide&&a==="xAxis"?f[S]+=(O?-1:1)*B.height:p.hide||(f[S]+=(O?-1:1)*B.width),uo(uo({},m),{},Xw({},g,B))},{})},XW=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},h4e=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return XW({x:r,y:n},{x:a,y:s})},QW=function(){function e(t){u4e(this,e),this.scale=t}return d4e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Xw(QW,"EPS",1e-4);var rP=function(t){var r=Object.keys(t).reduce(function(n,a){return uo(uo({},n),{},Xw({},a,QW.create(t[a])))},{});return uo(uo({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return DOe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return WW(a,function(s,o){return r[o].isInRange(s)})}})};function m4e(e){return(e%180+180)%180}var p4e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=m4e(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},g4e=Al,v4e=sx,x4e=Tw;function y4e(e){return function(t,r,n){var a=Object(t);if(!v4e(t)){var s=g4e(r);t=x4e(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var b4e=y4e,_4e=BW;function w4e(e){var t=_4e(e),r=t%1;return t===t?r?t-r:t:0}var j4e=w4e,S4e=Hz,N4e=Al,k4e=j4e,C4e=Math.max;function E4e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:k4e(r);return a<0&&(a=C4e(n+a,0)),S4e(e,N4e(t),a)}var T4e=E4e,A4e=b4e,P4e=T4e,O4e=A4e(P4e),D4e=O4e;const R4e=pr(D4e);var F4e=Ehe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),nP=x.createContext(void 0),aP=x.createContext(void 0),JW=x.createContext(void 0),ZW=x.createContext({}),eH=x.createContext(void 0),tH=x.createContext(0),rH=x.createContext(0),RI=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=F4e(s);return ce.createElement(nP.Provider,{value:n},ce.createElement(aP.Provider,{value:a},ce.createElement(ZW.Provider,{value:s},ce.createElement(JW.Provider,{value:d},ce.createElement(eH.Provider,{value:o},ce.createElement(tH.Provider,{value:u},ce.createElement(rH.Provider,{value:c},l)))))))},M4e=function(){return x.useContext(eH)},nH=function(t){var r=x.useContext(nP);r==null&&df();var n=r[t];return n==null&&df(),n},I4e=function(){var t=x.useContext(nP);return Gc(t)},L4e=function(){var t=x.useContext(aP),r=R4e(t,function(n){return WW(n.domain,Number.isFinite)});return r||Gc(t)},aH=function(t){var r=x.useContext(aP);r==null&&df();var n=r[t];return n==null&&df(),n},$4e=function(){var t=x.useContext(JW);return t},B4e=function(){return x.useContext(ZW)},sP=function(){return x.useContext(rH)},iP=function(){return x.useContext(tH)};function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function U4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iH(n.key),n)}}function V4e(e,t,r){return t&&z4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function W4e(e,t,r){return t=Ub(t),H4e(e,sH()?Reflect.construct(t,r||[],Ub(e).constructor):t.apply(e,r))}function H4e(e,t){if(t&&(Im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q4e(e)}function q4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sH=function(){return!!e})()}function Ub(e){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ub(e)}function G4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jC(e,t)}function jC(e,t){return jC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jC(e,t)}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(n){oP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oP(e,t,r){return t=iH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iH(e){var t=K4e(e,"string");return Im(t)=="symbol"?t:t+""}function K4e(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y4e(e,t){return Z4e(e)||J4e(e,t)||Q4e(e,t)||X4e()}function X4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q4e(e,t){if(e){if(typeof e=="string")return II(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return II(e,t)}}function II(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Z4e(e){if(Array.isArray(e))return e}function SC(){return SC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SC.apply(this,arguments)}var eDe=function(t,r){var n;return ce.isValidElement(t)?n=ce.cloneElement(t,r):Et(t)?n=t(r):n=ce.createElement("line",SC({},r,{className:"recharts-reference-line-line"})),n},tDe=function(t,r,n,a,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(ml(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var y=u.x,b=t.x.apply(y,{position:o});if(ml(u,"discard")&&!t.x.isInRange(b))return null;var _=[{x:b,y:f+m},{x:b,y:f}];return l==="top"?_.reverse():_}if(a){var j=u.segment,w=j.map(function(S){return t.apply(S,{position:o})});return ml(u,"discard")&&NOe(w,function(S){return!t.isInRange(S)})?null:w}return null};function rDe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=M4e(),d=nH(a),f=aH(s),h=$4e();if(!u||!h)return null;So(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=rP({x:d.scale,y:f.scale}),g=Rn(t),p=Rn(r),v=n&&n.length===2,y=tDe(m,g,p,v,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var b=Y4e(y,2),_=b[0],j=_.x,w=_.y,S=b[1],N=S.x,C=S.y,k=ml(e,"hidden")?"url(#".concat(u,")"):void 0,E=MI(MI({clipPath:k},_t(e,!0)),{},{x1:j,y1:w,x2:N,y2:C});return ce.createElement(or,{className:Mt("recharts-reference-line",l)},eDe(o,E),Vn.renderCallByParent(e,h4e({x1:j,y1:w,x2:N,y2:C})))}var lP=function(e){function t(){return U4e(this,t),W4e(this,t,arguments)}return G4e(t,e),V4e(t,[{key:"render",value:function(){return ce.createElement(rDe,this.props)}}])}(ce.Component);oP(lP,"displayName","ReferenceLine");oP(lP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function NC(){return NC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NC.apply(this,arguments)}function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function LI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(r),!0).forEach(function(n){Qw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lH(n.key),n)}}function sDe(e,t,r){return t&&aDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iDe(e,t,r){return t=zb(t),oDe(e,oH()?Reflect.construct(t,r||[],zb(e).constructor):t.apply(e,r))}function oDe(e,t){if(t&&(Lm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lDe(e)}function lDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oH=function(){return!!e})()}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zb(e)}function cDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kC(e,t)}function kC(e,t){return kC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kC(e,t)}function Qw(e,t,r){return t=lH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lH(e){var t=uDe(e,"string");return Lm(t)=="symbol"?t:t+""}function uDe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dDe=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=rP({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ml(t,"discard")&&!o.isInRange(l)?null:l},Jw=function(e){function t(){return nDe(this,t),iDe(this,t,arguments)}return cDe(t,e),sDe(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Rn(a),d=Rn(s);if(So(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=dDe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,v=g.className,y=ml(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=$I($I({clipPath:y},_t(this.props,!0)),{},{cx:h,cy:m});return ce.createElement(or,{className:Mt("recharts-reference-dot",v)},t.renderDot(p,b),Vn.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(ce.Component);Qw(Jw,"displayName","ReferenceDot");Qw(Jw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Qw(Jw,"renderDot",function(e,t){var r;return ce.isValidElement(e)?r=ce.cloneElement(e,t):Et(e)?r=e(t):r=ce.createElement(Vw,NC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function CC(){return CC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CC.apply(this,arguments)}function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function BI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BI(Object(r),!0).forEach(function(n){Zw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uH(n.key),n)}}function mDe(e,t,r){return t&&hDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pDe(e,t,r){return t=Vb(t),gDe(e,cH()?Reflect.construct(t,r||[],Vb(e).constructor):t.apply(e,r))}function gDe(e,t){if(t&&($m(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vDe(e)}function vDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vb(e)}function xDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EC(e,t)}function EC(e,t){return EC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EC(e,t)}function Zw(e,t,r){return t=uH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uH(e){var t=yDe(e,"string");return $m(t)=="symbol"?t:t+""}function yDe(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bDe=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=rP({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ml(s,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:XW(m,g)},ej=function(e){function t(){return fDe(this,t),pDe(this,t,arguments)}return xDe(t,e),mDe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;So(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Rn(a),h=Rn(s),m=Rn(o),g=Rn(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var v=bDe(f,h,m,g,this.props);if(!v&&!p)return null;var y=ml(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ce.createElement(or,{className:Mt("recharts-reference-area",c)},t.renderRect(p,UI(UI({clipPath:y},_t(this.props,!0)),v)),Vn.renderCallByParent(this.props,v))}}])}(ce.Component);Zw(ej,"displayName","ReferenceArea");Zw(ej,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Zw(ej,"renderRect",function(e,t){var r;return ce.isValidElement(e)?r=ce.cloneElement(e,t):Et(e)?r=e(t):r=ce.createElement(tP,CC({},t,{className:"recharts-reference-area-rect"})),r});function dH(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function _De(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return p4e(n,r)}function wDe(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function Wb(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function jDe(e,t){return dH(e,t+1)}function SDe(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:dH(n,u)};var p=c,v,y=function(){return v===void 0&&(v=r(g,p)),v},b=g.coordinate,_=c===0||Wb(e,b,y,d,l);_||(c=0,d=o,u+=1),_&&(d=b+e*(y()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function bv(e){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(e)}function zI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zI(Object(r),!0).forEach(function(n){NDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NDe(e,t,r){return t=kDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kDe(e){var t=CDe(e,"string");return bv(t)=="symbol"?t:t+""}function CDe(e,t){if(bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EDe(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var v=e*(m.coordinate+e*p()/2-c);s[h]=m=xa(xa({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=xa(xa({},m),{},{tickCoord:m.coordinate});var y=Wb(e,m.tickCoord,p,l,c);y&&(c=m.tickCoord-e*(p()/2+a),s[h]=xa(xa({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function TDe(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=xa(xa({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Wb(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=xa(xa({},d),{},{isShow:!0}))}for(var g=s?l-1:l,p=function(b){var _=o[b],j,w=function(){return j===void 0&&(j=r(_,b)),j};if(b===0){var S=e*(_.coordinate-e*w()/2-c);o[b]=_=xa(xa({},_),{},{tickCoord:S<0?_.coordinate-S*e:_.coordinate})}else o[b]=_=xa(xa({},_),{},{tickCoord:_.coordinate});var N=Wb(e,_.tickCoord,w,c,u);N&&(c=_.tickCoord+e*(w()/2+a),o[b]=xa(xa({},_),{},{isShow:!0}))},v=0;v<g;v++)p(v);return o}function cP(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Ze(c)||fl.isSsr)return jDe(a,typeof c=="number"&&Ze(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?Y0(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(_,j){var w=Et(u)?u(_.value,j):_.value;return m==="width"?_De(Y0(w,{fontSize:t,letterSpacing:r}),g,f):Y0(w,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?is(a[1].coordinate-a[0].coordinate):1,y=wDe(s,v,m);return c==="equidistantPreserveStart"?SDe(v,y,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=TDe(v,y,p,a,o,c==="preserveStartEnd"):h=EDe(v,y,p,a,o),h.filter(function(b){return b.isShow}))}var ADe=["viewBox"],PDe=["viewBox"],ODe=["ticks"];function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(this,arguments)}function VI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(r),!0).forEach(function(n){uP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eN(e,t){if(e==null)return{};var r=DDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hH(n.key),n)}}function FDe(e,t,r){return t&&WI(e.prototype,t),r&&WI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MDe(e,t,r){return t=Hb(t),IDe(e,fH()?Reflect.construct(t,r||[],Hb(e).constructor):t.apply(e,r))}function IDe(e,t){if(t&&(Bm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LDe(e)}function LDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fH=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hb(e)}function $De(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TC(e,t)}function TC(e,t){return TC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TC(e,t)}function uP(e,t,r){return t=hH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hH(e){var t=BDe(e,"string");return Bm(t)=="symbol"?t:t+""}function BDe(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pp=function(e){function t(r){var n;return RDe(this,t),n=MDe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return $De(t,e),FDe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=eN(n,ADe),l=this.props,c=l.viewBox,u=eN(l,PDe);return!Lh(s,c)||!Lh(o,u)||!Lh(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,g,p,v,y,b,_=f?-1:1,j=n.tickSize||d,w=Ze(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,v=o+ +!f*c,p=v-_*j,b=p-_*h,y=w;break;case"left":p=v=n.coordinate,g=s+ +!f*l,m=g-_*j,y=m-_*h,b=w;break;case"right":p=v=n.coordinate,g=s+ +f*l,m=g+_*j,y=m+_*h,b=w;break;default:m=g=n.coordinate,v=o+ +f*c,p=v+_*j,b=p+_*h,y=w;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Cn(Cn(Cn({},_t(this.props,!1)),_t(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Cn(Cn({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Cn(Cn({},f),{},{x1:a+m*o,y1:s,x2:a+m*o,y2:s+l})}return ce.createElement("line",Sh({},f,{className:Mt("recharts-cartesian-axis-line",oi(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=cP(Cn(Cn({},this.props),{},{ticks:n}),a,s),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=_t(this.props,!1),y=_t(d,!1),b=Cn(Cn({},v),{},{fill:"none"},_t(c,!1)),_=m.map(function(j,w){var S=o.getTickLineCoord(j),N=S.line,C=S.tick,k=Cn(Cn(Cn(Cn({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},y),C),{},{index:w,payload:j,visibleTicksCount:m.length,tickFormatter:f});return ce.createElement(or,Sh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},of(o.props,j,w)),c&&ce.createElement("line",Sh({},b,N,{className:Mt("recharts-cartesian-axis-tick-line",oi(c,"className"))})),d&&t.renderTickItem(d,k,"".concat(Et(f)?f(j.value,w):j.value).concat(h||"")))});return ce.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=eN(f,ODe),g=h;return Et(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:ce.createElement(or,{className:Mt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Vn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o,l=Mt(a.className,"recharts-cartesian-axis-tick-value");return ce.isValidElement(n)?o=ce.cloneElement(n,Cn(Cn({},a),{},{className:l})):Et(n)?o=n(Cn(Cn({},a),{},{className:l})):o=ce.createElement(cf,Sh({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(x.Component);uP(Pp,"displayName","CartesianAxis");uP(Pp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var UDe=["x1","y1","x2","y2","key"],zDe=["offset"];function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function HI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(r),!0).forEach(function(n){VDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VDe(e,t,r){return t=WDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WDe(e){var t=HDe(e,"string");return ff(t)=="symbol"?t:t+""}function HDe(e,t){if(ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wd.apply(this,arguments)}function qI(e,t){if(e==null)return{};var r=qDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var GDe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return ce.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function mH(e,t){var r;if(ce.isValidElement(e))r=ce.cloneElement(e,t);else if(Et(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=qI(t,UDe),u=_t(c,!1);u.offset;var d=qI(u,zDe);r=ce.createElement("line",wd({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function KDe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=wa(wa({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return mH(a,u)});return ce.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function YDe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=wa(wa({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return mH(a,u)});return ce.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function XDe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+o-h:d[m+1]-h;if(p<=0)return null;var v=m%t.length;return ce.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ce.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function QDe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+l-h:d[m+1]-h;if(p<=0)return null;var v=m%n.length;return ce.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ce.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var JDe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return uW(cP(wa(wa(wa({},Pp.defaultProps),n),{},{ticks:Zl(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},ZDe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return uW(cP(wa(wa(wa({},Pp.defaultProps),n),{},{ticks:Zl(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},Kf={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function hf(e){var t,r,n,a,s,o,l=sP(),c=iP(),u=B4e(),d=wa(wa({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Kf.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Kf.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Kf.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Kf.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Kf.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Kf.verticalFill,x:Ze(e.x)?e.x:u.left,y:Ze(e.y)?e.y:u.top,width:Ze(e.width)?e.width:u.width,height:Ze(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,b=I4e(),_=L4e();if(!Ze(m)||m<=0||!Ze(g)||g<=0||!Ze(f)||f!==+f||!Ze(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||JDe,w=d.horizontalCoordinatesGenerator||ZDe,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&Et(w)){var C=v&&v.length,k=w({yAxis:_?wa(wa({},_),{},{ticks:C?v:_.ticks}):void 0,width:l,height:c,offset:u},C?!0:p);So(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ff(k),"]")),Array.isArray(k)&&(S=k)}if((!N||!N.length)&&Et(j)){var E=y&&y.length,O=j({xAxis:b?wa(wa({},b),{},{ticks:E?y:b.ticks}):void 0,width:l,height:c,offset:u},E?!0:p);So(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ff(O),"]")),Array.isArray(O)&&(N=O)}return ce.createElement("g",{className:"recharts-cartesian-grid"},ce.createElement(GDe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ce.createElement(KDe,wd({},d,{offset:u,horizontalPoints:S,xAxis:b,yAxis:_})),ce.createElement(YDe,wd({},d,{offset:u,verticalPoints:N,xAxis:b,yAxis:_})),ce.createElement(XDe,wd({},d,{horizontalPoints:S})),ce.createElement(QDe,wd({},d,{verticalPoints:N})))}hf.displayName="CartesianGrid";var eRe=["type","layout","connectNulls","ref"],tRe=["key"];function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function GI(e,t){if(e==null)return{};var r=rRe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tg.apply(this,arguments)}function KI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KI(Object(r),!0).forEach(function(n){fo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yf(e){return iRe(e)||sRe(e)||aRe(e)||nRe()}function nRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aRe(e,t){if(e){if(typeof e=="string")return AC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AC(e,t)}}function sRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iRe(e){if(Array.isArray(e))return AC(e)}function AC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gH(n.key),n)}}function lRe(e,t,r){return t&&YI(e.prototype,t),r&&YI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cRe(e,t,r){return t=qb(t),uRe(e,pH()?Reflect.construct(t,r||[],qb(e).constructor):t.apply(e,r))}function uRe(e,t){if(t&&(Um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dRe(e)}function dRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pH=function(){return!!e})()}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qb(e)}function fRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PC(e,t)}function PC(e,t){return PC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PC(e,t)}function fo(e,t,r){return t=gH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e){var t=hRe(e,"string");return Um(t)=="symbol"?t:t+""}function hRe(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xu=function(e){function t(){var r;oRe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=cRe(this,t,[].concat(a)),fo(r,"state",{isAnimationFinished:!0,totalLength:0}),fo(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),fo(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(y,b){return y+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>f){m=[].concat(Yf(c.slice(0,g)),[f-p]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Yf(t.repeat(c,d)),Yf(m),v).map(function(y){return"".concat(y,"px")}).join(", ")}),fo(r,"id",Sp("recharts-line-")),fo(r,"pathRef",function(o){r.mainCurve=o}),fo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),fo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return fRe(t,e),lRe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=li(d,dx);if(!f)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:On(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ce.createElement(or,m,f.map(function(g){return ce.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=_t(this.props,!1),h=_t(c,!0),m=u.map(function(p,v){var y=Ks(Ks(Ks({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return ce.createElement(or,tg({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=GI(l,eRe),h=Ks(Ks(Ks({},_t(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return ce.createElement(kb,tg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,v=o.height,y=this.state,b=y.prevPoints,_=y.totalLength;return ce.createElement(_l,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var w=j.t;if(b){var S=b.length/l.length,N=l.map(function(T,U){var W=Math.floor(U*S);if(b[W]){var R=b[W],z=ei(R.x,T.x),P=ei(R.y,T.y);return Ks(Ks({},T),{},{x:z(w),y:P(w)})}if(g){var M=ei(p*2,T.x),I=ei(v/2,T.y);return Ks(Ks({},T),{},{x:M(w),y:I(w)})}return Ks(Ks({},T),{},{x:T.x,y:T.y})});return s.renderCurveStatically(N,n,a)}var C=ei(0,_),k=C(w),E;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});E=s.getStrokeDasharray(k,_,O)}else E=s.generateSimpleStrokeDasharray(_,k);return s.renderCurveStatically(l,n,a,{strokeDasharray:E})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!ux(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(s||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,_=Mt("recharts-line",c),j=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,S=j||w,N=Ft(v)?this.id:v,C=(n=_t(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},k=C.r,E=k===void 0?3:k,O=C.strokeWidth,T=O===void 0?2:O,U=Mme(o)?o:{},W=U.clipDot,R=W===void 0?!0:W,z=E*2+T;return ce.createElement(or,{className:_},j||w?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(N)},ce.createElement("rect",{x:j?h:h-m/2,y:w?f:f-g/2,width:j?m:m*2,height:w?g:g*2})),!R&&ce.createElement("clipPath",{id:"clipPath-dots-".concat(N)},ce.createElement("rect",{x:h-z/2,y:f-z/2,width:m+z,height:g+z}))):null,!b&&this.renderCurve(S,N),this.renderErrorBar(S,N),(b||o)&&this.renderDots(S,R,N),(!p||y)&&sc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(Yf(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Yf(o),Yf(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(ce.isValidElement(n))s=ce.cloneElement(n,a);else if(Et(n))s=n(a);else{var o=a.key,l=GI(a,tRe),c=Mt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=ce.createElement(Vw,tg({key:o},l,{className:c}))}return s}}])}(x.PureComponent);fo(Xu,"displayName","Line");fo(Xu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!fl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fo(Xu,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var g=On(h,o);return d==="horizontal"?{x:y3({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Ft(g)?null:n.scale(g),value:g,payload:h}:{x:Ft(g)?null:r.scale(g),y:y3({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:g,payload:h}});return Ks({points:f,layout:d},u)});function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function mRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yH(n.key),n)}}function gRe(e,t,r){return t&&pRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vRe(e,t,r){return t=Gb(t),xRe(e,vH()?Reflect.construct(t,r||[],Gb(e).constructor):t.apply(e,r))}function xRe(e,t){if(t&&(zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yRe(e)}function yRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vH=function(){return!!e})()}function Gb(e){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gb(e)}function bRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OC(e,t)}function OC(e,t){return OC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OC(e,t)}function xH(e,t,r){return t=yH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yH(e){var t=_Re(e,"string");return zm(t)=="symbol"?t:t+""}function _Re(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DC(){return DC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DC.apply(this,arguments)}function wRe(e){var t=e.xAxisId,r=sP(),n=iP(),a=nH(t);return a==null?null:x.createElement(Pp,DC({},a,{className:Mt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Zl(o,!0)}}))}var wl=function(e){function t(){return mRe(this,t),vRe(this,t,arguments)}return bRe(t,e),gRe(t,[{key:"render",value:function(){return x.createElement(wRe,this.props)}}])}(x.Component);xH(wl,"displayName","XAxis");xH(wl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function jRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wH(n.key),n)}}function NRe(e,t,r){return t&&SRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kRe(e,t,r){return t=Kb(t),CRe(e,bH()?Reflect.construct(t,r||[],Kb(e).constructor):t.apply(e,r))}function CRe(e,t){if(t&&(Vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ERe(e)}function ERe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bH=function(){return!!e})()}function Kb(e){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kb(e)}function TRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RC(e,t)}function RC(e,t){return RC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RC(e,t)}function _H(e,t,r){return t=wH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wH(e){var t=ARe(e,"string");return Vm(t)=="symbol"?t:t+""}function ARe(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FC(){return FC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FC.apply(this,arguments)}var PRe=function(t){var r=t.yAxisId,n=sP(),a=iP(),s=aH(r);return s==null?null:x.createElement(Pp,FC({},s,{className:Mt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Zl(l,!0)}}))},jl=function(e){function t(){return jRe(this,t),kRe(this,t,arguments)}return TRe(t,e),NRe(t,[{key:"render",value:function(){return x.createElement(PRe,this.props)}}])}(x.Component);_H(jl,"displayName","YAxis");_H(jl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function XI(e){return FRe(e)||RRe(e)||DRe(e)||ORe()}function ORe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DRe(e,t){if(e){if(typeof e=="string")return MC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MC(e,t)}}function RRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FRe(e){if(Array.isArray(e))return MC(e)}function MC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var IC=function(t,r,n,a,s){var o=li(t,lP),l=li(t,Jw),c=[].concat(XI(o),XI(l)),u=li(t,ej),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[d]===n&&ml(v.props,"extendDomain")&&Ze(v.props[f])){var y=v.props[f];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,v){if(v.props[d]===n&&ml(v.props,"extendDomain")&&Ze(v.props[m])&&Ze(v.props[g])){var y=v.props[m],b=v.props[g];return[Math.min(p[0],y,b),Math.max(p[1],y,b)]}return p},h)}return s&&s.length&&(h=s.reduce(function(p,v){return Ze(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},jH={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,b,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,g),!0}for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];v.fn.apply(v.context,b)}else{var j=v.length,w;for(_=0;_<j;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),y){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,d);break;case 3:v[_].fn.call(v[_].context,d,f);break;case 4:v[_].fn.call(v[_].context,d,f,h);break;default:if(!b)for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v[_].fn.apply(v[_].context,b)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,v=[],y=g.length;p<y;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(jH);var MRe=jH.exports;const IRe=pr(MRe);var tN=new IRe,rN="recharts.syncMouseEvents";function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}function LRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SH(n.key),n)}}function BRe(e,t,r){return t&&$Re(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nN(e,t,r){return t=SH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SH(e){var t=URe(e,"string");return _v(t)=="symbol"?t:t+""}function URe(e,t){if(_v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zRe=function(){function e(){LRe(this,e),nN(this,"activeIndex",0),nN(this,"coordinateList",[]),nN(this,"layout","horizontal")}return BRe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function VRe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ze(n)&&Ze(a))return!0}return!1}function WRe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function NH(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=Pr(t,r,n,a),l=Pr(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function HRe(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Pr(l,c,u,f),m=Pr(l,c,d,f);n=h.x,a=h.y,s=m.x,o=m.y}else return NH(t);return[{x:n,y:a},{x:s,y:o}]}function wv(e){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wv(e)}function QI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function by(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(r),!0).forEach(function(n){qRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qRe(e,t,r){return t=GRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GRe(e){var t=KRe(e,"string");return wv(t)=="symbol"?t:t+""}function KRe(e,t){if(wv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YRe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,p=kb;if(h==="ScatterChart")g=o,p=hAe;else if(h==="BarChart")g=WRe(f,o,c,d),p=tP;else if(f==="radial"){var v=NH(o),y=v.cx,b=v.cy,_=v.radius,j=v.startAngle,w=v.endAngle;g={cx:y,cy:b,startAngle:j,endAngle:w,innerRadius:_,outerRadius:_},p=_W}else g={points:HRe(f,o,c)},p=kb;var S=by(by(by(by({stroke:"#ccc",pointerEvents:"none"},c),g),_t(m,!1)),{},{payload:l,payloadIndex:u,className:Mt("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,S):x.createElement(p,S)}var XRe=["item"],QRe=["children","className","width","height","style","compact","title","desc"];function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nh.apply(this,arguments)}function JI(e,t){return eFe(e)||ZRe(e,t)||CH(e,t)||JRe()}function JRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function eFe(e){if(Array.isArray(e))return e}function ZI(e,t){if(e==null)return{};var r=tFe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EH(n.key),n)}}function aFe(e,t,r){return t&&nFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sFe(e,t,r){return t=Yb(t),iFe(e,kH()?Reflect.construct(t,r||[],Yb(e).constructor):t.apply(e,r))}function iFe(e,t){if(t&&(Wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oFe(e)}function oFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kH=function(){return!!e})()}function Yb(e){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yb(e)}function lFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LC(e,t)}function LC(e,t){return LC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LC(e,t)}function Hm(e){return dFe(e)||uFe(e)||CH(e)||cFe()}function cFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CH(e,t){if(e){if(typeof e=="string")return $C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $C(e,t)}}function uFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dFe(e){if(Array.isArray(e))return $C(e)}function $C(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eL(Object(r),!0).forEach(function(n){wt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wt(e,t,r){return t=EH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EH(e){var t=fFe(e,"string");return Wm(t)=="symbol"?t:t+""}function fFe(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hFe={xAxis:["bottom","top"],yAxis:["left","right"]},mFe={width:"100%",height:"100%"},TH={x:0,y:0};function _y(e){return e}var pFe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},gFe=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return $e($e($e({},a),Pr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return $e($e($e({},a),Pr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return TH},tj=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Hm(l),Hm(u)):l},[]);return o.length>0?o:t&&t.length&&Ze(a)&&Ze(s)?t.slice(a,s+1):[]};function AH(e){return e==="number"?[0,"auto"]:void 0}var BC=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=tj(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Y1(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Hm(c),[pW(u,h)]):c},[])},tL=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=pFe(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Ike(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=BC(t,r,d,f),m=gFe(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},vFe=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=cW(d,s);return n.reduce(function(g,p){var v,y=p.type.defaultProps!==void 0?$e($e({},p.type.defaultProps),p.props):p.props,b=y.type,_=y.dataKey,j=y.allowDataOverflow,w=y.allowDuplicatedCategory,S=y.scale,N=y.ticks,C=y.includeHidden,k=y[o];if(g[k])return g;var E=tj(t.data,{graphicalItems:a.filter(function(A){var B,G=o in A.props?A.props[o]:(B=A.type.defaultProps)===null||B===void 0?void 0:B[o];return G===k}),dataStartIndex:c,dataEndIndex:u}),O=E.length,T,U,W;VRe(y.domain,j,b)&&(T=eC(y.domain,null,j),m&&(b==="number"||S!=="auto")&&(W=Q0(E,_,"category")));var R=AH(b);if(!T||T.length===0){var z,P=(z=y.domain)!==null&&z!==void 0?z:R;if(_){if(T=Q0(E,_,b),b==="category"&&m){var M=kme(T);w&&M?(U=T,T=Mb(0,O)):w||(T=j3(P,T,p).reduce(function(A,B){return A.indexOf(B)>=0?A:[].concat(Hm(A),[B])},[]))}else if(b==="category")w?T=T.filter(function(A){return A!==""&&!Ft(A)}):T=j3(P,T,p).reduce(function(A,B){return A.indexOf(B)>=0||B===""||Ft(B)?A:[].concat(Hm(A),[B])},[]);else if(b==="number"){var I=zke(E,a.filter(function(A){var B,G,H=o in A.props?A.props[o]:(B=A.type.defaultProps)===null||B===void 0?void 0:B[o],ee="hide"in A.props?A.props.hide:(G=A.type.defaultProps)===null||G===void 0?void 0:G.hide;return H===k&&(C||!ee)}),_,s,d);I&&(T=I)}m&&(b==="number"||S!=="auto")&&(W=Q0(E,_,"category"))}else m?T=Mb(0,O):l&&l[k]&&l[k].hasStack&&b==="number"?T=h==="expand"?[0,1]:mW(l[k].stackGroups,c,u):T=lW(E,a.filter(function(A){var B=o in A.props?A.props[o]:A.type.defaultProps[o],G="hide"in A.props?A.props.hide:A.type.defaultProps.hide;return B===k&&(C||!G)}),b,d,!0);if(b==="number")T=IC(f,T,k,s,N),P&&(T=eC(P,T,j));else if(b==="category"&&P){var q=P,J=T.every(function(A){return q.indexOf(A)>=0});J&&(T=q)}}return $e($e({},g),{},wt({},k,$e($e({},y),{},{axisType:s,domain:T,categoricalDomain:W,duplicateDomain:U,originalDomain:(v=y.domain)!==null&&v!==void 0?v:R,isCategorical:m,layout:d})))},{})},xFe=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=tj(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=cW(d,s),p=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?$e($e({},y.type.defaultProps),y.props):y.props,_=b[o],j=AH("number");if(!v[_]){p++;var w;return g?w=Mb(0,m):l&&l[_]&&l[_].hasStack?(w=mW(l[_].stackGroups,c,u),w=IC(f,w,_,s)):(w=eC(j,lW(h,n.filter(function(S){var N,C,k=o in S.props?S.props[o]:(N=S.type.defaultProps)===null||N===void 0?void 0:N[o],E="hide"in S.props?S.props.hide:(C=S.type.defaultProps)===null||C===void 0?void 0:C.hide;return k===_&&!E}),"number",d),a.defaultProps.allowDataOverflow),w=IC(f,w,_,s)),$e($e({},v),{},wt({},_,$e($e({axisType:s},a.defaultProps),{},{hide:!0,orientation:oi(hFe,"".concat(s,".").concat(p%2),null),domain:w,originalDomain:j,isCategorical:g,layout:d})))}return v},{})},yFe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=li(d,s),m={};return h&&h.length?m=vFe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=xFe(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},bFe=function(t){var r=Gc(t),n=Zl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:EA(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:jb(r,n)}},rL=function(t){var r=t.children,n=t.defaultShowTooltip,a=Qs(r,Fm),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},_Fe=function(t){return!t||!t.length?!1:t.some(function(r){var n=nc(r&&r.type);return n&&n.indexOf("Bar")>=0})},nL=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},wFe=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Qs(f,Fm),g=Qs(f,Li),p=Object.keys(c).reduce(function(w,S){var N=c[S],C=N.orientation;return!N.mirror&&!N.hide?$e($e({},w),{},wt({},C,w[C]+N.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(w,S){var N=o[S],C=N.orientation;return!N.mirror&&!N.hide?$e($e({},w),{},wt({},C,oi(w,"".concat(C))+N.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=$e($e({},v),p),b=y.bottom;m&&(y.bottom+=m.props.height||Fm.defaultProps.height),g&&r&&(y=Bke(y,a,n,r));var _=u-y.left-y.right,j=d-y.top-y.bottom;return $e($e({brushBottom:b},y),{},{width:Math.max(_,0),height:Math.max(j,0)})},jFe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},dP=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var _=b.graphicalItems,j=b.stackGroups,w=b.offset,S=b.updateId,N=b.dataStartIndex,C=b.dataEndIndex,k=y.barSize,E=y.layout,O=y.barGap,T=y.barCategoryGap,U=y.maxBarSize,W=nL(E),R=W.numericAxisName,z=W.cateAxisName,P=_Fe(_),M=[];return _.forEach(function(I,q){var J=tj(y.data,{graphicalItems:[I],dataStartIndex:N,dataEndIndex:C}),A=I.type.defaultProps!==void 0?$e($e({},I.type.defaultProps),I.props):I.props,B=A.dataKey,G=A.maxBarSize,H=A["".concat(R,"Id")],ee=A["".concat(z,"Id")],ue={},ye=c.reduce(function(pe,te){var re=b["".concat(te.axisType,"Map")],he=A["".concat(te.axisType,"Id")];re&&re[he]||te.axisType==="zAxis"||df();var Pe=re[he];return $e($e({},pe),{},wt(wt({},te.axisType,Pe),"".concat(te.axisType,"Ticks"),Zl(Pe)))},ue),ie=ye[z],Y=ye["".concat(z,"Ticks")],L=j&&j[H]&&j[H].hasStack&&Qke(I,j[H].stackGroups),D=nc(I.type).indexOf("Bar")>=0,se=jb(ie,Y),be=[],ve=P&&Lke({barSize:k,stackGroups:j,totalSize:jFe(ye,z)});if(D){var ke,Se,Ve=Ft(G)?U:G,dt=(ke=(Se=jb(ie,Y,!0))!==null&&Se!==void 0?Se:Ve)!==null&&ke!==void 0?ke:0;be=$ke({barGap:O,barCategoryGap:T,bandSize:dt!==se?dt:se,sizeList:ve[ee],maxBarSize:Ve}),dt!==se&&(be=be.map(function(pe){return $e($e({},pe),{},{position:$e($e({},pe.position),{},{offset:pe.position.offset-dt/2})})}))}var ae=I&&I.type&&I.type.getComposedData;ae&&M.push({props:$e($e({},ae($e($e({},ye),{},{displayedData:J,props:y,dataKey:B,item:I,bandSize:se,barPosition:be,offset:w,stackedData:L,layout:E,dataStartIndex:N,dataEndIndex:C}))),{},wt(wt(wt({key:I.key||"item-".concat(q)},R,ye[R]),z,ye[z]),"animationId",S)),childIndex:$me(I,y.children),item:I})}),M},m=function(y,b){var _=y.props,j=y.dataStartIndex,w=y.dataEndIndex,S=y.updateId;if(!gF({props:_}))return null;var N=_.children,C=_.layout,k=_.stackOffset,E=_.data,O=_.reverseStackOrder,T=nL(C),U=T.numericAxisName,W=T.cateAxisName,R=li(N,n),z=Yke(E,R,"".concat(U,"Id"),"".concat(W,"Id"),k,O),P=c.reduce(function(A,B){var G="".concat(B.axisType,"Map");return $e($e({},A),{},wt({},G,yFe(_,$e($e({},B),{},{graphicalItems:R,stackGroups:B.axisType===U&&z,dataStartIndex:j,dataEndIndex:w}))))},{}),M=wFe($e($e({},P),{},{props:_,graphicalItems:R}),b==null?void 0:b.legendBBox);Object.keys(P).forEach(function(A){P[A]=d(_,P[A],M,A.replace("Map",""),r)});var I=P["".concat(W,"Map")],q=bFe(I),J=h(_,$e($e({},P),{},{dataStartIndex:j,dataEndIndex:w,updateId:S,graphicalItems:R,stackGroups:z,offset:M}));return $e($e({formattedGraphicalItems:J,graphicalItems:R,offset:M,stackGroups:z},q),P)},g=function(v){function y(b){var _,j,w;return rFe(this,y),w=sFe(this,y,[b]),wt(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),wt(w,"accessibilityManager",new zRe),wt(w,"handleLegendBBoxUpdate",function(S){if(S){var N=w.state,C=N.dataStartIndex,k=N.dataEndIndex,E=N.updateId;w.setState($e({legendBBox:S},m({props:w.props,dataStartIndex:C,dataEndIndex:k,updateId:E},$e($e({},w.state),{},{legendBBox:S}))))}}),wt(w,"handleReceiveSyncEvent",function(S,N,C){if(w.props.syncId===S){if(C===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(N)}}),wt(w,"handleBrushChange",function(S){var N=S.startIndex,C=S.endIndex;if(N!==w.state.dataStartIndex||C!==w.state.dataEndIndex){var k=w.state.updateId;w.setState(function(){return $e({dataStartIndex:N,dataEndIndex:C},m({props:w.props,dataStartIndex:N,dataEndIndex:C,updateId:k},w.state))}),w.triggerSyncEvent({dataStartIndex:N,dataEndIndex:C})}}),wt(w,"handleMouseEnter",function(S){var N=w.getMouseInfo(S);if(N){var C=$e($e({},N),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var k=w.props.onMouseEnter;Et(k)&&k(C,S)}}),wt(w,"triggeredAfterMouseMove",function(S){var N=w.getMouseInfo(S),C=N?$e($e({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(C),w.triggerSyncEvent(C);var k=w.props.onMouseMove;Et(k)&&k(C,S)}),wt(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),wt(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),wt(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),wt(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};w.setState(N),w.triggerSyncEvent(N);var C=w.props.onMouseLeave;Et(C)&&C(N,S)}),wt(w,"handleOuterEvent",function(S){var N=Lme(S),C=oi(w.props,"".concat(N));if(N&&Et(C)){var k,E;/.*touch.*/i.test(N)?E=w.getMouseInfo(S.changedTouches[0]):E=w.getMouseInfo(S),C((k=E)!==null&&k!==void 0?k:{},S)}}),wt(w,"handleClick",function(S){var N=w.getMouseInfo(S);if(N){var C=$e($e({},N),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var k=w.props.onClick;Et(k)&&k(C,S)}}),wt(w,"handleMouseDown",function(S){var N=w.props.onMouseDown;if(Et(N)){var C=w.getMouseInfo(S);N(C,S)}}),wt(w,"handleMouseUp",function(S){var N=w.props.onMouseUp;if(Et(N)){var C=w.getMouseInfo(S);N(C,S)}}),wt(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),wt(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),wt(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),wt(w,"handleDoubleClick",function(S){var N=w.props.onDoubleClick;if(Et(N)){var C=w.getMouseInfo(S);N(C,S)}}),wt(w,"handleContextMenu",function(S){var N=w.props.onContextMenu;if(Et(N)){var C=w.getMouseInfo(S);N(C,S)}}),wt(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&tN.emit(rN,w.props.syncId,S,w.eventEmitterSymbol)}),wt(w,"applySyncEvent",function(S){var N=w.props,C=N.layout,k=N.syncMethod,E=w.state.updateId,O=S.dataStartIndex,T=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState($e({dataStartIndex:O,dataEndIndex:T},m({props:w.props,dataStartIndex:O,dataEndIndex:T,updateId:E},w.state)));else if(S.activeTooltipIndex!==void 0){var U=S.chartX,W=S.chartY,R=S.activeTooltipIndex,z=w.state,P=z.offset,M=z.tooltipTicks;if(!P)return;if(typeof k=="function")R=k(M,S);else if(k==="value"){R=-1;for(var I=0;I<M.length;I++)if(M[I].value===S.activeLabel){R=I;break}}var q=$e($e({},P),{},{x:P.left,y:P.top}),J=Math.min(U,q.x+q.width),A=Math.min(W,q.y+q.height),B=M[R]&&M[R].value,G=BC(w.state,w.props.data,R),H=M[R]?{x:C==="horizontal"?M[R].coordinate:J,y:C==="horizontal"?A:M[R].coordinate}:TH;w.setState($e($e({},S),{},{activeLabel:B,activeCoordinate:H,activePayload:G,activeTooltipIndex:R}))}else w.setState(S)}),wt(w,"renderCursor",function(S){var N,C=w.state,k=C.isTooltipActive,E=C.activeCoordinate,O=C.activePayload,T=C.offset,U=C.activeTooltipIndex,W=C.tooltipAxisBandSize,R=w.getTooltipEventType(),z=(N=S.props.active)!==null&&N!==void 0?N:k,P=w.props.layout,M=S.key||"_recharts-cursor";return ce.createElement(YRe,{key:M,activeCoordinate:E,activePayload:O,activeTooltipIndex:U,chartName:r,element:S,isActive:z,layout:P,offset:T,tooltipAxisBandSize:W,tooltipEventType:R})}),wt(w,"renderPolarAxis",function(S,N,C){var k=oi(S,"type.axisType"),E=oi(w.state,"".concat(k,"Map")),O=S.type.defaultProps,T=O!==void 0?$e($e({},O),S.props):S.props,U=E&&E[T["".concat(k,"Id")]];return x.cloneElement(S,$e($e({},U),{},{className:Mt(k,U.className),key:S.key||"".concat(N,"-").concat(C),ticks:Zl(U,!0)}))}),wt(w,"renderPolarGrid",function(S){var N=S.props,C=N.radialLines,k=N.polarAngles,E=N.polarRadius,O=w.state,T=O.radiusAxisMap,U=O.angleAxisMap,W=Gc(T),R=Gc(U),z=R.cx,P=R.cy,M=R.innerRadius,I=R.outerRadius;return x.cloneElement(S,{polarAngles:Array.isArray(k)?k:Zl(R,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(E)?E:Zl(W,!0).map(function(q){return q.coordinate}),cx:z,cy:P,innerRadius:M,outerRadius:I,key:S.key||"polar-grid",radialLines:C})}),wt(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,N=w.props,C=N.children,k=N.width,E=N.height,O=w.props.margin||{},T=k-(O.left||0)-(O.right||0),U=iW({children:C,formattedGraphicalItems:S,legendWidth:T,legendContent:u});if(!U)return null;var W=U.item,R=ZI(U,XRe);return x.cloneElement(W,$e($e({},R),{},{chartWidth:k,chartHeight:E,margin:O,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),wt(w,"renderTooltip",function(){var S,N=w.props,C=N.children,k=N.accessibilityLayer,E=Qs(C,ya);if(!E)return null;var O=w.state,T=O.isTooltipActive,U=O.activeCoordinate,W=O.activePayload,R=O.activeLabel,z=O.offset,P=(S=E.props.active)!==null&&S!==void 0?S:T;return x.cloneElement(E,{viewBox:$e($e({},z),{},{x:z.left,y:z.top}),active:P,label:R,payload:P?W:[],coordinate:U,accessibilityLayer:k})}),wt(w,"renderBrush",function(S){var N=w.props,C=N.margin,k=N.data,E=w.state,O=E.offset,T=E.dataStartIndex,U=E.dataEndIndex,W=E.updateId;return x.cloneElement(S,{key:S.key||"_recharts-brush",onChange:gy(w.handleBrushChange,S.props.onChange),data:k,x:Ze(S.props.x)?S.props.x:O.left,y:Ze(S.props.y)?S.props.y:O.top+O.height+O.brushBottom-(C.bottom||0),width:Ze(S.props.width)?S.props.width:O.width,startIndex:T,endIndex:U,updateId:"brush-".concat(W)})}),wt(w,"renderReferenceElement",function(S,N,C){if(!S)return null;var k=w,E=k.clipPathId,O=w.state,T=O.xAxisMap,U=O.yAxisMap,W=O.offset,R=S.type.defaultProps||{},z=S.props,P=z.xAxisId,M=P===void 0?R.xAxisId:P,I=z.yAxisId,q=I===void 0?R.yAxisId:I;return x.cloneElement(S,{key:S.key||"".concat(N,"-").concat(C),xAxis:T[M],yAxis:U[q],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:E})}),wt(w,"renderActivePoints",function(S){var N=S.item,C=S.activePoint,k=S.basePoint,E=S.childIndex,O=S.isRange,T=[],U=N.props.key,W=N.item.type.defaultProps!==void 0?$e($e({},N.item.type.defaultProps),N.item.props):N.item.props,R=W.activeDot,z=W.dataKey,P=$e($e({index:E,dataKey:z,cx:C.x,cy:C.y,r:4,fill:eP(N.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},_t(R,!1)),X1(R));return T.push(y.renderActiveDot(R,P,"".concat(U,"-activePoint-").concat(E))),k?T.push(y.renderActiveDot(R,$e($e({},P),{},{cx:k.x,cy:k.y}),"".concat(U,"-basePoint-").concat(E))):O&&T.push(null),T}),wt(w,"renderGraphicChild",function(S,N,C){var k=w.filterFormatItem(S,N,C);if(!k)return null;var E=w.getTooltipEventType(),O=w.state,T=O.isTooltipActive,U=O.tooltipAxis,W=O.activeTooltipIndex,R=O.activeLabel,z=w.props.children,P=Qs(z,ya),M=k.props,I=M.points,q=M.isRange,J=M.baseLine,A=k.item.type.defaultProps!==void 0?$e($e({},k.item.type.defaultProps),k.item.props):k.item.props,B=A.activeDot,G=A.hide,H=A.activeBar,ee=A.activeShape,ue=!!(!G&&T&&P&&(B||H||ee)),ye={};E!=="axis"&&P&&P.props.trigger==="click"?ye={onClick:gy(w.handleItemMouseEnter,S.props.onClick)}:E!=="axis"&&(ye={onMouseLeave:gy(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:gy(w.handleItemMouseEnter,S.props.onMouseEnter)});var ie=x.cloneElement(S,$e($e({},k.props),ye));function Y(te){return typeof U.dataKey=="function"?U.dataKey(te.payload):null}if(ue)if(W>=0){var L,D;if(U.dataKey&&!U.allowDuplicatedCategory){var se=typeof U.dataKey=="function"?Y:"payload.".concat(U.dataKey.toString());L=Y1(I,se,R),D=q&&J&&Y1(J,se,R)}else L=I==null?void 0:I[W],D=q&&J&&J[W];if(ee||H){var be=S.props.activeIndex!==void 0?S.props.activeIndex:W;return[x.cloneElement(S,$e($e($e({},k.props),ye),{},{activeIndex:be})),null,null]}if(!Ft(L))return[ie].concat(Hm(w.renderActivePoints({item:k,activePoint:L,basePoint:D,childIndex:W,isRange:q})))}else{var ve,ke=(ve=w.getItemByXY(w.state.activeCoordinate))!==null&&ve!==void 0?ve:{graphicalItem:ie},Se=ke.graphicalItem,Ve=Se.item,dt=Ve===void 0?S:Ve,ae=Se.childIndex,pe=$e($e($e({},k.props),ye),{},{activeIndex:ae});return[x.cloneElement(dt,pe),null,null]}return q?[ie,null,null]:[ie,null]}),wt(w,"renderCustomized",function(S,N,C){return x.cloneElement(S,$e($e({key:"recharts-customized-".concat(C)},w.props),w.state))}),wt(w,"renderMap",{CartesianGrid:{handler:_y,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:_y},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:_y},YAxis:{handler:_y},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((_=b.id)!==null&&_!==void 0?_:Sp("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=sV(w.triggeredAfterMouseMove,(j=b.throttleDelay)!==null&&j!==void 0?j:1e3/60),w.state={},w}return lFe(y,v),aFe(y,[{key:"componentDidMount",value:function(){var _,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,j=_.children,w=_.data,S=_.height,N=_.layout,C=Qs(j,ya);if(C){var k=C.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,O=BC(this.state,w,k,E),T=this.state.tooltipTicks[k].coordinate,U=(this.state.offset.top+S)/2,W=N==="horizontal",R=W?{x:T,y:U}:{y:T,x:U},z=this.state.formattedGraphicalItems.find(function(M){var I=M.item;return I.type.name==="Scatter"});z&&(R=$e($e({},R),z.props.points[k].tooltipPosition),O=z.props.points[k].tooltipPayload);var P={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:E,activePayload:O,activeCoordinate:R};this.setState(P),this.renderCursor(C),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(_){pk([Qs(_.children,ya)],[Qs(this.props.children,ya)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Qs(this.props.children,ya);if(_&&typeof _.props.shared=="boolean"){var j=_.props.shared?"axis":"item";return l.indexOf(j)>=0?j:s}return s}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var j=this.container,w=j.getBoundingClientRect(),S=dje(w),N={chartX:Math.round(_.pageX-S.left),chartY:Math.round(_.pageY-S.top)},C=w.width/j.offsetWidth||1,k=this.inRange(N.chartX,N.chartY,C);if(!k)return null;var E=this.state,O=E.xAxisMap,T=E.yAxisMap,U=this.getTooltipEventType(),W=tL(this.state,this.props.data,this.props.layout,k);if(U!=="axis"&&O&&T){var R=Gc(O).scale,z=Gc(T).scale,P=R&&R.invert?R.invert(N.chartX):null,M=z&&z.invert?z.invert(N.chartY):null;return $e($e({},N),{},{xValue:P,yValue:M},W)}return W?$e($e({},N),W):null}},{key:"inRange",value:function(_,j){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=_/w,C=j/w;if(S==="horizontal"||S==="vertical"){var k=this.state.offset,E=N>=k.left&&N<=k.left+k.width&&C>=k.top&&C<=k.top+k.height;return E?{x:N,y:C}:null}var O=this.state,T=O.angleAxisMap,U=O.radiusAxisMap;if(T&&U){var W=Gc(T);return k3({x:N,y:C},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,j=this.getTooltipEventType(),w=Qs(_,ya),S={};w&&j==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=X1(this.props,this.handleOuterEvent);return $e($e({},N),S)}},{key:"addListener",value:function(){tN.on(rN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){tN.removeListener(rN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,j,w){for(var S=this.state.formattedGraphicalItems,N=0,C=S.length;N<C;N++){var k=S[N];if(k.item===_||k.props.key===_.key||j===nc(k.item.type)&&w===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,j=this.state.offset,w=j.left,S=j.top,N=j.height,C=j.width;return ce.createElement("defs",null,ce.createElement("clipPath",{id:_},ce.createElement("rect",{x:w,y:S,height:N,width:C})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(j,w){var S=JI(w,2),N=S[0],C=S[1];return $e($e({},j),{},wt({},N,C.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(j,w){var S=JI(w,2),N=S[0],C=S[1];return $e($e({},j),{},wt({},N,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[_])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(_){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[_])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(_){var j=this.state,w=j.formattedGraphicalItems,S=j.activeItem;if(w&&w.length)for(var N=0,C=w.length;N<C;N++){var k=w[N],E=k.props,O=k.item,T=O.type.defaultProps!==void 0?$e($e({},O.type.defaultProps),O.props):O.props,U=nc(O.type);if(U==="Bar"){var W=(E.data||[]).find(function(M){return GTe(_,M)});if(W)return{graphicalItem:k,payload:W}}else if(U==="RadialBar"){var R=(E.data||[]).find(function(M){return k3(_,M)});if(R)return{graphicalItem:k,payload:R}}else if(Kw(k,S)||Yw(k,S)||gv(k,S)){var z=FPe({graphicalItem:k,activeTooltipItem:S,itemData:T.data}),P=T.activeIndex===void 0?z:T.activeIndex;return{graphicalItem:$e($e({},k),{},{childIndex:P}),payload:gv(k,S)?T.data[z]:k.props.data[z]}}}return null}},{key:"render",value:function(){var _=this;if(!gF(this))return null;var j=this.props,w=j.children,S=j.className,N=j.width,C=j.height,k=j.style,E=j.compact,O=j.title,T=j.desc,U=ZI(j,QRe),W=_t(U,!1);if(E)return ce.createElement(RI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ce.createElement(vk,Nh({},W,{width:N,height:C,title:O,desc:T}),this.renderClipPath(),xF(w,this.renderMap)));if(this.props.accessibilityLayer){var R,z;W.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,W.role=(z=this.props.role)!==null&&z!==void 0?z:"application",W.onKeyDown=function(M){_.accessibilityManager.keyboardEvent(M)},W.onFocus=function(){_.accessibilityManager.focus()}}var P=this.parseEventsOfWrapper();return ce.createElement(RI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ce.createElement("div",Nh({className:Mt("recharts-wrapper",S),style:$e({position:"relative",cursor:"default",width:N,height:C},k)},P,{ref:function(I){_.container=I}}),ce.createElement(vk,Nh({},W,{width:N,height:C,title:O,desc:T,style:mFe}),this.renderClipPath(),xF(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);wt(g,"displayName",r),wt(g,"defaultProps",$e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),wt(g,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,_=v.data,j=v.children,w=v.width,S=v.height,N=v.layout,C=v.stackOffset,k=v.margin,E=y.dataStartIndex,O=y.dataEndIndex;if(y.updateId===void 0){var T=rL(v);return $e($e($e({},T),{},{updateId:0},m($e($e({props:v},T),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:_,prevWidth:w,prevHeight:S,prevLayout:N,prevStackOffset:C,prevMargin:k,prevChildren:j})}if(b!==y.prevDataKey||_!==y.prevData||w!==y.prevWidth||S!==y.prevHeight||N!==y.prevLayout||C!==y.prevStackOffset||!Lh(k,y.prevMargin)){var U=rL(v),W={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},R=$e($e({},tL(y,_,N)),{},{updateId:y.updateId+1}),z=$e($e($e({},U),W),R);return $e($e($e({},z),m($e({props:v},z),y)),{},{prevDataKey:b,prevData:_,prevWidth:w,prevHeight:S,prevLayout:N,prevStackOffset:C,prevMargin:k,prevChildren:j})}if(!pk(j,y.prevChildren)){var P,M,I,q,J=Qs(j,Fm),A=J&&(P=(M=J.props)===null||M===void 0?void 0:M.startIndex)!==null&&P!==void 0?P:E,B=J&&(I=(q=J.props)===null||q===void 0?void 0:q.endIndex)!==null&&I!==void 0?I:O,G=A!==E||B!==O,H=!Ft(_),ee=H&&!G?y.updateId:y.updateId+1;return $e($e({updateId:ee},m($e($e({props:v},y),{},{updateId:ee,dataStartIndex:A,dataEndIndex:B}),y)),{},{prevChildren:j,dataStartIndex:A,dataEndIndex:B})}return null}),wt(g,"renderActiveDot",function(v,y,b){var _;return x.isValidElement(v)?_=x.cloneElement(v,y):Et(v)?_=v(y):_=ce.createElement(Vw,y),ce.createElement(or,{className:"recharts-active-dot",key:b},_)});var p=x.forwardRef(function(y,b){return ce.createElement(g,Nh({},y,{ref:b}))});return p.displayName=g.displayName,p},rj=dP({chartName:"LineChart",GraphicalChild:Xu,axisComponents:[{axisType:"xAxis",AxisComp:wl},{axisType:"yAxis",AxisComp:jl}],formatAxisMap:YW}),aL=dP({chartName:"BarChart",GraphicalChild:Pi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:wl},{axisType:"yAxis",AxisComp:jl}],formatAxisMap:YW}),dd=dP({chartName:"PieChart",GraphicalChild:rs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Gw},{axisType:"radiusAxis",AxisComp:Hw}],formatAxisMap:oCe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const sL=({projects:e,clients:t,users:r,leads:n,surveys:a,loadData:s,isRTL:o,t:l,counts:c,mleadsChartData:u,handleRefresh:d,refreshing:f})=>{var w;const{user:h}=dr(),m=c.projects,g=0,p=c.projects,v=0;c.clients;const y=c.users,b=c.leads,_=c.surveys,j=[...e].sort((S,N)=>new Date(N.created_at||"").getTime()-new Date(S.created_at||"").getTime()).slice(0,5);return i.jsxs("div",{className:"space-y-8",dir:o?"rtl":"ltr",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:l("dashboard.title")}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:l("dashboard.subtitle")})]}),i.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[i.jsxs(fe,{onClick:d,disabled:f,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Fg,{className:`h-4 w-4 ${f?"animate-spin":""}`}),f?l("common.refreshing","Refreshing..."):l("common.refresh","Refresh")]}),i.jsx(W7,{})]})]}),i.jsxs(ft,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[i.jsx(Yt,{className:"border-b border-slate-200 dark:border-slate-700",children:i.jsxs(yr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Mn,{className:"h-6 w-6 text-primary"}),l("employeeDashboard.employeeInfo")]})}),i.jsx(yt,{className:"pt-6",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.name")}),i.jsx("p",{className:"font-medium",children:Te(h.profile||{},"user_name")||h.name||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.email")}),i.jsx("p",{className:"font-medium truncate",title:h.email,children:h.email})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.role")}),i.jsx(ht,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:h.permissions_permissions_Name||h.role||"Unknown"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.memberSince")}),i.jsx("p",{className:"font-medium",children:(w=h.profile)!=null&&w.created_at?new Date(h.profile.created_at).toLocaleDateString():"N/A"})]})]})})]}),i.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-5",children:[i.jsx(Oi,{title:l("dashboard.totalProjects"),value:m,subtext:`${g} ${l("dashboard.completed")}`,icon:IB,isRTL:o}),i.jsx(Oi,{title:l("dashboard.inProgress"),value:p,subtext:l("dashboard.activeProjects"),icon:ss,isRTL:o}),i.jsx(Oi,{title:l("dashboard.teamMembers"),value:y,subtext:l("dashboard.activeUsers"),icon:ss,isRTL:o}),i.jsx(Oi,{title:l("dashboard.leads"),value:b,subtext:l("dashboard.totalLeads"),icon:Bd,isRTL:o}),i.jsx(Oi,{title:l("dashboard.surveys"),value:_,subtext:l("dashboard.totalSurveys"),icon:bn,isRTL:o})]}),i.jsxs(ft,{className:"border-0 shadow-md",children:[i.jsx(Yt,{children:i.jsxs(yr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Bd,{className:"h-6 w-6 text-primary"}),l("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),i.jsx(yt,{children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(lf,{width:"100%",height:"100%",children:i.jsxs(rj,{data:u,margin:{top:5,right:30,left:30,bottom:5},children:[i.jsx(hf,{strokeDasharray:"3 3"}),i.jsx(wl,{dataKey:"date",angle:o?45:-45,textAnchor:o?"start":"end",height:80,tick:{fontSize:12},reversed:o}),i.jsx(jl,{orientation:o?"right":"left",label:{value:"Number of Leads",angle:o?90:-90,position:o?"insideRight":"insideLeft"}}),i.jsx(ya,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:S=>[`${S} leads`,"Total"]}),i.jsx(Li,{}),i.jsx(Xu,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),i.jsxs("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2",children:[i.jsxs(ft,{className:"border-0 shadow-md",children:[i.jsx(Yt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(yr,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:l("dashboard.recentProjects")})}),i.jsx(yt,{className:"space-y-2 pt-4",children:j.length>0?j.map(S=>i.jsx(NFe,{project:S,clientName:S.company_name||l("dashboard.noClient"),isRTL:o,t:l},S.project_id)):i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:l("dashboard.noProjectsYet")})})]}),i.jsxs(ft,{className:"border-0 shadow-md",children:[i.jsx(Yt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(yr,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:l("dashboard.projectStatus")})}),i.jsxs(yt,{className:"space-y-2 pt-4",children:[i.jsx(aN,{color:"bg-emerald-500",label:l("dashboard.completedStatus"),value:g,isRTL:o}),i.jsx(aN,{color:"bg-blue-500",label:l("dashboard.inProgressStatus"),value:p,isRTL:o}),i.jsx(aN,{color:"bg-slate-400",label:l("dashboard.notStartedStatus"),value:v,isRTL:o})]})]})]})]})},SFe=({user:e,myTasks:t,myProjects:r,leads:n,surveys:a,isRTL:s,t:o,counts:l,mleadsChartData:c,handleRefresh:u,refreshing:d})=>{var p;const f=t.filter(v=>v.task_status==="completed").length,h=t.filter(v=>v.task_status==="in_progress").length,m=l.projects,g=[...t].sort((v,y)=>new Date(y.created_at||"").getTime()-new Date(v.created_at||"").getTime()).slice(0,5);return i.jsxs("div",{className:"space-y-8",dir:s?"rtl":"ltr",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:o("employeeDashboard.title")}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:o("employeeDashboard.subtitle",{name:Te(e.profile||{},"user.name")||e.email})})]}),i.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[i.jsxs(fe,{onClick:u,disabled:d,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Fg,{className:`h-4 w-4 ${d?"animate-spin":""}`}),d?o("common.refreshing","Refreshing..."):o("common.refresh","Refresh")]}),i.jsx(W7,{})]})]}),i.jsxs(ft,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[i.jsx(Yt,{className:"border-b border-slate-200 dark:border-slate-700",children:i.jsxs(yr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Mn,{className:"h-6 w-6 text-primary"}),o("employeeDashboard.employeeInfo")]})}),i.jsx(yt,{className:"pt-6",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsx(sN,{label:o("employeeDashboard.name"),value:Te(e.profile||{},"user_name")||"N/A",isRTL:s}),i.jsx(sN,{label:o("employeeDashboard.email"),value:e.email,isRTL:s}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:o("employeeDashboard.role")}),i.jsx(ht,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:e.permissions_permissions_Name||e.role||"Unknown"})]}),i.jsx(sN,{label:o("employeeDashboard.memberSince"),value:(p=e.profile)!=null&&p.created_at?new Date(e.profile.created_at).toLocaleDateString():"N/A",isRTL:s})]})})]}),i.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[i.jsx(Oi,{title:o("employeeDashboard.myProjects"),value:l.projects,subtext:`${m} ${o("employeeDashboard.active")}`,icon:Ld,isRTL:s}),i.jsx(Oi,{title:o("employeeDashboard.myTasks"),value:l.myTasks,subtext:`${f} ${o("employeeDashboard.completed")}`,icon:Bd,isRTL:s}),i.jsx(Oi,{title:o("employeeDashboard.inProgress"),value:h,subtext:o("employeeDashboard.activeTasks"),icon:ef,isRTL:s}),i.jsx(Oi,{title:o("employeeDashboard.completedTasks"),value:f,subtext:o("employeeDashboard.finishedTasks"),icon:rc,isRTL:s}),i.jsx(Oi,{title:o("employeeDashboard.leads"),value:l.leads,subtext:o("employeeDashboard.totalLeads"),icon:Bd,isRTL:s}),i.jsx(Oi,{title:o("employeeDashboard.surveys"),value:l.surveys,subtext:o("employeeDashboard.totalSurveys"),icon:bn,isRTL:s})]}),i.jsxs(ft,{className:"border-0 shadow-md",children:[i.jsx(Yt,{children:i.jsxs(yr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Bd,{className:"h-6 w-6 text-primary"}),o("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),i.jsx(yt,{children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(lf,{width:"100%",height:"100%",children:i.jsxs(rj,{data:c,margin:{top:5,right:30,left:30,bottom:5},children:[i.jsx(hf,{strokeDasharray:"3 3"}),i.jsx(wl,{dataKey:"date",angle:s?45:-45,textAnchor:s?"start":"end",height:80,tick:{fontSize:12},reversed:s}),i.jsx(jl,{orientation:s?"right":"left",label:{value:"Number of Leads",angle:s?90:-90,position:s?"insideRight":"insideLeft"}}),i.jsx(ya,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:v=>[`${v} leads`,"Total"]}),i.jsx(Li,{}),i.jsx(Xu,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(ft,{className:"border-0 shadow-md",children:[i.jsx(Yt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(yr,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:o("employeeDashboard.myProjects")})}),i.jsx(yt,{className:"space-y-2 pt-4",children:r.length>0?r.slice(0,5).map(v=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[i.jsxs("div",{className:"space-y-1 flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:v.company_name}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:v.contract_code||o("employeeDashboard.noDescription")})]}),i.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:v.contract_code})]},v.project_id)):i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:o("employeeDashboard.noProjectsAssigned")})})]}),i.jsxs(ft,{className:"border-0 shadow-md",children:[i.jsx(Yt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(yr,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:o("employeeDashboard.recentTasks")})}),i.jsx(yt,{className:"space-y-2 pt-4",children:g.length>0?g.map(v=>{var y;return i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[i.jsxs("div",{className:"space-y-1 flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:v.task_name}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:v.description||o("employeeDashboard.noDescription")})]}),i.jsx(ht,{variant:v.task_status==="completed"?"default":v.task_status==="in_progress"?"secondary":"outline",className:"text-xs whitespace-nowrap",children:(y=v.task_status)==null?void 0:y.replace("_"," ")})]},v.task_id)}):i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:o("employeeDashboard.noTasksAssigned")})})]})]})]})},Oi=({title:e,value:t,subtext:r,icon:n,isRTL:a})=>i.jsxs(ft,{className:"border-0 shadow-md hover:shadow-lg transition-shadow duration-300 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",dir:a?"rtl":"ltr",children:[i.jsxs(Yt,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[i.jsx(yr,{className:"text-xs sm:text-sm font-semibold text-slate-700 dark:text-slate-300",children:e}),i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:i.jsx(n,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})})]}),i.jsxs(yt,{children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-slate-900 dark:text-white",children:t}),i.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 mt-1",children:r})]})]}),NFe=({project:e,clientName:t,isRTL:r,t:n})=>i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[i.jsx("p",{className:"text-sm sm:text-base font-semibold text-slate-900 dark:text-white leading-none truncate",children:e.company_name}),i.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 truncate",children:t||n("dashboard.noClient")})]}),i.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:e.contract_code})]}),aN=({color:e,label:t,value:r,isRTL:n})=>i.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-900 transition-colors duration-200",dir:n?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-3 h-3 sm:w-4 sm:h-4 rounded-full ${e} shadow-sm`}),i.jsx("span",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300",children:t})]}),i.jsx("span",{className:"text-sm sm:text-base font-bold text-slate-900 dark:text-white",children:r})]}),sN=({label:e,value:t,isRTL:r})=>i.jsxs("div",{dir:r?"rtl":"ltr",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium mb-2",children:e}),i.jsx("p",{className:"text-base font-semibold text-slate-900 dark:text-white",children:t})]});function kFe(){const{t:e}=Pt(),{currentLanguage:t,isRTL:r}=ar();Br();const{user:n,loading:a}=dr(),[s,o]=x.useState({projects:[],clients:[],users:[],leads:[],surveys:[],myTasks:[],counts:{projects:0,users:0,leads:0,surveys:0,clients:0,myTasks:0}}),[l,c]=x.useState([]),[u,d]=x.useState(!0),[f,h]=x.useState(null),[m,g]=x.useState(new Map),[p,v]=x.useState(!1),y=async()=>{v(!0);try{localStorage.removeItem("dashboard_counts"),localStorage.removeItem("dashboard_mleads_chart"),localStorage.removeItem("dashboard_permissions"),c([]),g(new Map),await Promise.all([w(!0),j(),_()])}catch(S){console.error("[Dashboard] Refresh failed:",S)}finally{v(!1)}},b=s.projects.filter(S=>{var k;const N=(k=n==null?void 0:n.profile)==null?void 0:k.userid,C=N?Number(N):null;return C!==null&&!isNaN(C)&&Number(S.created_by)===C}),_=async()=>{try{const S="dashboard_mleads_chart",N=localStorage.getItem(S);if(N){const{data:R,timestamp:z}=JSON.parse(N),P=Date.now()-z,M=5*60*1e3;if(P<M&&R.length>0){console.log("[Dashboard] Using cached MLeads chart data"),c(R);return}}if(l.length>0){console.log("[Dashboard] MLeads chart data already loaded, skipping...");return}const C=new Date;C.setDate(C.getDate()-30);const k={pageSize:50,select_fields:"leads_id,created_at",exact_filters:{created_at_gte:C.toISOString().split("T")[0]}},O=(await K.mLeads.list(k)).data||[],T=new Map;O.forEach(R=>{const z=new Date(R.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});T.set(z,(T.get(z)||0)+1)});const W=Array.from(T.entries()).sort((R,z)=>new Date(R[0]).getTime()-new Date(z[0]).getTime()).map(([R,z])=>({date:R,count:z}));localStorage.setItem(S,JSON.stringify({data:W,timestamp:Date.now()})),c(W)}catch(S){console.error("[Dashboard] Failed to load MLeads chart data:",S);const C=localStorage.getItem("dashboard_mleads_chart");if(C){const{data:k}=JSON.parse(C);c(k)}}};x.useEffect(()=>{n&&!a&&(w(),j(),_())},[n==null?void 0:n.id,a]);const j=async()=>{try{const S="dashboard_permissions",N=localStorage.getItem(S);if(N){const{data:E,timestamp:O}=JSON.parse(N),T=Date.now()-O,U=30*60*1e3;if(T<U){console.log("[Dashboard] Using cached permission names"),g(new Map(E));return}}const C=await jT(),k=new Map;C.forEach(E=>{k.set(E.permissions_ID,E.permissions_Name)}),localStorage.setItem(S,JSON.stringify({data:Array.from(k.entries()),timestamp:Date.now()})),g(k)}catch(S){console.error("Failed to load permission names:",S);const C=localStorage.getItem("dashboard_permissions");if(C){const{data:k}=JSON.parse(C);g(new Map(k))}}},w=async(S=!1)=>{var N,C,k,E,O,T;try{d(!0),h(null);const U="dashboard_counts";if(!S){const G=localStorage.getItem(U);if(G){const{data:H,timestamp:ee}=JSON.parse(G),ue=Date.now()-ee,ye=2*60*1e3;if(ue<ye){console.log("[Dashboard] Using cached dashboard counts"),o(ie=>({...ie,counts:H.counts})),d(!1);return}}}const[W]=await Promise.all([K.getAggregates(["m_projects","users","m_leads","surveys","tasks","clients"])]),R=((N=W.m_projects)==null?void 0:N.Count)||0,z=((C=W.users)==null?void 0:C.Count)||0,P=((k=W.m_leads)==null?void 0:k.Count)||0,M=((E=W.surveys)==null?void 0:E.Count)||0,I=((O=W.clients)==null?void 0:O.Count)||0,q=((T=W.tasks)==null?void 0:T.Count)||0,J={projects:R,users:z,leads:P,surveys:M,clients:I,myTasks:0};localStorage.setItem(U,JSON.stringify({data:{counts:J},timestamp:Date.now()})),o({projects:[],users:[],leads:[],surveys:[],clients:[],myTasks:[],counts:J})}catch(U){console.error("[Dashboard] Failed to load data:",U);const R=localStorage.getItem("dashboard_counts");if(R){const{data:z}=JSON.parse(R);o(P=>({...P,counts:z.counts})),d(!1);return}o({projects:[],users:[],leads:[],surveys:[],clients:[],myTasks:[],counts:{projects:0,users:0,leads:0,surveys:0,clients:0,myTasks:0}}),h(U.message||"Failed to load data")}finally{d(!1)}};return u||a||!n?i.jsx("div",{className:"flex items-center justify-center h-full py-12",dir:r?"rtl":"ltr",children:i.jsx(oa,{message:e("common.loading"),size:"2xl"})}):f?i.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",dir:r?"rtl":"ltr",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600",children:e("common.error")}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:f}),i.jsx(fe,{onClick:()=>w(),className:"mt-4",children:e("common.retry","Retry")})]})}):n.role==="client"?i.jsx(Gy,{to:"/client-portal",replace:!0}):n.role==="admin"?i.jsx(sL,{projects:s.projects,users:s.users,leads:s.leads,clients:s.clients,surveys:s.surveys,loadData:w,isRTL:r,t:e,counts:s.counts,mleadsChartData:l,handleRefresh:y,refreshing:p}):["employee","manager","team_leader"].includes(n.role)?i.jsx(SFe,{user:n,myTasks:s.myTasks,myProjects:b,leads:s.leads,surveys:s.surveys,isRTL:r,t:e,counts:s.counts,mleadsChartData:l,handleRefresh:y,refreshing:p}):["partner_employee","partner_leader"].includes(n.role)?i.jsxs("div",{className:"space-y-8",dir:r?"rtl":"ltr",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:e("partnerEmployeeDashboard.title","Partner Employee Dashboard")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("partnerEmployeeDashboard.subtitle","Welcome to your partner employee portal")})]})}),i.jsxs(ft,{className:"border-0 shadow-md",children:[i.jsx(Yt,{children:i.jsxs(yr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Bd,{className:"h-6 w-6 text-primary"}),e("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),i.jsx(yt,{children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(lf,{width:"100%",height:"100%",children:i.jsxs(rj,{data:l,margin:{top:5,right:30,left:30,bottom:5},children:[i.jsx(hf,{strokeDasharray:"3 3"}),i.jsx(wl,{dataKey:"date",angle:r?45:-45,textAnchor:r?"start":"end",height:80,tick:{fontSize:12},reversed:r}),i.jsx(jl,{orientation:r?"right":"left",label:{value:"Number of Leads",angle:r?90:-90,position:r?"insideRight":"insideLeft"}}),i.jsx(ya,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:S=>[`${S} leads`,"Total"]}),i.jsx(Li,{}),i.jsx(Xu,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),i.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:i.jsx(Oi,{title:"",value:0,subtext:"",icon:Ld,isRTL:r})}),i.jsx("h2",{className:"text-2xl font-semibold",children:e("common.comingSoon","Coming Soon")}),i.jsx("p",{className:"text-muted-foreground max-w-md",children:e("partnerEmployeeDashboard.comingSoonMessage","We're working hard to bring you an amazing partner employee experience.")})]})})]}):i.jsx(sL,{projects:s.projects,users:s.users,leads:s.leads,clients:s.clients,surveys:s.surveys,loadData:w,isRTL:r,t:e,counts:s.counts,mleadsChartData:l,handleRefresh:y,refreshing:p})}var nj="Popover",[PH,aqe]=vs(nj,[pp]),fx=pp(),[CFe,Qu]=PH(nj),OH=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!1}=e,l=fx(t),c=x.useRef(null),[u,d]=x.useState(!1),[f,h]=gc({prop:n,defaultProp:a??!1,onChange:s,caller:nj});return i.jsx(UT,{...l,children:i.jsx(CFe,{scope:t,contentId:na(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:o,children:r})})};OH.displayName=nj;var DH="PopoverAnchor",EFe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Qu(DH,r),s=fx(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(Y_,{...s,...n,ref:t})});EFe.displayName=DH;var RH="PopoverTrigger",FH=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Qu(RH,r),s=fx(r),o=Bt(t,a.triggerRef),l=i.jsx(vt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":BH(a.open),...n,ref:o,onClick:at(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:i.jsx(Y_,{asChild:!0,...s,children:l})});FH.displayName=RH;var fP="PopoverPortal",[TFe,AFe]=PH(fP,{forceMount:void 0}),MH=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=Qu(fP,t);return i.jsx(TFe,{scope:t,forceMount:r,children:i.jsx($a,{present:r||s.open,children:i.jsx(Xv,{asChild:!0,container:a,children:n})})})};MH.displayName=fP;var qm="PopoverContent",IH=x.forwardRef((e,t)=>{const r=AFe(qm,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=Qu(qm,e.__scopePopover);return i.jsx($a,{present:n||s.open,children:s.modal?i.jsx(OFe,{...a,ref:t}):i.jsx(DFe,{...a,ref:t})})});IH.displayName=qm;var PFe=Pu("PopoverContent.RemoveScroll"),OFe=x.forwardRef((e,t)=>{const r=Qu(qm,e.__scopePopover),n=x.useRef(null),a=Bt(t,n),s=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return X_(o)},[]),i.jsx(Qv,{as:PFe,allowPinchZoom:!0,children:i.jsx(LH,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:at(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:at(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:at(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),DFe=x.forwardRef((e,t)=>{const r=Qu(qm,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return i.jsx(LH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),LH=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Qu(qm,r),m=fx(r);return H_(),i.jsx(Kv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Gv,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(zT,{"data-state":BH(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),$H="PopoverClose",RFe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Qu($H,r);return i.jsx(vt.button,{type:"button",...n,ref:t,onClick:at(e.onClick,()=>a.onOpenChange(!1))})});RFe.displayName=$H;var FFe="PopoverArrow",MFe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=fx(r);return i.jsx(VT,{...a,...n,ref:t})});MFe.displayName=FFe;function BH(e){return e?"open":"closed"}var IFe=OH,LFe=FH,$Fe=MH,UH=IH;const za=IFe,Va=LFe,ga=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>i.jsx($Fe,{children:i.jsx(UH,{ref:a,align:t,sideOffset:r,className:Ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ga.displayName=UH.displayName;const BFe={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},UFe=(e,t,r)=>{const n=BFe[e];let a;return typeof n=="string"?a=n:t===1?a=n.one:t===2?a=n.two:t<=10?a=n.threeToTen.replace("{{count}}",String(t)):a=n.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?" "+a:" "+a:a},zFe={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},VFe={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},WFe={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HFe={date:Dh({formats:zFe,defaultWidth:"full"}),time:Dh({formats:VFe,defaultWidth:"full"}),dateTime:Dh({formats:WFe,defaultWidth:"full"})},qFe={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},GFe=e=>qFe[e],KFe={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},YFe={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},XFe={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},QFe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},JFe={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},ZFe={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},eMe=e=>String(e),tMe={ordinalNumber:eMe,era:Jo({values:KFe,defaultWidth:"wide"}),quarter:Jo({values:YFe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Jo({values:XFe,defaultWidth:"wide"}),day:Jo({values:QFe,defaultWidth:"wide"}),dayPeriod:Jo({values:JFe,defaultWidth:"wide",formattingValues:ZFe,defaultFormattingWidth:"wide"})},rMe=/^(\d+)(th|st|nd|rd)?/i,nMe=/\d+/i,aMe={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},sMe={any:[//,//]},iMe={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},oMe={any:[/1/i,/2/i,/3/i,/4/i]},lMe={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},cMe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},uMe={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},dMe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},fMe={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},hMe={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},mMe={ordinalNumber:yB({matchPattern:rMe,parsePattern:nMe,valueCallback:e=>parseInt(e,10)}),era:Zo({matchPatterns:aMe,defaultMatchWidth:"wide",parsePatterns:sMe,defaultParseWidth:"any"}),quarter:Zo({matchPatterns:iMe,defaultMatchWidth:"wide",parsePatterns:oMe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Zo({matchPatterns:lMe,defaultMatchWidth:"wide",parsePatterns:cMe,defaultParseWidth:"any"}),day:Zo({matchPatterns:uMe,defaultMatchWidth:"wide",parsePatterns:dMe,defaultParseWidth:"any"}),dayPeriod:Zo({matchPatterns:fMe,defaultMatchWidth:"any",parsePatterns:hMe,defaultParseWidth:"any"})},pMe={code:"ar",formatDistance:UFe,formatLong:HFe,formatRelative:GFe,localize:tMe,match:mMe,options:{weekStartsOn:6,firstWeekContainsDate:1}};var Nt=function(){return Nt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Nt.apply(this,arguments)};function gMe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function zH(e,t,r){for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function hx(e){return e.mode==="multiple"}function mx(e){return e.mode==="range"}function aj(e){return e.mode==="single"}var vMe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function xMe(e,t){return ds(e,"LLLL y",t)}function yMe(e,t){return ds(e,"d",t)}function bMe(e,t){return ds(e,"LLLL",t)}function _Me(e){return"".concat(e)}function wMe(e,t){return ds(e,"cccccc",t)}function jMe(e,t){return ds(e,"yyyy",t)}var SMe=Object.freeze({__proto__:null,formatCaption:xMe,formatDay:yMe,formatMonthCaption:bMe,formatWeekNumber:_Me,formatWeekdayName:wMe,formatYearCaption:jMe}),NMe=function(e,t,r){return ds(e,"do MMMM (EEEE)",r)},kMe=function(){return"Month: "},CMe=function(){return"Go to next month"},EMe=function(){return"Go to previous month"},TMe=function(e,t){return ds(e,"cccc",t)},AMe=function(e){return"Week n. ".concat(e)},PMe=function(){return"Year: "},OMe=Object.freeze({__proto__:null,labelDay:NMe,labelMonthDropdown:kMe,labelNext:CMe,labelPrevious:EMe,labelWeekNumber:AMe,labelWeekday:TMe,labelYearDropdown:PMe});function DMe(){var e="buttons",t=vMe,r=_T,n={},a={},s=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:SMe,labels:OMe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:s,styles:o,today:l,mode:"default"}}function RMe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,s=e.fromDate,o=e.toDate;return n?s=Ds(n):t&&(s=new Date(t,0,1)),a?o=U_(a):r&&(o=new Date(r,11,31)),{fromDate:s?fm(s):void 0,toDate:o?fm(o):void 0}}var VH=x.createContext(void 0);function FMe(e){var t,r=e.initialProps,n=DMe(),a=RMe(r),s=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!s||!o)&&(l="buttons");var c;(aj(r)||hx(r)||mx(r))&&(c=r.onSelect);var u=Nt(Nt(Nt({},n),r),{captionLayout:l,classNames:Nt(Nt({},n.classNames),r.classNames),components:Nt({},r.components),formatters:Nt(Nt({},n.formatters),r.formatters),fromDate:s,labels:Nt(Nt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Nt(Nt({},n.modifiers),r.modifiers),modifiersClassNames:Nt(Nt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Nt(Nt({},n.styles),r.styles),toDate:o});return i.jsx(VH.Provider,{value:u,children:e.children})}function Dr(){var e=x.useContext(VH);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function WH(e){var t=Dr(),r=t.locale,n=t.classNames,a=t.styles,s=t.formatters.formatCaption;return i.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function MMe(e){return i.jsx("svg",Nt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function HH(e){var t,r,n=e.onChange,a=e.value,s=e.children,o=e.caption,l=e.className,c=e.style,u=Dr(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:MMe;return i.jsxs("div",{className:l,style:c,children:[i.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),i.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:s}),i.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,i.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function IMe(e){var t,r=Dr(),n=r.fromDate,a=r.toDate,s=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return i.jsx(i.Fragment,{});if(!a)return i.jsx(i.Fragment,{});var f=[];if(Jne(n,a))for(var h=Ds(n),m=n.getMonth();m<=a.getMonth();m++)f.push(fS(h,m));else for(var h=Ds(new Date),m=0;m<=11;m++)f.push(fS(h,m));var g=function(v){var y=Number(v.target.value),b=fS(Ds(e.displayMonth),y);e.onChange(b)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:HH;return i.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(v){return i.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function LMe(e){var t,r=e.displayMonth,n=Dr(),a=n.fromDate,s=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});for(var m=a.getFullYear(),g=s.getFullYear(),p=m;p<=g;p++)h.push(vR(vB(new Date),p));var v=function(b){var _=vR(Ds(r),Number(b.target.value));e.onChange(_)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:HH;return i.jsx(y,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(b){return i.jsx("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function $Me(e,t){var r=x.useState(e),n=r[0],a=r[1],s=t===void 0?n:t;return[s,a]}function BMe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,s=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&mm(s,a)<0){var u=-1*(c-1);a=Co(s,u)}return o&&mm(a,o)<0&&(a=o),Ds(a)}function UMe(){var e=Dr(),t=BMe(e),r=$Me(t,e.month),n=r[0],a=r[1],s=function(o){var l;if(!e.disableNavigation){var c=Ds(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,s]}function zMe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Ds(e),s=Ds(Co(a,n)),o=mm(s,a),l=[],c=0;c<o;c++){var u=Co(a,c);l.push(u)}return r&&(l=l.reverse()),l}function VMe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,o=n?s:1,l=Ds(e);if(!r)return Co(l,o);var c=mm(r,e);if(!(c<s))return Co(l,o)}}function WMe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,o=n?s:1,l=Ds(e);if(!r)return Co(l,-o);var c=mm(l,r);if(!(c<=0))return Co(l,-o)}}var qH=x.createContext(void 0);function HMe(e){var t=Dr(),r=UMe(),n=r[0],a=r[1],s=zMe(n,t),o=VMe(n,t),l=WMe(n,t),c=function(f){return s.some(function(h){return wT(f,h)})},u=function(f,h){c(f)||(h&&SB(f,h)?a(Co(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:s,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return i.jsx(qH.Provider,{value:d,children:e.children})}function px(){var e=x.useContext(qH);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function iL(e){var t,r=Dr(),n=r.classNames,a=r.styles,s=r.components,o=px().goToMonth,l=function(d){o(Co(d,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:WH,u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth});return i.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[i.jsx("div",{className:n.vhidden,children:u}),i.jsx(IMe,{onChange:l,displayMonth:e.displayMonth}),i.jsx(LMe,{onChange:l,displayMonth:e.displayMonth})]})}function qMe(e){return i.jsx("svg",Nt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function GMe(e){return i.jsx("svg",Nt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Xb=x.forwardRef(function(e,t){var r=Dr(),n=r.classNames,a=r.styles,s=[n.button_reset,n.button];e.className&&s.push(e.className);var o=s.join(" "),l=Nt(Nt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),i.jsx("button",Nt({},e,{ref:t,type:"button",className:o,style:l}))});function KMe(e){var t,r,n=Dr(),a=n.dir,s=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return i.jsx(i.Fragment,{});var h=u(e.previousMonth,{locale:s}),m=[o.nav_button,o.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:s}),p=[o.nav_button,o.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:GMe,y=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:qMe;return i.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&i.jsx(Xb,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?i.jsx(v,{className:o.nav_icon,style:l.nav_icon}):i.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&i.jsx(Xb,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?i.jsx(y,{className:o.nav_icon,style:l.nav_icon}):i.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function oL(e){var t=Dr().numberOfMonths,r=px(),n=r.previousMonth,a=r.nextMonth,s=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(g){return wT(e.displayMonth,g)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&s(n)},m=function(){a&&s(a)};return i.jsx(KMe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function YMe(e){var t,r=Dr(),n=r.classNames,a=r.disableNavigation,s=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:WH,u;return a?u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=i.jsx(iL,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=i.jsxs(i.Fragment,{children:[i.jsx(iL,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),i.jsx(oL,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=i.jsxs(i.Fragment,{children:[i.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(oL,{displayMonth:e.displayMonth,id:e.id})]}),i.jsx("div",{className:n.caption,style:s.caption,children:u})}function XMe(e){var t=Dr(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?i.jsx("tfoot",{className:a,style:n.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:r})})}):i.jsx(i.Fragment,{})}function QMe(e,t,r){for(var n=r?Zd(new Date):gl(new Date,{locale:e,weekStartsOn:t}),a=[],s=0;s<7;s++){var o=Ja(n,s);a.push(o)}return a}function JMe(){var e=Dr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,s=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=QMe(a,s,o);return i.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&i.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return i.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function ZMe(){var e,t=Dr(),r=t.classNames,n=t.styles,a=t.components,s=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:JMe;return i.jsx("thead",{style:n.head,className:r.head,children:i.jsx(s,{})})}function e3e(e){var t=Dr(),r=t.locale,n=t.formatters.formatDay;return i.jsx(i.Fragment,{children:n(e.date,{locale:r})})}var hP=x.createContext(void 0);function t3e(e){if(!hx(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return i.jsx(hP.Provider,{value:t,children:e.children})}return i.jsx(r3e,{initialProps:e.initialProps,children:e.children})}function r3e(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,s=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var p=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!p){var v=n?zH([],n):[];if(d.selected){var y=v.findIndex(function(b){return Es(u,b)});v.splice(y,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=s&&n.length>s-1,f=n.some(function(h){return Es(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return i.jsx(hP.Provider,{value:c,children:r})}function mP(){var e=x.useContext(hP);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function n3e(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Es(a,e)&&Es(n,e)?void 0:Es(a,e)?{from:a,to:void 0}:Es(n,e)?void 0:H2(n,e)?{from:e,to:a}:{from:n,to:e}:a?H2(e,a)?{from:a,to:e}:{from:e,to:a}:n?SB(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var pP=x.createContext(void 0);function a3e(e){if(!mx(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(pP.Provider,{value:t,children:e.children})}return i.jsx(s3e,{initialProps:e.initialProps,children:e.children})}function s3e(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},s=a.from,o=a.to,l=t.min,c=t.max,u=function(m,g,p){var v,y;(v=t.onDayClick)===null||v===void 0||v.call(t,m,g,p);var b=n3e(m,n);(y=t.onSelect)===null||y===void 0||y.call(t,b,m,g,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],o?(d.range_end=[o],Es(s,o)||(d.range_middle=[{after:s,before:o}])):d.range_end=[s]):o&&(d.range_start=[o],d.range_end=[o]),l&&(s&&!o&&d.disabled.push({after:dS(s,l-1),before:Ja(s,l-1)}),s&&o&&d.disabled.push({after:s,before:Ja(s,l-1)}),!s&&o&&d.disabled.push({after:dS(o,l-1),before:Ja(o,l-1)})),c){if(s&&!o&&(d.disabled.push({before:Ja(s,-c+1)}),d.disabled.push({after:Ja(s,c-1)})),s&&o){var f=sl(o,s)+1,h=c-f;d.disabled.push({before:dS(s,h)}),d.disabled.push({after:Ja(o,h)})}!s&&o&&(d.disabled.push({before:Ja(o,-c+1)}),d.disabled.push({after:Ja(o,c-1)}))}return i.jsx(pP.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function gP(){var e=x.useContext(pP);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function t1(e){return Array.isArray(e)?zH([],e):e!==void 0?[e]:[]}function i3e(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=t1(a)}),t}var Ro;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ro||(Ro={}));var o3e=Ro.Selected,$l=Ro.Disabled,l3e=Ro.Hidden,c3e=Ro.Today,iN=Ro.RangeEnd,oN=Ro.RangeMiddle,lN=Ro.RangeStart,u3e=Ro.Outside;function d3e(e,t,r){var n,a=(n={},n[o3e]=t1(e.selected),n[$l]=t1(e.disabled),n[l3e]=t1(e.hidden),n[c3e]=[e.today],n[iN]=[],n[oN]=[],n[lN]=[],n[u3e]=[],n);return e.fromDate&&a[$l].push({before:e.fromDate}),e.toDate&&a[$l].push({after:e.toDate}),hx(e)?a[$l]=a[$l].concat(t.modifiers[$l]):mx(e)&&(a[$l]=a[$l].concat(r.modifiers[$l]),a[lN]=r.modifiers[lN],a[oN]=r.modifiers[oN],a[iN]=r.modifiers[iN]),a}var GH=x.createContext(void 0);function f3e(e){var t=Dr(),r=mP(),n=gP(),a=d3e(t,r,n),s=i3e(t.modifiers),o=Nt(Nt({},a),s);return i.jsx(GH.Provider,{value:o,children:e.children})}function KH(){var e=x.useContext(GH);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function h3e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function m3e(e){return!!(e&&typeof e=="object"&&"from"in e)}function p3e(e){return!!(e&&typeof e=="object"&&"after"in e)}function g3e(e){return!!(e&&typeof e=="object"&&"before"in e)}function v3e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function x3e(e,t){var r,n=t.from,a=t.to;if(n&&a){var s=sl(a,n)<0;s&&(r=[a,n],n=r[0],a=r[1]);var o=sl(e,n)>=0&&sl(a,e)>=0;return o}return a?Es(a,e):n?Es(n,e):!1}function y3e(e){return yT(e)}function b3e(e){return Array.isArray(e)&&e.every(yT)}function _3e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(y3e(r))return Es(e,r);if(b3e(r))return r.includes(e);if(m3e(r))return x3e(e,r);if(v3e(r))return r.dayOfWeek.includes(e.getDay());if(h3e(r)){var n=sl(r.before,e),a=sl(r.after,e),s=n>0,o=a<0,l=H2(r.before,r.after);return l?o&&s:s||o}return p3e(r)?sl(e,r.after)>0:g3e(r)?sl(r.before,e)>0:typeof r=="function"?r(e):!1})}function vP(e,t,r){var n=Object.keys(t).reduce(function(s,o){var l=t[o];return _3e(e,l)&&s.push(o),s},[]),a={};return n.forEach(function(s){return a[s]=!0}),r&&!wT(e,r)&&(a.outside=!0),a}function w3e(e,t){for(var r=Ds(e[0]),n=U_(e[e.length-1]),a,s,o=r;o<=n;){var l=vP(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Ja(o,1);continue}if(l.selected)return o;l.today&&!s&&(s=o),a||(a=o),o=Ja(o,1)}return s||a}var j3e=365;function YH(e,t){var r=t.moveBy,n=t.direction,a=t.context,s=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Ja,week:W2,month:Co,year:Bre,startOfWeek:function(v){return a.ISOWeek?Zd(v):gl(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?xB(v):bT(v,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=Ure([u,m]):n==="after"&&d&&(m=zre([d,m]));var g=!0;if(s){var p=vP(m,s);g=!p.disabled&&!p.hidden}return g?m:l.count>j3e?l.lastFocused:YH(m,{moveBy:r,direction:n,context:a,modifiers:s,retry:Nt(Nt({},l),{count:l.count+1})})}var XH=x.createContext(void 0);function S3e(e){var t=px(),r=KH(),n=x.useState(),a=n[0],s=n[1],o=x.useState(),l=o[0],c=o[1],u=w3e(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),s(void 0)},h=function(v){s(v)},m=Dr(),g=function(v,y){if(a){var b=YH(a,{moveBy:v,direction:y,context:m,modifiers:r});Es(a,b)||(t.goToDate(b,a),h(b))}},p={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return i.jsx(XH.Provider,{value:p,children:e.children})}function xP(){var e=x.useContext(XH);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function N3e(e,t){var r=KH(),n=vP(e,r,t);return n}var yP=x.createContext(void 0);function k3e(e){if(!aj(e.initialProps)){var t={selected:void 0};return i.jsx(yP.Provider,{value:t,children:e.children})}return i.jsx(C3e,{initialProps:e.initialProps,children:e.children})}function C3e(e){var t=e.initialProps,r=e.children,n=function(s,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,s,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,s,s,o,l)},a={selected:t.selected,onDayClick:n};return i.jsx(yP.Provider,{value:a,children:r})}function QH(){var e=x.useContext(yP);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function E3e(e,t){var r=Dr(),n=QH(),a=mP(),s=gP(),o=xP(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,g=o.focusMonthAfter,p=o.focusYearBefore,v=o.focusYearAfter,y=o.focusStartOfWeek,b=o.focusEndOfWeek,_=function(P){var M,I,q,J;aj(r)?(M=n.onDayClick)===null||M===void 0||M.call(n,e,t,P):hx(r)?(I=a.onDayClick)===null||I===void 0||I.call(a,e,t,P):mx(r)?(q=s.onDayClick)===null||q===void 0||q.call(s,e,t,P):(J=r.onDayClick)===null||J===void 0||J.call(r,e,t,P)},j=function(P){var M;h(e),(M=r.onDayFocus)===null||M===void 0||M.call(r,e,t,P)},w=function(P){var M;f(),(M=r.onDayBlur)===null||M===void 0||M.call(r,e,t,P)},S=function(P){var M;(M=r.onDayMouseEnter)===null||M===void 0||M.call(r,e,t,P)},N=function(P){var M;(M=r.onDayMouseLeave)===null||M===void 0||M.call(r,e,t,P)},C=function(P){var M;(M=r.onDayPointerEnter)===null||M===void 0||M.call(r,e,t,P)},k=function(P){var M;(M=r.onDayPointerLeave)===null||M===void 0||M.call(r,e,t,P)},E=function(P){var M;(M=r.onDayTouchCancel)===null||M===void 0||M.call(r,e,t,P)},O=function(P){var M;(M=r.onDayTouchEnd)===null||M===void 0||M.call(r,e,t,P)},T=function(P){var M;(M=r.onDayTouchMove)===null||M===void 0||M.call(r,e,t,P)},U=function(P){var M;(M=r.onDayTouchStart)===null||M===void 0||M.call(r,e,t,P)},W=function(P){var M;(M=r.onDayKeyUp)===null||M===void 0||M.call(r,e,t,P)},R=function(P){var M;switch(P.key){case"ArrowLeft":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":P.preventDefault(),P.stopPropagation(),u();break;case"ArrowUp":P.preventDefault(),P.stopPropagation(),d();break;case"PageUp":P.preventDefault(),P.stopPropagation(),P.shiftKey?p():m();break;case"PageDown":P.preventDefault(),P.stopPropagation(),P.shiftKey?v():g();break;case"Home":P.preventDefault(),P.stopPropagation(),y();break;case"End":P.preventDefault(),P.stopPropagation(),b();break}(M=r.onDayKeyDown)===null||M===void 0||M.call(r,e,t,P)},z={onClick:_,onFocus:j,onBlur:w,onKeyDown:R,onKeyUp:W,onMouseEnter:S,onMouseLeave:N,onPointerEnter:C,onPointerLeave:k,onTouchCancel:E,onTouchEnd:O,onTouchMove:T,onTouchStart:U};return z}function T3e(){var e=Dr(),t=QH(),r=mP(),n=gP(),a=aj(e)?t.selected:hx(e)?r.selected:mx(e)?n.selected:void 0;return a}function A3e(e){return Object.values(Ro).includes(e)}function P3e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(A3e(n)){var s=e.classNames["day_".concat(n)];s&&r.push(s)}}),r}function O3e(e,t){var r=Nt({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Nt(Nt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function D3e(e,t,r){var n,a,s,o=Dr(),l=xP(),c=N3e(e,t),u=E3e(e,c),d=T3e(),f=!!(o.onDayClick||o.mode!=="default");x.useEffect(function(){var S;c.outside||l.focusedDay&&f&&Es(l.focusedDay,e)&&((S=r.current)===null||S===void 0||S.focus())},[l.focusedDay,e,r,f,c.outside]);var h=P3e(o,c).join(" "),m=O3e(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(s=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&s!==void 0?s:e3e,v=i.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),y={style:m,className:h,children:v,role:"gridcell"},b=l.focusTarget&&Es(l.focusTarget,e)&&!c.outside,_=l.focusedDay&&Es(l.focusedDay,e),j=Nt(Nt(Nt({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=_||b?0:-1,n)),u),w={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:y};return w}function R3e(e){var t=x.useRef(null),r=D3e(e.date,e.displayMonth,t);return r.isHidden?i.jsx("div",{role:"gridcell"}):r.isButton?i.jsx(Xb,Nt({name:"day",ref:t},r.buttonProps)):i.jsx("div",Nt({},r.divProps))}function F3e(e){var t=e.number,r=e.dates,n=Dr(),a=n.onWeekNumberClick,s=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return i.jsx("span",{className:o.weeknumber,style:s.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return i.jsx(Xb,{name:"week-number","aria-label":f,className:o.weeknumber,style:s.weeknumber,onClick:h,children:d})}function M3e(e){var t,r,n=Dr(),a=n.styles,s=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:R3e,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:F3e,d;return o&&(d=i.jsx("td",{className:s.cell,style:a.cell,children:i.jsx(u,{number:e.weekNumber,dates:e.dates})})),i.jsxs("tr",{className:s.row,style:a.row,children:[d,e.dates.map(function(f){return i.jsx("td",{className:s.cell,style:a.cell,role:"presentation",children:i.jsx(c,{displayMonth:e.displayMonth,date:f})},Yne(f))})]})}function lL(e,t,r){for(var n=r!=null&&r.ISOWeek?xB(t):bT(t,r),a=r!=null&&r.ISOWeek?Zd(e):gl(e,r),s=sl(n,a),o=[],l=0;l<=s;l++)o.push(Ja(a,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?bB(d):wB(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function I3e(e,t){var r=lL(Ds(e),U_(e),t);if(t!=null&&t.useFixedWeeks){var n=Qne(e,t);if(n<6){var a=r[r.length-1],s=a.dates[a.dates.length-1],o=W2(s,6-n),l=lL(W2(s,1),o,t);r.push.apply(r,l)}}return r}function L3e(e){var t,r,n,a=Dr(),s=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,g=I3e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:ZMe,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:M3e,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:XMe;return i.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&i.jsx(p,{}),i.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(b){return i.jsx(v,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),i.jsx(y,{displayMonth:e.displayMonth})]})}function $3e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var B3e=$3e()?x.useLayoutEffect:x.useEffect,cN=!1,U3e=0;function cL(){return"react-day-picker-".concat(++U3e)}function z3e(e){var t,r=e??(cN?cL():null),n=x.useState(r),a=n[0],s=n[1];return B3e(function(){a===null&&s(cL())},[]),x.useEffect(function(){cN===!1&&(cN=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function V3e(e){var t,r,n=Dr(),a=n.dir,s=n.classNames,o=n.styles,l=n.components,c=px().displayMonths,u=z3e(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[s.month],h=o.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!m&&!g;a==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(f.push(s.caption_start),h=Nt(Nt({},h),o.caption_start)),g&&(f.push(s.caption_end),h=Nt(Nt({},h),o.caption_end)),p&&(f.push(s.caption_between),h=Nt(Nt({},h),o.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:YMe;return i.jsxs("div",{className:f.join(" "),style:h,children:[i.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(L3e,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function W3e(e){var t=Dr(),r=t.classNames,n=t.styles;return i.jsx("div",{className:r.months,style:n.months,children:e.children})}function H3e(e){var t,r,n=e.initialProps,a=Dr(),s=xP(),o=px(),l=x.useState(!1),c=l[0],u=l[1];x.useEffect(function(){a.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[a.initialFocus,c,s.focus,s.focusTarget,s]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=Nt(Nt({},a.styles.root),a.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var v;return Nt(Nt({},g),(v={},v[p]=n[p],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:W3e;return i.jsx("div",Nt({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:i.jsx(m,{children:o.displayMonths.map(function(g,p){return i.jsx(V3e,{displayIndex:p,displayMonth:g},p)})})}))}function q3e(e){var t=e.children,r=gMe(e,["children"]);return i.jsx(FMe,{initialProps:r,children:i.jsx(HMe,{children:i.jsx(k3e,{initialProps:r,children:i.jsx(t3e,{initialProps:r,children:i.jsx(a3e,{initialProps:r,children:i.jsx(f3e,{children:i.jsx(S3e,{children:t})})})})})})})}function G3e(e){return i.jsx(q3e,Nt({},e,{children:i.jsx(H3e,{initialProps:e})}))}function JH({className:e,classNames:t,showOutsideDays:r=!0,...n}){return i.jsx(G3e,{showOutsideDays:r,className:Ne("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ne(vm({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ne(vm({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>i.jsx(yae,{className:"h-4 w-4"}),IconRight:({...a})=>i.jsx(z_,{className:"h-4 w-4"})},...n})}JH.displayName="Calendar";function bP({onSearch:e,onFilterStatus:t,onFilterAssignee:r,onFilterDateRange:n,users:a=[],statuses:s=[],placeholder:o,className:l}){const{t:c}=Pt(),{currentLanguage:u}=ar(),[d,f]=x.useState(""),[h,m]=x.useState({from:void 0,to:void 0}),g=u==="ar"?pMe:void 0;x.useEffect(()=>{const y=setTimeout(()=>{e(d)},300);return()=>clearTimeout(y)},[d,e]);const p=y=>{m(y),n&&n(y)},v=()=>{f(""),m({from:void 0,to:void 0}),t&&t("all"),r&&r("all"),n&&n({from:void 0,to:void 0})};return i.jsxs("div",{className:Ne("flex flex-col sm:flex-row gap-3 mb-6",l),children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(La,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground rtl:right-2.5 rtl:left-auto"}),i.jsx(ze,{placeholder:o||c("common.search","Search..."),value:d,onChange:y=>f(y.target.value),className:"pl-9 rtl:pr-9 rtl:pl-3"})]}),i.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:[t&&s.length>0&&i.jsxs(ct,{onValueChange:t,children:[i.jsxs(ot,{className:"w-[140px]",children:[i.jsx(kae,{className:"mr-2 h-4 w-4"}),i.jsx(ut,{placeholder:c("common.status","Status")})]}),i.jsxs(lt,{children:[i.jsx(je,{value:"all",children:c("common.all","All")}),s.map(y=>i.jsx(je,{value:y.value,children:y.label},y.value))]})]}),r&&a.length>0&&i.jsxs(ct,{onValueChange:r,children:[i.jsxs(ot,{className:"w-[140px]",children:[i.jsx(K3e,{className:"mr-2 h-4 w-4"}),i.jsx(ut,{placeholder:c("common.assignee","Assignee")})]}),i.jsxs(lt,{children:[i.jsx(je,{value:"all",children:c("common.all","All")}),a.filter(y=>["employee","admin","manager","team_leader"].includes(y.user_role)).map(y=>i.jsx(je,{value:y.user_id.toString(),children:Te(y,"user_name")},y.user_id))]})]}),n&&i.jsxs(za,{children:[i.jsx(Va,{asChild:!0,children:i.jsxs(fe,{variant:"outline",className:Ne("w-[240px] justify-start text-left font-normal",!h.from&&"text-muted-foreground"),children:[i.jsx(zi,{className:"mr-2 h-4 w-4"}),h.from?h.to?i.jsxs(i.Fragment,{children:[ds(h.from,"LLL dd, y",{locale:g})," -"," ",ds(h.to,"LLL dd, y",{locale:g})]}):ds(h.from,"LLL dd, y",{locale:g}):i.jsx("span",{children:c("common.pickDate","Pick a date")})]})}),i.jsx(ga,{className:"w-auto p-0",align:"start",children:i.jsx(JH,{initialFocus:!0,mode:"range",defaultMonth:h.from,selected:h,onSelect:p,numberOfMonths:2})})]}),i.jsx(fe,{variant:"ghost",size:"icon",onClick:v,title:c("common.clearFilters","Clear filters"),children:i.jsx(ui,{className:"h-4 w-4"})})]})]})}function K3e(e){return i.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}const ka={async getAll(){try{console.log("[stageService] Fetching all stages...");const e=await K.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch stages:",e),e}},async getGlobalStages(){try{console.log("[stageService] Fetching global stages...");const e=await K.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} global stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch global stages:",e),e}},async getByType(e){try{console.log(`[stageService] Fetching stages for type: ${e}...`);const t=await K.stages.list({exact_filters:{stage_type:e},sort_by:"stager_order_index",sort_order:"asc"});return console.log(`[stageService] Successfully fetched ${t.data.length} ${e} stages`),t.data}catch(t){throw console.error(`[stageService] Failed to fetch ${e} stages: `,t),t}},async create(e){try{const t=await this.getAll(),r=t.length>0?Math.max(...t.map(o=>o.stager_order_index||0)):-1,n=e.stager_order_index??r+1,a={stage_name:e.stage_name,stage_name_ar:e.stage_name_ar||null,stage_type:e.stage_type,stager_order_index:n,color:e.color,color_var:e.color_var};return await K.stages.create(a)}catch(t){throw console.error("[stageService] Failed to create stage:",t),t}},async update(e,t){try{const r=fc(t,{stage_name:"stage_name"});await K.stages.update(e,r)}catch(r){throw console.error("[stageService] Failed to update stage:",r),r}},async delete(e){try{await K.stages.delete(e)}catch(t){throw console.error("[stageService] Failed to delete stage:",t),t}}},jn={async getAll(){try{console.log("[userService] Fetching all users...");const e=await K.Users.list();return console.log(`[userService] Successfully fetched ${e.data.length} users`),e.data}catch(e){throw console.error("[userService] Failed to fetch users:",e),e}},async getCount(){return K.count("Users")},async getById(e){try{const t=await K.Users.list({exact_filters:{userid:e},pageSize:1});return t.data&&t.data.length>0?t.data[0]:null}catch(t){return console.error("[userService] Failed to fetch user:",t),null}},async getByAuthId(e){try{return(await K.Users.list({exact_filters:{userid:e}})).data[0]||null}catch(t){return console.error("[userService] Failed to fetch user by auth ID:",t),null}},async update(e,t){try{const r={};t.name!==void 0&&(r.name=t.name),t.Email!==void 0&&(r.Email=t.Email),t.permissions!==void 0&&(r.permissions=t.permissions),t.mobile!==void 0&&(r.mobile=t.mobile),t.IsActive!==void 0&&(r.IsActive=t.IsActive),t.Employee!==void 0&&(r.Employee=t.Employee),await K.Users.update(e,r),console.log(`[userService] Successfully updated user ${e} `)}catch(r){throw console.error("[userService] Failed to update user:",r),r}}},ZH={async getAll(){try{console.log("[clientService] Fetching all clients...");const e=await K.Users.list({exact_filters:{user_role:"client"}});return console.log(`[clientService] Successfully fetched ${e.data.length} clients`),e.data}catch(e){throw console.error("[clientService] Failed to fetch clients:",e),e}},async getCount(){return K.count("Users")},async getById(e){try{const t=await K.Users.list({exact_filters:{userid:e},pageSize:1});if(t.data&&t.data.length>0){const r=t.data[0];if(r.user_role==="client")return r}return null}catch(t){return console.error("[clientService] Failed to fetch client:",t),null}},async create(e){try{const t={name:e.name,Email:e.Email,mobile:e.mobile,IsActive:1,Employee:0,Owner:0,permissions:e.permissions||0};return await K.Users.create(t)}catch(t){throw console.error("[clientService] Failed to create client:",t),t}}},fd={async getAll(){try{console.log("[projectService] Fetching all projects...");const e=await K.projects.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[projectService] Successfully fetched ${e.data.length} projects`),e.data}catch(e){throw console.error("[projectService] Failed to fetch projects:",e),e}},async getCount(){return K.count("projects")},async getById(e){try{return await K.projects.get(e)}catch(t){return console.error("[projectService] Failed to fetch project:",t),null}},async create(e){try{return await K.projects.create({project_name:e.project_name,project_description:e.project_description,created_by:e.created_by,progress:e.progress||0,stage:e.stage,end_date:e.end_date})}catch(t){throw console.error("[projectService] Failed to create project:",t),t}},async update(e,t){try{const r={};t.project_name&&(r.project_name=t.project_name),t.project_description!==void 0&&(r.project_description=t.project_description),t.progress!==void 0&&(r.progress=t.progress),t.stage!==void 0&&(r.stage=t.stage),t.end_date!==void 0&&(r.end_date=t.end_date),await K.projects.update(e,r)}catch(r){throw console.error("[projectService] Failed to update project:",r),r}},async delete(e){try{await K.projects.delete(e)}catch(t){throw console.error("[projectService] Failed to delete project:",t),t}},async getByUserAuthId(e){try{console.log("[projectService] Fetching projects for user:",e);const r=(await K.projectUsers.list({exact_filters:{userid:e}})).data.map(a=>a.project_id);if(r.length===0)return[];const n=await Promise.all(r.map(a=>K.projects.get(a)));return console.log(`[projectService] Successfully fetched ${n.length} projects for user`),n.filter(a=>a!==null)}catch(t){throw console.error("[projectService] Failed to fetch projects for user:",t),t}}},jd={async getAll(){try{console.log("[taskService] Fetching all tasks...");const e=await K.tasks.list();return console.log(`[taskService] Successfully fetched ${e.data.length} tasks`),e.data}catch(e){throw console.error("[taskService] Failed to fetch tasks:",e),e}},async getCount(e={}){return K.count("tasks",e)},async getByStage(e){try{return(await K.tasks.getByStage(e)).data}catch(t){throw console.error("[taskService] Failed to fetch tasks:",t),t}},async create(e){try{const t=fc({task_name:e.task_name,stage_id:e.stage_id,assigned_to:e.assigned_to,task_status:e.task_status,due_date:e.due_date,description:e.description,userid:e.userid},{task_name:"task_name",description:"description"});return await K.tasks.create(t)}catch(t){throw console.error("[taskService] Failed to create task:",t),t}},async update(e,t){try{const r=fc(t,{task_name:"task_name",description:"description"});await K.tasks.update(e,r)}catch(r){throw console.error("[taskService] Failed to update task:",r),r}},async delete(e){try{await K.tasks.delete(e)}catch(t){throw console.error("[taskService] Failed to delete task:",t),t}}},UC={async getByTask(e){try{return(await K.comments.list({exact_filters:{task_id:e},sort_by:"created_date",sort_order:"asc"})).data}catch(t){throw console.error("[commentService] Failed to fetch comments:",t),t}},async create(e){try{return await K.comments.create({task_id:e.task_id,userid:e.userid,message:e.message})}catch(t){throw console.error("[commentService] Failed to create comment:",t),t}}},io={async getUserRooms(e){try{const r=(await K.roomMembers.list({exact_filters:{userid:e}})).data;if(!r||r.length===0)return[];const n=r.map(o=>o.room_id);return(await K.rooms.list({advanced_filters:[{column:"room_id",filter_type:"in",value:n}]})).data}catch(t){throw console.error("[roomService] Failed to get user rooms:",t),t}},async createRoom(e){let t=e.created_by;if(!t||t===0){const n=await jn.getByAuthId(e.userid);n&&(t=n.userid)}return await K.rooms.create({room_name:e.name,is_private:e.is_private??!0,project_id:e.project_id,created_by:t,userid:e.userid})},async addMember(e,t){await K.roomMembers.create({room_id:e,userid:t})},async getRoomMembers(e){const t=await K.roomMembers.getByRoom(e);if(!t.data||t.data.length===0)return[];const r=t.data.map(n=>n.userid).filter(Boolean);if(r.length===0)return[];try{return(await K.Users.list({advanced_filters:[{column:"userid",filter_type:"in",value:r}]})).data||[]}catch(n){return console.warn("[roomService] Batch user fetch failed, falling back to individual calls:",n),(await Promise.all(t.data.map(async s=>await jn.getByAuthId(s.userid)))).filter(Boolean)}},async markAsRead(e,t){try{const r=await K.roomMembers.list({exact_filters:{room_id:e,userid:t}});if(r.data.length>0){const n=r.data[0].id;n&&await K.roomMembers.update(n,{last_read_at:new Date().toISOString()})}}catch(r){console.error("[roomService] Failed to mark room as read:",r)}}},Y3e={async getProjectUsers(e){try{console.log("[projectUserService] Fetching users for project:",e);const t=await K.projectUsers.getByProject(e);if(!t.data||t.data.length===0)return[];const r=t.data.map(a=>a.user_id);return(await Promise.all(r.map(a=>jn.getById(a)))).filter(Boolean)}catch(t){throw console.error("[projectUserService] Failed to fetch project users:",t),t}},async addUserToProject(e,t){try{console.log("[projectUserService] Adding user",t,"to project",e),await K.projectUsers.create({project_id:e,user_id:t}),console.log("[projectUserService] Successfully added user to project")}catch(r){throw console.error("[projectUserService] Failed to add user to project:",r),r}},async removeUserFromProject(e,t){try{console.log("[projectUserService] Removing user",t,"from project",e);const r=await K.projectUsers.list({exact_filters:{project_id:e,user_id:t}});if(r.data.length>0){const n=r.data[0].id;n&&await K.projectUsers.delete(n)}console.log("[projectUserService] Successfully removed user from project")}catch(r){throw console.error("[projectUserService] Failed to remove user from project:",r),r}}},Xf={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await K.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getAllWithMembers(){try{console.log("[teamService] Fetching all teams with members...");const e=await this.getAll();if(!e||e.length===0)return[];const n=((await K.teamMembers.list()).data||[]).reduce((s,o)=>(s[o.team_id]||(s[o.team_id]=[]),s[o.team_id].push({userid:o.userid,joined_at:o.joined_at||o.created_at}),s),{});return e.map(s=>({...s,team_members:n[s.team_id]||[]}))}catch(e){throw console.error("[teamService] Failed to fetch teams with members:",e),e}},async getAllTeamMembers(){try{console.log("[teamService] Fetching all team members with user details...");const t=(await K.teamMembers.list()).data,r={};return(t||[]).forEach(n=>{const a={userid:n.user_id,name:n.Users_name||n.user_name||"Unknown User",Email:n.Users_Email||n.user_email,mobile:n.Users_mobile||n.user_mobile,IsActive:n.Users_IsActive,isAdmin:n.Users_isAdmin};r[n.team_id]||(r[n.team_id]=[]),r[n.team_id].push(a)}),r}catch(e){throw console.error("[teamService] Failed to fetch all team members:",e),e}},async getById(e){try{return await K.teams.get(e)}catch(t){return console.error("[teamService] Failed to fetch team:",t),null}},async create(e){try{return await K.teams.create(e)}catch(t){throw console.error("[teamService] Failed to create team:",t),t}},async update(e,t){try{const r=fc(t,{team_name:"team_name"});await K.teams.update(e,r)}catch(r){throw console.error("[teamService] Failed to update team:",r),r}},async delete(e){try{await K.teams.delete(e)}catch(t){throw console.error("[teamService] Failed to delete team:",t),t}},async getTeamMembers(e){try{console.log("[teamService] Fetching members for team:",e);const r=(await K.teamMembers.getByTeam(e)).data;if(!r||r.length===0)return[];const n=r.map(s=>s.userid);return(await Promise.all(n.map(s=>jn.getByAuthId(s)))).filter(Boolean)}catch(t){throw console.error("[teamService] Failed to fetch team members:",t),t}},async addMember(e,t){try{const r=Number(t);if(Number.isNaN(r))throw new Error(`Invalid user ID: ${t}`);console.log("[teamService] Adding member",r,"to team",e),await K.teamMembers.create({team_id:e,user_id:r}),console.log("[teamService] Successfully added member to team")}catch(r){throw console.error("[teamService] Failed to add member to team:",r),r}},async removeMember(e,t){try{const r=Number(t);if(Number.isNaN(r))throw new Error(`Invalid user ID: ${t}`);console.log("[teamService] Removing member",r,"from team",e);const n=await K.teamMembers.list({exact_filters:{team_id:e,user_id:r}});if(console.log("[teamService] Found records for deletion:",n.data.length,n.data),n.data.length>0){const a=n.data[0],s=(a==null?void 0:a.team_mem_id)??(a==null?void 0:a.id)??(a==null?void 0:a.team_members_id)??(a==null?void 0:a.team_membersId)??(a==null?void 0:a.team_id);if(!s)throw new Error("Unable to determine team member identifier for deletion");console.log("[teamService] Deleting team member record with ID:",s),await K.teamMembers.delete(s)}else console.warn("[teamService] No team member record found for team_id:",e,"user_id:",r);console.log("[teamService] Successfully removed member from team")}catch(r){throw console.error("[teamService] Failed to remove member from team:",r),r}}},m0={async getAll(){try{console.log("[ticketService] Fetching all tickets...");const e=await K.tickets.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[ticketService] Successfully fetched ${e.data.length} tickets`),e.data}catch(e){throw console.error("[ticketService] Failed to fetch tickets:",e),e}},async getById(e){try{return await K.tickets.get(e)}catch(t){return console.error("[ticketService] Failed to fetch ticket:",t),null}},async create(e){try{return await K.tickets.create({created_by:e.created_by,assigned_to:e.assigned_to,subject:e.subject,description:e.description,priority:e.priority,ticket_type:e.ticket_type,stage_id:e.stage_id,status:e.status,resolved_date:e.resolved_date,closed_at:e.closed_at,closed_by:e.closed_by,room_id:e.room_id,task_id:e.task_id})}catch(t){throw console.error("[ticketService] Failed to create ticket:",t),t}},async update(e,t){try{const r={};t.created_by!==void 0&&(r.created_by=t.created_by),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.subject!==void 0&&(r.subject=t.subject),t.description!==void 0&&(r.description=t.description),t.priority!==void 0&&(r.priority=t.priority),t.ticket_type!==void 0&&(r.ticket_type=t.ticket_type),t.stage_id!==void 0&&(r.stage_id=t.stage_id),t.resolved_date!==void 0&&(r.resolved_date=t.resolved_date),t.closed_at!==void 0&&(r.closed_at=t.closed_at),t.closed_by!==void 0&&(r.closed_by=t.closed_by),t.room_id!==void 0&&(r.room_id=t.room_id),t.task_id!==void 0&&(r.task_id=t.task_id),t.status!==void 0&&(r.status=t.status),await K.tickets.update(e,r)}catch(r){throw console.error("[ticketService] Failed to update ticket:",r),r}},async moveToStage(e,t){try{console.log(`[ticketService] Moving ticket ${e} to stage ${t}`),await K.tickets.update(e,{stage_id:t}),console.log("[ticketService] Successfully moved ticket to stage")}catch(r){throw console.error("[ticketService] Failed to move ticket to stage:",r),r}},async delete(e){try{await K.tickets.delete(e)}catch(t){throw console.error("[ticketService] Failed to delete ticket:",t),t}}},Kc={async getByRoom(e,t){try{const r={exact_filters:{room_id:e}};t!=null&&t.limit&&(r.limit=t.limit);const n=await K.messages.list(r);if(!n.data)return[];const a=n.data,s=[...new Set(a.map(u=>u.userid))];let o=[];try{if(s.length===0)return[];o=(await K.Users.list({advanced_filters:[{column:"userid",filter_type:"in",value:s}]})).data||[]}catch(u){console.warn("[messageService] Batch user fetch failed, falling back to individual calls:",u),o=await Promise.all(s.map(d=>jn.getByAuthId(d)))}const l=new Map(o.filter(u=>u).map(u=>[u.userid,u]));return a.map(u=>({...u,sender:l.get(u.userid)||null})).reverse()}catch(r){throw console.error("[messageService] Failed to fetch messages:",r),r}},async create(e){try{return await K.messages.create(e)}catch(t){throw console.error("[messageService] Failed to create message:",t),t}},async update(e,t){try{await K.messages.update(e,{content:t,is_edited:!0})}catch(r){throw console.error("[messageService] Failed to update message:",r),r}},async delete(e){try{await K.messages.delete(e)}catch(t){throw console.error("[messageService] Failed to delete message:",t),t}},async uploadAttachment(e){try{throw new Error("File upload not available - Supabase storage removed")}catch(t){throw console.error("[messageService] Failed to upload attachment:",t),t}}},hd={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await K.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getCount(){return K.count("teams")},async getById(e){try{return await K.leads.get(e)}catch(t){return console.error("[leadService] Failed to fetch lead:",t),null}},async create(e){try{return await K.leads.create({lead_name:e.lead_name,lead_description:e.lead_description,client_name:e.client_name,client_user_id:e.client_user_id,created_by:e.created_by,stage:e.stage,assigned_to:e.assigned_to,assigned_at:e.assigned_at,value:e.value||0,currency:e.currency||"SAR"})}catch(t){throw console.error("[leadService] Failed to create lead:",t),t}},async createMLead(e){try{return await K.mLeads.create(e)}catch(t){throw console.error("[leadService] Failed to create MLead:",t),t}},async update(e,t){try{const r={};t.lead_name&&(r.lead_name=t.lead_name),t.lead_description!==void 0&&(r.lead_description=t.lead_description),t.client_name&&(r.client_name=t.client_name),t.client_user_id&&(r.client_user_id=t.client_user_id),t.stage!==void 0&&(r.stage=t.stage),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.assigned_at!==void 0&&(r.assigned_at=t.assigned_at),t.value!==void 0&&(r.value=t.value),t.currency!==void 0&&(r.currency=t.currency),await K.leads.update(e,r)}catch(r){throw console.error("[leadService] Failed to update lead:",r),r}},async delete(e){try{await K.leads.delete(e)}catch(t){throw console.error("[leadService] Failed to delete lead:",t),t}}},Uh={async getByRelated(e,t){try{console.log(`[noteService] Fetching notes for ${e} ${t}...`);const n=(await K.notes.list({exact_filters:{related_to_type:e,related_to_id:t}})).data;if(!n||n.length===0)return[];const a=[...new Set(n.map(l=>l.created_by))],s=await Promise.all(a.map(l=>jn.getById(l))),o=new Map(s.filter(l=>l).map(l=>[l.userid,l]));return n.map(l=>({...l,user:o.get(l.created_by)?{userid:o.get(l.created_by).userid,user_id:o.get(l.created_by).userid,user_name:o.get(l.created_by).name,name:o.get(l.created_by).name,Email:o.get(l.created_by).Email}:void 0}))}catch(r){throw console.error("[noteService] Failed to fetch notes:",r),r}},async create(e){try{const t=await K.notes.create({content:e.content,related_to_type:e.related_to_type,related_to_id:e.related_to_id,created_by:e.created_by});return console.log("[noteService] Successfully created note"),t}catch(t){throw console.error("[noteService] Failed to create note:",t),t}},async update(e,t){try{await K.notes.update(e,{content:t,updated_at:new Date().toISOString()}),console.log("[noteService] Successfully updated note")}catch(r){throw console.error("[noteService] Failed to update note:",r),r}},async delete(e){try{await K.notes.delete(e),console.log("[noteService] Successfully deleted note")}catch(t){throw console.error("[noteService] Failed to delete note:",t),t}}},to={async getAll(){try{console.log("[surveyTemplateService] Fetching all survey templates...");const e=await K.surveyTemplates.list();return console.log(`[surveyTemplateService] Successfully fetched ${e.data.length} templates`),e.data}catch(e){throw console.error("[surveyTemplateService] Failed to fetch survey templates:",e),e}},async getById(e){try{return await K.surveyTemplates.get(e)}catch(t){return console.error("[surveyTemplateService] Failed to fetch template:",t),null}},async create(e){try{const t=await K.surveyTemplates.create(e);return{...e,template_id:t.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),updated_by:null}}catch(t){throw console.error("[surveyTemplateService] Failed to create template:",t),t}},async update(e,t){try{const r={};t.template_name&&(r.template_name=t.template_name),t.template_name_ar&&(r.template_name_ar=t.template_name_ar),t.template_description!==void 0&&(r.template_description=t.template_description),t.template_description_ar!==void 0&&(r.template_description_ar=t.template_description_ar),t.category&&(r.category=t.category),t.is_active!==void 0&&(r.is_active=t.is_active),t.is_default!==void 0&&(r.is_default=t.is_default),await K.surveyTemplates.update(e,r)}catch(r){throw console.error("[surveyTemplateService] Failed to update template:",r),r}},async delete(e){try{await K.surveyTemplates.delete(e)}catch(t){throw console.error("[surveyTemplateService] Failed to delete template:",t),t}},async getFields(e){try{console.log("[surveyTemplateService] Fetching fields for template:",e);const r=(await K.surveyTemplateFields.getByTemplate(e)).data;return console.log(`[surveyTemplateService] Successfully fetched ${(r==null?void 0:r.length)||0} fields`),(r||[]).sort((n,a)=>(n.field_order||0)-(a.field_order||0))}catch(t){throw console.error("[surveyTemplateService] Failed to fetch template fields:",t),t}},async createField(e){try{const t={...e,field_options:e.field_options?JSON.stringify(e.field_options):null},r=await K.surveyTemplateFields.create(t);return{...e,field_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(t){throw console.error("[surveyTemplateService] Failed to create field:",t),t}},async updateField(e,t){try{const r={};t.field_order!==void 0&&(r.field_order=t.field_order),t.field_type&&(r.field_type=t.field_type),t.field_label&&(r.field_label=t.field_label),t.field_label_ar&&(r.field_label_ar=t.field_label_ar),t.help_text!==void 0&&(r.help_text=t.help_text),t.help_text_ar!==void 0&&(r.help_text_ar=t.help_text_ar),t.is_required!==void 0&&(r.is_required=t.is_required),t.field_options!==void 0&&(r.field_options=t.field_options?JSON.stringify(t.field_options):null),t.validation_rules!==void 0&&(r.validation_rules=t.validation_rules),t.default_value!==void 0&&(r.default_value=t.default_value),t.conditional_logic!==void 0&&(r.conditional_logic=t.conditional_logic?JSON.stringify(t.conditional_logic):null),await K.surveyTemplateFields.update(e,r)}catch(r){throw console.error("[surveyTemplateService] Failed to update field:",r),r}},async deleteField(e){try{await K.surveyTemplateFields.delete(e)}catch(t){throw console.error("[surveyTemplateService] Failed to delete field:",t),t}}},eh={async getAll(){try{console.log("[surveyService] Fetching all surveys...");const e=await K.surveys.list({select_fields:["survey_id","created_at","survey_name","client_name","client_name_ar","client_company","client_contact","client_email","client_address","location_address","location_latitude","location_longitude","location_accuracy","survey_responses","status","created_by","created_by_name","notes","notes_ar","template_id","lead_id","device_info","decision_maker","updated_at","updated_by","reviewed_at","reviewed_by","converted_to_lead_at","completion_time_seconds"],pageSize:1e3});return console.log(`[surveyService] Successfully fetched ${e.data.length} surveys`),e.data}catch(e){throw console.error("[surveyService] Failed to fetch surveys:",e),e}},async getCount(){try{console.log("[surveyService] Fetching surveys count...");const t=(await qo("/api/v1/surveys/list?pageSize=1")).totalRows||0;return console.log(`[surveyService] Successfully fetched surveys count: ${t}`),t}catch(e){return console.error("[surveyService] Failed to fetch surveys count:",e),0}},async getById(e){try{return await K.surveys.get(e)}catch(t){return console.error("[surveyService] Failed to fetch survey:",t),null}},async create(e){try{const t={...e,survey_responses:e.survey_responses?JSON.stringify(e.survey_responses):null},r=await K.surveys.create(t);return{...e,survey_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(t){throw console.error("[surveyService] Failed to create survey:",t),t}},async createBatch(e){try{if(e.length===0)return[];console.log(`[surveyService] Batch creating ${e.length} surveys...`);const t=e.map(n=>({...n,survey_responses:n.survey_responses?JSON.stringify(n.survey_responses):null})),r=await Promise.all(t.map(n=>K.surveys.create(n)));return console.log(`[surveyService] Successfully batch created ${r.length} surveys`),r}catch(t){throw console.error("[surveyService] Failed to batch create surveys:",t),t}},async update(e,t){try{const r={};t.template_id!==void 0&&(r.template_id=t.template_id),t.survey_name&&(r.survey_name=t.survey_name),t.survey_description!==void 0&&(r.survey_description=t.survey_description),t.client_name&&(r.client_name=t.client_name),t.client_name_ar&&(r.client_name_ar=t.client_name_ar),t.client_contact!==void 0&&(r.client_contact=t.client_contact),t.client_email&&(r.client_email=t.client_email),t.client_address&&(r.client_address=t.client_address),t.client_company&&(r.client_company=t.client_company),t.client_company_ar&&(r.client_company_ar=t.client_company_ar),t.survey_responses!==void 0&&(r.survey_responses=t.survey_responses?JSON.stringify(t.survey_responses):null),t.location_latitude!==void 0&&(r.location_latitude=t.location_latitude),t.location_longitude!==void 0&&(r.location_longitude=t.location_longitude),t.location_accuracy!==void 0&&(r.location_accuracy=t.location_accuracy),t.location_address&&(r.location_address=t.location_address),t.status&&(r.status=t.status),t.lead_id!==void 0&&(r.lead_id=t.lead_id),t.converted_to_lead_at!==void 0&&(r.converted_to_lead_at=t.converted_to_lead_at),t.device_info!==void 0&&(r.device_info=t.device_info),t.completion_time_seconds!==void 0&&(r.completion_time_seconds=t.completion_time_seconds),t.notes&&(r.notes=t.notes),t.notes_ar&&(r.notes_ar=t.notes_ar),await K.surveys.update(e,r)}catch(r){throw console.error("[surveyService] Failed to update survey:",r),r}},async delete(e){try{await K.surveys.delete(e)}catch(t){throw console.error("[surveyService] Failed to delete survey:",t),t}}};var eq="AlertDialog",[X3e,sqe]=vs(eq,[N7]),Cc=N7(),tq=e=>{const{__scopeAlertDialog:t,...r}=e,n=Cc(t);return i.jsx(ow,{...n,...r,modal:!0})};tq.displayName=eq;var Q3e="AlertDialogTrigger",rq=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Cc(r);return i.jsx(aA,{...a,...n,ref:t})});rq.displayName=Q3e;var J3e="AlertDialogPortal",nq=e=>{const{__scopeAlertDialog:t,...r}=e,n=Cc(t);return i.jsx(lw,{...n,...r})};nq.displayName=J3e;var Z3e="AlertDialogOverlay",aq=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Cc(r);return i.jsx(vp,{...a,...n,ref:t})});aq.displayName=Z3e;var zh="AlertDialogContent",[eIe,tIe]=X3e(zh),rIe=kse("AlertDialogContent"),sq=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=Cc(r),o=x.useRef(null),l=Bt(t,o),c=x.useRef(null);return i.jsx(Fue,{contentName:zh,titleName:iq,docsSlug:"alert-dialog",children:i.jsx(eIe,{scope:r,cancelRef:c,children:i.jsxs(xp,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:at(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(rIe,{children:n}),i.jsx(aIe,{contentRef:o})]})})})});sq.displayName=zh;var iq="AlertDialogTitle",oq=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Cc(r);return i.jsx(tx,{...a,...n,ref:t})});oq.displayName=iq;var lq="AlertDialogDescription",cq=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Cc(r);return i.jsx(rx,{...a,...n,ref:t})});cq.displayName=lq;var nIe="AlertDialogAction",uq=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Cc(r);return i.jsx(cw,{...a,...n,ref:t})});uq.displayName=nIe;var dq="AlertDialogCancel",fq=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=tIe(dq,r),s=Cc(r),o=Bt(t,a);return i.jsx(cw,{...s,...n,ref:o})});fq.displayName=dq;var aIe=({contentRef:e})=>{const t=`\`${zh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${zh}\` by passing a \`${lq}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${zh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},sIe=tq,iIe=rq,oIe=nq,hq=aq,mq=sq,pq=uq,gq=fq,vq=oq,xq=cq;const hs=sIe,gx=iIe,lIe=oIe,yq=x.forwardRef(({className:e,...t},r)=>i.jsx(hq,{className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));yq.displayName=hq.displayName;const Aa=x.forwardRef(({className:e,...t},r)=>i.jsxs(lIe,{children:[i.jsx(yq,{}),i.jsx(mq,{ref:r,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Aa.displayName=mq.displayName;const Pa=({className:e,...t})=>i.jsx("div",{className:Ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});Pa.displayName="AlertDialogHeader";const Oa=({className:e,...t})=>{const{isRTL:r}=ar();return i.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r&&"sm:space-x-reverse",e),...t})};Oa.displayName="AlertDialogFooter";const Da=x.forwardRef(({className:e,...t},r)=>i.jsx(vq,{ref:r,className:Ne("text-lg font-semibold",e),...t}));Da.displayName=vq.displayName;const Ra=x.forwardRef(({className:e,...t},r)=>i.jsx(xq,{ref:r,className:Ne("text-sm text-muted-foreground",e),...t}));Ra.displayName=xq.displayName;const Fa=x.forwardRef(({className:e,...t},r)=>i.jsx(pq,{ref:r,className:Ne(vm(),e),...t}));Fa.displayName=pq.displayName;const Ma=x.forwardRef(({className:e,...t},r)=>i.jsx(gq,{ref:r,className:Ne(vm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ma.displayName=gq.displayName;const an=x.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:Ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));an.displayName="Textarea";function sj({stages:e,currentStageId:t,onStageChange:r,children:n}){const a=Br(),{isRTL:s}=ar(),o=x.useRef(null),l=e.find(c=>c.id===t)??e[0];return x.useEffect(()=>{a&&o.current&&o.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[l==null?void 0:l.id,a]),a?i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-20 shadow-sm",children:i.jsx("div",{className:"w-full overflow-x-auto scrollbar-hide",dir:s?"rtl":"ltr",children:i.jsx("div",{className:"flex gap-2 p-3 min-w-max",children:[...e].sort((c,u)=>c.id-u.id).map(c=>{const u=c.id===l.id;return i.jsxs("button",{ref:u?o:null,onClick:()=>r(c.id),className:Ne("inline-flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all font-medium text-sm border-2 flex-shrink-0",u?"bg-primary text-primary-foreground shadow-md border-primary":"bg-card text-muted-foreground hover:bg-accent hover:text-accent-foreground border-border"),children:[i.jsx("span",{className:"truncate max-w-[140px]",children:c.name}),i.jsx(ht,{variant:"secondary",className:Ne("h-5 min-w-5 px-1.5 text-xs font-semibold",u?"bg-primary-foreground/20 text-primary-foreground border-primary-foreground/30":"bg-muted"),children:c.count})]},c.id)})})})}),i.jsx("div",{className:"flex-1 overflow-auto scrollbar-hide",children:i.jsx("div",{className:"p-2",children:n})})]}):i.jsx(i.Fragment,{children:n})}var ij="Tabs",[cIe,iqe]=vs(ij,[tw]),bq=tw(),[uIe,_P]=cIe(ij),_q=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=qv(l),[f,h]=gc({prop:n,onChange:a,defaultProp:s??"",caller:ij});return i.jsx(uIe,{scope:r,baseId:na(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(vt.div,{dir:d,"data-orientation":o,...u,ref:t})})});_q.displayName=ij;var wq="TabsList",jq=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=_P(wq,r),o=bq(r);return i.jsx(TU,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:i.jsx(vt.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});jq.displayName=wq;var Sq="TabsTrigger",Nq=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,o=_P(Sq,r),l=bq(r),c=Eq(o.baseId,n),u=Tq(o.baseId,n),d=n===o.value;return i.jsx(AU,{asChild:!0,...l,focusable:!a,active:d,children:i.jsx(vt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:at(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:at(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:at(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});Nq.displayName=Sq;var kq="TabsContent",Cq=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...o}=e,l=_P(kq,r),c=Eq(l.baseId,n),u=Tq(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx($a,{present:a||d,children:({present:h})=>i.jsx(vt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});Cq.displayName=kq;function Eq(e,t){return`${e}-trigger-${t}`}function Tq(e,t){return`${e}-content-${t}`}var dIe=_q,Aq=jq,Pq=Nq,Oq=Cq;const di=dIe,Bs=x.forwardRef(({className:e,...t},r)=>i.jsx(Aq,{ref:r,className:Ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Bs.displayName=Aq.displayName;const ur=x.forwardRef(({className:e,...t},r)=>i.jsx(Pq,{ref:r,className:Ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));ur.displayName=Pq.displayName;const kr=x.forwardRef(({className:e,...t},r)=>i.jsx(Oq,{ref:r,className:Ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));kr.displayName=Oq.displayName;function wP({relatedType:e,relatedId:t,notes:r,onNotesChange:n}){const{t:a}=Pt(),{user:s}=dr(),[o,l]=x.useState(""),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,m]=x.useState(null),[g,p]=x.useState(!1),v=async()=>{if(!(!o.trim()||!(s!=null&&s.id))){p(!0);try{await Uh.create({content:o.trim(),related_to_type:e,related_to_id:t,created_by:s.id}),l(""),n()}catch(j){console.error("Failed to create note:",j)}finally{p(!1)}}},y=async j=>{if(d.trim()){p(!0);try{await Uh.update(j,d.trim()),u(null),f(""),n()}catch(w){console.error("Failed to update note:",w)}finally{p(!1)}}},b=async()=>{if(h){p(!0);try{await Uh.delete(h),m(null),n()}catch(j){console.error("Failed to delete note:",j)}finally{p(!1)}}},_=j=>{if(!j)return"";try{return Gne(new Date(j),{addSuffix:!0})}catch{return j}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(an,{value:o,onChange:j=>l(j.target.value),placeholder:a("notes.placeholder"),rows:3,className:"resize-none"}),i.jsxs(fe,{onClick:v,disabled:!o.trim()||g,className:"w-full",children:[i.jsx(Eo,{className:"h-4 w-4 mr-2"}),a("notes.save")]})]}),i.jsx("div",{className:"space-y-3",children:r.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-8",children:a("notes.noNotes")}):r.map(j=>{var N;const w=c===j.note_id,S=j.created_by===(s==null?void 0:s.id);return i.jsxs("div",{className:"border rounded-lg p-4 space-y-2 bg-card",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[(N=j.user)!=null&&N.avatar?i.jsx("img",{src:j.user.avatar,alt:Te(j.user,"user_name"),className:"h-8 w-8 rounded-full flex-shrink-0"}):i.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-xs font-semibold text-primary",children:j.user?Te(j.user,"user_name")[0]:"?"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:j.user?Te(j.user,"user_name"):a("notes.unknown")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:_(j.created_at)})]})]}),S&&!w&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(fe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{u(j.note_id),f(j.content)},children:i.jsx(Is,{className:"h-3.5 w-3.5"})}),i.jsx(fe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive",onClick:()=>m(j.note_id),children:i.jsx(Ht,{className:"h-3.5 w-3.5"})})]})]}),w?i.jsxs("div",{className:"space-y-2",children:[i.jsx(an,{value:d,onChange:C=>f(C.target.value),rows:3,className:"resize-none"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(fe,{size:"sm",onClick:()=>y(j.note_id),disabled:!d.trim()||g,children:[i.jsx(Eo,{className:"h-3.5 w-3.5 mr-1"}),a("notes.save")]}),i.jsxs(fe,{size:"sm",variant:"outline",onClick:()=>{u(null),f("")},children:[i.jsx(ui,{className:"h-3.5 w-3.5 mr-1"}),a("buttons.cancel")]})]})]}):i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:j.content})]},j.note_id)})}),i.jsx(hs,{open:!!h,onOpenChange:()=>m(null),children:i.jsxs(Aa,{children:[i.jsxs(Pa,{children:[i.jsx(Da,{children:a("notes.delete")}),i.jsx(Ra,{children:a("notes.deleteConfirmation")})]}),i.jsxs(Oa,{children:[i.jsx(Ma,{children:a("buttons.cancel")}),i.jsx(Fa,{onClick:b,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a("buttons.delete")})]})]})})]})}function Dq({priority:e=3,size:t="sm",showCount:r=!1,className:n}){const a=e||3,s={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return i.jsxs("div",{className:Ne("flex items-center gap-0.5",n),children:[[1,2,3,4,5].map(o=>i.jsx(MB,{className:Ne(s[t],o<=a?"fill-yellow-400 text-yellow-400":"fill-none text-gray-300 dark:text-gray-600")},o)),r&&i.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",a,"/5)"]})]})}function fIe({leadId:e}){const{t}=Pt(),{isRTL:r}=ar(),{user:n}=dr(),[a,s]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(null),[h,m]=x.useState(""),[g,p]=x.useState([]),[v,y]=x.useState(!0),[b,_]=x.useState(!1),[j,w]=x.useState([]),[S,N]=x.useState([]),[C,k]=x.useState([]),[E,O]=x.useState({lead_name:"",lead_description:"",client_user_id:"",stage:"",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});x.useEffect(()=>{U(),T()},[e]);const T=async()=>{try{const q=await jn.getAll().then(J=>J.filter(A=>A.user_role==="client"));k(q)}catch(q){console.error("Failed to load clients:",q)}},U=async()=>{var q,J,A;try{y(!0);const[B,G,H]=await Promise.all([hd.getById(e),ka.getByType("leads"),jn.getAll()]);if(s(B),w(G),N(H),!B)return;if(O({lead_name:B.lead_name||"",lead_description:B.lead_description||"",client_user_id:B.client_user_id||"",stage:((q=B.stage)==null?void 0:q.toString())||"",assigned_to:B.assigned_to||"",value:((J=B.value)==null?void 0:J.toString())||"",currency:B.currency||"SAR",priority:((A=B.priority)==null?void 0:A.toString())||"3",expected_close_date:B.expected_close_date||""}),B.client_user_id){const ee=await jn.getByAuthId(B.client_user_id);l(ee)}if(B.created_by){const ee=H.find(ue=>ue.auth_user_id===B.created_by)||null;u(ee)}if(B.assigned_to){const ee=H.find(ue=>ue.auth_user_id===B.assigned_to)||null;f(ee)}if(B.stage){const ee=G.find(ue=>ue.stage_id===B.stage);ee&&m(Te(ee,"stage_name"))}W()}catch(B){console.error("Failed to load lead data:",B)}finally{y(!1)}},W=async()=>{try{const q=await Uh.getByRelated("lead",e);p(q)}catch(q){console.error("Failed to load notes:",q)}},R=async()=>{if(a)try{const q=E.assigned_to&&E.assigned_to!=="unassigned"?E.assigned_to:null,J=fc({lead_name:E.lead_name,lead_description:E.lead_description||null,client_user_id:E.client_user_id||null,stage:parseInt(E.stage),assigned_to:q,value:E.value?parseFloat(E.value):null,currency:E.currency,priority:parseInt(E.priority),expected_close_date:E.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description"});await hd.update(a.lead_id,J);const A={...a,...J};if(s(A),E.client_user_id){const G=C.find(H=>H.auth_user_id===E.client_user_id)||null;l(G)}if(q){const G=S.find(H=>H.auth_user_id===q)||null;f(G)}const B=j.find(G=>G.stage_id===parseInt(E.stage));B&&m(Te(B,"stage_name")),_(!1)}catch(q){console.error("Failed to update lead:",q)}},z=()=>{var q,J,A;a&&O({lead_name:a.lead_name||"",lead_description:a.lead_description||"",client_user_id:a.client_user_id||"",stage:((q=a.stage)==null?void 0:q.toString())||"",assigned_to:a.assigned_to||"",value:((J=a.value)==null?void 0:J.toString())||"",currency:a.currency||"SAR",priority:((A=a.priority)==null?void 0:A.toString())||"3",expected_close_date:a.expected_close_date||""}),_(!1)},P=(q,J)=>{if(q===null)return"-";const A=J||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:A==="SAR"?"SAR":A}).format(q)},M=q=>q?new Date(q).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-";if(v)return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})});if(!a)return i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t("leads.notFound")});const I=(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager";return i.jsxs("div",{className:"w-full",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:t("leads.leadDetails")}),I&&!b&&i.jsxs(fe,{onClick:()=>_(!0),variant:"outline",size:"sm",children:[i.jsx(Is,{className:"h-4 w-4 mr-2"}),t("buttons.edit")]}),b&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(fe,{onClick:z,variant:"outline",size:"sm",children:[i.jsx(ui,{className:"h-4 w-4 mr-2"}),t("buttons.cancel")]}),i.jsxs(fe,{onClick:R,size:"sm",children:[i.jsx(Eo,{className:"h-4 w-4 mr-2"}),t("buttons.save")]})]})]}),i.jsxs(di,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Bs,{className:"grid w-full grid-cols-2",children:[i.jsx(ur,{value:"overview",children:t("common.overview")}),i.jsx(ur,{value:"notes",children:t("notes.title")})]}),i.jsx(kr,{value:"overview",className:"space-y-4 mt-4",children:b?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ue,{htmlFor:"lead_name",children:[t("leads.leadName")," *"]}),i.jsx(ze,{id:"lead_name",value:E.lead_name,onChange:q=>O(J=>({...J,lead_name:q.target.value})),placeholder:t("leads.leadName")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"lead_description",children:t("leads.description")}),i.jsx(an,{id:"lead_description",value:E.lead_description,onChange:q=>O(J=>({...J,lead_description:q.target.value})),placeholder:t("leads.description"),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{children:t("leads.client")}),i.jsxs(ct,{value:E.client_user_id,onValueChange:q=>O(J=>({...J,client_user_id:q})),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:t("leads.selectClient")})}),i.jsx(lt,{children:C.filter(q=>q.auth_user_id).map(q=>i.jsx(je,{value:q.auth_user_id,children:Te(q,"user_name")},q.user_id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{children:t("common.stage")}),i.jsxs(ct,{value:E.stage,onValueChange:q=>O(J=>({...J,stage:q})),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:t("leads.selectStage")})}),i.jsx(lt,{children:j.map(q=>i.jsx(je,{value:q.stage_id.toString(),children:Te(q,"stage_name")},q.stage_id))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{children:t("leads.value")}),i.jsx(ze,{type:"number",min:"0",step:"0.01",value:E.value,onChange:q=>O(J=>({...J,value:q.target.value})),placeholder:"0.00"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{children:t("leads.currency")}),i.jsxs(ct,{value:E.currency,onValueChange:q=>O(J=>({...J,currency:q})),children:[i.jsx(ot,{children:i.jsx(ut,{})}),i.jsxs(lt,{children:[i.jsx(je,{value:"SAR",children:"SAR (.)"}),i.jsx(je,{value:"USD",children:"USD ($)"}),i.jsx(je,{value:"EUR",children:"EUR ()"}),i.jsx(je,{value:"GBP",children:"GBP ()"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{children:t("common.priority")}),i.jsxs(ct,{value:E.priority,onValueChange:q=>O(J=>({...J,priority:q})),children:[i.jsx(ot,{children:i.jsx(ut,{})}),i.jsxs(lt,{children:[i.jsxs(je,{value:"1",children:[" ",t("common.veryLow")]}),i.jsxs(je,{value:"2",children:[" ",t("common.low")]}),i.jsxs(je,{value:"3",children:[" ",t("common.medium")]}),i.jsxs(je,{value:"4",children:[" ",t("common.high")]}),i.jsxs(je,{value:"5",children:[" ",t("common.veryHigh")]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{children:t("leads.expectedCloseDate")}),i.jsx(ze,{type:"date",value:E.expected_close_date,onChange:q=>O(J=>({...J,expected_close_date:q.target.value}))})]})]}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{children:t("leads.assignToEmployee")}),i.jsxs(ct,{value:E.assigned_to,onValueChange:q=>O(J=>({...J,assigned_to:q})),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:t("leads.selectAssignee")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"unassigned",children:t("common.unassigned")}),S.filter(q=>["employee","admin","manager","team_leader"].includes(q.user_role)&&q.auth_user_id).map(q=>i.jsx(je,{value:q.auth_user_id,children:Te(q,"user_name")},q.user_id))]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:Te(a,"lead_name")}),Te(a,"lead_description")&&i.jsx("p",{className:"text-muted-foreground mt-1",children:Te(a,"lead_description")})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(jR,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.priority")}),i.jsx(Dq,{priority:a.priority,size:"sm"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[i.jsx(q0,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.value")}),i.jsx("p",{className:"text-lg font-semibold",children:P(a.value,a.currency)})]})]}),o&&i.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[i.jsx(Wn,{className:"h-5 w-5 text-primary mt-0.5"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.client")}),i.jsx("p",{className:"font-medium truncate",children:Te(o,"user_name")}),o.user_email&&i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:o.user_email})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(jR,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.stage")}),i.jsx(ht,{variant:"secondary",children:h||"-"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Mn,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.assignedTo")}),i.jsx("p",{className:"font-medium",children:d?Te(d,"user_name"):t("common.unassigned")})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"p-3 rounded-lg border",children:[i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(zi,{className:"h-3.5 w-3.5"}),t("common.created")]}),i.jsx("p",{className:"text-sm font-medium mt-1",children:M(a.created_date)})]}),c&&i.jsxs("div",{className:"p-3 rounded-lg border",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.createdBy")}),i.jsx("p",{className:"text-sm font-medium mt-1 truncate",children:Te(c,"user_name")})]})]})]})}),i.jsx(kr,{value:"notes",className:"mt-4",children:i.jsx(wP,{relatedType:"lead",relatedId:e,notes:g,onNotesChange:W})})]})]})}function Op({title:e,description:t,icon:r,actions:n,stats:a,className:s=""}){Pt();const o=Br();return i.jsxs("div",{className:Ne("mb-6",s),children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[r&&i.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center flex-shrink-0 border border-primary/10 ring-4 ring-primary/5",children:typeof r=="function"?ce.createElement(r):r}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold tracking-tight text-foreground",children:e}),t&&i.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl text-sm",children:t})]})]}),n&&i.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:n})]}),a&&a.length>0&&!o&&i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mt-6",children:a.map((l,c)=>i.jsx(ft,{className:"p-2 md:p-3 hover:shadow-md transition-all hover:-translate-y-0.5 border-border/50",children:i.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.icon&&i.jsx("div",{className:"h-7 w-7 md:h-9 md:w-9 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:typeof l.icon=="function"?ce.createElement(l.icon):l.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:l.label}),i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsx("p",{className:"text-lg md:text-xl font-bold text-foreground truncate",children:l.value}),l.trend&&i.jsxs("span",{className:Ne("text-xs font-medium",l.trend.isPositive?"text-green-600":"text-red-600"),children:[l.trend.isPositive?"+":"",l.trend.value,"%"]})]})]})]})},c))})]})}function $i({icon:e,title:t,description:r,action:n,className:a=""}){return i.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-4 ${a}`,children:[e&&i.jsx("div",{className:"h-24 w-24 rounded-full bg-muted/50 flex items-center justify-center mb-6 ring-4 ring-muted/20",children:typeof e=="function"?ce.createElement(e):e}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2 text-center",children:t}),i.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:r}),n]})}const jP=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:Ne("w-full caption-bottom text-sm",e),...t})}));jP.displayName="Table";const SP=x.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:Ne("[&_tr]:border-b",e),...t}));SP.displayName="TableHeader";const NP=x.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:Ne("[&_tr:last-child]:border-0",e),...t}));NP.displayName="TableBody";const hIe=x.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:Ne("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));hIe.displayName="TableFooter";const jv=x.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:Ne("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));jv.displayName="TableRow";const ho=x.forwardRef(({className:e,...t},r)=>{const{isRTL:n}=ar();return i.jsx("th",{ref:r,className:Ne("h-12 py-4 align-middle font-medium text-muted-foreground",n?"text-right px-2 [&:has([role=checkbox])]:px-4":"text-left px-4 [&:has([role=checkbox])]:px-6",e),...t})});ho.displayName="TableHead";const mo=x.forwardRef(({className:e,...t},r)=>{const{isRTL:n}=ar();return i.jsx("td",{ref:r,className:Ne("py-4 align-middle",n?"px-2 [&:has([role=checkbox])]:px-4":"px-4 [&:has([role=checkbox])]:px-6",e),...t})});mo.displayName="TableCell";const mIe=x.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:Ne("mt-4 text-sm text-muted-foreground",e),...t}));mIe.displayName="TableCaption";var oj="Checkbox",[pIe,oqe]=vs(oj),[gIe,kP]=pIe(oj);function vIe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=gc({prop:r,defaultProp:a??!1,onChange:c,caller:oj}),[g,p]=x.useState(null),[v,y]=x.useState(null),b=x.useRef(!1),_=g?!!o||!!g.closest("form"):!0,j={checked:h,disabled:s,setChecked:m,control:g,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:ku(a)?!1:a,isFormControl:_,bubbleInput:v,setBubbleInput:y};return i.jsx(gIe,{scope:t,...j,children:xIe(f)?f(j):n})}var Rq="CheckboxTrigger",Fq=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:g}=kP(Rq,e),p=Bt(a,d),v=x.useRef(c);return x.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const b=()=>f(v.current);return y.addEventListener("reset",b),()=>y.removeEventListener("reset",b)}},[s,f]),i.jsx(vt.button,{type:"button",role:"checkbox","aria-checked":ku(c)?"mixed":c,"aria-required":u,"data-state":Bq(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:at(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:at(r,y=>{f(b=>ku(b)?!0:!b),g&&m&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});Fq.displayName=Rq;var CP=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(vIe,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(Fq,{...f,ref:t,__scopeCheckbox:r}),h&&i.jsx($q,{__scopeCheckbox:r})]})})});CP.displayName=oj;var Mq="CheckboxIndicator",Iq=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=kP(Mq,r);return i.jsx($a,{present:n||ku(s.checked)||s.checked===!0,children:i.jsx(vt.span,{"data-state":Bq(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});Iq.displayName=Mq;var Lq="CheckboxBubbleInput",$q=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=kP(Lq,e),g=Bt(r,m),p=WT(s),v=LT(n);x.useEffect(()=>{const b=h;if(!b)return;const _=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(_,"checked").set,S=!a.current;if(p!==s&&w){const N=new Event("click",{bubbles:S});b.indeterminate=ku(s),w.call(b,ku(s)?!1:s),b.dispatchEvent(N)}},[h,p,s,a]);const y=x.useRef(ku(s)?!1:s);return i.jsx(vt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});$q.displayName=Lq;function xIe(e){return typeof e=="function"}function ku(e){return e==="indeterminate"}function Bq(e){return ku(e)?"indeterminate":e?"checked":"unchecked"}const Qb=x.forwardRef(({className:e,indeterminate:t,...r},n)=>i.jsx(CP,{ref:n,className:Ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t&&"bg-primary text-primary-foreground",e),...r,children:i.jsx(Iq,{className:Ne("flex items-center justify-center text-current"),children:t?i.jsx(Dae,{className:"h-4 w-4"}):i.jsx(Rh,{className:"h-4 w-4"})})}));Qb.displayName=CP.displayName;function Sl({data:e,columns:t,actions:r=[],bulkActions:n=[],keyExtractor:a,onRowClick:s,emptyState:o,mobileCardRender:l,className:c,enableBulkSelect:u=!1,rowHeight:d,selectedItems:f,onSelectionChange:h,loading:m=!1,rtl:g=!1}){const p=Br(),{t:v}=Pt(),[y,b]=x.useState(new Set),_=f?new Set(f):y,j=U=>{const W=typeof U=="function"?U(_):U;h?h(Array.from(W)):b(W)};x.useEffect(()=>{const U=new Set(e.map(a));j(W=>{const R=new Set(W);for(const z of W)U.has(z)||R.delete(z);return R})},[e,a]);const w=U=>{const W=new Set(_);W.has(U)?W.delete(U):W.add(U),j(W)},S=()=>{_.size===e.length?j(new Set):j(new Set(e.map(a)))},N=()=>{j(new Set)},C=()=>e.filter(U=>_.has(a(U))),k=U=>{const W=r.filter(R=>!R.show||R.show(U));return W.length===0?null:i.jsxs(ZT,{children:[i.jsx(eA,{asChild:!0,onClick:R=>R.stopPropagation(),children:i.jsx(fe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:i.jsx(jae,{className:"h-4 w-4"})})}),i.jsx(sw,{align:"end",children:W.map((R,z)=>i.jsxs(ql,{onClick:P=>{P.stopPropagation(),R.onClick(U)},className:Ne(R.variant==="destructive"&&"text-destructive focus:text-destructive"),children:[R.icon&&i.jsx("span",{className:"mr-2",children:R.icon}),R.label]},z))})]})};if(e.length===0)return o||i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:v("common.noData","No data available")});if(p)return i.jsx("div",{className:Ne("space-y-3 w-full overflow-hidden",c),children:e.map((U,W)=>l?i.jsx("div",{onClick:()=>s==null?void 0:s(U),className:"w-full",children:l(U,k(U))},a(U)):i.jsx(ft,{className:Ne("w-full overflow-hidden transition-all",s&&"cursor-pointer hover:shadow-md active:scale-[0.99]"),onClick:()=>s==null?void 0:s(U),children:i.jsx(yt,{className:"p-4 w-full",children:i.jsxs("div",{className:"space-y-3 w-full",children:[t.filter(R=>!R.hideOnMobile).map((R,z)=>i.jsxs("div",{className:"flex items-start justify-between gap-2 w-full min-w-0",children:[i.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide flex-shrink-0",children:R.header}),i.jsx("div",{className:"text-sm text-right flex-shrink-0 max-w-[60%]",children:R.render(U,W)})]},R.key)),r.length>0&&i.jsx("div",{className:"pt-2 border-t flex justify-end",children:k(U)})]})})},a(U)))});const E=_.size,O=E===e.length&&e.length>0,T=E>0&&E<e.length;return i.jsxs("div",{className:"space-y-4",children:[u&&E>0&&i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in slide-in-from-top-2",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("p",{className:"text-sm font-medium",children:[E," ",E===1?v("common.item","item"):v("common.items","items")," ",v("common.selected","selected")]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[n.map((U,W)=>i.jsxs(fe,{variant:U.variant==="destructive"?"destructive":"outline",size:"sm",onClick:()=>U.onClick(C()),className:Ne(U.variant==="destructive"&&"hover:bg-destructive/90"),children:[U.icon&&i.jsx("span",{className:"mr-2",children:U.icon}),U.label]},W)),i.jsx(fe,{variant:"ghost",size:"sm",onClick:N,className:"text-muted-foreground hover:text-foreground",children:i.jsx(ui,{className:"h-4 w-4"})})]})]}),i.jsx(ft,{className:Ne("overflow-hidden",c),children:i.jsx(yt,{className:"p-0",children:i.jsxs(jP,{children:[i.jsx(SP,{children:i.jsxs(jv,{className:"bg-muted/50 hover:bg-muted/50 sticky top-0 z-20 shadow-sm",children:[u&&i.jsx(ho,{className:"w-12",children:i.jsx(Qb,{checked:O,indeterminate:T,onCheckedChange:S,"aria-label":v("common.selectAll","Select all")})}),t.map(U=>i.jsx(ho,{className:Ne("font-semibold",U.className),children:U.header},U.key)),r.length>0&&i.jsx(ho,{className:"w-[100px] text-right",children:v("common.actions")})]})}),i.jsx(NP,{children:e.map((U,W)=>{const R=a(U),z=_.has(R);return i.jsxs(jv,{className:Ne("group transition-colors",z&&"bg-primary/5",s&&"cursor-pointer hover:bg-muted/50",d),onClick:()=>s==null?void 0:s(U),children:[u&&i.jsx(mo,{onClick:P=>P.stopPropagation(),children:i.jsx(Qb,{checked:z,onCheckedChange:()=>w(R),"aria-label":v("common.selectItem","Select item")})}),t.map(P=>i.jsx(mo,{className:Ne(P.className,"overflow-hidden"),children:P.render(U,W)},P.key)),r.length>0&&i.jsx(mo,{className:"text-right",children:i.jsx("div",{children:k(U)})})]},R)})})]})})})]})}function Uq({children:e,variant:t="secondary"}){return i.jsx(ht,{variant:t,className:"text-xs font-medium",children:e})}function Gm({name:e,fallback:t="Unassigned"}){return i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Mn,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{className:Ne(!e&&"text-muted-foreground"),children:e||t})]})}function Af({date:e,fallback:t="Not set"}){return e?i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(zi,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{children:new Date(e).toLocaleDateString()})]}):i.jsx("span",{className:"text-muted-foreground",children:t})}function bc({title:e,subtitle:t,icon:r}){return i.jsxs("div",{className:"flex items-center gap-2 min-w-0 w-full",children:[r&&(typeof r=="function"?ce.createElement(r):r),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"font-medium truncate text-sm break-words",children:e}),t&&i.jsx("div",{className:"text-xs text-muted-foreground truncate break-words",children:t})]})]})}function yIe({value:e,currency:t="SAR"}){return e==null?i.jsx("span",{className:"text-muted-foreground",children:"-"}):i.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)})}function bIe({lead:e,client:t,creator:r,assignedUser:n,userRole:a,users:s=[],onDelete:o,onEdit:l,onAssign:c,onClick:u,onDragStart:d,isDragging:f=!1}){const{t:h}=Pt(),m=Br(),g=v=>v?new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):h("leads.unknown"),p=(v,y)=>{if(v===null)return"-";const b=y||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:b}).format(v)};return i.jsxs(ft,{className:Ne("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",m?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",f&&"opacity-50 rotate-2 scale-105"),onClick:u,draggable:!!d,onDragStart:v=>{d&&(v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",e.lead_id.toString()),d(e.lead_id))},children:[i.jsxs(Yt,{className:"pb-3 px-4 pt-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Te(e,"lead_name")}),Te(e,"lead_description")&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Te(e,"lead_description")})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[l&&(a==="admin"||a==="manager")&&i.jsx(fe,{variant:"ghost",size:"sm",className:Ne("h-8 w-8 p-0 text-muted-foreground hover:text-primary hover:bg-primary/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),onClick:v=>{v.stopPropagation(),l()},children:i.jsx(Is,{className:"h-4 w-4"})}),o&&i.jsxs(hs,{children:[i.jsx(gx,{asChild:!0,onClick:v=>v.stopPropagation(),children:i.jsx(fe,{variant:"ghost",size:"sm",className:Ne("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(Ht,{className:"h-4 w-4"})})}),i.jsxs(Aa,{onClick:v=>v.stopPropagation(),children:[i.jsxs(Pa,{children:[i.jsx(Da,{children:h("leads.deleteLead")}),i.jsx(Ra,{children:h("leads.deleteConfirmation",{name:Te(e,"lead_name")})})]}),i.jsxs(Oa,{children:[i.jsx(Ma,{children:h("buttons.cancel")}),i.jsx(Fa,{onClick:v=>{v.stopPropagation(),o(e.lead_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:h("buttons.delete")})]})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between gap-2 mt-2",children:[i.jsx(Dq,{priority:e.priority,size:"sm"}),e.expected_close_date&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(zi,{className:"h-3 w-3"}),i.jsx("span",{children:g(e.expected_close_date)})]})]})]}),i.jsxs(yt,{className:"px-4 pb-4 space-y-3",children:[e.value!==null&&e.value!==void 0&&e.value>0&&i.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border border-green-200 dark:border-green-800/50",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(q0,{className:"h-4 w-4 text-green-600 dark:text-green-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] uppercase tracking-wide text-green-700/70 dark:text-green-400/70 font-medium",children:h("leads.value")}),i.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-400 truncate",children:p(e.value,e.currency)})]})]}),t&&i.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors border border-border/50",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx(Wn,{className:"h-4 w-4 text-primary"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] uppercase tracking-wide text-muted-foreground font-medium",children:h("leads.client")}),i.jsx("p",{className:"text-sm font-semibold truncate",children:Te(t,"user_name")})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r&&i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(Mn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.createdBy")}),i.jsx("p",{className:"text-xs font-medium truncate",children:Te(r,"user_name")})]})]}),i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(Mn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.assignedTo")}),i.jsx("p",{className:"text-xs font-medium truncate",children:n?Te(n,"user_name"):h("common.all","Unassigned")})]})]})]}),i.jsx("div",{className:"pt-1",children:i.jsxs(ct,{value:e.assigned_to||"unassigned",onValueChange:v=>c&&c(e.lead_id,v==="unassigned"?"":v),children:[i.jsx(ot,{className:"h-7 text-xs",children:i.jsx(ut,{placeholder:h("leads.selectAssignee","Select assignee")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"unassigned",children:h("common.all","Unassigned")}),s.map(v=>i.jsx(je,{value:(v.userid||v.userid||"").toString(),children:Te(v,"user_name")},v.userid))]})]})})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(zi,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:g(e.created_date)})]}),i.jsx(ht,{variant:"secondary",className:"text-xs",children:h("leads.lead")})]})]})]})}function _Ie(){var ae,pe,te;Us();const{hasRole:e,user:t}=dr(),r=Br(),{t:n}=Pt(),{isRTL:a}=ar(),{setBreadcrumbs:s}=dp();x.useEffect(()=>{s([{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.leads")}])},[n,s]);const[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState([]),[g,p]=x.useState(!0);x.useState(!1),x.useState("");const[v,y]=x.useState(null),[b,_]=x.useState(""),[j,w]=x.useState(null),[S,N]=x.useState(null),[C,k]=x.useState(!1),[E,O]=x.useState(null),[T,U]=x.useState("kanban"),[W,R]=x.useState(null),[z,P]=x.useState(""),[M,I]=x.useState("all"),[q,J]=x.useState("all"),[A,B]=x.useState({from:void 0,to:void 0}),G=x.useMemo(()=>o.filter(re=>{const he=(re.lead_name||"").toLowerCase().includes(z.toLowerCase())||(re.lead_description||"").toLowerCase().includes(z.toLowerCase())||(re.client_name||"").toLowerCase().includes(z.toLowerCase()),Pe=q==="all"||re.assigned_to&&re.assigned_to===q;let Re=!0;if(A.from&&re.created_date){const et=new Date(re.created_date),rt=new Date(A.from);rt.setHours(0,0,0,0);const jt=new Date(et);if(jt.setHours(0,0,0,0),Re=jt>=rt,Re&&A.to){const we=new Date(A.to);we.setHours(23,59,59,999),Re=jt<=we}}else A.from&&!re.created_date&&(Re=!1);return he&&Pe&&Re}),[o,z,M,q,A]),[H,ee]=x.useState({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});x.useEffect(()=>{ue()},[]),x.useEffect(()=>{if(h.length>0&&E===null){const re=h.find(he=>he.stage_id===1);re&&O(re.stage_id)}},[h,E]);const ue=async()=>{try{p(!0);const[re,he,Pe,Re]=await Promise.all([hd.getAll(),jn.getAll(),ZH.getAll(),ka.getByType("leads")]);console.log("[Leads] Loaded data:",{leads:re.length,clients:Pe.length,users:he.length,stages:Re.length}),console.log("[Leads] Leads data:",re),console.log("[Leads] Stages data:",Re),l(re),u(Pe),f(he),m(Re)}catch(re){console.error("Failed to load data:",re)}finally{p(!1)}},ye=async re=>{if(b.trim())try{await ka.update(re,{stage_name:b.trim()}),m(h.map(he=>he.stage_id===re?{...he,stage_name:b.trim()}:he)),y(null),_("")}catch(he){console.error("Failed to update stage:",he)}},ie=async re=>{if(o.filter(Pe=>Pe.stage===re).length>0){w(re);return}try{await ka.delete(re),m(h.filter(Pe=>Pe.stage_id!==re))}catch(Pe){console.error("Failed to delete stage:",Pe)}},Y=async()=>{if(j)try{await ka.delete(j),m(h.filter(re=>re.stage_id!==j)),w(null),ue()}catch(re){console.error("Failed to delete stage:",re)}},L=re=>{N(re)},D=re=>{re.preventDefault(),re.dataTransfer.dropEffect="move"},se=async re=>{if(!S)return;const he=o.find(Pe=>Pe.lead_id===S);if(he&&he.stage!==re)try{await hd.update(S,{stage:re}),l(o.map(Pe=>Pe.lead_id===S?{...Pe,stage:re}:Pe))}catch(Pe){console.error("Failed to update lead stage:",Pe)}N(null)},be=async re=>{try{await hd.delete(re),l(o.filter(he=>he.lead_id!==re))}catch(he){console.error("Failed to delete lead:",he)}},ve=async(re,he)=>{const Pe=he||null,Re=Pe?new Date().toISOString():null,et=o.find(rt=>rt.lead_id===re);if(et){l(o.map(rt=>rt.lead_id===re?{...rt,assigned_to:Pe,assigned_at:Re}:rt));try{await hd.update(re,{assigned_to:Pe,assigned_at:Re})}catch(rt){console.error("Failed to assign lead:",rt),l(o.map(jt=>jt.lead_id===re?{...jt,assigned_to:et.assigned_to,assigned_at:et.assigned_at}:jt))}}},ke=re=>{ee(he=>({...he,stage:re.toString()})),k(!0)},Se=async()=>{if(H.lead_name.trim())try{const re=H.assigned_to&&H.assigned_to!=="unassigned"?H.assigned_to:null,he=re?new Date().toISOString():null,Pe=fc({lead_name:H.lead_name.trim(),lead_description:H.lead_description.trim()||null,client_name:H.client_name.trim()||null,client_user_id:H.client_user_id||null,created_by:(t==null?void 0:t.id)||null,stage:parseInt(H.stage),assigned_to:re,assigned_at:he,value:H.value?parseFloat(H.value):null,currency:H.currency||"SAR",priority:H.priority?parseInt(H.priority):3,expected_close_date:H.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description",client_name:"client_name"}),Re=await hd.create(Pe);l([...o,Re]),ee({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""}),k(!1)}catch(re){console.error("Failed to create lead:",re)}},Ve=h.filter(re=>re.stage_type==="leads").sort((re,he)=>{const Pe=re.stager_order_index??0,Re=he.stager_order_index??0;return Pe-Re}),dt=Ve.map(re=>({id:re.stage_id,name:Te(re,"stage_name"),color:re.color,count:G.filter(he=>he.stage===re.stage_id).length}));return g?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(oa,{message:n("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:a?"rtl":"ltr",children:[i.jsx(Op,{title:n("leads.title"),description:n("leads.description","Manage and track all your sales leads"),icon:i.jsx(ss,{className:"h-6 w-6 text-primary"}),actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(fe,{variant:T==="kanban"?"default":"ghost",size:"sm",onClick:()=>U("kanban"),className:"h-8 w-8 p-0",children:i.jsx(W_,{className:"h-4 w-4"})}),i.jsx(fe,{variant:T==="list"?"default":"ghost",size:"sm",onClick:()=>U("list"),className:"h-8 w-8 p-0",children:i.jsx(pm,{className:"h-4 w-4"})})]}),i.jsxs(fe,{onClick:()=>k(!0),children:[i.jsx(Ut,{className:"mr-2 h-4 w-4"})," ",n("leads.newLead")]})]}),stats:[{label:n("leads.totalLeads","Total Leads"),value:o.length,icon:i.jsx(ss,{className:"h-5 w-5 text-primary"})},{label:n("leads.thisMonth","This Month"),value:o.filter(re=>{const he=new Date(re.created_date),Pe=new Date;return he.getMonth()===Pe.getMonth()&&he.getFullYear()===Pe.getFullYear()}).length,icon:i.jsx(zi,{className:"h-5 w-5 text-green-500"})},{label:n("leads.totalValue","Total Value"),value:`SAR ${o.reduce((re,he)=>re+(he.value||0),0).toLocaleString()}`,icon:i.jsx(q0,{className:"h-5 w-5 text-green-600"})},{label:n("leads.avgValue","Avg Value"),value:o.length>0?`SAR ${Math.round(o.reduce((re,he)=>re+(he.value||0),0)/o.length).toLocaleString()}`:"SAR 0",icon:i.jsx(q0,{className:"h-5 w-5 text-blue-500"})}]}),i.jsx(bP,{onSearch:P,onFilterAssignee:J,onFilterDateRange:B,users:d}),T==="kanban"?i.jsxs(sj,{stages:dt,currentStageId:E||((ae=dt[0])==null?void 0:ae.id),onStageChange:O,children:[i.jsx(fn,{open:C,onOpenChange:k,children:i.jsxs(tn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(rn,{children:[i.jsx(nn,{children:n("leads.createLead")}),i.jsx(ca,{children:n("leads.createLeadDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),i.jsx(ze,{value:H.lead_name,onChange:re=>ee(he=>({...he,lead_name:re.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),i.jsx(an,{value:H.lead_description,onChange:re=>ee(he=>({...he,lead_description:re.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),i.jsx(ze,{value:H.client_name,onChange:re=>ee(he=>({...he,client_name:re.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),i.jsxs(ct,{value:H.client_user_id,onValueChange:re=>ee(he=>({...he,client_user_id:re})),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:n("leads.selectClient")})}),i.jsx(lt,{children:c.filter(re=>re.userid||re.userid).map(re=>i.jsx(je,{value:(re.userid||re.userid||"").toString(),children:Te(re,"user_name")},re.userid))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.value")}),i.jsx(ze,{type:"number",min:"0",step:"0.01",value:H.value,onChange:re=>ee(he=>({...he,value:re.target.value})),placeholder:"0.00"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.currency")}),i.jsxs(ct,{value:H.currency,onValueChange:re=>ee(he=>({...he,currency:re})),children:[i.jsx(ot,{children:i.jsx(ut,{})}),i.jsxs(lt,{children:[i.jsx(je,{value:"SAR",children:"SAR (.)"}),i.jsx(je,{value:"USD",children:"USD ($)"}),i.jsx(je,{value:"EUR",children:"EUR ()"}),i.jsx(je,{value:"GBP",children:"GBP ()"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("common.priority")}),i.jsxs(ct,{value:H.priority,onValueChange:re=>ee(he=>({...he,priority:re})),children:[i.jsx(ot,{children:i.jsx(ut,{})}),i.jsxs(lt,{children:[i.jsxs(je,{value:"1",children:[" ",n("common.veryLow")]}),i.jsxs(je,{value:"2",children:[" ",n("common.low")]}),i.jsxs(je,{value:"3",children:[" ",n("common.medium")]}),i.jsxs(je,{value:"4",children:[" ",n("common.high")]}),i.jsxs(je,{value:"5",children:[" ",n("common.veryHigh")]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.expectedCloseDate")}),i.jsx(ze,{type:"date",value:H.expected_close_date,onChange:re=>ee(he=>({...he,expected_close_date:re.target.value}))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),i.jsxs(ct,{value:H.assigned_to,onValueChange:re=>ee(he=>({...he,assigned_to:re})),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:n("leads.selectAssignee","Select assignee")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"unassigned",children:n("common.all","Unassigned")}),d.map(re=>i.jsx(je,{value:String(re.userid),children:Te(re,"user_name")},re.userid))]})]})]})]}),i.jsxs(la,{children:[i.jsx(fe,{variant:"outline",onClick:()=>k(!1),children:n("buttons.cancel")}),i.jsxs(fe,{onClick:Se,disabled:!((pe=H.lead_name)!=null&&pe.trim()),children:[i.jsx(Eo,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})}),i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0 flex-1",children:Ve.filter(re=>{var he;return r?re.stage_id===(E||((he=dt[0])==null?void 0:he.id)):!0}).map((re,he)=>{var we,Be;const Pe=G.filter(We=>We.stage===re.stage_id),Re=Pe.reduce((We,Qe)=>We+(Qe.value||0),0),et=new Set(Pe.filter(We=>We.value!==null&&We.currency).map(We=>We.currency)),rt=et.size===1?Array.from(et)[0]:"SAR",jt=We=>new Intl.NumberFormat(void 0,{style:"currency",currency:rt}).format(We);return Pe.length>0&&console.log(`[Leads] Stage ${re.stage_name} (${re.stage_id}): ${Pe.length} leads`),he===0&&G.length>0&&(console.log("[Leads] First lead structure:",G[0]),console.log("[Leads] Stage IDs:",h.map(We=>We.stage_id))),i.jsxs("div",{className:Ne("flex-shrink-0 animate-fade-in h-full flex flex-col",r?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${he*.1}s`},onDragOver:D,onDrop:()=>se(re.stage_id),children:[i.jsx("div",{className:Ne("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft","sticky top-0 z-10",re.color||"border-l-4 border-primary/50","hidden md:block"),children:i.jsx("div",{className:"flex items-center justify-between mb-2 rtl:flex-row-reverse",children:v===re.stage_id?i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(ze,{value:b,onChange:We=>_(We.target.value),onKeyDown:We=>{We.key==="Enter"&&ye(re.stage_id),We.key==="Escape"&&(y(null),_(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),i.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>ye(re.stage_id),className:"h-8 w-8 p-0",children:""})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("h2",{className:"font-bold text-base",children:Te(re,"stage_name")})}),i.jsxs("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:[i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm border",children:Pe.length}),i.jsxs(i.Fragment,{children:[i.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>ke(re.stage_id),className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary",title:n("leads.addLead"),children:i.jsx(Ut,{className:"h-4 w-4"})}),i.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>{y(re.stage_id),_(Te(re,"stage_name"))},className:"h-6 w-6 p-0",title:n("buttons.edit"),children:i.jsx(Is,{className:"h-3 w-3"})}),i.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>ie(re.stage_id),className:"h-6 w-6 p-0 text-destructive",title:n("buttons.delete"),children:i.jsx(Ht,{className:"h-3 w-3"})})]})]})]})})}),i.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto pr-2 rtl:pr-0 rtl:pl-2 scrollbar-hide",children:[((we=h.sort((We,Qe)=>(We.stager_order_index||0)-(Qe.stager_order_index||0))[0])==null?void 0:we.stage_id)===re.stage_id&&i.jsx("div",{className:"mb-4",children:i.jsx(ft,{className:Ne("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",r?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>ke(re.stage_id),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(Ut,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:n("leads.addNewLeadCard")})]})})}),Pe.map(We=>{const Qe=c.find(Wt=>{var cr,fr;return((cr=Wt.userid||Wt.userid)==null?void 0:cr.toString())===((fr=We.client_user_id)==null?void 0:fr.toString())}),Ct=d.find(Wt=>{var cr,fr;return((cr=Wt.userid||Wt.userid)==null?void 0:cr.toString())===((fr=We.created_by)==null?void 0:fr.toString())}),Vt=d.find(Wt=>{var cr,fr;return((cr=Wt.userid||Wt.userid)==null?void 0:cr.toString())===((fr=We.assigned_to)==null?void 0:fr.toString())});return i.jsx("div",{children:i.jsx(bIe,{lead:We,client:Qe||null,creator:Ct||null,assignedUser:Vt||null,userRole:t==null?void 0:t.role,users:d,onDelete:()=>be(We.lead_id),onEdit:()=>R(We.lead_id),onAssign:ve,onClick:()=>R(We.lead_id),onDragStart:L,isDragging:S===We.lead_id})},We.lead_id)}),((Be=h.sort((We,Qe)=>(We.stager_order_index||0)-(Qe.stager_order_index||0))[0])==null?void 0:Be.stage_id)!==re.stage_id&&i.jsx("div",{className:"mt-2",children:i.jsxs(fe,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>ke(re.stage_id),children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})]}),i.jsx("div",{className:Ne("rounded-xl bg-muted/30 backdrop-blur p-3 mt-2 shadow-soft","sticky bottom-0 z-10","border-t-4 border-t-primary/30","hidden md:block"),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(q0,{className:"h-4 w-4 text-primary"}),i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:n("leads.stageTotal",{amount:""}).replace(":","").trim()})]}),i.jsx("span",{className:"text-lg font-bold text-primary",children:jt(Re)})]})})]},re.stage_id)})}),i.jsx(hs,{open:!!j,onOpenChange:()=>w(null),children:i.jsxs(Aa,{children:[i.jsxs(Pa,{children:[i.jsx(Da,{children:n("leads.deleteStage")}),i.jsx(Ra,{children:n("leads.deleteStageConfirmation",{count:o.filter(re=>re.stage===j).length})})]}),i.jsxs(Oa,{children:[i.jsx(Ma,{children:n("buttons.cancel")}),i.jsx(Fa,{onClick:Y,className:"bg-destructive text-destructive-foreground",children:n("buttons.delete")})]})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-lg font-semibold",children:[n("leads.title")," (",o.length,")"]}),i.jsx(fn,{open:C,onOpenChange:k,children:i.jsxs(tn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(rn,{children:[i.jsx(nn,{children:n("leads.createLead")}),i.jsx(ca,{children:n("leads.createLeadDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),i.jsx(ze,{value:H.lead_name,onChange:re=>ee(he=>({...he,lead_name:re.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),i.jsx(an,{value:H.lead_description,onChange:re=>ee(he=>({...he,lead_description:re.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),i.jsx(ze,{value:H.client_name,onChange:re=>ee(he=>({...he,client_name:re.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),i.jsxs(ct,{value:H.client_user_id,onValueChange:re=>ee(he=>({...he,client_user_id:re})),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:n("leads.selectClient")})}),i.jsx(lt,{children:c.filter(re=>re.userid).map(re=>i.jsx(je,{value:String(re.userid),children:Te(re,"user_name")},re.userid))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),i.jsxs(ct,{value:H.assigned_to,onValueChange:re=>ee(he=>({...he,assigned_to:re})),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:n("leads.selectAssignee","Select assignee")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"unassigned",children:n("common.all","Unassigned")}),d.map(re=>i.jsx(je,{value:String(re.userid),children:Te(re,"user_name")},re.userid))]})]})]})]}),i.jsxs(la,{children:[i.jsx(fe,{variant:"outline",onClick:()=>k(!1),children:n("buttons.cancel")}),i.jsxs(fe,{onClick:Se,disabled:!((te=H.lead_name)!=null&&te.trim()),children:[i.jsx(Eo,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})})]}),(()=>{const re=[{key:"lead",header:n("leads.leadName"),render:Re=>i.jsx(bc,{title:Te(Re,"lead_name"),subtitle:Te(Re,"lead_description")})},{key:"value",header:n("leads.value","Value"),render:Re=>i.jsx(yIe,{value:Re.value,currency:Re.currency||"SAR"})},{key:"client",header:n("leads.client"),hideOnMobile:!0,render:Re=>{const et=c.find(rt=>String(rt.userid)===Re.client_user_id);return et?Te(et,"user_name"):n("leads.unknown")}},{key:"creator",header:n("leads.createdBy"),hideOnMobile:!0,render:Re=>{const et=d.find(rt=>String(rt.userid)===Re.created_by);return i.jsx(Gm,{name:et?Te(et,"user_name"):null,fallback:n("leads.unknown")})}},{key:"assignee",header:n("leads.assignedTo"),hideOnMobile:!0,render:Re=>{const et=d.find(rt=>String(rt.userid)===Re.assigned_to);return i.jsx(Gm,{name:et?Te(et,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:Re=>{const et=h.find(rt=>rt.stage_id===Re.stage);return et?Te(et,"stage_name"):n("leads.unknown")}},{key:"created",header:n("common.created"),hideOnMobile:!0,render:Re=>i.jsx(Af,{date:Re.created_date,fallback:n("leads.notSet")})}],he=[{label:n("common.view"),icon:i.jsx(as,{className:"h-4 w-4"}),onClick:Re=>R(Re.lead_id)},{label:n("buttons.delete","Delete"),icon:i.jsx(Ht,{className:"h-4 w-4"}),onClick:Re=>be(Re.lead_id),variant:"destructive",show:()=>!0}],Pe=[{label:n("buttons.delete","Delete"),icon:i.jsx(Ht,{className:"h-4 w-4"}),onClick:Re=>{Re.forEach(et=>be(et.lead_id))},variant:"destructive"}];return i.jsx(Sl,{data:G,columns:re,actions:he,bulkActions:Pe,keyExtractor:Re=>Re.lead_id,onRowClick:Re=>R(Re.lead_id),enableBulkSelect:!0,emptyState:i.jsx($i,{icon:i.jsx(ss,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("leads.noLeadsYet"),description:n("leads.createFirst","Create a lead to get started"),action:i.jsxs(fe,{onClick:()=>k(!0),children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})})})()]}),i.jsx(Oo,{open:!!W,onOpenChange:()=>R(null),children:i.jsxs(Vi,{className:"w-full sm:max-w-[540px] overflow-y-auto",side:a?"left":"right",children:[i.jsxs(yl,{children:[i.jsx(Do,{children:n("leads.leadDetails")}),i.jsx(Ru,{children:n("leads.leadDetailsDesc")})]}),i.jsx("div",{className:"mt-6",children:W&&i.jsx(fIe,{leadId:W})})]})})]})}const EP={users:["users"],projects:["projects"],tasks:["tasks"],stages:["stages"],globalStages:["stages","global"],clients:["clients"],teams:["teams"],teamMembers:["teams","members"],tickets:["tickets"],projectUsers:e=>["projects",e,"users"],comments:e=>["tasks",e,"comments"],rooms:e=>["rooms",e],messages:e=>["messages",e],userProjects:e=>["users",e,"projects"]},wIe=()=>fT({queryKey:EP.users,queryFn:jn.getAll}),jIe=()=>fT({queryKey:EP.tasks,queryFn:jd.getAll,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),SIe=e=>fT({queryKey:[...EP.stages,"type",e],queryFn:()=>ka.getByType(e)});function Pf({title:e="Something went wrong",message:t,onRetry:r,className:n=""}){return i.jsxs("div",{className:`flex flex-col items-center justify-center py-12 ${n}`,children:[i.jsx("div",{className:"h-20 w-20 rounded-full bg-destructive/10 flex items-center justify-center mb-6 ring-4 ring-destructive/5",children:i.jsx(V_,{className:"h-10 w-10 text-destructive"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e}),i.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:t}),r&&i.jsxs(fe,{onClick:r,variant:"outline",className:"gap-2",children:[i.jsx(Fg,{className:"h-4 w-4"}),"Try Again"]})]})}function NIe({task:e,assignedUser:t,stages:r=[],onDelete:n,onClick:a,onDragStart:s,onStageChange:o,isDragging:l=!1}){var p,v;const{t:c}=Pt(),u=Br(),d=y=>y?new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set",f=y=>{switch(y){case"done":return i.jsx(rc,{className:"h-3 w-3 text-green-500"});case"in_progress":return i.jsx(ef,{className:"h-3 w-3 text-blue-500"});case"todo":default:return i.jsx(V_,{className:"h-3 w-3 text-gray-500"})}},h=y=>{switch(y){case"done":return"border-l-green-500 rtl:border-r-green-500";case"in_progress":return"border-l-blue-500 rtl:border-r-blue-500";case"todo":default:return"border-l-gray-500 rtl:border-r-gray-500"}},m=y=>{if(!y)return null;const b=new Date,j=(new Date(y).getTime()-b.getTime())/(1e3*60*60);return j<0?"overdue":j<24?"urgent":j<72?"soon":null},g=y=>{switch(m(y)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return i.jsxs(ft,{className:Ne("group relative hover:shadow-lg transition-all duration-200","border-l-4 rtl:border-l-0 rtl:border-r-4",u?"w-full":"w-[280px] h-[180px]",h(e.task_status),g(e.due_date),l&&"opacity-50 rotate-2 scale-105"),draggable:!!s,onDragStart:y=>{s&&(y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",e.task_id.toString()),s(e.task_id))},children:[i.jsx(Yt,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:a,children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:e.task_name}),e.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),n&&i.jsxs(hs,{children:[i.jsx(gx,{asChild:!0,onClick:y=>y.stopPropagation(),children:i.jsx(fe,{variant:"ghost",size:"sm",className:Ne("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",u?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(Ht,{className:"h-4 w-4"})})}),i.jsxs(Aa,{onClick:y=>y.stopPropagation(),children:[i.jsxs(Pa,{children:[i.jsx(Da,{children:"Delete Task"}),i.jsxs(Ra,{children:['Are you sure you want to delete "',e.task_name,'"?']})]}),i.jsxs(Oa,{children:[i.jsx(Ma,{children:"Cancel"}),i.jsx(Fa,{onClick:y=>{y.stopPropagation(),n(e.task_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})}),i.jsxs(yt,{className:"px-4 pb-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Mn,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:t?Te(t,"user_name"):c("common.all","Unassigned")})]})}),i.jsx("div",{children:i.jsxs("div",{className:"flex items-center gap-1",children:[f(e.task_status),i.jsx("span",{className:"text-xs font-medium capitalize",children:((p=e.task_status)==null?void 0:p.replace("_"," "))||"Todo"})]})})]}),u&&o&&i.jsx("div",{className:"pt-1",children:i.jsxs(ct,{value:((v=e.stage_id)==null?void 0:v.toString())||"",onValueChange:y=>o(e.task_id,parseInt(y)),children:[i.jsx(ot,{className:"h-7 text-xs",children:i.jsx(ut,{placeholder:c("tasks.selectStage","Select stage")})}),i.jsx(lt,{children:r.map(y=>{var b;return i.jsx(je,{value:((b=y.stage_id)==null?void 0:b.toString())||void 0,children:Te(y,"stage_name")},y.stage_id)})})]})}),e.due_date&&i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:[i.jsx(zi,{className:"h-3 w-3 flex-shrink-0"}),i.jsxs("span",{children:["Due: ",d(e.due_date)]})]})]})]})}function kIe(){var Y;Us();const{hasRole:e,user:t,loading:r}=dr(),{t:n}=Pt(),a=Br(),{isRTL:s}=ar(),[o,l]=x.useState(null),[c,u]=x.useState("kanban");x.useState(!1);const d=L=>{switch(L==null?void 0:L.toLowerCase()){case"done":case"completed":return"default";case"in_progress":return"secondary";case"pending":case"todo":return"outline";default:return"secondary"}};x.useState(""),x.useState(null),x.useState(""),x.useState(null);const[f,h]=x.useState(null),[m,g]=x.useState(!1),[p,v]=x.useState({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),[y,b]=x.useState(""),[_,j]=x.useState("all"),[w,S]=x.useState("all"),[N,C]=x.useState({from:void 0,to:void 0}),{data:k=[],isLoading:E,error:O}=jIe(),{data:T=[],isLoading:U,error:W}=wIe(),{data:R=[],isLoading:z,error:P}=SIe("tasks"),M=x.useMemo(()=>k.filter(L=>{const D=L.task_name.toLowerCase().includes(y.toLowerCase())||L.description&&L.description.toLowerCase().includes(y.toLowerCase()),se=_==="all"||L.task_status===_,be=w==="all"||L.assigned_to&&L.assigned_to.toString()===w;let ve=!0;if(N.from&&L.due_date){const ke=new Date(L.due_date),Se=new Date(N.from);Se.setHours(0,0,0,0);const Ve=new Date(ke);if(Ve.setHours(0,0,0,0),ve=Ve>=Se,ve&&N.to){const dt=new Date(N.to);dt.setHours(23,59,59,999),ve=Ve<=dt}}else N.from&&!L.due_date&&(ve=!1);return D&&se&&be&&ve}),[k,y,_,w,N]),I=R.sort((L,D)=>{const se=L.stager_order_index??0,be=D.stager_order_index??0;return se-be}).map(L=>({id:L.stage_id,name:Te(L,"stage_name"),color:L.color,count:M.filter(D=>D.stage_id===L.stage_id).length})),q=E||U||z||r,J=(O==null?void 0:O.message)||(W==null?void 0:W.message)||(P==null?void 0:P.message)||null;console.log("[Tasks] Rendering. Auth state:",{user:t?{id:t.id,email:t.email,role:t.role}:null,authLoading:r,hasUser:!!t,loading:q,data:{tasks:k.length,users:T.length,stages:R.length}});const A=()=>{},B=async L=>{try{await jd.delete(L),A()}catch(D){console.error("Failed to delete task:",D)}},G=L=>{h(L)},H=L=>{L.preventDefault(),L.dataTransfer.dropEffect="move"},ee=async L=>{if(!f)return;const D=k.find(se=>se.task_id===f);if(D&&D.stage_id!==L)try{await jd.update(f,{stage_id:L}),A()}catch(se){console.error("Failed to update task stage:",se)}h(null)},ue=async(L,D)=>{const se=k.find(be=>be.task_id===L);if(se&&se.stage_id!==D)try{await jd.update(L,{stage_id:D}),A()}catch(be){console.error("Failed to update task stage:",be)}},ye=async()=>{if(p.task_name.trim())try{const L=fc({task_name:p.task_name.trim(),stage_id:p.stage_id?parseInt(p.stage_id):null,assigned_to:p.assigned_to?parseInt(p.assigned_to):null,task_status:p.task_status,due_date:p.due_date?new Date(p.due_date).toISOString():null,description:p.description.trim()||null,userid:(t==null?void 0:t.id)||null},{task_name:"task_name",description:"description"});await jd.create(L),A(),v({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),g(!1)}catch(L){console.error("Failed to create task:",L)}},ie=!0;return x.useEffect(()=>{if(R.length>0&&o===null){const L=R.sort((D,se)=>(D.stager_order_index??0)-(se.stager_order_index??0));L.length>0&&l(L[0].stage_id)}},[R,o]),q||r||!t?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(oa,{message:n("common.loading"),size:"2xl"})}):J?i.jsx(Pf,{message:J}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:s?"rtl":"ltr",children:[i.jsx(Op,{title:n("tasks.title"),description:n("tasks.description","Manage and track all your tasks"),icon:i.jsx(G0,{className:"h-5 w-5 text-primary"}),breadcrumbs:[{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.tasks")}],actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(fe,{variant:c==="kanban"?"default":"ghost",size:"sm",onClick:()=>u("kanban"),className:"h-8 w-8 p-0",children:i.jsx(W_,{className:"h-4 w-4"})}),i.jsx(fe,{variant:c==="list"?"default":"ghost",size:"sm",onClick:()=>u("list"),className:"h-8 w-8 p-0",children:i.jsx(pm,{className:"h-4 w-4"})})]}),i.jsxs(fe,{onClick:()=>g(!0),children:[i.jsx(Ut,{className:"mr-2 h-4 w-4"})," ",n("tasks.addNewTask")]})]}),stats:[{label:n("tasks.totalTasks"),value:k.length,icon:i.jsx(G0,{className:"h-4 w-4 text-primary"})},{label:n("tasks.todo","To Do"),value:k.filter(L=>L.task_status==="todo").length,icon:i.jsx(V_,{className:"h-4 w-4 text-gray-500"})},{label:n("tasks.inProgress","In Progress"),value:k.filter(L=>L.task_status==="in_progress").length,icon:i.jsx(ef,{className:"h-4 w-4 text-blue-500"})},{label:n("tasks.done","Done"),value:k.filter(L=>L.task_status==="done").length,icon:i.jsx(rc,{className:"h-4 w-4 text-green-500"})}]}),i.jsx(bP,{onSearch:b,onFilterStatus:j,onFilterAssignee:S,onFilterDateRange:C,users:T,statuses:[{value:"todo",label:n("tasks.todo")},{value:"in_progress",label:n("tasks.inProgress")},{value:"done",label:n("tasks.done")}]}),c==="kanban"?i.jsxs(sj,{stages:I,currentStageId:o||((Y=I[0])==null?void 0:Y.id),onStageChange:l,children:[i.jsx(fn,{open:m,onOpenChange:g,children:i.jsxs(tn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(rn,{children:[i.jsx(nn,{children:n("tasks.createTask")}),i.jsx(ca,{children:n("tasks.createTaskDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),i.jsx(ze,{value:p.task_name,onChange:L=>v(D=>({...D,task_name:L.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),i.jsx(an,{value:p.description,onChange:L=>v(D=>({...D,description:L.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),i.jsxs(ct,{value:p.assigned_to,onValueChange:L=>v(D=>({...D,assigned_to:L})),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:n("tasks.selectUser")})}),i.jsx(lt,{children:T.map(L=>{var D;return i.jsx(je,{value:((D=L.user_id)==null?void 0:D.toString())||void 0,children:Te(L,"user_name")},L.user_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),i.jsxs(ct,{value:p.stage_id,onValueChange:L=>v(D=>({...D,stage_id:L})),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:n("tasks.selectStage")})}),i.jsx(lt,{children:R.map(L=>{var D;return i.jsx(je,{value:((D=L.stage_id)==null?void 0:D.toString())||void 0,children:Te(L,"stage_name")},L.stage_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),i.jsxs(ct,{value:p.task_status,onValueChange:L=>v(D=>({...D,task_status:L})),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:n("tasks.selectStatus")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"todo",children:n("tasks.todo")}),i.jsx(je,{value:"in_progress",children:n("tasks.inProgress")}),i.jsx(je,{value:"done",children:n("tasks.done")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),i.jsx(ze,{type:"date",value:p.due_date,onChange:L=>v(D=>({...D,due_date:L.target.value}))})]})]}),i.jsxs(la,{children:[i.jsx(fe,{variant:"outline",onClick:()=>g(!1),children:n("buttons.cancel")}),i.jsxs(fe,{onClick:ye,disabled:!p.task_name.trim(),children:[i.jsx(Eo,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})}),i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:R.sort((L,D)=>{const se=L.stager_order_index??0,be=D.stager_order_index??0;return se-be}).filter(L=>{var D;return a?L.stage_id===(o||((D=I[0])==null?void 0:D.id)):!0}).map((L,D)=>{var be,ve;const se=M.filter(ke=>ke.stage_id===L.stage_id);return i.jsxs("div",{className:Ne("flex-shrink-0 animate-fade-in",a?"w-full":"w-[300px]"),style:{animationDelay:`${D*.1}s`},onDragOver:H,onDrop:()=>ee(L.stage_id),children:[i.jsx("div",{className:Ne("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft hidden md:block",L.color||"border-l-4 border-primary/50"),children:i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Go,{className:"h-4 w-4 text-muted-foreground cursor-move"}),i.jsx("h2",{className:"font-bold text-base",children:Te(L,"stage_name")})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:se.length})})]})}),i.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 custom-scrollbar",children:[((be=R.sort((ke,Se)=>(ke.stager_order_index||0)-(Se.stager_order_index||0))[0])==null?void 0:be.stage_id)===L.stage_id&&i.jsx("div",{className:"mb-4",children:i.jsx(ft,{className:Ne("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",a?"w-full h-[100px]":"w-[280px] h-[120px]"),onClick:()=>g(!0),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(Ut,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:n("tasks.addNewTask")})]})})}),se.map(ke=>{const Se=T.find(Ve=>Ve.user_id===ke.assigned_to);return i.jsx("div",{draggable:ie,onDragStart:()=>G(ke.task_id),className:"cursor-move",children:i.jsx(NIe,{task:ke,assignedUser:Se||null,stages:R,onDelete:()=>B(ke.task_id),onClick:()=>{console.log("Task clicked:",ke.task_id)},onDragStart:G,onStageChange:ue,isDragging:f===ke.task_id})},ke.task_id)}),((ve=R.sort((ke,Se)=>(ke.stager_order_index||0)-(Se.stager_order_index||0))[0])==null?void 0:ve.stage_id)!==L.stage_id&&i.jsx("div",{className:"mt-2",children:i.jsxs(fe,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>g(!0),children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),n("tasks.addTask")]})})]})]},L.stage_id)})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-lg font-semibold",children:[n("tasks.allTasks")," (",k.length,")"]}),i.jsx(fn,{open:m,onOpenChange:g,children:i.jsxs(tn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(rn,{children:[i.jsx(nn,{children:n("tasks.createTask")}),i.jsx(ca,{children:n("tasks.createTaskDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),i.jsx(ze,{value:p.task_name,onChange:L=>v(D=>({...D,task_name:L.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),i.jsx(an,{value:p.description,onChange:L=>v(D=>({...D,description:L.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),i.jsxs(ct,{value:p.assigned_to,onValueChange:L=>v(D=>({...D,assigned_to:L})),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:n("tasks.selectUser")})}),i.jsx(lt,{children:T.map(L=>{var D;return i.jsx(je,{value:((D=L.user_id)==null?void 0:D.toString())||void 0,children:Te(L,"user_name")},L.user_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),i.jsxs(ct,{value:p.stage_id,onValueChange:L=>v(D=>({...D,stage_id:L})),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:n("tasks.selectStage")})}),i.jsx(lt,{children:R.map(L=>{var D;return i.jsx(je,{value:((D=L.stage_id)==null?void 0:D.toString())||void 0,children:Te(L,"stage_name")},L.stage_id)})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),i.jsxs(ct,{value:p.task_status,onValueChange:L=>v(D=>({...D,task_status:L})),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:n("tasks.selectStatus")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"todo",children:n("tasks.todo")}),i.jsx(je,{value:"in_progress",children:n("tasks.inProgress")}),i.jsx(je,{value:"done",children:n("tasks.done")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),i.jsx(ze,{type:"date",value:p.due_date,onChange:L=>v(D=>({...D,due_date:L.target.value}))})]})]})]}),i.jsxs(la,{children:[i.jsx(fe,{variant:"outline",onClick:()=>g(!1),children:n("buttons.cancel")}),i.jsxs(fe,{onClick:ye,disabled:!p.task_name.trim(),children:[i.jsx(Eo,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})})]}),(()=>{const L=[{key:"task",header:n("tasks.taskName"),render:se=>i.jsx(bc,{title:se.task_name,subtitle:se.description})},{key:"assignee",header:n("tasks.assignedTo"),hideOnMobile:!0,render:se=>{const be=T.find(ve=>ve.user_id===se.assigned_to);return i.jsx(Gm,{name:be?Te(be,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"status",header:n("tasks.status"),render:se=>i.jsx(Uq,{variant:d(se.task_status),children:se.task_status||n("leads.unknown")})},{key:"due_date",header:n("tasks.dueDate"),hideOnMobile:!0,render:se=>i.jsx(Af,{date:se.due_date,fallback:n("leads.notSet")})},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:se=>{const be=R.find(ve=>ve.stage_id===se.stage_id);return be?Te(be,"stage_name"):n("leads.unknown")}}],D=[{label:n("common.view"),icon:i.jsx(as,{className:"h-4 w-4"}),onClick:se=>console.log("View task:",se.task_id)},{label:n("buttons.delete","Delete"),icon:i.jsx(Ht,{className:"h-4 w-4"}),onClick:se=>B(se.task_id),variant:"destructive"}];return i.jsx(Sl,{data:M,columns:L,actions:D,keyExtractor:se=>se.task_id,emptyState:i.jsx($i,{icon:i.jsx(G0,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("tasks.noTasksYet"),description:n("tasks.createFirst","Create a task to get started"),action:i.jsxs(fe,{onClick:()=>g(!0),children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),n("tasks.addNewTask")]})})})})()]})]})}function uL(e){const[t,r]=x.useState(e),n=x.useCallback((s,o)=>{r(l=>({...l,[s]:o}))},[]),a=x.useCallback(s=>{r(s??e)},[e]);return{values:t,setValues:r,setField:n,reset:a}}const zC=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}},CIe=(e,t)=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):t,EIe=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return i.jsx(X2,{className:"h-3 w-3 text-red-500"});case"high":return i.jsx(X2,{className:"h-3 w-3 text-orange-500"});default:return null}};function dL({ticket:e,assignedUser:t,userRole:r,onDelete:n,onClick:a,onDragStart:s,onDragEnd:o,isDragging:l=!1,stageName:c}){const{t:u}=Pt(),d=Br();return i.jsxs(ft,{className:Ne("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",l&&"opacity-50 rotate-2 scale-105"),onClick:a,draggable:!!s,onDragStart:f=>{s&&(f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("text/plain",e.ticket_id.toString()),s(e.ticket_id))},onDragEnd:()=>{o&&o()},children:[i.jsx(Yt,{className:"pb-3 px-4 pt-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",e.ticket_id]}),EIe(e.priority)]}),i.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:e.subject||u("tickets.noSubject","No Subject")}),e.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description})]}),n&&r==="admin"&&i.jsxs(hs,{children:[i.jsx(gx,{asChild:!0,onClick:f=>f.stopPropagation(),children:i.jsx(fe,{variant:"ghost",size:"sm",className:Ne("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(Ht,{className:"h-4 w-4"})})}),i.jsxs(Aa,{onClick:f=>f.stopPropagation(),children:[i.jsxs(Pa,{children:[i.jsx(Da,{children:u("tickets.deleteTicket","Delete Ticket")}),i.jsx(Ra,{children:u("tickets.deleteConfirmation",{name:e.subject||"this ticket"})})]}),i.jsxs(Oa,{children:[i.jsx(Ma,{children:u("buttons.cancel")}),i.jsx(Fa,{onClick:f=>{f.stopPropagation(),n(e.ticket_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),i.jsxs(yt,{className:"px-4 pb-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c&&i.jsx(ht,{variant:"outline",className:"text-xs",children:c}),i.jsx(ht,{variant:zC(e.priority),className:"text-xs",children:e.priority||u("leads.unknown")}),e.ticket_type&&i.jsx(ht,{variant:"outline",className:"text-xs",children:e.ticket_type})]}),t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Mn,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground truncate",children:Te(t,"user_name")})]}),i.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(zi,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:CIe(e.created_date,u("leads.unknown"))})]})})]})]})}function TIe(){const{isRTL:e}=ar(),[t,r]=x.useState([]),[n,a]=x.useState([]),[s,o]=x.useState([]),[l,c]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(""),[m,g]=x.useState("all"),[p,v]=x.useState("all"),[y,b]=x.useState("all"),[_,j]=x.useState(!1),[w,S]=x.useState(null),[N,C]=x.useState(!1),[k,E]=x.useState(!1),O=x.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"",stage_id:""}),[]),T=x.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"unassigned",stage_id:""}),[]),{values:U,setField:W,reset:R,setValues:z}=uL(O),{values:P,setField:M,reset:I,setValues:q}=uL(T),[J,A]=x.useState(null),[B,G]=x.useState(null),[H,ee]=x.useState("kanban"),[ue,ye]=x.useState(""),[ie,Y]=x.useState(!1),{user:L,loading:D}=dr(),{t:se}=Pt(),be=Br();x.useEffect(()=>{L&&!D&&ve()},[L,D]),x.useEffect(()=>{if(s.length>0&&B===null){const we=s.filter(Be=>Be.stage_type==="tickets");we.length>0&&G(we[0].stage_id)}},[s,B]);const ve=async()=>{try{c(!0),d(null);const[we,Be,We]=await Promise.all([m0.getAll().catch(Qe=>(console.error("[Tickets] Error fetching tickets:",Qe),[])),jn.getAll().catch(Qe=>(console.error("[Tickets] Error fetching users:",Qe),[])),ka.getByType("tickets").catch(Qe=>(console.error("[Tickets] Error fetching stages:",Qe),[]))]);if(r(we),a(Be),o(We),We.length>0){const Qe=[...We].sort((Ct,Vt)=>(Ct.stager_order_index||0)-(Vt.stager_order_index||0));z(Ct=>{var Vt;return{...Ct,stage_id:Ct.stage_id||((Vt=Qe[0].stage_id)==null?void 0:Vt.toString())||""}})}}catch(we){console.error("[Tickets] Failed to load data:",we),d(we.message||se("common.error"))}finally{c(!1)}},ke=we=>we&&n.find(Be=>Be.userid===we)||null,Se=async we=>{var Be,We;if(we.preventDefault(),!(ie||!L)){ye(""),Y(!0);try{const Qe=U.assigned_to?parseInt(U.assigned_to):null,Ct=n.find(fr=>fr.userid===Qe),Vt={subject:U.subject,description:U.description||null,priority:U.priority,ticket_type:U.ticket_type,stage_id:U.stage_id?parseInt(U.stage_id):null,created_by:((Be=L.profile)==null?void 0:Be.userid)||null,assigned_to:Qe,resolved_date:null,closed_at:null,closed_by:null,room_id:null,task_id:null,status:"open"},Wt=await m0.create(Vt);await ve();const cr=s.length>0&&((We=[...s].sort((fr,on)=>(fr.stager_order_index||0)-(on.stager_order_index||0))[0].stage_id)==null?void 0:We.toString())||"";R({...O,stage_id:cr}),j(!1)}catch(Qe){ye(Qe.message||se("tickets.createError"))}finally{Y(!1)}}},Ve=we=>{var Be,We;S(we),E(!1),q({...T,subject:we.subject||"",description:we.description||"",priority:we.priority||"medium",ticket_type:we.ticket_type||"request",assigned_to:((Be=we.assigned_to)==null?void 0:Be.toString())||"unassigned",stage_id:((We=we.stage_id)==null?void 0:We.toString())||""}),C(!0)},dt=async()=>{if(!(!w||ie)){ye(""),Y(!0);try{const we=P.assigned_to&&P.assigned_to!=="unassigned"?parseInt(P.assigned_to):null,Be=n.find(We=>We.userid===we);await m0.update(w.ticket_id,{subject:P.subject,description:P.description||null,priority:P.priority,ticket_type:P.ticket_type,assigned_to:we,stage_id:P.stage_id?parseInt(P.stage_id):null}),r(t.map(We=>We.ticket_id===w.ticket_id?{...We,subject:P.subject,description:P.description||null,priority:P.priority,ticket_type:P.ticket_type,assigned_to:we,stage_id:P.stage_id?parseInt(P.stage_id):null}:We)),S(We=>We?{...We,subject:P.subject,description:P.description||null,priority:P.priority,ticket_type:P.ticket_type,assigned_to:we,stage_id:P.stage_id?parseInt(P.stage_id):null}:null),E(!1)}catch(we){ye(we.message||se("tickets.updateError","Failed to update ticket"))}finally{Y(!1)}}},ae=async we=>{try{await m0.delete(we),r(t.filter(Be=>Be.ticket_id!==we))}catch(Be){console.error("[Tickets] Failed to delete ticket:",Be)}},pe=we=>{A(we)},te=()=>{A(null)},re=we=>{we.preventDefault(),we.dataTransfer.dropEffect="move"},he=async we=>{if(!J)return;const Be=t.find(We=>We.ticket_id===J);if(Be&&Be.stage_id!==we){r(We=>We.map(Qe=>Qe.ticket_id===J?{...Qe,stage_id:we}:Qe));try{await m0.moveToStage(J,we)}catch(We){console.error("Failed to update ticket stage:",We),r(Qe=>Qe.map(Ct=>Ct.ticket_id===J?{...Ct,stage_id:Be.stage_id}:Ct))}}A(null)},Pe=x.useMemo(()=>t.filter(we=>{var Vt,Wt,cr;const Be=((Vt=we.subject)==null?void 0:Vt.toLowerCase().includes(f.toLowerCase()))||((Wt=we.description)==null?void 0:Wt.toLowerCase().includes(f.toLowerCase())),We=m==="all"||we.priority===m,Qe=p==="all"||we.ticket_type===p,Ct=y==="all"||((cr=we.stage_id)==null?void 0:cr.toString())===y;return Be&&We&&Qe&&Ct}),[t,f,m,p,y]),Re=x.useMemo(()=>s.filter(we=>we.stage_type==="tickets").sort((we,Be)=>{const We=we.stager_order_index??0,Qe=Be.stager_order_index??0;return We-Qe}),[s]),et=x.useMemo(()=>Re.map(we=>({id:we.stage_id,name:Te(we,"stage_name"),color:we.color,count:Pe.filter(Be=>Be.stage_id===we.stage_id).length})),[Re,Pe]),rt=()=>{var we;return Re.length===0?i.jsx($i,{icon:i.jsx(Zf,{className:"h-12 w-12 text-muted-foreground/50"}),title:se("tickets.noStages","No ticket stages found"),description:se("tickets.noStagesDesc","Create ticket stages in the database to enable Kanban view")}):i.jsxs(sj,{stages:et,currentStageId:B||((we=et[0])==null?void 0:we.id),onStageChange:G,children:[i.jsx("div",{className:Ne("flex gap-4 pb-4 overflow-x-auto",be?"hidden":"flex"),children:Re.map(Be=>{const We=Pe.filter(Vt=>Vt.stage_id===Be.stage_id),Qe=Be.color||"border-l-4 border-gray-400",Ct=Te(Be,"stage_name");return i.jsxs("div",{className:"flex-shrink-0 w-[320px] flex flex-col h-full bg-background/50 border border-muted/50 rounded-lg",onDragOver:re,onDrop:()=>he(Be.stage_id),children:[i.jsx("div",{className:Ne("bg-muted/50 backdrop-blur rounded-t-lg p-3 sticky top-0 z-10",Qe),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-semibold text-sm",children:Te(Be,"stage_name")}),i.jsx(ht,{variant:"secondary",className:"text-xs",children:We.length})]}),i.jsx(fe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>{z(Vt=>{var Wt;return{...Vt,stage_id:((Wt=Be.stage_id)==null?void 0:Wt.toString())||""}}),j(!0)},children:i.jsx(Ut,{className:"h-4 w-4"})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto bg-muted/30 rounded-b-lg p-3",children:i.jsxs("div",{className:"space-y-3",children:[We.map(Vt=>i.jsx(dL,{ticket:Vt,assignedUser:ke(Vt.assigned_to),userRole:L==null?void 0:L.role,onDelete:ae,onClick:()=>Ve(Vt),onDragStart:pe,onDragEnd:te,isDragging:J===Vt.ticket_id,stageName:Ct},Vt.ticket_id)),We.length===0&&i.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:se("tickets.noTicketsInStage","No tickets in this stage")})]})})]},Be.stage_id)})}),be&&B&&i.jsxs("div",{className:"space-y-3 p-2",children:[Pe.filter(Be=>Be.stage_id===B).map(Be=>{var We;return i.jsx(dL,{ticket:Be,assignedUser:ke(Be.assigned_to),userRole:L==null?void 0:L.role,onDelete:ae,onClick:()=>Ve(Be),onDragStart:pe,onDragEnd:te,isDragging:J===Be.ticket_id,stageName:((We=et.find(Qe=>Qe.id===B))==null?void 0:We.name)||null},Be.ticket_id)}),Pe.filter(Be=>Be.stage_id===B).length===0&&i.jsx($i,{icon:i.jsx(Zf,{className:"h-12 w-12 text-muted-foreground/50"}),title:se("tickets.noTicketsInStage","No tickets in this stage"),description:se("tickets.createFirst","Create a ticket to get started"),action:i.jsxs(fe,{onClick:()=>{z(Be=>({...Be,stage_id:(B==null?void 0:B.toString())||""})),j(!0)},children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),se("tickets.newTicket")]})})]})]})},jt=()=>{const we=[{key:"ticket",header:se("tickets.subject","Subject"),render:We=>i.jsx(bc,{title:We.subject||se("tickets.noSubject","No Subject"),subtitle:We.description})},{key:"priority",header:se("tickets.priority","Priority"),render:We=>i.jsx(Uq,{variant:zC(We.priority),children:We.priority||se("leads.unknown")})},{key:"type",header:se("tickets.ticketType","Type"),hideOnMobile:!0,render:We=>i.jsx(ht,{variant:"outline",className:"text-xs",children:We.ticket_type||se("leads.unknown")})},{key:"assignee",header:se("tickets.assignedTo","Assigned To"),hideOnMobile:!0,render:We=>{const Qe=ke(We.assigned_to);return i.jsx(Gm,{name:Qe?Te(Qe,"user_name"):null,fallback:se("tickets.unassigned","Unassigned")})}},{key:"stage",header:se("tickets.stage","Stage"),hideOnMobile:!0,render:We=>{const Qe=Re.find(Ct=>Ct.stage_id===We.stage_id);return Qe?Te(Qe,"stage_name"):se("tickets.noStage","No stage")}},{key:"created",header:se("tickets.createdDate","Created"),hideOnMobile:!0,render:We=>i.jsx(Af,{date:We.created_date,fallback:se("leads.notSet","Not set")})}],Be=[{label:se("common.view","View"),icon:i.jsx(as,{className:"h-4 w-4"}),onClick:Ve},{label:se("buttons.delete","Delete"),icon:i.jsx(Ht,{className:"h-4 w-4"}),onClick:We=>ae(We.ticket_id),variant:"destructive",show:()=>!0}];return i.jsx(Sl,{data:Pe,columns:we,actions:Be,keyExtractor:We=>We.ticket_id,onRowClick:Ve,emptyState:i.jsx($i,{icon:i.jsx(Zf,{className:"h-12 w-12 text-muted-foreground/50"}),title:se("tickets.noTicketsInPage"),description:se("tickets.noTicketsFoundDesc","Try adjusting your filters"),action:i.jsxs(fe,{onClick:()=>j(!0),children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),se("tickets.newTicket","New Ticket")]})})})};return l||D?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(oa,{message:se("common.loading"),size:"2xl"})}):L?u?i.jsx(Pf,{title:se("tickets.errorTitle","Error loading tickets"),message:u,onRetry:ve}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:e?"rtl":"ltr",children:[i.jsx(Op,{title:se("tickets.title"),description:se("tickets.description","Manage and track support tickets"),icon:i.jsx(Zf,{className:"h-5 w-5 text-primary"}),actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(fe,{variant:H==="kanban"?"default":"ghost",size:"sm",onClick:()=>ee("kanban"),className:"h-8 w-8 p-0",children:i.jsx(W_,{className:"h-4 w-4"})}),i.jsx(fe,{variant:H==="list"?"default":"ghost",size:"sm",onClick:()=>ee("list"),className:"h-8 w-8 p-0",children:i.jsx(pm,{className:"h-4 w-4"})})]}),i.jsxs(fe,{onClick:()=>j(!0),children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),se("tickets.newTicket")]})]}),stats:[{label:se("tickets.total","Total Tickets"),value:t.length,icon:i.jsx(Zf,{className:"h-4 w-4 text-primary"})},...Re.map(we=>({label:Te(we,"stage_name"),value:t.filter(Be=>Be.stage_id===we.stage_id).length,icon:i.jsx(Go,{className:"h-4 w-4 text-muted-foreground"})}))]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(ze,{placeholder:se("tickets.searchPlaceholder","Search tickets..."),value:f,onChange:we=>h(we.target.value),className:"pl-10 h-9"})]}),i.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[i.jsxs(ct,{value:y,onValueChange:b,children:[i.jsx(ot,{className:"w-[130px] h-9",children:i.jsx(ut,{placeholder:se("tickets.allStages","All Stages")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"all",children:se("tickets.allStages","All Stages")}),Re.map(we=>{var Be;return i.jsx(je,{value:((Be=we.stage_id)==null?void 0:Be.toString())||"",children:Te(we,"stage_name")},we.stage_id)})]})]}),i.jsxs(ct,{value:p,onValueChange:v,children:[i.jsx(ot,{className:"w-[130px] h-9",children:i.jsx(ut,{placeholder:se("tickets.allTypes")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"all",children:se("tickets.allTypes","All Types")}),i.jsx(je,{value:"issue",children:se("tickets.typeIssue","Issue")}),i.jsx(je,{value:"request",children:se("tickets.typeRequest","Request")}),i.jsx(je,{value:"follow_up",children:se("tickets.typeFollowUp","Follow Up")}),i.jsx(je,{value:"internal_task",children:se("tickets.typeInternalTask","Internal Task")})]})]}),i.jsxs(ct,{value:m,onValueChange:g,children:[i.jsx(ot,{className:"w-[130px] h-9",children:i.jsx(ut,{placeholder:se("tickets.allPriorities")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"all",children:se("tickets.allPriorities","All Priorities")}),i.jsx(je,{value:"low",children:se("tickets.priorityLow","Low")}),i.jsx(je,{value:"medium",children:se("tickets.priorityMedium","Medium")}),i.jsx(je,{value:"high",children:se("tickets.priorityHigh","High")}),i.jsx(je,{value:"urgent",children:se("tickets.priorityUrgent","Urgent")})]})]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto",children:H==="kanban"?rt():jt()}),i.jsx(fn,{open:_,onOpenChange:j,children:i.jsxs(tn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsxs(rn,{children:[i.jsx(nn,{children:se("tickets.createNewTicket")}),i.jsx(ca,{children:se("tickets.createTicketDesc")})]}),i.jsxs("form",{onSubmit:Se,className:"space-y-4",children:[ue&&i.jsx(ym,{variant:"destructive",children:i.jsx(bm,{children:ue})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ue,{htmlFor:"subject",children:[se("tickets.subject")," *"]}),i.jsx(ze,{id:"subject",value:U.subject,onChange:we=>W("subject",we.target.value),placeholder:se("tickets.subjectPlaceholder"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"description",children:se("tickets.description")}),i.jsx(an,{id:"description",value:U.description,onChange:we=>W("description",we.target.value),placeholder:se("tickets.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"stage",children:se("tickets.stage","Stage")}),i.jsxs(ct,{value:U.stage_id,onValueChange:we=>W("stage_id",we),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:se("tickets.selectStage","Select stage")})}),i.jsx(lt,{children:Re.map(we=>{var Be;return i.jsx(je,{value:((Be=we.stage_id)==null?void 0:Be.toString())||"",children:Te(we,"stage_name")},we.stage_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ue,{htmlFor:"priority",children:[se("tickets.priority")," *"]}),i.jsxs(ct,{value:U.priority,onValueChange:we=>W("priority",we),children:[i.jsx(ot,{children:i.jsx(ut,{})}),i.jsxs(lt,{children:[i.jsx(je,{value:"low",children:se("tickets.priorityLow")}),i.jsx(je,{value:"medium",children:se("tickets.priorityMedium")}),i.jsx(je,{value:"high",children:se("tickets.priorityHigh")}),i.jsx(je,{value:"urgent",children:se("tickets.priorityUrgent")})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ue,{htmlFor:"ticket_type",children:[se("tickets.ticketType")," *"]}),i.jsxs(ct,{value:U.ticket_type,onValueChange:we=>W("ticket_type",we),children:[i.jsx(ot,{children:i.jsx(ut,{})}),i.jsxs(lt,{children:[i.jsx(je,{value:"request",children:se("tickets.typeRequest")}),i.jsx(je,{value:"follow_up",children:se("tickets.typeFollowUp")}),i.jsx(je,{value:"issue",children:se("tickets.typeIssue")}),i.jsx(je,{value:"internal_task",children:se("tickets.typeInternalTask")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"assigned_to",children:se("tickets.assignTo")}),i.jsxs(ct,{value:U.assigned_to,onValueChange:we=>W("assigned_to",we),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:se("tickets.selectAssignee")})}),i.jsx(lt,{children:n.map(we=>{var Be;return i.jsx(je,{value:((Be=we.userid)==null?void 0:Be.toString())||"",children:Te(we,"user_name")},we.userid)})})]})]})]}),i.jsxs(la,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[i.jsx(fe,{type:"button",variant:"outline",onClick:()=>j(!1),className:"w-full sm:w-auto",children:se("buttons.cancel")}),i.jsx(fe,{type:"submit",disabled:ie||!U.subject.trim(),className:"w-full sm:w-auto",children:se(ie?"tickets.creatingTicket":"tickets.createTicket")})]})]})]})}),i.jsx(fn,{open:N,onOpenChange:C,children:i.jsxs(tn,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[i.jsxs(rn,{children:[i.jsx(nn,{className:"text-lg sm:text-xl leading-tight",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[i.jsx("span",{className:"break-words",children:w==null?void 0:w.subject}),i.jsx(ht,{variant:"secondary",className:"self-start sm:self-center shrink-0",children:(w==null?void 0:w.status)||se("leads.unknown")})]})}),i.jsxs(ca,{className:"text-sm",children:[se("tickets.ticketId"),": #",w==null?void 0:w.ticket_id]})]}),w&&i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[ue&&i.jsx(ym,{variant:"destructive",children:i.jsx(bm,{children:ue})}),k?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ue,{htmlFor:"edit-subject",children:[se("tickets.subject")," *"]}),i.jsx(ze,{id:"edit-subject",value:P.subject,onChange:we=>M("subject",we.target.value),placeholder:se("tickets.subjectPlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"edit-description",children:se("tickets.description")}),i.jsx(an,{id:"edit-description",value:P.description,onChange:we=>M("description",we.target.value),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{children:se("tickets.stage","Stage")}),i.jsxs(ct,{value:P.stage_id,onValueChange:we=>M("stage_id",we),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:se("tickets.selectStage","Select stage")})}),i.jsx(lt,{children:Re.map(we=>{var Be;return i.jsx(je,{value:((Be=we.stage_id)==null?void 0:Be.toString())||"",children:Te(we,"stage_name")},we.stage_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{children:se("tickets.priority")}),i.jsxs(ct,{value:P.priority,onValueChange:we=>M("priority",we),children:[i.jsx(ot,{children:i.jsx(ut,{})}),i.jsxs(lt,{children:[i.jsx(je,{value:"low",children:se("tickets.priorityLow")}),i.jsx(je,{value:"medium",children:se("tickets.priorityMedium")}),i.jsx(je,{value:"high",children:se("tickets.priorityHigh")}),i.jsx(je,{value:"urgent",children:se("tickets.priorityUrgent")})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{children:se("tickets.ticketType")}),i.jsxs(ct,{value:P.ticket_type,onValueChange:we=>M("ticket_type",we),children:[i.jsx(ot,{children:i.jsx(ut,{})}),i.jsxs(lt,{children:[i.jsx(je,{value:"request",children:se("tickets.typeRequest")}),i.jsx(je,{value:"follow_up",children:se("tickets.typeFollowUp")}),i.jsx(je,{value:"issue",children:se("tickets.typeIssue")}),i.jsx(je,{value:"internal_task",children:se("tickets.typeInternalTask")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{children:se("tickets.assignTo")}),i.jsxs(ct,{value:P.assigned_to,onValueChange:we=>M("assigned_to",we),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:se("tickets.selectAssignee")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"unassigned",children:se("tickets.unassigned","Unassigned")}),n.map(we=>{var Be;return i.jsx(je,{value:((Be=we.userid)==null?void 0:Be.toString())||"",children:Te(we,"user_name")},we.userid)})]})]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:se("tickets.priority")}),i.jsx("div",{className:"mt-1",children:i.jsx(ht,{variant:zC(w.priority),className:"text-xs",children:w.priority||se("leads.unknown")})})]}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:se("tickets.ticketType")}),i.jsx("div",{className:"mt-1",children:i.jsx(ht,{variant:"outline",className:"text-xs",children:w.ticket_type||se("leads.unknown")})})]})]}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:se("tickets.stage","Stage")}),i.jsx("div",{className:"mt-1 text-sm",children:Re.find(we=>we.stage_id===w.stage_id)?Te(Re.find(we=>we.stage_id===w.stage_id),"stage_name"):se("tickets.noStage","No stage")})]}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:se("tickets.assignedTo")}),i.jsx("div",{className:"mt-1 text-sm break-words",children:ke(w.assigned_to)?Te(ke(w.assigned_to),"user_name"):se("tickets.unassigned","Unassigned")})]}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:se("tickets.createdDate")}),i.jsx("div",{className:"mt-1 text-sm",children:w.created_date?new Date(w.created_date).toLocaleString():"N/A"})]})]}),w.description&&i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:se("tickets.description")}),i.jsx("div",{className:"mt-2 p-3 bg-muted rounded-md text-sm whitespace-pre-wrap break-words",children:w.description})]})]}),i.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:se("tickets.createdBy")}),i.jsx("div",{className:"mt-1 text-sm break-words",children:ke(w.created_by)?Te(ke(w.created_by),"user_name"):se("leads.unknown")})]}),w.resolved_date&&i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:se("tickets.resolvedDate")}),i.jsx("div",{className:"mt-1 text-sm",children:new Date(w.resolved_date).toLocaleString()})]}),w.closed_at&&i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:se("tickets.closedDate")}),i.jsx("div",{className:"mt-1 text-sm",children:new Date(w.closed_at).toLocaleString()})]})]})]}),i.jsx(la,{className:"flex flex-col-reverse sm:flex-row gap-2 pt-4",children:k?i.jsxs(i.Fragment,{children:[i.jsx(fe,{variant:"outline",onClick:()=>E(!1),className:"w-full sm:w-auto",children:se("buttons.cancel")}),i.jsxs(fe,{onClick:dt,disabled:ie||!P.subject.trim(),className:"w-full sm:w-auto",children:[i.jsx(Eo,{className:"h-4 w-4 mr-2"}),ie?se("buttons.saving","Saving..."):se("buttons.save","Save")]})]}):i.jsxs(i.Fragment,{children:[i.jsx(fe,{variant:"outline",onClick:()=>C(!1),className:"w-full sm:w-auto",children:se("buttons.close","Close")}),i.jsxs(fe,{onClick:()=>E(!0),className:"w-full sm:w-auto",children:[i.jsx(Is,{className:"h-4 w-4 mr-2"}),se("buttons.edit","Edit")]})]})})]})})]}):null}var TP="Progress",AP=100,[AIe,lqe]=vs(TP),[PIe,OIe]=AIe(TP),zq=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=DIe,...o}=e;(a||a===0)&&!fL(a)&&console.error(RIe(`${a}`,"Progress"));const l=fL(a)?a:AP;n!==null&&!hL(n,l)&&console.error(FIe(`${n}`,"Progress"));const c=hL(n,l)?n:null,u=Jb(c)?s(c,l):void 0;return i.jsx(PIe,{scope:r,value:c,max:l,children:i.jsx(vt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Jb(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Hq(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});zq.displayName=TP;var Vq="ProgressIndicator",Wq=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=OIe(Vq,r);return i.jsx(vt.div,{"data-state":Hq(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});Wq.displayName=Vq;function DIe(e,t){return`${Math.round(e/t*100)}%`}function Hq(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Jb(e){return typeof e=="number"}function fL(e){return Jb(e)&&!isNaN(e)&&e>0}function hL(e,t){return Jb(e)&&!isNaN(e)&&e<=t&&e>=0}function RIe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${AP}\`.`}function FIe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${AP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var qq=zq,MIe=Wq;const mf=x.forwardRef(({className:e,value:t,...r},n)=>i.jsx(qq,{ref:n,className:Ne("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(MIe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));mf.displayName=qq.displayName;function Gq({items:e,stages:t,stageType:r,renderItem:n,onItemUpdate:a,onItemDelete:s,onItemCreate:o,onStageCreate:l,onStageUpdate:c,onStageDelete:u,canManageStages:d=!0,canManageItems:f=!0,showAddButton:h=!0,addButtonText:m="Add New Item",addButtonDescription:g="Add a new item to this stage",className:p="",mobileSelectedStageId:v,onMobileStageChange:y}){var be;const{t:b}=Pt(),_=Br();ar();const[j,w]=x.useState(null),[S,N]=x.useState(!1),[C,k]=x.useState(""),[E,O]=x.useState(null),[T,U]=x.useState(""),[W,R]=x.useState(null),[z,P]=x.useState(!1),[M,I]=x.useState(""),[q,J]=x.useState({title:"",description:"",progress:0}),A=t.filter(ve=>!r||ve.stage_type===r).sort((ve,ke)=>{const Se=ve.order_index??ve.stager_order_index??0,Ve=ke.order_index??ke.stager_order_index??0;return Se-Ve}),B=A.map(ve=>({id:ve.id,name:Te(ve,"name"),color:ve.color,count:e.filter(ke=>ke.stage===ve.id).length})),G=ve=>{w(ve)},H=ve=>{ve.preventDefault(),ve.dataTransfer.dropEffect="move"},ee=async ve=>{if(!j||!a)return;const ke=e.find(Se=>Se.id===j);if(ke&&ke.stage!==ve)try{await a(j,{stage:ve})}catch(Se){console.error("Failed to update item stage:",Se)}w(null)},ue=async(ve,ke)=>{if(!a)return;const Se=e.find(Ve=>Ve.id===ve);if(Se&&Se.stage!==ke)try{await a(ve,{stage:ke})}catch(Ve){console.error("Failed to update item stage:",Ve)}},ye=async()=>{if(!(!C.trim()||!l))try{const ve=A.length>0?Math.max(...A.map(ke=>ke.order_index??ke.stager_order_index??0)):-1;await l({name:C.trim(),name_ar:null,order_index:ve+1,stager_order_index:ve+1,color:"border-s-4 border-gray-400",color_var:"--gray-400",stage_type:r}),k(""),N(!1)}catch(ve){console.error("Failed to create stage:",ve)}},ie=async ve=>{if(!(!T.trim()||!c))try{await c(ve,{name:T.trim()}),O(null),U("")}catch(ke){console.error("Failed to update stage:",ke)}},Y=async ve=>{if(e.filter(Se=>Se.stage===ve).length>0){R(ve);return}if(u)try{await u(ve)}catch(Se){console.error("Failed to delete stage:",Se)}},L=async()=>{if(!(!W||!u))try{await u(W),R(null)}catch(ve){console.error("Failed to delete stage:",ve)}},D=ve=>{I(ve),P(!0)},se=async()=>{if(!(!q.title.trim()||!o))try{await o(M,{title:q.title.trim(),description:q.description.trim()||null,progress:q.progress}),J({title:"",description:"",progress:0}),P(!1)}catch(ve){console.error("Failed to create item:",ve)}};return i.jsxs(i.Fragment,{children:[i.jsx(fn,{open:z,onOpenChange:P,children:i.jsxs(tn,{className:"sm:max-w-[500px]",children:[i.jsxs(rn,{children:[i.jsx(nn,{children:m}),i.jsx(ca,{children:g})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Title *"}),i.jsx(ze,{value:q.title,onChange:ve=>J(ke=>({...ke,title:ve.target.value})),placeholder:"Enter title"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Description"}),i.jsx(an,{value:q.description,onChange:ve=>J(ke=>({...ke,description:ve.target.value})),placeholder:"Enter description",rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Initial Progress"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"range",min:"0",max:"100",value:q.progress,onChange:ve=>J(ke=>({...ke,progress:parseInt(ve.target.value)})),className:"w-full"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:"0%"}),i.jsxs("span",{children:[q.progress,"%"]}),i.jsx("span",{children:"100%"})]})]})]})]}),i.jsxs(la,{children:[i.jsx(fe,{variant:"outline",onClick:()=>P(!1),children:b("buttons.cancel")}),i.jsxs(fe,{onClick:se,disabled:!q.title.trim(),children:[i.jsx(Eo,{className:"h-4 w-4 mr-2"}),"Create"]})]})]})}),i.jsx(sj,{stages:B,currentStageId:v||((be=B[0])==null?void 0:be.id),onStageChange:y||(()=>{}),children:i.jsx("div",{className:Ne("flex gap-6 pt-6 pb-6 max-w-full pl-6 rtl:pr-6 rtl:pl-0",p),children:A.filter(ve=>{var ke;return _?ve.id===(v||((ke=B[0])==null?void 0:ke.id)):!0}).map((ve,ke)=>{var Ve,dt;const Se=e.filter(ae=>ae.stage===ve.id);return i.jsxs("div",{className:Ne("flex-shrink-0 animate-fade-in h-[calc(100vh-300px)]",_?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${ke*.1}s`},onDragOver:H,onDrop:()=>ee(ve.id),children:[!_&&i.jsx("div",{className:Ne("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft",ve.color||"border-s-4 border-primary/50"),children:i.jsx("div",{className:"flex items-center justify-between mb-2",children:E===ve.id?i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(ze,{value:T,onChange:ae=>U(ae.target.value),onKeyDown:ae=>{ae.key==="Enter"&&ie(ve.id),ae.key==="Escape"&&(O(null),U(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),i.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>ie(ve.id),className:"h-8 w-8 p-0",children:""})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[d&&i.jsx(Go,{className:"h-4 w-4 text-muted-foreground cursor-move"}),i.jsx("h2",{className:"font-bold text-base",children:Te(ve,"name")})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:Se.length}),d&&i.jsxs(i.Fragment,{children:[i.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>{O(ve.id),U(Te(ve,"name"))},className:"h-6 w-6 p-0",title:b("buttons.edit"),children:i.jsx(Is,{className:"h-3 w-3"})}),i.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>Y(ve.id),className:"h-6 w-6 p-0 text-destructive",title:b("buttons.delete"),children:i.jsx(Ht,{className:"h-3 w-3"})})]})]})]})})}),i.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto scrollbar-hide",children:[f&&h&&((Ve=A.sort((ae,pe)=>{const te=ae.order_index??ae.stager_order_index??0,re=pe.order_index??pe.stager_order_index??0;return te-re})[0])==null?void 0:Ve.id)===ve.id&&i.jsx("div",{className:"mb-4",children:i.jsx(ft,{className:Ne("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-s-4 border-gray-300","flex items-center justify-center bg-muted/20",_?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>D(ve.id),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(Ut,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:m})]})})}),Se.map(ae=>i.jsx("div",{children:n(ae,{onDelete:f&&s?()=>s(ae.id):void 0,onDragStart:f?G:void 0,onStageChange:_?ue:void 0,isDragging:j===ae.id,stages:A})},ae.id)),f&&h&&((dt=A.sort((ae,pe)=>{const te=ae.order_index??ae.stager_order_index??0,re=pe.order_index??pe.stager_order_index??0;return te-re})[0])==null?void 0:dt.id)!==ve.id&&i.jsx("div",{className:"mt-2",children:i.jsxs(fe,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>D(ve.id),children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),m]})})]})]},ve.id)})})}),d&&!_&&i.jsx("div",{className:"flex-shrink-0 w-[280px] sm:w-[300px]",children:S?i.jsxs("div",{className:"rounded-xl bg-muted/30 backdrop-blur p-4 shadow-soft",children:[i.jsx(ze,{value:C,onChange:ve=>k(ve.target.value),onKeyDown:ve=>{ve.key==="Enter"&&ye(),ve.key==="Escape"&&(N(!1),k(""))},placeholder:"Stage name...",className:"mb-2",autoFocus:!0}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(fe,{onClick:ye,size:"sm",className:"flex-1",children:"Add"}),i.jsx(fe,{onClick:()=>{N(!1),k("")},size:"sm",variant:"ghost",children:i.jsx(ui,{className:"h-4 w-4"})})]})]}):i.jsxs(fe,{variant:"outline",size:"lg",className:"w-full h-24 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>N(!0),children:[i.jsx(Ut,{className:"h-5 w-5 mr-2"}),"Add Stage"]})}),i.jsx(hs,{open:!!W,onOpenChange:()=>R(null),children:i.jsxs(Aa,{children:[i.jsxs(Pa,{children:[i.jsx(Da,{children:"Delete Stage"}),i.jsxs(Ra,{children:["This stage contains ",e.filter(ve=>ve.stage===W).length," item(s). Deleting this stage will also remove all items in it. This action cannot be undone."]})]}),i.jsxs(Oa,{children:[i.jsx(Ma,{children:"Cancel"}),i.jsx(Fa,{onClick:L,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})}function IIe({projectId:e,onClose:t}){const{id:r}=dre(),n=Us(),{user:a}=dr(),[s,o]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!0),[f,h]=x.useState(null),[m,g]=x.useState(null),[p,v]=x.useState(null),[y,b]=x.useState(null),[_,j]=x.useState([]),[w,S]=x.useState([]),N=e||(r?parseInt(r):null),C=!!e;x.useEffect(()=>{(async()=>{!N||!a||h(!0)})()},[N,a]),x.useEffect(()=>{N&&f&&k()},[N,f]);const k=async()=>{if(N)try{d(!0);const R=await fd.getById(N);if(g(R),R){if(R.created_by)try{const z=await jn.getByAuthId(R.created_by.toString());v(z)}catch(z){console.error("Failed to fetch client:",z)}if(R.created_by)try{const z=await jn.getByAuthId(R.created_by.toString());b(z)}catch(z){console.error("Failed to fetch manager:",z)}try{const P=(await Y3e.getProjectUsers(N)).map(I=>I.userid),M=await Promise.all(P.map(I=>I?jn.getByAuthId(I.toString()).catch(()=>null):null));j(M.filter(I=>I!==null))}catch(z){console.error("Failed to fetch project users:",z)}try{const M=(await ka.getAll()).filter(J=>J.project_id===N).map(J=>J.stage_id),q=(await Promise.all(M.map(J=>jd.getByStage(J)))).flat();S(q)}catch(z){console.error("Failed to fetch tasks:",z)}}}catch(R){console.error("Failed to load project data:",R)}finally{d(!1)}};x.useEffect(()=>{N&&m&&w.length>0&&E()},[N,m,w]);const E=async()=>{if(!(!N||!m||w.length===0))try{const R=[];for(const z of w){const P=await UC.getByTask(z.task_id);R.push(...P)}o(R)}catch(R){console.error("Failed to load comments:",R)}},O=async R=>{if(!(!l.trim()||!a))try{const z=await UC.create({task_id:R,userid:a.id.toString(),message:l.trim()});o(P=>[...P,z]),c("")}catch(z){console.error("Failed to add comment:",z)}},T=()=>{t?t():n("/projects")},U=({children:R})=>C?i.jsx("div",{className:"h-full overflow-y-auto p-1",children:R}):i.jsx(fk,{children:R});if(f===!1)return i.jsx(U,{children:i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have permission to view this project."}),i.jsx(fe,{onClick:T,children:"Back to Projects"})]})})});if(f===null||!m||!p||!y)return u?i.jsx(U,{children:i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):i.jsx(U,{children:i.jsx("div",{children:"Project not found"})});const W={todo:"bg-slate-200 text-slate-700",in_progress:"bg-blue-200 text-blue-700",done:"bg-green-200 text-green-700"};return i.jsx(U,{children:i.jsxs("div",{className:"space-y-6 pb-10",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(fe,{variant:"ghost",size:"icon",onClick:T,children:i.jsx(PB,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:Te(m,"project_name")}),i.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:Te(p,"company_name")})]})]}),i.jsx(fe,{variant:"outline",className:"self-start sm:self-auto",children:"Settings"})]}),i.jsx(ft,{children:i.jsxs(yt,{className:"pt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),i.jsxs("span",{className:"text-sm font-bold",children:[m.progress||0,"%"]})]}),i.jsx(mf,{value:m.progress||0,className:"h-3"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[i.jsx("div",{className:"lg:col-span-2 space-y-4 lg:space-y-6",children:i.jsxs(di,{defaultValue:"tasks",children:[i.jsxs(Bs,{className:"w-full sm:w-auto",children:[i.jsx(ur,{value:"tasks",className:"flex-1 sm:flex-none",children:"Tasks"}),i.jsx(ur,{value:"images",className:"flex-1 sm:flex-none",children:"Images"}),i.jsx(ur,{value:"comments",className:"flex-1 sm:flex-none",children:"Comments"})]}),i.jsxs(kr,{value:"tasks",className:"space-y-3",children:[w.map(R=>{var P;const z=_.find(M=>M.user_id===R.assigned_to);return i.jsx(ft,{children:i.jsx(yt,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold",children:Te(R,"task_name")}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Te(R,"description")}),i.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[i.jsx(ht,{className:Ne("text-xs",W[R.task_status]),children:((P=R.task_status)==null?void 0:P.replace("_"," "))||"todo"}),R.due_date&&i.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(zi,{className:"h-3 w-3"}),"Due: ",new Date(R.due_date).toLocaleDateString()]})]})]}),z&&i.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[i.jsx("div",{className:"text-2xl mb-1",children:""}),Te(z,"user_name")]})]})})},R.task_id)}),i.jsx(fe,{variant:"outline",className:"w-full",children:"+ Add New Task"})]}),i.jsx(kr,{value:"images",children:i.jsx(ft,{children:i.jsxs(yt,{className:"pt-6",children:[i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(R=>i.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-4xl",children:""})},R))}),i.jsxs(fe,{variant:"outline",className:"w-full mt-4",children:[i.jsx(Ig,{className:"h-4 w-4 mr-2"}),"Upload Images"]})]})})}),i.jsxs(kr,{value:"comments",className:"space-y-3",children:[s.map(R=>{const z=[..._,p,y].find(P=>{var M,I,q,J;return P&&(((M=P.userid)==null?void 0:M.toString())===((I=R.userid)==null?void 0:I.toString())||((q=P.user_id)==null?void 0:q.toString())===((J=R.userid)==null?void 0:J.toString()))});return i.jsx(ft,{children:i.jsx(yt,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"text-2xl",children:(z==null?void 0:z.avatar)||""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-sm",children:z?Te(z,"user_name"):"Unknown"}),i.jsx("p",{className:"text-sm mt-1",children:R.message}),i.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:new Date(R.created_date||"").toLocaleString()})]})]})})},R.comment_id)}),w.length>0&&i.jsx(ft,{children:i.jsx(yt,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ze,{placeholder:"Add a comment...",value:l,onChange:R=>c(R.target.value),onKeyDown:R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),O(w[0].task_id))}}),i.jsx(fe,{size:"icon",onClick:()=>O(w[0].task_id),children:i.jsx(Wv,{className:"h-4 w-4"})})]})})})]})]})}),i.jsxs("div",{className:"space-y-4 lg:order-last",children:[i.jsxs(ft,{children:[i.jsx(Yt,{children:i.jsx(yr,{className:"text-base sm:text-lg",children:"Project Summary"})}),i.jsxs(yt,{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Client"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:p.avatar}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-semibold",children:Te(p,"user_name")}),i.jsx("div",{className:"text-xs text-muted-foreground",children:Te(p,"company_name")})]})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Project Manager"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:y.avatar}),i.jsx("div",{className:"text-sm",children:Te(y,"user_name")})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"Team"}),i.jsx("div",{className:"space-y-2",children:_.map(R=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:R.avatar||""}),i.jsx("div",{className:"text-sm",children:Te(R,"user_name")})]},R.user_id))})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Timeline"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Start: ",m.created_date?new Date(m.created_date).toLocaleDateString():"Not set",m.end_date&&i.jsxs("div",{children:["End: ",new Date(m.end_date).toLocaleDateString()]})]})]})]})]}),i.jsxs(ft,{children:[i.jsx(Yt,{children:i.jsx(yr,{className:"text-base sm:text-lg",children:"Recent Activity"})}),i.jsx(yt,{children:i.jsxs("div",{className:"space-y-3 text-xs",children:[i.jsxs("div",{className:"pb-2 border-b",children:[i.jsx("div",{className:"font-medium",children:"Task completed"}),i.jsx("div",{className:"text-muted-foreground",children:"2 hours ago"})]}),i.jsxs("div",{className:"pb-2 border-b",children:[i.jsx("div",{className:"font-medium",children:"New comment added"}),i.jsx("div",{className:"text-muted-foreground",children:"5 hours ago"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Images uploaded"}),i.jsx("div",{className:"text-muted-foreground",children:"1 day ago"})]})]})})]})]})]})]})})}function LIe({project:e,client:t,manager:r,onDelete:n,onClick:a,onDragStart:s,onStageChange:o,isDragging:l=!1,stages:c}){const{t:u}=Pt(),d=Br(),f=e.progress||0,h=p=>p?new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):u("leads.notSet","Not set"),m=p=>{if(!p)return null;const v=new Date,b=(new Date(p).getTime()-v.getTime())/(1e3*60*60);return b<0?"overdue":b<24?"urgent":b<72?"soon":null},g=p=>{switch(m(p)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return i.jsxs(ft,{className:Ne("group relative hover:shadow-lg transition-all duration-200",d?"w-full border-s-4 border-blue-500":"w-[280px] sm:w-[300px] border-s-4",!d&&(f===100?"border-s-green-500":"border-s-blue-500"),g(e.end_date),l&&"opacity-50 rotate-2 scale-105"),draggable:!!s,onDragStart:p=>{s&&(p.dataTransfer.effectAllowed="move",p.dataTransfer.setData("text/plain",e.project_id.toString()),s(e.project_id))},children:[i.jsx(Yt,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:a,children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Te(e,"project_name")}),Te(e,"project_description")&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Te(e,"project_description")})]}),n&&i.jsxs(hs,{children:[i.jsx(gx,{asChild:!0,onClick:p=>p.stopPropagation(),children:i.jsx(fe,{variant:"ghost",size:"sm",className:Ne("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(Ht,{className:"h-4 w-4"})})}),i.jsxs(Aa,{onClick:p=>p.stopPropagation(),children:[i.jsxs(Pa,{children:[i.jsx(Da,{children:u("projects.deleteProject")}),i.jsx(Ra,{children:u("projects.deleteConfirmation",{name:Te(e,"project_name")})})]}),i.jsxs(Oa,{children:[i.jsx(Ma,{children:u("buttons.cancel")}),i.jsx(Fa,{onClick:p=>{p.stopPropagation(),n()},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),i.jsxs(yt,{className:"px-4 pb-4 space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:u("projects.progress")}),i.jsxs("span",{className:"font-medium",children:[f,"%"]})]}),i.jsx(mf,{value:f,className:"h-2"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t&&i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(Wn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Client"}),i.jsx("p",{className:"text-xs font-medium truncate",children:t.name})]})]}),i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(Mn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Manager"}),i.jsx("p",{className:"text-xs font-medium truncate",children:r?r.name:u("common.all","Unassigned")})]})]})]}),d&&o&&i.jsx("div",{className:"pt-1",children:i.jsxs(ct,{value:e.stage.toString(),onValueChange:p=>o(e.project_id,parseInt(p)),children:[i.jsx(ot,{className:"h-7 text-xs",children:i.jsx(ut,{placeholder:u("projects.selectStage","Select stage")})}),i.jsx(lt,{children:c.filter(p=>["New","In Progress","Overdue","Completed"].includes(p.name)).map(p=>i.jsx(je,{value:p.id.toString(),children:Te(p,"name")},p.id))})]})}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(zi,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:h(e.created_date)})]}),f===100?i.jsx(ht,{variant:"default",className:"bg-green-500 text-xs",children:"Completed"}):f>0?i.jsx(ht,{variant:"default",className:"text-xs",children:"In Progress"}):i.jsx(ht,{variant:"secondary",className:"text-xs",children:"Not Started"})]})]})]})}function $Ie(){Us();const{hasRole:e,user:t}=dr(),{currentLanguage:r,isRTL:n}=ar(),{t:a}=Pt();Br();const{toast:s}=gi(),[o,l]=x.useState([]),c=async B=>{try{await fd.delete(B),l(o.filter(G=>G.project_id!==B)),s({title:a("common.success"),description:a("projects.deleteSuccess")})}catch(G){console.error("Failed to delete project:",G),s({variant:"destructive",title:a("common.error"),description:a("projects.deleteError")})}},[u,d]=x.useState([]),[f,h]=x.useState([]),[m,g]=x.useState([]),[p,v]=x.useState(!0),[y,b]=x.useState(null);x.useState(!1),x.useState(""),x.useState(null),x.useState(""),x.useState(null),x.useState(null);const[_,j]=x.useState(!1),[w,S]=x.useState(null),[N,C]=x.useState("kanban"),[k,E]=x.useState(null),[O,T]=x.useState(""),[U,W]=x.useState("all"),[R,z]=x.useState("all"),[P,M]=x.useState({from:void 0,to:void 0}),I=x.useMemo(()=>o.filter(B=>{const G=(B.project_name||"").toLowerCase().includes(O.toLowerCase())||(B.project_description||"").toLowerCase().includes(O.toLowerCase());let H=!0;U==="todo"?H=(B.progress||0)===0:U==="in_progress"?H=(B.progress||0)>0&&(B.progress||0)<100:U==="done"&&(H=(B.progress||0)===100);const ee=R==="all"||B.created_by&&B.created_by.toString()===R;let ue=!0;if(P.from&&B.end_date){const ye=new Date(B.end_date),ie=new Date(P.from);ie.setHours(0,0,0,0);const Y=new Date(ye);if(Y.setHours(0,0,0,0),ue=Y>=ie,ue&&P.to){const L=new Date(P.to);L.setHours(23,59,59,999),ue=Y<=L}}else P.from&&!B.end_date&&(ue=!1);return G&&H&&ee&&ue}),[o,O,U,R,P]);x.useEffect(()=>{q()},[]),x.useEffect(()=>{if(m.length>0&&w===null){const B=m.find(G=>G.stage_id===5);B&&S(B.stage_id)}},[m,w]);const q=async()=>{try{v(!0),b(null);const[B,G,H,ee]=await Promise.all([fd.getAll(),ZH.getAll(),jn.getAll(),ka.getByType("projects")]);console.log("[Projects] Loaded data:",{projects:B.length,clients:G.length,users:H.length,stages:ee.length}),console.log("[Projects] Projects data:",B),console.log("[Projects] Stages data:",ee),l(B),d(G),h(H),g(ee)}catch(B){console.error("Failed to load data:",B),b(a("projects.loadError","Failed to load projects. Please try again."))}finally{v(!1)}},J=m.filter(B=>B.stage_type==="projects").sort((B,G)=>{const H=B.stager_order_index??0,ee=G.stager_order_index??0;return H-ee});if(p)return i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(oa,{message:a("common.loading"),size:"2xl"})});const A=()=>y?i.jsx(Pf,{title:a("projects.errorTitle","Error loading projects"),message:y,onRetry:q}):o.length===0&&!O&&U==="all"&&R==="all"?i.jsx($i,{title:a("projects.emptyTitle","No projects found"),description:a("projects.emptyDescription","Get started by creating your first project."),icon:i.jsx(Ld,{className:"h-10 w-10 text-muted-foreground"}),action:i.jsxs(fe,{onClick:()=>j(!0),children:[i.jsx(Ut,{className:"mr-2 h-4 w-4"})," ",a("projects.createProject")]})}):i.jsxs(i.Fragment,{children:[i.jsx(bP,{onSearch:T,onFilterStatus:W,onFilterAssignee:z,onFilterDateRange:M,users:f,statuses:[{value:"todo",label:a("mprojects.notStarted")},{value:"in_progress",label:a("mprojects.inProgress")},{value:"done",label:a("mprojects.completed")}]}),N==="kanban"?i.jsx(Gq,{items:I.map(B=>({...B,id:B.project_id,title:Te(B,"project_name")})),stages:J.map(B=>({...B,id:B.stage_id,name:Te(B,"stage_name")})),stageType:"projects",renderItem:(B,G)=>i.jsx(LIe,{project:B,client:u.find(H=>{var ee,ue;return((ee=H.userid)==null?void 0:ee.toString())===((ue=B.MemberID)==null?void 0:ue.toString())})||null,manager:f.find(H=>H.userid===Number(B.created_by)||H.userid===Number(B.created_by))||null,stages:G.stages,onDelete:()=>{var H;return(H=G.onDelete)==null?void 0:H.call(G,B.id)},onClick:()=>E(B.project_id),onDragStart:G.onDragStart,onStageChange:G.onStageChange,isDragging:G.isDragging}),onItemUpdate:async(B,G)=>{G.stage!==void 0&&(await fd.update(B,{stage:G.stage}),l(o.map(H=>H.project_id===B?{...H,stage:G.stage}:H)))},onItemDelete:async B=>{await fd.delete(B),l(o.filter(G=>G.project_id!==B))},onItemCreate:async(B,G)=>{var ue;const H=fc({project_name:G.title,project_description:G.description,created_by:((ue=t==null?void 0:t.profile)==null?void 0:ue.userid)||1,progress:G.progress,stage:B,end_date:null,userid:(t==null?void 0:t.id)||null},{project_name:"project_name",project_description:"project_description"}),ee=await fd.create(H);l([...o,ee])},onStageCreate:async B=>{const G=await ka.create({stage_name:B.name,stage_name_ar:B.name_ar,stager_order_index:B.order_index,color:B.color,color_var:B.color_var,stage_type:"projects"});g([...m,G])},onStageUpdate:async(B,G)=>{await ka.update(B,{stage_name:G.name}),g(m.map(H=>H.stage_id===B?{...H,stage_name:G.name}:H))},onStageDelete:async B=>{await ka.delete(B),g(m.filter(G=>G.stage_id!==B)),q()},canManageStages:!0,canManageItems:!0,showAddButton:!0,addButtonText:a("projects.addNewProjectCard"),addButtonDescription:a("projects.createProjectDesc"),mobileSelectedStageId:w,onMobileStageChange:B=>S(Number(B))}):i.jsx("div",{className:"bg-card rounded-lg border shadow-sm",children:i.jsxs(jP,{children:[i.jsx(SP,{children:i.jsxs(jv,{children:[i.jsx(ho,{children:a("projects.projectName")}),i.jsx(ho,{children:a("projects.client")}),i.jsx(ho,{children:a("projects.manager")}),i.jsx(ho,{children:a("projects.stage")}),i.jsx(ho,{children:a("projects.progress")}),i.jsx(ho,{children:a("projects.dueDate")}),i.jsx(ho,{className:"w-[50px]"})]})}),i.jsx(NP,{children:I.map(B=>{const G=f.find(ue=>ue.userid===Number(B.created_by)||ue.userid===Number(B.created_by)),H=u.find(ue=>{var ye,ie;return((ye=ue.userid)==null?void 0:ye.toString())===((ie=B.MemberID)==null?void 0:ie.toString())}),ee=m.find(ue=>ue.stage_id===B.stage);return i.jsxs(jv,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>E(B.project_id),children:[i.jsx(mo,{className:"font-medium",children:Te(B,"project_name")}),i.jsx(mo,{children:H?Te(H,"name"):"-"}),i.jsx(mo,{children:G?Te(G,"name"):"-"}),i.jsx(mo,{children:i.jsx(ht,{variant:"outline",className:"bg-background",children:ee?Te(ee,"stage_name"):"-"})}),i.jsx(mo,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(mf,{value:B.progress||0,className:"w-16 h-2"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[B.progress,"%"]})]})}),i.jsx(mo,{className:"text-muted-foreground text-sm",children:B.end_date?new Date(B.end_date).toLocaleDateString():"-"}),i.jsx(mo,{children:i.jsx(fe,{variant:"ghost",size:"icon",onClick:ue=>{ue.stopPropagation(),c(B.project_id)},className:"h-8 w-8 text-muted-foreground hover:text-destructive",children:i.jsx(Ht,{className:"h-4 w-4"})})})]},B.project_id)})})]})})]});return i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:n?"rtl":"ltr",children:[i.jsx(Op,{title:a("projects.title"),description:a("projects.subtitle"),icon:i.jsx(Ld,{className:"h-5 w-5 text-primary"}),actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(fe,{variant:N==="kanban"?"default":"ghost",size:"sm",onClick:()=>C("kanban"),className:"h-8 w-8 p-0",children:i.jsx(W_,{className:"h-4 w-4"})}),i.jsx(fe,{variant:N==="list"?"default":"ghost",size:"sm",onClick:()=>C("list"),className:"h-8 w-8 p-0",children:i.jsx(pm,{className:"h-4 w-4"})})]}),i.jsxs(fe,{onClick:()=>j(!0),children:[i.jsx(Ut,{className:"mr-2 h-4 w-4"})," ",a("projects.newProject")]})]}),stats:[{label:a("projects.total","Total Projects"),value:o.length,icon:i.jsx(Ld,{className:"h-4 w-4 text-primary"})},{label:a("projects.inProgress","In Progress"),value:o.filter(B=>(B.progress||0)>0&&(B.progress||0)<100).length,icon:i.jsx(zi,{className:"h-4 w-4 text-blue-500"})},{label:a("projects.completed","Completed"),value:o.filter(B=>(B.progress||0)===100).length,icon:i.jsx(Wn,{className:"h-4 w-4 text-green-600"})},{label:a("projects.avgProgress","Avg Progress"),value:o.length>0?`${Math.round(o.reduce((B,G)=>B+(G.progress||0),0)/o.length)}%`:"0%",icon:i.jsx(mf,{className:"h-4 w-4 text-blue-500"})}]}),A(),i.jsx(fn,{open:_,onOpenChange:j,children:i.jsxs(tn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(rn,{children:[i.jsx(nn,{children:a("projects.createProject")}),i.jsx(ca,{children:a("projects.createProjectDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[a("projects.projectName")," *"]}),i.jsx(ze,{value:"",onChange:B=>{},placeholder:a("projects.projectNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:a("projects.description")}),i.jsx(an,{value:"",onChange:B=>{},placeholder:a("projects.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:a("projects.client")}),i.jsxs(ct,{value:"",children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:a("projects.selectClient")})}),i.jsx(lt,{children:u.map(B=>{var G;return i.jsx(je,{value:((G=B.userid)==null?void 0:G.toString())||"",children:Te(B,"name")},B.userid)})})]})]})]}),i.jsxs(la,{children:[i.jsx(fe,{variant:"outline",onClick:()=>j(!1),children:a("buttons.cancel")}),i.jsxs(fe,{onClick:()=>j(!1),disabled:!0,children:[i.jsx(Eo,{className:"h-4 w-4 mr-2"}),a("projects.createProject")]})]})]})}),i.jsx(Oo,{open:!!k,onOpenChange:B=>!B&&E(null),children:i.jsxs(Vi,{side:n?"left":"right",className:"w-full sm:max-w-2xl p-0 overflow-hidden sm:w-[800px]",children:[i.jsxs(yl,{className:"sr-only",children:[i.jsx(Do,{children:"Project Details"}),i.jsx(Ru,{children:"View and manage project information"})]}),k&&i.jsx(IIe,{projectId:k,onClose:()=>E(null)})]})})]})}function BIe(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var PP="ScrollArea",[Kq,cqe]=vs(PP),[UIe,Ki]=Kq(PP),Yq=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...o}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,g]=x.useState(null),[p,v]=x.useState(null),[y,b]=x.useState(0),[_,j]=x.useState(0),[w,S]=x.useState(!1),[N,C]=x.useState(!1),k=Bt(t,O=>c(O)),E=qv(a);return i.jsx(UIe,{scope:r,type:n,dir:E,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:w,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:v,scrollbarYEnabled:N,onScrollbarYEnabledChange:C,onCornerWidthChange:b,onCornerHeightChange:j,children:i.jsx(vt.div,{dir:E,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});Yq.displayName=PP;var Xq="ScrollAreaViewport",Qq=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,o=Ki(Xq,r),l=x.useRef(null),c=Bt(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),i.jsx(vt.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Qq.displayName=Xq;var Pl="ScrollAreaScrollbar",OP=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ki(Pl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return x.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),a.type==="hover"?i.jsx(zIe,{...n,ref:t,forceMount:r}):a.type==="scroll"?i.jsx(VIe,{...n,ref:t,forceMount:r}):a.type==="auto"?i.jsx(Jq,{...n,ref:t,forceMount:r}):a.type==="always"?i.jsx(DP,{...n,ref:t}):null});OP.displayName=Pl;var zIe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ki(Pl,e.__scopeScrollArea),[s,o]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),i.jsx($a,{present:r||s,children:i.jsx(Jq,{"data-state":s?"visible":"hidden",...n,ref:t})})}),VIe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ki(Pl,e.__scopeScrollArea),s=e.orientation==="horizontal",o=cj(()=>c("SCROLL_END"),100),[l,c]=BIe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,o]),i.jsx($a,{present:r||l!=="hidden",children:i.jsx(DP,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:at(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:at(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Jq=x.forwardRef((e,t)=>{const r=Ki(Pl,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,o]=x.useState(!1),l=e.orientation==="horizontal",c=cj(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Km(r.viewport,c),Km(r.content,c),i.jsx($a,{present:n||s,children:i.jsx(DP,{"data-state":s?"visible":"hidden",...a,ref:t})})}),DP=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Ki(Pl,e.__scopeScrollArea),s=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=nG(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return YIe(h,o.current,l,m)}return r==="horizontal"?i.jsx(WIe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,m=mL(h,l,a.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?i.jsx(HIe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,m=mL(h,l);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),WIe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Ki(Pl,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=Bt(t,c,s.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(eG,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":lj(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),sG(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:e_(o.paddingLeft),paddingEnd:e_(o.paddingRight)}})}})}),HIe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Ki(Pl,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=Bt(t,c,s.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(eG,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":lj(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),sG(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:e_(o.paddingTop),paddingEnd:e_(o.paddingBottom)}})}})}),[qIe,Zq]=Kq(Pl),eG=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Ki(Pl,r),[g,p]=x.useState(null),v=Bt(t,k=>p(k)),y=x.useRef(null),b=x.useRef(""),_=m.viewport,j=n.content-n.viewport,w=Hn(d),S=Hn(c),N=cj(f,10);function C(k){if(y.current){const E=k.clientX-y.current.left,O=k.clientY-y.current.top;u({x:E,y:O})}}return x.useEffect(()=>{const k=E=>{const O=E.target;(g==null?void 0:g.contains(O))&&w(E,j)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[_,g,j,w]),x.useEffect(S,[n,S]),Km(g,N),Km(m.content,N),i.jsx(qIe,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Hn(s),onThumbPointerUp:Hn(o),onThumbPositionChange:S,onThumbPointerDown:Hn(l),children:i.jsx(vt.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:at(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),y.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(k))}),onPointerMove:at(e.onPointerMove,C),onPointerUp:at(e.onPointerUp,k=>{const E=k.target;E.hasPointerCapture(k.pointerId)&&E.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),Zb="ScrollAreaThumb",tG=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Zq(Zb,e.__scopeScrollArea);return i.jsx($a,{present:r||a.hasThumb,children:i.jsx(GIe,{ref:t,...n})})}),GIe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=Ki(Zb,r),o=Zq(Zb,r),{onThumbPositionChange:l}=o,c=Bt(t,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=cj(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=XIe(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),i.jsx(vt.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:at(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:at(e.onPointerUp,o.onThumbPointerUp)})});tG.displayName=Zb;var RP="ScrollAreaCorner",rG=x.forwardRef((e,t)=>{const r=Ki(RP,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(KIe,{...e,ref:t}):null});rG.displayName=RP;var KIe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Ki(RP,r),[s,o]=x.useState(0),[l,c]=x.useState(0),u=!!(s&&l);return Km(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Km(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?i.jsx(vt.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function e_(e){return e?parseInt(e,10):0}function nG(e,t){const r=e/t;return isNaN(r)?0:r}function lj(e){const t=nG(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function YIe(e,t,r,n="ltr"){const a=lj(r),s=a/2,o=t||s,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return aG([c,u],f)(e)}function mL(e,t,r="ltr"){const n=lj(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,o=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,o]:[o*-1,0],u=J2(e,c);return aG([0,o],[0,l])(u)}function aG(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function sG(e,t){return e>0&&e<t}var XIe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},o=r.left!==s.left,l=r.top!==s.top;(o||l)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function cj(e,t){const r=Hn(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Km(e,t){const r=Hn(t);Sn(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var iG=Yq,QIe=Qq,JIe=rG;const ns=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(iG,{ref:n,className:Ne("relative overflow-hidden",e),...r,children:[i.jsx(QIe,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(oG,{}),i.jsx(JIe,{})]}));ns.displayName=iG.displayName;const oG=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(OP,{ref:n,orientation:t,className:Ne("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(tG,{className:"relative flex-1 rounded-full bg-border"})}));oG.displayName=OP.displayName;const r1={async createApplication(e){return await K.partnerApply.create(e)},async getApplications(){return(await K.partnerApply.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async updateStatus(e,t){await K.partnerApply.update(e,{status:t})}},ZIe=async e=>{const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")};function eLe(){const{user:e}=dr(),{currentLanguage:t,isRTL:r}=ar();Br();const{t:n}=Pt(),[a,s]=x.useState([]),[o,l]=x.useState([]),[c,u]=x.useState(!0),[d,f]=x.useState(""),[h,m]=x.useState(!1),[g,p]=x.useState(""),[v,y]=x.useState(""),[b,_]=x.useState(""),[j,w]=x.useState("employee"),[S,N]=x.useState(""),[C,k]=x.useState(!1),[E,O]=x.useState(null),[T,U]=x.useState("all"),[W,R]=x.useState("employees"),[z,P]=x.useState(!1),[M,I]=x.useState(null),[q,J]=x.useState(!1),[A,B]=x.useState({name:"",Email:"",mobile:"",permissions:""}),[G,H]=x.useState(!1),[ee,ue]=x.useState(""),[ye,ie]=x.useState(new Map);x.useEffect(()=>{L(),Y()},[]);const Y=async()=>{try{const te=await jT(),re=new Map;te.forEach(he=>{re.set(he.permissions_ID,he.permissions_Name)}),ie(re)}catch(te){console.error("Failed to load permission names:",te)}},L=async()=>{try{u(!0);const[te,re]=await Promise.all([jn.getAll(),r1.getApplications()]);s(te),l(re)}catch(te){console.error("Failed to load users:",te)}finally{u(!1)}},D=a.filter(te=>{var we,Be;const re=W==="employees",he=W==="clients",Pe=W==="partners";if(re&&![1,2,3,4].includes(Number(te.permissions))||Pe&&![5,6].includes(Number(te.permissions)))return!1;const Re=((we=te.name)==null?void 0:we.toLowerCase())||"",et=((Be=te.Email)==null?void 0:Be.toLowerCase())||"",rt=String(te.permissions||""),jt=d.toLowerCase();return Re.includes(jt)||et.includes(jt)||rt.includes(jt)}),se=te=>{const re=["destructive","default","secondary","outline","default","secondary"];return te&&te>=1&&te<=re.length?re[te-1]:"secondary"},be=te=>{if(!te)return"User";const re=ye.get(te);return re||{1:"Admin",2:"Manager",3:"Employee",4:"Team Leader",5:"Partner Employee",6:"Partner Leader"}[te]||`Permission ${te}`},ve=async te=>{if(te.preventDefault(),!C){N(""),k(!0);try{const re=await ZIe(b),he={name:g,Email:v,user_pasword:re,permissions:j==="admin"?1:j==="manager"||j==="employee"?2:j==="team_leader"?4:2},Pe=await K.Users.create(he);E&&(await r1.updateStatus(E,"approved"),O(null)),m(!1),p(""),y(""),_(""),w("employee"),L()}catch(re){N(re.message||n("users.addUserError"))}finally{k(!1)}}},ke=te=>{p(te.full_name),y(te.email),w("employee"),_(""),O(te.apply_id),m(!0),R("employees")},Se=async te=>{if(confirm(n("users.rejectConfirmation")))try{await r1.updateStatus(te,"rejected"),L()}catch(re){console.error("Failed to reject application:",re)}},Ve=async(te,re)=>{if(confirm(n("users.deleteConfirmation",{name:re})))try{await K.Users.delete(te),L()}catch(he){alert(`${n("users.deleteError")}: ${he.message}`)}},dt=async(te,re)=>{try{const he=re==="1"?1:2;await K.Users.update(te,{permissions:he}),L()}catch(he){alert(`${n("users.updateRoleError")}: ${he.message}`)}},ae=async te=>{var re;if(te.preventDefault(),!(G||!M)){ue(""),H(!0);try{const he={};A.name!==Te(M,"name")&&(he.name=A.name),A.Email!==M.Email&&(he.Email=A.Email),A.mobile!==((re=M.mobile)==null?void 0:re.toString())&&(he.mobile=A.mobile?parseInt(A.mobile):null),A.permissions!==M.permissions&&(he.permissions=A.permissions),Object.keys(he).length>0?(await K.Users.update(M.userid,he),J(!1),L()):J(!1)}catch(he){ue(he.message||n("users.updateUserError"))}finally{H(!1)}}},pe=te=>{var re;I(te),B({name:te.name||"",Email:te.Email||"",mobile:((re=te.mobile)==null?void 0:re.toString())||"",permissions:te.permissions||""}),J(!1),ue(""),P(!0)};return c?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(oa,{message:n("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between md:justify-start gap-4",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:n("users.title")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ss,{className:"h-5 w-5"}),i.jsxs("span",{className:"text-sm font-medium",children:[a.length," ",n("users.totalUsers")]})]}),i.jsx("p",{className:"hidden md:block text-muted-foreground",children:n("users.subtitle")})]}),i.jsxs("div",{className:"flex flex-row items-center border rounded-lg p-1 bg-muted/50 w-fit",children:[i.jsxs(fe,{variant:W==="employees"?"default":"ghost",size:"sm",onClick:()=>R("employees"),className:"h-8 px-3",children:[i.jsx(SR,{className:"h-4 w-4 mr-2"}),n("users.employees")]}),i.jsxs(fe,{variant:W==="clients"?"default":"ghost",size:"sm",onClick:()=>R("clients"),className:"h-8 px-3",children:[i.jsx(Mn,{className:"h-4 w-4 mr-2"}),n("users.clients")]}),i.jsxs(fe,{variant:W==="partners"?"default":"ghost",size:"sm",onClick:()=>R("partners"),className:"h-8 px-3",children:[i.jsx(ss,{className:"h-4 w-4 mr-2"}),n("users.partners")]})]}),W==="employees"&&i.jsxs("div",{className:"space-y-6",children:[(e==null?void 0:e.role)!=="manager"&&i.jsxs(fn,{open:h,onOpenChange:m,children:[i.jsx(K1,{asChild:!0,children:i.jsxs(fe,{className:"w-full",children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),n("users.addUser")]})}),i.jsxs(tn,{children:[i.jsxs(rn,{children:[i.jsx(nn,{children:n("users.addNewUser")}),i.jsx(ca,{children:n("users.addUserDescription")})]}),i.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[S&&i.jsx(ym,{variant:"destructive",children:i.jsx(bm,{children:S})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"formName",children:n("users.fullName")}),i.jsx(ze,{id:"formName",value:g,onChange:te=>p(te.target.value),placeholder:n("users.fullName"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"formEmail",children:n("users.email")}),i.jsx(ze,{id:"formEmail",type:"email",value:v,onChange:te=>y(te.target.value),placeholder:n("users.email"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"formPassword",children:n("users.password")}),i.jsx(ze,{id:"formPassword",type:"password",value:b,onChange:te=>_(te.target.value),placeholder:n("users.password"),required:!0,minLength:6})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"formRole",children:n("users.role")}),i.jsxs(ct,{value:j,onValueChange:te=>w(te),children:[i.jsx(ot,{children:i.jsx(ut,{})}),i.jsxs(lt,{children:[i.jsx(je,{value:"employee",children:n("users.employee")}),i.jsx(je,{value:"manager",children:n("users.manager")}),i.jsx(je,{value:"admin",children:n("users.admin")}),i.jsx(je,{value:"team_leader",children:n("users.team_leader")})]})]})]}),i.jsx(fe,{type:"submit",className:"w-full",disabled:C,children:n(C?"users.addingUser":"users.addUser")})]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(ze,{placeholder:n("users.searchPlaceholder"),value:d,onChange:te=>f(te.target.value),className:"pl-10"})]}),i.jsxs(ns,{className:"flex-1",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(te=>i.jsxs(ft,{className:"hover:shadow-md transition-shadow",children:[i.jsx(Yt,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(yr,{className:"text-lg truncate",children:Te(te,"name")}),i.jsx(ht,{variant:se(te.permissions),className:"mt-1",children:be(te.permissions)})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(fe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>pe(te),children:i.jsx(as,{className:"h-4 w-4"})}),i.jsx(fe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>Ve(te.userid,Te(te,"name")),children:i.jsx(Ht,{className:"h-4 w-4"})})]})]})}),i.jsxs(yt,{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(el,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:te.Email})]}),te.mobile&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Xl,{className:"h-4 w-4"}),i.jsx("span",{children:te.mobile})]}),(te.permissions===2||te.permissions===1)&&!0&&i.jsxs("div",{className:"pt-2 border-t",children:[i.jsx("div",{className:"text-xs font-medium mb-1",children:n("users.changeRole")}),i.jsxs(ct,{value:String(te.permissions),onValueChange:re=>dt(te.userid,re),children:[i.jsx(ot,{className:"w-full h-8",children:i.jsx(ut,{})}),i.jsxs(lt,{children:[i.jsx(je,{value:"2",children:n("users.employee")}),i.jsx(je,{value:"1",children:n("users.manager")})]})]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[n("users.joined")," ",te.created_at?new Date(te.created_at).toLocaleDateString():"-"]})]})]},te.userid))}),D.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ss,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:n("users.noUsersFound")}),i.jsx("p",{className:"text-muted-foreground",children:n(d?"users.noUsersFoundDesc":"users.noUsersAvailable")})]})]})]}),W==="clients"&&i.jsx("div",{className:"space-y-6",children:i.jsxs(ns,{className:"flex-1",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(te=>i.jsxs(ft,{className:"hover:shadow-md transition-shadow",children:[i.jsx(Yt,{className:"pb-3",children:i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(yr,{className:"text-lg truncate",children:Te(te,"name")}),i.jsx(ht,{variant:"outline",className:"mt-1",children:n("users.client")})]})})}),i.jsxs(yt,{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(el,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:te.Email})]}),te.mobile&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Xl,{className:"h-4 w-4"}),i.jsx("span",{children:te.mobile})]}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[n("users.joined")," ",te.created_at?new Date(te.created_at).toLocaleDateString():"-"]})]})]},te.userid))}),D.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Mn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:n("clients.noClientsFound")}),i.jsx("p",{className:"text-muted-foreground",children:n("clients.noClientsYet")})]})]})}),W==="partners"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-[calc(100vh-280px)]",children:[i.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[i.jsx(SR,{className:"h-5 w-5"}),n("users.partnerUsers"),i.jsx(ht,{variant:"secondary",className:"ml-auto",children:a.filter(te=>[5,6].includes(Number(te.permissions))).length})]}),i.jsx(ns,{className:"flex-1 pr-4",children:i.jsx("div",{className:"space-y-3",children:a.filter(te=>[5,6].includes(Number(te.permissions))).length>0?a.filter(te=>[5,6].includes(Number(te.permissions))).map(te=>i.jsx(ft,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>pe(te),children:i.jsxs(yt,{className:"p-4 flex items-center gap-3",children:[i.jsxs(Ls,{children:[i.jsx(To,{src:te.avatar||""}),i.jsx($s,{children:Te(te,"name").charAt(0).toUpperCase()})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium truncate",children:Te(te,"name")}),i.jsx("div",{className:"text-xs text-muted-foreground truncate",children:te.Email}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(ht,{variant:"outline",className:"text-xs py-0 h-5",children:te.permissions===5?n("users.partner_leader"):n("users.partner_employee")}),te.company_name&&i.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(xae,{className:"h-3 w-3"}),te.company_name]})]})]})]})},te.userid)):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(ss,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:n("users.noPartnerUsersFound")})]})})})]}),i.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(el,{className:"h-5 w-5"}),n("users.partnerApplications"),i.jsx(ht,{variant:"secondary",children:o.length})]}),i.jsx("div",{className:"w-[140px]",children:i.jsxs(ct,{value:T,onValueChange:te=>U(te),children:[i.jsx(ot,{className:"h-8",children:i.jsx(ut,{placeholder:n("common.filter")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"all",children:n("common.all")}),i.jsx(je,{value:"pending",children:n("status.pending")}),i.jsx(je,{value:"approved",children:n("status.approved")}),i.jsx(je,{value:"rejected",children:n("status.rejected")})]})]})})]}),i.jsx(ns,{className:"flex-1 pr-4",children:i.jsx("div",{className:"space-y-3",children:o.filter(te=>T==="all"||te.status===T).length>0?o.filter(te=>T==="all"||te.status===T).map(te=>i.jsx(ft,{children:i.jsxs(yt,{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2",children:[i.jsx("div",{className:"font-medium",children:te.company_name||te.full_name}),i.jsx(ht,{variant:te.status==="pending"?"outline":te.status==="approved"?"default":"destructive",className:"capitalize",children:n(`status.${te.status}`)})]}),i.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Mn,{className:"h-3 w-3"}),te.full_name]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(el,{className:"h-3 w-3"}),te.email]}),te.phone&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xl,{className:"h-3 w-3"}),te.phone]})]}),te.status==="pending"&&i.jsxs("div",{className:"mt-3 flex gap-2 justify-end pt-3 border-t",children:[i.jsx(fe,{size:"sm",variant:"ghost",className:"h-7 text-xs text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>Se(te.apply_id),children:n("users.reject")}),i.jsx(fe,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>ke(te),children:n("users.approve")})]})]})},te.apply_id)):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(el,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:n("users.noApplicationsFound")})]})})})]})]}),i.jsx(fn,{open:z,onOpenChange:P,children:i.jsxs(tn,{className:"max-w-2xl max-h-[80vh]",children:[i.jsxs(rn,{children:[i.jsx(nn,{children:n("users.userDetails")}),i.jsx(ca,{children:n("users.userDetailsDescription")})]}),M&&i.jsx(ns,{className:"max-h-[60vh] pr-4",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold",children:Te(M,"name")}),i.jsx(ht,{variant:se(M.permissions),className:"mt-1",children:be(M.permissions)})]})}),q?i.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[ee&&i.jsx(ym,{variant:"destructive",children:i.jsx(bm,{children:ee})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"editName",children:n("users.fullName")}),i.jsx(ze,{id:"editName",value:A.name,onChange:te=>B(re=>({...re,name:te.target.value})),placeholder:n("users.fullName")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"editEmail",children:n("users.email")}),i.jsx(ze,{id:"editEmail",type:"email",value:A.Email,onChange:te=>B(re=>({...re,Email:te.target.value})),placeholder:n("users.email")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"editRole",children:n("users.role")}),i.jsxs(ct,{value:String(A.permissions),onValueChange:te=>B(re=>({...re,permissions:Number(te)})),children:[i.jsx(ot,{children:i.jsx(ut,{})}),i.jsxs(lt,{children:[i.jsx(je,{value:"2",children:n("users.employee")}),i.jsx(je,{value:"1",children:n("users.manager")}),i.jsx(je,{value:"3",children:n("users.client")}),i.jsx(je,{value:"4",children:n("users.partner")}),i.jsx(je,{value:"5",children:n("users.partner_employee")})]})]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(Ue,{className:"text-sm font-medium",children:n("users.joined")}),i.jsx("p",{className:"text-sm",children:new Date(M.created_at).toLocaleDateString()})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(Ue,{className:"text-sm font-medium",children:n("users.updated")}),i.jsx("p",{className:"text-sm",children:M.updated_at?new Date(M.updated_at).toLocaleDateString():"-"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"editPhone",children:n("users.phone")}),i.jsx(ze,{id:"editPhone",type:"tel",value:A.mobile,onChange:te=>B(re=>({...re,mobile:te.target.value})),placeholder:n("users.phone")})]}),M.client_contact&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(Ue,{className:"text-sm font-medium",children:n("users.contact")}),i.jsx("p",{className:"text-sm",children:M.client_contact})]}),M.company_name&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(Ue,{className:"text-sm font-medium",children:n("users.company")}),i.jsx("p",{className:"text-sm",children:Te(M,"company_name")})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(Ue,{className:"text-sm font-medium",children:n("users.userId")}),i.jsx("p",{className:"text-sm font-mono text-xs",children:M.userid})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(fe,{type:"button",variant:"outline",onClick:()=>J(!1),children:n("buttons.cancel")}),i.jsx(fe,{type:"submit",disabled:G,children:n(G?"buttons.saving":"buttons.save")})]})]}):i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:n("users.fullName")}),i.jsx("p",{className:"text-sm",children:Te(M,"name")})]}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:n("users.email")}),i.jsx("p",{className:"text-sm",children:M.Email||n("common.na")})]}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:n("users.role")}),i.jsx("p",{className:"text-sm",children:n(`users.${M.permissions===1?"admin":M.permissions===2?"employee":M.permissions===3?"client":"user"}`)})]}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:n("users.joined")}),i.jsx("p",{className:"text-sm",children:new Date(M.created_at).toLocaleDateString()})]}),M.updated_at&&i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:n("users.updated")}),i.jsx("p",{className:"text-sm",children:new Date(M.updated_at).toLocaleDateString()})]})]}),i.jsxs("div",{className:"space-y-3",children:[M.user_phone&&i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:n("users.phone")}),i.jsx("p",{className:"text-sm",children:M.mobile})]}),M.client_contact&&i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:n("users.contact")}),i.jsx("p",{className:"text-sm",children:M.client_contact})]}),M.company_name&&i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:n("users.company")}),i.jsx("p",{className:"text-sm",children:Te(M,"company_name")})]}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:n("users.userId")}),i.jsx("p",{className:"text-sm font-mono text-xs",children:M.userid})]})]})]}),M.userid&&i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:n("users.authId","Auth ID")}),i.jsx("p",{className:"text-sm font-mono text-xs break-all",children:M.userid})]})]})}),i.jsxs(la,{children:[!q&&!0&&i.jsx(fe,{variant:"outline",onClick:()=>J(!0),children:n("buttons.edit")}),i.jsx(fe,{onClick:()=>P(!1),children:n("buttons.close")})]})]})})]})}function tLe(){dr();const{t:e}=Pt(),{isRTL:t}=ar();Br();const r=Us();console.log("Teams Page - isRTL:",t);const[n,a]=x.useState([]),[s,o]=x.useState([]),[l,c]=x.useState({}),[u,d]=x.useState(!0),[f,h]=x.useState(""),[m,g]=x.useState(!1),[p,v]=x.useState(""),[y,b]=x.useState(""),[_,j]=x.useState(null),w=!0;x.useEffect(()=>{N(),C()},[]);const S=R=>{r("/chats",{state:{teamId:R}})},N=async()=>{try{d(!0);const R=await Xf.getAll(),z=await Xf.getAllTeamMembers();a(R),c(z)}catch(R){console.error("Failed to load teams:",R)}finally{d(!1)}},C=async()=>{try{const R=await jn.getAll();o(R)}catch(R){console.error("Failed to load users:",R)}},k=async()=>{if(p.trim())try{const R=fc({team_name:p.trim(),team_leader_id:(y==null?void 0:y.toString())||null,partner_id:null,auth_user_id:null},{team_name:"team_name"});await Xf.create(R),v(""),b(""),g(!1),await N()}catch(R){console.error("Failed to create team:",R)}},E=async(R,z)=>{try{await Xf.addMember(R,z),await N()}catch(P){console.error("Failed to add team member:",P)}},O=async(R,z)=>{try{await Xf.removeMember(R,z),await N()}catch(P){console.error("Failed to remove team member:",P)}},T=async R=>{try{await Xf.delete(R),a(z=>z.filter(P=>P.team_id!==R)),c(z=>{const P={...z};return delete P[R],P}),j(null)}catch(z){console.error("Failed to delete team:",z)}},U=n.filter(R=>(Te(R,"team_name")||"").toLowerCase().includes(f.toLowerCase())),W=s;return u?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(oa,{message:e("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:e("teams.title")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("teams.subtitle")})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ss,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm font-medium",children:e("teams.memberCount_plural",{count:n.length})})]}),i.jsxs(fn,{open:m,onOpenChange:g,children:[i.jsx(K1,{asChild:!0,children:i.jsxs(fe,{children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),e("teams.createTeam")]})}),i.jsxs(tn,{className:"sm:max-w-[425px]",children:[i.jsxs(rn,{children:[i.jsx(nn,{children:e("teams.createTeamTitle")}),i.jsx(ca,{children:e("teams.createTeamDesc")})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Ue,{htmlFor:"team-name",className:"text-right rtl:text-left",children:e("teams.teamName")}),i.jsx(ze,{id:"team-name",value:p,onChange:R=>v(R.target.value),className:"col-span-3",placeholder:e("teams.teamNamePlaceholder")})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Ue,{htmlFor:"team-leader",className:"text-right rtl:text-left",children:e("teams.teamLeader")}),i.jsxs(ct,{value:y,onValueChange:b,children:[i.jsx(ot,{className:"col-span-3",children:i.jsx(ut,{placeholder:e("teams.selectTeamLeader")})}),i.jsx(lt,{children:W.map(R=>i.jsx(je,{value:R.userid.toString(),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:""}),i.jsx("span",{children:R.name})]})},R.userid))})]})]})]}),i.jsx(la,{children:i.jsx(fe,{type:"submit",onClick:k,disabled:!p.trim(),children:e("teams.createTeam")})})]})]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(ze,{placeholder:e("teams.searchPlaceholder"),value:f,onChange:R=>h(R.target.value),className:"pl-10"})]}),i.jsxs(ns,{className:"flex-1",dir:t?"rtl":"ltr",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",dir:t?"rtl":"ltr",children:U.map(R=>{const z=l[R.team_id]||[];return i.jsxs(ft,{className:"hover:shadow-md transition-shadow",children:[i.jsxs(Yt,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(yr,{className:"text-lg",children:Te(R,"team_name")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",onClick:()=>S(R.team_id),title:e("teams.chat","Chat"),children:i.jsx(vl,{className:"h-4 w-4"})}),i.jsx(ht,{variant:"outline",children:e("teams.memberCount_plural",{count:z.length})}),i.jsxs(hs,{children:[i.jsx(gx,{asChild:!0,children:i.jsx(fe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:P=>{P.stopPropagation(),j(R.team_id)},children:i.jsx(Ht,{className:"h-3 w-3"})})}),i.jsxs(Aa,{onClick:P=>P.stopPropagation(),children:[i.jsxs(Pa,{children:[i.jsx(Da,{children:e("teams.deleteTeam")}),i.jsx(Ra,{children:e("teams.deleteConfirmation",{name:Te(R,"team_name")})})]}),i.jsxs(Oa,{children:[i.jsx(Ma,{children:e("buttons.cancel")}),i.jsx(Fa,{onClick:P=>{P.stopPropagation(),T(R.team_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]}),R.team_leader_id_name&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsxs("span",{children:[e("teams.teamLeader"),":"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:""}),i.jsx("span",{children:R.team_leader_id_name})]})]})]}),i.jsxs(yt,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:e("teams.members")}),i.jsxs("div",{className:"space-y-2",children:[z.slice(0,4).map(P=>i.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Ls,{className:"h-6 w-6",children:[i.jsx(To,{src:""}),i.jsx($s,{className:"text-xs",children:(P.name||"").charAt(0).toUpperCase()})]}),i.jsx("span",{className:"text-sm",children:P.name})]}),i.jsx(fe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:()=>{var M;return O(R.team_id,((M=P.userid)==null?void 0:M.toString())||"")},children:i.jsx(zae,{className:"h-3 w-3"})})]},P.userid)),z.length>4&&i.jsx("div",{className:"text-xs text-muted-foreground text-center",children:e("teams.moreMembers",{count:z.length-4})}),z.length===0&&i.jsx("div",{className:"text-xs text-muted-foreground text-center py-2",children:e("teams.noMembersYet")})]})]}),i.jsx("div",{children:i.jsxs(ct,{onValueChange:P=>{P&&E(R.team_id,P)},children:[i.jsx(ot,{className:"w-full",children:i.jsx(ut,{placeholder:e("teams.addMember")})}),i.jsx(lt,{children:s.filter(P=>!z.some(M=>M.userid.toString()===P.userid.toString())).map(P=>i.jsx(je,{value:P.userid.toString(),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:""}),i.jsx("span",{children:P.name})]})},P.userid))})]})}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[e("teams.created")," ",R.created_at?new Date(R.created_at).toLocaleDateString():"N/A"]})]})]},R.team_id)})}),U.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ss,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:e(f?"teams.noTeamsFound":"teams.noTeamsYet")}),i.jsx("p",{className:"text-muted-foreground mb-4",children:e(f?"tickets.noTicketsFoundDesc":"teams.createFirstTeam")}),!f&&w&&i.jsxs(fe,{onClick:()=>g(!0),children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),e("teams.createFirstTeam")]})]})]})]})}function rLe({rooms:e,selectedRoom:t,onSelectRoom:r,currentUser:n,onNewChannel:a,onNewDM:s,className:o}){const{t:l}=Pt(),[c,u]=x.useState(""),d=e.filter(p=>{const v=p.is_private&&Te(p.other_user||{},"user_name")||p.room_name;return v==null?void 0:v.toLowerCase().includes(c.toLowerCase())}),f=d.filter(p=>!p.is_private&&!p.team_id),h=d.filter(p=>p.is_private),m=d.filter(p=>p.team_id),g=p=>{var w;const v=(t==null?void 0:t.room_id)===p.room_id,y=p.is_private,b=y&&Te(p.other_user||{},"user_name")||p.room_name,_=y?(w=p.other_user)==null?void 0:w.avatar:null,j=(b==null?void 0:b.charAt(0).toUpperCase())||"?";return i.jsxs("button",{onClick:()=>r(p),className:Ne("w-full flex items-center gap-2 px-2 py-1.5 rounded-md transition-colors text-sm mb-0.5",v?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[i.jsx("div",{className:"relative flex-shrink-0",children:y?i.jsxs(Ls,{className:"h-6 w-6",children:[i.jsx(To,{src:_}),i.jsx($s,{className:"text-[10px]",children:j})]}):i.jsx("div",{className:"h-6 w-6 rounded bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:i.jsx(ss,{className:"h-3.5 w-3.5"})})}),i.jsx("span",{className:"truncate flex-1 text-left",children:b})]},p.room_id)};return i.jsxs("div",{className:Ne("flex flex-col h-full bg-background border-r",o),children:[i.jsxs("div",{className:"flex-shrink-0 p-3 border-b",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"font-semibold text-lg",children:l("chat.title","Messages")}),i.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(RB,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(La,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(ze,{placeholder:l("common.search","Jump to..."),value:c,onChange:p=>u(p.target.value),className:"pl-9 h-8 bg-muted/50 border-0"})]})]}),i.jsxs(ns,{className:"flex-1 px-2 py-3 overflow-hidden",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[i.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.channels","Channels")}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&i.jsx(fe,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-muted",onClick:a,title:l("chat.createChannel","Create Channel"),children:i.jsx(Ut,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"space-y-0.5",children:[f.map(g),f.length===0&&i.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noChannels","No channels")})]})]}),m.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"flex items-center justify-between px-2 mb-1",children:i.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.teams","Teams")})}),i.jsx("div",{className:"space-y-0.5",children:m.map(g)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[i.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.directMessages","Direct Messages")}),i.jsx(fe,{variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity",onClick:s,children:i.jsx(Ut,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"space-y-0.5",children:[h.map(g),h.length===0&&i.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noMessages","No messages")})]})]})]})]})}function nLe({room:e,messages:t,currentUser:r,onSendMessage:n,onBack:a,loading:s,onLoadMore:o,hasMoreMessages:l,isLoadingMore:c,onEditMessage:u,onDeleteMessage:d,className:f}){var H;const{t:h}=Pt(),[m,g]=x.useState(""),p=x.useRef(null),[v,y]=x.useState(!1),[b,_]=x.useState(null),[j,w]=x.useState(""),[S,N]=x.useState(!1),C=x.useRef(null),[k,E]=x.useState(null);x.useEffect(()=>{if(p.current&&!c){const ee=p.current.querySelector("[data-radix-scroll-area-viewport]");ee&&(ee.scrollTop=ee.scrollHeight)}},[t,c]);const O=ee=>{const ue=ee.target;if(!ue)return;const ie=ue.scrollTop<100;y(ie),ie&&l&&o&&!c&&o()};x.useEffect(()=>{var ue;const ee=(ue=p.current)==null?void 0:ue.querySelector("[data-radix-scroll-area-viewport]");if(ee)return ee.addEventListener("scroll",O),()=>ee.removeEventListener("scroll",O)},[l,c,o]),x.useEffect(()=>{e&&!e.is_private?(async()=>{try{if(console.log("[ChatArea] Room data:",e),e.member_count!==void 0){console.log("[ChatArea] Using room.member_count:",e.member_count),E(e.member_count);return}console.log("[ChatArea] Fetching room members for room:",e.room_id);const ue=await io.getRoomMembers(e.room_id);console.log("[ChatArea] Fetched members:",ue.length),E(ue.length)}catch(ue){console.error("Failed to fetch member count:",ue),E(null)}})():(console.log("[ChatArea] Room is private or null, clearing member count"),E(null))},[e==null?void 0:e.room_id]);const T=ee=>{_(ee.message_id),w(ee.content)},U=()=>{_(null),w("")},W=()=>{b&&j.trim()&&u&&(u(b,j),_(null),w(""))},R=()=>{m.trim()&&(n(m),g(""))},z=ee=>{ee.key==="Enter"&&!ee.shiftKey&&(ee.preventDefault(),R())},P=async ee=>{var ye;const ue=(ye=ee.target.files)==null?void 0:ye[0];if(!(!ue||!n))try{N(!0);const ie=await Kc.uploadAttachment(ue),L=ue.type.startsWith("image/")?`![${ue.name}](${ie})`:`[${ue.name}](${ie})`;n(L)}catch(ie){console.error("Failed to upload file:",ie),alert(h("chat.uploadError","Failed to upload file"))}finally{N(!1),C.current&&(C.current.value="")}},M=()=>{var ee;(ee=C.current)==null||ee.click()},I=ee=>{const ue=/!\\[(.*?)\\]\((.*?)\)/g,ye=/\\[(.*?)\\]\((.*?)\)/g,ie=ue.exec(ee);if(ie)return i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("img",{src:ie[2],alt:ie[1],className:"max-w-full rounded-lg max-h-[300px] object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(ie[2],"_blank")}),ee.replace(ie[0],"").trim()&&i.jsx("span",{children:ee.replace(ie[0],"").trim()})]});const Y=ye.exec(ee);return Y?i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("a",{href:Y[2],target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-500 hover:underline bg-background/50 p-2 rounded",children:[i.jsx(_R,{className:"h-4 w-4"}),Y[1]]}),ee.replace(Y[0],"").trim()&&i.jsx("span",{children:ee.replace(Y[0],"").trim()})]}):ee};if(s)return i.jsx("div",{className:Ne("flex items-center justify-center h-full bg-background",f),children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!e)return i.jsxs("div",{className:Ne("flex flex-col items-center justify-center h-full bg-background text-muted-foreground p-4 text-center",f),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center mb-4",children:i.jsx(vl,{className:"h-8 w-8"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:h("chat.welcome","Welcome to Chat")}),i.jsx("p",{className:"max-w-xs",children:h("chat.selectRoomDesc","Select a channel or direct message to start chatting.")})]});const q=e.is_private,J=q&&Te(e.other_user||{},"user_name")||e.room_name,A=q?(H=e.other_user)==null?void 0:H.avatar:null,B=(J==null?void 0:J.charAt(0).toUpperCase())||"?",G=t.reduce((ee,ue)=>{const ye=new Date(ue.created_at).toLocaleDateString();return ee[ye]||(ee[ye]=[]),ee[ye].push(ue),ee},{});return i.jsxs("div",{className:Ne("flex flex-col h-full bg-background overflow-x-hidden",f),children:[i.jsxs("div",{className:"flex-shrink-0 h-16 border-b flex items-center justify-between px-4 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-10",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[a&&i.jsx(fe,{variant:"ghost",size:"icon",className:"md:hidden -ml-2",onClick:a,children:i.jsx(PB,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[q?i.jsxs(Ls,{className:"h-9 w-9",children:[i.jsx(To,{src:A}),i.jsx($s,{children:B})]}):i.jsx("div",{className:"h-9 w-9 rounded-md bg-muted flex items-center justify-center",children:e.team_id?i.jsx(ss,{className:"h-5 w-5"}):i.jsx(Cae,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"font-semibold text-sm flex items-center gap-2",children:[J,q&&i.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})]}),!q&&i.jsx("p",{className:"text-xs text-muted-foreground",children:k!==null?h("chat.membersCount",{count:k}):h("chat.loadingMembers","Loading members...")})]})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(fe,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(Xl,{className:"h-5 w-5"})}),i.jsx(fe,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(Wae,{className:"h-5 w-5"})}),i.jsx(fe,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(Eae,{className:"h-5 w-5"})})]})]}),i.jsx(ns,{className:"flex-1 p-4 overflow-hidden",ref:p,children:i.jsxs("div",{className:"space-y-6 pb-4",children:[c&&i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}),!l&&t.length>10&&i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-xs text-muted-foreground",children:h("chat.beginningOfConversation","Beginning of conversation")})}),Object.entries(G).map(([ee,ue])=>i.jsxs("div",{children:[i.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:ee===new Date().toLocaleDateString()?h("common.today","Today"):ee})})]}),i.jsx("div",{className:"space-y-4",children:ue.map((ye,ie)=>{var be;const Y=ye.auth_user_id===(r==null?void 0:r.id),L=ie===0||ue[ie-1].auth_user_id!==ye.auth_user_id,D=ye.sender,se=b===ye.message_id;return i.jsxs("div",{className:Ne("flex gap-3 group",Y?"flex-row-reverse":""),children:[L?i.jsxs(Ls,{className:"h-8 w-8 mt-0.5 flex-shrink-0",children:[i.jsx(To,{src:D==null?void 0:D.avatar}),i.jsx($s,{children:((be=D==null?void 0:D.user_name)==null?void 0:be.charAt(0))||"?"})]}):i.jsx("div",{className:"w-8 flex-shrink-0"}),i.jsxs("div",{className:Ne("flex flex-col max-w-[75%]",Y?"items-end":"items-start"),children:[L&&i.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[i.jsx("span",{className:"text-sm font-semibold",children:D==null?void 0:D.user_name}),i.jsx("span",{className:"text-[10px] text-muted-foreground",children:ds(new Date(ye.created_at),"h:mm a")})]}),i.jsx("div",{className:Ne("px-4 py-2 rounded-2xl text-sm shadow-sm relative group",Y?"bg-primary text-primary-foreground rounded-tr-none":"bg-muted text-foreground rounded-tl-none",se?"w-full min-w-[200px]":""),children:se?i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("textarea",{value:j,onChange:ve=>w(ve.target.value),className:"w-full bg-transparent border rounded p-1 text-foreground min-h-[60px]",autoFocus:!0}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(fe,{size:"sm",variant:"ghost",onClick:U,className:"h-6 px-2 text-xs",children:h("common.cancel","Cancel")}),i.jsx(fe,{size:"sm",variant:"secondary",onClick:W,className:"h-6 px-2 text-xs",children:h("common.save","Save")})]})]}):i.jsxs(i.Fragment,{children:[I(ye.content),Y&&!se&&i.jsxs("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 bg-background rounded-md shadow-sm border p-0.5",children:[i.jsxs(fe,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-primary",onClick:()=>T(ye),children:[i.jsx("span",{className:"sr-only",children:"Edit"}),i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:[i.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),i.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]})]}),i.jsxs(fe,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-destructive",onClick:()=>d&&d(ye.message_id),children:[i.jsx("span",{className:"sr-only",children:"Delete"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:i.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})]})]})]})})]})]},`${ye.message_id}-${ie}`)})})]},ee))]})}),i.jsxs("div",{className:"flex-shrink-0 p-4 bg-background border-t",children:[i.jsxs("div",{className:"flex items-end gap-2 bg-muted/50 p-2 rounded-xl border focus-within:border-primary/50 focus-within:ring-1 focus-within:ring-primary/20 transition-all",children:[i.jsx(fe,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-primary flex-shrink-0",onClick:M,disabled:S,children:S?i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):i.jsx(_R,{className:"h-5 w-5"})}),i.jsx("input",{type:"file",ref:C,className:"hidden",onChange:P,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"}),i.jsx("textarea",{value:m,onChange:ee=>g(ee.target.value),onKeyDown:z,placeholder:h("chat.typeMessage","Type a message..."),className:"flex-1 bg-transparent border-0 focus:ring-0 resize-none max-h-32 min-h-[36px] py-2 text-sm",rows:1,style:{height:"auto",minHeight:"36px"},onInput:ee=>{const ue=ee.target;ue.style.height="auto",ue.style.height=`${Math.min(ue.scrollHeight,128)}px`}}),i.jsxs("div",{className:"flex items-center gap-1 pb-1",children:[i.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hidden sm:flex",children:i.jsx($ae,{className:"h-5 w-5"})}),i.jsx(fe,{size:"icon",className:Ne("h-8 w-8 transition-all",m.trim()?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),onClick:R,disabled:!m.trim()&&!S,children:i.jsx(Wv,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"flex justify-between items-center mt-2 px-1",children:i.jsx("p",{className:"text-[10px] text-muted-foreground"})})]})]})}function aLe({open:e,onOpenChange:t,onSelectUser:r,currentUserId:n}){const{t:a}=Pt(),[s,o]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!1);x.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{d(!0);const m=await jn.getAll();o(m.filter(g=>g.auth_user_id!==n))}catch(m){console.error("Failed to load users:",m)}finally{d(!1)}},h=s.filter(m=>{var g,p;return((g=m.user_name)==null?void 0:g.toLowerCase().includes(l.toLowerCase()))||((p=m.user_email)==null?void 0:p.toLowerCase().includes(l.toLowerCase()))});return i.jsx(fn,{open:e,onOpenChange:t,children:i.jsxs(tn,{className:"sm:max-w-[425px]",children:[i.jsx(rn,{children:i.jsx(nn,{children:a("chat.newDirectMessage","New Direct Message")})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(La,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(ze,{placeholder:a("chat.searchUsers","Search users..."),value:l,onChange:m=>c(m.target.value),className:"pl-8"})]}),i.jsx(ns,{className:"h-[300px]",children:u?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):h.length===0?i.jsx("div",{className:"text-center text-muted-foreground py-8",children:a("chat.noUsersFound","No users found")}):i.jsx("div",{className:"space-y-1",children:h.map(m=>{var g;return i.jsxs("button",{onClick:()=>{r(m),t(!1)},className:"w-full flex items-center gap-3 p-2 hover:bg-muted rounded-md transition-colors text-left",children:[i.jsxs(Ls,{children:[i.jsx(To,{src:m.avatar}),i.jsx($s,{children:((g=m.user_name)==null?void 0:g.charAt(0))||"?"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:m.user_name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:m.user_email})]})]},m.user_id)})})})]})]})})}var uj="Switch",[sLe,uqe]=vs(uj),[iLe,oLe]=sLe(uj),lG=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=x.useState(null),g=Bt(t,_=>m(_)),p=x.useRef(!1),v=h?d||!!h.closest("form"):!0,[y,b]=gc({prop:a,defaultProp:s??!1,onChange:u,caller:uj});return i.jsxs(iLe,{scope:r,checked:y,disabled:l,children:[i.jsx(vt.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":fG(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:at(e.onClick,_=>{b(j=>!j),v&&(p.current=_.isPropagationStopped(),p.current||_.stopPropagation())})}),v&&i.jsx(dG,{control:h,bubbles:!p.current,name:n,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});lG.displayName=uj;var cG="SwitchThumb",uG=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=oLe(cG,r);return i.jsx(vt.span,{"data-state":fG(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});uG.displayName=cG;var lLe="SwitchBubbleInput",dG=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const o=x.useRef(null),l=Bt(o,s),c=WT(r),u=LT(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});dG.displayName=lLe;function fG(e){return e?"checked":"unchecked"}var hG=lG,cLe=uG;const t_=x.forwardRef(({className:e,...t},r)=>i.jsx(hG,{className:Ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:i.jsx(cLe,{className:Ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));t_.displayName=hG.displayName;function uLe({open:e,onOpenChange:t,onCreate:r}){const{t:n}=Pt(),[a,s]=x.useState(""),[o,l]=x.useState(!1),[c,u]=x.useState(!1),d=async f=>{if(f.preventDefault(),!!a.trim())try{u(!0),await r(a,o),t(!1),s(""),l(!1)}catch(h){console.error("Failed to create channel:",h)}finally{u(!1)}};return i.jsx(fn,{open:e,onOpenChange:t,children:i.jsxs(tn,{children:[i.jsx(rn,{children:i.jsx(nn,{children:n("chat.createRoomTitle","Create New Room")})}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"name",children:n("chat.roomName","Room Name")}),i.jsx(ze,{id:"name",value:a,onChange:f=>s(f.target.value),placeholder:n("chat.roomNamePlaceholder","Enter room name"),disabled:c})]}),i.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[i.jsxs(Ue,{htmlFor:"private",className:"flex flex-col space-y-1",children:[i.jsx("span",{children:n("chat.privateRoom","Private Room")}),i.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:n("chat.privateRoomDesc","Only invited members can view this room.")})]}),i.jsx(t_,{id:"private",checked:o,onCheckedChange:l,disabled:c})]}),i.jsxs(la,{children:[i.jsx(fe,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:n("common.cancel","Cancel")}),i.jsx(fe,{type:"submit",disabled:!a.trim()||c,children:c?n("common.creating","Creating..."):n("chat.createRoom","Create Room")})]})]})]})})}function dLe(){var M;const{user:e}=dr(),{t}=Pt(),{isRTL:r}=ar(),[n,a]=x.useState([]),[s,o]=x.useState(null),[l,c]=x.useState([]),[u,d]=x.useState(!0),[f,h]=x.useState(!1),[m,g]=x.useState(!0),[p,v]=x.useState(!0),[y,b]=x.useState(!1);x.useState([]);const[_,j]=x.useState(!1),[w,S]=x.useState(!1),N=x.useRef(!1),C=x.useRef(null);x.useRef(null),x.useRef(null),x.useEffect(()=>{const I=()=>{const q=window.innerWidth<768;h(q),q||g(!0)};return I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),x.useEffect(()=>{e&&!N.current&&O()},[e]),x.useEffect(()=>{var q;const I=(q=window.history.state)==null?void 0:q.usr;if(I!=null&&I.teamId&&n.length>0){const J=n.find(A=>A.team_id===I.teamId);J&&o(J)}},[n]),x.useEffect(()=>{s&&(C.current!==s.room_id&&(v(!0),b(!1),T(s.room_id),e&&(io.markAsRead(s.room_id,e.id.toString()),a(I=>I.map(q=>q.room_id===s.room_id?{...q,unreadCount:0}:q)))),f&&g(!1))},[s,f,e]),x.useEffect(()=>{var A;if(!e||!s)return;let I=((A=l[0])==null?void 0:A.message_id)||0;const q=async()=>{try{const B=await Kc.getByRoom(s.room_id.toString(),{limit:5});if(B.length>0){const G=B[0];G.message_id>I&&(console.log("New message detected, refreshing..."),await T(s.room_id.toString()),I=G.message_id)}}catch(B){console.warn("Failed to poll for new messages:",B)}},J=setInterval(q,2e3);return q(),()=>{clearInterval(J)}},[e,s,l]);const k=async(I,q)=>{try{await Kc.update(I,q)}catch(J){console.error("Failed to edit message:",J)}},E=async I=>{if(confirm(t("chat.deleteConfirm","Are you sure you want to delete this message?")))try{await Kc.delete(I)}catch(q){console.error("Failed to delete message:",q)}},O=async()=>{try{d(!0);const I=await io.getUserRooms(e==null?void 0:e.id.toString()),q=I.filter(B=>B.is_private).map(B=>B.room_id),J=new Map;if(q.length>0){const B=q.map(H=>io.getRoomMembers(H).catch(()=>[])),G=await Promise.all(B);q.forEach((H,ee)=>{J.set(H,G[ee])})}const A=I.map(B=>{if(B.is_private){const H=(J.get(B.room_id)||[]).find(ee=>{var ue;return((ue=ee.userid)==null?void 0:ue.toString())!==(e==null?void 0:e.id.toString())});return{...B,other_user:H}}return B});a(A),N.current=!0}catch(I){console.error("Failed to load rooms:",I)}finally{d(!1)}},T=async(I,q=!1)=>{try{q&&b(!0);const J=10,A=q&&l.length>0?l[0].created_at:void 0,B=await Kc.getByRoom(I,{limit:J,before:A});q?(c(G=>[...B,...G]),v(B.length===J)):(c(B),v(B.length===J),C.current=I)}catch(J){console.error("Failed to load messages:",J)}finally{q&&b(!1)}},U=async()=>{!s||y||!p||await T(s.room_id,!0)},W=async I=>{if(!(!s||!e))try{const q={message_id:Date.now(),room_id:s.room_id,user_id:parseInt(e.id.toString()),content:I,metadata:null,created_at:new Date().toISOString(),sender:e.profile};c(J=>[...J,q]),await Kc.create({room_id:s.room_id,user_id:parseInt(e.id.toString()),content:I,metadata:null}),setTimeout(()=>{T(s.room_id.toString())},500)}catch(q){console.error("Failed to send message:",q),c(J=>J.filter(A=>A.message_id!==Date.now()))}},R=()=>{g(!0)},z=async(I,q)=>{if(e)try{const J=await io.createRoom({name:I,is_private:q,created_by:e.profile.user_id||0,userid:e.id.toString()});await io.addMember(J.room_id,e.id.toString()),await O();const A={...J};o(A)}catch(J){console.error("Failed to create channel:",J)}},P=async I=>{if(!e)return;const q=n.find(J=>{var A;return J.is_private&&((A=J.other_user)==null?void 0:A.userid)===I.userid});if(q){o(q);return}try{const J=await io.createRoom({name:"DM",is_private:!0,created_by:e.profile.user_id||0,userid:e.id.toString()});await io.addMember(J.room_id,e.id.toString()),await io.addMember(J.room_id,(I.userid||I.user_id||"").toString()),await O();const A={...J,other_user:I};o(A)}catch(J){console.error("Failed to create DM:",J)}};return i.jsxs("div",{className:"flex w-full h-full overflow-hidden bg-background",dir:r?"rtl":"ltr",children:[i.jsx("div",{className:Ne("w-full md:w-80 flex-shrink-0 transition-all duration-300 ease-in-out absolute md:relative z-20 h-full bg-background border-r overflow-hidden",m?"translate-x-0":"-translate-x-full md:translate-x-0",f&&!m&&"hidden"),children:i.jsx(rLe,{rooms:n,selectedRoom:s,onSelectRoom:o,currentUser:e,onNewChannel:()=>j(!0),onNewDM:()=>S(!0)})}),i.jsx("div",{className:Ne("flex-1 flex flex-col min-w-0 bg-background transition-all duration-300 h-full overflow-hidden",f&&m?"hidden":"flex"),children:i.jsx(nLe,{room:s,messages:l,currentUser:e,onSendMessage:W,onBack:R,loading:u,onLoadMore:U,hasMoreMessages:p,isLoadingMore:y,onEditMessage:k,onDeleteMessage:E})}),i.jsx(uLe,{open:_,onOpenChange:j,onCreate:z}),i.jsx(aLe,{open:w,onOpenChange:S,onSelectUser:P,currentUserId:(M=e==null?void 0:e.id)==null?void 0:M.toString()})]})}function mG(e,t){return function(){return e.apply(t,arguments)}}const{toString:fLe}=Object.prototype,{getPrototypeOf:FP}=Object,{iterator:dj,toStringTag:pG}=Symbol,fj=(e=>t=>{const r=fLe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Io=e=>(e=e.toLowerCase(),t=>fj(t)===e),hj=e=>t=>typeof t===e,{isArray:Dp}=Array,Ym=hj("undefined");function vx(e){return e!==null&&!Ym(e)&&e.constructor!==null&&!Ym(e.constructor)&&Rs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const gG=Io("ArrayBuffer");function hLe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&gG(e.buffer),t}const mLe=hj("string"),Rs=hj("function"),vG=hj("number"),xx=e=>e!==null&&typeof e=="object",pLe=e=>e===!0||e===!1,n1=e=>{if(fj(e)!=="object")return!1;const t=FP(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(pG in e)&&!(dj in e)},gLe=e=>{if(!xx(e)||vx(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},vLe=Io("Date"),xLe=Io("File"),yLe=Io("Blob"),bLe=Io("FileList"),_Le=e=>xx(e)&&Rs(e.pipe),wLe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Rs(e.append)&&((t=fj(e))==="formdata"||t==="object"&&Rs(e.toString)&&e.toString()==="[object FormData]"))},jLe=Io("URLSearchParams"),[SLe,NLe,kLe,CLe]=["ReadableStream","Request","Response","Headers"].map(Io),ELe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yx(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Dp(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(vx(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(n=0;n<o;n++)l=s[n],t.call(null,e[l],l,e)}}function xG(e,t){if(vx(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Sd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yG=e=>!Ym(e)&&e!==Sd;function VC(){const{caseless:e,skipUndefined:t}=yG(this)&&this||{},r={},n=(a,s)=>{const o=e&&xG(r,s)||s;n1(r[o])&&n1(a)?r[o]=VC(r[o],a):n1(a)?r[o]=VC({},a):Dp(a)?r[o]=a.slice():(!t||!Ym(a))&&(r[o]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&yx(arguments[a],n);return r}const TLe=(e,t,r,{allOwnKeys:n}={})=>(yx(t,(a,s)=>{r&&Rs(a)?e[s]=mG(a,r):e[s]=a},{allOwnKeys:n}),e),ALe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),PLe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},OLe=(e,t,r,n)=>{let a,s,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&FP(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},DLe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},RLe=e=>{if(!e)return null;if(Dp(e))return e;let t=e.length;if(!vG(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},FLe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&FP(Uint8Array)),MLe=(e,t)=>{const n=(e&&e[dj]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},ILe=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},LLe=Io("HTMLFormElement"),$Le=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),pL=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),BLe=Io("RegExp"),bG=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};yx(r,(a,s)=>{let o;(o=t(a,s,e))!==!1&&(n[s]=o||a)}),Object.defineProperties(e,n)},ULe=e=>{bG(e,(t,r)=>{if(Rs(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Rs(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},zLe=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return Dp(e)?n(e):n(String(e).split(t)),r},VLe=()=>{},WLe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function HLe(e){return!!(e&&Rs(e.append)&&e[pG]==="FormData"&&e[dj])}const qLe=e=>{const t=new Array(10),r=(n,a)=>{if(xx(n)){if(t.indexOf(n)>=0)return;if(vx(n))return n;if(!("toJSON"in n)){t[a]=n;const s=Dp(n)?[]:{};return yx(n,(o,l)=>{const c=r(o,a+1);!Ym(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},GLe=Io("AsyncFunction"),KLe=e=>e&&(xx(e)||Rs(e))&&Rs(e.then)&&Rs(e.catch),_G=((e,t)=>e?setImmediate:t?((r,n)=>(Sd.addEventListener("message",({source:a,data:s})=>{a===Sd&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Sd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Rs(Sd.postMessage)),YLe=typeof queueMicrotask<"u"?queueMicrotask.bind(Sd):typeof process<"u"&&process.nextTick||_G,XLe=e=>e!=null&&Rs(e[dj]),Fe={isArray:Dp,isArrayBuffer:gG,isBuffer:vx,isFormData:wLe,isArrayBufferView:hLe,isString:mLe,isNumber:vG,isBoolean:pLe,isObject:xx,isPlainObject:n1,isEmptyObject:gLe,isReadableStream:SLe,isRequest:NLe,isResponse:kLe,isHeaders:CLe,isUndefined:Ym,isDate:vLe,isFile:xLe,isBlob:yLe,isRegExp:BLe,isFunction:Rs,isStream:_Le,isURLSearchParams:jLe,isTypedArray:FLe,isFileList:bLe,forEach:yx,merge:VC,extend:TLe,trim:ELe,stripBOM:ALe,inherits:PLe,toFlatObject:OLe,kindOf:fj,kindOfTest:Io,endsWith:DLe,toArray:RLe,forEachEntry:MLe,matchAll:ILe,isHTMLForm:LLe,hasOwnProperty:pL,hasOwnProp:pL,reduceDescriptors:bG,freezeMethods:ULe,toObjectSet:zLe,toCamelCase:$Le,noop:VLe,toFiniteNumber:WLe,findKey:xG,global:Sd,isContextDefined:yG,isSpecCompliantForm:HLe,toJSONObject:qLe,isAsyncFn:GLe,isThenable:KLe,setImmediate:_G,asap:YLe,isIterable:XLe};function Lt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Fe.inherits(Lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Fe.toJSONObject(this.config),code:this.code,status:this.status}}});const wG=Lt.prototype,jG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{jG[e]={value:e}});Object.defineProperties(Lt,jG);Object.defineProperty(wG,"isAxiosError",{value:!0});Lt.from=(e,t,r,n,a,s)=>{const o=Object.create(wG);Fe.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Lt.call(o,l,c,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const QLe=null;function WC(e){return Fe.isPlainObject(e)||Fe.isArray(e)}function SG(e){return Fe.endsWith(e,"[]")?e.slice(0,-2):e}function gL(e,t,r){return e?e.concat(t).map(function(a,s){return a=SG(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function JLe(e){return Fe.isArray(e)&&!e.some(WC)}const ZLe=Fe.toFlatObject(Fe,{},null,function(t){return/^is[A-Z]/.test(t)});function mj(e,t,r){if(!Fe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Fe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,v){return!Fe.isUndefined(v[p])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Fe.isSpecCompliantForm(t);if(!Fe.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(Fe.isDate(g))return g.toISOString();if(Fe.isBoolean(g))return g.toString();if(!c&&Fe.isBlob(g))throw new Lt("Blob is not supported. Use a Buffer instead.");return Fe.isArrayBuffer(g)||Fe.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,p,v){let y=g;if(g&&!v&&typeof g=="object"){if(Fe.endsWith(p,"{}"))p=n?p:p.slice(0,-2),g=JSON.stringify(g);else if(Fe.isArray(g)&&JLe(g)||(Fe.isFileList(g)||Fe.endsWith(p,"[]"))&&(y=Fe.toArray(g)))return p=SG(p),y.forEach(function(_,j){!(Fe.isUndefined(_)||_===null)&&t.append(o===!0?gL([p],j,s):o===null?p:p+"[]",u(_))}),!1}return WC(g)?!0:(t.append(gL(v,p,s),u(g)),!1)}const f=[],h=Object.assign(ZLe,{defaultVisitor:d,convertValue:u,isVisitable:WC});function m(g,p){if(!Fe.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(g),Fe.forEach(g,function(y,b){(!(Fe.isUndefined(y)||y===null)&&a.call(t,y,Fe.isString(b)?b.trim():b,p,h))===!0&&m(y,p?p.concat(b):[b])}),f.pop()}}if(!Fe.isObject(e))throw new TypeError("data must be an object");return m(e),t}function vL(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function MP(e,t){this._pairs=[],e&&mj(e,this,t)}const NG=MP.prototype;NG.append=function(t,r){this._pairs.push([t,r])};NG.toString=function(t){const r=t?function(n){return t.call(this,n,vL)}:vL;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function e5e(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function kG(e,t,r){if(!t)return e;const n=r&&r.encode||e5e;Fe.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=Fe.isURLSearchParams(t)?t.toString():new MP(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class xL{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Fe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const CG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},t5e=typeof URLSearchParams<"u"?URLSearchParams:MP,r5e=typeof FormData<"u"?FormData:null,n5e=typeof Blob<"u"?Blob:null,a5e={isBrowser:!0,classes:{URLSearchParams:t5e,FormData:r5e,Blob:n5e},protocols:["http","https","file","blob","url","data"]},IP=typeof window<"u"&&typeof document<"u",HC=typeof navigator=="object"&&navigator||void 0,s5e=IP&&(!HC||["ReactNative","NativeScript","NS"].indexOf(HC.product)<0),i5e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",o5e=IP&&window.location.href||"http://localhost",l5e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:IP,hasStandardBrowserEnv:s5e,hasStandardBrowserWebWorkerEnv:i5e,navigator:HC,origin:o5e},Symbol.toStringTag,{value:"Module"})),Sa={...l5e,...a5e};function c5e(e,t){return mj(e,new Sa.classes.URLSearchParams,{visitor:function(r,n,a,s){return Sa.isNode&&Fe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function u5e(e){return Fe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function d5e(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function EG(e){function t(r,n,a,s){let o=r[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=r.length;return o=!o&&Fe.isArray(a)?a.length:o,c?(Fe.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!Fe.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],s)&&Fe.isArray(a[o])&&(a[o]=d5e(a[o])),!l)}if(Fe.isFormData(e)&&Fe.isFunction(e.entries)){const r={};return Fe.forEachEntry(e,(n,a)=>{t(u5e(n),a,r,0)}),r}return null}function f5e(e,t,r){if(Fe.isString(e))try{return(t||JSON.parse)(e),Fe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const bx={transitional:CG,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=Fe.isObject(t);if(s&&Fe.isHTMLForm(t)&&(t=new FormData(t)),Fe.isFormData(t))return a?JSON.stringify(EG(t)):t;if(Fe.isArrayBuffer(t)||Fe.isBuffer(t)||Fe.isStream(t)||Fe.isFile(t)||Fe.isBlob(t)||Fe.isReadableStream(t))return t;if(Fe.isArrayBufferView(t))return t.buffer;if(Fe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return c5e(t,this.formSerializer).toString();if((l=Fe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return mj(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),f5e(t)):t}],transformResponse:[function(t){const r=this.transitional||bx.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Fe.isResponse(t)||Fe.isReadableStream(t))return t;if(t&&Fe.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Lt.from(l,Lt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Sa.classes.FormData,Blob:Sa.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Fe.forEach(["delete","get","head","post","put","patch"],e=>{bx.headers[e]={}});const h5e=Fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),m5e=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&h5e[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},yL=Symbol("internals");function p0(e){return e&&String(e).trim().toLowerCase()}function a1(e){return e===!1||e==null?e:Fe.isArray(e)?e.map(a1):String(e)}function p5e(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const g5e=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function uN(e,t,r,n,a){if(Fe.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!Fe.isString(t)){if(Fe.isString(n))return t.indexOf(n)!==-1;if(Fe.isRegExp(n))return n.test(t)}}function v5e(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function x5e(e,t){const r=Fe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,o){return this[n].call(this,t,a,s,o)},configurable:!0})})}class Fs{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=p0(c);if(!d)throw new Error("header name must be a non-empty string");const f=Fe.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=a1(l))}const o=(l,c)=>Fe.forEach(l,(u,d)=>s(u,d,c));if(Fe.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Fe.isString(t)&&(t=t.trim())&&!g5e(t))o(m5e(t),r);else if(Fe.isObject(t)&&Fe.isIterable(t)){let l={},c,u;for(const d of t){if(!Fe.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Fe.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=p0(t),t){const n=Fe.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return p5e(a);if(Fe.isFunction(r))return r.call(this,a,n);if(Fe.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=p0(t),t){const n=Fe.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||uN(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(o){if(o=p0(o),o){const l=Fe.findKey(n,o);l&&(!r||uN(n,n[l],l,r))&&(delete n[l],a=!0)}}return Fe.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||uN(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return Fe.forEach(this,(a,s)=>{const o=Fe.findKey(n,s);if(o){r[o]=a1(a),delete r[s];return}const l=t?v5e(s):String(s).trim();l!==s&&delete r[s],r[l]=a1(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Fe.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&Fe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[yL]=this[yL]={accessors:{}}).accessors,a=this.prototype;function s(o){const l=p0(o);n[l]||(x5e(a,o),n[l]=!0)}return Fe.isArray(t)?t.forEach(s):s(t),this}}Fs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Fe.reduceDescriptors(Fs.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Fe.freezeMethods(Fs);function dN(e,t){const r=this||bx,n=t||r,a=Fs.from(n.headers);let s=n.data;return Fe.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function TG(e){return!!(e&&e.__CANCEL__)}function Rp(e,t,r){Lt.call(this,e??"canceled",Lt.ERR_CANCELED,t,r),this.name="CanceledError"}Fe.inherits(Rp,Lt,{__CANCEL__:!0});function AG(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Lt("Request failed with status code "+r.status,[Lt.ERR_BAD_REQUEST,Lt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function y5e(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function b5e(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];o||(o=u),r[a]=c,n[a]=u;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function _5e(e,t){let r=0,n=1e3/t,a,s;const o=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(a=u,s||(s=setTimeout(()=>{s=null,o(a)},n-f)))},()=>a&&o(a)]}const r_=(e,t,r=3)=>{let n=0;const a=b5e(50,250);return _5e(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-n,u=a(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},bL=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},_L=e=>(...t)=>Fe.asap(()=>e(...t)),w5e=Sa.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Sa.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Sa.origin),Sa.navigator&&/(msie|trident)/i.test(Sa.navigator.userAgent)):()=>!0,j5e=Sa.hasStandardBrowserEnv?{write(e,t,r,n,a,s,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Fe.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Fe.isString(n)&&l.push(`path=${n}`),Fe.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),Fe.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function S5e(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function N5e(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function PG(e,t,r){let n=!S5e(t);return e&&(n||r==!1)?N5e(e,t):t}const wL=e=>e instanceof Fs?{...e}:e;function pf(e,t){t=t||{};const r={};function n(u,d,f,h){return Fe.isPlainObject(u)&&Fe.isPlainObject(d)?Fe.merge.call({caseless:h},u,d):Fe.isPlainObject(d)?Fe.merge({},d):Fe.isArray(d)?d.slice():d}function a(u,d,f,h){if(Fe.isUndefined(d)){if(!Fe.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!Fe.isUndefined(d))return n(void 0,d)}function o(u,d){if(Fe.isUndefined(d)){if(!Fe.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>a(wL(u),wL(d),f,!0)};return Fe.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);Fe.isUndefined(h)&&f!==l||(r[d]=h)}),r}const OG=e=>{const t=pf({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=Fs.from(o),t.url=kG(PG(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Fe.isFormData(r)){if(Sa.hasStandardBrowserEnv||Sa.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Fe.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(Sa.hasStandardBrowserEnv&&(n&&Fe.isFunction(n)&&(n=n(t)),n||n!==!1&&w5e(t.url))){const c=a&&s&&j5e.read(s);c&&o.set(a,c)}return t},k5e=typeof XMLHttpRequest<"u",C5e=k5e&&function(e){return new Promise(function(r,n){const a=OG(e);let s=a.data;const o=Fs.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,g;function p(){m&&m(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function y(){if(!v)return;const _=Fs.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),w={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:_,config:e,request:v};AG(function(N){r(N),p()},function(N){n(N),p()},w),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new Lt("Request aborted",Lt.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const w=j&&j.message?j.message:"Network Error",S=new Lt(w,Lt.ERR_NETWORK,e,v);S.event=j||null,n(S),v=null},v.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const w=a.transitional||CG;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new Lt(j,w.clarifyTimeoutError?Lt.ETIMEDOUT:Lt.ECONNABORTED,e,v)),v=null},s===void 0&&o.setContentType(null),"setRequestHeader"in v&&Fe.forEach(o.toJSON(),function(j,w){v.setRequestHeader(w,j)}),Fe.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([h,g]=r_(u,!0),v.addEventListener("progress",h)),c&&v.upload&&([f,m]=r_(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=_=>{v&&(n(!_||_.type?new Rp(null,e,v):_),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=y5e(a.url);if(b&&Sa.protocols.indexOf(b)===-1){n(new Lt("Unsupported protocol "+b+":",Lt.ERR_BAD_REQUEST,e));return}v.send(s||null)})},E5e=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Lt?d:new Rp(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,s(new Lt(`timeout ${t} of ms exceeded`,Lt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>Fe.asap(l),c}},T5e=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},A5e=async function*(e,t){for await(const r of P5e(e))yield*T5e(r,t)},P5e=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},jL=(e,t,r,n)=>{const a=A5e(e,t);let s=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},SL=64*1024,{isFunction:wy}=Fe,O5e=(({Request:e,Response:t})=>({Request:e,Response:t}))(Fe.global),{ReadableStream:NL,TextEncoder:kL}=Fe.global,CL=(e,...t)=>{try{return!!e(...t)}catch{return!1}},D5e=e=>{e=Fe.merge.call({skipUndefined:!0},O5e,e);const{fetch:t,Request:r,Response:n}=e,a=t?wy(t):typeof fetch=="function",s=wy(r),o=wy(n);if(!a)return!1;const l=a&&wy(NL),c=a&&(typeof kL=="function"?(g=>p=>g.encode(p))(new kL):async g=>new Uint8Array(await new r(g).arrayBuffer())),u=s&&l&&CL(()=>{let g=!1;const p=new r(Sa.origin,{body:new NL,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!p}),d=o&&l&&CL(()=>Fe.isReadableStream(new n("").body)),f={stream:d&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(p,v)=>{let y=p&&p[g];if(y)return y.call(p);throw new Lt(`Response type '${g}' is not supported`,Lt.ERR_NOT_SUPPORT,v)})});const h=async g=>{if(g==null)return 0;if(Fe.isBlob(g))return g.size;if(Fe.isSpecCompliantForm(g))return(await new r(Sa.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Fe.isArrayBufferView(g)||Fe.isArrayBuffer(g))return g.byteLength;if(Fe.isURLSearchParams(g)&&(g=g+""),Fe.isString(g))return(await c(g)).byteLength},m=async(g,p)=>{const v=Fe.toFiniteNumber(g.getContentLength());return v??h(p)};return async g=>{let{url:p,method:v,data:y,signal:b,cancelToken:_,timeout:j,onDownloadProgress:w,onUploadProgress:S,responseType:N,headers:C,withCredentials:k="same-origin",fetchOptions:E}=OG(g),O=t||fetch;N=N?(N+"").toLowerCase():"text";let T=E5e([b,_&&_.toAbortSignal()],j),U=null;const W=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let R;try{if(S&&u&&v!=="get"&&v!=="head"&&(R=await m(C,y))!==0){let J=new r(p,{method:"POST",body:y,duplex:"half"}),A;if(Fe.isFormData(y)&&(A=J.headers.get("content-type"))&&C.setContentType(A),J.body){const[B,G]=bL(R,r_(_L(S)));y=jL(J.body,SL,B,G)}}Fe.isString(k)||(k=k?"include":"omit");const z=s&&"credentials"in r.prototype,P={...E,signal:T,method:v.toUpperCase(),headers:C.normalize().toJSON(),body:y,duplex:"half",credentials:z?k:void 0};U=s&&new r(p,P);let M=await(s?O(U,E):O(p,P));const I=d&&(N==="stream"||N==="response");if(d&&(w||I&&W)){const J={};["status","statusText","headers"].forEach(H=>{J[H]=M[H]});const A=Fe.toFiniteNumber(M.headers.get("content-length")),[B,G]=w&&bL(A,r_(_L(w),!0))||[];M=new n(jL(M.body,SL,B,()=>{G&&G(),W&&W()}),J)}N=N||"text";let q=await f[Fe.findKey(f,N)||"text"](M,g);return!I&&W&&W(),await new Promise((J,A)=>{AG(J,A,{data:q,headers:Fs.from(M.headers),status:M.status,statusText:M.statusText,config:g,request:U})})}catch(z){throw W&&W(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new Lt("Network Error",Lt.ERR_NETWORK,g,U),{cause:z.cause||z}):Lt.from(z,z&&z.code,g,U)}}},R5e=new Map,DG=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let o=s.length,l=o,c,u,d=R5e;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:D5e(t)),d=u;return u};DG();const LP={http:QLe,xhr:C5e,fetch:{get:DG}};Fe.forEach(LP,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const EL=e=>`- ${e}`,F5e=e=>Fe.isFunction(e)||e===null||e===!1;function M5e(e,t){e=Fe.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!F5e(n)&&(a=LP[(l=String(n)).toLowerCase()],a===void 0))throw new Lt(`Unknown adapter '${l}'`);if(a&&(Fe.isFunction(a)||(a=a.get(t))))break;s[l||"#"+o]=a}if(!a){const o=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(EL).join(`
`):" "+EL(o[0]):"as no adapter specified";throw new Lt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const RG={getAdapter:M5e,adapters:LP};function fN(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Rp(null,e)}function TL(e){return fN(e),e.headers=Fs.from(e.headers),e.data=dN.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),RG.getAdapter(e.adapter||bx.adapter,e)(e).then(function(n){return fN(e),n.data=dN.call(e,e.transformResponse,n),n.headers=Fs.from(n.headers),n},function(n){return TG(n)||(fN(e),n&&n.response&&(n.response.data=dN.call(e,e.transformResponse,n.response),n.response.headers=Fs.from(n.response.headers))),Promise.reject(n)})}const FG="1.13.2",pj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{pj[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const AL={};pj.transitional=function(t,r,n){function a(s,o){return"[Axios v"+FG+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,l)=>{if(t===!1)throw new Lt(a(o," has been removed"+(r?" in "+r:"")),Lt.ERR_DEPRECATED);return r&&!AL[o]&&(AL[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,l):!0}};pj.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function I5e(e,t,r){if(typeof e!="object")throw new Lt("options must be an object",Lt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],o=t[s];if(o){const l=e[s],c=l===void 0||o(l,s,e);if(c!==!0)throw new Lt("option "+s+" must be "+c,Lt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Lt("Unknown option "+s,Lt.ERR_BAD_OPTION)}}const s1={assertOptions:I5e,validators:pj},Bo=s1.validators;class Vd{constructor(t){this.defaults=t||{},this.interceptors={request:new xL,response:new xL}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=pf(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&s1.assertOptions(n,{silentJSONParsing:Bo.transitional(Bo.boolean),forcedJSONParsing:Bo.transitional(Bo.boolean),clarifyTimeoutError:Bo.transitional(Bo.boolean)},!1),a!=null&&(Fe.isFunction(a)?r.paramsSerializer={serialize:a}:s1.assertOptions(a,{encode:Bo.function,serialize:Bo.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),s1.assertOptions(r,{baseUrl:Bo.spelling("baseURL"),withXsrfToken:Bo.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&Fe.merge(s.common,s[r.method]);s&&Fe.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),r.headers=Fs.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,f=0,h;if(!c){const g=[TL.bind(this),void 0];for(g.unshift(...l),g.push(...u),h=g.length,d=Promise.resolve(r);f<h;)d=d.then(g[f++],g[f++]);return d}h=l.length;let m=r;for(;f<h;){const g=l[f++],p=l[f++];try{m=g(m)}catch(v){p.call(this,v);break}}try{d=TL.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=pf(this.defaults,t);const r=PG(t.baseURL,t.url,t.allowAbsoluteUrls);return kG(r,t.params,t.paramsSerializer)}}Fe.forEach(["delete","get","head","options"],function(t){Vd.prototype[t]=function(r,n){return this.request(pf(n||{},{method:t,url:r,data:(n||{}).data}))}});Fe.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,l){return this.request(pf(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Vd.prototype[t]=r(),Vd.prototype[t+"Form"]=r(!0)});class $P{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const o=new Promise(l=>{n.subscribe(l),s=l}).then(a);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,l){n.reason||(n.reason=new Rp(s,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new $P(function(a){t=a}),cancel:t}}}function L5e(e){return function(r){return e.apply(null,r)}}function $5e(e){return Fe.isObject(e)&&e.isAxiosError===!0}const qC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(qC).forEach(([e,t])=>{qC[t]=e});function MG(e){const t=new Vd(e),r=mG(Vd.prototype.request,t);return Fe.extend(r,Vd.prototype,t,{allOwnKeys:!0}),Fe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return MG(pf(e,a))},r}const Vr=MG(bx);Vr.Axios=Vd;Vr.CanceledError=Rp;Vr.CancelToken=$P;Vr.isCancel=TG;Vr.VERSION=FG;Vr.toFormData=mj;Vr.AxiosError=Lt;Vr.Cancel=Vr.CanceledError;Vr.all=function(t){return Promise.all(t)};Vr.spread=L5e;Vr.isAxiosError=$5e;Vr.mergeConfig=pf;Vr.AxiosHeaders=Fs;Vr.formToJSON=e=>EG(Fe.isHTMLForm(e)?new FormData(e):e);Vr.getAdapter=RG.getAdapter;Vr.HttpStatusCode=qC;Vr.default=Vr;const g0="https://app.chatwoot.com",Uo="",zo="",jy={async getConversations(e="open",t=1){var r;try{if(!Uo||!zo)return console.warn("Chatwoot credentials missing. Please check .env file."),[];const a=(await Vr.get(`${g0}/api/v1/accounts/${zo}/conversations`,{headers:{api_access_token:Uo},params:{status:e,page:t}})).data;return(r=a==null?void 0:a.data)!=null&&r.payload?a.data.payload:a!=null&&a.payload?a.payload:[]}catch(n){return console.error("[Chatwoot] Failed to fetch conversations:",n),[]}},async getMessages(e){try{return!Uo||!zo?[]:(await Vr.get(`${g0}/api/v1/accounts/${zo}/conversations/${e}/messages`,{headers:{api_access_token:Uo}})).data.payload||[]}catch(t){return console.error(`[Chatwoot] Failed to fetch messages for conversation ${e}:`,t),[]}},async sendMessage(e,t,r=!1){try{return!Uo||!zo?null:(await Vr.post(`${g0}/api/v1/accounts/${zo}/conversations/${e}/messages`,{content:t,message_type:r?"private":"outgoing",private:r},{headers:{api_access_token:Uo}})).data}catch(n){throw console.error(`[Chatwoot] Failed to send message to ${e}:`,n),n}},async toggleStatus(e,t){try{if(!Uo||!zo)return;await Vr.post(`${g0}/api/v1/accounts/${zo}/conversations/${e}/toggle_status`,{status:t},{headers:{api_access_token:Uo}})}catch(r){throw console.error(`[Chatwoot] Failed to toggle status for ${e}:`,r),r}},async getInboxes(){try{return!Uo||!zo?[]:(await Vr.get(`${g0}/api/v1/accounts/${zo}/inboxes`,{headers:{api_access_token:Uo}})).data.payload||[]}catch(e){return console.error("[Chatwoot] Failed to fetch inboxes:",e),[]}}};function B5e(){const{t:e}=Pt();dr(),gi();const{isRTL:t}=ar(),[r,n]=x.useState([]),[a,s]=x.useState(null),[o,l]=x.useState([]),[c,u]=x.useState(!0),[d,f]=x.useState(!1),[h,m]=x.useState(!1),[g,p]=x.useState(""),[v,y]=x.useState("open"),b=x.useRef(null);x.useEffect(()=>{_(v);const k=setInterval(()=>{_(v,!0)},3e4);return()=>clearInterval(k)},[v]),x.useEffect(()=>{if(a){j(a.id);const k=setInterval(()=>j(a.id),1e4);return()=>clearInterval(k)}},[a]),x.useEffect(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},[o]);const _=async(k,E=!1)=>{E||u(!0);try{const O=await jy.getConversations(k);n(O||[])}catch(O){console.error("Failed to load conversations:",O),E||console.error("User notification skipped for load error")}finally{E||u(!1)}},j=async k=>{o.length===0&&f(!0);try{const E=await jy.getMessages(k);l(E)}catch(E){console.error("Failed to load messages",E)}finally{f(!1)}},w=async()=>{if(!(!g.trim()||!a)){m(!0);try{const k=await jy.sendMessage(a.id,g);k&&(l(E=>[...E,k]),p(""))}catch(k){console.error("Failed to send message",k)}finally{m(!1)}}},S=async k=>{try{const E=v==="open"?"resolved":"open";await jy.toggleStatus(k,E),v!=="all"?(n(O=>O.filter(T=>T.id!==k)),(a==null?void 0:a.id)===k&&(s(null),l([]))):(n(O=>O.map(T=>T.id===k?{...T,status:E}:T)),_(v))}catch(E){console.error("Failed to toggle status",E)}},N=k=>k!=null&&k.includes("email")?i.jsx(el,{className:"h-4 w-4"}):k!=null&&k.includes("whatsapp")?i.jsx(Xl,{className:"h-4 w-4"}):i.jsx(vl,{className:"h-4 w-4"}),C=k=>new Date(k*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return i.jsxs("div",{className:"flex flex-1 overflow-hidden bg-background border rounded-lg shadow-sm",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"w-80 border-r flex flex-col bg-muted/10",children:[i.jsxs("div",{className:"p-4 border-b space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"font-semibold text-lg",children:e("navigation.chats")}),i.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>_(v),disabled:c,children:i.jsx(Fg,{className:`h-4 w-4 ${c?"animate-spin":""}`})})]}),i.jsx(di,{defaultValue:"open",onValueChange:k=>y(k),className:"w-full",children:i.jsxs(Bs,{className:"grid w-full grid-cols-3",children:[i.jsx(ur,{value:"open",children:e("status.open")}),i.jsx(ur,{value:"resolved",children:e("status.closed")}),i.jsx(ur,{value:"all",children:e("common.all")})]})}),i.jsxs("div",{className:"relative",children:[i.jsx(La,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(ze,{placeholder:e("common.search"),className:"pl-8 bg-background"})]})]}),i.jsx(ns,{className:"flex-1",children:r.length===0&&!c?i.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:e("common.noRecordsFound")}):i.jsx("div",{className:"divide-y",children:r.map(k=>i.jsxs("div",{className:`p-4 cursor-pointer hover:bg-accent/50 transition-colors ${(a==null?void 0:a.id)===k.id?"bg-accent/80 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}`,onClick:()=>s(k),children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Ls,{className:"h-8 w-8",children:[i.jsx(To,{src:k.meta.sender.thumbnail}),i.jsx($s,{children:k.meta.sender.name.charAt(0)})]}),i.jsx("span",{className:"font-medium text-sm truncate max-w-[120px]",children:k.meta.sender.name})]}),i.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:C(k.timestamp)})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[N(k.meta.channel),i.jsx("span",{className:"capitalize",children:k.meta.channel.split(".")[1]||"Web"}),k.status==="resolved"&&i.jsx(ht,{variant:"outline",className:"text-[10px] h-4 px-1 ml-auto",children:e("chats.resolved")})]}),i.jsx("p",{className:"text-sm text-muted-foreground truncate line-clamp-1",children:k.messages&&k.messages.length>0?k.messages[k.messages.length-1].content:e("common.noMessages")||"No messages"})]},k.id))})})]}),i.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:a?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-card",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(Ls,{children:[i.jsx(To,{src:a.meta.sender.thumbnail}),i.jsx($s,{children:a.meta.sender.name.charAt(0)})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:a.meta.sender.name}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.meta.sender.email&&i.jsx("span",{children:a.meta.sender.email}),a.meta.sender.phone_number&&i.jsxs("span",{children:[" ",a.meta.sender.phone_number]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fe,{variant:a.status==="resolved"?"outline":"default",size:"sm",onClick:()=>S(a.id),children:a.status==="resolved"?i.jsxs(i.Fragment,{children:[i.jsx(Fg,{className:"mr-2 h-4 w-4"})," ",e("status.reopen")]}):i.jsxs(i.Fragment,{children:[i.jsx(G2,{className:"mr-2 h-4 w-4"})," ",e("status.resolve")]})}),i.jsxs(ZT,{children:[i.jsx(eA,{asChild:!0,children:i.jsx(fe,{variant:"ghost",size:"icon",children:i.jsx(RB,{className:"h-4 w-4"})})}),i.jsxs(sw,{align:"end",children:[i.jsx(ql,{children:e("chats.viewContactDetails")}),i.jsx(ql,{className:"text-red-500",children:e("chats.deleteConversation")})]})]})]})]}),i.jsx("div",{ref:b,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-muted/5 scroll-smooth",children:d?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):o.map(k=>{const E=k.message_type==="outgoing"||k.sender&&k.sender.type==="user",O=k.private;return i.jsx("div",{className:`flex w-full ${E?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 shadow-sm ${O?"bg-yellow-50 border border-yellow-200":E?"bg-primary text-primary-foreground":"bg-white border text-foreground"}`,children:[O&&i.jsxs("div",{className:"text-[10px] uppercase font-bold text-yellow-600 mb-1 flex items-center gap-1",children:[i.jsx(mae,{className:"h-3 w-3"})," ",e("chats.note")]}),i.jsx("div",{className:"text-sm whitespace-pre-wrap",children:k.content}),i.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${E?"text-primary-foreground/70":"text-muted-foreground"}`,children:[C(k.created_at),E&&i.jsx(G2,{className:"h-3 w-3"})]})]})},k.id)})}),i.jsxs("div",{className:"p-4 border-t bg-background",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ze,{placeholder:e("chats.typeMessage"),value:g,onChange:k=>p(k.target.value),onKeyDown:k=>k.key==="Enter"&&!k.shiftKey&&w(),disabled:h||a.status==="resolved",className:"flex-1"}),i.jsx(fe,{onClick:w,disabled:h||!g.trim()||a.status==="resolved",children:h?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):i.jsx(Wv,{className:"h-4 w-4"})})]}),a.status==="resolved"&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:e("chats.resolvedMessage")})]})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground",children:[i.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mb-4",children:i.jsx(vl,{className:"h-8 w-8 text-muted-foreground/50"})}),i.jsx("h3",{className:"text-lg font-semibold mb-1",children:e("chats.selectConversation")}),i.jsx("p",{className:"max-w-xs text-center text-sm",children:e("chats.connectDescription")})]})})]})}function U5e(){const{user:e}=dr(),{t}=Pt(),[r,n]=x.useState([]),[a,s]=x.useState(null),[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState(""),[h,m]=x.useState(!0),[g,p]=x.useState(!1),[v,y]=x.useState(null),[b,_]=x.useState(null),[j,w]=x.useState(!1),[S,N]=x.useState(!0),C=x.useRef(!1),k=x.useRef(null),E=x.useRef(null);x.useEffect(()=>{e&&!C.current&&O()},[e]),x.useEffect(()=>{a&&(E.current!==a.room_id&&U(),k.current!==a.room_id&&T())},[a]),x.useEffect(()=>{a&&(async()=>{try{console.log("Realtime not available - Supabase removed");return}catch(P){console.error("Failed to setup realtime:",P)}})()},[a]),x.useEffect(()=>{p(!1),y(null),_(null),C.current=!1,k.current=null,E.current=null},[e]);const O=async()=>{if(!C.current)try{m(!0);const z=await io.getUserRooms((e==null?void 0:e.id)||"");n(z),z.length>0&&s(z[0]),p(!0),C.current=!0}catch(z){console.error("Failed to load rooms:",z)}finally{m(!1)}},T=async()=>{if(!(!a||k.current===a.room_id))try{const z=await Kc.getByRoom(a.room_id);l(z),y(a.room_id),k.current=a.room_id}catch(z){console.error("Failed to load messages:",z)}},U=async()=>{if(!(!a||E.current===a.room_id))try{const z=await io.getRoomMembers(a.room_id);u(z),_(a.room_id),E.current=a.room_id}catch(z){console.error("Failed to load room members:",z)}},W=async()=>{if(!d.trim()||!a||!e)return;const z=d.trim(),P={message_id:`temp-${Date.now()}`,room_id:a.room_id,userid:e.id.toString(),content:z,created_at:new Date().toISOString(),metadata:null};l(M=>[...M,P]),f("");try{await Kc.create({room_id:a.room_id,userid:e.id.toString(),content:z,metadata:null})}catch(M){console.error("Failed to send message:",M),l(I=>I.filter(q=>q.message_id!==P.message_id)),f(z)}},R=z=>new Date(z).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return h?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(oa,{size:"xl"})}):i.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-120px)] gap-4 sm:gap-6 pb-6",children:[i.jsxs("div",{className:`flex-col border rounded-lg ${S?"flex w-80":"hidden"} lg:flex lg:w-80`,children:[i.jsx("div",{className:"p-4 border-b",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h2",{className:"text-xl font-semibold",children:t("chats.myChatRooms")})})}),i.jsx(ns,{className:"flex-1 p-4",children:i.jsx("div",{className:"space-y-2",children:r.map(z=>i.jsx(ft,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===z.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>s(z),children:i.jsx(yt,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ey,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:z.room_name||`Room ${z.room_id.slice(0,8)}`}),i.jsx("p",{className:"text-xs text-muted-foreground",children:z.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},z.room_id))})})]}),a&&i.jsx("div",{className:"md:hidden mb-4",children:i.jsxs(Oo,{open:j,onOpenChange:w,children:[i.jsx(z7,{asChild:!0,children:i.jsxs(fe,{variant:"outline",className:"w-full justify-between",children:[i.jsx("span",{className:"truncate",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),i.jsx(ey,{className:"h-4 w-4 ml-2"})]})}),i.jsx(Vi,{side:"left",className:"w-80 p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:t("chats.myChatRooms")}),i.jsx(ns,{className:"h-[60vh]",children:i.jsx("div",{className:"space-y-2",children:r.map(z=>i.jsx(ft,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===z.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>{s(z),w(!1)},children:i.jsx(yt,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ey,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:z.room_name||`Room ${z.room_id.slice(0,8)}`}),i.jsx("p",{className:"text-xs text-muted-foreground",children:z.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},z.room_id))})})]})})]})}),i.jsx("div",{className:"flex-1 flex flex-col",children:a?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(ss,{className:"h-4 w-4"}),i.jsxs("span",{children:[c.length," ",t("chats.members")]}),a.is_private&&i.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:t("chats.private")})]})]}),i.jsx(fe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all",onClick:()=>N(!S),children:i.jsx(Mae,{className:"h-4 w-4"})})]}),i.jsx(ns,{className:"flex-1 mb-4",children:i.jsx("div",{className:"space-y-4 p-4",children:b===a.room_id&&o.map(z=>{var M,I,q,J,A;let P;return z.userid===((M=e==null?void 0:e.id)==null?void 0:M.toString())?P={userid:e.id.toString(),user_name:((I=e.profile)==null?void 0:I.user_name)||e.email||t("chats.you"),avatar:(q=e.profile)==null?void 0:q.avatar,user_id:((J=e.profile)==null?void 0:J.user_id)||0,user_email:e.email}:P=c.find(B=>B.userid===z.userid),P||(P={userid:z.userid,user_name:t("chats.unknownUser"),avatar:"",user_id:0}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(Ls,{className:"h-8 w-8",children:[i.jsx(To,{src:P.avatar||""}),i.jsx($s,{children:((A=P.user_name)==null?void 0:A.charAt(0))||"?"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-medium text-sm",children:P.user_name}),i.jsx("span",{className:"text-xs text-muted-foreground",children:R(z.created_at)})]}),i.jsx("p",{className:"text-sm",children:z.content})]})]},z.message_id)})})}),i.jsxs("div",{className:"flex gap-2 p-4 border-t",children:[i.jsx(ze,{value:d,onChange:z=>f(z.target.value),placeholder:t("chats.typeMessage"),onKeyPress:z=>z.key==="Enter"&&W(),className:"flex-1"}),i.jsx(fe,{onClick:W,disabled:!d.trim(),children:i.jsx(Wv,{className:"h-4 w-4"})})]})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-muted-foreground",children:[i.jsx(ey,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:t("chats.selectRoom")})]})})})]})}function z5e(){const{isRTL:e}=ar();Br();const[t,r]=x.useState(null),[n,a]=x.useState([]),[s,o]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState(!0),{user:f,signOut:h}=dr();x.useEffect(()=>{(async()=>{if(f!=null&&f.id)try{d(!0);const p=await fd.getByUserAuthId(f.id);a(p)}catch(p){console.error("Failed to fetch user projects:",p)}finally{d(!1)}})()},[f==null?void 0:f.id]),x.useEffect(()=>{(async()=>{if(t)try{const[p,v]=await Promise.all([jd.getAll(),UC.getByTask(0)]),y=p.filter(b=>!0);o(y),c(v)}catch(p){console.error("Failed to fetch project data:",p)}})()},[t]);const m=t?n.find(g=>g.project_id===t):null;return i.jsxs("div",{className:"space-y-6",dir:e?"rtl":"ltr",children:[i.jsx("header",{className:"border-b bg-card",children:i.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-2xl",children:""}),i.jsx("h1",{className:"text-xl font-bold",children:"Client Portal"})]}),i.jsxs(fe,{variant:"ghost",size:"sm",children:[i.jsx(Pae,{className:"h-4 w-4 mr-2"}),"Logout"]})]})}),i.jsxs("div",{className:"container mx-auto px-6 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold",children:["Hello, ",Te((f==null?void 0:f.profile)||{},"user_name"),"! "]}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Here's your project progress"})]}),m?i.jsxs("div",{children:[i.jsx(fe,{variant:"ghost",className:"mb-4",onClick:()=>r(null),children:" Back to Projects"}),i.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(ft,{children:[i.jsx(Yt,{children:i.jsx(yr,{children:m.project_name})}),i.jsxs(yt,{children:[i.jsx("p",{className:"text-muted-foreground",children:m.project_description||"No description available"}),i.jsxs("div",{className:"mt-4",children:[i.jsx(mf,{value:m.progress||0,className:"h-3"}),i.jsxs("div",{className:"text-right mt-2 text-sm font-semibold",children:[m.progress||0,"% Complete"]})]})]})]}),i.jsxs(di,{defaultValue:"tasks",children:[i.jsxs(Bs,{children:[i.jsx(ur,{value:"tasks",children:"Tasks"}),i.jsx(ur,{value:"images",children:"Gallery"}),i.jsx(ur,{value:"comments",children:"Comments"})]}),i.jsx(kr,{value:"tasks",className:"space-y-3",children:s.filter(g=>g.stage_id!==null).map(g=>{var p;return i.jsx(ft,{children:i.jsx(yt,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:g.task_name}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.description||"No description"})]}),i.jsxs(ht,{variant:g.task_status==="completed"?"default":"secondary",children:[g.task_status==="completed"?"":""," ",((p=g.task_status)==null?void 0:p.replace("_"," "))||"pending"]})]})})},g.task_id)})}),i.jsx(kr,{value:"images",children:i.jsx(ft,{children:i.jsx(yt,{className:"pt-6",children:i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(g=>i.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-4xl",children:""})},g))})})})}),i.jsx(kr,{value:"comments",children:i.jsx(ft,{children:i.jsxs(yt,{className:"pt-6 space-y-4",children:[l.map(g=>i.jsxs("div",{className:"flex gap-3 pb-4 border-b last:border-0",children:[i.jsx("div",{className:"text-2xl",children:""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-sm",children:"Team Member"}),i.jsx("p",{className:"text-sm mt-1",children:g.message||"No message"}),i.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:g.created_date?new Date(g.created_date).toLocaleString():"Unknown date"})]})]},g.comment_id)),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx(ze,{placeholder:"Add a comment..."}),i.jsx(fe,{children:i.jsx(vl,{className:"h-4 w-4"})})]})]})})})]})]}),i.jsx("div",{children:i.jsxs(ft,{children:[i.jsx(Yt,{children:i.jsx(yr,{className:"text-lg",children:"Timeline"})}),i.jsxs(yt,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"Created Date"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:m.created_date?new Date(m.created_date).toLocaleDateString():"N/A"})]}),m.end_date&&i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"End Date"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(m.end_date).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"Milestones"}),i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-green-500",children:""}),i.jsx("span",{children:"Project Kickoff"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-green-500",children:""}),i.jsx("span",{children:"Design Phase"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-blue-500",children:""}),i.jsx("span",{children:"Development Phase"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsx("span",{children:"Testing & Launch"})]})]})]})]})]})})]})]}):u?i.jsx(oa,{size:"xl"}):n.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Projects Found"}),i.jsx("p",{className:"text-muted-foreground",children:"You don't have any projects assigned yet."})]}):i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(g=>i.jsxs(ft,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>r(g.project_id),children:[i.jsxs(Yt,{children:[i.jsx(yr,{className:"text-lg",children:g.project_name}),i.jsxs(ht,{className:"w-fit mt-2",variant:"secondary",children:["Stage ",g.stage||"N/A"]})]}),i.jsx(yt,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Progress"}),i.jsxs("span",{className:"font-semibold",children:[g.progress||0,"%"]})]}),i.jsx(mf,{value:g.progress||0,className:"h-2"})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Created: ",g.created_date?new Date(g.created_date).toLocaleDateString():"N/A"]}),i.jsx(fe,{className:"w-full",variant:"outline",children:"View Details "})]})})]},g.project_id))})]})]})}const V5e=()=>{const e=Us(),{t}=Pt(),{toast:r}=gi(),{companyName:n}=QB(),a=[{icon:i.jsx(Ld,{className:"h-6 w-6"}),title:t("landing.features.projectManagement.title"),description:t("landing.features.projectManagement.description")},{icon:i.jsx(ss,{className:"h-6 w-6"}),title:t("landing.features.leadManagement.title"),description:t("landing.features.leadManagement.description")},{icon:i.jsx(OB,{className:"h-6 w-6"}),title:t("landing.features.analytics.title"),description:t("landing.features.analytics.description")},{icon:i.jsx(vl,{className:"h-6 w-6"}),title:t("landing.features.communication.title"),description:t("landing.features.communication.description")},{icon:i.jsx(G0,{className:"h-6 w-6"}),title:t("landing.features.taskManagement.title"),description:t("landing.features.taskManagement.description")},{icon:i.jsx(L1,{className:"h-6 w-6"}),title:t("landing.features.security.title"),description:t("landing.features.security.description")}];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[i.jsx("header",{className:"relative z-10 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between py-4 sm:py-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:(n==null?void 0:n.charAt(0))||"M"})}),i.jsx("span",{className:"text-xl font-bold text-gray-900",children:n})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(jU,{}),i.jsx(fe,{onClick:()=>e("/login"),className:"shadow-lg hover:shadow-xl transition-all duration-200",children:t("buttons.login")})]})]})}),i.jsxs("section",{className:"relative px-4 sm:px-6 lg:px-8 pb-12 sm:pb-16 lg:pb-20",children:[i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"text-center",children:[i.jsxs(ht,{variant:"secondary",className:"mb-4 px-3 py-1 text-sm font-medium",children:[i.jsx(MB,{className:"h-3 w-3 mr-1"}),t("landing.badge")]}),i.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:[t("landing.hero.title.line1"),i.jsx("span",{className:"text-primary block",children:t("landing.hero.title.line2")})]}),i.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:t("landing.hero.description")}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[i.jsxs(fe,{size:"lg",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group",children:[t("landing.hero.cta.primary"),i.jsx(gae,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),i.jsx(fe,{variant:"outline",size:"lg",className:"px-8 py-3 text-lg",children:t("landing.hero.cta.secondary")})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.users")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.usersLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.projects")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.projectsLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.uptime")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.uptimeLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.support")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.supportLabel")})]})]})]})}),i.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-400/10 rounded-full blur-3xl"})]})]}),i.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20 bg-white/50 backdrop-blur-sm",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:t("landing.features.title")}),i.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:t("landing.features.subtitle")})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:a.map((s,o)=>i.jsx(ft,{className:"group hover:shadow-lg transition-all duration-200 border-0 shadow-md bg-white/80 backdrop-blur-sm",children:i.jsxs(yt,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:s.icon}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.title})]}),i.jsx("p",{className:"text-gray-600 leading-relaxed",children:s.description})]})},o))})]})}),i.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch",children:[i.jsx(ft,{className:"bg-gradient-to-r from-primary to-blue-600 text-white border-0 shadow-2xl flex flex-col justify-center",children:i.jsxs(yt,{className:"p-8 sm:p-12 text-center",children:[i.jsx(Hae,{className:"h-12 w-12 mx-auto mb-6 text-primary-foreground/80"}),i.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:t("landing.cta.title")}),i.jsx("p",{className:"text-lg mb-8 text-primary-foreground/90 max-w-2xl mx-auto",children:t("landing.cta.description")}),i.jsxs(fe,{size:"lg",variant:"secondary",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group w-full sm:w-auto",children:[t("landing.cta.button"),i.jsx(Bd,{className:"ml-2 h-5 w-5 group-hover:scale-110 transition-transform"})]})]})}),i.jsx(ft,{className:"border-0 shadow-2xl bg-white/80 backdrop-blur-sm",children:i.jsxs(yt,{className:"p-8 sm:p-12",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:t("landing.partner.title")}),i.jsx("p",{className:"text-gray-600",children:t("landing.partner.subtitle")})]}),i.jsxs("form",{className:"space-y-4",onSubmit:async s=>{s.preventDefault();const o=s.target,l=new FormData(o);try{await r1.createApplication({company_name:l.get("company_name"),full_name:l.get("full_name"),email:l.get("email"),phone:l.get("phone")}),r({title:t("landing.partner.success"),description:t("landing.partner.successMessage")}),o.reset()}catch{r({title:"Error",description:"Failed to submit application. Please try again.",variant:"destructive"})}},children:[i.jsx("div",{className:"space-y-2",children:i.jsx(ze,{name:"company_name",placeholder:t("landing.partner.companyName"),required:!0,className:"bg-white"})}),i.jsx("div",{className:"space-y-2",children:i.jsx(ze,{name:"full_name",placeholder:t("landing.partner.fullName"),required:!0,className:"bg-white"})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(ze,{name:"email",type:"email",placeholder:t("landing.partner.email"),required:!0,className:"bg-white"}),i.jsx(ze,{name:"phone",type:"tel",placeholder:t("landing.partner.phone"),required:!0,className:"bg-white"})]}),i.jsx(fe,{type:"submit",className:"w-full text-lg h-12",children:t("landing.partner.submit")})]})]})})]})})}),i.jsx("footer",{className:"px-4 sm:px-6 lg:px-8 py-8 border-t border-gray-200 bg-white/50 backdrop-blur-sm",children:i.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx("div",{className:"h-6 w-6 rounded bg-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:(n==null?void 0:n.charAt(0))||"M"})}),i.jsxs("span",{className:"font-semibold text-gray-900",children:[n," CRM"]})]}),i.jsx("p",{className:"text-sm text-gray-600",children:t("landing.footer.copyright",{brand:t("landing.brandName")})})]})})]})},W5e=()=>{const[e,t]=x.useState("loading"),[r,n]=x.useState("Processing authentication..."),a=Us(),{user:s}=dr();return x.useEffect(()=>((async()=>{try{if(console.log("[AuthCallback] Handling OAuth callback"),s){console.log("[AuthCallback] User already authenticated by auth context:",s.role),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{s.role==="client"?a("/client-portal"):s.role==="employee"||s.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}console.log("[AuthCallback] No user from context, checking localStorage..."),t("error"),n("OAuth authentication is not available. Please use email/password sign in."),setTimeout(()=>a("/login"),3e3)}catch(l){console.error("[AuthCallback] Error handling callback:",l),t("error"),n("Authentication failed. Please try again."),setTimeout(()=>a("/login"),3e3)}})(),()=>{}),[s,a]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center max-w-md",children:[e==="loading"&&i.jsxs(i.Fragment,{children:[i.jsx(oa,{size:"xl",message:r}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Completing Sign In"}),i.jsx("p",{className:"text-gray-600",children:r})]}),e==="success"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-2 text-green-600",children:"Success!"}),i.jsx("p",{className:"text-gray-600",children:r})]}),e==="error"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"Authentication Failed"}),i.jsx("p",{className:"text-gray-600",children:r})]})]})})};function PL({data:e,columns:t,actions:r=[],keyExtractor:n,className:a="",gridClassName:s="grid gap-4 md:grid-cols-2 lg:grid-cols-3 pb-4",cardClassName:o="group relative overflow-hidden transition-all duration-300 hover:shadow-xl border-primary/5 hover:border-primary/20",emptyState:l,onCardClick:c,renderCardHeader:u,renderCardContent:d,renderCardFooter:f}){Pt();const{isRTL:h}=ar();return e.length===0&&l?i.jsx(ft,{className:Ne("flex items-center justify-center h-64",a),children:i.jsxs(yt,{className:"text-center",children:[l.icon&&i.jsx("div",{className:"mb-4",children:l.icon}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:l.title}),i.jsx("p",{className:"text-muted-foreground",children:l.description})]})}):i.jsx("div",{className:Ne(s,a),dir:h?"rtl":"ltr",children:e.map((m,g)=>{var v,y,b,_,j,w;const p=n(m,g);return i.jsxs(ft,{className:Ne(o,c&&"cursor-pointer"),children:[i.jsx("div",{className:"absolute top-0 inset-inline-start-0 w-1 h-full bg-primary/10 group-hover:bg-primary transition-colors"}),u?u(m,g):i.jsx(Yt,{className:"pb-3",children:i.jsx("div",{className:"flex items-start justify-between gap-2",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[(v=t.find(S=>S.key==="title"))!=null&&v.render?t.find(S=>S.key==="title").render(m,g):i.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:String(m[(y=t.find(S=>S.key==="title"))==null?void 0:y.key]||"")}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.filter(S=>S.key!=="title"&&S.render).map((S,N)=>i.jsx(ce.Fragment,{children:S.render(m,g)},N))})]})})}),d?d(m,g):i.jsxs(yt,{className:"space-y-4",children:[(b=t.find(S=>S.key==="description"))!=null&&b.render?t.find(S=>S.key==="description").render(m,g):i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 min-h-[40px]",children:String(m[(_=t.find(S=>S.key==="description"))==null?void 0:_.key]||"")}),f?f(m,g):i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-primary/5",children:[(j=t.find(S=>S.key==="date"))!=null&&j.render?t.find(S=>S.key==="date").render(m,g):i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(ef,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:new Date(String(m[(w=t.find(S=>S.key==="date"))==null?void 0:w.key]||Date.now())).toLocaleDateString()})]}),r.length>0&&i.jsx("div",{className:"flex items-center gap-1 opacity-80 group-hover:opacity-100 transition-opacity",children:r.filter(S=>!S.condition||S.condition(m)).map(S=>i.jsx(fe,{variant:S.variant||"ghost",size:"icon",className:Ne("h-8 w-8",S.className),onClick:N=>{N.stopPropagation(),S.onClick(m,N)},title:S.title||S.label,children:S.icon},S.key))})]})]})]},p)})})}const OL=({children:e,className:t})=>i.jsx("h3",{className:Ne("font-semibold text-base truncate group-hover:text-primary transition-colors",t),children:e}),H5e=({children:e,className:t})=>i.jsx("p",{className:Ne("text-sm text-muted-foreground line-clamp-2 min-h-[40px]",t),children:e}),DL=({date:e,className:t})=>i.jsxs("div",{className:Ne("flex items-center gap-2 text-xs text-muted-foreground",t),children:[i.jsx(ef,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:new Date(e).toLocaleDateString()})]}),hN=({children:e,variant:t="secondary",className:r})=>i.jsx(ht,{variant:t,className:Ne("text-[10px] uppercase tracking-wider font-bold",r),children:e}),Xm=({className:e,...t})=>i.jsx("nav",{role:"navigation","aria-label":"pagination",className:Ne("mx-auto flex w-full justify-center",e),...t});Xm.displayName="Pagination";const Qm=x.forwardRef(({className:e,...t},r)=>i.jsx("ul",{ref:r,className:Ne("flex flex-row items-center gap-1",e),...t}));Qm.displayName="PaginationContent";const ja=x.forwardRef(({className:e,...t},r)=>i.jsx("li",{ref:r,className:Ne("",e),...t}));ja.displayName="PaginationItem";const BP=({className:e,isActive:t,size:r="icon",...n})=>i.jsx("a",{"aria-current":t?"page":void 0,className:Ne(vm({variant:t?"outline":"ghost",size:r}),e),...n});BP.displayName="PaginationLink";const uu=({className:e,children:t,...r})=>i.jsx(BP,{"aria-label":"Go to previous page",size:"default",className:Ne("gap-1 pl-2.5",e),...r,children:i.jsx("span",{children:t||"Previous"})});uu.displayName="PaginationPrevious";const du=({className:e,children:t,...r})=>i.jsx(BP,{"aria-label":"Go to next page",size:"default",className:Ne("gap-1 pr-2.5",e),...r,children:i.jsx("span",{children:t||"Next"})});du.displayName="PaginationNext";/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var IG=1252,q5e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],UP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},zP=function(e){q5e.indexOf(e)!=-1&&(IG=UP[0]=e)};function G5e(){zP(1252)}var bo=function(e){zP(e)};function LG(){bo(1200),G5e()}function RL(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function K5e(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function $G(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var A0=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?K5e(e.slice(2)):t==254&&r==255?$G(e.slice(2)):t==65279?e.slice(1):e},Sy=function(t){return String.fromCharCode(t)},FL=function(t){return String.fromCharCode(t)},Yc,fu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ML(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=fu.charAt(s)+fu.charAt(o)+fu.charAt(l)+fu.charAt(c);return t}function fi(e){var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=fu.indexOf(e.charAt(u++)),o=fu.indexOf(e.charAt(u++)),r=s<<2|o>>4,t+=String.fromCharCode(r),l=fu.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=fu.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Jt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Of=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Fu(e){return Jt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function IL(e){return Jt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var vo=function(t){return Jt?Of(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Df(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function VP(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return VP(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Xc=Jt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Of(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Y5e(e){for(var t=[],r=0,n=e.length+250,a=Fu(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Fu(65535),n=65530)}return t.push(a.slice(0,r)),Xc(t)}var fs=/\u0000/g,P0=/[\u0001-\u0006]/g;function Vh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function _o(e,t){var r=""+e;return r.length>=t?r:en("0",t-r.length)+r}function WP(e,t){var r=""+e;return r.length>=t?r:en(" ",t-r.length)+r}function n_(e,t){var r=""+e;return r.length>=t?r:r+en(" ",t-r.length)}function X5e(e,t){var r=""+Math.round(e);return r.length>=t?r:en("0",t-r.length)+r}function Q5e(e,t){var r=""+e;return r.length>=t?r:en("0",t-r.length)+r}var LL=Math.pow(2,32);function Qf(e,t){if(e>LL||e<-LL)return X5e(e,t);var r=Math.round(e);return Q5e(r,t)}function a_(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var $L=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],mN=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function J5e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var It={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},BL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Z5e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function s_(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function Nd(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=s$e(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var BG=new Date(1899,11,31,0,0,0),e$e=BG.getTime(),t$e=new Date(1900,2,1,0,0,0);function UG(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=t$e&&(r+=24*60*60*1e3),(r-(e$e+(e.getTimezoneOffset()-BG.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function HP(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function r$e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function n$e(e){var t=e<0?12:11,r=HP(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function a$e(e){var t=HP(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Sv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=n$e(e):t===10?r=e.toFixed(10).substr(0,12):r=a$e(e),HP(r$e(r.toUpperCase()))}function gf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Sv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Hi(14,UG(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function s$e(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function i$e(e,t,r,n){var a="",s=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return mN[r.m-1][1];case 5:return mN[r.m-1][0];default:return mN[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return $L[r.q][0];default:return $L[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?_o(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(a=_o(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?_o(c,u):"";return d}function hu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var zG=/%/g;function o$e(e,t,r){var n=t.replace(zG,""),a=t.length-n.length;return ic(e,n,r*Math.pow(10,2*a))+en("%",a)}function l$e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ic(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function VG(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+VG(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var WG=/# (\?+)( ?)\/( ?)(\d+)/;function c$e(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),o=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(o===0?en(" ",e[1].length+1+e[4].length):WP(o,e[1].length)+e[2]+"/"+e[3]+_o(l,e[4].length))}function u$e(e,t,r){return r+(t===0?"":""+t)+en(" ",e[1].length+2+e[4].length)}var HG=/^#*0*\.([0#]+)/,qG=/\).*[0#]/,GG=/\(###\) ###\\?-####/;function Za(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function UL(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function zL(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function d$e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function f$e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ni(e,t,r){if(e.charCodeAt(0)===40&&!t.match(qG)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ni("n",n,r):"("+Ni("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return l$e(e,t,r);if(t.indexOf("%")!==-1)return o$e(e,t,r);if(t.indexOf("E")!==-1)return VG(t,r);if(t.charCodeAt(0)===36)return"$"+Ni(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Qf(c,t.length);if(t.match(/^[#?]+$/))return a=Qf(r,0),a==="0"&&(a=""),a.length>t.length?a:Za(t.substr(0,t.length-a.length))+a;if(s=t.match(WG))return c$e(s,c,u);if(t.match(/^#+0+$/))return u+Qf(c,t.length-t.indexOf("0"));if(s=t.match(HG))return a=UL(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Za(s[1])).replace(/\.$/,"."+Za(s[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+en("0",Za(s[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+UL(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+hu(Qf(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ni(e,t,-r):hu(""+(Math.floor(r)+d$e(r,s[1].length)))+"."+_o(zL(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Ni(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Vh(Ni(e,t.replace(/[\\-]/g,""),r)),o=0,Vh(Vh(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(GG))return a=Ni(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=s_(c,Math.pow(10,o)-1,!1),a=""+u,d=ic("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=n_(l[2],o),d.length<s[4].length&&(d=Za(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=s_(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?WP(l[1],o)+s[2]+"/"+s[3]+n_(l[2],o):en(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Qf(r,0),t.length<=a.length?a:Za(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Za(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=zL(r,s[1].length),r<0?"-"+Ni(e,t,-r):hu(f$e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?_o(0,3-g.length):"")+g})+"."+_o(o,s[1].length);switch(t){case"###,##0.00":return Ni(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=hu(Qf(c,0));return m!=="0"?u+m:"";case"###,###.00":return Ni(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ni(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function h$e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ic(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function m$e(e,t,r){var n=t.replace(zG,""),a=t.length-n.length;return ic(e,n,r*Math.pow(10,2*a))+en("%",a)}function KG(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+KG(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Wo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(qG)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Wo("n",n,r):"("+Wo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return h$e(e,t,r);if(t.indexOf("%")!==-1)return m$e(e,t,r);if(t.indexOf("E")!==-1)return KG(t,r);if(t.charCodeAt(0)===36)return"$"+Wo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+_o(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Za(t.substr(0,t.length-a.length))+a;if(s=t.match(WG))return u$e(s,c,u);if(t.match(/^#+0+$/))return u+_o(c,t.length-t.indexOf("0"));if(s=t.match(HG))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Za(s[1])).replace(/\.$/,"."+Za(s[1])),a=a.replace(/\.(\d*)$/,function(g,p){return"."+p+en("0",Za(s[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+hu(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Wo(e,t,-r):hu(""+r)+"."+en("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Wo(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Vh(Wo(e,t.replace(/[\\-]/g,""),r)),o=0,Vh(Vh(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<a.length?a.charAt(o++):g==="0"?"0":""}));if(t.match(GG))return a=Wo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=s_(c,Math.pow(10,o)-1,!1),a=""+u,d=ic("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=n_(l[2],o),d.length<s[4].length&&(d=Za(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=s_(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?WP(l[1],o)+s[2]+"/"+s[3]+n_(l[2],o):en(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Za(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Za(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Wo(e,t,-r):hu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?_o(0,3-g.length):"")+g})+"."+_o(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=hu(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Wo(e,t.slice(0,t.lastIndexOf(".")),r)+Za(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ic(e,t,r){return(r|0)===r?Wo(e,t,r):Ni(e,t,r)}function p$e(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var YG=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Fp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":a_(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(YG))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function g$e(e,t,r,n){for(var a=[],s="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!a_(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++o;break;case"\\":var m=e.charAt(++o),g=m==="("||m===")"?m:"t";a[a.length]={t:g,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=Nd(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Nd(t,r),u==null))return"";for(s=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var p={t:l,v:l};if(u==null&&(u=Nd(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(p.v=u.H>=12?"":""),p.t="T",o+=5,h="h"):(p.t="t",++o),u==null&&p.t==="T")return"";a[a.length]=p,c=l;break;case"[":for(s=l;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(YG)){if(u==null&&(u=Nd(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Fp(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++o<e.length&&(l=e.charAt(o))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++o)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var v=0,y=0,b;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",v<1&&(v=1);break;case"s":(b=a[o].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[o].v.match(/[Hh]/)&&(v=1),v<2&&a[o].v.match(/[Mm]/)&&(v=2),v<3&&a[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var _="",j;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=i$e(a[o].t.charCodeAt(0),a[o].v,u,y),a[o].t="t";break;case"n":case"?":for(j=o+1;a[j]!=null&&((l=a[j].t)==="?"||l==="D"||(l===" "||l==="t")&&a[j+1]!=null&&(a[j+1].t==="?"||a[j+1].t==="t"&&a[j+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[j].v==="/"||a[j].v===" "&&a[j+1]!=null&&a[j+1].t=="?"));)a[o].v+=a[j].v,a[j]={v:"",t:";"},++j;_+=a[o].v,o=j-1;break;case"G":a[o].t="t",a[o].v=gf(t,r);break}var w="",S,N;if(_.length>0){_.charCodeAt(0)==40?(S=t<0&&_.charCodeAt(0)===45?-t:t,N=ic("n",_,S)):(S=t<0&&n>1?-t:t,N=ic("n",_,S),S<0&&a[0]&&a[0].t=="t"&&(N=N.substr(1),a[0].v="-"+a[0].v)),j=N.length-1;var C=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){C=o;break}var k=a.length;if(C===a.length&&N.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(j>=a[o].v.length-1?(j-=a[o].v.length,a[o].v=N.substr(j+1,a[o].v.length)):j<0?a[o].v="":(a[o].v=N.substr(0,j+1),j=-1),a[o].t="t",k=o);j>=0&&k<a.length&&(a[k].v=N.substr(0,j+1)+a[k].v)}else if(C!==a.length&&N.indexOf("E")===-1){for(j=N.indexOf(".")-1,o=C;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===C?a[o].v.indexOf(".")-1:a[o].v.length-1,w=a[o].v.substr(d+1);d>=0;--d)j>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(w=N.charAt(j--)+w);a[o].v=w,a[o].t="t",k=o}for(j>=0&&k<a.length&&(a[k].v=N.substr(0,j+1)+a[k].v),j=N.indexOf(".")+1,o=C;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==C)){for(d=a[o].v.indexOf(".")>-1&&o===C?a[o].v.indexOf(".")+1:0,w=a[o].v.substr(0,d);d<a[o].v.length;++d)j<N.length&&(w+=N.charAt(j++));a[o].v=w,a[o].t="t",k=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(S=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=ic(a[o].t,a[o].v,S),a[o].t="t");var E="";for(o=0;o!==a.length;++o)a[o]!=null&&(E+=a[o].v);return E}var VL=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function WL(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function v$e(e,t){var r=p$e(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(VL),l=r[1].match(VL);return WL(t,o)?[n,r[0]]:WL(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,s]}function Hi(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:It)[e],n==null&&(n=r.table&&r.table[BL[e]]||It[BL[e]]),n==null&&(n=Z5e[e]||"General");break}if(a_(n,0))return gf(t,r);t instanceof Date&&(t=UG(t,r.date1904));var a=v$e(n,t);if(a_(a[1]))return gf(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return g$e(a[1],t,r,a[0])}function Wd(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(It[r]==null){t<0&&(t=r);continue}if(It[r]==e){t=r;break}}t<0&&(t=391)}return It[t]=e,t}function XG(){It=J5e()}var x$e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},QG=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function y$e(e){var t=typeof e=="number"?It[e]:e;return t=t.replace(QG,"(\\d+)"),new RegExp("^"+t+"$")}function b$e(e,t,r){var n=-1,a=-1,s=-1,o=-1,l=-1,c=-1;(t.match(QG)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var _$e=function(){var e={};e.version="1.2.0";function t(){for(var N=0,C=new Array(256),k=0;k!=256;++k)N=k,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,C[k]=N;return typeof Int32Array<"u"?new Int32Array(C):C}var r=t();function n(N){var C=0,k=0,E=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(E=0;E!=256;++E)O[E]=N[E];for(E=0;E!=256;++E)for(k=N[E],C=256+E;C<4096;C+=256)k=O[C]=k>>>8^N[k&255];var T=[];for(E=1;E!=16;++E)T[E-1]=typeof Int32Array<"u"?O.subarray(E*256,E*256+256):O.slice(E*256,E*256+256);return T}var a=n(r),s=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],g=a[9],p=a[10],v=a[11],y=a[12],b=a[13],_=a[14];function j(N,C){for(var k=C^-1,E=0,O=N.length;E<O;)k=k>>>8^r[(k^N.charCodeAt(E++))&255];return~k}function w(N,C){for(var k=C^-1,E=N.length-15,O=0;O<E;)k=_[N[O++]^k&255]^b[N[O++]^k>>8&255]^y[N[O++]^k>>16&255]^v[N[O++]^k>>>24]^p[N[O++]]^g[N[O++]]^m[N[O++]]^h[N[O++]]^f[N[O++]]^d[N[O++]]^u[N[O++]]^c[N[O++]]^l[N[O++]]^o[N[O++]]^s[N[O++]]^r[N[O++]];for(E+=15;O<E;)k=k>>>8^r[(k^N[O++])&255];return~k}function S(N,C){for(var k=C^-1,E=0,O=N.length,T=0,U=0;E<O;)T=N.charCodeAt(E++),T<128?k=k>>>8^r[(k^T)&255]:T<2048?(k=k>>>8^r[(k^(192|T>>6&31))&255],k=k>>>8^r[(k^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,U=N.charCodeAt(E++)&1023,k=k>>>8^r[(k^(240|T>>8&7))&255],k=k>>>8^r[(k^(128|T>>2&63))&255],k=k>>>8^r[(k^(128|U>>6&15|(T&3)<<4))&255],k=k>>>8^r[(k^(128|U&63))&255]):(k=k>>>8^r[(k^(224|T>>12&15))&255],k=k>>>8^r[(k^(128|T>>6&63))&255],k=k>>>8^r[(k^(128|T&63))&255]);return~k}return e.table=r,e.bstr=j,e.buf=w,e.str=S,e}(),Zt=function(){var t={};t.version="1.2.1";function r(X,oe){for(var Q=X.split("/"),ne=oe.split("/"),le=0,de=0,Ae=Math.min(Q.length,ne.length);le<Ae;++le){if(de=Q[le].length-ne[le].length)return de;if(Q[le]!=ne[le])return Q[le]<ne[le]?-1:1}return Q.length-ne.length}function n(X){if(X.charAt(X.length-1)=="/")return X.slice(0,-1).indexOf("/")===-1?X:n(X.slice(0,-1));var oe=X.lastIndexOf("/");return oe===-1?X:X.slice(0,oe+1)}function a(X){if(X.charAt(X.length-1)=="/")return a(X.slice(0,-1));var oe=X.lastIndexOf("/");return oe===-1?X:X.slice(oe+1)}function s(X,oe){typeof oe=="string"&&(oe=new Date(oe));var Q=oe.getHours();Q=Q<<6|oe.getMinutes(),Q=Q<<5|oe.getSeconds()>>>1,X.write_shift(2,Q);var ne=oe.getFullYear()-1980;ne=ne<<4|oe.getMonth()+1,ne=ne<<5|oe.getDate(),X.write_shift(2,ne)}function o(X){var oe=X.read_shift(2)&65535,Q=X.read_shift(2)&65535,ne=new Date,le=Q&31;Q>>>=5;var de=Q&15;Q>>>=4,ne.setMilliseconds(0),ne.setFullYear(Q+1980),ne.setMonth(de-1),ne.setDate(le);var Ae=oe&31;oe>>>=5;var Le=oe&63;return oe>>>=6,ne.setHours(oe),ne.setMinutes(Le),ne.setSeconds(Ae<<1),ne}function l(X){ea(X,0);for(var oe={},Q=0;X.l<=X.length-4;){var ne=X.read_shift(2),le=X.read_shift(2),de=X.l+le,Ae={};switch(ne){case 21589:Q=X.read_shift(1),Q&1&&(Ae.mtime=X.read_shift(4)),le>5&&(Q&2&&(Ae.atime=X.read_shift(4)),Q&4&&(Ae.ctime=X.read_shift(4))),Ae.mtime&&(Ae.mt=new Date(Ae.mtime*1e3));break}X.l=de,oe[ne]=Ae}return oe}var c;function u(){return c||(c={})}function d(X,oe){if(X[0]==80&&X[1]==75)return Yn(X,oe);if((X[0]|32)==109&&(X[1]|32)==105)return Xn(X,oe);if(X.length<512)throw new Error("CFB file size "+X.length+" < 512");var Q=3,ne=512,le=0,de=0,Ae=0,Le=0,Ce=0,Oe=[],De=X.slice(0,512);ea(De,0);var He=f(De);switch(Q=He[0],Q){case 3:ne=512;break;case 4:ne=4096;break;case 0:if(He[1]==0)return Yn(X,oe);default:throw new Error("Major Version: Expected 3 or 4 saw "+Q)}ne!==512&&(De=X.slice(0,ne),ea(De,28));var Ye=X.slice(0,ne);h(De,Q);var Z=De.read_shift(4,"i");if(Q===3&&Z!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Z);De.l+=4,Ae=De.read_shift(4,"i"),De.l+=4,De.chk("00100000","Mini Stream Cutoff Size: "),Le=De.read_shift(4,"i"),le=De.read_shift(4,"i"),Ce=De.read_shift(4,"i"),de=De.read_shift(4,"i");for(var me=-1,Ee=0;Ee<109&&(me=De.read_shift(4,"i"),!(me<0));++Ee)Oe[Ee]=me;var V=m(X,ne);v(Ce,de,V,ne,Oe);var _e=b(V,Ae,Oe,ne);_e[Ae].name="!Directory",le>0&&Le!==U&&(_e[Le].name="!MiniFAT"),_e[Oe[0]].name="!FAT",_e.fat_addrs=Oe,_e.ssz=ne;var Me={},tt=[],qe=[],Je=[];_(Ae,_e,V,tt,le,Me,qe,Le),g(qe,Je,tt),tt.shift();var jr={FileIndex:qe,FullPaths:Je};return oe&&oe.raw&&(jr.raw={header:Ye,sectors:V}),jr}function f(X){if(X[X.l]==80&&X[X.l+1]==75)return[0,0];X.chk(W,"Header Signature: "),X.l+=16;var oe=X.read_shift(2,"u");return[X.read_shift(2,"u"),oe]}function h(X,oe){var Q=9;switch(X.l+=2,Q=X.read_shift(2)){case 9:if(oe!=3)throw new Error("Sector Shift: Expected 9 saw "+Q);break;case 12:if(oe!=4)throw new Error("Sector Shift: Expected 12 saw "+Q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Q)}X.chk("0600","Mini Sector Shift: "),X.chk("000000000000","Reserved: ")}function m(X,oe){for(var Q=Math.ceil(X.length/oe)-1,ne=[],le=1;le<Q;++le)ne[le-1]=X.slice(le*oe,(le+1)*oe);return ne[Q-1]=X.slice(Q*oe),ne}function g(X,oe,Q){for(var ne=0,le=0,de=0,Ae=0,Le=0,Ce=Q.length,Oe=[],De=[];ne<Ce;++ne)Oe[ne]=De[ne]=ne,oe[ne]=Q[ne];for(;Le<De.length;++Le)ne=De[Le],le=X[ne].L,de=X[ne].R,Ae=X[ne].C,Oe[ne]===ne&&(le!==-1&&Oe[le]!==le&&(Oe[ne]=Oe[le]),de!==-1&&Oe[de]!==de&&(Oe[ne]=Oe[de])),Ae!==-1&&(Oe[Ae]=ne),le!==-1&&ne!=Oe[ne]&&(Oe[le]=Oe[ne],De.lastIndexOf(le)<Le&&De.push(le)),de!==-1&&ne!=Oe[ne]&&(Oe[de]=Oe[ne],De.lastIndexOf(de)<Le&&De.push(de));for(ne=1;ne<Ce;++ne)Oe[ne]===ne&&(de!==-1&&Oe[de]!==de?Oe[ne]=Oe[de]:le!==-1&&Oe[le]!==le&&(Oe[ne]=Oe[le]));for(ne=1;ne<Ce;++ne)if(X[ne].type!==0){if(Le=ne,Le!=Oe[Le])do Le=Oe[Le],oe[ne]=oe[Le]+"/"+oe[ne];while(Le!==0&&Oe[Le]!==-1&&Le!=Oe[Le]);Oe[ne]=-1}for(oe[0]+="/",ne=1;ne<Ce;++ne)X[ne].type!==2&&(oe[ne]+="/")}function p(X,oe,Q){for(var ne=X.start,le=X.size,de=[],Ae=ne;Q&&le>0&&Ae>=0;)de.push(oe.slice(Ae*T,Ae*T+T)),le-=T,Ae=md(Q,Ae*4);return de.length===0?An(0):Xc(de).slice(0,X.size)}function v(X,oe,Q,ne,le){var de=U;if(X===U){if(oe!==0)throw new Error("DIFAT chain shorter than expected")}else if(X!==-1){var Ae=Q[X],Le=(ne>>>2)-1;if(!Ae)return;for(var Ce=0;Ce<Le&&(de=md(Ae,Ce*4))!==U;++Ce)le.push(de);v(md(Ae,ne-4),oe-1,Q,ne,le)}}function y(X,oe,Q,ne,le){var de=[],Ae=[];le||(le=[]);var Le=ne-1,Ce=0,Oe=0;for(Ce=oe;Ce>=0;){le[Ce]=!0,de[de.length]=Ce,Ae.push(X[Ce]);var De=Q[Math.floor(Ce*4/ne)];if(Oe=Ce*4&Le,ne<4+Oe)throw new Error("FAT boundary crossed: "+Ce+" 4 "+ne);if(!X[De])break;Ce=md(X[De],Oe)}return{nodes:de,data:e5([Ae])}}function b(X,oe,Q,ne){var le=X.length,de=[],Ae=[],Le=[],Ce=[],Oe=ne-1,De=0,He=0,Ye=0,Z=0;for(De=0;De<le;++De)if(Le=[],Ye=De+oe,Ye>=le&&(Ye-=le),!Ae[Ye]){Ce=[];var me=[];for(He=Ye;He>=0;){me[He]=!0,Ae[He]=!0,Le[Le.length]=He,Ce.push(X[He]);var Ee=Q[Math.floor(He*4/ne)];if(Z=He*4&Oe,ne<4+Z)throw new Error("FAT boundary crossed: "+He+" 4 "+ne);if(!X[Ee]||(He=md(X[Ee],Z),me[He]))break}de[Ye]={nodes:Le,data:e5([Ce])}}return de}function _(X,oe,Q,ne,le,de,Ae,Le){for(var Ce=0,Oe=ne.length?2:0,De=oe[X].data,He=0,Ye=0,Z;He<De.length;He+=128){var me=De.slice(He,He+128);ea(me,64),Ye=me.read_shift(2),Z=XP(me,0,Ye-Oe),ne.push(Z);var Ee={name:Z,type:me.read_shift(1),color:me.read_shift(1),L:me.read_shift(4,"i"),R:me.read_shift(4,"i"),C:me.read_shift(4,"i"),clsid:me.read_shift(16),state:me.read_shift(4,"i"),start:0,size:0},V=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);V!==0&&(Ee.ct=j(me,me.l-8));var _e=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);_e!==0&&(Ee.mt=j(me,me.l-8)),Ee.start=me.read_shift(4,"i"),Ee.size=me.read_shift(4,"i"),Ee.size<0&&Ee.start<0&&(Ee.size=Ee.type=0,Ee.start=U,Ee.name=""),Ee.type===5?(Ce=Ee.start,le>0&&Ce!==U&&(oe[Ce].name="!StreamData")):Ee.size>=4096?(Ee.storage="fat",oe[Ee.start]===void 0&&(oe[Ee.start]=y(Q,Ee.start,oe.fat_addrs,oe.ssz)),oe[Ee.start].name=Ee.name,Ee.content=oe[Ee.start].data.slice(0,Ee.size)):(Ee.storage="minifat",Ee.size<0?Ee.size=0:Ce!==U&&Ee.start!==U&&oe[Ce]&&(Ee.content=p(Ee,oe[Ce].data,(oe[Le]||{}).data))),Ee.content&&ea(Ee.content,0),de[Z]=Ee,Ae.push(Ee)}}function j(X,oe){return new Date((ti(X,oe+4)/1e7*Math.pow(2,32)+ti(X,oe)/1e7-11644473600)*1e3)}function w(X,oe){return u(),d(c.readFileSync(X),oe)}function S(X,oe){var Q=oe&&oe.type;switch(Q||Jt&&Buffer.isBuffer(X)&&(Q="buffer"),Q||"base64"){case"file":return w(X,oe);case"base64":return d(vo(fi(X)),oe);case"binary":return d(vo(X),oe)}return d(X,oe)}function N(X,oe){var Q=oe||{},ne=Q.root||"Root Entry";if(X.FullPaths||(X.FullPaths=[]),X.FileIndex||(X.FileIndex=[]),X.FullPaths.length!==X.FileIndex.length)throw new Error("inconsistent CFB structure");X.FullPaths.length===0&&(X.FullPaths[0]=ne+"/",X.FileIndex[0]={name:ne,type:5}),Q.CLSID&&(X.FileIndex[0].clsid=Q.CLSID),C(X)}function C(X){var oe="Sh33tJ5";if(!Zt.find(X,"/"+oe)){var Q=An(4);Q[0]=55,Q[1]=Q[3]=50,Q[2]=54,X.FileIndex.push({name:oe,type:2,content:Q,size:4,L:69,R:69,C:69}),X.FullPaths.push(X.FullPaths[0]+oe),k(X)}}function k(X,oe){N(X);for(var Q=!1,ne=!1,le=X.FullPaths.length-1;le>=0;--le){var de=X.FileIndex[le];switch(de.type){case 0:ne?Q=!0:(X.FileIndex.pop(),X.FullPaths.pop());break;case 1:case 2:case 5:ne=!0,isNaN(de.R*de.L*de.C)&&(Q=!0),de.R>-1&&de.L>-1&&de.R==de.L&&(Q=!0);break;default:Q=!0;break}}if(!(!Q&&!oe)){var Ae=new Date(1987,1,19),Le=0,Ce=Object.create?Object.create(null):{},Oe=[];for(le=0;le<X.FullPaths.length;++le)Ce[X.FullPaths[le]]=!0,X.FileIndex[le].type!==0&&Oe.push([X.FullPaths[le],X.FileIndex[le]]);for(le=0;le<Oe.length;++le){var De=n(Oe[le][0]);ne=Ce[De],ne||(Oe.push([De,{name:a(De).replace("/",""),type:1,clsid:z,ct:Ae,mt:Ae,content:null}]),Ce[De]=!0)}for(Oe.sort(function(Z,me){return r(Z[0],me[0])}),X.FullPaths=[],X.FileIndex=[],le=0;le<Oe.length;++le)X.FullPaths[le]=Oe[le][0],X.FileIndex[le]=Oe[le][1];for(le=0;le<Oe.length;++le){var He=X.FileIndex[le],Ye=X.FullPaths[le];if(He.name=a(Ye).replace("/",""),He.L=He.R=He.C=-(He.color=1),He.size=He.content?He.content.length:0,He.start=0,He.clsid=He.clsid||z,le===0)He.C=Oe.length>1?1:-1,He.size=0,He.type=5;else if(Ye.slice(-1)=="/"){for(Le=le+1;Le<Oe.length&&n(X.FullPaths[Le])!=Ye;++Le);for(He.C=Le>=Oe.length?-1:Le,Le=le+1;Le<Oe.length&&n(X.FullPaths[Le])!=n(Ye);++Le);He.R=Le>=Oe.length?-1:Le,He.type=1}else n(X.FullPaths[le+1]||"")==n(Ye)&&(He.R=le+1),He.type=2}}}function E(X,oe){var Q=oe||{};if(Q.fileType=="mad")return Hs(X,Q);switch(k(X),Q.fileType){case"zip":return Rl(X,Q)}var ne=function(Z){for(var me=0,Ee=0,V=0;V<Z.FileIndex.length;++V){var _e=Z.FileIndex[V];if(_e.content){var Me=_e.content.length;Me>0&&(Me<4096?me+=Me+63>>6:Ee+=Me+511>>9)}}for(var tt=Z.FullPaths.length+3>>2,qe=me+7>>3,Je=me+127>>7,jr=qe+Ee+tt+Je,ln=jr+127>>7,Gs=ln<=109?0:Math.ceil((ln-109)/127);jr+ln+Gs+127>>7>ln;)Gs=++ln<=109?0:Math.ceil((ln-109)/127);var kn=[1,Gs,ln,Je,tt,Ee,me,0];return Z.FileIndex[0].size=me<<6,kn[7]=(Z.FileIndex[0].start=kn[0]+kn[1]+kn[2]+kn[3]+kn[4]+kn[5])+(kn[6]+7>>3),kn}(X),le=An(ne[7]<<9),de=0,Ae=0;{for(de=0;de<8;++de)le.write_shift(1,R[de]);for(de=0;de<8;++de)le.write_shift(2,0);for(le.write_shift(2,62),le.write_shift(2,3),le.write_shift(2,65534),le.write_shift(2,9),le.write_shift(2,6),de=0;de<3;++de)le.write_shift(2,0);for(le.write_shift(4,0),le.write_shift(4,ne[2]),le.write_shift(4,ne[0]+ne[1]+ne[2]+ne[3]-1),le.write_shift(4,0),le.write_shift(4,4096),le.write_shift(4,ne[3]?ne[0]+ne[1]+ne[2]-1:U),le.write_shift(4,ne[3]),le.write_shift(-4,ne[1]?ne[0]-1:U),le.write_shift(4,ne[1]),de=0;de<109;++de)le.write_shift(-4,de<ne[2]?ne[1]+de:-1)}if(ne[1])for(Ae=0;Ae<ne[1];++Ae){for(;de<236+Ae*127;++de)le.write_shift(-4,de<ne[2]?ne[1]+de:-1);le.write_shift(-4,Ae===ne[1]-1?U:Ae+1)}var Le=function(Z){for(Ae+=Z;de<Ae-1;++de)le.write_shift(-4,de+1);Z&&(++de,le.write_shift(-4,U))};for(Ae=de=0,Ae+=ne[1];de<Ae;++de)le.write_shift(-4,P.DIFSECT);for(Ae+=ne[2];de<Ae;++de)le.write_shift(-4,P.FATSECT);Le(ne[3]),Le(ne[4]);for(var Ce=0,Oe=0,De=X.FileIndex[0];Ce<X.FileIndex.length;++Ce)De=X.FileIndex[Ce],De.content&&(Oe=De.content.length,!(Oe<4096)&&(De.start=Ae,Le(Oe+511>>9)));for(Le(ne[6]+7>>3);le.l&511;)le.write_shift(-4,P.ENDOFCHAIN);for(Ae=de=0,Ce=0;Ce<X.FileIndex.length;++Ce)De=X.FileIndex[Ce],De.content&&(Oe=De.content.length,!(!Oe||Oe>=4096)&&(De.start=Ae,Le(Oe+63>>6)));for(;le.l&511;)le.write_shift(-4,P.ENDOFCHAIN);for(de=0;de<ne[4]<<2;++de){var He=X.FullPaths[de];if(!He||He.length===0){for(Ce=0;Ce<17;++Ce)le.write_shift(4,0);for(Ce=0;Ce<3;++Ce)le.write_shift(4,-1);for(Ce=0;Ce<12;++Ce)le.write_shift(4,0);continue}De=X.FileIndex[de],de===0&&(De.start=De.size?De.start-1:U);var Ye=de===0&&Q.root||De.name;if(Oe=2*(Ye.length+1),le.write_shift(64,Ye,"utf16le"),le.write_shift(2,Oe),le.write_shift(1,De.type),le.write_shift(1,De.color),le.write_shift(-4,De.L),le.write_shift(-4,De.R),le.write_shift(-4,De.C),De.clsid)le.write_shift(16,De.clsid,"hex");else for(Ce=0;Ce<4;++Ce)le.write_shift(4,0);le.write_shift(4,De.state||0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,De.start),le.write_shift(4,De.size),le.write_shift(4,0)}for(de=1;de<X.FileIndex.length;++de)if(De=X.FileIndex[de],De.size>=4096)if(le.l=De.start+1<<9,Jt&&Buffer.isBuffer(De.content))De.content.copy(le,le.l,0,De.size),le.l+=De.size+511&-512;else{for(Ce=0;Ce<De.size;++Ce)le.write_shift(1,De.content[Ce]);for(;Ce&511;++Ce)le.write_shift(1,0)}for(de=1;de<X.FileIndex.length;++de)if(De=X.FileIndex[de],De.size>0&&De.size<4096)if(Jt&&Buffer.isBuffer(De.content))De.content.copy(le,le.l,0,De.size),le.l+=De.size+63&-64;else{for(Ce=0;Ce<De.size;++Ce)le.write_shift(1,De.content[Ce]);for(;Ce&63;++Ce)le.write_shift(1,0)}if(Jt)le.l=le.length;else for(;le.l<le.length;)le.write_shift(1,0);return le}function O(X,oe){var Q=X.FullPaths.map(function(Ce){return Ce.toUpperCase()}),ne=Q.map(function(Ce){var Oe=Ce.split("/");return Oe[Oe.length-(Ce.slice(-1)=="/"?2:1)]}),le=!1;oe.charCodeAt(0)===47?(le=!0,oe=Q[0].slice(0,-1)+oe):le=oe.indexOf("/")!==-1;var de=oe.toUpperCase(),Ae=le===!0?Q.indexOf(de):ne.indexOf(de);if(Ae!==-1)return X.FileIndex[Ae];var Le=!de.match(P0);for(de=de.replace(fs,""),Le&&(de=de.replace(P0,"!")),Ae=0;Ae<Q.length;++Ae)if((Le?Q[Ae].replace(P0,"!"):Q[Ae]).replace(fs,"")==de||(Le?ne[Ae].replace(P0,"!"):ne[Ae]).replace(fs,"")==de)return X.FileIndex[Ae];return null}var T=64,U=-2,W="d0cf11e0a1b11ae1",R=[208,207,17,224,161,177,26,225],z="00000000000000000000000000000000",P={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:W,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function M(X,oe,Q){u();var ne=E(X,Q);c.writeFileSync(oe,ne)}function I(X){for(var oe=new Array(X.length),Q=0;Q<X.length;++Q)oe[Q]=String.fromCharCode(X[Q]);return oe.join("")}function q(X,oe){var Q=E(X,oe);switch(oe&&oe.type||"buffer"){case"file":return u(),c.writeFileSync(oe.filename,Q),Q;case"binary":return typeof Q=="string"?Q:I(Q);case"base64":return ML(typeof Q=="string"?Q:I(Q));case"buffer":if(Jt)return Buffer.isBuffer(Q)?Q:Of(Q);case"array":return typeof Q=="string"?vo(Q):Q}return Q}var J;function A(X){try{var oe=X.InflateRaw,Q=new oe;if(Q._processChunk(new Uint8Array([3,0]),Q._finishFlushFlag),Q.bytesRead)J=X;else throw new Error("zlib does not expose bytesRead")}catch(ne){console.error("cannot use native zlib: "+(ne.message||ne))}}function B(X,oe){if(!J)return fr(X,oe);var Q=J.InflateRaw,ne=new Q,le=ne._processChunk(X.slice(X.l),ne._finishFlushFlag);return X.l+=ne.bytesRead,le}function G(X){return J?J.deflateRawSync(X):we(X)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ue=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ye(X){var oe=(X<<1|X<<11)&139536|(X<<5|X<<15)&558144;return(oe>>16|oe>>8|oe)&255}for(var ie=typeof Uint8Array<"u",Y=ie?new Uint8Array(256):[],L=0;L<256;++L)Y[L]=ye(L);function D(X,oe){var Q=Y[X&255];return oe<=8?Q>>>8-oe:(Q=Q<<8|Y[X>>8&255],oe<=16?Q>>>16-oe:(Q=Q<<8|Y[X>>16&255],Q>>>24-oe))}function se(X,oe){var Q=oe&7,ne=oe>>>3;return(X[ne]|(Q<=6?0:X[ne+1]<<8))>>>Q&3}function be(X,oe){var Q=oe&7,ne=oe>>>3;return(X[ne]|(Q<=5?0:X[ne+1]<<8))>>>Q&7}function ve(X,oe){var Q=oe&7,ne=oe>>>3;return(X[ne]|(Q<=4?0:X[ne+1]<<8))>>>Q&15}function ke(X,oe){var Q=oe&7,ne=oe>>>3;return(X[ne]|(Q<=3?0:X[ne+1]<<8))>>>Q&31}function Se(X,oe){var Q=oe&7,ne=oe>>>3;return(X[ne]|(Q<=1?0:X[ne+1]<<8))>>>Q&127}function Ve(X,oe,Q){var ne=oe&7,le=oe>>>3,de=(1<<Q)-1,Ae=X[le]>>>ne;return Q<8-ne||(Ae|=X[le+1]<<8-ne,Q<16-ne)||(Ae|=X[le+2]<<16-ne,Q<24-ne)||(Ae|=X[le+3]<<24-ne),Ae&de}function dt(X,oe,Q){var ne=oe&7,le=oe>>>3;return ne<=5?X[le]|=(Q&7)<<ne:(X[le]|=Q<<ne&255,X[le+1]=(Q&7)>>8-ne),oe+3}function ae(X,oe,Q){var ne=oe&7,le=oe>>>3;return Q=(Q&1)<<ne,X[le]|=Q,oe+1}function pe(X,oe,Q){var ne=oe&7,le=oe>>>3;return Q<<=ne,X[le]|=Q&255,Q>>>=8,X[le+1]=Q,oe+8}function te(X,oe,Q){var ne=oe&7,le=oe>>>3;return Q<<=ne,X[le]|=Q&255,Q>>>=8,X[le+1]=Q&255,X[le+2]=Q>>>8,oe+16}function re(X,oe){var Q=X.length,ne=2*Q>oe?2*Q:oe+5,le=0;if(Q>=oe)return X;if(Jt){var de=IL(ne);if(X.copy)X.copy(de);else for(;le<X.length;++le)de[le]=X[le];return de}else if(ie){var Ae=new Uint8Array(ne);if(Ae.set)Ae.set(X);else for(;le<Q;++le)Ae[le]=X[le];return Ae}return X.length=ne,X}function he(X){for(var oe=new Array(X),Q=0;Q<X;++Q)oe[Q]=0;return oe}function Pe(X,oe,Q){var ne=1,le=0,de=0,Ae=0,Le=0,Ce=X.length,Oe=ie?new Uint16Array(32):he(32);for(de=0;de<32;++de)Oe[de]=0;for(de=Ce;de<Q;++de)X[de]=0;Ce=X.length;var De=ie?new Uint16Array(Ce):he(Ce);for(de=0;de<Ce;++de)Oe[le=X[de]]++,ne<le&&(ne=le),De[de]=0;for(Oe[0]=0,de=1;de<=ne;++de)Oe[de+16]=Le=Le+Oe[de-1]<<1;for(de=0;de<Ce;++de)Le=X[de],Le!=0&&(De[de]=Oe[Le+16]++);var He=0;for(de=0;de<Ce;++de)if(He=X[de],He!=0)for(Le=D(De[de],ne)>>ne-He,Ae=(1<<ne+4-He)-1;Ae>=0;--Ae)oe[Le|Ae<<He]=He&15|de<<4;return ne}var Re=ie?new Uint16Array(512):he(512),et=ie?new Uint16Array(32):he(32);if(!ie){for(var rt=0;rt<512;++rt)Re[rt]=0;for(rt=0;rt<32;++rt)et[rt]=0}(function(){for(var X=[],oe=0;oe<32;oe++)X.push(5);Pe(X,et,32);var Q=[];for(oe=0;oe<=143;oe++)Q.push(8);for(;oe<=255;oe++)Q.push(9);for(;oe<=279;oe++)Q.push(7);for(;oe<=287;oe++)Q.push(8);Pe(Q,Re,288)})();var jt=function(){for(var oe=ie?new Uint8Array(32768):[],Q=0,ne=0;Q<ue.length-1;++Q)for(;ne<ue[Q+1];++ne)oe[ne]=Q;for(;ne<32768;++ne)oe[ne]=29;var le=ie?new Uint8Array(259):[];for(Q=0,ne=0;Q<ee.length-1;++Q)for(;ne<ee[Q+1];++ne)le[ne]=Q;function de(Le,Ce){for(var Oe=0;Oe<Le.length;){var De=Math.min(65535,Le.length-Oe),He=Oe+De==Le.length;for(Ce.write_shift(1,+He),Ce.write_shift(2,De),Ce.write_shift(2,~De&65535);De-- >0;)Ce[Ce.l++]=Le[Oe++]}return Ce.l}function Ae(Le,Ce){for(var Oe=0,De=0,He=ie?new Uint16Array(32768):[];De<Le.length;){var Ye=Math.min(65535,Le.length-De);if(Ye<10){for(Oe=dt(Ce,Oe,+(De+Ye==Le.length)),Oe&7&&(Oe+=8-(Oe&7)),Ce.l=Oe/8|0,Ce.write_shift(2,Ye),Ce.write_shift(2,~Ye&65535);Ye-- >0;)Ce[Ce.l++]=Le[De++];Oe=Ce.l*8;continue}Oe=dt(Ce,Oe,+(De+Ye==Le.length)+2);for(var Z=0;Ye-- >0;){var me=Le[De];Z=(Z<<5^me)&32767;var Ee=-1,V=0;if((Ee=He[Z])&&(Ee|=De&-32768,Ee>De&&(Ee-=32768),Ee<De))for(;Le[Ee+V]==Le[De+V]&&V<250;)++V;if(V>2){me=le[V],me<=22?Oe=pe(Ce,Oe,Y[me+1]>>1)-1:(pe(Ce,Oe,3),Oe+=5,pe(Ce,Oe,Y[me-23]>>5),Oe+=3);var _e=me<8?0:me-4>>2;_e>0&&(te(Ce,Oe,V-ee[me]),Oe+=_e),me=oe[De-Ee],Oe=pe(Ce,Oe,Y[me]>>3),Oe-=3;var Me=me<4?0:me-2>>1;Me>0&&(te(Ce,Oe,De-Ee-ue[me]),Oe+=Me);for(var tt=0;tt<V;++tt)He[Z]=De&32767,Z=(Z<<5^Le[De])&32767,++De;Ye-=V-1}else me<=143?me=me+48:Oe=ae(Ce,Oe,1),Oe=pe(Ce,Oe,Y[me]),He[Z]=De&32767,++De}Oe=pe(Ce,Oe,0)-1}return Ce.l=(Oe+7)/8|0,Ce.l}return function(Ce,Oe){return Ce.length<8?de(Ce,Oe):Ae(Ce,Oe)}}();function we(X){var oe=An(50+Math.floor(X.length*1.1)),Q=jt(X,oe);return oe.slice(0,Q)}var Be=ie?new Uint16Array(32768):he(32768),We=ie?new Uint16Array(32768):he(32768),Qe=ie?new Uint16Array(128):he(128),Ct=1,Vt=1;function Wt(X,oe){var Q=ke(X,oe)+257;oe+=5;var ne=ke(X,oe)+1;oe+=5;var le=ve(X,oe)+4;oe+=4;for(var de=0,Ae=ie?new Uint8Array(19):he(19),Le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ce=1,Oe=ie?new Uint8Array(8):he(8),De=ie?new Uint8Array(8):he(8),He=Ae.length,Ye=0;Ye<le;++Ye)Ae[H[Ye]]=de=be(X,oe),Ce<de&&(Ce=de),Oe[de]++,oe+=3;var Z=0;for(Oe[0]=0,Ye=1;Ye<=Ce;++Ye)De[Ye]=Z=Z+Oe[Ye-1]<<1;for(Ye=0;Ye<He;++Ye)(Z=Ae[Ye])!=0&&(Le[Ye]=De[Z]++);var me=0;for(Ye=0;Ye<He;++Ye)if(me=Ae[Ye],me!=0){Z=Y[Le[Ye]]>>8-me;for(var Ee=(1<<7-me)-1;Ee>=0;--Ee)Qe[Z|Ee<<me]=me&7|Ye<<3}var V=[];for(Ce=1;V.length<Q+ne;)switch(Z=Qe[Se(X,oe)],oe+=Z&7,Z>>>=3){case 16:for(de=3+se(X,oe),oe+=2,Z=V[V.length-1];de-- >0;)V.push(Z);break;case 17:for(de=3+be(X,oe),oe+=3;de-- >0;)V.push(0);break;case 18:for(de=11+Se(X,oe),oe+=7;de-- >0;)V.push(0);break;default:V.push(Z),Ce<Z&&(Ce=Z);break}var _e=V.slice(0,Q),Me=V.slice(Q);for(Ye=Q;Ye<286;++Ye)_e[Ye]=0;for(Ye=ne;Ye<30;++Ye)Me[Ye]=0;return Ct=Pe(_e,Be,286),Vt=Pe(Me,We,30),oe}function cr(X,oe){if(X[0]==3&&!(X[1]&3))return[Fu(oe),2];for(var Q=0,ne=0,le=IL(oe||1<<18),de=0,Ae=le.length>>>0,Le=0,Ce=0;!(ne&1);){if(ne=be(X,Q),Q+=3,ne>>>1)ne>>1==1?(Le=9,Ce=5):(Q=Wt(X,Q),Le=Ct,Ce=Vt);else{Q&7&&(Q+=8-(Q&7));var Oe=X[Q>>>3]|X[(Q>>>3)+1]<<8;if(Q+=32,Oe>0)for(!oe&&Ae<de+Oe&&(le=re(le,de+Oe),Ae=le.length);Oe-- >0;)le[de++]=X[Q>>>3],Q+=8;continue}for(;;){!oe&&Ae<de+32767&&(le=re(le,de+32767),Ae=le.length);var De=Ve(X,Q,Le),He=ne>>>1==1?Re[De]:Be[De];if(Q+=He&15,He>>>=4,!(He>>>8&255))le[de++]=He;else{if(He==256)break;He-=257;var Ye=He<8?0:He-4>>2;Ye>5&&(Ye=0);var Z=de+ee[He];Ye>0&&(Z+=Ve(X,Q,Ye),Q+=Ye),De=Ve(X,Q,Ce),He=ne>>>1==1?et[De]:We[De],Q+=He&15,He>>>=4;var me=He<4?0:He-2>>1,Ee=ue[He];for(me>0&&(Ee+=Ve(X,Q,me),Q+=me),!oe&&Ae<Z&&(le=re(le,Z+100),Ae=le.length);de<Z;)le[de]=le[de-Ee],++de}}}return oe?[le,Q+7>>>3]:[le.slice(0,de),Q+7>>>3]}function fr(X,oe){var Q=X.slice(X.l||0),ne=cr(Q,oe);return X.l+=ne[1],ne[0]}function on(X,oe){if(X)typeof console<"u"&&console.error(oe);else throw new Error(oe)}function Yn(X,oe){var Q=X;ea(Q,0);var ne=[],le=[],de={FileIndex:ne,FullPaths:le};N(de,{root:oe.root});for(var Ae=Q.length-4;(Q[Ae]!=80||Q[Ae+1]!=75||Q[Ae+2]!=5||Q[Ae+3]!=6)&&Ae>=0;)--Ae;Q.l=Ae+4,Q.l+=4;var Le=Q.read_shift(2);Q.l+=6;var Ce=Q.read_shift(4);for(Q.l=Ce,Ae=0;Ae<Le;++Ae){Q.l+=20;var Oe=Q.read_shift(4),De=Q.read_shift(4),He=Q.read_shift(2),Ye=Q.read_shift(2),Z=Q.read_shift(2);Q.l+=8;var me=Q.read_shift(4),Ee=l(Q.slice(Q.l+He,Q.l+He+Ye));Q.l+=He+Ye+Z;var V=Q.l;Q.l=me+4,vi(Q,Oe,De,de,Ee),Q.l=V}return de}function vi(X,oe,Q,ne,le){X.l+=2;var de=X.read_shift(2),Ae=X.read_shift(2),Le=o(X);if(de&8257)throw new Error("Unsupported ZIP encryption");for(var Ce=X.read_shift(4),Oe=X.read_shift(4),De=X.read_shift(4),He=X.read_shift(2),Ye=X.read_shift(2),Z="",me=0;me<He;++me)Z+=String.fromCharCode(X[X.l++]);if(Ye){var Ee=l(X.slice(X.l,X.l+Ye));(Ee[21589]||{}).mt&&(Le=Ee[21589].mt),((le||{})[21589]||{}).mt&&(Le=le[21589].mt)}X.l+=Ye;var V=X.slice(X.l,X.l+Oe);switch(Ae){case 8:V=B(X,De);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ae)}var _e=!1;de&8&&(Ce=X.read_shift(4),Ce==134695760&&(Ce=X.read_shift(4),_e=!0),Oe=X.read_shift(4),De=X.read_shift(4)),Oe!=oe&&on(_e,"Bad compressed size: "+oe+" != "+Oe),De!=Q&&on(_e,"Bad uncompressed size: "+Q+" != "+De),Rr(ne,Z,V,{unsafe:!0,mt:Le})}function Rl(X,oe){var Q=oe||{},ne=[],le=[],de=An(1),Ae=Q.compression?8:0,Le=0,Ce=0,Oe=0,De=0,He=0,Ye=X.FullPaths[0],Z=Ye,me=X.FileIndex[0],Ee=[],V=0;for(Ce=1;Ce<X.FullPaths.length;++Ce)if(Z=X.FullPaths[Ce].slice(Ye.length),me=X.FileIndex[Ce],!(!me.size||!me.content||Z=="Sh33tJ5")){var _e=De,Me=An(Z.length);for(Oe=0;Oe<Z.length;++Oe)Me.write_shift(1,Z.charCodeAt(Oe)&127);Me=Me.slice(0,Me.l),Ee[He]=_$e.buf(me.content,0);var tt=me.content;Ae==8&&(tt=G(tt)),de=An(30),de.write_shift(4,67324752),de.write_shift(2,20),de.write_shift(2,Le),de.write_shift(2,Ae),me.mt?s(de,me.mt):de.write_shift(4,0),de.write_shift(-4,Ee[He]),de.write_shift(4,tt.length),de.write_shift(4,me.content.length),de.write_shift(2,Me.length),de.write_shift(2,0),De+=de.length,ne.push(de),De+=Me.length,ne.push(Me),De+=tt.length,ne.push(tt),de=An(46),de.write_shift(4,33639248),de.write_shift(2,0),de.write_shift(2,20),de.write_shift(2,Le),de.write_shift(2,Ae),de.write_shift(4,0),de.write_shift(-4,Ee[He]),de.write_shift(4,tt.length),de.write_shift(4,me.content.length),de.write_shift(2,Me.length),de.write_shift(2,0),de.write_shift(2,0),de.write_shift(2,0),de.write_shift(2,0),de.write_shift(4,0),de.write_shift(4,_e),V+=de.l,le.push(de),V+=Me.length,le.push(Me),++He}return de=An(22),de.write_shift(4,101010256),de.write_shift(2,0),de.write_shift(2,0),de.write_shift(2,He),de.write_shift(2,He),de.write_shift(4,V),de.write_shift(4,De),de.write_shift(2,0),Xc([Xc(ne),Xc(le),de])}var Ws={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function wr(X,oe){if(X.ctype)return X.ctype;var Q=X.name||"",ne=Q.match(/\.([^\.]+)$/);return ne&&Ws[ne[1]]||oe&&(ne=(Q=oe).match(/[\.\\]([^\.\\])+$/),ne&&Ws[ne[1]])?Ws[ne[1]]:"application/octet-stream"}function Nn(X){for(var oe=ML(X),Q=[],ne=0;ne<oe.length;ne+=76)Q.push(oe.slice(ne,ne+76));return Q.join(`\r
`)+`\r
`}function xi(X){var oe=X.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Oe){var De=Oe.charCodeAt(0).toString(16).toUpperCase();return"="+(De.length==1?"0"+De:De)});oe=oe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),oe.charAt(0)==`
`&&(oe="=0D"+oe.slice(1)),oe=oe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Q=[],ne=oe.split(`\r
`),le=0;le<ne.length;++le){var de=ne[le];if(de.length==0){Q.push("");continue}for(var Ae=0;Ae<de.length;){var Le=76,Ce=de.slice(Ae,Ae+Le);Ce.charAt(Le-1)=="="?Le--:Ce.charAt(Le-2)=="="?Le-=2:Ce.charAt(Le-3)=="="&&(Le-=3),Ce=de.slice(Ae,Ae+Le),Ae+=Le,Ae<de.length&&(Ce+="="),Q.push(Ce)}}return Q.join(`\r
`)}function Qi(X){for(var oe=[],Q=0;Q<X.length;++Q){for(var ne=X[Q];Q<=X.length&&ne.charAt(ne.length-1)=="=";)ne=ne.slice(0,ne.length-1)+X[++Q];oe.push(ne)}for(var le=0;le<oe.length;++le)oe[le]=oe[le].replace(/[=][0-9A-Fa-f]{2}/g,function(de){return String.fromCharCode(parseInt(de.slice(1),16))});return vo(oe.join(`\r
`))}function ys(X,oe,Q){for(var ne="",le="",de="",Ae,Le=0;Le<10;++Le){var Ce=oe[Le];if(!Ce||Ce.match(/^\s*$/))break;var Oe=Ce.match(/^(.*?):\s*([^\s].*)$/);if(Oe)switch(Oe[1].toLowerCase()){case"content-location":ne=Oe[2].trim();break;case"content-type":de=Oe[2].trim();break;case"content-transfer-encoding":le=Oe[2].trim();break}}switch(++Le,le.toLowerCase()){case"base64":Ae=vo(fi(oe.slice(Le).join("")));break;case"quoted-printable":Ae=Qi(oe.slice(Le));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+le)}var De=Rr(X,ne.slice(Q.length),Ae,{unsafe:!0});de&&(De.ctype=de)}function Xn(X,oe){if(I(X.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Q=oe&&oe.root||"",ne=(Jt&&Buffer.isBuffer(X)?X.toString("binary"):I(X)).split(`\r
`),le=0,de="";for(le=0;le<ne.length;++le)if(de=ne[le],!!/^Content-Location:/i.test(de)&&(de=de.slice(de.indexOf("file")),Q||(Q=de.slice(0,de.lastIndexOf("/")+1)),de.slice(0,Q.length)!=Q))for(;Q.length>0&&(Q=Q.slice(0,Q.length-1),Q=Q.slice(0,Q.lastIndexOf("/")+1),de.slice(0,Q.length)!=Q););var Ae=(ne[1]||"").match(/boundary="(.*?)"/);if(!Ae)throw new Error("MAD cannot find boundary");var Le="--"+(Ae[1]||""),Ce=[],Oe=[],De={FileIndex:Ce,FullPaths:Oe};N(De);var He,Ye=0;for(le=0;le<ne.length;++le){var Z=ne[le];Z!==Le&&Z!==Le+"--"||(Ye++&&ys(De,ne.slice(He,le),Q),He=le)}return De}function Hs(X,oe){var Q=oe||{},ne=Q.boundary||"SheetJS";ne="------="+ne;for(var le=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ne.slice(2)+'"',"","",""],de=X.FullPaths[0],Ae=de,Le=X.FileIndex[0],Ce=1;Ce<X.FullPaths.length;++Ce)if(Ae=X.FullPaths[Ce].slice(de.length),Le=X.FileIndex[Ce],!(!Le.size||!Le.content||Ae=="Sh33tJ5")){Ae=Ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(V){return"_x"+V.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(V){return"_u"+V.charCodeAt(0).toString(16)+"_"});for(var Oe=Le.content,De=Jt&&Buffer.isBuffer(Oe)?Oe.toString("binary"):I(Oe),He=0,Ye=Math.min(1024,De.length),Z=0,me=0;me<=Ye;++me)(Z=De.charCodeAt(me))>=32&&Z<128&&++He;var Ee=He>=Ye*4/5;le.push(ne),le.push("Content-Location: "+(Q.root||"file:///C:/SheetJS/")+Ae),le.push("Content-Transfer-Encoding: "+(Ee?"quoted-printable":"base64")),le.push("Content-Type: "+wr(Le,Ae)),le.push(""),le.push(Ee?xi(De):Nn(De))}return le.push(ne+`--\r
`),le.join(`\r
`)}function qs(X){var oe={};return N(oe,X),oe}function Rr(X,oe,Q,ne){var le=ne&&ne.unsafe;le||N(X);var de=!le&&Zt.find(X,oe);if(!de){var Ae=X.FullPaths[0];oe.slice(0,Ae.length)==Ae?Ae=oe:(Ae.slice(-1)!="/"&&(Ae+="/"),Ae=(Ae+oe).replace("//","/")),de={name:a(oe),type:2},X.FileIndex.push(de),X.FullPaths.push(Ae),le||Zt.utils.cfb_gc(X)}return de.content=Q,de.size=Q?Q.length:0,ne&&(ne.CLSID&&(de.clsid=ne.CLSID),ne.mt&&(de.mt=ne.mt),ne.ct&&(de.ct=ne.ct)),de}function yi(X,oe){N(X);var Q=Zt.find(X,oe);if(Q){for(var ne=0;ne<X.FileIndex.length;++ne)if(X.FileIndex[ne]==Q)return X.FileIndex.splice(ne,1),X.FullPaths.splice(ne,1),!0}return!1}function ua(X,oe,Q){N(X);var ne=Zt.find(X,oe);if(ne){for(var le=0;le<X.FileIndex.length;++le)if(X.FileIndex[le]==ne)return X.FileIndex[le].name=a(Q),X.FullPaths[le]=Q,!0}return!1}function da(X){k(X,!0)}return t.find=O,t.read=S,t.parse=d,t.write=q,t.writeFile=M,t.utils={cfb_new:qs,cfb_add:Rr,cfb_del:yi,cfb_mov:ua,cfb_gc:da,ReadShift:rg,CheckField:yK,prep_blob:ea,bconcat:Xc,use_zlib:A,_deflateRaw:we,_inflateRaw:fr,consts:P},t}();function w$e(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Nl(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function qP(e){for(var t=[],r=Nl(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var i_=new Date(1899,11,30,0,0,0);function ms(e,t){var r=e.getTime(),n=i_.getTime()+(e.getTimezoneOffset()-i_.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var JG=new Date,j$e=i_.getTime()+(JG.getTimezoneOffset()-i_.getTimezoneOffset())*6e4,HL=JG.getTimezoneOffset();function gj(e){var t=new Date;return t.setTime(e*24*60*60*1e3+j$e),t.getTimezoneOffset()!==HL&&t.setTime(t.getTime()+(t.getTimezoneOffset()-HL)*6e4),t}function S$e(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var qL=new Date("2017-02-19T19:06:09.000Z"),ZG=isNaN(qL.getFullYear())?new Date("2/19/17"):qL,N$e=ZG.getFullYear()==2017;function Gn(e,t){var r=new Date(e);if(N$e)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(ZG.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function vf(e,t){if(Jt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return D0(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return D0($G(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return D0(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return D0(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function aa(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=aa(e[r]));return t}function en(e,t){for(var r="";r.length<t;)r+=e;return r}function No(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var k$e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Jm(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&k$e.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var C$e=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),o=[s[0]],l=1;l<s.length;++l)o.push(a),o.push(s[l]);return o}}();function eK(e){return e?e.content&&e.type?vf(e.content,!0):e.data?A0(e.data):e.asNodeBuffer&&Jt?A0(e.asNodeBuffer().toString("binary")):e.asBinary?A0(e.asBinary()):e._data&&e._data.getContent?A0(vf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function tK(e){if(!e)return null;if(e.data)return RL(e.data);if(e.asNodeBuffer&&Jt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?RL(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function E$e(e){return e&&e.name.slice(-4)===".bin"?tK(e):eK(e)}function ki(e,t){for(var r=e.FullPaths||Nl(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var o=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function GP(e,t){var r=ki(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function xn(e,t,r){if(!r)return E$e(GP(e,t));if(!t)return null;try{return xn(e,t)}catch{return null}}function ni(e,t,r){if(!r)return eK(GP(e,t));if(!t)return null;try{return ni(e,t)}catch{return null}}function T$e(e,t,r){return tK(GP(e,t))}function GL(e){for(var t=e.FullPaths||Nl(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function A$e(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Jt?n=Of(r):n=Y5e(r),Zt.utils.cfb_add(e,t,n)}Zt.utils.cfb_add(e,t,r)}else e.file(t,r)}function rK(e,t){switch(t.type){case"base64":return Zt.read(e,{type:"base64"});case"binary":return Zt.read(e,{type:"binary"});case"buffer":case"array":return Zt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function O0(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var nK=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,P$e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,KL=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,O$e=/<[^>]*>/g,Ba=nK.match(KL)?KL:O$e,D$e=/<\w*:/,R$e=/<(\/?)\w+:/;function kt(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(P$e),l=0,c="",u=0,d="",f="",h=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,c=f.slice(s+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var m=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[m]&&d.slice(l-3,l)=="ext")continue;n[m]=c,n[m.toLowerCase()]=c}}return n}function Ol(e){return e.replace(R$e,"<$1")}var aK={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},F$e=qP(aK),nr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(l,c){return aK[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,o)+r(a.slice(o+3))}}(),M$e=/[&<>'"]/g,I$e=/[\u0000-\u001f]/g;function KP(e){var t=e+"";return t.replace(M$e,function(r){return F$e[r]}).replace(/\n/g,"<br/>").replace(I$e,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var YL=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Ur(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function pN(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function XL(e){var t=Fu(2*e.length),r,n,a=1,s=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function QL(e){return Of(e,"binary").toString("utf8")}var Ny="foo bar baz",Or=Jt&&(QL(Ny)==pN(Ny)&&QL||XL(Ny)==pN(Ny)&&XL)||pN,D0=Jt?function(e){return Of(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Nv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),sK=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),L$e=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),$$e=/<\/?(?:vt:)?variant>/g,B$e=/<(?:vt:)([^>]*)>([\s\S]*)</;function JL(e,t){var r=kt(e),n=e.match(L$e(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var o=s.replace($$e,"").match(B$e);o&&a.push({v:Or(o[2]),t:o[1]})}),a}var U$e=/(^\s|\s$|\n)/;function z$e(e){return Nl(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function V$e(e,t,r){return"<"+e+(r!=null?z$e(r):"")+(t!=null?(t.match(U$e)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function YP(e){if(Jt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Or(Df(VP(e)));throw new Error("Bad input format: expected Buffer or string")}var kv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,W$e={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},H$e=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function q$e(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function G$e(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,o=n?-t:t;isFinite(o)?o==0?a=s=0:(a=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var ZL=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},e5=Jt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Of(t)})):ZL(e)}:ZL,t5=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(ec(e,a)));return n.join("").replace(fs,"")},XP=Jt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(fs,""):t5(e,t,r)}:t5,r5=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},iK=Jt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):r5(e,t,r)}:r5,n5=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(th(e,a)));return n.join("")},_x=Jt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):n5(t,r,n)}:n5,oK=function(e,t){var r=ti(e,t);return r>0?_x(e,t+4,t+4+r-1):""},lK=oK,cK=function(e,t){var r=ti(e,t);return r>0?_x(e,t+4,t+4+r-1):""},uK=cK,dK=function(e,t){var r=2*ti(e,t);return r>0?_x(e,t+4,t+4+r-1):""},fK=dK,hK=function(t,r){var n=ti(t,r);return n>0?XP(t,r+4,r+4+n):""},mK=hK,pK=function(e,t){var r=ti(e,t);return r>0?_x(e,t+4,t+4+r):""},gK=pK,vK=function(e,t){return q$e(e,t)},o_=vK,xK=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Jt&&(lK=function(t,r){if(!Buffer.isBuffer(t))return oK(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},uK=function(t,r){if(!Buffer.isBuffer(t))return cK(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},fK=function(t,r){if(!Buffer.isBuffer(t))return dK(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},mK=function(t,r){if(!Buffer.isBuffer(t))return hK(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},gK=function(t,r){if(!Buffer.isBuffer(t))return pK(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},o_=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):vK(t,r)},xK=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var th=function(e,t){return e[t]},ec=function(e,t){return e[t+1]*256+e[t]},K$e=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ti=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},md=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Y$e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function rg(e,t){var r="",n,a,s=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Jt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(ec(this,u)),u+=2;e*=2;break;case"utf8":r=_x(this,this.l,this.l+e);break;case"utf16le":e*=2,r=XP(this,this.l,this.l+e);break;case"wstr":return rg.call(this,e,"dbcs");case"lpstr-ansi":r=lK(this,this.l),e=4+ti(this,this.l);break;case"lpstr-cp":r=uK(this,this.l),e=4+ti(this,this.l);break;case"lpwstr":r=fK(this,this.l),e=4+2*ti(this,this.l);break;case"lpp4":e=4+ti(this,this.l),r=mK(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ti(this,this.l),r=gK(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=th(this,this.l+e++))!==0;)s.push(Sy(o));r=s.join("");break;case"_wstr":for(e=0,r="";(o=ec(this,this.l+e))!==0;)s.push(Sy(o)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=th(this,u),this.l=u+1,l=rg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(Sy(ec(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=th(this,u),this.l=u+1,l=rg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(Sy(th(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=th(this,this.l),this.l++,n;case 2:return n=(t==="i"?K$e:ec)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?md:Y$e)(this,this.l),this.l+=4,n):(a=ti(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=o_(this,this.l):a=o_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=iK(this,this.l,e);break}}return this.l+=e,r}var X$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Q$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},J$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Z$e(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)J$e(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,X$e(this,t,this.l);break;case 8:if(n=8,r==="f"){G$e(this,t,this.l);break}case 16:break;case-4:n=4,Q$e(this,t,this.l);break}return this.l+=n,this}function yK(e,t){var r=iK(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ea(e,t){e.l=t,e.read_shift=rg,e.chk=yK,e.write_shift=Z$e}function Ia(e,t){e.l+=t}function An(e){var t=Fu(e);return ea(t,0),t}function Ec(e,t,r){if(e){var n,a,s;ea(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=h_[l]||h_[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;c=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=c,t(d,u,l))return}}}function GC(){var e=[],t=Jt?256:2048,r=function(u){var d=An(u);return ea(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),Xc(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:o,_bufs:e}}function ng(e,t,r){var n=aa(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function a5(e,t,r){var n=aa(e);return n.s=ng(n.s,t.s,r),n.e=ng(n.e,t.s,r),n}function ag(e,t){if(e.cRel&&e.c<0)for(e=aa(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=aa(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Ot(e);return!e.cRel&&e.cRel!=null&&(r=r8e(r)),!e.rRel&&e.rRel!=null&&(r=e8e(r)),r}function gN(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Fn(e.s.c)+":"+(e.e.cRel?"":"$")+Fn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+sa(e.s.r)+":"+(e.e.rRel?"":"$")+sa(e.e.r):ag(e.s,t.biff)+":"+ag(e.e,t.biff)}function QP(e){return parseInt(t8e(e),10)-1}function sa(e){return""+(e+1)}function e8e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function t8e(e){return e.replace(/\$(\d+)$/,"$1")}function JP(e){for(var t=n8e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Fn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function r8e(e){return e.replace(/^([A-Z])/,"$$$1")}function n8e(e){return e.replace(/^\$([A-Z])/,"$1")}function a8e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function cs(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Ot(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Mp(e){var t=e.indexOf(":");return t==-1?{s:cs(e),e:cs(e)}:{s:cs(e.slice(0,t)),e:cs(e.slice(t+1))}}function er(e,t){return typeof t>"u"||typeof t=="number"?er(e.s,e.e):(typeof e!="string"&&(e=Ot(e)),typeof t!="string"&&(t=Ot(t)),e==t?e:e+":"+t)}function sn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function s5(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Hi(e.z,r?ms(t):t)}catch{}try{return e.w=Hi((e.XF||{}).numFmtId||(r?14:0),r?ms(t):t)}catch{return""+t}}function _c(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Mf[e.v]||e.v:t==null?s5(e,e.v):s5(e,t))}function Ju(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function bK(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),o=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?cs(n.origin):n.origin;o=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=sn(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},g=o+f,p=l+h;if(u.s.r>g&&(u.s.r=g),u.s.c>p&&(u.s.c=p),u.e.r<g&&(u.e.r=g),u.e.c<p&&(u.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||It[14],n.cellDates?(m.t="d",m.w=Hi(m.z,ms(m.v))):(m.t="n",m.v=ms(m.v),m.w=Hi(m.z,m.v))):m.t="s";if(a)s[g]||(s[g]=[]),s[g][p]&&s[g][p].z&&(m.z=s[g][p].z),s[g][p]=m;else{var v=Ot({c:p,r:g});s[v]&&s[v].z&&(m.z=s[v].z),s[v]=m}}}return u.s.c<1e7&&(s["!ref"]=er(u)),s}function Ip(e,t){return bK(null,e,t)}function s8e(e){return e.read_shift(4,"i")}function Ea(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function i8e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function ZP(e,t){var r=e.l,n=e.read_shift(1),a=Ea(e),s=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(i8e(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}var o8e=ZP;function Yi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Rf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var l8e=Ea;function eO(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var c8e=Ea,KC=eO;function tO(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?o_([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):md(t,0)>>2;return r?a/100:a}function _K(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Ff=_K;function Na(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function u8e(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Hd[a];u&&(t.rgb=Ev(u));break;case 2:t.rgb=Ev([o,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function d8e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function wK(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function f8e(e){return wK(e,1)}function h8e(e){return wK(e,2)}var rO=2,Ss=3,ky=11,i5=12,l_=19,Cy=64,m8e=65,p8e=71,g8e=4108,v8e=4126,Un=80,jK=81,x8e=[Un,jK],y8e={1:{n:"CodePage",t:rO},2:{n:"Category",t:Un},3:{n:"PresentationFormat",t:Un},4:{n:"ByteCount",t:Ss},5:{n:"LineCount",t:Ss},6:{n:"ParagraphCount",t:Ss},7:{n:"SlideCount",t:Ss},8:{n:"NoteCount",t:Ss},9:{n:"HiddenCount",t:Ss},10:{n:"MultimediaClipCount",t:Ss},11:{n:"ScaleCrop",t:ky},12:{n:"HeadingPairs",t:g8e},13:{n:"TitlesOfParts",t:v8e},14:{n:"Manager",t:Un},15:{n:"Company",t:Un},16:{n:"LinksUpToDate",t:ky},17:{n:"CharacterCount",t:Ss},19:{n:"SharedDoc",t:ky},22:{n:"HyperlinksChanged",t:ky},23:{n:"AppVersion",t:Ss,p:"version"},24:{n:"DigSig",t:m8e},26:{n:"ContentType",t:Un},27:{n:"ContentStatus",t:Un},28:{n:"Language",t:Un},29:{n:"Version",t:Un},255:{},2147483648:{n:"Locale",t:l_},2147483651:{n:"Behavior",t:l_},1919054434:{}},b8e={1:{n:"CodePage",t:rO},2:{n:"Title",t:Un},3:{n:"Subject",t:Un},4:{n:"Author",t:Un},5:{n:"Keywords",t:Un},6:{n:"Comments",t:Un},7:{n:"Template",t:Un},8:{n:"LastAuthor",t:Un},9:{n:"RevNumber",t:Un},10:{n:"EditTime",t:Cy},11:{n:"LastPrinted",t:Cy},12:{n:"CreatedDate",t:Cy},13:{n:"ModifiedDate",t:Cy},14:{n:"PageCount",t:Ss},15:{n:"WordCount",t:Ss},16:{n:"CharCount",t:Ss},17:{n:"Thumbnail",t:p8e},18:{n:"Application",t:Un},19:{n:"DocSecurity",t:Ss},255:{},2147483648:{n:"Locale",t:l_},2147483651:{n:"Behavior",t:l_},1919054434:{}},o5={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},_8e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function w8e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var j8e=w8e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Hd=aa(j8e),Mf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},SK={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},l5={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function S8e(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function N8e(e){var t=S8e();if(!e||!e.match)return t;var r={};if((e.match(Ba)||[]).forEach(function(n){var a=kt(n);switch(a[0].replace(D$e,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[l5[a.ContentType]]!==void 0&&t[l5[a.ContentType]].push(a.PartName);break}}),t.xmlns!==W$e.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var kh={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function YC(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function sg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ba)||[]).forEach(function(a){var s=kt(a);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:O0(s.Target,t);r[l]=o,n[s.Id]=o}}),r["!id"]=n,r}var k8e="application/vnd.oasis.opendocument.spreadsheet";function C8e(e,t){for(var r=YP(e),n,a;n=kv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=kt(n[0],!1),a.path=="/"&&a.type!==k8e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var ig=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],E8e=function(){for(var e=new Array(ig.length),t=0;t<ig.length;++t){var r=ig[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function NK(e){var t={};e=Or(e);for(var r=0;r<ig.length;++r){var n=ig[r],a=e.match(E8e[r]);a!=null&&a.length>0&&(t[n[1]]=nr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Gn(t[n[1]]))}return t}var T8e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function kK(e,t,r,n){var a=[];if(typeof e=="string")a=JL(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var o=typeof t=="string"?JL(t,n).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function A8e(e,t,r){var n={};return t||(t={}),e=Or(e),T8e.forEach(function(a){var s=(e.match(Nv(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=nr(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&kK(n.HeadingPairs,n.TitlesOfParts,t,r),t}var P8e=/<[^>]+>[^<]*/g;function O8e(e,t){var r={},n="",a=e.match(P8e);if(a)for(var s=0;s!=a.length;++s){var o=a[s],l=kt(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=nr(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=nr(d);break;case"bool":r[n]=Ur(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Gn(d);break;case"cy":case"error":r[n]=nr(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}var D8e={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},vN;function R8e(e,t,r){vN||(vN=qP(D8e)),t=vN[t]||t,e[t]=r}function nO(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function CK(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function EK(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function TK(e,t,r){return t===31?EK(e):CK(e,t,r)}function XC(e,t,r){return TK(e,t,r===!1?0:4)}function F8e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return TK(e,t,0)}function M8e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(fs,""),e.l-a&2&&(e.l+=2)}return r}function I8e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(fs,"");return r}function L8e(e){var t=e.l,r=c_(e,jK);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=c_(e,Ss);return[r,n]}function $8e(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(L8e(e));return r}function c5(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),o=e.read_shift(4);n[s]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(fs,"").replace(P0,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function AK(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function B8e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function c_(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==i5&&n!==t&&x8e.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===i5?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return CK(e,n,4).replace(fs,"");case 31:return EK(e);case 64:return nO(e);case 65:return AK(e);case 71:return B8e(e);case 80:return XC(e,n,!s.raw).replace(fs,"");case 81:return F8e(e,n).replace(fs,"");case 4108:return $8e(e);case 4126:case 4127:return n==4127?M8e(e):I8e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function u5(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],o=0,l=0,c=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),f=e.read_shift(4);s[o]=[d,f+r]}s.sort(function(b,_){return b[1]-_[1]});var h={};for(o=0;o!=a;++o){if(e.l!==s[o][1]){var m=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,m=!1);break;case 80:e.l<=s[o][1]&&(e.l=s[o][1],m=!1);break;case 4108:e.l<=s[o][1]&&(e.l=s[o][1],m=!1);break}if((!t||o==0)&&e.l<=s[o][1]&&(m=!1,e.l=s[o][1]),m)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var g=t[s[o][0]];if(h[g.n]=c_(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:bo(l=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(s[o][0]===1){if(l=h.CodePage=c_(e,rO),bo(l),c!==-1){var p=e.l;e.l=s[c][1],u=c5(e,l),e.l=p}}else if(s[o][0]===0){if(l===0){c=o,e.l=s[o+1][1];continue}u=c5(e,l)}else{var v=u[s[o][0]],y;switch(e[e.l]){case 65:e.l+=4,y=AK(e);break;case 30:e.l+=4,y=XC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=XC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=cn(e,4);break;case 64:e.l+=4,y=Gn(nO(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function d5(e,t,r){var n=e.content;if(!n)return{};ea(n,0);var a,s,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Zt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var f=u5(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=s,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var g;try{g=u5(n,null)}catch{}for(m in g)h[m]=g[m];return h.FMTID=[s,o],h}function Lc(e,t){return e.read_shift(t),null}function U8e(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function cn(e,t){return e.read_shift(t)===1}function yn(e){return e.read_shift(2,"u")}function PK(e,t){return U8e(e,t,yn)}function z8e(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function wx(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function V8e(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),o=0,l,c={};a&&(o=e.read_shift(2)),n&&(l=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*o),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function xf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function jx(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):xf(e,n,r)}function If(e,t,r){if(r.biff>5)return jx(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function W8e(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function H8e(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(fs,"");return n&&(e.l+=24),a}function q8e(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(s>>1,"utf16le").replace(fs,"");return r+o}function G8e(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return H8e(e);case"0303000000000000c000000000000046":return q8e(e);default:throw new Error("Unsupported Moniker "+r)}}function Ey(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(fs,""):"";return r}function K8e(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,o,l,c,u="",d,f;a&16&&(s=Ey(e,r-e.l)),a&128&&(o=Ey(e,r-e.l)),(a&257)===257&&(l=Ey(e,r-e.l)),(a&257)===1&&(c=G8e(e,r-e.l)),a&8&&(u=Ey(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=nO(e)),e.l=r;var h=o||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),s&&(m.Tooltip=s),m}function OK(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function DK(e,t){var r=OK(e);return r[3]=0,r}function Dl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Y8e(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function X8e(e,t,r){return t===0?"":If(e,t,r)}function Q8e(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,s,o]}function RK(e){var t=e.read_shift(2),r=tO(e);return[t,r]}function J8e(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=wx(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function vj(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function FK(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var Z8e=FK;function MK(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function e6e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function t6e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function pa(e){e.l+=2,e.l+=e.read_shift(2)}var r6e={0:pa,4:pa,5:pa,6:pa,7:t6e,8:pa,9:pa,10:pa,11:pa,12:pa,13:e6e,14:pa,15:pa,16:pa,17:pa,18:pa,19:pa,20:pa,21:MK};function n6e(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(r6e[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Ty(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function a6e(e,t){return t===0||e.read_shift(2),1200}function s6e(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=If(e,0,r);return e.read_shift(t+n-e.l),a}function i6e(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function o6e(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=wx(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:s,name:o}}function l6e(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],o=0;o!=a&&e.l<r;++o)s.push(V8e(e));return s.Count=n,s.Unique=a,s}function c6e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function u6e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function d6e(e){var t=Y8e(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function f6e(e){return e.read_shift(2),e.read_shift(4)}function f5(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function h6e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function m6e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function p6e(){}function g6e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=wx(e,0,r),n}function v6e(e){var t=Dl(e);return t.isst=e.read_shift(4),t}function x6e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Dl(e);r.biff==2&&e.l++;var s=jx(e,n-e.l,r);return a.val=s,a}function y6e(e,t,r){var n=e.read_shift(2),a=If(e,0,r);return[n,a]}var b6e=If;function h5(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:s,c:l},e:{r:o,c}}}function _6e(e){var t=e.read_shift(2),r=e.read_shift(2),n=RK(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function w6e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(RK(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:s}}function j6e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:s}}function S6e(e,t,r,n){var a={},s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=_8e[l>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function N6e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=S6e(e,t,n.fStyle,r),n}function k6e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function m5(e,t,r){var n=Dl(e);(r.biff==2||t==9)&&++e.l;var a=z8e(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function C6e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Dl(e),a=Na(e);return n.val=a,n}var p5=X8e;function E6e(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=xf(e,s),l=[];n>e.l;)l.push(jx(e));return[s,a,o,l]}function g5(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=J8e(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var T6e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function v5(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=xf(e,o,r);a&32&&(u=T6e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:u7e(e,d,r,l);return{chKey:s,Name:u,itab:c,rgce:f}}function IK(e,t,r){if(r.biff<8)return A6e(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(Q8e(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function A6e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=wx(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function P6e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=xf(e,n,r),o=xf(e,a,r);return[s,o]}function O6e(e,t,r){var n=FK(e);e.l++;var a=e.read_shift(1);return t-=8,[d7e(e,t,r),a,n]}function x5(e,t,r){var n=Z8e(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,l7e(e,t,r)]}function D6e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function R6e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=If(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,o,s]}}function F6e(e,t,r){return R6e(e,t,r)}function M6e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(vj(e));return r}function I6e(e,t,r){if(r&&r.biff<8)return $6e(e,t,r);var n=MK(e),a=n6e(e,t-22,n[1]);return{cmo:n,ft:a}}var L6e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function $6e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((L6e[n]||Ia)(e,t,r)),{cmo:[a,n,s],ft:o}}function B6e(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:o=W8e(e,6,r);var l=e.read_shift(2);e.read_shift(2),yn(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=xf(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function U6e(e,t){var r=vj(e);e.l+=16;var n=K8e(e,t-24);return[r,n]}function z6e(e,t){e.read_shift(2);var r=vj(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(fs,""),[r,n]}function V6e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=o5[r]||r,r=e.read_shift(2),t[1]=o5[r]||r,t}function W6e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(DK(e));return r}function H6e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(DK(e));return r}function q6e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function LK(e,t,r){if(!r.cellStyles)return Ia(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function G6e(e,t){var r={};return t<32||(e.l+=16,r.header=Na(e),r.footer=Na(e),e.l+=2),r}function K6e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var Y6e=Dl,X6e=PK,Q6e=jx;function J6e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function Z6e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Dl(e);++e.l;var a=If(e,t-7,r);return n.t="str",n.val=a,n}function eBe(e){var t=Dl(e);++e.l;var r=Na(e);return t.t="n",t.val=r,t}function tBe(e){var t=Dl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function rBe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function nBe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function aBe(e,t,r){var n=e.l+t,a=Dl(e),s=e.read_shift(2),o=xf(e,s,r);return e.l=n,a.t="str",a.val=o,a}var sBe=[2,3,48,49,131,139,140,245],y5=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=qP({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Fu(1);switch(c.type){case"base64":d=vo(fi(l));break;case"binary":d=vo(l);break;case"buffer":case"array":d=l;break}ea(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,v=521;f==2&&(p=d.read_shift(2)),d.l+=3,f!=2&&(p=d.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(v=d.read_shift(2));var y=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var _=[],j={},w=Math.min(d.length,f==2?521:v-10-(m?264:0)),S=g?32:11;d.l<w&&d[d.l]!=13;)switch(j={},j.name=Yc.utils.decode(b,d.slice(d.l,d.l+S)).replace(/[\u0000\r\n].*$/g,""),d.l+=S,j.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(j.offset=d.read_shift(4)),j.len=d.read_shift(1),f==2&&(j.offset=d.read_shift(2)),j.dec=d.read_shift(1),j.name.length&&_.push(j),f!=2&&(d.l+=g?13:14),j.type){case"B":(!m||j.len!=8)&&c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var N=0,C=0;for(u[0]=[],C=0;C!=_.length;++C)u[0][C]=_[C].name;for(;p-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++N]=[],C=0,C=0;C!=_.length;++C){var k=d.slice(d.l,d.l+_[C].len);d.l+=_[C].len,ea(k,0);var E=Yc.utils.decode(b,k);switch(_[C].type){case"C":E.trim().length&&(u[N][C]=E.replace(/\s+$/,""));break;case"D":E.length===8?u[N][C]=new Date(+E.slice(0,4),+E.slice(4,6)-1,+E.slice(6,8)):u[N][C]=E;break;case"F":u[N][C]=parseFloat(E.trim());break;case"+":case"I":u[N][C]=g?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(E.trim().toUpperCase()){case"Y":case"T":u[N][C]=!0;break;case"N":case"F":u[N][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+E+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[N][C]="##MEMO##"+(g?parseInt(E.trim(),10):k.read_shift(4));break;case"N":E=E.replace(/\u0000/g,"").trim(),E&&E!="."&&(u[N][C]=+E||0);break;case"@":u[N][C]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":u[N][C]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":u[N][C]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[N][C]=-k.read_shift(-8,"f");break;case"B":if(m&&_[C].len==8){u[N][C]=k.read_shift(8,"f");break}case"G":case"P":k.l+=_[C].len;break;case"0":if(_[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[C].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=_,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Ip(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Ju(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&bo(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=GC(),f=nE(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),g=l["!cols"]||[],p=0,v=0,y=0,b=1;for(p=0;p<h.length;++p){if(((g[p]||{}).DBF||{}).name){h[p]=g[p].DBF.name,++y;continue}if(h[p]!=null){if(++y,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(v=0;v<1024;++v)if(h.indexOf(h[p]+"_"+v)==-1){h[p]+="_"+v;break}}}}var _=sn(l["!ref"]),j=[],w=[],S=[];for(p=0;p<=_.e.c-_.s.c;++p){var N="",C="",k=0,E=[];for(v=0;v<m.length;++v)m[v][p]!=null&&E.push(m[v][p]);if(E.length==0||h[p]==null){j[p]="?";continue}for(v=0;v<E.length;++v){switch(typeof E[v]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=E[v]instanceof Date?"D":"C";break;default:C="C"}k=Math.max(k,String(E[v]).length),N=N&&N!=C?"C":C}k>250&&(k=250),C=((g[p]||{}).DBF||{}).type,C=="C"&&g[p].DBF.len>k&&(k=g[p].DBF.len),N=="B"&&C=="N"&&(N="N",S[p]=g[p].DBF.dec,k=g[p].DBF.len),w[p]=N=="C"||C=="N"?k:s[N]||0,b+=w[p],j[p]=N}var O=d.next(32);for(O.write_shift(4,318902576),O.write_shift(4,m.length),O.write_shift(2,296+32*y),O.write_shift(2,b),p=0;p<4;++p)O.write_shift(4,0);for(O.write_shift(4,0|(+t[IG]||3)<<8),p=0,v=0;p<h.length;++p)if(h[p]!=null){var T=d.next(32),U=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,U,"sbcs"),T.write_shift(1,j[p]=="?"?"C":j[p],"sbcs"),T.write_shift(4,v),T.write_shift(1,w[p]||s[j[p]]||0),T.write_shift(1,S[p]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),v+=w[p]||s[j[p]]||0}var W=d.next(264);for(W.write_shift(4,13),p=0;p<65;++p)W.write_shift(4,0);for(p=0;p<m.length;++p){var R=d.next(b);for(R.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(j[v]){case"L":R.write_shift(1,m[p][v]==null?63:m[p][v]?84:70);break;case"B":R.write_shift(8,m[p][v]||0,"f");break;case"N":var z="0";for(typeof m[p][v]=="number"&&(z=m[p][v].toFixed(S[v]||0)),y=0;y<w[v]-z.length;++y)R.write_shift(1,32);R.write_shift(1,z,"sbcs");break;case"D":m[p][v]?(R.write_shift(4,("0000"+m[p][v].getFullYear()).slice(-4),"sbcs"),R.write_shift(2,("00"+(m[p][v].getMonth()+1)).slice(-2),"sbcs"),R.write_shift(2,("00"+m[p][v].getDate()).slice(-2),"sbcs")):R.write_shift(8,"00000000","sbcs");break;case"C":var P=String(m[p][v]!=null?m[p][v]:"").slice(0,w[v]);for(R.write_shift(1,P,"sbcs"),y=0;y<w[v]-P.length;++y)R.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),iBe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Nl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var g=e[m];return typeof g=="number"?FL(g):g},n=function(h,m,g){var p=m.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return p==59?h:FL(p)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return s(fi(h),m);case"binary":return s(h,m);case"buffer":return s(Jt&&Buffer.isBuffer(h)?h.toString("binary"):Df(h),m);case"array":return s(vf(h),m)}throw new Error("Unrecognized type "+m.type)}function s(h,m){var g=h.split(/[\n\r]+/),p=-1,v=-1,y=0,b=0,_=[],j=[],w=null,S={},N=[],C=[],k=[],E=0,O;for(+m.codepage>=0&&bo(+m.codepage);y!==g.length;++y){E=0;var T=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),U=T.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),W=U[0],R;if(T.length>0)switch(W){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&j.push(T.slice(3).replace(/;;/g,";"));break;case"C":var z=!1,P=!1,M=!1,I=!1,q=-1,J=-1;for(b=1;b<U.length;++b)switch(U[b].charAt(0)){case"A":break;case"X":v=parseInt(U[b].slice(1))-1,P=!0;break;case"Y":for(p=parseInt(U[b].slice(1))-1,P||(v=0),O=_.length;O<=p;++O)_[O]=[];break;case"K":R=U[b].slice(1),R.charAt(0)==='"'?R=R.slice(1,R.length-1):R==="TRUE"?R=!0:R==="FALSE"?R=!1:isNaN(No(R))?isNaN(Jm(R).getDate())||(R=Gn(R)):(R=No(R),w!==null&&Fp(w)&&(R=gj(R))),z=!0;break;case"E":I=!0;var A=Wh(U[b].slice(1),{r:p,c:v});_[p][v]=[_[p][v],A];break;case"S":M=!0,_[p][v]=[_[p][v],"S5S"];break;case"G":break;case"R":q=parseInt(U[b].slice(1))-1;break;case"C":J=parseInt(U[b].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}if(z&&(_[p][v]&&_[p][v].length==2?_[p][v][0]=R:_[p][v]=R,w=null),M){if(I)throw new Error("SYLK shared formula cannot have own formula");var B=q>-1&&_[q][J];if(!B||!B[1])throw new Error("SYLK shared formula cannot find base");_[p][v][1]=KK(B[1],{r:p-q,c:v-J})}break;case"F":var G=0;for(b=1;b<U.length;++b)switch(U[b].charAt(0)){case"X":v=parseInt(U[b].slice(1))-1,++G;break;case"Y":for(p=parseInt(U[b].slice(1))-1,O=_.length;O<=p;++O)_[O]=[];break;case"M":E=parseInt(U[b].slice(1))/20;break;case"F":break;case"G":break;case"P":w=j[parseInt(U[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=U[b].slice(1).split(" "),O=parseInt(k[0],10);O<=parseInt(k[1],10);++O)E=parseInt(k[2],10),C[O-1]=E===0?{hidden:!0}:{wch:E},Zm(C[O-1]);break;case"C":v=parseInt(U[b].slice(1))-1,C[v]||(C[v]={});break;case"R":p=parseInt(U[b].slice(1))-1,N[p]||(N[p]={}),E>0?(N[p].hpt=E,N[p].hpx=Tv(E)):E===0&&(N[p].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}G<1&&(w=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}}return N.length>0&&(S["!rows"]=N),C.length>0&&(S["!cols"]=C),m&&m.sheetRows&&(_=_.slice(0,m.sheetRows)),[_,S]}function o(h,m){var g=a(h,m),p=g[0],v=g[1],y=Ip(p,m);return Nl(v).forEach(function(b){y[b]=v[b]}),y}function l(h,m){return Ju(o(h,m),m)}function c(h,m,g,p){var v="C;Y"+(g+1)+";X"+(p+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+q9e(h.f,{r:g,c:p}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(h,m){m.forEach(function(g,p){var v="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=d_(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=f_(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function d(h,m){m.forEach(function(g,p){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*HK(g.hpx)+";"),v.length>2&&h.push(v+"R"+(p+1))})}function f(h,m){var g=["ID;PWXL;N;E"],p=[],v=sn(h["!ref"]),y,b=Array.isArray(h),_=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var j=v.s.r;j<=v.e.r;++j)for(var w=v.s.c;w<=v.e.c;++w){var S=Ot({r:j,c:w});y=b?(h[j]||[])[w]:h[S],!(!y||y.v==null&&(!y.f||y.F))&&p.push(c(y,h,j,w))}return g.join(_)+_+p.join(_)+_+"E"+_}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),oBe=function(){function e(s,o){switch(o.type){case"base64":return t(fi(s),o);case"binary":return t(s,o);case"buffer":return t(Jt&&Buffer.isBuffer(s)?s.toString("binary"):Df(s),o);case"array":return t(vf(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var l=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),m=h[0],g=h[1];++d;for(var p=l[d]||"";(p.match(/["]/g)||[]).length&1&&d<l.length-1;)p+=`
`+l[++d];switch(p=p.trim(),+m){case-1:if(p==="BOT"){f[++c]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][u]=!0:p==="FALSE"?f[c][u]=!1:isNaN(No(g))?isNaN(Jm(g).getDate())?f[c][u]=g:f[c][u]=Gn(g):f[c][u]=No(g),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][u++]=p!==""?p:null;break}if(p==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(s,o){return Ip(e(s,o),o)}function n(s,o){return Ju(r(s,o),o)}var a=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=sn(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){o(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var p=Ot({r:m,c:g});if(f=h?(c[m]||[])[g]:c[p],!f){o(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,v,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Hi(f.z||It[14],ms(Gn(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var y=`\r
`,b=u.join(y);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),lBe=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),g=-1,p=-1,v=0,y=[];v!==m.length;++v){var b=m[v].trim().split(":");if(b[0]==="cell"){var _=cs(b[1]);if(y.length<=_.r)for(g=y.length;g<=_.r;++g)y[g]||(y[g]=[]);switch(g=_.r,p=_.c,b[2]){case"t":y[g][p]=e(b[3]);break;case"v":y[g][p]=+b[3];break;case"vtf":var j=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[g][p]=!!+b[4];break;default:y[g][p]=+b[4];break}b[2]=="vtf"&&(y[g][p]=[y[g][p],j])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return Ip(r(f,h),h)}function a(f,h){return Ju(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],g,p="",v=Mp(f["!ref"]),y=Array.isArray(f),b=v.s.r;b<=v.e.r;++b)for(var _=v.s.c;_<=v.e.c;++_)if(p=Ot({r:b,c:_}),g=y?(f[b]||[])[_]:f[p],!(!g||g.v==null||g.t==="z")){switch(m=["cell",p,"t"],g.t){case"s":case"str":m.push(t(g.v));break;case"n":g.f?(m[2]="vtf",m[3]="n",m[4]=g.v,m[5]=t(g.f)):(m[2]="v",m[3]=g.v);break;case"b":m[2]="vt"+(g.f?"f":"c"),m[3]="nl",m[4]=g.v?"1":"0",m[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var j=ms(Gn(g.v));m[2]="vtc",m[3]="nd",m[4]=""+j,m[5]=g.w||Hi(g.z||It[14],j);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),Cv=function(){function e(d,f,h,m,g){g.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(No(d))?isNaN(Jm(d).getDate())?f[h][m]=d:f[h][m]=Gn(d):f[h][m]=No(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var g=d.split(/[\r\n]/),p=g.length-1;p>=0&&g[p].length===0;)--p;for(var v=10,y=0,b=0;b<=p;++b)y=g[b].indexOf(" "),y==-1?y=g[b].length:y++,v=Math.max(v,y);for(b=0;b<=p;++b){m[b]=[];var _=0;for(e(g[b].slice(0,v).trim(),m,b,_,h),_=1;_<=(g[b].length-v)/10+1;++_)e(g[b].slice(v+(_-1)*10,v+_*10).trim(),m,b,_,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,g=0;m<d.length;++m)(g=d.charCodeAt(m))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m]);if(!g.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m])}return g.sort(function(p,v){return p[0]-v[0]||n[p[1]]-n[v[1]]}),r[g.pop()[1]]||44}function s(d,f){var h=f||{},m="",g=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var v=0,y=0,b=0,_=0,j=0,w=m.charCodeAt(0),S=!1,N=0,C=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var k=h.dateNF!=null?y$e(h.dateNF):null;function E(){var O=d.slice(_,j),T={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)T.t="z";else if(h.raw)T.t="s",T.v=O;else if(O.trim().length===0)T.t="s",T.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(T.t="s",T.v=O.slice(2,-1).replace(/""/g,'"')):K9e(O)?(T.t="n",T.f=O.slice(1)):(T.t="s",T.v=O);else if(O=="TRUE")T.t="b",T.v=!0;else if(O=="FALSE")T.t="b",T.v=!1;else if(!isNaN(b=No(O)))T.t="n",h.cellText!==!1&&(T.w=O),T.v=b;else if(!isNaN(Jm(O).getDate())||k&&O.match(k)){T.z=h.dateNF||It[14];var U=0;k&&O.match(k)&&(O=b$e(O,h.dateNF,O.match(k)||[]),U=1),h.cellDates?(T.t="d",T.v=Gn(O,U)):(T.t="n",T.v=ms(Gn(O,U))),h.cellText!==!1&&(T.w=Hi(T.z,T.v instanceof Date?ms(T.v):T.v)),h.cellNF||delete T.z}else T.t="s",T.v=O;if(T.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=T):g[Ot({c:y,r:v})]=T),_=j+1,C=d.charCodeAt(_),p.e.c<y&&(p.e.c=y),p.e.r<v&&(p.e.r=v),N==w)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;j<d.length;++j)switch(N=d.charCodeAt(j)){case 34:C===34&&(S=!S);break;case w:case 10:case 13:if(!S&&E())break e;break}return j-_>0&&E(),g["!ref"]=er(p),g}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):Ip(t(d,f),f)}function l(d,f){var h="",m=f.type=="string"?[0,0,0,0]:dO(d,f);switch(f.type){case"base64":h=fi(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Yc<"u"?h=Yc.utils.decode(f.codepage,d):h=Jt&&Buffer.isBuffer(d)?d.toString("binary"):Df(d);break;case"array":h=vf(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Or(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Or(h):f.type=="binary"&&typeof Yc<"u"&&f.codepage&&(h=Yc.utils.decode(f.codepage,Yc.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?lBe.to_sheet(f.type=="string"?h:Or(h),f):o(h,f)}function c(d,f){return Ju(l(d,f),f)}function u(d){for(var f=[],h=sn(d["!ref"]),m,g=Array.isArray(d),p=h.s.r;p<=h.e.r;++p){for(var v=[],y=h.s.c;y<=h.e.c;++y){var b=Ot({r:p,c:y});if(m=g?(d[p]||[])[y]:d[b],!m||m.v==null){v.push("          ");continue}for(var _=(m.w||(_c(m),m.w)||"").slice(0,10);_.length<10;)_+=" ";v.push(_+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function cBe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=iBe.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return Cv.to_workbook(e,t)}}var og=function(){function e(A,B,G){if(A){ea(A,A.l||0);for(var H=G.Enum||q;A.l<A.length;){var ee=A.read_shift(2),ue=H[ee]||H[65535],ye=A.read_shift(2),ie=A.l+ye,Y=ue.f&&ue.f(A,ye,G);if(A.l=ie,B(Y,ue,ee))return}}}function t(A,B){switch(B.type){case"base64":return r(vo(fi(A)),B);case"binary":return r(vo(A),B);case"buffer":case"array":return r(A,B)}throw"Unsupported type "+B.type}function r(A,B){if(!A)return A;var G=B||{},H=G.dense?[]:{},ee="Sheet1",ue="",ye=0,ie={},Y=[],L=[],D={s:{r:0,c:0},e:{r:0,c:0}},se=G.sheetRows||0;if(A[2]==0&&(A[3]==8||A[3]==9)&&A.length>=16&&A[14]==5&&A[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(A[2]==2)G.Enum=q,e(A,function(Se,Ve,dt){switch(dt){case 0:G.vers=Se,Se>=4096&&(G.qpro=!0);break;case 6:D=Se;break;case 204:Se&&(ue=Se);break;case 222:ue=Se;break;case 15:case 51:G.qpro||(Se[1].v=Se[1].v.slice(1));case 13:case 14:case 16:dt==14&&(Se[2]&112)==112&&(Se[2]&15)>1&&(Se[2]&15)<15&&(Se[1].z=G.dateNF||It[14],G.cellDates&&(Se[1].t="d",Se[1].v=gj(Se[1].v))),G.qpro&&Se[3]>ye&&(H["!ref"]=er(D),ie[ee]=H,Y.push(ee),H=G.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},ye=Se[3],ee=ue||"Sheet"+(ye+1),ue="");var ae=G.dense?(H[Se[0].r]||[])[Se[0].c]:H[Ot(Se[0])];if(ae){ae.t=Se[1].t,ae.v=Se[1].v,Se[1].z!=null&&(ae.z=Se[1].z),Se[1].f!=null&&(ae.f=Se[1].f);break}G.dense?(H[Se[0].r]||(H[Se[0].r]=[]),H[Se[0].r][Se[0].c]=Se[1]):H[Ot(Se[0])]=Se[1];break}},G);else if(A[2]==26||A[2]==14)G.Enum=J,A[2]==14&&(G.qpro=!0,A.l=0),e(A,function(Se,Ve,dt){switch(dt){case 204:ee=Se;break;case 22:Se[1].v=Se[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Se[3]>ye&&(H["!ref"]=er(D),ie[ee]=H,Y.push(ee),H=G.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},ye=Se[3],ee="Sheet"+(ye+1)),se>0&&Se[0].r>=se)break;G.dense?(H[Se[0].r]||(H[Se[0].r]=[]),H[Se[0].r][Se[0].c]=Se[1]):H[Ot(Se[0])]=Se[1],D.e.c<Se[0].c&&(D.e.c=Se[0].c),D.e.r<Se[0].r&&(D.e.r=Se[0].r);break;case 27:Se[14e3]&&(L[Se[14e3][0]]=Se[14e3][1]);break;case 1537:L[Se[0]]=Se[1],Se[0]==ye&&(ee=Se[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+A[2]);if(H["!ref"]=er(D),ie[ue||ee]=H,Y.push(ue||ee),!L.length)return{SheetNames:Y,Sheets:ie};for(var be={},ve=[],ke=0;ke<L.length;++ke)ie[Y[ke]]?(ve.push(L[ke]||Y[ke]),be[L[ke]]=ie[L[ke]]||ie[Y[ke]]):(ve.push(L[ke]),be[L[ke]]={"!ref":"A1"});return{SheetNames:ve,Sheets:be}}function n(A,B){var G=B||{};if(+G.codepage>=0&&bo(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var H=GC(),ee=sn(A["!ref"]),ue=Array.isArray(A),ye=[];no(H,0,s(1030)),no(H,6,c(ee));for(var ie=Math.min(ee.e.r,8191),Y=ee.s.r;Y<=ie;++Y)for(var L=sa(Y),D=ee.s.c;D<=ee.e.c;++D){Y===ee.s.r&&(ye[D]=Fn(D));var se=ye[D]+L,be=ue?(A[Y]||[])[D]:A[se];if(!(!be||be.t=="z"))if(be.t=="n")(be.v|0)==be.v&&be.v>=-32768&&be.v<=32767?no(H,13,m(Y,D,be.v)):no(H,14,p(Y,D,be.v));else{var ve=_c(be);no(H,15,f(Y,D,ve.slice(0,239)))}}return no(H,1),H.end()}function a(A,B){var G=B||{};if(+G.codepage>=0&&bo(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var H=GC();no(H,0,o(A));for(var ee=0,ue=0;ee<A.SheetNames.length;++ee)(A.Sheets[A.SheetNames[ee]]||{})["!ref"]&&no(H,27,I(A.SheetNames[ee],ue++));var ye=0;for(ee=0;ee<A.SheetNames.length;++ee){var ie=A.Sheets[A.SheetNames[ee]];if(!(!ie||!ie["!ref"])){for(var Y=sn(ie["!ref"]),L=Array.isArray(ie),D=[],se=Math.min(Y.e.r,8191),be=Y.s.r;be<=se;++be)for(var ve=sa(be),ke=Y.s.c;ke<=Y.e.c;++ke){be===Y.s.r&&(D[ke]=Fn(ke));var Se=D[ke]+ve,Ve=L?(ie[be]||[])[ke]:ie[Se];if(!(!Ve||Ve.t=="z"))if(Ve.t=="n")no(H,23,E(be,ke,ye,Ve.v));else{var dt=_c(Ve);no(H,22,N(be,ke,ye,dt.slice(0,239)))}}++ye}}return no(H,1),H.end()}function s(A){var B=An(2);return B.write_shift(2,A),B}function o(A){var B=An(26);B.write_shift(2,4096),B.write_shift(2,4),B.write_shift(4,0);for(var G=0,H=0,ee=0,ue=0;ue<A.SheetNames.length;++ue){var ye=A.SheetNames[ue],ie=A.Sheets[ye];if(!(!ie||!ie["!ref"])){++ee;var Y=Mp(ie["!ref"]);G<Y.e.r&&(G=Y.e.r),H<Y.e.c&&(H=Y.e.c)}}return G>8191&&(G=8191),B.write_shift(2,G),B.write_shift(1,ee),B.write_shift(1,H),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(1,1),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(4,0),B}function l(A,B,G){var H={s:{c:0,r:0},e:{c:0,r:0}};return B==8&&G.qpro?(H.s.c=A.read_shift(1),A.l++,H.s.r=A.read_shift(2),H.e.c=A.read_shift(1),A.l++,H.e.r=A.read_shift(2),H):(H.s.c=A.read_shift(2),H.s.r=A.read_shift(2),B==12&&G.qpro&&(A.l+=2),H.e.c=A.read_shift(2),H.e.r=A.read_shift(2),B==12&&G.qpro&&(A.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function c(A){var B=An(8);return B.write_shift(2,A.s.c),B.write_shift(2,A.s.r),B.write_shift(2,A.e.c),B.write_shift(2,A.e.r),B}function u(A,B,G){var H=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(H[0].c=A.read_shift(1),H[3]=A.read_shift(1),H[0].r=A.read_shift(2),A.l+=2):(H[2]=A.read_shift(1),H[0].c=A.read_shift(2),H[0].r=A.read_shift(2)),H}function d(A,B,G){var H=A.l+B,ee=u(A,B,G);if(ee[1].t="s",G.vers==20768){A.l++;var ue=A.read_shift(1);return ee[1].v=A.read_shift(ue,"utf8"),ee}return G.qpro&&A.l++,ee[1].v=A.read_shift(H-A.l,"cstr"),ee}function f(A,B,G){var H=An(7+G.length);H.write_shift(1,255),H.write_shift(2,B),H.write_shift(2,A),H.write_shift(1,39);for(var ee=0;ee<H.length;++ee){var ue=G.charCodeAt(ee);H.write_shift(1,ue>=128?95:ue)}return H.write_shift(1,0),H}function h(A,B,G){var H=u(A,B,G);return H[1].v=A.read_shift(2,"i"),H}function m(A,B,G){var H=An(7);return H.write_shift(1,255),H.write_shift(2,B),H.write_shift(2,A),H.write_shift(2,G,"i"),H}function g(A,B,G){var H=u(A,B,G);return H[1].v=A.read_shift(8,"f"),H}function p(A,B,G){var H=An(13);return H.write_shift(1,255),H.write_shift(2,B),H.write_shift(2,A),H.write_shift(8,G,"f"),H}function v(A,B,G){var H=A.l+B,ee=u(A,B,G);if(ee[1].v=A.read_shift(8,"f"),G.qpro)A.l=H;else{var ue=A.read_shift(2);j(A.slice(A.l,A.l+ue),ee),A.l+=ue}return ee}function y(A,B,G){var H=B&32768;return B&=-32769,B=(H?A:0)+(B>=8192?B-16384:B),(H?"":"$")+(G?Fn(B):sa(B))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(A,B){ea(A,0);for(var G=[],H=0,ee="",ue="",ye="",ie="";A.l<A.length;){var Y=A[A.l++];switch(Y){case 0:G.push(A.read_shift(8,"f"));break;case 1:ue=y(B[0].c,A.read_shift(2),!0),ee=y(B[0].r,A.read_shift(2),!1),G.push(ue+ee);break;case 2:{var L=y(B[0].c,A.read_shift(2),!0),D=y(B[0].r,A.read_shift(2),!1);ue=y(B[0].c,A.read_shift(2),!0),ee=y(B[0].r,A.read_shift(2),!1),G.push(L+D+":"+ue+ee)}break;case 3:if(A.l<A.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(A.read_shift(2));break;case 6:{for(var se="";Y=A[A.l++];)se+=String.fromCharCode(Y);G.push('"'+se.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:ie=G.pop(),ye=G.pop(),G.push(["AND","OR"][Y-20]+"("+ye+","+ie+")");break;default:if(Y<32&&_[Y])ie=G.pop(),ye=G.pop(),G.push(ye+_[Y]+ie);else if(b[Y]){if(H=b[Y][1],H==69&&(H=A[A.l++]),H>G.length){console.error("WK1 bad formula parse 0x"+Y.toString(16)+":|"+G.join("|")+"|");return}var be=G.slice(-H);G.length-=H,G.push(b[Y][0]+"("+be.join(",")+")")}else return Y<=7?console.error("WK1 invalid opcode "+Y.toString(16)):Y<=24?console.error("WK1 unsupported op "+Y.toString(16)):Y<=30?console.error("WK1 invalid opcode "+Y.toString(16)):Y<=115?console.error("WK1 unsupported function opcode "+Y.toString(16)):console.error("WK1 unrecognized opcode "+Y.toString(16))}}G.length==1?B[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function w(A){var B=[{c:0,r:0},{t:"n",v:0},0];return B[0].r=A.read_shift(2),B[3]=A[A.l++],B[0].c=A[A.l++],B}function S(A,B){var G=w(A);return G[1].t="s",G[1].v=A.read_shift(B-4,"cstr"),G}function N(A,B,G,H){var ee=An(6+H.length);ee.write_shift(2,A),ee.write_shift(1,G),ee.write_shift(1,B),ee.write_shift(1,39);for(var ue=0;ue<H.length;++ue){var ye=H.charCodeAt(ue);ee.write_shift(1,ye>=128?95:ye)}return ee.write_shift(1,0),ee}function C(A,B){var G=w(A);G[1].v=A.read_shift(2);var H=G[1].v>>1;if(G[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return G[1].v=H,G}function k(A,B){var G=w(A),H=A.read_shift(4),ee=A.read_shift(4),ue=A.read_shift(2);if(ue==65535)return H===0&&ee===3221225472?(G[1].t="e",G[1].v=15):H===0&&ee===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var ye=ue&32768;return ue=(ue&32767)-16446,G[1].v=(1-ye*2)*(ee*Math.pow(2,ue+32)+H*Math.pow(2,ue)),G}function E(A,B,G,H){var ee=An(14);if(ee.write_shift(2,A),ee.write_shift(1,G),ee.write_shift(1,B),H==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var ue=0,ye=0,ie=0,Y=0;return H<0&&(ue=1,H=-H),ye=Math.log2(H)|0,H/=Math.pow(2,ye-31),Y=H>>>0,Y&2147483648||(H/=2,++ye,Y=H>>>0),H-=Y,Y|=2147483648,Y>>>=0,H*=Math.pow(2,32),ie=H>>>0,ee.write_shift(4,ie),ee.write_shift(4,Y),ye+=16383+(ue?32768:0),ee.write_shift(2,ye),ee}function O(A,B){var G=k(A);return A.l+=B-14,G}function T(A,B){var G=w(A),H=A.read_shift(4);return G[1].v=H>>6,G}function U(A,B){var G=w(A),H=A.read_shift(8,"f");return G[1].v=H,G}function W(A,B){var G=U(A);return A.l+=B-10,G}function R(A,B){return A[A.l+B-1]==0?A.read_shift(B,"cstr"):""}function z(A,B){var G=A[A.l++];G>B-1&&(G=B-1);for(var H="";H.length<G;)H+=String.fromCharCode(A[A.l++]);return H}function P(A,B,G){if(!(!G.qpro||B<21)){var H=A.read_shift(1);A.l+=17,A.l+=1,A.l+=2;var ee=A.read_shift(B-21,"cstr");return[H,ee]}}function M(A,B){for(var G={},H=A.l+B;A.l<H;){var ee=A.read_shift(2);if(ee==14e3){for(G[ee]=[0,""],G[ee][0]=A.read_shift(2);A[A.l];)G[ee][1]+=String.fromCharCode(A[A.l]),A.l++;A.l++}}return G}function I(A,B){var G=An(5+A.length);G.write_shift(2,14e3),G.write_shift(2,B);for(var H=0;H<A.length;++H){var ee=A.charCodeAt(H);G[G.l++]=ee>127?95:ee}return G[G.l++]=0,G}var q={0:{n:"BOF",f:yn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:R},222:{n:"SHEETNAMELP",f:z},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:M},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:W},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:R},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:P},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function uBe(e){var t={},r=e.match(Ba),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=kt(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=UP[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var dBe=function(){var e=Nv("t"),t=Nv("rPr");function r(s){var o=s.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:nr(o[1])},c=s.match(t);return c&&(l.s=uBe(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),fBe=function(){var t=/(\r\n|\n)/g;function r(a,s,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),a.b&&(s.push("<b>"),o.push("</b>")),a.i&&(s.push("<i>"),o.push("</i>")),a.strike&&(s.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),hBe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,mBe=/<(?:\w+:)?r>/,pBe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function aO(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=nr(Or(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Or(e),r&&(n.h=KP(n.t))):e.match(mBe)&&(n.r=Or(e),n.t=nr(Or((e.replace(pBe,"").match(hBe)||[]).join("").replace(Ba,""))),r&&(n.h=fBe(dBe(n.r)))),n):{t:""}}var gBe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,vBe=/<(?:\w+:)?(?:si|sstItem)>/g,xBe=/<\/(?:\w+:)?(?:si|sstItem)>/;function yBe(e,t){var r=[],n="";if(!e)return r;var a=e.match(gBe);if(a){n=a[2].replace(vBe,"").split(xBe);for(var s=0;s!=n.length;++s){var o=aO(n[s].trim(),t);o!=null&&(r[r.length]=o)}a=kt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function bBe(e){return[e.read_shift(4),e.read_shift(4)]}function _Be(e,t){var r=[],n=!1;return Ec(e,function(s,o,l){switch(l){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function $K(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function oc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function wBe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=oc(e,4),t.U=oc(e,4),t.W=oc(e,4),t}function jBe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function SBe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(jBe(e));return t}function NBe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function kBe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=oc(e,4),t.U=oc(e,4),t.W=oc(e,4),t}function CBe(e){var t=kBe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function BK(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function UK(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function EBe(e){var t=oc(e);switch(t.Minor){case 2:return[t.Minor,TBe(e)];case 3:return[t.Minor,ABe()];case 4:return[t.Minor,PBe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function TBe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=BK(e,r),a=UK(e,e.length-e.l);return{t:"Std",h:n,v:a}}function ABe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function PBe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ba,function(s){var o=kt(s);switch(Ol(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function OBe(e,t){var r={},n=r.EncryptionVersionInfo=oc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=BK(e,a),t-=a,r.EncryptionVerifier=UK(e,t),r}function DBe(e){var t={},r=t.EncryptionVersionInfo=oc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function RBe(e){var t=0,r,n=$K(e),a=n.length+1,s,o,l,c,u;for(r=Fu(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)o=r[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var zK=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},s=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=$K(o),c=s(l),u=l.length,d=Fu(16),f=0;f!=16;++f)d[f]=0;var h,m,g;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,m=l[l.length-1],d[u]=a(m,h));u>0;)--u,h=c>>8,d[u]=a(l[u],h),--u,h=c&255,d[u]=a(l[u],h);for(u=15,g=15-l.length;g>0;)h=c>>8,d[u]=a(e[g],h),--u,--g,h=c&255,d[u]=a(l[u],h),--u,--g;return d}}(),FBe=function(e,t,r,n,a){a||(a=t),n||(n=zK(e));var s,o;for(s=0;s!=t.length;++s)o=t[s],o^=n[r],o=(o>>5|o<<3)&255,a[s]=o,++r;return[a,r,n]},MBe=function(e){var t=0,r=zK(e);return function(n){var a=FBe("",n,t,r);return t=a[1],a[0]}};function IBe(e,t,r,n){var a={key:yn(e),verificationBytes:yn(e)};return r.password&&(a.verifier=RBe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=MBe(r.password)),a}function LBe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=DBe(e):n.Data=OBe(e,t),n}function $Be(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?LBe(e,t-2,n):IBe(e,r.biff>=8?t:t-2,r,n),n}var BBe=function(){function e(a,s){switch(s.type){case"base64":return t(fi(a),s);case"binary":return t(a,s);case"buffer":return t(Jt&&Buffer.isBuffer(a)?a.toString("binary"):Df(a),s);case"array":return t(vf(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var o=s||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,g,p=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var v=d.slice(m,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++p,v.length){var y={v,t:"s"};Array.isArray(l)?l[f][p]=y:l[Ot({r:f,c:p})]=y}break}m=h.lastIndex}p>u.e.c&&(u.e.c=p)}),l["!ref"]=er(u),l}function r(a,s){return Ju(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],o=sn(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=Ot({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(_c(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function UBe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Ev(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function zBe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),o=a-s;if(o===0)return[0,0,t];var l=0,c=0,u=a+s;switch(c=o/(u>1?2-u:u),a){case t:l=((r-n)/o+6)%6;break;case r:l=(n-t)/o+2;break;case n:l=(t-r)/o+4;break}return[l/6,c,u/2]}function VBe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,o=[s,s,s],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function u_(e,t){if(t===0)return e;var r=zBe(UBe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Ev(VBe(r))}var VK=6,WBe=15,HBe=1,ts=VK;function d_(e){return Math.floor((e+Math.round(128/ts)/256)*ts)}function f_(e){return Math.floor((e-5)/ts*100+.5)/100}function QC(e){return Math.round((e*ts+5)/ts*256)/256}function xN(e){return QC(f_(d_(e)))}function sO(e){var t=Math.abs(e-xN(e)),r=ts;if(t>.005)for(ts=HBe;ts<WBe;++ts)Math.abs(e-xN(e))<=t&&(t=Math.abs(e-xN(e)),r=ts);ts=r}function Zm(e){e.width?(e.wpx=d_(e.width),e.wch=f_(e.wpx),e.MDW=ts):e.wpx?(e.wch=f_(e.wpx),e.width=QC(e.wch),e.MDW=ts):typeof e.wch=="number"&&(e.width=QC(e.wch),e.wpx=d_(e.width),e.MDW=ts),e.customWidth&&delete e.customWidth}var qBe=96,WK=qBe;function HK(e){return e*96/WK}function Tv(e){return e*WK/96}var GBe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function KBe(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Ba)||[]).forEach(function(o){var l=kt(o);switch(Ol(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Ur(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Ur(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function YBe(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Ba)||[]).forEach(function(o){var l=kt(o);switch(Ol(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function XBe(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Ba)||[]).forEach(function(o){var l=kt(o);switch(Ol(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Or(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Ur(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Ur(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Ur(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Ur(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Ur(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Ur(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Ur(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=UP[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Ur(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=Hd[a.color.index];a.color.index==81&&(c=Hd[1]),c||(c=Hd[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=u_(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function QBe(e,t,r){t.NumberFmt=[];for(var n=Nl(It),a=0;a<n.length;++a)t.NumberFmt[n[a]]=It[n[a]];var s=e[0].match(Ba);if(s)for(a=0;a<s.length;++a){var o=kt(s[a]);switch(Ol(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=nr(Or(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Wd(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var Ay=["numFmtId","fillId","fontId","borderId","xfId"],Py=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function JBe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ba)||[]).forEach(function(s){var o=kt(s),l=0;switch(Ol(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<Ay.length;++l)n[Ay[l]]&&(n[Ay[l]]=parseInt(n[Ay[l]],10));for(l=0;l<Py.length;++l)n[Py[l]]&&(n[Py[l]]=Ur(n[Py[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Ur(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var ZBe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&QBe(f,d,u),(f=l.match(a))&&XBe(f,d,c,u),(f=l.match(n))&&YBe(f,d,c,u),(f=l.match(s))&&KBe(f,d,c,u),(f=l.match(r))&&JBe(f,d,u),d}}();function e9e(e,t){var r=e.read_shift(2),n=Ea(e);return[r,n]}function t9e(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=d8e(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=u8e(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ea(e),n}var r9e=Ia;function n9e(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var a9e=Ia;function s9e(e,t,r){var n={};n.NumberFmt=[];for(var a in It)n.NumberFmt[a]=It[a];n.CellXf=[],n.Fonts=[];var s=[],o=!1;return Ec(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Wd(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=u_(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(d),o=!0;break;case 38:s.pop(),o=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!o||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var i9e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function o9e(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ba)||[]).forEach(function(a){var s=kt(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[i9e.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function l9e(){}function c9e(){}var u9e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,d9e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,f9e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function h9e(e,t,r){t.themeElements={};var n;[["clrScheme",u9e,o9e],["fontScheme",d9e,l9e],["fmtScheme",f9e,c9e]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var m9e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function qK(e,t){(!e||e.length===0)&&(e=p9e());var r,n={};if(!(r=e.match(m9e)))throw new Error("themeElements not found in theme");return h9e(r[0],n,t),n.raw=e,n}function p9e(e,t){var r=[nK];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function g9e(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var o;try{o=rK(s,{type:"array"})}catch{return}var l=ni(o,"theme/theme/theme1.xml",!0);if(l)return qK(l,r)}}function v9e(e){return e.read_shift(4)}function x9e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=y9e(e,4);break;case 2:t.xclrValue=OK(e);break;case 3:t.xclrValue=v9e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function y9e(e,t){return Ia(e,t)}function b9e(e,t){return Ia(e,t)}function _9e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=x9e(e);break;case 6:n[1]=b9e(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function w9e(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(_9e(e,r-e.l));return{ixfe:n,ext:s}}function j9e(e,t){t.forEach(function(r){switch(r[0]){}})}function S9e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ea(e)}}function N9e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function k9e(e){return e.l+=4,e.read_shift(4)!=0}function C9e(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],o=!1,l=2;return Ec(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:s.push(d),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function E9e(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,o;return e.replace(Ba,function(l){var c=kt(l);switch(Ol(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function T9e(e){var t=[];if(!e)return t;var r=1;return(e.match(Ba)||[]).forEach(function(n){var a=kt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function A9e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Ot(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function P9e(e,t,r){var n=[];return Ec(e,function(s,o,l){switch(l){case 63:n.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function O9e(e,t,r,n){if(!e)return e;var a=n||{},s=!1;Ec(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function D9e(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function b5(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(o){var l=cs(o.ref);if(a?(e[l.r]||(e[l.r]=[]),s=e[l.r][l.c]):s=e[o.ref],!s){s={t:"z"},a?e[l.r][l.c]=s:e[o.ref]=s;var c=sn(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=er(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function R9e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=kt(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=cs(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&aO(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function F9e(e,t){var r=[],n=!1,a={},s=0;return e.replace(Ba,function(l,c){var u=kt(l);switch(Ol(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=c+l.length;break;case"</text>":a.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function M9e(e,t){var r=[],n=!1;return e.replace(Ba,function(s){var o=kt(s);switch(Ol(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),r}function I9e(e){var t={};t.iauthor=e.read_shift(4);var r=Ff(e);return t.rfx=r.s,t.ref=Ot(r.s),e.l+=16,t}var L9e=Ea;function $9e(e,t){var r=[],n=[],a={},s=!1;return Ec(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var B9e="application/vnd.ms-office.vbaProject";function U9e(e){var t=Zt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Zt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Zt.write(t)}function z9e(){return{"!type":"dialog"}}function V9e(){return{"!type":"dialog"}}function W9e(){return{"!type":"macro"}}function H9e(){return{"!type":"macro"}}var Wh=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,o){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+Fn(d)+(c?"":"$")+sa(u)}return function(a,s){return t=s,a.replace(e,r)}}(),GK=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,q9e=function(){return function(t,r){return t.replace(GK,function(n,a,s,o,l,c){var u=JP(o)-(s?0:r.c),d=QP(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function KK(e,t){return e.replace(GK,function(r,n,a,s,o,l){return n+(a=="$"?a+s:Fn(JP(s)+t.c))+(o=="$"?o+l:sa(QP(l)+t.r))})}function G9e(e,t,r){var n=Mp(t),a=n.s,s=cs(r),o={r:s.r-a.r,c:s.c-a.c};return KK(e,o)}function K9e(e){return e.length!=1}function _5(e){return e.replace(/_xlfn\./g,"")}function pn(e){e.l+=1}function Mu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function YK(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return XK(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),o=Mu(e),l=Mu(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function XK(e){var t=Mu(e),r=Mu(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Y9e(e,t,r){if(r.biff<8)return XK(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Mu(e),o=Mu(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function QK(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return X9e(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Mu(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function X9e(e){var t=Mu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Q9e(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function J9e(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Z9e(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:o,rRel:l}}function Z9e(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function eUe(e,t,r){var n=(e[e.l++]&96)>>5,a=YK(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function tUe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=YK(e,s,r);return[n,a,o]}function rUe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function nUe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function aUe(e,t,r){var n=(e[e.l++]&96)>>5,a=Y9e(e,t-1,r);return[n,a]}function sUe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function w5(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function iUe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function oUe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function lUe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function cUe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function uUe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function JK(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function dUe(e){return e.read_shift(2),JK(e)}function fUe(e){return e.read_shift(2),JK(e)}function hUe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=QK(e,0,r);return[n,a]}function mUe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=J9e(e,0,r);return[n,a]}function pUe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=QK(e,0,r);return[n,a,s]}function gUe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[v7e[a],tY[a],n]}function vUe(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:xUe(e);return[a,(s[0]===0?tY:g7e)[s[1]]]}function xUe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function yUe(e,t,r){e.l+=r&&r.biff==2?3:4}function bUe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function _Ue(e){return e.l++,Mf[e.read_shift(1)]}function wUe(e){return e.l++,e.read_shift(2)}function jUe(e){return e.l++,e.read_shift(1)!==0}function SUe(e){return e.l++,Na(e)}function NUe(e,t,r){return e.l++,wx(e,t-1,r)}function kUe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=cn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Mf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Na(e);break;case 2:r[1]=If(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function CUe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?Ff:vj)(e));return a}function EUe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var l=0;l!=a;++l)o[s][l]=kUe(e,r.biff);return o}function TUe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function AUe(e,t,r){if(r.biff==5)return PUe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function PUe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function OUe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function DUe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function RUe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function FUe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var MUe=Ia,IUe=Ia,LUe=Ia;function Sx(e,t,r){return e.l+=2,[Q9e(e)]}function iO(e){return e.l+=6,[]}var $Ue=Sx,BUe=iO,UUe=iO,zUe=Sx;function ZK(e){return e.l+=2,[yn(e),e.read_shift(2)&1]}var VUe=Sx,WUe=ZK,HUe=iO,qUe=Sx,GUe=Sx,KUe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function YUe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),o=KUe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:s}}function XUe(e){return e.l+=2,[e.read_shift(4)]}function QUe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function JUe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function ZUe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function e7e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function t7e(e){return e.l+=4,[0,0]}var j5={1:{n:"PtgExp",f:bUe},2:{n:"PtgTbl",f:LUe},3:{n:"PtgAdd",f:pn},4:{n:"PtgSub",f:pn},5:{n:"PtgMul",f:pn},6:{n:"PtgDiv",f:pn},7:{n:"PtgPower",f:pn},8:{n:"PtgConcat",f:pn},9:{n:"PtgLt",f:pn},10:{n:"PtgLe",f:pn},11:{n:"PtgEq",f:pn},12:{n:"PtgGe",f:pn},13:{n:"PtgGt",f:pn},14:{n:"PtgNe",f:pn},15:{n:"PtgIsect",f:pn},16:{n:"PtgUnion",f:pn},17:{n:"PtgRange",f:pn},18:{n:"PtgUplus",f:pn},19:{n:"PtgUminus",f:pn},20:{n:"PtgPercent",f:pn},21:{n:"PtgParen",f:pn},22:{n:"PtgMissArg",f:pn},23:{n:"PtgStr",f:NUe},26:{n:"PtgSheet",f:QUe},27:{n:"PtgEndSheet",f:JUe},28:{n:"PtgErr",f:_Ue},29:{n:"PtgBool",f:jUe},30:{n:"PtgInt",f:wUe},31:{n:"PtgNum",f:SUe},32:{n:"PtgArray",f:sUe},33:{n:"PtgFunc",f:gUe},34:{n:"PtgFuncVar",f:vUe},35:{n:"PtgName",f:TUe},36:{n:"PtgRef",f:hUe},37:{n:"PtgArea",f:eUe},38:{n:"PtgMemArea",f:OUe},39:{n:"PtgMemErr",f:MUe},40:{n:"PtgMemNoMem",f:IUe},41:{n:"PtgMemFunc",f:DUe},42:{n:"PtgRefErr",f:RUe},43:{n:"PtgAreaErr",f:rUe},44:{n:"PtgRefN",f:mUe},45:{n:"PtgAreaN",f:aUe},46:{n:"PtgMemAreaN",f:ZUe},47:{n:"PtgMemNoMemN",f:e7e},57:{n:"PtgNameX",f:AUe},58:{n:"PtgRef3d",f:pUe},59:{n:"PtgArea3d",f:tUe},60:{n:"PtgRefErr3d",f:FUe},61:{n:"PtgAreaErr3d",f:nUe},255:{}},r7e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},n7e={1:{n:"PtgElfLel",f:ZK},2:{n:"PtgElfRw",f:qUe},3:{n:"PtgElfCol",f:$Ue},6:{n:"PtgElfRwV",f:GUe},7:{n:"PtgElfColV",f:zUe},10:{n:"PtgElfRadical",f:VUe},11:{n:"PtgElfRadicalS",f:HUe},13:{n:"PtgElfColS",f:BUe},15:{n:"PtgElfColSV",f:UUe},16:{n:"PtgElfRadicalLel",f:WUe},25:{n:"PtgList",f:YUe},29:{n:"PtgSxName",f:XUe},255:{}},a7e={0:{n:"PtgAttrNoop",f:t7e},1:{n:"PtgAttrSemi",f:uUe},2:{n:"PtgAttrIf",f:lUe},4:{n:"PtgAttrChoose",f:iUe},8:{n:"PtgAttrGoto",f:oUe},16:{n:"PtgAttrSum",f:yUe},32:{n:"PtgAttrBaxcel",f:w5},33:{n:"PtgAttrBaxcel",f:w5},64:{n:"PtgAttrSpace",f:dUe},65:{n:"PtgAttrSpaceSemi",f:fUe},128:{n:"PtgAttrIfError",f:cUe},255:{}};function Nx(e,t,r,n){if(n.biff<8)return Ia(e,t);for(var a=e.l+t,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=EUe(e,0,n),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=CUe(e,r[o][1],n),s.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&s.push(Ia(e,t)),s}function kx(e,t,r){for(var n=e.l+t,a,s,o=[];n!=e.l;)t=n-e.l,s=e[e.l],a=j5[s]||j5[r7e[s]],(s===24||s===25)&&(a=(s===24?n7e:a7e)[e[e.l+1]]),!a||!a.f?Ia(e,t):o.push([a.n,a.f(e,t,r)]);return o}function s7e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var o=n[s];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var i7e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function o7e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function eY(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function S5(e,t,r){var n=eY(e,t,r);return n=="#REF"?n:o7e(n,r)}function ba(e,t,r,n,a){var s=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,m,g="";if(!e[0]||!e[0][0])return"";for(var p=-1,v="",y=0,b=e[0].length;y<b;++y){var _=e[0][y];switch(_[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:v=en(" ",e[0][p][1][1]);break;case 1:v=en("\r",e[0][p][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+v,p=-1}l.push(u+i7e[_[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=ng(_[1][1],o,a),l.push(ag(d,s));break;case"PtgRefN":d=r?ng(_[1][1],r,a):_[1][1],l.push(ag(d,s));break;case"PtgRef3d":f=_[1][1],d=ng(_[1][2],o,a),g=S5(n,f,a),l.push(g+"!"+ag(d,s));break;case"PtgFunc":case"PtgFuncVar":var j=_[1][0],w=_[1][1];j||(j=0),j&=127;var S=j==0?[]:l.slice(-j);l.length-=j,w==="User"&&(w=S.shift()),l.push(w+"("+S.join(",")+")");break;case"PtgBool":l.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(_[1]);break;case"PtgNum":l.push(String(_[1]));break;case"PtgStr":l.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(_[1]);break;case"PtgAreaN":m=a5(_[1][1],r?{s:r}:o,a),l.push(gN(m,a));break;case"PtgArea":m=a5(_[1][1],o,a),l.push(gN(m,a));break;case"PtgArea3d":f=_[1][1],m=_[1][2],g=S5(n,f,a),l.push(g+"!"+gN(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=_[1][2];var N=(n.names||[])[h-1]||(n[0]||[])[h],C=N?N.Name:"SH33TJSNAME"+String(h);C&&C.slice(0,6)=="_xlfn."&&!a.xlfn&&(C=C.slice(6)),l.push(C);break;case"PtgNameX":var k=_[1][1];h=_[1][2];var E;if(a.biff<=5)k<0&&(k=-k),n[k]&&(E=n[k][h]);else{var O="";if(((n[k]||[])[0]||[])[0]==14849||(((n[k]||[])[0]||[])[0]==1025?n[k][h]&&n[k][h].itab>0&&(O=n.SheetNames[n[k][h].itab-1]+"!"):O=n.SheetNames[h-1]+"!"),n[k]&&n[k][h])O+=n[k][h].Name;else if(n[0]&&n[0][h])O+=n[0][h].Name;else{var T=(eY(n,k,a)||"").split(";;");T[h-1]?O=T[h-1]:O+="SH33TJSERRX"}l.push(O);break}E||(E={Name:"SH33TJSERRY"}),l.push(E.Name);break;case"PtgParen":var U="(",W=")";if(p>=0){switch(v="",e[0][p][1][0]){case 2:U=en(" ",e[0][p][1][1])+U;break;case 3:U=en("\r",e[0][p][1][1])+U;break;case 4:W=en(" ",e[0][p][1][1])+W;break;case 5:W=en("\r",e[0][p][1][1])+W;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(U+l.pop()+W);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:_[1][1],r:_[1][0]};var R={c:r.c,r:r.r};if(n.sharedf[Ot(d)]){var z=n.sharedf[Ot(d)];l.push(ba(z,o,R,n,a))}else{var P=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(ba(u[1],o,R,n,a)),P=!0;break}P||l.push(_[1])}break;case"PtgArray":l.push("{"+s7e(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var M=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&M.indexOf(e[0][y][0])==-1){_=e[0][p];var I=!0;switch(_[1][0]){case 4:I=!1;case 0:v=en(" ",_[1][1]);break;case 5:I=!1;case 1:v=en("\r",_[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}l.push((I?v:"")+l.pop()+(I?"":v)),p=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function l7e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,o=e.read_shift(a);if(o==65535)return[[],Ia(e,t-2)];var l=kx(e,o,r);return t!==o+a&&(s=Nx(e,t-o-a,l,r)),e.l=n,[l,s]}function c7e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,o=e.read_shift(a);if(o==65535)return[[],Ia(e,t-2)];var l=kx(e,o,r);return t!==o+a&&(s=Nx(e,t-o-a,l,r)),e.l=n,[l,s]}function u7e(e,t,r,n){var a=e.l+t,s=kx(e,n,r),o;return a!==e.l&&(o=Nx(e,a-e.l,s,r)),[s,o]}function d7e(e,t,r){var n=e.l+t,a,s=e.read_shift(2),o=kx(e,s,r);return s==65535?[[],Ia(e,t-2)]:(t!==s+2&&(a=Nx(e,n-s-2,o,r)),[o,a])}function f7e(e){var t;if(ec(e,e.l+6)!==65535)return[Na(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function yN(e,t,r){var n=e.l+t,a=Dl(e);r.biff==2&&++e.l;var s=f7e(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=c7e(e,n-e.l,r);return{cell:a,val:s[0],formula:l,shared:o>>3&1,tt:s[1]}}function xj(e,t,r){var n=e.read_shift(4),a=kx(e,n,r),s=e.read_shift(4),o=s>0?Nx(e,s,a,r):null;return[a,o]}var h7e=xj,yj=xj,m7e=xj,p7e=xj,g7e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},tY={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},v7e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function N5(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function bN(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var lg={},Hh={};function cg(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function rY(e,t,r,n,a,s){try{n.cellNF&&(e.z=It[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Gn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(It[t]==null&&Wd(x$e[t]||"General",t),e.t==="e")e.w=e.w||Mf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Sv(e.v);else if(e.t==="d"){var o=ms(e.v);(o|0)===o?e.w=o.toString(10):e.w=Sv(o)}else{if(e.v===void 0)return"";e.w=gf(e.v,Hh)}else e.t==="d"?e.w=Hi(t,ms(e.v),Hh):e.w=Hi(t,e.v,Hh)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=u_(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=u_(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&s.Fills)throw l}}}function x7e(e,t){var r=sn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=er(r))}var y7e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,b7e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,_7e=/<(?:\w:)?hyperlink [^>]*>/mg,w7e=/"(\w*:\w*)"/,j7e=/<(?:\w:)?col\b[^>]*[\/]?>/g,S7e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,N7e=/<(?:\w:)?pageMargins[^>]*\/>/g,nY=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,k7e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,C7e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function E7e(e,t,r,n,a,s,o){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(b7e);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(nY);h?oO(h[0],l,a,r):(h=u.match(k7e))&&T7e(h[0],h[1]||"",l,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var g=u.slice(m,m+50).match(w7e);g&&x7e(l,g[1])}var p=u.match(C7e);p&&p[1]&&F7e(p[1],a);var v=[];if(t.cellStyles){var y=u.match(j7e);y&&O7e(v,y)}f&&M7e(f[1],l,t,c,s,o);var b=d.match(S7e);b&&(l["!autofilter"]=D7e(b[0]));var _=[],j=d.match(y7e);if(j)for(m=0;m!=j.length;++m)_[m]=sn(j[m].slice(j[m].indexOf('"')+1));var w=d.match(_7e);w&&A7e(l,w,n);var S=d.match(N7e);if(S&&(l["!margins"]=P7e(kt(S[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=er(c)),t.sheetRows>0&&l["!ref"]){var N=sn(l["!ref"]);t.sheetRows<=+N.e.r&&(N.e.r=t.sheetRows-1,N.e.r>c.e.r&&(N.e.r=c.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>c.e.c&&(N.e.c=c.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),l["!fullref"]=l["!ref"],l["!ref"]=er(N))}return v.length>0&&(l["!cols"]=v),_.length>0&&(l["!merges"]=_),l}function oO(e,t,r,n){var a=kt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=nr(Or(a.codeName)))}function T7e(e,t,r,n,a){oO(e.slice(0,e.indexOf(">")),r,n,a)}function A7e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=kt(Or(t[a]),!0);if(!s.ref)return;var o=((r||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+nr(s.location))):(s.Target="#"+nr(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=sn(s.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=Ot({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function P7e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function O7e(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=kt(t[n],!0);a.hidden&&(a.hidden=Ur(a.hidden));var s=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,sO(a.width)),Zm(a);s<=o;)e[s++]=aa(a)}}function D7e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var R7e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function F7e(e,t){t.Views||(t.Views=[{}]),(e.match(R7e)||[]).forEach(function(r,n){var a=kt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Ur(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var M7e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=Nv("v"),o=Nv("f");return function(c,u,d,f,h,m){for(var g=0,p="",v=[],y=[],b=0,_=0,j=0,w="",S,N,C=0,k=0,E,O,T=0,U=0,W=Array.isArray(m.CellXf),R,z=[],P=[],M=Array.isArray(u),I=[],q={},J=!1,A=!!d.sheetStubs,B=c.split(t),G=0,H=B.length;G!=H;++G){p=B[G].trim();var ee=p.length;if(ee!==0){var ue=0;e:for(g=0;g<ee;++g)switch(p[g]){case">":if(p[g-1]!="/"){++g;break e}if(d&&d.cellStyles){if(N=kt(p.slice(ue,g),!0),C=N.r!=null?parseInt(N.r,10):C+1,k=-1,d.sheetRows&&d.sheetRows<C)continue;q={},J=!1,N.ht&&(J=!0,q.hpt=parseFloat(N.ht),q.hpx=Tv(q.hpt)),N.hidden=="1"&&(J=!0,q.hidden=!0),N.outlineLevel!=null&&(J=!0,q.level=+N.outlineLevel),J&&(I[C-1]=q)}break;case"<":ue=g;break}if(ue>=g)break;if(N=kt(p.slice(ue,g),!0),C=N.r!=null?parseInt(N.r,10):C+1,k=-1,!(d.sheetRows&&d.sheetRows<C)){f.s.r>C-1&&(f.s.r=C-1),f.e.r<C-1&&(f.e.r=C-1),d&&d.cellStyles&&(q={},J=!1,N.ht&&(J=!0,q.hpt=parseFloat(N.ht),q.hpx=Tv(q.hpt)),N.hidden=="1"&&(J=!0,q.hidden=!0),N.outlineLevel!=null&&(J=!0,q.level=+N.outlineLevel),J&&(I[C-1]=q)),v=p.slice(g).split(e);for(var ye=0;ye!=v.length&&v[ye].trim().charAt(0)=="<";++ye);for(v=v.slice(ye),g=0;g!=v.length;++g)if(p=v[g].trim(),p.length!==0){if(y=p.match(r),b=g,_=0,j=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,y!=null&&y.length===2){for(b=0,w=y[1],_=0;_!=w.length&&!((j=w.charCodeAt(_)-64)<1||j>26);++_)b=26*b+j;--b,k=b}else++k;for(_=0;_!=p.length&&p.charCodeAt(_)!==62;++_);if(++_,N=kt(p.slice(0,_),!0),N.r||(N.r=Ot({r:C-1,c:k})),w=p.slice(_),S={t:""},(y=w.match(s))!=null&&y[1]!==""&&(S.v=nr(y[1])),d.cellFormula){if((y=w.match(o))!=null&&y[1]!==""){if(S.f=nr(Or(y[1])).replace(/\r\n/g,`
`),d.xlfn||(S.f=_5(S.f)),y[0].indexOf('t="array"')>-1)S.F=(w.match(a)||[])[1],S.F.indexOf(":")>-1&&z.push([sn(S.F),S.F]);else if(y[0].indexOf('t="shared"')>-1){O=kt(y[0]);var ie=nr(Or(y[1]));d.xlfn||(ie=_5(ie)),P[parseInt(O.si,10)]=[O,ie,N.r]}}else(y=w.match(/<f[^>]*\/>/))&&(O=kt(y[0]),P[O.si]&&(S.f=G9e(P[O.si][1],P[O.si][2],N.r)));var Y=cs(N.r);for(_=0;_<z.length;++_)Y.r>=z[_][0].s.r&&Y.r<=z[_][0].e.r&&Y.c>=z[_][0].s.c&&Y.c<=z[_][0].e.c&&(S.F=z[_][1])}if(N.t==null&&S.v===void 0)if(S.f||S.F)S.v=0,S.t="n";else if(A)S.t="z";else continue;else S.t=N.t||"n";switch(f.s.c>k&&(f.s.c=k),f.e.c<k&&(f.e.c=k),S.t){case"n":if(S.v==""||S.v==null){if(!A)continue;S.t="z"}else S.v=parseFloat(S.v);break;case"s":if(typeof S.v>"u"){if(!A)continue;S.t="z"}else E=lg[parseInt(S.v,10)],S.v=E.t,S.r=E.r,d.cellHTML&&(S.h=E.h);break;case"str":S.t="s",S.v=S.v!=null?Or(S.v):"",d.cellHTML&&(S.h=KP(S.v));break;case"inlineStr":y=w.match(n),S.t="s",y!=null&&(E=aO(y[1]))?(S.v=E.t,d.cellHTML&&(S.h=E.h)):S.v="";break;case"b":S.v=Ur(S.v);break;case"d":d.cellDates?S.v=Gn(S.v,1):(S.v=ms(Gn(S.v,1)),S.t="n");break;case"e":(!d||d.cellText!==!1)&&(S.w=S.v),S.v=SK[S.v];break}if(T=U=0,R=null,W&&N.s!==void 0&&(R=m.CellXf[N.s],R!=null&&(R.numFmtId!=null&&(T=R.numFmtId),d.cellStyles&&R.fillId!=null&&(U=R.fillId))),rY(S,T,U,d,h,m),d.cellDates&&W&&S.t=="n"&&Fp(It[T])&&(S.t="d",S.v=gj(S.v)),N.cm&&d.xlmeta){var L=(d.xlmeta.Cell||[])[+N.cm-1];L&&L.type=="XLDAPR"&&(S.D=!0)}if(M){var D=cs(N.r);u[D.r]||(u[D.r]=[]),u[D.r][D.c]=S}else u[N.r]=S}}}}I.length>0&&(u["!rows"]=I)}}();function I7e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var L7e=Ff;function $7e(){}function B7e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=l8e(e),r}function U7e(e){var t=Yi(e);return[t]}function z7e(e){var t=Rf(e);return[t]}function V7e(e){var t=Yi(e),r=e.read_shift(1);return[t,r,"b"]}function W7e(e){var t=Rf(e),r=e.read_shift(1);return[t,r,"b"]}function H7e(e){var t=Yi(e),r=e.read_shift(1);return[t,r,"e"]}function q7e(e){var t=Rf(e),r=e.read_shift(1);return[t,r,"e"]}function G7e(e){var t=Yi(e),r=e.read_shift(4);return[t,r,"s"]}function K7e(e){var t=Rf(e),r=e.read_shift(4);return[t,r,"s"]}function Y7e(e){var t=Yi(e),r=Na(e);return[t,r,"n"]}function aY(e){var t=Rf(e),r=Na(e);return[t,r,"n"]}function X7e(e){var t=Yi(e),r=tO(e);return[t,r,"n"]}function Q7e(e){var t=Rf(e),r=tO(e);return[t,r,"n"]}function J7e(e){var t=Yi(e),r=ZP(e);return[t,r,"is"]}function Z7e(e){var t=Yi(e),r=Ea(e);return[t,r,"str"]}function eze(e){var t=Rf(e),r=Ea(e);return[t,r,"str"]}function tze(e,t,r){var n=e.l+t,a=Yi(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=yj(e,n-e.l,r);o[3]=ba(l,null,a,r.supbooks,r)}else e.l=n;return o}function rze(e,t,r){var n=e.l+t,a=Yi(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=yj(e,n-e.l,r);o[3]=ba(l,null,a,r.supbooks,r)}else e.l=n;return o}function nze(e,t,r){var n=e.l+t,a=Yi(e);a.r=r["!row"];var s=Na(e),o=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=yj(e,n-e.l,r);o[3]=ba(l,null,a,r.supbooks,r)}else e.l=n;return o}function aze(e,t,r){var n=e.l+t,a=Yi(e);a.r=r["!row"];var s=Ea(e),o=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=yj(e,n-e.l,r);o[3]=ba(l,null,a,r.supbooks,r)}else e.l=n;return o}var sze=Ff;function ize(e,t){var r=e.l+t,n=Ff(e),a=eO(e),s=Ea(e),o=Ea(e),l=Ea(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return o&&(c.Tooltip=o),c}function oze(){}function lze(e,t,r){var n=e.l+t,a=_K(e),s=e.read_shift(1),o=[a];if(o[2]=s,r.cellFormula){var l=h7e(e,n-e.l,r);o[1]=l}else e.l=n;return o}function cze(e,t,r){var n=e.l+t,a=Ff(e),s=[a];if(r.cellFormula){var o=p7e(e,n-e.l,r);s[1]=o,e.l=n}else e.l=n;return s}var uze=["left","right","top","bottom","header","footer"];function dze(e){var t={};return uze.forEach(function(r){t[r]=Na(e)}),t}function fze(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function hze(){}function mze(){}function pze(e,t,r,n,a,s,o){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,g,p,v,y,b,_,j,w,S=[];l.biff=12,l["!row"]=0;var N=0,C=!1,k=[],E={},O=l.supbooks||a.supbooks||[[]];if(O.sharedf=E,O.arrayf=k,O.SheetNames=a.SheetNames||a.Sheets.map(function(M){return M.name}),!l.supbooks&&(l.supbooks=O,a.Names))for(var T=0;T<a.Names.length;++T)O[0][T+1]=a.Names[T];var U=[],W=[],R=!1;h_[16]={n:"BrtShortReal",f:aY};var z;if(Ec(e,function(I,q,J){if(!h)switch(J){case 148:u=I;break;case 0:m=I,l.sheetRows&&l.sheetRows<=m.r&&(h=!0),j=sa(v=m.r),l["!row"]=m.r,(I.hidden||I.hpt||I.level!=null)&&(I.hpt&&(I.hpx=Tv(I.hpt)),W[I.r]=I);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:I[2]},I[2]){case"n":g.v=I[1];break;case"s":_=lg[I[1]],g.v=_.t,g.r=_.r;break;case"b":g.v=!!I[1];break;case"e":g.v=I[1],l.cellText!==!1&&(g.w=Mf[g.v]);break;case"str":g.t="s",g.v=I[1];break;case"is":g.t="s",g.v=I[1].t;break}if((p=o.CellXf[I[0].iStyleRef])&&rY(g,p.numFmtId,null,l,s,o),y=I[0].c==-1?y+1:I[0].c,l.dense?(c[v]||(c[v]=[]),c[v][y]=g):c[Fn(y)+j]=g,l.cellFormula){for(C=!1,N=0;N<k.length;++N){var A=k[N];m.r>=A[0].s.r&&m.r<=A[0].e.r&&y>=A[0].s.c&&y<=A[0].e.c&&(g.F=er(A[0]),C=!0)}!C&&I.length>3&&(g.f=I[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),l.cellDates&&p&&g.t=="n"&&Fp(It[p.numFmtId])){var B=Nd(g.v);B&&(g.t="d",g.v=new Date(B.y,B.m-1,B.d,B.H,B.M,B.S,B.u))}z&&(z.type=="XLDAPR"&&(g.D=!0),z=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;g={t:"z",v:void 0},y=I[0].c==-1?y+1:I[0].c,l.dense?(c[v]||(c[v]=[]),c[v][y]=g):c[Fn(y)+j]=g,d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),z&&(z.type=="XLDAPR"&&(g.D=!0),z=void 0);break;case 176:S.push(I);break;case 49:z=((l.xlmeta||{}).Cell||[])[I-1];break;case 494:var G=n["!id"][I.relId];for(G?(I.Target=G.Target,I.loc&&(I.Target+="#"+I.loc),I.Rel=G):I.relId==""&&(I.Target="#"+I.loc),v=I.rfx.s.r;v<=I.rfx.e.r;++v)for(y=I.rfx.s.c;y<=I.rfx.e.c;++y)l.dense?(c[v]||(c[v]=[]),c[v][y]||(c[v][y]={t:"z",v:void 0}),c[v][y].l=I):(b=Ot({c:y,r:v}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=I);break;case 426:if(!l.cellFormula)break;k.push(I),w=l.dense?c[v][y]:c[Fn(y)+j],w.f=ba(I[1],d,{r:m.r,c:y},O,l),w.F=er(I[0]);break;case 427:if(!l.cellFormula)break;E[Ot(I[0].s)]=I[1],w=l.dense?c[v][y]:c[Fn(y)+j],w.f=ba(I[1],d,{r:m.r,c:y},O,l);break;case 60:if(!l.cellStyles)break;for(;I.e>=I.s;)U[I.e--]={width:I.w/256,hidden:!!(I.flags&1),level:I.level},R||(R=!0,sO(I.w/256)),Zm(U[I.e+1]);break;case 161:c["!autofilter"]={ref:er(I)};break;case 476:c["!margins"]=I;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),I.name&&(a.Sheets[r].CodeName=I.name),(I.above||I.left)&&(c["!outline"]={above:I.above,left:I.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),I.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!q.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+J.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=er(u||d)),l.sheetRows&&c["!ref"]){var P=sn(c["!ref"]);l.sheetRows<=+P.e.r&&(P.e.r=l.sheetRows-1,P.e.r>d.e.r&&(P.e.r=d.e.r),P.e.r<P.s.r&&(P.s.r=P.e.r),P.e.c>d.e.c&&(P.e.c=d.e.c),P.e.c<P.s.c&&(P.s.c=P.e.c),c["!fullref"]=c["!ref"],c["!ref"]=er(P))}return S.length>0&&(c["!merges"]=S),U.length>0&&(c["!cols"]=U),W.length>0&&(c["!rows"]=W),c}function gze(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=nr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function vze(e,t,r,n,a,s){var o=s||{"!type":"chart"};if(!e)return s;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=gze(f);d.s.r=d.s.c=0,d.e.c=l,u=Fn(l),h[0].forEach(function(m,g){o[u+sa(g)]={t:"n",v:m,z:h[1]},c=g}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=er(d)),o}function xze(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(nY);return l&&oO(l[0],s,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function yze(e,t){e.l+=10;var r=Ea(e);return{name:r}}function bze(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Ec(e,function(c,u,d){switch(d){case 550:s["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var sY=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],_ze=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],wze=[],jze=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function k5(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Ur(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function C5(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Ur(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function iY(e){C5(e.WBProps,sY),C5(e.CalcPr,jze),k5(e.WBView,_ze),k5(e.Sheets,wze),Hh.date1904=Ur(e.WBProps.date1904)}var Sze="][*?/\\".split("");function Nze(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Sze.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var kze=/<\w+:workbook/;function Cze(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},o=0;if(e.replace(Ba,function(c,u){var d=kt(c);switch(Ol(d[0])){case"<?xml":break;case"<workbook":c.match(kze)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":sY.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Ur(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Or(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=nr(Or(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Or(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Ur(d.hidden||"0")&&(s.Hidden=!0),o=u+c.length;break;case"</definedName>":s.Ref=nr(Or(e.slice(o,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),H$e.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return iY(r),r}function Eze(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=KC(e),r.name=Ea(e),r}function Tze(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ea(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Aze(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Pze(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=c8e(e),o=m7e(e,0,r),l=eO(e);e.l=n;var c={Name:s,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function Oze(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],h_[16]={n:"BrtFRTArchID$",f:Aze},Ec(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=ba(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),iY(r),r.Names=s,r.supbooks=o,r}function Dze(e,t,r){return t.slice(-4)===".bin"?Oze(e,r):Cze(e,r)}function Rze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?pze(e,n,r,a,s,o,l):E7e(e,n,r,a,s,o,l)}function Fze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?bze(e,n,r,a,s):xze(e,n,r,a,s)}function Mze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?W9e():H9e()}function Ize(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?z9e():V9e()}function Lze(e,t,r,n){return t.slice(-4)===".bin"?s9e(e,r,n):ZBe(e,r,n)}function $ze(e,t,r){return qK(e,r)}function Bze(e,t,r){return t.slice(-4)===".bin"?_Be(e,r):yBe(e,r)}function Uze(e,t,r){return t.slice(-4)===".bin"?$9e(e,r):R9e(e,r)}function zze(e,t,r){return t.slice(-4)===".bin"?P9e(e):T9e(e)}function Vze(e,t,r,n){return r.slice(-4)===".bin"?O9e(e,t,r,n):void 0}function Wze(e,t,r){return t.slice(-4)===".bin"?C9e(e,t,r):E9e(e,t,r)}var oY=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,lY=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ro(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(oY),s,o,l,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(lY),(o=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(o+1),n[l]=s[2].slice(1,s[2].length-1));return n}function Hze(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(oY),a,s,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(lY),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),r[o]=a[2].slice(1,a[2].length-1));return r}var ug;function qze(e,t){var r=ug[e]||nr(e);return r==="General"?gf(t):Hi(r,t)}function Gze(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Ur(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Gn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[nr(t)]=a}function Kze(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Mf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Sv(e.v):e.w=gf(e.v):e.w=qze(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=ug[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Fp(n)){var a=Nd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function Yze(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=GBe[n.Pattern]||n.Pattern)}e[t.ID]=t}function Xze(e,t,r,n,a,s,o,l,c,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],g=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&m.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Ur(e);break;case"String":n.t="s",n.r=YL(nr(e)),n.v=e.indexOf("<")>-1?nr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Gn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=nr(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=SK[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=YL(t||e));break}if(Kze(n,d,u),u.cellFormula!==!1)if(n.Formula){var p=nr(n.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),n.f=Wh(p,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Wh("RC:RC",a):n.ArrayRange&&(n.F=Wh(n.ArrayRange,a),c.push([sn(n.F),n.F]))}else for(g=0;g<c.length;++g)a.r>=c[g][0].s.r&&a.r<=c[g][0].e.r&&a.c>=c[g][0].s.c&&a.c<=c[g][0].e.c&&(n.F=c[g][1]);u.cellStyles&&(m.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Qze(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function _N(e,t){var r=t||{};XG();var n=A0(YP(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Or(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=aa(r);return o.type="string",Cv.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ve){a.indexOf("<"+Ve)>=0&&(s=!0)}),s)return iVe(n,r);ug={"General Number":"General","General Date":It[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":It[15],"Short Date":It[14],"Long Time":It[19],"Medium Time":It[18],"Short Time":It[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:It[2],Standard:It[4],Percent:It[10],Scientific:It[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=r.dense?[]:{},m="",g={},p={},v=ro('<Data ss:Type="String">'),y=0,b=0,_=0,j={s:{r:2e6,c:2e6},e:{r:0,c:0}},w={},S={},N="",C=0,k=[],E={},O={},T=0,U=[],W=[],R={},z=[],P,M=!1,I=[],q=[],J={},A=0,B=0,G={Sheets:[],WBProps:{date1904:!1}},H={};kv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ee="";l=kv.exec(n);)switch(l[3]=(ee=l[3]).toLowerCase()){case"data":if(ee=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?Xze(n.slice(y,l.index),N,v,c[c.length-1][0]=="comment"?R:g,{c:b,r:_},w,z[b],p,I,r):(N="",v=ro(l[0]),y=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(W.length>0&&(g.c=W),(!r.sheetRows||r.sheetRows>_)&&g.v!==void 0&&(r.dense?(h[_]||(h[_]=[]),h[_][b]=g):h[Fn(b)+sa(_)]=g),g.HRef&&(g.l={Target:nr(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(A=b+(parseInt(g.MergeAcross,10)|0),B=_+(parseInt(g.MergeDown,10)|0),k.push({s:{c:b,r:_},e:{c:A,r:B}})),!r.sheetStubs)g.MergeAcross?b=A+1:++b;else if(g.MergeAcross||g.MergeDown){for(var ue=b;ue<=A;++ue)for(var ye=_;ye<=B;++ye)(ue>b||ye>_)&&(r.dense?(h[ye]||(h[ye]=[]),h[ye][ue]={t:"z"}):h[Fn(ue)+sa(ye)]={t:"z"});b=A+1}else++b;else g=Hze(l[0]),g.Index&&(b=+g.Index-1),b<j.s.c&&(j.s.c=b),b>j.e.c&&(j.e.c=b),l[0].slice(-2)==="/>"&&++b,W=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(_<j.s.r&&(j.s.r=_),_>j.e.r&&(j.e.r=_),l[0].slice(-2)==="/>"&&(p=ro(l[0]),p.Index&&(_=+p.Index-1)),b=0,++_):(p=ro(l[0]),p.Index&&(_=+p.Index-1),J={},(p.AutoFitHeight=="0"||p.Height)&&(J.hpx=parseInt(p.Height,10),J.hpt=HK(J.hpx),q[_]=J),p.Hidden=="1"&&(J.hidden=!0,q[_]=J));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(m),j.s.r<=j.e.r&&j.s.c<=j.e.c&&(h["!ref"]=er(j),r.sheetRows&&r.sheetRows<=j.e.r&&(h["!fullref"]=h["!ref"],j.e.r=r.sheetRows-1,h["!ref"]=er(j))),k.length&&(h["!merges"]=k),z.length>0&&(h["!cols"]=z),q.length>0&&(h["!rows"]=q),d[m]=h}else j={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=b=0,c.push([l[3],!1]),u=ro(l[0]),m=nr(u.Name),h=r.dense?[]:{},k=[],I=[],q=[],H={name:m,Hidden:0},G.Sheets.push(H);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),z=[],M=!1}break;case"style":l[1]==="/"?Yze(w,S,r):S=ro(l[0]);break;case"numberformat":S.nf=nr(ro(l[0]).Format||"General"),ug[S.nf]&&(S.nf=ug[S.nf]);for(var ie=0;ie!=392&&It[ie]!=S.nf;++ie);if(ie==392){for(ie=57;ie!=392;++ie)if(It[ie]==null){Wd(S.nf,ie);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(P=ro(l[0]),P.Hidden&&(P.hidden=!0,delete P.Hidden),P.Width&&(P.wpx=parseInt(P.Width,10)),!M&&P.wpx>10){M=!0,ts=VK;for(var Y=0;Y<z.length;++Y)z[Y]&&Zm(z[Y])}M&&Zm(P),z[P.Index-1||z.length]=P;for(var L=0;L<+P.Span;++L)z[z.length]=aa(P);break;case"namedrange":if(l[1]==="/")break;G.Names||(G.Names=[]);var D=kt(l[0]),se={Name:D.Name,Ref:Wh(D.RefersTo.slice(1),{r:0,c:0})};G.Sheets.length>0&&(se.Sheet=G.Sheets.length-1),G.Names.push(se);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?N+=n.slice(C,l.index):C=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;S.Interior=ro(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?R8e(E,ee,n.slice(T,l.index)):T=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));Qze(R),W.push(R)}else c.push([l[3],!1]),u=ro(l[0]),R={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var be=ro(l[0]);h["!autofilter"]={ref:Wh(be.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return D5(n,r);var ve=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ve=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ve=!1}break;case"excelworkbook":switch(l[3]){case"date1904":G.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ve=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:ve=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(T,l.index)){case"SheetHidden":H.Hidden=1;break;case"SheetVeryHidden":H.Hidden=2;break}else T=l.index+l[0].length;break;case"header":h["!margins"]||cg(h["!margins"]={},"xlml"),isNaN(+kt(l[0]).Margin)||(h["!margins"].header=+kt(l[0]).Margin);break;case"footer":h["!margins"]||cg(h["!margins"]={},"xlml"),isNaN(+kt(l[0]).Margin)||(h["!margins"].footer=+kt(l[0]).Margin);break;case"pagemargins":var ke=kt(l[0]);h["!margins"]||cg(h["!margins"]={},"xlml"),isNaN(+ke.Top)||(h["!margins"].top=+ke.Top),isNaN(+ke.Left)||(h["!margins"].left=+ke.Left),isNaN(+ke.Right)||(h["!margins"].right=+ke.Right),isNaN(+ke.Bottom)||(h["!margins"].bottom=+ke.Bottom);break;case"displayrighttoleft":G.Views||(G.Views=[]),G.Views[0]||(G.Views[0]={}),G.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ve=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ve=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ve=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ve=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ve=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ve=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ve=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ve=!1}break;case"smarttags":break;default:ve=!1;break}if(ve||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?Gze(O,ee,U,n.slice(T,l.index)):(U=l,T=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var Se={};return!r.bookSheets&&!r.bookProps&&(Se.Sheets=d),Se.SheetNames=f,Se.Workbook=G,Se.SSF=aa(It),Se.Props=E,Se.Custprops=O,Se}function JC(e,t){switch(uO(t=t||{}),t.type||"base64"){case"base64":return _N(fi(e),t);case"binary":case"buffer":case"file":return _N(e,t);case"array":return _N(Df(e),t)}}function Jze(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=f8e(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=h8e(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Zze=[60,1084,2066,2165,2175];function eVe(e,t,r,n,a){var s=n,o=[],l=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=s;for(var c=ec(r,r.l),u=ZC[c],d=0;u!=null&&Zze.indexOf(c)>-1;)s=ec(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+s),o.push(l),r.l+=4+s,u=ZC[c=ec(r,r.l)];var f=Xc(o);ea(f,0);var h=0;f.lens=[];for(var m=0;m<o.length;++m)f.lens.push(h),h+=o[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Vo(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=It[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Mf[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Sv(e.v):e.w=gf(e.v):e.w=Hi(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&Fp(It[n]||String(n))){var a=Nd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Oy(e,t,r){return{v:e,ixfe:t,t:r}}function tVe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},o={},l=null,c=[],u="",d={},f,h="",m,g,p,v,y={},b=[],_,j,w=[],S=[],N={Sheets:[],WBProps:{date1904:!1},Views:[{}]},C={},k=function(we){return we<8?Hd[we]:we<64&&S[we-8]||Hd[we]},E=function(we,Be,We){var Qe=Be.XF.data;if(!(!Qe||!Qe.patternType||!We||!We.cellStyles)){Be.s={},Be.s.patternType=Qe.patternType;var Ct;(Ct=Ev(k(Qe.icvFore)))&&(Be.s.fgColor={rgb:Ct}),(Ct=Ev(k(Qe.icvBack)))&&(Be.s.bgColor={rgb:Ct})}},O=function(we,Be,We){if(!(J>1)&&!(We.sheetRows&&we.r>=We.sheetRows)){if(We.cellStyles&&Be.XF&&Be.XF.data&&E(we,Be,We),delete Be.ixfe,delete Be.XF,f=we,h=Ot(we),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),we.r<o.s.r&&(o.s.r=we.r),we.c<o.s.c&&(o.s.c=we.c),we.r+1>o.e.r&&(o.e.r=we.r+1),we.c+1>o.e.c&&(o.e.c=we.c+1),We.cellFormula&&Be.f){for(var Qe=0;Qe<b.length;++Qe)if(!(b[Qe][0].s.c>we.c||b[Qe][0].s.r>we.r)&&!(b[Qe][0].e.c<we.c||b[Qe][0].e.r<we.r)){Be.F=er(b[Qe][0]),(b[Qe][0].s.c!=we.c||b[Qe][0].s.r!=we.r)&&delete Be.f,Be.f&&(Be.f=""+ba(b[Qe][1],o,we,I,T));break}}We.dense?(a[we.r]||(a[we.r]=[]),a[we.r][we.c]=Be):a[h]=Be}},T={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(T.password=t.password);var U,W=[],R=[],z=[],P=[],M=!1,I=[];I.SheetNames=T.snames,I.sharedf=T.sharedf,I.arrayf=T.arrayf,I.names=[],I.XTI=[];var q=0,J=0,A=0,B=[],G=[],H;T.codepage=1200,bo(1200);for(var ee=!1;e.l<e.length-1;){var ue=e.l,ye=e.read_shift(2);if(ye===0&&q===10)break;var ie=e.l===e.length?0:e.read_shift(2),Y=ZC[ye];if(Y&&Y.f){if(t.bookSheets&&q===133&&ye!==133)break;if(q=ye,Y.r===2||Y.r==12){var L=e.read_shift(2);if(ie-=2,!T.enc&&L!==ye&&((L&255)<<8|L>>8)!==ye)throw new Error("rt mismatch: "+L+"!="+ye);Y.r==12&&(e.l+=10,ie-=10)}var D={};if(ye===10?D=Y.f(e,ie,T):D=eVe(ye,Y,e,ie,T),J==0&&[9,521,1033,2057].indexOf(q)===-1)continue;switch(ye){case 34:r.opts.Date1904=N.WBProps.date1904=D;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=D,!t.password)throw new Error("File is password-protected");if(D.valid==null)throw new Error("Encryption scheme unsupported");if(!D.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=D;break;case 66:var se=Number(D);switch(se){case 21010:se=1200;break;case 32768:se=1e4;break;case 32769:se=1252;break}bo(T.codepage=se),ee=!0;break;case 317:T.rrtabid=D;break;case 25:T.winlocked=D;break;case 439:r.opts.RefreshAll=D;break;case 12:r.opts.CalcCount=D;break;case 16:r.opts.CalcDelta=D;break;case 17:r.opts.CalcIter=D;break;case 13:r.opts.CalcMode=D;break;case 14:r.opts.CalcPrecision=D;break;case 95:r.opts.CalcSaveRecalc=D;break;case 15:T.CalcRefMode=D;break;case 2211:r.opts.FullCalc=D;break;case 129:D.fDialog&&(a["!type"]="dialog"),D.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),D.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:w.push(D);break;case 430:I.push([D]),I[I.length-1].XTI=[];break;case 35:case 547:I[I.length-1].push(D);break;case 24:case 536:H={Name:D.Name,Ref:ba(D.rgce,o,null,I,T)},D.itab>0&&(H.Sheet=D.itab-1),I.names.push(H),I[0]||(I[0]=[],I[0].XTI=[]),I[I.length-1].push(D),D.Name=="_xlnm._FilterDatabase"&&D.itab>0&&D.rgce&&D.rgce[0]&&D.rgce[0][0]&&D.rgce[0][0][0]=="PtgArea3d"&&(G[D.itab-1]={ref:er(D.rgce[0][0][1][2])});break;case 22:T.ExternCount=D;break;case 23:I.length==0&&(I[0]=[],I[0].XTI=[]),I[I.length-1].XTI=I[I.length-1].XTI.concat(D),I.XTI=I.XTI.concat(D);break;case 2196:if(T.biff<8)break;H!=null&&(H.Comment=D[1]);break;case 18:a["!protect"]=D;break;case 19:D!==0&&T.WTF&&console.error("Password verifier: "+D);break;case 133:s[D.pos]=D,T.snames.push(D.name);break;case 10:{if(--J)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=er(o),t.sheetRows&&t.sheetRows<=o.e.r){var be=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=er(o),o.e.r=be}o.e.r++,o.e.c++}W.length>0&&(a["!merges"]=W),R.length>0&&(a["!objects"]=R),z.length>0&&(a["!cols"]=z),P.length>0&&(a["!rows"]=P),N.Sheets.push(C)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(T.biff===8&&(T.biff={9:2,521:3,1033:4}[ye]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[D.BIFFVer]||8),T.biffguess=D.BIFFVer==0,D.BIFFVer==0&&D.dt==4096&&(T.biff=5,ee=!0,bo(T.codepage=28591)),T.biff==8&&D.BIFFVer==0&&D.dt==16&&(T.biff=2),J++)break;if(a=t.dense?[]:{},T.biff<8&&!ee&&(ee=!0,bo(T.codepage=t.codepage||1252)),T.biff<5||D.BIFFVer==0&&D.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var ve={pos:e.l-ie,name:u};s[ve.pos]=ve,T.snames.push(u)}else u=(s[ue]||{name:""}).name;D.dt==32&&(a["!type"]="chart"),D.dt==64&&(a["!type"]="macro"),W=[],R=[],T.arrayf=b=[],z=[],P=[],M=!1,C={Hidden:(s[ue]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[D.r]||[])[D.c]:a[Ot({c:D.c,r:D.r})])&&++D.c,_={ixfe:D.ixfe,XF:w[D.ixfe]||{},v:D.val,t:"n"},A>0&&(_.z=B[_.ixfe>>8&63]),Vo(_,t,r.opts.Date1904),O({c:D.c,r:D.r},_,t);break;case 5:case 517:_={ixfe:D.ixfe,XF:w[D.ixfe],v:D.val,t:D.t},A>0&&(_.z=B[_.ixfe>>8&63]),Vo(_,t,r.opts.Date1904),O({c:D.c,r:D.r},_,t);break;case 638:_={ixfe:D.ixfe,XF:w[D.ixfe],v:D.rknum,t:"n"},A>0&&(_.z=B[_.ixfe>>8&63]),Vo(_,t,r.opts.Date1904),O({c:D.c,r:D.r},_,t);break;case 189:for(var ke=D.c;ke<=D.C;++ke){var Se=D.rkrec[ke-D.c][0];_={ixfe:Se,XF:w[Se],v:D.rkrec[ke-D.c][1],t:"n"},A>0&&(_.z=B[_.ixfe>>8&63]),Vo(_,t,r.opts.Date1904),O({c:ke,r:D.r},_,t)}break;case 6:case 518:case 1030:{if(D.val=="String"){l=D;break}if(_=Oy(D.val,D.cell.ixfe,D.tt),_.XF=w[_.ixfe],t.cellFormula){var Ve=D.formula;if(Ve&&Ve[0]&&Ve[0][0]&&Ve[0][0][0]=="PtgExp"){var dt=Ve[0][0][1][0],ae=Ve[0][0][1][1],pe=Ot({r:dt,c:ae});y[pe]?_.f=""+ba(D.formula,o,D.cell,I,T):_.F=((t.dense?(a[dt]||[])[ae]:a[pe])||{}).F}else _.f=""+ba(D.formula,o,D.cell,I,T)}A>0&&(_.z=B[_.ixfe>>8&63]),Vo(_,t,r.opts.Date1904),O(D.cell,_,t),l=D}break;case 7:case 519:if(l)l.val=D,_=Oy(D,l.cell.ixfe,"s"),_.XF=w[_.ixfe],t.cellFormula&&(_.f=""+ba(l.formula,o,l.cell,I,T)),A>0&&(_.z=B[_.ixfe>>8&63]),Vo(_,t,r.opts.Date1904),O(l.cell,_,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(D);var te=Ot(D[0].s);if(m=t.dense?(a[D[0].s.r]||[])[D[0].s.c]:a[te],t.cellFormula&&m){if(!l||!te||!m)break;m.f=""+ba(D[1],o,D[0],I,T),m.F=er(D[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;y[Ot(l.cell)]=D[0],m=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[Ot(l.cell)],(m||{}).f=""+ba(D[0],o,f,I,T)}}break;case 253:_=Oy(c[D.isst].t,D.ixfe,"s"),c[D.isst].h&&(_.h=c[D.isst].h),_.XF=w[_.ixfe],A>0&&(_.z=B[_.ixfe>>8&63]),Vo(_,t,r.opts.Date1904),O({c:D.c,r:D.r},_,t);break;case 513:t.sheetStubs&&(_={ixfe:D.ixfe,XF:w[D.ixfe],t:"z"},A>0&&(_.z=B[_.ixfe>>8&63]),Vo(_,t,r.opts.Date1904),O({c:D.c,r:D.r},_,t));break;case 190:if(t.sheetStubs)for(var re=D.c;re<=D.C;++re){var he=D.ixfe[re-D.c];_={ixfe:he,XF:w[he],t:"z"},A>0&&(_.z=B[_.ixfe>>8&63]),Vo(_,t,r.opts.Date1904),O({c:re,r:D.r},_,t)}break;case 214:case 516:case 4:_=Oy(D.val,D.ixfe,"s"),_.XF=w[_.ixfe],A>0&&(_.z=B[_.ixfe>>8&63]),Vo(_,t,r.opts.Date1904),O({c:D.c,r:D.r},_,t);break;case 0:case 512:J===1&&(o=D);break;case 252:c=D;break;case 1054:if(T.biff==4){B[A++]=D[1];for(var Pe=0;Pe<A+163&&It[Pe]!=D[1];++Pe);Pe>=163&&Wd(D[1],A+163)}else Wd(D[1],D[0]);break;case 30:{B[A++]=D;for(var Re=0;Re<A+163&&It[Re]!=D;++Re);Re>=163&&Wd(D,A+163)}break;case 229:W=W.concat(D);break;case 93:R[D.cmo[0]]=T.lastobj=D;break;case 438:T.lastobj.TxO=D;break;case 127:T.lastobj.ImData=D;break;case 440:for(v=D[0].s.r;v<=D[0].e.r;++v)for(p=D[0].s.c;p<=D[0].e.c;++p)m=t.dense?(a[v]||[])[p]:a[Ot({c:p,r:v})],m&&(m.l=D[1]);break;case 2048:for(v=D[0].s.r;v<=D[0].e.r;++v)for(p=D[0].s.c;p<=D[0].e.c;++p)m=t.dense?(a[v]||[])[p]:a[Ot({c:p,r:v})],m&&m.l&&(m.l.Tooltip=D[1]);break;case 28:{if(T.biff<=5&&T.biff>=2)break;m=t.dense?(a[D[0].r]||[])[D[0].c]:a[Ot(D[0])];var et=R[D[2]];m||(t.dense?(a[D[0].r]||(a[D[0].r]=[]),m=a[D[0].r][D[0].c]={t:"z"}):m=a[Ot(D[0])]={t:"z"},o.e.r=Math.max(o.e.r,D[0].r),o.s.r=Math.min(o.s.r,D[0].r),o.e.c=Math.max(o.e.c,D[0].c),o.s.c=Math.min(o.s.c,D[0].c)),m.c||(m.c=[]),g={a:D[1],t:et.TxO.t},m.c.push(g)}break;case 2173:j9e(w[D.ixfe],D.ext);break;case 125:{if(!T.cellStyles)break;for(;D.e>=D.s;)z[D.e--]={width:D.w/256,level:D.level||0,hidden:!!(D.flags&1)},M||(M=!0,sO(D.w/256)),Zm(z[D.e+1])}break;case 520:{var rt={};D.level!=null&&(P[D.r]=rt,rt.level=D.level),D.hidden&&(P[D.r]=rt,rt.hidden=!0),D.hpt&&(P[D.r]=rt,rt.hpt=D.hpt,rt.hpx=Tv(D.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||cg(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ye]]=D;break;case 161:a["!margins"]||cg(a["!margins"]={}),a["!margins"].header=D.header,a["!margins"].footer=D.footer;break;case 574:D.RTL&&(N.Views[0].RTL=!0);break;case 146:S=D;break;case 2198:U=D;break;case 140:j=D;break;case 442:u?C.CodeName=D||C.name:N.WBProps.CodeName=D||"ThisWorkbook";break}}else Y||console.error("Missing Info for XLS Record 0x"+ye.toString(16)),e.l+=ie}return r.SheetNames=Nl(s).sort(function(jt,we){return Number(jt)-Number(we)}).map(function(jt){return s[jt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&G.forEach(function(jt,we){r.Sheets[r.SheetNames[we]]["!autofilter"]=jt}),r.Strings=c,r.SSF=aa(It),T.enc&&(r.Encryption=T.enc),U&&(r.Themes=U),r.Metadata={},j!==void 0&&(r.Metadata.Country=j),I.names.length>0&&(N.Names=I.names),r.Workbook=N,r}var E5={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function rVe(e,t,r){var n=Zt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=d5(n,y8e,E5.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var o=Zt.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=d5(o,b8e,E5.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(kK(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function cY(e,t){t||(t={}),uO(t),LG(),t.codepage&&zP(t.codepage);var r,n;if(e.FullPaths){if(Zt.find(e,"/encryption"))throw new Error("File is password-protected");r=Zt.find(e,"!CompObj"),n=Zt.find(e,"/Workbook")||Zt.find(e,"/Book")}else{switch(t.type){case"base64":e=vo(fi(e));break;case"binary":e=vo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ea(e,0),n={content:e}}var a,s;if(r&&Jze(r),t.bookProps&&!t.bookSheets)a={};else{var o=Jt?"buffer":"array";if(n&&n.content)a=tVe(n.content,t);else if((s=Zt.find(e,"PerfectOffice_MAIN"))&&s.content)a=og.to_workbook(s.content,(t.type=o,t));else if((s=Zt.find(e,"NativeContent_MAIN"))&&s.content)a=og.to_workbook(s.content,(t.type=o,t));else throw(s=Zt.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Zt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=U9e(e))}var l={};return e.FullPaths&&rVe(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}var h_={0:{f:I7e},1:{f:U7e},2:{f:X7e},3:{f:H7e},4:{f:V7e},5:{f:Y7e},6:{f:Z7e},7:{f:G7e},8:{f:aze},9:{f:nze},10:{f:tze},11:{f:rze},12:{f:z7e},13:{f:Q7e},14:{f:q7e},15:{f:W7e},16:{f:aY},17:{f:eze},18:{f:K7e},19:{f:ZP},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Pze},40:{},42:{},43:{f:t9e},44:{f:e9e},45:{f:r9e},46:{f:a9e},47:{f:n9e},48:{},49:{f:s8e},50:{},51:{f:N9e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:LK},62:{f:J7e},63:{f:A9e},64:{f:hze},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ia,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:fze},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:B7e},148:{f:L7e,p:16},151:{f:oze},152:{},153:{f:Tze},154:{},155:{},156:{f:Eze},157:{},158:{},159:{T:1,f:bBe},160:{T:-1},161:{T:1,f:Ff},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:sze},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:S9e},336:{T:-1},337:{f:k9e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:KC},357:{},358:{},359:{},360:{T:1},361:{},362:{f:IK},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:lze},427:{f:cze},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:dze},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:$7e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:ize},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:KC},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:L9e},633:{T:1},634:{T:-1},635:{T:1,f:I9e},636:{T:-1},637:{f:o8e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:yze},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:mze},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},ZC={6:{f:yN},10:{f:Lc},12:{f:yn},13:{f:yn},14:{f:cn},15:{f:cn},16:{f:Na},17:{f:cn},18:{f:cn},19:{f:yn},20:{f:p5},21:{f:p5},23:{f:IK},24:{f:v5},25:{f:cn},26:{},27:{},28:{f:F6e},29:{},34:{f:cn},35:{f:g5},38:{f:Na},39:{f:Na},40:{f:Na},41:{f:Na},42:{f:cn},43:{f:cn},47:{f:$Be},49:{f:g6e},51:{f:yn},60:{},61:{f:h6e},64:{f:cn},65:{f:p6e},66:{f:yn},77:{},80:{},81:{},82:{},85:{f:yn},89:{},90:{},91:{},92:{f:s6e},93:{f:I6e},94:{},95:{f:cn},96:{},97:{},99:{f:cn},125:{f:LK},128:{f:k6e},129:{f:i6e},130:{f:yn},131:{f:cn},132:{f:cn},133:{f:o6e},134:{},140:{f:V6e},141:{f:yn},144:{},146:{f:H6e},151:{},152:{},153:{},154:{},155:{},156:{f:yn},157:{},158:{},160:{f:X6e},161:{f:G6e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:w6e},190:{f:j6e},193:{f:Lc},197:{},198:{},199:{},200:{},201:{},202:{f:cn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:yn},220:{},221:{f:cn},222:{},224:{f:N6e},225:{f:a6e},226:{f:Lc},227:{},229:{f:M6e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:l6e},253:{f:v6e},255:{f:c6e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:PK},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:cn},353:{f:Lc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:E6e},431:{f:cn},432:{},433:{},434:{},437:{},438:{f:B6e},439:{f:cn},440:{f:U6e},441:{},442:{f:jx},443:{},444:{f:yn},445:{},446:{},448:{f:Lc},449:{f:f6e,r:2},450:{f:Lc},512:{f:h5},513:{f:Y6e},515:{f:C6e},516:{f:x6e},517:{f:m5},519:{f:Q6e},520:{f:u6e},523:{},545:{f:x5},549:{f:f5},566:{},574:{f:m6e},638:{f:_6e},659:{},1048:{},1054:{f:y6e},1084:{},1212:{f:O6e},2048:{f:z6e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Ty},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Lc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:q6e,r:12},2173:{f:w9e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:cn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:P6e,r:12},2197:{},2198:{f:g9e,r:12},2199:{},2200:{},2201:{},2202:{f:D6e,r:12},2203:{f:Lc},2204:{},2205:{},2206:{},2207:{},2211:{f:d6e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:yn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:K6e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:W6e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:h5},1:{},2:{f:tBe},3:{f:eBe},4:{f:Z6e},5:{f:m5},7:{f:rBe},8:{},9:{f:Ty},11:{},22:{f:yn},30:{f:b6e},31:{},32:{},33:{f:x5},36:{},37:{f:f5},50:{f:nBe},62:{},52:{},67:{},68:{f:yn},69:{},86:{},126:{},127:{f:J6e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:aBe},223:{},234:{},354:{},421:{},518:{f:yN},521:{f:Ty},536:{f:v5},547:{f:g5},561:{},579:{},1030:{f:yN},1033:{f:Ty},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function no(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,s),s>0&&xK(r)&&e.push(r)}}function T5(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=a.index,l=s&&s.index||e.length,c=C$e(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(o=0;o<c.length;++o){var p=c[o].trim(),v=p.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var y=p.split(/<\/t[dh]>/i);for(l=0;l<y.length;++l){var b=y[l].trim();if(b.match(/<t[dh]/i)){for(var _=b,j=0;_.charAt(0)=="<"&&(j=_.indexOf(">"))>-1;)_=_.slice(j+1);for(var w=0;w<g.length;++w){var S=g[w];S.s.c==d&&S.s.r<u&&u<=S.e.r&&(d=S.e.c+1,w=-1)}var N=kt(b.slice(0,b.indexOf(">")));h=N.colspan?+N.colspan:1,((f=+N.rowspan)>1||h>1)&&g.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var C=N.t||N["data-t"]||"";if(!_.length){d+=h;continue}if(_=sK(_),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!_.length){d+=h;continue}var k={t:"s",v:_};r.raw||!_.trim().length||C=="s"||(_==="TRUE"?k={t:"b",v:!0}:_==="FALSE"?k={t:"b",v:!1}:isNaN(No(_))?isNaN(Jm(_).getDate())||(k={t:"d",v:Gn(_)},r.cellDates||(k={t:"n",v:ms(k.v)}),k.z=r.dateNF||It[14]):k={t:"n",v:No(_)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=k):n[Ot({r:u,c:d})]=k,d+=h}}}}return n["!ref"]=er(m),g.length&&(n["!merges"]=g),n}function nVe(e,t,r,n){for(var a=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=Ot({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||KP(f.w||(_c(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,s.push(V$e("td",h,m))}}var g="<tr>";return g+s.join("")+"</tr>"}var aVe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',sVe="</body></html>";function iVe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Ju(T5(r[0],t),t);var n=fO();return r.forEach(function(a,s){hO(n,T5(a,t),"Sheet"+(s+1))}),n}function oVe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function lVe(e,t){var r=t||{},n=r.header!=null?r.header:aVe,a=r.footer!=null?r.footer:sVe,s=[n],o=Mp(e["!ref"]);r.dense=Array.isArray(e),s.push(oVe(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)s.push(nVe(e,o,l,r));return s.push("</table>"+a),s.join("")}function uY(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?cs(n.origin):n.origin;a=o.r,s=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=Mp(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),g=0,p=0,v=0,y=0,b=0,_=0;for(e["!cols"]||(e["!cols"]=[]);g<l.length&&p<c;++g){var j=l[g];if(A5(j)){if(n.display)continue;m[p]={hidden:!0}}var w=j.children;for(v=y=0;v<w.length;++v){var S=w[v];if(!(n.display&&A5(S))){var N=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):sK(S.innerHTML),C=S.getAttribute("data-z")||S.getAttribute("z");for(h=0;h<f.length;++h){var k=f[h];k.s.c==y+s&&k.s.r<p+a&&p+a<=k.e.r&&(y=k.e.c+1-s,h=-1)}_=+S.getAttribute("colspan")||1,((b=+S.getAttribute("rowspan")||1)>1||_>1)&&f.push({s:{r:p+a,c:y+s},e:{r:p+a+(b||1)-1,c:y+s+(_||1)-1}});var E={t:"s",v:N},O=S.getAttribute("data-t")||S.getAttribute("t")||"";N!=null&&(N.length==0?E.t=O||"z":n.raw||N.trim().length==0||O=="s"||(N==="TRUE"?E={t:"b",v:!0}:N==="FALSE"?E={t:"b",v:!1}:isNaN(No(N))?isNaN(Jm(N).getDate())||(E={t:"d",v:Gn(N)},n.cellDates||(E={t:"n",v:ms(E.v)}),E.z=n.dateNF||It[14]):E={t:"n",v:No(N)})),E.z===void 0&&C!=null&&(E.z=C);var T="",U=S.getElementsByTagName("A");if(U&&U.length)for(var W=0;W<U.length&&!(U[W].hasAttribute("href")&&(T=U[W].getAttribute("href"),T.charAt(0)!="#"));++W);T&&T.charAt(0)!="#"&&(E.l={Target:T}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][y+s]=E):e[Ot({c:y+s,r:p+a})]=E,u.e.c<y+s&&(u.e.c=y+s),y+=_}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,p-1+a),e["!ref"]=er(u),p>=c&&(e["!fullref"]=er((u.e.r=l.length-g+p-1+a,u))),e}function dY(e,t){var r=t||{},n=r.dense?[]:{};return uY(n,e,t)}function cVe(e,t){return Ju(dY(e,t),t)}function A5(e){var t="",r=uVe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function uVe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function dVe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=nr(t.replace(/<[^>]*>/g,""));return[r]}var P5={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function fY(e,t){var r=t||{},n=YP(e),a=[],s,o,l={name:""},c="",u=0,d,f,h={},m=[],g=r.dense?[]:{},p,v,y={value:""},b="",_=0,j=[],w=-1,S=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,k={},E=[],O={},T=0,U=0,W=[],R=1,z=1,P=[],M={Names:[]},I={},q=["",""],J=[],A={},B="",G=0,H=!1,ee=!1,ue=0;for(kv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=kv.exec(n);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"":p[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?g["!ref"]=er(N):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=N.e.r&&(g["!fullref"]=g["!ref"],N.e.r=r.sheetRows-1,g["!ref"]=er(N)),E.length&&(g["!merges"]=E),W.length&&(g["!rows"]=W),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=g,ee=!1):p[0].charAt(p[0].length-2)!=="/"&&(d=kt(p[0],!1),w=S=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,g=r.dense?[]:{},E=[],W=[],ee=!0);break;case"table-row-group":p[1]==="/"?--C:++C;break;case"table-row":case"":if(p[1]==="/"){w+=R,R=1;break}if(f=kt(p[0],!1),f.?w=f.-1:w==-1&&(w=0),R=+f["number-rows-repeated"]||1,R<10)for(ue=0;ue<R;++ue)C>0&&(W[w+ue]={level:C});S=-1;break;case"covered-table-cell":p[1]!=="/"&&++S,r.sheetStubs&&(r.dense?(g[w]||(g[w]=[]),g[w][S]={t:"z"}):g[Ot({r:w,c:S})]={t:"z"}),b="",j=[];break;case"table-cell":case"":if(p[0].charAt(p[0].length-2)==="/")++S,y=kt(p[0],!1),z=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=N5(nr(y.formula))),(y.||y["value-type"])=="string"&&(v.t="s",v.v=nr(y["string-value"]||""),r.dense?(g[w]||(g[w]=[]),g[w][S]=v):g[Ot({r:w,c:S})]=v),S+=z-1;else if(p[1]!=="/"){++S,b="",_=0,j=[],z=1;var ye=R?w+R-1:w;if(S>N.e.c&&(N.e.c=S),S<N.s.c&&(N.s.c=S),w<N.s.r&&(N.s.r=w),ye>N.e.r&&(N.e.r=ye),y=kt(p[0],!1),J=[],A={},v={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=nr(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(T=parseInt(y["number-matrix-rows-spanned"],10)||0,U=parseInt(y["number-matrix-columns-spanned"],10)||0,O={s:{r:w,c:S},e:{r:w+T-1,c:S+U-1}},v.F=er(O),P.push([O,v.F])),y.formula)v.f=N5(y.formula);else for(ue=0;ue<P.length;++ue)w>=P[ue][0].s.r&&w<=P[ue][0].e.r&&S>=P[ue][0].s.c&&S<=P[ue][0].e.c&&(v.F=P[ue][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(T=parseInt(y["number-rows-spanned"],10)||0,U=parseInt(y["number-columns-spanned"],10)||0,O={s:{r:w,c:S},e:{r:w+T-1,c:S+U-1}},E.push(O)),y["number-columns-repeated"]&&(z=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Ur(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=Gn(y["date-value"]),r.cellDates||(v.t="n",v.v=ms(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=S$e(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=gj(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(b=nr(y["string-value"]),j=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(H=!1,v.t==="s"&&(v.v=b||"",j.length&&(v.R=j),H=_==0),I.Target&&(v.l=I),J.length>0&&(v.c=J,J=[]),b&&r.cellText!==!1&&(v.w=b),H&&(v.t="z",delete v.v),(!H||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=w))for(var ie=0;ie<R;++ie){if(z=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[w+ie]||(g[w+ie]=[]),g[w+ie][S]=ie==0?v:aa(v);--z>0;)g[w+ie][S+z]=aa(v);else for(g[Ot({r:w+ie,c:S})]=v;--z>0;)g[Ot({r:w+ie,c:S+z})]=aa(v);N.e.c<=S&&(N.e.c=S)}z=parseInt(y["number-columns-repeated"]||"1",10),S+=z-1,z=0,v={},b="",j=[]}I={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s;A.t=b,j.length&&(A.R=j),A.a=B,J.push(A)}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);B="",G=0,b="",_=0,j=[];break;case"creator":p[1]==="/"?B=n.slice(G,p.index):G=p.index+p[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);b="",_=0,j=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(k[l.name]=c,(s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&(c="",l=kt(p[0],!1),a.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=kt(p[0],!1),c+=P5[p[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=kt(p[0],!1),c+=P5[p[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,p.index);break}else u=p.index+p[0].length;break;case"named-range":o=kt(p[0],!1),q=bN(o["cell-range-address"]);var Y={Name:o.name,Ref:q[0]+"!"+q[1]};ee&&(Y.Sheet=m.length),M.Names.push(Y);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(p[1]==="/"&&(!y||!y["string-value"])){var L=dVe(n.slice(_,p.index));b=(b.length>0?b+`
`:"")+L[0]}else kt(p[0],!1),_=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{q=bN(kt(p[0])["target-range-address"]),h[q[0]]["!autofilter"]={ref:q[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(I=kt(p[0],!1),!I.href)break;I.Target=nr(I.href),delete I.href,I.Target.charAt(0)=="#"&&I.Target.indexOf(".")>-1?(q=bN(I.Target.slice(1)),I.Target="#"+q[0]+"!"+q[1]):I.Target.match(/^\.\.[\\\/]/)&&(I.Target=I.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(p)}}var D={Sheets:h,SheetNames:m,Workbook:M};return r.bookSheets&&delete D.Sheets,D}function O5(e,t){t=t||{},ki(e,"META-INF/manifest.xml")&&C8e(xn(e,"META-INF/manifest.xml"),t);var r=ni(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=fY(Or(r),t);return ki(e,"meta.xml")&&(n.Props=NK(xn(e,"meta.xml"))),n}function D5(e,t){return fY(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function lO(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function eE(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Or(Df(e))}function tE(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function R5(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function fVe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Av(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function In(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Ca(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Av(e,r),s=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Av(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function cO(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function hVe(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Av(e,n),s=Ca(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:In(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Ca(l.data),u=In(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(o.merge=In(s[3][0].data)>>>0>0),r.push(o)}return r}function mVe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Av(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[tE(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=tE(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function pVe(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(mVe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return tE(t)}function gVe(e,t,r,n){var a=lO(e),s=a.getUint32(4,!0),o=(n>1?12:8)+R5(s&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);s&512&&(l=a.getUint32(o,!0),o+=4),o+=R5(s&(n>1?12288:4096))*4,s&16&&(c=a.getUint32(o,!0),o+=4),s&32&&(u=a.getFloat64(o,!0),o+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function vVe(e,t,r){var n=lO(e),a=n.getUint32(8,!0),s=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=fVe(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(l=n.getUint32(s,!0),s+=4),a&16&&(o=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function xVe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return gVe(e,t,r,e[0]);case 5:return vVe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Cu(e){var t=Ca(e);return Av(t[1][0].data)}function F5(e,t){var r=Ca(t.data),n=In(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(o){var l=Ca(o.data),c=In(l[1][0].data)>>>0;switch(n){case 1:s[c]=eE(l[3][0].data);break;case 8:{var u=e[Cu(l[9][0].data)][0],d=Ca(u.data),f=e[Cu(d[1][0].data)][0],h=In(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Ca(f.data);s[c]=m[3].map(function(g){return eE(g.data)}).join("")}break}}),s}function yVe(e,t){var r,n,a,s,o,l,c,u,d,f,h,m,g,p,v=Ca(e),y=In(v[1][0].data)>>>0,b=In(v[2][0].data)>>>0,_=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&In(v[8][0].data)>0||!1,j,w;if((s=(a=v[7])==null?void 0:a[0])!=null&&s.data&&t!=0)j=(l=(o=v[7])==null?void 0:o[0])==null?void 0:l.data,w=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)j=(m=(h=v[4])==null?void 0:h[0])==null?void 0:m.data,w=(p=(g=v[3])==null?void 0:g[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var S=_?4:1,N=lO(j),C=[],k=0;k<j.length/2;++k){var E=N.getUint16(k*2,!0);E<65535&&C.push([k,E])}if(C.length!=b)throw"Expected ".concat(b," cells, found ").concat(C.length);var O=[];for(k=0;k<C.length-1;++k)O[C[k][0]]=w.subarray(C[k][1]*S,C[k+1][1]*S);return C.length>=1&&(O[C[C.length-1][0]]=w.subarray(C[C.length-1][1]*S)),{R:y,cells:O}}function bVe(e,t){var r,n=Ca(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?In(n[7][0].data)>>>0>0?1:0:-1,s=cO(n[5],function(o){return yVe(o,a)});return{nrows:In(n[4][0].data)>>>0,data:s.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function _Ve(e,t,r){var n,a=Ca(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(In(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(In(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=er(s);var o=Ca(a[4][0].data),l=F5(e,e[Cu(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?F5(e,e[Cu(o[17][0].data)][0]):[],u=Ca(o[3][0].data),d=0;u[1].forEach(function(f){var h=Ca(f.data),m=e[Cu(h[2][0].data)][0],g=In(m.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var p=bVe(e,m);p.data.forEach(function(v,y){v.forEach(function(b,_){var j=Ot({r:d+y,c:_}),w=xVe(b,l,c);w&&(r[j]=w)})}),d+=p.nrows})}function wVe(e,t){var r=Ca(t.data),n={"!ref":"A1"},a=e[Cu(r[2][0].data)],s=In(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return _Ve(e,a[0],n),n}function jVe(e,t){var r,n=Ca(t.data),a={name:(r=n[1])!=null&&r[0]?eE(n[1][0].data):"",sheets:[]},s=cO(n[2],Cu);return s.forEach(function(o){e[o].forEach(function(l){var c=In(l.meta[1][0].data);c==6e3&&a.sheets.push(wVe(e,l))})}),a}function SVe(e,t){var r=fO(),n=Ca(t.data),a=cO(n[1],Cu);if(a.forEach(function(s){e[s].forEach(function(o){var l=In(o.meta[1][0].data);if(l==2){var c=jVe(e,o);c.sheets.forEach(function(u,d){hO(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function wN(e){var t,r,n,a,s={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=pVe(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=hVe(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&In(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||o.forEach(function(c){s[c].forEach(function(u){var d=In(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return SVe(s,l)}function NVe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function uO(e){NVe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function kVe(e){return kh.WS.indexOf(e)>-1?"sheet":e==kh.CS?"chart":e==kh.DS?"dialog":e==kh.MS?"macro":e&&e.length?e:"sheet"}function CVe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,kVe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function EVe(e,t,r,n,a,s,o,l,c,u,d,f){try{s[n]=sg(ni(e,r,!0),t);var h=xn(e,t),m;switch(l){case"sheet":m=Rze(h,t,a,c,s[n],u,d,f);break;case"chart":if(m=Fze(h,t,a,c,s[n],u,d,f),!m||!m["!drawel"])break;var g=O0(m["!drawel"].Target,t),p=YC(g),v=D9e(ni(e,g,!0),sg(ni(e,p,!0),g)),y=O0(v,g),b=YC(y);m=vze(ni(e,y,!0),y,c,sg(ni(e,b,!0),y),u,m);break;case"macro":m=Mze(h,t,a,c,s[n],u,d,f);break;case"dialog":m=Ize(h,t,a,c,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=m;var _=[];s&&s[n]&&Nl(s[n]).forEach(function(j){var w="";if(s[n][j].Type==kh.CMNT){w=O0(s[n][j].Target,t);var S=Uze(xn(e,w,!0),w,c);if(!S||!S.length)return;b5(m,S,!1)}s[n][j].Type==kh.TCMNT&&(w=O0(s[n][j].Target,t),_=_.concat(F9e(xn(e,w,!0),c)))}),_&&_.length&&b5(m,_,!0,c.people||[])}catch(j){if(c.WTF)throw j}}function Si(e){return e.charAt(0)=="/"?e.slice(1):e}function TVe(e,t){if(XG(),t=t||{},uO(t),ki(e,"META-INF/manifest.xml")||ki(e,"objectdata.xml"))return O5(e,t);if(ki(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof wN<"u"){if(e.FileIndex)return wN(e);var r=Zt.utils.cfb_new();return GL(e).forEach(function(W){A$e(r,W,T$e(e,W))}),wN(r)}throw new Error("Unsupported NUMBERS file")}if(!ki(e,"[Content_Types].xml"))throw ki(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ki(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=GL(e),a=N8e(ni(e,"[Content_Types].xml")),s=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",xn(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!xn(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(lg=[],a.sst)try{lg=Bze(xn(e,Si(a.sst)),a.sst,t)}catch(W){if(t.WTF)throw W}t.cellStyles&&a.themes.length&&(c=$ze(ni(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=Lze(xn(e,Si(a.style)),a.style,c,t))}a.links.map(function(W){try{var R=sg(ni(e,YC(Si(W))),W);return Vze(xn(e,Si(W)),R,W,t)}catch{}});var d=Dze(xn(e,Si(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=xn(e,Si(a.coreprops[0]),!0),h&&(f=NK(h)),a.extprops.length!==0&&(h=xn(e,Si(a.extprops[0]),!0),h&&A8e(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=ni(e,Si(a.custprops[0]),!0),h&&(m=O8e(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(R){return R.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=m),t.bookSheets&&typeof o<"u"&&(g.SheetNames=o),t.bookSheets?g.SheetNames:t.bookProps))return g;o={};var p={};t.bookDeps&&a.calcchain&&(p=zze(xn(e,Si(a.calcchain)),a.calcchain));var v=0,y={},b,_;{var j=d.Sheets;f.Worksheets=j.length,f.SheetNames=[];for(var w=0;w!=j.length;++w)f.SheetNames[w]=j[w].name}var S=s?"bin":"xml",N=a.workbooks[0].lastIndexOf("/"),C=(a.workbooks[0].slice(0,N+1)+"_rels/"+a.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");ki(e,C)||(C="xl/_rels/workbook."+S+".rels");var k=sg(ni(e,C,!0),C.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Wze(xn(e,Si(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=M9e(xn(e,Si(a.people[0])),t)),k&&(k=CVe(k,d.Sheets));var E=xn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var O="sheet";if(k&&k[v]?(b="xl/"+k[v][1].replace(/[\/]?xl\//,""),ki(e,b)||(b=k[v][1]),ki(e,b)||(b=C.replace(/_rels\/.*$/,"")+k[v][1]),O=k[v][2]):(b="xl/worksheets/sheet"+(v+1-E)+"."+S,b=b.replace(/sheet0\./,"sheet.")),_=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var T=!1,U=0;U!=t.sheets.length;++U)typeof t.sheets[U]=="number"&&t.sheets[U]==v&&(T=1),typeof t.sheets[U]=="string"&&t.sheets[U].toLowerCase()==f.SheetNames[v].toLowerCase()&&(T=1);if(!T)continue e}}EVe(e,b,_,f.SheetNames[v],v,y,o,O,t,d,c,u)}return g={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:p,Sheets:o,SheetNames:f.SheetNames,Strings:lg,Styles:u,Themes:c,SSF:aa(It)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(W,R){W=W.replace(/^Root Entry[\/]/,""),g.keys.push(W),g.files[W]=e.FileIndex[R]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=xn(e,Si(a.vba[0]),!0):a.defaults&&a.defaults.bin===B9e&&(g.vbaraw=xn(e,"xl/vbaProject.bin",!0))),g}function AVe(e,t){var r=t||{},n="Workbook",a=Zt.find(e,n);try{if(n="/!DataSpaces/Version",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(wBe(a.content),n="/!DataSpaces/DataSpaceMap",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=SBe(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=NBe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);CBe(a.content)}catch{}if(n="/EncryptionInfo",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=EBe(a.content);if(n="/EncryptedPackage",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function dO(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=fi(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function PVe(e,t){return Zt.find(e,"EncryptedPackage")?AVe(e,t):cY(e,t)}function OVe(e,t){var r,n=e,a=t||{};return a.type||(a.type=Jt&&Buffer.isBuffer(e)?"buffer":"base64"),r=rK(n,a),TVe(r,a)}function hY(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return JC(e.slice(r),t);default:break e}return Cv.to_workbook(e,t)}function DVe(e,t){var r="",n=dO(e,t);switch(t.type){case"base64":r=fi(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=vf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Or(r)),t.type="binary",hY(r,t)}function RVe(e,t){var r=e;return t.type=="base64"&&(r=fi(r)),r=Yc.utils.decode(1200,r.slice(2),"str"),t.type="binary",hY(r,t)}function FVe(e){return e.match(/[^\x00-\x7F]/)?D0(e):e}function jN(e,t,r,n){return n?(r.type="string",Cv.to_workbook(e,r)):Cv.to_workbook(t,r)}function rE(e,t){LG();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return rE(new Uint8Array(e),(r=aa(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Hh={},r.dateNF&&(Hh.dateNF=r.dateNF),r.type||(r.type=Jt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Jt?"buffer":"binary",n=w$e(e),typeof Uint8Array<"u"&&!Jt&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=FVe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=aa(r),r.type="array",rE(VP(n),r)}switch((a=dO(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return PVe(Zt.read(n,r),r);break;case 9:if(a[1]<=8)return cY(n,r);break;case 60:return JC(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return cBe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return oBe.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?OVe(n,r):jN(e,n,r,s);case 239:return a[3]===60?JC(n,r):jN(e,n,r,s);case 255:if(a[1]===254)return RVe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return og.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return og.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return y5.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return BBe.to_workbook(n,r);break;case 10:case 13:case 32:return DVe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return sBe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?y5.to_workbook(n,r):jN(e,n,r,s)}function MVe(e,t,r,n,a,s,o,l){var c=sa(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var m=t.s.c;m<=t.e.c;++m){var g=o?e[r][m]:e[n[m]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;s[m]!=null&&(h[s[m]]=u);continue}var p=g.v;switch(g.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[m]!=null){if(p==null)if(g.t=="e"&&p===null)h[s[m]]=null;else if(u!==void 0)h[s[m]]=u;else if(d&&p===null)h[s[m]]=null;else continue;else h[s[m]]=d&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?p:_c(g,p,l);p!=null&&(f=!1)}}return{row:h,isempty:f}}function nE(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=sn(d);break;case"number":c=sn(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=sa(c.s.r),h=[],m=[],g=0,p=0,v=Array.isArray(e),y=c.s.r,b=0,_={};v&&!e[y]&&(e[y]=[]);var j=u.skipHidden&&e["!cols"]||[],w=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(j[b]||{}).hidden)switch(h[b]=Fn(b),r=v?e[y][b]:e[h[b]+f],n){case 1:s[b]=b-c.s.c;break;case 2:s[b]=h[b];break;case 3:s[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=_c(r,null,u),p=_[o]||0,!p)_[o]=1;else{do l=o+"_"+p++;while(_[l]);_[o]=p,_[l]=1}s[b]=l}for(y=c.s.r+a;y<=c.e.r;++y)if(!(w[y]||{}).hidden){var S=MVe(e,c,y,h,n,s,v,u);(S.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[g++]=S.row)}return m.length=g,m}var M5=/"/g;function IVe(e,t,r,n,a,s,o,l){for(var c=!0,u=[],d="",f=sa(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=l.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(l.rawNumbers&&m.t=="n"?m.v:_c(m,null,l));for(var g=0,p=0;g!==d.length;++g)if((p=d.charCodeAt(g))===a||p===s||p===34||l.forceQuotes){d='"'+d.replace(M5,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(M5,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function mY(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=sn(e["!ref"]),s=n.FS!==void 0?n.FS:",",o=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=Fn(g));for(var p=0,v=a.s.r;v<=a.e.r;++v)(m[v]||{}).hidden||(d=IVe(e,a,v,f,o,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((p++?l:"")+d)));return delete n.dense,r.join("")}function LVe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=mY(e,t);return r}function $Ve(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=sn(e["!ref"]),s="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=Fn(l);for(var d=a.s.r;d<=a.e.r;++d)for(s=sa(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+s,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function pY(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},o=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?cs(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(s["!ref"]){var f=sn(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(p,v){Nl(p).forEach(function(y){(m=h.indexOf(y))==-1&&(h[m=h.length]=y);var b=p[y],_="z",j="",w=Ot({c:l+m,r:o+v+a});u=Pv(s,w),b&&typeof b=="object"&&!(b instanceof Date)?s[w]=b:(typeof b=="number"?_="n":typeof b=="boolean"?_="b":typeof b=="string"?_="s":b instanceof Date?(_="d",n.cellDates||(_="n",b=ms(b)),j=n.dateNF||It[14]):b===null&&n.nullError&&(_="e",b=0),u?(u.t=_,u.v=b,delete u.w,delete u.R,j&&(u.z=j)):s[w]=u={t:_,v:b},j&&(u.z=j))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var g=sa(o);if(a)for(m=0;m<h.length;++m)s[Fn(m+l)+g]={t:"s",v:h[m]};return s["!ref"]=er(d),s}function BVe(e,t){return pY(null,e,t)}function Pv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=cs(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Pv(e,Ot(t)):Pv(e,Ot({r:t,c:r||0}))}function UVe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function fO(){return{SheetNames:[],Sheets:{}}}function hO(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var o=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(Nze(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function zVe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=UVe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function VVe(e,t){return e.z=t,e}function gY(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function WVe(e,t,r){return gY(e,"#"+t,r)}function HVe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function qVe(e,t,r,n){for(var a=typeof t!="string"?t:sn(t),s=typeof t=="string"?t:er(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Pv(e,o,l);c.t="n",c.F=s,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var GVe={encode_col:Fn,encode_row:sa,encode_cell:Ot,encode_range:er,decode_col:JP,decode_row:QP,split_cell:a8e,decode_cell:cs,decode_range:Mp,format_cell:_c,sheet_add_aoa:bK,sheet_add_json:pY,sheet_add_dom:uY,aoa_to_sheet:Ip,json_to_sheet:BVe,table_to_sheet:dY,table_to_book:cVe,sheet_to_csv:mY,sheet_to_txt:LVe,sheet_to_json:nE,sheet_to_html:lVe,sheet_to_formulae:$Ve,sheet_to_row_object_array:nE,sheet_get_cell:Pv,book_new:fO,book_append_sheet:hO,book_set_sheet_visibility:zVe,cell_set_number_format:VVe,cell_set_hyperlink:gY,cell_set_internal_link:WVe,cell_add_comment:HVe,sheet_set_array_formula:qVe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const KVe=({permission:e,permissions:t=[],requireAll:r=!1,children:n,fallback:a=null})=>{const{hasPermission:s}=$1();let o=!1;return e?o=s(e):t.length>0&&(r?o=t.every(l=>s(l)):o=t.some(l=>s(l))),o?i.jsx(i.Fragment,{children:n}):i.jsx(i.Fragment,{children:a})};function YVe({templates:e,templateFields:t,onImportComplete:r,onClose:n}){var E,O;const{t:a}=Pt(),{user:s}=dr(),{toast:o}=gi(),[l,c]=x.useState("template"),[u,d]=x.useState(null),[f,h]=x.useState([]),[m,g]=x.useState({}),[p,v]=x.useState([]),[y,b]=x.useState(!1),[_,j]=x.useState(0),w=async T=>{var W;const U=(W=T.target.files)==null?void 0:W[0];if(U)try{const R=await U.arrayBuffer(),z=rE(R,{type:"array"}),P=z.Sheets[z.SheetNames[0]],M=GVe.sheet_to_json(P);if(M.length===0){o({title:a("common.error"),description:a("surveys.fileEmpty"),variant:"destructive"});return}h(M),S(M),c("preview")}catch(R){console.error("Error parsing file:",R),o({title:a("common.error"),description:a("surveys.fileParseError"),variant:"destructive"})}},S=T=>{if(!u)return;const U=t[u.template_id]||[],W=Object.keys(T[0]||{}),R=[],z={};for(const P of U){const M=P.field_label||"",I=W.find(q=>q.toLowerCase().trim()===M.toLowerCase().trim());I?z[M]=I:P.is_required&&R.push(a("surveys.requiredFieldNotFound",{field:`"${M}"`}))}g(z),v(R)},N=()=>f.slice(0,5),C=async()=>{if(!u||!s)return;const T=t[u.template_id]||[],U=[];for(const W of T)W.is_required&&!m[W.field_label||""]&&U.push(a("surveys.requiredFieldNotMapped",{field:`"${W.field_label}"`}));if(U.length>0){v(U);return}c("importing"),b(!0);try{const W=f.length,R=[];for(let P=0;P<f.length;P++){const M=f[P],I={};for(const J of T){const A=J.field_label||"",B=m[A];B&&M[B]!==void 0&&M[B]!==null&&M[B]!==""&&(I[A]=M[B])}const q={template_id:u.template_id,survey_name:M.survey_name||M["Survey Name"]||`Bulk Import ${P+1}`,survey_description:M.survey_description||M["Survey Description"]||null,client_name:M.client_name||M["Client Name"]||`Client ${P+1}`,client_name_ar:M.client_name_ar||M["Client Name AR"]||null,client_contact:M.client_contact||M["Client Contact"]||null,client_email:M.client_email||M["Client Email"]||null,client_address:M.client_address||M["Client Address"]||null,client_company:M.client_company||M["Client Company"]||null,client_company_ar:M.client_company_ar||M["Client Company AR"]||null,survey_responses:I,location_latitude:parseFloat(M.location_latitude||M.Latitude||"0"),location_longitude:parseFloat(M.location_longitude||M.Longitude||"0"),location_accuracy:M.location_accuracy?parseFloat(M.location_accuracy):null,location_address:M.location_address||M["Location Address"]||null,created_by:s.id,status:"collected",lead_id:null,converted_to_lead_at:null,device_info:null,completion_time_seconds:null,notes:M.notes||null,notes_ar:M.notes_ar||null,updated_by:null,reviewed_by:null,reviewed_at:null};R.push(q),j(Math.round((P+1)/W*50))}j(50);const z=await eh.createBatch(R);j(100),o({title:a("common.success"),description:a("surveys.importSuccess",{count:z.length})}),r(z),k()}catch(W){console.error("Error importing surveys:",W),o({title:a("common.error"),description:W.message||a("surveys.importFailed"),variant:"destructive"}),c("preview")}finally{b(!1)}},k=()=>{c("template"),d(null),h([]),g({}),v([]),j(0),n()};return i.jsxs(i.Fragment,{children:[i.jsxs(rn,{children:[i.jsx(nn,{children:a("surveys.bulkImport")}),i.jsxs(ca,{children:[l==="template"&&a("surveys.selectTemplateForImport"),l==="upload"&&a("surveys.uploadFile"),l==="preview"&&a("surveys.reviewData"),l==="importing"&&a("surveys.importingData")]})]}),i.jsxs("div",{className:"space-y-6 py-4",children:[l==="template"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ue,{className:"text-base font-medium",children:a("surveys.selectTemplate")}),i.jsx("div",{className:"grid gap-3 grid-cols-1 md:grid-cols-2",children:e.filter(T=>T.is_active).map(T=>i.jsx(ft,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(u==null?void 0:u.template_id)===T.template_id?"ring-2 ring-primary":""}`,onClick:()=>d(T),children:i.jsxs(yt,{className:"p-4",children:[i.jsx("h4",{className:"font-medium text-sm",children:T.template_name}),T.template_description&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:T.template_description}),T.category&&i.jsx(ht,{variant:"outline",className:"mt-2 text-xs",children:T.category})]})},T.template_id||`template-${Math.random()}`))})]}),l==="upload"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(V_,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[i.jsx("p",{className:"font-medium mb-1",children:a("surveys.importInstructions")}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[i.jsx("li",{children:a("surveys.importInstruction1")}),i.jsx("li",{children:a("surveys.importInstruction2")}),i.jsx("li",{children:a("surveys.importInstruction3")})]})]})]})}),i.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[i.jsx(Ig,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),i.jsx(Ue,{className:"block text-sm font-medium mb-2",children:a("surveys.dragDropFile")}),i.jsx(ze,{type:"file",accept:".xlsx,.xls,.csv",onChange:w,className:"hidden",id:"file-upload"}),i.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:i.jsx(fe,{variant:"outline",asChild:!0,children:i.jsx("span",{children:a("surveys.selectFile")})})})]})]}),l==="preview"&&i.jsxs("div",{className:"space-y-4",children:[p.length>0&&i.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(X2,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300",children:[i.jsx("p",{className:"font-medium mb-2",children:a("surveys.validationErrors")}),i.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs",children:p.map((T,U)=>i.jsx("li",{children:T},U))})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium text-sm",children:a("surveys.columnMapping")}),i.jsxs(ht,{variant:"secondary",children:[Object.keys(m).length," / ",u&&((E=t[u.template_id])==null?void 0:E.length)||0]})]}),i.jsx("div",{className:"grid gap-2 max-h-48 overflow-y-auto",children:u?(O=t[u.template_id])==null?void 0:O.map(T=>i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:T.field_label}),T.is_required&&i.jsx(ht,{variant:"destructive",className:"text-xs mt-1",children:a("surveys.required")})]}),m[T.field_label||""]?i.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[i.jsx(rc,{className:"h-4 w-4"}),i.jsx("span",{className:"text-xs font-medium",children:m[T.field_label||""]})]}):i.jsx("div",{className:"text-xs text-muted-foreground",children:T.is_required?i.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:a("surveys.notMapped")}):i.jsx("span",{children:a("surveys.optional")})})]},T.field_id)):i.jsx("div",{className:"text-center text-muted-foreground py-4",children:a("surveys.noTemplateSelected")})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-sm",children:a("surveys.previewFirstRows",{count:5})}),i.jsx("div",{className:"border rounded-lg",children:i.jsxs("table",{className:"w-full text-sm table-auto",children:[i.jsx("thead",{className:"bg-muted border-b",children:i.jsx("tr",{children:Object.keys(N()[0]||{}).map(T=>i.jsx("th",{className:"px-3 py-2 text-start font-medium text-xs",children:T},T))})}),i.jsx("tbody",{children:N().map((T,U)=>i.jsx("tr",{className:"border-b hover:bg-muted/50",children:Object.entries(T).map(([W,R],z)=>i.jsx("td",{className:"px-3 py-2 text-xs break-words max-w-xs",children:typeof R=="boolean"?W.toLowerCase().includes("is_default")?R?i.jsx(rc,{className:"h-4 w-4 text-green-600"}):i.jsx("span",{className:"text-transparent",children:"-"}):R?i.jsx(rc,{className:"h-4 w-4 text-green-600"}):i.jsx(_ae,{className:"h-4 w-4 text-gray-400"}):String(R||"")},z))},U))})]})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:a("surveys.showingRows",{shown:Math.min(5,f.length),total:f.length})})]})]}),l==="importing"&&i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx(CT,{className:"h-12 w-12 mx-auto animate-spin text-primary mb-4"}),i.jsx("p",{className:"font-medium mb-2",children:a("surveys.importingData")}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[a("surveys.processingRows",{progress:_}),"%"]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:i.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${_}%`}})})]})})})]}),i.jsxs(la,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[i.jsx(fe,{variant:"outline",onClick:k,disabled:y,className:"w-full sm:w-auto",children:a("buttons.cancel")}),l==="template"&&i.jsx(fe,{onClick:()=>c("upload"),disabled:!u,className:"w-full sm:w-auto",children:a("common.next")}),l==="upload"&&i.jsx(fe,{onClick:()=>c("template"),variant:"outline",className:"w-full sm:w-auto",children:a("common.back")}),l==="preview"&&i.jsxs(i.Fragment,{children:[i.jsx(fe,{onClick:()=>c("upload"),variant:"outline",className:"w-full sm:w-auto",children:a("common.back")}),i.jsx(fe,{onClick:C,disabled:p.length>0||y,className:"w-full sm:w-auto",children:a("surveys.startImport")})]})]})]})}function XVe(){var Oe,De,He,Ye;const{user:e}=dr(),{currentLanguage:t,isRTL:r}=ar();Br();const{t:n}=Pt(),{toast:a}=gi(),{canView:s,canEdit:o,canDelete:l,canViewAllData:c,canViewOwnData:u,canViewTeamData:d,hasPermission:f}=$1(),[h,m]=x.useState([]),[g,p]=x.useState([]),[v,y]=x.useState({}),[b,_]=x.useState(!0),[j,w]=x.useState(""),[S,N]=x.useState(null),[C,k]=x.useState(null),[E,O]=x.useState([]);x.useState(!1);const[T,U]=x.useState(!1),[W,R]=x.useState(null),[z,P]=x.useState({}),[M,I]=x.useState({}),[q,J]=x.useState([]),[A,B]=x.useState(!1),[G,H]=x.useState(null),[ee,ue]=x.useState(null),[ye,ie]=x.useState(null),[Y,L]=x.useState("list"),[D,se]=x.useState("list"),[be,ve]=x.useState(1),[ke,Se]=x.useState(1),[Ve,dt]=x.useState(10),[ae,pe]=x.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});x.useEffect(()=>{ve(1),Se(1)},[j]);const[te,re]=x.useState([]);x.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});const[he,Pe]=x.useState({}),[Re,et]=x.useState(!1),[rt,jt]=x.useState(!1),[we,Be]=x.useState(new Set);x.useState(!1),x.useEffect(()=>{We()},[]),x.useEffect(()=>{ve(1)},[j,Y]);const We=async()=>{try{_(!0);const[Z,me,Ee]=await Promise.all([eh.getAll().catch(qe=>(console.error("[Surveys] Error fetching surveys:",qe),[])),to.getAll().catch(qe=>(console.error("[Surveys] Error fetching templates:",qe),[])),jn.getAll().catch(qe=>(console.error("[Surveys] Error fetching users:",qe),[]))]),V=me.map(qe=>to.getFields(qe.template_id).catch(Je=>(console.error(`[Surveys] Error fetching fields for template ${qe.template_id}:`,Je),[]))),_e=await Promise.all(V),Me={};me.forEach((qe,Je)=>{Me[qe.template_id]=_e[Je]||[]}),y(Me),console.log(`[Surveys] Loaded template fields for ${Object.keys(Me).length} templates`);const tt=Z.map(qe=>{try{let Je=qe.survey_responses;return typeof qe.survey_responses=="string"&&(Je=JSON.parse(qe.survey_responses)),{...qe,survey_responses:Je}}catch(Je){return console.error(`[Surveys] Error parsing survey_responses for survey ${qe.survey_id}:`,Je),qe}});m(tt),p(me),J(Ee),y(Me)}catch(Z){console.error("Failed to load surveys data:",Z)}finally{_(!1)}},Qe=h.filter(Z=>j?Z.client_name&&Z.client_name.toLowerCase().includes(j.toLowerCase())||Z.client_company&&Z.client_company.toLowerCase().includes(j.toLowerCase())||Z.survey_name&&Z.survey_name.toLowerCase().includes(j.toLowerCase()):!0),Ct=Math.ceil(Qe.length/Ve),Vt=(be-1)*Ve,Wt=Vt+Ve,cr=Qe.slice(Vt,Wt),fr=g.filter(Z=>{if(!j)return!0;const me=Te(Z,"template_name");return me&&me.toLowerCase().includes(j.toLowerCase())||Z.category&&Z.category.toLowerCase().includes(j.toLowerCase())}),on=Math.ceil(fr.length/Ve),Yn=(ke-1)*Ve,vi=Yn+Ve,Rl=fr.slice(Yn,vi),Ws=Z=>{if(!Z)return n("surveys.unknownCreator");const me=q.find(Ee=>{var V,_e;return((V=Ee.userid)==null?void 0:V.toString())===Z||((_e=Ee.user_id)==null?void 0:_e.toString())===Z});return me?Te(me,"user_name"):n("surveys.unknownCreator")},wr=Z=>{switch(Z.toLowerCase()){case"completed":return i.jsxs(ht,{variant:"default",className:"bg-green-500",children:[i.jsx(rc,{className:"h-3 w-3 me-1"}),n("surveys.completed")]});case"in_progress":return i.jsxs(ht,{variant:"secondary",children:[i.jsx(ef,{className:"h-3 w-3 me-1"}),n("surveys.inProgress")]});case"pending":return i.jsxs(ht,{variant:"outline",children:[i.jsx(ef,{className:"h-3 w-3 me-1"}),n("surveys.pending")]});default:return i.jsx(ht,{variant:"outline",children:Z})}},Nn=Z=>{const me=Z.filter(Ee=>Ee.survey_id);me.length!==Z.length&&console.warn("[Surveys] Some imported surveys are missing IDs and will be skipped"),m([...me,...h])},xi=async Z=>{k(Z);const me=v[Z.template_id]||[];O(me)},Qi=()=>{const Z={field_type:"text",field_label:"",is_required:!1,field_options:null,validation_rules:null,conditional_logic:null};re(me=>[...me,Z])},ys=Z=>{re(me=>me.filter((Ee,V)=>V!==Z))},Xn=(Z,me)=>{re(Ee=>Ee.map((V,_e)=>_e===Z?{...V,...me}:V))},Hs=(Z,me)=>{re(Ee=>{const V=[...Ee],[_e]=V.splice(Z,1);return V.splice(me,0,_e),V})},qs=()=>{pe({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),re([]),H(null)},Rr=async Z=>{pe({template_name:Z.template_name||"",template_name_ar:Z.template_name_ar||"",template_description:Z.template_description||"",template_description_ar:Z.template_description_ar||"",category:Z.category||"",is_active:Z.is_active,is_default:Z.is_default||!1});const Ee=(v[Z.template_id]||[]).map(V=>({field_type:V.field_type,field_label:V.field_label||"",field_label_ar:V.field_label_ar||"",help_text:V.help_text||"",help_text_ar:V.help_text_ar||"",is_required:V.is_required||!1,field_options:V.field_options,validation_rules:V.validation_rules,default_value:V.default_value,conditional_logic:V.conditional_logic,image_path:V.image_path}));re(Ee),H(Z.template_id),B(!0)},yi=()=>{const Z={};return ae.template_name.trim()||(Z.template_name=n("surveys.templateNameRequired")),te.length===0?Z.fields=n("surveys.atLeastOneFieldRequired"):te.forEach((me,Ee)=>{me.field_label.trim()||(Z[`field_${Ee}`]=n("surveys.fieldLabelRequired",{number:Ee+1}))}),Pe(Z),Object.keys(Z).length===0},ua=async()=>{if(!yi()){a({title:n("common.error"),description:n("surveys.templateValidationFailed"),variant:"destructive"});return}et(!0);try{if(G){await to.update(G,ae);const Z=v[G]||[];for(const me of Z)me.field_id&&await to.deleteField(me.field_id);for(let me=0;me<te.length;me++){const Ee=te[me];await to.createField({template_id:G,field_order:me+1,field_type:Ee.field_type,field_label:Ee.field_label,field_label_ar:Ee.field_label_ar||"",help_text:Ee.help_text||null,help_text_ar:Ee.help_text_ar||null,is_required:Ee.is_required,field_options:Ee.field_options,validation_rules:Ee.validation_rules,default_value:Ee.default_value||null,conditional_logic:Ee.conditional_logic,image_path:Ee.image_path||null})}a({title:n("common.success"),description:n("surveys.templateUpdated")})}else{const Z={...ae,created_by:e==null?void 0:e.id},me=await to.create(Z);for(let Ee=0;Ee<te.length;Ee++){const V=te[Ee];await to.createField({template_id:me.template_id,field_order:Ee+1,field_type:V.field_type,field_label:V.field_label,field_label_ar:V.field_label_ar||"",help_text:V.help_text||null,help_text_ar:V.help_text_ar||null,is_required:V.is_required,field_options:V.field_options,validation_rules:V.validation_rules,default_value:V.default_value||null,conditional_logic:V.conditional_logic,image_path:V.image_path||null})}a({title:n("common.success"),description:n("surveys.templateCreated")})}qs(),B(!1),We()}catch(Z){console.error("Failed to save template:",Z),a({title:n("common.error"),description:n("surveys.templateSaveError",{action:n(G?"surveys.updateTemplate":"surveys.createTemplate")}),variant:"destructive"})}finally{et(!1)}},da=async Z=>{R(Z);const me=v[Z.template_id]||[],Ee={};me.forEach(V=>{V.default_value!==null&&V.default_value!==void 0&&(Ee[V.field_id.toString()]=V.default_value)}),P(Ee),R(Z)},X=async Z=>{try{await to.delete(Z),p(me=>me.filter(Ee=>Ee.template_id!==Z)),ue(null),y(me=>{const Ee={...me};return delete Ee[Z],Ee})}catch(me){console.error("Failed to delete template:",me),alert("Failed to delete template. Please try again.")}},oe=async Z=>{try{await eh.delete(Z),m(me=>me.filter(Ee=>Ee.survey_id!==Z)),ie(null)}catch(me){console.error("Failed to delete survey:",me),alert("Failed to delete survey. Please try again.")}},Q=async Z=>{try{const me=g.filter(Ee=>Ee.is_default&&Ee.template_id!==Z);for(const Ee of me)await to.update(Ee.template_id,{is_default:!1});await to.update(Z,{is_default:!0}),p(Ee=>Ee.map(V=>({...V,is_default:V.template_id===Z}))),a({title:n("common.success"),description:n("surveys.templateSetAsDefault")})}catch(me){console.error("Failed to set default template:",me),a({title:n("common.error"),description:n("surveys.templateSetDefaultError"),variant:"destructive"})}},ne=()=>new Promise((Z,me)=>{if(!navigator.geolocation){me(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(Ee=>{Z({latitude:Ee.coords.latitude,longitude:Ee.coords.longitude,accuracy:Ee.coords.accuracy})},Ee=>{me(Ee)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}),le=async()=>{if(!(!W||!e))try{let Z={latitude:0,longitude:0,accuracy:0};try{Z=await ne()}catch(fa){console.warn("Could not get location:",fa)}const me=v[W.template_id]||[],Ee=new Map(me.map(fa=>[fa.field_id.toString(),fa.field_label])),V={};for(const[fa,Ji]of Object.entries(z)){const Fl=Ee.get(fa)||fa;V[Fl]=Ji}const _e=V["Customer Name"]||V["Client Name"]||V.client_name||V.customer_name||"Anonymous",Me=V["Customer Company"]||V["Client Company"]||V.Company||V.company||V.client_company||null,tt=V["Contact Number"]||V["Contact Email"]||V.Contact||V.contact||V.phone||null,qe=V["Contact Email"]||V.Email||V.email||V.client_email||null,Je=V.Address||V.address||V.client_address||null,jr=V["Additional Notes"]||V.Notes||V.notes||null,ln={},Gs=Object.keys(M);for(const[fa,Ji]of Object.entries(z))Gs.includes(fa)||(ln[fa]=Array.isArray(Ji)?Ji.join(", "):Ji);const kn={template_id:W.template_id,survey_name:`${Te(W,"template_name")} - ${new Date().toLocaleDateString()}`,survey_description:Te(W,"template_description")||null,client_name:_e,client_name_ar:null,client_contact:tt,client_email:qe,client_address:Je,client_company:Me,client_company_ar:null,survey_responses:ln,location_latitude:Z.latitude,location_longitude:Z.longitude,location_accuracy:Z.accuracy,location_address:Je,status:"collected",created_by:e.id,lead_id:null,converted_to_lead_at:null,device_info:navigator.userAgent,completion_time_seconds:null,notes:jr,notes_ar:null,updated_by:null,reviewed_by:null,reviewed_at:null},Lf=await eh.create(kn);if(Object.keys(M).length>0){const fa={...ln};for(const[Fl,Tc]of Object.entries(M)){const Ml=await new Promise((Tx,Ax)=>{const Zu=new FileReader;Zu.onload=()=>{const Lp=Zu.result,Sj=Lp.split(",")[1];Tx(Lp)},Zu.onerror=Ax,Zu.readAsDataURL(Tc)});fa[Fl]=Ml}const Ji=Object.entries(fa).reduce((Fl,[Tc,Ml])=>(Fl[Tc]=Array.isArray(Ml)?Ml.join(", "):Ml,Fl),{});await eh.update(Lf.survey_id,{survey_responses:Ji}),Lf.survey_responses=Ji}m([Lf,...h]),R(null),P({}),I({}),U(!1)}catch(Z){console.error("[Survey] Failed to create survey:",Z),alert(`Failed to create survey: ${Z.message}`)}},de=Z=>Z.is_required===1||Z.is_required===!0,Ae=Z=>{const me=Z.field_id.toString(),Ee=z[me]||"";switch(Z.field_type.toLowerCase()){case"text":return i.jsx(ze,{id:me,value:Ee,onChange:qe=>P(Je=>({...Je,[me]:qe.target.value})),placeholder:Te(Z,"help_text")||Z.field_label,required:Z.is_required});case"textarea":return i.jsx(an,{id:me,value:Ee,onChange:qe=>P(Je=>({...Je,[me]:qe.target.value})),placeholder:Te(Z,"help_text")||Z.field_label,required:Z.is_required,rows:3});case"number":return i.jsx(ze,{id:me,type:"number",value:Ee,onChange:qe=>P(Je=>({...Je,[me]:qe.target.value})),placeholder:Te(Z,"help_text")||Z.field_label,required:Z.is_required});case"email":return i.jsx(ze,{id:me,type:"email",value:Ee,onChange:qe=>P(Je=>({...Je,[me]:qe.target.value})),placeholder:Te(Z,"help_text")||Z.field_label,required:Z.is_required});case"date":return i.jsx(ze,{id:me,type:"date",value:Ee,onChange:qe=>P(Je=>({...Je,[me]:qe.target.value})),required:Z.is_required});case"select":let V=Z.field_options;if(typeof V=="string")try{V=JSON.parse(V)}catch(qe){console.error("Failed to parse field_options:",qe),V=null}if(V&&typeof V=="object"&&!Array.isArray(V)&&"options"in V&&Array.isArray(V.options)){const qe=V.options.filter(Je=>typeof Je=="string");return i.jsxs(ct,{value:Ee,onValueChange:Je=>P(jr=>({...jr,[me]:Je})),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:Te(Z,"help_text")||`${n("common.select")} ${Te(Z,"field_label")}`})}),i.jsx(lt,{children:qe.map((Je,jr)=>i.jsx(je,{value:Je,children:Je},jr))})]})}return i.jsx(ze,{id:me,value:Ee,onChange:qe=>P(Je=>({...Je,[me]:qe.target.value})),placeholder:Te(Z,"help_text")||Z.field_label,required:Z.is_required});case"radio":let _e=Z.field_options;if(typeof _e=="string")try{_e=JSON.parse(_e)}catch(qe){console.error("Failed to parse field_options:",qe),_e=null}if(_e&&typeof _e=="object"&&!Array.isArray(_e)&&"options"in _e&&Array.isArray(_e.options)){const qe=_e.options.filter(Je=>typeof Je=="string");return i.jsx("div",{className:"space-y-2",children:qe.map((Je,jr)=>i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:me,value:Je,checked:Ee===Je,onChange:ln=>P(Gs=>({...Gs,[me]:ln.target.value}))}),i.jsx("span",{className:"text-sm",children:Je})]},jr))})}return i.jsx(ze,{id:me,value:Ee,onChange:qe=>P(Je=>({...Je,[me]:qe.target.value})),placeholder:Te(Z,"help_text")||Z.field_label,required:Z.is_required});case"multiselect":case"checkbox":let Me=Z.field_options;if(typeof Me=="string")try{Me=JSON.parse(Me)}catch(qe){console.error("Failed to parse field_options:",qe),Me=null}if(Me&&typeof Me=="object"&&!Array.isArray(Me)&&"options"in Me&&Array.isArray(Me.options)){const qe=Me.options.filter(Je=>typeof Je=="string");return i.jsx("div",{className:"space-y-2",children:qe.map((Je,jr)=>i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:Array.isArray(Ee)?Ee.includes(Je):!1,onChange:ln=>{const Gs=Array.isArray(Ee)?Ee:[];ln.target.checked?P(kn=>({...kn,[me]:[...Gs,Je]})):P(kn=>({...kn,[me]:Gs.filter(Lf=>Lf!==Je)}))}}),i.jsx("span",{className:"text-sm",children:Je})]},jr))})}return i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:!!Ee,onChange:qe=>P(Je=>({...Je,[me]:qe.target.checked}))}),i.jsx("span",{className:"text-sm",children:Te(Z,"field_label")})]});case"image":const tt=z[me];return i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{id:me,type:"file",accept:"image/*",onChange:qe=>{var jr;const Je=(jr=qe.target.files)==null?void 0:jr[0];Je&&(I(ln=>({...ln,[me]:Je})),P(ln=>({...ln,[me]:{preview:URL.createObjectURL(Je),filename:Je.name}})))},required:Z.is_required}),(tt==null?void 0:tt.preview)&&i.jsxs("div",{className:"relative w-full",children:[i.jsx("img",{src:tt.preview,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border"}),i.jsx(fe,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 inset-inline-end-2",onClick:()=>{I(qe=>{const Je={...qe};return delete Je[me],Je}),P(qe=>{const Je={...qe};return delete Je[me],Je})},children:i.jsx(Ht,{className:"h-4 w-4"})})]})]});default:return i.jsx(ze,{id:me,value:Ee,onChange:qe=>P(Je=>({...Je,[me]:qe.target.value})),placeholder:Te(Z,"help_text")||Z.field_label,required:Z.is_required})}},Le=()=>{const Z=[{key:"survey",header:n("surveys.surveyName"),render:V=>i.jsx(bc,{title:V.survey_name||`${n("surveys.survey")} #${V.survey_id||"Unknown"}`,subtitle:Te(V,"client_name")})},{key:"creator",header:n("surveys.createdBy"),render:V=>i.jsx(Gm,{name:V.created_by_name||Ws(V.created_by),fallback:n("surveys.unknownCreator")})}],me=[{label:n("common.view"),icon:i.jsx(as,{className:"h-4 w-4"}),onClick:V=>N(V)},{label:n("buttons.delete"),icon:i.jsx(Ht,{className:"h-4 w-4"}),onClick:V=>ie(V.survey_id),variant:"destructive",show:()=>f("surveys_DELETE")}],Ee=[{label:n("buttons.delete"),icon:i.jsx(Ht,{className:"h-4 w-4"}),onClick:async V=>{if(V.length===0)return;if(window.confirm(n("surveys.confirmBulkDeleteDesc",{count:V.length})))try{const Me=V.map(tt=>eh.delete(tt.survey_id));await Promise.all(Me),m(tt=>tt.filter(qe=>!V.find(Je=>Je.survey_id===qe.survey_id))),Be(new Set),a({title:n("common.success"),description:n("surveys.bulkDeleteSuccess",{count:V.length})})}catch(Me){console.error("Failed to bulk delete surveys:",Me),a({title:n("common.error"),description:n("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}].filter(V=>f("surveys_DELETE"));return i.jsx(Sl,{data:cr,columns:Z,actions:me,bulkActions:Ee,keyExtractor:V=>{var _e;return((_e=V.survey_id)==null?void 0:_e.toString())||`survey-${Math.random()}`},onRowClick:V=>N(V),enableBulkSelect:!0,rowHeight:"h-26",rtl:r,emptyState:i.jsx($i,{icon:i.jsx(bn,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("surveys.noSurveysFound"),description:n(j?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})})},Ce=()=>{const Z=[{key:"template",header:n("surveys.templateName"),render:V=>i.jsx(bc,{title:Te(V,"template_name"),subtitle:Te(V,"template_description")})},{key:"category",header:n("surveys.category"),render:V=>V.category||n("surveys.noCategory")},{key:"status",header:n("surveys.status"),render:V=>i.jsxs("div",{className:"flex items-center gap-2",children:[V.is_active?i.jsx(ht,{variant:"default",className:"bg-green-500",children:n("surveys.active")}):i.jsx(ht,{variant:"secondary",children:n("surveys.inactive")}),V.is_default&&i.jsx(ht,{variant:"default",children:n("surveys.default")})]})},{key:"created",header:n("surveys.createdDate"),hideOnMobile:!0,render:V=>i.jsx(Af,{date:V.created_at,fallback:n("leads.notSet")})}],me=[{label:n("common.view"),icon:i.jsx(as,{className:"h-4 w-4"}),onClick:V=>xi(V)},{label:n("surveys.setAsDefault"),icon:i.jsx(rc,{className:"h-4 w-4"}),onClick:V=>Q(V.template_id),show:V=>!V.is_default},{label:n("buttons.edit"),icon:i.jsx(K2,{className:"h-4 w-4"}),onClick:V=>Rr(V),show:()=>f("survey_templates_UPDATE")},{label:n("buttons.delete"),icon:i.jsx(Ht,{className:"h-4 w-4"}),onClick:V=>ue(V.template_id),variant:"destructive",show:()=>f("survey_templates_DELETE")}],Ee=[{label:n("buttons.delete"),icon:i.jsx(Ht,{className:"h-4 w-4"}),onClick:async V=>{if(window.confirm(n("surveys.bulkDeleteConfirm",{count:V.length})))try{await Promise.all(V.map(_e=>to.delete(_e.template_id))),await We(),a({title:n("common.success"),description:n("surveys.bulkDeleteSuccess",{count:V.length})})}catch(_e){console.error("Failed to bulk delete templates:",_e),a({title:n("common.error"),description:n("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}].filter(V=>f("survey_templates_DELETE"));return i.jsx(Sl,{data:Rl,columns:Z,actions:me,bulkActions:Ee,keyExtractor:V=>{var _e;return((_e=V.template_id)==null?void 0:_e.toString())||`template-${Math.random()}`},onRowClick:V=>xi(V),enableBulkSelect:!0,rtl:r,emptyState:i.jsx($i,{icon:i.jsx(bn,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("surveys.noTemplatesFound"),description:n(j?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})})};return b?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(oa,{message:n("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"h-full flex flex-col overflow-hidden pb-4",dir:r?"rtl":"ltr",children:[i.jsx("div",{className:"w-full flex-1 flex flex-col min-h-0 px-6",dir:r?"rtl":"ltr",children:i.jsxs(di,{defaultValue:"surveys",className:"w-full flex-1 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[i.jsxs(Bs,{className:"grid w-full grid-cols-2",children:[i.jsxs(ur,{value:"surveys",children:[n("surveys.surveys")," (",Qe.length,")"]}),i.jsxs(ur,{value:"templates",children:[n("surveys.templates")," (",fr.length,")"]})]}),i.jsxs(kr,{value:"surveys",className:"space-y-3 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"relative",children:[i.jsx(La,{className:"absolute inset-inline-start-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(ze,{placeholder:n("surveys.searchPlaceholder"),value:j,onChange:Z=>w(Z.target.value),className:"ps-10 pe-3"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(fe,{variant:Y==="list"?"default":"ghost",size:"sm",onClick:()=>L("list"),className:"h-8 w-8 p-0",children:i.jsx(pm,{className:"h-4 w-4"})}),i.jsx(fe,{variant:Y==="card"?"default":"ghost",size:"sm",onClick:()=>L("card"),className:"h-8 w-8 p-0",children:i.jsx(bn,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex flex-row items-center gap-2 overflow-x-auto pb-1 scrollbar-hide min-w-0 flex-1 justify-end",dir:r?"rtl":"ltr",children:[i.jsxs(fn,{open:T,onOpenChange:U,children:[i.jsx(K1,{asChild:!0,children:i.jsxs(fe,{size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[i.jsx(Ut,{className:"h-4 w-4 me-2"}),n("surveys.newSurvey")]})}),i.jsxs(tn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsx(rn,{children:i.jsx(nn,{children:n("surveys.createNewSurvey")})}),i.jsx("div",{className:"space-y-6 py-4",children:W?i.jsxs("div",{className:"space-y-6",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium",children:Te(W,"template_name")}),i.jsx("p",{className:"text-sm text-muted-foreground",children:n("surveys.fillSurveyDetails")})]}),i.jsx(fe,{variant:"outline",size:"sm",onClick:()=>{R(null),P({})},children:n("surveys.changeTemplate")})]}),i.jsx("div",{className:"space-y-4",dir:r?"rtl":"ltr",children:(Oe=v[W.template_id])==null?void 0:Oe.map(Z=>i.jsxs("div",{className:"space-y-2",dir:r?"rtl":"ltr",children:[i.jsxs(Ue,{className:"text-sm font-medium mb-1.5 block",children:[Te(Z,"field_label"),de(Z)&&i.jsx("span",{className:"text-red-500 ms-1",children:"*"})]}),Ae(Z),Te(Z,"help_text")&&i.jsx("p",{className:"text-xs text-muted-foreground",children:Te(Z,"help_text")})]},Z.field_id))}),i.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",dir:r?"rtl":"ltr",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",dir:r?"rtl":"ltr",children:[i.jsx(gm,{className:"h-4 w-4"}),i.jsx("span",{children:n("surveys.locationWillBeCaptured")})]})})]}):i.jsxs("div",{children:[i.jsx(Ue,{className:"text-base font-medium mb-4 block",children:n("surveys.selectTemplate")}),i.jsx("div",{className:"w-full max-w-full grid gap-4 grid-cols-1 md:grid-cols-2",children:g.filter(Z=>Z.is_active).map(Z=>i.jsx(ft,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(W==null?void 0:W.template_id)===Z.template_id?"ring-2 ring-primary":""}`,onClick:()=>da(Z),children:i.jsx(yt,{className:"p-4",dir:r?"rtl":"ltr",children:i.jsx("div",{className:"flex items-start gap-3",dir:r?"rtl":"ltr",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-medium text-sm truncate",children:Te(Z,"template_name")}),Z.category&&i.jsx(ht,{variant:"outline",className:"mt-1 text-xs",children:Z.category}),Te(Z,"template_description")&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:Te(Z,"template_description")})]})})})},Z.template_id||`template-${Math.random()}`))})]})}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2",dir:r?"rtl":"ltr",children:[i.jsx(fe,{variant:"outline",onClick:()=>{U(!1),R(null),P({})},className:"w-full sm:w-auto",children:n("buttons.cancel")}),W&&i.jsx(fe,{onClick:le,disabled:!W,className:"w-full sm:w-auto",children:n("surveys.submitSurvey")})]})]})]}),i.jsxs(fn,{open:rt,onOpenChange:jt,children:[i.jsx(K1,{asChild:!0,children:i.jsxs(fe,{variant:"outline",size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all border-primary/20 hover:bg-primary/5 px-4 h-9",children:[i.jsx(Ig,{className:"h-4 w-4 me-2 text-primary"}),n("surveys.bulkImport")]})}),i.jsx(tn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:i.jsx(YVe,{templates:g,templateFields:v,onImportComplete:Nn,onClose:()=>jt(!1)})})]})]})]}),i.jsx("div",{className:"flex-1 min-h-0 overflow-auto",dir:r?"rtl":"ltr",children:cr.length===0?i.jsx(ft,{children:i.jsxs(yt,{className:"text-center py-12",children:[i.jsx(bn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:n("surveys.noSurveysFound")}),i.jsx("p",{className:"text-muted-foreground",children:n(j?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})]})}):Y==="card"?i.jsx(PL,{data:cr,keyExtractor:Z=>Z.survey_id||`survey-${Math.random()}`,columns:[{key:"title",render:Z=>i.jsxs("div",{children:[i.jsx(OL,{children:Z.survey_name||`${n("surveys.survey")} #${Z.survey_id||"Unknown"}`}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:Te(Z,"client_name")})]})},{key:"status",render:Z=>wr(Z.status)},{key:"details",render:Z=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Wn,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:Z.client_company||n("surveys.noCompany")})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(gm,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:Z.location_address||(Z.location_latitude&&Z.location_longitude?`${Z.location_latitude.toFixed(4)}, ${Z.location_longitude.toFixed(4)}`:n("surveys.noLocation"))})]})]})},{key:"footer",render:Z=>i.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Mn,{className:"h-4 w-4"}),i.jsxs("span",{children:[n("surveys.createdBy"),": ",Ws(Z.created_by)]})]}),i.jsx(DL,{date:Z.created_at})]})}],actions:[{key:"view",icon:i.jsx(as,{className:"h-4 w-4"}),onClick:Z=>N(Z),title:n("common.view"),className:"text-muted-foreground hover:text-primary hover:bg-primary/5"},{key:"delete",icon:i.jsx(Ht,{className:"h-4 w-4"}),onClick:Z=>ie(Z.survey_id),title:n("buttons.delete"),className:"text-red-500 hover:text-red-700 hover:bg-red-50",condition:Z=>l("surveys")}],emptyState:{title:n(j?"surveys.noSurveysFound":"surveys.noSurveys"),description:n(j?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet"),icon:i.jsx(bn,{className:"h-12 w-12 text-muted-foreground"})},onCardClick:Z=>N(Z)}):i.jsx("div",{className:"w-full overflow-hidden",dir:r?"rtl":"ltr",children:Le()})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",dir:r?"rtl":"ltr",children:Ct>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Xm,{children:i.jsxs(Qm,{className:r?"flex-row-reverse":"",children:[i.jsx(ja,{children:r?i.jsx(du,{onClick:()=>ve(Math.min(Ct,be+1)),className:be===Ct?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")}):i.jsx(uu,{onClick:()=>ve(Math.max(1,be-1)),className:be===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")})}),i.jsx(ja,{children:i.jsxs("span",{className:"px-3 py-2 text-sm text-muted-foreground font-medium",children:[n("common.page")," ",be," ",n("common.of")," ",Ct]})}),i.jsx(ja,{children:r?i.jsx(uu,{onClick:()=>ve(Math.max(1,be-1)),className:be===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")}):i.jsx(du,{onClick:()=>ve(Math.min(Ct,be+1)),className:be===Ct?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")})})]})})})})]}),i.jsxs(kr,{value:"templates",className:"space-y-3 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(fe,{variant:D==="list"?"default":"ghost",size:"sm",onClick:()=>se("list"),className:"h-8 w-8 p-0",children:i.jsx(pm,{className:"h-4 w-4"})}),i.jsx(fe,{variant:D==="card"?"default":"ghost",size:"sm",onClick:()=>se("card"),className:"h-8 w-8 p-0",children:i.jsx(bn,{className:"h-4 w-4"})})]}),i.jsx(KVe,{permission:"survey_templates_INSERT",children:i.jsxs(fe,{onClick:()=>{qs(),B(!0)},size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[i.jsx(Ut,{className:"h-4 w-4 me-2"}),n("surveys.createTemplate")]})})]}),i.jsx("div",{className:"flex-1 min-h-0 overflow-auto",dir:r?"rtl":"ltr",children:fr.length===0?i.jsx(ft,{className:"border-dashed",children:i.jsxs(yt,{className:"text-center py-16",children:[i.jsx("div",{className:"bg-muted/50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(bn,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:n("surveys.noTemplatesFound")}),i.jsx("p",{className:"text-muted-foreground max-w-sm mx-auto",children:n(j?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})]})}):D==="card"?i.jsx(PL,{data:Rl,keyExtractor:Z=>Z.template_id||`template-${Math.random()}`,columns:[{key:"title",render:Z=>i.jsx(OL,{children:Te(Z,"template_name")})},{key:"badges",render:Z=>i.jsxs("div",{className:"flex flex-wrap gap-2",children:[Z.category&&i.jsx(hN,{variant:"secondary",className:"bg-muted/50",children:Z.category}),Z.is_default&&i.jsx(hN,{variant:"default",className:"bg-green-500 hover:bg-green-600",children:n("surveys.default")}),i.jsx(hN,{variant:Z.is_active?"outline":"secondary",children:Z.is_active?n("surveys.active"):n("surveys.inactive")})]})},{key:"description",render:Z=>i.jsx(H5e,{children:Te(Z,"template_description")})},{key:"date",render:Z=>i.jsx(DL,{date:Z.created_at})}],actions:[{key:"view",icon:i.jsx(as,{className:"h-4 w-4"}),onClick:Z=>xi(Z),title:n("common.view"),className:"text-muted-foreground hover:text-primary hover:bg-primary/5"},{key:"setDefault",icon:i.jsx(rc,{className:"h-4 w-4"}),onClick:Z=>Q(Z.template_id),title:n("surveys.setAsDefault"),className:"text-green-500 hover:bg-green-50",condition:Z=>!Z.is_default},{key:"edit",icon:i.jsx(K2,{className:"h-4 w-4"}),onClick:Z=>Rr(Z),title:n("buttons.edit"),className:"text-blue-500 hover:bg-blue-50",condition:Z=>o("survey_templates")},{key:"delete",icon:i.jsx(Ht,{className:"h-4 w-4"}),onClick:Z=>ue(Z.template_id),title:n("buttons.delete"),className:"text-red-500 hover:bg-red-50",condition:Z=>l("survey_templates")}],emptyState:{title:n(j?"surveys.noTemplatesFound":"surveys.noTemplates"),description:n(j?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet"),icon:i.jsx(bn,{className:"h-12 w-12 text-muted-foreground"})},onCardClick:Z=>xi(Z)}):i.jsx("div",{className:"w-full overflow-hidden",dir:r?"rtl":"ltr",children:Ce()})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",dir:r?"rtl":"ltr",children:on>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Xm,{children:i.jsxs(Qm,{className:r?"flex-row-reverse":"",children:[i.jsx(ja,{children:r?i.jsx(du,{onClick:()=>Se(Math.min(on,ke+1)),className:ke===on?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")}):i.jsx(uu,{onClick:()=>Se(Math.max(1,ke-1)),className:ke===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")})}),i.jsx(ja,{children:i.jsxs("span",{className:"px-3 py-2 text-sm text-muted-foreground font-medium",children:[n("common.page")," ",ke," ",n("common.of")," ",on]})}),i.jsx(ja,{children:r?i.jsx(uu,{onClick:()=>Se(Math.max(1,ke-1)),className:ke===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")}):i.jsx(du,{onClick:()=>Se(Math.min(on,ke+1)),className:ke===on?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")})})]})})})})]})]})}),i.jsx(fn,{open:!!S,onOpenChange:Z=>!Z&&N(null),children:i.jsxs(tn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsx(rn,{children:i.jsx(nn,{children:(S==null?void 0:S.survey_name)||`${n("surveys.survey")} #${S==null?void 0:S.survey_id}`})}),S&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:n("surveys.clientName")}),i.jsx("p",{className:"text-sm",children:Te(S,"client_name")})]}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:n("surveys.clientCompany")}),i.jsx("p",{className:"text-sm",children:S.client_company||n("surveys.noCompany")})]}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:n("surveys.contact")}),i.jsx("p",{className:"text-sm",children:S.client_contact||n("surveys.noContact")})]}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:n("surveys.email")}),i.jsx("p",{className:"text-sm",children:S.client_email||n("surveys.noEmail")})]})]}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:n("surveys.location")}),i.jsx("p",{className:"text-sm",children:i.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${S.location_latitude},${S.location_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:S.location_address||`${(De=S.location_latitude)==null?void 0:De.toFixed(6)}, ${(He=S.location_longitude)==null?void 0:He.toFixed(6)}`})})]}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:n("surveys.responses")}),i.jsx("div",{className:"mt-2 space-y-2",children:S.survey_responses&&Object.keys(S.survey_responses).length>0?(()=>{const Z=v[S.template_id]||[],me=new Map(Z.map(Ee=>[Ee.field_id.toString(),Ee.field_label]));return Object.entries(S.survey_responses).map(([Ee,V])=>{const _e=me.get(Ee)||Ee,Me=typeof V=="string"&&V.startsWith("data:image/");return i.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-muted/30 rounded-lg",children:[i.jsxs("div",{className:"font-medium text-sm text-primary",children:[_e,":"]}),Me?i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:V,alt:_e,className:"w-full max-w-md h-auto rounded-lg border object-cover"})}):i.jsx("div",{className:"text-sm text-muted-foreground break-words",children:(()=>{if(V==null)return"N/A";if(Array.isArray(V))return V.join(", ");if(typeof V=="object"){if("bucket"in V&&"path"in V&&"url"in V)return"Image";try{const tt=JSON.stringify(V,null,2);return i.jsx("pre",{className:"bg-slate-100 dark:bg-slate-800 p-2 rounded text-xs overflow-x-auto",children:tt})}catch{return String(V)}}return String(V)})()})]},Ee)})})():i.jsx("div",{className:"text-sm text-muted-foreground italic p-3 bg-muted/30 rounded-lg",children:n("surveys.noResponsesRecorded")})})]})]})]})}),i.jsx(hs,{open:!!ye,onOpenChange:Z=>!Z&&ie(null),children:i.jsxs(Aa,{children:[i.jsxs(Pa,{children:[i.jsx(Da,{children:n("surveys.deleteSurvey")}),i.jsx(Ra,{children:n("surveys.deleteSurveyConfirmation",{name:((Ye=h.find(Z=>Z.survey_id===ye))==null?void 0:Ye.survey_name)||`${n("surveys.survey")} #${ye}`})})]}),i.jsxs(Oa,{children:[i.jsx(Ma,{children:n("buttons.cancel")}),i.jsx(Fa,{onClick:()=>{ye&&oe(ye)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:n("buttons.delete")})]})]})}),i.jsx(fn,{open:!!C,onOpenChange:Z=>!Z&&k(null),children:i.jsxs(tn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsx(rn,{children:i.jsx(nn,{children:Te(C||{},"template_name")})}),C&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:n("surveys.category")}),i.jsx("p",{className:"text-sm",children:C.category||n("surveys.noCategory")})]}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:n("surveys.status")}),i.jsxs("div",{className:"flex items-center gap-2",children:[C.is_active?i.jsx(ht,{variant:"default",className:"bg-green-500",children:n("surveys.active")}):i.jsx(ht,{variant:"secondary",children:n("surveys.inactive")}),C.is_default&&i.jsx(ht,{variant:"default",children:n("surveys.default")})]})]})]}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:n("surveys.description")}),i.jsx("p",{className:"text-sm mt-1",children:Te(C,"template_description")||n("surveys.noDescription")})]}),i.jsxs("div",{children:[i.jsxs(Ue,{className:"text-sm font-medium",children:[n("surveys.fields")," (",E.length,")"]}),i.jsx("div",{className:"mt-2 space-y-2",children:E.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:n("surveys.noFields")}):E.sort((Z,me)=>Z.field_order-me.field_order).map(Z=>i.jsx("div",{className:"border rounded-lg p-3 bg-muted/30",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ht,{variant:"outline",className:"text-xs",children:Z.field_type}),i.jsx("span",{className:"text-sm font-medium",children:Te(Z,"field_label")}),de(Z)&&i.jsx("span",{className:"text-red-500 text-sm",children:"*"})]}),Te(Z,"help_text")&&i.jsx("p",{className:"text-xs text-muted-foreground",children:Te(Z,"help_text")})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["#",Z.field_order]})]})},Z.field_id))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:n("surveys.created")}),i.jsx("p",{children:new Date(C.created_at).toLocaleString()})]}),i.jsxs("div",{children:[i.jsx(Ue,{className:"text-sm font-medium",children:n("surveys.updated")}),i.jsx("p",{children:new Date(C.updated_at).toLocaleString()})]})]})]})]})}),i.jsx(hs,{open:!!ee,onOpenChange:Z=>!Z&&ue(null),children:i.jsxs(Aa,{children:[i.jsxs(Pa,{children:[i.jsx(Da,{children:n("surveys.deleteTemplate")}),i.jsx(Ra,{children:n("surveys.deleteTemplateConfirmation",{name:g.find(Z=>Z.template_id===ee)?Te(g.find(Z=>Z.template_id===ee),"template_name"):`${n("surveys.template")} #${ee}`})})]}),i.jsxs(Oa,{children:[i.jsx(Ma,{children:n("buttons.cancel")}),i.jsx(Fa,{onClick:()=>{ee&&X(ee)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:n("buttons.delete")})]})]})}),i.jsx(fn,{open:A,onOpenChange:B,children:i.jsxs(tn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsxs(rn,{children:[i.jsx(nn,{children:n(G?"surveys.editTemplateTitle":"surveys.createTemplateTitle")}),i.jsx(ca,{children:n("surveys.createTemplateDesc")})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ue,{htmlFor:"template_name",children:[n("surveys.templateName")," *"]}),i.jsx(ze,{id:"template_name",value:ae.template_name,onChange:Z=>pe(me=>({...me,template_name:Z.target.value})),placeholder:n("surveys.templateName"),className:he.template_name?"border-red-500":""}),he.template_name&&i.jsx("p",{className:"text-sm text-red-500",children:he.template_name})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"category",children:n("surveys.category")}),i.jsxs(ct,{value:ae.category,onValueChange:Z=>pe(me=>({...me,category:Z})),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:n("surveys.selectCategory")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"customer_satisfaction",children:n("surveys.customerSatisfaction")}),i.jsx(je,{value:"product_feedback",children:n("surveys.productFeedback")}),i.jsx(je,{value:"service_quality",children:n("surveys.serviceQuality")}),i.jsx(je,{value:"general",children:n("surveys.general")})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"template_description",children:n("surveys.description")}),i.jsx(an,{id:"template_description",value:ae.template_description,onChange:Z=>pe(me=>({...me,template_description:Z.target.value})),placeholder:n("surveys.description"),rows:3})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"is_active",checked:ae.is_active,onChange:Z=>pe(me=>({...me,is_active:Z.target.checked})),className:"rounded"}),i.jsx(Ue,{htmlFor:"is_active",children:n("surveys.isActive")})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h3",{className:"text-lg font-semibold",children:n("surveys.fields")})}),he.fields&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-600",children:he.fields})}),i.jsx("div",{className:"space-y-3",children:te.map((Z,me)=>{var Ee,V,_e;return i.jsx(ft,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[i.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>Hs(me,Math.max(0,me-1)),disabled:me===0,children:i.jsx(vae,{className:"h-4 w-4"})}),i.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>Hs(me,Math.min(te.length-1,me+1)),disabled:me===te.length-1,children:i.jsx(pae,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ue,{children:[n("surveys.fieldLabel")," *"]}),i.jsx(ze,{value:Z.field_label,onChange:Me=>Xn(me,{field_label:Me.target.value}),placeholder:n("surveys.fieldLabel"),className:he[`field_${me}`]?"border-red-500":""}),he[`field_${me}`]&&i.jsx("p",{className:"text-sm text-red-500",children:he[`field_${me}`]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ue,{children:[n("surveys.fieldType")," *"]}),i.jsxs(ct,{value:Z.field_type,onValueChange:Me=>Xn(me,{field_type:Me}),children:[i.jsx(ot,{children:i.jsx(ut,{})}),i.jsxs(lt,{children:[i.jsx(je,{value:"text",children:n("surveys.text")}),i.jsx(je,{value:"textarea",children:n("surveys.textarea")}),i.jsx(je,{value:"email",children:n("surveys.email")}),i.jsx(je,{value:"date",children:n("surveys.date")}),i.jsx(je,{value:"select",children:n("surveys.select")}),i.jsx(je,{value:"multiselect",children:n("surveys.multiselect")}),i.jsx(je,{value:"radio",children:n("surveys.radio")}),i.jsx(je,{value:"checkbox",children:n("surveys.checkbox")}),i.jsx(je,{value:"image",children:n("surveys.image")})]})]})]})]}),(Z.field_type==="select"||Z.field_type==="multiselect"||Z.field_type==="radio")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{children:n("surveys.options")}),i.jsx(an,{defaultValue:((V=(Ee=Z.field_options)==null?void 0:Ee.options)==null?void 0:V.join(`
`))||"",onBlur:Me=>{const tt=Me.target.value.split(/[\n\s]+/).filter(qe=>qe.trim()).map(qe=>qe.trim());Xn(me,{field_options:{options:tt,allow_multiple:Z.field_type==="multiselect"}})},placeholder:"Enter options separated by spaces or new lines (e.g., POS CRM ERP)",rows:3}),((_e=Z.field_options)==null?void 0:_e.options)&&Z.field_options.options.length>0&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[Z.field_options.options.length," option(s): ",Z.field_options.options.join(", ")]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:`required-${me}`,checked:Z.is_required,onChange:Me=>Xn(me,{is_required:Me.target.checked}),className:"rounded"}),i.jsx(Ue,{htmlFor:`required-${me}`,children:n("surveys.isRequired")})]})]}),i.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>ys(me),className:"text-red-500 hover:text-red-700",children:i.jsx(Ht,{className:"h-4 w-4"})})]})},me)})}),i.jsx("div",{className:"flex justify-center pt-4",children:i.jsxs(fe,{onClick:Qi,size:"sm",className:"bg-primary hover:bg-primary/90 text-white",children:[i.jsx(Ut,{className:"h-4 w-4 me-2"}),n("surveys.addField")]})})]})]}),i.jsxs(la,{children:[i.jsx(fe,{variant:"outline",onClick:()=>B(!1),disabled:Re,children:n("buttons.cancel")}),i.jsx(fe,{onClick:ua,disabled:!ae.template_name.trim()||Re,children:n(Re?"buttons.saving":G?"surveys.updateTemplate":"surveys.createTemplate")})]})]})})]})}function QVe(){const{t:e}=Pt();dr();const{isRTL:t}=ar(),r=Br(),[n,a]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState(""),[f,h]=x.useState(null),[m,g]=x.useState(!1),[p,v]=x.useState("leads"),[y,b]=x.useState(""),[_,j]=x.useState("");x.useEffect(()=>{w()},[]);const w=async()=>{try{o(!0);const O=await ka.getAll();a(O)}catch(O){console.error("Failed to load stages:",O)}finally{o(!1)}},S=O=>n.filter(T=>T.stage_type===O).sort((T,U)=>(T.stager_order_index??0)-(U.stager_order_index??0)),N=async()=>{if(y.trim())try{const O=S(p),T=O.length>0?Math.max(...O.map(W=>W.stager_order_index||0)):-1,U={stage_name:y.trim(),stage_name_ar:_.trim()||null,stage_type:p,stager_order_index:T+1,color:"border-l-4 border-gray-400",color_var:"--gray-400"};await ka.create(U),await w(),b(""),j(""),g(!1)}catch(O){console.error("Failed to create stage:",O)}},C=async(O,T)=>{try{await ka.update(O.stage_id,T),await w(),c(null),d("")}catch(U){console.error("Failed to update stage:",U)}},k=async O=>{try{await ka.delete(O),await w(),h(null)}catch(T){console.error("Failed to delete stage:",T)}},E=O=>{const T=S(O);return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 rtl:flex-row-reverse",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:e(`settings.${O}`)}),i.jsxs(fe,{size:r?"default":"sm",onClick:()=>{v(O),g(!0)},className:"w-full sm:w-auto",children:[i.jsx(Ut,{className:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),e("settings.addStage")]})]}),T.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("settings.noStages")}):i.jsx("div",{className:"space-y-2",children:T.map((U,W)=>i.jsx(ft,{className:"p-3 md:p-4",children:i.jsxs("div",{className:Ne("flex gap-2 md:gap-3 rtl:flex-row-reverse",r?"flex-col":"items-center"),children:[!r&&i.jsx(Go,{className:"h-5 w-5 text-muted-foreground cursor-move flex-shrink-0"}),(l==null?void 0:l.stage_id)===U.stage_id?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(ze,{value:l.stage_name,onChange:R=>c({...l,stage_name:R.target.value}),placeholder:e("settings.englishName"),autoFocus:!0,className:"text-left rtl:text-right"}),i.jsx(ze,{value:u,onChange:R=>d(R.target.value),placeholder:e("settings.arabicName"),dir:"rtl",className:"text-right"})]}),i.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[i.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>C(U,{stage_name:l.stage_name,stage_name_ar:u||null}),className:"flex-1 sm:flex-initial",children:i.jsx(Eo,{className:"h-4 w-4"})}),i.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>{c(null),d("")},className:"flex-1 sm:flex-initial",children:i.jsx(ui,{className:"h-4 w-4"})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:Te(U,"stage_name")}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("settings.order"),": ",U.stager_order_index]})]}),i.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[i.jsx(fe,{size:"sm",variant:"ghost",onClick:()=>{c(U),d(U.stage_name_ar||"")},className:"flex-1 sm:flex-initial",children:i.jsx(Is,{className:"h-4 w-4"})}),i.jsx(fe,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive flex-1 sm:flex-initial",onClick:()=>h(U.stage_id),children:i.jsx(Ht,{className:"h-4 w-4"})})]})]})]})},U.stage_id))})]})};return s?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(oa,{message:e("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-4 md:space-y-6 bg-background p-4 rounded-md",dir:t?"rtl":"ltr",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:e("settings.title")}),i.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:e("settings.description")})]}),i.jsxs(di,{defaultValue:"stages",className:"space-y-6",children:[i.jsx(Bs,{className:"bg-muted/50 p-1 w-full sm:w-auto overflow-x-auto overflow-y-hidden",dir:t?"rtl":"ltr",children:i.jsx(ur,{value:"stages",className:"px-6",children:e("settings.stageManagement")})}),i.jsx(kr,{value:"stages",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",dir:t?"rtl":"ltr",children:[i.jsxs(ft,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Yt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(yr,{className:"text-lg flex items-center gap-2",children:[i.jsx(Go,{className:"h-5 w-5 text-muted-foreground"}),e("settings.leads")]})}),i.jsx(yt,{className:"p-4 md:p-6",children:E("leads")})]}),i.jsxs(ft,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Yt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(yr,{className:"text-lg flex items-center gap-2",children:[i.jsx(Go,{className:"h-5 w-5 text-muted-foreground"}),e("settings.projects")]})}),i.jsx(yt,{className:"p-4 md:p-6",children:E("projects")})]}),i.jsxs(ft,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Yt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(yr,{className:"text-lg flex items-center gap-2",children:[i.jsx(Go,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tasks")]})}),i.jsx(yt,{className:"p-4 md:p-6",children:E("tasks")})]}),i.jsxs(ft,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Yt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(yr,{className:"text-lg flex items-center gap-2",children:[i.jsx(Go,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tickets")]})}),i.jsx(yt,{className:"p-4 md:p-6",children:E("tickets")})]}),i.jsxs(ft,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Yt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(yr,{className:"text-lg flex items-center gap-2",children:[i.jsx(Go,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mleads")]})}),i.jsx(yt,{className:"p-4 md:p-6",children:E("mleads")})]}),i.jsxs(ft,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Yt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(yr,{className:"text-lg flex items-center gap-2",children:[i.jsx(Go,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mprojects")]})}),i.jsx(yt,{className:"p-4 md:p-6",children:E("mprojects")})]})]})})]}),i.jsx(fn,{open:m,onOpenChange:g,children:i.jsxs(tn,{className:"w-[95vw] sm:max-w-[425px]",children:[i.jsxs(rn,{children:[i.jsx(nn,{children:e("settings.addStage")}),i.jsx(ca,{children:e("settings.addStageDesc",{type:e(`settings.${p}`)})})]}),i.jsxs("div",{className:"space-y-4 py-4",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"stage-name",className:"text-left rtl:text-right",children:e("settings.englishName")}),i.jsx(ze,{id:"stage-name",value:y,onChange:O=>b(O.target.value),placeholder:e("settings.stageNamePlaceholder"),className:"text-left rtl:text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"stage-name-ar",className:"text-left rtl:text-right",children:e("settings.arabicName")}),i.jsx(ze,{id:"stage-name-ar",value:_,onChange:O=>j(O.target.value),placeholder:e("settings.stageNamePlaceholder"),dir:"rtl",className:"text-right"})]})]}),i.jsxs(la,{className:"flex-col sm:flex-row gap-2",dir:t?"rtl":"ltr",children:[i.jsx(fe,{variant:"outline",onClick:()=>g(!1),className:"w-full sm:w-auto",children:e("buttons.cancel")}),i.jsx(fe,{onClick:N,disabled:!y.trim(),className:"w-full sm:w-auto",children:e("buttons.create")})]})]})}),i.jsx(hs,{open:!!f,onOpenChange:O=>!O&&h(null),children:i.jsxs(Aa,{children:[i.jsxs(Pa,{children:[i.jsx(Da,{children:e("settings.deleteStage")}),i.jsx(Ra,{children:e("settings.deleteStageConfirmation")})]}),i.jsxs(Oa,{dir:t?"rtl":"ltr",children:[i.jsx(Ma,{children:e("buttons.cancel")}),i.jsx(Fa,{onClick:()=>f&&k(f),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})})]})}const JVe={light:"",dark:".dark"},vY=x.createContext(null);function xY(){const e=x.useContext(vY);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const nl=x.forwardRef(({id:e,className:t,children:r,config:n,...a},s)=>{const o=x.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return i.jsx(vY.Provider,{value:{config:n},children:i.jsxs("div",{"data-chart":l,ref:s,className:Ne("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[i.jsx(ZVe,{id:l,config:n}),i.jsx(lf,{children:r})]})})});nl.displayName="Chart";const ZVe=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?i.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(JVe).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([s,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},pd=ya,Qc=x.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:s=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:h},m)=>{const{config:g}=xY(),p=x.useMemo(()=>{var w;if(a||!(t!=null&&t.length))return null;const[y]=t,b=`${h||y.dataKey||y.name||"value"}`,_=aE(g,y,b),j=!h&&typeof o=="string"?((w=g[o])==null?void 0:w.label)||o:_==null?void 0:_.label;return l?i.jsx("div",{className:Ne("font-medium",c),children:l(j,t)}):j?i.jsx("div",{className:Ne("font-medium",c),children:j}):null},[o,l,t,a,c,g,h]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&n!=="dot";return i.jsxs("div",{ref:m,className:Ne("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:p,i.jsx("div",{className:"grid gap-1.5",children:t.map((y,b)=>{const _=`${f||y.name||y.dataKey||"value"}`,j=aE(g,y,_),w=d||y.payload.fill||y.color;return i.jsx("div",{className:Ne("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(y==null?void 0:y.value)!==void 0&&y.name?u(y.value,y.name,y,b,y.payload):i.jsxs(i.Fragment,{children:[j!=null&&j.icon?i.jsx(j.icon,{}):!s&&i.jsx("div",{className:Ne("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":w,"--color-border":w}}),i.jsxs("div",{className:Ne("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[i.jsxs("div",{className:"grid gap-1.5",children:[v?p:null,i.jsx("span",{className:"text-muted-foreground",children:(j==null?void 0:j.label)||y.name})]}),y.value&&i.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:y.value.toLocaleString()})]})]})},y.dataKey)})})]})});Qc.displayName="ChartTooltip";const eWe=x.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},s)=>{const{config:o}=xY();return r!=null&&r.length?i.jsx("div",{ref:s,className:Ne("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=aE(o,l,c);return i.jsxs("div",{className:Ne("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?i.jsx(u.icon,{}):i.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});eWe.displayName="ChartLegend";function aE(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}function tWe({filteredLeads:e,statuses:t,systems:r,activities:n,cities:a,users:s}){const{t:o}=Pt(),{isRTL:l}=ar(),c=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"];return i.jsx("div",{className:"flex-shrink-0 px-4 pb-4",children:i.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lead Analytics"}),i.jsxs(di,{defaultValue:"pie",className:"w-full",children:[i.jsxs(Bs,{className:`flex w-full ${l?"flex-row-reverse":""}`,children:[i.jsx(ur,{value:"pie",className:"flex-1",children:o("mleads.distributionCharts")}),i.jsx(ur,{value:"timeline",className:"flex-1",children:o("mleads.timeline")})]}),i.jsx(kr,{value:"pie",className:"mt-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Status"}),i.jsx(nl,{config:{},className:"h-[350px]",children:i.jsxs(dd,{children:[i.jsx(rs,{data:(()=>{const u=t.map(d=>({name:Te(d,"status_name"),value:e.filter(f=>f.status_id===d.status_id).length})).filter(d=>d.value>0);return u.length>0?u:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:u,value:d})=>`${u}: ${d}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:c.map((u,d)=>i.jsx(rl,{fill:u},`cell-${d}`))}),i.jsx(pd,{content:i.jsx(Qc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By System"}),i.jsx(nl,{config:{},className:"h-[350px]",children:i.jsxs(dd,{children:[i.jsx(rs,{data:(()=>{const u=r.map(d=>({name:Te(d,"system_name"),value:e.filter(f=>f.system_id===d.system_id).length})).filter(d=>d.value>0);return u.length>0?u:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:u,value:d})=>`${u}: ${d}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:c.map((u,d)=>i.jsx(rl,{fill:u},`cell-${d}`))}),i.jsx(pd,{content:i.jsx(Qc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Activity"}),i.jsx(nl,{config:{},className:"h-[350px]",children:i.jsxs(dd,{children:[i.jsx(rs,{data:(()=>{const u=n.map(d=>({name:Te(d,"activity_name"),value:e.filter(f=>f.activity_id===d.activity_id).length})).filter(d=>d.value>0);return u.length>0?u:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:u,value:d})=>`${u}: ${d}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:c.map((u,d)=>i.jsx(rl,{fill:u},`cell-${d}`))}),i.jsx(pd,{content:i.jsx(Qc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),i.jsx(nl,{config:{},className:"h-[350px]",children:i.jsxs(dd,{children:[i.jsx(rs,{data:(()=>{const u=a.map(d=>({name:Te(d,"city_name"),value:e.filter(f=>f.city_id===d.city_id).length})).filter(d=>d.value>0);return u.length>0?u:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:u,value:d})=>`${u}: ${d}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:c.map((u,d)=>i.jsx(rl,{fill:u},`cell-${d}`))}),i.jsx(pd,{content:i.jsx(Qc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Assigned User"}),i.jsx(nl,{config:{},className:"h-[350px]",children:i.jsxs(dd,{children:[i.jsx(rs,{data:(()=>{const u=s.map(d=>({name:d.name||d.user_name||"Unknown",value:e.filter(f=>f.assigned_to===d.userid).length})).filter(d=>d.value>0);return u.length>0?u:[{name:"Unassigned",value:e.filter(d=>!d.assigned_to).length||1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:u,value:d})=>`${u}: ${d}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:c.map((u,d)=>i.jsx(rl,{fill:u},`cell-${d}`))}),i.jsx(pd,{content:i.jsx(Qc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Leads"}),i.jsx("div",{className:"text-4xl font-bold text-primary",children:e.length})]})]})})]})]})})}var I5=1,rWe=.9,nWe=.8,aWe=.17,SN=.1,NN=.999,sWe=.9999,iWe=.99,oWe=/[\\\/_+.#"@\[\(\{&]/,lWe=/[\\\/_+.#"@\[\(\{&]/g,cWe=/[\s-]/,yY=/[\s-]/g;function sE(e,t,r,n,a,s,o){if(s===t.length)return a===e.length?I5:iWe;var l=`${a},${s}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(s),u=r.indexOf(c,a),d=0,f,h,m,g;u>=0;)f=sE(e,t,r,n,u+1,s+1,o),f>d&&(u===a?f*=I5:oWe.test(e.charAt(u-1))?(f*=nWe,m=e.slice(a,u-1).match(lWe),m&&a>0&&(f*=Math.pow(NN,m.length))):cWe.test(e.charAt(u-1))?(f*=rWe,g=e.slice(a,u-1).match(yY),g&&a>0&&(f*=Math.pow(NN,g.length))):(f*=aWe,a>0&&(f*=Math.pow(NN,u-a))),e.charAt(u)!==t.charAt(s)&&(f*=sWe)),(f<SN&&r.charAt(u-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(u-1)!==n.charAt(s))&&(h=sE(e,t,r,n,u+1,s+2,o),h*SN>f&&(f=h*SN)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[l]=d,d}function L5(e){return e.toLowerCase().replace(yY," ")}function uWe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,sE(e,t,L5(e),L5(t),0,0,{})}var v0='[cmdk-group=""]',kN='[cmdk-group-items=""]',dWe='[cmdk-group-heading=""]',bY='[cmdk-item=""]',$5=`${bY}:not([aria-disabled="true"])`,iE="cmdk-item-select",rh="data-value",fWe=(e,t,r)=>uWe(e,t,r),_Y=x.createContext(void 0),Cx=()=>x.useContext(_Y),wY=x.createContext(void 0),mO=()=>x.useContext(wY),jY=x.createContext(void 0),SY=x.forwardRef((e,t)=>{let r=nh(()=>{var A,B;return{search:"",value:(B=(A=e.value)!=null?A:e.defaultValue)!=null?B:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=nh(()=>new Set),a=nh(()=>new Map),s=nh(()=>new Map),o=nh(()=>new Set),l=NY(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:g,disablePointerSelection:p=!1,vimBindings:v=!0,...y}=e,b=na(),_=na(),j=na(),w=x.useRef(null),S=jWe();yf(()=>{if(d!==void 0){let A=d.trim();r.current.value=A,N.emit()}},[d]),yf(()=>{S(6,U)},[]);let N=x.useMemo(()=>({subscribe:A=>(o.current.add(A),()=>o.current.delete(A)),snapshot:()=>r.current,setState:(A,B,G)=>{var H,ee,ue,ye;if(!Object.is(r.current[A],B)){if(r.current[A]=B,A==="search")T(),E(),S(1,O);else if(A==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ie=document.getElementById(j);ie?ie.focus():(H=document.getElementById(b))==null||H.focus()}if(S(7,()=>{var ie;r.current.selectedItemId=(ie=W())==null?void 0:ie.id,N.emit()}),G||S(5,U),((ee=l.current)==null?void 0:ee.value)!==void 0){let ie=B??"";(ye=(ue=l.current).onValueChange)==null||ye.call(ue,ie);return}}N.emit()}},emit:()=>{o.current.forEach(A=>A())}}),[]),C=x.useMemo(()=>({value:(A,B,G)=>{var H;B!==((H=s.current.get(A))==null?void 0:H.value)&&(s.current.set(A,{value:B,keywords:G}),r.current.filtered.items.set(A,k(B,G)),S(2,()=>{E(),N.emit()}))},item:(A,B)=>(n.current.add(A),B&&(a.current.has(B)?a.current.get(B).add(A):a.current.set(B,new Set([A]))),S(3,()=>{T(),E(),r.current.value||O(),N.emit()}),()=>{s.current.delete(A),n.current.delete(A),r.current.filtered.items.delete(A);let G=W();S(4,()=>{T(),(G==null?void 0:G.getAttribute("id"))===A&&O(),N.emit()})}),group:A=>(a.current.has(A)||a.current.set(A,new Set),()=>{s.current.delete(A),a.current.delete(A)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:b,inputId:j,labelId:_,listInnerRef:w}),[]);function k(A,B){var G,H;let ee=(H=(G=l.current)==null?void 0:G.filter)!=null?H:fWe;return A?ee(A,r.current.search,B):0}function E(){if(!r.current.search||l.current.shouldFilter===!1)return;let A=r.current.filtered.items,B=[];r.current.filtered.groups.forEach(H=>{let ee=a.current.get(H),ue=0;ee.forEach(ye=>{let ie=A.get(ye);ue=Math.max(ie,ue)}),B.push([H,ue])});let G=w.current;R().sort((H,ee)=>{var ue,ye;let ie=H.getAttribute("id"),Y=ee.getAttribute("id");return((ue=A.get(Y))!=null?ue:0)-((ye=A.get(ie))!=null?ye:0)}).forEach(H=>{let ee=H.closest(kN);ee?ee.appendChild(H.parentElement===ee?H:H.closest(`${kN} > *`)):G.appendChild(H.parentElement===G?H:H.closest(`${kN} > *`))}),B.sort((H,ee)=>ee[1]-H[1]).forEach(H=>{var ee;let ue=(ee=w.current)==null?void 0:ee.querySelector(`${v0}[${rh}="${encodeURIComponent(H[0])}"]`);ue==null||ue.parentElement.appendChild(ue)})}function O(){let A=R().find(G=>G.getAttribute("aria-disabled")!=="true"),B=A==null?void 0:A.getAttribute(rh);N.setState("value",B||void 0)}function T(){var A,B,G,H;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ee=0;for(let ue of n.current){let ye=(B=(A=s.current.get(ue))==null?void 0:A.value)!=null?B:"",ie=(H=(G=s.current.get(ue))==null?void 0:G.keywords)!=null?H:[],Y=k(ye,ie);r.current.filtered.items.set(ue,Y),Y>0&&ee++}for(let[ue,ye]of a.current)for(let ie of ye)if(r.current.filtered.items.get(ie)>0){r.current.filtered.groups.add(ue);break}r.current.filtered.count=ee}function U(){var A,B,G;let H=W();H&&(((A=H.parentElement)==null?void 0:A.firstChild)===H&&((G=(B=H.closest(v0))==null?void 0:B.querySelector(dWe))==null||G.scrollIntoView({block:"nearest"})),H.scrollIntoView({block:"nearest"}))}function W(){var A;return(A=w.current)==null?void 0:A.querySelector(`${bY}[aria-selected="true"]`)}function R(){var A;return Array.from(((A=w.current)==null?void 0:A.querySelectorAll($5))||[])}function z(A){let B=R()[A];B&&N.setState("value",B.getAttribute(rh))}function P(A){var B;let G=W(),H=R(),ee=H.findIndex(ye=>ye===G),ue=H[ee+A];(B=l.current)!=null&&B.loop&&(ue=ee+A<0?H[H.length-1]:ee+A===H.length?H[0]:H[ee+A]),ue&&N.setState("value",ue.getAttribute(rh))}function M(A){let B=W(),G=B==null?void 0:B.closest(v0),H;for(;G&&!H;)G=A>0?_We(G,v0):wWe(G,v0),H=G==null?void 0:G.querySelector($5);H?N.setState("value",H.getAttribute(rh)):P(A)}let I=()=>z(R().length-1),q=A=>{A.preventDefault(),A.metaKey?I():A.altKey?M(1):P(1)},J=A=>{A.preventDefault(),A.metaKey?z(0):A.altKey?M(-1):P(-1)};return x.createElement(vt.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:A=>{var B;(B=y.onKeyDown)==null||B.call(y,A);let G=A.nativeEvent.isComposing||A.keyCode===229;if(!(A.defaultPrevented||G))switch(A.key){case"n":case"j":{v&&A.ctrlKey&&q(A);break}case"ArrowDown":{q(A);break}case"p":case"k":{v&&A.ctrlKey&&J(A);break}case"ArrowUp":{J(A);break}case"Home":{A.preventDefault(),z(0);break}case"End":{A.preventDefault(),I();break}case"Enter":{A.preventDefault();let H=W();if(H){let ee=new Event(iE);H.dispatchEvent(ee)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:NWe},c),bj(e,A=>x.createElement(wY.Provider,{value:N},x.createElement(_Y.Provider,{value:C},A))))}),hWe=x.forwardRef((e,t)=>{var r,n;let a=na(),s=x.useRef(null),o=x.useContext(jY),l=Cx(),c=NY(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;yf(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let d=kY(a,s,[e.value,e.children,s],e.keywords),f=mO(),h=Iu(S=>S.value&&S.value===d.current),m=Iu(S=>u||l.filter()===!1?!0:S.search?S.filtered.items.get(a)>0:!0);x.useEffect(()=>{let S=s.current;if(!(!S||e.disabled))return S.addEventListener(iE,g),()=>S.removeEventListener(iE,g)},[m,e.onSelect,e.disabled]);function g(){var S,N;p(),(N=(S=c.current).onSelect)==null||N.call(S,d.current)}function p(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:v,value:y,onSelect:b,forceMount:_,keywords:j,...w}=e;return x.createElement(vt.div,{ref:hc(s,t),...w,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!h,"data-disabled":!!v,"data-selected":!!h,onPointerMove:v||l.getDisablePointerSelection()?void 0:p,onClick:v?void 0:g},e.children)}),mWe=x.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...s}=e,o=na(),l=x.useRef(null),c=x.useRef(null),u=na(),d=Cx(),f=Iu(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);yf(()=>d.group(o),[]),kY(o,l,[e.value,e.heading,c]);let h=x.useMemo(()=>({id:o,forceMount:a}),[a]);return x.createElement(vt.div,{ref:hc(l,t),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&x.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),bj(e,m=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},x.createElement(jY.Provider,{value:h},m))))}),pWe=x.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=x.useRef(null),s=Iu(o=>!o.search);return!r&&!s?null:x.createElement(vt.div,{ref:hc(a,t),...n,"cmdk-separator":"",role:"separator"})}),gWe=x.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,s=mO(),o=Iu(u=>u.search),l=Iu(u=>u.selectedItemId),c=Cx();return x.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),x.createElement(vt.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||s.setState("search",u.target.value),r==null||r(u.target.value)}})}),vWe=x.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,s=x.useRef(null),o=x.useRef(null),l=Iu(u=>u.selectedItemId),c=Cx();return x.useEffect(()=>{if(o.current&&s.current){let u=o.current,d=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),x.createElement(vt.div,{ref:hc(s,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},bj(e,u=>x.createElement("div",{ref:hc(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),xWe=x.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:s,container:o,...l}=e;return x.createElement(ow,{open:r,onOpenChange:n},x.createElement(lw,{container:o},x.createElement(vp,{"cmdk-overlay":"",className:a}),x.createElement(xp,{"aria-label":e.label,"cmdk-dialog":"",className:s},x.createElement(SY,{ref:t,...l}))))}),yWe=x.forwardRef((e,t)=>Iu(r=>r.filtered.count===0)?x.createElement(vt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),bWe=x.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...s}=e;return x.createElement(vt.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},bj(e,o=>x.createElement("div",{"aria-hidden":!0},o)))}),Vs=Object.assign(SY,{List:vWe,Item:hWe,Input:gWe,Group:mWe,Separator:pWe,Dialog:xWe,Empty:yWe,Loading:bWe});function _We(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function wWe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function NY(e){let t=x.useRef(e);return yf(()=>{t.current=e}),t}var yf=typeof window>"u"?x.useEffect:x.useLayoutEffect;function nh(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function Iu(e){let t=mO(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function kY(e,t,r,n=[]){let a=x.useRef(),s=Cx();return yf(()=>{var o;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());s.value(e,l,c),(o=t.current)==null||o.setAttribute(rh,l),a.current=l}),a}var jWe=()=>{let[e,t]=x.useState(),r=nh(()=>new Map);return yf(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function SWe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function bj({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(SWe(t),{ref:t.ref},r(t.props.children)):r(t)}var NWe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Wa=x.forwardRef(({className:e,...t},r)=>i.jsx(Vs,{ref:r,className:Ne("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Wa.displayName=Vs.displayName;const Ha=x.forwardRef(({className:e,...t},r)=>i.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[i.jsx(La,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),i.jsx(Vs.Input,{ref:r,className:Ne("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Ha.displayName=Vs.Input.displayName;const qa=x.forwardRef(({className:e,...t},r)=>i.jsx(Vs.List,{ref:r,className:Ne("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));qa.displayName=Vs.List.displayName;const Ga=x.forwardRef((e,t)=>i.jsx(Vs.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Ga.displayName=Vs.Empty.displayName;const Ka=x.forwardRef(({className:e,...t},r)=>i.jsx(Vs.Group,{ref:r,className:Ne("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Ka.displayName=Vs.Group.displayName;const kWe=x.forwardRef(({className:e,...t},r)=>i.jsx(Vs.Separator,{ref:r,className:Ne("-mx-1 h-px bg-border",e),...t}));kWe.displayName=Vs.Separator.displayName;const Kt=x.forwardRef(({className:e,...t},r)=>i.jsx(Vs.Item,{ref:r,className:Ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));Kt.displayName=Vs.Item.displayName;function CWe({lead:e,onDelete:t,onClick:r,onDragStart:n,onStageChange:a,isDragging:s=!1,stages:o}){var g;const{t:l}=Pt(),c=Br(),u=p=>{const v=cities.find(y=>y.city_id===p.city_id);return v?Te(v,"city_name"):l("mleads.notSet")},d=p=>{const v=activities.find(y=>y.activity_id===p.activity_id);return v?Te(v,"activity_name"):l("mleads.notSet")},f=p=>{const v=systems.find(y=>y.system_id===p.system_id);return v?Te(v,"system_name"):l("mleads.notSet")},h=p=>{const v=statuses.find(y=>y.status_id===p.status_id);return v?Te(v,"status_name"):l("mleads.notSet")},m=p=>{switch(p){case 1:return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case 2:return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case 3:return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case 4:return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}};return i.jsxs(ft,{className:Ne("group relative hover:shadow-lg transition-all duration-200 cursor-pointer border-s-4 border-s-blue-500",c?"w-full":"w-[300px]","min-h-[160px]",s&&"opacity-50 rotate-2 scale-105"),onClick:r,draggable:!0,onDragStart:p=>{p.dataTransfer.effectAllowed="move",p.dataTransfer.setData("text/plain",e.leads_id.toString()),n&&n(e.leads_id)},children:[i.jsx(Yt,{className:"pb-2 px-4 pt-3",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-sm truncate group-hover:text-primary transition-colors",children:e.company_name||"No Company"}),e.address&&i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:e.address})]})})}),i.jsxs(yt,{className:"px-4 pb-3 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(gm,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:u(e)})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(AB,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("p",{className:"text-xs truncate",children:d(e)})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Wn,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("p",{className:"text-xs truncate text-muted-foreground",children:f(e)})]})]}),i.jsx("div",{children:i.jsx(ht,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${m(e.status_id)}`,children:h(e)})})]}),(()=>{const p=dbContacts.filter(v=>Number(v.leads_id)===Number(e.leads_id));return p.length===0?null:i.jsxs("div",{className:"pt-2 border-t mt-2 flex flex-col gap-1",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wider",children:l("mleads.contacts")}),p.slice(0,1).map((v,y)=>i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Mn,{className:"h-3 w-3 text-muted-foreground"}),i.jsx("p",{className:"text-[11px] truncate",children:v.contact_name})]},y)),p.length>1&&i.jsxs("p",{className:"text-[10px] text-muted-foreground ps-4",children:["+",p.length-1," more"]})]})})(),i.jsxs("div",{className:"pt-2 border-t flex flex-col gap-1.5",children:[i.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[i.jsx(Mn,{className:"h-2.5 w-2.5 flex-shrink-0"}),i.jsxs("span",{className:"truncate",children:["Assign: ",e.Users_name||"-"]})]}),i.jsx("div",{className:"flex items-center gap-1 min-w-0",children:i.jsxs("span",{className:"truncate opacity-70",children:["By: ",e.created_by_name||"-"]})})]}),i.jsx("div",{className:"text-[10px] text-muted-foreground italic opacity-60",children:new Date(e.created_at).toLocaleDateString()})]}),c&&a&&i.jsx("div",{className:"pt-1",children:i.jsxs(ct,{value:((g=e.stage_id)==null?void 0:g.toString())||"",onValueChange:p=>a(e.leads_id,parseInt(p)),children:[i.jsx(ot,{className:"h-7 text-xs",children:i.jsx(ut,{placeholder:l("mleads.selectStage","Select stage")})}),i.jsx(lt,{children:o.map(p=>i.jsx(je,{value:p.id.toString(),children:Te(p,"name")},p.id))})]})})]})]})}function EWe(){var x4,y4,b4,_4,w4;const{t:e}=Pt(),{user:t}=dr(),{currentLanguage:r,isRTL:n}=ar(),{toast:a}=gi();Br();const{setBreadcrumbs:s}=dp();Us();const[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState([]),[g,p]=x.useState([]),[v,y]=x.useState([]),[b,_]=x.useState([]),[j,w]=x.useState([]),[S,N]=x.useState([]),[C,k]=x.useState([]),[E,O]=x.useState([]),[T,U]=x.useState([]),[W,R]=x.useState(!0),[z,P]=x.useState(null),[M,I]=x.useState(""),[q,J]=x.useState(""),[A,B]=x.useState(!1),[G,H]=x.useState(!1),ee=x.useRef(!1),ue=x.useRef(1),ye=x.useRef(""),[ie,Y]=x.useState(1),[L]=x.useState(10),[D,se]=x.useState(0),[be,ve]=x.useState(0),[ke,Se]=x.useState(""),[Ve,dt]=x.useState(""),[ae,pe]=x.useState(""),[te,re]=x.useState(""),[he,Pe]=x.useState(""),[Re,et]=x.useState(""),[rt,jt]=x.useState(null),[we,Be]=x.useState(null),[We,Qe]=x.useState(!1),[Ct,Vt]=x.useState(!1),[Wt,cr]=x.useState({city_name_en:"",city_name_ar:"",country_id:null}),[fr,on]=x.useState(!1),[Yn,vi]=x.useState({system_name_en:"",system_name_ar:""}),[Rl,Ws]=x.useState(!1),[wr,Nn]=x.useState({activity_name_en:"",activity_name_ar:""}),[xi,Qi]=x.useState(!1),[ys,Xn]=x.useState({status_name_en:"",status_name_ar:""}),[Hs,qs]=x.useState([]),[Rr,yi]=x.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[ua,da]=x.useState(!1),[X,oe]=x.useState(null),[Q,ne]=x.useState(null),[le,de]=x.useState(!1),[Ae,Le]=x.useState([]),[Ce,Oe]=x.useState(!1),[De,He]=x.useState(window.innerWidth>=768),[Ye,Z]=x.useState("list"),[me,Ee]=x.useState(!1),[V,_e]=x.useState(null),[Me,tt]=x.useState("leads_summary"),[qe,Je]=x.useState(!1),[jr,ln]=x.useState({}),[Gs,kn]=x.useState(null),[Lf,fa]=x.useState(!1),[Ji,Fl]=x.useState(!1),[Tc,Ml]=x.useState(null),[Tx,Ax]=x.useState(!1),[Zu,Lp]=x.useState(!1),[Sj,jO]=x.useState(!1),[SO,NO]=x.useState(!1),[kO,CO]=x.useState(!1),[EO,TO]=x.useState(!1),[AO,PO]=x.useState(!1),[OO,DO]=x.useState(!1);x.useState(null);const[HY,qY]=x.useState(null),[RO,Nj]=x.useState(!1),[FO,kj]=x.useState(!1),[MO,Cj]=x.useState(!1),[IO,Ej]=x.useState(!1),[LO,Tj]=x.useState(!1),[$O,Aj]=x.useState(!1),[GY,BO]=x.useState(1),[KY,UO]=x.useState(1),[YY,zO]=x.useState(1),[XY,VO]=x.useState(1),[QY,WO]=x.useState(1),[JY,HO]=x.useState(1),[GHe,ZY]=x.useState(1),[KHe,eX]=x.useState(1),[YHe,tX]=x.useState(1),[$p,qO]=x.useState(!1),[Bp,GO]=x.useState(!1),[Up,KO]=x.useState(!1),[zp,YO]=x.useState(!1),[Vp,XO]=x.useState(!1),[Wp,QO]=x.useState(!1),[JO,XHe]=x.useState(!1);x.useState(!1);const[ZO,QHe]=x.useState(!1),[tr,Ua]=x.useState({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null});x.useEffect(()=>{s([{label:e("navigation.dashboard"),href:"/"},{label:"Master Leads",href:"/mleads"}])},[s,e]),x.useEffect(()=>{Pj()},[]),x.useEffect(()=>{const F=setTimeout(()=>{J(M)},500);return()=>clearTimeout(F)},[M]);const e4=x.useMemo(()=>!!(ke||Ve||ae||te||he||Re),[ke,Ve,ae,te,he,Re]),Ac=x.useMemo(()=>e4||!!q,[e4,q]);x.useEffect(()=>{const F=JSON.stringify({debouncedSearchTerm:q,cityFilter:ke,countryFilter:Ve,systemFilter:ae,statusFilter:te,activityFilter:he,assignedToFilter:Re,currentLanguage:r}),ge=F!==ye.current,Ie=ee.current&&!ge&&ie!==ue.current;Hp(q!=="",Ie),ue.current=ie,ye.current=F,ee.current=!0},[ie,q,ke,Ve,ae,te,he,Re,r]),x.useEffect(()=>{Ce?rX():u([])},[Ce,q,ke,Ve,ae,te,he,Re,r]);const Pj=async()=>{try{R(!0),P(null),BO(1),UO(1),zO(1),VO(1),WO(1),HO(1),ZY(1),eX(1),tX(1);const[F,ge,Ie,st,gr,Hr,bi,Dc,$n]=await Promise.all([K.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"city_id,city_name_en,city_name_ar"}),K.mActivity.list({sort_by:"activity_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"activity_id,activity_name_en,activity_name_ar"}),K.mStatus.list({sort_by:"status_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"status_id,status_name_en,status_name_ar"}),K.mSystem.list({sort_by:"system_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"system_id,system_name_en,system_name_ar"}),K.stages.list({exact_filters:{stage_type:"mleads"},sort_by:"stager_order_index",sort_order:"asc",pageSize:10,page:0,select_fields:"stage_id,stage_name,stage_name_ar,stage_type,stager_order_index"}),K.mContacts.list({select_fields:"contact_id,contact_name,leads_id",sort_by:"contact_name",sort_order:"asc",pageSize:10,page:0}),K.Users.list({sort_by:"name",sort_order:"asc",pageSize:10,page:0,select_fields:"name,Employee,userid,user_id,permissions,permissions_permissions_Name"}),K.mCountry.list({sort_by:"country_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"country_id,country_name_en,country_name_ar"}),K.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"jobtitle_id,jobtitle_name_en,jobtitle_name_ar"})]),Qn=Lo=>Array.isArray(Lo)?Lo:Lo!=null&&Lo.data&&Array.isArray(Lo.data)?Lo.data:[];f(Qn(F)),m(Qn(ge)),p(Qn(Ie)),y(Qn(st)),_(Qn(gr)),w(Qn(Hr)),k(Qn(bi)),O(Qn(Dc)),U(Qn($n))}catch(F){const ge=F instanceof Error?F.message:"Failed to load data";P(ge),a({title:"Error",description:ge,variant:"destructive"})}finally{R(!1)}},t4=async()=>{if(!$p)try{qO(!0);const F=GY+1,ge=await K.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:10,page:F,select_fields:"city_id,city_name_en,city_name_ar"}),Ie=(ge==null?void 0:ge.data)||[];Ie.length>0&&(f(st=>[...st,...Ie]),BO(F))}catch(F){console.error("Failed to load more cities:",F)}finally{qO(!1)}},r4=async()=>{if(!Bp)try{GO(!0);const F=KY+1,ge=await K.mActivity.list({sort_by:"activity_name_en",sort_order:"asc",pageSize:10,page:F,select_fields:"activity_id,activity_name_en,activity_name_ar"}),Ie=(ge==null?void 0:ge.data)||[];Ie.length>0&&(m(st=>[...st,...Ie]),UO(F))}catch(F){console.error("Failed to load more activities:",F)}finally{GO(!1)}},n4=async()=>{if(!Up)try{KO(!0);const F=YY+1,ge=await K.mStatus.list({sort_by:"status_name_en",sort_order:"asc",pageSize:10,page:F,select_fields:"status_id,status_name_en,status_name_ar"}),Ie=(ge==null?void 0:ge.data)||[];Ie.length>0&&(p(st=>[...st,...Ie]),zO(F))}catch(F){console.error("Failed to load more statuses:",F)}finally{KO(!1)}},a4=async()=>{if(!zp)try{YO(!0);const F=XY+1,ge=await K.mSystem.list({sort_by:"system_name_en",sort_order:"asc",pageSize:10,page:F,select_fields:"system_id,system_name_en,system_name_ar"}),Ie=(ge==null?void 0:ge.data)||[];Ie.length>0&&(y(st=>[...st,...Ie]),VO(F))}catch(F){console.error("Failed to load more systems:",F)}finally{YO(!1)}},s4=async()=>{if(!Vp)try{XO(!0);const F=QY+1,ge=await K.mCountry.list({sort_by:"country_name_en",sort_order:"asc",pageSize:10,page:F,select_fields:"country_id,country_name_en,country_name_ar"}),Ie=(ge==null?void 0:ge.data)||[];Ie.length>0&&(O(st=>[...st,...Ie]),WO(F))}catch(F){console.error("Failed to load more countries:",F)}finally{XO(!1)}},i4=async()=>{if(!Wp)try{QO(!0);const F=JY+1,ge=await K.Users.list({sort_by:"name",sort_order:"asc",pageSize:10,page:F,select_fields:"name,Employee,userid,user_id,permissions,permissions_permissions_Name"}),Ie=(ge==null?void 0:ge.data)||[];Ie.length>0&&(k(st=>[...st,...Ie]),HO(F))}catch(F){console.error("Failed to load more users:",F)}finally{QO(!1)}},bs=(F,ge,Ie)=>{const{scrollTop:st,scrollHeight:gr,clientHeight:Hr}=F.currentTarget;st+Hr>=gr-50&&!Ie&&ge()},Hp=async(F=!1,ge=!1)=>{try{ge?H(!0):F?B(!0):R(!0),P(null);const Ie={};ke&&(Ie.city_id=parseInt(ke)),ae&&(Ie.system_id=parseInt(ae)),te&&(Ie.status_id=parseInt(te)),he&&(Ie.activity_id=parseInt(he)),Re&&(Ie.assigned_to=parseInt(Re)),Ve&&(Ie.m_city_country_id=parseInt(Ve));const $n=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","decision_maker",r==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",r==="ar"?"m_city_city_name_ar":"m_city_city_name_en",r==="ar"?"m_system_system_name_ar":"m_system_system_name_en",r==="ar"?"m_status_status_name_ar":"m_status_status_name_en",r==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),Qn={page:Ac?0:ie-1,pageSize:Ac?100:L,sort_by:"created_at",sort_order:"desc",exact_filters:Ie,select_fields:$n};q&&(Qn.search_fields="company_name",Qn.search=q);const Lo=await K.mLeads.list(Qn);l(Lo.data||[]),ve(Lo.total||0)}catch(Ie){const st=Ie instanceof Error?Ie.message:"Failed to load data";P(st),a({title:"Error",description:st,variant:"destructive"})}finally{R(!1),B(!1),H(!1)}},rX=async()=>{try{const F={};ke&&(F.city_id=parseInt(ke)),ae&&(F.system_id=parseInt(ae)),te&&(F.status_id=parseInt(te)),he&&(F.activity_id=parseInt(he)),Re&&(F.assigned_to=parseInt(Re)),Ve&&(F.m_city_country_id=parseInt(Ve));const bi=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","decision_maker",r==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",r==="ar"?"m_city_city_name_ar":"m_city_city_name_en",r==="ar"?"m_system_system_name_ar":"m_system_system_name_en",r==="ar"?"m_status_status_name_ar":"m_status_status_name_en",r==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),Dc={pageSize:5e3,exact_filters:F,select_fields:bi};q&&(Dc.search=q);const $n=await K.mLeads.list(Dc);u($n.data||[])}catch(F){console.error("Failed to load all filtered leads:",F)}},o4=x.useMemo(()=>{if(!Ac)return o;const F=$n=>$n?parseInt($n,10):void 0,ge=F(te),Ie=F(he),st=F(ae),gr=F(ke),Hr=F(Ve),bi=F(Re),Dc=q.trim().toLowerCase();return o.filter($n=>{if(ge!==void 0&&$n.status_id!==ge||Ie!==void 0&&$n.activity_id!==Ie||st!==void 0&&$n.system_id!==st||gr!==void 0&&$n.city_id!==gr)return!1;if(Hr!==void 0){const Qn=$n.m_city_country_id??null;if(Qn===null||Qn!==Hr)return!1}return!(bi!==void 0&&($n.assigned_to===null||$n.assigned_to===void 0||$n.assigned_to!==bi)||Dc&&!($n.company_name||"").toLowerCase().includes(Dc))})},[Ac,o,te,he,ae,ke,Ve,Re,q]),Pc=x.useMemo(()=>Ce?c:o4,[Ce,c,o4]),nX=x.useMemo(()=>{if(Ce){const F=(ie-1)*L,ge=F+L;return Pc.slice(F,ge)}if(Ac){const F=(ie-1)*L,ge=F+L;return Pc.slice(F,ge)}return o},[Ce,Ac,Pc,o,ie,L]),ed=x.useMemo(()=>Math.max(1,Math.ceil(D/L)),[D,L]);x.useEffect(()=>{se(Ac?Pc.length:be)},[Pc,Ac,be]),x.useEffect(()=>{ie>ed&&Y(ed)},[ie,ed]);const Gt=(F,ge,Ie)=>{if(!F)return"-";let st=r==="ar"&&(F==null?void 0:F[Ie])||(F==null?void 0:F[ge]);if(!st){const gr=ge.replace(/_en$/,""),Hr=Ie.replace(/_ar$/,"");st=r==="ar"&&(F==null?void 0:F[Hr])||(F==null?void 0:F[gr])}return st||(F==null?void 0:F.name)||(F==null?void 0:F.label)||(F==null?void 0:F.title)||"-"},l4=F=>F&&(r==="ar"?F.m_city_city_name_ar||F.m_city_city_name_en:F.m_city_city_name_en||F.m_city_city_name_ar)||"-",c4=F=>F&&(r==="ar"?F.m_activity_activity_name_ar||F.m_activity_activity_name_en:F.m_activity_activity_name_en||F.m_activity_activity_name_ar)||"-",u4=F=>F&&(r==="ar"?F.m_status_status_name_ar||F.m_status_status_name_en:F.m_status_status_name_en||F.m_status_status_name_ar)||"-",d4=F=>F&&(r==="ar"?F.m_system_system_name_ar||F.m_system_system_name_en:F.m_system_system_name_en||F.m_system_system_name_ar)||"-",f4=F=>F&&(r==="ar"?F.stages_stage_name_ar||F.stages_stage_name:F.stages_stage_name||F.stages_stage_name_ar)||"-",h4=F=>{if(!F)return"-";const ge=F.toString(),Ie=C.find(st=>{var gr,Hr,bi;return((gr=st.userid)==null?void 0:gr.toString())===ge||((Hr=st.user_id)==null?void 0:Hr.toString())===ge||((bi=st.id)==null?void 0:bi.toString())===ge});return(Ie==null?void 0:Ie.name)||(Ie==null?void 0:Ie.user_name)||(Ie==null?void 0:Ie.display_name)||"-"},aX=F=>{if(F==null||F==="")return"";const ge=Number(F),Ie=d.find(st=>Number(st.city_id)===ge);return Gt(Ie,"city_name_en","city_name_ar")},sX=F=>{if(F==null||F==="")return"";const ge=Number(F),Ie=h.find(st=>Number(st.activity_id)===ge);return Gt(Ie,"activity_name_en","activity_name_ar")},iX=F=>{if(F==null||F==="")return"";const ge=Number(F),Ie=g.find(st=>Number(st.status_id)===ge);return Gt(Ie,"status_name_en","status_name_ar")},oX=F=>{if(F==null||F==="")return"";const ge=Number(F),Ie=v.find(st=>Number(st.system_id)===ge);return Gt(Ie,"system_name_en","system_name_ar")},lX=F=>{if(!F)return"";const ge=b.find(Ie=>Number(Ie.stage_id)===Number(F));return Gt(ge,"stage_name","stage_name_ar")},m4=F=>{const Ie={2:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},4:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"},5:{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"},1:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"},6:{bg:"bg-white-100",text:"text-white-800",border:"border-white-200"},3:{bg:"bg-orange-100",text:"text-orange-800",border:"border-orange-200"}}[F]||{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"};return`${Ie.bg} ${Ie.text} ${Ie.border}`},cX=async(F,ge)=>await new Promise((st,gr)=>{const Hr=new FileReader;Hr.onload=()=>{const bi=Hr.result;st(bi)},Hr.onerror=gr,Hr.readAsDataURL(F)}),uX=F=>F&&F!=="{}"&&F!==""&&typeof F=="string"&&F.startsWith("data:"),dX=async()=>{try{let F;if(we)await K.mLeads.update(we,tr),F=we,a({title:e("common.success"),description:e("mleads.leadUpdatedSuccessfully")});else{const ge={...tr,created_by:t==null?void 0:t.id},Ie=await K.mLeads.create(ge);if(Ie&&Ie.leads_id)F=Ie.leads_id;else if(F=Ie.id||Ie.leads_id,!F)throw new Error("Failed to create lead");a({title:e("common.success"),description:e("mleads.leadCreatedSuccessfully")})}if(Hs.length>0&&await NX(F),Gs&&tr.status_id===7){fa(!0);try{const ge=await cX(Gs,F);await K.mLeads.update(F,{lead_quotation:ge})}catch(ge){console.error("File upload failed:",ge),a({title:"Warning",description:"Lead saved but file upload failed",variant:"destructive"})}finally{fa(!1),kn(null)}}Qe(!1),Be(null),Ua({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),qs([]),await Hp()}catch(F){const ge=F instanceof Error?F.message:"Failed to save";a({title:"Error",description:ge,variant:"destructive"})}},fX=async F=>{try{await K.mLeads.delete(F),a({title:e("common.success"),description:e("mleads.leadDeletedSuccessfully")}),jt(null),await Hp()}catch(ge){const Ie=ge instanceof Error?ge.message:"Failed to delete";a({title:"Error",description:Ie,variant:"destructive"})}},hX=async F=>{var ge;try{Fl(!0),console.log("Loading quotation document for lead:",F);const Ie=await K.mLeads.list({exact_filters:{leads_id:F},select_fields:"leads_id,lead_quotation"});console.log("Quotation API response:",Ie);const st=(ge=Ie.data)==null?void 0:ge[0],gr=st==null?void 0:st.lead_quotation;console.log("Quotation document found:",gr),Ml(gr||null)}catch(Ie){console.error("Failed to load quotation document:",Ie),a({title:"Error",description:"Failed to load quotation document",variant:"destructive"})}finally{Fl(!1)}},p4=F=>{ne(F),g4(F.leads_id),Ml(null),de(!0)},g4=async F=>{try{const ge=await Uh.getByRelated("mlead",F);Le(ge)}catch(ge){console.error("Failed to load notes:",ge),Le([])}},mX=async F=>{try{const ge=await K.mContacts.list({exact_filters:{leads_id:F},select_fields:"contact_id,contact_name,contact_mobile,contact_email,jobtitle_id,leads_id",sort_by:"contact_name",sort_order:"asc"});N(ge.data||[])}catch(ge){console.error("Failed to load contacts:",ge),N([])}},v4=async F=>{Be(F.leads_id),Ua(F),await mX(F.leads_id);const ge=S.filter(Ie=>Ie.leads_id===F.leads_id);qs(ge.map(Ie=>{var st;return{contact_name:Ie.contact_name||"",contact_email:Ie.contact_email||"",contact_mobile:((st=Ie.contact_mobile)==null?void 0:st.toString())||"",jobtitle_id:Ie.jobtitle_id}})),Qe(!0)},pX=async F=>{try{await Promise.all(F.map(ge=>K.mLeads.delete(ge))),a({title:e("common.success"),description:e("mleads.leadsDeletedSuccessfully")}),await Hp()}catch(ge){const Ie=ge instanceof Error?ge.message:"Failed to delete";a({title:"Error",description:Ie,variant:"destructive"})}},gX=async(F,ge={})=>{try{Je(!0),_e(null);const Ie=await fetchAPI(`/api/v1/search?type=${F}&Filters=${encodeURIComponent(JSON.stringify(ge))}&lang=${r}`);Ie?_e(Ie):a({title:"Error",description:"No data returned from report",variant:"destructive"})}catch(Ie){console.error("Failed to load report:",Ie),a({title:"Error",description:Ie instanceof Error?Ie.message:"Failed to load report",variant:"destructive"})}finally{Je(!1)}},Oc=(F,ge)=>{ln(Ie=>({...Ie,[F]:ge}))},vX=()=>{gX(Me,jr)},xX=()=>{if(!V||!V.data)return;const F=[V.columns.join(","),...V.data.map(gr=>V.columns.map(Hr=>typeof gr[Hr]=="string"&&gr[Hr].includes(",")?`"${gr[Hr]}"`:gr[Hr]).join(","))].join(`
`),ge=new Blob([F],{type:"text/csv"}),Ie=window.URL.createObjectURL(ge),st=document.createElement("a");st.href=Ie,st.download=`${Me}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(st),st.click(),document.body.removeChild(st),window.URL.revokeObjectURL(Ie),a({title:e("common.success"),description:"Report exported successfully"})},yX=async()=>{try{if(!Wt.city_name_en&&!Wt.city_name_ar){a({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const F=await K.mCity.create(Wt),ge={...F,city_id:F.city_id||F.id};ge&&ge.city_id&&(f([...d,ge]),Ua({...tr,city_id:ge.city_id}),Vt(!1),cr({city_name_en:"",city_name_ar:"",country_id:null}),a({title:e("common.success"),description:e("mleads.cityCreatedSuccessfully")}))}catch(F){const ge=F instanceof Error?F.message:"Failed to create city";a({title:"Error",description:ge,variant:"destructive"})}},bX=async()=>{try{if(!Yn.system_name_en&&!Yn.system_name_ar){a({title:"Error",description:"Please enter at least one system name",variant:"destructive"});return}const F=await K.mSystem.create(Yn),ge={...F,system_id:F.system_id||F.id};ge&&ge.system_id&&(y([...v,ge]),Ua({...tr,system_id:ge.system_id}),on(!1),vi({system_name_en:"",system_name_ar:""}),a({title:e("common.success"),description:e("mleads.systemCreatedSuccessfully")}))}catch(F){const ge=F instanceof Error?F.message:"Failed to create system";a({title:"Error",description:ge,variant:"destructive"})}},_X=async()=>{try{if(!wr.activity_name_en&&!wr.activity_name_ar){a({title:"Error",description:"Please enter at least one activity name",variant:"destructive"});return}const F=await K.mActivity.create(wr),ge={...F,activity_id:F.activity_id||F.id};ge&&ge.activity_id&&(m([...h,ge]),Ua({...tr,activity_id:ge.activity_id}),Ws(!1),Nn({activity_name_en:"",activity_name_ar:""}),a({title:e("common.success"),description:e("mleads.activityCreatedSuccessfully")}))}catch(F){const ge=F instanceof Error?F.message:"Failed to create activity";a({title:"Error",description:ge,variant:"destructive"})}},wX=async()=>{try{if(!ys.status_name_en&&!ys.status_name_ar){a({title:"Error",description:"Please enter at least one status name",variant:"destructive"});return}const F=await K.mStatus.create(ys),ge={...F,status_id:F.status_id||F.id};ge&&ge.status_id&&(p([...g,ge]),Ua({...tr,status_id:ge.status_id}),Qi(!1),Xn({status_name_en:"",status_name_ar:""}),a({title:e("common.success"),description:e("mleads.statusCreatedSuccessfully")}))}catch(F){const ge=F instanceof Error?F.message:"Failed to create status";a({title:"Error",description:ge,variant:"destructive"})}},jX=()=>{if(!Rr.contact_name.trim()){a({title:"Error",description:"Please enter contact name",variant:"destructive"});return}qs([...Hs,{...Rr}]),yi({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),da(!1)},SX=F=>{qs(Hs.filter((ge,Ie)=>Ie!==F))},NX=async F=>{try{const ge=Hs.map(Ie=>({...Ie,leads_id:F,contact_mobile:Ie.contact_mobile?parseInt(Ie.contact_mobile):null}));if(ge.length>0)for(const Ie of ge)await K.mContacts.create(Ie)}catch(ge){const Ie=ge instanceof Error?ge.message:"Failed to save contacts";a({title:"Error",description:Ie}),a({title:e("common.success"),description:e("mleads.cityCreatedSuccessfully")})}};if(z)return i.jsx(Pf,{message:z,onRetry:Pj});const kX=[{label:e("common.delete"),icon:i.jsx(Ht,{}),onClick:F=>{window.confirm(`Delete ${F.length} leads?`)&&pX(F.map(ge=>ge.leads_id))},variant:"destructive"}],CX=[{key:"company_name",header:e("mleads.company"),className:"w-1/4 min-w-[200px]",render:F=>i.jsx(bc,{title:F.company_name||"-",subtitle:F.address||"",icon:i.jsx(Wn,{className:"h-4 w-4"})})},{key:"city_id",header:e("mleads.city"),className:"w-1/6 min-w-[120px]",render:F=>i.jsx("span",{className:"text-sm text-foreground",children:l4(F)})},{key:"activity_id",header:e("mleads.activity"),className:"w-1/6 min-w-[120px]",render:F=>i.jsx(ht,{variant:"outline",className:"text-xs truncate",children:c4(F)})},{key:"status_id",header:e("mleads.status"),className:"w-1/6 min-w-[120px]",render:F=>{const ge=u4(F);return i.jsx(ht,{variant:"outline",className:`text-xs truncate ${m4(F.status_id)}`,children:ge})}},{key:"stage_id",header:e("mleads.stage"),className:"w-1/6 min-w-[120px]",render:F=>i.jsx(ht,{variant:"outline",className:"text-xs truncate bg-blue-50 text-blue-700 border-blue-200",children:f4(F)})},{key:"system_id",header:e("mleads.system"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:F=>i.jsx("div",{className:"text-sm text-muted-foreground truncate",children:d4(F)})},{key:"created_by",header:e("mleads.createdBy"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:F=>i.jsx("div",{className:"truncate",children:i.jsx(Gm,{name:F.created_by_name||"-"})})},{key:"decision_maker",header:e("mleads.decisionMaker"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:F=>i.jsx("div",{className:"truncate",children:i.jsx("span",{className:"text-sm",children:F.decision_maker||"-"})})},{key:"created_at",header:e("mleads.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:F=>i.jsx(Af,{date:F.created_at})}],EX=[{icon:i.jsx(Is,{}),label:e("common.edit"),onClick:F=>v4(F)},{icon:i.jsx(Ht,{}),label:e("common.delete"),onClick:F=>jt(F.leads_id),variant:"destructive"}];return i.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:n?"rtl":"ltr",children:[i.jsx("div",{className:"flex-shrink-0 pb-3",children:i.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[i.jsxs(fe,{variant:"outline",size:"default",onClick:()=>Z(Ye==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[Ye==="list"?i.jsx(as,{className:"h-4 w-4"}):i.jsx(Wn,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e(Ye==="list"?"mleads.kanbanView":"mleads.listView")})]}),i.jsxs(fe,{variant:Ce?"default":"outline",size:"default",onClick:()=>Oe(!Ce),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[i.jsx(as,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("mleads.showChart")}),i.jsx($d,{className:`h-4 w-4 transition-transform ${Ce?"rotate-180":""}`})]}),i.jsxs(fe,{variant:me?"default":"outline",size:"default",onClick:()=>Ee(!me),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[i.jsx(bn,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("mleads.reports")}),i.jsx($d,{className:`h-4 w-4 transition-transform ${me?"rotate-180":""}`})]}),i.jsxs("div",{className:"flex-1 min-w-[200px] relative",children:[i.jsx(La,{className:"absolute inset-inline-start-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(ze,{placeholder:e("mleads.searchPlaceholder"),value:M,onChange:F=>{I(F.target.value),Y(1)},className:"ps-10 pe-3 h-10 bg-background border-input"})]})]}),i.jsxs(fe,{size:"default",onClick:()=>{Be(null),Ua({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),qs([]),oe(null),Vt(!1),on(!1),Ws(!1),Qi(!1),cr({city_name_en:"",city_name_ar:"",country_id:null}),vi({system_name_en:"",system_name_ar:""}),Nn({activity_name_en:"",activity_name_ar:""}),Xn({status_name_en:"",status_name_ar:""}),kn(null),Qe(!0)},variant:"outline",className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:n?"rtl":"ltr",children:[i.jsx(Ut,{className:`w-4 h-4 ${n?"order-2":"order-1"}`}),i.jsx("span",{className:`${n?"order-1":"order-2"}`,children:e("common.add")})]})]})})}),i.jsx("div",{className:"flex-shrink-0 pb-4",children:i.jsxs("div",{className:"bg-card rounded-lg border shadow-sm",children:[i.jsx(fe,{variant:"ghost",onClick:()=>He(!De),className:"w-full justify-between h-auto p-4 rounded-lg hover:bg-accent transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")}),i.jsxs("div",{className:"flex items-center gap-2",children:[(ke||Ve||ae||te||he||Re)&&i.jsxs(fe,{variant:"outline",size:"sm",onClick:F=>{F.stopPropagation(),Se(""),dt(""),pe(""),re(""),Pe(""),et(""),Y(1)},title:e("mleads.clearFilters"),className:"h-8 px-3 hover:bg-destructive/10 hover:border-destructive/30 hover:text-destructive transition-colors",children:[i.jsx(ui,{className:`h-3 w-3 ${n?"ms-2":"me-2"}`}),e("mleads.clearFilters")]}),i.jsx($d,{className:`h-4 w-4 transition-transform ${De?"rotate-180":""}`})]})]})}),De&&i.jsx("div",{className:"px-4 pb-4 animate-in fade-in slide-in-from-top-2",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3",children:[i.jsxs(za,{open:RO,onOpenChange:Nj,children:[i.jsx(Va,{asChild:!0,children:i.jsxs(fe,{variant:"outline",role:"combobox","aria-expanded":RO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:te?Gt(g.find(F=>F.status_id.toString()===te),"status_name_en","status_name_ar"):e("mleads.allStatuses")}),i.jsx(_s,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ga,{className:"w-full p-0",children:i.jsxs(Wa,{children:[i.jsx(Ha,{placeholder:e("mleads.searchStatus")}),i.jsxs(qa,{onScroll:F=>bs(F,n4,Up),children:[i.jsx(Ga,{children:e("common.noResults")}),i.jsxs(Ka,{children:[i.jsx(Kt,{value:e("mleads.allStatuses"),onSelect:()=>{re(""),Y(1),Nj(!1)},children:e("mleads.allStatuses")},"all-statuses"),g.map(F=>i.jsx(Kt,{value:Gt(F,"status_name_en","status_name_ar"),onSelect:()=>{re(F.status_id.toString()),Y(1),Nj(!1)},children:Gt(F,"status_name_en","status_name_ar")},F.status_id)),Up&&i.jsx(Kt,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(za,{open:FO,onOpenChange:kj,children:[i.jsx(Va,{asChild:!0,children:i.jsxs(fe,{variant:"outline",role:"combobox","aria-expanded":FO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:he?Gt(h.find(F=>F.activity_id.toString()===he),"activity_name_en","activity_name_ar"):e("mleads.allActivities")}),i.jsx(_s,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ga,{className:"w-full p-0",children:i.jsxs(Wa,{children:[i.jsx(Ha,{placeholder:e("mleads.searchActivity")}),i.jsxs(qa,{onScroll:F=>bs(F,r4,Bp),children:[i.jsx(Ga,{children:e("common.noResults")}),i.jsxs(Ka,{children:[i.jsx(Kt,{value:e("mleads.allActivities"),onSelect:()=>{Pe(""),Y(1),kj(!1)},children:e("mleads.allActivities")},"all-activities"),h.map(F=>i.jsx(Kt,{value:Gt(F,"activity_name_en","activity_name_ar"),onSelect:()=>{Pe(F.activity_id.toString()),Y(1),kj(!1)},children:Gt(F,"activity_name_en","activity_name_ar")},F.activity_id)),Bp&&i.jsx(Kt,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(za,{open:MO,onOpenChange:Cj,children:[i.jsx(Va,{asChild:!0,children:i.jsxs(fe,{variant:"outline",role:"combobox","aria-expanded":MO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:ae?Gt(v.find(F=>F.system_id.toString()===ae),"system_name_en","system_name_ar"):e("mleads.allSystems")}),i.jsx(_s,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ga,{className:"w-full p-0",children:i.jsxs(Wa,{children:[i.jsx(Ha,{placeholder:e("mleads.searchSystem")}),i.jsxs(qa,{onScroll:F=>bs(F,a4,zp),children:[i.jsx(Ga,{children:e("common.noResults")}),i.jsxs(Ka,{children:[i.jsx(Kt,{value:e("mleads.allSystems"),onSelect:()=>{pe(""),Y(1),Cj(!1)},children:e("mleads.allSystems")},"all-systems"),v.map(F=>i.jsx(Kt,{value:Gt(F,"system_name_en","system_name_ar"),onSelect:()=>{pe(F.system_id.toString()),Y(1),Cj(!1)},children:Gt(F,"system_name_en","system_name_ar")},F.system_id)),zp&&i.jsx(Kt,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(za,{open:IO,onOpenChange:Ej,children:[i.jsx(Va,{asChild:!0,children:i.jsxs(fe,{variant:"outline",role:"combobox","aria-expanded":IO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:Ve?Gt(E.find(F=>F.country_id.toString()===Ve),"country_name_en","country_name_ar"):e("mleads.allCountries")}),i.jsx(_s,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ga,{className:"w-full p-0",children:i.jsxs(Wa,{children:[i.jsx(Ha,{placeholder:e("mleads.searchCountry")}),i.jsxs(qa,{onScroll:F=>bs(F,s4,Vp),children:[i.jsx(Ga,{children:e("common.noResults")}),i.jsxs(Ka,{children:[i.jsx(Kt,{value:e("mleads.allCountries"),onSelect:()=>{dt(""),Y(1),Ej(!1)},children:e("mleads.allCountries")},"all-countries"),E.map(F=>i.jsx(Kt,{value:Gt(F,"country_name_en","country_name_ar"),onSelect:()=>{dt(F.country_id.toString()),Y(1),Ej(!1)},children:Gt(F,"country_name_en","country_name_ar")},F.country_id)),Vp&&i.jsx(Kt,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(za,{open:LO,onOpenChange:Tj,children:[i.jsx(Va,{asChild:!0,children:i.jsxs(fe,{variant:"outline",role:"combobox","aria-expanded":LO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:ke?Gt(d.find(F=>F.city_id.toString()===ke),"city_name_en","city_name_ar"):e("mleads.allCities")}),i.jsx(_s,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ga,{className:"w-full p-0",children:i.jsxs(Wa,{children:[i.jsx(Ha,{placeholder:e("mleads.searchCity")}),i.jsxs(qa,{onScroll:F=>bs(F,t4,$p),children:[i.jsx(Ga,{children:e("common.noResults")}),i.jsxs(Ka,{children:[i.jsx(Kt,{value:e("mleads.allCities"),onSelect:()=>{Se(""),Y(1),Tj(!1)},children:e("mleads.allCities")},"all-cities"),d.map(F=>i.jsx(Kt,{value:Gt(F,"city_name_en","city_name_ar"),onSelect:()=>{Se(F.city_id.toString()),Y(1),Tj(!1)},children:Gt(F,"city_name_en","city_name_ar")},F.city_id)),$p&&i.jsx(Kt,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(za,{open:$O,onOpenChange:Aj,children:[i.jsx(Va,{asChild:!0,children:i.jsxs(fe,{variant:"outline",role:"combobox","aria-expanded":$O,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:Re?h4(Re):e("mleads.allUsers")}),i.jsx(_s,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ga,{className:"w-full p-0",children:i.jsxs(Wa,{children:[i.jsx(Ha,{placeholder:e("mleads.searchUser")}),i.jsxs(qa,{onScroll:F=>bs(F,i4,Wp),children:[i.jsx(Ga,{children:e("common.noResults")}),i.jsxs(Ka,{children:[i.jsx(Kt,{value:e("mleads.allUsers"),onSelect:()=>{et(""),Y(1),Aj(!1)},children:e("mleads.allUsers")},"all-users"),C.map(F=>{var st;const ge=(st=F.userid||F.user_id||F.id)==null?void 0:st.toString(),Ie=F.name||F.user_name||F.display_name||"-";return i.jsx(Kt,{value:Ie,onSelect:()=>{et(ge),Y(1),Aj(!1)},children:Ie},ge)}),Wp&&i.jsx(Kt,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]})]})})]})}),i.jsx(Oo,{open:We,onOpenChange:Qe,children:i.jsxs(Vi,{className:`w-full sm:max-w-[540px] flex flex-col h-full ${r==="ar"?"rtl":"ltr"}`,children:[i.jsxs(yl,{children:[i.jsx(Do,{children:e(we?"mleads.editLead":"mleads.createNewLead")}),i.jsx(Ru,{children:e(we?"mleads.editLeadDescription":"mleads.createLeadDescription")})]}),i.jsxs("div",{className:"mt-6 space-y-4 px-4 flex-1 overflow-y-auto",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.companyName")}),i.jsx(ze,{value:tr.company_name||"",onChange:F=>Ua({...tr,company_name:F.target.value}),placeholder:e("mleads.companyName")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.address")}),i.jsx(an,{value:tr.address||"",onChange:F=>Ua({...tr,address:F.target.value}),placeholder:e("mleads.address")})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.contacts")}),i.jsx(fe,{type:"button",variant:"ghost",size:"sm",onClick:()=>da(!ua),className:"h-6 px-2 text-xs",children:e(ua?"mleads.cancel":"mleads.addContact")})]}),Hs.length>0&&i.jsx("div",{className:"space-y-2 mb-3",children:Hs.map((F,ge)=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:F.contact_name}),i.jsxs("div",{className:"text-muted-foreground",children:[F.contact_email&&`${F.contact_email}  `,F.contact_mobile&&`${F.contact_mobile}`]})]}),i.jsx(fe,{type:"button",variant:"ghost",size:"sm",onClick:()=>SX(ge),className:"h-6 w-6 p-0",children:i.jsx(ui,{className:"h-3 w-3"})})]},ge))}),ua&&i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(ze,{placeholder:e("mleads.contactName"),value:Rr.contact_name,onChange:F=>yi({...Rr,contact_name:F.target.value})}),i.jsx(ze,{placeholder:e("mleads.email"),type:"email",value:Rr.contact_email,onChange:F=>yi({...Rr,contact_email:F.target.value})}),i.jsx(ze,{placeholder:e("mleads.mobile"),value:Rr.contact_mobile,onChange:F=>yi({...Rr,contact_mobile:F.target.value})}),i.jsxs(za,{open:AO,onOpenChange:PO,children:[i.jsx(Va,{asChild:!0,children:i.jsxs(fe,{variant:"outline",role:"combobox","aria-expanded":AO,className:"w-full justify-between",children:[Rr.jobtitle_id?(x4=T.find(F=>F.jobtitle_id===Rr.jobtitle_id))==null?void 0:x4.jobtitle_name_en:e("mleads.selectJobTitle"),i.jsx(_s,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ga,{className:"w-full p-0",children:i.jsxs(Wa,{children:[i.jsx(Ha,{placeholder:e("mleads.searchJobTitle")}),i.jsxs(qa,{onScroll:F=>bs(F,loadMoreJobTitles,ZO),children:[i.jsx(Ga,{children:e("common.noResults")}),i.jsxs(Ka,{children:[T&&T.length>0?T.map(F=>i.jsx(Kt,{value:Gt(F,"jobtitle_name_en","jobtitle_name_ar")||F.jobtitle_name_en||"Unknown",onSelect:()=>{yi(ge=>({...ge,jobtitle_id:F.jobtitle_id})),PO(!1)},children:Gt(F,"jobtitle_name_en","jobtitle_name_ar")||F.jobtitle_name_en||"Unknown"},F.jobtitle_id)):i.jsx(Kt,{disabled:!0,children:"No job titles available"},"no-job-titles"),ZO&&i.jsx(Kt,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsx(fe,{type:"button",onClick:jX,className:"w-full",children:e("mleads.addContactTitle")})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.city")}),i.jsx(fe,{type:"button",variant:"ghost",size:"sm",onClick:()=>Vt(!Ct),className:"h-6 px-2 text-xs",children:e(Ct?"mleads.cancel":"mleads.addNew")})]}),Ct?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(ze,{placeholder:e("mleads.cityNameEn"),value:Wt.city_name_en,onChange:F=>cr({...Wt,city_name_en:F.target.value})}),i.jsx(ze,{placeholder:e("mleads.cityNameAr"),value:Wt.city_name_ar,onChange:F=>cr({...Wt,city_name_ar:F.target.value})}),i.jsxs(za,{open:OO,onOpenChange:DO,children:[i.jsx(Va,{asChild:!0,children:i.jsxs(fe,{variant:"outline",role:"combobox","aria-expanded":OO,className:"w-full justify-between",children:[Wt.country_id?(y4=E.find(F=>F.country_id===Wt.country_id))==null?void 0:y4.country_name_en:e("mleads.selectCountry"),i.jsx(_s,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ga,{className:"w-full p-0",children:i.jsxs(Wa,{children:[i.jsx(Ha,{placeholder:e("mleads.searchCountry")}),i.jsxs(qa,{onScroll:F=>bs(F,s4,Vp),children:[i.jsx(Ga,{children:e("common.noResults")}),i.jsxs(Ka,{children:[E.map(F=>i.jsx(Kt,{value:Gt(F,"country_name_en","country_name_ar"),onSelect:()=>{cr({...Wt,country_id:F.country_id}),DO(!1)},children:Gt(F,"country_name_en","country_name_ar")},F.country_id)),Vp&&i.jsx(Kt,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsx(fe,{type:"button",onClick:yX,className:"w-full",children:e("mleads.createCity")})]}):i.jsxs(za,{open:Tx,onOpenChange:Ax,children:[i.jsx(Va,{asChild:!0,children:i.jsxs(fe,{variant:"outline",role:"combobox","aria-expanded":Tx,className:"w-full justify-between",children:[tr.city_id?aX(tr.city_id):e("mleads.city"),i.jsx(_s,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ga,{className:"w-full p-0",children:i.jsxs(Wa,{children:[i.jsx(Ha,{placeholder:e("mleads.searchCity")}),i.jsxs(qa,{onScroll:F=>bs(F,t4,$p),children:[i.jsx(Ga,{children:e("common.noResults")}),i.jsxs(Ka,{children:[d.map(F=>i.jsx(Kt,{value:Gt(F,"city_name_en","city_name_ar"),onSelect:()=>{Ua({...tr,city_id:F.city_id}),Ax(!1)},children:Gt(F,"city_name_en","city_name_ar")},F.city_id)),$p&&i.jsx(Kt,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.activity")}),i.jsx(fe,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ws(!Rl),className:"h-6 px-2 text-xs",children:e(Rl?"mleads.cancel":"mleads.addNew")})]}),Rl?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(ze,{placeholder:e("mleads.activityNameEn"),value:wr.activity_name_en,onChange:F=>Nn({...wr,activity_name_en:F.target.value})}),i.jsx(ze,{placeholder:e("mleads.activityNameAr"),value:wr.activity_name_ar,onChange:F=>Nn({...wr,activity_name_ar:F.target.value})}),i.jsx(fe,{type:"button",onClick:_X,className:"w-full",children:e("mleads.createActivity")})]}):i.jsxs(za,{open:Zu,onOpenChange:Lp,children:[i.jsx(Va,{asChild:!0,children:i.jsxs(fe,{variant:"outline",role:"combobox","aria-expanded":Zu,className:"w-full justify-between",children:[tr.activity_id?sX(tr.activity_id):e("mleads.selectActivity"),i.jsx(_s,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ga,{className:"w-full p-0",children:i.jsxs(Wa,{children:[i.jsx(Ha,{placeholder:e("mleads.searchActivity")}),i.jsxs(qa,{onScroll:F=>bs(F,r4,Bp),children:[i.jsx(Ga,{children:e("common.noResults")}),i.jsxs(Ka,{children:[h.map(F=>i.jsx(Kt,{value:Gt(F,"activity_name_en","activity_name_ar"),onSelect:()=>{Ua({...tr,activity_id:F.activity_id}),Lp(!1)},children:Gt(F,"activity_name_en","activity_name_ar")},F.activity_id)),Bp&&i.jsx(Kt,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.system")}),i.jsx(fe,{type:"button",variant:"ghost",size:"sm",onClick:()=>on(!fr),className:"h-6 px-2 text-xs",children:e(fr?"mleads.cancel":"mleads.addNew")})]}),fr?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(ze,{placeholder:e("mleads.systemNameEn"),value:Yn.system_name_en,onChange:F=>vi({...Yn,system_name_en:F.target.value})}),i.jsx(ze,{placeholder:e("mleads.systemNameAr"),value:Yn.system_name_ar,onChange:F=>vi({...Yn,system_name_ar:F.target.value})}),i.jsx(fe,{type:"button",onClick:bX,className:"w-full",children:e("mleads.createSystem")})]}):i.jsxs(za,{open:Sj,onOpenChange:jO,children:[i.jsx(Va,{asChild:!0,children:i.jsxs(fe,{variant:"outline",role:"combobox","aria-expanded":Sj,className:"w-full justify-between",children:[tr.system_id?oX(tr.system_id):e("mleads.selectSystem"),i.jsx(_s,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ga,{className:"w-full p-0",children:i.jsxs(Wa,{children:[i.jsx(Ha,{placeholder:e("mleads.searchSystem")}),i.jsxs(qa,{onScroll:F=>bs(F,a4,zp),children:[i.jsx(Ga,{children:e("common.noResults")}),i.jsxs(Ka,{children:[v.map(F=>i.jsx(Kt,{value:Gt(F,"system_name_en","system_name_ar"),onSelect:()=>{Ua({...tr,system_id:F.system_id}),jO(!1)},children:Gt(F,"system_name_en","system_name_ar")},F.system_id)),zp&&i.jsx(Kt,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.status")}),i.jsx(fe,{type:"button",variant:"ghost",size:"sm",onClick:()=>Qi(!xi),className:"h-6 px-2 text-xs",children:e(xi?"mleads.cancel":"mleads.addNew")})]}),xi?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(ze,{placeholder:e("mleads.statusNameEn"),value:ys.status_name_en,onChange:F=>Xn({...ys,status_name_en:F.target.value})}),i.jsx(ze,{placeholder:e("mleads.statusNameAr"),value:ys.status_name_ar,onChange:F=>Xn({...ys,status_name_ar:F.target.value})}),i.jsx(fe,{type:"button",onClick:wX,className:"w-full",children:e("mleads.createStatus")})]}):i.jsxs(za,{open:SO,onOpenChange:NO,children:[i.jsx(Va,{asChild:!0,children:i.jsxs(fe,{variant:"outline",role:"combobox","aria-expanded":SO,className:"w-full justify-between",children:[tr.status_id?iX(tr.status_id):e("mleads.selectStatus"),i.jsx(_s,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ga,{className:"w-full p-0",children:i.jsxs(Wa,{children:[i.jsx(Ha,{placeholder:e("mleads.searchStatus")}),i.jsxs(qa,{onScroll:F=>bs(F,n4,Up),children:[i.jsx(Ga,{children:e("common.noResults")}),i.jsxs(Ka,{children:[g.map(F=>i.jsx(Kt,{value:Gt(F,"status_name_en","status_name_ar"),onSelect:()=>{Ua({...tr,status_id:F.status_id}),NO(!1)},children:Gt(F,"status_name_en","status_name_ar")},F.status_id)),Up&&i.jsx(Kt,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]})]}),tr.status_id===7&&i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[i.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(Ig,{className:"h-4 w-4 text-yellow-600"}),e("mleads.uploadQuotation")]}),i.jsx(ze,{type:"file",onChange:F=>{var Ie;const ge=(Ie=F.target.files)==null?void 0:Ie[0];ge&&kn(ge)},className:"cursor-pointer"}),uX(tr.lead_quotation)&&i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:i.jsx("button",{onClick:()=>{const F=window.open();if(F)F.document.write(`
                          <html>
                            <body style="margin:0;padding:20px;">
                              <embed src="${tr.lead_quotation}" width="100%" height="100%" />
                            </body>
                          </html>
                        `);else{const ge=document.createElement("a");ge.href=tr.lead_quotation,ge.download="quotation.pdf",ge.click()}},className:"ms-1 text-blue-600 hover:underline font-medium bg-transparent border-none cursor-pointer",children:e("mleads.viewQuotation")})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.stage")}),i.jsxs(za,{open:kO,onOpenChange:CO,children:[i.jsx(Va,{asChild:!0,children:i.jsxs(fe,{variant:"outline",role:"combobox","aria-expanded":kO,className:"w-full justify-between",children:[tr.stage_id?lX(tr.stage_id):e("mleads.selectStage"),i.jsx(_s,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ga,{className:"w-full p-0",children:i.jsxs(Wa,{children:[i.jsx(Ha,{placeholder:e("mleads.searchStage")}),i.jsxs(qa,{onScroll:F=>bs(F,loadMoreStages,JO),children:[i.jsx(Ga,{children:e("common.noResults")}),i.jsxs(Ka,{children:[b.map(F=>i.jsx(Kt,{value:F.stage_name,onSelect:()=>{Ua({...tr,stage_id:F.stage_id}),CO(!1)},children:F.stage_name},F.stage_id)),JO&&i.jsx(Kt,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.assignedTo")}),i.jsxs(za,{open:EO,onOpenChange:TO,children:[i.jsx(Va,{asChild:!0,children:i.jsxs(fe,{variant:"outline",role:"combobox","aria-expanded":EO,className:"w-full justify-between",children:[tr.assigned_to?h4(tr.assigned_to):e("mleads.selectUser"),i.jsx(_s,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ga,{className:"w-full p-0",children:i.jsxs(Wa,{children:[i.jsx(Ha,{placeholder:e("mleads.searchUser")}),i.jsxs(qa,{onScroll:F=>bs(F,i4,Wp),children:[i.jsx(Ga,{children:e("common.noResults")}),i.jsxs(Ka,{children:[C.map(F=>{var st;const ge=(st=F.userid||F.user_id||F.id)==null?void 0:st.toString(),Ie=F.name||F.user_name||F.display_name||"-";return i.jsx(Kt,{value:Ie,onSelect:()=>{Ua({...tr,assigned_to:ge}),TO(!1)},children:Ie},ge)}),Wp&&i.jsx(Kt,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4 border-t mt-4",children:[i.jsx(fe,{variant:"outline",onClick:()=>Qe(!1),children:e("common.cancel")}),i.jsx(fe,{onClick:dX,children:e("common.save")})]})]})}),Ce&&i.jsx(tWe,{filteredLeads:Pc,statuses:g,systems:v,activities:h,cities:d,users:C}),me&&i.jsx("div",{className:"flex-shrink-0 pb-4",children:i.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:e("mleads.reports")}),i.jsxs(fe,{variant:"outline",size:"sm",onClick:xX,disabled:!V||qe,className:"flex items-center gap-2",children:[i.jsx(DB,{className:"h-4 w-4"}),e("common.export")]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:e("mleads.selectReport")}),i.jsxs(ct,{value:Me,onValueChange:tt,children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:e("mleads.selectReport")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"leads_summary",children:e("mleads.leadsSummaryReport")}),i.jsx(je,{value:"leads_by_city",children:e("mleads.leadsByCityReport")}),i.jsx(je,{value:"leads_conversion",children:e("mleads.leadsConversionReport")}),i.jsx(je,{value:"sales_performance",children:e("mleads.salesPerformanceReport")}),i.jsx(je,{value:"leads_trend_simple",children:e("mleads.leadsTrendReport")})]})]})]}),i.jsxs("div",{className:"lg:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:e("mleads.reportParameters")}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[Me==="leads_summary"&&i.jsxs(ct,{value:jr.status_id||"all",onValueChange:F=>Oc("status_id",F==="all"?null:F),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:e("mleads.allStatuses")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"all",children:e("mleads.allStatuses")}),g.map(F=>i.jsx(je,{value:(F.status_id||F.id||"").toString(),children:Gt(F,"status_name_en","status_name_ar")},F.status_id))]})]}),Me==="leads_by_city"&&i.jsxs(i.Fragment,{children:[i.jsxs(ct,{value:jr.city_id||"all",onValueChange:F=>Oc("city_id",F==="all"?null:F),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:e("mleads.allCities")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"all",children:e("mleads.allCities")}),d.map(F=>i.jsx(je,{value:(F.city_id||F.id||"").toString(),children:Gt(F,"city_name_en","city_name_ar")},F.city_id))]})]}),i.jsx(ze,{type:"date",placeholder:e("mleads.startDate"),value:jr.start_date||"",onChange:F=>Oc("start_date",F.target.value)})]}),(Me==="leads_conversion"||Me==="sales_performance"||Me==="leads_trend_simple")&&i.jsxs(i.Fragment,{children:[i.jsx(ze,{type:"date",placeholder:e("mleads.startDate"),value:jr.start_date||"",onChange:F=>Oc("start_date",F.target.value)}),i.jsx(ze,{type:"date",placeholder:e("mleads.endDate"),value:jr.end_date||"",onChange:F=>Oc("end_date",F.target.value)})]}),Me==="leads_conversion"&&i.jsxs(ct,{value:jr.activity_id||"all",onValueChange:F=>Oc("activity_id",F==="all"?null:F),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:e("mleads.allActivities")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"all",children:e("mleads.allActivities")}),h.map(F=>i.jsx(je,{value:(F.activity_id||F.id||"").toString(),children:Gt(F,"activity_name_en","activity_name_ar")},F.activity_id))]})]}),Me==="leads_conversion"&&i.jsxs(ct,{value:jr.system_id||"all",onValueChange:F=>Oc("system_id",F==="all"?null:F),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:e("mleads.allSystems")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"all",children:e("mleads.allSystems")}),v.map(F=>i.jsx(je,{value:(F.system_id||F.id||"").toString(),children:Gt(F,"system_name_en","system_name_ar")},F.system_id))]})]}),Me==="sales_performance"&&i.jsxs(ct,{value:jr.assigned_to||"all",onValueChange:F=>Oc("assigned_to",F==="all"?null:F),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:e("mleads.allUsers")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"all",children:e("mleads.allUsers")}),C.map(F=>{var st;const ge=(st=F.userid||F.user_id||F.id)==null?void 0:st.toString(),Ie=F.name||F.user_name||F.display_name||"-";return i.jsx(je,{value:ge,children:Ie},ge)})]})]})]})]})]}),i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx(fe,{onClick:vX,disabled:qe,className:"flex items-center gap-2 px-6",children:qe?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e("common.loading")]}):i.jsxs(i.Fragment,{children:[i.jsx(IB,{className:"h-4 w-4"}),e("mleads.runReport")]})})}),V&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"text-md font-medium",children:e("mleads.reportResults")}),i.jsxs(ht,{variant:"secondary",children:[((b4=V.data)==null?void 0:b4.length)||0," ",e("mleads.records")]})]}),i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto max-h-96",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-muted",children:i.jsx("tr",{children:(_4=V.columns)==null?void 0:_4.map((F,ge)=>i.jsx("th",{className:"px-4 py-2 text-left font-medium border-b",children:F.replace(/_/g," ").replace(/\b\w/g,Ie=>Ie.toUpperCase())},ge))})}),i.jsx("tbody",{children:(w4=V.data)==null?void 0:w4.map((F,ge)=>{var Ie;return i.jsx("tr",{className:"border-b hover:bg-muted/50",children:(Ie=V.columns)==null?void 0:Ie.map((st,gr)=>i.jsx("td",{className:"px-4 py-2 border-b",children:F[st]||"-"},gr))},ge)})})]})})}),Me==="leads_by_city"&&V.data&&i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:i.jsxs(nl,{config:{},children:[i.jsx("h4",{className:"text-sm font-medium mb-3 text-center",children:e("mleads.leadsByCity")}),i.jsx(lf,{width:"100%",height:300,children:i.jsxs(aL,{data:V.data,children:[i.jsx(hf,{strokeDasharray:"3 3"}),i.jsx(wl,{dataKey:"city_name"}),i.jsx(jl,{}),i.jsx(ya,{}),i.jsx(Li,{}),i.jsx(Pi,{dataKey:"total_leads",fill:"#3b82f6",name:e("mleads.totalLeads")}),i.jsx(Pi,{dataKey:"won_leads",fill:"#10b981",name:e("mleads.wonLeads")}),i.jsx(Pi,{dataKey:"lost_leads",fill:"#ef4444",name:e("mleads.lostLeads")})]})})]})}),Me==="sales_performance"&&V.data&&i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:i.jsxs(nl,{config:{},children:[i.jsx("h4",{className:"text-sm font-medium mb-3 text-center",children:e("mleads.salesPerformance")}),i.jsx(lf,{width:"100%",height:300,children:i.jsxs(aL,{data:V.data,children:[i.jsx(hf,{strokeDasharray:"3 3"}),i.jsx(wl,{dataKey:"sales_person"}),i.jsx(jl,{}),i.jsx(ya,{}),i.jsx(Li,{}),i.jsx(Pi,{dataKey:"won_deals",fill:"#10b981",name:e("mleads.wonDeals")}),i.jsx(Pi,{dataKey:"lost_deals",fill:"#ef4444",name:e("mleads.lostDeals")}),i.jsx(Pi,{dataKey:"pending_leads",fill:"#f59e0b",name:e("mleads.pendingLeads")})]})})]})})]})]})}),i.jsx(ft,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:i.jsx(yt,{className:"h-full flex flex-col p-0 overflow-hidden",children:Ye==="kanban"?i.jsx(Gq,{items:Pc.map(F=>({...F,id:F.leads_id,title:F.company_name||"No Company"})),stages:b.map(F=>({...F,id:F.stage_id,name:F.stage_name})),stageType:"mleads",renderItem:(F,ge)=>i.jsx(CWe,{lead:F,stages:ge.stages,onDelete:ge.onDelete,onClick:()=>p4(F),onDragStart:ge.onDragStart,onStageChange:ge.onStageChange,isDragging:ge.isDragging}),onItemUpdate:async(F,ge)=>{ge.stage!==void 0&&(await K.mLeads.update(F,{stage_id:ge.stage}),l(o.map(Ie=>Ie.leads_id===F?{...Ie,stage_id:ge.stage}:Ie)))},onItemDelete:async F=>{await K.mLeads.delete(F),l(o.filter(ge=>ge.leads_id!==F))},onItemCreate:async(F,ge)=>{const Ie={company_name:ge.title,address:ge.description,city_id:null,activity_id:null,system_id:null,stage_id:F,status_id:1,assigned_to:null},st=await K.mLeads.create(Ie);l([...o,st])},onStageCreate:async F=>{const ge=await K.stages.create({stage_name:F.name,stage_name_ar:F.name_ar,stager_order_index:F.order_index,project_id:null,color:F.color,color_var:F.color_var,stage_type:"mleads"});_([...b,ge])},onStageUpdate:async(F,ge)=>{await K.stages.update(F,{stage_name:ge.name}),_(b.map(Ie=>Ie.stage_id===F?{...Ie,stage_name:ge.name}:Ie))},onStageDelete:async F=>{await K.stages.delete(F),_(b.filter(ge=>ge.stage_id!==F)),Pj()},canManageStages:!0,canManageItems:!0,showAddButton:!0,addButtonText:e("mleads.addNewLead"),addButtonDescription:e("mleads.addNewLeadDesc"),mobileSelectedStageId:HY,onMobileStageChange:qY}):i.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[i.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:Pc.length===0?i.jsx($i,{title:e("mleads.noLeadsFound"),description:e("mleads.createNewLeadToGetStarted"),icon:i.jsx(Wn,{className:"h-12 w-12"})}):i.jsx(Sl,{data:nX,columns:["kanban","timeline"].includes(Ye)?[]:CX,actions:EX,bulkActions:kX,enableBulkSelect:!0,keyExtractor:F=>(F.leads_id||F.id||"").toString(),onRowClick:F=>p4(F),rowHeight:"h-26"},`leads-${te}-${he}-${ae}-${ke}-${Ve}-${Re}-${M}-${ie}`)}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:ed>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Xm,{children:i.jsxs(Qm,{children:[i.jsx(ja,{children:i.jsx(uu,{onClick:()=>Y(Math.max(1,ie-1)),className:ie===1||G?"pointer-events-none opacity-50":"cursor-pointer",disabled:G,children:e("common.previous")})}),i.jsx(ja,{children:i.jsx("span",{className:"px-3 py-2 text-sm flex items-center gap-2",children:G?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e("common.loading")]}):i.jsxs(i.Fragment,{children:[e("common.page")," ",ie," ",e("common.of")," ",ed]})})}),i.jsx(ja,{children:i.jsx(du,{onClick:()=>Y(Math.min(ed,ie+1)),className:ie===ed||G?"pointer-events-none opacity-50":"cursor-pointer",disabled:G,children:e("common.next")})})]})})})})]})})}),i.jsx(hs,{open:rt!==null,onOpenChange:()=>jt(null),children:i.jsxs(Aa,{children:[i.jsxs(Pa,{children:[i.jsx(Da,{children:e("mleads.deleteLead")}),i.jsx(Ra,{children:e("mleads.deleteLeadConfirm")})]}),i.jsxs(Oa,{children:[i.jsx(Ma,{children:e("common.cancel")}),i.jsx(Fa,{onClick:()=>rt&&fX(rt),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),i.jsx(Oo,{open:le,onOpenChange:de,children:i.jsxs(Vi,{side:n?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[i.jsxs(yl,{children:[i.jsxs(Do,{className:"flex items-center gap-2 min-w-0",children:[i.jsx(Wn,{className:"h-5 w-5 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:Q==null?void 0:Q.company_name})]}),i.jsx(Ru,{children:e("mleads.leadDetailsDescription")})]}),Q&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:e("mleads.leadDetails")}),i.jsxs(fe,{onClick:()=>{v4(Q),de(!1)},variant:"outline",size:"sm",children:[i.jsx(Is,{className:"h-4 w-4 me-2"}),e("common.edit")]})]}),i.jsxs(di,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Bs,{className:`flex w-full ${n?"flex-row-reverse":""}`,children:[i.jsx(ur,{value:"overview",className:"flex-1",children:e("common.overview")}),i.jsx(ur,{value:"notes",className:"flex-1",children:e("notes.title")})]}),i.jsxs(kr,{value:"overview",className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:Q.company_name||"-"}),Q.address&&i.jsx("p",{className:"text-muted-foreground mt-1",children:Q.address})]}),(Q.lead_quotation,i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-blue-50/50 dark:bg-blue-900/10",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(Ig,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.quotation")}),i.jsx("button",{onClick:async()=>{if(Tc||await hX(Q.leads_id),Tc){const F=window.open();if(F)F.document.write(`
                                    <html>
                                      <body style="margin:0;padding:20px;">
                                        <embed src="${Tc}" width="100%" height="100%" />
                                      </body>
                                    </html>
                                  `);else{const ge=document.createElement("a");ge.href=Tc,ge.download="quotation",ge.click()}}else a({title:"Error",description:"Quotation document not available",variant:"destructive"})},disabled:Ji,className:"font-medium text-blue-600 hover:underline truncate block bg-transparent border-none cursor-pointer text-left disabled:opacity-50 disabled:cursor-not-allowed",children:Ji?"Loading...":e("mleads.viewQuotation")})]}),i.jsx("div",{className:"flex gap-1",children:i.jsx(fe,{variant:"ghost",size:"sm",onClick:async()=>{try{await K.mLeads.update(Q.leads_id,{lead_quotation:null}),a({title:e("common.success"),description:"Quotation document deleted successfully"}),await Hp(),de(!1)}catch{a({title:"Error",description:"Failed to delete quotation document",variant:"destructive"})}},className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:i.jsx(Ht,{className:"h-4 w-4"})})})]})),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(gm,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.city")}),i.jsx("p",{className:"font-medium",children:l4(Q)})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(AB,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.activity")}),i.jsx("p",{className:"font-medium",children:c4(Q)})]})]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.status")}),i.jsx(ht,{variant:"outline",className:`text-xs ${m4(Q.status_id)}`,children:u4(Q)})]})}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.stage")}),i.jsx(ht,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:f4(Q)})]})}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Wn,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.system")}),i.jsx("p",{className:"font-medium",children:d4(Q)})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Mn,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.createdBy")}),i.jsx("p",{className:"font-medium",children:Q.created_by_name||"-"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Mn,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.assignedTo")}),i.jsx("p",{className:"text-sm font-medium",children:Q.Users_name||"-"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Mn,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.decisionMaker")}),i.jsx("p",{className:"text-sm font-medium",children:Q.decision_maker||"-"})]})]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.created")}),i.jsx("p",{className:"text-sm font-medium",children:new Date(Q.created_at).toLocaleDateString()})]})}),i.jsx("div",{className:"flex items-start gap-2 p-3 rounded-lg border",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.notes")}),i.jsx("p",{className:"text-sm mt-1",children:Q.notes||"-"})]})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mleads.contacts")}),(()=>{const F=S.length>0?S:[];return F.length>0?i.jsx("div",{className:"space-y-2",children:F.map((ge,Ie)=>{var st;return i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:ge.contact_name||"-"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[ge.contact_email&&`${ge.contact_email}  `,ge.contact_mobile&&`${ge.contact_mobile}`]})]}),i.jsx(ht,{variant:"outline",className:"text-xs",children:((st=T.find(gr=>gr.jobtitle_id===ge.jobtitle_id))==null?void 0:st.jobtitle_name_en)||"-"})]},ge.contact_id||Ie)})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:e("mleads.noContactsFound")})})()]})]}),i.jsx(kr,{value:"notes",className:"mt-4",children:i.jsx(wP,{relatedType:"mlead",relatedId:Q.leads_id,notes:Ae,onNotesChange:()=>g4(Q.leads_id)})})]})]})]})})]})}async function CN(e,t,r={}){return new Promise((n,a)=>{const s=new FileReader;s.onload=()=>{try{const l=s.result.split(",")[1],c={bucket:"database",path:`projects/${t}/contract_${Date.now()}_${e.name}`,url:null,name:e.name,filename:e.name,mime:e.type,size:e.size,uploaded_by:"current_user",uploaded_at:new Date().toISOString()};console.log("File converted to base64, length:",l.length),n({metadata:c,base64Data:l})}catch(o){a(o)}},s.onerror=()=>{a(new Error("Failed to read file"))},s.readAsDataURL(e)})}async function TWe(e){return new Promise(t=>{console.log(`Delete contract for project ${e} - setting contract_document to NULL`),t()})}function AWe(){var me,Ee;const{t:e}=Pt(),{user:t}=dr(),{currentLanguage:r,isRTL:n}=ar(),{toast:a}=gi();Br();const{setBreadcrumbs:s}=dp();Us();const[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState([]),[g,p]=x.useState([]),[v,y]=x.useState([]),[b,_]=x.useState([]),[j,w]=x.useState([]),[S,N]=x.useState(0),[C,k]=x.useState(!1),[E,O]=x.useState(!0),[T,U]=x.useState(!0),[W,R]=x.useState(null),[z,P]=x.useState(""),[M,I]=x.useState(0),[q]=x.useState(9),[J,A]=x.useState(0),[B,G]=x.useState(""),[H,ee]=x.useState(""),[ue,ye]=x.useState(null),[ie,Y]=x.useState(null),[L,D]=x.useState(!1),[se,be]=x.useState(!1),[ve,ke]=x.useState({city_name_en:"",city_name_ar:"",country_id:null});x.useState(null);const[Se,Ve]=x.useState(null),[dt,ae]=x.useState(!1),[pe,te]=x.useState([]),[re,he]=x.useState(!1),[Pe,Re]=x.useState("list"),[et,rt]=x.useState(null),[jt,we]=x.useState(""),[Be,We]=x.useState([]),[Qe,Ct]=x.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[Vt,Wt]=x.useState(!1),[cr,fr]=x.useState(!1),[on,Yn]=x.useState(!1),vi=x.useRef(null);x.useState(!1);const[Rl,Ws]=x.useState(null);x.useState(!1),x.useState(!1),x.useState(!1);const[wr,Nn]=x.useState({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""});x.useEffect(()=>{s([{label:e("navigation.dashboard"),href:"/"},{label:e("mprojects.masterProjects"),href:"/mprojects"}])},[s,e]),x.useEffect(()=>{ys()},[]),x.useEffect(()=>{Xn()},[M,z,B,H,d]),x.useEffect(()=>{re&&Hs()},[re,z,B,H,d]),x.useEffect(()=>{const V=_e=>{on&&vi.current&&!vi.current.contains(_e.target)&&(_e.target.closest("[data-job-title-button]")||Yn(!1))};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[on]);const xi=V=>{const{scrollTop:_e,scrollHeight:Me,clientHeight:tt}=V.currentTarget;if(_e+tt>=Me-50&&E&&!C){const qe=S+1;N(qe),Qi(qe,!0)}},Qi=async(V=0,_e=!1)=>{try{k(!0);const Me=await K.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc",pageSize:10,page:V,select_fields:"jobtitle_id,jobtitle_name_en,jobtitle_name_ar"}),tt=(Me==null?void 0:Me.data)||[];w(_e?qe=>[...qe,...tt]:tt),O(tt.length>=10)}catch(Me){console.error("Failed to load job titles:",Me)}finally{k(!1)}},ys=async()=>{try{U(!0),R(null);const[V,_e,Me,tt]=await Promise.all([K.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"city_id,city_name_en,city_name_ar"}),K.mContacts.list({sort_by:"contact_name",sort_order:"asc"}),K.Users.list({sort_by:"user_name",sort_order:"asc"}),K.mCountry.list({sort_by:"country_name_en",sort_order:"asc"})]),qe=Je=>Array.isArray(Je)?Je:Je!=null&&Je.data&&Array.isArray(Je.data)?Je.data:[];f(qe(V)),m(qe(_e)),p(qe(Me)),y(qe(tt)),await Qi(0,!1)}catch(V){const _e=V instanceof Error?V.message:"Failed to load data";R(_e),a({title:"Error",description:_e,variant:"destructive"})}finally{U(!1)}},Xn=async()=>{try{U(!0),R(null);const V={};if(B&&(V.city_id=B),H){const tt=d.filter(qe=>{var Je;return((Je=qe.country_id)==null?void 0:Je.toString())===H}).map(qe=>qe.city_id);tt.length>0?V.city_id=tt:V.city_id=-1}const _e={page:M,limit:q,sort_by:"created_at",sort_order:"desc",exact_filters:V,select_fields:"project_id,company_name,city_id,contract_code,contract_amount,cont_start_date,cont_end_date,created_at,created_by"};z&&(_e.search=z);const Me=await K.mProjects.list(_e);l(Me.data||[]),A(Me.total||0)}catch(V){const _e=V instanceof Error?V.message:"Failed to load data";R(_e),a({title:"Error",description:_e,variant:"destructive"})}finally{U(!1)}},Hs=async()=>{try{const V={};if(B&&(V.city_id=B),H){const tt=d.filter(qe=>{var Je;return((Je=qe.country_id)==null?void 0:Je.toString())===H}).map(qe=>qe.city_id);tt.length>0?V.city_id=tt:V.city_id=-1}const _e={limit:1e3,exact_filters:V,select_fields:"project_id,company_name,city_id,contract_code,contract_amount,cont_start_date,cont_end_date,created_at,created_by"};z&&(_e.search=z);const Me=await K.mProjects.list(_e);u(Me.data||[])}catch(V){console.error("Failed to load all filtered projects:",V)}},qs=async()=>{try{const V=await K.mContacts.list({sort_by:"contact_name",sort_order:"asc"});m(V.data||[])}catch(V){console.error("Failed to load contacts:",V)}},Rr=x.useMemo(()=>re?c:o,[re,c,o]),yi=x.useMemo(()=>{if(re){const V=M*q,_e=V+q;return Rr.slice(V,_e)}else return o},[re,Rr,o,M,q]),ua=Math.ceil(J/q);x.useEffect(()=>{M>=ua&&ua>0&&I(ua-1)},[M,ua]);const da=(V,_e,Me)=>{if(!V)return"-";let tt=r==="ar"&&(V==null?void 0:V[Me])||(V==null?void 0:V[_e]);if(!tt){const qe=_e.replace(/_en$/,""),Je=Me.replace(/_ar$/,"");tt=r==="ar"&&(V==null?void 0:V[Je])||(V==null?void 0:V[qe])}return tt||(V==null?void 0:V.name)||(V==null?void 0:V.label)||(V==null?void 0:V.title)||"-"},X=V=>{if(V==null||V==="")return"-";const _e=Number(V),Me=d.find(tt=>Number(tt.city_id)===_e||Number(tt.id)===_e);return da(Me,"city_name_en","city_name_ar")},oe=async()=>{if(!cr){fr(!0);try{let V;if(ie){if(await K.mProjects.update(ie,wr),V=ie,et)try{const _e=await CN(et,V);await K.mProjects.update(V,{contract_document:_e.path}),a({title:e("common.success"),description:e("mprojects.projectUpdatedSuccessfully")})}catch(_e){console.error("Contract upload failed:",_e),a({title:e("common.error"),description:_e.message||"Failed to upload contract document"})}a({title:e("common.success"),description:e("mprojects.projectUpdatedSuccessfully")})}else{const _e={...wr,created_by:t==null?void 0:t.id};let Me=null;if(et)try{Me=(await CN(et,"new")).path,a({title:e("common.success"),description:e("mprojects.contractUploaded")})}catch(qe){console.error("Contract upload failed:",qe),a({title:e("common.error"),description:qe.message||"Failed to upload contract document"})}const tt=await K.mProjects.create({..._e,contract_document:Me});if(V=tt.id||tt.project_id,!V)throw new Error("Failed to create project");a({title:e("common.success"),description:e("mprojects.projectCreatedSuccessfully")})}if(ie){const _e=h.filter(Me=>Me.project_id===ie);for(const Me of _e)await K.mContacts.delete(Me.contact_id);Be.length>0&&await De(V)}else Be.length>0&&await De(V);if(et){we("Uploading contract document...");try{await CN(et,V,{bucket:"projects",publicBucket:!1}),we("Document uploaded successfully"),a({title:e("common.success"),description:"Contract document uploaded successfully"})}catch(_e){console.error("File upload failed:",_e),we("Document upload failed"),a({title:"Warning",description:"Project saved but document upload failed",variant:"destructive"})}}D(!1),Y(null),Nn({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),We([]),rt(null),we(""),await Xn(),await qs()}catch(V){const _e=V instanceof Error?V.message:"Failed to save";a({title:"Error",description:_e,variant:"destructive"})}finally{fr(!1)}}},Q=async V=>{try{await K.mProjects.delete(V),a({title:e("common.success"),description:e("mprojects.projectDeletedSuccessfully")}),ye(null),await Xn()}catch(_e){const Me=_e instanceof Error?_e.message:"Failed to delete";a({title:"Error",description:Me,variant:"destructive"})}},ne=V=>{Ve(V),le(V.project_id),qs(),Ws(null),ae(!0)},le=async V=>{try{const _e=await Uh.getByRelated("mlead",V);te(_e)}catch(_e){console.error("Failed to load notes:",_e),te([])}},de=V=>{Y(V.project_id),Nn(V);const _e=h.filter(Me=>Me.project_id===V.project_id);We(_e.map(Me=>{var tt;return{contact_name:Me.contact_name||"",contact_email:Me.contact_email||"",contact_mobile:((tt=Me.contact_mobile)==null?void 0:tt.toString())||"",jobtitle_id:Me.jobtitle_id}})),D(!0)},Ae=async V=>{try{await Promise.all(V.map(_e=>K.mProjects.delete(_e))),a({title:e("common.success"),description:e("mprojects.projectsDeletedSuccessfully")}),await Xn()}catch(_e){const Me=_e instanceof Error?_e.message:"Failed to delete";a({title:"Error",description:Me,variant:"destructive"})}},Le=async()=>{try{if(!ve.city_name_en&&!ve.city_name_ar){a({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const V=await K.mCity.create(ve);V&&(f([...d,V]),Nn({...wr,city_id:V.city_id}),be(!1),ke({city_name_en:"",city_name_ar:"",country_id:null}),a({title:e("common.success"),description:e("mprojects.cityCreatedSuccessfully")}))}catch(V){const _e=V instanceof Error?V.message:"Failed to create city";a({title:"Error",description:_e,variant:"destructive"})}},Ce=()=>{if(!Qe.contact_name.trim()){a({title:"Error",description:"Please enter contact name",variant:"destructive"});return}if(Be.some(_e=>_e.contact_name===Qe.contact_name&&_e.contact_email===Qe.contact_email&&_e.contact_mobile===Qe.contact_mobile)){a({title:"Warning",description:"This contact already exists",variant:"destructive"});return}We([...Be,{...Qe}]),Ct({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),Wt(!1)},Oe=V=>{We(Be.filter((_e,Me)=>Me!==V))},De=async V=>{try{const _e=Be.map(Me=>({contact_name:Me.contact_name,contact_email:Me.contact_email,contact_mobile:Me.contact_mobile?parseInt(Me.contact_mobile):null,jobtitle_id:Me.jobtitle_id,project_id:V}));if(_e.length>0)for(const Me of _e)await K.mContacts.create(Me)}catch(_e){const Me=_e instanceof Error?_e.message:"Failed to save contacts";a({title:"Error",description:Me,variant:"destructive"})}};if(T)return i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(oa,{message:e("common.loading"),size:"2xl"})});if(W)return i.jsx(Pf,{message:W,onRetry:ys});const He=[{label:e("common.delete"),icon:i.jsx(Ht,{}),onClick:V=>{window.confirm(`Delete ${V.length} projects?`)&&Ae(V.map(_e=>_e.project_id))},variant:"destructive"}],Ye=[{key:"company_name",header:e("mprojects.company"),className:"w-1/4 min-w-[200px]",render:V=>i.jsx(bc,{title:V.company_name||"-",subtitle:V.contract_code||"",icon:i.jsx(Wn,{className:"h-4 w-4"})})},{key:"city_id",header:e("mprojects.city"),className:"w-1/6 min-w-[120px]",render:V=>i.jsx("span",{className:"text-sm text-foreground",children:X(V.city_id)})},{key:"contract_amount",header:e("mprojects.contractAmount"),className:"w-1/6 min-w-[120px]",render:V=>i.jsx(ht,{variant:"outline",className:"text-xs",children:V.contract_amount?`$${V.contract_amount.toLocaleString()}`:"-"})},{key:"cont_start_date",header:e("mprojects.startDate"),className:"w-1/6 min-w-[120px]",render:V=>i.jsx("span",{className:"text-sm text-muted-foreground",children:V.cont_start_date?new Date(V.cont_start_date).toLocaleDateString():"-"})},{key:"cont_end_date",header:e("mprojects.endDate"),className:"w-1/6 min-w-[120px]",render:V=>i.jsx("span",{className:"text-sm text-muted-foreground",children:V.cont_end_date?new Date(V.cont_end_date).toLocaleDateString():"-"})},{key:"created_at",header:e("mprojects.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:V=>i.jsx(Af,{date:V.created_at})}],Z=[{icon:i.jsx(Is,{}),label:e("common.edit"),onClick:V=>de(V)},{icon:i.jsx(Ht,{}),label:e("common.delete"),onClick:V=>ye(V.project_id),variant:"destructive"}];return i.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:n?"rtl":"ltr",children:[i.jsxs("div",{className:"flex-shrink-0 pb-3",children:[i.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4 mb-3",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[i.jsxs(fe,{variant:"outline",size:"default",onClick:()=>Re(Pe==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[Pe==="list"?i.jsx(as,{className:"h-4 w-4"}):i.jsx(Wn,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e(Pe==="list"?"mprojects.kanbanView":"mprojects.listView")})]}),i.jsxs(fe,{variant:re?"default":"outline",size:"default",onClick:()=>he(!re),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[i.jsx(as,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("mprojects.showChart")}),i.jsx($d,{className:`h-4 w-4 transition-transform ${re?"rotate-180":""}`})]}),i.jsxs("div",{className:"flex-1 min-w-[200px] relative",dir:n?"rtl":"ltr",children:[i.jsx(La,{className:`absolute ${n?"right-3":"left-3"} top-3 h-4 w-4 text-muted-foreground`}),i.jsx(ze,{placeholder:e("mprojects.searchPlaceholder"),value:z,onChange:V=>{P(V.target.value),I(1)},className:"ps-10 pe-3 h-10 bg-background border-input"})]})]}),i.jsxs(Oo,{open:L,onOpenChange:D,children:[i.jsx(z7,{asChild:!0,children:i.jsxs(fe,{size:"default",onClick:()=>{Y(null),Nn({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),We([]),rt(null),we(""),be(!1),Wt(!1),ke({city_name_en:"",city_name_ar:"",country_id:null}),Ct({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),D(!0)},className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:n?"rtl":"ltr",children:[i.jsx(Ut,{className:`w-4 h-4 ${n?"order-2":"order-1"}`}),i.jsx("span",{className:`${n?"order-1":"order-2"}`,children:e("common.add")})]})}),i.jsxs(Vi,{side:n?"left":"right",className:"w-full sm:max-w-[540px] flex flex-col h-full p-0",children:[i.jsx(yl,{className:"p-6 pb-0",children:i.jsx(Do,{children:e(ie?"mprojects.editProject":"mprojects.createNewProject")})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.companyName")," & ",e("mprojects.contractCode")]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.companyName")}),i.jsx(ze,{value:wr.company_name||"",onChange:V=>Nn({...wr,company_name:V.target.value}),placeholder:e("mprojects.companyName"),className:"h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractCode")}),i.jsx(ze,{value:wr.contract_code||"",onChange:V=>Nn({...wr,contract_code:V.target.value}),placeholder:e("mprojects.contractCode"),className:"h-10"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.contractAmount")," & ",e("mprojects.startDate")]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractAmount")}),i.jsx(ze,{type:"number",value:wr.contract_amount||"",onChange:V=>Nn({...wr,contract_amount:parseFloat(V.target.value)||null}),placeholder:e("mprojects.contractAmount"),className:"h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.startDate")}),i.jsx(ze,{type:"date",value:wr.cont_start_date||"",onChange:V=>Nn({...wr,cont_start_date:V.target.value}),className:"h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.endDate")}),i.jsx(ze,{type:"date",value:wr.cont_end_date||"",onChange:V=>Nn({...wr,cont_end_date:V.target.value}),className:"h-10"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.city")}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.city")}),i.jsxs(fe,{type:"button",variant:"ghost",size:"sm",onClick:()=>be(!se),className:"h-7 px-3 text-xs hover:bg-primary/10",children:[i.jsx(Ut,{className:"h-3 w-3 mr-1"}),e(se?"mprojects.cancel":"mprojects.addCity")]})]}),se?i.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[i.jsx(ze,{placeholder:"City Name (English)",value:ve.city_name_en,onChange:V=>ke({...ve,city_name_en:V.target.value}),className:"h-9"}),i.jsx(ze,{placeholder:"City Name (Arabic)",value:ve.city_name_ar,onChange:V=>ke({...ve,city_name_ar:V.target.value}),className:"h-9"}),i.jsxs(ct,{value:((me=ve.country_id)==null?void 0:me.toString())||"",onValueChange:V=>ke({...ve,country_id:parseInt(V)}),children:[i.jsx(ot,{className:"h-9",children:i.jsx(ut,{placeholder:"Select Country"})}),i.jsx(lt,{children:v.map(V=>i.jsx(je,{value:V.country_id.toString(),children:da(V,"country_name_en","country_name_ar")},V.country_id))})]}),i.jsxs(fe,{onClick:Le,size:"sm",className:"w-full h-9",children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),e("mprojects.createCity")]})]}):i.jsxs(ct,{value:((Ee=wr.city_id)==null?void 0:Ee.toString())||"",onValueChange:V=>Nn({...wr,city_id:parseInt(V)||null}),children:[i.jsx(ot,{className:"h-10",children:i.jsx(ut,{placeholder:e("mprojects.selectCity")})}),i.jsx(lt,{children:d.map(V=>i.jsx(je,{value:V.city_id.toString(),children:da(V,"city_name_en","city_name_ar")},V.city_id))})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contacts")}),i.jsxs(fe,{type:"button",variant:"ghost",size:"sm",onClick:()=>Wt(!Vt),className:"h-6 px-2 text-xs",children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),e(Vt?"mprojects.cancel":"mprojects.addContact")]})]}),Be.length>0&&i.jsx("div",{className:"space-y-2 mb-3",children:Be.map((V,_e)=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:V.contact_name}),i.jsxs("div",{className:"text-muted-foreground",children:[V.contact_email&&`${V.contact_email}  `,V.contact_mobile&&`${V.contact_mobile}`]})]}),i.jsx(fe,{type:"button",variant:"ghost",size:"sm",onClick:()=>Oe(_e),className:"h-6 w-6 p-0",children:i.jsx(ui,{className:"h-3 w-3"})})]},_e))}),Vt&&i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(ze,{placeholder:e("mprojects.contactName"),value:Qe.contact_name,onChange:V=>Ct({...Qe,contact_name:V.target.value})}),i.jsx(ze,{placeholder:e("mprojects.email"),type:"email",value:Qe.contact_email,onChange:V=>Ct({...Qe,contact_email:V.target.value})}),i.jsx(ze,{placeholder:e("mprojects.mobile"),value:Qe.contact_mobile,onChange:V=>Ct({...Qe,contact_mobile:V.target.value})}),i.jsxs("div",{className:"relative",children:[(()=>{const V=j.find(_e=>_e.jobtitle_id===Qe.jobtitle_id);return i.jsxs(fe,{variant:"outline","data-job-title-button":!0,onClick:()=>{Yn(!on),!on&&j.length===0&&Qi(0,!1)},className:"w-full justify-between",children:[V?da(V,"jobtitle_name_en","jobtitle_name_ar"):e("mprojects.selectJobTitle"),i.jsx($d,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})(),on&&i.jsx("div",{className:"absolute z-50 w-full mt-1 bg-background border rounded-md shadow-lg max-h-[300px] overflow-hidden",children:i.jsxs("div",{ref:vi,onScroll:xi,className:"max-h-[300px] overflow-y-auto",children:[j.length===0&&!C&&i.jsx("div",{className:"p-3 text-sm text-muted-foreground",children:"No job titles available"}),j.map(V=>i.jsx("button",{type:"button",onClick:()=>{Ct(_e=>({..._e,jobtitle_id:V.jobtitle_id})),Yn(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-accent flex items-center gap-2",children:da(V,"jobtitle_name_en","jobtitle_name_ar")||V.jobtitle_name_en||"Unknown"},V.jobtitle_id)),C&&i.jsx("div",{className:"p-3 text-sm text-muted-foreground text-center",children:"Loading more..."})]})})]}),i.jsx(fe,{type:"button",onClick:Ce,className:"w-full",children:e("mprojects.addContactTitle")})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.contractDocument")}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.uploadContractDocument")}),i.jsx(ze,{type:"file",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png",onChange:V=>{var Me;const _e=(Me=V.target.files)==null?void 0:Me[0];rt(_e||null)},className:"file:hidden cursor-pointer"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("mprojects.supportedFormats"),": PDF, DOC, DOCX, TXT, JPG, JPEG, PNG"]})]}),et&&i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[i.jsx(bn,{className:"h-5 w-5 text-primary flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:et.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[(et.size/1024/1024).toFixed(2)," MB"]})]}),i.jsx(fe,{type:"button",variant:"ghost",size:"sm",onClick:()=>rt(null),className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",children:i.jsx(ui,{className:"h-4 w-4"})})]}),jt&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx(oa,{size:"sm"}),i.jsx("span",{className:"text-sm text-blue-700",children:jt})]})]})]})]}),i.jsx("div",{className:"p-6 border-t bg-muted/20",children:i.jsx(fe,{onClick:oe,className:"w-full",disabled:cr||!wr.company_name,children:e(cr?"common.saving":ie?"common.save":"common.create")})})]})]})]})}),i.jsxs("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")||"Filters"}),(B||H||z)&&i.jsx(fe,{variant:"outline",size:"sm",onClick:()=>{G(""),ee(""),P(""),I(1)},children:e("mprojects.clearFilters")})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(ct,{value:H||"all",onValueChange:V=>{ee(V==="all"?"":V),I(1)},children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:e("mprojects.country")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"all",children:e("mprojects.allCountries")}),v.map(V=>i.jsx(je,{value:V.country_id.toString(),children:da(V,"country_name_en","country_name_ar")},V.country_id))]})]}),i.jsxs(ct,{value:B||"all",onValueChange:V=>{G(V==="all"?"":V),I(1)},children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:e("mprojects.city")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"all",children:e("mprojects.allCities")}),d.map(V=>i.jsx(je,{value:V.city_id.toString(),children:da(V,"city_name_en","city_name_ar")},V.city_id))]})]})]})]})]}),re&&i.jsxs(ft,{children:[i.jsx(Yt,{children:i.jsx(yr,{children:e("mprojects.analytics")})}),i.jsx(yt,{children:i.jsxs(di,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Bs,{className:"grid w-full grid-cols-2",children:[i.jsx(ur,{value:"overview",children:"Overview"}),i.jsx(ur,{value:"timeline",children:"Timeline"})]}),i.jsx(kr,{value:"overview",className:"mt-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Contract Amount Range"}),i.jsx(nl,{config:{},className:"h-[350px]",children:i.jsxs(dd,{children:[i.jsx(rs,{data:[{name:"< $10K",min:0,max:1e4},{name:"$10K - $50K",min:1e4,max:5e4},{name:"$50K - $100K",min:5e4,max:1e5},{name:"> $100K",min:1e5,max:1/0}].map(Me=>({name:Me.name,value:Rr.filter(tt=>tt.contract_amount&&tt.contract_amount>=Me.min&&tt.contract_amount<Me.max).length})).filter(Me=>Me.value>0),cx:"50%",cy:"50%",labelLine:!1,label:({name:V,value:_e})=>`${V}: ${_e}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((V,_e)=>i.jsx(rl,{fill:V},`cell-${_e}`))}),i.jsx(pd,{content:i.jsx(Qc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),i.jsx(nl,{config:{},className:"h-[350px]",children:i.jsxs(dd,{children:[i.jsx(rs,{data:(()=>{const V=d.map(_e=>({name:da(_e,"city_name_en","city_name_ar"),value:Rr.filter(Me=>Me.city_id===_e.city_id).length})).filter(_e=>_e.value>0);return V.length>0?V:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:V,value:_e})=>`${V}: ${_e}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((V,_e)=>i.jsx(rl,{fill:V},`cell-${_e}`))}),i.jsx(pd,{content:i.jsx(Qc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Projects"}),i.jsx("div",{className:"text-5xl font-bold text-primary",children:Rr.length}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),i.jsx(kr,{value:"timeline",className:"mt-4",children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(lf,{width:"100%",height:"100%",children:i.jsxs(rj,{data:(()=>{const V=new Map;return Rr.forEach(Me=>{const tt=new Date(Me.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});V.set(tt,(V.get(tt)||0)+1)}),Array.from(V.entries()).sort((Me,tt)=>new Date(Me[0]).getTime()-new Date(tt[0]).getTime()).map(([Me,tt])=>({date:Me,count:tt}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[i.jsx(hf,{strokeDasharray:"3 3"}),i.jsx(wl,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),i.jsx(jl,{label:{value:"Number of Projects",angle:-90,position:"insideLeft"}}),i.jsx(ya,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:V=>[`${V} projects`,"Total"]}),i.jsx(Li,{}),i.jsx(Xu,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Projects"})]})})})})]})})]}),i.jsx(ft,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:i.jsx(yt,{className:"h-full flex flex-col p-0",children:i.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 p-4",children:Pe==="kanban"?i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pt-4",children:yi.map(V=>{var _e;return i.jsxs(ft,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>ne(V),children:[i.jsx(Yt,{className:"pb-2 px-4 pt-3",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-sm truncate",children:V.company_name||"No Company"}),V.contract_code&&i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:V.contract_code})]})})}),i.jsxs(yt,{className:"px-4 pb-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(gm,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:X(V.city_id)})]})}),i.jsx("div",{children:i.jsxs(ht,{variant:"outline",className:"text-xs",children:["$",((_e=V.contract_amount)==null?void 0:_e.toLocaleString())||"0"]})})]}),i.jsx("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("span",{children:["Created: ",new Date(V.created_at).toLocaleDateString()]})})})]})]},V.project_id)})})}):i.jsx(i.Fragment,{children:Rr.length===0?i.jsx($i,{title:e("mprojects.noProjectsFound"),description:e("mprojects.createNewProjectToGetStarted"),icon:i.jsx(Wn,{className:"h-12 w-12"})}):i.jsx(Sl,{data:yi,columns:Ye,actions:Z,bulkActions:He,enableBulkSelect:!0,keyExtractor:V=>V.project_id.toString(),onRowClick:V=>ne(V),rowHeight:"h-26"})})})})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:ua>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Xm,{children:i.jsxs(Qm,{children:[i.jsx(ja,{children:i.jsx(uu,{onClick:()=>I(Math.max(0,M-1)),className:M===0?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),i.jsx(ja,{children:i.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",M+1," ",e("common.of")," ",ua]})}),i.jsx(ja,{children:i.jsx(du,{onClick:()=>I(Math.min(ua-1,M+1)),className:M===ua-1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})}),i.jsx(hs,{open:ue!==null,onOpenChange:()=>ye(null),children:i.jsxs(Aa,{children:[i.jsxs(Pa,{children:[i.jsx(Da,{children:e("mprojects.deleteProject")}),i.jsx(Ra,{children:e("mprojects.deleteProjectConfirmation")})]}),i.jsxs(Oa,{children:[i.jsx(Ma,{children:e("common.cancel")}),i.jsx(Fa,{onClick:()=>ue&&Q(ue),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),i.jsx(Oo,{open:dt,onOpenChange:ae,children:i.jsxs(Vi,{side:n?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[i.jsx(yl,{children:i.jsxs(Do,{className:"flex items-center gap-2 min-w-0",children:[i.jsx(Wn,{className:"h-5 w-5 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:Se==null?void 0:Se.company_name})]})}),Se&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:e("mprojects.projectDetails")}),i.jsxs(fe,{onClick:()=>{de(Se),ae(!1)},variant:"outline",size:"sm",children:[i.jsx(Is,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),i.jsxs(di,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Bs,{className:"grid w-full grid-cols-2",children:[i.jsx(ur,{value:"overview",children:e("common.overview")}),i.jsx(ur,{value:"notes",children:e("notes.title")})]}),i.jsxs(kr,{value:"overview",className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:Se.company_name||"-"}),Se.contract_code&&i.jsxs("p",{className:"text-muted-foreground mt-1",children:["Contract: ",Se.contract_code]})]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractAmount")}),i.jsx("p",{className:"font-medium",children:Se.contract_amount?`$${Se.contract_amount.toLocaleString()}`:"-"})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.startDate")}),i.jsx("p",{className:"font-medium",children:Se.cont_start_date?new Date(Se.cont_start_date).toLocaleDateString():"-"})]})}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.endDate")}),i.jsx("p",{className:"font-medium",children:Se.cont_end_date?new Date(Se.cont_end_date).toLocaleDateString():"-"})]})})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(gm,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.city")}),i.jsx("p",{className:"font-medium",children:X(Se.city_id)})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mprojects.contacts")}),(()=>{const V=h.filter(_e=>_e.project_id===Se.project_id);return V.length>0?i.jsx("div",{className:"space-y-2",children:V.map((_e,Me)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:_e.contact_name||"-"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[_e.contact_email&&`${_e.contact_email}  `,_e.contact_mobile&&`${_e.contact_mobile}`]})]}),i.jsx(ht,{variant:"outline",className:"text-xs",children:b.find(tt=>tt.jobtitle_id===_e.jobtitle_id)?da(b.find(tt=>tt.jobtitle_id===_e.jobtitle_id),"jobtitle_name_en","jobtitle_name_ar"):"-"})]},_e.contact_id||Me))}):i.jsx("p",{className:"text-sm text-muted-foreground",children:e("mprojects.noContactsFound")})})()]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.created")}),i.jsx("p",{className:"text-sm font-medium",children:new Date(Se.created_at).toLocaleDateString()})]})}),Se.contract_document&&(()=>{const V=Se.contract_document;return i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-blue-50/50 dark:bg-blue-900/10",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(bn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractDocument")}),i.jsx("button",{onClick:()=>{const _e=`data:${V.mime||"application/pdf"};base64,${V.path}`,Me=window.open();if(Me)Me.document.write(`
                                  <html>
                                    <body style="margin:0;padding:20px;">
                                      <embed src="${_e}" width="100%" height="100%" />
                                    </body>
                                  </html>
                                `);else{const tt=document.createElement("a");tt.href=_e,tt.download=V.name||"contract.pdf",tt.click()}},className:"font-medium text-blue-600 hover:underline truncate block bg-transparent border-none cursor-pointer text-left",children:e("mprojects.viewContract")})]}),i.jsxs("div",{className:"flex gap-1",children:[V.url&&i.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>window.open(V.url,"_blank"),className:"h-8 w-8 p-0",children:i.jsx(Sae,{className:"h-4 w-4"})}),i.jsx(fe,{variant:"ghost",size:"sm",onClick:async()=>{try{await TWe(Se.project_id),a({title:e("common.success"),description:"Contract document deleted successfully"}),await Xn(),ae(!1)}catch{a({title:"Error",description:"Failed to delete contract document",variant:"destructive"})}},className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:i.jsx(Ht,{className:"h-4 w-4"})})]})]})})()]}),i.jsx(kr,{value:"notes",className:"mt-4",children:i.jsx(wP,{relatedType:"mlead",relatedId:Se.project_id,notes:pe,onNotesChange:()=>le(Se.project_id)})})]})]})]})})]})}function PWe(){var W,R,z;const{t:e}=Pt(),{toast:t}=gi(),[r,n]=x.useState("list"),[a,s]=x.useState([]),[o,l]=x.useState(null),[c,u]=x.useState([]),[d,f]=x.useState(null),[h,m]=x.useState(!1),[g,p]=x.useState([]),[v,y]=x.useState("");x.useEffect(()=>{b()},[]);const b=async()=>{try{const P=["leads_summary_report","leads_by_city_report","leads_conversion_report","sales_performance_report"],M=[];for(let I=0;I<P.length;I++)try{const q=await qo(`/api/v1/report/${P[I]}`);q&&q.data&&(M.push({report_id:I+1,report_name:P[I],report_title_en:P[I].replace(/_/g," ").replace(/\b\w/g,J=>J.toUpperCase())+" Report",report_title_ar:_(P[I]),report_description_en:j(P[I]),report_description_ar:w(P[I]),report_type:S(P[I]),is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1}),console.log(` Report ${P[I]} loaded successfully`))}catch(q){console.warn(` Report ${P[I]} not available:`,q)}if(M.length>0)console.log(` Loaded ${M.length} reports:`,M.map(I=>I.report_name)),s(M);else{console.warn(" No reports loaded from API, using fallback");const I=[{report_id:1,report_name:"leads_summary_report",report_title_en:"Leads Summary Report",report_title_ar:"   ",report_description_en:"Comprehensive overview of all leads with status breakdown",report_description_ar:"        ",report_type:"summary",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1},{report_id:2,report_name:"leads_by_city_report",report_title_en:"Leads by City Report",report_title_ar:"   ",report_description_en:"Geographic distribution of leads across different cities",report_description_ar:"      ",report_type:"analytics",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1},{report_id:3,report_name:"leads_conversion_report",report_title_en:"Leads Conversion Report",report_title_ar:"  ",report_description_en:"Analysis of lead conversion rates by activity and system sources",report_description_ar:"       ",report_type:"conversion",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1},{report_id:4,report_name:"sales_performance_report",report_title_en:"Sales Performance Report",report_title_ar:"  ",report_description_en:"Sales team performance metrics and achievements",report_description_ar:"    ",report_type:"performance",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1}];s(I)}}catch(P){console.error("Failed to load reports:",P),t({title:e("reports.errorLoading"),description:e("reports.errorLoading"),variant:"destructive"})}},_=P=>({leads_summary_report:"   ",leads_by_city_report:"   ",leads_conversion_report:"  ",sales_performance_report:"  "})[P]||"",j=P=>({leads_summary_report:"Comprehensive overview of all leads with status breakdown",leads_by_city_report:"Geographic distribution of leads across different cities",leads_conversion_report:"Analysis of lead conversion rates by activity and system sources",sales_performance_report:"Sales team performance metrics and achievements"})[P]||"Report description",w=P=>({leads_summary_report:"        ",leads_by_city_report:"      ",leads_conversion_report:"       ",sales_performance_report:"    "})[P]||" ",S=P=>({leads_summary_report:"summary",leads_by_city_report:"analytics",leads_conversion_report:"conversion",sales_performance_report:"performance"})[P]||"summary",N=async P=>{try{const M=a.find(q=>q.report_id===P);if(!M)return;const I=C(M.report_name);u(I)}catch(M){console.error("Failed to load report parameters:",M),t({title:"Error",description:"Failed to load report parameters",variant:"destructive"})}},C=P=>({leads_summary:[{param_id:1,report_id:1,param_name:"status_id",param_label_en:"Status",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:2,report_id:1,param_name:"activity_id",param_label_en:"Activity",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0},{param_id:3,report_id:1,param_name:"system_id",param_label_en:"System",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:3,is_active:!0},{param_id:4,report_id:1,param_name:"assigned_to",param_label_en:"Assigned To",param_label_ar:" ",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:4,is_active:!0}],leads_by_city:[{param_id:5,report_id:2,param_name:"city_id",param_label_en:"City",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:6,report_id:2,param_name:"start_date",param_label_en:"Start Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0}],leads_conversion:[{param_id:7,report_id:3,param_name:"activity_id",param_label_en:"Activity",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:8,report_id:3,param_name:"system_id",param_label_en:"System",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0},{param_id:9,report_id:3,param_name:"start_date",param_label_en:"Start Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:3,is_active:!0},{param_id:10,report_id:3,param_name:"end_date",param_label_en:"End Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:4,is_active:!0}],sales_performance:[{param_id:11,report_id:4,param_name:"assigned_to",param_label_en:"Sales Person",param_label_ar:" ",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:12,report_id:4,param_name:"start_date",param_label_en:"Start Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0},{param_id:13,report_id:4,param_name:"end_date",param_label_en:"End Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:3,is_active:!0}],leads_trend_simple:[{param_id:14,report_id:5,param_name:"start_date",param_label_en:"Start Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:15,report_id:5,param_name:"end_date",param_label_en:"End Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0}]})[P]||[],k=async()=>{if(o)try{m(!0),f(null);const P={};c.forEach(I=>{const q=document.getElementById(`param_${I.param_name}`);q&&(P[I.param_name]=q.value)});const M=await qo(`/api/v1/report/${o.report_name}`);f({data:M.data||[],columns:M.columns||(M.data&&M.data.length>0?Object.keys(M.data[0]):[]),report_type:o.report_name,execution_time:new Date().toISOString()})}catch(P){console.error("Failed to execute report:",P),t({title:e("reports.errorLoading"),description:e("reports.errorLoading"),variant:"destructive"})}finally{m(!1)}},E=async P=>{if(!(!d||!d.data))try{const M=[d.columns.join(","),...d.data.map(A=>d.columns.map(B=>`"${A[B]||""}"`).join(","))].join(`
`),I=new Blob([M],{type:"text/csv"}),q=window.URL.createObjectURL(I),J=document.createElement("a");J.href=q,J.download=`${o.report_name}.csv`,document.body.appendChild(J),J.click(),document.body.removeChild(J),window.URL.revokeObjectURL(q),t({title:e("reports.downloadSuccess"),description:e("reports.downloadSuccess")})}catch(M){console.error("Failed to export report:",M),t({title:e("reports.exportError"),description:e("reports.exportError"),variant:"destructive"})}},O=async()=>{t({title:"Info",description:"Reports are predefined. Contact admin to add new reports.",variant:"default"})},T=async P=>{try{s(M=>M.filter(I=>I.report_id!==P)),t({title:"Success",description:"Report removed from list"})}catch(M){console.error("Failed to delete report:",M),t({title:"Error",description:"Failed to delete report",variant:"destructive"})}},U=a.filter(P=>P.report_name.toLowerCase().includes(v.toLowerCase())||P.report_title_en.toLowerCase().includes(v.toLowerCase())||P.report_title_ar.toLowerCase().includes(v.toLowerCase()));return i.jsxs("div",{className:"container mx-auto py-6 px-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:e("navigation.reports")}),i.jsx("p",{className:"text-muted-foreground mb-6",children:e("reports.description")})]}),i.jsxs(di,{value:r,onValueChange:n,children:[i.jsxs(Bs,{className:"grid w-full grid-cols-3",children:[i.jsx(ur,{value:"list",children:e("reports.list")}),i.jsx(ur,{value:"create",children:e("reports.create")}),i.jsx(ur,{value:"schedule",children:e("reports.schedule")})]}),i.jsxs(kr,{value:"list",className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(La,{className:"h-4 w-4"}),i.jsx(ze,{placeholder:e("reports.searchReports"),value:v,onChange:P=>y(P.target.value),className:"max-w-sm"})]}),i.jsxs(fe,{onClick:O,children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),e("reports.createNew")]})]}),U.length===0?i.jsx($i,{icon:i.jsx(zi,{className:"h-12 w-12"}),title:e("reports.noReports"),description:e("reports.noReportsDesc")}):i.jsx("div",{className:"grid gap-4",children:U.map(P=>i.jsxs(ft,{className:"cursor-pointer hover:shadow-md transition-shadow",children:[i.jsx(Yt,{children:i.jsxs(yr,{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold",children:[e("reports.title"),": ",P.report_title_en]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("reports.description"),": ",P.report_description_en]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(fe,{variant:"outline",size:"sm",onClick:()=>N(P.report_id),children:i.jsx(Mg,{className:"h-4 w-4"})}),i.jsx(fe,{variant:"outline",size:"sm",onClick:()=>l(P),children:i.jsx(Y2,{className:"h-4 w-4"})}),i.jsx(fe,{variant:"destructive",size:"sm",onClick:()=>T(P.report_id),children:i.jsx(Ht,{className:"h-4 w-4"})})]})]})}),i.jsx(yt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ht,{variant:P.is_active?"default":"secondary",children:P.report_type}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("reports.lastModified"),": ",new Date(P.updated_at).toLocaleDateString()]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("reports.createdBy"),": ",P.created_by]})})]})})]},P.report_id))})]}),i.jsx(kr,{value:"create",className:"space-y-6",children:i.jsxs(ft,{children:[i.jsx(Yt,{children:i.jsx(yr,{children:e("reports.createNew")})}),i.jsxs(yt,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"report_name",children:e("reports.reportName")}),i.jsx(ze,{id:"report_name",placeholder:e("reports.reportNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"report_title_en",children:e("reports.titleEn")}),i.jsx(ze,{id:"report_title_en",placeholder:e("reports.titleEnPlaceholder")})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"report_title_ar",children:e("reports.titleAr")}),i.jsx(ze,{id:"report_title_ar",placeholder:e("reports.titleArPlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"report_type",children:e("reports.reportType")}),i.jsxs(ct,{onValueChange:P=>console.log("Report type:",P),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:e("reports.selectType")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"summary",children:e("reports.types.summary")}),i.jsx(je,{value:"analytics",children:e("reports.types.analytics")}),i.jsx(je,{value:"trend",children:e("reports.types.trend")}),i.jsx(je,{value:"conversion",children:e("reports.types.conversion")}),i.jsx(je,{value:"performance",children:e("reports.types.performance")})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"report_description_en",children:e("reports.descriptionEn")}),i.jsx(an,{id:"report_description_en",placeholder:e("reports.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"report_description_ar",children:e("reports.descriptionAr")}),i.jsx(an,{id:"report_description_ar",placeholder:e("reports.descriptionPlaceholder"),rows:3})]}),i.jsx("div",{className:"flex justify-end mt-6",children:i.jsxs(fe,{onClick:O,children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),e("reports.createReport")]})})]})]})}),i.jsx(kr,{value:"schedule",className:"space-y-6",children:i.jsxs(ft,{children:[i.jsx(Yt,{children:i.jsx(yr,{children:e("reports.scheduling")})}),i.jsxs(yt,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Create New Schedule"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"schedule_name",children:"Schedule Name"}),i.jsx(ze,{id:"schedule_name",placeholder:"e.g., Weekly Sales Report"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"report_select",children:"Report"}),i.jsxs(ct,{children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:"Select a report"})}),i.jsx(lt,{children:a.map(P=>i.jsx(je,{value:P.report_name,children:P.report_title_en},P.report_id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"schedule_type",children:"Frequency"}),i.jsxs(ct,{children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:"Select frequency"})}),i.jsxs(lt,{children:[i.jsx(je,{value:"daily",children:"Daily"}),i.jsx(je,{value:"weekly",children:"Weekly"}),i.jsx(je,{value:"monthly",children:"Monthly"}),i.jsx(je,{value:"quarterly",children:"Quarterly"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"recipients",children:"Recipients (comma-separated emails)"}),i.jsx(ze,{id:"recipients",placeholder:"email1@example.com, email2@example.com"})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs(fe,{onClick:()=>{t({title:"Schedule Created",description:"Report schedule has been created successfully."})},children:[i.jsx(Ut,{className:"h-4 w-4 mr-2"}),"Create Schedule"]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Existing Schedules"}),g.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No Schedules Yet"}),i.jsx("p",{className:"text-muted-foreground",children:"Create your first report schedule above."})]}):i.jsx("div",{className:"space-y-3",children:g.map(P=>i.jsx(ft,{children:i.jsx(yt,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold",children:P.schedule_name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.schedule_type,"  Last run: ",new Date(P.last_run).toLocaleDateString()]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Next run: ",new Date(P.next_run).toLocaleDateString()]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(fe,{variant:"outline",size:"sm",children:i.jsx(Mg,{className:"h-4 w-4"})}),i.jsx(fe,{variant:"destructive",size:"sm",children:i.jsx(Ht,{className:"h-4 w-4"})})]})]})})},P.schedule_id))})]})]})]})})]}),o&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:o.report_title_en}),i.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>l(null),children:""})]}),c.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("reports.parameters")}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map(P=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ue,{htmlFor:`param_${P.param_name}`,children:[P.param_label_en,P.required&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),P.param_type==="text"&&i.jsx(ze,{id:`param_${P.param_name}`,placeholder:P.param_default||"",defaultValue:P.param_default||""}),P.param_type==="number"&&i.jsx(ze,{id:`param_${P.param_name}`,type:"number",placeholder:P.param_default||"",defaultValue:P.param_default||""}),P.param_type==="date"&&i.jsx(ze,{id:`param_${P.param_name}`,type:"date",placeholder:P.param_default||"",defaultValue:P.param_default||""}),P.param_type==="select"&&P.param_options&&i.jsxs(ct,{onValueChange:M=>console.log("Selected:",M),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:P.param_default||""})}),i.jsx(lt,{children:JSON.parse(P.param_options||"[]").map(M=>i.jsx(je,{value:M.value,children:M.label},M.value))})]})]},P.param_id))})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(fe,{onClick:k,disabled:h,className:"flex-1",children:h?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary mr-2"}),e("reports.executing")]}):i.jsxs(i.Fragment,{children:[i.jsx(Y2,{className:"h-4 w-4 mr-2"}),e("reports.executeReport")]})}),d&&i.jsxs(fe,{variant:"outline",onClick:()=>E(),children:[i.jsx(DB,{className:"h-4 w-4 mr-2"}),e("reports.exportCSV")]})]}),d&&i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:e("reports.results")}),i.jsxs(ht,{variant:"secondary",children:[d.totalCount||((W=d.data)==null?void 0:W.length)," ",e("reports.records")]})]}),d.message&&i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:i.jsx("p",{className:"text-blue-700",children:d.message})}),i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto max-h-96",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-muted",children:i.jsx("tr",{children:(R=d.columns)==null?void 0:R.map(P=>i.jsx("th",{className:"px-4 py-2 text-left font-medium border-b",children:P.replace(/_/g," ").replace(/\b\w/g,M=>M.toUpperCase())},P))})}),i.jsx("tbody",{children:(z=d.data)==null?void 0:z.map((P,M)=>{var I;return i.jsx("tr",{className:"border-b hover:bg-muted/50",children:(I=d.columns)==null?void 0:I.map(q=>i.jsx("td",{className:"px-4 py-2 border-b",children:P[q]||"-"},q))},M)})})]})})})]})]})})]})}const x0={async getRequests(){return(await K.requests.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async getRequestById(e){return await K.requests.get(e)},async createRequest(e){return await K.requests.create(e)},async updateRequest(e,t){return await K.requests.update(e,t)},async deleteRequest(e){await K.requests.delete(e)}};var Ex=e=>e.type==="checkbox",kd=e=>e instanceof Date,es=e=>e==null;const CY=e=>typeof e=="object";var mn=e=>!es(e)&&!Array.isArray(e)&&CY(e)&&!kd(e),EY=e=>mn(e)&&e.target?Ex(e.target)?e.target.checked:e.target.value:e,OWe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,TY=(e,t)=>e.has(OWe(t)),DWe=e=>{const t=e.constructor&&e.constructor.prototype;return mn(t)&&t.hasOwnProperty("isPrototypeOf")},pO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Tn(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(pO&&(e instanceof Blob||n))&&(r||mn(e)))if(t=r?[]:{},!r&&!DWe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Tn(e[a]));else return e;return t}var _j=e=>/^\w*$/.test(e),un=e=>e===void 0,gO=e=>Array.isArray(e)?e.filter(Boolean):[],vO=e=>gO(e.replace(/["|']|\]/g,"").split(/\.|\[/)),nt=(e,t,r)=>{if(!t||!mn(e))return r;const n=(_j(t)?[t]:vO(t)).reduce((a,s)=>es(a)?a:a[s],e);return un(n)||n===e?un(e[t])?r:e[t]:n},Js=e=>typeof e=="boolean",vr=(e,t,r)=>{let n=-1;const a=_j(t)?[t]:vO(t),s=a.length,o=s-1;for(;++n<s;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=mn(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const m_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},xo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Bl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xO=ce.createContext(null);xO.displayName="HookFormContext";const wj=()=>ce.useContext(xO),RWe=e=>{const{children:t,...r}=e;return ce.createElement(xO.Provider,{value:r},t)};var AY=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const o=s;return t._proxyFormState[o]!==xo.all&&(t._proxyFormState[o]=!n||xo.all),r&&(r[o]=!0),e[o]}});return a};const yO=typeof window<"u"?ce.useLayoutEffect:ce.useEffect;function FWe(e){const t=wj(),{control:r=t.control,disabled:n,name:a,exact:s}=e||{},[o,l]=ce.useState(r._formState),c=ce.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return yO(()=>r._subscribe({name:a,formState:c.current,exact:s,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,s]),ce.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),ce.useMemo(()=>AY(o,r,c.current,!1),[o,r])}var ll=e=>typeof e=="string",PY=(e,t,r,n,a)=>ll(e)?(n&&t.watch.add(e),nt(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),nt(r,s))):(n&&(t.watchAll=!0),r),oE=e=>es(e)||!CY(e);function Gl(e,t,r=new WeakSet){if(oE(e)||oE(t))return e===t;if(kd(e)&&kd(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const o=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const l=t[s];if(kd(o)&&kd(l)||mn(o)&&mn(l)||Array.isArray(o)&&Array.isArray(l)?!Gl(o,l,r):o!==l)return!1}}return!0}function MWe(e){const t=wj(),{control:r=t.control,name:n,defaultValue:a,disabled:s,exact:o,compute:l}=e||{},c=ce.useRef(a),u=ce.useRef(l),d=ce.useRef(void 0);u.current=l;const f=ce.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=ce.useState(u.current?u.current(f):f);return yO(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:g=>{if(!s){const p=PY(n,r._names,g.values||r._formValues,!1,c.current);if(u.current){const v=u.current(p);Gl(v,d.current)||(m(v),d.current=v)}else m(p)}}}),[r,s,n,o]),ce.useEffect(()=>r._removeUnmounted()),h}function IWe(e){const t=wj(),{name:r,disabled:n,control:a=t.control,shouldUnregister:s,defaultValue:o}=e,l=TY(a._names.array,r),c=ce.useMemo(()=>nt(a._formValues,r,nt(a._defaultValues,r,o)),[a,r,o]),u=MWe({control:a,name:r,defaultValue:c,exact:!0}),d=FWe({control:a,name:r,exact:!0}),f=ce.useRef(e),h=ce.useRef(a.register(r,{...e.rules,value:u,...Js(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=ce.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!nt(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!nt(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!nt(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!nt(d.validatingFields,r)},error:{enumerable:!0,get:()=>nt(d.errors,r)}}),[d,r]),g=ce.useCallback(b=>h.current.onChange({target:{value:EY(b),name:r},type:m_.CHANGE}),[r]),p=ce.useCallback(()=>h.current.onBlur({target:{value:nt(a._formValues,r),name:r},type:m_.BLUR}),[r,a._formValues]),v=ce.useCallback(b=>{const _=nt(a._fields,r);_&&b&&(_._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:j=>b.setCustomValidity(j),reportValidity:()=>b.reportValidity()})},[a._fields,r]),y=ce.useMemo(()=>({name:r,value:u,...Js(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:p,ref:v}),[r,n,d.disabled,g,p,v,u]);return ce.useEffect(()=>{const b=a._options.shouldUnregister||s;a.register(r,{...f.current.rules,...Js(f.current.disabled)?{disabled:f.current.disabled}:{}});const _=(j,w)=>{const S=nt(a._fields,j);S&&S._f&&(S._f.mount=w)};if(_(r,!0),b){const j=Tn(nt(a._options.defaultValues,r));vr(a._defaultValues,r,j),un(nt(a._formValues,r))&&vr(a._formValues,r,j)}return!l&&a.register(r),()=>{(l?b&&!a._state.action:b)?a.unregister(r):_(r,!1)}},[r,a,l,s]),ce.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),ce.useMemo(()=>({field:y,formState:d,fieldState:m}),[y,d,m])}const LWe=e=>e.render(IWe(e));var OY=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},dg=e=>Array.isArray(e)?e:[e],B5=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},js=e=>mn(e)&&!Object.keys(e).length,bO=e=>e.type==="file",yo=e=>typeof e=="function",p_=e=>{if(!pO)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},DY=e=>e.type==="select-multiple",_O=e=>e.type==="radio",$We=e=>_O(e)||Ex(e),EN=e=>p_(e)&&e.isConnected;function BWe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=un(e)?n++:e[t[n++]];return e}function UWe(e){for(const t in e)if(e.hasOwnProperty(t)&&!un(e[t]))return!1;return!0}function gn(e,t){const r=Array.isArray(t)?t:_j(t)?[t]:vO(t),n=r.length===1?e:BWe(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(mn(n)&&js(n)||Array.isArray(n)&&UWe(n))&&gn(e,r.slice(0,-1)),e}var RY=e=>{for(const t in e)if(yo(e[t]))return!0;return!1};function g_(e,t={}){const r=Array.isArray(e);if(mn(e)||r)for(const n in e)Array.isArray(e[n])||mn(e[n])&&!RY(e[n])?(t[n]=Array.isArray(e[n])?[]:{},g_(e[n],t[n])):es(e[n])||(t[n]=!0);return t}function FY(e,t,r){const n=Array.isArray(e);if(mn(e)||n)for(const a in e)Array.isArray(e[a])||mn(e[a])&&!RY(e[a])?un(t)||oE(r[a])?r[a]=Array.isArray(e[a])?g_(e[a],[]):{...g_(e[a])}:FY(e[a],es(t)?{}:t[a],r[a]):r[a]=!Gl(e[a],t[a]);return r}var y0=(e,t)=>FY(e,t,g_(t));const U5={value:!1,isValid:!1},z5={value:!0,isValid:!0};var MY=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!un(e[0].attributes.value)?un(e[0].value)||e[0].value===""?z5:{value:e[0].value,isValid:!0}:z5:U5}return U5},IY=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>un(e)?e:t?e===""?NaN:e&&+e:r&&ll(e)?new Date(e):n?n(e):e;const V5={isValid:!1,value:null};var LY=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,V5):V5;function W5(e){const t=e.ref;return bO(t)?t.files:_O(t)?LY(e.refs).value:DY(t)?[...t.selectedOptions].map(({value:r})=>r):Ex(t)?MY(e.refs).value:IY(un(t.value)?e.ref.value:t.value,e)}var zWe=(e,t,r,n)=>{const a={};for(const s of e){const o=nt(t,s);o&&vr(a,s,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},v_=e=>e instanceof RegExp,b0=e=>un(e)?e:v_(e)?e.source:mn(e)?v_(e.value)?e.value.source:e.value:e,H5=e=>({isOnSubmit:!e||e===xo.onSubmit,isOnBlur:e===xo.onBlur,isOnChange:e===xo.onChange,isOnAll:e===xo.all,isOnTouch:e===xo.onTouched});const q5="AsyncFunction";var VWe=e=>!!e&&!!e.validate&&!!(yo(e.validate)&&e.validate.constructor.name===q5||mn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===q5)),WWe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),G5=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const fg=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=nt(e,a);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(fg(l,t))break}else if(mn(l)&&fg(l,t))break}}};function K5(e,t,r){const n=nt(e,r);if(n||_j(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),o=nt(t,s),l=nt(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};a.pop()}return{name:r}}var HWe=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return js(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||xo.all))},qWe=(e,t,r)=>!e||!t||e===t||dg(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),GWe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,KWe=(e,t)=>!gO(nt(e,t)).length&&gn(e,t),YWe=(e,t,r)=>{const n=dg(nt(e,r));return vr(n,"root",t[r]),vr(e,r,n),e},i1=e=>ll(e);function Y5(e,t,r="validate"){if(i1(e)||Array.isArray(e)&&e.every(i1)||Js(e)&&!e)return{type:r,message:i1(e)?e:"",ref:t}}var Jf=e=>mn(e)&&!v_(e)?e:{value:e,message:""},X5=async(e,t,r,n,a,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:v,mount:y}=e._f,b=nt(r,p);if(!y||t.has(p))return{};const _=l?l[0]:o,j=T=>{a&&_.reportValidity&&(_.setCustomValidity(Js(T)?"":T||""),_.reportValidity())},w={},S=_O(o),N=Ex(o),C=S||N,k=(v||bO(o))&&un(o.value)&&un(b)||p_(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,E=OY.bind(null,p,n,w),O=(T,U,W,R=Bl.maxLength,z=Bl.minLength)=>{const P=T?U:W;w[p]={type:T?R:z,message:P,ref:o,...E(T?R:z,P)}};if(s?!Array.isArray(b)||!b.length:c&&(!C&&(k||es(b))||Js(b)&&!b||N&&!MY(l).isValid||S&&!LY(l).isValid)){const{value:T,message:U}=i1(c)?{value:!!c,message:c}:Jf(c);if(T&&(w[p]={type:Bl.required,message:U,ref:_,...E(Bl.required,U)},!n))return j(U),w}if(!k&&(!es(f)||!es(h))){let T,U;const W=Jf(h),R=Jf(f);if(!es(b)&&!isNaN(b)){const z=o.valueAsNumber||b&&+b;es(W.value)||(T=z>W.value),es(R.value)||(U=z<R.value)}else{const z=o.valueAsDate||new Date(b),P=q=>new Date(new Date().toDateString()+" "+q),M=o.type=="time",I=o.type=="week";ll(W.value)&&b&&(T=M?P(b)>P(W.value):I?b>W.value:z>new Date(W.value)),ll(R.value)&&b&&(U=M?P(b)<P(R.value):I?b<R.value:z<new Date(R.value))}if((T||U)&&(O(!!T,W.message,R.message,Bl.max,Bl.min),!n))return j(w[p].message),w}if((u||d)&&!k&&(ll(b)||s&&Array.isArray(b))){const T=Jf(u),U=Jf(d),W=!es(T.value)&&b.length>+T.value,R=!es(U.value)&&b.length<+U.value;if((W||R)&&(O(W,T.message,U.message),!n))return j(w[p].message),w}if(m&&!k&&ll(b)){const{value:T,message:U}=Jf(m);if(v_(T)&&!b.match(T)&&(w[p]={type:Bl.pattern,message:U,ref:o,...E(Bl.pattern,U)},!n))return j(U),w}if(g){if(yo(g)){const T=await g(b,r),U=Y5(T,_);if(U&&(w[p]={...U,...E(Bl.validate,U.message)},!n))return j(U.message),w}else if(mn(g)){let T={};for(const U in g){if(!js(T)&&!n)break;const W=Y5(await g[U](b,r),_,U);W&&(T={...W,...E(U,W.message)},j(W.message),n&&(w[p]=T))}if(!js(T)&&(w[p]={ref:_,...T},!n))return w}}return j(!0),w};const XWe={mode:xo.onSubmit,reValidateMode:xo.onChange,shouldFocusError:!0};function QWe(e={}){let t={...XWe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:yo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=mn(t.defaultValues)||mn(t.values)?Tn(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Tn(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:B5(),state:B5()},m=t.criteriaMode===xo.all,g=ae=>pe=>{clearTimeout(u),u=setTimeout(ae,pe)},p=async ae=>{if(!t.disabled&&(d.isValid||f.isValid||ae)){const pe=t.resolver?js((await N()).errors):await k(n,!0);pe!==r.isValid&&h.state.next({isValid:pe})}},v=(ae,pe)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((ae||Array.from(l.mount)).forEach(te=>{te&&(pe?vr(r.validatingFields,te,pe):gn(r.validatingFields,te))}),h.state.next({validatingFields:r.validatingFields,isValidating:!js(r.validatingFields)}))},y=(ae,pe=[],te,re,he=!0,Pe=!0)=>{if(re&&te&&!t.disabled){if(o.action=!0,Pe&&Array.isArray(nt(n,ae))){const Re=te(nt(n,ae),re.argA,re.argB);he&&vr(n,ae,Re)}if(Pe&&Array.isArray(nt(r.errors,ae))){const Re=te(nt(r.errors,ae),re.argA,re.argB);he&&vr(r.errors,ae,Re),KWe(r.errors,ae)}if((d.touchedFields||f.touchedFields)&&Pe&&Array.isArray(nt(r.touchedFields,ae))){const Re=te(nt(r.touchedFields,ae),re.argA,re.argB);he&&vr(r.touchedFields,ae,Re)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=y0(a,s)),h.state.next({name:ae,isDirty:O(ae,pe),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else vr(s,ae,pe)},b=(ae,pe)=>{vr(r.errors,ae,pe),h.state.next({errors:r.errors})},_=ae=>{r.errors=ae,h.state.next({errors:r.errors,isValid:!1})},j=(ae,pe,te,re)=>{const he=nt(n,ae);if(he){const Pe=nt(s,ae,un(te)?nt(a,ae):te);un(Pe)||re&&re.defaultChecked||pe?vr(s,ae,pe?Pe:W5(he._f)):W(ae,Pe),o.mount&&p()}},w=(ae,pe,te,re,he)=>{let Pe=!1,Re=!1;const et={name:ae};if(!t.disabled){if(!te||re){(d.isDirty||f.isDirty)&&(Re=r.isDirty,r.isDirty=et.isDirty=O(),Pe=Re!==et.isDirty);const rt=Gl(nt(a,ae),pe);Re=!!nt(r.dirtyFields,ae),rt?gn(r.dirtyFields,ae):vr(r.dirtyFields,ae,!0),et.dirtyFields=r.dirtyFields,Pe=Pe||(d.dirtyFields||f.dirtyFields)&&Re!==!rt}if(te){const rt=nt(r.touchedFields,ae);rt||(vr(r.touchedFields,ae,te),et.touchedFields=r.touchedFields,Pe=Pe||(d.touchedFields||f.touchedFields)&&rt!==te)}Pe&&he&&h.state.next(et)}return Pe?et:{}},S=(ae,pe,te,re)=>{const he=nt(r.errors,ae),Pe=(d.isValid||f.isValid)&&Js(pe)&&r.isValid!==pe;if(t.delayError&&te?(c=g(()=>b(ae,te)),c(t.delayError)):(clearTimeout(u),c=null,te?vr(r.errors,ae,te):gn(r.errors,ae)),(te?!Gl(he,te):he)||!js(re)||Pe){const Re={...re,...Pe&&Js(pe)?{isValid:pe}:{},errors:r.errors,name:ae};r={...r,...Re},h.state.next(Re)}},N=async ae=>{v(ae,!0);const pe=await t.resolver(s,t.context,zWe(ae||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(ae),pe},C=async ae=>{const{errors:pe}=await N(ae);if(ae)for(const te of ae){const re=nt(pe,te);re?vr(r.errors,te,re):gn(r.errors,te)}else r.errors=pe;return pe},k=async(ae,pe,te={valid:!0})=>{for(const re in ae){const he=ae[re];if(he){const{_f:Pe,...Re}=he;if(Pe){const et=l.array.has(Pe.name),rt=he._f&&VWe(he._f);rt&&d.validatingFields&&v([re],!0);const jt=await X5(he,l.disabled,s,m,t.shouldUseNativeValidation&&!pe,et);if(rt&&d.validatingFields&&v([re]),jt[Pe.name]&&(te.valid=!1,pe))break;!pe&&(nt(jt,Pe.name)?et?YWe(r.errors,jt,Pe.name):vr(r.errors,Pe.name,jt[Pe.name]):gn(r.errors,Pe.name))}!js(Re)&&await k(Re,pe,te)}}return te.valid},E=()=>{for(const ae of l.unMount){const pe=nt(n,ae);pe&&(pe._f.refs?pe._f.refs.every(te=>!EN(te)):!EN(pe._f.ref))&&ue(ae)}l.unMount=new Set},O=(ae,pe)=>!t.disabled&&(ae&&pe&&vr(s,ae,pe),!Gl(q(),a)),T=(ae,pe,te)=>PY(ae,l,{...o.mount?s:un(pe)?a:ll(ae)?{[ae]:pe}:pe},te,pe),U=ae=>gO(nt(o.mount?s:a,ae,t.shouldUnregister?nt(a,ae,[]):[])),W=(ae,pe,te={})=>{const re=nt(n,ae);let he=pe;if(re){const Pe=re._f;Pe&&(!Pe.disabled&&vr(s,ae,IY(pe,Pe)),he=p_(Pe.ref)&&es(pe)?"":pe,DY(Pe.ref)?[...Pe.ref.options].forEach(Re=>Re.selected=he.includes(Re.value)):Pe.refs?Ex(Pe.ref)?Pe.refs.forEach(Re=>{(!Re.defaultChecked||!Re.disabled)&&(Array.isArray(he)?Re.checked=!!he.find(et=>et===Re.value):Re.checked=he===Re.value||!!he)}):Pe.refs.forEach(Re=>Re.checked=Re.value===he):bO(Pe.ref)?Pe.ref.value="":(Pe.ref.value=he,Pe.ref.type||h.state.next({name:ae,values:Tn(s)})))}(te.shouldDirty||te.shouldTouch)&&w(ae,he,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&I(ae)},R=(ae,pe,te)=>{for(const re in pe){if(!pe.hasOwnProperty(re))return;const he=pe[re],Pe=ae+"."+re,Re=nt(n,Pe);(l.array.has(ae)||mn(he)||Re&&!Re._f)&&!kd(he)?R(Pe,he,te):W(Pe,he,te)}},z=(ae,pe,te={})=>{const re=nt(n,ae),he=l.array.has(ae),Pe=Tn(pe);vr(s,ae,Pe),he?(h.array.next({name:ae,values:Tn(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&te.shouldDirty&&h.state.next({name:ae,dirtyFields:y0(a,s),isDirty:O(ae,Pe)})):re&&!re._f&&!es(Pe)?R(ae,Pe,te):W(ae,Pe,te),G5(ae,l)&&h.state.next({...r,name:ae}),h.state.next({name:o.mount?ae:void 0,values:Tn(s)})},P=async ae=>{o.mount=!0;const pe=ae.target;let te=pe.name,re=!0;const he=nt(n,te),Pe=rt=>{re=Number.isNaN(rt)||kd(rt)&&isNaN(rt.getTime())||Gl(rt,nt(s,te,rt))},Re=H5(t.mode),et=H5(t.reValidateMode);if(he){let rt,jt;const we=pe.type?W5(he._f):EY(ae),Be=ae.type===m_.BLUR||ae.type===m_.FOCUS_OUT,We=!WWe(he._f)&&!t.resolver&&!nt(r.errors,te)&&!he._f.deps||GWe(Be,nt(r.touchedFields,te),r.isSubmitted,et,Re),Qe=G5(te,l,Be);vr(s,te,we),Be?(he._f.onBlur&&he._f.onBlur(ae),c&&c(0)):he._f.onChange&&he._f.onChange(ae);const Ct=w(te,we,Be),Vt=!js(Ct)||Qe;if(!Be&&h.state.next({name:te,type:ae.type,values:Tn(s)}),We)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Be&&p():Be||p()),Vt&&h.state.next({name:te,...Qe?{}:Ct});if(!Be&&Qe&&h.state.next({...r}),t.resolver){const{errors:Wt}=await N([te]);if(Pe(we),re){const cr=K5(r.errors,n,te),fr=K5(Wt,n,cr.name||te);rt=fr.error,te=fr.name,jt=js(Wt)}}else v([te],!0),rt=(await X5(he,l.disabled,s,m,t.shouldUseNativeValidation))[te],v([te]),Pe(we),re&&(rt?jt=!1:(d.isValid||f.isValid)&&(jt=await k(n,!0)));re&&(he._f.deps&&I(he._f.deps),S(te,jt,rt,Ct))}},M=(ae,pe)=>{if(nt(r.errors,pe)&&ae.focus)return ae.focus(),1},I=async(ae,pe={})=>{let te,re;const he=dg(ae);if(t.resolver){const Pe=await C(un(ae)?ae:he);te=js(Pe),re=ae?!he.some(Re=>nt(Pe,Re)):te}else ae?(re=(await Promise.all(he.map(async Pe=>{const Re=nt(n,Pe);return await k(Re&&Re._f?{[Pe]:Re}:Re)}))).every(Boolean),!(!re&&!r.isValid)&&p()):re=te=await k(n);return h.state.next({...!ll(ae)||(d.isValid||f.isValid)&&te!==r.isValid?{}:{name:ae},...t.resolver||!ae?{isValid:te}:{},errors:r.errors}),pe.shouldFocus&&!re&&fg(n,M,ae?he:l.mount),re},q=ae=>{const pe={...o.mount?s:a};return un(ae)?pe:ll(ae)?nt(pe,ae):ae.map(te=>nt(pe,te))},J=(ae,pe)=>({invalid:!!nt((pe||r).errors,ae),isDirty:!!nt((pe||r).dirtyFields,ae),error:nt((pe||r).errors,ae),isValidating:!!nt(r.validatingFields,ae),isTouched:!!nt((pe||r).touchedFields,ae)}),A=ae=>{ae&&dg(ae).forEach(pe=>gn(r.errors,pe)),h.state.next({errors:ae?r.errors:{}})},B=(ae,pe,te)=>{const re=(nt(n,ae,{_f:{}})._f||{}).ref,he=nt(r.errors,ae)||{},{ref:Pe,message:Re,type:et,...rt}=he;vr(r.errors,ae,{...rt,...pe,ref:re}),h.state.next({name:ae,errors:r.errors,isValid:!1}),te&&te.shouldFocus&&re&&re.focus&&re.focus()},G=(ae,pe)=>yo(ae)?h.state.subscribe({next:te=>"values"in te&&ae(T(void 0,pe),te)}):T(ae,pe,!0),H=ae=>h.state.subscribe({next:pe=>{qWe(ae.name,pe.name,ae.exact)&&HWe(pe,ae.formState||d,Se,ae.reRenderRoot)&&ae.callback({values:{...s},...r,...pe,defaultValues:a})}}).unsubscribe,ee=ae=>(o.mount=!0,f={...f,...ae.formState},H({...ae,formState:f})),ue=(ae,pe={})=>{for(const te of ae?dg(ae):l.mount)l.mount.delete(te),l.array.delete(te),pe.keepValue||(gn(n,te),gn(s,te)),!pe.keepError&&gn(r.errors,te),!pe.keepDirty&&gn(r.dirtyFields,te),!pe.keepTouched&&gn(r.touchedFields,te),!pe.keepIsValidating&&gn(r.validatingFields,te),!t.shouldUnregister&&!pe.keepDefaultValue&&gn(a,te);h.state.next({values:Tn(s)}),h.state.next({...r,...pe.keepDirty?{isDirty:O()}:{}}),!pe.keepIsValid&&p()},ye=({disabled:ae,name:pe})=>{(Js(ae)&&o.mount||ae||l.disabled.has(pe))&&(ae?l.disabled.add(pe):l.disabled.delete(pe))},ie=(ae,pe={})=>{let te=nt(n,ae);const re=Js(pe.disabled)||Js(t.disabled);return vr(n,ae,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:ae}},name:ae,mount:!0,...pe}}),l.mount.add(ae),te?ye({disabled:Js(pe.disabled)?pe.disabled:t.disabled,name:ae}):j(ae,!0,pe.value),{...re?{disabled:pe.disabled||t.disabled}:{},...t.progressive?{required:!!pe.required,min:b0(pe.min),max:b0(pe.max),minLength:b0(pe.minLength),maxLength:b0(pe.maxLength),pattern:b0(pe.pattern)}:{},name:ae,onChange:P,onBlur:P,ref:he=>{if(he){ie(ae,pe),te=nt(n,ae);const Pe=un(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,Re=$We(Pe),et=te._f.refs||[];if(Re?et.find(rt=>rt===Pe):Pe===te._f.ref)return;vr(n,ae,{_f:{...te._f,...Re?{refs:[...et.filter(EN),Pe,...Array.isArray(nt(a,ae))?[{}]:[]],ref:{type:Pe.type,name:ae}}:{ref:Pe}}}),j(ae,!1,void 0,Pe)}else te=nt(n,ae,{}),te._f&&(te._f.mount=!1),(t.shouldUnregister||pe.shouldUnregister)&&!(TY(l.array,ae)&&o.action)&&l.unMount.add(ae)}}},Y=()=>t.shouldFocusError&&fg(n,M,l.mount),L=ae=>{Js(ae)&&(h.state.next({disabled:ae}),fg(n,(pe,te)=>{const re=nt(n,te);re&&(pe.disabled=re._f.disabled||ae,Array.isArray(re._f.refs)&&re._f.refs.forEach(he=>{he.disabled=re._f.disabled||ae}))},0,!1))},D=(ae,pe)=>async te=>{let re;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let he=Tn(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:Pe,values:Re}=await N();r.errors=Pe,he=Tn(Re)}else await k(n);if(l.disabled.size)for(const Pe of l.disabled)gn(he,Pe);if(gn(r.errors,"root"),js(r.errors)){h.state.next({errors:{}});try{await ae(he,te)}catch(Pe){re=Pe}}else pe&&await pe({...r.errors},te),Y(),setTimeout(Y);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:js(r.errors)&&!re,submitCount:r.submitCount+1,errors:r.errors}),re)throw re},se=(ae,pe={})=>{nt(n,ae)&&(un(pe.defaultValue)?z(ae,Tn(nt(a,ae))):(z(ae,pe.defaultValue),vr(a,ae,Tn(pe.defaultValue))),pe.keepTouched||gn(r.touchedFields,ae),pe.keepDirty||(gn(r.dirtyFields,ae),r.isDirty=pe.defaultValue?O(ae,Tn(nt(a,ae))):O()),pe.keepError||(gn(r.errors,ae),d.isValid&&p()),h.state.next({...r}))},be=(ae,pe={})=>{const te=ae?Tn(ae):a,re=Tn(te),he=js(ae),Pe=he?a:re;if(pe.keepDefaultValues||(a=te),!pe.keepValues){if(pe.keepDirtyValues){const Re=new Set([...l.mount,...Object.keys(y0(a,s))]);for(const et of Array.from(Re))nt(r.dirtyFields,et)?vr(Pe,et,nt(s,et)):z(et,nt(Pe,et))}else{if(pO&&un(ae))for(const Re of l.mount){const et=nt(n,Re);if(et&&et._f){const rt=Array.isArray(et._f.refs)?et._f.refs[0]:et._f.ref;if(p_(rt)){const jt=rt.closest("form");if(jt){jt.reset();break}}}}if(pe.keepFieldsRef)for(const Re of l.mount)z(Re,nt(Pe,Re));else n={}}s=t.shouldUnregister?pe.keepDefaultValues?Tn(a):{}:Tn(Pe),h.array.next({values:{...Pe}}),h.state.next({values:{...Pe}})}l={mount:pe.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!pe.keepIsValid||!!pe.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:pe.keepSubmitCount?r.submitCount:0,isDirty:he?!1:pe.keepDirty?r.isDirty:!!(pe.keepDefaultValues&&!Gl(ae,a)),isSubmitted:pe.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:he?{}:pe.keepDirtyValues?pe.keepDefaultValues&&s?y0(a,s):r.dirtyFields:pe.keepDefaultValues&&ae?y0(a,ae):pe.keepDirty?r.dirtyFields:{},touchedFields:pe.keepTouched?r.touchedFields:{},errors:pe.keepErrors?r.errors:{},isSubmitSuccessful:pe.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ve=(ae,pe)=>be(yo(ae)?ae(s):ae,pe),ke=(ae,pe={})=>{const te=nt(n,ae),re=te&&te._f;if(re){const he=re.refs?re.refs[0]:re.ref;he.focus&&(he.focus(),pe.shouldSelect&&yo(he.select)&&he.select())}},Se=ae=>{r={...r,...ae}},dt={control:{register:ie,unregister:ue,getFieldState:J,handleSubmit:D,setError:B,_subscribe:H,_runSchema:N,_focusError:Y,_getWatch:T,_getDirty:O,_setValid:p,_setFieldArray:y,_setDisabledField:ye,_setErrors:_,_getFieldArray:U,_reset:be,_resetDefaultValues:()=>yo(t.defaultValues)&&t.defaultValues().then(ae=>{ve(ae,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:L,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(ae){o=ae},get _defaultValues(){return a},get _names(){return l},set _names(ae){l=ae},get _formState(){return r},get _options(){return t},set _options(ae){t={...t,...ae}}},subscribe:ee,trigger:I,register:ie,handleSubmit:D,watch:G,setValue:z,getValues:q,reset:ve,resetField:se,clearErrors:A,unregister:ue,setError:B,setFocus:ke,getFieldState:J};return{...dt,formControl:dt}}function JWe(e={}){const t=ce.useRef(void 0),r=ce.useRef(void 0),[n,a]=ce.useState({isDirty:!1,isValidating:!1,isLoading:yo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:yo(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!yo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=QWe(e);t.current={...l,formState:n}}const s=t.current.control;return s._options=e,yO(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),ce.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),ce.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),ce.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),ce.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),ce.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),ce.useEffect(()=>{e.values&&!Gl(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,a(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),ce.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=AY(n,s),t.current}const Q5=(e,t,r)=>{if(e&&"reportValidity"in e){const n=nt(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},$Y=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Q5(n.ref,r,e):n.refs&&n.refs.forEach(a=>Q5(a,r,e))}},ZWe=(e,t)=>{t.shouldUseNativeValidation&&$Y(e,t);const r={};for(const n in e){const a=nt(t.fields,n),s=Object.assign(e[n]||{},{ref:a&&a.ref});if(eHe(t.names||Object.keys(e),n)){const o=Object.assign({},nt(r,n));vr(o,"root",s),vr(r,n,o)}else vr(r,n,s)}return r},eHe=(e,t)=>e.some(r=>r.startsWith(t+"."));var tHe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=OY(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},rHe=function(e,t,r){return r===void 0&&(r={}),function(n,a,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&$Y({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:ZWe(tHe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},ir;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of s)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},e.find=(a,s)=>{for(const o of a)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(ir||(ir={}));var J5;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(J5||(J5={}));const xt=ir.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wc=e=>{switch(typeof e){case"undefined":return xt.undefined;case"string":return xt.string;case"number":return Number.isNaN(e)?xt.nan:xt.number;case"boolean":return xt.boolean;case"function":return xt.function;case"bigint":return xt.bigint;case"symbol":return xt.symbol;case"object":return Array.isArray(e)?xt.array:e===null?xt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?xt.promise:typeof Map<"u"&&e instanceof Map?xt.map:typeof Set<"u"&&e instanceof Set?xt.set:typeof Date<"u"&&e instanceof Date?xt.date:xt.object;default:return xt.unknown}},Xe=ir.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class wc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof wc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ir.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];r[s]=r[s]||[],r[s].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}wc.create=e=>new wc(e);const lE=(e,t)=>{let r;switch(e.code){case Xe.invalid_type:e.received===xt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Xe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ir.jsonStringifyReplacer)}`;break;case Xe.unrecognized_keys:r=`Unrecognized key(s) in object: ${ir.joinValues(e.keys,", ")}`;break;case Xe.invalid_union:r="Invalid input";break;case Xe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ir.joinValues(e.options)}`;break;case Xe.invalid_enum_value:r=`Invalid enum value. Expected ${ir.joinValues(e.options)}, received '${e.received}'`;break;case Xe.invalid_arguments:r="Invalid function arguments";break;case Xe.invalid_return_type:r="Invalid function return type";break;case Xe.invalid_date:r="Invalid date";break;case Xe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ir.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Xe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Xe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Xe.custom:r="Invalid input";break;case Xe.invalid_intersection_types:r="Intersection results could not be merged";break;case Xe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Xe.not_finite:r="Number must be finite";break;default:r=t.defaultError,ir.assertNever(e)}return{message:r}};let nHe=lE;function aHe(){return nHe}const sHe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],o={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:s,message:l}};function it(e,t){const r=aHe(),n=sHe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===lE?void 0:lE].filter(a=>!!a)});e.common.issues.push(n)}class hi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Dt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const s=await a.key,o=await a.value;n.push({key:s,value:o})}return hi.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return Dt;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const Dt=Object.freeze({status:"aborted"}),R0=e=>({status:"dirty",value:e}),Xi=e=>({status:"valid",value:e}),Z5=e=>e.status==="aborted",e$=e=>e.status==="dirty",ep=e=>e.status==="valid",x_=e=>typeof Promise<"u"&&e instanceof Promise;var bt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(bt||(bt={}));class Lu{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const t$=(e,t)=>{if(ep(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new wc(e.common.issues);return this._error=r,this._error}}};function zt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class sr{get description(){return this._def.description}_getType(t){return Wc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Wc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new hi,ctx:{common:t.parent.common,data:t.data,parsedType:Wc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(x_(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Wc(t)},a=this._parseSync({data:t,path:n.path,parent:n});return t$(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Wc(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return ep(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(a=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>ep(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Wc(t)},a=this._parse({data:t,path:n.path,parent:n}),s=await(x_(a)?a:Promise.resolve(a));return t$(n,s)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const o=t(a),l=()=>s.addIssue({code:Xe.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new np({schema:this,typeName:Rt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Eu.create(this,this._def)}nullable(){return ap.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return pl.create(this)}promise(){return w_.create(this,this._def)}or(t){return b_.create([this,t],this._def)}and(t){return __.create(this,t,this._def)}transform(t){return new np({...zt(this._def),schema:this,typeName:Rt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new uE({...zt(this._def),innerType:this,defaultValue:r,typeName:Rt.ZodDefault})}brand(){return new EHe({typeName:Rt.ZodBranded,type:this,...zt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new dE({...zt(this._def),innerType:this,catchValue:r,typeName:Rt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return wO.create(this,t)}readonly(){return fE.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const iHe=/^c[^\s-]{8,}$/i,oHe=/^[0-9a-z]+$/,lHe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,cHe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,uHe=/^[a-z0-9_-]{21}$/i,dHe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,fHe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,hHe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,mHe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let TN;const pHe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,gHe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,vHe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,xHe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yHe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,bHe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,BY="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_He=new RegExp(`^${BY}$`);function UY(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function wHe(e){return new RegExp(`^${UY(e)}$`)}function jHe(e){let t=`${BY}T${UY(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function SHe(e,t){return!!((t==="v4"||!t)&&pHe.test(e)||(t==="v6"||!t)&&vHe.test(e))}function NHe(e,t){if(!dHe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function kHe(e,t){return!!((t==="v4"||!t)&&gHe.test(e)||(t==="v6"||!t)&&xHe.test(e))}class mu extends sr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==xt.string){const s=this._getOrReturnCtx(t);return it(s,{code:Xe.invalid_type,expected:xt.string,received:s.parsedType}),Dt}const n=new hi;let a;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(a=this._getOrReturnCtx(t,a),it(a,{code:Xe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(a=this._getOrReturnCtx(t,a),it(a,{code:Xe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?it(a,{code:Xe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&it(a,{code:Xe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")hHe.test(t.data)||(a=this._getOrReturnCtx(t,a),it(a,{validation:"email",code:Xe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")TN||(TN=new RegExp(mHe,"u")),TN.test(t.data)||(a=this._getOrReturnCtx(t,a),it(a,{validation:"emoji",code:Xe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")cHe.test(t.data)||(a=this._getOrReturnCtx(t,a),it(a,{validation:"uuid",code:Xe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")uHe.test(t.data)||(a=this._getOrReturnCtx(t,a),it(a,{validation:"nanoid",code:Xe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")iHe.test(t.data)||(a=this._getOrReturnCtx(t,a),it(a,{validation:"cuid",code:Xe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")oHe.test(t.data)||(a=this._getOrReturnCtx(t,a),it(a,{validation:"cuid2",code:Xe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")lHe.test(t.data)||(a=this._getOrReturnCtx(t,a),it(a,{validation:"ulid",code:Xe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),it(a,{validation:"url",code:Xe.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),it(a,{validation:"regex",code:Xe.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(t,a),it(a,{code:Xe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(a=this._getOrReturnCtx(t,a),it(a,{code:Xe.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(a=this._getOrReturnCtx(t,a),it(a,{code:Xe.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?jHe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),it(a,{code:Xe.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?_He.test(t.data)||(a=this._getOrReturnCtx(t,a),it(a,{code:Xe.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?wHe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),it(a,{code:Xe.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?fHe.test(t.data)||(a=this._getOrReturnCtx(t,a),it(a,{validation:"duration",code:Xe.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?SHe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),it(a,{validation:"ip",code:Xe.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?NHe(t.data,s.alg)||(a=this._getOrReturnCtx(t,a),it(a,{validation:"jwt",code:Xe.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?kHe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),it(a,{validation:"cidr",code:Xe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?yHe.test(t.data)||(a=this._getOrReturnCtx(t,a),it(a,{validation:"base64",code:Xe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?bHe.test(t.data)||(a=this._getOrReturnCtx(t,a),it(a,{validation:"base64url",code:Xe.invalid_string,message:s.message}),n.dirty()):ir.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Xe.invalid_string,...bt.errToObj(n)})}_addCheck(t){return new mu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...bt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...bt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...bt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...bt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...bt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...bt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...bt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...bt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...bt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...bt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...bt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...bt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...bt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...bt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...bt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...bt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...bt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...bt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...bt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...bt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...bt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...bt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...bt.errToObj(r)})}nonempty(t){return this.min(1,bt.errToObj(t))}trim(){return new mu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new mu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new mu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}mu.create=e=>new mu({checks:[],typeName:Rt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...zt(e)});function CHe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,s=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return s%o/10**a}class tp extends sr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==xt.number){const s=this._getOrReturnCtx(t);return it(s,{code:Xe.invalid_type,expected:xt.number,received:s.parsedType}),Dt}let n;const a=new hi;for(const s of this._def.checks)s.kind==="int"?ir.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),it(n,{code:Xe.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Xe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Xe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?CHe(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),it(n,{code:Xe.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),it(n,{code:Xe.not_finite,message:s.message}),a.dirty()):ir.assertNever(s);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,bt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,bt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,bt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,bt.toString(r))}setLimit(t,r,n,a){return new tp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:bt.toString(a)}]})}_addCheck(t){return new tp({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:bt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:bt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:bt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:bt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:bt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:bt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:bt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:bt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:bt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ir.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}tp.create=e=>new tp({checks:[],typeName:Rt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...zt(e)});class Ov extends sr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==xt.bigint)return this._getInvalidInput(t);let n;const a=new hi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Xe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Xe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Xe.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):ir.assertNever(s);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return it(r,{code:Xe.invalid_type,expected:xt.bigint,received:r.parsedType}),Dt}gte(t,r){return this.setLimit("min",t,!0,bt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,bt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,bt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,bt.toString(r))}setLimit(t,r,n,a){return new Ov({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:bt.toString(a)}]})}_addCheck(t){return new Ov({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:bt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:bt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:bt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:bt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:bt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ov.create=e=>new Ov({checks:[],typeName:Rt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...zt(e)});class r$ extends sr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==xt.boolean){const n=this._getOrReturnCtx(t);return it(n,{code:Xe.invalid_type,expected:xt.boolean,received:n.parsedType}),Dt}return Xi(t.data)}}r$.create=e=>new r$({typeName:Rt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...zt(e)});class y_ extends sr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==xt.date){const s=this._getOrReturnCtx(t);return it(s,{code:Xe.invalid_type,expected:xt.date,received:s.parsedType}),Dt}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return it(s,{code:Xe.invalid_date}),Dt}const n=new hi;let a;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(a=this._getOrReturnCtx(t,a),it(a,{code:Xe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(a=this._getOrReturnCtx(t,a),it(a,{code:Xe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):ir.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new y_({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:bt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:bt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}y_.create=e=>new y_({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Rt.ZodDate,...zt(e)});class n$ extends sr{_parse(t){if(this._getType(t)!==xt.symbol){const n=this._getOrReturnCtx(t);return it(n,{code:Xe.invalid_type,expected:xt.symbol,received:n.parsedType}),Dt}return Xi(t.data)}}n$.create=e=>new n$({typeName:Rt.ZodSymbol,...zt(e)});class a$ extends sr{_parse(t){if(this._getType(t)!==xt.undefined){const n=this._getOrReturnCtx(t);return it(n,{code:Xe.invalid_type,expected:xt.undefined,received:n.parsedType}),Dt}return Xi(t.data)}}a$.create=e=>new a$({typeName:Rt.ZodUndefined,...zt(e)});class s$ extends sr{_parse(t){if(this._getType(t)!==xt.null){const n=this._getOrReturnCtx(t);return it(n,{code:Xe.invalid_type,expected:xt.null,received:n.parsedType}),Dt}return Xi(t.data)}}s$.create=e=>new s$({typeName:Rt.ZodNull,...zt(e)});class i$ extends sr{constructor(){super(...arguments),this._any=!0}_parse(t){return Xi(t.data)}}i$.create=e=>new i$({typeName:Rt.ZodAny,...zt(e)});class o$ extends sr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Xi(t.data)}}o$.create=e=>new o$({typeName:Rt.ZodUnknown,...zt(e)});class $u extends sr{_parse(t){const r=this._getOrReturnCtx(t);return it(r,{code:Xe.invalid_type,expected:xt.never,received:r.parsedType}),Dt}}$u.create=e=>new $u({typeName:Rt.ZodNever,...zt(e)});class l$ extends sr{_parse(t){if(this._getType(t)!==xt.undefined){const n=this._getOrReturnCtx(t);return it(n,{code:Xe.invalid_type,expected:xt.void,received:n.parsedType}),Dt}return Xi(t.data)}}l$.create=e=>new l$({typeName:Rt.ZodVoid,...zt(e)});class pl extends sr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==xt.array)return it(r,{code:Xe.invalid_type,expected:xt.array,received:r.parsedType}),Dt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(it(r,{code:o?Xe.too_big:Xe.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(it(r,{code:Xe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(it(r,{code:Xe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Lu(r,o,r.path,l)))).then(o=>hi.mergeArray(n,o));const s=[...r.data].map((o,l)=>a.type._parseSync(new Lu(r,o,r.path,l)));return hi.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new pl({...this._def,minLength:{value:t,message:bt.toString(r)}})}max(t,r){return new pl({...this._def,maxLength:{value:t,message:bt.toString(r)}})}length(t,r){return new pl({...this._def,exactLength:{value:t,message:bt.toString(r)}})}nonempty(t){return this.min(1,t)}}pl.create=(e,t)=>new pl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Rt.ZodArray,...zt(t)});function ah(e){if(e instanceof Qr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Eu.create(ah(n))}return new Qr({...e._def,shape:()=>t})}else return e instanceof pl?new pl({...e._def,type:ah(e.element)}):e instanceof Eu?Eu.create(ah(e.unwrap())):e instanceof ap?ap.create(ah(e.unwrap())):e instanceof bf?bf.create(e.items.map(t=>ah(t))):e}class Qr extends sr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ir.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==xt.object){const u=this._getOrReturnCtx(t);return it(u,{code:Xe.invalid_type,expected:xt.object,received:u.parsedType}),Dt}const{status:n,ctx:a}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof $u&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=s[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Lu(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof $u){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(it(a,{code:Xe.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Lu(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>hi.mergeObjectSync(n,u)):hi.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return bt.errToObj,new Qr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,o;const a=((o=(s=this._def).errorMap)==null?void 0:o.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:bt.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Qr({...this._def,unknownKeys:"strip"})}passthrough(){return new Qr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Qr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Qr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Rt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Qr({...this._def,catchall:t})}pick(t){const r={};for(const n of ir.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Qr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of ir.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Qr({...this._def,shape:()=>r})}deepPartial(){return ah(this)}partial(t){const r={};for(const n of ir.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Qr({...this._def,shape:()=>r})}required(t){const r={};for(const n of ir.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Eu;)s=s._def.innerType;r[n]=s}return new Qr({...this._def,shape:()=>r})}keyof(){return zY(ir.objectKeys(this.shape))}}Qr.create=(e,t)=>new Qr({shape:()=>e,unknownKeys:"strip",catchall:$u.create(),typeName:Rt.ZodObject,...zt(t)});Qr.strictCreate=(e,t)=>new Qr({shape:()=>e,unknownKeys:"strict",catchall:$u.create(),typeName:Rt.ZodObject,...zt(t)});Qr.lazycreate=(e,t)=>new Qr({shape:e,unknownKeys:"strip",catchall:$u.create(),typeName:Rt.ZodObject,...zt(t)});class b_ extends sr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new wc(l.ctx.common.issues));return it(r,{code:Xe.invalid_union,unionErrors:o}),Dt}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new wc(c));return it(r,{code:Xe.invalid_union,unionErrors:l}),Dt}}get options(){return this._def.options}}b_.create=(e,t)=>new b_({options:e,typeName:Rt.ZodUnion,...zt(t)});function cE(e,t){const r=Wc(e),n=Wc(t);if(e===t)return{valid:!0,data:e};if(r===xt.object&&n===xt.object){const a=ir.objectKeys(t),s=ir.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=cE(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===xt.array&&n===xt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=cE(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===xt.date&&n===xt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class __ extends sr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(s,o)=>{if(Z5(s)||Z5(o))return Dt;const l=cE(s.value,o.value);return l.valid?((e$(s)||e$(o))&&r.dirty(),{status:r.value,value:l.data}):(it(n,{code:Xe.invalid_intersection_types}),Dt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}__.create=(e,t,r)=>new __({left:e,right:t,typeName:Rt.ZodIntersection,...zt(r)});class bf extends sr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==xt.array)return it(n,{code:Xe.invalid_type,expected:xt.array,received:n.parsedType}),Dt;if(n.data.length<this._def.items.length)return it(n,{code:Xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Dt;!this._def.rest&&n.data.length>this._def.items.length&&(it(n,{code:Xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Lu(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>hi.mergeArray(r,o)):hi.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new bf({...this._def,rest:t})}}bf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new bf({items:e,typeName:Rt.ZodTuple,rest:null,...zt(t)})};class c$ extends sr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==xt.map)return it(n,{code:Xe.invalid_type,expected:xt.map,received:n.parsedType}),Dt;const a=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Lu(n,l,n.path,[u,"key"])),value:s._parse(new Lu(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Dt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Dt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}c$.create=(e,t,r)=>new c$({valueType:t,keyType:e,typeName:Rt.ZodMap,...zt(r)});class Dv extends sr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==xt.set)return it(n,{code:Xe.invalid_type,expected:xt.set,received:n.parsedType}),Dt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(it(n,{code:Xe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(it(n,{code:Xe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Dt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new Lu(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Dv({...this._def,minSize:{value:t,message:bt.toString(r)}})}max(t,r){return new Dv({...this._def,maxSize:{value:t,message:bt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Dv.create=(e,t)=>new Dv({valueType:e,minSize:null,maxSize:null,typeName:Rt.ZodSet,...zt(t)});class u$ extends sr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}u$.create=(e,t)=>new u$({getter:e,typeName:Rt.ZodLazy,...zt(t)});class d$ extends sr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return it(r,{received:r.data,code:Xe.invalid_literal,expected:this._def.value}),Dt}return{status:"valid",value:t.data}}get value(){return this._def.value}}d$.create=(e,t)=>new d$({value:e,typeName:Rt.ZodLiteral,...zt(t)});function zY(e,t){return new rp({values:e,typeName:Rt.ZodEnum,...zt(t)})}class rp extends sr{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return it(r,{expected:ir.joinValues(n),received:r.parsedType,code:Xe.invalid_type}),Dt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return it(r,{received:r.data,code:Xe.invalid_enum_value,options:n}),Dt}return Xi(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return rp.create(t,{...this._def,...r})}exclude(t,r=this._def){return rp.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}rp.create=zY;class f$ extends sr{_parse(t){const r=ir.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==xt.string&&n.parsedType!==xt.number){const a=ir.objectValues(r);return it(n,{expected:ir.joinValues(a),received:n.parsedType,code:Xe.invalid_type}),Dt}if(this._cache||(this._cache=new Set(ir.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=ir.objectValues(r);return it(n,{received:n.data,code:Xe.invalid_enum_value,options:a}),Dt}return Xi(t.data)}get enum(){return this._def.values}}f$.create=(e,t)=>new f$({values:e,typeName:Rt.ZodNativeEnum,...zt(t)});class w_ extends sr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==xt.promise&&r.common.async===!1)return it(r,{code:Xe.invalid_type,expected:xt.promise,received:r.parsedType}),Dt;const n=r.parsedType===xt.promise?r.data:Promise.resolve(r.data);return Xi(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}w_.create=(e,t)=>new w_({type:e,typeName:Rt.ZodPromise,...zt(t)});class np extends sr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,s={addIssue:o=>{it(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const o=a.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Dt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Dt:c.status==="dirty"||r.value==="dirty"?R0(c.value):c});{if(r.value==="aborted")return Dt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Dt:l.status==="dirty"||r.value==="dirty"?R0(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Dt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Dt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ep(o))return Dt;const l=a.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ep(o)?Promise.resolve(a.transform(o.value,s)).then(l=>({status:r.value,value:l})):Dt);ir.assertNever(a)}}np.create=(e,t,r)=>new np({schema:e,typeName:Rt.ZodEffects,effect:t,...zt(r)});np.createWithPreprocess=(e,t,r)=>new np({schema:t,effect:{type:"preprocess",transform:e},typeName:Rt.ZodEffects,...zt(r)});class Eu extends sr{_parse(t){return this._getType(t)===xt.undefined?Xi(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Eu.create=(e,t)=>new Eu({innerType:e,typeName:Rt.ZodOptional,...zt(t)});class ap extends sr{_parse(t){return this._getType(t)===xt.null?Xi(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ap.create=(e,t)=>new ap({innerType:e,typeName:Rt.ZodNullable,...zt(t)});class uE extends sr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===xt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}uE.create=(e,t)=>new uE({innerType:e,typeName:Rt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...zt(t)});class dE extends sr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return x_(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new wc(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new wc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}dE.create=(e,t)=>new dE({innerType:e,typeName:Rt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...zt(t)});class h$ extends sr{_parse(t){if(this._getType(t)!==xt.nan){const n=this._getOrReturnCtx(t);return it(n,{code:Xe.invalid_type,expected:xt.nan,received:n.parsedType}),Dt}return{status:"valid",value:t.data}}}h$.create=e=>new h$({typeName:Rt.ZodNaN,...zt(e)});class EHe extends sr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class wO extends sr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Dt:s.status==="dirty"?(r.dirty(),R0(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Dt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new wO({in:t,out:r,typeName:Rt.ZodPipeline})}}class fE extends sr{_parse(t){const r=this._def.innerType._parse(t),n=a=>(ep(a)&&(a.value=Object.freeze(a.value)),a);return x_(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}fE.create=(e,t)=>new fE({innerType:e,typeName:Rt.ZodReadonly,...zt(t)});Qr.lazycreate;var Rt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Rt||(Rt={}));const Dy=mu.create,THe=tp.create;$u.create;pl.create;const AHe=Qr.create;Qr.strictCreate;b_.create;__.create;bf.create;rp.create;w_.create;Eu.create;ap.create;const PHe=RWe,VY=x.createContext({}),_0=({...e})=>i.jsx(VY.Provider,{value:{name:e.name},children:i.jsx(LWe,{...e})}),jj=()=>{const e=x.useContext(VY),t=x.useContext(WY),{getFieldState:r,formState:n}=wj(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...a}},WY=x.createContext({}),sh=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return i.jsx(WY.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:Ne("space-y-2",e),...t})})});sh.displayName="FormItem";const ih=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=jj();return i.jsx(Ue,{ref:r,className:Ne(n&&"text-destructive",e),htmlFor:a,...t})});ih.displayName="FormLabel";const oh=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:s}=jj();return i.jsx(WB,{ref:t,id:n,"aria-describedby":r?`${a} ${s}`:`${a}`,"aria-invalid":!!r,...e})});oh.displayName="FormControl";const OHe=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=jj();return i.jsx("p",{ref:r,id:n,className:Ne("text-sm text-muted-foreground",e),...t})});OHe.displayName="FormDescription";const lh=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:s}=jj(),o=a?String(a==null?void 0:a.message):t;return o?i.jsx("p",{ref:n,id:s,className:Ne("text-sm font-medium text-destructive",e),...r,children:o}):null});lh.displayName="FormMessage";const DHe=AHe({request_title:Dy().min(1,"Title is required"),request_description:Dy().optional(),request_type:Dy().optional(),priority:THe().optional(),status:Dy().optional()});function RHe({open:e,onOpenChange:t,onSubmit:r,initialData:n}){const{t:a}=Pt(),{isRTL:s}=ar(),{user:o}=dr(),l=(o==null?void 0:o.role)==="admin"||(o==null?void 0:o.role)==="manager",c=JWe({resolver:rHe(DHe),defaultValues:{request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"}});x.useEffect(()=>{n?c.reset({request_title:n.request_title,request_description:n.request_description||"",request_type:n.request_type||"internal_task",priority:n.priority||1,status:n.status||"pending"}):c.reset({request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"})},[n,c,e]);const u=async d=>{await r(d),t(!1),c.reset()};return i.jsx(Oo,{open:e,onOpenChange:t,children:i.jsxs(Vi,{side:s?"left":"right",className:"sm:max-w-md overflow-y-auto",children:[i.jsx(yl,{children:i.jsx(Do,{children:a(n?"requests.editRequest":"requests.createRequest")})}),i.jsx("div",{className:"py-4",children:i.jsx(PHe,{...c,children:i.jsxs("form",{onSubmit:c.handleSubmit(u),className:"space-y-4",children:[i.jsx(_0,{control:c.control,name:"request_title",render:({field:d})=>i.jsxs(sh,{children:[i.jsx(ih,{children:a("requests.title")}),i.jsx(oh,{children:i.jsx(ze,{placeholder:a("requests.titlePlaceholder"),...d})}),i.jsx(lh,{})]})}),i.jsx(_0,{control:c.control,name:"request_description",render:({field:d})=>i.jsxs(sh,{children:[i.jsx(ih,{children:a("requests.description")}),i.jsx(oh,{children:i.jsx(an,{placeholder:a("requests.descriptionPlaceholder"),className:"resize-none min-h-[100px]",...d})}),i.jsx(lh,{})]})}),l&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(_0,{control:c.control,name:"request_type",render:({field:d})=>i.jsxs(sh,{children:[i.jsx(ih,{children:a("requests.type")}),i.jsxs(ct,{onValueChange:d.onChange,defaultValue:d.value,value:d.value,children:[i.jsx(oh,{children:i.jsx(ot,{children:i.jsx(ut,{placeholder:"Select type"})})}),i.jsxs(lt,{children:[i.jsx(je,{value:"internal_task",children:a("requests.types.internalTask")}),i.jsx(je,{value:"support",children:a("requests.types.support")}),i.jsx(je,{value:"feature",children:a("requests.types.feature")})]})]}),i.jsx(lh,{})]})}),i.jsx(_0,{control:c.control,name:"priority",render:({field:d})=>{var f,h;return i.jsxs(sh,{children:[i.jsx(ih,{children:a("requests.priority")}),i.jsxs(ct,{onValueChange:m=>d.onChange(parseInt(m)),defaultValue:(f=d.value)==null?void 0:f.toString(),value:(h=d.value)==null?void 0:h.toString(),children:[i.jsx(oh,{children:i.jsx(ot,{children:i.jsx(ut,{placeholder:"Select priority"})})}),i.jsxs(lt,{children:[i.jsx(je,{value:"0",children:a("requests.priorities.low")}),i.jsx(je,{value:"1",children:a("requests.priorities.medium")}),i.jsx(je,{value:"2",children:a("requests.priorities.high")})]})]}),i.jsx(lh,{})]})}})]}),i.jsx(_0,{control:c.control,name:"status",render:({field:d})=>i.jsxs(sh,{children:[i.jsx(ih,{children:a("requests.status")}),i.jsxs(ct,{onValueChange:d.onChange,defaultValue:d.value,value:d.value,children:[i.jsx(oh,{children:i.jsx(ot,{children:i.jsx(ut,{placeholder:"Select status"})})}),i.jsxs(lt,{children:[i.jsx(je,{value:"pending",children:a("status.pending")}),i.jsx(je,{value:"in_progress",children:a("status.in_progress")}),i.jsx(je,{value:"completed",children:a("status.completed")}),i.jsx(je,{value:"approved",children:a("status.approved")}),i.jsx(je,{value:"rejected",children:a("status.rejected")})]})]}),i.jsx(lh,{})]})})]}),i.jsx("div",{className:"flex justify-end pt-4 gap-2",children:i.jsx(fe,{type:"submit",children:a(n?"common.save":"common.create")})})]})})})]})})}function FHe(){const{t:e}=Pt(),{toast:t}=gi(),{user:r}=dr();Br();const{isRTL:n}=ar(),[a,s]=x.useState([]),[o,l]=x.useState(!0),[c,u]=x.useState(""),[d,f]=x.useState(!1),[h,m]=x.useState(null),[g,p]=x.useState(null),[v,y]=x.useState([]),[b,_]=x.useState("all"),[j,w]=x.useState("all"),[S,N]=x.useState(1),C=10,k=async()=>{try{l(!0);const A=await x0.getRequests();s(A)}catch(A){console.error("Failed to fetch requests:",A),t({title:e("common.error"),description:"Failed to load requests",variant:"destructive"})}finally{l(!1)}};x.useEffect(()=>{k()},[]);const E=()=>{m(null),f(!0)},O=A=>{m(A),f(!0)},T=async()=>{if(g)try{await x0.deleteRequest(g),t({title:e("common.success"),description:e("requests.deleteSuccess")}),k()}catch(A){console.error("Failed to delete request:",A),t({title:e("common.error"),description:"Failed to delete request",variant:"destructive"})}finally{p(null)}},U=async A=>{try{if(!(r!=null&&r.id)){t({title:"Error",description:"You must be logged in to perform this action",variant:"destructive"});return}h?(await x0.updateRequest(h.request_id,A),t({title:e("common.success"),description:e("requests.updateSuccess")})):(await x0.createRequest({...A,requested_by_auth:r.id,related_entity_id:null,related_entity_type:null,metadata:{},assigned_to:null}),t({title:e("common.success"),description:e("requests.createSuccess")})),k()}catch(B){console.error("Failed to save request:",B),t({title:e("common.error"),description:"Failed to save request",variant:"destructive"})}},W=a.filter(A=>{var ee;const B=A.request_title.toLowerCase().includes(c.toLowerCase()),G=b==="all"||A.status===b,H=j==="all"||((ee=A.priority)==null?void 0:ee.toString())===j;return B&&G&&H}),R=Math.ceil(W.length/C),z=(S-1)*C,P=z+C,M=W.slice(z,P),I=A=>{switch(A){case"completed":case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"pending":default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"}},q=A=>{switch(A){case 2:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case 1:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case 0:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},J=A=>{switch(A){case 2:return e("requests.priorities.high");case 1:return e("requests.priorities.medium");case 0:return e("requests.priorities.low");default:return e("requests.priorities.medium")}};return i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:n?"rtl":"ltr",children:[i.jsx(Op,{title:e("requests.title"),description:e("requests.subtitle"),icon:i.jsx(bn,{className:"h-5 w-5 text-primary"}),actions:i.jsxs(fe,{onClick:E,children:[i.jsx(Ut,{className:"mr-2 h-4 w-4"}),e("requests.createRequest")]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(ze,{placeholder:e("requests.searchPlaceholder"),className:"pl-10 h-9",value:c,onChange:A=>u(A.target.value)})]}),i.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[i.jsxs(ct,{value:j,onValueChange:w,children:[i.jsx(ot,{className:"w-[130px] h-9",children:i.jsx(ut,{placeholder:e("requests.priority")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"all",children:e("common.all")}),i.jsx(je,{value:"0",children:e("requests.priorities.low")}),i.jsx(je,{value:"1",children:e("requests.priorities.medium")}),i.jsx(je,{value:"2",children:e("requests.priorities.high")})]})]}),i.jsxs(ct,{value:b,onValueChange:_,children:[i.jsx(ot,{className:"w-[130px] h-9",children:i.jsx(ut,{placeholder:e("requests.status")})}),i.jsxs(lt,{children:[i.jsx(je,{value:"all",children:e("common.all")}),i.jsx(je,{value:"pending",children:e("status.pending")}),i.jsx(je,{value:"approved",children:e("status.approved")}),i.jsx(je,{value:"rejected",children:e("status.rejected")}),i.jsx(je,{value:"in_progress",children:e("status.in_progress")}),i.jsx(je,{value:"completed",children:e("status.completed")})]})]})]})]}),(()=>{const A=[{key:"title",header:e("requests.requestTitle"),render:H=>{var ee;return i.jsx(bc,{title:H.request_title,subtitle:(ee=H.request_type)==null?void 0:ee.replace("_"," ")})}},{key:"priority",header:e("requests.priority"),render:H=>i.jsx(ht,{variant:"outline",className:q(H.priority),children:J(H.priority)})},{key:"status",header:e("requests.status"),render:H=>i.jsx(ht,{variant:"secondary",className:`capitalize ${I(H.status)}`,children:H.status?e(`status.${H.status}`):e("status.pending")})},{key:"created",header:e("requests.createdDate"),hideOnMobile:!0,render:H=>i.jsx(Af,{date:H.created_at})}],B=[{icon:i.jsx(K2,{}),label:e("common.edit"),onClick:O},{icon:i.jsx(Ht,{}),label:e("common.delete"),onClick:H=>p(H.request_id),variant:"destructive"}],G=[{label:e("buttons.delete"),icon:i.jsx(Ht,{className:"h-4 w-4"}),onClick:async H=>{try{await Promise.all(H.map(ee=>x0.deleteRequest(ee.request_id))),t({title:e("common.success"),description:e("requests.deleteSuccess")}),s(ee=>ee.filter(ue=>!H.find(ye=>ye.request_id===ue.request_id))),y([])}catch(ee){console.error("Failed to bulk delete requests:",ee),t({title:e("common.error"),description:e("requests.deleteError"),variant:"destructive"})}}}];return i.jsx(Sl,{data:M,columns:A,actions:B,bulkActions:G,keyExtractor:H=>H.request_id,onRowClick:O,enableBulkSelect:!0})})(),i.jsx(RHe,{open:d,onOpenChange:f,onSubmit:U,initialData:h}),i.jsx(hs,{open:!!g,onOpenChange:A=>!A&&p(null),children:i.jsxs(Aa,{children:[i.jsxs(Pa,{children:[i.jsx(Da,{children:e("common.confirmDelete")}),i.jsx(Ra,{children:e("requests.deleteConfirmation")})]}),i.jsxs(Oa,{children:[i.jsx(Ma,{children:e("common.cancel")}),i.jsx(Fa,{className:"bg-red-500 hover:bg-red-600",onClick:T,children:e("common.delete")})]})]})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:R>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Xm,{children:i.jsxs(Qm,{children:[i.jsx(ja,{children:i.jsx(uu,{onClick:()=>N(Math.max(1,S-1)),className:S===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),i.jsx(ja,{children:i.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",S," ",e("common.of")," ",R]})}),i.jsx(ja,{children:i.jsx(du,{onClick:()=>N(Math.min(R,S+1)),className:S===R?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})})]})}class MHe{constructor(){qp(this,"connections",new Map);qp(this,"reconnectAttempts",new Map);qp(this,"maxReconnectAttempts",5);qp(this,"reconnectDelay",3e3)}getToken(){return localStorage.getItem("authToken")}getCurrentUser(){try{const t=localStorage.getItem("authUser");return t?JSON.parse(t):null}catch{return null}}connect(t,r){const n=this.getToken(),a=this.getCurrentUser();if(!n)throw new Error("No authentication token found");if(!a)throw new Error("No user data found");const s=new URLSearchParams;s.append("token",n),r.filters&&s.append("filters",JSON.stringify(r.filters)),r.father&&s.append("father",r.father);const o=`wss://api.middar.com/api/v1/${t}/ws?${s.toString()}`,l=`${t}_${JSON.stringify(r.filters||{})}`;this.disconnect(l);const c=new WebSocket(o);return this.connections.set(l,c),c.onopen=()=>{var u;console.log(`WebSocket connected to ${t}`),this.reconnectAttempts.set(l,0),(u=r.onConnect)==null||u.call(r)},c.onmessage=u=>{var d,f,h;try{const m=JSON.parse(u.data);if(m.type==="connected"){console.log("WebSocket subscription confirmed:",m);return}if(m.type==="error"){console.error("WebSocket error:",m.message),(d=r.onError)==null||d.call(r,m);return}(f=r.onMessage)==null||f.call(r,m)}catch(m){console.error("Error parsing WebSocket message:",m),(h=r.onError)==null||h.call(r,m)}},c.onerror=u=>{var d;console.error("WebSocket error:",u),(d=r.onError)==null||d.call(r,u)},c.onclose=()=>{var u;console.log(`WebSocket disconnected from ${t}`),this.connections.delete(l),(u=r.onDisconnect)==null||u.call(r),this.attemptReconnect(l,t,r)},c}attemptReconnect(t,r,n){const a=this.reconnectAttempts.get(t)||0;a<this.maxReconnectAttempts?(this.reconnectAttempts.set(t,a+1),setTimeout(()=>{console.log(`Attempting to reconnect to ${r} (attempt ${a+1})`),this.connect(r,n)},this.reconnectDelay*Math.pow(2,a))):console.error(`Max reconnection attempts reached for ${r}`)}disconnect(t){if(t){const r=this.connections.get(t);r&&(r.close(),this.connections.delete(t),this.reconnectAttempts.delete(t))}else this.connections.forEach((r,n)=>{r.close()}),this.connections.clear(),this.reconnectAttempts.clear()}isConnected(t){const r=this.connections.get(t);return(r==null?void 0:r.readyState)===WebSocket.OPEN}sendMessage(t,r){const n=this.connections.get(t);n&&n.readyState===WebSocket.OPEN?n.send(JSON.stringify(r)):console.warn("WebSocket not connected, cannot send message")}getConnections(){return Array.from(this.connections.keys())}getConnectionStatuses(){const t={};return this.connections.forEach((r,n)=>{t[n]=r.readyState===WebSocket.OPEN}),t}}const Ry=new MHe;function m$(e,t){const[r,n]=x.useState(!1),[a,s]=x.useState([]),o=x.useRef(null),l=x.useRef(""),c=x.useRef(t);x.useEffect(()=>{c.current=t},[t]);const u=`${e}_${JSON.stringify(t.filters||{})}`;l.current=u;const d=x.useCallback(b=>{var _,j;s(w=>[...w,b]),(j=(_=c.current).onMessage)==null||j.call(_,b)},[]),f=x.useCallback(b=>{var _,j;console.error("WebSocket hook error:",b),(j=(_=c.current).onError)==null||j.call(_,b)},[]),h=x.useCallback(()=>{n(!0)},[]),m=x.useCallback(()=>{n(!1)},[]),g=x.useCallback(()=>{var b,_;try{o.current=Ry.connect(e,{...c.current,table:e,onConnect:h,onDisconnect:m,onMessage:d,onError:f})}catch(j){console.error("Failed to connect WebSocket:",j),(_=(b=c.current).onError)==null||_.call(b,j)}},[e,d,f,h,m]),p=x.useCallback(()=>{console.log("Manual reconnect triggered"),g()},[g]);x.useEffect(()=>(g(),()=>{Ry.disconnect(u)}),[g]);const v=x.useCallback(b=>{Ry.sendMessage(u,b)},[u]),y=x.useCallback(()=>{Ry.disconnect(u)},[u]);return{isConnected:r,messages:a,sendMessage:v,disconnect:y,connectionKey:u,reconnect:p}}const p$="9",g$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyaWQiOjEsInBlcm1pc3Npb25zIjoidXNlciIsImNvbXBhbnlfY29kZSI6ImNybWRiIiwiY29tcGFueV9pZCI6MjQsImV4cCI6MTc3MDUzNjU0OX0.uYGncrK-4KEZgy_eoJcfNWuRSHs12ju6O41BmrA59GM";function IHe(){Pt();const{isRTL:e}=ar(),{toast:t}=gi();Br();const[r,n]=x.useState([]),[a,s]=x.useState(null),[o,l]=x.useState([]),[c,u]=x.useState(null),[d,f]=x.useState([]),[h,m]=x.useState(""),[g,p]=x.useState(null),[v,y]=x.useState(!0),[b,_]=x.useState(!1),[j,w]=x.useState(null),[S,N]=x.useState(!1),C=x.useRef(null),{isConnected:k,reconnect:E,connectionKey:O}=m$("whatsapp_conversations",{filters:a?{session_id:a.session_id}:void 0,onMessage:Y=>{console.log("New conversation update:",Y),Y.type==="created"?l(L=>L.find(se=>se.id===Y.data.id)?L:[Y.data,...L]):Y.type==="updated"?l(L=>L.map(D=>D.id===Y.data.id?{...D,...Y.data}:D)):Y.type==="deleted"&&(l(L=>L.filter(D=>D.id!==Y.data.id)),(c==null?void 0:c.id)===Y.data.id&&(u(null),f([])))},onError:Y=>{console.error("Conversations WebSocket error:",Y),t({title:"Connection Error",description:"Failed to connect to real-time conversation updates",variant:"destructive"})}}),{isConnected:T,reconnect:U,connectionKey:W}=m$("whatsapp_messages",{filters:a?{session_id:a.session_id}:void 0,onMessage:Y=>{console.log("New message update:",Y),Y.type==="created"?(Y.data.conversation_id===(c==null?void 0:c.id)&&(f(L=>[...L,Y.data]),setTimeout(()=>{C.current&&(C.current.scrollTop=C.current.scrollHeight)},100)),l(L=>L.map(D=>D.id===Y.data.conversation_id?{...D,last_message_at:Y.data.created_at}:D).sort((D,se)=>new Date(se.last_message_at||0).getTime()-new Date(D.last_message_at||0).getTime()))):Y.type==="updated"?f(L=>L.map(D=>D.id===Y.data.id?{...D,...Y.data}:D)):Y.type==="deleted"&&f(L=>L.filter(D=>D.id!==Y.data.id))},onError:Y=>{console.error("Messages WebSocket error:",Y),t({title:"Connection Error",description:"Failed to connect to real-time message updates",variant:"destructive"})}}),R=x.useCallback(async(Y,L={})=>{const D=`https://api.middar.com/api/v1/plugins/${p$}`;console.log(`Calling plugin API: ${D}`,{action:Y,data:L});try{const be=await(await fetch(D,{method:"POST",headers:{Authorization:`Bearer ${g$}`,"Content-Type":"application/json"},body:JSON.stringify({action:Y,...L})})).json();return console.log("Plugin API response:",be),be}catch(se){return console.error("Plugin API error:",se),{success:!1,message:se.message}}},[p$,g$]);x.useEffect(()=>{const Y=localStorage.getItem("whatsapp_sessions");if(Y)try{const L=JSON.parse(Y);console.log("Loading sessions from localStorage:",L),n(L);const D=L.find(se=>se.is_primary);s(D||null),(D==null?void 0:D.state)==="connected"&&I()}catch(L){console.error("Failed to load sessions from localStorage:",L)}},[]),x.useEffect(()=>{setTimeout(async()=>{localStorage.getItem("whatsapp_sessions")?console.log("Using existing sessions from localStorage"):(console.log("No local sessions found, loading from API"),await M()),await z()},100)},[]),x.useEffect(()=>{(a==null?void 0:a.state)==="connected"&&I()},[a]);const z=async()=>{try{const Y=await R("enable_crm");console.log("Global CRM enable result:",Y);for(const L of r){const D=await R("enable_crm",{session_id:L.session_id});console.log(`CRM enable result for session ${L.session_id}:`,D)}Y.success&&(console.log("CRM enabled successfully"),t({title:"CRM Enabled",description:"WhatsApp CRM integration is now active"}))}catch(Y){console.error("Failed to enable CRM:",Y),t({variant:"destructive",title:"CRM Enable Failed",description:"Could not enable CRM functionality"})}};x.useEffect(()=>{console.log("WebSocket Status:",{conversationsConnected:k,messagesConnected:T,activeSession:a==null?void 0:a.session_id,conversationsKey:O,messagesKey:W}),k&&T&&(sessionStorage.getItem("ws_notification_shown")||(t({title:"Real-time Updates Active",description:"WhatsApp conversations and messages will update in real-time"}),sessionStorage.setItem("ws_notification_shown","true")))},[k,T,a,O,W]);const P=(Y,L)=>{n(se=>se.map(be=>be.session_id===Y?{...be,state:L}:be));const D=localStorage.getItem("whatsapp_sessions");if(D)try{const be=JSON.parse(D).map(ve=>ve.session_id===Y?{...ve,state:L}:ve);localStorage.setItem("whatsapp_sessions",JSON.stringify(be))}catch(se){console.error("Failed to update localStorage session state:",se)}};x.useEffect(()=>{r.length>0&&localStorage.setItem("whatsapp_sessions",JSON.stringify(r))},[r]);const M=async()=>{console.log("Loading sessions...");const Y=await R("list_sessions");if(console.log("Sessions result:",Y),Y.success){const L=Y.data||[];console.log("Sessions array from API:",L),console.log("Sessions length from API:",L.length);const D=localStorage.getItem("whatsapp_sessions");let se=[];if(D)try{se=JSON.parse(D)}catch(Ve){console.error("Failed to parse saved sessions:",Ve)}const be=[];se.forEach(Ve=>{const dt=L.find(ae=>ae.session_id===Ve.session_id);dt?Ve.state==="connected"&&dt.state==="inactive"?(console.log(`Preserving connected state for session ${Ve.session_id}, ignoring API inactive state`),be.push({...dt,state:"connected"})):(console.log(`Updating session ${Ve.session_id} state from ${Ve.state} to ${dt.state}`),be.push(dt)):(console.log(`Keeping existing session ${Ve.session_id} not found in API response`),be.push(Ve))}),L.forEach(Ve=>{se.find(dt=>dt.session_id===Ve.session_id)||be.push(Ve)}),console.log("Merged sessions:",be),n(be);const ve=be.find(Ve=>Ve.is_primary),ke=be[0]||null;s(ve||ke);const Se=ve||ke;(Se==null?void 0:Se.state)==="connected"&&I()}else t({variant:"destructive",title:"Error",description:Y.message||"Failed to load sessions"})};x.useEffect(()=>{c&&q(c.id)},[c]);const I=async()=>{if(a)try{const Y=await R("get_conversations",{limit:50,offset:0});Y.success?(l(Y.data||[]),v&&y(!1)):t({variant:"destructive",title:"Error",description:Y.message||"Failed to load conversations"})}catch(Y){console.error(Y),v&&y(!1)}},q=async Y=>{if(a)try{const L=await R("get_conversation_messages",{conversation_id:Y,limit:50,offset:0});L.success&&(f(L.data||[]),setTimeout(()=>ye(),100))}catch(L){console.error(L)}},J=async Y=>{w(Y);const L=await R("connect_session",{session_id:Y});return console.log("Connect session result:",L),L.success?L.needs_qr&&L.qr_code?(p(L.qr_code),A(Y)):L.message==="already connected"?await M():A(Y):t({variant:"destructive",title:"Connection failed",description:L.message||"Failed to connect session"}),w(null),L},A=async(Y,L=40)=>{for(let D=0;D<L;D++){const se=await R("get_status",{session_id:Y});if(console.log(`Status check ${D+1}:`,se),se.success&&se.data){const be=se.data.state||se.data.status;if(console.log("Session state:",be),be==="connected"){p(null),P(Y,"connected"),await M();return}else if(be==="pending_qr"&&se.data.qr_code){p(se.data.qr_code),P(Y,"pending_qr");return}else if(be==="pending_qr")console.log("Still waiting for QR code..."),P(Y,"pending_qr");else if(be==="active"||be==="working"){p(null),P(Y,"connected"),await M();return}else if(be==="inactive"){console.log("Session inactive, attempting to connect..."),P(Y,"inactive");return}else if(be==="error"){console.log("Session error, stopping polling"),p(null),P(Y,"error"),t({variant:"destructive",title:"Connection Error",description:se.data.error_message||"Session encountered an error"});return}}await new Promise(be=>setTimeout(be,3e3))}t({variant:"destructive",title:"Connection timeout",description:"Timeout waiting for QR scan"}),p(null)},B=async Y=>{var L,D,se,be,ve,ke,Se;console.log("Creating session:",Y);try{const Ve=await R("create_session",{display_name:Y,is_primary:!1});if(console.log("Create session result:",Ve),Ve.success){const dt={session_id:((L=Ve.data)==null?void 0:L.session_id)||Date.now(),display_name:((D=Ve.data)==null?void 0:D.display_name)||Y,state:((se=Ve.data)==null?void 0:se.state)||"inactive",is_primary:((be=Ve.data)==null?void 0:be.is_primary)||!1,created_at:((ve=Ve.data)==null?void 0:ve.created_at)||new Date().toISOString(),last_activity:((ke=Ve.data)==null?void 0:ke.last_activity)||new Date().toISOString(),jid:((Se=Ve.data)==null?void 0:Se.jid)||""};console.log("Adding session to state:",dt),n(pe=>[...pe,dt]);const ae=localStorage.getItem("whatsapp_sessions");if(ae)try{const te=[...JSON.parse(ae),dt];localStorage.setItem("whatsapp_sessions",JSON.stringify(te)),console.log("Saved to localStorage")}catch(pe){console.error("Failed to save to localStorage:",pe)}else localStorage.setItem("whatsapp_sessions",JSON.stringify([dt]));t({title:"Session created",description:"New session created successfully (local mode)"})}else if(confirm(`API create failed: ${Ve.message}. Create local session anyway?`)){const dt={session_id:Date.now(),display_name:Y,state:"inactive",is_primary:!1,created_at:new Date().toISOString(),last_activity:new Date().toISOString(),jid:""};n(pe=>[...pe,dt]);const ae=localStorage.getItem("whatsapp_sessions");if(ae)try{const te=[...JSON.parse(ae),dt];localStorage.setItem("whatsapp_sessions",JSON.stringify(te))}catch(pe){console.error("Failed to save to localStorage:",pe)}else localStorage.setItem("whatsapp_sessions",JSON.stringify([dt]));t({title:"Local Session Created",description:"Session created locally (API failed)"})}else t({variant:"destructive",title:"Creation failed",description:Ve.message||"Failed to create session"})}catch(Ve){console.error("Create session error:",Ve),t({variant:"destructive",title:"Creation failed",description:"An error occurred while creating session"})}},G=async Y=>{const L=await R("pause_session",{session_id:Y});L.success?await M():t({variant:"destructive",title:"Pause failed",description:L.message||"Failed to pause session"})},H=async Y=>{const L=await R("resume_session",{session_id:Y});L.success?await M():t({variant:"destructive",title:"Resume failed",description:L.message||"Failed to resume session"})},ee=async Y=>{const L=await R("disconnect_session",{session_id:Y});L.success?(await M(),t({title:"Session Disconnected",description:"Session disconnected successfully"})):t({variant:"destructive",title:"Disconnect failed",description:L.message||"Failed to disconnect session"})},ue=async Y=>{if(confirm("Are you sure you want to delete this session?")){console.log("Deleting session:",Y);try{const L=await R("delete_session",{session_id:Y});if(console.log("Delete result:",L),L.success){const D=localStorage.getItem("whatsapp_sessions");if(D)try{const be=JSON.parse(D).filter(ve=>ve.session_id!==Y);localStorage.setItem("whatsapp_sessions",JSON.stringify(be)),console.log("Removed session from localStorage")}catch(se){console.error("Failed to update localStorage:",se)}n(se=>se.filter(be=>be.session_id!==Y)),t({title:"Session deleted",description:"Session deleted successfully"})}else if(confirm(`API delete failed: ${L.message}. Remove from local list anyway?`)){const D=localStorage.getItem("whatsapp_sessions");if(D)try{const be=JSON.parse(D).filter(ve=>ve.session_id!==Y);localStorage.setItem("whatsapp_sessions",JSON.stringify(be))}catch(se){console.error("Failed to update localStorage:",se)}n(se=>se.filter(be=>be.session_id!==Y)),t({title:"Session removed locally",description:"Session removed from local list (API delete failed)"})}else t({variant:"destructive",title:"Delete failed",description:L.message||"Failed to delete session"})}catch(L){console.error("Delete session error:",L),t({variant:"destructive",title:"Delete failed",description:"An error occurred while deleting session"})}}},ye=()=>{C.current&&(C.current.scrollTop=C.current.scrollHeight)},ie=async Y=>{if(Y==null||Y.preventDefault(),!(!h.trim()||!c||!a)){_(!0);try{const L=await R("send_text",{phone:c.phone,message:h,session_id:a.session_id});if(L.success)m(""),setTimeout(()=>q(c.id),500);else throw new Error(L.message||"Failed to send message")}catch(L){t({variant:"destructive",title:"Error sending message",description:(L==null?void 0:L.message)||"Unknown error"})}finally{_(!1)}}};return i.jsxs("div",{className:"h-full flex flex-1 overflow-hidden bg-background border rounded-lg",dir:e?"rtl":"ltr",children:[i.jsxs("div",{className:"w-80 border-r bg-muted/10 flex flex-col",children:[i.jsxs("div",{className:"p-4 border-b bg-background/50 backdrop-blur",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"font-semibold flex items-center gap-2",children:[i.jsx(Xl,{className:"h-4 w-4"}),"WhatsApp"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>N(!S),className:"flex items-center gap-2",children:[i.jsx(Mg,{className:"h-4 w-4"}),"Sessions"]}),i.jsx(fe,{variant:"ghost",size:"icon",onClick:I,children:i.jsx(wR,{className:"h-4 w-4"})}),a&&i.jsx(i.Fragment,{children:a.state==="connected"?i.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>ee(a.session_id),className:"flex items-center gap-2",children:[i.jsx(Xl,{className:"h-4 w-4 rotate-135"}),"Disconnect"]}):i.jsxs(fe,{variant:"default",size:"sm",onClick:()=>J(a.session_id),disabled:j===a.session_id,className:"flex items-center gap-2",children:[i.jsx(Xl,{className:"h-4 w-4"}),j===a.session_id?"Connecting...":"Connect"]})})]})]}),a&&i.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-lg mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${a.state==="connected"?"bg-green-500":a.state==="pending_qr"?"bg-yellow-500":a.state==="connecting"?"bg-blue-500":a.state==="paused"?"bg-orange-500":"bg-red-500"}`}),i.jsx("span",{className:"text-sm font-medium",children:a.display_name}),a.is_primary&&i.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:"PRIMARY"})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:a.state==="connected"?" Connected":a.state==="pending_qr"?" Waiting QR":a.state==="connecting"?" Connecting":a.state==="paused"?" Paused":" Disconnected"})]}),i.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-lg mb-3",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[k?i.jsx(kR,{className:"h-4 w-4 text-green-500"}):i.jsx(NR,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Conversations"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[T?i.jsx(kR,{className:"h-4 w-4 text-green-500"}):i.jsx(NR,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Messages"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[(!k||!T)&&i.jsx(fe,{variant:"outline",size:"sm",onClick:()=>{k||E(),T||U()},className:"h-6 px-2 text-xs",children:"Reconnect"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:k&&T?" Real-time active":" Real-time disconnected"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(La,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(ze,{placeholder:"Search...",className:"pl-9"})]})]}),i.jsx(ns,{className:"flex-1",children:S?i.jsxs("div",{className:"p-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"font-medium",children:"Session Manager"}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs(fe,{variant:"outline",size:"sm",onClick:M,className:"flex items-center gap-2",children:[i.jsx(wR,{className:"h-4 w-4"}),"Refresh"]}),i.jsx(fe,{variant:"outline",size:"sm",onClick:async()=>{console.log("Check Status clicked"),console.log("Current sessions:",r),console.log("Active session:",a);const Y=a||r[0];if(Y){console.log("Checking status for session:",Y.session_id);const L=await R("get_status",{session_id:Y.session_id});if(console.log("Manual status check:",L),L.success&&L.data){const D=L.data.state||L.data.status;console.log("Current session status:",D),P(Y.session_id,D),t({title:"Status Updated",description:`Session status: ${D}`})}else t({variant:"destructive",title:"Status Check Failed",description:L.message||"Failed to check status"})}else t({variant:"destructive",title:"No Session",description:"No session available to check"})},children:"Check Status"}),i.jsx(fe,{variant:"outline",size:"sm",onClick:z,children:"Enable CRM"}),i.jsx(fe,{variant:"outline",size:"sm",onClick:()=>{confirm("Clear all local sessions? This will remove all sessions from the UI.")&&(localStorage.removeItem("whatsapp_sessions"),n([]),s(null),t({title:"Sessions Cleared",description:"All local sessions have been removed"}))},children:"Clear Local"}),i.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>B("New Session"),className:"flex items-center gap-2",children:[i.jsx(Ut,{className:"h-4 w-4"}),"Create Session"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[r.map(Y=>i.jsxs("div",{className:`p-3 border rounded-lg ${Y.is_primary?"border-primary/20 bg-primary/5":"border-border"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${Y.state==="connected"?"bg-green-500":Y.state==="pending_qr"?"bg-yellow-500":Y.state==="connecting"?"bg-blue-500":Y.state==="paused"?"bg-orange-500":"bg-red-500"}`}),i.jsx("span",{className:"font-medium text-sm",children:Y.display_name}),Y.is_primary&&i.jsx("span",{className:"text-xs bg-primary text-primary-foreground px-2 py-1 rounded",children:"PRIMARY"})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:Y.state==="connected"?"":Y.state==="pending_qr"?"":Y.state==="connecting"?"":Y.state==="paused"?"":Y.state==="disconnected"?"":""})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fe,{size:"sm",variant:"outline",onClick:()=>J(Y.session_id),disabled:Y.state!=="inactive"&&Y.state!=="disconnected"||j===Y.session_id,children:j===Y.session_id?"Connecting...":"Connect"}),Y.state==="connected"&&i.jsx(fe,{size:"sm",variant:"outline",onClick:()=>G(Y.session_id),children:i.jsx(Iae,{className:"h-3 w-3"})}),Y.state==="paused"&&i.jsx(fe,{size:"sm",variant:"outline",onClick:()=>H(Y.session_id),children:i.jsx(Y2,{className:"h-3 w-3"})}),i.jsx(fe,{size:"sm",variant:"outline",onClick:()=>ue(Y.session_id),className:"text-destructive hover:text-destructive",children:i.jsx(Ht,{className:"h-3 w-3"})})]})]},`session-${Y.session_id}-${Y.state}`)),r.length===0&&i.jsx("div",{className:"text-center p-4 text-muted-foreground text-sm",children:"No sessions configured. Create your first session to get started."})]})]}):i.jsxs("div",{className:"flex flex-col gap-1 p-2",children:[o.map(Y=>i.jsxs("button",{onClick:()=>u(Y),className:`flex items-center gap-3 p-3 rounded-lg text-left transition-colors ${(c==null?void 0:c.id)===Y.id?"bg-primary/10 hover:bg-primary/15":"hover:bg-muted"}`,children:[i.jsx(Ls,{children:i.jsx($s,{className:"bg-green-100 text-green-700",children:i.jsx(Mn,{className:"h-4 w-4"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"font-medium truncate",children:Y.phone}),i.jsx("span",{className:"text-xs text-muted-foreground",children:Y.last_message_at&&ds(new Date(Y.last_message_at),"MMM d")})]}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Tap to view messages"})]})]},Y.id)),o.length===0&&!v&&i.jsx("div",{className:"text-center p-8 text-muted-foreground text-sm",children:a?"No conversations yet.":"Connect a session to start messaging."})]})})]}),i.jsx("div",{className:"flex-1 flex flex-col bg-background relative",children:c?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"p-4 border-b flex items-center justify-between bg-background z-10",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ls,{className:"h-10 w-10",children:i.jsx($s,{className:"bg-green-600 text-white",children:"WA"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:c.phone}),i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"WhatsApp Business"]})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-900/50 ltr",ref:C,dir:"ltr",children:d.map(Y=>{const L=Y.direction==="outbound"||Y.direction==="outgoing";return i.jsx("div",{className:`flex ${L?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 shadow-sm ${L?"bg-green-600 text-white rounded-br-none":"bg-white dark:bg-slate-800 border rounded-bl-none"}`,children:[Y.message&&i.jsx("p",{className:"text-sm",children:Y.message}),i.jsx("p",{className:`text-[10px] mt-1 text-right ${L?"text-green-100":"text-muted-foreground"}`,children:Y.created_at?ds(new Date(Y.created_at),"HH:mm"):""})]})},Y.id)})}),i.jsx("div",{className:"p-4 border-t bg-background",children:i.jsxs("form",{onSubmit:ie,className:"flex gap-2",children:[i.jsx(ze,{value:h,onChange:Y=>m(Y.target.value),placeholder:"Type a message...",className:"flex-1",disabled:b}),i.jsx(fe,{type:"submit",size:"icon",disabled:b||!h.trim(),children:i.jsx(Wv,{className:"h-4 w-4"})})]})})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground p-8",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:i.jsx(Xl,{className:"h-8 w-8 text-green-600"})}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:a?"Select a conversation":"No active session"}),i.jsx("p",{className:"max-w-xs text-center text-sm",children:a?"Choose a conversation from the sidebar to start messaging.":"Connect a WhatsApp session to start messaging."})]})}),g&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-background rounded-lg p-6 max-w-sm w-full mx-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(Lae,{className:"h-5 w-5"}),"Scan QR Code"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>p(null),children:""}),i.jsx(fe,{variant:"outline",size:"sm",onClick:async()=>{var L;const Y=await R("get_status",{session_id:a==null?void 0:a.session_id});Y.success&&((L=Y.data)!=null&&L.qr_code)&&p(Y.data.qr_code)},children:"Refresh QR"})]})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("img",{src:g.startsWith("data:image/png;base64,")?g:`data:image/png;base64,${g}`,alt:"WhatsApp QR Code",className:"w-64 h-64 border-2 border-border rounded-lg mb-4"}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("p",{className:"font-medium",children:"Scan with WhatsApp"}),i.jsxs("ol",{className:"text-sm text-left space-y-1 text-muted-foreground",children:[i.jsx("li",{children:"1. Open WhatsApp on your phone"}),i.jsx("li",{children:"2. Tap Settings  Linked Devices"}),i.jsx("li",{children:"3. Tap Link a Device"}),i.jsx("li",{children:"4. Point camera at this QR code"})]})]})]})]})})]})}const AN=[{value:"onboarding",label_en:"Onboarding",label_ar:""},{value:"engagement",label_en:"Engagement",label_ar:""},{value:"promotional",label_en:"Promotional",label_ar:""},{value:"transactional",label_en:"Transactional",label_ar:""},{value:"follow_up",label_en:"Follow-up",label_ar:""},{value:"reminder",label_en:"Reminder",label_ar:""}],v$=[{value:"email",label_en:"Email",label_ar:" ",icon:el},{value:"sms",label_en:"SMS",label_ar:" ",icon:FB},{value:"whatsapp",label_en:"WhatsApp",label_ar:"",icon:vl},{value:"notification",label_en:"Notification",label_ar:"",icon:kT}],LHe=["{{customer_name}}","{{customer_email}}","{{company_name}}","{{assigned_user}}","{{current_date}}","{{current_year}}","{{support_email}}","{{support_phone}}"];function $He(){const{t:e,i18n:t}=Pt(),{currentLanguage:r}=ar(),n=r==="ar";Br();const{user:a}=dr(),{toast:s}=gi(),{breadcrumbs:o,setBreadcrumbs:l}=dp(),[c,u]=x.useState([]),[d,f]=x.useState(!0),[h,m]=x.useState(null),[g,p]=x.useState(""),[v,y]=x.useState(""),[b,_]=x.useState(""),[j,w]=x.useState(""),[S,N]=x.useState(!1),[C,k]=x.useState(null),[E,O]=x.useState(null),[T,U]=x.useState(null),[W,R]=x.useState({template_type:"email",is_active:!0,primary_color:"#3B82F6",secondary_color:"#1E40AF"}),[z,P]=x.useState({}),[M,I]=x.useState(null);x.useEffect(()=>{l([{label:e("navigation.marketingTemplates"),href:"/marketing-templates"}])},[e,l]);const q=async()=>{try{f(!0),m(null);const L=await K.MarketingTemplates.list({limit:1e3,include:["created_by_name","status_en","status_ar","template_type_label_en","template_type_label_ar","template_reference"]});u(L.data||[])}catch(L){console.error("Failed to load templates:",L),m(L.message||"Failed to load templates")}finally{f(!1)}};x.useEffect(()=>{q()},[]);const J=x.useMemo(()=>c.filter(L=>{var ke,Se,Ve,dt;const D=!g||((ke=L.template_name)==null?void 0:ke.toLowerCase().includes(g.toLowerCase()))||((Se=L.template_code)==null?void 0:Se.toLowerCase().includes(g.toLowerCase()))||((Ve=L.subject)==null?void 0:Ve.toLowerCase().includes(g.toLowerCase()))||((dt=L.description)==null?void 0:dt.toLowerCase().includes(g.toLowerCase())),se=!v||L.category===v,be=!b||L.template_type===b,ve=!j||j==="active"&&L.is_active||j==="inactive"&&!L.is_active;return D&&se&&be&&ve}),[c,g,v,b,j]),A=async(L,D)=>{try{await navigator.clipboard.writeText(L),I(D),s({title:e("marketingTemplates.copied"),description:e("marketingTemplates.copiedDescription")}),setTimeout(()=>I(null),2e3)}catch{s({title:e("marketingTemplates.copyFailed"),description:e("marketingTemplates.copyFailedDescription"),variant:"destructive"})}},B=L=>{L?(k(L.template_id),R({...L})):(k(null),R({template_type:"email",is_active:!0,primary_color:"#3B82F6",secondary_color:"#1E40AF"})),P({}),N(!0)},G=()=>{N(!1),k(null),R({template_type:"email",is_active:!0,primary_color:"#3B82F6",secondary_color:"#1E40AF"}),P({})},H=()=>{var D,se,be,ve,ke;const L={};return(D=W.template_name)!=null&&D.trim()||(L.template_name=e("marketingTemplates.validation.nameRequired")),(se=W.template_code)!=null&&se.trim()||(L.template_code=e("marketingTemplates.validation.codeRequired")),W.template_type==="email"&&!((be=W.subject)!=null&&be.trim())&&(L.subject=e("marketingTemplates.validation.subjectRequired")),!((ve=W.html_content)!=null&&ve.trim())&&!((ke=W.text_content)!=null&&ke.trim())&&(L.content=e("marketingTemplates.validation.contentRequired")),P(L),Object.keys(L).length===0},ee=async()=>{if(H())try{const L={...W,created_by:a==null?void 0:a.userid,updated_by:a==null?void 0:a.userid};let D;C?D=await K.MarketingTemplates.update(C,L):D=await K.MarketingTemplates.create(L),D.success?(s({title:e(C?"marketingTemplates.updated":"marketingTemplates.created"),description:e(C?"marketingTemplates.updatedDescription":"marketingTemplates.createdDescription")}),G(),q()):s({title:e("marketingTemplates.saveFailed"),description:D.message||e("marketingTemplates.saveFailedDescription"),variant:"destructive"})}catch(L){s({title:e("marketingTemplates.saveFailed"),description:L.message||e("marketingTemplates.saveFailedDescription"),variant:"destructive"})}},ue=async()=>{if(T)try{const L=await K.MarketingTemplates.delete(T);L.success?(s({title:e("marketingTemplates.deleted"),description:e("marketingTemplates.deletedDescription")}),q()):s({title:e("marketingTemplates.deleteFailed"),description:L.message||e("marketingTemplates.deleteFailedDescription"),variant:"destructive"})}catch(L){s({title:e("marketingTemplates.deleteFailed"),description:L.message||e("marketingTemplates.deleteFailedDescription"),variant:"destructive"})}finally{U(null)}},ye=[{key:"template_info",header:e("marketingTemplates.template"),render:L=>i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsxs("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white font-bold",style:{backgroundColor:L.primary_color||"#3B82F6"},children:[L.template_type==="email"&&i.jsx(el,{className:"w-5 h-5"}),L.template_type==="sms"&&i.jsx(FB,{className:"w-5 h-5"}),L.template_type==="whatsapp"&&i.jsx(vl,{className:"w-5 h-5"}),L.template_type==="notification"&&i.jsx(kT,{className:"w-5 h-5"})]}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"font-medium truncate",children:L.template_name}),i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[i.jsx("span",{children:L.template_reference}),i.jsx("span",{children:""}),i.jsx("span",{children:Te(L||{},"template_type_label")})]})]})]})},{key:"category",header:e("marketingTemplates.category"),render:L=>{const D=AN.find(se=>se.value===L.category);return i.jsx(ht,{variant:"secondary",children:Te(D,"label")||L.category})}},{key:"subject",header:e("marketingTemplates.subject"),render:L=>i.jsx("div",{className:"truncate max-w-[200px]",title:L.subject,children:L.subject||"-"})},{key:"status",header:e("marketingTemplates.status"),render:L=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ht,{variant:L.is_active?"default":"secondary",className:Ne(L.is_active&&"bg-green-100 text-green-700 hover:bg-green-100",!L.is_active&&"bg-gray-100 text-gray-600 hover:bg-gray-100"),children:Te(L||{},"status")}),L.is_default&&i.jsxs(ht,{variant:"outline",className:"text-amber-600 border-amber-600",children:[" ",e("marketingTemplates.default")]}),L.is_system_template&&i.jsx(ht,{variant:"outline",className:"text-blue-600 border-blue-600",children:e("marketingTemplates.system")})]})},{key:"usage",header:e("marketingTemplates.usage"),render:L=>i.jsxs("div",{className:"text-sm",children:[i.jsxs("div",{className:"font-medium",children:[L.usage_count||0," ",e("marketingTemplates.uses")]}),L.last_used_at&&i.jsxs("div",{className:"text-muted-foreground text-xs",children:[e("marketingTemplates.lastUsed"),": ",new Date(L.last_used_at).toLocaleDateString()]})]})}],ie=[{label:e("common.view"),icon:i.jsx(as,{className:"w-4 h-4"}),onClick:L=>O(L)},{label:e("common.copyHTML"),icon:i.jsx(Zx,{className:"w-4 h-4"}),onClick:L=>A(L.html_content||"","html")},{label:e("common.copyText"),icon:i.jsx(bn,{className:"w-4 h-4"}),onClick:L=>A(L.text_content||"","text")},{label:e("common.edit"),icon:i.jsx(Is,{className:"w-4 h-4"}),onClick:L=>B(L),show:L=>!L.is_system_template},{label:e("common.delete"),icon:i.jsx(Ht,{className:"w-4 h-4"}),onClick:L=>U(L.template_id),variant:"destructive",show:L=>!L.is_system_template}],Y=[{label:e("marketingTemplates.copyHTML"),icon:i.jsx(Zx,{className:"w-4 h-4"}),onClick:L=>{const D=L.map(se=>`<!-- ${se.template_name} -->
${se.html_content}`).join(`

`);A(D,"bulk-html")}},{label:e("common.delete"),icon:i.jsx(Ht,{className:"w-4 h-4"}),onClick:async L=>{if(!window.confirm(e("marketingTemplates.confirmBulkDelete",{count:L.length})))return;const D=L.filter(ve=>!ve.is_system_template),be=(await Promise.all(D.map(ve=>K.MarketingTemplates.delete(ve.template_id)))).filter(ve=>ve.success).length;s({title:e("marketingTemplates.bulkDeleteComplete"),description:e("marketingTemplates.bulkDeleteDescription",{count:be})}),q()},variant:"destructive"}];return d?i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx(oa,{})}):h?i.jsx("div",{className:"flex items-center justify-center h-screen p-4",children:i.jsx(Pf,{title:e("marketingTemplates.errorTitle"),message:h,onRetry:q})}):i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx(Op,{title:e("marketingTemplates.title"),description:e("marketingTemplates.description"),actions:i.jsxs(fe,{onClick:()=>B(),children:[i.jsx(Ut,{className:"w-4 h-4 mr-2"}),e("marketingTemplates.createTemplate")]})}),i.jsx("div",{className:"px-4 py-3 border-b bg-muted/30",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(ze,{placeholder:e("marketingTemplates.searchPlaceholder"),value:g,onChange:L=>p(L.target.value),className:"pl-10"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(ct,{value:v,onValueChange:y,children:[i.jsx(ot,{className:"w-[140px]",children:i.jsx(ut,{placeholder:e("marketingTemplates.allCategories")})}),i.jsxs(lt,{children:[i.jsx(je,{value:void 0,children:e("marketingTemplates.allCategories")}),AN.map(L=>i.jsx(je,{value:L.value,children:Te(L,"label")},L.value))]})]}),i.jsxs(ct,{value:b,onValueChange:_,children:[i.jsx(ot,{className:"w-[140px]",children:i.jsx(ut,{placeholder:e("marketingTemplates.allTypes")})}),i.jsxs(lt,{children:[i.jsx(je,{value:void 0,children:e("marketingTemplates.allTypes")}),v$.map(L=>i.jsx(je,{value:L.value,children:Te(L,"label")},L.value))]})]}),i.jsxs(ct,{value:j,onValueChange:w,children:[i.jsx(ot,{className:"w-[140px]",children:i.jsx(ut,{placeholder:e("marketingTemplates.allStatuses")})}),i.jsxs(lt,{children:[i.jsx(je,{value:void 0,children:e("marketingTemplates.allStatuses")}),i.jsx(je,{value:"active",children:e("marketingTemplates.active")}),i.jsx(je,{value:"inactive",children:e("marketingTemplates.inactive")})]})]}),(v||b||j||g)&&i.jsxs(fe,{variant:"ghost",size:"sm",onClick:()=>{y(""),_(""),w(""),p("")},children:[i.jsx(ui,{className:"w-4 h-4 mr-1"}),e("common.clear")]})]})]})}),i.jsx("div",{className:"flex-1 overflow-auto p-4",children:J.length===0?i.jsx($i,{title:e("marketingTemplates.noTemplates"),description:e("marketingTemplates.noTemplatesDescription"),action:i.jsxs(fe,{onClick:()=>B(),children:[i.jsx(Ut,{className:"w-4 h-4 mr-2"}),e("marketingTemplates.createTemplate")]})}):i.jsx(Sl,{data:J,columns:ye,actions:ie,bulkActions:Y,keyExtractor:L=>L.template_id,enableBulkSelect:!0,rtl:n})}),i.jsx(Oo,{open:S,onOpenChange:N,children:i.jsxs(Vi,{className:`w-full sm:max-w-[800px] ${n?"rtl":"ltr"}`,children:[i.jsxs(yl,{children:[i.jsx(Do,{children:e(C?"marketingTemplates.editTemplate":"marketingTemplates.createTemplate")}),i.jsx(Ru,{children:e(C?"marketingTemplates.editDescription":"marketingTemplates.createDescription")})]}),i.jsxs("div",{className:"mt-6 space-y-4 flex-1 overflow-y-auto px-4 pb-20",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs(Ue,{children:[e("marketingTemplates.templateName")," *"]}),i.jsx(ze,{value:W.template_name||"",onChange:L=>R({...W,template_name:L.target.value}),placeholder:e("marketingTemplates.templateNamePlaceholder"),className:Ne(z.template_name&&"border-red-500")}),z.template_name&&i.jsx("p",{className:"text-sm text-red-500 mt-1",children:z.template_name})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs(Ue,{children:[e("marketingTemplates.templateCode")," *"]}),i.jsx(ze,{value:W.template_code||"",onChange:L=>R({...W,template_code:L.target.value.toUpperCase()}),placeholder:"e.g., WELCOME_EMAIL",className:Ne(z.template_code&&"border-red-500")}),z.template_code&&i.jsx("p",{className:"text-sm text-red-500 mt-1",children:z.template_code})]}),i.jsxs("div",{children:[i.jsx(Ue,{children:e("marketingTemplates.category")}),i.jsxs(ct,{value:W.category,onValueChange:L=>R({...W,category:L}),children:[i.jsx(ot,{children:i.jsx(ut,{placeholder:e("marketingTemplates.selectCategory")})}),i.jsx(lt,{children:AN.map(L=>i.jsx(je,{value:L.value,children:Te(L,"label")},L.value))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Ue,{children:e("marketingTemplates.templateType")}),i.jsxs(ct,{value:W.template_type,onValueChange:L=>R({...W,template_type:L}),children:[i.jsx(ot,{children:i.jsx(ut,{})}),i.jsx(lt,{children:v$.map(L=>i.jsx(je,{value:L.value,children:Te(L,"label")},L.value))})]})]}),i.jsxs("div",{className:"flex items-center gap-4 pt-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(t_,{checked:W.is_active,onCheckedChange:L=>R({...W,is_active:L})}),i.jsx(Ue,{children:e("marketingTemplates.isActive")})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(t_,{checked:W.is_default,onCheckedChange:L=>R({...W,is_default:L})}),i.jsx(Ue,{children:e("marketingTemplates.isDefault")})]})]})]})]}),W.template_type==="email"&&i.jsxs("div",{className:"space-y-4 border-t pt-4",children:[i.jsx("h4",{className:"font-medium",children:e("marketingTemplates.subjectLines")}),i.jsxs("div",{children:[i.jsxs(Ue,{children:[e("marketingTemplates.subject")," (EN)"]}),i.jsx(ze,{value:W.subject||"",onChange:L=>R({...W,subject:L.target.value}),placeholder:e("marketingTemplates.subjectPlaceholder"),className:Ne(z.subject&&"border-red-500")}),z.subject&&i.jsx("p",{className:"text-sm text-red-500 mt-1",children:z.subject})]}),i.jsxs("div",{children:[i.jsxs(Ue,{children:[e("marketingTemplates.subject")," (AR)"]}),i.jsx(ze,{value:W.subject_ar||"",onChange:L=>R({...W,subject_ar:L.target.value}),placeholder:e("marketingTemplates.subjectArPlaceholder"),dir:"rtl"})]}),i.jsxs("div",{children:[i.jsx(Ue,{children:e("marketingTemplates.previewText")}),i.jsx(ze,{value:W.preview_text||"",onChange:L=>R({...W,preview_text:L.target.value}),placeholder:e("marketingTemplates.previewTextPlaceholder")})]})]}),i.jsxs("div",{className:"space-y-4 border-t pt-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium",children:e("marketingTemplates.content")}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>R({...W,html_content:BHe()}),children:[i.jsx(bn,{className:"w-4 h-4 mr-1"}),e("marketingTemplates.loadSample")]})})]}),z.content&&i.jsx("p",{className:"text-sm text-red-500",children:z.content}),i.jsxs(di,{defaultValue:"html",className:"w-full",children:[i.jsxs(Bs,{className:"grid w-full grid-cols-2",children:[i.jsxs(ur,{value:"html",children:[i.jsx(Zx,{className:"w-4 h-4 mr-1"}),"HTML"]}),i.jsxs(ur,{value:"text",children:[i.jsx(bn,{className:"w-4 h-4 mr-1"}),e("marketingTemplates.plainText")]})]}),i.jsx(kr,{value:"html",children:i.jsx(an,{value:W.html_content||"",onChange:L=>R({...W,html_content:L.target.value}),placeholder:e("marketingTemplates.htmlPlaceholder"),className:"min-h-[300px] font-mono text-sm"})}),i.jsx(kr,{value:"text",children:i.jsx(an,{value:W.text_content||"",onChange:L=>R({...W,text_content:L.target.value}),placeholder:e("marketingTemplates.textPlaceholder"),className:"min-h-[300px] font-mono text-sm"})})]}),i.jsxs("div",{children:[i.jsxs(Ue,{className:"text-sm text-muted-foreground mb-2 block",children:[e("marketingTemplates.availableVariables"),":"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:LHe.map(L=>i.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>A(L,`var-${L}`),className:"font-mono text-xs",children:[M===`var-${L}`?i.jsx(Rh,{className:"w-3 h-3 mr-1"}):i.jsx(mS,{className:"w-3 h-3 mr-1"}),L]},L))})]})]}),i.jsxs("div",{className:"space-y-4 border-t pt-4",children:[i.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[i.jsx(Fae,{className:"w-4 h-4"}),e("marketingTemplates.design")]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Ue,{children:e("marketingTemplates.primaryColor")}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:W.primary_color||"#3B82F6",onChange:L=>R({...W,primary_color:L.target.value}),className:"h-10 w-20 rounded border"}),i.jsx(ze,{value:W.primary_color||"",onChange:L=>R({...W,primary_color:L.target.value}),placeholder:"#3B82F6",className:"flex-1"})]})]}),i.jsxs("div",{children:[i.jsx(Ue,{children:e("marketingTemplates.secondaryColor")}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:W.secondary_color||"#1E40AF",onChange:L=>R({...W,secondary_color:L.target.value}),className:"h-10 w-20 rounded border"}),i.jsx(ze,{value:W.secondary_color||"",onChange:L=>R({...W,secondary_color:L.target.value}),placeholder:"#1E40AF",className:"flex-1"})]})]})]})]}),i.jsx("div",{className:"space-y-4 border-t pt-4",children:i.jsxs("div",{children:[i.jsx(Ue,{children:e("marketingTemplates.internalDescription")}),i.jsx(an,{value:W.description||"",onChange:L=>R({...W,description:L.target.value}),placeholder:e("marketingTemplates.descriptionPlaceholder"),className:"min-h-[80px]"})]})})]}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-background border-t",children:i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(fe,{variant:"outline",onClick:G,children:e("common.cancel")}),i.jsxs(fe,{onClick:ee,children:[i.jsx(G2,{className:"w-4 h-4 mr-2"}),e(C?"common.save":"common.create")]})]})})]})}),i.jsx(fn,{open:!!E,onOpenChange:()=>O(null),children:i.jsxs(tn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(rn,{children:[i.jsx(nn,{children:E==null?void 0:E.template_name}),i.jsxs(ca,{children:[E==null?void 0:E.template_reference,"  ",Te(E||{},"template_type_label")]})]}),i.jsxs("div",{className:"space-y-4 mt-4",children:[(E==null?void 0:E.subject)&&i.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[i.jsxs(Ue,{className:"text-xs text-muted-foreground",children:[e("marketingTemplates.subject"),":"]}),i.jsx("div",{className:"font-medium",children:E.subject})]}),i.jsxs(di,{defaultValue:"preview",className:"w-full",children:[i.jsxs(Bs,{className:"grid w-full grid-cols-3",children:[i.jsxs(ur,{value:"preview",children:[i.jsx(as,{className:"w-4 h-4 mr-1"}),e("marketingTemplates.preview")]}),i.jsxs(ur,{value:"html",children:[i.jsx(Zx,{className:"w-4 h-4 mr-1"}),"HTML"]}),i.jsxs(ur,{value:"text",children:[i.jsx(bn,{className:"w-4 h-4 mr-1"}),e("marketingTemplates.plainText")]})]}),i.jsx(kr,{value:"preview",children:i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsx("iframe",{srcDoc:(E==null?void 0:E.html_content)||"",className:"w-full min-h-[400px]",sandbox:"allow-same-origin",title:"Template Preview"})})}),i.jsx(kr,{value:"html",children:i.jsxs("div",{className:"relative",children:[i.jsx(fe,{variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>A((E==null?void 0:E.html_content)||"","preview-html"),children:M==="preview-html"?i.jsxs(i.Fragment,{children:[i.jsx(Rh,{className:"w-4 h-4 mr-1"}),e("common.copied")]}):i.jsxs(i.Fragment,{children:[i.jsx(mS,{className:"w-4 h-4 mr-1"}),e("common.copy")]})}),i.jsx("pre",{className:"bg-muted p-4 rounded-lg overflow-x-auto text-sm font-mono min-h-[400px]",children:(E==null?void 0:E.html_content)||e("marketingTemplates.noContent")})]})}),i.jsx(kr,{value:"text",children:i.jsxs("div",{className:"relative",children:[i.jsx(fe,{variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>A((E==null?void 0:E.text_content)||"","preview-text"),children:M==="preview-text"?i.jsxs(i.Fragment,{children:[i.jsx(Rh,{className:"w-4 h-4 mr-1"}),e("common.copied")]}):i.jsxs(i.Fragment,{children:[i.jsx(mS,{className:"w-4 h-4 mr-1"}),e("common.copy")]})}),i.jsx("pre",{className:"bg-muted p-4 rounded-lg overflow-x-auto text-sm font-mono min-h-[400px] whitespace-pre-wrap",children:(E==null?void 0:E.text_content)||e("marketingTemplates.noContent")})]})})]})]}),i.jsxs(la,{children:[i.jsx(fe,{variant:"outline",onClick:()=>O(null),children:e("common.close")}),i.jsxs(fe,{onClick:()=>{O(null),E&&B(E)},disabled:E==null?void 0:E.is_system_template,children:[i.jsx(Is,{className:"w-4 h-4 mr-2"}),e("common.edit")]})]})]})}),i.jsx(hs,{open:!!T,onOpenChange:()=>U(null),children:i.jsxs(Aa,{children:[i.jsxs(Pa,{children:[i.jsx(Da,{children:e("marketingTemplates.confirmDelete")}),i.jsx(Ra,{children:e("marketingTemplates.confirmDeleteDescription")})]}),i.jsxs(Oa,{children:[i.jsx(Ma,{children:e("common.cancel")}),i.jsxs(Fa,{onClick:ue,className:"bg-red-600 hover:bg-red-700",children:[i.jsx(Ht,{className:"w-4 h-4 mr-2"}),e("common.delete")]})]})]})})]})}function BHe(){return`<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Template</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background-color: #f4f4f4; }
        .container { max-width: 600px; margin: 0 auto; background: white; }
        .header { background: linear-gradient(135deg, #3B82F6 0%, #1E40AF 100%); padding: 40px 30px; text-align: center; }
        .header h1 { color: white; margin: 0; font-size: 28px; }
        .content { padding: 40px 30px; }
        .greeting { font-size: 18px; margin-bottom: 20px; }
        .message { margin-bottom: 25px; }
        .cta-button { display: inline-block; background: #3B82F6; color: white; padding: 15px 30px; text-decoration: none; border-radius: 5px; font-weight: bold; margin: 20px 0; }
        .footer { background: #1e293b; color: #94a3b8; padding: 30px; text-align: center; font-size: 12px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>{{company_name}}</h1>
        </div>
        <div class="content">
            <div class="greeting">Hi {{customer_name}},</div>
            <div class="message">
                <p>Thank you for your interest in our services.</p>
                <p>We look forward to working with you.</p>
            </div>
            <div style="text-align: center;">
                <a href="#" class="cta-button">Get Started</a>
            </div>
        </div>
        <div class="footer">
            <p> {{current_year}} {{company_name}}. All rights reserved.</p>
        </div>
    </div>
</body>
</html>`}function UHe(){const{t:e}=Pt(),{isRTL:t}=ar(),r=Br(),{setBreadcrumbs:n}=dp(),{toast:a}=gi(),[s,o]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,g]=x.useState(!1),[p,v]=x.useState(!1),[y,b]=x.useState({});x.useEffect(()=>{n([{label:e("navigation.dashboard"),href:"/"},{label:"Permissions",href:"/permissions"}]),_()},[]);const _=async()=>{try{c(!0);const E=await K.permissions.list({sort:"ASC"});o(E.data||[]),d(null)}catch(E){d(E.message||"Failed to load permissions")}finally{c(!1)}},j=E=>{h(E),b({...E}),v(!0),g(!0)},w=()=>{h(null),b({permissions_Name:"",is_offline_mode:0,can_edit:0,can_update:0,can_delete:0,can_view_system_settings:0,can_view_delete_button:0}),v(!1),g(!0)},S=async()=>{try{if(!y.permissions_Name){a({title:"Error",description:"Permission name is required",variant:"destructive"});return}f?(await K.permissions.update(f.permissions_ID,y),a({title:"Success",description:"Permission updated"})):(await K.permissions.create(y),a({title:"Success",description:"Permission created"})),g(!1),_()}catch(E){a({title:"Error",description:E.message,variant:"destructive"})}},N=[{key:"permissions_Name",header:"Role Name",render:E=>i.jsx(bc,{title:E.permissions_Name||"Unnamed Role",icon:i.jsx(L1,{className:"h-4 w-4 text-primary"})}),align:"left"},{key:"permissions_ID",header:"ID",render:E=>i.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:["#",E.permissions_ID]}),align:"left"}],C=[{icon:i.jsx(Is,{}),label:"Edit",onClick:E=>j(E)}],k=()=>{const E=Object.keys(y).filter(O=>O!=="permissions_ID"&&O!=="permissions_Name"&&O!=="created_at"&&O!=="updated_at");return i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:E.map(O=>i.jsxs("div",{className:"flex items-center gap-2 border p-3 rounded-md",children:[i.jsx(Qb,{id:O,checked:!!y[O],onCheckedChange:T=>{b(U=>({...U,[O]:T?1:0}))}}),i.jsx(Ue,{htmlFor:O,className:"cursor-pointer flex-1 capitalize",children:O.replace(/_/g," ")})]},O))})};return l?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(oa,{message:e("common.loading"),size:"2xl"})}):u?i.jsx(Pf,{message:u,onRetry:_}):i.jsxs("div",{className:"space-y-4 p-4",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Permissions"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage user roles and access rights"})]}),i.jsxs(fe,{onClick:w,children:[i.jsx(Ut,{className:Ne("h-4 w-4","me-2")})," Add Role"]})]}),i.jsx(Sl,{data:s,columns:N,actions:C,keyExtractor:E=>E.permissions_ID.toString(),rtl:t,isMobile:r}),i.jsx(Oo,{open:m,onOpenChange:g,children:i.jsxs(Vi,{side:t?"left":"right",className:"w-full sm:max-w-[850px] overflow-y-auto",dir:t?"rtl":"ltr",children:[i.jsxs(yl,{children:[i.jsx(Do,{children:f?"Edit Role":"New Role"}),i.jsx(Ru,{children:"Configure access permissions for this role."})]}),i.jsxs("div",{className:"py-4 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ue,{htmlFor:"roleName",children:"Role Name"}),i.jsx(ze,{id:"roleName",value:y.permissions_Name||"",onChange:E=>b(O=>({...O,permissions_Name:E.target.value}))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Access Rights"}),k(),Object.keys(y).filter(E=>E!=="permissions_ID"&&E!=="permissions_Name").length===0&&i.jsxs("p",{className:"text-sm text-muted-foreground italic",children:["No permission flags detected.",s.length===0&&" Add your first permission to define the schema or ensure backend migration."]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[i.jsx(fe,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),i.jsx(fe,{onClick:S,children:"Save Changes"})]})]})})]})}const zHe=()=>i.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Unauthorized Access"}),i.jsx("p",{className:"mb-4",children:"You don't have permission to view this page."}),i.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Go Back"})]})}),VHe=()=>{const{user:e}=dr();return(e==null?void 0:e.role)==="client"?i.jsx(U5e,{}):i.jsx(dLe,{})},x$=({children:e})=>i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-indigo-400/20 to-blue-400/20 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-primary/5 to-blue-400/5 rounded-full blur-3xl"})]}),i.jsx("div",{className:"relative z-10 w-full px-4 py-8",children:e})]});function WHe(){return i.jsx(Dre,{children:i.jsx(EB,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:i.jsx(Use,{children:i.jsx(rae,{children:i.jsx(eae,{children:i.jsx(nae,{children:i.jsx(HHe,{})})})})})})})}function HHe(){const{isRTL:e}=ar(),t=Cl(),{t:r}=Pt();return x.useEffect(()=>{document.documentElement.dir=e?"rtl":"ltr"},[e]),x.useEffect(()=>{const n=t.pathname.split("/").filter(c=>c),a="Middar CRM";if(n.length===0){document.title=a;return}const s=n[n.length-1],o={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","marketing-templates":"navigation.marketingTemplates",reports:"navigation.reports","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee",permissions:"navigation.permissions"};let l="";if(o[s])l=r(o[s]);else if(/^\d+$/.test(s)||s.length>20)if(n.length>1){const c=n[n.length-2];o[c]?l=`${r(o[c])} - ${s}`:l=s}else l=s;else l=s.split("-").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ");document.title=`${l} | ${a}`},[t,r]),i.jsxs(kre,{children:[i.jsx(Sr,{path:"/login",element:i.jsx(x$,{children:i.jsx($se,{})})}),i.jsx(Sr,{path:"/signup",element:i.jsx(x$,{children:i.jsx(Bse,{})})}),i.jsx(Sr,{path:"/unauthorized",element:i.jsx(zHe,{})}),i.jsx(Sr,{path:"/auth/callback",element:i.jsx(W5e,{})}),i.jsx(Sr,{path:"/",element:i.jsx(V5e,{})}),i.jsxs(Sr,{element:i.jsx(ty,{children:i.jsx(fk,{children:i.jsx(lR,{})})}),children:[i.jsx(Sr,{path:"/dashboard",element:i.jsx(kFe,{})}),i.jsx(Sr,{path:"/leads",element:i.jsx(_Ie,{})}),i.jsx(Sr,{path:"/projects",element:i.jsx($Ie,{})}),i.jsx(Sr,{path:"/tasks",element:i.jsx(kIe,{})}),i.jsx(Sr,{path:"/tickets",element:i.jsx(TIe,{})}),i.jsx(Sr,{path:"/users",element:i.jsx(ty,{denyPermissionIds:[3,4,5,6],children:i.jsx(eLe,{})})}),i.jsx(Sr,{path:"/teams",element:i.jsx(tLe,{})}),i.jsx(Sr,{path:"/chats",element:i.jsx(VHe,{})}),i.jsx(Sr,{path:"/all-chats",element:i.jsx(B5e,{})}),i.jsx(Sr,{path:"/whatsapp",element:i.jsx(IHe,{})}),i.jsx(Sr,{path:"/requests",element:i.jsx(FHe,{})}),i.jsx(Sr,{path:"/client-portal",element:i.jsx(z5e,{})}),i.jsx(Sr,{path:"/surveys",element:i.jsx(XVe,{})}),i.jsx(Sr,{path:"/reports",element:i.jsx(PWe,{})}),i.jsx(Sr,{path:"/mleads",element:i.jsx(EWe,{})}),i.jsx(Sr,{path:"/mprojects",element:i.jsx(AWe,{})}),i.jsx(Sr,{path:"/marketing-templates",element:i.jsx($He,{})}),i.jsx(Sr,{path:"/permissions",element:i.jsx(ty,{denyPermissionIds:[3,4,5,6],children:i.jsx(UHe,{})})}),i.jsx(Sr,{path:"/settings",element:i.jsx(ty,{denyPermissionIds:[3,4,5,6],children:i.jsx(QVe,{})})})]}),i.jsx(Sr,{element:i.jsx(fk,{children:i.jsx(lR,{})})}),i.jsx(Sr,{path:"*",element:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("h1",{children:"404 - Page Not Found"})})})]})}const qHe=new _Z({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3}}});B6(document.getElementById("root")).render(i.jsx(Tee,{i18n:Gr,children:i.jsx(kZ,{client:qHe,children:i.jsx(EB,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:i.jsx(WHe,{})})})}));
