var V4=e=>{throw TypeError(e)};var oj=(e,t,r)=>t.has(e)||V4("Cannot "+r);var fe=(e,t,r)=>(oj(e,t,"read from private field"),r?r.call(e):t.get(e)),Nt=(e,t,r)=>t.has(e)?V4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),lt=(e,t,r,n)=>(oj(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Yt=(e,t,r)=>(oj(e,t,"access private method"),r);var Wx=(e,t,r,n)=>({set _(a){lt(e,t,a,r)},get _(){return fe(e,t,n)}});function f8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function h8(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var m8={exports:{}},zb={},p8={exports:{}},Kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv=Symbol.for("react.element"),KJ=Symbol.for("react.portal"),YJ=Symbol.for("react.fragment"),XJ=Symbol.for("react.strict_mode"),JJ=Symbol.for("react.profiler"),QJ=Symbol.for("react.provider"),ZJ=Symbol.for("react.context"),eQ=Symbol.for("react.forward_ref"),tQ=Symbol.for("react.suspense"),rQ=Symbol.for("react.memo"),nQ=Symbol.for("react.lazy"),z4=Symbol.iterator;function aQ(e){return e===null||typeof e!="object"?null:(e=z4&&e[z4]||e["@@iterator"],typeof e=="function"?e:null)}var g8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v8=Object.assign,x8={};function mp(e,t,r){this.props=e,this.context=t,this.refs=x8,this.updater=r||g8}mp.prototype.isReactComponent={};mp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function y8(){}y8.prototype=mp.prototype;function tT(e,t,r){this.props=e,this.context=t,this.refs=x8,this.updater=r||g8}var rT=tT.prototype=new y8;rT.constructor=tT;v8(rT,mp.prototype);rT.isPureReactComponent=!0;var W4=Array.isArray,w8=Object.prototype.hasOwnProperty,nT={current:null},b8={key:!0,ref:!0,__self:!0,__source:!0};function _8(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)w8.call(t,n)&&!b8.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Gv,type:e,key:s,ref:i,props:a,_owner:nT.current}}function sQ(e,t){return{$$typeof:Gv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function aT(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gv}function iQ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var H4=/\/+/g;function lj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iQ(""+e.key):t.toString(36)}function tw(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Gv:case KJ:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+lj(i,0):n,W4(a)?(r="",e!=null&&(r=e.replace(H4,"$&/")+"/"),tw(a,t,r,"",function(u){return u})):a!=null&&(aT(a)&&(a=sQ(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(H4,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",W4(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+lj(s,l);i+=tw(s,t,r,c,a)}else if(c=aQ(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+lj(s,l++),i+=tw(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function qx(e,t,r){if(e==null)return e;var n=[],a=0;return tw(e,n,"","",function(s){return t.call(r,s,a++)}),n}function oQ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var us={current:null},rw={transition:null},lQ={ReactCurrentDispatcher:us,ReactCurrentBatchConfig:rw,ReactCurrentOwner:nT};function S8(){throw Error("act(...) is not supported in production builds of React.")}Kt.Children={map:qx,forEach:function(e,t,r){qx(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qx(e,function(){t++}),t},toArray:function(e){return qx(e,function(t){return t})||[]},only:function(e){if(!aT(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Kt.Component=mp;Kt.Fragment=YJ;Kt.Profiler=JJ;Kt.PureComponent=tT;Kt.StrictMode=XJ;Kt.Suspense=tQ;Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lQ;Kt.act=S8;Kt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=v8({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=nT.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w8.call(t,c)&&!b8.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Gv,type:e.type,key:a,ref:s,props:n,_owner:i}};Kt.createContext=function(e){return e={$$typeof:ZJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:QJ,_context:e},e.Consumer=e};Kt.createElement=_8;Kt.createFactory=function(e){var t=_8.bind(null,e);return t.type=e,t};Kt.createRef=function(){return{current:null}};Kt.forwardRef=function(e){return{$$typeof:eQ,render:e}};Kt.isValidElement=aT;Kt.lazy=function(e){return{$$typeof:nQ,_payload:{_status:-1,_result:e},_init:oQ}};Kt.memo=function(e,t){return{$$typeof:rQ,type:e,compare:t===void 0?null:t}};Kt.startTransition=function(e){var t=rw.transition;rw.transition={};try{e()}finally{rw.transition=t}};Kt.unstable_act=S8;Kt.useCallback=function(e,t){return us.current.useCallback(e,t)};Kt.useContext=function(e){return us.current.useContext(e)};Kt.useDebugValue=function(){};Kt.useDeferredValue=function(e){return us.current.useDeferredValue(e)};Kt.useEffect=function(e,t){return us.current.useEffect(e,t)};Kt.useId=function(){return us.current.useId()};Kt.useImperativeHandle=function(e,t,r){return us.current.useImperativeHandle(e,t,r)};Kt.useInsertionEffect=function(e,t){return us.current.useInsertionEffect(e,t)};Kt.useLayoutEffect=function(e,t){return us.current.useLayoutEffect(e,t)};Kt.useMemo=function(e,t){return us.current.useMemo(e,t)};Kt.useReducer=function(e,t,r){return us.current.useReducer(e,t,r)};Kt.useRef=function(e){return us.current.useRef(e)};Kt.useState=function(e){return us.current.useState(e)};Kt.useSyncExternalStore=function(e,t,r){return us.current.useSyncExternalStore(e,t,r)};Kt.useTransition=function(){return us.current.useTransition()};Kt.version="18.3.1";p8.exports=Kt;var x=p8.exports;const te=hr(x),sT=f8({__proto__:null,default:te},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cQ=x,uQ=Symbol.for("react.element"),dQ=Symbol.for("react.fragment"),fQ=Object.prototype.hasOwnProperty,hQ=cQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mQ={key:!0,ref:!0,__self:!0,__source:!0};function j8(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)fQ.call(t,n)&&!mQ.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:uQ,type:e,key:s,ref:i,props:a,_owner:hQ.current}}zb.Fragment=dQ;zb.jsx=j8;zb.jsxs=j8;m8.exports=zb;var o=m8.exports,k8={exports:{}},mi={},N8={exports:{}},E8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,R){var Y=U.length;U.push(R);e:for(;0<Y;){var Z=Y-1>>>1,C=U[Z];if(0<a(C,R))U[Z]=R,U[Y]=C,Y=Z;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var R=U[0],Y=U.pop();if(Y!==R){U[0]=Y;e:for(var Z=0,C=U.length,X=C>>>1;Z<X;){var B=2*(Z+1)-1,q=U[B],re=B+1,se=U[re];if(0>a(q,Y))re<C&&0>a(se,q)?(U[Z]=se,U[re]=Y,Z=re):(U[Z]=q,U[B]=Y,Z=B);else if(re<C&&0>a(se,Y))U[Z]=se,U[re]=Y,Z=re;else break e}}return R}function a(U,R){var Y=U.sortIndex-R.sortIndex;return Y!==0?Y:U.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=U)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function _(U){if(m=!1,b(U),!g)if(r(c)!==null)g=!0,M(S);else{var R=r(u);R!==null&&I(_,R.startTime-U)}}function S(U,R){g=!1,m&&(m=!1,y(E),E=-1),p=!0;var Y=h;try{for(b(R),f=r(c);f!==null&&(!(f.expirationTime>R)||U&&!P());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var C=Z(f.expirationTime<=R);R=e.unstable_now(),typeof C=="function"?f.callback=C:f===r(c)&&n(c),b(R)}else n(c);f=r(c)}if(f!==null)var X=!0;else{var B=r(u);B!==null&&I(_,B.startTime-R),X=!1}return X}finally{f=null,h=Y,p=!1}}var k=!1,j=null,E=-1,N=5,O=-1;function P(){return!(e.unstable_now()-O<N)}function T(){if(j!==null){var U=e.unstable_now();O=U;var R=!0;try{R=j(!0,U)}finally{R?L():(k=!1,j=null)}}else k=!1}var L;if(typeof w=="function")L=function(){w(T)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,z=H.port2;H.port1.onmessage=T,L=function(){z.postMessage(null)}}else L=function(){v(T,0)};function M(U){j=U,k||(k=!0,L())}function I(U,R){E=v(function(){U(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,M(S))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(U){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var Y=h;h=R;try{return U()}finally{h=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,R){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=h;h=U;try{return R()}finally{h=Y}},e.unstable_scheduleCallback=function(U,R,Y){var Z=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Z+Y:Z):Y=Z,U){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=Y+C,U={id:d++,callback:R,priorityLevel:U,startTime:Y,expirationTime:C,sortIndex:-1},Y>Z?(U.sortIndex=Y,t(u,U),r(c)===null&&U===r(u)&&(m?(y(E),E=-1):m=!0,I(_,Y-Z))):(U.sortIndex=C,t(c,U),g||p||(g=!0,M(S))),U},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(U){var R=h;return function(){var Y=h;h=R;try{return U.apply(this,arguments)}finally{h=Y}}}})(E8);N8.exports=E8;var pQ=N8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gQ=x,ui=pQ;function We(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C8=new Set,Sg={};function Sf(e,t){pm(e,t),pm(e+"Capture",t)}function pm(e,t){for(Sg[e]=t,e=0;e<t.length;e++)C8.add(t[e])}var Zl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),o2=Object.prototype.hasOwnProperty,vQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q4={},G4={};function xQ(e){return o2.call(G4,e)?!0:o2.call(q4,e)?!1:vQ.test(e)?G4[e]=!0:(q4[e]=!0,!1)}function yQ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wQ(e,t,r,n){if(t===null||typeof t>"u"||yQ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ds(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var la={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){la[e]=new ds(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];la[t]=new ds(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){la[e]=new ds(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){la[e]=new ds(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){la[e]=new ds(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){la[e]=new ds(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){la[e]=new ds(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){la[e]=new ds(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){la[e]=new ds(e,5,!1,e.toLowerCase(),null,!1,!1)});var iT=/[\-:]([a-z])/g;function oT(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(iT,oT);la[t]=new ds(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(iT,oT);la[t]=new ds(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(iT,oT);la[t]=new ds(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){la[e]=new ds(e,1,!1,e.toLowerCase(),null,!1,!1)});la.xlinkHref=new ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){la[e]=new ds(e,1,!1,e.toLowerCase(),null,!0,!0)});function lT(e,t,r,n){var a=la.hasOwnProperty(t)?la[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wQ(t,r,a,n)&&(r=null),n||a===null?xQ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var pc=gQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gx=Symbol.for("react.element"),vh=Symbol.for("react.portal"),xh=Symbol.for("react.fragment"),cT=Symbol.for("react.strict_mode"),l2=Symbol.for("react.profiler"),T8=Symbol.for("react.provider"),A8=Symbol.for("react.context"),uT=Symbol.for("react.forward_ref"),c2=Symbol.for("react.suspense"),u2=Symbol.for("react.suspense_list"),dT=Symbol.for("react.memo"),Mc=Symbol.for("react.lazy"),O8=Symbol.for("react.offscreen"),K4=Symbol.iterator;function Zp(e){return e===null||typeof e!="object"?null:(e=K4&&e[K4]||e["@@iterator"],typeof e=="function"?e:null)}var Xr=Object.assign,cj;function E0(e){if(cj===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);cj=t&&t[1]||""}return`
`+cj+e}var uj=!1;function dj(e,t){if(!e||uj)return"";uj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{uj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?E0(e):""}function bQ(e){switch(e.tag){case 5:return E0(e.type);case 16:return E0("Lazy");case 13:return E0("Suspense");case 19:return E0("SuspenseList");case 0:case 2:case 15:return e=dj(e.type,!1),e;case 11:return e=dj(e.type.render,!1),e;case 1:return e=dj(e.type,!0),e;default:return""}}function d2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xh:return"Fragment";case vh:return"Portal";case l2:return"Profiler";case cT:return"StrictMode";case c2:return"Suspense";case u2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case A8:return(e.displayName||"Context")+".Consumer";case T8:return(e._context.displayName||"Context")+".Provider";case uT:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dT:return t=e.displayName||null,t!==null?t:d2(e.type)||"Memo";case Mc:t=e._payload,e=e._init;try{return d2(e(t))}catch{}}return null}function _Q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return d2(t);case 8:return t===cT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function P8(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function SQ(e){var t=P8(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kx(e){e._valueTracker||(e._valueTracker=SQ(e))}function D8(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=P8(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ew(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function f2(e,t){var r=t.checked;return Xr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Y4(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Nu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function R8(e,t){t=t.checked,t!=null&&lT(e,"checked",t,!1)}function h2(e,t){R8(e,t);var r=Nu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?m2(e,t.type,r):t.hasOwnProperty("defaultValue")&&m2(e,t.type,Nu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function X4(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function m2(e,t,r){(t!=="number"||Ew(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var C0=Array.isArray;function Fh(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Nu(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function p2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(We(91));return Xr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function J4(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(We(92));if(C0(r)){if(1<r.length)throw Error(We(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nu(r)}}function I8(e,t){var r=Nu(t.value),n=Nu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Q4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function M8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function g2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?M8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yx,F8=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yx=Yx||document.createElement("div"),Yx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var U0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jQ=["Webkit","ms","Moz","O"];Object.keys(U0).forEach(function(e){jQ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),U0[t]=U0[e]})});function L8(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||U0.hasOwnProperty(e)&&U0[e]?(""+t).trim():t+"px"}function $8(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=L8(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var kQ=Xr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function v2(e,t){if(t){if(kQ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(We(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(We(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(We(61))}if(t.style!=null&&typeof t.style!="object")throw Error(We(62))}}function x2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y2=null;function fT(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var w2=null,Lh=null,$h=null;function Z4(e){if(e=Xv(e)){if(typeof w2!="function")throw Error(We(280));var t=e.stateNode;t&&(t=Kb(t),w2(e.stateNode,e.type,t))}}function B8(e){Lh?$h?$h.push(e):$h=[e]:Lh=e}function U8(){if(Lh){var e=Lh,t=$h;if($h=Lh=null,Z4(e),t)for(e=0;e<t.length;e++)Z4(t[e])}}function V8(e,t){return e(t)}function z8(){}var fj=!1;function W8(e,t,r){if(fj)return e(t,r);fj=!0;try{return V8(e,t,r)}finally{fj=!1,(Lh!==null||$h!==null)&&(z8(),U8())}}function kg(e,t){var r=e.stateNode;if(r===null)return null;var n=Kb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(We(231,t,typeof r));return r}var b2=!1;if(Zl)try{var e0={};Object.defineProperty(e0,"passive",{get:function(){b2=!0}}),window.addEventListener("test",e0,e0),window.removeEventListener("test",e0,e0)}catch{b2=!1}function NQ(e,t,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var V0=!1,Cw=null,Tw=!1,_2=null,EQ={onError:function(e){V0=!0,Cw=e}};function CQ(e,t,r,n,a,s,i,l,c){V0=!1,Cw=null,NQ.apply(EQ,arguments)}function TQ(e,t,r,n,a,s,i,l,c){if(CQ.apply(this,arguments),V0){if(V0){var u=Cw;V0=!1,Cw=null}else throw Error(We(198));Tw||(Tw=!0,_2=u)}}function jf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function H8(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function eD(e){if(jf(e)!==e)throw Error(We(188))}function AQ(e){var t=e.alternate;if(!t){if(t=jf(e),t===null)throw Error(We(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return eD(a),e;if(s===n)return eD(a),t;s=s.sibling}throw Error(We(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(We(189))}}if(r.alternate!==n)throw Error(We(190))}if(r.tag!==3)throw Error(We(188));return r.stateNode.current===r?e:t}function q8(e){return e=AQ(e),e!==null?G8(e):null}function G8(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=G8(e);if(t!==null)return t;e=e.sibling}return null}var K8=ui.unstable_scheduleCallback,tD=ui.unstable_cancelCallback,OQ=ui.unstable_shouldYield,PQ=ui.unstable_requestPaint,sn=ui.unstable_now,DQ=ui.unstable_getCurrentPriorityLevel,hT=ui.unstable_ImmediatePriority,Y8=ui.unstable_UserBlockingPriority,Aw=ui.unstable_NormalPriority,RQ=ui.unstable_LowPriority,X8=ui.unstable_IdlePriority,Wb=null,rl=null;function IQ(e){if(rl&&typeof rl.onCommitFiberRoot=="function")try{rl.onCommitFiberRoot(Wb,e,void 0,(e.current.flags&128)===128)}catch{}}var wo=Math.clz32?Math.clz32:LQ,MQ=Math.log,FQ=Math.LN2;function LQ(e){return e>>>=0,e===0?32:31-(MQ(e)/FQ|0)|0}var Xx=64,Jx=4194304;function T0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ow(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=T0(l):(s&=i,s!==0&&(n=T0(s)))}else i=r&~a,i!==0?n=T0(i):s!==0&&(n=T0(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wo(t),a=1<<r,n|=e[r],t&=~a;return n}function $Q(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BQ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-wo(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=$Q(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function S2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function J8(){var e=Xx;return Xx<<=1,!(Xx&4194240)&&(Xx=64),e}function hj(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Kv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wo(t),e[t]=r}function UQ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-wo(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function mT(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wo(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var gr=0;function Q8(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Z8,pT,e6,t6,r6,j2=!1,Qx=[],du=null,fu=null,hu=null,Ng=new Map,Eg=new Map,Vc=[],VQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rD(e,t){switch(e){case"focusin":case"focusout":du=null;break;case"dragenter":case"dragleave":fu=null;break;case"mouseover":case"mouseout":hu=null;break;case"pointerover":case"pointerout":Ng.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eg.delete(t.pointerId)}}function t0(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Xv(t),t!==null&&pT(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function zQ(e,t,r,n,a){switch(t){case"focusin":return du=t0(du,e,t,r,n,a),!0;case"dragenter":return fu=t0(fu,e,t,r,n,a),!0;case"mouseover":return hu=t0(hu,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Ng.set(s,t0(Ng.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Eg.set(s,t0(Eg.get(s)||null,e,t,r,n,a)),!0}return!1}function n6(e){var t=pd(e.target);if(t!==null){var r=jf(t);if(r!==null){if(t=r.tag,t===13){if(t=H8(r),t!==null){e.blockedOn=t,r6(e.priority,function(){e6(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=k2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);y2=n,r.target.dispatchEvent(n),y2=null}else return t=Xv(r),t!==null&&pT(t),e.blockedOn=r,!1;t.shift()}return!0}function nD(e,t,r){nw(e)&&r.delete(t)}function WQ(){j2=!1,du!==null&&nw(du)&&(du=null),fu!==null&&nw(fu)&&(fu=null),hu!==null&&nw(hu)&&(hu=null),Ng.forEach(nD),Eg.forEach(nD)}function r0(e,t){e.blockedOn===t&&(e.blockedOn=null,j2||(j2=!0,ui.unstable_scheduleCallback(ui.unstable_NormalPriority,WQ)))}function Cg(e){function t(a){return r0(a,e)}if(0<Qx.length){r0(Qx[0],e);for(var r=1;r<Qx.length;r++){var n=Qx[r];n.blockedOn===e&&(n.blockedOn=null)}}for(du!==null&&r0(du,e),fu!==null&&r0(fu,e),hu!==null&&r0(hu,e),Ng.forEach(t),Eg.forEach(t),r=0;r<Vc.length;r++)n=Vc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Vc.length&&(r=Vc[0],r.blockedOn===null);)n6(r),r.blockedOn===null&&Vc.shift()}var Bh=pc.ReactCurrentBatchConfig,Pw=!0;function HQ(e,t,r,n){var a=gr,s=Bh.transition;Bh.transition=null;try{gr=1,gT(e,t,r,n)}finally{gr=a,Bh.transition=s}}function qQ(e,t,r,n){var a=gr,s=Bh.transition;Bh.transition=null;try{gr=4,gT(e,t,r,n)}finally{gr=a,Bh.transition=s}}function gT(e,t,r,n){if(Pw){var a=k2(e,t,r,n);if(a===null)Sj(e,t,n,Dw,r),rD(e,n);else if(zQ(a,e,t,r,n))n.stopPropagation();else if(rD(e,n),t&4&&-1<VQ.indexOf(e)){for(;a!==null;){var s=Xv(a);if(s!==null&&Z8(s),s=k2(e,t,r,n),s===null&&Sj(e,t,n,Dw,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Sj(e,t,n,null,r)}}var Dw=null;function k2(e,t,r,n){if(Dw=null,e=fT(n),e=pd(e),e!==null)if(t=jf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=H8(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Dw=e,null}function a6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DQ()){case hT:return 1;case Y8:return 4;case Aw:case RQ:return 16;case X8:return 536870912;default:return 16}default:return 16}}var ru=null,vT=null,aw=null;function s6(){if(aw)return aw;var e,t=vT,r=t.length,n,a="value"in ru?ru.value:ru.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return aw=a.slice(e,1<n?1-n:void 0)}function sw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zx(){return!0}function aD(){return!1}function pi(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zx:aD,this.isPropagationStopped=aD,this}return Xr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zx)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zx)},persist:function(){},isPersistent:Zx}),t}var pp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xT=pi(pp),Yv=Xr({},pp,{view:0,detail:0}),GQ=pi(Yv),mj,pj,n0,Hb=Xr({},Yv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==n0&&(n0&&e.type==="mousemove"?(mj=e.screenX-n0.screenX,pj=e.screenY-n0.screenY):pj=mj=0,n0=e),mj)},movementY:function(e){return"movementY"in e?e.movementY:pj}}),sD=pi(Hb),KQ=Xr({},Hb,{dataTransfer:0}),YQ=pi(KQ),XQ=Xr({},Yv,{relatedTarget:0}),gj=pi(XQ),JQ=Xr({},pp,{animationName:0,elapsedTime:0,pseudoElement:0}),QQ=pi(JQ),ZQ=Xr({},pp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eZ=pi(ZQ),tZ=Xr({},pp,{data:0}),iD=pi(tZ),rZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sZ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=aZ[e])?!!t[e]:!1}function yT(){return sZ}var iZ=Xr({},Yv,{key:function(e){if(e.key){var t=rZ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yT,charCode:function(e){return e.type==="keypress"?sw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oZ=pi(iZ),lZ=Xr({},Hb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oD=pi(lZ),cZ=Xr({},Yv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yT}),uZ=pi(cZ),dZ=Xr({},pp,{propertyName:0,elapsedTime:0,pseudoElement:0}),fZ=pi(dZ),hZ=Xr({},Hb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mZ=pi(hZ),pZ=[9,13,27,32],wT=Zl&&"CompositionEvent"in window,z0=null;Zl&&"documentMode"in document&&(z0=document.documentMode);var gZ=Zl&&"TextEvent"in window&&!z0,i6=Zl&&(!wT||z0&&8<z0&&11>=z0),lD=" ",cD=!1;function o6(e,t){switch(e){case"keyup":return pZ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yh=!1;function vZ(e,t){switch(e){case"compositionend":return l6(t);case"keypress":return t.which!==32?null:(cD=!0,lD);case"textInput":return e=t.data,e===lD&&cD?null:e;default:return null}}function xZ(e,t){if(yh)return e==="compositionend"||!wT&&o6(e,t)?(e=s6(),aw=vT=ru=null,yh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return i6&&t.locale!=="ko"?null:t.data;default:return null}}var yZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yZ[e.type]:t==="textarea"}function c6(e,t,r,n){B8(n),t=Rw(t,"onChange"),0<t.length&&(r=new xT("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var W0=null,Tg=null;function wZ(e){w6(e,0)}function qb(e){var t=_h(e);if(D8(t))return e}function bZ(e,t){if(e==="change")return t}var u6=!1;if(Zl){var vj;if(Zl){var xj="oninput"in document;if(!xj){var dD=document.createElement("div");dD.setAttribute("oninput","return;"),xj=typeof dD.oninput=="function"}vj=xj}else vj=!1;u6=vj&&(!document.documentMode||9<document.documentMode)}function fD(){W0&&(W0.detachEvent("onpropertychange",d6),Tg=W0=null)}function d6(e){if(e.propertyName==="value"&&qb(Tg)){var t=[];c6(t,Tg,e,fT(e)),W8(wZ,t)}}function _Z(e,t,r){e==="focusin"?(fD(),W0=t,Tg=r,W0.attachEvent("onpropertychange",d6)):e==="focusout"&&fD()}function SZ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qb(Tg)}function jZ(e,t){if(e==="click")return qb(t)}function kZ(e,t){if(e==="input"||e==="change")return qb(t)}function NZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ko=typeof Object.is=="function"?Object.is:NZ;function Ag(e,t){if(ko(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!o2.call(t,a)||!ko(e[a],t[a]))return!1}return!0}function hD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mD(e,t){var r=hD(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hD(r)}}function f6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?f6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function h6(){for(var e=window,t=Ew();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ew(e.document)}return t}function bT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function EZ(e){var t=h6(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&f6(r.ownerDocument.documentElement,r)){if(n!==null&&bT(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=mD(r,s);var i=mD(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var CZ=Zl&&"documentMode"in document&&11>=document.documentMode,wh=null,N2=null,H0=null,E2=!1;function pD(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;E2||wh==null||wh!==Ew(n)||(n=wh,"selectionStart"in n&&bT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),H0&&Ag(H0,n)||(H0=n,n=Rw(N2,"onSelect"),0<n.length&&(t=new xT("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=wh)))}function ey(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var bh={animationend:ey("Animation","AnimationEnd"),animationiteration:ey("Animation","AnimationIteration"),animationstart:ey("Animation","AnimationStart"),transitionend:ey("Transition","TransitionEnd")},yj={},m6={};Zl&&(m6=document.createElement("div").style,"AnimationEvent"in window||(delete bh.animationend.animation,delete bh.animationiteration.animation,delete bh.animationstart.animation),"TransitionEvent"in window||delete bh.transitionend.transition);function Gb(e){if(yj[e])return yj[e];if(!bh[e])return e;var t=bh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in m6)return yj[e]=t[r];return e}var p6=Gb("animationend"),g6=Gb("animationiteration"),v6=Gb("animationstart"),x6=Gb("transitionend"),y6=new Map,gD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fu(e,t){y6.set(e,t),Sf(t,[e])}for(var wj=0;wj<gD.length;wj++){var bj=gD[wj],TZ=bj.toLowerCase(),AZ=bj[0].toUpperCase()+bj.slice(1);Fu(TZ,"on"+AZ)}Fu(p6,"onAnimationEnd");Fu(g6,"onAnimationIteration");Fu(v6,"onAnimationStart");Fu("dblclick","onDoubleClick");Fu("focusin","onFocus");Fu("focusout","onBlur");Fu(x6,"onTransitionEnd");pm("onMouseEnter",["mouseout","mouseover"]);pm("onMouseLeave",["mouseout","mouseover"]);pm("onPointerEnter",["pointerout","pointerover"]);pm("onPointerLeave",["pointerout","pointerover"]);Sf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var A0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(A0));function vD(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,TQ(n,t,void 0,e),e.currentTarget=null}function w6(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;vD(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;vD(a,l,u),s=c}}}if(Tw)throw e=_2,Tw=!1,_2=null,e}function Mr(e,t){var r=t[P2];r===void 0&&(r=t[P2]=new Set);var n=e+"__bubble";r.has(n)||(b6(t,e,2,!1),r.add(n))}function _j(e,t,r){var n=0;t&&(n|=4),b6(r,e,n,t)}var ty="_reactListening"+Math.random().toString(36).slice(2);function Og(e){if(!e[ty]){e[ty]=!0,C8.forEach(function(r){r!=="selectionchange"&&(OZ.has(r)||_j(r,!1,e),_j(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ty]||(t[ty]=!0,_j("selectionchange",!1,t))}}function b6(e,t,r,n){switch(a6(t)){case 1:var a=HQ;break;case 4:a=qQ;break;default:a=gT}r=a.bind(null,t,r,e),a=void 0,!b2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Sj(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=pd(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}W8(function(){var u=s,d=fT(r),f=[];e:{var h=y6.get(e);if(h!==void 0){var p=xT,g=e;switch(e){case"keypress":if(sw(r)===0)break e;case"keydown":case"keyup":p=oZ;break;case"focusin":g="focus",p=gj;break;case"focusout":g="blur",p=gj;break;case"beforeblur":case"afterblur":p=gj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=sD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=YQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uZ;break;case p6:case g6:case v6:p=QQ;break;case x6:p=fZ;break;case"scroll":p=GQ;break;case"wheel":p=mZ;break;case"copy":case"cut":case"paste":p=eZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=oD}var m=(t&4)!==0,v=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var w=u,b;w!==null;){b=w;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=kg(w,y),_!=null&&m.push(Pg(w,_,b)))),v)break;w=w.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==y2&&(g=r.relatedTarget||r.fromElement)&&(pd(g)||g[ec]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?pd(g):null,g!==null&&(v=jf(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=sD,_="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(m=oD,_="onPointerLeave",y="onPointerEnter",w="pointer"),v=p==null?h:_h(p),b=g==null?h:_h(g),h=new m(_,w+"leave",p,r,d),h.target=v,h.relatedTarget=b,_=null,pd(d)===u&&(m=new m(y,w+"enter",g,r,d),m.target=b,m.relatedTarget=v,_=m),v=_,p&&g)t:{for(m=p,y=g,w=0,b=m;b;b=Vf(b))w++;for(b=0,_=y;_;_=Vf(_))b++;for(;0<w-b;)m=Vf(m),w--;for(;0<b-w;)y=Vf(y),b--;for(;w--;){if(m===y||y!==null&&m===y.alternate)break t;m=Vf(m),y=Vf(y)}m=null}else m=null;p!==null&&xD(f,h,p,m,!1),g!==null&&v!==null&&xD(f,v,g,m,!0)}}e:{if(h=u?_h(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=bZ;else if(uD(h))if(u6)S=kZ;else{S=SZ;var k=_Z}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=jZ);if(S&&(S=S(e,u))){c6(f,S,r,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&m2(h,"number",h.value)}switch(k=u?_h(u):window,e){case"focusin":(uD(k)||k.contentEditable==="true")&&(wh=k,N2=u,H0=null);break;case"focusout":H0=N2=wh=null;break;case"mousedown":E2=!0;break;case"contextmenu":case"mouseup":case"dragend":E2=!1,pD(f,r,d);break;case"selectionchange":if(CZ)break;case"keydown":case"keyup":pD(f,r,d)}var j;if(wT)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else yh?o6(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(i6&&r.locale!=="ko"&&(yh||E!=="onCompositionStart"?E==="onCompositionEnd"&&yh&&(j=s6()):(ru=d,vT="value"in ru?ru.value:ru.textContent,yh=!0)),k=Rw(u,E),0<k.length&&(E=new iD(E,e,null,r,d),f.push({event:E,listeners:k}),j?E.data=j:(j=l6(r),j!==null&&(E.data=j)))),(j=gZ?vZ(e,r):xZ(e,r))&&(u=Rw(u,"onBeforeInput"),0<u.length&&(d=new iD("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}w6(f,t)})}function Pg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Rw(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=kg(e,r),s!=null&&n.unshift(Pg(e,s,a)),s=kg(e,t),s!=null&&n.push(Pg(e,s,a))),e=e.return}return n}function Vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xD(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=kg(r,s),c!=null&&i.unshift(Pg(r,c,l))):a||(c=kg(r,s),c!=null&&i.push(Pg(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var PZ=/\r\n?/g,DZ=/\u0000|\uFFFD/g;function yD(e){return(typeof e=="string"?e:""+e).replace(PZ,`
`).replace(DZ,"")}function ry(e,t,r){if(t=yD(t),yD(e)!==t&&r)throw Error(We(425))}function Iw(){}var C2=null,T2=null;function A2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var O2=typeof setTimeout=="function"?setTimeout:void 0,RZ=typeof clearTimeout=="function"?clearTimeout:void 0,wD=typeof Promise=="function"?Promise:void 0,IZ=typeof queueMicrotask=="function"?queueMicrotask:typeof wD<"u"?function(e){return wD.resolve(null).then(e).catch(MZ)}:O2;function MZ(e){setTimeout(function(){throw e})}function jj(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Cg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Cg(t)}function mu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bD(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var gp=Math.random().toString(36).slice(2),Ko="__reactFiber$"+gp,Dg="__reactProps$"+gp,ec="__reactContainer$"+gp,P2="__reactEvents$"+gp,FZ="__reactListeners$"+gp,LZ="__reactHandles$"+gp;function pd(e){var t=e[Ko];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ec]||r[Ko]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=bD(e);e!==null;){if(r=e[Ko])return r;e=bD(e)}return t}e=r,r=e.parentNode}return null}function Xv(e){return e=e[Ko]||e[ec],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _h(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(We(33))}function Kb(e){return e[Dg]||null}var D2=[],Sh=-1;function Lu(e){return{current:e}}function $r(e){0>Sh||(e.current=D2[Sh],D2[Sh]=null,Sh--)}function Or(e,t){Sh++,D2[Sh]=e.current,e.current=t}var Eu={},Ra=Lu(Eu),Ss=Lu(!1),Hd=Eu;function gm(e,t){var r=e.type.contextTypes;if(!r)return Eu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function js(e){return e=e.childContextTypes,e!=null}function Mw(){$r(Ss),$r(Ra)}function _D(e,t,r){if(Ra.current!==Eu)throw Error(We(168));Or(Ra,t),Or(Ss,r)}function _6(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(We(108,_Q(e)||"Unknown",a));return Xr({},r,n)}function Fw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Eu,Hd=Ra.current,Or(Ra,e),Or(Ss,Ss.current),!0}function SD(e,t,r){var n=e.stateNode;if(!n)throw Error(We(169));r?(e=_6(e,t,Hd),n.__reactInternalMemoizedMergedChildContext=e,$r(Ss),$r(Ra),Or(Ra,e)):$r(Ss),Or(Ss,r)}var Dl=null,Yb=!1,kj=!1;function S6(e){Dl===null?Dl=[e]:Dl.push(e)}function $Z(e){Yb=!0,S6(e)}function $u(){if(!kj&&Dl!==null){kj=!0;var e=0,t=gr;try{var r=Dl;for(gr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Dl=null,Yb=!1}catch(a){throw Dl!==null&&(Dl=Dl.slice(e+1)),K8(hT,$u),a}finally{gr=t,kj=!1}}return null}var jh=[],kh=0,Lw=null,$w=0,Ci=[],Ti=0,qd=null,Bl=1,Ul="";function nd(e,t){jh[kh++]=$w,jh[kh++]=Lw,Lw=e,$w=t}function j6(e,t,r){Ci[Ti++]=Bl,Ci[Ti++]=Ul,Ci[Ti++]=qd,qd=e;var n=Bl;e=Ul;var a=32-wo(n)-1;n&=~(1<<a),r+=1;var s=32-wo(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Bl=1<<32-wo(t)+a|r<<a|n,Ul=s+e}else Bl=1<<s|r<<a|n,Ul=e}function _T(e){e.return!==null&&(nd(e,1),j6(e,1,0))}function ST(e){for(;e===Lw;)Lw=jh[--kh],jh[kh]=null,$w=jh[--kh],jh[kh]=null;for(;e===qd;)qd=Ci[--Ti],Ci[Ti]=null,Ul=Ci[--Ti],Ci[Ti]=null,Bl=Ci[--Ti],Ci[Ti]=null}var si=null,ni=null,Vr=!1,fo=null;function k6(e,t){var r=Pi(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function jD(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,si=e,ni=mu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,si=e,ni=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=qd!==null?{id:Bl,overflow:Ul}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Pi(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,si=e,ni=null,!0):!1;default:return!1}}function R2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function I2(e){if(Vr){var t=ni;if(t){var r=t;if(!jD(e,t)){if(R2(e))throw Error(We(418));t=mu(r.nextSibling);var n=si;t&&jD(e,t)?k6(n,r):(e.flags=e.flags&-4097|2,Vr=!1,si=e)}}else{if(R2(e))throw Error(We(418));e.flags=e.flags&-4097|2,Vr=!1,si=e}}}function kD(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;si=e}function ny(e){if(e!==si)return!1;if(!Vr)return kD(e),Vr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!A2(e.type,e.memoizedProps)),t&&(t=ni)){if(R2(e))throw N6(),Error(We(418));for(;t;)k6(e,t),t=mu(t.nextSibling)}if(kD(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(We(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ni=mu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ni=null}}else ni=si?mu(e.stateNode.nextSibling):null;return!0}function N6(){for(var e=ni;e;)e=mu(e.nextSibling)}function vm(){ni=si=null,Vr=!1}function jT(e){fo===null?fo=[e]:fo.push(e)}var BZ=pc.ReactCurrentBatchConfig;function a0(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(We(309));var n=r.stateNode}if(!n)throw Error(We(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(We(284));if(!r._owner)throw Error(We(290,e))}return e}function ay(e,t){throw e=Object.prototype.toString.call(t),Error(We(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ND(e){var t=e._init;return t(e._payload)}function E6(e){function t(y,w){if(e){var b=y.deletions;b===null?(y.deletions=[w],y.flags|=16):b.push(w)}}function r(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function a(y,w){return y=xu(y,w),y.index=0,y.sibling=null,y}function s(y,w,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<w?(y.flags|=2,w):b):(y.flags|=2,w)):(y.flags|=1048576,w)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,w,b,_){return w===null||w.tag!==6?(w=Pj(b,y.mode,_),w.return=y,w):(w=a(w,b),w.return=y,w)}function c(y,w,b,_){var S=b.type;return S===xh?d(y,w,b.props.children,_,b.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mc&&ND(S)===w.type)?(_=a(w,b.props),_.ref=a0(y,w,b),_.return=y,_):(_=fw(b.type,b.key,b.props,null,y.mode,_),_.ref=a0(y,w,b),_.return=y,_)}function u(y,w,b,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Dj(b,y.mode,_),w.return=y,w):(w=a(w,b.children||[]),w.return=y,w)}function d(y,w,b,_,S){return w===null||w.tag!==7?(w=Ld(b,y.mode,_,S),w.return=y,w):(w=a(w,b),w.return=y,w)}function f(y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Pj(""+w,y.mode,b),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gx:return b=fw(w.type,w.key,w.props,null,y.mode,b),b.ref=a0(y,null,w),b.return=y,b;case vh:return w=Dj(w,y.mode,b),w.return=y,w;case Mc:var _=w._init;return f(y,_(w._payload),b)}if(C0(w)||Zp(w))return w=Ld(w,y.mode,b,null),w.return=y,w;ay(y,w)}return null}function h(y,w,b,_){var S=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(y,w,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gx:return b.key===S?c(y,w,b,_):null;case vh:return b.key===S?u(y,w,b,_):null;case Mc:return S=b._init,h(y,w,S(b._payload),_)}if(C0(b)||Zp(b))return S!==null?null:d(y,w,b,_,null);ay(y,b)}return null}function p(y,w,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,l(w,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gx:return y=y.get(_.key===null?b:_.key)||null,c(w,y,_,S);case vh:return y=y.get(_.key===null?b:_.key)||null,u(w,y,_,S);case Mc:var k=_._init;return p(y,w,b,k(_._payload),S)}if(C0(_)||Zp(_))return y=y.get(b)||null,d(w,y,_,S,null);ay(w,_)}return null}function g(y,w,b,_){for(var S=null,k=null,j=w,E=w=0,N=null;j!==null&&E<b.length;E++){j.index>E?(N=j,j=null):N=j.sibling;var O=h(y,j,b[E],_);if(O===null){j===null&&(j=N);break}e&&j&&O.alternate===null&&t(y,j),w=s(O,w,E),k===null?S=O:k.sibling=O,k=O,j=N}if(E===b.length)return r(y,j),Vr&&nd(y,E),S;if(j===null){for(;E<b.length;E++)j=f(y,b[E],_),j!==null&&(w=s(j,w,E),k===null?S=j:k.sibling=j,k=j);return Vr&&nd(y,E),S}for(j=n(y,j);E<b.length;E++)N=p(j,y,E,b[E],_),N!==null&&(e&&N.alternate!==null&&j.delete(N.key===null?E:N.key),w=s(N,w,E),k===null?S=N:k.sibling=N,k=N);return e&&j.forEach(function(P){return t(y,P)}),Vr&&nd(y,E),S}function m(y,w,b,_){var S=Zp(b);if(typeof S!="function")throw Error(We(150));if(b=S.call(b),b==null)throw Error(We(151));for(var k=S=null,j=w,E=w=0,N=null,O=b.next();j!==null&&!O.done;E++,O=b.next()){j.index>E?(N=j,j=null):N=j.sibling;var P=h(y,j,O.value,_);if(P===null){j===null&&(j=N);break}e&&j&&P.alternate===null&&t(y,j),w=s(P,w,E),k===null?S=P:k.sibling=P,k=P,j=N}if(O.done)return r(y,j),Vr&&nd(y,E),S;if(j===null){for(;!O.done;E++,O=b.next())O=f(y,O.value,_),O!==null&&(w=s(O,w,E),k===null?S=O:k.sibling=O,k=O);return Vr&&nd(y,E),S}for(j=n(y,j);!O.done;E++,O=b.next())O=p(j,y,E,O.value,_),O!==null&&(e&&O.alternate!==null&&j.delete(O.key===null?E:O.key),w=s(O,w,E),k===null?S=O:k.sibling=O,k=O);return e&&j.forEach(function(T){return t(y,T)}),Vr&&nd(y,E),S}function v(y,w,b,_){if(typeof b=="object"&&b!==null&&b.type===xh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Gx:e:{for(var S=b.key,k=w;k!==null;){if(k.key===S){if(S=b.type,S===xh){if(k.tag===7){r(y,k.sibling),w=a(k,b.props.children),w.return=y,y=w;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mc&&ND(S)===k.type){r(y,k.sibling),w=a(k,b.props),w.ref=a0(y,k,b),w.return=y,y=w;break e}r(y,k);break}else t(y,k);k=k.sibling}b.type===xh?(w=Ld(b.props.children,y.mode,_,b.key),w.return=y,y=w):(_=fw(b.type,b.key,b.props,null,y.mode,_),_.ref=a0(y,w,b),_.return=y,y=_)}return i(y);case vh:e:{for(k=b.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(y,w.sibling),w=a(w,b.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else t(y,w);w=w.sibling}w=Dj(b,y.mode,_),w.return=y,y=w}return i(y);case Mc:return k=b._init,v(y,w,k(b._payload),_)}if(C0(b))return g(y,w,b,_);if(Zp(b))return m(y,w,b,_);ay(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(y,w.sibling),w=a(w,b),w.return=y,y=w):(r(y,w),w=Pj(b,y.mode,_),w.return=y,y=w),i(y)):r(y,w)}return v}var xm=E6(!0),C6=E6(!1),Bw=Lu(null),Uw=null,Nh=null,kT=null;function NT(){kT=Nh=Uw=null}function ET(e){var t=Bw.current;$r(Bw),e._currentValue=t}function M2(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Uh(e,t){Uw=e,kT=Nh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ws=!0),e.firstContext=null)}function Fi(e){var t=e._currentValue;if(kT!==e)if(e={context:e,memoizedValue:t,next:null},Nh===null){if(Uw===null)throw Error(We(308));Nh=e,Uw.dependencies={lanes:0,firstContext:e}}else Nh=Nh.next=e;return t}var gd=null;function CT(e){gd===null?gd=[e]:gd.push(e)}function T6(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,CT(t)):(r.next=a.next,a.next=r),t.interleaved=r,tc(e,n)}function tc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fc=!1;function TT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,rr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,tc(e,r)}return a=n.interleaved,a===null?(t.next=t,CT(n)):(t.next=a.next,a.next=t),n.interleaved=t,tc(e,r)}function iw(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,mT(e,r)}}function ED(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vw(e,t,r,n){var a=e.updateQueue;Fc=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Xr({},f,h);break e;case 2:Fc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Kd|=i,e.lanes=i,e.memoizedState=f}}function CD(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(We(191,a));a.call(n)}}}var Jv={},nl=Lu(Jv),Rg=Lu(Jv),Ig=Lu(Jv);function vd(e){if(e===Jv)throw Error(We(174));return e}function AT(e,t){switch(Or(Ig,t),Or(Rg,e),Or(nl,Jv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:g2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=g2(t,e)}$r(nl),Or(nl,t)}function ym(){$r(nl),$r(Rg),$r(Ig)}function O6(e){vd(Ig.current);var t=vd(nl.current),r=g2(t,e.type);t!==r&&(Or(Rg,e),Or(nl,r))}function OT(e){Rg.current===e&&($r(nl),$r(Rg))}var qr=Lu(0);function zw(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nj=[];function PT(){for(var e=0;e<Nj.length;e++)Nj[e]._workInProgressVersionPrimary=null;Nj.length=0}var ow=pc.ReactCurrentDispatcher,Ej=pc.ReactCurrentBatchConfig,Gd=0,Yr=null,Pn=null,zn=null,Ww=!1,q0=!1,Mg=0,UZ=0;function da(){throw Error(We(321))}function DT(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ko(e[r],t[r]))return!1;return!0}function RT(e,t,r,n,a,s){if(Gd=s,Yr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ow.current=e===null||e.memoizedState===null?HZ:qZ,e=r(n,a),q0){s=0;do{if(q0=!1,Mg=0,25<=s)throw Error(We(301));s+=1,zn=Pn=null,t.updateQueue=null,ow.current=GZ,e=r(n,a)}while(q0)}if(ow.current=Hw,t=Pn!==null&&Pn.next!==null,Gd=0,zn=Pn=Yr=null,Ww=!1,t)throw Error(We(300));return e}function IT(){var e=Mg!==0;return Mg=0,e}function zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?Yr.memoizedState=zn=e:zn=zn.next=e,zn}function Li(){if(Pn===null){var e=Yr.alternate;e=e!==null?e.memoizedState:null}else e=Pn.next;var t=zn===null?Yr.memoizedState:zn.next;if(t!==null)zn=t,Pn=e;else{if(e===null)throw Error(We(310));Pn=e,e={memoizedState:Pn.memoizedState,baseState:Pn.baseState,baseQueue:Pn.baseQueue,queue:Pn.queue,next:null},zn===null?Yr.memoizedState=zn=e:zn=zn.next=e}return zn}function Fg(e,t){return typeof t=="function"?t(e):t}function Cj(e){var t=Li(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=Pn,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((Gd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Yr.lanes|=d,Kd|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,ko(n,t.memoizedState)||(ws=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Yr.lanes|=s,Kd|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Tj(e){var t=Li(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);ko(s,t.memoizedState)||(ws=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function P6(){}function D6(e,t){var r=Yr,n=Li(),a=t(),s=!ko(n.memoizedState,a);if(s&&(n.memoizedState=a,ws=!0),n=n.queue,MT(M6.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||zn!==null&&zn.memoizedState.tag&1){if(r.flags|=2048,Lg(9,I6.bind(null,r,n,a,t),void 0,null),qn===null)throw Error(We(349));Gd&30||R6(r,t,a)}return a}function R6(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Yr.updateQueue,t===null?(t={lastEffect:null,stores:null},Yr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function I6(e,t,r,n){t.value=r,t.getSnapshot=n,F6(t)&&L6(e)}function M6(e,t,r){return r(function(){F6(t)&&L6(e)})}function F6(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ko(e,r)}catch{return!0}}function L6(e){var t=tc(e,1);t!==null&&bo(t,e,1,-1)}function TD(e){var t=zo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fg,lastRenderedState:e},t.queue=e,e=e.dispatch=WZ.bind(null,Yr,e),[t.memoizedState,e]}function Lg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Yr.updateQueue,t===null?(t={lastEffect:null,stores:null},Yr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function $6(){return Li().memoizedState}function lw(e,t,r,n){var a=zo();Yr.flags|=e,a.memoizedState=Lg(1|t,r,void 0,n===void 0?null:n)}function Xb(e,t,r,n){var a=Li();n=n===void 0?null:n;var s=void 0;if(Pn!==null){var i=Pn.memoizedState;if(s=i.destroy,n!==null&&DT(n,i.deps)){a.memoizedState=Lg(t,r,s,n);return}}Yr.flags|=e,a.memoizedState=Lg(1|t,r,s,n)}function AD(e,t){return lw(8390656,8,e,t)}function MT(e,t){return Xb(2048,8,e,t)}function B6(e,t){return Xb(4,2,e,t)}function U6(e,t){return Xb(4,4,e,t)}function V6(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function z6(e,t,r){return r=r!=null?r.concat([e]):null,Xb(4,4,V6.bind(null,t,e),r)}function FT(){}function W6(e,t){var r=Li();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&DT(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function H6(e,t){var r=Li();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&DT(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function q6(e,t,r){return Gd&21?(ko(r,t)||(r=J8(),Yr.lanes|=r,Kd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=r)}function VZ(e,t){var r=gr;gr=r!==0&&4>r?r:4,e(!0);var n=Ej.transition;Ej.transition={};try{e(!1),t()}finally{gr=r,Ej.transition=n}}function G6(){return Li().memoizedState}function zZ(e,t,r){var n=vu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},K6(e))Y6(t,r);else if(r=T6(e,t,r,n),r!==null){var a=is();bo(r,e,n,a),X6(r,t,n)}}function WZ(e,t,r){var n=vu(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(K6(e))Y6(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,ko(l,i)){var c=t.interleaved;c===null?(a.next=a,CT(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=T6(e,t,a,n),r!==null&&(a=is(),bo(r,e,n,a),X6(r,t,n))}}function K6(e){var t=e.alternate;return e===Yr||t!==null&&t===Yr}function Y6(e,t){q0=Ww=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function X6(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,mT(e,r)}}var Hw={readContext:Fi,useCallback:da,useContext:da,useEffect:da,useImperativeHandle:da,useInsertionEffect:da,useLayoutEffect:da,useMemo:da,useReducer:da,useRef:da,useState:da,useDebugValue:da,useDeferredValue:da,useTransition:da,useMutableSource:da,useSyncExternalStore:da,useId:da,unstable_isNewReconciler:!1},HZ={readContext:Fi,useCallback:function(e,t){return zo().memoizedState=[e,t===void 0?null:t],e},useContext:Fi,useEffect:AD,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,lw(4194308,4,V6.bind(null,t,e),r)},useLayoutEffect:function(e,t){return lw(4194308,4,e,t)},useInsertionEffect:function(e,t){return lw(4,2,e,t)},useMemo:function(e,t){var r=zo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=zo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=zZ.bind(null,Yr,e),[n.memoizedState,e]},useRef:function(e){var t=zo();return e={current:e},t.memoizedState=e},useState:TD,useDebugValue:FT,useDeferredValue:function(e){return zo().memoizedState=e},useTransition:function(){var e=TD(!1),t=e[0];return e=VZ.bind(null,e[1]),zo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Yr,a=zo();if(Vr){if(r===void 0)throw Error(We(407));r=r()}else{if(r=t(),qn===null)throw Error(We(349));Gd&30||R6(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,AD(M6.bind(null,n,s,e),[e]),n.flags|=2048,Lg(9,I6.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=zo(),t=qn.identifierPrefix;if(Vr){var r=Ul,n=Bl;r=(n&~(1<<32-wo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Mg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=UZ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qZ={readContext:Fi,useCallback:W6,useContext:Fi,useEffect:MT,useImperativeHandle:z6,useInsertionEffect:B6,useLayoutEffect:U6,useMemo:H6,useReducer:Cj,useRef:$6,useState:function(){return Cj(Fg)},useDebugValue:FT,useDeferredValue:function(e){var t=Li();return q6(t,Pn.memoizedState,e)},useTransition:function(){var e=Cj(Fg)[0],t=Li().memoizedState;return[e,t]},useMutableSource:P6,useSyncExternalStore:D6,useId:G6,unstable_isNewReconciler:!1},GZ={readContext:Fi,useCallback:W6,useContext:Fi,useEffect:MT,useImperativeHandle:z6,useInsertionEffect:B6,useLayoutEffect:U6,useMemo:H6,useReducer:Tj,useRef:$6,useState:function(){return Tj(Fg)},useDebugValue:FT,useDeferredValue:function(e){var t=Li();return Pn===null?t.memoizedState=e:q6(t,Pn.memoizedState,e)},useTransition:function(){var e=Tj(Fg)[0],t=Li().memoizedState;return[e,t]},useMutableSource:P6,useSyncExternalStore:D6,useId:G6,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){t=Xr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function F2(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Xr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Jb={isMounted:function(e){return(e=e._reactInternals)?jf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=is(),a=vu(e),s=Gl(n,a);s.payload=t,r!=null&&(s.callback=r),t=pu(e,s,a),t!==null&&(bo(t,e,a,n),iw(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=is(),a=vu(e),s=Gl(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=pu(e,s,a),t!==null&&(bo(t,e,a,n),iw(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=is(),n=vu(e),a=Gl(r,n);a.tag=2,t!=null&&(a.callback=t),t=pu(e,a,n),t!==null&&(bo(t,e,n,r),iw(t,e,n))}};function OD(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!Ag(r,n)||!Ag(a,s):!0}function J6(e,t,r){var n=!1,a=Eu,s=t.contextType;return typeof s=="object"&&s!==null?s=Fi(s):(a=js(t)?Hd:Ra.current,n=t.contextTypes,s=(n=n!=null)?gm(e,a):Eu),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jb,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function PD(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Jb.enqueueReplaceState(t,t.state,null)}function L2(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},TT(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Fi(s):(s=js(t)?Hd:Ra.current,a.context=gm(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(F2(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Jb.enqueueReplaceState(a,a.state,null),Vw(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function wm(e,t){try{var r="",n=t;do r+=bQ(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Aj(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $2(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var KZ=typeof WeakMap=="function"?WeakMap:Map;function Q6(e,t,r){r=Gl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Gw||(Gw=!0,Y2=n),$2(e,t)},r}function Z6(e,t,r){r=Gl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){$2(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){$2(e,t),typeof n!="function"&&(gu===null?gu=new Set([this]):gu.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function DD(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new KZ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=lee.bind(null,e,t,r),t.then(e,e))}function RD(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ID(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Gl(-1,1),t.tag=2,pu(r,t,1))),r.lanes|=1),e)}var YZ=pc.ReactCurrentOwner,ws=!1;function qa(e,t,r,n){t.child=e===null?C6(t,null,r,n):xm(t,e.child,r,n)}function MD(e,t,r,n,a){r=r.render;var s=t.ref;return Uh(t,a),n=RT(e,t,r,n,s,a),r=IT(),e!==null&&!ws?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,rc(e,t,a)):(Vr&&r&&_T(t),t.flags|=1,qa(e,t,n,a),t.child)}function FD(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!HT(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,eB(e,t,s,n,a)):(e=fw(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ag,r(i,n)&&e.ref===t.ref)return rc(e,t,a)}return t.flags|=1,e=xu(s,n),e.ref=t.ref,e.return=t,t.child=e}function eB(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Ag(s,n)&&e.ref===t.ref)if(ws=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(ws=!0);else return t.lanes=e.lanes,rc(e,t,a)}return B2(e,t,r,n,a)}function tB(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Or(Ch,qs),qs|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Or(Ch,qs),qs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Or(Ch,qs),qs|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Or(Ch,qs),qs|=n;return qa(e,t,a,r),t.child}function rB(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function B2(e,t,r,n,a){var s=js(r)?Hd:Ra.current;return s=gm(t,s),Uh(t,a),r=RT(e,t,r,n,s,a),n=IT(),e!==null&&!ws?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,rc(e,t,a)):(Vr&&n&&_T(t),t.flags|=1,qa(e,t,r,a),t.child)}function LD(e,t,r,n,a){if(js(r)){var s=!0;Fw(t)}else s=!1;if(Uh(t,a),t.stateNode===null)cw(e,t),J6(t,r,n),L2(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Fi(u):(u=js(r)?Hd:Ra.current,u=gm(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&PD(t,i,n,u),Fc=!1;var h=t.memoizedState;i.state=h,Vw(t,n,i,a),c=t.memoizedState,l!==n||h!==c||Ss.current||Fc?(typeof d=="function"&&(F2(t,r,d,n),c=t.memoizedState),(l=Fc||OD(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,A6(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:no(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Fi(c):(c=js(r)?Hd:Ra.current,c=gm(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&PD(t,i,n,c),Fc=!1,h=t.memoizedState,i.state=h,Vw(t,n,i,a);var g=t.memoizedState;l!==f||h!==g||Ss.current||Fc?(typeof p=="function"&&(F2(t,r,p,n),g=t.memoizedState),(u=Fc||OD(t,r,u,n,h,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return U2(e,t,r,n,s,a)}function U2(e,t,r,n,a,s){rB(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&SD(t,r,!1),rc(e,t,s);n=t.stateNode,YZ.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=xm(t,e.child,null,s),t.child=xm(t,null,l,s)):qa(e,t,l,s),t.memoizedState=n.state,a&&SD(t,r,!0),t.child}function nB(e){var t=e.stateNode;t.pendingContext?_D(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_D(e,t.context,!1),AT(e,t.containerInfo)}function $D(e,t,r,n,a){return vm(),jT(a),t.flags|=256,qa(e,t,r,n),t.child}var V2={dehydrated:null,treeContext:null,retryLane:0};function z2(e){return{baseLanes:e,cachePool:null,transitions:null}}function aB(e,t,r){var n=t.pendingProps,a=qr.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Or(qr,a&1),e===null)return I2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=e_(i,n,0,null),e=Ld(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=z2(r),t.memoizedState=V2,e):LT(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return XZ(e,t,i,n,l,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=xu(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=xu(l,s):(s=Ld(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?z2(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=V2,n}return s=e.child,e=s.sibling,n=xu(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function LT(e,t){return t=e_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sy(e,t,r,n){return n!==null&&jT(n),xm(t,e.child,null,r),e=LT(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function XZ(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=Aj(Error(We(422))),sy(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=e_({mode:"visible",children:n.children},a,0,null),s=Ld(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&xm(t,e.child,null,i),t.child.memoizedState=z2(i),t.memoizedState=V2,s);if(!(t.mode&1))return sy(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(We(419)),n=Aj(s,n,void 0),sy(e,t,i,n)}if(l=(i&e.childLanes)!==0,ws||l){if(n=qn,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,tc(e,a),bo(n,e,a,-1))}return WT(),n=Aj(Error(We(421))),sy(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=cee.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ni=mu(a.nextSibling),si=t,Vr=!0,fo=null,e!==null&&(Ci[Ti++]=Bl,Ci[Ti++]=Ul,Ci[Ti++]=qd,Bl=e.id,Ul=e.overflow,qd=t),t=LT(t,n.children),t.flags|=4096,t)}function BD(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),M2(e.return,t,r)}function Oj(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function sB(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(qa(e,t,n.children,r),n=qr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&BD(e,r,t);else if(e.tag===19)BD(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Or(qr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&zw(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Oj(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&zw(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Oj(t,!0,r,null,s);break;case"together":Oj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Kd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(We(153));if(t.child!==null){for(e=t.child,r=xu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function JZ(e,t,r){switch(t.tag){case 3:nB(t),vm();break;case 5:O6(t);break;case 1:js(t.type)&&Fw(t);break;case 4:AT(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Or(Bw,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Or(qr,qr.current&1),t.flags|=128,null):r&t.child.childLanes?aB(e,t,r):(Or(qr,qr.current&1),e=rc(e,t,r),e!==null?e.sibling:null);Or(qr,qr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return sB(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Or(qr,qr.current),n)break;return null;case 22:case 23:return t.lanes=0,tB(e,t,r)}return rc(e,t,r)}var iB,W2,oB,lB;iB=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};W2=function(){};oB=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,vd(nl.current);var s=null;switch(r){case"input":a=f2(e,a),n=f2(e,n),s=[];break;case"select":a=Xr({},a,{value:void 0}),n=Xr({},n,{value:void 0}),s=[];break;case"textarea":a=p2(e,a),n=p2(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Iw)}v2(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sg.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sg.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Mr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};lB=function(e,t,r,n){r!==n&&(t.flags|=4)};function s0(e,t){if(!Vr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function fa(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function QZ(e,t,r){var n=t.pendingProps;switch(ST(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fa(t),null;case 1:return js(t.type)&&Mw(),fa(t),null;case 3:return n=t.stateNode,ym(),$r(Ss),$r(Ra),PT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ny(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fo!==null&&(Q2(fo),fo=null))),W2(e,t),fa(t),null;case 5:OT(t);var a=vd(Ig.current);if(r=t.type,e!==null&&t.stateNode!=null)oB(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(We(166));return fa(t),null}if(e=vd(nl.current),ny(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Ko]=t,n[Dg]=s,e=(t.mode&1)!==0,r){case"dialog":Mr("cancel",n),Mr("close",n);break;case"iframe":case"object":case"embed":Mr("load",n);break;case"video":case"audio":for(a=0;a<A0.length;a++)Mr(A0[a],n);break;case"source":Mr("error",n);break;case"img":case"image":case"link":Mr("error",n),Mr("load",n);break;case"details":Mr("toggle",n);break;case"input":Y4(n,s),Mr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Mr("invalid",n);break;case"textarea":J4(n,s),Mr("invalid",n)}v2(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&ry(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ry(n.textContent,l,e),a=["children",""+l]):Sg.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Mr("scroll",n)}switch(r){case"input":Kx(n),X4(n,s,!0);break;case"textarea":Kx(n),Q4(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Iw)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=M8(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Ko]=t,e[Dg]=n,iB(e,t,!1,!1),t.stateNode=e;e:{switch(i=x2(r,n),r){case"dialog":Mr("cancel",e),Mr("close",e),a=n;break;case"iframe":case"object":case"embed":Mr("load",e),a=n;break;case"video":case"audio":for(a=0;a<A0.length;a++)Mr(A0[a],e);a=n;break;case"source":Mr("error",e),a=n;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),a=n;break;case"details":Mr("toggle",e),a=n;break;case"input":Y4(e,n),a=f2(e,n),Mr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Xr({},n,{value:void 0}),Mr("invalid",e);break;case"textarea":J4(e,n),a=p2(e,n),Mr("invalid",e);break;default:a=n}v2(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?$8(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&F8(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&jg(e,c):typeof c=="number"&&jg(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Sg.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Mr("scroll",e):c!=null&&lT(e,s,c,i))}switch(r){case"input":Kx(e),X4(e,n,!1);break;case"textarea":Kx(e),Q4(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Nu(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Fh(e,!!n.multiple,s,!1):n.defaultValue!=null&&Fh(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Iw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fa(t),null;case 6:if(e&&t.stateNode!=null)lB(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(We(166));if(r=vd(Ig.current),vd(nl.current),ny(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ko]=t,(s=n.nodeValue!==r)&&(e=si,e!==null))switch(e.tag){case 3:ry(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ry(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ko]=t,t.stateNode=n}return fa(t),null;case 13:if($r(qr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Vr&&ni!==null&&t.mode&1&&!(t.flags&128))N6(),vm(),t.flags|=98560,s=!1;else if(s=ny(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(We(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(We(317));s[Ko]=t}else vm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fa(t),s=!1}else fo!==null&&(Q2(fo),fo=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||qr.current&1?In===0&&(In=3):WT())),t.updateQueue!==null&&(t.flags|=4),fa(t),null);case 4:return ym(),W2(e,t),e===null&&Og(t.stateNode.containerInfo),fa(t),null;case 10:return ET(t.type._context),fa(t),null;case 17:return js(t.type)&&Mw(),fa(t),null;case 19:if($r(qr),s=t.memoizedState,s===null)return fa(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)s0(s,!1);else{if(In!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=zw(e),i!==null){for(t.flags|=128,s0(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Or(qr,qr.current&1|2),t.child}e=e.sibling}s.tail!==null&&sn()>bm&&(t.flags|=128,n=!0,s0(s,!1),t.lanes=4194304)}else{if(!n)if(e=zw(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),s0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Vr)return fa(t),null}else 2*sn()-s.renderingStartTime>bm&&r!==1073741824&&(t.flags|=128,n=!0,s0(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=sn(),t.sibling=null,r=qr.current,Or(qr,n?r&1|2:r&1),t):(fa(t),null);case 22:case 23:return zT(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?qs&1073741824&&(fa(t),t.subtreeFlags&6&&(t.flags|=8192)):fa(t),null;case 24:return null;case 25:return null}throw Error(We(156,t.tag))}function ZZ(e,t){switch(ST(t),t.tag){case 1:return js(t.type)&&Mw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ym(),$r(Ss),$r(Ra),PT(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return OT(t),null;case 13:if($r(qr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(We(340));vm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $r(qr),null;case 4:return ym(),null;case 10:return ET(t.type._context),null;case 22:case 23:return zT(),null;case 24:return null;default:return null}}var iy=!1,ja=!1,eee=typeof WeakSet=="function"?WeakSet:Set,it=null;function Eh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Zr(e,t,n)}else r.current=null}function H2(e,t,r){try{r()}catch(n){Zr(e,t,n)}}var UD=!1;function tee(e,t){if(C2=Pw,e=h6(),bT(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=i),h===s&&++d===n&&(c=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(T2={focusedElem:e,selectionRange:r},Pw=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){t=it;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:no(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(_){Zr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}return g=UD,UD=!1,g}function G0(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&H2(t,r,s)}a=a.next}while(a!==n)}}function Qb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function q2(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function cB(e){var t=e.alternate;t!==null&&(e.alternate=null,cB(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ko],delete t[Dg],delete t[P2],delete t[FZ],delete t[LZ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uB(e){return e.tag===5||e.tag===3||e.tag===4}function VD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uB(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function G2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Iw));else if(n!==4&&(e=e.child,e!==null))for(G2(e,t,r),e=e.sibling;e!==null;)G2(e,t,r),e=e.sibling}function K2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(K2(e,t,r),e=e.sibling;e!==null;)K2(e,t,r),e=e.sibling}var Zn=null,oo=!1;function Cc(e,t,r){for(r=r.child;r!==null;)dB(e,t,r),r=r.sibling}function dB(e,t,r){if(rl&&typeof rl.onCommitFiberUnmount=="function")try{rl.onCommitFiberUnmount(Wb,r)}catch{}switch(r.tag){case 5:ja||Eh(r,t);case 6:var n=Zn,a=oo;Zn=null,Cc(e,t,r),Zn=n,oo=a,Zn!==null&&(oo?(e=Zn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Zn.removeChild(r.stateNode));break;case 18:Zn!==null&&(oo?(e=Zn,r=r.stateNode,e.nodeType===8?jj(e.parentNode,r):e.nodeType===1&&jj(e,r),Cg(e)):jj(Zn,r.stateNode));break;case 4:n=Zn,a=oo,Zn=r.stateNode.containerInfo,oo=!0,Cc(e,t,r),Zn=n,oo=a;break;case 0:case 11:case 14:case 15:if(!ja&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&H2(r,t,i),a=a.next}while(a!==n)}Cc(e,t,r);break;case 1:if(!ja&&(Eh(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Zr(r,t,l)}Cc(e,t,r);break;case 21:Cc(e,t,r);break;case 22:r.mode&1?(ja=(n=ja)||r.memoizedState!==null,Cc(e,t,r),ja=n):Cc(e,t,r);break;default:Cc(e,t,r)}}function zD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new eee),t.forEach(function(n){var a=uee.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Yi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Zn=l.stateNode,oo=!1;break e;case 3:Zn=l.stateNode.containerInfo,oo=!0;break e;case 4:Zn=l.stateNode.containerInfo,oo=!0;break e}l=l.return}if(Zn===null)throw Error(We(160));dB(s,i,a),Zn=null,oo=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Zr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fB(t,e),t=t.sibling}function fB(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yi(t,e),Fo(e),n&4){try{G0(3,e,e.return),Qb(3,e)}catch(m){Zr(e,e.return,m)}try{G0(5,e,e.return)}catch(m){Zr(e,e.return,m)}}break;case 1:Yi(t,e),Fo(e),n&512&&r!==null&&Eh(r,r.return);break;case 5:if(Yi(t,e),Fo(e),n&512&&r!==null&&Eh(r,r.return),e.flags&32){var a=e.stateNode;try{jg(a,"")}catch(m){Zr(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&R8(a,s),x2(l,i);var u=x2(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?$8(a,f):d==="dangerouslySetInnerHTML"?F8(a,f):d==="children"?jg(a,f):lT(a,d,f,u)}switch(l){case"input":h2(a,s);break;case"textarea":I8(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Fh(a,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Fh(a,!!s.multiple,s.defaultValue,!0):Fh(a,!!s.multiple,s.multiple?[]:"",!1))}a[Dg]=s}catch(m){Zr(e,e.return,m)}}break;case 6:if(Yi(t,e),Fo(e),n&4){if(e.stateNode===null)throw Error(We(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(m){Zr(e,e.return,m)}}break;case 3:if(Yi(t,e),Fo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Cg(t.containerInfo)}catch(m){Zr(e,e.return,m)}break;case 4:Yi(t,e),Fo(e);break;case 13:Yi(t,e),Fo(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(UT=sn())),n&4&&zD(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ja=(u=ja)||d,Yi(t,e),ja=u):Yi(t,e),Fo(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(it=e,d=e.child;d!==null;){for(f=it=d;it!==null;){switch(h=it,p=h.child,h.tag){case 0:case 11:case 14:case 15:G0(4,h,h.return);break;case 1:Eh(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Zr(n,r,m)}}break;case 5:Eh(h,h.return);break;case 22:if(h.memoizedState!==null){HD(f);continue}}p!==null?(p.return=h,it=p):HD(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=L8("display",i))}catch(m){Zr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Zr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Yi(t,e),Fo(e),n&4&&zD(e);break;case 21:break;default:Yi(t,e),Fo(e)}}function Fo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(uB(r)){var n=r;break e}r=r.return}throw Error(We(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(jg(a,""),n.flags&=-33);var s=VD(e);K2(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=VD(e);G2(e,l,i);break;default:throw Error(We(161))}}catch(c){Zr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ree(e,t,r){it=e,hB(e)}function hB(e,t,r){for(var n=(e.mode&1)!==0;it!==null;){var a=it,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||iy;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ja;l=iy;var u=ja;if(iy=i,(ja=c)&&!u)for(it=a;it!==null;)i=it,c=i.child,i.tag===22&&i.memoizedState!==null?qD(a):c!==null?(c.return=i,it=c):qD(a);for(;s!==null;)it=s,hB(s),s=s.sibling;it=a,iy=l,ja=u}WD(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,it=s):WD(e)}}function WD(e){for(;it!==null;){var t=it;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ja||Qb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ja)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:no(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&CD(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}CD(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Cg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}ja||t.flags&512&&q2(t)}catch(h){Zr(t,t.return,h)}}if(t===e){it=null;break}if(r=t.sibling,r!==null){r.return=t.return,it=r;break}it=t.return}}function HD(e){for(;it!==null;){var t=it;if(t===e){it=null;break}var r=t.sibling;if(r!==null){r.return=t.return,it=r;break}it=t.return}}function qD(e){for(;it!==null;){var t=it;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Qb(4,t)}catch(c){Zr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Zr(t,a,c)}}var s=t.return;try{q2(t)}catch(c){Zr(t,s,c)}break;case 5:var i=t.return;try{q2(t)}catch(c){Zr(t,i,c)}}}catch(c){Zr(t,t.return,c)}if(t===e){it=null;break}var l=t.sibling;if(l!==null){l.return=t.return,it=l;break}it=t.return}}var nee=Math.ceil,qw=pc.ReactCurrentDispatcher,$T=pc.ReactCurrentOwner,Ri=pc.ReactCurrentBatchConfig,rr=0,qn=null,wn=null,na=0,qs=0,Ch=Lu(0),In=0,$g=null,Kd=0,Zb=0,BT=0,K0=null,ys=null,UT=0,bm=1/0,Al=null,Gw=!1,Y2=null,gu=null,oy=!1,nu=null,Kw=0,Y0=0,X2=null,uw=-1,dw=0;function is(){return rr&6?sn():uw!==-1?uw:uw=sn()}function vu(e){return e.mode&1?rr&2&&na!==0?na&-na:BZ.transition!==null?(dw===0&&(dw=J8()),dw):(e=gr,e!==0||(e=window.event,e=e===void 0?16:a6(e.type)),e):1}function bo(e,t,r,n){if(50<Y0)throw Y0=0,X2=null,Error(We(185));Kv(e,r,n),(!(rr&2)||e!==qn)&&(e===qn&&(!(rr&2)&&(Zb|=r),In===4&&zc(e,na)),ks(e,n),r===1&&rr===0&&!(t.mode&1)&&(bm=sn()+500,Yb&&$u()))}function ks(e,t){var r=e.callbackNode;BQ(e,t);var n=Ow(e,e===qn?na:0);if(n===0)r!==null&&tD(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&tD(r),t===1)e.tag===0?$Z(GD.bind(null,e)):S6(GD.bind(null,e)),IZ(function(){!(rr&6)&&$u()}),r=null;else{switch(Q8(n)){case 1:r=hT;break;case 4:r=Y8;break;case 16:r=Aw;break;case 536870912:r=X8;break;default:r=Aw}r=bB(r,mB.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function mB(e,t){if(uw=-1,dw=0,rr&6)throw Error(We(327));var r=e.callbackNode;if(Vh()&&e.callbackNode!==r)return null;var n=Ow(e,e===qn?na:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Yw(e,n);else{t=n;var a=rr;rr|=2;var s=gB();(qn!==e||na!==t)&&(Al=null,bm=sn()+500,Fd(e,t));do try{iee();break}catch(l){pB(e,l)}while(!0);NT(),qw.current=s,rr=a,wn!==null?t=0:(qn=null,na=0,t=In)}if(t!==0){if(t===2&&(a=S2(e),a!==0&&(n=a,t=J2(e,a))),t===1)throw r=$g,Fd(e,0),zc(e,n),ks(e,sn()),r;if(t===6)zc(e,n);else{if(a=e.current.alternate,!(n&30)&&!aee(a)&&(t=Yw(e,n),t===2&&(s=S2(e),s!==0&&(n=s,t=J2(e,s))),t===1))throw r=$g,Fd(e,0),zc(e,n),ks(e,sn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(We(345));case 2:ad(e,ys,Al);break;case 3:if(zc(e,n),(n&130023424)===n&&(t=UT+500-sn(),10<t)){if(Ow(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){is(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=O2(ad.bind(null,e,ys,Al),t);break}ad(e,ys,Al);break;case 4:if(zc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-wo(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=sn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nee(n/1960))-n,10<n){e.timeoutHandle=O2(ad.bind(null,e,ys,Al),n);break}ad(e,ys,Al);break;case 5:ad(e,ys,Al);break;default:throw Error(We(329))}}}return ks(e,sn()),e.callbackNode===r?mB.bind(null,e):null}function J2(e,t){var r=K0;return e.current.memoizedState.isDehydrated&&(Fd(e,t).flags|=256),e=Yw(e,t),e!==2&&(t=ys,ys=r,t!==null&&Q2(t)),e}function Q2(e){ys===null?ys=e:ys.push.apply(ys,e)}function aee(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!ko(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t){for(t&=~BT,t&=~Zb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wo(t),n=1<<r;e[r]=-1,t&=~n}}function GD(e){if(rr&6)throw Error(We(327));Vh();var t=Ow(e,0);if(!(t&1))return ks(e,sn()),null;var r=Yw(e,t);if(e.tag!==0&&r===2){var n=S2(e);n!==0&&(t=n,r=J2(e,n))}if(r===1)throw r=$g,Fd(e,0),zc(e,t),ks(e,sn()),r;if(r===6)throw Error(We(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ad(e,ys,Al),ks(e,sn()),null}function VT(e,t){var r=rr;rr|=1;try{return e(t)}finally{rr=r,rr===0&&(bm=sn()+500,Yb&&$u())}}function Yd(e){nu!==null&&nu.tag===0&&!(rr&6)&&Vh();var t=rr;rr|=1;var r=Ri.transition,n=gr;try{if(Ri.transition=null,gr=1,e)return e()}finally{gr=n,Ri.transition=r,rr=t,!(rr&6)&&$u()}}function zT(){qs=Ch.current,$r(Ch)}function Fd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,RZ(r)),wn!==null)for(r=wn.return;r!==null;){var n=r;switch(ST(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Mw();break;case 3:ym(),$r(Ss),$r(Ra),PT();break;case 5:OT(n);break;case 4:ym();break;case 13:$r(qr);break;case 19:$r(qr);break;case 10:ET(n.type._context);break;case 22:case 23:zT()}r=r.return}if(qn=e,wn=e=xu(e.current,null),na=qs=t,In=0,$g=null,BT=Zb=Kd=0,ys=K0=null,gd!==null){for(t=0;t<gd.length;t++)if(r=gd[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}gd=null}return e}function pB(e,t){do{var r=wn;try{if(NT(),ow.current=Hw,Ww){for(var n=Yr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ww=!1}if(Gd=0,zn=Pn=Yr=null,q0=!1,Mg=0,$T.current=null,r===null||r.return===null){In=1,$g=t,wn=null;break}e:{var s=e,i=r.return,l=r,c=t;if(t=na,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=RD(i);if(p!==null){p.flags&=-257,ID(p,i,l,s,t),p.mode&1&&DD(s,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){DD(s,u,t),WT();break e}c=Error(We(426))}}else if(Vr&&l.mode&1){var v=RD(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),ID(v,i,l,s,t),jT(wm(c,l));break e}}s=c=wm(c,l),In!==4&&(In=2),K0===null?K0=[s]:K0.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=Q6(s,c,t);ED(s,y);break e;case 1:l=c;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(gu===null||!gu.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=Z6(s,l,t);ED(s,_);break e}}s=s.return}while(s!==null)}xB(r)}catch(S){t=S,wn===r&&r!==null&&(wn=r=r.return);continue}break}while(!0)}function gB(){var e=qw.current;return qw.current=Hw,e===null?Hw:e}function WT(){(In===0||In===3||In===2)&&(In=4),qn===null||!(Kd&268435455)&&!(Zb&268435455)||zc(qn,na)}function Yw(e,t){var r=rr;rr|=2;var n=gB();(qn!==e||na!==t)&&(Al=null,Fd(e,t));do try{see();break}catch(a){pB(e,a)}while(!0);if(NT(),rr=r,qw.current=n,wn!==null)throw Error(We(261));return qn=null,na=0,In}function see(){for(;wn!==null;)vB(wn)}function iee(){for(;wn!==null&&!OQ();)vB(wn)}function vB(e){var t=wB(e.alternate,e,qs);e.memoizedProps=e.pendingProps,t===null?xB(e):wn=t,$T.current=null}function xB(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ZZ(r,t),r!==null){r.flags&=32767,wn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{In=6,wn=null;return}}else if(r=QZ(r,t,qs),r!==null){wn=r;return}if(t=t.sibling,t!==null){wn=t;return}wn=t=e}while(t!==null);In===0&&(In=5)}function ad(e,t,r){var n=gr,a=Ri.transition;try{Ri.transition=null,gr=1,oee(e,t,r,n)}finally{Ri.transition=a,gr=n}return null}function oee(e,t,r,n){do Vh();while(nu!==null);if(rr&6)throw Error(We(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(We(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(UQ(e,s),e===qn&&(wn=qn=null,na=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||oy||(oy=!0,bB(Aw,function(){return Vh(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ri.transition,Ri.transition=null;var i=gr;gr=1;var l=rr;rr|=4,$T.current=null,tee(e,r),fB(r,e),EZ(T2),Pw=!!C2,T2=C2=null,e.current=r,ree(r),PQ(),rr=l,gr=i,Ri.transition=s}else e.current=r;if(oy&&(oy=!1,nu=e,Kw=a),s=e.pendingLanes,s===0&&(gu=null),IQ(r.stateNode),ks(e,sn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Gw)throw Gw=!1,e=Y2,Y2=null,e;return Kw&1&&e.tag!==0&&Vh(),s=e.pendingLanes,s&1?e===X2?Y0++:(Y0=0,X2=e):Y0=0,$u(),null}function Vh(){if(nu!==null){var e=Q8(Kw),t=Ri.transition,r=gr;try{if(Ri.transition=null,gr=16>e?16:e,nu===null)var n=!1;else{if(e=nu,nu=null,Kw=0,rr&6)throw Error(We(331));var a=rr;for(rr|=4,it=e.current;it!==null;){var s=it,i=s.child;if(it.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(it=u;it!==null;){var d=it;switch(d.tag){case 0:case 11:case 15:G0(8,d,s)}var f=d.child;if(f!==null)f.return=d,it=f;else for(;it!==null;){d=it;var h=d.sibling,p=d.return;if(cB(d),d===u){it=null;break}if(h!==null){h.return=p,it=h;break}it=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}it=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,it=i;else e:for(;it!==null;){if(s=it,s.flags&2048)switch(s.tag){case 0:case 11:case 15:G0(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,it=y;break e}it=s.return}}var w=e.current;for(it=w;it!==null;){i=it;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,it=b;else e:for(i=w;it!==null;){if(l=it,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qb(9,l)}}catch(S){Zr(l,l.return,S)}if(l===i){it=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,it=_;break e}it=l.return}}if(rr=a,$u(),rl&&typeof rl.onPostCommitFiberRoot=="function")try{rl.onPostCommitFiberRoot(Wb,e)}catch{}n=!0}return n}finally{gr=r,Ri.transition=t}}return!1}function KD(e,t,r){t=wm(r,t),t=Q6(e,t,1),e=pu(e,t,1),t=is(),e!==null&&(Kv(e,1,t),ks(e,t))}function Zr(e,t,r){if(e.tag===3)KD(e,e,r);else for(;t!==null;){if(t.tag===3){KD(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(gu===null||!gu.has(n))){e=wm(r,e),e=Z6(t,e,1),t=pu(t,e,1),e=is(),t!==null&&(Kv(t,1,e),ks(t,e));break}}t=t.return}}function lee(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=is(),e.pingedLanes|=e.suspendedLanes&r,qn===e&&(na&r)===r&&(In===4||In===3&&(na&130023424)===na&&500>sn()-UT?Fd(e,0):BT|=r),ks(e,t)}function yB(e,t){t===0&&(e.mode&1?(t=Jx,Jx<<=1,!(Jx&130023424)&&(Jx=4194304)):t=1);var r=is();e=tc(e,t),e!==null&&(Kv(e,t,r),ks(e,r))}function cee(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yB(e,r)}function uee(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(We(314))}n!==null&&n.delete(t),yB(e,r)}var wB;wB=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ss.current)ws=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ws=!1,JZ(e,t,r);ws=!!(e.flags&131072)}else ws=!1,Vr&&t.flags&1048576&&j6(t,$w,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;cw(e,t),e=t.pendingProps;var a=gm(t,Ra.current);Uh(t,r),a=RT(null,t,n,e,a,r);var s=IT();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,js(n)?(s=!0,Fw(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,TT(t),a.updater=Jb,t.stateNode=a,a._reactInternals=t,L2(t,n,e,r),t=U2(null,t,n,!0,s,r)):(t.tag=0,Vr&&s&&_T(t),qa(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(cw(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=fee(n),e=no(n,e),a){case 0:t=B2(null,t,n,e,r);break e;case 1:t=LD(null,t,n,e,r);break e;case 11:t=MD(null,t,n,e,r);break e;case 14:t=FD(null,t,n,no(n.type,e),r);break e}throw Error(We(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:no(n,a),B2(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:no(n,a),LD(e,t,n,a,r);case 3:e:{if(nB(t),e===null)throw Error(We(387));n=t.pendingProps,s=t.memoizedState,a=s.element,A6(e,t),Vw(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=wm(Error(We(423)),t),t=$D(e,t,n,r,a);break e}else if(n!==a){a=wm(Error(We(424)),t),t=$D(e,t,n,r,a);break e}else for(ni=mu(t.stateNode.containerInfo.firstChild),si=t,Vr=!0,fo=null,r=C6(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vm(),n===a){t=rc(e,t,r);break e}qa(e,t,n,r)}t=t.child}return t;case 5:return O6(t),e===null&&I2(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,A2(n,a)?i=null:s!==null&&A2(n,s)&&(t.flags|=32),rB(e,t),qa(e,t,i,r),t.child;case 6:return e===null&&I2(t),null;case 13:return aB(e,t,r);case 4:return AT(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=xm(t,null,n,r):qa(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:no(n,a),MD(e,t,n,a,r);case 7:return qa(e,t,t.pendingProps,r),t.child;case 8:return qa(e,t,t.pendingProps.children,r),t.child;case 12:return qa(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,Or(Bw,n._currentValue),n._currentValue=i,s!==null)if(ko(s.value,i)){if(s.children===a.children&&!Ss.current){t=rc(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Gl(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),M2(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(We(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),M2(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}qa(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Uh(t,r),a=Fi(a),n=n(a),t.flags|=1,qa(e,t,n,r),t.child;case 14:return n=t.type,a=no(n,t.pendingProps),a=no(n.type,a),FD(e,t,n,a,r);case 15:return eB(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:no(n,a),cw(e,t),t.tag=1,js(n)?(e=!0,Fw(t)):e=!1,Uh(t,r),J6(t,n,a),L2(t,n,a,r),U2(null,t,n,!0,e,r);case 19:return sB(e,t,r);case 22:return tB(e,t,r)}throw Error(We(156,t.tag))};function bB(e,t){return K8(e,t)}function dee(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(e,t,r,n){return new dee(e,t,r,n)}function HT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fee(e){if(typeof e=="function")return HT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uT)return 11;if(e===dT)return 14}return 2}function xu(e,t){var r=e.alternate;return r===null?(r=Pi(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fw(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")HT(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case xh:return Ld(r.children,a,s,t);case cT:i=8,a|=8;break;case l2:return e=Pi(12,r,t,a|2),e.elementType=l2,e.lanes=s,e;case c2:return e=Pi(13,r,t,a),e.elementType=c2,e.lanes=s,e;case u2:return e=Pi(19,r,t,a),e.elementType=u2,e.lanes=s,e;case O8:return e_(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T8:i=10;break e;case A8:i=9;break e;case uT:i=11;break e;case dT:i=14;break e;case Mc:i=16,n=null;break e}throw Error(We(130,e==null?e:typeof e,""))}return t=Pi(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Ld(e,t,r,n){return e=Pi(7,e,n,t),e.lanes=r,e}function e_(e,t,r,n){return e=Pi(22,e,n,t),e.elementType=O8,e.lanes=r,e.stateNode={isHidden:!1},e}function Pj(e,t,r){return e=Pi(6,e,null,t),e.lanes=r,e}function Dj(e,t,r){return t=Pi(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hee(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hj(0),this.expirationTimes=hj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hj(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function qT(e,t,r,n,a,s,i,l,c){return e=new hee(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Pi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},TT(s),e}function mee(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _B(e){if(!e)return Eu;e=e._reactInternals;e:{if(jf(e)!==e||e.tag!==1)throw Error(We(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(js(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(We(171))}if(e.tag===1){var r=e.type;if(js(r))return _6(e,r,t)}return t}function SB(e,t,r,n,a,s,i,l,c){return e=qT(r,n,!0,e,a,s,i,l,c),e.context=_B(null),r=e.current,n=is(),a=vu(r),s=Gl(n,a),s.callback=t??null,pu(r,s,a),e.current.lanes=a,Kv(e,a,n),ks(e,n),e}function t_(e,t,r,n){var a=t.current,s=is(),i=vu(a);return r=_B(r),t.context===null?t.context=r:t.pendingContext=r,t=Gl(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=pu(a,t,i),e!==null&&(bo(e,a,i,s),iw(e,a,i)),i}function Xw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function YD(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function GT(e,t){YD(e,t),(e=e.alternate)&&YD(e,t)}function pee(){return null}var jB=typeof reportError=="function"?reportError:function(e){console.error(e)};function KT(e){this._internalRoot=e}r_.prototype.render=KT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(We(409));t_(e,t,null,null)};r_.prototype.unmount=KT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yd(function(){t_(null,e,null,null)}),t[ec]=null}};function r_(e){this._internalRoot=e}r_.prototype.unstable_scheduleHydration=function(e){if(e){var t=t6();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Vc.length&&t!==0&&t<Vc[r].priority;r++);Vc.splice(r,0,e),r===0&&n6(e)}};function YT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function n_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function XD(){}function gee(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=Xw(i);s.call(u)}}var i=SB(t,n,e,0,null,!1,!1,"",XD);return e._reactRootContainer=i,e[ec]=i.current,Og(e.nodeType===8?e.parentNode:e),Yd(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Xw(c);l.call(u)}}var c=qT(e,0,!1,null,null,!1,!1,"",XD);return e._reactRootContainer=c,e[ec]=c.current,Og(e.nodeType===8?e.parentNode:e),Yd(function(){t_(t,c,r,n)}),c}function a_(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=Xw(i);l.call(c)}}t_(t,i,e,a)}else i=gee(r,t,e,a,n);return Xw(i)}Z8=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=T0(t.pendingLanes);r!==0&&(mT(t,r|1),ks(t,sn()),!(rr&6)&&(bm=sn()+500,$u()))}break;case 13:Yd(function(){var n=tc(e,1);if(n!==null){var a=is();bo(n,e,1,a)}}),GT(e,1)}};pT=function(e){if(e.tag===13){var t=tc(e,134217728);if(t!==null){var r=is();bo(t,e,134217728,r)}GT(e,134217728)}};e6=function(e){if(e.tag===13){var t=vu(e),r=tc(e,t);if(r!==null){var n=is();bo(r,e,t,n)}GT(e,t)}};t6=function(){return gr};r6=function(e,t){var r=gr;try{return gr=e,t()}finally{gr=r}};w2=function(e,t,r){switch(t){case"input":if(h2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Kb(n);if(!a)throw Error(We(90));D8(n),h2(n,a)}}}break;case"textarea":I8(e,r);break;case"select":t=r.value,t!=null&&Fh(e,!!r.multiple,t,!1)}};V8=VT;z8=Yd;var vee={usingClientEntryPoint:!1,Events:[Xv,_h,Kb,B8,U8,VT]},i0={findFiberByHostInstance:pd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xee={bundleType:i0.bundleType,version:i0.version,rendererPackageName:i0.rendererPackageName,rendererConfig:i0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=q8(e),e===null?null:e.stateNode},findFiberByHostInstance:i0.findFiberByHostInstance||pee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ly=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ly.isDisabled&&ly.supportsFiber)try{Wb=ly.inject(xee),rl=ly}catch{}}mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vee;mi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!YT(t))throw Error(We(200));return mee(e,t,null,r)};mi.createRoot=function(e,t){if(!YT(e))throw Error(We(299));var r=!1,n="",a=jB;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=qT(e,1,!1,null,null,r,!1,n,a),e[ec]=t.current,Og(e.nodeType===8?e.parentNode:e),new KT(t)};mi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(We(188)):(e=Object.keys(e).join(","),Error(We(268,e)));return e=q8(t),e=e===null?null:e.stateNode,e};mi.flushSync=function(e){return Yd(e)};mi.hydrate=function(e,t,r){if(!n_(t))throw Error(We(200));return a_(null,e,t,!0,r)};mi.hydrateRoot=function(e,t,r){if(!YT(e))throw Error(We(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=jB;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=SB(t,null,e,1,r??null,a,!1,s,i),e[ec]=t.current,Og(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new r_(t)};mi.render=function(e,t,r){if(!n_(t))throw Error(We(200));return a_(null,e,t,!1,r)};mi.unmountComponentAtNode=function(e){if(!n_(e))throw Error(We(40));return e._reactRootContainer?(Yd(function(){a_(null,null,e,!1,function(){e._reactRootContainer=null,e[ec]=null})}),!0):!1};mi.unstable_batchedUpdates=VT;mi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!n_(r))throw Error(We(200));if(e==null||e._reactInternals===void 0)throw Error(We(38));return a_(e,t,r,!1,n)};mi.version="18.3.1-next-f1338f8080-20240426";function kB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kB)}catch(e){console.error(e)}}kB(),k8.exports=mi;var vp=k8.exports;const yee=hr(vp);var NB,JD=vp;NB=JD.createRoot,JD.hydrateRoot;var Qv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xd=typeof window>"u"||"Deno"in globalThis;function xs(){}function wee(e,t){return typeof e=="function"?e(t):e}function Z2(e){return typeof e=="number"&&e>=0&&e!==1/0}function EB(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yu(e,t){return typeof e=="function"?e(t):e}function Ni(e,t){return typeof e=="function"?e(t):e}function QD(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==XT(i,t.options))return!1}else if(!Ug(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function ZD(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Bg(t.options.mutationKey)!==Bg(s))return!1}else if(!Ug(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function XT(e,t){return((t==null?void 0:t.queryKeyHashFn)||Bg)(e)}function Bg(e){return JSON.stringify(e,(t,r)=>tN(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ug(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ug(e[r],t[r])):!1}function CB(e,t){if(e===t)return e;const r=eR(e)&&eR(t);if(r||tN(e)&&tN(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),i=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<i;d++){const f=r?d:s[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=CB(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===i&&u===a?e:l}return t}function eN(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function eR(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function tN(e){if(!tR(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!tR(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function tR(e){return Object.prototype.toString.call(e)==="[object Object]"}function bee(e){return new Promise(t=>{setTimeout(t,e)})}function rN(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?CB(e,t):t}function _ee(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function See(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var JT=Symbol();function TB(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===JT?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function jee(e,t){return typeof e=="function"?e(...t):!!e}var Cd,Kc,nm,n8,kee=(n8=class extends Qv{constructor(){super();Nt(this,Cd);Nt(this,Kc);Nt(this,nm);lt(this,nm,t=>{if(!Xd&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){fe(this,Kc)||this.setEventListener(fe(this,nm))}onUnsubscribe(){var t;this.hasListeners()||((t=fe(this,Kc))==null||t.call(this),lt(this,Kc,void 0))}setEventListener(t){var r;lt(this,nm,t),(r=fe(this,Kc))==null||r.call(this),lt(this,Kc,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){fe(this,Cd)!==t&&(lt(this,Cd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof fe(this,Cd)=="boolean"?fe(this,Cd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Cd=new WeakMap,Kc=new WeakMap,nm=new WeakMap,n8),QT=new kee,am,Yc,sm,a8,Nee=(a8=class extends Qv{constructor(){super();Nt(this,am,!0);Nt(this,Yc);Nt(this,sm);lt(this,sm,t=>{if(!Xd&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){fe(this,Yc)||this.setEventListener(fe(this,sm))}onUnsubscribe(){var t;this.hasListeners()||((t=fe(this,Yc))==null||t.call(this),lt(this,Yc,void 0))}setEventListener(t){var r;lt(this,sm,t),(r=fe(this,Yc))==null||r.call(this),lt(this,Yc,t(this.setOnline.bind(this)))}setOnline(t){fe(this,am)!==t&&(lt(this,am,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return fe(this,am)}},am=new WeakMap,Yc=new WeakMap,sm=new WeakMap,a8),Jw=new Nee;function nN(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function Eee(e){return Math.min(1e3*2**e,3e4)}function AB(e){return(e??"online")==="online"?Jw.isOnline():!0}var OB=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Rj(e){return e instanceof OB}function PB(e){let t=!1,r=0,n=!1,a;const s=nN(),i=m=>{var v;n||(h(new OB(m)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>QT.isFocused()&&(e.networkMode==="always"||Jw.isOnline())&&e.canRun(),d=()=>AB(e.networkMode)&&e.canRun(),f=m=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,m),a==null||a(),s.resolve(m))},h=m=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,m),a==null||a(),s.reject(m))},p=()=>new Promise(m=>{var v;a=y=>{(n||u())&&m(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;a=void 0,n||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(n)return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{var k;if(n)return;const w=e.retry??(Xd?0:3),b=e.retryDelay??Eee,_=typeof b=="function"?b(r,y):b,S=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,y);if(t||!S){h(y);return}r++,(k=e.onFail)==null||k.call(e,r,y),bee(_).then(()=>u()?void 0:p()).then(()=>{t?h(y):g()})})};return{promise:s,cancel:i,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),s)}}var Cee=e=>setTimeout(e,0);function Tee(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=Cee;const s=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var ra=Tee(),Td,s8,DB=(s8=class{constructor(){Nt(this,Td)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Z2(this.gcTime)&&lt(this,Td,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xd?1/0:5*60*1e3))}clearGcTimeout(){fe(this,Td)&&(clearTimeout(fe(this,Td)),lt(this,Td,void 0))}},Td=new WeakMap,s8),im,Ad,ki,Od,ba,zv,Pd,so,Tl,i8,Aee=(i8=class extends DB{constructor(t){super();Nt(this,so);Nt(this,im);Nt(this,Ad);Nt(this,ki);Nt(this,Od);Nt(this,ba);Nt(this,zv);Nt(this,Pd);lt(this,Pd,!1),lt(this,zv,t.defaultOptions),this.setOptions(t.options),this.observers=[],lt(this,Od,t.client),lt(this,ki,fe(this,Od).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,lt(this,im,Oee(this.options)),this.state=t.state??fe(this,im),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=fe(this,ba))==null?void 0:t.promise}setOptions(t){this.options={...fe(this,zv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&fe(this,ki).remove(this)}setData(t,r){const n=rN(this.state.data,t,this.options);return Yt(this,so,Tl).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Yt(this,so,Tl).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=fe(this,ba))==null?void 0:n.promise;return(a=fe(this,ba))==null||a.cancel(t),r?r.then(xs).catch(xs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(fe(this,im))}isActive(){return this.observers.some(t=>Ni(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===JT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>yu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!EB(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=fe(this,ba))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=fe(this,ba))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),fe(this,ki).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(fe(this,ba)&&(fe(this,Pd)?fe(this,ba).cancel({revert:!0}):fe(this,ba).cancelRetry()),this.scheduleGc()),fe(this,ki).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Yt(this,so,Tl).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(fe(this,ba))return fe(this,ba).continueRetry(),fe(this,ba).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(lt(this,Pd,!0),n.signal)})},s=()=>{const h=TB(this.options,r),g=(()=>{const m={client:fe(this,Od),queryKey:this.queryKey,meta:this.meta};return a(m),m})();return lt(this,Pd,!1),this.options.persister?this.options.persister(h,g,this):h(g)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:fe(this,Od),state:this.state,fetchFn:s};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),lt(this,Ad,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Yt(this,so,Tl).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var p,g,m,v;Rj(h)&&h.silent||Yt(this,so,Tl).call(this,{type:"error",error:h}),Rj(h)||((g=(p=fe(this,ki).config).onError)==null||g.call(p,h,this),(v=(m=fe(this,ki).config).onSettled)==null||v.call(m,this.state.data,h,this)),this.scheduleGc()};return lt(this,ba,PB({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var p,g,m,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){c(y);return}(g=(p=fe(this,ki).config).onSuccess)==null||g.call(p,h,this),(v=(m=fe(this,ki).config).onSettled)==null||v.call(m,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{Yt(this,so,Tl).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Yt(this,so,Tl).call(this,{type:"pause"})},onContinue:()=>{Yt(this,so,Tl).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),fe(this,ba).start()}},im=new WeakMap,Ad=new WeakMap,ki=new WeakMap,Od=new WeakMap,ba=new WeakMap,zv=new WeakMap,Pd=new WeakMap,so=new WeakSet,Tl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...RB(n.data,this.options),fetchMeta:t.meta??null};case"success":return lt(this,Ad,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Rj(a)&&a.revert&&fe(this,Ad)?{...fe(this,Ad),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ra.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),fe(this,ki).notify({query:this,type:"updated",action:t})})},i8);function RB(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:AB(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Oee(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Wo,o8,Pee=(o8=class extends Qv{constructor(t={}){super();Nt(this,Wo);this.config=t,lt(this,Wo,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??XT(a,r);let i=this.get(s);return i||(i=new Aee({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){fe(this,Wo).has(t.queryHash)||(fe(this,Wo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=fe(this,Wo).get(t.queryHash);r&&(t.destroy(),r===t&&fe(this,Wo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ra.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return fe(this,Wo).get(t)}getAll(){return[...fe(this,Wo).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>QD(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>QD(t,n)):r}notify(t){ra.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ra.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ra.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Wo=new WeakMap,o8),Ho,Wa,Dd,qo,Rc,l8,Dee=(l8=class extends DB{constructor(t){super();Nt(this,qo);Nt(this,Ho);Nt(this,Wa);Nt(this,Dd);this.mutationId=t.mutationId,lt(this,Wa,t.mutationCache),lt(this,Ho,[]),this.state=t.state||Ree(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){fe(this,Ho).includes(t)||(fe(this,Ho).push(t),this.clearGcTimeout(),fe(this,Wa).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){lt(this,Ho,fe(this,Ho).filter(r=>r!==t)),this.scheduleGc(),fe(this,Wa).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){fe(this,Ho).length||(this.state.status==="pending"?this.scheduleGc():fe(this,Wa).remove(this))}continue(){var t;return((t=fe(this,Dd))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,l,c,u,d,f,h,p,g,m,v,y,w,b,_,S,k,j,E;const r=()=>{Yt(this,qo,Rc).call(this,{type:"continue"})};lt(this,Dd,PB({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,O)=>{Yt(this,qo,Rc).call(this,{type:"failed",failureCount:N,error:O})},onPause:()=>{Yt(this,qo,Rc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>fe(this,Wa).canRun(this)}));const n=this.state.status==="pending",a=!fe(this,Dd).canStart();try{if(n)r();else{Yt(this,qo,Rc).call(this,{type:"pending",variables:t,isPaused:a}),await((i=(s=fe(this,Wa).config).onMutate)==null?void 0:i.call(s,t,this));const O=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));O!==this.state.context&&Yt(this,qo,Rc).call(this,{type:"pending",context:O,variables:t,isPaused:a})}const N=await fe(this,Dd).start();return await((d=(u=fe(this,Wa).config).onSuccess)==null?void 0:d.call(u,N,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,N,t,this.state.context)),await((g=(p=fe(this,Wa).config).onSettled)==null?void 0:g.call(p,N,null,this.state.variables,this.state.context,this)),await((v=(m=this.options).onSettled)==null?void 0:v.call(m,N,null,t,this.state.context)),Yt(this,qo,Rc).call(this,{type:"success",data:N}),N}catch(N){try{throw await((w=(y=fe(this,Wa).config).onError)==null?void 0:w.call(y,N,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,N,t,this.state.context)),await((k=(S=fe(this,Wa).config).onSettled)==null?void 0:k.call(S,void 0,N,this.state.variables,this.state.context,this)),await((E=(j=this.options).onSettled)==null?void 0:E.call(j,void 0,N,t,this.state.context)),N}finally{Yt(this,qo,Rc).call(this,{type:"error",error:N})}}finally{fe(this,Wa).runNext(this)}}},Ho=new WeakMap,Wa=new WeakMap,Dd=new WeakMap,qo=new WeakSet,Rc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ra.batch(()=>{fe(this,Ho).forEach(n=>{n.onMutationUpdate(t)}),fe(this,Wa).notify({mutation:this,type:"updated",action:t})})},l8);function Ree(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ml,io,Wv,c8,Iee=(c8=class extends Qv{constructor(t={}){super();Nt(this,Ml);Nt(this,io);Nt(this,Wv);this.config=t,lt(this,Ml,new Set),lt(this,io,new Map),lt(this,Wv,0)}build(t,r,n){const a=new Dee({mutationCache:this,mutationId:++Wx(this,Wv)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){fe(this,Ml).add(t);const r=cy(t);if(typeof r=="string"){const n=fe(this,io).get(r);n?n.push(t):fe(this,io).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(fe(this,Ml).delete(t)){const r=cy(t);if(typeof r=="string"){const n=fe(this,io).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&fe(this,io).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=cy(t);if(typeof r=="string"){const n=fe(this,io).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=cy(t);if(typeof r=="string"){const a=(n=fe(this,io).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ra.batch(()=>{fe(this,Ml).forEach(t=>{this.notify({type:"removed",mutation:t})}),fe(this,Ml).clear(),fe(this,io).clear()})}getAll(){return Array.from(fe(this,Ml))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ZD(r,n))}findAll(t={}){return this.getAll().filter(r=>ZD(t,r))}notify(t){ra.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ra.batch(()=>Promise.all(t.map(r=>r.continue().catch(xs))))}},Ml=new WeakMap,io=new WeakMap,Wv=new WeakMap,c8);function cy(e){var t;return(t=e.options.scope)==null?void 0:t.id}function rR(e){return{onFetch:(t,r)=>{var d,f,h,p,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},y=TB(t.options,t.fetchOptions),w=async(b,_,S)=>{if(m)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const j=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return v(P),P})(),E=await y(j),{maxPages:N}=t.options,O=S?See:_ee;return{pages:O(b.pages,E,N),pageParams:O(b.pageParams,_,N)}};if(a&&s.length){const b=a==="backward",_=b?Mee:nR,S={pages:s,pageParams:i},k=_(n,S);l=await w(S,k,b)}else{const b=e??s.length;do{const _=c===0?i[0]??n.initialPageParam:nR(n,l);if(c>0&&_==null)break;l=await w(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function nR(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Mee(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Jr,Xc,Jc,om,lm,Qc,cm,um,u8,Fee=(u8=class{constructor(e={}){Nt(this,Jr);Nt(this,Xc);Nt(this,Jc);Nt(this,om);Nt(this,lm);Nt(this,Qc);Nt(this,cm);Nt(this,um);lt(this,Jr,e.queryCache||new Pee),lt(this,Xc,e.mutationCache||new Iee),lt(this,Jc,e.defaultOptions||{}),lt(this,om,new Map),lt(this,lm,new Map),lt(this,Qc,0)}mount(){Wx(this,Qc)._++,fe(this,Qc)===1&&(lt(this,cm,QT.subscribe(async e=>{e&&(await this.resumePausedMutations(),fe(this,Jr).onFocus())})),lt(this,um,Jw.subscribe(async e=>{e&&(await this.resumePausedMutations(),fe(this,Jr).onOnline())})))}unmount(){var e,t;Wx(this,Qc)._--,fe(this,Qc)===0&&((e=fe(this,cm))==null||e.call(this),lt(this,cm,void 0),(t=fe(this,um))==null||t.call(this),lt(this,um,void 0))}isFetching(e){return fe(this,Jr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return fe(this,Xc).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=fe(this,Jr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=fe(this,Jr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(yu(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return fe(this,Jr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=fe(this,Jr).get(n.queryHash),s=a==null?void 0:a.state.data,i=wee(t,s);if(i!==void 0)return fe(this,Jr).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return ra.batch(()=>fe(this,Jr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=fe(this,Jr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=fe(this,Jr);ra.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=fe(this,Jr);return ra.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ra.batch(()=>fe(this,Jr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(xs).catch(xs)}invalidateQueries(e,t={}){return ra.batch(()=>(fe(this,Jr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ra.batch(()=>fe(this,Jr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(xs)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(xs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=fe(this,Jr).build(this,t);return r.isStaleByTime(yu(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xs).catch(xs)}fetchInfiniteQuery(e){return e.behavior=rR(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xs).catch(xs)}ensureInfiniteQueryData(e){return e.behavior=rR(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Jw.isOnline()?fe(this,Xc).resumePausedMutations():Promise.resolve()}getQueryCache(){return fe(this,Jr)}getMutationCache(){return fe(this,Xc)}getDefaultOptions(){return fe(this,Jc)}setDefaultOptions(e){lt(this,Jc,e)}setQueryDefaults(e,t){fe(this,om).set(Bg(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...fe(this,om).values()],r={};return t.forEach(n=>{Ug(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){fe(this,lm).set(Bg(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...fe(this,lm).values()],r={};return t.forEach(n=>{Ug(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...fe(this,Jc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=XT(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===JT&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...fe(this,Jc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){fe(this,Jr).clear(),fe(this,Xc).clear()}},Jr=new WeakMap,Xc=new WeakMap,Jc=new WeakMap,om=new WeakMap,lm=new WeakMap,Qc=new WeakMap,cm=new WeakMap,um=new WeakMap,u8),ps,Xt,Hv,Ha,Rd,dm,Zc,eu,qv,fm,hm,Id,Md,tu,mm,fr,O0,aN,sN,iN,oN,lN,cN,uN,IB,d8,Lee=(d8=class extends Qv{constructor(t,r){super();Nt(this,fr);Nt(this,ps);Nt(this,Xt);Nt(this,Hv);Nt(this,Ha);Nt(this,Rd);Nt(this,dm);Nt(this,Zc);Nt(this,eu);Nt(this,qv);Nt(this,fm);Nt(this,hm);Nt(this,Id);Nt(this,Md);Nt(this,tu);Nt(this,mm,new Set);this.options=r,lt(this,ps,t),lt(this,eu,null),lt(this,Zc,nN()),this.options.experimental_prefetchInRender||fe(this,Zc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(fe(this,Xt).addObserver(this),aR(fe(this,Xt),this.options)?Yt(this,fr,O0).call(this):this.updateResult(),Yt(this,fr,oN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dN(fe(this,Xt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dN(fe(this,Xt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Yt(this,fr,lN).call(this),Yt(this,fr,cN).call(this),fe(this,Xt).removeObserver(this)}setOptions(t){const r=this.options,n=fe(this,Xt);if(this.options=fe(this,ps).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ni(this.options.enabled,fe(this,Xt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Yt(this,fr,uN).call(this),fe(this,Xt).setOptions(this.options),r._defaulted&&!eN(this.options,r)&&fe(this,ps).getQueryCache().notify({type:"observerOptionsUpdated",query:fe(this,Xt),observer:this});const a=this.hasListeners();a&&sR(fe(this,Xt),n,this.options,r)&&Yt(this,fr,O0).call(this),this.updateResult(),a&&(fe(this,Xt)!==n||Ni(this.options.enabled,fe(this,Xt))!==Ni(r.enabled,fe(this,Xt))||yu(this.options.staleTime,fe(this,Xt))!==yu(r.staleTime,fe(this,Xt)))&&Yt(this,fr,aN).call(this);const s=Yt(this,fr,sN).call(this);a&&(fe(this,Xt)!==n||Ni(this.options.enabled,fe(this,Xt))!==Ni(r.enabled,fe(this,Xt))||s!==fe(this,tu))&&Yt(this,fr,iN).call(this,s)}getOptimisticResult(t){const r=fe(this,ps).getQueryCache().build(fe(this,ps),t),n=this.createResult(r,t);return Bee(this,n)&&(lt(this,Ha,n),lt(this,dm,this.options),lt(this,Rd,fe(this,Xt).state)),n}getCurrentResult(){return fe(this,Ha)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){fe(this,mm).add(t)}getCurrentQuery(){return fe(this,Xt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=fe(this,ps).defaultQueryOptions(t),n=fe(this,ps).getQueryCache().build(fe(this,ps),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Yt(this,fr,O0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),fe(this,Ha)))}createResult(t,r){var N;const n=fe(this,Xt),a=this.options,s=fe(this,Ha),i=fe(this,Rd),l=fe(this,dm),u=t!==n?t.state:fe(this,Hv),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const O=this.hasListeners(),P=!O&&aR(t,r),T=O&&sR(t,n,r,a);(P||T)&&(f={...f,...RB(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:v}=f;p=f.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&v==="pending"){let O;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(O=s.data,y=!0):O=typeof r.placeholderData=="function"?r.placeholderData((N=fe(this,hm))==null?void 0:N.state.data,fe(this,hm)):r.placeholderData,O!==void 0&&(v="success",p=rN(s==null?void 0:s.data,O,r),h=!0)}if(r.select&&p!==void 0&&!y)if(s&&p===(i==null?void 0:i.data)&&r.select===fe(this,qv))p=fe(this,fm);else try{lt(this,qv,r.select),p=r.select(p),p=rN(s==null?void 0:s.data,p,r),lt(this,fm,p),lt(this,eu,null)}catch(O){lt(this,eu,O)}fe(this,eu)&&(g=fe(this,eu),p=fe(this,fm),m=Date.now(),v="error");const w=f.fetchStatus==="fetching",b=v==="pending",_=v==="error",S=b&&w,k=p!==void 0,E={status:v,fetchStatus:f.fetchStatus,isPending:b,isSuccess:v==="success",isError:_,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!b,isLoadingError:_&&!k,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&k,isStale:ZT(t,r),refetch:this.refetch,promise:fe(this,Zc),isEnabled:Ni(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=L=>{E.status==="error"?L.reject(E.error):E.data!==void 0&&L.resolve(E.data)},P=()=>{const L=lt(this,Zc,E.promise=nN());O(L)},T=fe(this,Zc);switch(T.status){case"pending":t.queryHash===n.queryHash&&O(T);break;case"fulfilled":(E.status==="error"||E.data!==T.value)&&P();break;case"rejected":(E.status!=="error"||E.error!==T.reason)&&P();break}}return E}updateResult(){const t=fe(this,Ha),r=this.createResult(fe(this,Xt),this.options);if(lt(this,Rd,fe(this,Xt).state),lt(this,dm,this.options),fe(this,Rd).data!==void 0&&lt(this,hm,fe(this,Xt)),eN(r,t))return;lt(this,Ha,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!fe(this,mm).size)return!0;const i=new Set(s??fe(this,mm));return this.options.throwOnError&&i.add("error"),Object.keys(fe(this,Ha)).some(l=>{const c=l;return fe(this,Ha)[c]!==t[c]&&i.has(c)})};Yt(this,fr,IB).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Yt(this,fr,oN).call(this)}},ps=new WeakMap,Xt=new WeakMap,Hv=new WeakMap,Ha=new WeakMap,Rd=new WeakMap,dm=new WeakMap,Zc=new WeakMap,eu=new WeakMap,qv=new WeakMap,fm=new WeakMap,hm=new WeakMap,Id=new WeakMap,Md=new WeakMap,tu=new WeakMap,mm=new WeakMap,fr=new WeakSet,O0=function(t){Yt(this,fr,uN).call(this);let r=fe(this,Xt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(xs)),r},aN=function(){Yt(this,fr,lN).call(this);const t=yu(this.options.staleTime,fe(this,Xt));if(Xd||fe(this,Ha).isStale||!Z2(t))return;const n=EB(fe(this,Ha).dataUpdatedAt,t)+1;lt(this,Id,setTimeout(()=>{fe(this,Ha).isStale||this.updateResult()},n))},sN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(fe(this,Xt)):this.options.refetchInterval)??!1},iN=function(t){Yt(this,fr,cN).call(this),lt(this,tu,t),!(Xd||Ni(this.options.enabled,fe(this,Xt))===!1||!Z2(fe(this,tu))||fe(this,tu)===0)&&lt(this,Md,setInterval(()=>{(this.options.refetchIntervalInBackground||QT.isFocused())&&Yt(this,fr,O0).call(this)},fe(this,tu)))},oN=function(){Yt(this,fr,aN).call(this),Yt(this,fr,iN).call(this,Yt(this,fr,sN).call(this))},lN=function(){fe(this,Id)&&(clearTimeout(fe(this,Id)),lt(this,Id,void 0))},cN=function(){fe(this,Md)&&(clearInterval(fe(this,Md)),lt(this,Md,void 0))},uN=function(){const t=fe(this,ps).getQueryCache().build(fe(this,ps),this.options);if(t===fe(this,Xt))return;const r=fe(this,Xt);lt(this,Xt,t),lt(this,Hv,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},IB=function(t){ra.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(fe(this,Ha))}),fe(this,ps).getQueryCache().notify({query:fe(this,Xt),type:"observerResultsUpdated"})})},d8);function $ee(e,t){return Ni(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function aR(e,t){return $ee(e,t)||e.state.data!==void 0&&dN(e,t,t.refetchOnMount)}function dN(e,t,r){if(Ni(t.enabled,e)!==!1&&yu(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&ZT(e,t)}return!1}function sR(e,t,r,n){return(e!==t||Ni(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&ZT(e,r)}function ZT(e,t){return Ni(t.enabled,e)!==!1&&e.isStaleByTime(yu(t.staleTime,e))}function Bee(e,t){return!eN(e.getCurrentResult(),t)}var MB=x.createContext(void 0),Uee=e=>{const t=x.useContext(MB);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Vee=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(MB.Provider,{value:e,children:t})),FB=x.createContext(!1),zee=()=>x.useContext(FB);FB.Provider;function Wee(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Hee=x.createContext(Wee()),qee=()=>x.useContext(Hee),Gee=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Kee=e=>{x.useEffect(()=>{e.clearReset()},[e])},Yee=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||jee(r,[e.error,n])),Xee=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Jee=(e,t)=>e.isLoading&&e.isFetching&&!t,Qee=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,iR=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Zee(e,t,r){var f,h,p,g,m;const n=zee(),a=qee(),s=Uee(),i=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",Xee(i),Gee(i,a),Kee(a);const l=!s.getQueryCache().get(i.queryHash),[c]=x.useState(()=>new t(s,i)),u=c.getOptimisticResult(i),d=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const y=d?c.subscribe(ra.batchCalls(v)):xs;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(i)},[i,c]),Qee(i,u))throw iR(i,c,a);if(Yee({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((g=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,i,u),i.experimental_prefetchInRender&&!Xd&&Jee(u,n)){const v=l?iR(i,c,a):(m=s.getQueryCache().get(i.queryHash))==null?void 0:m.promise;v==null||v.catch(xs).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function s_(e,t){return Zee(e,Lee)}const Pt=e=>typeof e=="string",o0=()=>{let e,t;const r=new Promise((n,a)=>{e=n,t=a});return r.resolve=e,r.reject=t,r},oR=e=>e==null?"":""+e,ete=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},tte=/###/g,lR=e=>e&&e.indexOf("###")>-1?e.replace(tte,"."):e,cR=e=>!e||Pt(e),X0=(e,t,r)=>{const n=Pt(t)?t.split("."):t;let a=0;for(;a<n.length-1;){if(cR(e))return{};const s=lR(n[a]);!e[s]&&r&&(e[s]=new r),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++a}return cR(e)?{}:{obj:e,k:lR(n[a])}},uR=(e,t,r)=>{const{obj:n,k:a}=X0(e,t,Object);if(n!==void 0||t.length===1){n[a]=r;return}let s=t[t.length-1],i=t.slice(0,t.length-1),l=X0(e,i,Object);for(;l.obj===void 0&&i.length;)s=`${i[i.length-1]}.${s}`,i=i.slice(0,i.length-1),l=X0(e,i,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=r},rte=(e,t,r,n)=>{const{obj:a,k:s}=X0(e,t,Object);a[s]=a[s]||[],a[s].push(r)},Qw=(e,t)=>{const{obj:r,k:n}=X0(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},nte=(e,t,r)=>{const n=Qw(e,r);return n!==void 0?n:Qw(t,r)},LB=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?Pt(e[n])||e[n]instanceof String||Pt(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):LB(e[n],t[n],r):e[n]=t[n]);return e},zf=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ate={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const ste=e=>Pt(e)?e.replace(/[&<>"'\/]/g,t=>ate[t]):e;class ite{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const ote=[" ",",","?","!",";"],lte=new ite(20),cte=(e,t,r)=>{t=t||"",r=r||"";const n=ote.filter(i=>t.indexOf(i)<0&&r.indexOf(i)<0);if(n.length===0)return!0;const a=lte.getRegExp(`(${n.map(i=>i==="?"?"\\?":i).join("|")})`);let s=!a.test(e);if(!s){const i=e.indexOf(r);i>0&&!a.test(e.substring(0,i))&&(s=!0)}return s},fN=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const n=t.split(r);let a=e;for(let s=0;s<n.length;){if(!a||typeof a!="object")return;let i,l="";for(let c=s;c<n.length;++c)if(c!==s&&(l+=r),l+=n[c],i=a[l],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&c<n.length-1)continue;s+=c-s+1;break}a=i}return a},Vg=e=>e==null?void 0:e.replace("_","-"),ute={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var r,n;(n=(r=console==null?void 0:console[e])==null?void 0:r.apply)==null||n.call(r,console,t)}};class Zw{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||ute,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,a){return a&&!this.debug?null:(Pt(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new Zw(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Zw(this.logger,t)}}var Jo=new Zw;let i_=class{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,s])=>{for(let i=0;i<s;i++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,s])=>{for(let i=0;i<s;i++)a.apply(a,[t,...r])})}};class dR extends i_{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n,a={}){var u,d;const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,i=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):Pt(n)&&s?l.push(...n.split(s)):l.push(n)));const c=Qw(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!i||!Pt(n)?c:fN((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[r],n,s)}addResource(t,r,n,a,s={silent:!1}){const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(l=t.split("."),a=r,r=l[1]),this.addNamespaces(r),uR(this.data,l,a),s.silent||this.emit("added",t,r,n,a)}addResources(t,r,n,a={silent:!1}){for(const s in n)(Pt(n[s])||Array.isArray(n[s]))&&this.addResource(t,r,s,n[s],{silent:!0});a.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,a,s,i={silent:!1,skipCopy:!1}){let l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),a=n,n=r,r=l[1]),this.addNamespaces(r);let c=Qw(this.data,l)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?LB(c,n,s):c={...c,...n},uR(this.data,l,c),i.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var $B={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,a){return e.forEach(s=>{var i;t=((i=this.processors[s])==null?void 0:i.process(t,r,n,a))??t}),t}};const BB=Symbol("i18next/PATH_KEY");function dte(){const e=[],t=Object.create(null);let r;return t.get=(n,a)=>{var s;return(s=r==null?void 0:r.revoke)==null||s.call(r),a===BB?e:(e.push(a),r=Proxy.revocable(n,t),r.proxy)},Proxy.revocable(Object.create(null),t).proxy}function hN(e,t){const{[BB]:r}=e(dte());return r.join((t==null?void 0:t.keySeparator)??".")}const fR={},Ij=e=>!Pt(e)&&typeof e!="boolean"&&typeof e!="number";class e1 extends i_{constructor(t,r={}){super(),ete(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Jo.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const n={...r};if(t==null)return!1;const a=this.resolve(t,n);if((a==null?void 0:a.res)===void 0)return!1;const s=Ij(a.res);return!(n.returnObjects===!1&&s)}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const i=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!cte(t,n,a);if(i&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Pt(s)?[s]:s};const u=t.split(n);(n!==a||n===a&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(a)}return{key:t,namespaces:Pt(s)?[s]:s}}translate(t,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=hN(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const s=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],a),u=c[c.length-1];let d=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=a.lng||this.language,h=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return h?s?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:`${u}${d}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:l;const p=this.resolve(t,a);let g=p==null?void 0:p.res;const m=(p==null?void 0:p.usedKey)||l,v=(p==null?void 0:p.exactUsedKey)||l,y=["[object Number]","[object Function]","[object RegExp]"],w=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,_=a.count!==void 0&&!Pt(a.count),S=e1.hasDefaultValue(a),k=_?this.pluralResolver.getSuffix(f,a.count,a):"",j=a.ordinal&&_?this.pluralResolver.getSuffix(f,a.count,{ordinal:!1}):"",E=_&&!a.ordinal&&a.count===0,N=E&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${k}`]||a[`defaultValue${j}`]||a.defaultValue;let O=g;b&&!g&&S&&(O=N);const P=Ij(O),T=Object.prototype.toString.apply(O);if(b&&O&&P&&y.indexOf(T)<0&&!(Pt(w)&&Array.isArray(O))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,O,{...a,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(p.res=L,p.usedParams=this.getUsedParamsDetails(a),p):L}if(i){const L=Array.isArray(O),H=L?[]:{},z=L?v:m;for(const M in O)if(Object.prototype.hasOwnProperty.call(O,M)){const I=`${z}${i}${M}`;S&&!g?H[M]=this.translate(I,{...a,defaultValue:Ij(N)?N[M]:void 0,joinArrays:!1,ns:c}):H[M]=this.translate(I,{...a,joinArrays:!1,ns:c}),H[M]===I&&(H[M]=O[M])}g=H}}else if(b&&Pt(w)&&Array.isArray(g))g=g.join(w),g&&(g=this.extendTranslation(g,t,a,n));else{let L=!1,H=!1;!this.isValidLookup(g)&&S&&(L=!0,g=N),this.isValidLookup(g)||(H=!0,g=l);const M=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&H?void 0:g,I=S&&N!==g&&this.options.updateMissing;if(H||L||I){if(this.logger.log(I?"updateKey":"missingKey",f,u,l,I?N:g),i){const Z=this.resolve(l,{...a,keySeparator:!1});Z&&Z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let U=[];const R=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&R&&R[0])for(let Z=0;Z<R.length;Z++)U.push(R[Z]);else this.options.saveMissingTo==="all"?U=this.languageUtils.toResolveHierarchy(a.lng||this.language):U.push(a.lng||this.language);const Y=(Z,C,X)=>{var q;const B=S&&X!==g?X:M;this.options.missingKeyHandler?this.options.missingKeyHandler(Z,u,C,B,I,a):(q=this.backendConnector)!=null&&q.saveMissing&&this.backendConnector.saveMissing(Z,u,C,B,I,a),this.emit("missingKey",Z,u,C,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?U.forEach(Z=>{const C=this.pluralResolver.getSuffixes(Z,a);E&&a[`defaultValue${this.options.pluralSeparator}zero`]&&C.indexOf(`${this.options.pluralSeparator}zero`)<0&&C.push(`${this.options.pluralSeparator}zero`),C.forEach(X=>{Y([Z],l+X,a[`defaultValue${X}`]||N)})}):Y(U,l,N))}g=this.extendTranslation(g,t,a,p,n),H&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${u}${d}${l}`),(H||L)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,L?g:void 0,a))}return s?(p.res=g,p.usedParams=this.getUsedParamsDetails(a),p):g}extendTranslation(t,r,n,a,s){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=Pt(t)&&(((u=n==null?void 0:n.interpolation)==null?void 0:u.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const p=t.match(this.interpolator.nestingRegexp);f=p&&p.length}let h=n.replace&&!Pt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,n.lng||this.language||a.usedLng,n),d){const p=t.match(this.interpolator.nestingRegexp),g=p&&p.length;f<g&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,(...p)=>(s==null?void 0:s[0])===p[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${r[0]}`),null):this.translate(...p,r),n)),n.interpolation&&this.interpolator.reset()}const i=n.postProcess||this.options.postProcess,l=Pt(i)?[i]:i;return t!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(t=$B.handle(l,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t,r={}){let n,a,s,i,l;return Pt(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;a=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=r.count!==void 0&&!Pt(r.count),p=h&&!r.ordinal&&r.count===0,g=r.context!==void 0&&(Pt(r.context)||typeof r.context=="number")&&r.context!=="",m=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(v=>{var y,w;this.isValidLookup(n)||(l=v,!fR[`${m[0]}-${v}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((w=this.utils)!=null&&w.hasLoadedNamespace(l))&&(fR[`${m[0]}-${v}`]=!0,this.logger.warn(`key "${a}" for languages "${m.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(b=>{var k;if(this.isValidLookup(n))return;i=b;const _=[d];if((k=this.i18nFormat)!=null&&k.addLookupKeys)this.i18nFormat.addLookupKeys(_,d,b,v,r);else{let j;h&&(j=this.pluralResolver.getSuffix(b,r.count,r));const E=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(r.ordinal&&j.indexOf(N)===0&&_.push(d+j.replace(N,this.options.pluralSeparator)),_.push(d+j),p&&_.push(d+E)),g){const O=`${d}${this.options.contextSeparator||"_"}${r.context}`;_.push(O),h&&(r.ordinal&&j.indexOf(N)===0&&_.push(O+j.replace(N,this.options.pluralSeparator)),_.push(O+j),p&&_.push(O+E))}}let S;for(;S=_.pop();)this.isValidLookup(n)||(s=S,n=this.getResource(b,v,S,r))}))})}),{res:n,usedKey:a,exactUsedKey:s,usedLng:i,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n,a={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,r,n,a):this.resourceStore.getResource(t,r,n,a)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!Pt(t.replace);let a=n?t.replace:t;if(n&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const s of r)delete a[s]}return a}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}class hR{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Jo.create("languageUtils")}getScriptPartFromCode(t){if(t=Vg(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=Vg(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Pt(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Pt(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),a=[],s=i=>{i&&(this.isSupportedCode(i)?a.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return Pt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):Pt(t)&&s(this.formatLanguageCode(t)),n.forEach(i=>{a.indexOf(i)<0&&s(this.formatLanguageCode(i))}),a}}const mR={zero:0,one:1,two:2,few:3,many:4,other:5},pR={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class fte{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=Jo.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const n=Vg(t==="dev"?"en":t),a=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:a});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let i;try{i=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),pR;if(!t.match(/-|_/))return pR;const c=this.languageUtils.getLanguagePartFromCode(t);i=this.getRule(c,r)}return this.pluralRulesCache[s]=i,i}needsPlural(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,r,n={}){return this.getSuffixes(t,n).map(a=>`${r}${a}`)}getSuffixes(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,s)=>mR[a]-mR[s]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,r,n={}){const a=this.getRule(t,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,n))}}const gR=(e,t,r,n=".",a=!0)=>{let s=nte(e,t,r);return!s&&a&&Pt(r)&&(s=fN(e,r,n),s===void 0&&(s=fN(t,r,n))),s},Mj=e=>e.replace(/\$/g,"$$$$");class hte{constructor(t={}){var r;this.logger=Jo.create("interpolator"),this.options=t,this.format=((r=t==null?void 0:t.interpolation)==null?void 0:r.format)||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:s,prefixEscaped:i,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:m,nestingOptionsSeparator:v,maxReplaces:y,alwaysFormat:w}=t.interpolation;this.escape=r!==void 0?r:ste,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=s?zf(s):i||"{{",this.suffix=l?zf(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?zf(h):p||zf("$t("),this.nestingSuffix=g?zf(g):m||zf(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=y||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,r,n,a){var p;let s,i,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const w=gR(r,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,n,{...a,...r,interpolationkey:g}):w}const m=g.split(this.formatSeparator),v=m.shift().trim(),y=m.join(this.formatSeparator).trim();return this.format(gR(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...a,...r,interpolationkey:v})};this.resetRegExp();const d=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((p=a==null?void 0:a.interpolation)==null?void 0:p.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Mj(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Mj(this.escape(g)):Mj(g)}].forEach(g=>{for(l=0;s=g.regex.exec(t);){const m=s[1].trim();if(i=u(m),i===void 0)if(typeof d=="function"){const y=d(t,s,a);i=Pt(y)?y:""}else if(a&&Object.prototype.hasOwnProperty.call(a,m))i="";else if(f){i=s[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${t}`),i="";else!Pt(i)&&!this.useRawValueToEscape&&(i=oR(i));const v=g.safeValue(i);if(t=t.replace(s[0],v),f?(g.regex.lastIndex+=i.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r,n={}){let a,s,i;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let h=`{${f[1]}`;c=f[0],h=this.interpolate(h,i);const p=h.match(/'/g),g=h.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{i=JSON.parse(h),u&&(i={...u,...i})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,m),`${c}${d}${h}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,c};for(;a=this.nestingRegexp.exec(t);){let c=[];i={...n},i=i.replace&&!Pt(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;const u=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(u!==-1&&(c=a[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),a[1]=a[1].slice(0,u)),s=r(l.call(this,a[1].trim(),i),i),s&&a[0]===t&&!Pt(s))return s;Pt(s)||(s=oR(s)),s||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),s=""),c.length&&(s=c.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:a[1].trim()}),s.trim())),t=t.replace(a[0],s),this.regexp.lastIndex=0}return t}}const mte=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);t==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(i=>{if(i){const[l,...c]=i.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},vR=e=>{const t={};return(r,n,a)=>{let s=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(s={...s,[a.interpolationkey]:void 0});const i=n+JSON.stringify(s);let l=t[i];return l||(l=e(Vg(n),a),t[i]=l),l(r)}},pte=e=>(t,r,n)=>e(Vg(r),n)(t);class gte{constructor(t={}){this.logger=Jo.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?vR:pte;this.formats={number:n((a,s)=>{const i=new Intl.NumberFormat(a,{...s});return l=>i.format(l)}),currency:n((a,s)=>{const i=new Intl.NumberFormat(a,{...s,style:"currency"});return l=>i.format(l)}),datetime:n((a,s)=>{const i=new Intl.DateTimeFormat(a,{...s});return l=>i.format(l)}),relativetime:n((a,s)=>{const i=new Intl.RelativeTimeFormat(a,{...s});return l=>i.format(l,s.range||"day")}),list:n((a,s)=>{const i=new Intl.ListFormat(a,{...s});return l=>i.format(l)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=vR(r)}format(t,r,n,a={}){const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{var f;const{formatName:u,formatOptions:d}=mte(c);if(this.formats[u]){let h=l;try{const p=((f=a==null?void 0:a.formatParams)==null?void 0:f[a.interpolationkey])||{},g=p.locale||p.lng||a.locale||a.lng||n;h=this.formats[u](l,g,{...d,...a,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const vte=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class xte extends i_{constructor(t,r,n,a={}){var s,i;super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=Jo.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(i=(s=this.backend)==null?void 0:s.init)==null||i.call(s,n,a.backend,a)}queueLoad(t,r,n,a){const s={},i={},l={},c={};return t.forEach(u=>{let d=!0;r.forEach(f=>{const h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?i[h]===void 0&&(i[h]=!0):(this.state[h]=1,d=!1,i[h]===void 0&&(i[h]=!0),s[h]===void 0&&(s[h]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(s).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(s),pending:Object.keys(i),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const a=t.split("|"),s=a[0],i=a[1];r&&this.emit("failedLoading",s,i,r),!r&&n&&this.store.addResourceBundle(s,i,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{rte(c.loaded,[s],i),vte(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n,a=0,s=this.retryTimeout,i){if(!t.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:a,wait:s,callback:i});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,a+1,s*2,i)},s);return}i(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(t,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,r,l)}prepareLoading(t,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Pt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Pt(r)&&(r=[r]);const s=this.queueLoad(t,r,n,a);if(!s.toLoad.length)return s.pending.length||a(),null;s.toLoad.forEach(i=>{this.loadOne(i)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t,r=""){const n=t.split("|"),a=n[0],s=n[1];this.read(a,s,"read",void 0,void 0,(i,l)=>{i&&this.logger.warn(`${r}loading namespace ${s} for language ${a} failed`,i),!i&&l&&this.logger.log(`${r}loaded namespace ${s} for language ${a}`,l),this.loaded(t,i,l)})}saveMissing(t,r,n,a,s,i={},l=()=>{}){var c,u,d,f,h;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((h=this.backend)!=null&&h.create){const p={...i,isUpdate:s},g=this.backend.create.bind(this.backend);if(g.length<6)try{let m;g.length===5?m=g(t,r,n,a,p):m=g(t,r,n,a),m&&typeof m.then=="function"?m.then(v=>l(null,v)).catch(l):l(null,m)}catch(m){l(m)}else g(t,r,n,a,l,p)}!t||!t[0]||this.store.addResource(t[0],r,n,a)}}}const xR=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Pt(e[1])&&(t.defaultValue=e[1]),Pt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),yR=e=>{var t,r;return Pt(e.ns)&&(e.ns=[e.ns]),Pt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Pt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((r=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:r.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},uy=()=>{},yte=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class J0 extends i_{constructor(t={},r){if(super(),this.options=yR(t),this.services={},this.logger=Jo,this.modules={external:[]},yte(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(Pt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=xR();this.options={...n,...this.options,...yR(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Jo.init(a(this.modules.logger),this.options):Jo.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=gte;const d=new hR(this.options);this.store=new dR(this.options.resources,this.options);const f=this.services;f.logger=Jo,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new fte(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=a(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new hte(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new xte(a(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(f.languageDetector=a(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=a(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new e1(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=uy),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=o0(),c=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(d,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,r=uy){var s,i;let n=r;const a=Pt(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(i=(s=this.options.preload)==null?void 0:s.forEach)==null||i.call(s,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(t,r,n){const a=o0();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=uy),this.services.backendConnector.reload(t,r,s=>{a.resolve(),n(s)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&$B.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const n=o0();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===t&&(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(l,(...u)=>this.t(...u))},i=l=>{var d,f;!t&&!l&&this.services.languageDetector&&(l=[]);const c=Pt(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Pt(l)?[l]:l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),(f=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||f.call(d,u)),this.loadResources(u,h=>{s(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?i(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(t),n}getFixedT(t,r,n){const a=(s,i,...l)=>{let c;typeof i!="object"?c=this.options.overloadTranslationOptionHandler([s,i].concat(l)):c={...i},c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||a.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(s)?d=s.map(f=>(typeof f=="function"&&(f=hN(f,{...this.options,...i})),`${c.keyPrefix}${u}${f}`)):(typeof s=="function"&&(s=hN(s,{...this.options,...i})),d=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(d,c)};return Pt(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=n,a}t(...t){var r;return(r=this.translator)==null?void 0:r.translate(...t)}exists(...t){var r;return(r=this.translator)==null?void 0:r.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const i=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,i);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(n,t)&&(!a||i(s,t)))}loadNamespaces(t,r){const n=o0();return this.options.ns?(Pt(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=o0();Pt(t)&&(t=[t]);const a=this.options.preload||[],s=t.filter(i=>a.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return s.length?(this.options.preload=a.concat(s),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}dir(t){var a,s;if(t||(t=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const i=new Intl.Locale(t);if(i&&i.getTextInfo){const l=i.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((s=this.services)==null?void 0:s.languageUtils)||new hR(xR());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){const n=new J0(t,r);return n.createInstance=J0.createInstance,n}cloneInstance(t={},r=uy){const n=t.forkResourceStore;n&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},s=new J0(a);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,f)=>(d[f]={...c[u][f]},d),c[u]),c),{});s.store=new dR(l,a),s.services.resourceStore=s.store}return s.translator=new e1(s.services,a),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(a,r),s.translator.options=a,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Gr=J0.createInstance();Gr.createInstance;Gr.dir;Gr.init;Gr.loadResources;Gr.reloadResources;Gr.use;Gr.changeLanguage;Gr.getFixedT;Gr.t;Gr.exists;Gr.setDefaultNamespace;Gr.hasLoadedNamespace;Gr.loadNamespaces;Gr.loadLanguages;const wte=(e,t,r,n)=>{var s,i,l,c;const a=[r,{code:t,...n||{}}];if((i=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&i.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);Jd(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},wR={},UB=(e,t,r,n)=>{Jd(r)&&wR[r]||(Jd(r)&&(wR[r]=new Date),wte(e,t,r,n))},VB=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},mN=(e,t,r)=>{e.loadNamespaces(t,VB(e,r))},bR=(e,t,r,n)=>{if(Jd(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return mN(e,r,n);r.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,VB(e,n))},bte=(e,t,r={})=>!t.languages||!t.languages.length?(UB(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,e))return!1}}),Jd=e=>typeof e=="string",_te=e=>typeof e=="object"&&e!==null,Ste=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,jte={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},kte=e=>jte[e],Nte=e=>e.replace(Ste,kte);let pN={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Nte};const Ete=(e={})=>{pN={...pN,...e}},Cte=()=>pN;let zB;const Tte=e=>{zB=e},Ate=()=>zB,Ote={type:"3rdParty",init(e){Ete(e.options.react),Tte(e)}},WB=x.createContext();class Pte{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var HB={exports:{}},qB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m=x;function Dte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rte=typeof Object.is=="function"?Object.is:Dte,Ite=_m.useState,Mte=_m.useEffect,Fte=_m.useLayoutEffect,Lte=_m.useDebugValue;function $te(e,t){var r=t(),n=Ite({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return Fte(function(){a.value=r,a.getSnapshot=t,Fj(a)&&s({inst:a})},[e,r,t]),Mte(function(){return Fj(a)&&s({inst:a}),e(function(){Fj(a)&&s({inst:a})})},[e]),Lte(r),r}function Fj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rte(e,r)}catch{return!0}}function Bte(e,t){return t()}var Ute=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Bte:$te;qB.useSyncExternalStore=_m.useSyncExternalStore!==void 0?_m.useSyncExternalStore:Ute;HB.exports=qB;var GB=HB.exports;const Vte=(e,t)=>Jd(t)?t:_te(t)&&Jd(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,zte={t:Vte,ready:!1},Wte=()=>()=>{},qt=(e,t={})=>{var j,E;const{i18n:r}=t,{i18n:n,defaultNS:a}=x.useContext(WB)||{},s=r||n||Ate();s&&!s.reportNamespaces&&(s.reportNamespaces=new Pte),s||UB(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const i=x.useMemo(()=>{var N;return{...Cte(),...(N=s==null?void 0:s.options)==null?void 0:N.react,...t}},[s,t]),{useSuspense:l,keyPrefix:c}=i,u=x.useMemo(()=>{var O;const N=a||((O=s==null?void 0:s.options)==null?void 0:O.defaultNS);return Jd(N)?[N]:N||["translation"]},[e,a,s]);(E=(j=s==null?void 0:s.reportNamespaces)==null?void 0:j.addUsedNamespaces)==null||E.call(j,u);const d=x.useRef(0),f=x.useCallback(N=>{if(!s)return Wte;const{bindI18n:O,bindI18nStore:P}=i,T=()=>{d.current+=1,N()};return O&&s.on(O,T),P&&s.store.on(P,T),()=>{O&&O.split(" ").forEach(L=>s.off(L,T)),P&&P.split(" ").forEach(L=>s.store.off(L,T))}},[s,i]),h=x.useRef(),p=x.useCallback(()=>{if(!s)return zte;const N=!!(s.isInitialized||s.initializedStoreOnce)&&u.every(z=>bte(z,s,i)),O=t.lng||s.language,P=d.current,T=h.current;if(T&&T.ready===N&&T.lng===O&&T.keyPrefix===c&&T.revision===P)return T;const H={t:s.getFixedT(O,i.nsMode==="fallback"?u:u[0],c),ready:N,lng:O,keyPrefix:c,revision:P};return h.current=H,H},[s,u,c,i,t.lng]),[g,m]=x.useState(0),{t:v,ready:y}=GB.useSyncExternalStore(f,p,p);x.useEffect(()=>{if(s&&!y&&!l){const N=()=>m(O=>O+1);t.lng?bR(s,t.lng,u,N):mN(s,u,N)}},[s,t.lng,u,y,l,g]);const w=s||{},b=x.useRef(null),_=x.useRef(),S=N=>{const O=Object.getOwnPropertyDescriptors(N);O.__original&&delete O.__original;const P=Object.create(Object.getPrototypeOf(N),O);if(!Object.prototype.hasOwnProperty.call(P,"__original"))try{Object.defineProperty(P,"__original",{value:N,writable:!1,enumerable:!1,configurable:!1})}catch{}return P},k=x.useMemo(()=>{const N=w,O=N==null?void 0:N.language;let P=N;N&&(b.current&&b.current.__original===N?_.current!==O?(P=S(N),b.current=P,_.current=O):P=b.current:(P=S(N),b.current=P,_.current=O));const T=[v,P,y];return T.t=v,T.i18n=P,T.ready=y,T},[v,w,y,w.resolvedLanguage,w.language,w.languages]);if(s&&l&&!y)throw new Promise(N=>{const O=()=>N();t.lng?bR(s,t.lng,u,O):mN(s,u,O)});return k};function Hte({i18n:e,defaultNS:t,children:r}){const n=x.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return x.createElement(WB.Provider,{value:n},r)}const qte={home:"Home",dashboard:"Dashboard",empDashboard:"Emp Dashboard",clientPortal:"Client Portal",partnerDashboard:"Partner Dashboard",leads:"Leads",masterLeads:"Master Leads",projects:"Projects",tasks:"Tasks",tickets:"Tickets",teams:"Teams",chats:"Chats",allChats:"All Chats",surveys:"Surveys",users:"Users",settings:"Settings",mainGroup:"Main",salesGroup:"Sales",workGroup:"Work",communicationGroup:"Communication",requestGroup:"",requests:"Requests",systemGroup:"System"},Gte={save:"Save",cancel:"Cancel",close:"Close",submit:"Submit",delete:"Delete",edit:"Edit",add:"Add",create:"Create",login:"Login",signup:"Sign Up",logout:"Logout",saving:"Saving..."},Kte={name:"Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",phone:"Phone",message:"Message"},Yte={signIn:"Sign In",signUp:"Sign Up",createAccount:"Create Account",enterCredentials:"Enter your credentials to continue",signUpToGetStarted:"Sign up to get started",chooseAccountType:"Choose your account type to continue with Google",chooseAccountTypeSignUp:"Choose your account type to sign up with Google",client:"Client",partner:"Partner",partnerEmployee:"Partner Employee",redirectingToGoogle:"Redirecting to Google...",orContinueWith:"Or continue with",email:"Email",password:"Password",signingIn:"Signing in...",signInButton:"Sign In",signUpButton:"Sign Up",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",clientPortal:"Client Portal",failedToSignIn:"Failed to sign in",failedToSignInWithGoogle:"Failed to sign in with Google"},Xte={welcome:"Welcome",loading:"Loading...",error:"Error",success:"Success",search:"Search",filter:"Filter",notifications:"Notifications",kanban:"Kanban",add:"Add",edit:"Edit",delete:"Delete",create:"Create",update:"Update",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close",submit:"Submit",back:"Back",next:"Next",previous:"Previous",first:"First",last:"Last",noData:"No data available",noResults:"No results found",noItems:"No items to display",noRecords:"No records found",noRecordsFound:"No records found",noMatches:"No matches found",list:"List",select:"Select",view:"View",status:"Status",assignee:"Assignee",all:"All",pickDate:"Pick a date",clearFilters:"Clear filters",created:"Created",actions:"Actions",stage:"Stage",priority:"Priority",veryLow:"Very Low",low:"Low",medium:"Medium",high:"High",veryHigh:"Very High",overview:"Overview",unassigned:"Unassigned",page:"Page",of:"of"},Jte={open:"Open",in_progress:"In Progress",closed:"Closed",resolve:"Resolve",reopen:"Reopen",pending:"Pending",approved:"Approved",rejected:"Rejected",completed:"Completed"},Qte={title:"Dashboard",subtitle:"Welcome back! Here's an overview of your projects.",totalProjects:"Total Projects",completed:"completed",inProgress:"In Progress",activeProjects:"Active projects",clients:"Clients",totalClients:"Total clients",teamMembers:"Team Members",activeUsers:"Active users",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentProjects:"Recent Projects",projectStatus:"Project Status",noProjectsYet:"No projects yet",retry:"Retry",completedStatus:"Completed",inProgressStatus:"In Progress",notStartedStatus:"Not Started"},Zte={title:"Leads",subtitle:"Manage and track all your leads",newLead:"New Lead",addLead:"Add Lead",createLead:"Create New Lead",createLeadDesc:"Add a new lead to the selected stage.",leadName:"Lead Name",leadNamePlaceholder:"Enter lead name",description:"Description",descriptionPlaceholder:"Enter lead description",clientName:"Client Name",clientNamePlaceholder:"Enter client name",client:"Client",selectClient:"Select a client (optional)",noClient:"No client",unknown:"Unknown",created:"Created",updated:"Updated",createdBy:"Created by",assignedTo:"Assigned to",assignToEmployee:"Assign to Employee",selectAssignee:"Select assignee",lead:"Lead",deleteLead:"Delete Lead",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',addStage:"Add Stage",stageNamePlaceholder:"Stage name...",deleteStage:"Delete Stage",deleteStageConfirmation:"This stage contains {{count}} lead(s). Deleting this stage will also remove all leads in it. This action cannot be undone.",addNewLeadCard:"Add New Lead",noLeadsYet:"No leads have been created yet.",value:"Value",currency:"Currency",stageTotal:"Total: {{amount}}",leadDetails:"Lead Details",leadDetailsDesc:"View and edit lead information",notFound:"Lead not found",expectedCloseDate:"Expected Close Date"},ere={title:"Notes",addNote:"Add Note",noNotes:"No notes yet",placeholder:"Enter your note...",save:"Save Note",edit:"Edit",delete:"Delete Note",deleteConfirmation:"Are you sure you want to delete this note?",unknown:"Unknown user"},tre={title:"Projects",subtitle:"Manage and track all your projects",newProject:"New Project",createProject:"Create New Project",createProjectDesc:"Add a new project to the selected stage.",projectName:"Project Name",projectNamePlaceholder:"Enter project name",description:"Description",descriptionPlaceholder:"Enter project description",client:"Client",selectClient:"Select a client",initialProgress:"Initial Progress",addProject:"Add Project",addNewProjectCard:"Add New Project",progress:"Progress",started:"Started",completed:"Completed",due:"Due",deleteProject:"Delete Project",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',noProjectsYet:"No projects have been created yet.",deleteComment:"Delete Comment",deleteCommentConfirmation:"Are you sure you want to delete this comment?"},rre={title:"Settings",description:"Manage application settings and configurations",stageManagement:"Stage Management",leads:"Lead Stages",projects:"Project Stages",tasks:"Task Stages",tickets:"Ticket Stages",mleads:"Master Lead Stages",mprojects:"Master Project Stages",addStage:"Add Stage",editStage:"Edit Stage",deleteStage:"Delete Stage",stageName:"Stage Name",stageNamePlaceholder:"Enter stage name",stageColor:"Stage Color",order:"Order",noStages:"No stages found. Add one to get started.",addStageDesc:"Add a new stage for {{type}}",deleteStageConfirmation:"Are you sure you want to delete this stage? This action cannot be undone.",englishName:"English name",arabicName:"Arabic name",changePassword:"Change Password",changePasswordDescription:"Enter your new password below. Make sure it's at least 6 characters long.",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",newPasswordRequired:"New password is required",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",passwordsDoNotMatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters long",changingPassword:"Changing password...",passwordChangedSuccessfully:"Password changed successfully!",passwordChangeFailed:"Failed to change password"},nre={title:"Messages",channels:"Channels",teams:"Teams",directMessages:"Direct Messages",welcome:"Welcome to Chat",selectRoomDesc:"Select a channel or direct message to start chatting.",membersCount:"{{count}} members",today:"Today",placeholder:"Message...",noChannels:"No channels",noMessages:"No messages"},are={title:"Tickets",subtitle:"Manage and track all support tickets.",newTicket:"New Ticket",createNewTicket:"Create New Ticket",createTicketDesc:"Fill in the details to create a new support ticket.",searchPlaceholder:"Search tickets...",allTickets:"All Tickets",noTicketsFound:"No Tickets Found",noTicketsFoundDesc:"Try adjusting your search terms.",noTicketsYet:"No tickets have been created yet.",id:"ID",subject:"Subject",subjectPlaceholder:"Enter ticket subject",description:"Description",descriptionPlaceholder:"Describe the issue or request",status:"Status",priority:"Priority",priorityLow:"Low",priorityMedium:"Medium",priorityHigh:"High",priorityUrgent:"Urgent",ticketType:"Ticket Type",typeRequest:"Request",typeFollowUp:"Follow Up",typeIssue:"Issue",typeInternalTask:"Internal Task",assignTo:"Assign To",selectAssignee:"Select assignee (optional)",assignedTo:"Assigned To",createdDate:"Created Date",actions:"Actions",view:"View",loading:"Loading tickets...",createTicket:"Create Ticket",creatingTicket:"Creating...",createError:"Failed to create ticket",allStatuses:"All Statuses",allPriorities:"All Priorities",statusOpen:"Open",statusInProgress:"In Progress",statusResolved:"Resolved",statusClosed:"Closed",ticketId:"Ticket ID",createdBy:"Created By",resolvedDate:"Resolved Date",closedDate:"Closed Date"},sre={title:"Teams",subtitle:"Manage teams and team members",createTeam:"Create Team",createTeamTitle:"Create New Team",createTeamDesc:"Create a new team and assign a team leader. You can add members after creation.",teamName:"Team Name",teamNamePlaceholder:"Enter team name",team_leader:"Team Leader",teamLeader:"Team Leader",selectTeamLeader:"Select a team leader (optional)",searchPlaceholder:"Search teams...",members:"Members",memberCount:"{{count}} member",memberCount_plural:"{{count}} members",addMember:"Add member",created:"Created",noTeamsFound:"No teams found",noTeamsYet:"No teams yet",createFirstTeam:"Create Your First Team",deleteTeam:"Delete Team",deleteConfirmation:'Are you sure you want to delete "{{name}}"? This will also remove all team members. This action cannot be undone.',moreMembers:"+{{count}} more members",noMembersYet:"No members yet"},ire={title:"Tasks",subtitle:"Manage and track all your tasks in one place.",loading:"Loading...",error:"Error",deleteTask:"Delete Task",createTask:"Create New Task",createTaskDesc:"Add a new task to the selected stage.",newTask:"New Task",addNewTask:"Add New Task",addTask:"Add Task",taskName:"Task Name",taskNamePlaceholder:"Enter task name",descriptionPlaceholder:"Enter task description",dueDate:"Due Date",selectUser:"Select a user",selectStage:"Select a stage",selectStatus:"Select status",todo:"Todo",inProgress:"In Progress",done:"Done",stage:"Stage",allTasks:"All Tasks",noTasksYet:"No tasks have been created yet."},ore={brandName:"Middar",badge:" New Feature",hero:{title:{line1:"Streamline Your",line2:"Business Operations"},description:"Powerful CRM solution to manage projects, leads, tasks, and teams all in one place. Boost productivity and grow your business with our comprehensive platform.",cta:{primary:"Get Started",secondary:"Learn More"}},stats:{users:"10K+",usersLabel:"Active Users",projects:"50K+",projectsLabel:"Projects Managed",uptime:"99.9%",uptimeLabel:"Uptime",support:"24/7",supportLabel:"Support"},features:{title:"Everything you need to succeed",subtitle:"Comprehensive tools designed for modern businesses",projectManagement:{title:"Project Management",description:"Track projects from inception to completion with detailed progress monitoring and team collaboration."},leadManagement:{title:"Lead Management",description:"Convert more leads with our advanced CRM tools and automated follow-up systems."},analytics:{title:"Analytics & Insights",description:"Make data-driven decisions with comprehensive analytics and reporting dashboards."},communication:{title:"Team Communication",description:"Keep your team connected with integrated chat, notifications, and collaboration tools."},taskManagement:{title:"Task Management",description:"Organize and prioritize tasks with our intuitive kanban board and deadline tracking."},security:{title:"Enterprise Security",description:"Your data is protected with enterprise-grade security and compliance standards."}},cta:{title:"Ready to get started?",description:"Join thousands of businesses transforming their operations with our CRM.",button:"Start Free Trial"},partner:{title:"Become a Partner",subtitle:"Help distribute this CRM and grow with us. Fill the form below and we will get back to you.",companyName:"Company Name",fullName:"Full Name",email:"Email Address",phone:"Phone Number",submit:"Apply Now",success:"Application Received",successMessage:"Thank you for your interest! We will contact you shortly."},footer:{copyright:" 2025 {{brand}} CRM. All rights reserved."}},lre={title:"Users",subtitle:"Manage system users and their roles",totalUsers:"Total Users",addUser:"Add User",addNewUser:"Add New User",addUserDescription:"Fill in the details below to create a new user account.",fullName:"Full Name",email:"Email",password:"Password",role:"Role",admin:"Admin",manager:"Manager",employee:"Employee",team_leader:"Team Leader",client:"Client",employees:"Employees",clients:"Clients",addingUser:"Adding user...",addUserError:"Failed to add user",deleteUser:"Delete User",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',deleteError:"Failed to delete user",updateRoleError:"Failed to update user role",changeRole:"Change Role",searchPlaceholder:"Search users...",noUsersFound:"No users found",noUsersFoundDesc:"Try adjusting your search terms.",noUsersAvailable:"No users available",joined:"Joined",updated:"Updated",userDetails:"User Details",userDetailsDescription:"View detailed information about this user",phone:"Phone",contact:"Contact",company:"Company",userId:"User ID",authUserId:"Auth User ID",updateUserError:"Failed to update user",partners:"Partners",partnerUsers:"Partner Users",partnerApplications:"Partner Applications",partner:"Partner",partner_employee:"Partner Employee",noPartnerUsersFound:"No partner users found",noApplicationsFound:"No applications found",approve:"Approve",reject:"Reject",rejectConfirmation:"Are you sure you want to reject this application?",viewApplication:"View Application"},cre={title:"Clients",subtitle:"Manage and view all your clients",newClient:"New Client",loading:"Loading clients...",noClientsFound:"No clients found",noClientsYet:"No clients have been added yet",active:"active",totalProjects:"Total Projects",activeProjects:"Active Projects",completedProjects:"Completed Projects",noCompany:"No company",noEmail:"No email",projects:"projects",viewDetails:"View Details",clientDetails:"Client Details",userId:"User ID",emailLabel:"Email",contactLabel:"Contact",companyLabel:"Company",createdLabel:"Created",updatedLabel:"Updated",projectSummary:"Project Summary"},ure={title:"My Dashboard",subtitle:"Welcome back, {{name}}! Here's your work overview.",employeeInfo:"Employee Information",name:"Name",email:"Email",role:"Role",memberSince:"Member Since",myProjects:"My Projects",active:"active",myTasks:"My Tasks",completed:"completed",inProgress:"In Progress",activeTasks:"Active tasks",completedTasks:"Completed",finishedTasks:"Finished tasks",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentTasks:"Recent Tasks",noDescription:"No description",noProjectsAssigned:"No projects assigned yet",noTasksAssigned:"No tasks assigned yet"},dre={chatRooms:"Chat Rooms",createRoomTitle:"Create New Room",createRoomDesc:"Create a new chat room for your team or project",roomName:"Room Name",roomNamePlaceholder:"Enter room name",private:"Private",privateRoom:"Private Room",publicRoom:"Public Room",project:"Project",projectIdPlaceholder:"Enter project ID (optional)",createRoom:"Create Room",searchConversations:"Search conversations...",searchRooms:"Search rooms...",members:"members",online:"Online",selectRoom:"Select a room to start chatting",selectConversation:"Select a conversation",connectDescription:"Connect with your clients through Email, WhatsApp, and more.",typeMessage:"Type a message...",you:"You",unknownUser:"Unknown User",justNow:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",viewDetails:"View Details",viewContactDetails:"View Contact Details",deleteConversation:"Delete Conversation",muteNotifications:"Mute Notifications",leaveRoom:"Leave Room",someoneTyping:"Someone is typing...",note:"Note",resolvedMessage:"This conversation is resolved. Reopen it to send a message.",resolved:"Resolved"},fre={title:"Surveys",subtitle:"Manage and track all surveys and questionnaires",surveys:"Surveys",templates:"Templates",totalSurveys:"Total Surveys",createTemplate:"Create Template",createTemplateTitle:"Create New Survey Template",createTemplateDesc:"Create a custom survey template for your needs",templateName:"Template Name",templateNameAr:"Template Name (Arabic)",description:"Description",descriptionAr:"Description (Arabic)",category:"Category",selectCategory:"Select Category",customerSatisfaction:"Customer Satisfaction",productFeedback:"Product Feedback",serviceQuality:"Service Quality",general:"General",settings:"Settings",isActive:"Active",isDefault:"Default",searchPlaceholder:"Search surveys...",noSurveysFound:"No surveys found",noSurveysFoundDesc:"Try adjusting your search terms.",noSurveysYet:"No surveys have been created yet.",noTemplatesFound:"No templates found",noTemplatesFoundDesc:"Try adjusting your search terms.",noTemplatesYet:"No templates have been created yet.",survey:"Survey",clientName:"Client Name",clientCompany:"Client Company",contact:"Contact",noContact:"No contact",noCompany:"No company",noEmail:"No email",location:"Location",responses:"Responses",completed:"Completed",inProgress:"In Progress",pending:"Pending",active:"Active",inactive:"Inactive",default:"Default",noCategory:"No category",status:"Status",noDescription:"No description",fields:"Fields",noFields:"No fields defined",created:"Created",updated:"Updated",createdBy:"Created By",unknownCreator:"Unknown Creator",newSurvey:"New Survey",createNewSurvey:"Create New Survey",selectTemplate:"Select Template",fillSurveyDetails:"Fill Survey Details",changeTemplate:"Change Template",submitSurvey:"Submit Survey",locationWillBeCaptured:"Your location will be captured automatically",addField:"Add Field",fieldLabel:"Field Label",fieldType:"Field Type",text:"Text",textarea:"Textarea",email:"Email",date:"Date",select:"Select",multiselect:"Multiselect",radio:"Radio",checkbox:"Checkbox",image:"Image",options:"Options",optionsPlaceholder:"Enter options separated by spaces (e.g., option1 option2 option3)",isRequired:"Required",editTemplateTitle:"Edit Survey Template",updateTemplate:"Update Template",deleteTemplate:"Delete Template",deleteTemplateConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',templateNameRequired:"Template name is required",atLeastOneFieldRequired:"At least one field is required",fieldLabelRequired:"Field {{number}}: Label is required",templateCreated:"Template created successfully!",templateUpdated:"Template updated successfully!",templateValidationFailed:"Please fix the validation errors before saving.",templateSaveError:"Failed to {{action}} template. Please try again.",bulkSelect:"Bulk Select",exitBulkMode:"Exit Bulk Mode",bulkDeleteSuccess:"Successfully deleted {{count}} surveys",bulkDeleteError:"Failed to delete surveys",confirmBulkDelete:"Delete Selected Surveys",confirmBulkDeleteDesc:"Are you sure you want to delete {{count}} selected surveys? This action cannot be undone.",selectedCount:"{{count}} surveys selected",clearSelection:"Clear Selection",deleteSelected:"Delete Selected",selectAll:"Select All"},hre={company:"Company",city:"City",country:"Country",activity:"Activity",createdBy:"Created By",status:"Status",system:"System",assignedTo:"Assigned To",created:"Created",stage:"Stage",allStatuses:"All Statuses",allActivities:"All Activities",allSystems:"All Systems",allCountries:"All Countries",allCities:"All Cities",allUsers:"All Users",allStages:"All Stages",leadName:"Lead Name",description:"Description",clearFilters:"Clear Filters",notes:"Notes",value:"Value",currency:"Currency",leadDetails:"Lead Details",companyName:"Company Name",address:"Address",contacts:"Contacts",addContact:"+ Add Contact",noContactsFound:"No contacts found",cancel:"Cancel",contactName:"Contact name",email:"Email",showChart:"Show Chart",createLead:"Create Lead",editlead:"Edit Lead",hideChart:"Hide Chart",firstName:"First Name",lastName:"Last Name",mobile:"Mobile",jobTitle:"Job Title",selectContact:"Select contact",selectStage:"Select stage",selectJobTitle:"Select job title",searchActivity:"Search Activity",searchCountry:"Search Country",searchCity:"Search City",searchSystem:"Search System",searchStatus:"Search Status",searchUser:"Search User",searchStage:"Search Stage",searchJobTitle:"Search Job Title",kanbanView:"Kanban View",listView:"List View",addNew:"+ Add New",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",selectCountry:"Select country",createCity:"Create City",selectActivity:"Select activity",selectSystem:"Select system",selectStatus:"Select status",selectUser:"Select user",editLead:"Edit Lead",createNewLead:"Create New Lead",addContactTitle:"Add Contact",createNewCity:"Create New City",systemNameEn:"System name (English)",systemNameAr:"System name (Arabic)",createSystem:"Create System",createNewSystem:"Create New System",activityNameEn:"Activity name (English)",activityNameAr:"Activity name (Arabic)",createActivity:"Create Activity",createNewActivity:"Create New Activity",statusNameEn:"Status name (English)",statusNameAr:"Status name (Arabic)",createStatus:"Create Status",createNewStatus:"Create New Status",masterLeads:"Master Leads",manageMasterLeadsData:"Manage master leads data",noLeadsFound:"No leads found",createNewLeadToGetStarted:"Create a new lead to get started",deleteLead:"Delete Lead",deleteLeadConfirmation:"Are you sure you want to delete this lead? This action cannot be undone.",leadUpdatedSuccessfully:"Lead updated successfully",leadCreatedSuccessfully:"Lead created successfully",leadDeletedSuccessfully:"Lead deleted successfully",leadsDeletedSuccessfully:"leads deleted successfully",cityCreatedSuccessfully:"City created successfully",systemCreatedSuccessfully:"System created successfully",activityCreatedSuccessfully:"Activity created successfully",statusCreatedSuccessfully:"Status created successfully",showLead:"Show Lead",hideLead:"Hide Lead"},mre={masterProjects:"Master Projects",manageMasterProjectsData:"Manage master projects data",kanbanView:"Kanban View",listView:"List View",company:"Company",country:"Country",contactName:"Contact name",mobile:"Mobile",email:"Email",jobTitle:"Job Title",selectJobTitle:"Select job title",addContactTitle:"Add Contact",searchJobTitle:"Search Job Title",contacts:"Contacts",allCountries:"All Countries",allCities:"All Cities",clearFilters:"Clear Filters",noContactsFound:"No contacts found",projectName:"Project Name",description:"Description",notes:"Notes",projectDetails:"Project Details",companyName:"Company Name",contractCode:"Contract Code",contractAmount:"Contract Amount",startDate:"Start Date",endDate:"End Date",city:"City",contact:"Contact",created:"Created",createNewProject:"Create New Project",editProject:"Edit Project",deleteProject:"Delete Project",deleteProjectConfirmation:"Are you sure you want to delete this project? This action cannot be undone.",projectUpdatedSuccessfully:"Project updated successfully",projectCreatedSuccessfully:"Project created successfully",projectDeletedSuccessfully:"Project deleted successfully",projectsDeletedSuccessfully:"projects deleted successfully",cityCreatedSuccessfully:"City created successfully",showChart:"Show Chart",hideChart:"Hide Chart",selectCity:"Select city",selectContact:"Select contact",selectCountry:"Select country",addCity:"Add City",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",createNewCity:"Create New City",noProjectsFound:"No projects found",createNewProjectToGetStarted:"Create a new project to get started",analytics:"Analytics",contractDocument:"Contract Document",existingDocumentWillBeReplaced:"Existing document will be replaced",uploadContractDocument:"Upload Contract Document",supportedFormats:"Supported formats",createCity:"Create City",addContact:"Add Contact",createContact:"Create",contactCreatedSuccessfully:"Contact created successfully",cancel:"Cancel"},pre={title:"Requests",subtitle:"Manage internal requests and tasks",createRequest:"Create Request",editRequest:"Edit Request",requestTitle:"Request Title",titlePlaceholder:"Enter request title",searchPlaceholder:"Search requests...",type:"Type",priority:"Priority",status:"Status",createdDate:"Created Date",deleteSuccess:"Request deleted successfully",updateSuccess:"Request updated successfully",createSuccess:"Request created successfully",deleteConfirmation:"Are you sure you want to delete this request? This action cannot be undone.",description:"Description",descriptionPlaceholder:"Request details...",types:{internalTask:"Internal Task",support:"Support",feature:"Feature"},priorities:{low:"Low",medium:"Medium",high:"High"}},gre={navigation:qte,buttons:Gte,forms:Kte,auth:Yte,common:Xte,status:Jte,dashboard:Qte,leads:Zte,notes:ere,projects:tre,settings:rre,chat:nre,tickets:are,teams:sre,tasks:ire,landing:ore,users:lre,clients:cre,employeeDashboard:ure,chats:dre,surveys:fre,mleads:hre,mprojects:mre,requests:pre},vre={home:"",dashboard:" ",projects:"",users:"",settings:"",leads:" ",masterLeads:" ",tickets:"",tasks:"",teams:"",clients:"",chats:"",allChats:" ",surveys:"",clientPortal:" ",partnerDashboard:"  ",empDashboard:"  ",mainGroup:"",salesGroup:"",workGroup:"",communicationGroup:"",requestsGroup:"",requests:"",systemGroup:""},xre={save:"",cancel:"",submit:"",delete:"",edit:"",close:"",add:"",create:"",login:" ",signup:" ",logout:" ",saving:" ..."},yre={name:"",email:" ",password:" ",confirmPassword:"  ",phone:"",message:""},wre={signIn:" ",signUp:" ",createAccount:" ",enterCredentials:"  ",signUpToGetStarted:" ",chooseAccountType:"     ",chooseAccountTypeSignUp:"     ",client:"",partner:"",partnerEmployee:" ",redirectingToGoogle:"    ...",orContinueWith:"  ",email:" ",password:" ",signingIn:"  ...",signInButton:" ",signUpButton:" ",dontHaveAccount:"  ",alreadyHaveAccount:"  ",clientPortal:" ",failedToSignIn:"  ",failedToSignInWithGoogle:"    "},bre={welcome:"",loading:" ...",error:"",success:"",add:"",edit:"",delete:"",create:"",update:"",save:"",cancel:"",confirm:"",close:"",submit:"",back:"",next:"",previous:"",first:"",last:"",noData:"   ",noResults:"    ",noItems:"   ",noRecords:"    ",noRecordsFound:"    ",noMatches:"    ",search:"",filter:"",notifications:"",kanban:"",list:"",select:"",view:"",status:"",assignee:" ",all:"",pickDate:" ",clearFilters:" ",created:" ",actions:"",stage:"",priority:"",veryLow:" ",low:"",medium:"",high:"",veryHigh:" ",overview:" ",unassigned:" ",page:"",of:""},_re={open:"",in_progress:" ",closed:"",resolve:"",reopen:" ",pending:" ",approved:" ",rejected:"",completed:""},Sre={title:" ",subtitle:" !     .",totalProjects:" ",completed:"",inProgress:" ",activeProjects:" ",clients:"",totalClients:" ",teamMembers:" ",activeUsers:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentProjects:" ",projectStatus:" ",noProjectsYet:"   ",retry:" ",completedStatus:"",inProgressStatus:" ",notStartedStatus:" "},jre={title:" ",subtitle:"    ",newLead:"  ",addLead:"  ",createLead:"   ",createLeadDesc:"      .",leadName:"  ",leadNamePlaceholder:"   ",description:"",descriptionPlaceholder:"   ",clientName:" ",clientNamePlaceholder:"  ",client:"",selectClient:"  ()",noClient:" ",unknown:" ",created:" ",updated:" ",createdBy:"  ",assignedTo:" ",assignToEmployee:" ",selectAssignee:"  ",lead:" ",deleteLead:"  ",deleteConfirmation:'      "{{name}}"',addStage:" ",stageNamePlaceholder:" ...",deleteStage:" ",deleteStageConfirmation:"    {{count}}  .           .      .",addNewLeadCard:"   ",noLeadsYet:"      .",value:"",currency:"",stageTotal:": {{amount}}",leadDetails:"  ",leadDetailsDesc:"    ",notFound:"   ",expectedCloseDate:"  ",totalLeads:"  ",thisMonth:" ",totalValue:" ",avgValue:" "},kre={title:"",addNote:" ",noNotes:"   ",placeholder:" ...",save:" ",edit:"",delete:" ",deleteConfirmation:"       ",unknown:"  "},Nre={title:"",subtitle:"   ",newProject:" ",createProject:"  ",createProjectDesc:"     .",projectName:" ",projectNamePlaceholder:"  ",description:"",descriptionPlaceholder:"  ",client:"",selectClient:" ",initialProgress:" ",addProject:" ",addNewProjectCard:"  ",progress:"",started:"",due:"",deleteProject:" ",deleteConfirmation:'      "{{name}}"',noProjectsYet:"     .",total:" ",inProgress:" ",completed:"",avgProgress:" "},Ere={title:"",channels:"",teams:"",directMessages:" ",welcome:"   ",selectRoomDesc:"      .",membersCount:"{{count}} ",today:"",placeholder:" ...",noChannels:"  ",noMessages:"  "},Cre={title:"",subtitle:"    .",newTicket:" ",createNewTicket:"  ",createTicketDesc:"     .",searchPlaceholder:"  ...",allTickets:" ",noTicketsFound:"  ",noTicketsFoundDesc:"   .",noTicketsYet:"     .",id:"",subject:"",subjectPlaceholder:"  ",description:"",descriptionPlaceholder:"   ",status:"",priority:"",priorityLow:"",priorityMedium:"",priorityHigh:"",priorityUrgent:"",ticketType:" ",typeRequest:"",typeFollowUp:"",typeIssue:"",typeInternalTask:" ",assignTo:" ",selectAssignee:"   ()",assignedTo:" ",createdDate:" ",actions:"",view:"",loading:"  ...",createTicket:" ",creatingTicket:" ...",createError:"   ",allStatuses:" ",allPriorities:" ",statusOpen:"",statusInProgress:" ",statusResolved:" ",statusClosed:"",ticketId:" ",createdBy:"  ",resolvedDate:" ",closedDate:" ",total:" "},Tre={title:"",subtitle:"   ",createTeam:" ",createTeamTitle:"  ",createTeamDesc:"     .     .",teamName:" ",teamNamePlaceholder:"  ",team_leader:" ",selectTeamLeader:"   ()",teamLeader:" ",searchPlaceholder:"  ...",members:"",memberCount:"{{count}} ",memberCount_plural:"{{count}} ",addMember:" ",created:" ",noTeamsFound:"  ",noTeamsYet:"   ",createFirstTeam:"  ",deleteTeam:" ",deleteConfirmation:'      "{{name}}"        .      .',moreMembers:"+{{count}}  ",noMembersYet:"   "},Are={title:"",subtitle:"      .",loading:" ...",description:"",error:"",deleteTask:" ",createTask:"  ",createTaskDesc:"     .",newTask:" ",addNewTask:"  ",addTask:" ",taskName:" ",taskNamePlaceholder:"  ",descriptionPlaceholder:"  ",dueDate:" ",selectUser:" ",selectStage:" ",selectStatus:" ",todo:"",inProgress:" ",done:"",stage:"",allTasks:" ",noTasksYet:"     ."},Ore={brandName:"",badge:"  ",hero:{title:{line1:"",line2:" "},description:" CRM           .       .",cta:{primary:" ",secondary:" "}},stats:{users:"10 +",usersLabel:" ",projects:"50 +",projectsLabel:" ",uptime:"99.9%",uptimeLabel:" ",support:"24/7",supportLabel:""},features:{title:"   ",subtitle:"    ",projectManagement:{title:" ",description:"           ."},leadManagement:{title:"  ",description:"       CRM    ."},analytics:{title:" ",description:"        ."},communication:{title:" ",description:"         ."},taskManagement:{title:" ",description:"         ."},security:{title:" ",description:"       ."}},cta:{title:" ",description:"               .",button:"  "},partner:{title:" ",subtitle:"      .      .",companyName:" ",fullName:" ",email:" ",phone:" ",submit:" ",success:"  ",successMessage:" !   ."},footer:{copyright:" 2025 {{brand}} CRM.   ."}},Pre={title:"",subtitle:"   ",totalUsers:" ",addUser:" ",addNewUser:"  ",addUserDescription:"      .",fullName:" ",email:" ",password:" ",role:"",admin:"",manager:"",employee:"",team_leader:" ",client:"",employees:"",clients:"",addingUser:"  ...",addUserError:"   ",deleteUser:" ",deleteConfirmation:'      "{{name}}"',deleteError:"   ",updateRoleError:"    ",changeRole:" ",searchPlaceholder:"  ...",noUsersFound:"  ",noUsersFoundDesc:"   .",noUsersAvailable:"   ",joined:"",updated:" ",userDetails:" ",userDetailsDescription:"     ",phone:"",contact:"",company:"",userId:" ",authUserId:"  ",updateUserError:"   ",partners:"",partnerUsers:" ",partnerApplications:" ",partner:"",partner_employee:" ",noPartnerUsersFound:"   ",noApplicationsFound:"   ",approve:"",reject:"",rejectConfirmation:"       ",viewApplication:" "},Dre={title:"",subtitle:"   ",newClient:" ",loading:"  ...",noClientsFound:"  ",noClientsYet:"     ",active:"",totalProjects:" ",activeProjects:" ",completedProjects:" ",noCompany:" ",noEmail:"  ",projects:"",viewDetails:" ",clientDetails:" ",userId:" ",emailLabel:" ",contactLabel:"",companyLabel:"",createdLabel:" ",updatedLabel:" ",projectSummary:" "},Rre={title:"   ",subtitle:"  {{name}}!     .",employeeInfo:" ",name:"",email:" ",role:"",memberSince:" ",myProjects:"",active:"",myTasks:"",completed:"",inProgress:" ",activeTasks:" ",completedTasks:"",finishedTasks:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentTasks:" ",noDescription:" ",noProjectsAssigned:"    ",noTasksAssigned:"    "},Ire={chatRooms:" ",createRoomTitle:"  ",createRoomDesc:"    ",roomName:" ",roomNamePlaceholder:"  ",private:"",privateRoom:" ",publicRoom:" ",project:"",projectIdPlaceholder:"  ()",createRoom:" ",selectRoom:"   ",selectConversation:" ",connectDescription:"        .",members:"",typeMessage:" ...",you:"",unknownUser:"  ",justNow:"",online:"",someoneTyping:"  ...",searchConversations:"  ...",searchRooms:"  ...",viewDetails:" ",viewContactDetails:"  ",deleteConversation:" ",muteNotifications:" ",leaveRoom:" ",note:"",resolvedMessage:"   .    .",resolved:" "},Mre={title:"",subtitle:"    ",surveys:"",templates:"",totalSurveys:" ",createTemplateTitle:"   ",createTemplateDesc:"    ",templateName:" ",templateNameAr:"  ",descriptionAr:" ",selectCategory:" ",customerSatisfaction:" ",productFeedback:" ",serviceQuality:" ",general:"",settings:"",isActive:"",isDefault:"",createTemplate:" ",searchPlaceholder:"  ...",noSurveysFound:"  ",noSurveysFoundDesc:"   .",noSurveysYet:"     .",noTemplatesFound:"  ",noTemplatesFoundDesc:"   .",noTemplatesYet:"     .",survey:"",clientName:" ",clientCompany:" ",contact:"",noContact:" ",noCompany:" ",noEmail:"  ",location:"",responses:"",completed:"",inProgress:" ",pending:" ",active:"",inactive:" ",default:"",category:"",noCategory:" ",status:"",description:"",noDescription:" ",fields:"",noFields:"   ",created:" ",updated:" ",createdBy:"  ",unknownCreator:"  ",newSurvey:" ",createNewSurvey:"  ",selectTemplate:" ",fillSurveyDetails:"  ",changeTemplate:" ",submitSurvey:" ",locationWillBeCaptured:"    ",addField:" ",fieldLabel:" ",fieldType:" ",text:"",textarea:" ",email:" ",date:"",select:" ",multiselect:"  ",radio:" ",checkbox:" ",image:"",options:"",optionsPlaceholder:"    (: 1 2 3)",isRequired:"",templateNameRequired:"  ",atLeastOneFieldRequired:"    ",fieldLabelRequired:" {{number}}:  ",templateCreated:"   !",templateUpdated:"   !",templateValidationFailed:"     .",templateSaveError:"  {{action}} .    .",bulkSelect:" ",exitBulkMode:"   ",bulkDeleteSuccess:"  {{count}}  ",bulkDeleteError:"   ",confirmBulkDelete:"  ",confirmBulkDeleteDesc:"      {{count}}        .",selectedCount:"{{count}}  ",clearSelection:" ",deleteSelected:" ",selectAll:" "},Fre={title:"",description:"   ",stageManagement:" ",leads:"  ",projects:" ",tasks:" ",tickets:" ",mleads:"  ",mprojects:"  ",addStage:" ",editStage:" ",deleteStage:" ",stageName:" ",stageNamePlaceholder:"  ",stageColor:" ",order:"",noStages:"    .   .",addStageDesc:"    {{type}}",deleteStageConfirmation:"             .",englishName:" ",arabicName:" ",changePassword:"  ",changePasswordDescription:"    .      6   .",newPassword:"  ",newPasswordPlaceholder:"   ",newPasswordRequired:"   ",confirmPassword:"  ",confirmPasswordPlaceholder:"    ",passwordsDoNotMatch:"   ",passwordTooShort:"     6   ",changingPassword:"   ...",passwordChangedSuccessfully:"    !",passwordChangeFailed:"    "},Lre={company:"",city:"",country:"",activity:"",status:"",system:"",assignedTo:" ",created:" ",stage:"",notes:"",value:"",currency:"",leadDetails:" ",companyName:" ",address:"",contacts:" ",addContact:"+   ",noContactsFound:"     ",allActivities:" ",allCountries:" ",allCities:" ",allSystems:" ",allStatuses:" ",allUsers:" ",clearFilters:" ",save:"",cancel:"",contactName:"  ",email:" ",mobile:" ",jobTitle:" ",selectContact:"  ",selectStage:" ",selectJobTitle:"  ",kanbanView:"",listView:"",searchCompany:"  ...",searchActivity:"  ...",searchCity:"  ...",searchCountry:"  ...",searchSystem:"  ...",searchStatus:"  ...",searchUser:"  ...",searchContact:"   ...",searchStage:"  ...",searchJobTitle:"   ...  ",addNew:"+  ",cityNameEn:"  ()",cityNameAr:"  ()",selectCountry:" ",createCity:" ",selectActivity:" ",selectSystem:" ",selectStatus:" ",selectUser:" ",leadName:"  ",hideChart:"  ",showChart:"  ",leadDescription:"  ",leadValue:"  ",leadCurrency:"  ",saveLead:"  ",editLead:"  ",createNewLead:"   ",addContactTitle:"  ",createNewCity:"  ",systemNameEn:"  ()",systemNameAr:"  ()",createSystem:" ",createNewSystem:"  ",activityNameEn:"  ()",activityNameAr:"  ()",createActivity:" ",createNewActivity:"  ",statusNameEn:"  ()",statusNameAr:"  ()",createStatus:" ",createNewStatus:"  ",masterLeads:" ",manageMasterLeadsData:"   ",noLeadsFound:"    ",createNewLeadToGetStarted:"   ",deleteLead:" ",deleteLeadConfirmation:"             .",leadUpdatedSuccessfully:"   ",leadCreatedSuccessfully:"   ",leadDeletedSuccessfully:"   ",leadsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",systemCreatedSuccessfully:"   ",activityCreatedSuccessfully:"   ",statusCreatedSuccessfully:"   ",showLead:" ",hideLead:" "},$re={masterProjects:" ",manageMasterProjectsData:"   ",kanbanView:"",listView:"",createdBy:"  ",client:"",company:"",country:"",allCountries:" ",allCities:" ",allClients:" ",allUsers:" ",searchCity:"  ...",searchCountry:"  ...",searchClient:"  ...",searchUser:"  ...",jobTitle:" ",selectJobTitle:"  ",addContactTitle:"  ",searchJobTitle:"   ",contacts:" ",noContactsFound:"     ",contactName:"  ",email:" ",mobile:" ",projectName:" ",projectDescription:" ",projectCountry:" ",projectCity:" ",clearFilters:" ",notes:"",projectDetails:" ",companyName:" ",contractCode:" ",contractAmount:" ",startDate:" ",endDate:" ",city:"",contact:" ",created:" ",createNewProject:"  ",editProject:" ",deleteProject:" ",deleteProjectConfirmation:"             .",projectUpdatedSuccessfully:"   ",projectCreatedSuccessfully:"   ",projectDeletedSuccessfully:"   ",projectsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",showChart:"  ",hideChart:"  ",selectCity:" ",selectContact:"  ",selectCountry:" ",addCity:" ",cancel:"",cityNameEn:"  ()",cityNameAr:"  ()",createCity:" ",createNewCity:"  ",noProjectsFound:"    ",createNewProjectToGetStarted:"   ",analytics:"",contractDocument:" ",existingDocumentWillBeReplaced:"   ",uploadContractDocument:"  ",supportedFormats:" ",addContact:"  ",createContact:"",contactCreatedSuccessfully:"    "},Bre={title:"",subtitle:"   ",createRequest:" ",editRequest:" ",requestTitle:" ",titlePlaceholder:"  ",searchPlaceholder:"  ...",type:"",priority:"",status:"",createdDate:" ",deleteSuccess:"   ",updateSuccess:"   ",createSuccess:"   ",deleteConfirmation:"             .",description:"",descriptionPlaceholder:" ...",types:{internalTask:" ",support:"",feature:" "},priorities:{low:"",medium:"",high:""}},Ure={navigation:vre,buttons:xre,forms:yre,auth:wre,common:bre,status:_re,dashboard:Sre,leads:jre,notes:kre,projects:Nre,chat:Ere,tickets:Cre,teams:Tre,tasks:Are,landing:Ore,users:Pre,clients:Dre,employeeDashboard:Rre,chats:Ire,surveys:Mre,settings:Fre,mleads:Lre,mprojects:$re,requests:Bre},Vre={en:{translation:gre},ar:{translation:Ure}};Gr.use(Ote).init({resources:Vre,lng:"ar",fallbackLng:"en",interpolation:{escapeValue:!1}});const ke=(e,t)=>{if(Gr.language==="ar"){const a=`${t}_ar`;if(e[a]&&e[a].trim())return e[a]}if(e[t]&&e[t].trim())return e[t];const n=`${t}_ar`;return e[n]&&e[n].trim()?e[n]:""},$i=(e,t)=>{const r=Gr.language,n={...e};return Object.entries(t).forEach(([a,s])=>{r==="ar"?(n[`${s}_ar`]=e[a],n[s]=e[a]):(n[s]=e[a],n[`${s}_ar`]=e[a])}),n},ii=()=>Gr.dir()==="rtl";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zg.apply(this,arguments)}var au;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(au||(au={}));const _R="popstate";function zre(e){e===void 0&&(e={});function t(a,s){let{pathname:i="/",search:l="",hash:c=""}=kf(a.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),gN("",{pathname:i,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let i=a.document.querySelector("base"),l="";if(i&&i.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:t1(s))}function n(a,s){eA(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Hre(t,r,n,e)}function un(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function eA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Wre(){return Math.random().toString(36).substr(2,8)}function SR(e,t){return{usr:e.state,key:e.key,idx:t}}function gN(e,t,r,n){return r===void 0&&(r=null),zg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kf(t):t,{state:r,key:t&&t.key||n||Wre()})}function t1(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function kf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Hre(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=au.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(zg({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=au.Pop;let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:m.location,delta:y})}function h(v,y){l=au.Push;let w=gN(m.location,v,y);r&&r(w,v),u=d()+1;let b=SR(w,u),_=m.createHref(w);try{i.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}s&&c&&c({action:l,location:m.location,delta:1})}function p(v,y){l=au.Replace;let w=gN(m.location,v,y);r&&r(w,v),u=d();let b=SR(w,u),_=m.createHref(w);i.replaceState(b,"",_),s&&c&&c({action:l,location:m.location,delta:0})}function g(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof v=="string"?v:t1(v);return w=w.replace(/ $/,"%20"),un(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let m={get action(){return l},get location(){return e(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(_R,f),c=v,()=>{a.removeEventListener(_R,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return i.go(v)}};return m}var jR;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jR||(jR={}));function qre(e,t,r){return r===void 0&&(r="/"),Gre(e,t,r,!1)}function Gre(e,t,r,n){let a=typeof t=="string"?kf(t):t,s=tA(a.pathname||"/",r);if(s==null)return null;let i=KB(e);Kre(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=sne(s);l=nne(i[c],u,n)}return l}function KB(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(un(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=wu([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(un(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),KB(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:tne(u,s.index),routesMeta:d})};return e.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of YB(s.path))a(s,i,c)}),t}function YB(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=YB(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Kre(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:rne(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Yre=/^:[\w-]+$/,Xre=3,Jre=2,Qre=1,Zre=10,ene=-2,kR=e=>e==="*";function tne(e,t){let r=e.split("/"),n=r.length;return r.some(kR)&&(n+=ene),t&&(n+=Jre),r.filter(a=>!kR(a)).reduce((a,s)=>a+(Yre.test(s)?Xre:s===""?Qre:Zre),n)}function rne(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function nne(e,t,r){let{routesMeta:n}=e,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=NR({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=NR({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:wu([s,f.pathname]),pathnameBase:cne(wu([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=wu([s,f.pathnameBase]))}return i}function NR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ane(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";i=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function ane(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),eA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function sne(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return eA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function tA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ine(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?kf(e):e;return{pathname:r?r.startsWith("/")?r:one(r,t):t,search:une(n),hash:dne(a)}}function one(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Lj(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lne(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function rA(e,t){let r=lne(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nA(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=kf(e):(a=zg({},e),un(!a.pathname||!a.pathname.includes("?"),Lj("?","pathname","search",a)),un(!a.pathname||!a.pathname.includes("#"),Lj("#","pathname","hash",a)),un(!a.search||!a.search.includes("#"),Lj("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=ine(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const wu=e=>e.join("/").replace(/\/\/+/g,"/"),cne=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),une=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dne=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fne(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const XB=["post","put","patch","delete"];new Set(XB);const hne=["get",...XB];new Set(hne);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wg.apply(this,arguments)}const aA=x.createContext(null),mne=x.createContext(null),Bu=x.createContext(null),o_=x.createContext(null),gc=x.createContext({outlet:null,matches:[],isDataRoute:!1}),JB=x.createContext(null);function pne(e,t){let{relative:r}=t===void 0?{}:t;xp()||un(!1);let{basename:n,navigator:a}=x.useContext(Bu),{hash:s,pathname:i,search:l}=ZB(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:wu([n,i])),a.createHref({pathname:c,search:l,hash:s})}function xp(){return x.useContext(o_)!=null}function vc(){return xp()||un(!1),x.useContext(o_).location}function QB(e){x.useContext(Bu).static||x.useLayoutEffect(e)}function Fs(){let{isDataRoute:e}=x.useContext(gc);return e?Tne():gne()}function gne(){xp()||un(!1);let e=x.useContext(aA),{basename:t,future:r,navigator:n}=x.useContext(Bu),{matches:a}=x.useContext(gc),{pathname:s}=vc(),i=JSON.stringify(rA(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return QB(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=nA(u,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:wu([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,s,e])}function vne(){let{matches:e}=x.useContext(gc),t=e[e.length-1];return t?t.params:{}}function ZB(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Bu),{matches:a}=x.useContext(gc),{pathname:s}=vc(),i=JSON.stringify(rA(a,n.v7_relativeSplatPath));return x.useMemo(()=>nA(e,JSON.parse(i),s,r==="path"),[e,i,s,r])}function xne(e,t){return yne(e,t)}function yne(e,t,r,n){xp()||un(!1);let{navigator:a}=x.useContext(Bu),{matches:s}=x.useContext(gc),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=vc(),d;if(t){var f;let v=typeof t=="string"?kf(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||un(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=qre(e,{pathname:p}),m=jne(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:wu([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:wu([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&m?x.createElement(o_.Provider,{value:{location:Wg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:au.Pop}},m):m}function wne(){let e=Cne(),t=fne(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const bne=x.createElement(wne,null);class _ne extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(gc.Provider,{value:this.props.routeContext},x.createElement(JB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sne(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(aA);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(gc.Provider,{value:t},n)}function jne(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||un(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let p,g=!1,m=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||bne,c&&(u<0&&h===0?(g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),w=()=>{let b;return p?b=m:g?b=v:f.route.Component?b=x.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,x.createElement(Sne,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(_ne,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var eU=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(eU||{}),r1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(r1||{});function kne(e){let t=x.useContext(aA);return t||un(!1),t}function Nne(e){let t=x.useContext(mne);return t||un(!1),t}function Ene(e){let t=x.useContext(gc);return t||un(!1),t}function tU(e){let t=Ene(),r=t.matches[t.matches.length-1];return r.route.id||un(!1),r.route.id}function Cne(){var e;let t=x.useContext(JB),r=Nne(r1.UseRouteError),n=tU(r1.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Tne(){let{router:e}=kne(eU.UseNavigateStable),t=tU(r1.UseNavigateStable),r=x.useRef(!1);return QB(()=>{r.current=!0}),x.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Wg({fromRouteId:t},s)))},[e,t])}function Ane(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function vN(e){let{to:t,replace:r,state:n,relative:a}=e;xp()||un(!1);let{future:s,static:i}=x.useContext(Bu),{matches:l}=x.useContext(gc),{pathname:c}=vc(),u=Fs(),d=nA(t,rA(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Er(e){un(!1)}function One(e){let{basename:t="/",children:r=null,location:n,navigationType:a=au.Pop,navigator:s,static:i=!1,future:l}=e;xp()&&un(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:i,future:Wg({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=kf(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=x.useMemo(()=>{let v=tA(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:a}},[c,d,f,h,p,g,a]);return m==null?null:x.createElement(Bu.Provider,{value:u},x.createElement(o_.Provider,{children:r,value:m}))}function Pne(e){let{children:t,location:r}=e;return xne(xN(t),r)}new Promise(()=>{});function xN(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let s=[...t,a];if(n.type===x.Fragment){r.push.apply(r,xN(n.props.children,s));return}n.type!==Er&&un(!1),!n.props.index||!n.props.children||un(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=xN(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yN.apply(this,arguments)}function Dne(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Rne(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ine(e,t){return e.button===0&&(!t||t==="_self")&&!Rne(e)}const Mne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Fne="6";try{window.__reactRouterVersion=Fne}catch{}const Lne="startTransition",ER=sT[Lne];function $ne(e){let{basename:t,children:r,future:n,window:a}=e,s=x.useRef();s.current==null&&(s.current=zre({window:a,v5Compat:!0}));let i=s.current,[l,c]=x.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&ER?ER(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>i.listen(d),[i,d]),x.useEffect(()=>Ane(n),[n]),x.createElement(One,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const Bne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Une=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wN=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Dne(t,Mne),{basename:p}=x.useContext(Bu),g,m=!1;if(typeof u=="string"&&Une.test(u)&&(g=u,Bne))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=tA(_.pathname,p);_.origin===b.origin&&S!=null?u=S+_.search+_.hash:m=!0}catch{}let v=pne(u,{relative:a}),y=Vne(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function w(b){n&&n(b),b.defaultPrevented||y(b)}return x.createElement("a",yN({},h,{href:g||v,onClick:m||s?n:w,ref:r,target:c}))});var CR;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(CR||(CR={}));var TR;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(TR||(TR={}));function Vne(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}=t===void 0?{}:t,c=Fs(),u=vc(),d=ZB(e,{relative:i});return x.useCallback(f=>{if(Ine(f,r)){f.preventDefault();let h=n!==void 0?n:t1(u)===t1(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[u,c,d,n,a,r,e,s,i,l])}var bN=function(e,t){return bN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},bN(e,t)};function rU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");bN(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ai=function(){return Ai=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ai.apply(this,arguments)};function Uu(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function nU(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function aU(e,t){return function(r,n){t(r,n,e)}}function sU(e,t,r,n,a,s){function i(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var g={};for(var m in n)g[m]=m==="access"?{}:n[m];for(var m in n.access)g.access[m]=n.access[m];g.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(y||null))};var v=(0,r[p])(l==="accessor"?{get:d.get,set:d.set}:d[c],g);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=i(v.get))&&(d.get=f),(f=i(v.set))&&(d.set=f),(f=i(v.init))&&a.unshift(f)}else(f=i(v))&&(l==="field"?a.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function iU(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function oU(e){return typeof e=="symbol"?e:"".concat(e)}function lU(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function cU(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ht(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function uU(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var l_=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function dU(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&l_(t,e,r)}function n1(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function sA(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,s=[],i;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(l){i={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function fU(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(sA(arguments[t]));return e}function hU(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],i=0,l=s.length;i<l;i++,a++)n[a]=s[i];return n}function iA(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Sm(e){return this instanceof Sm?(this.v=e,this):new Sm(e)}function mU(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",i),a[Symbol.asyncIterator]=function(){return this},a;function i(p){return function(g){return Promise.resolve(g).then(p,f)}}function l(p,g){n[p]&&(a[p]=function(m){return new Promise(function(v,y){s.push([p,m,v,y])>1||c(p,m)})},g&&(a[p]=g(a[p])))}function c(p,g){try{u(n[p](g))}catch(m){h(s[0][3],m)}}function u(p){p.value instanceof Sm?Promise.resolve(p.value.v).then(d,f):h(s[0][2],p)}function d(p){c("next",p)}function f(p){c("throw",p)}function h(p,g){p(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function pU(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,s){t[a]=e[a]?function(i){return(r=!r)?{value:Sm(e[a](i)),done:!1}:s?s(i):i}:s}}function gU(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof n1=="function"?n1(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(l,c){i=e[s](i),a(l,c,i.done,i.value)})}}function a(s,i,l,c){Promise.resolve(c).then(function(u){s({value:u,done:l})},i)}}function vU(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var zne=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},_N=function(e){return _N=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},_N(e)};function xU(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=_N(e),n=0;n<r.length;n++)r[n]!=="default"&&l_(t,e,r[n]);return zne(t,e),t}function yU(e){return e&&e.__esModule?e:{default:e}}function wU(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function bU(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function _U(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function SU(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var Wne=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function jU(e){function t(s){e.error=e.hasError?new Wne(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(i){return t(i),a()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function kU(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,s,i){return n?t?".jsx":".js":a&&(!s||!i)?r:a+s+"."+i.toLowerCase()+"js"}):e}const Hne={__extends:rU,__assign:Ai,__rest:Uu,__decorate:nU,__param:aU,__esDecorate:sU,__runInitializers:iU,__propKey:oU,__setFunctionName:lU,__metadata:cU,__awaiter:ht,__generator:uU,__createBinding:l_,__exportStar:dU,__values:n1,__read:sA,__spread:fU,__spreadArrays:hU,__spreadArray:iA,__await:Sm,__asyncGenerator:mU,__asyncDelegator:pU,__asyncValues:gU,__makeTemplateObject:vU,__importStar:xU,__importDefault:yU,__classPrivateFieldGet:wU,__classPrivateFieldSet:bU,__classPrivateFieldIn:_U,__addDisposableResource:SU,__disposeResources:jU,__rewriteRelativeImportExtension:kU},qne=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:SU,get __assign(){return Ai},__asyncDelegator:pU,__asyncGenerator:mU,__asyncValues:gU,__await:Sm,__awaiter:ht,__classPrivateFieldGet:wU,__classPrivateFieldIn:_U,__classPrivateFieldSet:bU,__createBinding:l_,__decorate:nU,__disposeResources:jU,__esDecorate:sU,__exportStar:dU,__extends:rU,__generator:uU,__importDefault:yU,__importStar:xU,__makeTemplateObject:vU,__metadata:cU,__param:aU,__propKey:oU,__read:sA,__rest:Uu,__rewriteRelativeImportExtension:kU,__runInitializers:iU,__setFunctionName:lU,__spread:fU,__spreadArray:iA,__spreadArrays:hU,__values:n1,default:Hne},Symbol.toStringTag,{value:"Module"})),Gne="modulepreload",Kne=function(e){return"/"+e},AR={},yp=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Kne(c),c in AR)return;AR[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Gne,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Yne=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>yp(async()=>{const{default:n}=await Promise.resolve().then(()=>Nf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class oA extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class OR extends oA{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class PR extends oA{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class DR extends oA{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var SN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(SN||(SN={}));class Xne{constructor(t,{headers:r={},customFetch:n,region:a=SN.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Yne(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ht(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:s,method:i,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const p=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:h,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new OR(y)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new PR(p);if(!p.ok)throw new DR(p);let m=((a=p.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),v;return m==="application/json"?v=yield p.json():m==="application/octet-stream"||m==="application/pdf"?v=yield p.blob():m==="text/event-stream"?v=p:m==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null,response:p}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new OR(s)}:{data:null,error:s,response:s instanceof DR||s instanceof PR?s.context:void 0}}})}}var Xa={};const wp=h8(qne);var dy={},fy={},hy={},my={},py={},Jne=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jm=Jne();const Qne=jm.fetch,NU=jm.fetch.bind(jm),EU=jm.Headers,Zne=jm.Request,eae=jm.Response,Nf=Object.freeze(Object.defineProperty({__proto__:null,Headers:EU,Request:Zne,Response:eae,default:NU,fetch:Qne},Symbol.toStringTag,{value:"Module"})),tae=h8(Nf);var gy={},RR;function CU(){if(RR)return gy;RR=1,Object.defineProperty(gy,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return gy.default=e,gy}var IR;function TU(){if(IR)return py;IR=1,Object.defineProperty(py,"__esModule",{value:!0});const e=wp,t=e.__importDefault(tae),r=e.__importDefault(CU());class n{constructor(s){var i,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,p;let g=null,m=null,v=null,y=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){const k=await u.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?m=k:m=JSON.parse(k))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(g={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,v=null,y=406,w="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const _=await u.text();try{g=JSON.parse(_),Array.isArray(g)&&u.status===404&&(m=[],g=null,y=200,w="OK")}catch{u.status===404&&_===""?(y=204,w="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,y=200,w="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:m,count:v,status:y,statusText:w}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,i)}returns(){return this}overrideTypes(){return this}}return py.default=n,py}var MR;function AU(){if(MR)return my;MR=1,Object.defineProperty(my,"__esModule",{value:!0});const t=wp.__importDefault(TU());class r extends t.default{select(a){let s=!1;const i=(a??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${s?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:i=s}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,s,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,s?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return my.default=r,my}var FR;function lA(){if(FR)return hy;FR=1,Object.defineProperty(hy,"__esModule",{value:!0});const t=wp.__importDefault(AU()),r=new RegExp("[,()]");class n extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const l=Array.from(new Set(i)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${u}fts${d}.${i}`),this}match(s){return Object.entries(s).forEach(([i,l])=>{this.url.searchParams.append(i,`eq.${l}`)}),this}not(s,i,l){return this.url.searchParams.append(s,`not.${i}.${l}`),this}or(s,{foreignTable:i,referencedTable:l=i}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,i,l){return this.url.searchParams.append(s,`${i}.${l}`),this}}return hy.default=n,hy}var LR;function OU(){if(LR)return fy;LR=1,Object.defineProperty(fy,"__esModule",{value:!0});const t=wp.__importDefault(lA());class r{constructor(a,{headers:s={},schema:i,fetch:l}){this.url=a,this.headers=new Headers(s),this.schema=i,this.fetch=l}select(a,s){const{head:i=!1,count:l}=s??{},c=i?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:i=!0}={}){var l;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:s}={}){var i;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:a}={}){var s;const i="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return fy.default=r,fy}var $R;function rae(){if($R)return dy;$R=1,Object.defineProperty(dy,"__esModule",{value:!0});const e=wp,t=e.__importDefault(OU()),r=e.__importDefault(lA());class n{constructor(s,{headers:i={},schema:l,fetch:c}={}){this.url=s,this.headers=new Headers(i),this.schemaName=l,this.fetch=c}from(s){const i=new URL(`${this.url}/${s}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,i={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${s}`);let p;l||c?(f=l?"HEAD":"GET",Object.entries(i).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{h.searchParams.append(m,v)})):(f="POST",p=i);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:g,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return dy.default=n,dy}Object.defineProperty(Xa,"__esModule",{value:!0});var PU=Xa.PostgrestError=VU=Xa.PostgrestBuilder=BU=Xa.PostgrestTransformBuilder=LU=Xa.PostgrestFilterBuilder=MU=Xa.PostgrestQueryBuilder=RU=Xa.PostgrestClient=void 0;const bp=wp,DU=bp.__importDefault(rae());var RU=Xa.PostgrestClient=DU.default;const IU=bp.__importDefault(OU());var MU=Xa.PostgrestQueryBuilder=IU.default;const FU=bp.__importDefault(lA());var LU=Xa.PostgrestFilterBuilder=FU.default;const $U=bp.__importDefault(AU());var BU=Xa.PostgrestTransformBuilder=$U.default;const UU=bp.__importDefault(TU());var VU=Xa.PostgrestBuilder=UU.default;const zU=bp.__importDefault(CU());PU=Xa.PostgrestError=zU.default;var WU=Xa.default={PostgrestClient:DU.default,PostgrestQueryBuilder:IU.default,PostgrestFilterBuilder:FU.default,PostgrestTransformBuilder:$U.default,PostgrestBuilder:UU.default,PostgrestError:zU.default};const nae=f8({__proto__:null,get PostgrestBuilder(){return VU},get PostgrestClient(){return RU},get PostgrestError(){return PU},get PostgrestFilterBuilder(){return LU},get PostgrestQueryBuilder(){return MU},get PostgrestTransformBuilder(){return BU},default:WU},[Xa]),{PostgrestClient:aae,PostgrestQueryBuilder:fYe,PostgrestFilterBuilder:hYe,PostgrestTransformBuilder:mYe,PostgrestBuilder:pYe,PostgrestError:gYe}=WU||nae;class sae{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const iae="2.78.0",oae=`realtime-js/${iae}`,lae="1.0.0",jN=1e4,cae=1e3,uae=100;var Q0;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Q0||(Q0={}));var Tn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Tn||(Tn={}));var lo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(lo||(lo={}));var kN;(function(e){e.websocket="websocket"})(kN||(kN={}));var ud;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ud||(ud={}));class dae{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+a));i=i+a;const c=n.decode(t.slice(i,i+s));i=i+s;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class HU{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Cr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Cr||(Cr={}));const BR=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,i)=>(s[i]=fae(i,e,t,a),s),{}):{}},fae=(e,t,r,n)=>{const a=t.find(l=>l.name===e),s=a==null?void 0:a.type,i=r[e];return s&&!n.includes(s)?qU(s,i):NN(i)},qU=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return gae(t,r)}switch(e){case Cr.bool:return hae(t);case Cr.float4:case Cr.float8:case Cr.int2:case Cr.int4:case Cr.int8:case Cr.numeric:case Cr.oid:return mae(t);case Cr.json:case Cr.jsonb:return pae(t);case Cr.timestamp:return vae(t);case Cr.abstime:case Cr.date:case Cr.daterange:case Cr.int4range:case Cr.int8range:case Cr.money:case Cr.reltime:case Cr.text:case Cr.time:case Cr.timestamptz:case Cr.timetz:case Cr.tsrange:case Cr.tstzrange:return NN(t);default:return NN(t)}},NN=e=>e,hae=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},mae=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},pae=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},gae=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(l=>qU(t,l))}return e},vae=e=>typeof e=="string"?e.replace(" ","T"):e,GU=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class $j{constructor(t,r,n={},a=jN){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var UR;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(UR||(UR={}));class Z0{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Z0.syncState(this.state,a,s,i),this.pendingDiffs.forEach(c=>{this.state=Z0.syncDiff(this.state,c,s,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Z0.syncDiff(this.state,a,s,i),l())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=s[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),g=d.filter(v=>p.indexOf(v.presence_ref)<0),m=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var VR;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(VR||(VR={}));var eg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(eg||(eg={}));var Ol;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ol||(Ol={}));class cA{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Tn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new $j(this,lo.join,this.params,this.timeout),this.rejoinTimer=new HU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Tn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lo.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new Z0(this),this.broadcastEndpointURL=GU(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Tn.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[eg.PRESENCE]&&this.bindings[eg.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Ol.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Ol.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){t==null||t(Ol.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,y=[];for(let w=0;w<v;w++){const b=m[w],{filter:{event:_,schema:S,table:k,filter:j}}=b,E=p&&p[w];if(E&&E.event===_&&E.schema===S&&E.table===k&&E.filter===j)y.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=Tn.errored,t==null||t(Ol.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Ol.SUBSCRIBED);return}}).receive("error",p=>{this.state=Tn.errored,t==null||t(Ol.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ol.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Tn.joined&&t===eg.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Tn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new $j(this,lo.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Tn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new $j(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>uae){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=lo;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var g,m,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=p.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(p=>p.callback(h,n)):(s=this.bindings[i])===null||s===void 0||s.filter(p=>{var g,m,v,y,w,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const _=p.id,S=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(w=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:v,commit_timestamp:y,type:w,errors:b}=g;h=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:y,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===Tn.closed}_isJoined(){return this.state===Tn.joined}_isJoining(){return this.state===Tn.joining}_isLeaving(){return this.state===Tn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&cA.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(lo.close,{},t)}_onError(t){this._on(lo.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=BR(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=BR(t.columns,t.old_record)),r}}const Bj=()=>{},vy={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xae=[1e3,2e3,5e3,1e4],yae=1e4,wae=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bae{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jN,this.transport=null,this.heartbeatIntervalMs=vy.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bj,this.ref=0,this.reconnectTimer=null,this.logger=Bj,this.conn=null,this.sendBuffer=[],this.serializer=new dae,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...i)=>yp(async()=>{const{default:l}=await Promise.resolve().then(()=>Nf);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...i)=>s(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${kN.websocket}`,this.httpEndpoint=GU(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sae.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lae}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Q0.connecting:return ud.Connecting;case Q0.open:return ud.Open;case Q0.closing:return ud.Closing;default:return ud.Closed}}isConnected(){return this.connectionState()===ud.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new cA(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(cae,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vy.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:i}=r,l=i?`(${i})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,s,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(lo.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([wae],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:oae};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(lo.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new HU(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vy.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,i,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:jN,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:vy.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Bj,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>xae[f-1]||yae,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class uA extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Hr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _ae extends uA{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class EN extends uA{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const dA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>yp(async()=>{const{default:n}=await Promise.resolve().then(()=>Nf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Sae=()=>ht(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yp(()=>Promise.resolve().then(()=>Nf),void 0)).Response:Response}),CN=e=>{if(Array.isArray(e))return e.map(r=>CN(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=CN(n)}),t},jae=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Uj=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},kae=(e,t,r)=>ht(void 0,void 0,void 0,function*(){const n=yield Sae();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const s=e.status||500,i=(a==null?void 0:a.statusCode)||s+"";t(new _ae(Uj(a),s,i))}).catch(a=>{t(new EN(Uj(a),a))}):t(new EN(Uj(e),e))}),Nae=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(jae(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Zv(e,t,r,n,a,s){return ht(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,Nae(t,n,a,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>kae(c,l,n))})})}function Hg(e,t,r,n){return ht(this,void 0,void 0,function*(){return Zv(e,"GET",t,r,n)})}function ao(e,t,r,n,a){return ht(this,void 0,void 0,function*(){return Zv(e,"POST",t,n,a,r)})}function TN(e,t,r,n,a){return ht(this,void 0,void 0,function*(){return Zv(e,"PUT",t,n,a,r)})}function Eae(e,t,r,n){return ht(this,void 0,void 0,function*(){return Zv(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function fA(e,t,r,n,a){return ht(this,void 0,void 0,function*(){return Zv(e,"DELETE",t,n,a,r)})}class Cae{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ht(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Hr(t))return{data:null,error:t};throw t}})}}var KU;class Tae{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[KU]="BlobDownloadBuilder",this.promise=null}asStream(){return new Cae(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ht(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Hr(t))return{data:null,error:t};throw t}})}}KU=Symbol.toStringTag;const Aae={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zR={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Oae{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=dA(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return ht(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},zR),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?TN:ao)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Hr(s))return{data:null,error:s};throw s}})}upload(t,r,n){return ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return ht(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),i=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:zR.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield TN(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Hr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ht(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield ao(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+s.url),l=i.searchParams.get("token");if(!l)throw new uA("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}update(t,r,n){return ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ht(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Hr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return ht(this,void 0,void 0,function*(){try{return{data:{path:(yield ao(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Hr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return ht(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield ao(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Hr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return ht(this,void 0,void 0,function*(){try{const a=yield ao(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Hr(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=s?`?${s}`:"",l=this._getFinalPath(t),c=()=>Hg(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new Tae(c,this.shouldThrowOnError)}info(t){return ht(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Hg(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:CN(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}exists(t){return ht(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Eae(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n)&&n instanceof EN){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return ht(this,void 0,void 0,function*(){try{return{data:yield fA(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}list(t,r,n){return ht(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Aae),r),{prefix:t||""});return{data:yield ao(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Hr(a))return{data:null,error:a};throw a}})}listV2(t,r){return ht(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ao(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const YU="2.78.0",XU={"X-Client-Info":`storage-js/${YU}`};class Pae{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},XU),r),this.fetch=dA(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ht(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Hg(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getBucket(t){return ht(this,void 0,void 0,function*(){try{return{data:yield Hg(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}createBucket(t){return ht(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield ao(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Hr(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return ht(this,void 0,void 0,function*(){try{return{data:yield TN(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ht(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ht(this,void 0,void 0,function*(){try{return{data:yield fA(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Dae{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},XU),r),this.fetch=dA(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ht(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}listBuckets(t){return ht(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Hg(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ht(this,void 0,void 0,function*(){try{return{data:yield fA(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}}const hA={"X-Client-Info":`storage-js/${YU}`,"Content-Type":"application/json"};class JU extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Zs(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Vj extends JU{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Rae extends JU{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var WR;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(WR||(WR={}));const mA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>yp(async()=>{const{default:n}=await Promise.resolve().then(()=>Nf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Iae=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},HR=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Mae=(e,t,r)=>ht(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||a+"";t(new Vj(HR(i),a,l))}).catch(()=>{const i=a+"",l=s.statusText||`HTTP ${a} error`;t(new Vj(l,a,i))});else{const i=a+"",l=s.statusText||`HTTP ${a} error`;t(new Vj(l,a,i))}}else t(new Rae(HR(e),e))}),Fae=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Iae(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function Lae(e,t,r,n,a,s){return ht(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,Fae(t,n,a,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>Mae(c,l,n))})})}function ei(e,t,r,n,a){return ht(this,void 0,void 0,function*(){return Lae(e,"POST",t,n,a,r)})}class $ae{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hA),r),this.fetch=mA(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ht(this,void 0,void 0,function*(){try{return{data:(yield ei(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ht(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zs(n))return{data:null,error:n};throw n}})}listIndexes(t){return ht(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ht(this,void 0,void 0,function*(){try{return{data:(yield ei(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zs(n))return{data:null,error:n};throw n}})}}class Bae{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hA),r),this.fetch=mA(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ht(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ei(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}getVectors(t){return ht(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}listVectors(t){return ht(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ei(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}queryVectors(t){return ht(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ht(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ei(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}}class Uae{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hA),r),this.fetch=mA(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ht(this,void 0,void 0,function*(){try{return{data:(yield ei(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}getBucket(t){return ht(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}listBuckets(){return ht(this,arguments,void 0,function*(t={}){try{return{data:yield ei(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ht(this,void 0,void 0,function*(){try{return{data:(yield ei(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}}class Vae extends Uae{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new zae(this.url,this.headers,t,this.fetch)}}class zae extends $ae{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ht(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ht(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ht(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ht(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Wae(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Wae extends Bae{constructor(t,r,n,a,s){super(t,r,s),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ht(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ht(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ht(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ht(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ht(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Hae extends Pae{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new Oae(this.url,this.headers,t,this.fetch)}get vectors(){return new Vae(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Dae(this.url+"/iceberg",this.headers,this.fetch)}}const qae="2.78.0";let P0="";typeof Deno<"u"?P0="deno":typeof document<"u"?P0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?P0="react-native":P0="node";const Gae={"X-Client-Info":`supabase-js-${P0}/${qae}`},Kae={headers:Gae},Yae={schema:"public"},Xae={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jae={},Qae=e=>{let t;return e?t=e:typeof fetch>"u"?t=NU:t=fetch,(...r)=>t(...r)},Zae=()=>typeof Headers>"u"?EU:Headers,ese=(e,t,r)=>{const n=Qae(r),a=Zae();return async(s,i)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},i),{headers:u}))}};function tse(e){return e.endsWith("/")?e:e+"/"}function rse(e,t){var r,n;const{db:a,auth:s,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function nse(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tse(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const QU="2.78.0",ih=30*1e3,AN=3,zj=AN*ih,ase="http://localhost:9999",sse="supabase.auth.token",ise={"X-Client-Info":`gotrue-js/${QU}`},ON="X-Supabase-Api-Version",ZU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ose=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lse=10*60*1e3;class qg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function gt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class cse extends qg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function use(e){return gt(e)&&e.name==="AuthApiError"}class dd extends qg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Vu extends qg{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Zi extends Vu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dse(e){return gt(e)&&e.name==="AuthSessionMissingError"}class Wf extends Vu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xy extends Vu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class yy extends Vu{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fse(e){return gt(e)&&e.name==="AuthImplicitGrantRedirectError"}class qR extends Vu{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class PN extends Vu{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Wj(e){return gt(e)&&e.name==="AuthRetryableFetchError"}class GR extends Vu{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class DN extends Vu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const a1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),KR=` 	
\r=`.split(""),hse=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<KR.length;t+=1)e[KR[t].charCodeAt(0)]=-2;for(let t=0;t<a1.length;t+=1)e[a1[t].charCodeAt(0)]=t;return e})();function YR(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(a1[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(a1[n]),t.queuedBits-=6}}function e9(e,t,r){const n=hse[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function XR(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{gse(i,n,r)};for(let i=0;i<e.length;i+=1)e9(e.charCodeAt(i),a,s);return t.join("")}function mse(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function pse(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}mse(n,t)}}function gse(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function zh(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)e9(e.charCodeAt(a),r,n);return new Uint8Array(t)}function vse(e){const t=[];return pse(e,r=>t.push(r)),new Uint8Array(t)}function xd(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>YR(a,r,n)),YR(null,r,n),t.join("")}function xse(e){return Math.round(Date.now()/1e3)+e}function yse(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const za=()=>typeof window<"u"&&typeof document<"u",Qu={tested:!1,writable:!1},t9=()=>{if(!za())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qu.tested)return Qu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Qu.tested=!0,Qu.writable=!0}catch{Qu.tested=!0,Qu.writable=!1}return Qu.writable};function wse(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const r9=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>yp(async()=>{const{default:n}=await Promise.resolve().then(()=>Nf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},bse=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",oh=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Zu=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Tc=async(e,t)=>{await e.removeItem(t)};class c_{constructor(){this.promise=new c_.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}c_.promiseConstructor=Promise;function Hj(e){const t=e.split(".");if(t.length!==3)throw new DN("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ose.test(t[n]))throw new DN("JWT not in base64url format");return{header:JSON.parse(XR(t[0])),payload:JSON.parse(XR(t[1])),signature:zh(t[2]),raw:{header:t[0],payload:t[1]}}}async function _se(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Sse(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){n(i);return}}catch(i){if(!t(s,i)){a(i);return}}})()})}function jse(e){return("0"+e.toString(16)).substr(-2)}function kse(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,jse).join("")}async function Nse(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function Ese(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Nse(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hf(e,t,r=!1){const n=kse();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await oh(e,`${t}-code-verifier`,a);const s=await Ese(n);return[s,n===s?"plain":"s256"]}const Cse=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Tse(e){const t=e.headers.get(ON);if(!t||!t.match(Cse))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ase(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ose(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Pse=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qf(e){if(!Pse.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qj(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dse(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function JR(e){return JSON.parse(JSON.stringify(e))}const sd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Rse=[502,503,504];async function QR(e){var t;if(!bse(e))throw new PN(sd(e),0);if(Rse.includes(e.status))throw new PN(sd(e),e.status);let r;try{r=await e.json()}catch(s){throw new dd(sd(s),s)}let n;const a=Tse(e);if(a&&a.getTime()>=ZU["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new GR(sd(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Zi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new GR(sd(r),e.status,r.weak_password.reasons);throw new cse(sd(r),e.status||500,n)}const Ise=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Et(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[ON]||(s[ON]=ZU["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await Mse(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Mse(e,t,r,n,a,s){const i=Ise(t,n,a,s);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new PN(sd(c),0)}if(l.ok||await QR(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await QR(c)}}function eo(e){var t;let r=null;$se(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=xse(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ZR(e){const t=eo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Wc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Fse(e){return{data:e,error:null}}function Lse(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=Uu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function eI(e){return e}function $se(e){return e.access_token&&e.refresh_token&&e.expires_in}const Gj=["global","local","others"];class Bse{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=r9(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Gj[0]){if(Gj.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gj.join(", ")}`);try{return await Et(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Et(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wc})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Uu(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Lse,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(gt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Et(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wc})}catch(r){if(gt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:eI});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(gt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){qf(t);try{return await Et(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wc})}catch(r){if(gt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){qf(t);try{return await Et(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Wc})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){qf(t);try{return await Et(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wc})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){qf(t.userId);try{const{data:r,error:n}=await Et(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){qf(t.userId),qf(t.id);try{return{data:await Et(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Et(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:eI});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(gt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Et(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Et(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Et(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(gt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Et(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Et(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}}function tI(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Gf={debug:!!(globalThis&&t9()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class n9 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Use extends n9{}async function Vse(e,t,r){Gf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Gf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Gf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Gf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Gf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Use(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gf.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function zse(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function a9(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Wse(e){return parseInt(e,16)}function Hse(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function qse(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=a9(e.address),g=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${p}

${m}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${s.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);w+=`
- ${b}`}y+=w}return`${v}
${y}`}class xn extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class s1 extends xn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Gse({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new xn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new xn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new xn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new xn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new xn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new xn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new xn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new xn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(s9(i)){if(s.rp.id!==i)return new xn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new xn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new xn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new xn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new xn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Kse({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new xn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new xn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(s9(n)){if(r.rpId!==n)return new xn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new xn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new xn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new xn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Yse{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Xse=new Yse;function Jse(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Uu(e,["challenge","user","excludeCredentials"]),s=zh(t).buffer,i=Object.assign(Object.assign({},r),{id:zh(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:s,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:zh(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Qse(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Uu(e,["challenge","allowCredentials"]),a=zh(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];s.allowCredentials[i]=Object.assign(Object.assign({},l),{id:zh(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function Zse(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:xd(new Uint8Array(e.response.attestationObject)),clientDataJSON:xd(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function eie(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:xd(new Uint8Array(a.authenticatorData)),clientDataJSON:xd(new Uint8Array(a.clientDataJSON)),signature:xd(new Uint8Array(a.signature)),userHandle:a.userHandle?xd(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function s9(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function rI(){var e,t;return!!(za()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function tie(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new s1("Browser returned unexpected credential type",t)}:{data:null,error:new s1("Empty credential response",t)}}catch(t){return{data:null,error:Gse({error:t,options:e})}}}async function rie(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new s1("Browser returned unexpected credential type",t)}:{data:null,error:new s1("Empty credential response",t)}}catch(t){return{data:null,error:Kse({error:t,options:e})}}}const nie={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},aie={userVerification:"preferred",hints:["security-key"]};function i1(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const i=a[s];if(i!==void 0)if(Array.isArray(i))n[s]=i;else if(r(i))n[s]=i;else if(t(i)){const l=n[s];t(l)?n[s]=i1(l,i):n[s]=i1(i)}else n[s]=i}return n}function sie(e,t){return i1(nie,e,t||{})}function iie(e,t){return i1(aie,e,t||{})}class oie{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const c=a??Xse.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=sie(i.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:f}=await tie({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=iie(i.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:f}=await rie(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return gt(i)?{data:null,error:i}:{data:null,error:new dd("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},s){if(!r)return{data:null,error:new qg("rpId is required for WebAuthn authentication")};try{if(!rI())return{data:null,error:new dd("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return gt(i)?{data:null,error:i}:{data:null,error:new dd("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},s){if(!r)return{data:null,error:new qg("rpId is required for WebAuthn registration")};try{if(!rI())return{data:null,error:new dd("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return gt(i)?{data:null,error:i}:{data:null,error:new dd("Unexpected error in register",i)}}}}zse();const lie={url:ase,storageKey:sse,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ise,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function nI(e,t,r){return await r()}const Kf={};class Gg{get jwks(){var t,r;return(r=(t=Kf[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Kf[this.storageKey]=Object.assign(Object.assign({},Kf[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Kf[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Kf[this.storageKey]=Object.assign(Object.assign({},Kf[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gg.nextInstanceID,Gg.nextInstanceID+=1,this.instanceID>0&&za()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},lie),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Bse({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=r9(a.fetch),this.lock=a.lock||nI,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:za()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Vse:this.lock=nI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oie(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:t9()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tI(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=tI(this.memoryStorage)),za()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${QU}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=wse(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),za()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),fse(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return gt(r)?{error:r}:{error:new dd("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:eo}),{data:i,error:l}=s;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(gt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Hf(this.storage,this.storageKey)),s=await Et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:eo})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await Et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:eo})}else throw new xy("You must provide either an email or phone number and a password");const{data:i,error:l}=s;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(gt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:i,options:l}=t;r=await Et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ZR})}else if("phone"in t){const{phone:s,password:i,options:l}=t;r=await Et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ZR})}else throw new xy("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Wf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,i,l,c,u,d,f,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:m,wallet:v,statement:y,options:w}=t;let b;if(za())if(typeof v=="object")b=v;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")b=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),S=await b.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=a9(S[0]);let j=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const N=await b.request({method:"eth_chainId"});j=Wse(N)}const E={domain:_.host,address:k,statement:y,uri:_.href,version:"1",chainId:j,nonce:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(i=(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=qse(E),g=await b.request({method:"personal_sign",params:[Hse(p),k]})}try{const{data:m,error:v}=await Et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:eo});if(v)throw v;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new Wf}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:v})}catch(m){if(gt(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSolana(t){var r,n,a,s,i,l,c,u,d,f,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:v,wallet:y,statement:w,options:b}=t;let _;if(za())if(typeof y=="object")_=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)g=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),m=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=k}}try{const{data:v,error:y}=await Et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:xd(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:eo});if(y)throw y;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Wf}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:y})}catch(v){if(gt(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await Zu(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:i}=await Et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:eo});if(await Tc(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Wf}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(gt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:i}=t,l=await Et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:eo}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Wf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,s,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Hf(this.storage,this.storageKey));const{error:f}=await Et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new xy("You must provide either an email or phone number.")}catch(l){if(gt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await Et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:eo});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(gt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await Hf(this.storage,this.storageKey)),await Et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:Fse})}catch(s){if(gt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Zi;const{error:a}=await Et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(gt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:i}=await Et(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:i,error:l}=await Et(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new xy("You must provide either an email or phone number and a type")}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Zu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<zj:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await Zu(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=qj()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=Dse(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Wc}):await this._useSession(async r=>{var n,a,s;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zi}:await Et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Wc})})}catch(r){if(gt(r))return dse(r)&&(await this._removeSession(),await Tc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Zi;const i=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Hf(this.storage,this.storageKey));const{data:u,error:d}=await Et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Wc});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(gt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zi;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:i}=Hj(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(gt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Zi;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(gt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!za())throw new yy("No browser detected.");if(t.error||t.error_description||t.error_code)throw new yy(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new qR("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yy("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new qR("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!i||!u)throw new yy("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=ih&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:m,error:v}=await this._getUser(s);if(v)throw v;const y={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(gt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Zu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(use(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Tc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=yse(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Hf(this.storage,this.storageKey,!0));try{return await Et(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(gt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var i,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Et(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return za()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(gt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:i,provider:l,token:c,access_token:u,nonce:d}=t,f=await Et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:eo}),{data:h,error:p}=f;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Wf}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:p})}catch(a){if(gt(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)throw i;return await Et(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Sse(async a=>(a>0&&await _se(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:eo})),(a,s)=>{const i=200*Math.pow(2,a);return s&&Wj(s)&&Date.now()+i-n<ih})}catch(n){if(this._debug(r,"error",n),gt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),za()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Zu(this.storage,this.storageKey);if(a&&this.userStorage){let i=await Zu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:a.user},await oh(this.userStorage,this.storageKey+"-user",i)),a.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:qj()}else if(a&&!a.user&&!a.user){const i=await Zu(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(a.user=i.user,await Tc(this.storage,this.storageKey+"-user"),await oh(this.storage,this.storageKey,a)):a.user=qj()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<zj;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${zj}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),Wj(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(a.access_token);!l&&(i!=null&&i.user)?(a.user=i.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Zi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new c_;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new Zi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),gt(s)){const i={data:null,error:s};return Wj(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(i),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await oh(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=JR(a);await oh(this.storage,this.storageKey,s)}else{const a=JR(r);await oh(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Tc(this.storage,this.storageKey),await Tc(this.storage,this.storageKey+"-code-verifier"),await Tc(this.storage,this.storageKey+"-user"),this.userStorage&&await Tc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&za()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ih);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/ih);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ih}ms, refresh threshold is ${AN} ticks`),a<=AN&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof n9)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!za()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await Hf(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await Et(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Et(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Zse(t.webauthn.credential_response):eie(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(gt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const i=await Et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Jse(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Qse(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(gt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Hj(n.access_token);let i=null;s.aal&&(i=s.aal);let l=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?{data:null,error:a}:n?await Et(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new Zi}})}catch(r){if(gt(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return{data:null,error:s};if(!a)return{data:null,error:new Zi};const i=await Et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&za()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(gt(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return{data:null,error:s};if(!a)return{data:null,error:new Zi};const i=await Et(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&za()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(gt(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+lse>a)return n;const{data:s,error:i}=await Et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:a,payload:s,signature:i,raw:{header:l,payload:c}}=Hj(n);r!=null&&r.allowExpired||Ase(s.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:a,signature:i},error:null}}const d=Ose(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,vse(`${l}.${c}`)))throw new DN("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}}}Gg.nextInstanceID=0;const cie=Gg;class uie extends cie{constructor(t){super(t)}}class die{constructor(t,r,n){var a,s,i;this.supabaseUrl=t,this.supabaseKey=r;const l=nse(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Yae,realtime:Jae,auth:Object.assign(Object.assign({},Xae),{storageKey:c}),global:Kae},d=rse(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=ese(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new aae(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Hae(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Xne(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,storageKey:i,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uie({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new bae(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fie=(e,t,r)=>new die(e,t,r);function hie(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}hie()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const i9="https://studio.middar.com/",hw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlzcyI6InN1cGFiYXNlLWRlbW8iLCJpYXQiOjE3NjQwMDE2ODQsImV4cCI6MjA3OTU3NzY4NH0.sHsfXuCJ0n1y6g29oFxifU1KCkSZzCzZ7_x1zQDbFDY";console.log(" SUPABASE URL at runtime:",i9);console.log(" SUPABASE KEY (first 8):",hw==null?void 0:hw.slice(0,8));const ve=fie(i9,hw,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"middar_crm_session"}}),Ws={async signUpStaff(e,t,r){console.log("[authService] Creating staff user:",{email:e,userData:r});try{const{data:n,error:a}=await ve.auth.signUp({email:e,password:t});if(a)throw a;if(!n.user)throw new Error("No user data returned from sign up");console.log("[authService] Auth user created:",n.user.id);const{data:s,error:i}=await ve.from("users").upsert({user_name:r.name,user_email:e,user_role:r.role,avatar:r.avatar,auth_user_id:n.user.id},{onConflict:"auth_user_id"}).select("*").single();if(i)throw console.error("[authService] Error creating user profile:",i),new Error(`Failed to create user profile: ${i.message}`);return console.log("[authService] User profile created:",s),console.log("[authService] User profile created:",s),{id:n.user.id,email:e,role:r.role,profile:{user_id:s.user_id||parseInt(n.user.id),user_name:s.user_name||r.name,user_email:s.user_email||e,user_role:s.user_role||r.role,avatar:s.avatar||r.avatar,auth_user_id:s.auth_user_id||n.user.id,client_contact:s.client_contact||null,company_name:s.company_name||null,company_name_ar:s.company_name_ar||null,user_name_ar:s.user_name_ar||null,user_phone:s.user_phone||null,created_at:s.created_at||new Date().toISOString(),updated_at:s.updated_at||new Date().toISOString()}}}catch(n){throw console.error("[authService] Error in signUpStaff:",n),n}},async createStaffUser(e,t,r){console.log("[authService] Creating staff user via Edge Function:",{email:e,userData:r});try{const{data:{session:n},error:a}=await ve.auth.getSession();if(a||!(n!=null&&n.access_token))throw new Error("No active session found");const s="https://studio.middar.com/",i=`${s}/functions/v1/crud-staff-user`,l=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`,"x-user-id":n.user.id},body:JSON.stringify({action:"add",email:e,password:t,userData:{user_name:r.name,user_role:r.role,...r.localizedData||{}}})});if(!l.ok){const f=await l.json();throw new Error(f.error||`HTTP ${l.status}`)}const c=await l.json();if(console.log("[authService] Staff user created successfully:",c),!c.ok)throw new Error("Edge Function returned an error status");const u=c.auth_id??c.authUserId;if(!u)throw new Error("Auth user ID missing from response");if(c.user_id==null)throw new Error("User ID missing from response");const d=c.user_id??null;return{id:u,email:e,role:r.role,profile:{user_id:d,user_name:c.user_name||r.name,user_email:c.user_email||e,user_role:c.user_role||r.role,avatar:c.avatar||r.avatar,auth_user_id:u,client_contact:c.client_contact||null,company_name:c.company_name||null,company_name_ar:c.company_name_ar||null,user_name_ar:c.user_name_ar||null,user_phone:c.user_phone||null,created_at:c.created_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString()}}}catch(n){throw console.error("[authService] Error in createStaffUser:",n),n}},async updateUserRole(e,t){console.log("[authService] Updating user role:",{targetUserId:e,newRole:t});try{const{data:{session:r},error:n}=await ve.auth.getSession();if(n||!(r!=null&&r.access_token))throw new Error("No active session found");const a="https://studio.middar.com/".trim();if(!a)throw new Error("Missing VITE_SUPABASE_URL");const s=`${a}/functions/v1/crud-staff-user`,i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`,"x-user-id":r.user.id},body:JSON.stringify({action:"update",targetUserId:e,userData:{user_role:t}})});if(!i.ok){const l=await i.json();throw new Error(l.error||`HTTP ${i.status}`)}console.log("[authService] User role updated successfully")}catch(r){throw console.error("[authService] Error in updateUserRole:",r),r}},async updateUser(e,t){console.log("[authService] Updating user details:",{targetUserId:e,userData:t});try{const{data:{session:r},error:n}=await ve.auth.getSession();if(n||!(r!=null&&r.access_token))throw new Error("No active session found");const a="https://studio.middar.com/".trim();if(!a)throw new Error("Missing VITE_SUPABASE_URL");const s=`${a}/functions/v1/crud-staff-user`,i={action:"update",targetUserId:e,userData:{}};if(t.user_email!==void 0&&(i.email=t.user_email,i.userData.user_email=t.user_email),t.user_name!==void 0&&(i.userData.user_name=t.user_name),t.user_role!==void 0&&(i.userData.user_role=t.user_role),t.user_phone!==void 0){const{data:l,error:c}=await ve.from("users").select("user_id").eq("auth_user_id",e).single();if(c||!l)throw new Error("User not found");const{error:u}=await ve.from("users").update({user_phone:t.user_phone}).eq("user_id",l.user_id);if(u)throw u}if(i.userData.user_name||i.userData.user_email||i.userData.user_role){const l=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`,"x-user-id":r.user.id},body:JSON.stringify(i)});if(!l.ok){const u=await l.json();throw new Error(u.error||`HTTP ${l.status}`)}const c=await l.json();console.log("[authService] Edge Function update result:",c)}console.log("[authService] User details updated successfully")}catch(r){throw console.error("[authService] Error in updateUser:",r),r}},async deleteUser(e){console.log("[authService] Deleting user:",e);try{const{data:{session:t},error:r}=await ve.auth.getSession();if(r||!(t!=null&&t.access_token))throw new Error("No active session found");const n="https://studio.middar.com/",a=`${n}/functions/v1/crud-staff-user`,s=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`,"x-user-id":t.user.id},body:JSON.stringify({action:"delete",targetUserId:e})});if(!s.ok){const i=await s.json();throw new Error(i.error||`HTTP ${s.status}`)}console.log("[authService] User deleted successfully")}catch(t){throw console.error("[authService] Error in deleteUser:",t),t}},async signUpClient(e,t,r){console.log("[authService] Signing up client:",{email:e,...r});const{data:n,error:a}=await ve.auth.signUp({email:e,password:t});if(a)throw a;if(!n.user)throw new Error("User creation failed");console.log("[authService] Auth user created:",n.user.id);const{data:s,error:i}=await ve.from("users").upsert({user_name:r.name,user_email:e,user_role:"client",avatar:r.avatar,client_contact:r.contact,company_name:r.company,auth_user_id:n.user.id},{onConflict:"auth_user_id"}).select().single();if(i)throw console.error("[authService] Error creating user profile:",i),i;return console.log("[authService] User profile created:",s),{id:n.user.id,email:e,role:"client",profile:{user_id:s.user_id,user_name:s.user_name||r.name,user_email:s.user_email||e,user_role:"client",avatar:s.avatar||r.avatar,client_contact:s.client_contact||r.contact||null,company_name:s.company_name||r.company||null,company_name_ar:s.company_name_ar||null,user_name_ar:s.user_name_ar||null,user_phone:s.user_phone||null,auth_user_id:n.user.id,created_at:s.created_at||new Date().toISOString(),updated_at:s.updated_at||new Date().toISOString()}}},async signIn(e,t){console.log("[authService] Signing in with email:",e);try{const{data:r,error:n}=await ve.auth.signInWithPassword({email:e,password:t});if(n)throw console.error("[authService] Authentication error:",n),n;if(!r.user)throw new Error("Sign in failed: No user data returned");console.log("[authService] User authenticated, fetching profile...");const{data:a,error:s}=await ve.from("users").select("*").eq("auth_user_id",r.user.id).maybeSingle();if(s)throw console.error("[authService] Error fetching user profile:",s),new Error("Failed to fetch user profile");if(!a)throw console.error("[authService] User profile not found for user:",r.user.id),new Error("User profile not found");return console.log("[authService] User profile found:",a),{id:r.user.id,email:r.user.email,role:a.user_role||"client",profile:{...a}}}catch(r){throw console.error("[authService] Error in signIn:",r),r}},async signOut(){console.log("[authService] Signing out...");try{const{data:{session:e}}=await ve.auth.getSession();if(!e){console.warn("[authService] No active session found  skipping signOut()");return}const{error:t}=await ve.auth.signOut();if(t)throw console.error("[authService] Error signing out:",t),t;console.log("[authService] Sign out successful")}catch(e){throw console.error("[authService] Error in signOut:",e),e}},async signInWithGoogle(e="client"){console.log("[authService] Starting Google OAuth sign-in with role:",e);try{localStorage.setItem("oauth_intended_role",e);const{data:t,error:r}=await ve.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,data:{intended_role:e},queryParams:{access_type:"offline",prompt:"consent select_account"}}});if(r)throw console.error("[authService] Google OAuth error:",r),localStorage.removeItem("oauth_intended_role"),r;console.log("[authService] Google OAuth initiated successfully with role:",e)}catch(t){throw console.error("[authService] Error in Google sign-in:",t),localStorage.removeItem("oauth_intended_role"),t}},async getCurrentUser(e){console.log("[authService] Getting current user",{authUserId:e});try{let t;if(e)t={id:e},console.log("[authService] Using provided auth user ID:",e);else{console.log("[authService] Fetching auth user from session");const l=ve.auth.getUser(),c=new Promise((u,d)=>setTimeout(()=>d(new Error("getUser timeout")),3e3));try{const{data:{user:u},error:d}=await Promise.race([l,c]);if(d||!u)return console.log("[authService] No authenticated user found"),null;t=u}catch(u){return console.warn("[authService] Failed to get user from session:",u),null}}console.log("[authService] Found auth user:",{id:t.id}),console.log("[authService] Checking users table for user:",t.id);const r=ve.from("users").select("*").eq("auth_user_id",t.id).maybeSingle(),n=new Promise((l,c)=>setTimeout(()=>c(new Error("Database query timeout")),3e3));let a,s;try{const l=await Promise.race([r,n]);a=l.data,s=l.error}catch(l){return console.error("[authService] Database query timed out:",l),{id:t.id,email:"",role:"client",profile:{user_id:0,user_name:"User",user_email:"",user_role:"client",auth_user_id:t.id,avatar:"",client_contact:null,company_name:null,company_name_ar:null,user_name_ar:null,user_phone:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}}if(console.log("[authService] Database query completed:",{hasData:!!a,hasError:!!s}),s&&console.error("[authService] Error fetching user from users table:",s),a)return console.log("[authService] Found user in users table:",a),{id:t.id,email:a.user_email||"",role:a.user_role||"client",profile:{...a}};console.warn("[authService] User authenticated but not found in users table, creating minimal user object",{userId:t.id});const i={id:t.id,email:"",role:"client",profile:{user_id:0,user_name:"User",user_email:"",user_role:"client",auth_user_id:t.id,avatar:"",client_contact:null,company_name:null,company_name_ar:null,user_name_ar:null,user_phone:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};return console.log("[authService] Returning minimal user object"),i}catch(t){return console.error("[authService] Error in getCurrentUser:",t),null}},async getFreshJwt(){const{data:{session:e},error:t}=await ve.auth.getSession();if(t)throw t;if(!(e!=null&&e.access_token))throw new Error("No access token available");return e.access_token},onAuthStateChange(e){console.log("[authService] Setting up auth state change listener");let t=null;const r=async(a,s)=>{var l;console.log("[authService] Auth state changed:",{event:a,hasSession:!!s,userId:(l=s==null?void 0:s.user)==null?void 0:l.id});const i=async c=>{const u=this.getCurrentUser(c),d=new Promise((f,h)=>setTimeout(()=>h(new Error("getCurrentUser timeout")),3e3));return Promise.race([u,d])};if(a==="SIGNED_IN"&&(s!=null&&s.user))try{console.log("[authService] Fetching user profile for SIGNED_IN event");const c=await i(s.user.id);if(console.log("[authService] User profile fetched:",{hasUser:!!c}),c){const u=c.profile.user_name==="User",d=t&&t.profile.user_name!=="User";u&&d?console.log("[authService] Skipping update to minimal user, keeping full user"):JSON.stringify(c)!==JSON.stringify(t)&&(t=c,e(c))}}catch(c){if(console.error("[authService] Error or timeout getting current user:",c),!t){const u={id:s.user.id,email:s.user.email||"",role:"client",profile:{user_id:0,user_name:"User",user_email:s.user.email||"",user_role:"client",auth_user_id:s.user.id,avatar:"",client_contact:null,company_name:null,company_name_ar:null,user_name_ar:null,user_phone:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};t=u,e(u)}}else if(a==="INITIAL_SESSION")if(s!=null&&s.user)try{console.log("[authService] Fetching user profile for INITIAL_SESSION event"),await new Promise(u=>setTimeout(u,100));const c=await i(s.user.id);if(console.log("[authService] User profile fetched:",{hasUser:!!c}),c){const u=c.profile.user_name==="User",d=t&&t.profile.user_name!=="User";u&&d?console.log("[authService] Skipping update to minimal user, keeping full user"):JSON.stringify(c)!==JSON.stringify(t)&&(t=c,e(c))}}catch(c){if(console.error("[authService] Error or timeout getting current user:",c),!t){const u={id:s.user.id,email:s.user.email||"",role:"client",profile:{user_id:0,user_name:"User",user_email:s.user.email||"",user_role:"client",auth_user_id:s.user.id,avatar:"",client_contact:null,company_name:null,company_name_ar:null,user_name_ar:null,user_phone:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};t=u,e(u)}}else console.log("[authService] No session on initial check"),t=null,e(null);else a==="SIGNED_OUT"&&(console.log("[authService] User signed out"),t=null,e(null))},{data:{subscription:n}}=ve.auth.onAuthStateChange(r);return console.log("[authService] Auth state change listener set up"),{data:{subscription:n}}}},o9=x.createContext(void 0),mie=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(!0),[s,i]=x.useState(!1);x.useEffect(()=>{let w=!0,b=null,_=!1;const S=k=>{if(w){if(console.log("[AuthContext] Auth state changed:",{hasUser:!!k,isSigningUp:s}),s){console.log("[AuthContext] Skipping auth state change during signup");return}r(k),_||(_=!0,a(!1))}};console.log("[AuthContext] Initializing auth state...");try{const{data:{subscription:k}}=Ws.onAuthStateChange(S);b=k}catch(k){console.error("[AuthContext] Failed to set up auth state listener:",k),a(!1)}return()=>{console.log("[AuthContext] Cleaning up auth state change listener"),w=!1,b&&b.unsubscribe()}},[]);const l=async(w,b)=>{console.log("[AuthContext] Signing in..."),a(!0);try{const _=await Ws.signIn(w,b);return console.log("[AuthContext] Sign in successful:",_),r(_),a(!1),_}catch(_){throw console.error("[AuthContext] Sign in failed:",_),a(!1),r(null),_}},c=async(w="client")=>{console.log("[AuthContext] Starting Google sign-in with role:",w),a(!0);try{await Ws.signInWithGoogle(w)}catch(b){throw console.error("[AuthContext] Google sign-in failed:",b),a(!1),b}},u=async()=>{console.log("[AuthContext] Signing out...");try{r(null),await Ws.signOut(),console.log("[AuthContext] Sign out successful")}catch(w){throw console.error("[AuthContext] Sign out failed:",w),r(null),w}},d=async(w,b,_)=>{console.log("[AuthContext] Signing up staff..."),a(!0),i(!0);try{const S=await Ws.signUpStaff(w,b,_);return console.log("[AuthContext] Staff sign up successful:",S),r(S),a(!1),S}catch(S){throw console.error("[AuthContext] Staff sign up failed:",S),a(!1),S}finally{i(!1)}},f=async(w,b,_)=>{console.log("[AuthContext] Creating staff user...");try{const S=await Ws.createStaffUser(w,b,_);return console.log("[AuthContext] Staff user creation successful:",S),S}catch(S){throw console.error("[AuthContext] Staff user creation failed:",S),S}},h=async w=>{console.log("[AuthContext] Deleting user...");try{await Ws.deleteUser(w),console.log("[AuthContext] User deletion successful")}catch(b){throw console.error("[AuthContext] User deletion failed:",b),b}},p=async(w,b)=>{console.log("[AuthContext] Updating user role...");try{await Ws.updateUserRole(w,b),console.log("[AuthContext] User role update successful")}catch(_){throw console.error("[AuthContext] User role update failed:",_),_}},g=async(w,b)=>{console.log("[AuthContext] Updating user details...");try{await Ws.updateUser(w,b),console.log("[AuthContext] User details update successful")}catch(_){throw console.error("[AuthContext] User details update failed:",_),_}},m=async(w,b,_)=>{console.log("[AuthContext] Signing up client..."),a(!0),i(!0);try{const S=await Ws.signUpClient(w,b,_);return console.log("[AuthContext] Client sign up successful:",S),r(S),a(!1),S}catch(S){throw console.error("[AuthContext] Client sign up failed:",S),a(!1),S}finally{i(!1)}},v=w=>t?w.includes(t.role):!1,y={user:t,loading:n,signIn:l,signInWithGoogle:c,signOut:u,signUpStaff:d,createStaffUser:f,deleteUser:h,updateUserRole:p,updateUser:g,signUpClient:m,isAuthenticated:!!t,isClient:(t==null?void 0:t.role)==="client",isStaff:t?["admin","manager","employee","team_leader"].includes(t.role):!1,hasRole:v};return o.jsx(o9.Provider,{value:y,children:e})},vr=()=>{const e=x.useContext(o9);return e===void 0?(console.warn("[useAuth] AuthProvider not found, using fallback context"),{user:null,loading:!1,signIn:async()=>{throw new Error("AuthProvider not available")},signInWithGoogle:async()=>{throw new Error("AuthProvider not available")},signOut:async()=>{throw new Error("AuthProvider not available")},signUpStaff:async()=>{throw new Error("AuthProvider not available")},createStaffUser:async()=>{throw new Error("AuthProvider not available")},deleteUser:async()=>{throw new Error("AuthProvider not available")},updateUserRole:async()=>{throw new Error("AuthProvider not available")},updateUser:async()=>{throw new Error("AuthProvider not available")},signUpClient:async()=>{throw new Error("AuthProvider not available")},isAuthenticated:!1,isClient:!1,isStaff:!1,hasRole:()=>!1}):e},l9=x.createContext(void 0),pie=[{code:"en",name:"English",flag:""},{code:"ar",name:"",flag:""}],gie=({children:e})=>{const[t,r]=x.useState(Gr.language||"ar"),[n,a]=x.useState(ii());x.useEffect(()=>{const l=c=>{r(c),a(ii())};return Gr.on("languageChanged",l),()=>{Gr.off("languageChanged",l)}},[]);const i={currentLanguage:t,changeLanguage:async l=>{try{await Gr.changeLanguage(l),r(l),a(ii())}catch(c){console.error("Failed to change language:",c)}},isRTL:n,languages:pie};return o.jsx(l9.Provider,{value:i,children:e})},gi=()=>{const e=x.useContext(l9);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},c9=x.createContext(void 0);function vie({children:e}){const[t,r]=x.useState([]);return o.jsx(c9.Provider,{value:{breadcrumbs:t,setBreadcrumbs:r},children:e})}function u_(){const e=x.useContext(c9);if(e===void 0)throw new Error("useBreadcrumbs must be used within a BreadcrumbsProvider");return e}var o1=["light","dark"],pA="(prefers-color-scheme: dark)",xie=typeof window>"u",gA=x.createContext(void 0),yie={setTheme:e=>{},themes:[]},wie=()=>{var e;return(e=x.useContext(gA))!=null?e:yie},u9=e=>x.useContext(gA)?e.children:x.createElement(_ie,{...e}),bie=["light","dark"],_ie=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:s=bie,defaultTheme:i=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=x.useState(()=>aI(a,i)),[p,g]=x.useState(()=>aI(a)),m=c?Object.values(c):s,v=x.useCallback(_=>{let S=_;if(!S)return;_==="system"&&r&&(S=sI());let k=c?c[S]:S,j=t?jie():null,E=document.documentElement;if(l==="class"?(E.classList.remove(...m),k&&E.classList.add(k)):k?E.setAttribute(l,k):E.removeAttribute(l),n){let N=o1.includes(i)?i:null,O=o1.includes(S)?S:N;E.style.colorScheme=O}j==null||j()},[]),y=x.useCallback(_=>{let S=typeof _=="function"?_(_):_;h(S);try{localStorage.setItem(a,S)}catch{}},[e]),w=x.useCallback(_=>{let S=sI(_);g(S),f==="system"&&r&&!e&&v("system")},[f,e]);x.useEffect(()=>{let _=window.matchMedia(pA);return _.addListener(w),w(_),()=>_.removeListener(w)},[w]),x.useEffect(()=>{let _=S=>{if(S.key!==a)return;let k=S.newValue||i;y(k)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[y]),x.useEffect(()=>{v(e??f)},[e,f]);let b=x.useMemo(()=>({theme:f,setTheme:y,forcedTheme:e,resolvedTheme:f==="system"?p:f,themes:r?[...s,"system"]:s,systemTheme:r?p:void 0}),[f,y,e,p,r,s]);return x.createElement(gA.Provider,{value:b},x.createElement(Sie,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:s,defaultTheme:i,attribute:l,value:c,children:u,attrs:m,nonce:d}),u)},Sie=x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:i,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?o1.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,m=!1,v=!0)=>{let y=i?i[g]:g,w=m?g+"|| ''":`'${y}'`,b="";return a&&v&&!m&&o1.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),r==="class"?m||y?b+=`c.add(${w})`:b+="null":y&&(b+=`d[s](n,${w})`),b},p=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${pA}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})}),aI=(e,t)=>{if(xie)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},jie=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},sI=e=>(e||(e=window.matchMedia(pA)),e.matches?"dark":"light");const kie=()=>o.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),o.jsx("span",{className:"sr-only",children:"Loading..."})]}),kn=({children:e,allowedRoles:t,requireAuth:r=!0})=>{const n=vc(),{user:a,loading:s,hasRole:i}=vr(),l=a&&a.role&&a.profile.user_name!=="User",c=x.useMemo(()=>t?i(t):!0,[t,i]);return x.useMemo(()=>({loading:s,user:a?{id:a.id,email:a.email,role:a.role}:null,hasRequiredRole:c}),[s,a,c]),console.log("[ProtectedRoute]",{path:n.pathname,loading:s,hasUser:!!a,isUserProfileLoaded:l,requireAuth:r,hasRequiredRole:c,userRole:a==null?void 0:a.role}),s||a&&!l?(console.log("[ProtectedRoute] Showing loading spinner - waiting for profile"),o.jsx(kie,{})):r&&!a?(console.log("[ProtectedRoute] No user, redirecting to login"),o.jsx(vN,{to:"/login",state:{from:n},replace:!0})):t&&!c?(console.log("[ProtectedRoute] User does not have required role"),o.jsx(vN,{to:"/unauthorized",replace:!0})):(console.log("[ProtectedRoute] Rendering protected content"),o.jsx(o.Fragment,{children:e}))};function iI(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function nc(...e){return t=>{let r=!1;const n=e.map(a=>{const s=iI(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():iI(e[a],null)}}}}function Wt(...e){return x.useCallback(nc(...e),e)}function Cu(e){const t=Nie(e),r=x.forwardRef((n,a)=>{const{children:s,...i}=n,l=x.Children.toArray(s),c=l.find(Cie);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var d9=Cu("Slot");function Nie(e){const t=x.forwardRef((r,n)=>{const{children:a,...s}=r;if(x.isValidElement(a)){const i=Aie(a),l=Tie(s,a.props);return a.type!==x.Fragment&&(l.ref=n?nc(n,i):i),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var f9=Symbol("radix.slottable");function Eie(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=f9,t}function Cie(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===f9}function Tie(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Aie(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function h9(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=h9(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function $t(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=h9(e))&&(n&&(n+=" "),n+=t);return n}const oI=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,lI=$t,ex=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return lI(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,i=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=oI(d)||oI(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...s,...l}[m]):{...s,...l}[m]===v})?[...u,f,h]:u},[]);return lI(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},vA="-",Oie=e=>{const t=Die(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(vA);return l[0]===""&&l.length!==1&&l.shift(),m9(l,t)||Pie(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},m9=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?m9(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(vA);return(i=t.validators.find(({validator:l})=>l(s)))==null?void 0:i.classGroupId},cI=/^\[(.+)\]$/,Pie=e=>{if(cI.test(e)){const t=cI.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Die=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Iie(Object.entries(e.classGroups),r).forEach(([s,i])=>{RN(i,n,s,t)}),n},RN=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:uI(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(Rie(a)){RN(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,i])=>{RN(i,uI(t,s),r,n)})})},uI=(e,t)=>{let r=e;return t.split(vA).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Rie=e=>e.isThemeGetter,Iie=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,l])=>[t+i,l])):s);return[r,a]}):e,Mie=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,i)=>{r.set(s,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let i=r.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return a(s,i),i},set(s,i){r.has(s)?r.set(s,i):a(s,i)}}},p9="!",Fie=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let y=l[v];if(u===0){if(y===a&&(n||l.slice(v,v+s)===t)){c.push(l.slice(d,v)),d=v+s;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(p9),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:i}):i},Lie=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},$ie=e=>({cache:Mie(e.cacheSize),parseClassName:Fie(e),...Oie(e)}),Bie=/\s+/,Uie=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],i=e.trim().split(Bie);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=Lie(d).join(":"),y=f?v+p9:v,w=y+m;if(s.includes(w))continue;s.push(w);const b=a(m,g);for(let _=0;_<b.length;++_){const S=b[_];s.push(y+S)}l=u+(l.length>0?" "+l:l)}return l};function Vie(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=g9(t))&&(n&&(n+=" "),n+=r);return n}const g9=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=g9(e[n]))&&(r&&(r+=" "),r+=t);return r};function zie(e,...t){let r,n,a,s=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=$ie(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Uie(c,r);return a(c,d),d}return function(){return s(Vie.apply(null,arguments))}}const Ir=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},v9=/^\[(?:([a-z-]+):)?(.+)\]$/i,Wie=/^\d+\/\d+$/,Hie=new Set(["px","full","screen"]),qie=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Gie=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Kie=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Yie=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Xie=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kl=e=>Wh(e)||Hie.has(e)||Wie.test(e),Ac=e=>_p(e,"length",aoe),Wh=e=>!!e&&!Number.isNaN(Number(e)),Kj=e=>_p(e,"number",Wh),l0=e=>!!e&&Number.isInteger(Number(e)),Jie=e=>e.endsWith("%")&&Wh(e.slice(0,-1)),zt=e=>v9.test(e),Oc=e=>qie.test(e),Qie=new Set(["length","size","percentage"]),Zie=e=>_p(e,Qie,x9),eoe=e=>_p(e,"position",x9),toe=new Set(["image","url"]),roe=e=>_p(e,toe,ioe),noe=e=>_p(e,"",soe),c0=()=>!0,_p=(e,t,r)=>{const n=v9.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},aoe=e=>Gie.test(e)&&!Kie.test(e),x9=()=>!1,soe=e=>Yie.test(e),ioe=e=>Xie.test(e),ooe=()=>{const e=Ir("colors"),t=Ir("spacing"),r=Ir("blur"),n=Ir("brightness"),a=Ir("borderColor"),s=Ir("borderRadius"),i=Ir("borderSpacing"),l=Ir("borderWidth"),c=Ir("contrast"),u=Ir("grayscale"),d=Ir("hueRotate"),f=Ir("invert"),h=Ir("gap"),p=Ir("gradientColorStops"),g=Ir("gradientColorStopPositions"),m=Ir("inset"),v=Ir("margin"),y=Ir("opacity"),w=Ir("padding"),b=Ir("saturate"),_=Ir("scale"),S=Ir("sepia"),k=Ir("skew"),j=Ir("space"),E=Ir("translate"),N=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",zt,t],T=()=>[zt,t],L=()=>["",kl,Ac],H=()=>["auto",Wh,zt],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",zt],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Wh,zt];return{cacheSize:500,separator:":",theme:{colors:[c0],spacing:[kl,Ac],blur:["none","",Oc,zt],brightness:Z(),borderColor:[e],borderRadius:["none","","full",Oc,zt],borderSpacing:T(),borderWidth:L(),contrast:Z(),grayscale:R(),hueRotate:Z(),invert:R(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[Jie,Ac],inset:P(),margin:P(),opacity:Z(),padding:T(),saturate:Z(),scale:Z(),sepia:R(),skew:Z(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",zt]}],container:["container"],columns:[{columns:[Oc]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),zt]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",l0,zt]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",zt]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",l0,zt]}],"grid-cols":[{"grid-cols":[c0]}],"col-start-end":[{col:["auto",{span:["full",l0,zt]},zt]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[c0]}],"row-start-end":[{row:["auto",{span:[l0,zt]},zt]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",zt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",zt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",zt,t]}],"min-w":[{"min-w":[zt,t,"min","max","fit"]}],"max-w":[{"max-w":[zt,t,"none","full","min","max","fit","prose",{screen:[Oc]},Oc]}],h:[{h:[zt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[zt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[zt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[zt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Oc,Ac]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Kj]}],"font-family":[{font:[c0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",zt]}],"line-clamp":[{"line-clamp":["none",Wh,Kj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",kl,zt]}],"list-image":[{"list-image":["none",zt]}],"list-style-type":[{list:["none","disc","decimal",zt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",kl,Ac]}],"underline-offset":[{"underline-offset":["auto",kl,zt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",zt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",zt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),eoe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Zie]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},roe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:M()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[kl,zt]}],"outline-w":[{outline:[kl,Ac]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[kl,Ac]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Oc,noe]}],"shadow-color":[{shadow:[c0]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Oc,zt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",zt]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",zt]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",zt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[l0,zt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",zt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",zt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",zt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[kl,Ac,Kj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},loe=zie(ooe);function je(...e){return loe($t(e))}const km=ex("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),oe=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const i=n?d9:"button";return o.jsx(i,{className:je(km({variant:t,size:r,className:e})),ref:s,...a})});oe.displayName="Button";const qe=x.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));qe.displayName="Input";var coe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ut=coe.reduce((e,t)=>{const r=Cu(`Primitive.${t}`),n=x.forwardRef((a,s)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function y9(e,t){e&&vp.flushSync(()=>e.dispatchEvent(t))}var uoe="Label",w9=x.forwardRef((e,t)=>o.jsx(ut.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));w9.displayName=uoe;var b9=w9;const doe=ex("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ge=x.forwardRef(({className:e,...t},r)=>o.jsx(b9,{ref:r,className:je(doe(),e),...t}));Ge.displayName=b9.displayName;const foe=ex("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Qd=x.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:je(foe({variant:t}),e),...r}));Qd.displayName="Alert";const hoe=x.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:je("mb-1 font-medium leading-none tracking-tight",e),...t}));hoe.displayName="AlertTitle";const Zd=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:je("text-sm [&_p]:leading-relaxed",e),...t}));Zd.displayName="AlertDescription";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const moe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_9=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var poe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>x.createElement("svg",{ref:c,...poe,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:_9("lucide",a),...l},[...i.map(([u,d])=>x.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement(goe,{ref:s,iconNode:t,className:_9(`lucide-${moe(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=Qe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const voe=Qe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xoe=Qe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=Qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=Qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=Qe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const boe=Qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Qe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Qe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=Qe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _oe=Qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=Qe("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=Qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=Qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=Qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Qe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=Qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=Qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=Qe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=Qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eoe=Qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=Qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=Qe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=Qe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Toe=Qe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=Qe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=Qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=Qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=Qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Poe=Qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=Qe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=Qe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=Qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=Qe("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=Qe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Qe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=Qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=Qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=Qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=Qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=Qe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=Qe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=Qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=Qe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=Qe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=Qe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=Qe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=Qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=Qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=Qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=Qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=Qe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Qe("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=Qe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=Qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=Qe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Qe("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=Qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=Qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=Qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=Qe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=Qe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=Qe("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=Qe("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=Qe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=Qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Koe=()=>{const{t:e}=qt(),[t,r]=x.useState(""),[n,a]=x.useState(""),[s,i]=x.useState(!1),[l,c]=x.useState(""),[u,d]=x.useState(!1);x.useState(!1);const{signIn:f,signInWithGoogle:h}=vr(),p=Fs(),g=async m=>{m.preventDefault(),c(""),d(!0);try{const v=await f(t,n);v&&(console.log("[LoginForm] Sign in successful, user role:",v.role),v.role==="client"?p("/client-portal"):v.role==="employee"||v.role==="team_leader"?window.location.href="/#/employee_dashboard":v.role==="partner"?window.location.href="/#/partner-dashboard":v.role==="partner_employee"?window.location.href="/#/partner-employee-dashboard":window.location.href="/#/dashboard")}catch(v){console.error("[LoginForm] Sign in error:",v),c(v.message||e("auth.failedToSignIn")),d(!1)}};return o.jsxs("div",{className:"w-full max-w-md mx-auto space-y-6 px-4 sm:px-0",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:e("auth.signIn")}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("auth.enterCredentials")})]}),o.jsxs("form",{onSubmit:g,className:"space-y-5",children:[l&&o.jsx(Qd,{variant:"destructive",children:o.jsx(Zd,{className:"text-sm",children:l})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"email",className:"text-sm font-medium",children:e("auth.email")}),o.jsx(qe,{id:"email",type:"email",value:t,onChange:m=>r(m.target.value),placeholder:"you@middar.com",required:!0,className:"h-11 text-base"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"password",className:"text-sm font-medium",children:e("auth.password")}),o.jsxs("div",{className:"relative",children:[o.jsx(qe,{id:"password",type:s?"text":"password",value:n,onChange:m=>a(m.target.value),placeholder:"",required:!0,className:"h-11 text-base pe-10"}),o.jsx(oe,{type:"button",variant:"ghost",size:"sm",className:"absolute end-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>i(!s),"aria-label":s?"Hide password":"Show password",children:s?o.jsx(Aoe,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(ai,{className:"h-4 w-4 text-muted-foreground"})})]})]}),o.jsx(oe,{type:"submit",className:"w-full h-11 text-base font-medium shadow-lg hover:shadow-xl transition-all duration-200",disabled:u,children:u?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-current"}),e("auth.signingIn")]}):e("auth.signInButton")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:e("auth.dontHaveAccount")}),o.jsx(oe,{variant:"link",className:"p-0 h-auto text-sm font-medium hover:text-primary transition-colors",onClick:()=>p("/signup"),children:e("auth.signUp")})]})]})},Yoe=()=>{const[e,t]=x.useState(!1);vr();const r=Fs(),{t:n}=qt();return o.jsxs("div",{className:"w-full max-w-md space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-bold",children:n("auth.createAccount")}),o.jsx("p",{className:"text-muted-foreground mt-2",children:n("auth.signUpToGetStarted")})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.chooseAccountTypeSignUp")}),e&&o.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.redirectingToGoogle")})]}),o.jsxs("div",{className:"text-center text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:[n("auth.alreadyHaveAccount")," "]}),o.jsx(oe,{variant:"link",className:"p-0",onClick:()=>r("/login"),children:n("auth.signIn")})]})]})};function Xoe(e,t){const r=x.createContext(t),n=s=>{const{children:i,...l}=s,c=x.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function a(s){const i=x.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function fs(e,t=[]){let r=[];function n(s,i){const l=x.createContext(i),c=r.length;r=[...r,i];const u=f=>{var y;const{scope:h,children:p,...g}=f,m=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,v=x.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=x.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(i=>x.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Joe(a,...t)]}function Joe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Hn(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var jn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function Qoe(){return GB.useSyncExternalStore(Zoe,()=>!0,()=>!1)}function Zoe(){return()=>{}}var wA="Avatar",[ele,vYe]=fs(wA),[tle,A9]=ele(wA),O9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=x.useState("idle");return o.jsx(tle,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:o.jsx(ut.span,{...n,ref:t})})});O9.displayName=wA;var P9="AvatarImage",D9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,i=A9(P9,r),l=rle(n,s),c=Hn(u=>{a(u),i.onImageLoadingStatusChange(u)});return jn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(ut.img,{...s,ref:t,src:n}):null});D9.displayName=P9;var R9="AvatarFallback",I9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=A9(R9,r),[i,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&s.imageLoadingStatus!=="loaded"?o.jsx(ut.span,{...a,ref:t}):null});I9.displayName=R9;function vI(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function rle(e,{referrerPolicy:t,crossOrigin:r}){const n=Qoe(),a=x.useRef(null),s=n?(a.current||(a.current=new window.Image),a.current):null,[i,l]=x.useState(()=>vI(s,e));return jn(()=>{l(vI(s,e))},[s,e]),jn(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,t]),i}var M9=O9,F9=D9,L9=I9;const Qa=x.forwardRef(({className:e,...t},r)=>o.jsx(M9,{ref:r,className:je("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Qa.displayName=M9.displayName;const Za=x.forwardRef(({className:e,...t},r)=>o.jsx(F9,{ref:r,className:je("aspect-square h-full w-full",e),...t}));Za.displayName=F9.displayName;const es=x.forwardRef(({className:e,...t},r)=>o.jsx(L9,{ref:r,className:je("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));es.displayName=L9.displayName;const nle=[{label:"main",items:[{labelKey:"navigation.dashboard",path:"/dashboard",roles:["admin","manager"],icon:hI},{labelKey:"navigation.empDashboard",path:"/employee_dashboard",roles:["employee","team_leader"],icon:hI},{labelKey:"navigation.clientPortal",path:"/client-portal",roles:["client"],icon:Poe},{labelKey:"navigation.partnerDashboard",path:"/partner-dashboard",roles:["partner"],icon:Soe},{labelKey:"navigation.surveys",path:"/surveys",roles:["admin","manager","employee","team_leader"],icon:Ks}]},{label:"sales",items:[{labelKey:"navigation.leads",path:"/leads",roles:["admin","manager","employee","team_leader"],icon:Aa},{labelKey:"navigation.masterLeads",path:"/mleads",roles:["admin","manager","employee","team_leader"],icon:yn},{labelKey:"navigation.projects",path:"/projects",roles:["admin","manager","employee","team_leader"],icon:Hh},{labelKey:"mprojects.masterProjects",path:"/mprojects",roles:["admin","manager","employee","team_leader"],icon:yn}]},{label:"work",items:[{labelKey:"navigation.tasks",path:"/tasks",roles:["admin","manager","employee","team_leader"],icon:ng},{labelKey:"navigation.tickets",path:"/tickets",roles:["admin","manager","employee","team_leader","client"],icon:lh},{labelKey:"navigation.requests",path:"/requests",roles:["admin","manager","employee","team_leader"],icon:Ks}]},{label:"communication",items:[{labelKey:"navigation.chats",path:"/chats",roles:["admin","manager","employee","team_leader","client"],icon:ef},{labelKey:"navigation.allChats",path:"/all-chats",roles:["admin","manager","employee","team_leader"],icon:fd},{labelKey:"navigation.teams",path:"/teams",roles:["admin","manager","employee","team_leader"],icon:C9}]},{label:"system",items:[{labelKey:"navigation.users",path:"/users",roles:["admin"],icon:zoe},{labelKey:"navigation.settings",path:"/settings",roles:["admin"],icon:E9}]}];function xI({onNavigate:e}={}){var a,s,i,l;const t=vc(),{user:r}=vr(),{t:n}=qt();return o.jsxs("div",{className:"h-full w-full bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95 border-r border-sidebar-border/50 flex flex-col shadow-xl",children:[o.jsx("div",{className:"p-6 border-b border-sidebar-border/30 bg-gradient-to-r from-primary/5 via-primary/3 to-transparent",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary to-primary/80 shadow-lg flex items-center justify-center ring-2 ring-primary/20",children:o.jsx(yn,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-bold text-sidebar-foreground tracking-tight",children:n("landing.brandName")}),o.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"CRM System"})]})]})}),o.jsx("div",{className:"flex-1 px-4 py-6 overflow-y-auto",children:o.jsx("nav",{className:"space-y-6",children:nle.map(c=>{const u=c.items.filter(d=>r&&d.roles.includes(r.role));return u.length===0?null:o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-sidebar-foreground/50 uppercase tracking-wider",children:n(`navigation.${c.label}Group`,c.label)}),o.jsx("div",{className:"space-y-1",children:u.map(d=>{const f=t.pathname===d.path,h=d.icon;return o.jsxs(wN,{to:d.path,onClick:e,className:je("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group relative overflow-hidden",f?"bg-gradient-to-r from-primary to-primary/90 text-white shadow-lg shadow-primary/25 translate-x-1":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:translate-x-0.5"),children:[f&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-transparent to-transparent"}),o.jsx(h,{className:je("h-4 w-4 transition-transform group-hover:scale-110 relative z-10",f?"text-white":"text-sidebar-foreground/50 group-hover:text-sidebar-accent-foreground")}),o.jsx("span",{className:"flex-1 relative z-10",children:n(d.labelKey)})]},d.path)})})]},c.label)})})}),o.jsx("div",{className:"p-4 border-t border-sidebar-border/50 bg-sidebar-accent/30",children:o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-sidebar-accent/50 to-transparent hover:from-sidebar-accent hover:shadow-md transition-all cursor-pointer group",children:[o.jsxs(Qa,{className:"h-10 w-10 ring-2 ring-primary/20 transition-all group-hover:ring-primary/40",children:[o.jsx(Za,{src:(a=r==null?void 0:r.profile)==null?void 0:a.avatar}),o.jsx(es,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-bold",children:(s=r==null?void 0:r.email)==null?void 0:s.charAt(0).toUpperCase()})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-sidebar-foreground truncate",children:((i=r==null?void 0:r.profile)==null?void 0:i.user_name)||(r==null?void 0:r.email)}),o.jsxs("p",{className:"text-xs text-sidebar-foreground/60 capitalize flex items-center gap-1.5",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-lg shadow-green-500/50"}),(l=r==null?void 0:r.role)==null?void 0:l.replace("_"," ")]})]}),o.jsx(f_,{className:"h-4 w-4 text-sidebar-foreground/30 group-hover:text-sidebar-foreground/60 transition-colors"})]})})]})}function ale(){const e=vc(),{t}=qt(),r=e.pathname.split("/").filter(s=>s);if(r.length===0)return null;const n={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",mleads:"navigation.masterLeads",mprojects:"mprojects.masterProjects",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee"},a=s=>n[s]?t(n[s]):/^\d+$/.test(s)||s.length>20?s:s.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ");return o.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[o.jsx(wN,{to:"/",className:"hover:text-foreground transition-colors",children:t("navigation.home")}),r.map((s,i)=>{const l=`/${r.slice(0,i+1).join("/")}`,c=i===r.length-1,u=a(s);return o.jsxs("div",{className:"flex items-center",children:[o.jsx(f_,{className:"h-4 w-4 mx-2 text-muted-foreground rtl:rotate-180"}),c?o.jsx("span",{className:"text-foreground font-medium",children:u}):o.jsx(wN,{to:l,className:"hover:text-foreground transition-colors",children:u})]},s)})]})}function LN(e,[t,r]){return Math.min(r,Math.max(t,e))}function et(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function bA(e){const t=e+"CollectionProvider",[r,n]=fs(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:v,children:y}=m,w=te.useRef(null),b=te.useRef(new Map).current;return o.jsx(a,{scope:v,itemMap:b,collectionRef:w,children:y})};i.displayName=t;const l=e+"CollectionSlot",c=Cu(l),u=te.forwardRef((m,v)=>{const{scope:y,children:w}=m,b=s(l,y),_=Wt(v,b.collectionRef);return o.jsx(c,{ref:_,children:w})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Cu(d),p=te.forwardRef((m,v)=>{const{scope:y,children:w,...b}=m,_=te.useRef(null),S=Wt(v,_),k=s(d,y);return te.useEffect(()=>(k.itemMap.set(_,{ref:_,...b}),()=>void k.itemMap.delete(_))),o.jsx(h,{[f]:"",ref:S,children:w})});p.displayName=d;function g(m){const v=s(e+"CollectionConsumer",m);return te.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((k,j)=>b.indexOf(k.ref.current)-b.indexOf(j.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},g,n]}var sle=x.createContext(void 0);function tx(e){const t=x.useContext(sle);return e||t||"ltr"}function ile(e,t=globalThis==null?void 0:globalThis.document){const r=Hn(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var ole="DismissableLayer",$N="dismissableLayer.update",lle="dismissableLayer.pointerDownOutside",cle="dismissableLayer.focusOutside",yI,$9=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rx=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...c}=e,u=x.useContext($9),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),g=Wt(t,j=>f(j)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(v),w=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=y,S=fle(j=>{const E=j.target,N=[...u.branches].some(O=>O.contains(E));!_||N||(a==null||a(j),i==null||i(j),j.defaultPrevented||l==null||l())},h),k=hle(j=>{const E=j.target;[...u.branches].some(O=>O.contains(E))||(s==null||s(j),i==null||i(j),j.defaultPrevented||l==null||l())},h);return ile(j=>{w===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(yI=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),wI(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=yI)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),wI())},[d,u]),x.useEffect(()=>{const j=()=>p({});return document.addEventListener($N,j),()=>document.removeEventListener($N,j)},[]),o.jsx(ut.div,{...c,ref:g,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:et(e.onFocusCapture,k.onFocusCapture),onBlurCapture:et(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:et(e.onPointerDownCapture,S.onPointerDownCapture)})});rx.displayName=ole;var ule="DismissableLayerBranch",dle=x.forwardRef((e,t)=>{const r=x.useContext($9),n=x.useRef(null),a=Wt(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(ut.div,{...e,ref:a})});dle.displayName=ule;function fle(e,t=globalThis==null?void 0:globalThis.document){const r=Hn(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){B9(lle,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function hle(e,t=globalThis==null?void 0:globalThis.document){const r=Hn(e),n=x.useRef(!1);return x.useEffect(()=>{const a=s=>{s.target&&!n.current&&B9(cle,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function wI(){const e=new CustomEvent($N);document.dispatchEvent(e)}function B9(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?y9(a,s):a.dispatchEvent(s)}var Xj=0;function v_(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??bI()),document.body.insertAdjacentElement("beforeend",e[1]??bI()),Xj++,()=>{Xj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Xj--}},[])}function bI(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Jj="focusScope.autoFocusOnMount",Qj="focusScope.autoFocusOnUnmount",_I={bubbles:!1,cancelable:!0},mle="FocusScope",nx=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[l,c]=x.useState(null),u=Hn(a),d=Hn(s),f=x.useRef(null),h=Wt(t,m=>c(m)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let m=function(b){if(p.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Ic(f.current,{select:!0})},v=function(b){if(p.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Ic(f.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Ic(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(y);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[n,l,p.paused]),x.useEffect(()=>{if(l){jI.add(p);const m=document.activeElement;if(!l.contains(m)){const y=new CustomEvent(Jj,_I);l.addEventListener(Jj,u),l.dispatchEvent(y),y.defaultPrevented||(ple(wle(U9(l)),{select:!0}),document.activeElement===m&&Ic(l))}return()=>{l.removeEventListener(Jj,u),setTimeout(()=>{const y=new CustomEvent(Qj,_I);l.addEventListener(Qj,d),l.dispatchEvent(y),y.defaultPrevented||Ic(m??document.body,{select:!0}),l.removeEventListener(Qj,d),jI.remove(p)},0)}}},[l,u,d,p]);const g=x.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(v&&y){const w=m.currentTarget,[b,_]=gle(w);b&&_?!m.shiftKey&&y===_?(m.preventDefault(),r&&Ic(b,{select:!0})):m.shiftKey&&y===b&&(m.preventDefault(),r&&Ic(_,{select:!0})):y===w&&m.preventDefault()}},[r,n,p.paused]);return o.jsx(ut.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});nx.displayName=mle;function ple(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ic(n,{select:t}),document.activeElement!==r)return}function gle(e){const t=U9(e),r=SI(t,e),n=SI(t.reverse(),e);return[r,n]}function U9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function SI(e,t){for(const r of e)if(!vle(r,{upTo:t}))return r}function vle(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xle(e){return e instanceof HTMLInputElement&&"select"in e}function Ic(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&xle(e)&&t&&e.select()}}var jI=yle();function yle(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=kI(e,t),e.unshift(t)},remove(t){var r;e=kI(e,t),(r=e[0])==null||r.resume()}}}function kI(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function wle(e){return e.filter(t=>t.tagName!=="A")}var ble=sT[" useId ".trim().toString()]||(()=>{}),_le=0;function aa(e){const[t,r]=x.useState(ble());return jn(()=>{r(n=>n??String(_le++))},[e]),t?`radix-${t}`:""}const Sle=["top","right","bottom","left"],Tu=Math.min,Xs=Math.max,c1=Math.round,by=Math.floor,al=e=>({x:e,y:e}),jle={left:"right",right:"left",bottom:"top",top:"bottom"},kle={start:"end",end:"start"};function BN(e,t,r){return Xs(e,Tu(t,r))}function ac(e,t){return typeof e=="function"?e(t):e}function sc(e){return e.split("-")[0]}function Sp(e){return e.split("-")[1]}function _A(e){return e==="x"?"y":"x"}function SA(e){return e==="y"?"height":"width"}const Nle=new Set(["top","bottom"]);function Qo(e){return Nle.has(sc(e))?"y":"x"}function jA(e){return _A(Qo(e))}function Ele(e,t,r){r===void 0&&(r=!1);const n=Sp(e),a=jA(e),s=SA(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=u1(i)),[i,u1(i)]}function Cle(e){const t=u1(e);return[UN(e),t,UN(t)]}function UN(e){return e.replace(/start|end/g,t=>kle[t])}const NI=["left","right"],EI=["right","left"],Tle=["top","bottom"],Ale=["bottom","top"];function Ole(e,t,r){switch(e){case"top":case"bottom":return r?t?EI:NI:t?NI:EI;case"left":case"right":return t?Tle:Ale;default:return[]}}function Ple(e,t,r,n){const a=Sp(e);let s=Ole(sc(e),r==="start",n);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map(UN)))),s}function u1(e){return e.replace(/left|right|bottom|top/g,t=>jle[t])}function Dle(e){return{top:0,right:0,bottom:0,left:0,...e}}function V9(e){return typeof e!="number"?Dle(e):{top:e,right:e,bottom:e,left:e}}function d1(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function CI(e,t,r){let{reference:n,floating:a}=e;const s=Qo(t),i=jA(t),l=SA(i),c=sc(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Sp(t)){case"start":p[i]-=h*(r&&u?-1:1);break;case"end":p[i]+=h*(r&&u?-1:1);break}return p}const Rle=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,l=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=CI(u,n,c),h=n,p={},g=0;for(let m=0;m<l.length;m++){const{name:v,fn:y}=l[m],{x:w,y:b,data:_,reset:S}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=w??d,f=b??f,p={...p,[v]:{...p[v],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=CI(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function Kg(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=ac(t,e),g=V9(p),v=l[h?f==="floating"?"reference":"floating":f],y=d1(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),_=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},S=d1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(y.top-S.top+g.top)/_.y,bottom:(S.bottom-y.bottom+g.bottom)/_.y,left:(y.left-S.left+g.left)/_.x,right:(S.right-y.right+g.right)/_.x}}const Ile=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=ac(e,t)||{};if(u==null)return{};const f=V9(d),h={x:r,y:n},p=jA(a),g=SA(p),m=await i.getDimensions(u),v=p==="y",y=v?"top":"left",w=v?"bottom":"right",b=v?"clientHeight":"clientWidth",_=s.reference[g]+s.reference[p]-h[p]-s.floating[g],S=h[p]-s.reference[p],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=k?k[b]:0;(!j||!await(i.isElement==null?void 0:i.isElement(k)))&&(j=l.floating[b]||s.floating[g]);const E=_/2-S/2,N=j/2-m[g]/2-1,O=Tu(f[y],N),P=Tu(f[w],N),T=O,L=j-m[g]-P,H=j/2-m[g]/2+E,z=BN(T,H,L),M=!c.arrow&&Sp(a)!=null&&H!==z&&s.reference[g]/2-(H<T?O:P)-m[g]/2<0,I=M?H<T?H-T:H-L:0;return{[p]:h[p]+I,data:{[p]:z,centerOffset:H-z-I,...M&&{alignmentOffset:I}},reset:M}}}),Mle=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=ac(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=sc(a),w=Qo(l),b=sc(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(b||!m?[u1(l)]:Cle(l)),k=g!=="none";!h&&k&&S.push(...Ple(l,m,g,_));const j=[l,...S],E=await Kg(t,v),N=[];let O=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&N.push(E[y]),f){const H=Ele(a,i,_);N.push(E[H[0]],E[H[1]])}if(O=[...O,{placement:a,overflows:N}],!N.every(H=>H<=0)){var P,T;const H=(((P=s.flip)==null?void 0:P.index)||0)+1,z=j[H];if(z&&(!(f==="alignment"?w!==Qo(z):!1)||O.every(U=>U.overflows[0]>0&&Qo(U.placement)===w)))return{data:{index:H,overflows:O},reset:{placement:z}};let M=(T=O.filter(I=>I.overflows[0]<=0).sort((I,U)=>I.overflows[1]-U.overflows[1])[0])==null?void 0:T.placement;if(!M)switch(p){case"bestFit":{var L;const I=(L=O.filter(U=>{if(k){const R=Qo(U.placement);return R===w||R==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(R=>R>0).reduce((R,Y)=>R+Y,0)]).sort((U,R)=>U[1]-R[1])[0])==null?void 0:L[0];I&&(M=I);break}case"initialPlacement":M=l;break}if(a!==M)return{reset:{placement:M}}}return{}}}};function TI(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function AI(e){return Sle.some(t=>e[t]>=0)}const Fle=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=ac(e,t);switch(n){case"referenceHidden":{const s=await Kg(t,{...a,elementContext:"reference"}),i=TI(s,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:AI(i)}}}case"escaped":{const s=await Kg(t,{...a,altBoundary:!0}),i=TI(s,r.floating);return{data:{escapedOffsets:i,escaped:AI(i)}}}default:return{}}}}},z9=new Set(["left","top"]);async function Lle(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=sc(r),l=Sp(r),c=Qo(r)==="y",u=z9.has(i)?-1:1,d=s&&c?-1:1,f=ac(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const $le=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:l}=t,c=await Lle(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:i}}}}},Ble=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:l={fn:v=>{let{x:y,y:w}=v;return{x:y,y:w}}},...c}=ac(e,t),u={x:r,y:n},d=await Kg(t,c),f=Qo(sc(a)),h=_A(f);let p=u[h],g=u[f];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=p+d[v],b=p-d[y];p=BN(w,p,b)}if(i){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=g+d[v],b=g-d[y];g=BN(w,g,b)}const m=l.fn({...t,[h]:p,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:s,[f]:i}}}}}},Ule=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ac(e,t),d={x:r,y:n},f=Qo(a),h=_A(f);let p=d[h],g=d[f];const m=ac(l,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",_=s.reference[h]-s.floating[b]+v.mainAxis,S=s.reference[h]+s.reference[b]-v.mainAxis;p<_?p=_:p>S&&(p=S)}if(u){var y,w;const b=h==="y"?"width":"height",_=z9.has(sc(a)),S=s.reference[f]-s.floating[b]+(_&&((y=i.offset)==null?void 0:y[f])||0)+(_?0:v.crossAxis),k=s.reference[f]+s.reference[b]+(_?0:((w=i.offset)==null?void 0:w[f])||0)-(_?v.crossAxis:0);g<S?g=S:g>k&&(g=k)}return{[h]:p,[f]:g}}}},Vle=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:i,elements:l}=t,{apply:c=()=>{},...u}=ac(e,t),d=await Kg(t,u),f=sc(a),h=Sp(a),p=Qo(a)==="y",{width:g,height:m}=s.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const w=m-d.top-d.bottom,b=g-d.left-d.right,_=Tu(m-d[v],w),S=Tu(g-d[y],b),k=!t.middlewareData.shift;let j=_,E=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=w),k&&!h){const O=Xs(d.left,0),P=Xs(d.right,0),T=Xs(d.top,0),L=Xs(d.bottom,0);p?E=g-2*(O!==0||P!==0?O+P:Xs(d.left,d.right)):j=m-2*(T!==0||L!==0?T+L:Xs(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:j});const N=await i.getDimensions(l.floating);return g!==N.width||m!==N.height?{reset:{rects:!0}}:{}}}};function x_(){return typeof window<"u"}function jp(e){return W9(e)?(e.nodeName||"").toLowerCase():"#document"}function oi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vl(e){var t;return(t=(W9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function W9(e){return x_()?e instanceof Node||e instanceof oi(e).Node:!1}function To(e){return x_()?e instanceof Element||e instanceof oi(e).Element:!1}function ul(e){return x_()?e instanceof HTMLElement||e instanceof oi(e).HTMLElement:!1}function OI(e){return!x_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof oi(e).ShadowRoot}const zle=new Set(["inline","contents"]);function ax(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ao(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!zle.has(a)}const Wle=new Set(["table","td","th"]);function Hle(e){return Wle.has(jp(e))}const qle=[":popover-open",":modal"];function y_(e){return qle.some(t=>{try{return e.matches(t)}catch{return!1}})}const Gle=["transform","translate","scale","rotate","perspective"],Kle=["transform","translate","scale","rotate","perspective","filter"],Yle=["paint","layout","strict","content"];function kA(e){const t=NA(),r=To(e)?Ao(e):e;return Gle.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Kle.some(n=>(r.willChange||"").includes(n))||Yle.some(n=>(r.contain||"").includes(n))}function Xle(e){let t=Au(e);for(;ul(t)&&!Cm(t);){if(kA(t))return t;if(y_(t))return null;t=Au(t)}return null}function NA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Jle=new Set(["html","body","#document"]);function Cm(e){return Jle.has(jp(e))}function Ao(e){return oi(e).getComputedStyle(e)}function w_(e){return To(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Au(e){if(jp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||OI(e)&&e.host||vl(e);return OI(t)?t.host:t}function H9(e){const t=Au(e);return Cm(t)?e.ownerDocument?e.ownerDocument.body:e.body:ul(t)&&ax(t)?t:H9(t)}function Yg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=H9(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),i=oi(a);if(s){const l=VN(i);return t.concat(i,i.visualViewport||[],ax(a)?a:[],l&&r?Yg(l):[])}return t.concat(a,Yg(a,[],r))}function VN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function q9(e){const t=Ao(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ul(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=c1(r)!==s||c1(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function EA(e){return To(e)?e:e.contextElement}function qh(e){const t=EA(e);if(!ul(t))return al(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=q9(t);let i=(s?c1(r.width):r.width)/n,l=(s?c1(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Qle=al(0);function G9(e){const t=oi(e);return!NA()||!t.visualViewport?Qle:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Zle(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==oi(e)?!1:t}function tf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=EA(e);let i=al(1);t&&(n?To(n)&&(i=qh(n)):i=qh(e));const l=Zle(s,r,n)?G9(s):al(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const h=oi(s),p=n&&To(n)?oi(n):n;let g=h,m=VN(g);for(;m&&n&&p!==g;){const v=qh(m),y=m.getBoundingClientRect(),w=Ao(m),b=y.left+(m.clientLeft+parseFloat(w.paddingLeft))*v.x,_=y.top+(m.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=b,u+=_,g=oi(m),m=VN(g)}}return d1({width:d,height:f,x:c,y:u})}function CA(e,t){const r=w_(e).scrollLeft;return t?t.left+r:tf(vl(e)).left+r}function K9(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:CA(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function ece(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",i=vl(n),l=t?y_(t.floating):!1;if(n===i||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=al(1);const d=al(0),f=ul(n);if((f||!f&&!s)&&((jp(n)!=="body"||ax(i))&&(c=w_(n)),ul(n))){const p=tf(n);u=qh(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=i&&!f&&!s?K9(i,c,!0):al(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function tce(e){return Array.from(e.getClientRects())}function rce(e){const t=vl(e),r=w_(e),n=e.ownerDocument.body,a=Xs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Xs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+CA(e);const l=-r.scrollTop;return Ao(n).direction==="rtl"&&(i+=Xs(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:l}}function nce(e,t){const r=oi(e),n=vl(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){s=a.width,i=a.height;const u=NA();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:i,x:l,y:c}}const ace=new Set(["absolute","fixed"]);function sce(e,t){const r=tf(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=ul(e)?qh(e):al(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:i,height:l,x:c,y:u}}function PI(e,t,r){let n;if(t==="viewport")n=nce(e,r);else if(t==="document")n=rce(vl(e));else if(To(t))n=sce(t,r);else{const a=G9(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return d1(n)}function Y9(e,t){const r=Au(e);return r===t||!To(r)||Cm(r)?!1:Ao(r).position==="fixed"||Y9(r,t)}function ice(e,t){const r=t.get(e);if(r)return r;let n=Yg(e,[],!1).filter(l=>To(l)&&jp(l)!=="body"),a=null;const s=Ao(e).position==="fixed";let i=s?Au(e):e;for(;To(i)&&!Cm(i);){const l=Ao(i),c=kA(i);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&ace.has(a.position)||ax(i)&&!c&&Y9(e,i))?n=n.filter(d=>d!==i):a=l,i=Au(i)}return t.set(e,n),n}function oce(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?y_(t)?[]:ice(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=PI(t,d,a);return u.top=Xs(f.top,u.top),u.right=Tu(f.right,u.right),u.bottom=Tu(f.bottom,u.bottom),u.left=Xs(f.left,u.left),u},PI(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function lce(e){const{width:t,height:r}=q9(e);return{width:t,height:r}}function cce(e,t,r){const n=ul(t),a=vl(t),s=r==="fixed",i=tf(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=al(0);function u(){c.x=CA(a)}if(n||!n&&!s)if((jp(t)!=="body"||ax(a))&&(l=w_(t)),n){const p=tf(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?K9(a,l):al(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function Zj(e){return Ao(e).position==="static"}function DI(e,t){if(!ul(e)||Ao(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return vl(e)===r&&(r=r.ownerDocument.body),r}function X9(e,t){const r=oi(e);if(y_(e))return r;if(!ul(e)){let a=Au(e);for(;a&&!Cm(a);){if(To(a)&&!Zj(a))return a;a=Au(a)}return r}let n=DI(e,t);for(;n&&Hle(n)&&Zj(n);)n=DI(n,t);return n&&Cm(n)&&Zj(n)&&!kA(n)?r:n||Xle(e)||r}const uce=async function(e){const t=this.getOffsetParent||X9,r=this.getDimensions,n=await r(e.floating);return{reference:cce(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function dce(e){return Ao(e).direction==="rtl"}const fce={convertOffsetParentRelativeRectToViewportRelativeRect:ece,getDocumentElement:vl,getClippingRect:oce,getOffsetParent:X9,getElementRects:uce,getClientRects:tce,getDimensions:lce,getScale:qh,isElement:To,isRTL:dce};function J9(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function hce(e,t){let r=null,n;const a=vl(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const g=by(f),m=by(a.clientWidth-(d+h)),v=by(a.clientHeight-(f+p)),y=by(d),b={rootMargin:-g+"px "+-m+"px "+-v+"px "+-y+"px",threshold:Xs(0,Tu(1,c))||1};let _=!0;function S(k){const j=k[0].intersectionRatio;if(j!==c){if(!_)return i();j?i(!1,j):n=setTimeout(()=>{i(!1,1e-7)},1e3)}j===1&&!J9(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(e)}return i(!0),s}function mce(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=EA(e),d=a||s?[...u?Yg(u):[],...Yg(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=u&&l?hce(u,r):null;let h=-1,p=null;i&&(p=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let g,m=c?tf(e):null;c&&v();function v(){const y=tf(e);m&&!J9(m,y)&&r(),m=y,g=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(w=>{a&&w.removeEventListener("scroll",r),s&&w.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const pce=$le,gce=Ble,vce=Mle,xce=Vle,yce=Fle,RI=Ile,wce=Ule,bce=(e,t,r)=>{const n=new Map,a={platform:fce,...r},s={...a.platform,_c:n};return Rle(e,t,{...a,platform:s})};var _ce=typeof document<"u",Sce=function(){},mw=_ce?x.useLayoutEffect:Sce;function f1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!f1(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!f1(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Q9(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function II(e,t){const r=Q9(e);return Math.round(t*r)/r}function ek(e){const t=x.useRef(e);return mw(()=>{t.current=e}),t}function jce(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(n);f1(h,n)||p(n);const[g,m]=x.useState(null),[v,y]=x.useState(null),w=x.useCallback(U=>{U!==k.current&&(k.current=U,m(U))},[]),b=x.useCallback(U=>{U!==j.current&&(j.current=U,y(U))},[]),_=s||g,S=i||v,k=x.useRef(null),j=x.useRef(null),E=x.useRef(d),N=c!=null,O=ek(c),P=ek(a),T=ek(u),L=x.useCallback(()=>{if(!k.current||!j.current)return;const U={placement:t,strategy:r,middleware:h};P.current&&(U.platform=P.current),bce(k.current,j.current,U).then(R=>{const Y={...R,isPositioned:T.current!==!1};H.current&&!f1(E.current,Y)&&(E.current=Y,vp.flushSync(()=>{f(Y)}))})},[h,t,r,P,T]);mw(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(U=>({...U,isPositioned:!1})))},[u]);const H=x.useRef(!1);mw(()=>(H.current=!0,()=>{H.current=!1}),[]),mw(()=>{if(_&&(k.current=_),S&&(j.current=S),_&&S){if(O.current)return O.current(_,S,L);L()}},[_,S,L,O,N]);const z=x.useMemo(()=>({reference:k,floating:j,setReference:w,setFloating:b}),[w,b]),M=x.useMemo(()=>({reference:_,floating:S}),[_,S]),I=x.useMemo(()=>{const U={position:r,left:0,top:0};if(!M.floating)return U;const R=II(M.floating,d.x),Y=II(M.floating,d.y);return l?{...U,transform:"translate("+R+"px, "+Y+"px)",...Q9(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:Y}},[r,l,M.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:L,refs:z,elements:M,floatingStyles:I}),[d,L,z,M,I])}const kce=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?RI({element:n.current,padding:a}).fn(r):{}:n?RI({element:n,padding:a}).fn(r):{}}}},Nce=(e,t)=>({...pce(e),options:[e,t]}),Ece=(e,t)=>({...gce(e),options:[e,t]}),Cce=(e,t)=>({...wce(e),options:[e,t]}),Tce=(e,t)=>({...vce(e),options:[e,t]}),Ace=(e,t)=>({...xce(e),options:[e,t]}),Oce=(e,t)=>({...yce(e),options:[e,t]}),Pce=(e,t)=>({...kce(e),options:[e,t]});var Dce="Arrow",Z9=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return o.jsx(ut.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Z9.displayName=Dce;var Rce=Z9;function TA(e){const[t,r]=x.useState(void 0);return jn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let i,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var AA="Popper",[e7,kp]=fs(AA),[Ice,t7]=e7(AA),r7=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return o.jsx(Ice,{scope:t,anchor:n,onAnchorChange:a,children:r})};r7.displayName=AA;var n7="PopperAnchor",a7=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=t7(n7,r),i=x.useRef(null),l=Wt(t,i);return x.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:o.jsx(ut.div,{...a,ref:l})});a7.displayName=n7;var OA="PopperContent",[Mce,Fce]=e7(OA),s7=x.forwardRef((e,t)=>{var se,le,ae,K,me,A;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,v=t7(OA,r),[y,w]=x.useState(null),b=Wt(t,$e=>w($e)),[_,S]=x.useState(null),k=TA(_),j=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,N=n+(s!=="center"?"-"+s:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],T=P.length>0,L={padding:O,boundary:P.filter($ce),altBoundary:T},{refs:H,floatingStyles:z,placement:M,isPositioned:I,middlewareData:U}=jce({strategy:"fixed",placement:N,whileElementsMounted:(...$e)=>mce(...$e,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[Nce({mainAxis:a+E,alignmentAxis:i}),c&&Ece({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Cce():void 0,...L}),c&&Tce({...L}),Ace({...L,apply:({elements:$e,rects:Ie,availableWidth:Ue,availableHeight:Ve})=>{const{width:De,height:pt}=Ie.reference,yt=$e.floating.style;yt.setProperty("--radix-popper-available-width",`${Ue}px`),yt.setProperty("--radix-popper-available-height",`${Ve}px`),yt.setProperty("--radix-popper-anchor-width",`${De}px`),yt.setProperty("--radix-popper-anchor-height",`${pt}px`)}}),_&&Pce({element:_,padding:l}),Bce({arrowWidth:j,arrowHeight:E}),h&&Oce({strategy:"referenceHidden",...L})]}),[R,Y]=l7(M),Z=Hn(g);jn(()=>{I&&(Z==null||Z())},[I,Z]);const C=(se=U.arrow)==null?void 0:se.x,X=(le=U.arrow)==null?void 0:le.y,B=((ae=U.arrow)==null?void 0:ae.centerOffset)!==0,[q,re]=x.useState();return jn(()=>{y&&re(window.getComputedStyle(y).zIndex)},[y]),o.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:I?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(K=U.transformOrigin)==null?void 0:K.x,(me=U.transformOrigin)==null?void 0:me.y].join(" "),...((A=U.hide)==null?void 0:A.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(Mce,{scope:r,placedSide:R,onArrowChange:S,arrowX:C,arrowY:X,shouldHideArrow:B,children:o.jsx(ut.div,{"data-side":R,"data-align":Y,...m,ref:b,style:{...m.style,animation:I?void 0:"none"}})})})});s7.displayName=OA;var i7="PopperArrow",Lce={top:"bottom",right:"left",bottom:"top",left:"right"},o7=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=Fce(i7,n),i=Lce[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(Rce,{...a,ref:r,style:{...a.style,display:"block"}})})});o7.displayName=i7;function $ce(e){return e!==null}var Bce=e=>({name:"transformOrigin",options:e,fn(t){var v,y,w;const{placement:r,rects:n,middlewareData:a}=t,i=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=l7(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,p=(((w=a.arrow)==null?void 0:w.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=i?f:`${h}px`,m=`${-c}px`):u==="top"?(g=i?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=i?f:`${p}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=i?f:`${p}px`),{data:{x:g,y:m}}}});function l7(e){const[t,r="center"]=e.split("-");return[t,r]}var PA=r7,b_=a7,DA=s7,RA=o7,Uce="Portal",sx=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=x.useState(!1);jn(()=>s(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?yee.createPortal(o.jsx(ut.div,{...n,ref:t}),i):null});sx.displayName=Uce;var Vce=sT[" useInsertionEffect ".trim().toString()]||jn;function ic({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,i]=zce({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=Wce(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else s(d)},[l,e,s,i]);return[c,u]}function zce({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),s=x.useRef(t);return Vce(()=>{s.current=t},[t]),x.useEffect(()=>{var i;a.current!==r&&((i=s.current)==null||i.call(s,r),a.current=r)},[r,a]),[r,n,s]}function Wce(e){return typeof e=="function"}function IA(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var c7=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Hce="VisuallyHidden",qce=x.forwardRef((e,t)=>o.jsx(ut.span,{...e,ref:t,style:{...c7,...e.style}}));qce.displayName=Hce;var Gce=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Yf=new WeakMap,_y=new WeakMap,Sy={},tk=0,u7=function(e){return e&&(e.host||u7(e.parentNode))},Kce=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=u7(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Yce=function(e,t,r,n){var a=Kce(t,Array.isArray(e)?e:[e]);Sy[r]||(Sy[r]=new WeakMap);var s=Sy[r],i=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",m=(Yf.get(h)||0)+1,v=(s.get(h)||0)+1;Yf.set(h,m),s.set(h,v),i.push(h),m===1&&g&&_y.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),tk++,function(){i.forEach(function(f){var h=Yf.get(f)-1,p=s.get(f)-1;Yf.set(f,h),s.set(f,p),h||(_y.has(f)||f.removeAttribute(n),_y.delete(f)),p||f.removeAttribute(r)}),tk--,tk||(Yf=new WeakMap,Yf=new WeakMap,_y=new WeakMap,Sy={})}},__=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Gce(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Yce(n,a,r,"aria-hidden")):function(){return null}},pw="right-scroll-bar-position",gw="width-before-scroll-bar",Xce="with-scroll-bars-hidden",Jce="--removed-body-scroll-bar-size";function rk(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Qce(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Zce=typeof window<"u"?x.useLayoutEffect:x.useEffect,MI=new WeakMap;function eue(e,t){var r=Qce(null,function(n){return e.forEach(function(a){return rk(a,n)})});return Zce(function(){var n=MI.get(r);if(n){var a=new Set(n),s=new Set(e),i=r.current;a.forEach(function(l){s.has(l)||rk(l,null)}),s.forEach(function(l){a.has(l)||rk(l,i)})}MI.set(r,e)},[e]),r}function tue(e){return e}function rue(e,t){t===void 0&&(t=tue);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var i=t(s,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(s){for(n=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(s),i=r}var c=function(){var d=i;i=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return a}function nue(e){e===void 0&&(e={});var t=rue(null);return t.options=Ai({async:!0,ssr:!1},e),t}var d7=function(e){var t=e.sideCar,r=Uu(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Ai({},r))};d7.isSideCarExport=!0;function aue(e,t){return e.useMedium(t),d7}var f7=nue(),nk=function(){},S_=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:nk,onWheelCapture:nk,onTouchMoveCapture:nk}),a=n[0],s=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,g=e.noIsolation,m=e.inert,v=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,b=e.gapMode,_=Uu(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,k=eue([r,t]),j=Ai(Ai({},_),a);return x.createElement(x.Fragment,null,d&&x.createElement(S,{sideCar:f7,removeScrollBar:u,shards:f,noRelative:p,noIsolation:g,inert:m,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:b}),i?x.cloneElement(x.Children.only(l),Ai(Ai({},j),{ref:k})):x.createElement(w,Ai({},j,{className:c,ref:k}),l))});S_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};S_.classNames={fullWidth:gw,zeroRight:pw};var sue=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iue(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=sue();return t&&e.setAttribute("nonce",t),e}function oue(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function lue(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var cue=function(){var e=0,t=null;return{add:function(r){e==0&&(t=iue())&&(oue(t,r),lue(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},uue=function(){var e=cue();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},h7=function(){var e=uue(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},due={left:0,top:0,right:0,gap:0},ak=function(e){return parseInt(e||"",10)||0},fue=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ak(r),ak(n),ak(a)]},hue=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return due;var t=fue(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},mue=h7(),Gh="data-scroll-locked",pue=function(e,t,r,n){var a=e.left,s=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Xce,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Gh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pw,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(gw,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(pw," .").concat(pw,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(gw," .").concat(gw,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Gh,`] {
    `).concat(Jce,": ").concat(l,`px;
  }
`)},FI=function(){var e=parseInt(document.body.getAttribute(Gh)||"0",10);return isFinite(e)?e:0},gue=function(){x.useEffect(function(){return document.body.setAttribute(Gh,(FI()+1).toString()),function(){var e=FI()-1;e<=0?document.body.removeAttribute(Gh):document.body.setAttribute(Gh,e.toString())}},[])},vue=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;gue();var s=x.useMemo(function(){return hue(a)},[a]);return x.createElement(mue,{styles:pue(s,!t,a,r?"":"!important")})},zN=!1;if(typeof window<"u")try{var jy=Object.defineProperty({},"passive",{get:function(){return zN=!0,!0}});window.addEventListener("test",jy,jy),window.removeEventListener("test",jy,jy)}catch{zN=!1}var Xf=zN?{passive:!1}:!1,xue=function(e){return e.tagName==="TEXTAREA"},m7=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!xue(e)&&r[t]==="visible")},yue=function(e){return m7(e,"overflowY")},wue=function(e){return m7(e,"overflowX")},LI=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=p7(e,n);if(a){var s=g7(e,n),i=s[1],l=s[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},bue=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},_ue=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},p7=function(e,t){return e==="v"?yue(t):wue(t)},g7=function(e,t){return e==="v"?bue(t):_ue(t)},Sue=function(e,t){return e==="h"&&t==="rtl"?-1:1},jue=function(e,t,r,n,a){var s=Sue(e,window.getComputedStyle(t).direction),i=s*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var p=g7(e,l),g=p[0],m=p[1],v=p[2],y=m-v-s*g;(g||y)&&p7(e,l)&&(f+=y,h+=g);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},ky=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$I=function(e){return[e.deltaX,e.deltaY]},BI=function(e){return e&&"current"in e?e.current:e},kue=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Nue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Eue=0,Jf=[];function Cue(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(Eue++)[0],s=x.useState(h7)[0],i=x.useRef(e);x.useEffect(function(){i.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=iA([e.lockRef.current],(e.shards||[]).map(BI),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var y=ky(m),w=r.current,b="deltaX"in m?m.deltaX:w[0]-y[0],_="deltaY"in m?m.deltaY:w[1]-y[1],S,k=m.target,j=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&j==="h"&&k.type==="range")return!1;var E=LI(j,k);if(!E)return!0;if(E?S=j:(S=j==="v"?"h":"v",E=LI(j,k)),!E)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var N=n.current||S;return jue(N,v,m,N==="h"?b:_,!0)},[]),c=x.useCallback(function(m){var v=m;if(!(!Jf.length||Jf[Jf.length-1]!==s)){var y="deltaY"in v?$I(v):ky(v),w=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&kue(S.delta,y)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(i.current.shards||[]).map(BI).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=b.length>0?l(v,b[0]):!i.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=x.useCallback(function(m,v,y,w){var b={name:m,delta:v,target:y,should:w,shadowParent:Tue(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=x.useCallback(function(m){r.current=ky(m),n.current=void 0},[]),f=x.useCallback(function(m){u(m.type,$I(m),m.target,l(m,e.lockRef.current))},[]),h=x.useCallback(function(m){u(m.type,ky(m),m.target,l(m,e.lockRef.current))},[]);x.useEffect(function(){return Jf.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Xf),document.addEventListener("touchmove",c,Xf),document.addEventListener("touchstart",d,Xf),function(){Jf=Jf.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,Xf),document.removeEventListener("touchmove",c,Xf),document.removeEventListener("touchstart",d,Xf)}},[]);var p=e.removeScrollBar,g=e.inert;return x.createElement(x.Fragment,null,g?x.createElement(s,{styles:Nue(a)}):null,p?x.createElement(vue,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Tue(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Aue=aue(f7,Cue);var ix=x.forwardRef(function(e,t){return x.createElement(S_,Ai({},e,{ref:t,sideCar:Aue}))});ix.classNames=S_.classNames;var Oue=[" ","Enter","ArrowUp","ArrowDown"],Pue=[" ","Enter"],rf="Select",[j_,k_,Due]=bA(rf),[Np,xYe]=fs(rf,[Due,kp]),N_=kp(),[Rue,zu]=Np(rf),[Iue,Mue]=Np(rf),v7=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=e,m=N_(t),[v,y]=x.useState(null),[w,b]=x.useState(null),[_,S]=x.useState(!1),k=tx(u),[j,E]=ic({prop:n,defaultProp:a??!1,onChange:s,caller:rf}),[N,O]=ic({prop:i,defaultProp:l,onChange:c,caller:rf}),P=x.useRef(null),T=v?g||!!v.closest("form"):!0,[L,H]=x.useState(new Set),z=Array.from(L).map(M=>M.props.value).join(";");return o.jsx(PA,{...m,children:o.jsxs(Rue,{required:p,scope:t,trigger:v,onTriggerChange:y,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:aa(),value:N,onValueChange:O,open:j,onOpenChange:E,dir:k,triggerPointerDownPosRef:P,disabled:h,children:[o.jsx(j_.Provider,{scope:t,children:o.jsx(Iue,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(M=>{H(I=>new Set(I).add(M))},[]),onNativeOptionRemove:x.useCallback(M=>{H(I=>{const U=new Set(I);return U.delete(M),U})},[]),children:r})}),T?o.jsxs(U7,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:M=>O(M.target.value),disabled:h,form:g,children:[N===void 0?o.jsx("option",{value:""}):null,Array.from(L)]},z):null]})})};v7.displayName=rf;var x7="SelectTrigger",y7=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=N_(r),i=zu(x7,r),l=i.disabled||n,c=Wt(t,i.onTriggerChange),u=k_(r),d=x.useRef("touch"),[f,h,p]=z7(m=>{const v=u().filter(b=>!b.disabled),y=v.find(b=>b.value===i.value),w=W7(v,m,y);w!==void 0&&i.onValueChange(w.value)}),g=m=>{l||(i.onOpenChange(!0),p()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(b_,{asChild:!0,...s,children:o.jsx(ut.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":V7(i.value)?"":void 0,...a,ref:c,onClick:et(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:et(a.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:et(a.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&Oue.includes(m.key)&&(g(),m.preventDefault())})})})});y7.displayName=x7;var w7="SelectValue",b7=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:i="",...l}=e,c=zu(w7,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Wt(t,c.onValueNodeChange);return jn(()=>{u(d)},[u,d]),o.jsx(ut.span,{...l,ref:f,style:{pointerEvents:"none"},children:V7(c.value)?o.jsx(o.Fragment,{children:i}):s})});b7.displayName=w7;var Fue="SelectIcon",_7=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(ut.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});_7.displayName=Fue;var Lue="SelectPortal",S7=e=>o.jsx(sx,{asChild:!0,...e});S7.displayName=Lue;var nf="SelectContent",j7=x.forwardRef((e,t)=>{const r=zu(nf,e.__scopeSelect),[n,a]=x.useState();if(jn(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?vp.createPortal(o.jsx(k7,{scope:e.__scopeSelect,children:o.jsx(j_.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(N7,{...e,ref:t})});j7.displayName=nf;var to=10,[k7,Wu]=Np(nf),$ue="SelectContentImpl",Bue=Cu("SelectContent.RemoveScroll"),N7=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v,...y}=e,w=zu(nf,r),[b,_]=x.useState(null),[S,k]=x.useState(null),j=Wt(t,se=>_(se)),[E,N]=x.useState(null),[O,P]=x.useState(null),T=k_(r),[L,H]=x.useState(!1),z=x.useRef(!1);x.useEffect(()=>{if(b)return __(b)},[b]),v_();const M=x.useCallback(se=>{const[le,...ae]=T().map(A=>A.ref.current),[K]=ae.slice(-1),me=document.activeElement;for(const A of se)if(A===me||(A==null||A.scrollIntoView({block:"nearest"}),A===le&&S&&(S.scrollTop=0),A===K&&S&&(S.scrollTop=S.scrollHeight),A==null||A.focus(),document.activeElement!==me))return},[T,S]),I=x.useCallback(()=>M([E,b]),[M,E,b]);x.useEffect(()=>{L&&I()},[L,I]);const{onOpenChange:U,triggerPointerDownPosRef:R}=w;x.useEffect(()=>{if(b){let se={x:0,y:0};const le=K=>{var me,A;se={x:Math.abs(Math.round(K.pageX)-(((me=R.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(K.pageY)-(((A=R.current)==null?void 0:A.y)??0))}},ae=K=>{se.x<=10&&se.y<=10?K.preventDefault():b.contains(K.target)||U(!1),document.removeEventListener("pointermove",le),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ae,{capture:!0})}}},[b,U,R]),x.useEffect(()=>{const se=()=>U(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[U]);const[Y,Z]=z7(se=>{const le=T().filter(me=>!me.disabled),ae=le.find(me=>me.ref.current===document.activeElement),K=W7(le,se,ae);K&&setTimeout(()=>K.ref.current.focus())}),C=x.useCallback((se,le,ae)=>{const K=!z.current&&!ae;(w.value!==void 0&&w.value===le||K)&&(N(se),K&&(z.current=!0))},[w.value]),X=x.useCallback(()=>b==null?void 0:b.focus(),[b]),B=x.useCallback((se,le,ae)=>{const K=!z.current&&!ae;(w.value!==void 0&&w.value===le||K)&&P(se)},[w.value]),q=n==="popper"?WN:E7,re=q===WN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return o.jsx(k7,{scope:r,content:b,viewport:S,onViewportChange:k,itemRefCallback:C,selectedItem:E,onItemLeave:X,itemTextRefCallback:B,focusSelectedItem:I,selectedItemText:O,position:n,isPositioned:L,searchRef:Y,children:o.jsx(ix,{as:Bue,allowPinchZoom:!0,children:o.jsx(nx,{asChild:!0,trapped:w.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:et(a,se=>{var le;(le=w.trigger)==null||le.focus({preventScroll:!0}),se.preventDefault()}),children:o.jsx(rx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(q,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:se=>se.preventDefault(),...y,...re,onPlaced:()=>H(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:et(y.onKeyDown,se=>{const le=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!le&&se.key.length===1&&Z(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let K=T().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(se.key)&&(K=K.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const me=se.target,A=K.indexOf(me);K=K.slice(A+1)}setTimeout(()=>M(K)),se.preventDefault()}})})})})})})});N7.displayName=$ue;var Uue="SelectItemAlignedPosition",E7=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=zu(nf,r),i=Wu(nf,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=Wt(t,j=>d(j)),h=k_(r),p=x.useRef(!1),g=x.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:y,focusSelectedItem:w}=i,b=x.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&m&&v&&y){const j=s.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),N=s.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(s.dir!=="rtl"){const me=O.left-E.left,A=N.left-me,$e=j.left-A,Ie=j.width+$e,Ue=Math.max(Ie,E.width),Ve=window.innerWidth-to,De=LN(A,[to,Math.max(to,Ve-Ue)]);l.style.minWidth=Ie+"px",l.style.left=De+"px"}else{const me=E.right-O.right,A=window.innerWidth-N.right-me,$e=window.innerWidth-j.right-A,Ie=j.width+$e,Ue=Math.max(Ie,E.width),Ve=window.innerWidth-to,De=LN(A,[to,Math.max(to,Ve-Ue)]);l.style.minWidth=Ie+"px",l.style.right=De+"px"}const P=h(),T=window.innerHeight-to*2,L=m.scrollHeight,H=window.getComputedStyle(u),z=parseInt(H.borderTopWidth,10),M=parseInt(H.paddingTop,10),I=parseInt(H.borderBottomWidth,10),U=parseInt(H.paddingBottom,10),R=z+M+L+U+I,Y=Math.min(v.offsetHeight*5,R),Z=window.getComputedStyle(m),C=parseInt(Z.paddingTop,10),X=parseInt(Z.paddingBottom,10),B=j.top+j.height/2-to,q=T-B,re=v.offsetHeight/2,se=v.offsetTop+re,le=z+M+se,ae=R-le;if(le<=B){const me=P.length>0&&v===P[P.length-1].ref.current;l.style.bottom="0px";const A=u.clientHeight-m.offsetTop-m.offsetHeight,$e=Math.max(q,re+(me?X:0)+A+I),Ie=le+$e;l.style.height=Ie+"px"}else{const me=P.length>0&&v===P[0].ref.current;l.style.top="0px";const $e=Math.max(B,z+m.offsetTop+(me?C:0)+re)+ae;l.style.height=$e+"px",m.scrollTop=le-B+m.offsetTop}l.style.margin=`${to}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,l,u,m,v,y,s.dir,n]);jn(()=>b(),[b]);const[_,S]=x.useState();jn(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=x.useCallback(j=>{j&&g.current===!0&&(b(),w==null||w(),g.current=!1)},[b,w]);return o.jsx(zue,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(ut.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});E7.displayName=Uue;var Vue="SelectPopperPosition",WN=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=to,...s}=e,i=N_(r);return o.jsx(DA,{...i,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});WN.displayName=Vue;var[zue,MA]=Np(nf,{}),HN="SelectViewport",C7=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Wu(HN,r),i=MA(HN,r),l=Wt(t,s.onViewportChange),c=x.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(j_.Slot,{scope:r,children:o.jsx(ut.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:et(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-to*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(m,v);if(y<g){const w=y+p,b=Math.min(g,w),_=w-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});C7.displayName=HN;var T7="SelectGroup",[Wue,Hue]=Np(T7),que=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=aa();return o.jsx(Wue,{scope:r,id:a,children:o.jsx(ut.div,{role:"group","aria-labelledby":a,...n,ref:t})})});que.displayName=T7;var A7="SelectLabel",O7=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Hue(A7,r);return o.jsx(ut.div,{id:a.id,...n,ref:t})});O7.displayName=A7;var h1="SelectItem",[Gue,P7]=Np(h1),D7=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...i}=e,l=zu(h1,r),c=Wu(h1,r),u=l.value===n,[d,f]=x.useState(s??""),[h,p]=x.useState(!1),g=Wt(t,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,n,a)}),m=aa(),v=x.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Gue,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:x.useCallback(w=>{f(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(j_.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:o.jsx(ut.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:g,onFocus:et(i.onFocus,()=>p(!0)),onBlur:et(i.onBlur,()=>p(!1)),onClick:et(i.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:et(i.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:et(i.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:et(i.onPointerMove,w=>{var b;v.current=w.pointerType,a?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:et(i.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:et(i.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(Pue.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});D7.displayName=h1;var D0="SelectItemText",R7=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,i=zu(D0,r),l=Wu(D0,r),c=P7(D0,r),u=Mue(D0,r),[d,f]=x.useState(null),h=Wt(t,y=>f(y),c.onItemTextChange,y=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=x.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return jn(()=>(m(g),()=>v(g)),[m,v,g]),o.jsxs(o.Fragment,{children:[o.jsx(ut.span,{id:c.textId,...s,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?vp.createPortal(s.children,i.valueNode):null]})});R7.displayName=D0;var I7="SelectItemIndicator",M7=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return P7(I7,r).isSelected?o.jsx(ut.span,{"aria-hidden":!0,...n,ref:t}):null});M7.displayName=I7;var qN="SelectScrollUpButton",F7=x.forwardRef((e,t)=>{const r=Wu(qN,e.__scopeSelect),n=MA(qN,e.__scopeSelect),[a,s]=x.useState(!1),i=Wt(t,n.onScrollButtonChange);return jn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx($7,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});F7.displayName=qN;var GN="SelectScrollDownButton",L7=x.forwardRef((e,t)=>{const r=Wu(GN,e.__scopeSelect),n=MA(GN,e.__scopeSelect),[a,s]=x.useState(!1),i=Wt(t,n.onScrollButtonChange);return jn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx($7,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});L7.displayName=GN;var $7=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Wu("SelectScrollButton",r),i=x.useRef(null),l=k_(r),c=x.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),jn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(ut.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:et(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:et(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:et(a.onPointerLeave,()=>{c()})})}),Kue="SelectSeparator",B7=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(ut.div,{"aria-hidden":!0,...n,ref:t})});B7.displayName=Kue;var KN="SelectArrow",Yue=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=N_(r),s=zu(KN,r),i=Wu(KN,r);return s.open&&i.position==="popper"?o.jsx(RA,{...a,...n,ref:t}):null});Yue.displayName=KN;var Xue="SelectBubbleInput",U7=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),s=Wt(n,a),i=IA(t);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(ut.select,{...r,style:{...c7,...r.style},ref:s,defaultValue:t})});U7.displayName=Xue;function V7(e){return e===""||e===void 0}function z7(e){const t=Hn(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function W7(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=Jue(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Jue(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Que=v7,H7=y7,Zue=b7,ede=_7,tde=S7,q7=j7,rde=C7,G7=O7,K7=D7,nde=R7,ade=M7,Y7=F7,X7=L7,J7=B7;const wt=Que,bt=Zue,vt=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(H7,{ref:n,className:je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(ede,{asChild:!0,children:o.jsx(d_,{className:"h-4 w-4 opacity-50"})})]}));vt.displayName=H7.displayName;const Q7=x.forwardRef(({className:e,...t},r)=>o.jsx(Y7,{ref:r,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(koe,{className:"h-4 w-4"})}));Q7.displayName=Y7.displayName;const Z7=x.forwardRef(({className:e,...t},r)=>o.jsx(X7,{ref:r,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(d_,{className:"h-4 w-4"})}));Z7.displayName=X7.displayName;const xt=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>o.jsx(tde,{children:o.jsxs(q7,{ref:a,className:je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(Q7,{}),o.jsx(rde,{className:je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(Z7,{})]})}));xt.displayName=q7.displayName;const sde=x.forwardRef(({className:e,...t},r)=>o.jsx(G7,{ref:r,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));sde.displayName=G7.displayName;const Ce=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(K7,{ref:n,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(ade,{children:o.jsx(xA,{className:"h-4 w-4"})})}),o.jsx(nde,{children:t})]}));Ce.displayName=K7.displayName;const ide=x.forwardRef(({className:e,...t},r)=>o.jsx(J7,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",e),...t}));ide.displayName=J7.displayName;const eV=()=>{const{currentLanguage:e,changeLanguage:t,languages:r}=gi(),n=r.find(a=>a.code===e);return o.jsxs(wt,{value:e,onValueChange:t,children:[o.jsx(vt,{className:"w-[140px]",children:o.jsx(bt,{children:o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{children:n==null?void 0:n.name})})})}),o.jsx(xt,{children:r.map(a=>o.jsx(Ce,{value:a.code,children:o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{children:a.name})})},a.code))})]})};function ode(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var La=e=>{const{present:t,children:r}=e,n=lde(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=Wt(n.ref,cde(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:s}):null};La.displayName="Presence";function lde(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),s=x.useRef("none"),i=e?"mounted":"unmounted",[l,c]=ode(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Ny(n.current);s.current=l==="mounted"?u:"none"},[l]),jn(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,p=Ny(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),jn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Ny(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(s.current=Ny(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Ny(e){return(e==null?void 0:e.animationName)||"none"}function cde(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sk="rovingFocusGroup.onEntryFocus",ude={bubbles:!1,cancelable:!0},ox="RovingFocusGroup",[YN,tV,dde]=bA(ox),[fde,E_]=fs(ox,[dde]),[hde,mde]=fde(ox),rV=x.forwardRef((e,t)=>o.jsx(YN.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(YN.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(pde,{...e,ref:t})})}));rV.displayName=ox;var pde=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),p=Wt(t,h),g=tx(s),[m,v]=ic({prop:i,defaultProp:l??null,onChange:c,caller:ox}),[y,w]=x.useState(!1),b=Hn(u),_=tV(r),S=x.useRef(!1),[k,j]=x.useState(0);return x.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(sk,b),()=>E.removeEventListener(sk,b)},[b]),o.jsx(hde,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:m,onItemFocus:x.useCallback(E=>v(E),[v]),onItemShiftTab:x.useCallback(()=>w(!0),[]),onFocusableItemAdd:x.useCallback(()=>j(E=>E+1),[]),onFocusableItemRemove:x.useCallback(()=>j(E=>E-1),[]),children:o.jsx(ut.div,{tabIndex:y||k===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:et(e.onMouseDown,()=>{S.current=!0}),onFocus:et(e.onFocus,E=>{const N=!S.current;if(E.target===E.currentTarget&&N&&!y){const O=new CustomEvent(sk,ude);if(E.currentTarget.dispatchEvent(O),!O.defaultPrevented){const P=_().filter(M=>M.focusable),T=P.find(M=>M.active),L=P.find(M=>M.id===m),z=[T,L,...P].filter(Boolean).map(M=>M.ref.current);sV(z,d)}}S.current=!1}),onBlur:et(e.onBlur,()=>w(!1))})})}),nV="RovingFocusGroupItem",aV=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:i,...l}=e,c=aa(),u=s||c,d=mde(nV,r),f=d.currentTabStopId===u,h=tV(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:m}=d;return x.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),o.jsx(YN.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:o.jsx(ut.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:et(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:et(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:et(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=xde(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=h().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const _=b.indexOf(v.currentTarget);b=d.loop?yde(b,_+1):b.slice(_+1)}setTimeout(()=>sV(b))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:m!=null}):i})})});aV.displayName=nV;var gde={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vde(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xde(e,t,r){const n=vde(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return gde[n]}function sV(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function yde(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var iV=rV,oV=aV,XN=["Enter"," "],wde=["ArrowDown","PageUp","Home"],lV=["ArrowUp","PageDown","End"],bde=[...wde,...lV],_de={ltr:[...XN,"ArrowRight"],rtl:[...XN,"ArrowLeft"]},Sde={ltr:["ArrowLeft"],rtl:["ArrowRight"]},lx="Menu",[Xg,jde,kde]=bA(lx),[Ef,cV]=fs(lx,[kde,kp,E_]),C_=kp(),uV=E_(),[Nde,Cf]=Ef(lx),[Ede,cx]=Ef(lx),dV=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:i=!0}=e,l=C_(t),[c,u]=x.useState(null),d=x.useRef(!1),f=Hn(s),h=tx(a);return x.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(PA,{...l,children:o.jsx(Nde,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(Ede,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};dV.displayName=lx;var Cde="MenuAnchor",FA=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=C_(r);return o.jsx(b_,{...a,...n,ref:t})});FA.displayName=Cde;var LA="MenuPortal",[Tde,fV]=Ef(LA,{forceMount:void 0}),hV=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=Cf(LA,t);return o.jsx(Tde,{scope:t,forceMount:r,children:o.jsx(La,{present:r||s.open,children:o.jsx(sx,{asChild:!0,container:a,children:n})})})};hV.displayName=LA;var Mi="MenuContent",[Ade,$A]=Ef(Mi),mV=x.forwardRef((e,t)=>{const r=fV(Mi,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Cf(Mi,e.__scopeMenu),i=cx(Mi,e.__scopeMenu);return o.jsx(Xg.Provider,{scope:e.__scopeMenu,children:o.jsx(La,{present:n||s.open,children:o.jsx(Xg.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(Ode,{...a,ref:t}):o.jsx(Pde,{...a,ref:t})})})})}),Ode=x.forwardRef((e,t)=>{const r=Cf(Mi,e.__scopeMenu),n=x.useRef(null),a=Wt(t,n);return x.useEffect(()=>{const s=n.current;if(s)return __(s)},[]),o.jsx(BA,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:et(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Pde=x.forwardRef((e,t)=>{const r=Cf(Mi,e.__scopeMenu);return o.jsx(BA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Dde=Cu("MenuContent.ScrollLock"),BA=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...m}=e,v=Cf(Mi,r),y=cx(Mi,r),w=C_(r),b=uV(r),_=jde(r),[S,k]=x.useState(null),j=x.useRef(null),E=Wt(t,j,v.onContentChange),N=x.useRef(0),O=x.useRef(""),P=x.useRef(0),T=x.useRef(null),L=x.useRef("right"),H=x.useRef(0),z=g?ix:x.Fragment,M=g?{as:Dde,allowPinchZoom:!0}:void 0,I=R=>{var se,le;const Y=O.current+R,Z=_().filter(ae=>!ae.disabled),C=document.activeElement,X=(se=Z.find(ae=>ae.ref.current===C))==null?void 0:se.textValue,B=Z.map(ae=>ae.textValue),q=Hde(B,Y,X),re=(le=Z.find(ae=>ae.textValue===q))==null?void 0:le.ref.current;(function ae(K){O.current=K,window.clearTimeout(N.current),K!==""&&(N.current=window.setTimeout(()=>ae(""),1e3))})(Y),re&&setTimeout(()=>re.focus())};x.useEffect(()=>()=>window.clearTimeout(N.current),[]),v_();const U=x.useCallback(R=>{var Z,C;return L.current===((Z=T.current)==null?void 0:Z.side)&&Gde(R,(C=T.current)==null?void 0:C.area)},[]);return o.jsx(Ade,{scope:r,searchRef:O,onItemEnter:x.useCallback(R=>{U(R)&&R.preventDefault()},[U]),onItemLeave:x.useCallback(R=>{var Y;U(R)||((Y=j.current)==null||Y.focus(),k(null))},[U]),onTriggerLeave:x.useCallback(R=>{U(R)&&R.preventDefault()},[U]),pointerGraceTimerRef:P,onPointerGraceIntentChange:x.useCallback(R=>{T.current=R},[]),children:o.jsx(z,{...M,children:o.jsx(nx,{asChild:!0,trapped:a,onMountAutoFocus:et(s,R=>{var Y;R.preventDefault(),(Y=j.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(rx,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:o.jsx(iV,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:et(c,R=>{y.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(DA,{role:"menu","aria-orientation":"vertical","data-state":AV(v.open),"data-radix-menu-content":"",dir:y.dir,...w,...m,ref:E,style:{outline:"none",...m.style},onKeyDown:et(m.onKeyDown,R=>{const Z=R.target.closest("[data-radix-menu-content]")===R.currentTarget,C=R.ctrlKey||R.altKey||R.metaKey,X=R.key.length===1;Z&&(R.key==="Tab"&&R.preventDefault(),!C&&X&&I(R.key));const B=j.current;if(R.target!==B||!bde.includes(R.key))return;R.preventDefault();const re=_().filter(se=>!se.disabled).map(se=>se.ref.current);lV.includes(R.key)&&re.reverse(),zde(re)}),onBlur:et(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(N.current),O.current="")}),onPointerMove:et(e.onPointerMove,Jg(R=>{const Y=R.target,Z=H.current!==R.clientX;if(R.currentTarget.contains(Y)&&Z){const C=R.clientX>H.current?"right":"left";L.current=C,H.current=R.clientX}}))})})})})})})});mV.displayName=Mi;var Rde="MenuGroup",UA=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ut.div,{role:"group",...n,ref:t})});UA.displayName=Rde;var Ide="MenuLabel",pV=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ut.div,{...n,ref:t})});pV.displayName=Ide;var m1="MenuItem",UI="menu.itemSelect",T_=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=x.useRef(null),i=cx(m1,e.__scopeMenu),l=$A(m1,e.__scopeMenu),c=Wt(t,s),u=x.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(UI,{bubbles:!0,cancelable:!0});f.addEventListener(UI,p=>n==null?void 0:n(p),{once:!0}),y9(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(gV,{...a,ref:c,disabled:r,onClick:et(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:et(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:et(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||XN.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});T_.displayName=m1;var gV=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,i=$A(m1,r),l=uV(r),c=x.useRef(null),u=Wt(t,c),[d,f]=x.useState(!1),[h,p]=x.useState("");return x.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[s.children]),o.jsx(Xg.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:o.jsx(oV,{asChild:!0,...l,focusable:!n,children:o.jsx(ut.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:et(e.onPointerMove,Jg(g=>{n?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(e.onPointerLeave,Jg(g=>i.onItemLeave(g))),onFocus:et(e.onFocus,()=>f(!0)),onBlur:et(e.onBlur,()=>f(!1))})})})}),Mde="MenuCheckboxItem",vV=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return o.jsx(_V,{scope:e.__scopeMenu,checked:r,children:o.jsx(T_,{role:"menuitemcheckbox","aria-checked":p1(r)?"mixed":r,...a,ref:t,"data-state":zA(r),onSelect:et(a.onSelect,()=>n==null?void 0:n(p1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});vV.displayName=Mde;var xV="MenuRadioGroup",[Fde,Lde]=Ef(xV,{value:void 0,onValueChange:()=>{}}),yV=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=Hn(n);return o.jsx(Fde,{scope:e.__scopeMenu,value:r,onValueChange:s,children:o.jsx(UA,{...a,ref:t})})});yV.displayName=xV;var wV="MenuRadioItem",bV=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=Lde(wV,e.__scopeMenu),s=r===a.value;return o.jsx(_V,{scope:e.__scopeMenu,checked:s,children:o.jsx(T_,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":zA(s),onSelect:et(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});bV.displayName=wV;var VA="MenuItemIndicator",[_V,$de]=Ef(VA,{checked:!1}),SV=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=$de(VA,r);return o.jsx(La,{present:n||p1(s.checked)||s.checked===!0,children:o.jsx(ut.span,{...a,ref:t,"data-state":zA(s.checked)})})});SV.displayName=VA;var Bde="MenuSeparator",jV=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(ut.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});jV.displayName=Bde;var Ude="MenuArrow",kV=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=C_(r);return o.jsx(RA,{...a,...n,ref:t})});kV.displayName=Ude;var Vde="MenuSub",[yYe,NV]=Ef(Vde),R0="MenuSubTrigger",EV=x.forwardRef((e,t)=>{const r=Cf(R0,e.__scopeMenu),n=cx(R0,e.__scopeMenu),a=NV(R0,e.__scopeMenu),s=$A(R0,e.__scopeMenu),i=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(FA,{asChild:!0,...u,children:o.jsx(gV,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":AV(r.open),...e,ref:nc(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:et(e.onPointerMove,Jg(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:et(e.onPointerLeave,Jg(f=>{var p,g;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(g=r.content)==null?void 0:g.dataset.side,v=m==="right",y=v?-5:5,w=h[v?"left":"right"],b=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:w,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:w,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:et(e.onKeyDown,f=>{var p;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||_de[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});EV.displayName=R0;var CV="MenuSubContent",TV=x.forwardRef((e,t)=>{const r=fV(Mi,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Cf(Mi,e.__scopeMenu),i=cx(Mi,e.__scopeMenu),l=NV(CV,e.__scopeMenu),c=x.useRef(null),u=Wt(t,c);return o.jsx(Xg.Provider,{scope:e.__scopeMenu,children:o.jsx(La,{present:n||s.open,children:o.jsx(Xg.Slot,{scope:e.__scopeMenu,children:o.jsx(BA,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:et(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:et(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:et(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=Sde[i.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});TV.displayName=CV;function AV(e){return e?"open":"closed"}function p1(e){return e==="indeterminate"}function zA(e){return p1(e)?"indeterminate":e?"checked":"unchecked"}function zde(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Wde(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Hde(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=Wde(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function qde(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s],c=t[i],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Gde(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return qde(r,t)}function Jg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Kde=dV,Yde=FA,Xde=hV,Jde=mV,Qde=UA,Zde=pV,efe=T_,tfe=vV,rfe=yV,nfe=bV,afe=SV,sfe=jV,ife=kV,ofe=EV,lfe=TV,A_="DropdownMenu",[cfe,wYe]=fs(A_,[cV]),hs=cV(),[ufe,OV]=cfe(A_),PV=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,c=hs(t),u=x.useRef(null),[d,f]=ic({prop:a,defaultProp:s??!1,onChange:i,caller:A_});return o.jsx(ufe,{scope:t,triggerId:aa(),triggerRef:u,contentId:aa(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(Kde,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};PV.displayName=A_;var DV="DropdownMenuTrigger",RV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=OV(DV,r),i=hs(r);return o.jsx(Yde,{asChild:!0,...i,children:o.jsx(ut.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:nc(t,s.triggerRef),onPointerDown:et(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:et(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});RV.displayName=DV;var dfe="DropdownMenuPortal",IV=e=>{const{__scopeDropdownMenu:t,...r}=e,n=hs(t);return o.jsx(Xde,{...n,...r})};IV.displayName=dfe;var MV="DropdownMenuContent",FV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=OV(MV,r),s=hs(r),i=x.useRef(!1);return o.jsx(Jde,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:et(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:et(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FV.displayName=MV;var ffe="DropdownMenuGroup",hfe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return o.jsx(Qde,{...a,...n,ref:t})});hfe.displayName=ffe;var mfe="DropdownMenuLabel",LV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return o.jsx(Zde,{...a,...n,ref:t})});LV.displayName=mfe;var pfe="DropdownMenuItem",$V=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return o.jsx(efe,{...a,...n,ref:t})});$V.displayName=pfe;var gfe="DropdownMenuCheckboxItem",BV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return o.jsx(tfe,{...a,...n,ref:t})});BV.displayName=gfe;var vfe="DropdownMenuRadioGroup",xfe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return o.jsx(rfe,{...a,...n,ref:t})});xfe.displayName=vfe;var yfe="DropdownMenuRadioItem",UV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return o.jsx(nfe,{...a,...n,ref:t})});UV.displayName=yfe;var wfe="DropdownMenuItemIndicator",VV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return o.jsx(afe,{...a,...n,ref:t})});VV.displayName=wfe;var bfe="DropdownMenuSeparator",zV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return o.jsx(sfe,{...a,...n,ref:t})});zV.displayName=bfe;var _fe="DropdownMenuArrow",Sfe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return o.jsx(ife,{...a,...n,ref:t})});Sfe.displayName=_fe;var jfe="DropdownMenuSubTrigger",WV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return o.jsx(ofe,{...a,...n,ref:t})});WV.displayName=jfe;var kfe="DropdownMenuSubContent",HV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return o.jsx(lfe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});HV.displayName=kfe;var Nfe=PV,Efe=RV,Cfe=IV,qV=FV,GV=LV,KV=$V,YV=BV,XV=UV,JV=VV,QV=zV,ZV=WV,ez=HV;const WA=Nfe,HA=Efe,Tfe=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>o.jsxs(ZV,{ref:a,className:je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(f_,{className:"ml-auto h-4 w-4"})]}));Tfe.displayName=ZV.displayName;const Afe=x.forwardRef(({className:e,...t},r)=>o.jsx(ez,{ref:r,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Afe.displayName=ez.displayName;const O_=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(Cfe,{children:o.jsx(qV,{ref:n,sideOffset:t,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));O_.displayName=qV.displayName;const Fl=x.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(KV,{ref:n,className:je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Fl.displayName=KV.displayName;const Ofe=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>o.jsxs(YV,{ref:a,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(JV,{children:o.jsx(xA,{className:"h-4 w-4"})})}),t]}));Ofe.displayName=YV.displayName;const Pfe=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(XV,{ref:n,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(JV,{children:o.jsx(Eoe,{className:"h-2 w-2 fill-current"})})}),t]}));Pfe.displayName=XV.displayName;const Dfe=x.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(GV,{ref:n,className:je("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Dfe.displayName=GV.displayName;const JN=x.forwardRef(({className:e,...t},r)=>o.jsx(QV,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",e),...t}));JN.displayName=QV.displayName;var P_="Dialog",[tz,rz]=fs(P_),[Rfe,Ro]=tz(P_),nz=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=ic({prop:n,defaultProp:a??!1,onChange:s,caller:P_});return o.jsx(Rfe,{scope:t,triggerRef:l,contentRef:c,contentId:aa(),titleId:aa(),descriptionId:aa(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};nz.displayName=P_;var az="DialogTrigger",sz=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ro(az,r),s=Wt(t,a.triggerRef);return o.jsx(ut.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":KA(a.open),...n,ref:s,onClick:et(e.onClick,a.onOpenToggle)})});sz.displayName=az;var qA="DialogPortal",[Ife,iz]=tz(qA,{forceMount:void 0}),oz=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Ro(qA,t);return o.jsx(Ife,{scope:t,forceMount:r,children:x.Children.map(n,i=>o.jsx(La,{present:r||s.open,children:o.jsx(sx,{asChild:!0,container:a,children:i})}))})};oz.displayName=qA;var g1="DialogOverlay",lz=x.forwardRef((e,t)=>{const r=iz(g1,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Ro(g1,e.__scopeDialog);return s.modal?o.jsx(La,{present:n||s.open,children:o.jsx(Ffe,{...a,ref:t})}):null});lz.displayName=g1;var Mfe=Cu("DialogOverlay.RemoveScroll"),Ffe=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ro(g1,r);return o.jsx(ix,{as:Mfe,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(ut.div,{"data-state":KA(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),af="DialogContent",cz=x.forwardRef((e,t)=>{const r=iz(af,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Ro(af,e.__scopeDialog);return o.jsx(La,{present:n||s.open,children:s.modal?o.jsx(Lfe,{...a,ref:t}):o.jsx($fe,{...a,ref:t})})});cz.displayName=af;var Lfe=x.forwardRef((e,t)=>{const r=Ro(af,e.__scopeDialog),n=x.useRef(null),a=Wt(t,r.contentRef,n);return x.useEffect(()=>{const s=n.current;if(s)return __(s)},[]),o.jsx(uz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&s.preventDefault()}),onFocusOutside:et(e.onFocusOutside,s=>s.preventDefault())})}),$fe=x.forwardRef((e,t)=>{const r=Ro(af,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return o.jsx(uz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),uz=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...i}=e,l=Ro(af,r),c=x.useRef(null),u=Wt(t,c);return v_(),o.jsxs(o.Fragment,{children:[o.jsx(nx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(rx,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":KA(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Ufe,{titleId:l.titleId}),o.jsx(zfe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),GA="DialogTitle",dz=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ro(GA,r);return o.jsx(ut.h2,{id:a.titleId,...n,ref:t})});dz.displayName=GA;var fz="DialogDescription",hz=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ro(fz,r);return o.jsx(ut.p,{id:a.descriptionId,...n,ref:t})});hz.displayName=fz;var mz="DialogClose",pz=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ro(mz,r);return o.jsx(ut.button,{type:"button",...n,ref:t,onClick:et(e.onClick,()=>a.onOpenChange(!1))})});pz.displayName=mz;function KA(e){return e?"open":"closed"}var gz="DialogTitleWarning",[Bfe,vz]=Xoe(gz,{contentName:af,titleName:GA,docsSlug:"dialog"}),Ufe=({titleId:e})=>{const t=vz(gz),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Vfe="DialogDescriptionWarning",zfe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vz(Vfe).contentName}}.`;return x.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},D_=nz,YA=sz,R_=oz,Ep=lz,Cp=cz,ux=dz,dx=hz,I_=pz;const bn=D_,Th=YA,Wfe=R_,xz=x.forwardRef(({className:e,...t},r)=>o.jsx(Ep,{ref:r,className:je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));xz.displayName=Ep.displayName;const on=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Wfe,{children:[o.jsx(xz,{}),o.jsxs(Cp,{ref:n,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-xl",e),...r,children:[t,o.jsxs(I_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Ii,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));on.displayName=Cp.displayName;const ln=({className:e,...t})=>o.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ln.displayName="DialogHeader";const Ia=({className:e,...t})=>o.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ia.displayName="DialogFooter";const cn=x.forwardRef(({className:e,...t},r)=>o.jsx(ux,{ref:r,className:je("text-lg font-semibold leading-none tracking-tight",e),...t}));cn.displayName=ux.displayName;const Ma=x.forwardRef(({className:e,...t},r)=>o.jsx(dx,{ref:r,className:je("text-sm text-muted-foreground",e),...t}));Ma.displayName=dx.displayName;function Hfe({onToggleSidebar:e}){var _,S,k;const{breadcrumbs:t}=u_(),{user:r,signOut:n}=vr(),{t:a}=qt(),s=Fs(),{setTheme:i}=wie(),[l,c]=x.useState(!1),[u,d]=x.useState(""),[f,h]=x.useState(""),[p,g]=x.useState(""),[m,v]=x.useState(!1),y=async()=>{try{await n(),s("/login")}catch(j){console.error("Logout failed:",j),s("/login")}},w=()=>{c(!0)},b=async j=>{if(j.preventDefault(),!m){if(!u.trim()){g(a("settings.newPasswordRequired"));return}if(u.length<6){g(a("settings.passwordTooShort"));return}if(u!==f){g(a("settings.passwordsDoNotMatch"));return}g(""),v(!0);try{const{error:E}=await ve.auth.updateUser({password:u});if(E)throw E;c(!1),d(""),h(""),alert(a("settings.passwordChangedSuccessfully"))}catch(E){console.error("Password change failed:",E),g(E.message||a("settings.passwordChangeFailed"))}finally{v(!1)}}};return o.jsxs("header",{className:"border-b bg-background/80 backdrop-blur-md sticky top-0 z-50 shadow-sm",children:[o.jsxs("div",{className:"h-16 flex items-center px-4 md:px-6 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:e,className:"text-foreground hover:bg-accent hover:text-accent-foreground p-2 rounded-lg transition-all","aria-label":"Toggle sidebar",children:o.jsx(Moe,{className:"h-5 w-5"})}),t&&t.length>0&&o.jsx("div",{className:"hidden md:block",children:o.jsx(ale,{items:t})})]}),o.jsx("div",{className:"hidden md:flex flex-1 max-w-md",children:o.jsxs("div",{className:"relative w-full",children:[o.jsx(vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(qe,{type:"search",placeholder:a("common.search","Search..."),className:"pl-10 pr-4 h-9 bg-muted/50 border-0 focus-visible:ring-1"}),o.jsxs("kbd",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none hidden lg:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[o.jsx("span",{className:"text-xs",children:""}),"K"]})]})}),o.jsx("div",{className:"flex-1"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:ke((r==null?void 0:r.profile)||{},"user_name")||(r==null?void 0:r.email)}),o.jsx(eV,{}),o.jsxs("button",{className:"text-foreground hover:text-muted-foreground relative transition-colors",title:a("common.notifications"),children:[o.jsx(boe,{className:"h-5 w-5"}),o.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-primary flex items-center justify-center",children:o.jsx("span",{className:"h-2 w-2 rounded-full bg-primary-foreground"})}),o.jsx("span",{className:"sr-only",children:a("common.notifications")})]}),o.jsxs(WA,{children:[o.jsx(HA,{asChild:!0,children:o.jsxs(oe,{variant:"ghost",size:"icon",className:"h-9 w-9 hover:bg-accent",title:a("navigation.settings"),children:[o.jsxs(Qa,{className:"h-8 w-8",children:[o.jsx(Za,{src:(_=r==null?void 0:r.profile)==null?void 0:_.avatar}),o.jsx(es,{className:"bg-primary/10 text-primary font-semibold text-sm",children:(S=r==null?void 0:r.email)==null?void 0:S.charAt(0).toUpperCase()})]}),o.jsx("span",{className:"sr-only",children:a("navigation.settings")})]})}),o.jsxs(O_,{align:"end",className:"w-56",children:[o.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:o.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[o.jsx("p",{className:"font-medium text-sm",children:ke((r==null?void 0:r.profile)||{},"user_name")||((k=r==null?void 0:r.email)==null?void 0:k.split("@")[0])}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r==null?void 0:r.email})]})}),o.jsx(JN,{}),o.jsxs(Fl,{onClick:()=>i("light"),children:[o.jsx(Uoe,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:a("theme.light","Light")})]}),o.jsxs(Fl,{onClick:()=>i("dark"),children:[o.jsx(Loe,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:a("theme.dark","Dark")})]}),o.jsxs(Fl,{onClick:()=>i("system"),children:[o.jsx(E9,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:a("theme.system","System")})]}),o.jsx(JN,{}),o.jsxs(Fl,{onClick:w,children:[o.jsx(Roe,{className:"h-4 w-4 mr-2"}),a("settings.changePassword")]}),o.jsxs(Fl,{onClick:y,className:"text-destructive focus:text-destructive",children:[o.jsx(Hoe,{className:"h-4 w-4 mr-2"}),a("buttons.logout")]})]})]})]})]}),o.jsx(bn,{open:l,onOpenChange:c,children:o.jsxs(on,{className:"sm:max-w-[425px]",children:[o.jsxs(ln,{children:[o.jsx(cn,{children:a("settings.changePassword")}),o.jsx(Ma,{children:a("settings.changePasswordDescription")})]}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[p&&o.jsx(Qd,{variant:"destructive",children:o.jsx(Zd,{children:p})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"newPassword",children:a("settings.newPassword")}),o.jsx(qe,{id:"newPassword",type:"password",value:u,onChange:j=>d(j.target.value),placeholder:a("settings.newPasswordPlaceholder"),required:!0,minLength:6})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"confirmPassword",children:a("settings.confirmPassword")}),o.jsx(qe,{id:"confirmPassword",type:"password",value:f,onChange:j=>h(j.target.value),placeholder:a("settings.confirmPasswordPlaceholder"),required:!0,minLength:6})]}),o.jsxs(Ia,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[o.jsx(oe,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:a("buttons.cancel")}),o.jsx(oe,{type:"submit",disabled:m||!u.trim()||!f.trim(),className:"w-full sm:w-auto",children:a(m?"settings.changingPassword":"settings.changePassword")})]})]})]})})]})}const oc=D_,XA=YA,qfe=R_,yz=x.forwardRef(({className:e,...t},r)=>o.jsx(Ep,{className:je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));yz.displayName=Ep.displayName;const Gfe=ex("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),dl=x.forwardRef(({side:e="right",className:t,children:r,...n},a)=>o.jsxs(qfe,{children:[o.jsx(yz,{}),o.jsxs(Cp,{ref:a,className:je(Gfe({side:e}),t),...n,children:[r,o.jsxs(I_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Ii,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dl.displayName=Cp.displayName;const Ou=({className:e,...t})=>o.jsx("div",{className:je("flex flex-col space-y-2 text-center sm:text-left",e),...t});Ou.displayName="SheetHeader";const wz=({className:e,...t})=>o.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});wz.displayName="SheetFooter";const lc=x.forwardRef(({className:e,...t},r)=>o.jsx(ux,{ref:r,className:je("text-lg font-semibold text-foreground",e),...t}));lc.displayName=ux.displayName;const M_=x.forwardRef(({className:e,...t},r)=>o.jsx(dx,{ref:r,className:je("text-sm text-muted-foreground",e),...t}));M_.displayName=dx.displayName;function En({children:e}){const[t,r]=x.useState(!0),[n,a]=x.useState(!1);x.useEffect(()=>{const l=()=>{a(window.innerWidth<1024),window.innerWidth<1024?r(!1):r(!0)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const s=()=>{r(!t)},i=()=>{n&&r(!1)};return o.jsxs("div",{className:"h-screen bg-background w-full flex flex-col",children:[o.jsx(Hfe,{onToggleSidebar:s}),o.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[!n&&o.jsx("aside",{className:je("bg-sidebar transition-all duration-300 ease-in-out hidden lg:block",t?"w-60":"w-0 overflow-hidden"),style:{height:"calc(100vh - 64px)"},children:o.jsx(xI,{onNavigate:i})}),n&&o.jsx(oc,{open:t,onOpenChange:r,children:o.jsxs(dl,{side:ii()?"right":"left",className:"p-0 w-60 [&>button]:hidden",children:[o.jsx(lc,{className:"sr-only",children:"Navigation Menu"}),o.jsx(M_,{className:"sr-only",children:"Application navigation sidebar"}),o.jsx(xI,{onNavigate:i})]})}),o.jsx("main",{className:"flex-1 overflow-y-auto bg-background pt-2",children:o.jsx("div",{className:"p-3 sm:p-4 md:p-6 w-full min-h-full",children:e})})]})]})}const ts={async getAll(){try{console.log("[stageService] Fetching all stages...");const{data:e,error:t}=await ve.from("stages").select("*").order("stager_order_index",{ascending:!0});if(t)throw console.error("[stageService] Error fetching stages:",t),t;return console.log(`[stageService] Successfully fetched ${(e==null?void 0:e.length)||0} stages`),e||[]}catch(e){throw console.error("[stageService] Failed to fetch stages:",e),e}},async getGlobalStages(){try{console.log("[stageService] Fetching global stages...");const{data:e,error:t}=await ve.from("stages").select("*").order("stager_order_index",{ascending:!0});if(t)throw console.error("[stageService] Error fetching global stages:",t),t;return console.log(`[stageService] Successfully fetched ${(e==null?void 0:e.length)||0} global stages`),e||[]}catch(e){throw console.error("[stageService] Failed to fetch global stages:",e),e}},async getByType(e){try{console.log(`[stageService] Fetching stages for type: ${e}...`);const{data:t,error:r}=await ve.from("stages").select("*").eq("stage_type",e).order("stager_order_index",{ascending:!0});if(r)throw console.error(`[stageService] Error fetching ${e} stages: `,r),r;return console.log(`[stageService] Successfully fetched ${(t==null?void 0:t.length)||0} ${e} stages`),t||[]}catch(t){throw console.error(`[stageService] Failed to fetch ${e} stages: `,t),t}},async create(e){try{const{data:t}=await ve.from("stages").select("stager_order_index").order("stager_order_index",{ascending:!1}).limit(1),r=t&&t.length>0?t[0].stager_order_index:-1,n=e.stager_order_index??r+1,a={stage_name:e.stage_name,stage_name_ar:e.stage_name_ar||null,stage_type:e.stage_type,stager_order_index:n,color:e.color,color_var:e.color_var},{data:s,error:i}=await ve.from("stages").insert(a).select().single();if(i)throw i;return s}catch(t){throw console.error("[stageService] Failed to create stage:",t),t}},async update(e,t){try{const r=$i(t,{stage_name:"stage_name"}),{error:n}=await ve.from("stages").update(r).eq("stage_id",e);if(n)throw n}catch(r){throw console.error("[stageService] Failed to update stage:",r),r}},async delete(e){try{const{error:t}=await ve.from("stages").delete().eq("stage_id",e);if(t)throw t}catch(t){throw console.error("[stageService] Failed to delete stage:",t),t}}},Pa={async getAll(){try{console.log("[userService] Fetching all users...");const{data:e,error:t}=await ve.from("users").select("*");if(t)throw t;return console.log(`[userService] Successfully fetched ${(e==null?void 0:e.length)||0} users`),e||[]}catch(e){throw console.error("[userService] Failed to fetch users:",e),e}},async getById(e){try{const{data:t,error:r}=await ve.from("users").select("*").eq("user_id",e).single();return r?null:t}catch(t){return console.error("[userService] Failed to fetch user:",t),null}},async getByAuthId(e){try{const{data:t,error:r}=await ve.from("users").select("*").eq("auth_user_id",e).single();return r?null:t}catch(t){return console.error("[userService] Failed to fetch user by auth ID:",t),null}},async update(e,t){try{const r={};t.user_name!==void 0&&(r.user_name=t.user_name),t.user_name_ar!==void 0&&(r.user_name_ar=t.user_name_ar),t.user_email!==void 0&&(r.user_email=t.user_email),t.user_role!==void 0&&(r.user_role=t.user_role),t.avatar!==void 0&&(r.avatar=t.avatar),t.client_contact!==void 0&&(r.client_contact=t.client_contact),t.company_name!==void 0&&(r.company_name=t.company_name),t.company_name_ar!==void 0&&(r.company_name_ar=t.company_name_ar);const{error:n}=await ve.from("users").update(r).eq("user_id",e);if(n)throw n;console.log(`[userService] Successfully updated user ${e} `)}catch(r){throw console.error("[userService] Failed to update user:",r),r}}},JA={async getAll(){try{console.log("[clientService] Fetching all clients...");const{data:e,error:t}=await ve.from("users").select("*").eq("user_role","client");if(t)throw t;return console.log(`[clientService] Successfully fetched ${(e==null?void 0:e.length)||0} clients`),e||[]}catch(e){throw console.error("[clientService] Failed to fetch clients:",e),e}},async getById(e){try{const{data:t,error:r}=await ve.from("users").select("*").eq("user_id",e).eq("user_role","client").single();return r?null:t}catch(t){return console.error("[clientService] Failed to fetch client:",t),null}},async create(e){try{const t=$i({user_name:e.user_name,user_email:e.user_email,user_role:"client",avatar:e.avatar,client_contact:e.client_contact,company_name:e.company_name},{user_name:"user_name",company_name:"company_name"}),{data:r,error:n}=await ve.from("users").insert(t).select().single();if(n)throw n;return r}catch(t){throw console.error("[clientService] Failed to create client:",t),t}}},Go={async getAll(){try{console.log("[projectService] Fetching all projects...");const{data:e,error:t}=await ve.from("projects").select("*").order("created_date",{ascending:!1});if(t)throw t;return console.log(`[projectService] Successfully fetched ${(e==null?void 0:e.length)||0} projects`),e||[]}catch(e){throw console.error("[projectService] Failed to fetch projects:",e),e}},async getById(e){try{const{data:t,error:r}=await ve.from("projects").select("*").eq("project_id",e).single();return r?null:t}catch(t){return console.error("[projectService] Failed to fetch project:",t),null}},async create(e){try{const{data:t,error:r}=await ve.from("projects").insert({project_name:e.project_name,project_description:e.project_description,created_by:e.created_by,progress:e.progress||0,stage:e.stage,end_date:e.end_date}).select().single();if(r)throw r;return t}catch(t){throw console.error("[projectService] Failed to create project:",t),t}},async update(e,t){try{const r={};t.project_name&&(r.project_name=t.project_name),t.project_description!==void 0&&(r.project_description=t.project_description),t.progress!==void 0&&(r.progress=t.progress),t.stage!==void 0&&(r.stage=t.stage),t.end_date!==void 0&&(r.end_date=t.end_date);const{error:n}=await ve.from("projects").update(r).eq("project_id",e);if(n)throw n}catch(r){throw console.error("[projectService] Failed to update project:",r),r}},async delete(e){try{const{error:t}=await ve.from("projects").delete().eq("project_id",e);if(t)throw t}catch(t){throw console.error("[projectService] Failed to delete project:",t),t}},async getByUserAuthId(e){try{console.log("[projectService] Fetching projects for user:",e);const{data:t,error:r}=await ve.from("project_users").select(`
project_id,
  projects(
    project_id,
    project_name,
    project_description,
    created_date,
    created_by,
    progress,
    stage,
    end_date,
    updated_at
  )
    `).eq("auth_user_id",e);if(r)throw r;const n=(t==null?void 0:t.map(a=>a.projects).filter(Boolean))||[];return console.log(`[projectService] Successfully fetched ${n.length} projects for user`),n}catch(t){throw console.error("[projectService] Failed to fetch projects for user:",t),t}}},iu={async getAll(){try{console.log("[taskService] Fetching all tasks...");const{data:e,error:t}=await ve.from("tasks").select("*").order("created_at",{ascending:!1});if(t)throw t;return console.log(`[taskService] Successfully fetched ${(e==null?void 0:e.length)||0} tasks`),e||[]}catch(e){throw console.error("[taskService] Failed to fetch tasks:",e),e}},async getByStage(e){try{const{data:t,error:r}=await ve.from("tasks").select("*").eq("stage_id",e);if(r)throw r;return t||[]}catch(t){throw console.error("[taskService] Failed to fetch tasks:",t),t}},async create(e){try{const t=$i({task_name:e.task_name,stage_id:e.stage_id,assigned_to:e.assigned_to,task_status:e.task_status,due_date:e.due_date,description:e.description,auth_user_id:e.auth_user_id},{task_name:"task_name",description:"description"}),{data:r,error:n}=await ve.from("tasks").insert(t).select().single();if(n)throw n;return r}catch(t){throw console.error("[taskService] Failed to create task:",t),t}},async update(e,t){try{const r=$i(t,{task_name:"task_name",description:"description"}),{error:n}=await ve.from("tasks").update(r).eq("task_id",e);if(n)throw n}catch(r){throw console.error("[taskService] Failed to update task:",r),r}},async delete(e){try{const{error:t}=await ve.from("tasks").delete().eq("task_id",e);if(t)throw t}catch(t){throw console.error("[taskService] Failed to delete task:",t),t}}},QN={async getByTask(e){try{const{data:t,error:r}=await ve.from("comments").select("*").eq("task_id",e).order("created_date",{ascending:!0});if(r)throw r;return t||[]}catch(t){throw console.error("[commentService] Failed to fetch comments:",t),t}},async create(e){try{const{data:t,error:r}=await ve.from("comments").insert({task_id:e.task_id,auth_user_id:e.auth_user_id,message:e.message}).select().single();if(r)throw r;return t}catch(t){throw console.error("[commentService] Failed to create comment:",t),t}}},ro={async getUserRooms(e){const{data:t,error:r}=await ve.from("room_members").select("room_id").eq("auth_user_id",e);if(r)throw r;if(!t||t.length===0)return[];const n=t.map(i=>i.room_id),{data:a,error:s}=await ve.from("rooms").select("*").in("room_id",n);if(s)throw s;return a||[]},async createRoom(e){let t=e.created_by;if(!t||t===0){const{data:a}=await ve.from("users").select("user_id").eq("auth_user_id",e.auth_user_id).single();a&&(t=a.user_id)}const{data:r,error:n}=await ve.from("rooms").insert({room_name:e.name,is_private:e.is_private??!0,project_id:e.project_id,created_by:t,auth_user_id:e.auth_user_id}).select().single();if(n)throw n;return r},async addMember(e,t){const{error:r}=await ve.from("room_members").insert({room_id:e,auth_user_id:t});if(r)throw r},async getRoomMembers(e){const{data:t,error:r}=await ve.from("room_members").select(`
auth_user_id,
  users(*)
    `).eq("room_id",e);if(r)throw r;return!t||t.length===0?[]:t.map(n=>n.users).filter(Boolean)},async markAsRead(e,t){const{error:r}=await ve.from("room_members").update({last_read_at:new Date().toISOString()}).eq("room_id",e).eq("auth_user_id",t);r&&console.error("[roomService] Failed to mark room as read:",r)}},VI={async getProjectUsers(e){try{console.log("[projectUserService] Fetching users for project:",e);const{data:t,error:r}=await ve.from("project_users").select(`
auth_user_id,
  users(
    user_id,
    user_name,
    user_email,
    user_role,
    avatar,
    auth_user_id,
    client_contact,
    company_name,
    created_at,
    updated_at
  )
    `).eq("project_id",e);if(r)throw r;const n=(t==null?void 0:t.map(a=>a.users).filter(Boolean))||[];return console.log(`[projectUserService] Found ${n.length} users for project ${e}`),n}catch(t){throw console.error("[projectUserService] Failed to fetch project users:",t),t}},async addUserToProject(e,t){try{console.log("[projectUserService] Adding user",t,"to project",e);const{error:r}=await ve.from("project_users").insert({project_id:e,user_id:t});if(r)throw r;console.log("[projectUserService] Successfully added user to project")}catch(r){throw console.error("[projectUserService] Failed to add user to project:",r),r}},async removeUserFromProject(e,t){try{console.log("[projectUserService] Removing user",t,"from project",e);const{error:r}=await ve.from("project_users").delete().eq("project_id",e).eq("user_id",t);if(r)throw r;console.log("[projectUserService] Successfully removed user from project")}catch(r){throw console.error("[projectUserService] Failed to remove user from project:",r),r}}},Qf={async getAll(){try{console.log("[teamService] Fetching all teams...");const{data:e,error:t}=await ve.from("teams").select("*").order("created_at",{ascending:!1});if(t)throw t;return console.log(`[teamService] Successfully fetched ${(e==null?void 0:e.length)||0} teams`),e||[]}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getAllWithMembers(){try{console.log("[teamService] Fetching all teams with members...");const{data:e,error:t}=await ve.from("teams").select(`
team_id,
  team_name,
  team_name_ar,
  partner_id,
  auth_user_id,
  team_leader_id,
  created_at
    `).order("created_at",{ascending:!1});if(t)throw t;if(!e||e.length===0)return[];const r=e.map(l=>l.team_id),{data:n,error:a}=await ve.from("team_members").select(`
team_id,
  auth_user_id,
  joined_at
    `).in("team_id",r);if(a)throw a;const s=(n||[]).reduce((l,c)=>(l[c.team_id]||(l[c.team_id]=[]),l[c.team_id].push({auth_user_id:c.auth_user_id,joined_at:c.joined_at}),l),{}),i=e.map(l=>({...l,team_members:s[l.team_id]||[]}));return console.log(`[teamService] Successfully fetched ${i.length} teams with members`),i}catch(e){throw console.error("[teamService] Failed to fetch teams with members:",e),e}},async getAllTeamMembers(){try{console.log("[teamService] Fetching all team members with user details...");const{data:e,error:t}=await ve.from("team_members").select(`
          team_id,
  users(
    user_id,
    user_name,
    user_email,
    user_role,
    avatar,
    auth_user_id,
    client_contact,
    company_name,
    created_at,
    updated_at
  )
    `);if(t)throw t;const r=(e||[]).reduce((n,a)=>{const s=a.team_id;return n[s]||(n[s]=[]),n[s].push(a.users),n},{});return console.log(`[teamService] Successfully fetched members for ${Object.keys(r).length} teams`),r}catch(e){throw console.error("[teamService] Failed to fetch all team members:",e),e}},async getById(e){try{const{data:t,error:r}=await ve.from("teams").select("*").eq("team_id",e).single();return r?null:t}catch(t){return console.error("[teamService] Failed to fetch team:",t),null}},async create(e){try{const{data:t,error:r}=await ve.from("teams").insert(e).select().single();if(r)throw r;if(t)try{let n=0;if(e.auth_user_id){const{data:s}=await ve.from("users").select("user_id").eq("auth_user_id",e.auth_user_id).single();s&&(n=s.user_id)}const{error:a}=await ve.from("rooms").insert({room_name:`General - ${t.team_name}`,is_private:!1,team_id:t.team_id,created_by:n,auth_user_id:e.auth_user_id||null});a&&console.error("[teamService] Failed to create default room for team:",a)}catch(n){console.error("[teamService] Error creating default room:",n)}return t}catch(t){throw console.error("[teamService] Failed to create team:",t),t}},async update(e,t){try{const r=$i(t,{team_name:"team_name"}),{error:n}=await ve.from("teams").update(r).eq("team_id",e);if(n)throw n}catch(r){throw console.error("[teamService] Failed to update team:",r),r}},async delete(e){try{const{error:t}=await ve.from("teams").delete().eq("team_id",e);if(t)throw t}catch(t){throw console.error("[teamService] Failed to delete team:",t),t}},async getTeamMembers(e){try{console.log("[teamService] Fetching members for team:",e);const{data:t,error:r}=await ve.from("team_members").select(`
auth_user_id,
  users!auth_user_id(
    user_id,
    user_name,
    user_email,
    user_role,
    avatar,
    auth_user_id,
    client_contact,
    company_name,
    created_at,
    updated_at
  )
    `).eq("team_id",e);if(r)throw r;const n=(t==null?void 0:t.map(a=>a.users).filter(Boolean))||[];return console.log(`[teamService] Found ${n.length} members for team ${e}`),n}catch(t){throw console.error("[teamService] Failed to fetch team members:",t),t}},async addMember(e,t){try{console.log("[teamService] Adding member",t,"to team",e);const{error:r}=await ve.from("team_members").insert({team_id:e,auth_user_id:t});if(r)throw r;console.log("[teamService] Successfully added member to team")}catch(r){throw console.error("[teamService] Failed to add member to team:",r),r}},async removeMember(e,t){try{console.log("[teamService] Removing member",t,"from team",e);const{error:r}=await ve.from("team_members").delete().eq("team_id",e).eq("auth_user_id",t);if(r)throw r;console.log("[teamService] Successfully removed member from team")}catch(r){throw console.error("[teamService] Failed to remove member from team:",r),r}}},u0={async getAll(){try{console.log("[ticketService] Fetching all tickets...");const{data:e,error:t}=await ve.from("tickets").select("*").order("created_date",{ascending:!1});if(t)throw t;return console.log(`[ticketService] Successfully fetched ${(e==null?void 0:e.length)||0} tickets`),e||[]}catch(e){throw console.error("[ticketService] Failed to fetch tickets:",e),e}},async getById(e){try{const{data:t,error:r}=await ve.from("tickets").select("*").eq("ticket_id",e).single();return r?null:t}catch(t){return console.error("[ticketService] Failed to fetch ticket:",t),null}},async create(e){try{const{data:t,error:r}=await ve.from("tickets").insert({created_by:e.created_by,assigned_to:e.assigned_to,subject:e.subject,description:e.description,priority:e.priority,ticket_type:e.ticket_type,stage_id:e.stage_id,status:e.status,created_by_auth_user_id:e.created_by_auth_user_id,assigned_to_auth_user_id:e.assigned_to_auth_user_id,auth_user_id:e.auth_user_id,resolved_date:e.resolved_date,closed_at:e.closed_at,closed_by:e.closed_by,room_id:e.room_id,task_id:e.task_id}).select().single();if(r)throw r;return t}catch(t){throw console.error("[ticketService] Failed to create ticket:",t),t}},async update(e,t){try{const r={};t.created_by!==void 0&&(r.created_by=t.created_by),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.subject!==void 0&&(r.subject=t.subject),t.description!==void 0&&(r.description=t.description),t.priority!==void 0&&(r.priority=t.priority),t.ticket_type!==void 0&&(r.ticket_type=t.ticket_type),t.stage_id!==void 0&&(r.stage_id=t.stage_id),t.resolved_date!==void 0&&(r.resolved_date=t.resolved_date),t.closed_at!==void 0&&(r.closed_at=t.closed_at),t.closed_by!==void 0&&(r.closed_by=t.closed_by),t.room_id!==void 0&&(r.room_id=t.room_id),t.task_id!==void 0&&(r.task_id=t.task_id),t.assigned_to_auth_user_id!==void 0&&(r.assigned_to_auth_user_id=t.assigned_to_auth_user_id),t.auth_user_id!==void 0&&(r.auth_user_id=t.auth_user_id),t.status!==void 0&&(r.status=t.status),r.updated_at=new Date().toISOString();const{error:n}=await ve.from("tickets").update(r).eq("ticket_id",e);if(n)throw n}catch(r){throw console.error("[ticketService] Failed to update ticket:",r),r}},async moveToStage(e,t){try{console.log(`[ticketService] Moving ticket ${e} to stage ${t}`);const{error:r}=await ve.from("tickets").update({stage_id:t}).eq("ticket_id",e);if(r)throw r;console.log("[ticketService] Successfully moved ticket to stage")}catch(r){throw console.error("[ticketService] Failed to move ticket to stage:",r),r}},async delete(e){try{const{error:t}=await ve.from("tickets").delete().eq("ticket_id",e);if(t)throw t}catch(t){throw console.error("[ticketService] Failed to delete ticket:",t),t}}},Ah={async getByRoom(e,t){try{let r=ve.from("messages").select(`
  *,
  sender: users!auth_user_id(
    user_id,
    user_name,
    avatar,
    auth_user_id
  )
    `).eq("room_id",e).order("created_at",{ascending:!1});t!=null&&t.limit&&(r=r.limit(t.limit)),t!=null&&t.before&&(r=r.lt("created_at",t.before));const{data:n,error:a}=await r;if(a)throw a;return(n||[]).reverse()}catch(r){throw console.error("[messageService] Failed to fetch messages:",r),r}},async create(e){try{const{data:t,error:r}=await ve.from("messages").insert(e).select().single();if(r)throw r;return t}catch(t){throw console.error("[messageService] Failed to create message:",t),t}},async update(e,t){try{const{error:r}=await ve.from("messages").update({content:t,is_edited:!0}).eq("message_id",e);if(r)throw r}catch(r){throw console.error("[messageService] Failed to update message:",r),r}},async delete(e){try{const{error:t}=await ve.from("messages").delete().eq("message_id",e);if(t)throw t}catch(t){throw console.error("[messageService] Failed to delete message:",t),t}},async uploadAttachment(e){try{const t=e.name.split(".").pop(),n=`${`${Math.random().toString(36).substring(2)}_${Date.now()}.${t}`}`,{error:a}=await ve.storage.from("chat-attachments").upload(n,e);if(a)throw a;const{data:s}=ve.storage.from("chat-attachments").getPublicUrl(n);return s.publicUrl}catch(t){throw console.error("[messageService] Failed to upload attachment:",t),t}}},Ll={async getAll(){try{console.log("[leadService] Fetching all leads...");const{data:e,error:t}=await ve.from("leads").select("*").order("created_date",{ascending:!1});if(t)throw t;return console.log(`[leadService] Successfully fetched ${(e==null?void 0:e.length)||0} leads`),e||[]}catch(e){throw console.error("[leadService] Failed to fetch leads:",e),e}},async getById(e){try{const{data:t,error:r}=await ve.from("leads").select("*").eq("lead_id",e).single();return r?null:t}catch(t){return console.error("[leadService] Failed to fetch lead:",t),null}},async create(e){try{const{data:t,error:r}=await ve.from("leads").insert({lead_name:e.lead_name,lead_description:e.lead_description,client_name:e.client_name,client_user_id:e.client_user_id,created_by:e.created_by,stage:e.stage,assigned_to:e.assigned_to,assigned_at:e.assigned_at,value:e.value||0,currency:e.currency||"SAR"}).select().single();if(r)throw r;return t}catch(t){throw console.error("[leadService] Failed to create lead:",t),t}},async update(e,t){try{const r={};t.lead_name&&(r.lead_name=t.lead_name),t.lead_description!==void 0&&(r.lead_description=t.lead_description),t.client_name&&(r.client_name=t.client_name),t.client_user_id&&(r.client_user_id=t.client_user_id),t.stage!==void 0&&(r.stage=t.stage),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.assigned_at!==void 0&&(r.assigned_at=t.assigned_at),t.value!==void 0&&(r.value=t.value),t.currency!==void 0&&(r.currency=t.currency);const{error:n}=await ve.from("leads").update(r).eq("lead_id",e);if(n)throw n}catch(r){throw console.error("[leadService] Failed to update lead:",r),r}},async delete(e){try{const{error:t}=await ve.from("leads").delete().eq("lead_id",e);if(t)throw t}catch(t){throw console.error("[leadService] Failed to delete lead:",t),t}}},Kh={async getByRelated(e,t){try{console.log(`[noteService] Fetching notes for ${e} ${t}...`);const{data:r,error:n}=await ve.from("notes").select(`
  *,
  user: created_by(
    user_id,
    user_name,
    user_name_ar,
    avatar
  )
    `).eq("related_to_type",e).eq("related_to_id",t).order("created_at",{ascending:!1});if(n)throw n;return console.log(`[noteService] Successfully fetched ${(r==null?void 0:r.length)||0} notes`),r||[]}catch(r){throw console.error("[noteService] Failed to fetch notes:",r),r}},async create(e){try{const{data:t,error:r}=await ve.from("notes").insert({content:e.content,related_to_type:e.related_to_type,related_to_id:e.related_to_id,created_by:e.created_by}).select().single();if(r)throw r;return console.log("[noteService] Successfully created note"),t}catch(t){throw console.error("[noteService] Failed to create note:",t),t}},async update(e,t){try{const{error:r}=await ve.from("notes").update({content:t,updated_at:new Date().toISOString()}).eq("note_id",e);if(r)throw r;console.log("[noteService] Successfully updated note")}catch(r){throw console.error("[noteService] Failed to update note:",r),r}},async delete(e){try{const{error:t}=await ve.from("notes").delete().eq("note_id",e);if(t)throw t;console.log("[noteService] Successfully deleted note")}catch(t){throw console.error("[noteService] Failed to delete note:",t),t}}},xi={async getAll(){try{console.log("[surveyTemplateService] Fetching all survey templates...");const{data:e,error:t}=await ve.from("survey_templates").select("*").order("created_at",{ascending:!1});if(t)throw t;return console.log(`[surveyTemplateService] Successfully fetched ${(e==null?void 0:e.length)||0} templates`),e||[]}catch(e){throw console.error("[surveyTemplateService] Failed to fetch templates:",e),e}},async getById(e){try{const{data:t,error:r}=await ve.from("survey_templates").select("*").eq("template_id",e).single();return r?null:t}catch(t){return console.error("[surveyTemplateService] Failed to fetch template:",t),null}},async create(e){try{const{data:t,error:r}=await ve.from("survey_templates").insert(e).select().single();if(r)throw r;return t}catch(t){throw console.error("[surveyTemplateService] Failed to create template:",t),t}},async update(e,t){try{const r={};t.template_name&&(r.template_name=t.template_name),t.template_name_ar&&(r.template_name_ar=t.template_name_ar),t.template_description!==void 0&&(r.template_description=t.template_description),t.template_description_ar!==void 0&&(r.template_description_ar=t.template_description_ar),t.category&&(r.category=t.category),t.is_active!==void 0&&(r.is_active=t.is_active),t.is_default!==void 0&&(r.is_default=t.is_default);const{error:n}=await ve.from("survey_templates").update(r).eq("template_id",e);if(n)throw n}catch(r){throw console.error("[surveyTemplateService] Failed to update template:",r),r}},async delete(e){try{const{error:t}=await ve.from("survey_templates").delete().eq("template_id",e);if(t)throw t}catch(t){throw console.error("[surveyTemplateService] Failed to delete template:",t),t}},async getFields(e){try{console.log("[surveyTemplateService] Fetching fields for template:",e);const{data:t,error:r}=await ve.from("survey_template_fields").select("*").eq("template_id",e).order("field_order",{ascending:!0});if(r)throw r;return console.log(`[surveyTemplateService] Successfully fetched ${(t==null?void 0:t.length)||0} fields`),t||[]}catch(t){throw console.error("[surveyTemplateService] Failed to fetch template fields:",t),t}},async createField(e){try{const{data:t,error:r}=await ve.from("survey_template_fields").insert(e).select().single();if(r)throw r;return t}catch(t){throw console.error("[surveyTemplateService] Failed to create field:",t),t}},async updateField(e,t){try{const r={};t.field_order!==void 0&&(r.field_order=t.field_order),t.field_type&&(r.field_type=t.field_type),t.field_label&&(r.field_label=t.field_label),t.field_label_ar&&(r.field_label_ar=t.field_label_ar),t.help_text!==void 0&&(r.help_text=t.help_text),t.help_text_ar!==void 0&&(r.help_text_ar=t.help_text_ar),t.is_required!==void 0&&(r.is_required=t.is_required),t.field_options!==void 0&&(r.field_options=t.field_options),t.validation_rules!==void 0&&(r.validation_rules=t.validation_rules),t.default_value!==void 0&&(r.default_value=t.default_value),t.conditional_logic!==void 0&&(r.conditional_logic=t.conditional_logic);const{error:n}=await ve.from("survey_template_fields").update(r).eq("field_id",e);if(n)throw n}catch(r){throw console.error("[surveyTemplateService] Failed to update field:",r),r}},async deleteField(e){try{const{error:t}=await ve.from("survey_template_fields").delete().eq("field_id",e);if(t)throw t}catch(t){throw console.error("[surveyTemplateService] Failed to delete field:",t),t}}},wd={async getAll(){try{console.log("[surveyService] Fetching all surveys...");const{data:e,error:t}=await ve.from("surveys").select("*").order("created_at",{ascending:!1});if(t)throw t;return console.log(`[surveyService] Successfully fetched ${(e==null?void 0:e.length)||0} surveys`),e||[]}catch(e){throw console.error("[surveyService] Failed to fetch surveys:",e),e}},async getById(e){try{const{data:t,error:r}=await ve.from("surveys").select("*").eq("survey_id",e).single();return r?null:t}catch(t){return console.error("[surveyService] Failed to fetch survey:",t),null}},async create(e){try{const{data:t,error:r}=await ve.from("surveys").insert(e).select().single();if(r)throw r;return t}catch(t){throw console.error("[surveyService] Failed to create survey:",t),t}},async createBatch(e){try{if(e.length===0)return[];console.log(`[surveyService] Batch creating ${e.length} surveys...`);const{data:t,error:r}=await ve.from("surveys").insert(e).select();if(r)throw r;return console.log(`[surveyService] Successfully batch created ${(t==null?void 0:t.length)||0} surveys`),t||[]}catch(t){throw console.error("[surveyService] Failed to batch create surveys:",t),t}},async update(e,t){try{const r={};t.template_id!==void 0&&(r.template_id=t.template_id),t.survey_name&&(r.survey_name=t.survey_name),t.survey_description!==void 0&&(r.survey_description=t.survey_description),t.client_name&&(r.client_name=t.client_name),t.client_name_ar&&(r.client_name_ar=t.client_name_ar),t.client_contact!==void 0&&(r.client_contact=t.client_contact),t.client_email&&(r.client_email=t.client_email),t.client_address&&(r.client_address=t.client_address),t.client_company&&(r.client_company=t.client_company),t.client_company_ar&&(r.client_company_ar=t.client_company_ar),t.survey_responses!==void 0&&(r.survey_responses=t.survey_responses),t.location_latitude!==void 0&&(r.location_latitude=t.location_latitude),t.location_longitude!==void 0&&(r.location_longitude=t.location_longitude),t.location_accuracy!==void 0&&(r.location_accuracy=t.location_accuracy),t.location_address&&(r.location_address=t.location_address),t.status&&(r.status=t.status),t.lead_id!==void 0&&(r.lead_id=t.lead_id),t.converted_to_lead_at!==void 0&&(r.converted_to_lead_at=t.converted_to_lead_at),t.device_info!==void 0&&(r.device_info=t.device_info),t.completion_time_seconds!==void 0&&(r.completion_time_seconds=t.completion_time_seconds),t.notes&&(r.notes=t.notes),t.notes_ar&&(r.notes_ar=t.notes_ar);const{error:n}=await ve.from("surveys").update(r).eq("survey_id",e);if(n)throw n}catch(r){throw console.error("[surveyService] Failed to update survey:",r),r}},async delete(e){try{const{error:t}=await ve.from("surveys").delete().eq("survey_id",e);if(t)throw t}catch(t){throw console.error("[surveyService] Failed to delete survey:",t),t}}},ik=1024;function ca(){const[e,t]=x.useState(void 0);return x.useEffect(()=>{const r=window.matchMedia(`(max-width: ${ik-1}px)`),n=()=>{t(window.innerWidth<ik)};return r.addEventListener("change",n),t(window.innerWidth<ik),()=>r.removeEventListener("change",n)},[]),!!e}const nt=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:je("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));nt.displayName="Card";const Ut=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:je("flex flex-col space-y-1.5 p-6",e),...t}));Ut.displayName="CardHeader";const tr=x.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:je("text-2xl font-semibold leading-none tracking-tight",e),...t}));tr.displayName="CardTitle";const Kfe=x.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:je("text-sm text-muted-foreground",e),...t}));Kfe.displayName="CardDescription";const ct=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:je("p-6 pt-0",e),...t}));ct.displayName="CardContent";const Yfe=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:je("flex items-center p-6 pt-0",e),...t}));Yfe.displayName="CardFooter";var QA="Progress",ZA=100,[Xfe,bYe]=fs(QA),[Jfe,Qfe]=Xfe(QA),bz=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=Zfe,...i}=e;(a||a===0)&&!zI(a)&&console.error(ehe(`${a}`,"Progress"));const l=zI(a)?a:ZA;n!==null&&!WI(n,l)&&console.error(the(`${n}`,"Progress"));const c=WI(n,l)?n:null,u=v1(c)?s(c,l):void 0;return o.jsx(Jfe,{scope:r,value:c,max:l,children:o.jsx(ut.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":v1(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":jz(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});bz.displayName=QA;var _z="ProgressIndicator",Sz=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=Qfe(_z,r);return o.jsx(ut.div,{"data-state":jz(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});Sz.displayName=_z;function Zfe(e,t){return`${Math.round(e/t*100)}%`}function jz(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function v1(e){return typeof e=="number"}function zI(e){return v1(e)&&!isNaN(e)&&e>0}function WI(e,t){return v1(e)&&!isNaN(e)&&e<=t&&e>=0}function ehe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ZA}\`.`}function the(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ZA} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var kz=bz,rhe=Sz;const cc=x.forwardRef(({className:e,value:t,...r},n)=>o.jsx(kz,{ref:n,className:je("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(rhe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));cc.displayName=kz.displayName;function Nz(){qt();const[e,t]=x.useState(new Date);x.useEffect(()=>{const a=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(a)},[]);const r=a=>a.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"short",day:"numeric"}),n=a=>a.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[o.jsx("div",{className:"text-lg font-mono font-semibold text-foreground",children:n(e)}),o.jsx("div",{className:"text-sm",children:r(e)})]})}function nhe(){const{t:e}=qt(),{currentLanguage:t,isRTL:r}=gi();ca();const[n,a]=x.useState([]),[s,i]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState([]),[p,g]=x.useState(!0),[m,v]=x.useState(null),{user:y,loading:w}=vr();console.log("[Dashboard] Rendering. Auth state:",{user:y?{id:y.id,email:y.email,role:y.role}:null,authLoading:w,hasUser:!!y,loading:p}),x.useEffect(()=>{console.log("[Dashboard] useEffect - User changed:",{hasUser:!!y,authLoading:w}),y&&!w&&(console.log("[Dashboard] User is authenticated, loading data..."),b())},[y,w]);const b=async()=>{console.log("[Dashboard] Starting to load data...");try{g(!0),v(null),console.log("[Dashboard] Fetching data...");const[L,H,z,M,I]=await Promise.all([Go.getAll().catch(U=>(console.error("[Dashboard] Error fetching projects:",U),[])),JA.getAll().catch(U=>(console.error("[Dashboard] Error fetching clients:",U),[])),Pa.getAll().catch(U=>(console.error("[Dashboard] Error fetching users:",U),[])),Ll.getAll().catch(U=>(console.error("[Dashboard] Error fetching leads:",U),[])),wd.getAll().catch(U=>(console.error("[Dashboard] Error fetching surveys:",U),[]))]);console.log("[Dashboard] Data fetched successfully:",{projects:L.length,clients:H.length,users:z.length,leads:M.length,surveys:I.length}),a(L),i(H),c(z),d(M),h(I)}catch(L){console.error("[Dashboard] Failed to load data:",L),v(L.message||"Failed to load data")}finally{console.log("[Dashboard] Data loading completed"),g(!1)}};if(p||w||!y)return o.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:e("common.loading")})]})});if(m)return o.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-600",children:e("common.error")}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:m}),o.jsx(oe,{onClick:b,className:"mt-4",children:"Retry"})]})});const _=n.length,S=n.filter(L=>L.progress===100).length,k=n.filter(L=>L.progress>0&&L.progress<100).length,j=n.filter(L=>L.progress===0).length,E=s.length,N=l.length,O=u.length,P=f.length,T=n.sort((L,H)=>new Date(H.created_date||"").getTime()-new Date(L.created_date||"").getTime()).slice(0,5);return o.jsxs("div",{className:"space-y-6 sm:space-y-8 bg-background p-4 rounded-md",dir:r?"rtl":"ltr",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:e("dashboard.title")}),o.jsx("p",{className:"text-muted-foreground mt-1 sm:mt-2 text-sm sm:text-base",children:e("dashboard.subtitle")})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Nz,{})})]}),o.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[o.jsxs(nt,{children:[o.jsxs(Ut,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(tr,{className:"text-xs sm:text-sm font-medium",children:e("dashboard.totalProjects")}),o.jsx(Voe,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),o.jsxs(ct,{children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:_}),o.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[S," ",e("dashboard.completed")]})]})]}),o.jsxs(nt,{children:[o.jsxs(Ut,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(tr,{className:"text-xs sm:text-sm font-medium",children:e("dashboard.inProgress")}),o.jsx(Aa,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),o.jsxs(ct,{children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:k}),o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e("dashboard.activeProjects")})]})]}),o.jsxs(nt,{children:[o.jsxs(Ut,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(tr,{className:"text-xs sm:text-sm font-medium",children:e("dashboard.clients")}),o.jsx(yn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),o.jsxs(ct,{children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:E}),o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e("dashboard.totalClients")})]})]}),o.jsxs(nt,{children:[o.jsxs(Ut,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(tr,{className:"text-xs sm:text-sm font-medium",children:e("dashboard.teamMembers")}),o.jsx(Aa,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),o.jsxs(ct,{children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:N}),o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e("dashboard.activeUsers")})]})]}),o.jsxs(nt,{children:[o.jsxs(Ut,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(tr,{className:"text-xs sm:text-sm font-medium",children:e("dashboard.leads")}),o.jsx(l1,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),o.jsxs(ct,{children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:O}),o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e("dashboard.totalLeads")})]})]}),o.jsxs(nt,{children:[o.jsxs(Ut,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(tr,{className:"text-xs sm:text-sm font-medium",children:e("dashboard.surveys")}),o.jsx(Ks,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),o.jsxs(ct,{children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:P}),o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e("dashboard.totalSurveys")})]})]})]}),o.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 md:grid-cols-2",children:[o.jsxs(nt,{children:[o.jsx(Ut,{children:o.jsx(tr,{className:"text-base sm:text-lg",children:e("dashboard.recentProjects")})}),o.jsx(ct,{className:"space-y-3 sm:space-y-4",children:T.length>0?T.map(L=>{const H=s.find(z=>z.auth_user_id===L.created_by);return o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[o.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium leading-none truncate",children:ke(L,"project_name")}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:H?ke(H,"user_name"):"No client"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cc,{value:L.progress,className:"w-16 sm:w-20 h-2"}),o.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground w-8",children:[L.progress,"%"]})]})]},L.project_id)}):o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("dashboard.noProjectsYet")})})]}),o.jsxs(nt,{children:[o.jsx(Ut,{children:o.jsx(tr,{className:"text-base sm:text-lg",children:e("dashboard.projectStatus")})}),o.jsxs(ct,{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-green-500"}),o.jsx("span",{className:"text-xs sm:text-sm",children:e("dashboard.completedStatus")})]}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:S})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-blue-500"}),o.jsx("span",{className:"text-xs sm:text-sm",children:e("dashboard.inProgressStatus")})]}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:k})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-gray-500"}),o.jsx("span",{className:"text-xs sm:text-sm",children:e("dashboard.notStartedStatus")})]}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:j})]})]})]})]})]})}const F_={users:["users"],projects:["projects"],tasks:["tasks"],stages:["stages"],globalStages:["stages","global"],clients:["clients"],teams:["teams"],teamMembers:["teams","members"],tickets:["tickets"],projectUsers:e=>["projects",e,"users"],comments:e=>["tasks",e,"comments"],rooms:e=>["rooms",e],messages:e=>["messages",e],userProjects:e=>["users",e,"projects"]},ahe=()=>s_({queryKey:F_.users,queryFn:Pa.getAll}),she=e=>s_({queryKey:F_.userProjects(e),queryFn:()=>Go.getByUserAuthId(e),enabled:!!e}),ihe=()=>s_({queryKey:F_.tasks,queryFn:iu.getAll}),ohe=()=>s_({queryKey:F_.globalStages,queryFn:ts.getGlobalStages}),lhe=ex("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function dt({className:e,variant:t,...r}){return o.jsx("div",{className:je(lhe({variant:t}),e),...r})}function che(){var E;const{t:e}=qt(),{isRTL:t}=gi();ca();const[r,n]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState(!0),[h,p]=x.useState(null),{user:g,loading:m}=vr(),{data:v=[],isLoading:y}=she((g==null?void 0:g.id)||"");x.useEffect(()=>{g&&!m&&w()},[g,m]);const w=async()=>{try{f(!0),p(null);const O=(await iu.getAll()).filter(H=>{var z;return H.assigned_to===((z=g==null?void 0:g.profile)==null?void 0:z.user_id)}),P=await Pa.getAll(),T=await Ll.getAll(),L=await wd.getAll().catch(H=>(console.error("[EmployeeDashboard] Error fetching surveys:",H),[]));n(O),s(P),l(T),u(L)}catch(N){console.error("Failed to load employee data:",N),p(N.message||"Failed to load data")}finally{f(!1)}};if(d||m||!g)return o.jsx("div",{className:"flex items-center justify-center flex-1",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:e("common.loading")})]})});if(h)return o.jsx("div",{className:"flex items-center justify-center flex-1",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-600",children:e("common.error")}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:h}),o.jsx(oe,{onClick:w,className:"mt-4",children:e("dashboard.retry")})]})});const b=r.filter(N=>N.task_status==="completed").length,_=r.filter(N=>N.task_status==="in_progress").length;r.filter(N=>N.task_status==="pending").length;const S=v.filter(N=>N.progress!==void 0&&N.progress<100).length,k=c.length,j=r.sort((N,O)=>new Date(O.created_at||"").getTime()-new Date(N.created_at||"").getTime()).slice(0,5);return o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:t?"rtl":"ltr",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:e("employeeDashboard.title")}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("employeeDashboard.subtitle",{name:ke(g.profile||{},"user_name")||g.email})})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Nz,{})})]}),o.jsxs(nt,{children:[o.jsx(Ut,{children:o.jsxs(tr,{className:"flex items-center gap-2",children:[o.jsx(os,{className:"h-5 w-5"}),e("employeeDashboard.employeeInfo")]})}),o.jsx(ct,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:e("employeeDashboard.name")}),o.jsx("p",{className:"font-medium",children:ke(g.profile||{},"user_name")||"N/A"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:e("employeeDashboard.email")}),o.jsx("p",{className:"font-medium",children:g.email})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:e("employeeDashboard.role")}),o.jsx(dt,{variant:"secondary",className:"capitalize",children:g.role})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:e("employeeDashboard.memberSince")}),o.jsx("p",{className:"font-medium",children:(E=g.profile)!=null&&E.created_at?new Date(g.profile.created_at).toLocaleDateString():"N/A"})]})]})})]}),o.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[o.jsxs(nt,{children:[o.jsxs(Ut,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(tr,{className:"text-sm font-medium",children:e("employeeDashboard.myProjects")}),o.jsx(Hh,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ct,{children:[o.jsx("div",{className:"text-2xl font-bold",children:v.length}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[S," ",e("employeeDashboard.active")]})]})]}),o.jsxs(nt,{children:[o.jsxs(Ut,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(tr,{className:"text-sm font-medium",children:e("employeeDashboard.myTasks")}),o.jsx(l1,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ct,{children:[o.jsx("div",{className:"text-2xl font-bold",children:r.length}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[b," ",e("employeeDashboard.completed")]})]})]}),o.jsxs(nt,{children:[o.jsxs(Ut,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(tr,{className:"text-sm font-medium",children:e("employeeDashboard.inProgress")}),o.jsx(yd,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ct,{children:[o.jsx("div",{className:"text-2xl font-bold",children:_}),o.jsx("p",{className:"text-xs text-muted-foreground",children:e("employeeDashboard.activeTasks")})]})]}),o.jsxs(nt,{children:[o.jsxs(Ut,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(tr,{className:"text-sm font-medium",children:e("employeeDashboard.completedTasks")}),o.jsx(su,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ct,{children:[o.jsx("div",{className:"text-2xl font-bold",children:b}),o.jsx("p",{className:"text-xs text-muted-foreground",children:e("employeeDashboard.finishedTasks")})]})]}),o.jsxs(nt,{children:[o.jsxs(Ut,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(tr,{className:"text-sm font-medium",children:e("employeeDashboard.leads")}),o.jsx(l1,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ct,{children:[o.jsx("div",{className:"text-2xl font-bold",children:i.length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:e("employeeDashboard.totalLeads")})]})]}),o.jsxs(nt,{children:[o.jsxs(Ut,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(tr,{className:"text-sm font-medium",children:e("employeeDashboard.surveys")}),o.jsx(Ks,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ct,{children:[o.jsx("div",{className:"text-2xl font-bold",children:k}),o.jsx("p",{className:"text-xs text-muted-foreground",children:e("employeeDashboard.totalSurveys")})]})]})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(nt,{children:[o.jsx(Ut,{children:o.jsx(tr,{children:e("employeeDashboard.myProjects")})}),o.jsx(ct,{className:"space-y-4",children:v.length>0?v.slice(0,5).map(N=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:N.project_name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:N.project_description||e("employeeDashboard.noDescription")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cc,{value:N.progress||0,className:"w-16 h-2"}),o.jsxs("span",{className:"text-sm text-muted-foreground w-8",children:[N.progress||0,"%"]})]})]},N.project_id)):o.jsx("p",{className:"text-sm text-muted-foreground",children:e("employeeDashboard.noProjectsAssigned")})})]}),o.jsxs(nt,{children:[o.jsx(Ut,{children:o.jsx(tr,{children:e("employeeDashboard.recentTasks")})}),o.jsx(ct,{className:"space-y-4",children:j.length>0?j.map(N=>{var O;return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:N.task_name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:N.description||e("employeeDashboard.noDescription")})]}),o.jsx(dt,{variant:N.task_status==="completed"?"default":N.task_status==="in_progress"?"secondary":"outline",className:"text-xs",children:(O=N.task_status)==null?void 0:O.replace("_"," ")})]},N.task_id)}):o.jsx("p",{className:"text-sm text-muted-foreground",children:e("employeeDashboard.noTasksAssigned")})})]})]})]})}var L_="Popover",[Ez,_Ye]=fs(L_,[kp]),fx=kp(),[uhe,Hu]=Ez(L_),Cz=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!1}=e,l=fx(t),c=x.useRef(null),[u,d]=x.useState(!1),[f,h]=ic({prop:n,defaultProp:a??!1,onChange:s,caller:L_});return o.jsx(PA,{...l,children:o.jsx(uhe,{scope:t,contentId:aa(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:i,children:r})})};Cz.displayName=L_;var Tz="PopoverAnchor",dhe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Hu(Tz,r),s=fx(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(b_,{...s,...n,ref:t})});dhe.displayName=Tz;var Az="PopoverTrigger",Oz=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Hu(Az,r),s=fx(r),i=Wt(t,a.triggerRef),l=o.jsx(ut.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Mz(a.open),...n,ref:i,onClick:et(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:o.jsx(b_,{asChild:!0,...s,children:l})});Oz.displayName=Az;var eO="PopoverPortal",[fhe,hhe]=Ez(eO,{forceMount:void 0}),Pz=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=Hu(eO,t);return o.jsx(fhe,{scope:t,forceMount:r,children:o.jsx(La,{present:r||s.open,children:o.jsx(sx,{asChild:!0,container:a,children:n})})})};Pz.displayName=eO;var Tm="PopoverContent",Dz=x.forwardRef((e,t)=>{const r=hhe(Tm,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=Hu(Tm,e.__scopePopover);return o.jsx(La,{present:n||s.open,children:s.modal?o.jsx(phe,{...a,ref:t}):o.jsx(ghe,{...a,ref:t})})});Dz.displayName=Tm;var mhe=Cu("PopoverContent.RemoveScroll"),phe=x.forwardRef((e,t)=>{const r=Hu(Tm,e.__scopePopover),n=x.useRef(null),a=Wt(t,n),s=x.useRef(!1);return x.useEffect(()=>{const i=n.current;if(i)return __(i)},[]),o.jsx(ix,{as:mhe,allowPinchZoom:!0,children:o.jsx(Rz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:et(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),ghe=x.forwardRef((e,t)=>{const r=Hu(Tm,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return o.jsx(Rz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),Rz=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Hu(Tm,r),p=fx(r);return v_(),o.jsx(nx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(rx,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(DA,{"data-state":Mz(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Iz="PopoverClose",vhe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Hu(Iz,r);return o.jsx(ut.button,{type:"button",...n,ref:t,onClick:et(e.onClick,()=>a.onOpenChange(!1))})});vhe.displayName=Iz;var xhe="PopoverArrow",yhe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=fx(r);return o.jsx(RA,{...a,...n,ref:t})});yhe.displayName=xhe;function Mz(e){return e?"open":"closed"}var whe=Cz,bhe=Oz,_he=Pz,Fz=Dz;const ma=whe,pa=bhe,Jn=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>o.jsx(_he,{children:o.jsx(Fz,{ref:a,align:t,sideOffset:r,className:je("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Jn.displayName=Fz.displayName;function Dt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ts(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ga(e,t){const r=Dt(e);return isNaN(t)?Ts(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Oo(e,t){const r=Dt(e);if(isNaN(t))return Ts(e,NaN);if(!t)return r;const n=r.getDate(),a=Ts(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const s=a.getDate();return n>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const tO=6048e5,She=864e5,Ey=43200,HI=1440;let jhe={};function Tp(){return jhe}function fl(e,t){var l,c,u,d;const r=Tp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Dt(e),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function sf(e){return fl(e,{weekStartsOn:1})}function Lz(e){const t=Dt(e),r=t.getFullYear(),n=Ts(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=sf(n),s=Ts(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const i=sf(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Am(e){const t=Dt(e);return t.setHours(0,0,0,0),t}function Om(e){const t=Dt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Zo(e,t){const r=Am(e),n=Am(t),a=+r-Om(r),s=+n-Om(n);return Math.round((a-s)/She)}function khe(e){const t=Lz(e),r=Ts(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),sf(r)}function ZN(e,t){const r=t*7;return Ga(e,r)}function Nhe(e,t){return Oo(e,t*12)}function Ehe(e){let t;return e.forEach(function(r){const n=Dt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Che(e){let t;return e.forEach(r=>{const n=Dt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function vw(e,t){const r=Dt(e),n=Dt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function The(e){return Ts(e,Date.now())}function bs(e,t){const r=Am(e),n=Am(t);return+r==+n}function rO(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ahe(e){if(!rO(e)&&typeof e!="number")return!1;const t=Dt(e);return!isNaN(Number(t))}function Pm(e,t){const r=Dt(e),n=Dt(t),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function Ohe(e,t,r){const n=fl(e,r),a=fl(t,r),s=+n-Om(n),i=+a-Om(a);return Math.round((s-i)/tO)}function Phe(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Dhe(e,t){return+Dt(e)-+Dt(t)}function Rhe(e){const t=Dt(e);return t.setHours(23,59,59,999),t}function $_(e){const t=Dt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ihe(e){const t=Dt(e);return+Rhe(t)==+$_(t)}function Mhe(e,t){const r=Dt(e),n=Dt(t),a=vw(r,n),s=Math.abs(Pm(r,n));let i;if(s<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let l=vw(r,n)===-a;Ihe(Dt(e))&&s===1&&vw(e,n)===1&&(l=!1),i=a*(s-Number(l))}return i===0?0:i}function Fhe(e,t,r){const n=Dhe(e,t)/1e3;return Phe(r==null?void 0:r.roundingMethod)(n)}function Ns(e){const t=Dt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function $z(e){const t=Dt(e),r=Ts(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function nO(e,t){var l,c,u,d;const r=Tp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Dt(e),s=a.getDay(),i=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function Bz(e){return nO(e,{weekStartsOn:1})}const Lhe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$he=(e,t,r)=>{let n;const a=Lhe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Yh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Bhe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Uhe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Vhe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zhe={date:Yh({formats:Bhe,defaultWidth:"full"}),time:Yh({formats:Uhe,defaultWidth:"full"}),dateTime:Yh({formats:Vhe,defaultWidth:"full"})},Whe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Hhe=(e,t,r,n)=>Whe[e];function Yo(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[i]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const qhe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ghe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Khe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Yhe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qhe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Zhe={ordinalNumber:Qhe,era:Yo({values:qhe,defaultWidth:"wide"}),quarter:Yo({values:Ghe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Yo({values:Khe,defaultWidth:"wide"}),day:Yo({values:Yhe,defaultWidth:"wide"}),dayPeriod:Yo({values:Xhe,defaultWidth:"wide",formattingValues:Jhe,defaultFormattingWidth:"wide"})};function Xo(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?tme(l,f=>f.test(i)):eme(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function eme(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function tme(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Uz(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const rme=/^(\d+)(th|st|nd|rd)?/i,nme=/\d+/i,ame={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sme={any:[/^b/i,/^(a|c)/i]},ime={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ome={any:[/1/i,/2/i,/3/i,/4/i]},lme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ume={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fme={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mme={ordinalNumber:Uz({matchPattern:rme,parsePattern:nme,valueCallback:e=>parseInt(e,10)}),era:Xo({matchPatterns:ame,defaultMatchWidth:"wide",parsePatterns:sme,defaultParseWidth:"any"}),quarter:Xo({matchPatterns:ime,defaultMatchWidth:"wide",parsePatterns:ome,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Xo({matchPatterns:lme,defaultMatchWidth:"wide",parsePatterns:cme,defaultParseWidth:"any"}),day:Xo({matchPatterns:ume,defaultMatchWidth:"wide",parsePatterns:dme,defaultParseWidth:"any"}),dayPeriod:Xo({matchPatterns:fme,defaultMatchWidth:"any",parsePatterns:hme,defaultParseWidth:"any"})},aO={code:"en-US",formatDistance:$he,formatLong:zhe,formatRelative:Hhe,localize:Zhe,match:mme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pme(e){const t=Dt(e);return Zo(t,$z(t))+1}function Vz(e){const t=Dt(e),r=+sf(t)-+khe(t);return Math.round(r/tO)+1}function zz(e,t){var d,f,h,p;const r=Dt(e),n=r.getFullYear(),a=Tp(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=Ts(e,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=fl(i,t),c=Ts(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=fl(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function gme(e,t){var l,c,u,d;const r=Tp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=zz(e,t),s=Ts(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),fl(s,t)}function Wz(e,t){const r=Dt(e),n=+fl(r,t)-+gme(r,t);return Math.round(n/tO)+1}function pr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Pc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return pr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):pr(r+1,2)},d(e,t){return pr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return pr(e.getHours()%12||12,t.length)},H(e,t){return pr(e.getHours(),t.length)},m(e,t){return pr(e.getMinutes(),t.length)},s(e,t){return pr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return pr(a,t.length)}},Zf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qI={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Pc.y(e,t)},Y:function(e,t,r,n){const a=zz(e,n),s=a>0?a:1-a;if(t==="YY"){const i=s%100;return pr(i,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):pr(s,t.length)},R:function(e,t){const r=Lz(e);return pr(r,t.length)},u:function(e,t){const r=e.getFullYear();return pr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return pr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return pr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Pc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return pr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Wz(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):pr(a,t.length)},I:function(e,t,r){const n=Vz(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):pr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Pc.d(e,t)},D:function(e,t,r){const n=pme(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):pr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return pr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return pr(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return pr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Zf.noon:n===0?a=Zf.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Zf.evening:n>=12?a=Zf.afternoon:n>=4?a=Zf.morning:a=Zf.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Pc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Pc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):pr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):pr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Pc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Pc.s(e,t)},S:function(e,t){return Pc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return KI(n);case"XXXX":case"XX":return id(n);case"XXXXX":case"XXX":default:return id(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return KI(n);case"xxxx":case"xx":return id(n);case"xxxxx":case"xxx":default:return id(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+GI(n,":");case"OOOO":default:return"GMT"+id(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+GI(n,":");case"zzzz":default:return"GMT"+id(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return pr(n,t.length)},T:function(e,t,r){const n=e.getTime();return pr(n,t.length)}};function GI(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+pr(s,2)}function KI(e,t){return e%60===0?(e>0?"-":"+")+pr(Math.abs(e)/60,2):id(e,t)}function id(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=pr(Math.trunc(n/60),2),s=pr(n%60,2);return r+a+t+s}const YI=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Hz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},vme=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return YI(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",YI(n,t)).replace("{{time}}",Hz(a,t))},xme={p:Hz,P:vme},yme=/^D+$/,wme=/^Y+$/,bme=["D","DD","YY","YYYY"];function _me(e){return yme.test(e)}function Sme(e){return wme.test(e)}function jme(e,t,r){const n=kme(e,t,r);if(console.warn(n),bme.includes(e))throw new RangeError(n)}function kme(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Nme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Eme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cme=/^'([^]*?)'?$/,Tme=/''/g,Ame=/[a-zA-Z]/;function _o(e,t,r){var d,f,h,p,g,m,v,y;const n=Tp(),a=(r==null?void 0:r.locale)??n.locale??aO,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,l=Dt(e);if(!Ahe(l))throw new RangeError("Invalid time value");let c=t.match(Eme).map(w=>{const b=w[0];if(b==="p"||b==="P"){const _=xme[b];return _(w,a.formatLong)}return w}).join("").match(Nme).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:Ome(w)};if(qI[b])return{isToken:!0,value:w};if(b.match(Ame))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(w=>{if(!w.isToken)return w.value;const b=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Sme(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&_me(b))&&jme(b,t,String(e));const _=qI[b[0]];return _(l,b,a.localize,u)}).join("")}function Ome(e){const t=e.match(Cme);return t?t[1].replace(Tme,"'"):e}function Pme(e,t,r){const n=Tp(),a=(r==null?void 0:r.locale)??n.locale??aO,s=2520,i=vw(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let c,u;i>0?(c=Dt(t),u=Dt(e)):(c=Dt(e),u=Dt(t));const d=Fhe(u,c),f=(Om(u)-Om(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<HI){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<s)return a.formatDistance("xDays",1,l);if(h<Ey){const g=Math.round(h/HI);return a.formatDistance("xDays",g,l)}else if(h<Ey*2)return p=Math.round(h/Ey),a.formatDistance("aboutXMonths",p,l)}if(p=Mhe(u,c),p<12){const g=Math.round(h/Ey);return a.formatDistance("xMonths",g,l)}else{const g=p%12,m=Math.trunc(p/12);return g<3?a.formatDistance("aboutXYears",m,l):g<9?a.formatDistance("overXYears",m,l):a.formatDistance("almostXYears",m+1,l)}}function Dme(e,t){return Pme(e,The(e),t)}function Rme(e){const t=Dt(e),r=t.getFullYear(),n=t.getMonth(),a=Ts(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Ime(e){return Math.trunc(+Dt(e)/1e3)}function Mme(e){const t=Dt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Fme(e,t){return Ohe(Mme(e),Ns(e),t)+1}function eE(e,t){const r=Dt(e),n=Dt(t);return r.getTime()>n.getTime()}function qz(e,t){const r=Dt(e),n=Dt(t);return+r<+n}function sO(e,t){const r=Dt(e),n=Dt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Lme(e,t){const r=Dt(e),n=Dt(t);return r.getFullYear()===n.getFullYear()}function ok(e,t){return Ga(e,-t)}function lk(e,t){const r=Dt(e),n=r.getFullYear(),a=r.getDate(),s=Ts(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const i=Rme(s);return r.setMonth(t,Math.min(a,i)),r}function XI(e,t){const r=Dt(e);return isNaN(+r)?Ts(e,NaN):(r.setFullYear(t),r)}const $me={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},Bme=(e,t,r)=>{const n=$me[e];let a;return typeof n=="string"?a=n:t===1?a=n.one:t===2?a=n.two:t<=10?a=n.threeToTen.replace("{{count}}",String(t)):a=n.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?" "+a:" "+a:a},Ume={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},Vme={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},zme={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wme={date:Yh({formats:Ume,defaultWidth:"full"}),time:Yh({formats:Vme,defaultWidth:"full"}),dateTime:Yh({formats:zme,defaultWidth:"full"})},Hme={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},qme=e=>Hme[e],Gme={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},Kme={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},Yme={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},Xme={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},Jme={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},Qme={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},Zme=e=>String(e),epe={ordinalNumber:Zme,era:Yo({values:Gme,defaultWidth:"wide"}),quarter:Yo({values:Kme,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Yo({values:Yme,defaultWidth:"wide"}),day:Yo({values:Xme,defaultWidth:"wide"}),dayPeriod:Yo({values:Jme,defaultWidth:"wide",formattingValues:Qme,defaultFormattingWidth:"wide"})},tpe=/^(\d+)(th|st|nd|rd)?/i,rpe=/\d+/i,npe={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},ape={any:[//,//]},spe={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},ipe={any:[/1/i,/2/i,/3/i,/4/i]},ope={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},lpe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},cpe={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},upe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},dpe={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},fpe={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},hpe={ordinalNumber:Uz({matchPattern:tpe,parsePattern:rpe,valueCallback:e=>parseInt(e,10)}),era:Xo({matchPatterns:npe,defaultMatchWidth:"wide",parsePatterns:ape,defaultParseWidth:"any"}),quarter:Xo({matchPatterns:spe,defaultMatchWidth:"wide",parsePatterns:ipe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Xo({matchPatterns:ope,defaultMatchWidth:"wide",parsePatterns:lpe,defaultParseWidth:"any"}),day:Xo({matchPatterns:cpe,defaultMatchWidth:"wide",parsePatterns:upe,defaultParseWidth:"any"}),dayPeriod:Xo({matchPatterns:dpe,defaultMatchWidth:"any",parsePatterns:fpe,defaultParseWidth:"any"})},mpe={code:"ar",formatDistance:Bme,formatLong:Wme,formatRelative:qme,localize:epe,match:hpe,options:{weekStartsOn:6,firstWeekContainsDate:1}};var Ct=function(){return Ct=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ct.apply(this,arguments)};function ppe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Gz(e,t,r){for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function hx(e){return e.mode==="multiple"}function mx(e){return e.mode==="range"}function B_(e){return e.mode==="single"}var gpe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function vpe(e,t){return _o(e,"LLLL y",t)}function xpe(e,t){return _o(e,"d",t)}function ype(e,t){return _o(e,"LLLL",t)}function wpe(e){return"".concat(e)}function bpe(e,t){return _o(e,"cccccc",t)}function _pe(e,t){return _o(e,"yyyy",t)}var Spe=Object.freeze({__proto__:null,formatCaption:vpe,formatDay:xpe,formatMonthCaption:ype,formatWeekNumber:wpe,formatWeekdayName:bpe,formatYearCaption:_pe}),jpe=function(e,t,r){return _o(e,"do MMMM (EEEE)",r)},kpe=function(){return"Month: "},Npe=function(){return"Go to next month"},Epe=function(){return"Go to previous month"},Cpe=function(e,t){return _o(e,"cccc",t)},Tpe=function(e){return"Week n. ".concat(e)},Ape=function(){return"Year: "},Ope=Object.freeze({__proto__:null,labelDay:jpe,labelMonthDropdown:kpe,labelNext:Npe,labelPrevious:Epe,labelWeekNumber:Tpe,labelWeekday:Cpe,labelYearDropdown:Ape});function Ppe(){var e="buttons",t=gpe,r=aO,n={},a={},s=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:Spe,labels:Ope,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:s,styles:i,today:l,mode:"default"}}function Dpe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,s=e.fromDate,i=e.toDate;return n?s=Ns(n):t&&(s=new Date(t,0,1)),a?i=$_(a):r&&(i=new Date(r,11,31)),{fromDate:s?Am(s):void 0,toDate:i?Am(i):void 0}}var Kz=x.createContext(void 0);function Rpe(e){var t,r=e.initialProps,n=Ppe(),a=Dpe(r),s=a.fromDate,i=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!s||!i)&&(l="buttons");var c;(B_(r)||hx(r)||mx(r))&&(c=r.onSelect);var u=Ct(Ct(Ct({},n),r),{captionLayout:l,classNames:Ct(Ct({},n.classNames),r.classNames),components:Ct({},r.components),formatters:Ct(Ct({},n.formatters),r.formatters),fromDate:s,labels:Ct(Ct({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ct(Ct({},n.modifiers),r.modifiers),modifiersClassNames:Ct(Ct({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Ct(Ct({},n.styles),r.styles),toDate:i});return o.jsx(Kz.Provider,{value:u,children:e.children})}function Rr(){var e=x.useContext(Kz);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Yz(e){var t=Rr(),r=t.locale,n=t.classNames,a=t.styles,s=t.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function Ipe(e){return o.jsx("svg",Ct({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Xz(e){var t,r,n=e.onChange,a=e.value,s=e.children,i=e.caption,l=e.className,c=e.style,u=Rr(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Ipe;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:s}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Mpe(e){var t,r=Rr(),n=r.fromDate,a=r.toDate,s=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});var f=[];if(Lme(n,a))for(var h=Ns(n),p=n.getMonth();p<=a.getMonth();p++)f.push(lk(h,p));else for(var h=Ns(new Date),p=0;p<=11;p++)f.push(lk(h,p));var g=function(v){var y=Number(v.target.value),w=lk(Ns(e.displayMonth),y);e.onChange(w)},m=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Xz;return o.jsx(m,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:f.map(function(v){return o.jsx("option",{value:v.getMonth(),children:l(v,{locale:i})},v.getMonth())})})}function Fpe(e){var t,r=e.displayMonth,n=Rr(),a=n.fromDate,s=n.toDate,i=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});for(var p=a.getFullYear(),g=s.getFullYear(),m=p;m<=g;m++)h.push(XI($z(new Date),m));var v=function(w){var b=XI(Ns(r),Number(w.target.value));e.onChange(b)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Xz;return o.jsx(y,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:i}),children:h.map(function(w){return o.jsx("option",{value:w.getFullYear(),children:d(w,{locale:i})},w.getFullYear())})})}function Lpe(e,t){var r=x.useState(e),n=r[0],a=r[1],s=t===void 0?n:t;return[s,a]}function $pe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,s=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&Pm(s,a)<0){var u=-1*(c-1);a=Oo(s,u)}return i&&Pm(a,i)<0&&(a=i),Ns(a)}function Bpe(){var e=Rr(),t=$pe(e),r=Lpe(t,e.month),n=r[0],a=r[1],s=function(i){var l;if(!e.disableNavigation){var c=Ns(i);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,s]}function Upe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Ns(e),s=Ns(Oo(a,n)),i=Pm(s,a),l=[],c=0;c<i;c++){var u=Oo(a,c);l.push(u)}return r&&(l=l.reverse()),l}function Vpe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,i=n?s:1,l=Ns(e);if(!r)return Oo(l,i);var c=Pm(r,e);if(!(c<s))return Oo(l,i)}}function zpe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,i=n?s:1,l=Ns(e);if(!r)return Oo(l,-i);var c=Pm(l,r);if(!(c<=0))return Oo(l,-i)}}var Jz=x.createContext(void 0);function Wpe(e){var t=Rr(),r=Bpe(),n=r[0],a=r[1],s=Upe(n,t),i=Vpe(n,t),l=zpe(n,t),c=function(f){return s.some(function(h){return sO(f,h)})},u=function(f,h){c(f)||(h&&qz(f,h)?a(Oo(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:s,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return o.jsx(Jz.Provider,{value:d,children:e.children})}function px(){var e=x.useContext(Jz);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function JI(e){var t,r=Rr(),n=r.classNames,a=r.styles,s=r.components,i=px().goToMonth,l=function(d){i(Oo(d,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:Yz,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(Mpe,{onChange:l,displayMonth:e.displayMonth}),o.jsx(Fpe,{onChange:l,displayMonth:e.displayMonth})]})}function Hpe(e){return o.jsx("svg",Ct({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function qpe(e){return o.jsx("svg",Ct({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var x1=x.forwardRef(function(e,t){var r=Rr(),n=r.classNames,a=r.styles,s=[n.button_reset,n.button];e.className&&s.push(e.className);var i=s.join(" "),l=Ct(Ct({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),o.jsx("button",Ct({},e,{ref:t,type:"button",className:i,style:l}))});function Gpe(e){var t,r,n=Rr(),a=n.dir,s=n.locale,i=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var h=u(e.previousMonth,{locale:s}),p=[i.nav_button,i.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:s}),m=[i.nav_button,i.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:qpe,y=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:Hpe;return o.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(x1,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?o.jsx(v,{className:i.nav_icon,style:l.nav_icon}):o.jsx(y,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(x1,{name:"next-month","aria-label":g,className:m,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?o.jsx(y,{className:i.nav_icon,style:l.nav_icon}):o.jsx(v,{className:i.nav_icon,style:l.nav_icon})})]})}function QI(e){var t=Rr().numberOfMonths,r=px(),n=r.previousMonth,a=r.nextMonth,s=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(g){return sO(e.displayMonth,g)}),c=l===0,u=l===i.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&s(n)},p=function(){a&&s(a)};return o.jsx(Gpe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:p})}function Kpe(e){var t,r=Rr(),n=r.classNames,a=r.disableNavigation,s=r.styles,i=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:Yz,u;return a?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=o.jsx(JI,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(JI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(QI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(QI,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:n.caption,style:s.caption,children:u})}function Ype(e){var t=Rr(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?o.jsx("tfoot",{className:a,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function Xpe(e,t,r){for(var n=r?sf(new Date):fl(new Date,{locale:e,weekStartsOn:t}),a=[],s=0;s<7;s++){var i=Ga(n,s);a.push(i)}return a}function Jpe(){var e=Rr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,s=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=Xpe(a,s,i);return o.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function Qpe(){var e,t=Rr(),r=t.classNames,n=t.styles,a=t.components,s=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:Jpe;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(s,{})})}function Zpe(e){var t=Rr(),r=t.locale,n=t.formatters.formatDay;return o.jsx(o.Fragment,{children:n(e.date,{locale:r})})}var iO=x.createContext(void 0);function e0e(e){if(!hx(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(iO.Provider,{value:t,children:e.children})}return o.jsx(t0e,{initialProps:e.initialProps,children:e.children})}function t0e(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,s=t.max,i=function(u,d,f){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var m=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!m){var v=n?Gz([],n):[];if(d.selected){var y=v.findIndex(function(w){return bs(u,w)});v.splice(y,1)}else v.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=s&&n.length>s-1,f=n.some(function(h){return bs(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:i,modifiers:l};return o.jsx(iO.Provider,{value:c,children:r})}function oO(){var e=x.useContext(iO);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function r0e(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?bs(a,e)&&bs(n,e)?void 0:bs(a,e)?{from:a,to:void 0}:bs(n,e)?void 0:eE(n,e)?{from:e,to:a}:{from:n,to:e}:a?eE(e,a)?{from:a,to:e}:{from:e,to:a}:n?qz(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var lO=x.createContext(void 0);function n0e(e){if(!mx(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(lO.Provider,{value:t,children:e.children})}return o.jsx(a0e,{initialProps:e.initialProps,children:e.children})}function a0e(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},s=a.from,i=a.to,l=t.min,c=t.max,u=function(p,g,m){var v,y;(v=t.onDayClick)===null||v===void 0||v.call(t,p,g,m);var w=r0e(p,n);(y=t.onSelect)===null||y===void 0||y.call(t,w,p,g,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],i?(d.range_end=[i],bs(s,i)||(d.range_middle=[{after:s,before:i}])):d.range_end=[s]):i&&(d.range_start=[i],d.range_end=[i]),l&&(s&&!i&&d.disabled.push({after:ok(s,l-1),before:Ga(s,l-1)}),s&&i&&d.disabled.push({after:s,before:Ga(s,l-1)}),!s&&i&&d.disabled.push({after:ok(i,l-1),before:Ga(i,l-1)})),c){if(s&&!i&&(d.disabled.push({before:Ga(s,-c+1)}),d.disabled.push({after:Ga(s,c-1)})),s&&i){var f=Zo(i,s)+1,h=c-f;d.disabled.push({before:ok(s,h)}),d.disabled.push({after:Ga(i,h)})}!s&&i&&(d.disabled.push({before:Ga(i,-c+1)}),d.disabled.push({after:Ga(i,c-1)}))}return o.jsx(lO.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function cO(){var e=x.useContext(lO);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function xw(e){return Array.isArray(e)?Gz([],e):e!==void 0?[e]:[]}function s0e(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=xw(a)}),t}var Po;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Po||(Po={}));var i0e=Po.Selected,Nl=Po.Disabled,o0e=Po.Hidden,l0e=Po.Today,ck=Po.RangeEnd,uk=Po.RangeMiddle,dk=Po.RangeStart,c0e=Po.Outside;function u0e(e,t,r){var n,a=(n={},n[i0e]=xw(e.selected),n[Nl]=xw(e.disabled),n[o0e]=xw(e.hidden),n[l0e]=[e.today],n[ck]=[],n[uk]=[],n[dk]=[],n[c0e]=[],n);return e.fromDate&&a[Nl].push({before:e.fromDate}),e.toDate&&a[Nl].push({after:e.toDate}),hx(e)?a[Nl]=a[Nl].concat(t.modifiers[Nl]):mx(e)&&(a[Nl]=a[Nl].concat(r.modifiers[Nl]),a[dk]=r.modifiers[dk],a[uk]=r.modifiers[uk],a[ck]=r.modifiers[ck]),a}var Qz=x.createContext(void 0);function d0e(e){var t=Rr(),r=oO(),n=cO(),a=u0e(t,r,n),s=s0e(t.modifiers),i=Ct(Ct({},a),s);return o.jsx(Qz.Provider,{value:i,children:e.children})}function Zz(){var e=x.useContext(Qz);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function f0e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function h0e(e){return!!(e&&typeof e=="object"&&"from"in e)}function m0e(e){return!!(e&&typeof e=="object"&&"after"in e)}function p0e(e){return!!(e&&typeof e=="object"&&"before"in e)}function g0e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function v0e(e,t){var r,n=t.from,a=t.to;if(n&&a){var s=Zo(a,n)<0;s&&(r=[a,n],n=r[0],a=r[1]);var i=Zo(e,n)>=0&&Zo(a,e)>=0;return i}return a?bs(a,e):n?bs(n,e):!1}function x0e(e){return rO(e)}function y0e(e){return Array.isArray(e)&&e.every(rO)}function w0e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(x0e(r))return bs(e,r);if(y0e(r))return r.includes(e);if(h0e(r))return v0e(e,r);if(g0e(r))return r.dayOfWeek.includes(e.getDay());if(f0e(r)){var n=Zo(r.before,e),a=Zo(r.after,e),s=n>0,i=a<0,l=eE(r.before,r.after);return l?i&&s:s||i}return m0e(r)?Zo(e,r.after)>0:p0e(r)?Zo(r.before,e)>0:typeof r=="function"?r(e):!1})}function uO(e,t,r){var n=Object.keys(t).reduce(function(s,i){var l=t[i];return w0e(e,l)&&s.push(i),s},[]),a={};return n.forEach(function(s){return a[s]=!0}),r&&!sO(e,r)&&(a.outside=!0),a}function b0e(e,t){for(var r=Ns(e[0]),n=$_(e[e.length-1]),a,s,i=r;i<=n;){var l=uO(i,t),c=!l.disabled&&!l.hidden;if(!c){i=Ga(i,1);continue}if(l.selected)return i;l.today&&!s&&(s=i),a||(a=i),i=Ga(i,1)}return s||a}var _0e=365;function eW(e,t){var r=t.moveBy,n=t.direction,a=t.context,s=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Ga,week:ZN,month:Oo,year:Nhe,startOfWeek:function(v){return a.ISOWeek?sf(v):fl(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?Bz(v):nO(v,{locale:f,weekStartsOn:c})}},p=h[r](e,n==="after"?1:-1);n==="before"&&u?p=Ehe([u,p]):n==="after"&&d&&(p=Che([d,p]));var g=!0;if(s){var m=uO(p,s);g=!m.disabled&&!m.hidden}return g?p:l.count>_0e?l.lastFocused:eW(p,{moveBy:r,direction:n,context:a,modifiers:s,retry:Ct(Ct({},l),{count:l.count+1})})}var tW=x.createContext(void 0);function S0e(e){var t=px(),r=Zz(),n=x.useState(),a=n[0],s=n[1],i=x.useState(),l=i[0],c=i[1],u=b0e(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),s(void 0)},h=function(v){s(v)},p=Rr(),g=function(v,y){if(a){var w=eW(a,{moveBy:v,direction:y,context:p,modifiers:r});bs(a,w)||(t.goToDate(w,a),h(w))}},m={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return o.jsx(tW.Provider,{value:m,children:e.children})}function dO(){var e=x.useContext(tW);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function j0e(e,t){var r=Zz(),n=uO(e,r,t);return n}var fO=x.createContext(void 0);function k0e(e){if(!B_(e.initialProps)){var t={selected:void 0};return o.jsx(fO.Provider,{value:t,children:e.children})}return o.jsx(N0e,{initialProps:e.initialProps,children:e.children})}function N0e(e){var t=e.initialProps,r=e.children,n=function(s,i,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,s,i,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,s,s,i,l)},a={selected:t.selected,onDayClick:n};return o.jsx(fO.Provider,{value:a,children:r})}function rW(){var e=x.useContext(fO);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function E0e(e,t){var r=Rr(),n=rW(),a=oO(),s=cO(),i=dO(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,h=i.focus,p=i.focusMonthBefore,g=i.focusMonthAfter,m=i.focusYearBefore,v=i.focusYearAfter,y=i.focusStartOfWeek,w=i.focusEndOfWeek,b=function(I){var U,R,Y,Z;B_(r)?(U=n.onDayClick)===null||U===void 0||U.call(n,e,t,I):hx(r)?(R=a.onDayClick)===null||R===void 0||R.call(a,e,t,I):mx(r)?(Y=s.onDayClick)===null||Y===void 0||Y.call(s,e,t,I):(Z=r.onDayClick)===null||Z===void 0||Z.call(r,e,t,I)},_=function(I){var U;h(e),(U=r.onDayFocus)===null||U===void 0||U.call(r,e,t,I)},S=function(I){var U;f(),(U=r.onDayBlur)===null||U===void 0||U.call(r,e,t,I)},k=function(I){var U;(U=r.onDayMouseEnter)===null||U===void 0||U.call(r,e,t,I)},j=function(I){var U;(U=r.onDayMouseLeave)===null||U===void 0||U.call(r,e,t,I)},E=function(I){var U;(U=r.onDayPointerEnter)===null||U===void 0||U.call(r,e,t,I)},N=function(I){var U;(U=r.onDayPointerLeave)===null||U===void 0||U.call(r,e,t,I)},O=function(I){var U;(U=r.onDayTouchCancel)===null||U===void 0||U.call(r,e,t,I)},P=function(I){var U;(U=r.onDayTouchEnd)===null||U===void 0||U.call(r,e,t,I)},T=function(I){var U;(U=r.onDayTouchMove)===null||U===void 0||U.call(r,e,t,I)},L=function(I){var U;(U=r.onDayTouchStart)===null||U===void 0||U.call(r,e,t,I)},H=function(I){var U;(U=r.onDayKeyUp)===null||U===void 0||U.call(r,e,t,I)},z=function(I){var U;switch(I.key){case"ArrowLeft":I.preventDefault(),I.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":I.preventDefault(),I.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":I.preventDefault(),I.stopPropagation(),u();break;case"ArrowUp":I.preventDefault(),I.stopPropagation(),d();break;case"PageUp":I.preventDefault(),I.stopPropagation(),I.shiftKey?m():p();break;case"PageDown":I.preventDefault(),I.stopPropagation(),I.shiftKey?v():g();break;case"Home":I.preventDefault(),I.stopPropagation(),y();break;case"End":I.preventDefault(),I.stopPropagation(),w();break}(U=r.onDayKeyDown)===null||U===void 0||U.call(r,e,t,I)},M={onClick:b,onFocus:_,onBlur:S,onKeyDown:z,onKeyUp:H,onMouseEnter:k,onMouseLeave:j,onPointerEnter:E,onPointerLeave:N,onTouchCancel:O,onTouchEnd:P,onTouchMove:T,onTouchStart:L};return M}function C0e(){var e=Rr(),t=rW(),r=oO(),n=cO(),a=B_(e)?t.selected:hx(e)?r.selected:mx(e)?n.selected:void 0;return a}function T0e(e){return Object.values(Po).includes(e)}function A0e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(T0e(n)){var s=e.classNames["day_".concat(n)];s&&r.push(s)}}),r}function O0e(e,t){var r=Ct({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Ct(Ct({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function P0e(e,t,r){var n,a,s,i=Rr(),l=dO(),c=j0e(e,t),u=E0e(e,c),d=C0e(),f=!!(i.onDayClick||i.mode!=="default");x.useEffect(function(){var k;c.outside||l.focusedDay&&f&&bs(l.focusedDay,e)&&((k=r.current)===null||k===void 0||k.focus())},[l.focusedDay,e,r,f,c.outside]);var h=A0e(i,c).join(" "),p=O0e(i,c),g=!!(c.outside&&!i.showOutsideDays||c.hidden),m=(s=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&s!==void 0?s:Zpe,v=o.jsx(m,{date:e,displayMonth:t,activeModifiers:c}),y={style:p,className:h,children:v,role:"gridcell"},w=l.focusTarget&&bs(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&bs(l.focusedDay,e),_=Ct(Ct(Ct({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=b||w?0:-1,n)),u),S={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:y};return S}function D0e(e){var t=x.useRef(null),r=P0e(e.date,e.displayMonth,t);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(x1,Ct({name:"day",ref:t},r.buttonProps)):o.jsx("div",Ct({},r.divProps))}function R0e(e){var t=e.number,r=e.dates,n=Rr(),a=n.onWeekNumberClick,s=n.styles,i=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return o.jsx("span",{className:i.weeknumber,style:s.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(p){a(t,r,p)};return o.jsx(x1,{name:"week-number","aria-label":f,className:i.weeknumber,style:s.weeknumber,onClick:h,children:d})}function I0e(e){var t,r,n=Rr(),a=n.styles,s=n.classNames,i=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:D0e,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:R0e,d;return i&&(d=o.jsx("td",{className:s.cell,style:a.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:s.row,style:a.row,children:[d,e.dates.map(function(f){return o.jsx("td",{className:s.cell,style:a.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:f})},Ime(f))})]})}function ZI(e,t,r){for(var n=r!=null&&r.ISOWeek?Bz(t):nO(t,r),a=r!=null&&r.ISOWeek?sf(e):fl(e,r),s=Zo(n,a),i=[],l=0;l<=s;l++)i.push(Ga(a,l));var c=i.reduce(function(u,d){var f=r!=null&&r.ISOWeek?Vz(d):Wz(d,r),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function M0e(e,t){var r=ZI(Ns(e),$_(e),t);if(t!=null&&t.useFixedWeeks){var n=Fme(e,t);if(n<6){var a=r[r.length-1],s=a.dates[a.dates.length-1],i=ZN(s,6-n),l=ZI(ZN(s,1),i,t);r.push.apply(r,l)}}return r}function F0e(e){var t,r,n,a=Rr(),s=a.locale,i=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,p=a.ISOWeek,g=M0e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),m=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:Qpe,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:I0e,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Ype;return o.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(m,{}),o.jsx("tbody",{className:i.tbody,style:l.tbody,children:g.map(function(w){return o.jsx(v,{displayMonth:e.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),o.jsx(y,{displayMonth:e.displayMonth})]})}function L0e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var $0e=L0e()?x.useLayoutEffect:x.useEffect,fk=!1,B0e=0;function eM(){return"react-day-picker-".concat(++B0e)}function U0e(e){var t,r=e??(fk?eM():null),n=x.useState(r),a=n[0],s=n[1];return $0e(function(){a===null&&s(eM())},[]),x.useEffect(function(){fk===!1&&(fk=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function V0e(e){var t,r,n=Rr(),a=n.dir,s=n.classNames,i=n.styles,l=n.components,c=px().displayMonths,u=U0e(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[s.month],h=i.month,p=e.displayIndex===0,g=e.displayIndex===c.length-1,m=!p&&!g;a==="rtl"&&(t=[p,g],g=t[0],p=t[1]),p&&(f.push(s.caption_start),h=Ct(Ct({},h),i.caption_start)),g&&(f.push(s.caption_end),h=Ct(Ct({},h),i.caption_end)),m&&(f.push(s.caption_between),h=Ct(Ct({},h),i.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Kpe;return o.jsxs("div",{className:f.join(" "),style:h,children:[o.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(F0e,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function z0e(e){var t=Rr(),r=t.classNames,n=t.styles;return o.jsx("div",{className:r.months,style:n.months,children:e.children})}function W0e(e){var t,r,n=e.initialProps,a=Rr(),s=dO(),i=px(),l=x.useState(!1),c=l[0],u=l[1];x.useEffect(function(){a.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[a.initialFocus,c,s.focus,s.focusTarget,s]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=Ct(Ct({},a.styles.root),a.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,m){var v;return Ct(Ct({},g),(v={},v[m]=n[m],v))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:z0e;return o.jsx("div",Ct({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:o.jsx(p,{children:i.displayMonths.map(function(g,m){return o.jsx(V0e,{displayIndex:m,displayMonth:g},m)})})}))}function H0e(e){var t=e.children,r=ppe(e,["children"]);return o.jsx(Rpe,{initialProps:r,children:o.jsx(Wpe,{children:o.jsx(k0e,{initialProps:r,children:o.jsx(e0e,{initialProps:r,children:o.jsx(n0e,{initialProps:r,children:o.jsx(d0e,{children:o.jsx(S0e,{children:t})})})})})})})}function q0e(e){return o.jsx(H0e,Ct({},e,{children:o.jsx(W0e,{initialProps:e})}))}function nW({className:e,classNames:t,showOutsideDays:r=!0,...n}){return o.jsx(q0e,{showOutsideDays:r,className:je("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:je(km({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:je(km({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>o.jsx(joe,{className:"h-4 w-4"}),IconRight:({...a})=>o.jsx(f_,{className:"h-4 w-4"})},...n})}nW.displayName="Calendar";function hO({onSearch:e,onFilterStatus:t,onFilterAssignee:r,onFilterDateRange:n,users:a=[],statuses:s=[],placeholder:i,className:l}){const{t:c}=qt(),{currentLanguage:u}=gi(),[d,f]=x.useState(""),[h,p]=x.useState({from:void 0,to:void 0}),g=u==="ar"?mpe:void 0;x.useEffect(()=>{const y=setTimeout(()=>{e(d)},300);return()=>clearTimeout(y)},[d,e]);const m=y=>{p(y),n&&n(y)},v=()=>{f(""),p({from:void 0,to:void 0}),t&&t("all"),r&&r("all"),n&&n({from:void 0,to:void 0})};return o.jsxs("div",{className:je("flex flex-col sm:flex-row gap-3 mb-6",l),children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(vi,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground rtl:right-2.5 rtl:left-auto"}),o.jsx(qe,{placeholder:i||c("common.search","Search..."),value:d,onChange:y=>f(y.target.value),className:"pl-9 rtl:pr-9 rtl:pl-3"})]}),o.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:[t&&s.length>0&&o.jsxs(wt,{onValueChange:t,children:[o.jsxs(vt,{className:"w-[140px]",children:[o.jsx(Ooe,{className:"mr-2 h-4 w-4"}),o.jsx(bt,{placeholder:c("common.status","Status")})]}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"all",children:c("common.all","All")}),s.map(y=>o.jsx(Ce,{value:y.value,children:y.label},y.value))]})]}),r&&a.length>0&&o.jsxs(wt,{onValueChange:r,children:[o.jsxs(vt,{className:"w-[140px]",children:[o.jsx(G0e,{className:"mr-2 h-4 w-4"}),o.jsx(bt,{placeholder:c("common.assignee","Assignee")})]}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"all",children:c("common.all","All")}),a.filter(y=>["employee","admin","manager","team_leader"].includes(y.user_role)).map(y=>o.jsx(Ce,{value:y.user_id.toString(),children:ke(y,"user_name")},y.user_id))]})]}),n&&o.jsxs(ma,{children:[o.jsx(pa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",className:je("w-[240px] justify-start text-left font-normal",!h.from&&"text-muted-foreground"),children:[o.jsx(No,{className:"mr-2 h-4 w-4"}),h.from?h.to?o.jsxs(o.Fragment,{children:[_o(h.from,"LLL dd, y",{locale:g})," -"," ",_o(h.to,"LLL dd, y",{locale:g})]}):_o(h.from,"LLL dd, y",{locale:g}):o.jsx("span",{children:c("common.pickDate","Pick a date")})]})}),o.jsx(Jn,{className:"w-auto p-0",align:"start",children:o.jsx(nW,{initialFocus:!0,mode:"range",defaultMonth:h.from,selected:h,onSelect:m,numberOfMonths:2})})]}),o.jsx(oe,{variant:"ghost",size:"icon",onClick:v,title:c("common.clearFilters","Clear filters"),children:o.jsx(Ii,{className:"h-4 w-4"})})]})]})}function G0e(e){return o.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}var aW="AlertDialog",[K0e,SYe]=fs(aW,[rz]),xc=rz(),sW=e=>{const{__scopeAlertDialog:t,...r}=e,n=xc(t);return o.jsx(D_,{...n,...r,modal:!0})};sW.displayName=aW;var Y0e="AlertDialogTrigger",iW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xc(r);return o.jsx(YA,{...a,...n,ref:t})});iW.displayName=Y0e;var X0e="AlertDialogPortal",oW=e=>{const{__scopeAlertDialog:t,...r}=e,n=xc(t);return o.jsx(R_,{...n,...r})};oW.displayName=X0e;var J0e="AlertDialogOverlay",lW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xc(r);return o.jsx(Ep,{...a,...n,ref:t})});lW.displayName=J0e;var Xh="AlertDialogContent",[Q0e,Z0e]=K0e(Xh),ege=Eie("AlertDialogContent"),cW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=xc(r),i=x.useRef(null),l=Wt(t,i),c=x.useRef(null);return o.jsx(Bfe,{contentName:Xh,titleName:uW,docsSlug:"alert-dialog",children:o.jsx(Q0e,{scope:r,cancelRef:c,children:o.jsxs(Cp,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:et(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(ege,{children:n}),o.jsx(rge,{contentRef:i})]})})})});cW.displayName=Xh;var uW="AlertDialogTitle",dW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xc(r);return o.jsx(ux,{...a,...n,ref:t})});dW.displayName=uW;var fW="AlertDialogDescription",hW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xc(r);return o.jsx(dx,{...a,...n,ref:t})});hW.displayName=fW;var tge="AlertDialogAction",mW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=xc(r);return o.jsx(I_,{...a,...n,ref:t})});mW.displayName=tge;var pW="AlertDialogCancel",gW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=Z0e(pW,r),s=xc(r),i=Wt(t,a);return o.jsx(I_,{...s,...n,ref:i})});gW.displayName=pW;var rge=({contentRef:e})=>{const t=`\`${Xh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Xh}\` by passing a \`${fW}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Xh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},nge=sW,age=iW,sge=oW,vW=lW,xW=cW,yW=mW,wW=gW,bW=dW,_W=hW;const di=nge,of=age,ige=sge,SW=x.forwardRef(({className:e,...t},r)=>o.jsx(vW,{className:je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));SW.displayName=vW.displayName;const As=x.forwardRef(({className:e,...t},r)=>o.jsxs(ige,{children:[o.jsx(SW,{}),o.jsx(xW,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));As.displayName=xW.displayName;const Os=({className:e,...t})=>o.jsx("div",{className:je("flex flex-col space-y-2 text-center sm:text-left",e),...t});Os.displayName="AlertDialogHeader";const Ps=({className:e,...t})=>o.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ps.displayName="AlertDialogFooter";const Ds=x.forwardRef(({className:e,...t},r)=>o.jsx(bW,{ref:r,className:je("text-lg font-semibold",e),...t}));Ds.displayName=bW.displayName;const Rs=x.forwardRef(({className:e,...t},r)=>o.jsx(_W,{ref:r,className:je("text-sm text-muted-foreground",e),...t}));Rs.displayName=_W.displayName;const Is=x.forwardRef(({className:e,...t},r)=>o.jsx(yW,{ref:r,className:je(km(),e),...t}));Is.displayName=yW.displayName;const Ms=x.forwardRef(({className:e,...t},r)=>o.jsx(wW,{ref:r,className:je(km({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ms.displayName=wW.displayName;const sa=x.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));sa.displayName="Textarea";function U_({stages:e,currentStageId:t,onStageChange:r,children:n}){const a=ca(),s=x.useRef(null),i=e.find(l=>l.id===t)??e[0];return x.useEffect(()=>{a&&s.current&&s.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[i==null?void 0:i.id,a]),a?o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-20 shadow-sm",children:o.jsx("div",{className:"w-full overflow-x-auto scrollbar-hide",dir:ii()?"ltr":"rtl",children:o.jsx("div",{className:"flex gap-2 p-3 min-w-max rtl:flex-row-reverse",children:[...e].sort((l,c)=>(ii(),l.id-c.id)).map(l=>{const c=l.id===i.id;return o.jsxs("button",{ref:c?s:null,onClick:()=>r(l.id),className:je("inline-flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all font-medium text-sm border-2 flex-shrink-0",c?"bg-primary text-primary-foreground shadow-md border-primary":"bg-card text-muted-foreground hover:bg-accent hover:text-accent-foreground border-border"),children:[o.jsx("span",{className:"truncate max-w-[140px]",children:l.name}),o.jsx(dt,{variant:"secondary",className:je("h-5 min-w-5 px-1.5 text-xs font-semibold",c?"bg-primary-foreground/20 text-primary-foreground border-primary-foreground/30":"bg-muted"),children:l.count})]},l.id)})})})}),o.jsx("div",{className:"flex-1 overflow-auto scrollbar-hide",children:o.jsx("div",{className:"p-2",children:n})})]}):o.jsx(o.Fragment,{children:n})}var V_="Tabs",[oge,jYe]=fs(V_,[E_]),jW=E_(),[lge,mO]=oge(V_),kW=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=tx(l),[f,h]=ic({prop:n,onChange:a,defaultProp:s??"",caller:V_});return o.jsx(lge,{scope:r,baseId:aa(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:o.jsx(ut.div,{dir:d,"data-orientation":i,...u,ref:t})})});kW.displayName=V_;var NW="TabsList",EW=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=mO(NW,r),i=jW(r);return o.jsx(iV,{asChild:!0,...i,orientation:s.orientation,dir:s.dir,loop:n,children:o.jsx(ut.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});EW.displayName=NW;var CW="TabsTrigger",TW=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,i=mO(CW,r),l=jW(r),c=PW(i.baseId,n),u=DW(i.baseId,n),d=n===i.value;return o.jsx(oV,{asChild:!0,...l,focusable:!a,active:d,children:o.jsx(ut.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:et(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:et(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:et(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!a&&f&&i.onValueChange(n)})})})});TW.displayName=CW;var AW="TabsContent",OW=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...i}=e,l=mO(AW,r),c=PW(l.baseId,n),u=DW(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(La,{present:a||d,children:({present:h})=>o.jsx(ut.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});OW.displayName=AW;function PW(e,t){return`${e}-trigger-${t}`}function DW(e,t){return`${e}-content-${t}`}var cge=kW,RW=EW,IW=TW,MW=OW;const hl=cge,Do=x.forwardRef(({className:e,...t},r)=>o.jsx(RW,{ref:r,className:je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Do.displayName=RW.displayName;const Kr=x.forwardRef(({className:e,...t},r)=>o.jsx(IW,{ref:r,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Kr.displayName=IW.displayName;const _n=x.forwardRef(({className:e,...t},r)=>o.jsx(MW,{ref:r,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));_n.displayName=MW.displayName;function pO({relatedType:e,relatedId:t,notes:r,onNotesChange:n}){const{t:a}=qt(),{user:s}=vr(),[i,l]=x.useState(""),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,p]=x.useState(null),[g,m]=x.useState(!1),v=async()=>{if(!(!i.trim()||!(s!=null&&s.id))){m(!0);try{await Kh.create({content:i.trim(),related_to_type:e,related_to_id:t,created_by:s.id}),l(""),n()}catch(_){console.error("Failed to create note:",_)}finally{m(!1)}}},y=async _=>{if(d.trim()){m(!0);try{await Kh.update(_,d.trim()),u(null),f(""),n()}catch(S){console.error("Failed to update note:",S)}finally{m(!1)}}},w=async()=>{if(h){m(!0);try{await Kh.delete(h),p(null),n()}catch(_){console.error("Failed to delete note:",_)}finally{m(!1)}}},b=_=>{if(!_)return"";try{return Dme(new Date(_),{addSuffix:!0})}catch{return _}};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(sa,{value:i,onChange:_=>l(_.target.value),placeholder:a("notes.placeholder"),rows:3,className:"resize-none"}),o.jsxs(oe,{onClick:v,disabled:!i.trim()||g,className:"w-full",children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),a("notes.save")]})]}),o.jsx("div",{className:"space-y-3",children:r.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:a("notes.noNotes")}):r.map(_=>{var j;const S=c===_.note_id,k=_.created_by===(s==null?void 0:s.id);return o.jsxs("div",{className:"border rounded-lg p-4 space-y-2 bg-card",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[(j=_.user)!=null&&j.avatar?o.jsx("img",{src:_.user.avatar,alt:ke(_.user,"user_name"),className:"h-8 w-8 rounded-full flex-shrink-0"}):o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-xs font-semibold text-primary",children:_.user?ke(_.user,"user_name")[0]:"?"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:_.user?ke(_.user,"user_name"):a("notes.unknown")}),o.jsx("p",{className:"text-xs text-muted-foreground",children:b(_.created_at)})]})]}),k&&!S&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{u(_.note_id),f(_.content)},children:o.jsx(Eo,{className:"h-3.5 w-3.5"})}),o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive",onClick:()=>p(_.note_id),children:o.jsx(Sr,{className:"h-3.5 w-3.5"})})]})]}),S?o.jsxs("div",{className:"space-y-2",children:[o.jsx(sa,{value:d,onChange:E=>f(E.target.value),rows:3,className:"resize-none"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(oe,{size:"sm",onClick:()=>y(_.note_id),disabled:!d.trim()||g,children:[o.jsx(Co,{className:"h-3.5 w-3.5 mr-1"}),a("notes.save")]}),o.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>{u(null),f("")},children:[o.jsx(Ii,{className:"h-3.5 w-3.5 mr-1"}),a("buttons.cancel")]})]})]}):o.jsx("p",{className:"text-sm whitespace-pre-wrap",children:_.content})]},_.note_id)})}),o.jsx(di,{open:!!h,onOpenChange:()=>p(null),children:o.jsxs(As,{children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:a("notes.delete")}),o.jsx(Rs,{children:a("notes.deleteConfirmation")})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:a("buttons.cancel")}),o.jsx(Is,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a("buttons.delete")})]})]})})]})}function FW({priority:e=3,size:t="sm",showCount:r=!1,className:n}){const a=e||3,s={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return o.jsxs("div",{className:je("flex items-center gap-0.5",n),children:[[1,2,3,4,5].map(i=>o.jsx(T9,{className:je(s[t],i<=a?"fill-yellow-400 text-yellow-400":"fill-none text-gray-300 dark:text-gray-600")},i)),r&&o.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",a,"/5)"]})]})}function uge({leadId:e}){const{t}=qt(),{user:r}=vr(),[n,a]=x.useState(null),[s,i]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(""),[p,g]=x.useState([]),[m,v]=x.useState(!0),[y,w]=x.useState(!1),[b,_]=x.useState([]),[S,k]=x.useState([]),[j,E]=x.useState([]),[N,O]=x.useState({lead_name:"",lead_description:"",client_user_id:"",stage:"",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});x.useEffect(()=>{T(),P()},[e]);const P=async()=>{try{const R=await Pa.getAll().then(Y=>Y.filter(Z=>Z.user_role==="client"));E(R)}catch(R){console.error("Failed to load clients:",R)}},T=async()=>{var R,Y,Z;try{v(!0);const[C,X,B]=await Promise.all([Ll.getById(e),ts.getByType("leads"),Pa.getAll()]);if(a(C),_(X),k(B),!C)return;if(O({lead_name:C.lead_name||"",lead_description:C.lead_description||"",client_user_id:C.client_user_id||"",stage:((R=C.stage)==null?void 0:R.toString())||"",assigned_to:C.assigned_to||"",value:((Y=C.value)==null?void 0:Y.toString())||"",currency:C.currency||"SAR",priority:((Z=C.priority)==null?void 0:Z.toString())||"3",expected_close_date:C.expected_close_date||""}),C.client_user_id){const q=await Pa.getByAuthId(C.client_user_id);i(q)}if(C.created_by){const q=B.find(re=>re.auth_user_id===C.created_by)||null;c(q)}if(C.assigned_to){const q=B.find(re=>re.auth_user_id===C.assigned_to)||null;d(q)}if(C.stage){const q=X.find(re=>re.stage_id===C.stage);q&&h(ke(q,"stage_name"))}L()}catch(C){console.error("Failed to load lead data:",C)}finally{v(!1)}},L=async()=>{try{const R=await Kh.getByRelated("lead",e);g(R)}catch(R){console.error("Failed to load notes:",R)}},H=async()=>{if(n)try{const R=N.assigned_to&&N.assigned_to!=="unassigned"?N.assigned_to:null,Y=$i({lead_name:N.lead_name,lead_description:N.lead_description||null,client_user_id:N.client_user_id||null,stage:parseInt(N.stage),assigned_to:R,value:N.value?parseFloat(N.value):null,currency:N.currency,priority:parseInt(N.priority),expected_close_date:N.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description"});await Ll.update(n.lead_id,Y);const Z={...n,...Y};if(a(Z),N.client_user_id){const X=j.find(B=>B.auth_user_id===N.client_user_id)||null;i(X)}if(R){const X=S.find(B=>B.auth_user_id===R)||null;d(X)}const C=b.find(X=>X.stage_id===parseInt(N.stage));C&&h(ke(C,"stage_name")),w(!1)}catch(R){console.error("Failed to update lead:",R)}},z=()=>{var R,Y,Z;n&&O({lead_name:n.lead_name||"",lead_description:n.lead_description||"",client_user_id:n.client_user_id||"",stage:((R=n.stage)==null?void 0:R.toString())||"",assigned_to:n.assigned_to||"",value:((Y=n.value)==null?void 0:Y.toString())||"",currency:n.currency||"SAR",priority:((Z=n.priority)==null?void 0:Z.toString())||"3",expected_close_date:n.expected_close_date||""}),w(!1)},M=(R,Y)=>{if(R===null)return"-";const Z=Y||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:Z==="SAR"?"SAR":Z}).format(R)},I=R=>R?new Date(R).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-";if(m)return o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})});if(!n)return o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t("leads.notFound")});const U=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="manager";return o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:t("leads.leadDetails")}),U&&!y&&o.jsxs(oe,{onClick:()=>w(!0),variant:"outline",size:"sm",children:[o.jsx(Eo,{className:"h-4 w-4 mr-2"}),t("buttons.edit")]}),y&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(oe,{onClick:z,variant:"outline",size:"sm",children:[o.jsx(Ii,{className:"h-4 w-4 mr-2"}),t("buttons.cancel")]}),o.jsxs(oe,{onClick:H,size:"sm",children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),t("buttons.save")]})]})]}),o.jsxs(hl,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Do,{className:"grid w-full grid-cols-2",children:[o.jsx(Kr,{value:"overview",children:t("common.overview")}),o.jsx(Kr,{value:"notes",children:t("notes.title")})]}),o.jsx(_n,{value:"overview",className:"space-y-4 mt-4",children:y?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ge,{htmlFor:"lead_name",children:[t("leads.leadName")," *"]}),o.jsx(qe,{id:"lead_name",value:N.lead_name,onChange:R=>O(Y=>({...Y,lead_name:R.target.value})),placeholder:t("leads.leadName")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"lead_description",children:t("leads.description")}),o.jsx(sa,{id:"lead_description",value:N.lead_description,onChange:R=>O(Y=>({...Y,lead_description:R.target.value})),placeholder:t("leads.description"),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:t("leads.client")}),o.jsxs(wt,{value:N.client_user_id,onValueChange:R=>O(Y=>({...Y,client_user_id:R})),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:t("leads.selectClient")})}),o.jsx(xt,{children:j.filter(R=>R.auth_user_id).map(R=>o.jsx(Ce,{value:R.auth_user_id,children:ke(R,"user_name")},R.user_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:t("common.stage")}),o.jsxs(wt,{value:N.stage,onValueChange:R=>O(Y=>({...Y,stage:R})),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:t("leads.selectStage")})}),o.jsx(xt,{children:b.map(R=>o.jsx(Ce,{value:R.stage_id.toString(),children:ke(R,"stage_name")},R.stage_id))})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:t("leads.value")}),o.jsx(qe,{type:"number",min:"0",step:"0.01",value:N.value,onChange:R=>O(Y=>({...Y,value:R.target.value})),placeholder:"0.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:t("leads.currency")}),o.jsxs(wt,{value:N.currency,onValueChange:R=>O(Y=>({...Y,currency:R})),children:[o.jsx(vt,{children:o.jsx(bt,{})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"SAR",children:"SAR (.)"}),o.jsx(Ce,{value:"USD",children:"USD ($)"}),o.jsx(Ce,{value:"EUR",children:"EUR ()"}),o.jsx(Ce,{value:"GBP",children:"GBP ()"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:t("common.priority")}),o.jsxs(wt,{value:N.priority,onValueChange:R=>O(Y=>({...Y,priority:R})),children:[o.jsx(vt,{children:o.jsx(bt,{})}),o.jsxs(xt,{children:[o.jsxs(Ce,{value:"1",children:[" ",t("common.veryLow")]}),o.jsxs(Ce,{value:"2",children:[" ",t("common.low")]}),o.jsxs(Ce,{value:"3",children:[" ",t("common.medium")]}),o.jsxs(Ce,{value:"4",children:[" ",t("common.high")]}),o.jsxs(Ce,{value:"5",children:[" ",t("common.veryHigh")]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:t("leads.expectedCloseDate")}),o.jsx(qe,{type:"date",value:N.expected_close_date,onChange:R=>O(Y=>({...Y,expected_close_date:R.target.value}))})]})]}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="manager")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:t("leads.assignToEmployee")}),o.jsxs(wt,{value:N.assigned_to,onValueChange:R=>O(Y=>({...Y,assigned_to:R})),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:t("leads.selectAssignee")})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"unassigned",children:t("common.unassigned")}),S.filter(R=>["employee","admin","manager","team_leader"].includes(R.user_role)&&R.auth_user_id).map(R=>o.jsx(Ce,{value:R.auth_user_id,children:ke(R,"user_name")},R.user_id))]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold",children:ke(n,"lead_name")}),ke(n,"lead_description")&&o.jsx("p",{className:"text-muted-foreground mt-1",children:ke(n,"lead_description")})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(pI,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.priority")}),o.jsx(FW,{priority:n.priority,size:"sm"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[o.jsx(tg,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.value")}),o.jsx("p",{className:"text-lg font-semibold",children:M(n.value,n.currency)})]})]}),s&&o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[o.jsx(yn,{className:"h-5 w-5 text-primary mt-0.5"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.client")}),o.jsx("p",{className:"font-medium truncate",children:ke(s,"user_name")}),s.user_email&&o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:s.user_email})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(pI,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.stage")}),o.jsx(dt,{variant:"secondary",children:f||"-"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(os,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.assignedTo")}),o.jsx("p",{className:"font-medium",children:u?ke(u,"user_name"):t("common.unassigned")})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"p-3 rounded-lg border",children:[o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(No,{className:"h-3.5 w-3.5"}),t("common.created")]}),o.jsx("p",{className:"text-sm font-medium mt-1",children:I(n.created_date)})]}),l&&o.jsxs("div",{className:"p-3 rounded-lg border",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.createdBy")}),o.jsx("p",{className:"text-sm font-medium mt-1 truncate",children:ke(l,"user_name")})]})]})]})}),o.jsx(_n,{value:"notes",className:"mt-4",children:o.jsx(pO,{relatedType:"lead",relatedId:e,notes:p,onNotesChange:L})})]})]})}function Ap({title:e,description:t,icon:r,actions:n,stats:a,className:s=""}){qt();const i=ca();return o.jsxs("div",{className:je("mb-6",s),children:[o.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[r&&o.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center flex-shrink-0 border border-primary/10 ring-4 ring-primary/5",children:typeof r=="function"?te.createElement(r):r}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold tracking-tight text-foreground",children:e}),t&&o.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl text-sm",children:t})]})]}),n&&o.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:n})]}),a&&a.length>0&&!i&&o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mt-6",children:a.map((l,c)=>o.jsx(nt,{className:"p-2 md:p-3 hover:shadow-md transition-all hover:-translate-y-0.5 border-border/50",children:o.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.icon&&o.jsx("div",{className:"h-7 w-7 md:h-9 md:w-9 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:typeof l.icon=="function"?te.createElement(l.icon):l.icon}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:l.label}),o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsx("p",{className:"text-lg md:text-xl font-bold text-foreground truncate",children:l.value}),l.trend&&o.jsxs("span",{className:je("text-xs font-medium",l.trend.isPositive?"text-green-600":"text-red-600"),children:[l.trend.isPositive?"+":"",l.trend.value,"%"]})]})]})]})},c))})]})}function Op({message:e="Loading...",className:t=""}){return o.jsxs("div",{className:`flex flex-col items-center justify-center py-16 ${t}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx(N9,{className:"h-16 w-16 text-primary animate-spin"}),o.jsx("div",{className:"absolute inset-0 h-16 w-16 rounded-full border-4 border-muted opacity-25"})]}),o.jsx("p",{className:"mt-6 text-sm text-muted-foreground animate-pulse font-medium",children:e})]})}function sl({icon:e,title:t,description:r,action:n,className:a=""}){return o.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-4 ${a}`,children:[e&&o.jsx("div",{className:"h-24 w-24 rounded-full bg-muted/50 flex items-center justify-center mb-6 ring-4 ring-muted/20",children:typeof e=="function"?te.createElement(e):e}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2 text-center",children:t}),o.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:r}),n]})}const z_=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:je("w-full caption-bottom text-sm",e),...t})}));z_.displayName="Table";const W_=x.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:je("[&_tr]:border-b",e),...t}));W_.displayName="TableHeader";const H_=x.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:je("[&_tr:last-child]:border-0",e),...t}));H_.displayName="TableBody";const dge=x.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:je("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));dge.displayName="TableFooter";const Vl=x.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:je("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Vl.displayName="TableRow";const ea=x.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:je("h-12 py-4 align-middle font-medium text-muted-foreground",ii()?"text-right px-2 [&:has([role=checkbox])]:px-4":"text-left px-4 [&:has([role=checkbox])]:px-6",e),...t}));ea.displayName="TableHead";const Dn=x.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:je("py-4 align-middle",ii()?"px-2 [&:has([role=checkbox])]:px-4":"px-4 [&:has([role=checkbox])]:px-6",e),...t}));Dn.displayName="TableCell";const fge=x.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:je("mt-4 text-sm text-muted-foreground",e),...t}));fge.displayName="TableCaption";var q_="Checkbox",[hge,kYe]=fs(q_),[mge,gO]=hge(q_);function pge(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:i,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=ic({prop:r,defaultProp:a??!1,onChange:c,caller:q_}),[g,m]=x.useState(null),[v,y]=x.useState(null),w=x.useRef(!1),b=g?!!i||!!g.closest("form"):!0,_={checked:h,disabled:s,setChecked:p,control:g,setControl:m,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:bu(a)?!1:a,isFormControl:b,bubbleInput:v,setBubbleInput:y};return o.jsx(mge,{scope:t,..._,children:gge(f)?f(_):n})}var LW="CheckboxTrigger",$W=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:i,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:g}=gO(LW,e),m=Wt(a,d),v=x.useRef(c);return x.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const w=()=>f(v.current);return y.addEventListener("reset",w),()=>y.removeEventListener("reset",w)}},[s,f]),o.jsx(ut.button,{type:"button",role:"checkbox","aria-checked":bu(c)?"mixed":c,"aria-required":u,"data-state":WW(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:m,onKeyDown:et(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:et(r,y=>{f(w=>bu(w)?!0:!w),g&&p&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});$W.displayName=LW;var vO=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:i,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return o.jsx(pge,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:l,required:i,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>o.jsxs(o.Fragment,{children:[o.jsx($W,{...f,ref:t,__scopeCheckbox:r}),h&&o.jsx(zW,{__scopeCheckbox:r})]})})});vO.displayName=q_;var BW="CheckboxIndicator",UW=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=gO(BW,r);return o.jsx(La,{present:n||bu(s.checked)||s.checked===!0,children:o.jsx(ut.span,{"data-state":WW(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});UW.displayName=BW;var VW="CheckboxBubbleInput",zW=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:i,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=gO(VW,e),g=Wt(r,p),m=IA(s),v=TA(n);x.useEffect(()=>{const w=h;if(!w)return;const b=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(b,"checked").set,k=!a.current;if(m!==s&&S){const j=new Event("click",{bubbles:k});w.indeterminate=bu(s),S.call(w,bu(s)?!1:s),w.dispatchEvent(j)}},[h,m,s,a]);const y=x.useRef(bu(s)?!1:s);return o.jsx(ut.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});zW.displayName=VW;function gge(e){return typeof e=="function"}function bu(e){return e==="indeterminate"}function WW(e){return bu(e)?"indeterminate":e?"checked":"unchecked"}const tE=x.forwardRef(({className:e,indeterminate:t,...r},n)=>o.jsx(vO,{ref:n,className:je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t&&"bg-primary text-primary-foreground",e),...r,children:o.jsx(UW,{className:je("flex items-center justify-center text-current"),children:t?o.jsx(Foe,{className:"h-4 w-4"}):o.jsx(xA,{className:"h-4 w-4"})})}));tE.displayName=vO.displayName;function lf({data:e,columns:t,actions:r=[],bulkActions:n=[],keyExtractor:a,onRowClick:s,emptyState:i,mobileCardRender:l,className:c,enableBulkSelect:u=!1,rowHeight:d}){const f=ca(),{t:h}=qt(),[p,g]=x.useState(new Set),m=j=>{const E=new Set(p);E.has(j)?E.delete(j):E.add(j),g(E)},v=()=>{p.size===e.length?g(new Set):g(new Set(e.map(a)))},y=()=>{g(new Set)},w=()=>e.filter(j=>p.has(a(j))),b=j=>{const E=r.filter(N=>!N.show||N.show(j));return E.length===0?null:o.jsxs(WA,{children:[o.jsx(HA,{asChild:!0,onClick:N=>N.stopPropagation(),children:o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:o.jsx(Coe,{className:"h-4 w-4"})})}),o.jsx(O_,{align:"end",children:E.map((N,O)=>o.jsxs(Fl,{onClick:P=>{P.stopPropagation(),N.onClick(j)},className:je(N.variant==="destructive"&&"text-destructive focus:text-destructive"),children:[N.icon&&o.jsx("span",{className:"mr-2",children:N.icon}),N.label]},O))})]})};if(e.length===0)return i||o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:h("common.noData","No data available")});if(f)return o.jsx("div",{className:je("space-y-3",c),children:e.map((j,E)=>l?o.jsx("div",{onClick:()=>s==null?void 0:s(j),children:l(j,b(j))},a(j)):o.jsx(nt,{className:je("overflow-hidden transition-all",s&&"cursor-pointer hover:shadow-md active:scale-[0.99]"),onClick:()=>s==null?void 0:s(j),children:o.jsx(ct,{className:"p-4",children:o.jsxs("div",{className:"space-y-3",children:[t.filter(N=>!N.hideOnMobile).map((N,O)=>o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:N.header}),o.jsx("div",{className:"text-sm text-right",children:N.render(j,E)})]},N.key)),r.length>0&&o.jsx("div",{className:"pt-2 border-t flex justify-end",children:b(j)})]})})},a(j)))});const _=p.size,S=_===e.length&&e.length>0,k=_>0&&_<e.length;return o.jsxs("div",{className:"space-y-4",children:[u&&_>0&&o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in slide-in-from-top-2",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("p",{className:"text-sm font-medium",children:[_," ",_===1?h("common.item","item"):h("common.items","items")," ",h("common.selected","selected")]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[n.map((j,E)=>o.jsxs(oe,{variant:j.variant==="destructive"?"destructive":"outline",size:"sm",onClick:()=>j.onClick(w()),className:je(j.variant==="destructive"&&"hover:bg-destructive/90"),children:[j.icon&&o.jsx("span",{className:"mr-2",children:j.icon}),j.label]},E)),o.jsx(oe,{variant:"ghost",size:"sm",onClick:y,className:"text-muted-foreground hover:text-foreground",children:o.jsx(Ii,{className:"h-4 w-4"})})]})]}),o.jsx(nt,{className:je("overflow-hidden",c),children:o.jsx(ct,{className:"p-0",children:o.jsxs(z_,{children:[o.jsx(W_,{children:o.jsxs(Vl,{className:"bg-muted/50 hover:bg-muted/50",children:[u&&o.jsx(ea,{className:"w-12",children:o.jsx(tE,{checked:S,indeterminate:k,onCheckedChange:v,"aria-label":h("common.selectAll","Select all")})}),t.map(j=>o.jsx(ea,{className:je("font-semibold",j.className),children:j.header},j.key)),r.length>0&&o.jsx(ea,{className:"w-[100px] text-right",children:h("common.actions")})]})}),o.jsx(H_,{children:e.map((j,E)=>{const N=a(j),O=p.has(N);return o.jsxs(Vl,{className:je("group transition-colors",O&&"bg-primary/5",s&&"cursor-pointer hover:bg-muted/50",d),onClick:()=>s==null?void 0:s(j),children:[u&&o.jsx(Dn,{onClick:P=>P.stopPropagation(),children:o.jsx(tE,{checked:O,onCheckedChange:()=>m(N),"aria-label":h("common.selectItem","Select item")})}),t.map(P=>o.jsx(Dn,{className:je(P.className,"overflow-hidden"),children:P.render(j,E)},P.key)),r.length>0&&o.jsx(Dn,{className:"text-right",children:o.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:b(j)})})]},N)})})]})})})]})}function xO({children:e,variant:t="secondary"}){return o.jsx(dt,{variant:t,className:"text-xs font-medium",children:e})}function Dm({name:e,fallback:t="Unassigned"}){return o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(os,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("span",{className:je(!e&&"text-muted-foreground"),children:e||t})]})}function cf({date:e,fallback:t="Not set"}){return e?o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(No,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("span",{children:new Date(e).toLocaleDateString()})]}):o.jsx("span",{className:"text-muted-foreground",children:t})}function uf({title:e,subtitle:t,icon:r}){return o.jsxs("div",{className:"flex items-center gap-2",children:[r&&(typeof r=="function"?te.createElement(r):r),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:e}),t&&o.jsx("div",{className:"text-sm text-muted-foreground truncate max-w-xs",children:t})]})]})}function vge({value:e,currency:t="SAR"}){return e==null?o.jsx("span",{className:"text-muted-foreground",children:"-"}):o.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)})}function xge({lead:e,client:t,creator:r,assignedUser:n,userRole:a,users:s=[],onDelete:i,onEdit:l,onAssign:c,onClick:u,onDragStart:d,isDragging:f=!1}){const{t:h}=qt(),p=ca(),g=v=>v?new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):h("leads.unknown"),m=(v,y)=>{if(v===null)return"-";const w=y||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:w}).format(v)};return o.jsxs(nt,{className:je("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",p?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",f&&"opacity-50 rotate-2 scale-105"),onClick:u,draggable:!!d,onDragStart:v=>{d&&(v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",e.lead_id.toString()),d(e.lead_id))},children:[o.jsxs(Ut,{className:"pb-3 px-4 pt-4",children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:ke(e,"lead_name")}),ke(e,"lead_description")&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:ke(e,"lead_description")})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[l&&(a==="admin"||a==="manager")&&o.jsx(oe,{variant:"ghost",size:"sm",className:je("h-8 w-8 p-0 text-muted-foreground hover:text-primary hover:bg-primary/10",p?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),onClick:v=>{v.stopPropagation(),l()},children:o.jsx(Eo,{className:"h-4 w-4"})}),i&&o.jsxs(di,{children:[o.jsx(of,{asChild:!0,onClick:v=>v.stopPropagation(),children:o.jsx(oe,{variant:"ghost",size:"sm",className:je("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",p?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(Sr,{className:"h-4 w-4"})})}),o.jsxs(As,{onClick:v=>v.stopPropagation(),children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:h("leads.deleteLead")}),o.jsx(Rs,{children:h("leads.deleteConfirmation",{name:ke(e,"lead_name")})})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:h("buttons.cancel")}),o.jsx(Is,{onClick:v=>{v.stopPropagation(),i(e.lead_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:h("buttons.delete")})]})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2 mt-2",children:[o.jsx(FW,{priority:e.priority,size:"sm"}),e.expected_close_date&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(No,{className:"h-3 w-3"}),o.jsx("span",{children:g(e.expected_close_date)})]})]})]}),o.jsxs(ct,{className:"px-4 pb-4 space-y-3",children:[e.value!==null&&e.value!==void 0&&e.value>0&&o.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border border-green-200 dark:border-green-800/50",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:o.jsx(tg,{className:"h-4 w-4 text-green-600 dark:text-green-500"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] uppercase tracking-wide text-green-700/70 dark:text-green-400/70 font-medium",children:h("leads.value")}),o.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-400 truncate",children:m(e.value,e.currency)})]})]}),t&&o.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors border border-border/50",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(yn,{className:"h-4 w-4 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] uppercase tracking-wide text-muted-foreground font-medium",children:h("leads.client")}),o.jsx("p",{className:"text-sm font-semibold truncate",children:ke(t,"user_name")})]})]}),(a==="admin"||a==="manager")&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r&&o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(os,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.createdBy")}),o.jsx("p",{className:"text-xs font-medium truncate",children:ke(r,"user_name")})]})]}),o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(os,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.assignedTo")}),o.jsx("p",{className:"text-xs font-medium truncate",children:n?ke(n,"user_name"):h("common.all","Unassigned")})]})]})]}),o.jsx("div",{className:"pt-1",children:o.jsxs(wt,{value:e.assigned_to||"unassigned",onValueChange:v=>c&&c(e.lead_id,v==="unassigned"?"":v),children:[o.jsx(vt,{className:"h-7 text-xs",children:o.jsx(bt,{placeholder:h("leads.selectAssignee","Select assignee")})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"unassigned",children:h("common.all","Unassigned")}),s.filter(v=>["employee","admin","manager","team_leader"].includes(v.user_role)&&v.auth_user_id).map(v=>o.jsx(Ce,{value:v.auth_user_id,children:ke(v,"user_name")},v.user_id))]})]})})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[o.jsx(No,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:g(e.created_date)})]}),o.jsx(dt,{variant:"secondary",className:"text-xs",children:h("leads.lead")})]})]})]})}function yge(){var yt,ne,he;Fs();const{hasRole:e,user:t}=vr(),r=ca(),{t:n}=qt(),{setBreadcrumbs:a}=u_();x.useEffect(()=>{a([{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.leads")}])},[n,a]);const[s,i]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState([]),[p,g]=x.useState(!0);x.useState(!1),x.useState("");const[m,v]=x.useState(null),[y,w]=x.useState(""),[b,_]=x.useState(null),[S,k]=x.useState(null),[j,E]=x.useState(!1),[N,O]=x.useState(null),[P,T]=x.useState("kanban"),[L,H]=x.useState(null),[z,M]=x.useState(""),[I,U]=x.useState("all"),[R,Y]=x.useState("all"),[Z,C]=x.useState({from:void 0,to:void 0}),X=x.useMemo(()=>s.filter(F=>{const ce=(F.lead_name||"").toLowerCase().includes(z.toLowerCase())||(F.lead_description||"").toLowerCase().includes(z.toLowerCase())||(F.client_name||"").toLowerCase().includes(z.toLowerCase()),pe=R==="all"||F.assigned_to&&F.assigned_to===R;let xe=!0;if(Z.from&&F.created_date){const Fe=new Date(F.created_date),ye=new Date(Z.from);ye.setHours(0,0,0,0);const _e=new Date(Fe);if(_e.setHours(0,0,0,0),xe=_e>=ye,xe&&Z.to){const ue=new Date(Z.to);ue.setHours(23,59,59,999),xe=_e<=ue}}else Z.from&&!F.created_date&&(xe=!1);return ce&&pe&&xe}),[s,z,I,R,Z]),[B,q]=x.useState({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});x.useEffect(()=>{re()},[]),x.useEffect(()=>{if(f.length>0&&N===null){const F=f.find(ce=>ce.stage_id===1);F&&O(F.stage_id)}},[f,N]);const re=async()=>{try{g(!0);const[F,ce,pe,xe]=await Promise.all([Ll.getAll(),Pa.getAll(),JA.getAll(),ts.getByType("leads")]);console.log("[Leads] Loaded data:",{leads:F.length,clients:pe.length,users:ce.length,stages:xe.length}),console.log("[Leads] Leads data:",F),console.log("[Leads] Stages data:",xe),i(F),c(pe),d(ce),h(xe)}catch(F){console.error("Failed to load data:",F)}finally{g(!1)}},se=async F=>{if(y.trim())try{await ts.update(F,{stage_name:y.trim()}),h(f.map(ce=>ce.stage_id===F?{...ce,stage_name:y.trim()}:ce)),v(null),w("")}catch(ce){console.error("Failed to update stage:",ce)}},le=async F=>{if(s.filter(pe=>pe.stage===F).length>0){_(F);return}try{await ts.delete(F),h(f.filter(pe=>pe.stage_id!==F))}catch(pe){console.error("Failed to delete stage:",pe)}},ae=async()=>{if(b)try{await ts.delete(b),h(f.filter(F=>F.stage_id!==b)),_(null),re()}catch(F){console.error("Failed to delete stage:",F)}},K=F=>{k(F)},me=F=>{F.preventDefault(),F.dataTransfer.dropEffect="move"},A=async F=>{if(!S)return;const ce=s.find(pe=>pe.lead_id===S);if(ce&&ce.stage!==F)try{await Ll.update(S,{stage:F}),i(s.map(pe=>pe.lead_id===S?{...pe,stage:F}:pe))}catch(pe){console.error("Failed to update lead stage:",pe)}k(null)},$e=async F=>{try{await Ll.delete(F),i(s.filter(ce=>ce.lead_id!==F))}catch(ce){console.error("Failed to delete lead:",ce)}},Ie=async(F,ce)=>{const pe=ce||null,xe=pe?new Date().toISOString():null,Fe=s.find(ye=>ye.lead_id===F);if(Fe){i(s.map(ye=>ye.lead_id===F?{...ye,assigned_to:pe,assigned_at:xe}:ye));try{await Ll.update(F,{assigned_to:pe,assigned_at:xe})}catch(ye){console.error("Failed to assign lead:",ye),i(s.map(_e=>_e.lead_id===F?{..._e,assigned_to:Fe.assigned_to,assigned_at:Fe.assigned_at}:_e))}}},Ue=F=>{q(ce=>({...ce,stage:F.toString()})),E(!0)},Ve=async()=>{if(B.lead_name.trim())try{const F=B.assigned_to&&B.assigned_to!=="unassigned"?B.assigned_to:null,ce=F?new Date().toISOString():null,pe=$i({lead_name:B.lead_name.trim(),lead_description:B.lead_description.trim()||null,client_name:B.client_name.trim()||null,client_user_id:B.client_user_id||null,created_by:(t==null?void 0:t.id)||null,stage:parseInt(B.stage),assigned_to:F,assigned_at:ce,value:B.value?parseFloat(B.value):null,currency:B.currency||"SAR",priority:B.priority?parseInt(B.priority):3,expected_close_date:B.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description",client_name:"client_name"}),xe=await Ll.create(pe);i([...s,xe]),q({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""}),E(!1)}catch(F){console.error("Failed to create lead:",F)}},De=f.filter(F=>F.stage_type==="leads").sort((F,ce)=>{const pe=F.stager_order_index??0,xe=ce.stager_order_index??0;return pe-xe}),pt=De.map(F=>({id:F.stage_id,name:ke(F,"stage_name"),color:F.color,count:X.filter(ce=>ce.stage===F.stage_id).length}));return p?o.jsx(Op,{message:n("leads.loading","Loading leads...")}):o.jsxs("div",{className:"h-full flex flex-col bg-background p-4 rounded-md ",children:[o.jsx(Ap,{title:n("leads.title"),description:n("leads.description","Manage and track all your sales leads"),icon:o.jsx(Aa,{className:"h-6 w-6 text-primary"}),actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(oe,{variant:P==="kanban"?"default":"ghost",size:"sm",onClick:()=>T("kanban"),className:"h-8 w-8 p-0",children:o.jsx(p_,{className:"h-4 w-4"})}),o.jsx(oe,{variant:P==="list"?"default":"ghost",size:"sm",onClick:()=>T("list"),className:"h-8 w-8 p-0",children:o.jsx(Nm,{className:"h-4 w-4"})})]}),o.jsxs(oe,{onClick:()=>E(!0),children:[o.jsx(ur,{className:"mr-2 h-4 w-4"})," ",n("leads.newLead")]})]}),stats:[{label:n("leads.totalLeads","Total Leads"),value:s.length,icon:o.jsx(Aa,{className:"h-5 w-5 text-primary"})},{label:n("leads.thisMonth","This Month"),value:s.filter(F=>{const ce=new Date(F.created_date),pe=new Date;return ce.getMonth()===pe.getMonth()&&ce.getFullYear()===pe.getFullYear()}).length,icon:o.jsx(No,{className:"h-5 w-5 text-green-500"})},{label:n("leads.totalValue","Total Value"),value:`SAR ${s.reduce((F,ce)=>F+(ce.value||0),0).toLocaleString()}`,icon:o.jsx(tg,{className:"h-5 w-5 text-green-600"})},{label:n("leads.avgValue","Avg Value"),value:s.length>0?`SAR ${Math.round(s.reduce((F,ce)=>F+(ce.value||0),0)/s.length).toLocaleString()}`:"SAR 0",icon:o.jsx(tg,{className:"h-5 w-5 text-blue-500"})}]}),o.jsx(hO,{onSearch:M,onFilterAssignee:Y,onFilterDateRange:C,users:u}),P==="kanban"?o.jsxs(U_,{stages:pt,currentStageId:N||((yt=pt[0])==null?void 0:yt.id),onStageChange:O,children:[o.jsx(bn,{open:j,onOpenChange:E,children:o.jsxs(on,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(ln,{children:[o.jsx(cn,{children:n("leads.createLead")}),o.jsx(Ma,{children:n("leads.createLeadDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),o.jsx(qe,{value:B.lead_name,onChange:F=>q(ce=>({...ce,lead_name:F.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),o.jsx(sa,{value:B.lead_description,onChange:F=>q(ce=>({...ce,lead_description:F.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),o.jsx(qe,{value:B.client_name,onChange:F=>q(ce=>({...ce,client_name:F.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),o.jsxs(wt,{value:B.client_user_id,onValueChange:F=>q(ce=>({...ce,client_user_id:F})),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:n("leads.selectClient")})}),o.jsx(xt,{children:l.filter(F=>F.auth_user_id).map(F=>o.jsx(Ce,{value:F.auth_user_id,children:ke(F,"user_name")},F.user_id))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.value")}),o.jsx(qe,{type:"number",min:"0",step:"0.01",value:B.value,onChange:F=>q(ce=>({...ce,value:F.target.value})),placeholder:"0.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.currency")}),o.jsxs(wt,{value:B.currency,onValueChange:F=>q(ce=>({...ce,currency:F})),children:[o.jsx(vt,{children:o.jsx(bt,{})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"SAR",children:"SAR (.)"}),o.jsx(Ce,{value:"USD",children:"USD ($)"}),o.jsx(Ce,{value:"EUR",children:"EUR ()"}),o.jsx(Ce,{value:"GBP",children:"GBP ()"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("common.priority")}),o.jsxs(wt,{value:B.priority,onValueChange:F=>q(ce=>({...ce,priority:F})),children:[o.jsx(vt,{children:o.jsx(bt,{})}),o.jsxs(xt,{children:[o.jsxs(Ce,{value:"1",children:[" ",n("common.veryLow")]}),o.jsxs(Ce,{value:"2",children:[" ",n("common.low")]}),o.jsxs(Ce,{value:"3",children:[" ",n("common.medium")]}),o.jsxs(Ce,{value:"4",children:[" ",n("common.high")]}),o.jsxs(Ce,{value:"5",children:[" ",n("common.veryHigh")]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.expectedCloseDate")}),o.jsx(qe,{type:"date",value:B.expected_close_date,onChange:F=>q(ce=>({...ce,expected_close_date:F.target.value}))})]})]}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),o.jsxs(wt,{value:B.assigned_to,onValueChange:F=>q(ce=>({...ce,assigned_to:F})),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:n("leads.selectAssignee","Select assignee")})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"unassigned",children:n("common.all","Unassigned")}),u.filter(F=>["employee","admin","manager","team_leader"].includes(F.user_role)&&F.auth_user_id).map(F=>o.jsx(Ce,{value:F.auth_user_id,children:ke(F,"user_name")},F.user_id))]})]})]})]}),o.jsxs(Ia,{children:[o.jsx(oe,{variant:"outline",onClick:()=>E(!1),children:n("buttons.cancel")}),o.jsxs(oe,{onClick:Ve,disabled:!((ne=B.lead_name)!=null&&ne.trim()),children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})}),o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0 flex-1",children:De.filter(F=>{var ce;return r?F.stage_id===(N||((ce=pt[0])==null?void 0:ce.id)):!0}).map((F,ce)=>{var ue,Ee,Le;const pe=X.filter(Re=>Re.stage===F.stage_id),xe=pe.reduce((Re,Ke)=>Re+(Ke.value||0),0),Fe=new Set(pe.filter(Re=>Re.value!==null&&Re.currency).map(Re=>Re.currency)),ye=Fe.size===1?Array.from(Fe)[0]:((ue=pe.find(Re=>Re.currency))==null?void 0:ue.currency)||"SAR",_e=(Re,Ke)=>new Intl.NumberFormat("en-US",{style:"currency",currency:Ke}).format(Re);return console.log(`[Leads] Stage ${F.stage_name} (${F.stage_id}): ${pe.length} leads`),console.log("[Leads] Stage leads:",pe),o.jsxs("div",{className:je("flex-shrink-0 animate-fade-in h-full flex flex-col",r?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${ce*.1}s`},onDragOver:me,onDrop:()=>A(F.stage_id),children:[o.jsx("div",{className:je("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft","sticky top-0 z-10",F.color||"border-l-4 border-primary/50","hidden md:block"),children:o.jsx("div",{className:"flex items-center justify-between mb-2 rtl:flex-row-reverse",children:m===F.stage_id?o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx(qe,{value:y,onChange:Re=>w(Re.target.value),onKeyDown:Re=>{Re.key==="Enter"&&se(F.stage_id),Re.key==="Escape"&&(v(null),w(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>se(F.stage_id),className:"h-8 w-8 p-0",children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h2",{className:"font-bold text-base",children:ke(F,"stage_name")})}),o.jsxs("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:[o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm border",children:pe.length}),o.jsxs(o.Fragment,{children:[o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>Ue(F.stage_id),className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary",title:n("leads.addLead"),children:o.jsx(ur,{className:"h-4 w-4"})}),o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>{v(F.stage_id),w(ke(F,"stage_name"))},className:"h-6 w-6 p-0",title:n("buttons.edit"),children:o.jsx(Eo,{className:"h-3 w-3"})}),o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>le(F.stage_id),className:"h-6 w-6 p-0 text-destructive",title:n("buttons.delete"),children:o.jsx(Sr,{className:"h-3 w-3"})})]})]})]})})}),o.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto pr-2 rtl:pr-0 rtl:pl-2 scrollbar-hide",children:[((Ee=f.sort((Re,Ke)=>(Re.stager_order_index||0)-(Ke.stager_order_index||0))[0])==null?void 0:Ee.stage_id)===F.stage_id&&o.jsx("div",{className:"mb-4",children:o.jsx(nt,{className:je("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",r?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>Ue(F.stage_id),children:o.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[o.jsx(ur,{className:"h-8 w-8"}),o.jsx("span",{className:"text-sm font-medium",children:n("leads.addNewLeadCard")})]})})}),pe.map(Re=>{const Ke=l.find(yr=>yr.auth_user_id===Re.client_user_id),_t=u.find(yr=>yr.auth_user_id===Re.created_by),lr=u.find(yr=>yr.auth_user_id===Re.assigned_to);return o.jsx("div",{children:o.jsx(xge,{lead:Re,client:Ke||null,creator:_t||null,assignedUser:lr||null,userRole:t==null?void 0:t.role,users:u,onDelete:()=>$e(Re.lead_id),onEdit:()=>H(Re.lead_id),onAssign:Ie,onClick:()=>H(Re.lead_id),onDragStart:K,isDragging:S===Re.lead_id})},Re.lead_id)}),((Le=f.sort((Re,Ke)=>(Re.stager_order_index||0)-(Ke.stager_order_index||0))[0])==null?void 0:Le.stage_id)!==F.stage_id&&o.jsx("div",{className:"mt-2",children:o.jsxs(oe,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>Ue(F.stage_id),children:[o.jsx(ur,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})]}),o.jsx("div",{className:je("rounded-xl bg-muted/30 backdrop-blur p-3 mt-2 shadow-soft","sticky bottom-0 z-10","border-t-4 border-t-primary/30","hidden md:block"),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(tg,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:n("leads.stageTotal",{amount:""}).replace(":","").trim()})]}),o.jsx("span",{className:"text-lg font-bold text-primary",children:_e(xe,ye)})]})})]},F.stage_id)})}),o.jsx(di,{open:!!b,onOpenChange:()=>_(null),children:o.jsxs(As,{children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:n("leads.deleteStage")}),o.jsx(Rs,{children:n("leads.deleteStageConfirmation",{count:s.filter(F=>F.stage===b).length})})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:n("buttons.cancel")}),o.jsx(Is,{onClick:ae,className:"bg-destructive text-destructive-foreground",children:n("buttons.delete")})]})]})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-lg font-semibold",children:[n("leads.title")," (",s.length,")"]}),o.jsx(bn,{open:j,onOpenChange:E,children:o.jsxs(on,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(ln,{children:[o.jsx(cn,{children:n("leads.createLead")}),o.jsx(Ma,{children:n("leads.createLeadDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),o.jsx(qe,{value:B.lead_name,onChange:F=>q(ce=>({...ce,lead_name:F.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),o.jsx(sa,{value:B.lead_description,onChange:F=>q(ce=>({...ce,lead_description:F.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),o.jsx(qe,{value:B.client_name,onChange:F=>q(ce=>({...ce,client_name:F.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),o.jsxs(wt,{value:B.client_user_id,onValueChange:F=>q(ce=>({...ce,client_user_id:F})),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:n("leads.selectClient")})}),o.jsx(xt,{children:l.filter(F=>F.auth_user_id).map(F=>o.jsx(Ce,{value:F.auth_user_id,children:ke(F,"user_name")},F.user_id))})]})]}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),o.jsxs(wt,{value:B.assigned_to,onValueChange:F=>q(ce=>({...ce,assigned_to:F})),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:n("leads.selectAssignee","Select assignee")})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"unassigned",children:n("common.all","Unassigned")}),u.filter(F=>["employee","admin","manager","team_leader"].includes(F.user_role)&&F.auth_user_id).map(F=>o.jsx(Ce,{value:F.auth_user_id,children:ke(F,"user_name")},F.user_id))]})]})]})]}),o.jsxs(Ia,{children:[o.jsx(oe,{variant:"outline",onClick:()=>E(!1),children:n("buttons.cancel")}),o.jsxs(oe,{onClick:Ve,disabled:!((he=B.lead_name)!=null&&he.trim()),children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})})]}),(()=>{const F=[{key:"lead",header:n("leads.leadName"),render:xe=>o.jsx(uf,{title:ke(xe,"lead_name"),subtitle:ke(xe,"lead_description")})},{key:"value",header:n("leads.value","Value"),render:xe=>o.jsx(vge,{value:xe.value,currency:xe.currency||"SAR"})},{key:"client",header:n("leads.client"),hideOnMobile:!0,render:xe=>{const Fe=l.find(ye=>ye.auth_user_id===xe.client_user_id);return Fe?ke(Fe,"user_name"):n("leads.unknown")}},{key:"creator",header:n("leads.createdBy"),hideOnMobile:!0,render:xe=>{const Fe=u.find(ye=>ye.auth_user_id===xe.created_by);return o.jsx(Dm,{name:Fe?ke(Fe,"user_name"):null,fallback:n("leads.unknown")})}},{key:"assignee",header:n("leads.assignedTo"),hideOnMobile:!0,render:xe=>{const Fe=u.find(ye=>ye.auth_user_id===xe.assigned_to);return o.jsx(Dm,{name:Fe?ke(Fe,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:xe=>{const Fe=f.find(ye=>ye.stage_id===xe.stage);return Fe?ke(Fe,"stage_name"):n("leads.unknown")}},{key:"created",header:n("common.created"),hideOnMobile:!0,render:xe=>o.jsx(cf,{date:xe.created_date,fallback:n("leads.notSet")})}],ce=[{label:n("common.view"),icon:o.jsx(ai,{className:"h-4 w-4"}),onClick:xe=>H(xe.lead_id)},{label:n("buttons.delete","Delete"),icon:o.jsx(Sr,{className:"h-4 w-4"}),onClick:xe=>$e(xe.lead_id),variant:"destructive",show:()=>(t==null?void 0:t.role)==="admin"}],pe=[{label:n("buttons.delete","Delete"),icon:o.jsx(Sr,{className:"h-4 w-4"}),onClick:xe=>{xe.forEach(Fe=>$e(Fe.lead_id))},variant:"destructive"}];return o.jsx(lf,{data:X,columns:F,actions:ce,bulkActions:pe,keyExtractor:xe=>xe.lead_id,onRowClick:xe=>H(xe.lead_id),enableBulkSelect:!0,emptyState:o.jsx(sl,{icon:o.jsx(Aa,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("leads.noLeadsYet"),description:n("leads.createFirst","Create a lead to get started"),action:o.jsxs(oe,{onClick:()=>E(!0),children:[o.jsx(ur,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})})})()]}),o.jsx(oc,{open:!!L,onOpenChange:()=>H(null),children:o.jsxs(dl,{className:"w-full sm:max-w-[540px] overflow-y-auto",side:ii()?"left":"right",children:[o.jsxs(Ou,{children:[o.jsx(lc,{children:n("leads.leadDetails")}),o.jsx(M_,{children:n("leads.leadDetailsDesc")})]}),o.jsx("div",{className:"mt-6",children:L&&o.jsx(uge,{leadId:L})})]})})]})}function gx({title:e="Something went wrong",message:t,onRetry:r,className:n=""}){return o.jsxs("div",{className:`flex flex-col items-center justify-center py-12 ${n}`,children:[o.jsx("div",{className:"h-20 w-20 rounded-full bg-destructive/10 flex items-center justify-center mb-6 ring-4 ring-destructive/5",children:o.jsx(h_,{className:"h-10 w-10 text-destructive"})}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e}),o.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:t}),r&&o.jsxs(oe,{onClick:r,variant:"outline",className:"gap-2",children:[o.jsx(MN,{className:"h-4 w-4"}),"Try Again"]})]})}function wge({task:e,assignedUser:t,stages:r=[],onDelete:n,onClick:a,onDragStart:s,onStageChange:i,isDragging:l=!1}){var m,v;const{t:c}=qt(),u=ca(),d=y=>y?new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set",f=y=>{switch(y){case"done":return o.jsx(su,{className:"h-3 w-3 text-green-500"});case"in_progress":return o.jsx(yd,{className:"h-3 w-3 text-blue-500"});case"todo":default:return o.jsx(h_,{className:"h-3 w-3 text-gray-500"})}},h=y=>{switch(y){case"done":return"border-l-green-500 rtl:border-r-green-500";case"in_progress":return"border-l-blue-500 rtl:border-r-blue-500";case"todo":default:return"border-l-gray-500 rtl:border-r-gray-500"}},p=y=>{if(!y)return null;const w=new Date,_=(new Date(y).getTime()-w.getTime())/(1e3*60*60);return _<0?"overdue":_<24?"urgent":_<72?"soon":null},g=y=>{switch(p(y)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return o.jsxs(nt,{className:je("group relative hover:shadow-lg transition-all duration-200","border-l-4 rtl:border-l-0 rtl:border-r-4",u?"w-full":"w-[280px] h-[180px]",h(e.task_status),g(e.due_date),l&&"opacity-50 rotate-2 scale-105"),draggable:!!s,onDragStart:y=>{s&&(y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",e.task_id.toString()),s(e.task_id))},children:[o.jsx(Ut,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:a,children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:e.task_name}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),n&&o.jsxs(di,{children:[o.jsx(of,{asChild:!0,onClick:y=>y.stopPropagation(),children:o.jsx(oe,{variant:"ghost",size:"sm",className:je("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",u?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(Sr,{className:"h-4 w-4"})})}),o.jsxs(As,{onClick:y=>y.stopPropagation(),children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:"Delete Task"}),o.jsxs(Rs,{children:['Are you sure you want to delete "',e.task_name,'"?']})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:"Cancel"}),o.jsx(Is,{onClick:y=>{y.stopPropagation(),n(e.task_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})}),o.jsxs(ct,{className:"px-4 pb-3 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(os,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),o.jsx("p",{className:"text-xs font-medium truncate",children:t?ke(t,"user_name"):c("common.all","Unassigned")})]})}),o.jsx("div",{children:o.jsxs("div",{className:"flex items-center gap-1",children:[f(e.task_status),o.jsx("span",{className:"text-xs font-medium capitalize",children:((m=e.task_status)==null?void 0:m.replace("_"," "))||"Todo"})]})})]}),u&&i&&o.jsx("div",{className:"pt-1",children:o.jsxs(wt,{value:((v=e.stage_id)==null?void 0:v.toString())||"",onValueChange:y=>i(e.task_id,parseInt(y)),children:[o.jsx(vt,{className:"h-7 text-xs",children:o.jsx(bt,{placeholder:c("tasks.selectStage","Select stage")})}),o.jsx(xt,{children:r.map(y=>o.jsx(Ce,{value:y.stage_id.toString(),children:ke(y,"stage_name")},y.stage_id))})]})}),e.due_date&&o.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:[o.jsx(No,{className:"h-3 w-3 flex-shrink-0"}),o.jsxs("span",{children:["Due: ",d(e.due_date)]})]})]})]})}function bge(){var ae;Fs();const{hasRole:e,user:t,loading:r}=vr(),{t:n}=qt(),a=ca(),[s,i]=x.useState(null),[l,c]=x.useState("kanban");x.useState(!1);const u=K=>{switch(K==null?void 0:K.toLowerCase()){case"done":case"completed":return"default";case"in_progress":return"secondary";case"pending":case"todo":return"outline";default:return"secondary"}};x.useState(""),x.useState(null),x.useState(""),x.useState(null);const[d,f]=x.useState(null),[h,p]=x.useState(!1),[g,m]=x.useState({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),[v,y]=x.useState(""),[w,b]=x.useState("all"),[_,S]=x.useState("all"),[k,j]=x.useState({from:void 0,to:void 0}),{data:E=[],isLoading:N,error:O}=ihe(),{data:P=[],isLoading:T,error:L}=ahe(),{data:H=[],isLoading:z,error:M}=ohe(),I=x.useMemo(()=>E.filter(K=>{const me=K.task_name.toLowerCase().includes(v.toLowerCase())||K.description&&K.description.toLowerCase().includes(v.toLowerCase()),A=w==="all"||K.task_status===w,$e=_==="all"||K.assigned_to&&K.assigned_to.toString()===_;let Ie=!0;if(k.from&&K.due_date){const Ue=new Date(K.due_date),Ve=new Date(k.from);Ve.setHours(0,0,0,0);const De=new Date(Ue);if(De.setHours(0,0,0,0),Ie=De>=Ve,Ie&&k.to){const pt=new Date(k.to);pt.setHours(23,59,59,999),Ie=De<=pt}}else k.from&&!K.due_date&&(Ie=!1);return me&&A&&$e&&Ie}),[E,v,w,_,k]),U=H.filter(K=>K.stage_type==="tasks").sort((K,me)=>{const A=K.stager_order_index??0,$e=me.stager_order_index??0;return A-$e}).map(K=>({id:K.stage_id,name:ke(K,"stage_name"),color:K.color,count:I.filter(me=>me.stage_id===K.stage_id).length})),R=N||T||z||r,Y=(O==null?void 0:O.message)||(L==null?void 0:L.message)||(M==null?void 0:M.message)||null;console.log("[Tasks] Rendering. Auth state:",{user:t?{id:t.id,email:t.email,role:t.role}:null,authLoading:r,hasUser:!!t,loading:R,data:{tasks:E.length,users:P.length,stages:H.length}});const Z=()=>{},C=async K=>{try{await iu.delete(K),Z()}catch(me){console.error("Failed to delete task:",me)}},X=K=>{f(K)},B=K=>{K.preventDefault(),K.dataTransfer.dropEffect="move"},q=async K=>{if(!d)return;const me=E.find(A=>A.task_id===d);if(me&&me.stage_id!==K)try{await iu.update(d,{stage_id:K}),Z()}catch(A){console.error("Failed to update task stage:",A)}f(null)},re=async(K,me)=>{const A=E.find($e=>$e.task_id===K);if(A&&A.stage_id!==me)try{await iu.update(K,{stage_id:me}),Z()}catch($e){console.error("Failed to update task stage:",$e)}},se=async()=>{if(g.task_name.trim())try{const K=$i({task_name:g.task_name.trim(),stage_id:g.stage_id?parseInt(g.stage_id):null,assigned_to:g.assigned_to?parseInt(g.assigned_to):null,task_status:g.task_status,due_date:g.due_date?new Date(g.due_date).toISOString():null,description:g.description.trim()||null,auth_user_id:(t==null?void 0:t.id)||null},{task_name:"task_name",description:"description"});await iu.create(K),Z(),m({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),p(!1)}catch(K){console.error("Failed to create task:",K)}},le=!0;return x.useEffect(()=>{if(H.length>0&&s===null){const K=H.filter(me=>me.stage_type==="tasks").sort((me,A)=>(me.stager_order_index??0)-(A.stager_order_index??0));K.length>0&&i(K[0].stage_id)}},[H,s]),R||r||!t?o.jsx(Op,{message:n("tasks.loading","Loading tasks...")}):Y?o.jsx(gx,{message:Y}):o.jsxs("div",{className:"h-full flex flex-col bg-background p-4 rounded-md ",children:[o.jsx(Ap,{title:n("tasks.title"),description:n("tasks.description","Manage and track all your tasks"),icon:o.jsx(ng,{className:"h-5 w-5 text-primary"}),breadcrumbs:[{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.tasks")}],actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(oe,{variant:l==="kanban"?"default":"ghost",size:"sm",onClick:()=>c("kanban"),className:"h-8 w-8 p-0",children:o.jsx(p_,{className:"h-4 w-4"})}),o.jsx(oe,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),className:"h-8 w-8 p-0",children:o.jsx(Nm,{className:"h-4 w-4"})})]}),o.jsxs(oe,{onClick:()=>p(!0),children:[o.jsx(ur,{className:"mr-2 h-4 w-4"})," ",n("tasks.addNewTask")]})]}),stats:[{label:n("tasks.total","Total Tasks"),value:E.length,icon:o.jsx(ng,{className:"h-4 w-4 text-primary"})},{label:n("tasks.todo","To Do"),value:E.filter(K=>K.task_status==="todo").length,icon:o.jsx(h_,{className:"h-4 w-4 text-gray-500"})},{label:n("tasks.inProgress","In Progress"),value:E.filter(K=>K.task_status==="in_progress").length,icon:o.jsx(yd,{className:"h-4 w-4 text-blue-500"})},{label:n("tasks.done","Done"),value:E.filter(K=>K.task_status==="done").length,icon:o.jsx(su,{className:"h-4 w-4 text-green-500"})}]}),o.jsx(hO,{onSearch:y,onFilterStatus:b,onFilterAssignee:S,onFilterDateRange:j,users:P,statuses:[{value:"todo",label:n("tasks.todo")},{value:"in_progress",label:n("tasks.inProgress")},{value:"done",label:n("tasks.done")}]}),l==="kanban"?o.jsxs(U_,{stages:U,currentStageId:s||((ae=U[0])==null?void 0:ae.id),onStageChange:i,children:[o.jsx(bn,{open:h,onOpenChange:p,children:o.jsxs(on,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(ln,{children:[o.jsx(cn,{children:n("tasks.createTask")}),o.jsx(Ma,{children:n("tasks.createTaskDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),o.jsx(qe,{value:g.task_name,onChange:K=>m(me=>({...me,task_name:K.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),o.jsx(sa,{value:g.description,onChange:K=>m(me=>({...me,description:K.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),o.jsxs(wt,{value:g.assigned_to,onValueChange:K=>m(me=>({...me,assigned_to:K})),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:n("tasks.selectUser")})}),o.jsx(xt,{children:P.map(K=>o.jsx(Ce,{value:K.user_id.toString(),children:ke(K,"user_name")},K.user_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),o.jsxs(wt,{value:g.stage_id,onValueChange:K=>m(me=>({...me,stage_id:K})),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:n("tasks.selectStage")})}),o.jsx(xt,{children:H.filter(K=>["New","In Progress","Overdue","Completed"].includes(K.stage_name)).map(K=>o.jsx(Ce,{value:K.stage_id.toString(),children:ke(K,"stage_name")},K.stage_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),o.jsxs(wt,{value:g.task_status,onValueChange:K=>m(me=>({...me,task_status:K})),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:n("tasks.selectStatus")})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"todo",children:n("tasks.todo")}),o.jsx(Ce,{value:"in_progress",children:n("tasks.inProgress")}),o.jsx(Ce,{value:"done",children:n("tasks.done")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),o.jsx(qe,{type:"date",value:g.due_date,onChange:K=>m(me=>({...me,due_date:K.target.value}))})]})]}),o.jsxs(Ia,{children:[o.jsx(oe,{variant:"outline",onClick:()=>p(!1),children:n("buttons.cancel")}),o.jsxs(oe,{onClick:se,disabled:!g.task_name.trim(),children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})}),o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:H.filter(K=>K.stage_type==="tasks").sort((K,me)=>{const A=K.stager_order_index??0,$e=me.stager_order_index??0;return A-$e}).filter(K=>{var me;return a?K.stage_id===(s||((me=U[0])==null?void 0:me.id)):!0}).map((K,me)=>{var $e,Ie;const A=I.filter(Ue=>Ue.stage_id===K.stage_id);return o.jsxs("div",{className:je("flex-shrink-0 animate-fade-in",a?"w-full":"w-[300px]"),style:{animationDelay:`${me*.1}s`},onDragOver:B,onDrop:()=>q(K.stage_id),children:[o.jsx("div",{className:je("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft hidden md:block",K.color||"border-l-4 border-primary/50"),children:o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(m_,{className:"h-4 w-4 text-muted-foreground cursor-move"}),o.jsx("h2",{className:"font-bold text-base",children:ke(K,"stage_name")})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:A.length})})]})}),o.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 custom-scrollbar",children:[(($e=H.sort((Ue,Ve)=>(Ue.stager_order_index||0)-(Ve.stager_order_index||0))[0])==null?void 0:$e.stage_id)===K.stage_id&&o.jsx("div",{className:"mb-4",children:o.jsx(nt,{className:je("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",a?"w-full h-[100px]":"w-[280px] h-[120px]"),onClick:()=>p(!0),children:o.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[o.jsx(ur,{className:"h-8 w-8"}),o.jsx("span",{className:"text-sm font-medium",children:n("tasks.addNewTask")})]})})}),A.map(Ue=>{const Ve=P.find(De=>De.user_id===Ue.assigned_to);return o.jsx("div",{draggable:le,onDragStart:()=>X(Ue.task_id),className:"cursor-move",children:o.jsx(wge,{task:Ue,assignedUser:Ve||null,stages:H,onDelete:()=>C(Ue.task_id),onClick:()=>{console.log("Task clicked:",Ue.task_id)},onDragStart:X,onStageChange:re,isDragging:d===Ue.task_id})},Ue.task_id)}),((Ie=H.sort((Ue,Ve)=>(Ue.stager_order_index||0)-(Ve.stager_order_index||0))[0])==null?void 0:Ie.stage_id)!==K.stage_id&&o.jsx("div",{className:"mt-2",children:o.jsxs(oe,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>p(!0),children:[o.jsx(ur,{className:"h-4 w-4 mr-2"}),n("tasks.addTask")]})})]})]},K.stage_id)})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-lg font-semibold",children:[n("tasks.allTasks")," (",E.length,")"]}),o.jsx(bn,{open:h,onOpenChange:p,children:o.jsxs(on,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(ln,{children:[o.jsx(cn,{children:n("tasks.createTask")}),o.jsx(Ma,{children:n("tasks.createTaskDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),o.jsx(qe,{value:g.task_name,onChange:K=>m(me=>({...me,task_name:K.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),o.jsx(sa,{value:g.description,onChange:K=>m(me=>({...me,description:K.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),o.jsxs(wt,{value:g.assigned_to,onValueChange:K=>m(me=>({...me,assigned_to:K})),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:n("tasks.selectUser")})}),o.jsx(xt,{children:P.map(K=>o.jsx(Ce,{value:K.user_id.toString(),children:ke(K,"user_name")},K.user_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),o.jsxs(wt,{value:g.stage_id,onValueChange:K=>m(me=>({...me,stage_id:K})),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:n("tasks.selectStage")})}),o.jsx(xt,{children:H.map(K=>o.jsx(Ce,{value:K.stage_id.toString(),children:ke(K,"stage_name")},K.stage_id))})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),o.jsxs(wt,{value:g.task_status,onValueChange:K=>m(me=>({...me,task_status:K})),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:n("tasks.selectStatus")})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"todo",children:n("tasks.todo")}),o.jsx(Ce,{value:"in_progress",children:n("tasks.inProgress")}),o.jsx(Ce,{value:"done",children:n("tasks.done")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),o.jsx(qe,{type:"date",value:g.due_date,onChange:K=>m(me=>({...me,due_date:K.target.value}))})]})]})]}),o.jsxs(Ia,{children:[o.jsx(oe,{variant:"outline",onClick:()=>p(!1),children:n("buttons.cancel")}),o.jsxs(oe,{onClick:se,disabled:!g.task_name.trim(),children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})})]}),(()=>{const K=[{key:"task",header:n("tasks.taskName"),render:A=>o.jsx(uf,{title:A.task_name,subtitle:A.description})},{key:"assignee",header:n("tasks.assignedTo"),hideOnMobile:!0,render:A=>{const $e=P.find(Ie=>Ie.user_id===A.assigned_to);return o.jsx(Dm,{name:$e?ke($e,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"status",header:n("tasks.status"),render:A=>o.jsx(xO,{variant:u(A.task_status),children:A.task_status||n("leads.unknown")})},{key:"due_date",header:n("tasks.dueDate"),hideOnMobile:!0,render:A=>o.jsx(cf,{date:A.due_date,fallback:n("leads.notSet")})},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:A=>{const $e=H.find(Ie=>Ie.stage_id===A.stage_id);return $e?ke($e,"stage_name"):n("leads.unknown")}}],me=[{label:n("common.view"),icon:o.jsx(ai,{className:"h-4 w-4"}),onClick:A=>console.log("View task:",A.task_id)},{label:n("buttons.delete","Delete"),icon:o.jsx(Sr,{className:"h-4 w-4"}),onClick:A=>C(A.task_id),variant:"destructive"}];return o.jsx(lf,{data:I,columns:K,actions:me,keyExtractor:A=>A.task_id,emptyState:o.jsx(sl,{icon:o.jsx(ng,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("tasks.noTasksYet"),description:n("tasks.createFirst","Create a task to get started"),action:o.jsxs(oe,{onClick:()=>p(!0),children:[o.jsx(ur,{className:"h-4 w-4 mr-2"}),n("tasks.addNewTask")]})})})})()]})]})}function tM(e){const[t,r]=x.useState(e),n=x.useCallback((s,i)=>{r(l=>({...l,[s]:i}))},[]),a=x.useCallback(s=>{r(s??e)},[e]);return{values:t,setValues:r,setField:n,reset:a}}const rE=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}},_ge=(e,t)=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):t,Sge=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return o.jsx(FN,{className:"h-3 w-3 text-red-500"});case"high":return o.jsx(FN,{className:"h-3 w-3 text-orange-500"});default:return null}};function rM({ticket:e,assignedUser:t,userRole:r,onDelete:n,onClick:a,onDragStart:s,onDragEnd:i,isDragging:l=!1,stageName:c}){const{t:u}=qt(),d=ca();return o.jsxs(nt,{className:je("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",l&&"opacity-50 rotate-2 scale-105"),onClick:a,draggable:!!s,onDragStart:f=>{s&&(f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("text/plain",e.ticket_id.toString()),s(e.ticket_id))},onDragEnd:()=>{i&&i()},children:[o.jsx(Ut,{className:"pb-3 px-4 pt-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",e.ticket_id]}),Sge(e.priority)]}),o.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:e.subject||u("tickets.noSubject","No Subject")}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description})]}),n&&r==="admin"&&o.jsxs(di,{children:[o.jsx(of,{asChild:!0,onClick:f=>f.stopPropagation(),children:o.jsx(oe,{variant:"ghost",size:"sm",className:je("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(Sr,{className:"h-4 w-4"})})}),o.jsxs(As,{onClick:f=>f.stopPropagation(),children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:u("tickets.deleteTicket","Delete Ticket")}),o.jsx(Rs,{children:u("tickets.deleteConfirmation",{name:e.subject||"this ticket"})})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:u("buttons.cancel")}),o.jsx(Is,{onClick:f=>{f.stopPropagation(),n(e.ticket_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),o.jsxs(ct,{className:"px-4 pb-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c&&o.jsx(dt,{variant:"outline",className:"text-xs",children:c}),o.jsx(dt,{variant:rE(e.priority),className:"text-xs",children:e.priority||u("leads.unknown")}),e.ticket_type&&o.jsx(dt,{variant:"outline",className:"text-xs",children:e.ticket_type})]}),t&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(os,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("span",{className:"text-sm text-muted-foreground truncate",children:ke(t,"user_name")})]}),o.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[o.jsx(No,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:_ge(e.created_date,u("leads.unknown"))})]})})]})]})}function jge(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState(!0),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,p]=x.useState("all"),[g,m]=x.useState("all"),[v,y]=x.useState("all"),[w,b]=x.useState(!1),[_,S]=x.useState(null),[k,j]=x.useState(!1),[E,N]=x.useState(!1),O=x.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"",stage_id:""}),[]),P=x.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"unassigned",stage_id:""}),[]),{values:T,setField:L,reset:H,setValues:z}=tM(O),{values:M,setField:I,reset:U,setValues:R}=tM(P),[Y,Z]=x.useState(null),[C,X]=x.useState(null),[B,q]=x.useState("kanban"),[re,se]=x.useState(""),[le,ae]=x.useState(!1),{user:K,loading:me}=vr(),{t:A}=qt(),$e=ca();x.useEffect(()=>{K&&!me&&Ie()},[K,me]),x.useEffect(()=>{if(a.length>0&&C===null){const ue=a.filter(Ee=>Ee.stage_type==="tickets");ue.length>0&&X(ue[0].stage_id)}},[a,C]);const Ie=async()=>{try{l(!0),u(null);const[ue,Ee,Le]=await Promise.all([u0.getAll().catch(Re=>(console.error("[Tickets] Error fetching tickets:",Re),[])),Pa.getAll().catch(Re=>(console.error("[Tickets] Error fetching users:",Re),[])),ts.getByType("tickets").catch(Re=>(console.error("[Tickets] Error fetching stages:",Re),[]))]);if(t(ue),n(Ee),s(Le),Le.length>0){const Re=[...Le].sort((Ke,_t)=>(Ke.stager_order_index||0)-(_t.stager_order_index||0));z(Ke=>({...Ke,stage_id:Ke.stage_id||Re[0].stage_id.toString()}))}}catch(ue){console.error("[Tickets] Failed to load data:",ue),u(ue.message||A("common.error"))}finally{l(!1)}},Ue=ue=>ue&&r.find(Ee=>Ee.user_id===ue)||null,Ve=async ue=>{var Ee;if(ue.preventDefault(),!(le||!K)){se(""),ae(!0);try{const Le=T.assigned_to?parseInt(T.assigned_to):null,Re=r.find(Bn=>Bn.user_id===Le),Ke=(Re==null?void 0:Re.auth_user_id)||null,_t={subject:T.subject,description:T.description||null,priority:T.priority,ticket_type:T.ticket_type,stage_id:T.stage_id?parseInt(T.stage_id):null,created_by:((Ee=K.profile)==null?void 0:Ee.user_id)||null,created_by_auth_user_id:K.id,assigned_to:Le,assigned_to_auth_user_id:Ke,auth_user_id:K.id,resolved_date:null,closed_at:null,closed_by:null,room_id:null,task_id:null,status:"open"},lr=await u0.create(_t);t([lr,...e]);const yr=a.length>0?[...a].sort((Bn,wr)=>(Bn.stager_order_index||0)-(wr.stager_order_index||0))[0].stage_id.toString():"";H({...O,stage_id:yr}),b(!1)}catch(Le){se(Le.message||A("tickets.createError"))}finally{ae(!1)}}},De=ue=>{var Ee,Le;S(ue),N(!1),R({...P,subject:ue.subject||"",description:ue.description||"",priority:ue.priority||"medium",ticket_type:ue.ticket_type||"request",assigned_to:((Ee=ue.assigned_to)==null?void 0:Ee.toString())||"unassigned",stage_id:((Le=ue.stage_id)==null?void 0:Le.toString())||""}),j(!0)},pt=async()=>{if(!(!_||le)){se(""),ae(!0);try{const ue=M.assigned_to&&M.assigned_to!=="unassigned"?parseInt(M.assigned_to):null,Ee=r.find(Re=>Re.user_id===ue),Le=(Ee==null?void 0:Ee.auth_user_id)||null;await u0.update(_.ticket_id,{subject:M.subject,description:M.description||null,priority:M.priority,ticket_type:M.ticket_type,assigned_to:ue,assigned_to_auth_user_id:Le,stage_id:M.stage_id?parseInt(M.stage_id):null}),t(e.map(Re=>Re.ticket_id===_.ticket_id?{...Re,subject:M.subject,description:M.description||null,priority:M.priority,ticket_type:M.ticket_type,assigned_to:ue,assigned_to_auth_user_id:Le,stage_id:M.stage_id?parseInt(M.stage_id):null}:Re)),S(Re=>Re?{...Re,subject:M.subject,description:M.description||null,priority:M.priority,ticket_type:M.ticket_type,assigned_to:ue,assigned_to_auth_user_id:Le,stage_id:M.stage_id?parseInt(M.stage_id):null}:null),N(!1)}catch(ue){se(ue.message||A("tickets.updateError","Failed to update ticket"))}finally{ae(!1)}}},yt=async ue=>{try{await u0.delete(ue),t(e.filter(Ee=>Ee.ticket_id!==ue))}catch(Ee){console.error("[Tickets] Failed to delete ticket:",Ee)}},ne=ue=>{Z(ue)},he=()=>{Z(null)},F=ue=>{ue.preventDefault(),ue.dataTransfer.dropEffect="move"},ce=async ue=>{if(!Y)return;const Ee=e.find(Le=>Le.ticket_id===Y);if(Ee&&Ee.stage_id!==ue){t(Le=>Le.map(Re=>Re.ticket_id===Y?{...Re,stage_id:ue}:Re));try{await u0.moveToStage(Y,ue)}catch(Le){console.error("Failed to update ticket stage:",Le),t(Re=>Re.map(Ke=>Ke.ticket_id===Y?{...Ke,stage_id:Ee.stage_id}:Ke))}}Z(null)},pe=x.useMemo(()=>e.filter(ue=>{var _t,lr,yr;const Ee=((_t=ue.subject)==null?void 0:_t.toLowerCase().includes(d.toLowerCase()))||((lr=ue.description)==null?void 0:lr.toLowerCase().includes(d.toLowerCase())),Le=h==="all"||ue.priority===h,Re=g==="all"||ue.ticket_type===g,Ke=v==="all"||((yr=ue.stage_id)==null?void 0:yr.toString())===v;return Ee&&Le&&Re&&Ke}),[e,d,h,g,v]),xe=x.useMemo(()=>a.filter(ue=>ue.stage_type==="tickets").sort((ue,Ee)=>{const Le=ue.stager_order_index??0,Re=Ee.stager_order_index??0;return Le-Re}),[a]),Fe=x.useMemo(()=>xe.map(ue=>({id:ue.stage_id,name:ke(ue,"stage_name"),color:ue.color,count:pe.filter(Ee=>Ee.stage_id===ue.stage_id).length})),[xe,pe]),ye=()=>{var ue;return xe.length===0?o.jsx(sl,{icon:o.jsx(lh,{className:"h-12 w-12 text-muted-foreground/50"}),title:A("tickets.noStages","No ticket stages found"),description:A("tickets.noStagesDesc","Create ticket stages in the database to enable Kanban view")}):o.jsxs(U_,{stages:Fe,currentStageId:C||((ue=Fe[0])==null?void 0:ue.id),onStageChange:X,children:[o.jsx("div",{className:je("flex gap-4 pb-4 overflow-x-auto",$e?"hidden":"flex"),children:xe.map(Ee=>{const Le=pe.filter(_t=>_t.stage_id===Ee.stage_id),Re=Ee.color||"border-l-4 border-gray-400",Ke=ke(Ee,"stage_name");return o.jsxs("div",{className:"flex-shrink-0 w-[320px] flex flex-col h-[calc(100vh-280px)]",onDragOver:F,onDrop:()=>ce(Ee.stage_id),children:[o.jsx("div",{className:je("bg-muted/50 backdrop-blur rounded-t-lg p-3 sticky top-0 z-10",Re),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold text-sm",children:ke(Ee,"stage_name")}),o.jsx(dt,{variant:"secondary",className:"text-xs",children:Le.length})]}),o.jsx(oe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>{z(_t=>({..._t,stage_id:Ee.stage_id.toString()})),b(!0)},children:o.jsx(ur,{className:"h-4 w-4"})})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto bg-muted/30 rounded-b-lg p-3",children:o.jsxs("div",{className:"space-y-3",children:[Le.map(_t=>o.jsx(rM,{ticket:_t,assignedUser:Ue(_t.assigned_to),userRole:K==null?void 0:K.role,onDelete:yt,onClick:()=>De(_t),onDragStart:ne,onDragEnd:he,isDragging:Y===_t.ticket_id,stageName:Ke},_t.ticket_id)),Le.length===0&&o.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:A("tickets.noTicketsInStage","No tickets in this stage")})]})})]},Ee.stage_id)})}),$e&&C&&o.jsxs("div",{className:"space-y-3 p-2",children:[pe.filter(Ee=>Ee.stage_id===C).map(Ee=>{var Le;return o.jsx(rM,{ticket:Ee,assignedUser:Ue(Ee.assigned_to),userRole:K==null?void 0:K.role,onDelete:yt,onClick:()=>De(Ee),onDragStart:ne,onDragEnd:he,isDragging:Y===Ee.ticket_id,stageName:((Le=Fe.find(Re=>Re.id===C))==null?void 0:Le.name)||null},Ee.ticket_id)}),pe.filter(Ee=>Ee.stage_id===C).length===0&&o.jsx(sl,{icon:o.jsx(lh,{className:"h-12 w-12 text-muted-foreground/50"}),title:A("tickets.noTicketsInStage","No tickets in this stage"),description:A("tickets.createFirst","Create a ticket to get started"),action:o.jsxs(oe,{onClick:()=>{z(Ee=>({...Ee,stage_id:C.toString()})),b(!0)},children:[o.jsx(ur,{className:"h-4 w-4 mr-2"}),A("tickets.newTicket")]})})]})]})},_e=()=>{const ue=[{key:"ticket",header:A("tickets.subject","Subject"),render:Le=>o.jsx(uf,{title:Le.subject||A("tickets.noSubject","No Subject"),subtitle:Le.description})},{key:"priority",header:A("tickets.priority","Priority"),render:Le=>o.jsx(xO,{variant:rE(Le.priority),children:Le.priority||A("leads.unknown")})},{key:"type",header:A("tickets.ticketType","Type"),hideOnMobile:!0,render:Le=>o.jsx(dt,{variant:"outline",className:"text-xs",children:Le.ticket_type||A("leads.unknown")})},{key:"assignee",header:A("tickets.assignedTo","Assigned To"),hideOnMobile:!0,render:Le=>{const Re=Ue(Le.assigned_to);return o.jsx(Dm,{name:Re?ke(Re,"user_name"):null,fallback:A("tickets.unassigned","Unassigned")})}},{key:"stage",header:A("tickets.stage","Stage"),hideOnMobile:!0,render:Le=>{const Re=xe.find(Ke=>Ke.stage_id===Le.stage_id);return Re?ke(Re,"stage_name"):A("tickets.noStage","No stage")}},{key:"created",header:A("tickets.createdDate","Created"),hideOnMobile:!0,render:Le=>o.jsx(cf,{date:Le.created_date,fallback:A("leads.notSet","Not set")})}],Ee=[{label:A("common.view","View"),icon:o.jsx(ai,{className:"h-4 w-4"}),onClick:De},{label:A("buttons.delete","Delete"),icon:o.jsx(Sr,{className:"h-4 w-4"}),onClick:Le=>yt(Le.ticket_id),variant:"destructive",show:()=>(K==null?void 0:K.role)==="admin"}];return o.jsx(lf,{data:pe,columns:ue,actions:Ee,keyExtractor:Le=>Le.ticket_id,onRowClick:De,emptyState:o.jsx(sl,{icon:o.jsx(lh,{className:"h-12 w-12 text-muted-foreground/50"}),title:A("tickets.noTicketsFound","No tickets found"),description:A("tickets.noTicketsFoundDesc","Try adjusting your filters"),action:o.jsxs(oe,{onClick:()=>b(!0),children:[o.jsx(ur,{className:"h-4 w-4 mr-2"}),A("tickets.newTicket","New Ticket")]})})})};return i||me||!K?o.jsx(Op,{message:A("tickets.loading","Loading tickets...")}):c?o.jsx(gx,{title:A("tickets.errorTitle","Error loading tickets"),message:c,onRetry:Ie}):o.jsxs("div",{className:"h-full flex flex-col bg-background p-4 rounded-md ",children:[o.jsx(Ap,{title:A("tickets.title"),description:A("tickets.description","Manage and track support tickets"),icon:o.jsx(lh,{className:"h-5 w-5 text-primary"}),breadcrumbs:[{label:A("navigation.dashboard"),href:"/dashboard"},{label:A("navigation.tickets")}],actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(oe,{variant:B==="kanban"?"default":"ghost",size:"sm",onClick:()=>q("kanban"),className:"h-8 w-8 p-0",children:o.jsx(p_,{className:"h-4 w-4"})}),o.jsx(oe,{variant:B==="list"?"default":"ghost",size:"sm",onClick:()=>q("list"),className:"h-8 w-8 p-0",children:o.jsx(Nm,{className:"h-4 w-4"})})]}),o.jsxs(oe,{onClick:()=>b(!0),children:[o.jsx(ur,{className:"h-4 w-4 mr-2"}),A("tickets.newTicket")]})]}),stats:[{label:A("tickets.total","Total Tickets"),value:e.length,icon:o.jsx(lh,{className:"h-4 w-4 text-primary"})},...xe.map(ue=>({label:ke(ue,"stage_name"),value:e.filter(Ee=>Ee.stage_id===ue.stage_id).length,icon:o.jsx(m_,{className:"h-4 w-4 text-muted-foreground"})}))]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(qe,{placeholder:A("tickets.searchPlaceholder","Search tickets..."),value:d,onChange:ue=>f(ue.target.value),className:"pl-10 h-9"})]}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[o.jsxs(wt,{value:v,onValueChange:y,children:[o.jsx(vt,{className:"w-[130px] h-9",children:o.jsx(bt,{placeholder:A("tickets.allStages","All Stages")})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"all",children:A("tickets.allStages","All Stages")}),xe.map(ue=>o.jsx(Ce,{value:ue.stage_id.toString(),children:ke(ue,"stage_name")},ue.stage_id))]})]}),o.jsxs(wt,{value:g,onValueChange:m,children:[o.jsx(vt,{className:"w-[130px] h-9",children:o.jsx(bt,{})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"all",children:A("tickets.allTypes","All Types")}),o.jsx(Ce,{value:"issue",children:A("tickets.typeIssue","Issue")}),o.jsx(Ce,{value:"request",children:A("tickets.typeRequest","Request")}),o.jsx(Ce,{value:"follow_up",children:A("tickets.typeFollowUp","Follow Up")}),o.jsx(Ce,{value:"internal_task",children:A("tickets.typeInternalTask","Internal Task")})]})]}),o.jsxs(wt,{value:h,onValueChange:p,children:[o.jsx(vt,{className:"w-[130px] h-9",children:o.jsx(bt,{})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"all",children:A("tickets.allPriorities","All Priorities")}),o.jsx(Ce,{value:"low",children:A("tickets.priorityLow","Low")}),o.jsx(Ce,{value:"medium",children:A("tickets.priorityMedium","Medium")}),o.jsx(Ce,{value:"high",children:A("tickets.priorityHigh","High")}),o.jsx(Ce,{value:"urgent",children:A("tickets.priorityUrgent","Urgent")})]})]})]})]}),o.jsx("div",{className:"flex-1 overflow-auto",children:B==="kanban"?ye():_e()}),o.jsx(bn,{open:w,onOpenChange:b,children:o.jsxs(on,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(ln,{children:[o.jsx(cn,{children:A("tickets.createNewTicket")}),o.jsx(Ma,{children:A("tickets.createTicketDesc")})]}),o.jsxs("form",{onSubmit:Ve,className:"space-y-4",children:[re&&o.jsx(Qd,{variant:"destructive",children:o.jsx(Zd,{children:re})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ge,{htmlFor:"subject",children:[A("tickets.subject")," *"]}),o.jsx(qe,{id:"subject",value:T.subject,onChange:ue=>L("subject",ue.target.value),placeholder:A("tickets.subjectPlaceholder"),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"description",children:A("tickets.description")}),o.jsx(sa,{id:"description",value:T.description,onChange:ue=>L("description",ue.target.value),placeholder:A("tickets.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"stage",children:A("tickets.stage","Stage")}),o.jsxs(wt,{value:T.stage_id,onValueChange:ue=>L("stage_id",ue),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:A("tickets.selectStage","Select stage")})}),o.jsx(xt,{children:xe.map(ue=>o.jsx(Ce,{value:ue.stage_id.toString(),children:ke(ue,"stage_name")},ue.stage_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ge,{htmlFor:"priority",children:[A("tickets.priority")," *"]}),o.jsxs(wt,{value:T.priority,onValueChange:ue=>L("priority",ue),children:[o.jsx(vt,{children:o.jsx(bt,{})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"low",children:A("tickets.priorityLow")}),o.jsx(Ce,{value:"medium",children:A("tickets.priorityMedium")}),o.jsx(Ce,{value:"high",children:A("tickets.priorityHigh")}),o.jsx(Ce,{value:"urgent",children:A("tickets.priorityUrgent")})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ge,{htmlFor:"ticket_type",children:[A("tickets.ticketType")," *"]}),o.jsxs(wt,{value:T.ticket_type,onValueChange:ue=>L("ticket_type",ue),children:[o.jsx(vt,{children:o.jsx(bt,{})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"request",children:A("tickets.typeRequest")}),o.jsx(Ce,{value:"follow_up",children:A("tickets.typeFollowUp")}),o.jsx(Ce,{value:"issue",children:A("tickets.typeIssue")}),o.jsx(Ce,{value:"internal_task",children:A("tickets.typeInternalTask")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"assigned_to",children:A("tickets.assignTo")}),o.jsxs(wt,{value:T.assigned_to,onValueChange:ue=>L("assigned_to",ue),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:A("tickets.selectAssignee")})}),o.jsx(xt,{children:r.map(ue=>o.jsx(Ce,{value:ue.user_id.toString(),children:ke(ue,"user_name")},ue.user_id))})]})]})]}),o.jsxs(Ia,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[o.jsx(oe,{type:"button",variant:"outline",onClick:()=>b(!1),className:"w-full sm:w-auto",children:A("buttons.cancel")}),o.jsx(oe,{type:"submit",disabled:le||!T.subject.trim(),className:"w-full sm:w-auto",children:A(le?"tickets.creatingTicket":"tickets.createTicket")})]})]})]})}),o.jsx(bn,{open:k,onOpenChange:j,children:o.jsxs(on,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[o.jsxs(ln,{children:[o.jsx(cn,{className:"text-lg sm:text-xl leading-tight",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[o.jsx("span",{className:"break-words",children:_==null?void 0:_.subject}),o.jsx(dt,{variant:"secondary",className:"self-start sm:self-center shrink-0",children:(_==null?void 0:_.status)||A("leads.unknown")})]})}),o.jsxs(Ma,{className:"text-sm",children:[A("tickets.ticketId"),": #",_==null?void 0:_.ticket_id]})]}),_&&o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[re&&o.jsx(Qd,{variant:"destructive",children:o.jsx(Zd,{children:re})}),E?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ge,{htmlFor:"edit-subject",children:[A("tickets.subject")," *"]}),o.jsx(qe,{id:"edit-subject",value:M.subject,onChange:ue=>I("subject",ue.target.value),placeholder:A("tickets.subjectPlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"edit-description",children:A("tickets.description")}),o.jsx(sa,{id:"edit-description",value:M.description,onChange:ue=>I("description",ue.target.value),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:A("tickets.stage","Stage")}),o.jsxs(wt,{value:M.stage_id,onValueChange:ue=>I("stage_id",ue),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:A("tickets.selectStage","Select stage")})}),o.jsx(xt,{children:xe.map(ue=>o.jsx(Ce,{value:ue.stage_id.toString(),children:ke(ue,"stage_name")},ue.stage_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:A("tickets.priority")}),o.jsxs(wt,{value:M.priority,onValueChange:ue=>I("priority",ue),children:[o.jsx(vt,{children:o.jsx(bt,{})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"low",children:A("tickets.priorityLow")}),o.jsx(Ce,{value:"medium",children:A("tickets.priorityMedium")}),o.jsx(Ce,{value:"high",children:A("tickets.priorityHigh")}),o.jsx(Ce,{value:"urgent",children:A("tickets.priorityUrgent")})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:A("tickets.ticketType")}),o.jsxs(wt,{value:M.ticket_type,onValueChange:ue=>I("ticket_type",ue),children:[o.jsx(vt,{children:o.jsx(bt,{})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"request",children:A("tickets.typeRequest")}),o.jsx(Ce,{value:"follow_up",children:A("tickets.typeFollowUp")}),o.jsx(Ce,{value:"issue",children:A("tickets.typeIssue")}),o.jsx(Ce,{value:"internal_task",children:A("tickets.typeInternalTask")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:A("tickets.assignTo")}),o.jsxs(wt,{value:M.assigned_to,onValueChange:ue=>I("assigned_to",ue),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:A("tickets.selectAssignee")})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"unassigned",children:A("tickets.unassigned","Unassigned")}),r.map(ue=>o.jsx(Ce,{value:ue.user_id.toString(),children:ke(ue,"user_name")},ue.user_id))]})]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:A("tickets.priority")}),o.jsx("div",{className:"mt-1",children:o.jsx(dt,{variant:rE(_.priority),className:"text-xs",children:_.priority||A("leads.unknown")})})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:A("tickets.ticketType")}),o.jsx("div",{className:"mt-1",children:o.jsx(dt,{variant:"outline",className:"text-xs",children:_.ticket_type||A("leads.unknown")})})]})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:A("tickets.stage","Stage")}),o.jsx("div",{className:"mt-1 text-sm",children:xe.find(ue=>ue.stage_id===_.stage_id)?ke(xe.find(ue=>ue.stage_id===_.stage_id),"stage_name"):A("tickets.noStage","No stage")})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:A("tickets.assignedTo")}),o.jsx("div",{className:"mt-1 text-sm break-words",children:Ue(_.assigned_to)?ke(Ue(_.assigned_to),"user_name"):A("tickets.unassigned","Unassigned")})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:A("tickets.createdDate")}),o.jsx("div",{className:"mt-1 text-sm",children:_.created_date?new Date(_.created_date).toLocaleString():"N/A"})]})]}),_.description&&o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:A("tickets.description")}),o.jsx("div",{className:"mt-2 p-3 bg-muted rounded-md text-sm whitespace-pre-wrap break-words",children:_.description})]})]}),o.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:A("tickets.createdBy")}),o.jsx("div",{className:"mt-1 text-sm break-words",children:Ue(_.created_by)?ke(Ue(_.created_by),"user_name"):A("leads.unknown")})]}),_.resolved_date&&o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:A("tickets.resolvedDate")}),o.jsx("div",{className:"mt-1 text-sm",children:new Date(_.resolved_date).toLocaleString()})]}),_.closed_at&&o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:A("tickets.closedDate")}),o.jsx("div",{className:"mt-1 text-sm",children:new Date(_.closed_at).toLocaleString()})]})]})]}),o.jsx(Ia,{className:"flex flex-col-reverse sm:flex-row gap-2 pt-4",children:E?o.jsxs(o.Fragment,{children:[o.jsx(oe,{variant:"outline",onClick:()=>N(!1),className:"w-full sm:w-auto",children:A("buttons.cancel")}),o.jsxs(oe,{onClick:pt,disabled:le||!M.subject.trim(),className:"w-full sm:w-auto",children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),le?A("buttons.saving","Saving..."):A("buttons.save","Save")]})]}):o.jsxs(o.Fragment,{children:[o.jsx(oe,{variant:"outline",onClick:()=>j(!1),className:"w-full sm:w-auto",children:A("buttons.close","Close")}),o.jsxs(oe,{onClick:()=>N(!0),className:"w-full sm:w-auto",children:[o.jsx(Eo,{className:"h-4 w-4 mr-2"}),A("buttons.edit","Edit")]})]})})]})})]})}function HW({projectId:e,onClose:t}){const{id:r}=vne(),n=Fs(),{user:a}=vr(),[s,i]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!0),[f,h]=x.useState(null),[p,g]=x.useState(null),[m,v]=x.useState(null),[y,w]=x.useState(null),[b,_]=x.useState([]),[S,k]=x.useState([]),j=e||(r?parseInt(r):null),E=!!e;x.useEffect(()=>{(async()=>{if(!(!j||!a)){if(a.role==="admin"||a.role==="manager"){h(!0);return}if(a.role==="employee")try{const I=(await VI.getProjectUsers(j)).some(U=>U.auth_user_id===a.id);h(I)}catch(M){console.error("Failed to check project access:",M),h(!1)}else h(!0)}})()},[j,a]),x.useEffect(()=>{j&&f&&N()},[j,f]);const N=async()=>{if(j)try{d(!0);const z=await Go.getById(j);if(g(z),z){if(z.created_by)try{const M=await Pa.getByAuthId(z.created_by);v(M)}catch(M){console.error("Failed to fetch client:",M)}if(z.created_by)try{const M=await Pa.getByAuthId(z.created_by);w(M)}catch(M){console.error("Failed to fetch manager:",M)}try{const I=(await VI.getProjectUsers(j)).map(R=>R.auth_user_id),U=await Promise.all(I.map(R=>Pa.getByAuthId(R).catch(()=>null)));_(U.filter(R=>R!==null))}catch(M){console.error("Failed to fetch project users:",M)}try{const U=(await ts.getAll()).filter(Z=>Z.project_id===j).map(Z=>Z.stage_id),Y=(await Promise.all(U.map(Z=>iu.getByStage(Z)))).flat();k(Y)}catch(M){console.error("Failed to fetch tasks:",M)}}}catch(z){console.error("Failed to load project data:",z)}finally{d(!1)}};x.useEffect(()=>{j&&p&&S.length>0&&O()},[j,p,S]);const O=async()=>{if(!(!j||!p||S.length===0))try{const z=[];for(const M of S){const I=await QN.getByTask(M.task_id);z.push(...I)}i(z)}catch(z){console.error("Failed to load comments:",z)}},P=async z=>{if(!(!l.trim()||!a))try{const M=await QN.create({task_id:z,auth_user_id:a.id,message:l.trim()});i(I=>[...I,M]),c("")}catch(M){console.error("Failed to add comment:",M)}},T=()=>{t?t():n("/projects")},L=({children:z})=>E?o.jsx("div",{className:"h-full overflow-y-auto p-1",children:z}):o.jsx(En,{children:z});if(f===!1)return o.jsx(L,{children:o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have permission to view this project."}),o.jsx(oe,{onClick:T,children:"Back to Projects"})]})})});if(f===null||!p||!m||!y)return u?o.jsx(L,{children:o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):o.jsx(L,{children:o.jsx("div",{children:"Project not found"})});const H={todo:"bg-slate-200 text-slate-700",in_progress:"bg-blue-200 text-blue-700",done:"bg-green-200 text-green-700"};return o.jsx(L,{children:o.jsxs("div",{className:"space-y-6 pb-10",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(oe,{variant:"ghost",size:"icon",onClick:T,children:o.jsx(S9,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:ke(p,"project_name")}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:ke(m,"company_name")})]})]}),o.jsx(oe,{variant:"outline",className:"self-start sm:self-auto",children:"Settings"})]}),o.jsx(nt,{children:o.jsxs(ct,{className:"pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),o.jsxs("span",{className:"text-sm font-bold",children:[p.progress||0,"%"]})]}),o.jsx(cc,{value:p.progress||0,className:"h-3"})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[o.jsx("div",{className:"lg:col-span-2 space-y-4 lg:space-y-6",children:o.jsxs(hl,{defaultValue:"tasks",children:[o.jsxs(Do,{className:"w-full sm:w-auto",children:[o.jsx(Kr,{value:"tasks",className:"flex-1 sm:flex-none",children:"Tasks"}),o.jsx(Kr,{value:"images",className:"flex-1 sm:flex-none",children:"Images"}),o.jsx(Kr,{value:"comments",className:"flex-1 sm:flex-none",children:"Comments"})]}),o.jsxs(_n,{value:"tasks",className:"space-y-3",children:[S.map(z=>{var I;const M=b.find(U=>U.user_id===z.assigned_to);return o.jsx(nt,{children:o.jsx(ct,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold",children:ke(z,"task_name")}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:ke(z,"description")}),o.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[o.jsx(dt,{className:je("text-xs",H[z.task_status]),children:((I=z.task_status)==null?void 0:I.replace("_"," "))||"todo"}),z.due_date&&o.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(No,{className:"h-3 w-3"}),"Due: ",new Date(z.due_date).toLocaleDateString()]})]})]}),M&&o.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[o.jsx("div",{className:"text-2xl mb-1",children:M.avatar||""}),ke(M,"user_name")]})]})})},z.task_id)}),o.jsx(oe,{variant:"outline",className:"w-full",children:"+ Add New Task"})]}),o.jsx(_n,{value:"images",children:o.jsx(nt,{children:o.jsxs(ct,{className:"pt-6",children:[o.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(z=>o.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:""})},z))}),o.jsxs(oe,{variant:"outline",className:"w-full mt-4",children:[o.jsx(yA,{className:"h-4 w-4 mr-2"}),"Upload Images"]})]})})}),o.jsxs(_n,{value:"comments",className:"space-y-3",children:[s.map(z=>{const M=[...b,m,y].find(I=>I&&I.auth_user_id===z.auth_user_id);return o.jsx(nt,{children:o.jsx(ct,{className:"pt-6",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"text-2xl",children:(M==null?void 0:M.avatar)||""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-sm",children:M?ke(M,"user_name"):"Unknown"}),o.jsx("p",{className:"text-sm mt-1",children:z.message}),o.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:new Date(z.created_date||"").toLocaleString()})]})]})})},z.comment_id)}),S.length>0&&o.jsx(nt,{children:o.jsx(ct,{className:"pt-6",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(qe,{placeholder:"Add a comment...",value:l,onChange:z=>c(z.target.value),onKeyDown:z=>{z.key==="Enter"&&!z.shiftKey&&(z.preventDefault(),P(S[0].task_id))}}),o.jsx(oe,{size:"icon",onClick:()=>P(S[0].task_id),children:o.jsx(g_,{className:"h-4 w-4"})})]})})})]})]})}),o.jsxs("div",{className:"space-y-4 lg:order-last",children:[o.jsxs(nt,{children:[o.jsx(Ut,{children:o.jsx(tr,{className:"text-base sm:text-lg",children:"Project Summary"})}),o.jsxs(ct,{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-1",children:"Client"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:m.avatar}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold",children:ke(m,"user_name")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:ke(m,"company_name")})]})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-1",children:"Project Manager"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:y.avatar}),o.jsx("div",{className:"text-sm",children:ke(y,"user_name")})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:"Team"}),o.jsx("div",{className:"space-y-2",children:b.map(z=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:z.avatar||""}),o.jsx("div",{className:"text-sm",children:ke(z,"user_name")})]},z.user_id))})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-1",children:"Timeline"}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Start: ",p.created_date?new Date(p.created_date).toLocaleDateString():"Not set",p.end_date&&o.jsxs("div",{children:["End: ",new Date(p.end_date).toLocaleDateString()]})]})]})]})]}),o.jsxs(nt,{children:[o.jsx(Ut,{children:o.jsx(tr,{className:"text-base sm:text-lg",children:"Recent Activity"})}),o.jsx(ct,{children:o.jsxs("div",{className:"space-y-3 text-xs",children:[o.jsxs("div",{className:"pb-2 border-b",children:[o.jsx("div",{className:"font-medium",children:"Task completed"}),o.jsx("div",{className:"text-muted-foreground",children:"2 hours ago"})]}),o.jsxs("div",{className:"pb-2 border-b",children:[o.jsx("div",{className:"font-medium",children:"New comment added"}),o.jsx("div",{className:"text-muted-foreground",children:"5 hours ago"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Images uploaded"}),o.jsx("div",{className:"text-muted-foreground",children:"1 day ago"})]})]})})]})]})]})]})})}function kge({project:e,client:t,manager:r,stages:n,onDelete:a,onClick:s,onDragStart:i,onStageChange:l,isDragging:c=!1}){const{t:u}=qt(),d=ca(),f=e.progress||0,h=m=>m?new Date(m).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):u("leads.notSet","Not set"),p=m=>{if(!m)return null;const v=new Date,w=(new Date(m).getTime()-v.getTime())/(1e3*60*60);return w<0?"overdue":w<24?"urgent":w<72?"soon":null},g=m=>{switch(p(m)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return o.jsxs(nt,{className:je("group relative hover:shadow-lg transition-all duration-200",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px] border-l-4 rtl:border-l-0 rtl:border-r-4",!d&&(f===100?"border-l-green-500 rtl:border-r-green-500":"border-l-blue-500 rtl:border-r-blue-500"),g(e.end_date),c&&"opacity-50 rotate-2 scale-105"),draggable:!!i,onDragStart:m=>{i&&(m.dataTransfer.effectAllowed="move",m.dataTransfer.setData("text/plain",e.project_id.toString()),i(e.project_id))},children:[o.jsx(Ut,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:s,children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:ke(e,"project_name")}),ke(e,"project_description")&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:ke(e,"project_description")})]}),a&&o.jsxs(di,{children:[o.jsx(of,{asChild:!0,onClick:m=>m.stopPropagation(),children:o.jsx(oe,{variant:"ghost",size:"sm",className:je("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(Sr,{className:"h-4 w-4"})})}),o.jsxs(As,{onClick:m=>m.stopPropagation(),children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:u("projects.deleteProject")}),o.jsx(Rs,{children:u("projects.deleteConfirmation",{name:ke(e,"project_name")})})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:u("buttons.cancel")}),o.jsx(Is,{onClick:m=>{m.stopPropagation(),a(e.project_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),o.jsxs(ct,{className:"px-4 pb-4 space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:u("projects.progress")}),o.jsxs("span",{className:"font-medium",children:[f,"%"]})]}),o.jsx(cc,{value:f,className:"h-2"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t&&o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(yn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Client"}),o.jsx("p",{className:"text-xs font-medium truncate",children:t.user_name})]})]}),o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(os,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Manager"}),o.jsx("p",{className:"text-xs font-medium truncate",children:r?r.user_name:u("common.all","Unassigned")})]})]})]}),d&&l&&o.jsx("div",{className:"pt-1",children:o.jsxs(wt,{value:e.stage.toString(),onValueChange:m=>l(e.project_id,parseInt(m)),children:[o.jsx(vt,{className:"h-7 text-xs",children:o.jsx(bt,{placeholder:u("projects.selectStage","Select stage")})}),o.jsx(xt,{children:n.filter(m=>["New","In Progress","Overdue","Completed"].includes(m.stage_name)).map(m=>o.jsx(Ce,{value:m.stage_id.toString(),children:ke(m,"stage_name")},m.stage_id))})]})}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[o.jsx(No,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:h(e.created_date)})]}),f===100?o.jsx(dt,{variant:"default",className:"bg-green-500 text-xs",children:"Completed"}):f>0?o.jsx(dt,{variant:"default",className:"text-xs",children:"In Progress"}):o.jsx(dt,{variant:"secondary",className:"text-xs",children:"Not Started"})]})]})]})}function Nge(){var xe,Fe;Fs();const{hasRole:e,user:t}=vr();gi();const{t:r}=qt(),n=ca(),[a,s]=x.useState([]),[i,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,p]=x.useState(!0),[g,m]=x.useState(null);x.useState(!1),x.useState("");const[v,y]=x.useState(null),[w,b]=x.useState(""),[_,S]=x.useState(null),[k,j]=x.useState(null),[E,N]=x.useState(!1),[O,P]=x.useState(null),[T,L]=x.useState({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),[H,z]=x.useState(!1),[M,I]=x.useState({project_name:"",project_description:"",client_id:""}),[U,R]=x.useState("kanban"),[Y,Z]=x.useState(null),[C,X]=x.useState(""),[B,q]=x.useState("all"),[re,se]=x.useState("all"),[le,ae]=x.useState({from:void 0,to:void 0}),K=x.useMemo(()=>a.filter(ye=>{const _e=(ye.project_name||"").toLowerCase().includes(C.toLowerCase())||(ye.project_description||"").toLowerCase().includes(C.toLowerCase());let ue=!0;B==="todo"?ue=(ye.progress||0)===0:B==="in_progress"?ue=(ye.progress||0)>0&&(ye.progress||0)<100:B==="done"&&(ue=(ye.progress||0)===100);const Ee=re==="all"||ye.created_by&&ye.created_by.toString()===re;let Le=!0;if(le.from&&ye.end_date){const Re=new Date(ye.end_date),Ke=new Date(le.from);Ke.setHours(0,0,0,0);const _t=new Date(Re);if(_t.setHours(0,0,0,0),Le=_t>=Ke,Le&&le.to){const lr=new Date(le.to);lr.setHours(23,59,59,999),Le=_t<=lr}}else le.from&&!ye.end_date&&(Le=!1);return _e&&ue&&Ee&&Le}),[a,C,B,re,le]);x.useEffect(()=>{me()},[]),x.useEffect(()=>{if(d.length>0&&O===null){const ye=d.find(_e=>_e.stage_id===5);ye&&P(ye.stage_id)}},[d,O]);const me=async()=>{try{p(!0),m(null);const[ye,_e,ue,Ee]=await Promise.all([Go.getAll(),JA.getAll(),Pa.getAll(),ts.getByType("projects")]);console.log("[Projects] Loaded data:",{projects:ye.length,clients:_e.length,users:ue.length,stages:Ee.length}),console.log("[Projects] Projects data:",ye),console.log("[Projects] Stages data:",Ee),s(ye),l(_e),u(ue),f(Ee)}catch(ye){console.error("Failed to load data:",ye),m(r("projects.loadError","Failed to load projects. Please try again."))}finally{p(!1)}},A=async ye=>{if(w.trim())try{await ts.update(ye,{stage_name:w.trim()}),f(d.map(_e=>_e.stage_id===ye?{..._e,stage_name:w.trim()}:_e)),y(null),b("")}catch(_e){console.error("Failed to update stage:",_e)}},$e=async ye=>{if(a.filter(ue=>ue.stage===ye).length>0){S(ye);return}try{await ts.delete(ye),f(d.filter(ue=>ue.stage_id!==ye))}catch(ue){console.error("Failed to delete stage:",ue)}},Ie=ye=>{j(ye)},Ue=ye=>{ye.preventDefault(),ye.dataTransfer.dropEffect="move"},Ve=async ye=>{if(!k)return;const _e=a.find(ue=>ue.project_id===k);if(_e&&_e.stage!==ye)try{await Go.update(k,{stage:ye}),s(a.map(ue=>ue.project_id===k?{...ue,stage:ye}:ue))}catch(ue){console.error("Failed to update project stage:",ue)}j(null)},De=async(ye,_e)=>{const ue=a.find(Ee=>Ee.project_id===ye);if(ue&&ue.stage!==_e)try{await Go.update(ye,{stage:_e}),s(a.map(Ee=>Ee.project_id===ye?{...Ee,stage:_e}:Ee))}catch(Ee){console.error("Failed to update project stage:",Ee)}},pt=async ye=>{try{await Go.delete(ye),s(a.filter(_e=>_e.project_id!==ye))}catch(_e){console.error("Failed to delete project:",_e)}},yt=ye=>{L(_e=>({..._e,stage:ye.toString()})),N(!0)},ne=async()=>{var ye;if(T.project_name.trim())try{const _e=$i({project_name:T.project_name.trim(),project_description:T.project_description.trim()||null,created_by:((ye=t==null?void 0:t.profile)==null?void 0:ye.user_id)||1,progress:T.progress,stage:parseInt(T.stage),end_date:null,auth_user_id:(t==null?void 0:t.id)||""},{project_name:"project_name",project_description:"project_description"}),ue=await Go.create(_e);s([...a,ue]),L({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),N(!1)}catch(_e){console.error("Failed to create project:",_e)}},he=async()=>{var ye;if(M.project_name.trim())try{const _e=$i({project_name:M.project_name.trim(),project_description:M.project_description.trim()||null,created_by:((ye=t==null?void 0:t.profile)==null?void 0:ye.user_id)||1,progress:0,stage:1,end_date:null,auth_user_id:(t==null?void 0:t.id)||""},{project_name:"project_name",project_description:"project_description"}),ue=await Go.create(_e);s([...a,ue]),I({project_name:"",project_description:"",client_id:""}),z(!1)}catch(_e){console.error("Failed to create lead:",_e)}},F=d.filter(ye=>ye.stage_type==="projects").sort((ye,_e)=>{const ue=ye.stager_order_index??0,Ee=_e.stager_order_index??0;return ii()?Ee-ue:ue-Ee}),ce=F.map(ye=>({id:ye.stage_id,name:ke(ye,"stage_name"),color:ye.color,count:K.filter(_e=>_e.stage===ye.stage_id).length})),pe=()=>{var ye;return h?o.jsx(Op,{message:r("projects.loading","Loading projects...")}):g?o.jsx(gx,{title:r("projects.errorTitle","Error loading projects"),message:g,onRetry:me}):a.length===0&&!C&&B==="all"&&re==="all"?o.jsx(sl,{title:r("projects.emptyTitle","No projects found"),description:r("projects.emptyDescription","Get started by creating your first project."),icon:o.jsx(Hh,{className:"h-10 w-10 text-muted-foreground"}),action:o.jsxs(oe,{onClick:()=>z(!0),children:[o.jsx(ur,{className:"mr-2 h-4 w-4"})," ",r("projects.createProject")]})}):o.jsxs(o.Fragment,{children:[o.jsx(hO,{onSearch:X,onFilterStatus:q,onFilterAssignee:se,onFilterDateRange:ae,users:c,statuses:[{value:"todo",label:"Not Started"},{value:"in_progress",label:"In Progress"},{value:"done",label:"Completed"}]}),U==="kanban"?o.jsx(o.Fragment,{children:o.jsx(U_,{stages:ce,currentStageId:O||((ye=ce[0])==null?void 0:ye.id),onStageChange:P,children:o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:F.sort((_e,ue)=>_e.stage_id-ue.stage_id).filter(_e=>{var Ee;return window.innerWidth<1024?_e.stage_id===(O||((Ee=ce[0])==null?void 0:Ee.id)):!0}).map((_e,ue)=>{var Le,Re;const Ee=K.filter(Ke=>Ke.stage===_e.stage_id);return console.log(`[Projects] Stage ${_e.stage_name} (${_e.stage_id}): ${Ee.length} projects`),console.log("[Projects] Stage projects:",Ee),o.jsxs("div",{className:je("flex-shrink-0 animate-fade-in h-[calc(100vh-300px)]",n?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${ue*.1}s`},onDragOver:Ue,onDrop:()=>Ve(_e.stage_id),children:[!n&&o.jsx("div",{className:je("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft",_e.color||"border-l-4 border-primary/50"),children:o.jsx("div",{className:"flex items-center justify-between mb-2",children:v===_e.stage_id?o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx(qe,{value:w,onChange:Ke=>b(Ke.target.value),onKeyDown:Ke=>{Ke.key==="Enter"&&A(_e.stage_id),Ke.key==="Escape"&&(y(null),b(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>A(_e.stage_id),className:"h-8 w-8 p-0",children:""})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(m_,{className:"h-4 w-4 text-muted-foreground cursor-move"}),o.jsx("h2",{className:"font-bold text-base",children:ke(_e,"stage_name")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:Ee.length}),o.jsxs(o.Fragment,{children:[o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>{y(_e.stage_id),b(ke(_e,"stage_name"))},className:"h-6 w-6 p-0",title:r("buttons.edit"),children:o.jsx(Eo,{className:"h-3 w-3"})}),o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>$e(_e.stage_id),className:"h-6 w-6 p-0 text-destructive",title:r("buttons.delete"),children:o.jsx(Sr,{className:"h-3 w-3"})})]})]})]})})}),o.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto scrollbar-hide",children:[((Le=d.sort((Ke,_t)=>(Ke.stager_order_index||0)-(_t.stager_order_index||0))[0])==null?void 0:Le.stage_id)===_e.stage_id&&o.jsx("div",{className:"mb-4",children:o.jsx(nt,{className:je("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",n?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>yt(_e.stage_id),children:o.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[o.jsx(ur,{className:"h-8 w-8"}),o.jsx("span",{className:"text-sm font-medium",children:r("projects.addNewProjectCard")})]})})}),Ee.map(Ke=>{const _t=c.find(lr=>lr.auth_user_id===Ke.created_by);return o.jsx(kge,{project:Ke,client:i.find(lr=>lr.user_id.toString()===Ke.client_id)||null,manager:_t||null,stages:d,onDelete:pt,onClick:()=>Z(Ke.project_id),onDragStart:Ie,onStageChange:De,isDragging:k===Ke.project_id},Ke.project_id)}),((Re=d.sort((Ke,_t)=>(Ke.stager_order_index||0)-(_t.stager_order_index||0))[0])==null?void 0:Re.stage_id)!==_e.stage_id&&o.jsx("div",{className:"mt-2",children:o.jsxs(oe,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>yt(_e.stage_id),children:[o.jsx(ur,{className:"h-4 w-4 mr-2"}),r("projects.addProject")]})})]})]},_e.stage_id)})})})}):o.jsx("div",{className:"bg-card rounded-lg border shadow-sm",children:o.jsxs(z_,{children:[o.jsx(W_,{children:o.jsxs(Vl,{children:[o.jsx(ea,{children:r("projects.projectName")}),o.jsx(ea,{children:r("projects.client")}),o.jsx(ea,{children:r("projects.manager")}),o.jsx(ea,{children:r("projects.stage")}),o.jsx(ea,{children:r("projects.progress")}),o.jsx(ea,{children:r("projects.dueDate")}),o.jsx(ea,{className:"w-[50px]"})]})}),o.jsx(H_,{children:K.map(_e=>{const ue=c.find(Re=>Re.auth_user_id===_e.created_by),Ee=i.find(Re=>Re.user_id.toString()===_e.client_id),Le=d.find(Re=>Re.stage_id===_e.stage);return o.jsxs(Vl,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>Z(_e.project_id),children:[o.jsx(Dn,{className:"font-medium",children:ke(_e,"project_name")}),o.jsx(Dn,{children:Ee?ke(Ee,"user_name"):"-"}),o.jsx(Dn,{children:ue?ke(ue,"user_name"):"-"}),o.jsx(Dn,{children:o.jsx(dt,{variant:"outline",className:"bg-background",children:Le?ke(Le,"stage_name"):"-"})}),o.jsx(Dn,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cc,{value:_e.progress||0,className:"w-16 h-2"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[_e.progress,"%"]})]})}),o.jsx(Dn,{className:"text-muted-foreground text-sm",children:_e.end_date?new Date(_e.end_date).toLocaleDateString():"-"}),o.jsx(Dn,{children:o.jsx(oe,{variant:"ghost",size:"icon",onClick:Re=>{Re.stopPropagation(),pt(_e.project_id)},className:"h-8 w-8 text-muted-foreground hover:text-destructive",children:o.jsx(Sr,{className:"h-4 w-4"})})})]},_e.project_id)})})]})})]})};return o.jsxs("div",{className:"h-full flex flex-col bg-background p-4 rounded-md shadow-sm",children:[o.jsx(Ap,{title:r("projects.title"),description:r("projects.description","Manage and track all your projects"),icon:o.jsx(Hh,{className:"h-5 w-5 text-primary"}),breadcrumbs:[{label:r("navigation.dashboard"),href:"/dashboard"},{label:r("navigation.projects")}],actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(oe,{variant:U==="kanban"?"default":"ghost",size:"sm",onClick:()=>R("kanban"),className:"h-8 w-8 p-0",children:o.jsx(p_,{className:"h-4 w-4"})}),o.jsx(oe,{variant:U==="list"?"default":"ghost",size:"sm",onClick:()=>R("list"),className:"h-8 w-8 p-0",children:o.jsx(Nm,{className:"h-4 w-4"})})]}),o.jsxs(oe,{onClick:()=>z(!0),children:[o.jsx(ur,{className:"mr-2 h-4 w-4"})," ",r("projects.newProject")]})]}),stats:[{label:r("projects.total","Total Projects"),value:a.length,icon:o.jsx(Hh,{className:"h-4 w-4 text-primary"})},{label:r("projects.inProgress","In Progress"),value:a.filter(ye=>(ye.progress||0)>0&&(ye.progress||0)<100).length,icon:o.jsx(No,{className:"h-4 w-4 text-blue-500"})},{label:r("projects.completed","Completed"),value:a.filter(ye=>(ye.progress||0)===100).length,icon:o.jsx(yn,{className:"h-4 w-4 text-green-600"})},{label:r("projects.avgProgress","Avg Progress"),value:a.length>0?`${Math.round(a.reduce((ye,_e)=>ye+(_e.progress||0),0)/a.length)}%`:"0%",icon:o.jsx(cc,{className:"h-4 w-4 text-blue-500"})}]}),pe(),o.jsx(bn,{open:E,onOpenChange:N,children:o.jsxs(on,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(ln,{children:[o.jsx(cn,{children:r("projects.createProject")}),o.jsx(Ma,{children:r("projects.createProjectDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[r("projects.projectName")," *"]}),o.jsx(qe,{value:T.project_name,onChange:ye=>L(_e=>({..._e,project_name:ye.target.value})),placeholder:r("projects.projectNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.description")}),o.jsx(sa,{value:T.project_description,onChange:ye=>L(_e=>({..._e,project_description:ye.target.value})),placeholder:r("projects.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.client")}),o.jsxs(wt,{value:T.client_id,onValueChange:ye=>L(_e=>({..._e,client_id:ye})),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:r("projects.selectClient")})}),o.jsx(xt,{children:i.map(ye=>o.jsx(Ce,{value:ye.user_id.toString(),children:ke(ye,"user_name")},ye.user_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.initialProgress")}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"range",min:"0",max:"100",value:T.progress,onChange:ye=>L(_e=>({..._e,progress:parseInt(ye.target.value)})),className:"w-full h-1.5"}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"0%"}),o.jsxs("span",{children:[T.progress,"%"]}),o.jsx("span",{children:"100%"})]})]})]})]}),o.jsxs(Ia,{children:[o.jsx(oe,{variant:"outline",onClick:()=>N(!1),children:r("buttons.cancel")}),o.jsxs(oe,{onClick:ne,disabled:!((xe=T.project_name)!=null&&xe.trim()),children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),r("projects.createProject")]})]})]})}),o.jsx(bn,{open:H,onOpenChange:z,children:o.jsxs(on,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(ln,{children:[o.jsx(cn,{children:r("projects.createProject")}),o.jsx(Ma,{children:r("projects.createProjectDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[r("projects.projectName")," *"]}),o.jsx(qe,{value:M.project_name,onChange:ye=>I(_e=>({..._e,project_name:ye.target.value})),placeholder:r("projects.projectNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.description")}),o.jsx(sa,{value:M.project_description,onChange:ye=>I(_e=>({..._e,project_description:ye.target.value})),placeholder:r("projects.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.client")}),o.jsxs(wt,{value:M.client_id,onValueChange:ye=>I(_e=>({..._e,client_id:ye})),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:r("projects.selectClient")})}),o.jsx(xt,{children:i.map(ye=>o.jsx(Ce,{value:ye.user_id.toString(),children:ke(ye,"user_name")},ye.user_id))})]})]})]}),o.jsxs(Ia,{children:[o.jsx(oe,{variant:"outline",onClick:()=>z(!1),children:r("buttons.cancel")}),o.jsxs(oe,{onClick:he,disabled:!((Fe=M.project_name)!=null&&Fe.trim()),children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),r("projects.createProject")]})]})]})}),o.jsx(oc,{open:!!Y,onOpenChange:ye=>!ye&&Z(null),children:o.jsxs(dl,{side:"right",className:"w-full sm:max-w-2xl p-0 overflow-hidden sm:w-[800px]",children:[o.jsxs(Ou,{className:"sr-only",children:[o.jsx(lc,{children:"Project Details"}),o.jsx(M_,{children:"View and manage project information"})]}),Y&&o.jsx(HW,{projectId:Y,onClose:()=>Z(null)})]})})]})}function Ege(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var yO="ScrollArea",[qW,NYe]=fs(yO),[Cge,Vi]=qW(yO),GW=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...i}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[p,g]=x.useState(null),[m,v]=x.useState(null),[y,w]=x.useState(0),[b,_]=x.useState(0),[S,k]=x.useState(!1),[j,E]=x.useState(!1),N=Wt(t,P=>c(P)),O=tx(a);return o.jsx(Cge,{scope:r,type:n,dir:O,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:j,onScrollbarYEnabledChange:E,onCornerWidthChange:w,onCornerHeightChange:_,children:o.jsx(ut.div,{dir:O,...i,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});GW.displayName=yO;var KW="ScrollAreaViewport",YW=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,i=Vi(KW,r),l=x.useRef(null),c=Wt(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(ut.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});YW.displayName=KW;var xl="ScrollAreaScrollbar",wO=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Vi(xl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return x.useEffect(()=>(l?s(!0):i(!0),()=>{l?s(!1):i(!1)}),[l,s,i]),a.type==="hover"?o.jsx(Tge,{...n,ref:t,forceMount:r}):a.type==="scroll"?o.jsx(Age,{...n,ref:t,forceMount:r}):a.type==="auto"?o.jsx(XW,{...n,ref:t,forceMount:r}):a.type==="always"?o.jsx(bO,{...n,ref:t}):null});wO.displayName=xl;var Tge=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Vi(xl,e.__scopeScrollArea),[s,i]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx(La,{present:r||s,children:o.jsx(XW,{"data-state":s?"visible":"hidden",...n,ref:t})})}),Age=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Vi(xl,e.__scopeScrollArea),s=e.orientation==="horizontal",i=K_(()=>c("SCROLL_END"),100),[l,c]=Ege("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),i()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,i]),o.jsx(La,{present:r||l!=="hidden",children:o.jsx(bO,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:et(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:et(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),XW=x.forwardRef((e,t)=>{const r=Vi(xl,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,i]=x.useState(!1),l=e.orientation==="horizontal",c=K_(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return Rm(r.viewport,c),Rm(r.content,c),o.jsx(La,{present:n||s,children:o.jsx(bO,{"data-state":s?"visible":"hidden",...a,ref:t})})}),bO=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Vi(xl,e.__scopeScrollArea),s=x.useRef(null),i=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=tH(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,p){return Mge(h,i.current,l,p)}return r==="horizontal"?o.jsx(Oge,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,p=nM(h,l,a.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?o.jsx(Pge,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,p=nM(h,l);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Oge=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Vi(xl,e.__scopeScrollArea),[i,l]=x.useState(),c=x.useRef(null),u=Wt(t,c,s.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(QW,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":G_(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),nH(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&i&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:w1(i.paddingLeft),paddingEnd:w1(i.paddingRight)}})}})}),Pge=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Vi(xl,e.__scopeScrollArea),[i,l]=x.useState(),c=x.useRef(null),u=Wt(t,c,s.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(QW,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":G_(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),nH(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&i&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:w1(i.paddingTop),paddingEnd:w1(i.paddingBottom)}})}})}),[Dge,JW]=qW(xl),QW=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=Vi(xl,r),[g,m]=x.useState(null),v=Wt(t,N=>m(N)),y=x.useRef(null),w=x.useRef(""),b=p.viewport,_=n.content-n.viewport,S=Hn(d),k=Hn(c),j=K_(f,10);function E(N){if(y.current){const O=N.clientX-y.current.left,P=N.clientY-y.current.top;u({x:O,y:P})}}return x.useEffect(()=>{const N=O=>{const P=O.target;(g==null?void 0:g.contains(P))&&S(O,_)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[b,g,_,S]),x.useEffect(k,[n,k]),Rm(g,j),Rm(p.content,j),o.jsx(Dge,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Hn(s),onThumbPointerUp:Hn(i),onThumbPositionChange:k,onThumbPointerDown:Hn(l),children:o.jsx(ut.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:et(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),y.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(N))}),onPointerMove:et(e.onPointerMove,E),onPointerUp:et(e.onPointerUp,N=>{const O=N.target;O.hasPointerCapture(N.pointerId)&&O.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),y1="ScrollAreaThumb",ZW=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=JW(y1,e.__scopeScrollArea);return o.jsx(La,{present:r||a.hasThumb,children:o.jsx(Rge,{ref:t,...n})})}),Rge=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=Vi(y1,r),i=JW(y1,r),{onThumbPositionChange:l}=i,c=Wt(t,f=>i.onThumbChange(f)),u=x.useRef(void 0),d=K_(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Fge(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),o.jsx(ut.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:et(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),g=f.clientX-p.left,m=f.clientY-p.top;i.onThumbPointerDown({x:g,y:m})}),onPointerUp:et(e.onPointerUp,i.onThumbPointerUp)})});ZW.displayName=y1;var _O="ScrollAreaCorner",eH=x.forwardRef((e,t)=>{const r=Vi(_O,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(Ige,{...e,ref:t}):null});eH.displayName=_O;var Ige=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Vi(_O,r),[s,i]=x.useState(0),[l,c]=x.useState(0),u=!!(s&&l);return Rm(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Rm(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),i(d)}),u?o.jsx(ut.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function w1(e){return e?parseInt(e,10):0}function tH(e,t){const r=e/t;return isNaN(r)?0:r}function G_(e){const t=tH(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Mge(e,t,r,n="ltr"){const a=G_(r),s=a/2,i=t||s,l=a-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return rH([c,u],f)(e)}function nM(e,t,r="ltr"){const n=G_(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,i=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,i]:[i*-1,0],u=LN(e,c);return rH([0,i],[0,l])(u)}function rH(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function nH(e,t){return e>0&&e<t}var Fge=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},i=r.left!==s.left,l=r.top!==s.top;(i||l)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function K_(e,t){const r=Hn(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Rm(e,t){const r=Hn(t);jn(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var aH=GW,Lge=YW,$ge=eH;const Ea=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(aH,{ref:n,className:je("relative overflow-hidden",e),...r,children:[o.jsx(Lge,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(sH,{}),o.jsx($ge,{})]}));Ea.displayName=aH.displayName;const sH=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(wO,{ref:n,orientation:t,className:je("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(ZW,{className:"relative flex-1 rounded-full bg-border"})}));sH.displayName=wO.displayName;const yw={async createApplication(e){const{data:t,error:r}=await ve.from("partner_apply").insert(e).select().single();if(r)throw console.error("Error creating partner application:",r),r;return t},async getApplications(){const{data:e,error:t}=await ve.from("partner_apply").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching partner applications:",t),t;return e},async updateStatus(e,t){const{error:r}=await ve.from("partner_apply").update({status:t}).eq("apply_id",e);if(r)throw console.error("Error updating partner application status:",r),r}};function Bge(){const{user:e,createStaffUser:t,deleteUser:r,updateUserRole:n,updateUser:a}=vr(),{currentLanguage:s,isRTL:i}=gi(),{t:l}=qt(),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,p]=x.useState(!0),[g,m]=x.useState(""),[v,y]=x.useState(!1),[w,b]=x.useState(""),[_,S]=x.useState(""),[k,j]=x.useState(""),[E,N]=x.useState("employee"),[O,P]=x.useState(""),[T,L]=x.useState(!1),[H,z]=x.useState(null),[M,I]=x.useState("all"),[U,R]=x.useState("employees"),[Y,Z]=x.useState(!1),[C,X]=x.useState(null),[B,q]=x.useState(!1),[re,se]=x.useState({user_name:"",user_email:"",user_phone:"",user_role:""}),[le,ae]=x.useState(!1),[K,me]=x.useState("");x.useEffect(()=>{A()},[]);const A=async()=>{try{p(!0);const[F,ce]=await Promise.all([Pa.getAll(),yw.getApplications()]);u(F),f(ce)}catch(F){console.error("Failed to load users:",F)}finally{p(!1)}},$e=c.filter(F=>{var ue,Ee,Le;const ce=U==="employees",pe=U==="clients";if(ce&&F.user_role==="client"||pe&&F.user_role!=="client")return!1;const xe=((ue=ke(F,"user_name"))==null?void 0:ue.toLowerCase())||"",Fe=((Ee=F.user_email)==null?void 0:Ee.toLowerCase())||"",ye=((Le=F.user_role)==null?void 0:Le.toLowerCase())||"",_e=g.toLowerCase();return xe.includes(_e)||Fe.includes(_e)||ye.includes(_e)}),Ie=F=>{switch(F){case"admin":return"destructive";case"manager":return"default";case"employee":return"secondary";case"client":return"outline";default:return"secondary"}},Ue=async F=>{if(F.preventDefault(),!T){P(""),L(!0);try{const ce=$i({user_name:w,user_email:_,user_role:E},{user_name:"user_name"});await t(_,k,{name:w,role:E,localizedData:ce}),H&&(await yw.updateStatus(H,"approved"),z(null)),y(!1),b(""),S(""),j(""),N("employee"),A()}catch(ce){P(ce.message||l("users.addUserError"))}finally{L(!1)}}},Ve=F=>{b(F.full_name),S(F.email),N("partner"),j(""),z(F.apply_id),y(!0),R("employees")},De=async F=>{if(confirm(l("users.rejectConfirmation")))try{await yw.updateStatus(F,"rejected"),A()}catch(ce){console.error("Failed to reject application:",ce)}},pt=async(F,ce)=>{if(confirm(l("users.deleteConfirmation",{name:ce})))try{await r(F),A()}catch(pe){alert(`${l("users.deleteError")}: ${pe.message}`)}},yt=async(F,ce)=>{try{await n(F,ce),A()}catch(pe){alert(`${l("users.updateRoleError")}: ${pe.message}`)}},ne=async F=>{var ce;if(F.preventDefault(),!(le||!C)){me(""),ae(!0);try{const pe={};re.user_name!==ke(C,"user_name")&&(pe.user_name=re.user_name),re.user_email!==C.user_email&&(pe.user_email=re.user_email),re.user_phone!==((ce=C.user_phone)==null?void 0:ce.toString())&&(pe.user_phone=re.user_phone?parseInt(re.user_phone):null),re.user_role!==C.user_role&&(pe.user_role=re.user_role),Object.keys(pe).length>0?(await a(C.auth_user_id||"",pe),q(!1),A()):q(!1)}catch(pe){me(pe.message||l("users.updateUserError"))}finally{ae(!1)}}},he=F=>{var ce;X(F),se({user_name:ke(F,"user_name")||"",user_email:F.user_email||"",user_phone:((ce=F.user_phone)==null?void 0:ce.toString())||"",user_role:F.user_role||""}),q(!1),me(""),Z(!0)};return h?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:i?"rtl":"ltr",children:[o.jsxs("div",{className:"flex items-center justify-between md:justify-start gap-4",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:l("users.title")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Aa,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-sm font-medium",children:[c.length," ",l("users.totalUsers")]})]}),o.jsx("p",{className:"hidden md:block text-muted-foreground",children:l("users.subtitle")})]}),o.jsxs("div",{className:"flex flex-row items-center border rounded-lg p-1 bg-muted/50 w-fit",children:[o.jsxs(oe,{variant:U==="employees"?"default":"ghost",size:"sm",onClick:()=>R("employees"),className:"h-8 px-3",children:[o.jsx(gI,{className:"h-4 w-4 mr-2"}),l("users.employees")]}),o.jsxs(oe,{variant:U==="clients"?"default":"ghost",size:"sm",onClick:()=>R("clients"),className:"h-8 px-3",children:[o.jsx(os,{className:"h-4 w-4 mr-2"}),l("users.clients")]}),o.jsxs(oe,{variant:U==="partners"?"default":"ghost",size:"sm",onClick:()=>R("partners"),className:"h-8 px-3",children:[o.jsx(Aa,{className:"h-4 w-4 mr-2"}),l("users.partners")]})]}),U==="employees"&&o.jsxs("div",{className:"space-y-6",children:[(e==null?void 0:e.role)!=="manager"&&o.jsxs(bn,{open:v,onOpenChange:y,children:[o.jsx(Th,{asChild:!0,children:o.jsxs(oe,{className:"w-full",children:[o.jsx(ur,{className:"h-4 w-4 mr-2"}),l("users.addUser")]})}),o.jsxs(on,{children:[o.jsxs(ln,{children:[o.jsx(cn,{children:l("users.addNewUser")}),o.jsx(Ma,{children:l("users.addUserDescription")})]}),o.jsxs("form",{onSubmit:Ue,className:"space-y-4",children:[O&&o.jsx(Qd,{variant:"destructive",children:o.jsx(Zd,{children:O})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"formName",children:l("users.fullName")}),o.jsx(qe,{id:"formName",value:w,onChange:F=>b(F.target.value),placeholder:l("users.fullName"),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"formEmail",children:l("users.email")}),o.jsx(qe,{id:"formEmail",type:"email",value:_,onChange:F=>S(F.target.value),placeholder:l("users.email"),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"formPassword",children:l("users.password")}),o.jsx(qe,{id:"formPassword",type:"password",value:k,onChange:F=>j(F.target.value),placeholder:l("users.password"),required:!0,minLength:6})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"formRole",children:l("users.role")}),o.jsxs(wt,{value:E,onValueChange:F=>N(F),children:[o.jsx(vt,{children:o.jsx(bt,{})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"employee",children:l("users.employee")}),o.jsx(Ce,{value:"manager",children:l("users.manager")}),o.jsx(Ce,{value:"admin",children:l("users.admin")}),o.jsx(Ce,{value:"partner",children:l("users.partner")}),o.jsx(Ce,{value:"partner_employee",children:l("users.partner_employee")})]})]})]}),o.jsx(oe,{type:"submit",className:"w-full",disabled:T,children:l(T?"users.addingUser":"users.addUser")})]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(qe,{placeholder:l("users.searchPlaceholder"),value:g,onChange:F=>m(F.target.value),className:"pl-10"})]}),o.jsxs(Ea,{className:"flex-1",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:$e.map(F=>o.jsxs(nt,{className:"hover:shadow-md transition-shadow",children:[o.jsx(Ut,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(Qa,{className:"h-12 w-12",children:[o.jsx(Za,{src:F.avatar||""}),o.jsx(es,{children:ke(F,"user_name").charAt(0).toUpperCase()})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(tr,{className:"text-lg truncate",children:ke(F,"user_name")}),o.jsx(dt,{variant:Ie(F.user_role),className:"mt-1",children:l(`users.${F.user_role}`)})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>he(F),children:o.jsx(ai,{className:"h-4 w-4"})}),(e==null?void 0:e.role)==="admin"&&o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>pt(F.auth_user_id||"",ke(F,"user_name")),children:o.jsx(Sr,{className:"h-4 w-4"})})]})]})}),o.jsxs(ct,{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(fd,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:F.user_email})]}),F.client_contact&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(rg,{className:"h-4 w-4"}),o.jsx("span",{children:F.client_contact})]}),F.company_name&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Yj,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:F.company_name})]}),(F.user_role==="employee"||F.user_role==="manager")&&(e==null?void 0:e.role)==="admin"&&o.jsxs("div",{className:"pt-2 border-t",children:[o.jsx("div",{className:"text-xs font-medium mb-1",children:l("users.changeRole")}),o.jsxs(wt,{value:F.user_role,onValueChange:ce=>yt(F.auth_user_id||"",ce),children:[o.jsx(vt,{className:"w-full h-8",children:o.jsx(bt,{})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"employee",children:l("users.employee")}),o.jsx(Ce,{value:"manager",children:l("users.manager")})]})]})]}),o.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[l("users.joined")," ",new Date(F.created_at).toLocaleDateString()]})]})]},F.user_id))}),$e.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Aa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:l("users.noUsersFound")}),o.jsx("p",{className:"text-muted-foreground",children:l(g?"users.noUsersFoundDesc":"users.noUsersAvailable")})]})]})]}),U==="clients"&&o.jsx("div",{className:"space-y-6",children:o.jsxs(Ea,{className:"flex-1",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:$e.map(F=>o.jsxs(nt,{className:"hover:shadow-md transition-shadow",children:[o.jsx(Ut,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(Qa,{className:"h-12 w-12",children:[o.jsx(Za,{src:F.avatar||""}),o.jsx(es,{children:ke(F,"user_name").charAt(0).toUpperCase()})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(tr,{className:"text-lg truncate",children:ke(F,"user_name")}),o.jsx(dt,{variant:"outline",className:"mt-1",children:l("users.client")})]})]})}),o.jsxs(ct,{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(fd,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:F.user_email})]}),F.client_contact&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(rg,{className:"h-4 w-4"}),o.jsx("span",{children:F.client_contact})]}),F.company_name&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Yj,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:F.company_name})]}),o.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[l("users.joined")," ",new Date(F.created_at).toLocaleDateString()]})]})]},F.user_id))}),$e.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(os,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:l("clients.noClientsFound")}),o.jsx("p",{className:"text-muted-foreground",children:l("clients.noClientsYet")})]})]})}),U==="partners"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-[calc(100vh-250px)]",children:[o.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(gI,{className:"h-5 w-5"}),l("users.partnerUsers"),o.jsx(dt,{variant:"secondary",className:"ml-auto",children:c.filter(F=>F.user_role==="partner"||F.user_role==="partner_employee").length})]}),o.jsx(Ea,{className:"flex-1 pr-4",children:o.jsx("div",{className:"space-y-3",children:c.filter(F=>F.user_role==="partner"||F.user_role==="partner_employee").length>0?c.filter(F=>F.user_role==="partner"||F.user_role==="partner_employee").map(F=>o.jsx(nt,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>he(F),children:o.jsxs(ct,{className:"p-4 flex items-center gap-3",children:[o.jsxs(Qa,{children:[o.jsx(Za,{src:F.avatar||""}),o.jsx(es,{children:ke(F,"user_name").charAt(0).toUpperCase()})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium truncate",children:ke(F,"user_name")}),o.jsx("div",{className:"text-xs text-muted-foreground truncate",children:F.user_email}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(dt,{variant:"outline",className:"text-xs py-0 h-5",children:l(`users.${F.user_role}`)}),F.company_name&&o.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(Yj,{className:"h-3 w-3"}),F.company_name]})]})]})]})},F.user_id)):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Aa,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:l("users.noPartnerUsersFound")})]})})})]}),o.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(fd,{className:"h-5 w-5"}),l("users.partnerApplications"),o.jsx(dt,{variant:"secondary",children:d.length})]}),o.jsx("div",{className:"w-[140px]",children:o.jsxs(wt,{value:M,onValueChange:F=>I(F),children:[o.jsx(vt,{className:"h-8",children:o.jsx(bt,{placeholder:l("common.filter")})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"all",children:l("common.all")}),o.jsx(Ce,{value:"pending",children:l("status.pending")}),o.jsx(Ce,{value:"approved",children:l("status.approved")}),o.jsx(Ce,{value:"rejected",children:l("status.rejected")})]})]})})]}),o.jsx(Ea,{className:"flex-1 pr-4",children:o.jsx("div",{className:"space-y-3",children:d.filter(F=>M==="all"||F.status===M).length>0?d.filter(F=>M==="all"||F.status===M).map(F=>o.jsx(nt,{children:o.jsxs(ct,{className:"p-4",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2",children:[o.jsx("div",{className:"font-medium",children:F.company_name||F.full_name}),o.jsx(dt,{variant:F.status==="pending"?"outline":F.status==="approved"?"default":"destructive",className:"capitalize",children:l(`status.${F.status}`)})]}),o.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(os,{className:"h-3 w-3"}),F.full_name]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fd,{className:"h-3 w-3"}),F.email]}),F.phone&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rg,{className:"h-3 w-3"}),F.phone]})]}),F.status==="pending"&&o.jsxs("div",{className:"mt-3 flex gap-2 justify-end pt-3 border-t",children:[o.jsx(oe,{size:"sm",variant:"ghost",className:"h-7 text-xs text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>De(F.apply_id),children:l("users.reject")}),o.jsx(oe,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>Ve(F),children:l("users.approve")})]})]})},F.apply_id)):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(fd,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:l("users.noApplicationsFound")})]})})})]})]}),o.jsx(bn,{open:Y,onOpenChange:Z,children:o.jsxs(on,{className:"max-w-2xl max-h-[80vh]",children:[o.jsxs(ln,{children:[o.jsx(cn,{children:l("users.userDetails")}),o.jsx(Ma,{children:l("users.userDetailsDescription")})]}),C&&o.jsx(Ea,{className:"max-h-[60vh] pr-4",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(Qa,{className:"h-16 w-16",children:[o.jsx(Za,{src:C.avatar||""}),o.jsx(es,{className:"text-lg",children:ke(C,"user_name").charAt(0).toUpperCase()})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold",children:ke(C,"user_name")}),o.jsx(dt,{variant:Ie(C.user_role),className:"mt-1",children:l(`users.${C.user_role}`)}),C.avatar&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1 break-all",children:C.avatar})]})]}),B?o.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[K&&o.jsx(Qd,{variant:"destructive",children:o.jsx(Zd,{children:K})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"editName",children:l("users.fullName")}),o.jsx(qe,{id:"editName",value:re.user_name,onChange:F=>se(ce=>({...ce,user_name:F.target.value})),placeholder:l("users.fullName")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"editEmail",children:l("users.email")}),o.jsx(qe,{id:"editEmail",type:"email",value:re.user_email,onChange:F=>se(ce=>({...ce,user_email:F.target.value})),placeholder:l("users.email")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"editRole",children:l("users.role")}),o.jsxs(wt,{value:re.user_role,onValueChange:F=>se(ce=>({...ce,user_role:F})),children:[o.jsx(vt,{children:o.jsx(bt,{})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"employee",children:l("users.employee")}),o.jsx(Ce,{value:"manager",children:l("users.manager")}),o.jsx(Ce,{value:"admin",children:l("users.admin")}),o.jsx(Ce,{value:"client",children:l("users.client")}),o.jsx(Ce,{value:"partner",children:l("users.partner")}),o.jsx(Ce,{value:"partner_employee",children:l("users.partner_employee")})]})]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Ge,{className:"text-sm font-medium",children:l("users.joined")}),o.jsx("p",{className:"text-sm",children:new Date(C.created_at).toLocaleDateString()})]}),C.updated_at&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Ge,{className:"text-sm font-medium",children:l("users.updated")}),o.jsx("p",{className:"text-sm",children:new Date(C.updated_at).toLocaleDateString()})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"editPhone",children:l("users.phone")}),o.jsx(qe,{id:"editPhone",type:"tel",value:re.user_phone,onChange:F=>se(ce=>({...ce,user_phone:F.target.value})),placeholder:l("users.phone")})]}),C.client_contact&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Ge,{className:"text-sm font-medium",children:l("users.contact")}),o.jsx("p",{className:"text-sm",children:C.client_contact})]}),C.company_name&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Ge,{className:"text-sm font-medium",children:l("users.company")}),o.jsx("p",{className:"text-sm",children:ke(C,"company_name")})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Ge,{className:"text-sm font-medium",children:l("users.userId")}),o.jsx("p",{className:"text-sm font-mono text-xs",children:C.user_id})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(oe,{type:"button",variant:"outline",onClick:()=>q(!1),children:l("buttons.cancel")}),o.jsx(oe,{type:"submit",disabled:le,children:l(le?"buttons.saving":"buttons.save")})]})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.fullName")}),o.jsx("p",{className:"text-sm",children:ke(C,"user_name")})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.email")}),o.jsx("p",{className:"text-sm",children:C.user_email||l("common.na")})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.role")}),o.jsx("p",{className:"text-sm",children:l(`users.${C.user_role}`)})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.joined")}),o.jsx("p",{className:"text-sm",children:new Date(C.created_at).toLocaleDateString()})]}),C.updated_at&&o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.updated")}),o.jsx("p",{className:"text-sm",children:new Date(C.updated_at).toLocaleDateString()})]})]}),o.jsxs("div",{className:"space-y-3",children:[C.user_phone&&o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.phone")}),o.jsx("p",{className:"text-sm",children:C.user_phone})]}),C.client_contact&&o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.contact")}),o.jsx("p",{className:"text-sm",children:C.client_contact})]}),C.company_name&&o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.company")}),o.jsx("p",{className:"text-sm",children:ke(C,"company_name")})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.userId")}),o.jsx("p",{className:"text-sm font-mono text-xs",children:C.user_id})]})]})]}),C.auth_user_id&&o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:l("users.authUserId")}),o.jsx("p",{className:"text-sm font-mono text-xs break-all",children:C.auth_user_id})]})]})}),o.jsxs(Ia,{children:[!B&&(e==null?void 0:e.role)==="admin"&&o.jsx(oe,{variant:"outline",onClick:()=>q(!0),children:l("buttons.edit")}),o.jsx(oe,{onClick:()=>Z(!1),children:l("buttons.close")})]})]})})]})}function Uge(){const{user:e}=vr(),{t}=qt(),{isRTL:r}=gi(),n=Fs();console.log("Teams Page - isRTL:",r);const[a,s]=x.useState([]),[i,l]=x.useState([]),[c,u]=x.useState({}),[d,f]=x.useState(!0),[h,p]=x.useState(""),[g,m]=x.useState(!1),[v,y]=x.useState(""),[w,b]=x.useState(""),[_,S]=x.useState(null),k=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="manager";(e==null?void 0:e.role)==="employee"||(e==null||e.role),x.useEffect(()=>{E(),N()},[]);const j=I=>{n("/chats",{state:{teamId:I}})},E=async()=>{try{f(!0);const I=await Qf.getAll(),U=await Qf.getAllTeamMembers();s(I),u(U)}catch(I){console.error("Failed to load teams:",I)}finally{f(!1)}},N=async()=>{try{const I=await Pa.getAll();l(I)}catch(I){console.error("Failed to load users:",I)}},O=async()=>{if(v.trim())try{const I=$i({team_name:v.trim(),team_leader_id:w||null,partner_id:null,auth_user_id:null},{team_name:"team_name"});await Qf.create(I),y(""),b(""),m(!1),await E()}catch(I){console.error("Failed to create team:",I)}},P=async(I,U)=>{try{await Qf.addMember(I,U);const R=i.find(Y=>Y.auth_user_id===U);R&&u(Y=>({...Y,[I]:[...Y[I]||[],R]}))}catch(R){console.error("Failed to add team member:",R)}},T=async(I,U)=>{try{await Qf.removeMember(I,U),u(R=>({...R,[I]:(R[I]||[]).filter(Y=>Y.auth_user_id!==U)}))}catch(R){console.error("Failed to remove team member:",R)}},L=async I=>{try{await Qf.delete(I),s(U=>U.filter(R=>R.team_id!==I)),u(U=>{const R={...U};return delete R[I],R}),S(null)}catch(U){console.error("Failed to delete team:",U)}},H=a.filter(I=>(ke(I,"team_name")||"").toLowerCase().includes(h.toLowerCase())),z=I=>i.find(U=>U.auth_user_id===I),M=i.filter(I=>I.user_role==="employee");return d?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:r?"rtl":"ltr",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:t("teams.title")}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:t("teams.subtitle")})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Aa,{className:"h-5 w-5"}),o.jsx("span",{className:"text-sm font-medium",children:t("teams.memberCount_plural",{count:a.length})})]}),k&&o.jsxs(bn,{open:g,onOpenChange:m,children:[o.jsx(Th,{asChild:!0,children:o.jsxs(oe,{children:[o.jsx(ur,{className:"h-4 w-4 mr-2"}),t("teams.createTeam")]})}),o.jsxs(on,{className:"sm:max-w-[425px]",children:[o.jsxs(ln,{children:[o.jsx(cn,{children:t("teams.createTeamTitle")}),o.jsx(Ma,{children:t("teams.createTeamDesc")})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Ge,{htmlFor:"team-name",className:"text-right rtl:text-left",children:t("teams.teamName")}),o.jsx(qe,{id:"team-name",value:v,onChange:I=>y(I.target.value),className:"col-span-3",placeholder:t("teams.teamNamePlaceholder")})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Ge,{htmlFor:"team-leader",className:"text-right rtl:text-left",children:t("teams.teamLeader")}),o.jsxs(wt,{value:w,onValueChange:b,children:[o.jsx(vt,{className:"col-span-3",children:o.jsx(bt,{placeholder:t("teams.selectTeamLeader")})}),o.jsx(xt,{children:M.map(I=>o.jsx(Ce,{value:I.auth_user_id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:I.avatar||""}),o.jsx("span",{children:ke(I,"user_name")}),o.jsx(dt,{variant:"outline",className:"text-xs",children:I.user_role})]})},I.auth_user_id))})]})]})]}),o.jsx(Ia,{children:o.jsx(oe,{type:"submit",onClick:O,disabled:!v.trim(),children:t("teams.createTeam")})})]})]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(qe,{placeholder:t("teams.searchPlaceholder"),value:h,onChange:I=>p(I.target.value),className:"pl-10"})]}),o.jsxs(Ea,{className:"flex-1",dir:r?"rtl":"ltr",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",dir:r?"rtl":"ltr",children:H.map(I=>{const U=z(I.team_leader_id||""),R=c[I.team_id]||[];return o.jsxs(nt,{className:"hover:shadow-md transition-shadow",children:[o.jsxs(Ut,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(tr,{className:"text-lg",children:ke(I,"team_name")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(oe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",onClick:()=>j(I.team_id),title:t("teams.chat","Chat"),children:o.jsx(ef,{className:"h-4 w-4"})}),o.jsx(dt,{variant:"outline",children:t("teams.memberCount_plural",{count:R.length})}),k&&o.jsxs(di,{children:[o.jsx(of,{asChild:!0,children:o.jsx(oe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:Y=>{Y.stopPropagation(),S(I.team_id)},children:o.jsx(Sr,{className:"h-3 w-3"})})}),o.jsxs(As,{onClick:Y=>Y.stopPropagation(),children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:t("teams.deleteTeam")}),o.jsx(Rs,{children:t("teams.deleteConfirmation",{name:ke(I,"team_name")})})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:t("buttons.cancel")}),o.jsx(Is,{onClick:Y=>{Y.stopPropagation(),L(I.team_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:t("buttons.delete")})]})]})]})]})]}),U&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsxs("span",{children:[t("teams.teamLeader"),":"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{children:U.avatar||""}),o.jsx("span",{children:ke(U,"user_name")})]})]})]}),o.jsxs(ct,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:t("teams.members")}),o.jsxs("div",{className:"space-y-2",children:[R.slice(0,4).map(Y=>o.jsxs("div",{className:`flex items-center ${k?"justify-between":"gap-2"} bg-muted/50 p-2 rounded`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Qa,{className:"h-6 w-6",children:[o.jsx(Za,{src:Y.avatar||""}),o.jsx(es,{className:"text-xs",children:ke(Y,"user_name").charAt(0).toUpperCase()})]}),o.jsx("span",{className:"text-sm",children:ke(Y,"user_name")})]}),k&&o.jsx(oe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:()=>T(I.team_id,Y.auth_user_id),children:o.jsx(Woe,{className:"h-3 w-3"})})]},Y.auth_user_id)),R.length>4&&o.jsx("div",{className:"text-xs text-muted-foreground text-center",children:t("teams.moreMembers",{count:R.length-4})}),R.length===0&&o.jsx("div",{className:"text-xs text-muted-foreground text-center py-2",children:t("teams.noMembersYet")})]})]}),k&&o.jsx("div",{children:o.jsxs(wt,{onValueChange:Y=>{Y&&P(I.team_id,Y)},children:[o.jsx(vt,{className:"w-full",children:o.jsx(bt,{placeholder:t("teams.addMember")})}),o.jsx(xt,{children:i.filter(Y=>Y.auth_user_id&&Y.user_role==="employee"&&!R.some(Z=>Z.auth_user_id===Y.auth_user_id)).map(Y=>o.jsx(Ce,{value:Y.auth_user_id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:Y.avatar||""}),o.jsx("span",{children:ke(Y,"user_name")}),o.jsx(dt,{variant:"outline",className:"text-xs",children:Y.user_role})]})},Y.auth_user_id))})]})}),o.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[t("teams.created")," ",I.created_at?new Date(I.created_at).toLocaleDateString():"N/A"]})]})]},I.team_id)})}),H.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Aa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:t(h?"teams.noTeamsFound":"teams.noTeamsYet")}),o.jsx("p",{className:"text-muted-foreground mb-4",children:t(h?"tickets.noTicketsFoundDesc":"teams.createFirstTeam")}),!h&&k&&o.jsxs(oe,{onClick:()=>m(!0),children:[o.jsx(ur,{className:"h-4 w-4 mr-2"}),t("teams.createFirstTeam")]})]})]})]})}function Vge({rooms:e,selectedRoom:t,onSelectRoom:r,currentUser:n,onNewChannel:a,onNewDM:s,className:i}){const{t:l}=qt(),[c,u]=x.useState(""),d=e.filter(m=>{const v=m.is_private&&ke(m.other_user||{},"user_name")||m.room_name;return v==null?void 0:v.toLowerCase().includes(c.toLowerCase())}),f=d.filter(m=>!m.is_private&&!m.team_id),h=d.filter(m=>m.is_private),p=d.filter(m=>m.team_id),g=m=>{var S;const v=(t==null?void 0:t.room_id)===m.room_id,y=m.is_private,w=y&&ke(m.other_user||{},"user_name")||m.room_name,b=y?(S=m.other_user)==null?void 0:S.avatar:null,_=(w==null?void 0:w.charAt(0).toUpperCase())||"?";return o.jsxs("button",{onClick:()=>r(m),className:je("w-full flex items-center gap-2 px-2 py-1.5 rounded-md transition-colors text-sm mb-0.5",v?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[y?o.jsxs(Qa,{className:"h-6 w-6",children:[o.jsx(Za,{src:b}),o.jsx(es,{className:"text-[10px]",children:_})]}):m.team_id?o.jsx("div",{className:"h-6 w-6 rounded bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:o.jsx(Aa,{className:"h-3.5 w-3.5"})}):o.jsx("div",{className:"h-6 w-6 rounded bg-muted flex items-center justify-center",children:o.jsx(k9,{className:"h-3.5 w-3.5"})}),y&&o.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 h-2 w-2 rounded-full bg-green-500 border-2 border-background"})]}),o.jsx("span",{className:"truncate flex-1 text-left",children:w}),m.unreadCount&&m.unreadCount>0?o.jsx(dt,{variant:"destructive",className:"h-5 min-w-[1.25rem] px-1 flex items-center justify-center text-[10px]",children:m.unreadCount}):null]},m.room_id)};return o.jsxs("div",{className:je("flex flex-col h-full bg-background border-r",i),children:[o.jsxs("div",{className:"p-3 border-b",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h2",{className:"font-semibold text-lg",children:l("chat.title","Messages")}),o.jsx(oe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:o.jsx(j9,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(vi,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(qe,{placeholder:l("common.search","Jump to..."),value:c,onChange:m=>u(m.target.value),className:"pl-9 h-8 bg-muted/50 border-0"})]})]}),o.jsxs(Ea,{className:"flex-1 px-2 py-3",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[o.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.channels","Channels")}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&o.jsx(oe,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-muted",onClick:a,title:l("chat.createChannel","Create Channel"),children:o.jsx(ur,{className:"h-3 w-3"})})]}),o.jsxs("div",{className:"space-y-0.5",children:[f.map(g),f.length===0&&o.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noChannels","No channels")})]})]}),p.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"flex items-center justify-between px-2 mb-1",children:o.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.teams","Teams")})}),o.jsx("div",{className:"space-y-0.5",children:p.map(g)})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[o.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.directMessages","Direct Messages")}),o.jsx(oe,{variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity",onClick:s,children:o.jsx(ur,{className:"h-3 w-3"})})]}),o.jsxs("div",{className:"space-y-0.5",children:[h.map(g),h.length===0&&o.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noMessages","No messages")})]})]})]})]})}function zge({room:e,messages:t,currentUser:r,onSendMessage:n,onBack:a,loading:s,onLoadMore:i,hasMoreMessages:l,isLoadingMore:c,onEditMessage:u,onDeleteMessage:d,className:f}){var X;const{t:h}=qt(),[p,g]=x.useState(""),m=x.useRef(null),[v,y]=x.useState(!1),[w,b]=x.useState(null),[_,S]=x.useState(""),[k,j]=x.useState(!1),E=x.useRef(null);x.useEffect(()=>{if(m.current&&!c){const B=m.current.querySelector("[data-radix-scroll-area-viewport]");B&&(B.scrollTop=B.scrollHeight)}},[t,c]);const N=B=>{const q=B.target;if(!q)return;const se=q.scrollTop<100;y(se),se&&l&&i&&!c&&i()};x.useEffect(()=>{var q;const B=(q=m.current)==null?void 0:q.querySelector("[data-radix-scroll-area-viewport]");if(B)return B.addEventListener("scroll",N),()=>B.removeEventListener("scroll",N)},[l,c,i]);const O=B=>{b(B.message_id),S(B.content)},P=()=>{b(null),S("")},T=()=>{w&&_.trim()&&u&&(u(w,_),b(null),S(""))},L=()=>{p.trim()&&(n(p),g(""))},H=B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),L())},z=async B=>{var re;const q=(re=B.target.files)==null?void 0:re[0];if(!(!q||!n))try{j(!0);const se=await messageService.uploadAttachment(q),ae=q.type.startsWith("image/")?`![${q.name}](${se})`:`[${q.name}](${se})`;n(ae)}catch(se){console.error("Failed to upload file:",se),alert(h("chat.uploadError","Failed to upload file"))}finally{j(!1),E.current&&(E.current.value="")}},M=()=>{var B;(B=E.current)==null||B.click()},I=B=>{const q=/!\[(.*?)\]\((.*?)\)/g,re=/\[(.*?)\]\((.*?)\)/g,se=q.exec(B);if(se)return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("img",{src:se[2],alt:se[1],className:"max-w-full rounded-lg max-h-[300px] object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(se[2],"_blank")}),B.replace(se[0],"").trim()&&o.jsx("span",{children:B.replace(se[0],"").trim()})]});const le=re.exec(B);return le?o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("a",{href:le[2],target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-500 hover:underline bg-background/50 p-2 rounded",children:[o.jsx(mI,{className:"h-4 w-4"}),le[1]]}),B.replace(le[0],"").trim()&&o.jsx("span",{children:B.replace(le[0],"").trim()})]}):B};if(s)return o.jsx("div",{className:je("flex items-center justify-center h-full bg-background",f),children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!e)return o.jsxs("div",{className:je("flex flex-col items-center justify-center h-full bg-background text-muted-foreground p-4 text-center",f),children:[o.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center mb-4",children:o.jsx(ef,{className:"h-8 w-8"})}),o.jsx("h3",{className:"font-semibold text-lg mb-2",children:h("chat.welcome","Welcome to Chat")}),o.jsx("p",{className:"max-w-xs",children:h("chat.selectRoomDesc","Select a channel or direct message to start chatting.")})]});const U=e.is_private,R=U&&ke(e.other_user||{},"user_name")||e.room_name,Y=U?(X=e.other_user)==null?void 0:X.avatar:null,Z=(R==null?void 0:R.charAt(0).toUpperCase())||"?",C=t.reduce((B,q)=>{const re=new Date(q.created_at).toLocaleDateString();return B[re]||(B[re]=[]),B[re].push(q),B},{});return o.jsxs("div",{className:je("flex flex-col h-full bg-background overflow-x-hidden",f),children:[o.jsxs("div",{className:"h-16 border-b flex items-center justify-between px-4 flex-shrink-0 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-10",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[a&&o.jsx(oe,{variant:"ghost",size:"icon",className:"md:hidden -ml-2",onClick:a,children:o.jsx(S9,{className:"h-5 w-5"})}),o.jsxs("div",{className:"flex items-center gap-3",children:[U?o.jsxs(Qa,{className:"h-9 w-9",children:[o.jsx(Za,{src:Y}),o.jsx(es,{children:Z})]}):o.jsx("div",{className:"h-9 w-9 rounded-md bg-muted flex items-center justify-center",children:e.team_id?o.jsx(Aa,{className:"h-5 w-5"}):o.jsx(k9,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsxs("h2",{className:"font-semibold text-sm flex items-center gap-2",children:[R,U&&o.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})]}),!U&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h("chat.membersCount",{count:3})," "]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(oe,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:o.jsx(rg,{className:"h-5 w-5"})}),o.jsx(oe,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:o.jsx(qoe,{className:"h-5 w-5"})}),o.jsx(oe,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:o.jsx(Doe,{className:"h-5 w-5"})})]})]}),o.jsx(Ea,{className:"flex-1 p-4",ref:m,children:o.jsxs("div",{className:"space-y-6 pb-4",children:[c&&o.jsx("div",{className:"flex justify-center py-4",children:o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}),!l&&t.length>10&&o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-xs text-muted-foreground",children:h("chat.beginningOfConversation","Beginning of conversation")})}),Object.entries(C).map(([B,q])=>o.jsxs("div",{children:[o.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:B===new Date().toLocaleDateString()?h("common.today","Today"):B})})]}),o.jsx("div",{className:"space-y-4",children:q.map((re,se)=>{var A;const le=re.auth_user_id===(r==null?void 0:r.id),ae=se===0||q[se-1].auth_user_id!==re.auth_user_id,K=re.sender,me=w===re.message_id;return o.jsxs("div",{className:je("flex gap-3 group",le?"flex-row-reverse":""),children:[ae?o.jsxs(Qa,{className:"h-8 w-8 mt-0.5 flex-shrink-0",children:[o.jsx(Za,{src:K==null?void 0:K.avatar}),o.jsx(es,{children:((A=K==null?void 0:K.user_name)==null?void 0:A.charAt(0))||"?"})]}):o.jsx("div",{className:"w-8 flex-shrink-0"}),o.jsxs("div",{className:je("flex flex-col max-w-[75%]",le?"items-end":"items-start"),children:[ae&&o.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[o.jsx("span",{className:"text-sm font-semibold",children:K==null?void 0:K.user_name}),o.jsx("span",{className:"text-[10px] text-muted-foreground",children:_o(new Date(re.created_at),"h:mm a")})]}),o.jsx("div",{className:je("px-4 py-2 rounded-2xl text-sm shadow-sm relative group",le?"bg-primary text-primary-foreground rounded-tr-none":"bg-muted text-foreground rounded-tl-none",me?"w-full min-w-[200px]":""),children:me?o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("textarea",{value:_,onChange:$e=>S($e.target.value),className:"w-full bg-transparent border rounded p-1 text-foreground min-h-[60px]",autoFocus:!0}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(oe,{size:"sm",variant:"ghost",onClick:P,className:"h-6 px-2 text-xs",children:h("common.cancel","Cancel")}),o.jsx(oe,{size:"sm",variant:"secondary",onClick:T,className:"h-6 px-2 text-xs",children:h("common.save","Save")})]})]}):o.jsxs(o.Fragment,{children:[I(re.content),le&&!me&&o.jsxs("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 bg-background rounded-md shadow-sm border p-0.5",children:[o.jsxs(oe,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-primary",onClick:()=>O(re),children:[o.jsx("span",{className:"sr-only",children:"Edit"}),o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:[o.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),o.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]})]}),o.jsxs(oe,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-destructive",onClick:()=>d&&d(re.message_id),children:[o.jsx("span",{className:"sr-only",children:"Delete"}),o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:o.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})]})]})]})})]})]},re.message_id)})})]},B))]})}),o.jsxs("div",{className:"p-4 bg-background border-t",children:[o.jsxs("div",{className:"flex items-end gap-2 bg-muted/50 p-2 rounded-xl border focus-within:border-primary/50 focus-within:ring-1 focus-within:ring-primary/20 transition-all",children:[o.jsx(oe,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-primary flex-shrink-0",onClick:M,disabled:k,children:k?o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):o.jsx(mI,{className:"h-5 w-5"})}),o.jsx("input",{type:"file",ref:E,className:"hidden",onChange:z,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"}),o.jsx("textarea",{value:p,onChange:B=>g(B.target.value),onKeyDown:H,placeholder:h("chat.typeMessage","Type a message..."),className:"flex-1 bg-transparent border-0 focus:ring-0 resize-none max-h-32 min-h-[36px] py-2 text-sm",rows:1,style:{height:"auto",minHeight:"36px"},onInput:B=>{const q=B.target;q.style.height="auto",q.style.height=`${Math.min(q.scrollHeight,128)}px`}}),o.jsxs("div",{className:"flex items-center gap-1 pb-1",children:[o.jsx(oe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hidden sm:flex",children:o.jsx(Boe,{className:"h-5 w-5"})}),o.jsx(oe,{size:"icon",className:je("h-8 w-8 transition-all",p.trim()?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),onClick:L,disabled:!p.trim()&&!k,children:o.jsx(g_,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"flex justify-between items-center mt-2 px-1",children:o.jsx("p",{className:"text-[10px] text-muted-foreground"})})]})]})}function Wge({open:e,onOpenChange:t,onSelectUser:r,currentUserId:n}){const{t:a}=qt(),[s,i]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!1);x.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{d(!0);const p=await Pa.getAll();i(p.filter(g=>g.auth_user_id!==n))}catch(p){console.error("Failed to load users:",p)}finally{d(!1)}},h=s.filter(p=>{var g,m;return((g=p.user_name)==null?void 0:g.toLowerCase().includes(l.toLowerCase()))||((m=p.user_email)==null?void 0:m.toLowerCase().includes(l.toLowerCase()))});return o.jsx(bn,{open:e,onOpenChange:t,children:o.jsxs(on,{className:"sm:max-w-[425px]",children:[o.jsx(ln,{children:o.jsx(cn,{children:a("chat.newDirectMessage","New Direct Message")})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(vi,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(qe,{placeholder:a("chat.searchUsers","Search users..."),value:l,onChange:p=>c(p.target.value),className:"pl-8"})]}),o.jsx(Ea,{className:"h-[300px]",children:u?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):h.length===0?o.jsx("div",{className:"text-center text-muted-foreground py-8",children:a("chat.noUsersFound","No users found")}):o.jsx("div",{className:"space-y-1",children:h.map(p=>{var g;return o.jsxs("button",{onClick:()=>{r(p),t(!1)},className:"w-full flex items-center gap-3 p-2 hover:bg-muted rounded-md transition-colors text-left",children:[o.jsxs(Qa,{children:[o.jsx(Za,{src:p.avatar}),o.jsx(es,{children:((g=p.user_name)==null?void 0:g.charAt(0))||"?"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:p.user_name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:p.user_email})]})]},p.user_id)})})})]})]})})}var Y_="Switch",[Hge,EYe]=fs(Y_),[qge,Gge]=Hge(Y_),iH=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=x.useState(null),g=Wt(t,b=>p(b)),m=x.useRef(!1),v=h?d||!!h.closest("form"):!0,[y,w]=ic({prop:a,defaultProp:s??!1,onChange:u,caller:Y_});return o.jsxs(qge,{scope:r,checked:y,disabled:l,children:[o.jsx(ut.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":uH(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:et(e.onClick,b=>{w(_=>!_),v&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),v&&o.jsx(cH,{control:h,bubbles:!m.current,name:n,value:c,checked:y,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});iH.displayName=Y_;var oH="SwitchThumb",lH=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=Gge(oH,r);return o.jsx(ut.span,{"data-state":uH(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});lH.displayName=oH;var Kge="SwitchBubbleInput",cH=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const i=x.useRef(null),l=Wt(i,s),c=IA(r),u=TA(t);return x.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const g=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cH.displayName=Kge;function uH(e){return e?"checked":"unchecked"}var dH=iH,Yge=lH;const fH=x.forwardRef(({className:e,...t},r)=>o.jsx(dH,{className:je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:o.jsx(Yge,{className:je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));fH.displayName=dH.displayName;function Xge({open:e,onOpenChange:t,onCreate:r}){const{t:n}=qt(),[a,s]=x.useState(""),[i,l]=x.useState(!1),[c,u]=x.useState(!1),d=async f=>{if(f.preventDefault(),!!a.trim())try{u(!0),await r(a,i),t(!1),s(""),l(!1)}catch(h){console.error("Failed to create channel:",h)}finally{u(!1)}};return o.jsx(bn,{open:e,onOpenChange:t,children:o.jsxs(on,{children:[o.jsx(ln,{children:o.jsx(cn,{children:n("chat.createRoomTitle","Create New Room")})}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"name",children:n("chat.roomName","Room Name")}),o.jsx(qe,{id:"name",value:a,onChange:f=>s(f.target.value),placeholder:n("chat.roomNamePlaceholder","Enter room name"),disabled:c})]}),o.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[o.jsxs(Ge,{htmlFor:"private",className:"flex flex-col space-y-1",children:[o.jsx("span",{children:n("chat.privateRoom","Private Room")}),o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:n("chat.privateRoomDesc","Only invited members can view this room.")})]}),o.jsx(fH,{id:"private",checked:i,onCheckedChange:l,disabled:c})]}),o.jsxs(Ia,{children:[o.jsx(oe,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:n("common.cancel","Cancel")}),o.jsx(oe,{type:"submit",disabled:!a.trim()||c,children:c?n("common.creating","Creating..."):n("chat.createRoom","Create Room")})]})]})]})})}function Jge(){const{user:e}=vr(),{t}=qt(),[r,n]=x.useState([]),[a,s]=x.useState(null),[i,l]=x.useState([]),[c,u]=x.useState(!0),[d,f]=x.useState(!1),[h,p]=x.useState(!0),[g,m]=x.useState(!0),[v,y]=x.useState(!1),[w,b]=x.useState([]),[_,S]=x.useState(!1),[k,j]=x.useState(!1),E=x.useRef(!1),N=x.useRef(null);x.useRef(null);const O=x.useRef(null);x.useEffect(()=>{const Y=()=>{const Z=window.innerWidth<768;f(Z),Z||p(!0)};return Y(),window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]),x.useEffect(()=>{e&&!E.current&&L()},[e]),x.useEffect(()=>{var Z;const Y=(Z=window.history.state)==null?void 0:Z.usr;if(Y!=null&&Y.teamId&&r.length>0){const C=r.find(X=>X.team_id===Y.teamId);C&&s(C)}},[r]),x.useEffect(()=>{a&&(N.current!==a.room_id&&(m(!0),y(!1),H(a.room_id),e&&(ro.markAsRead(a.room_id,e.id),n(Y=>Y.map(Z=>Z.room_id===a.room_id?{...Z,unreadCount:0}:Z)))),d&&p(!1))},[a,d,e]),x.useEffect(()=>{if(!e)return;O.current&&ve.removeChannel(O.current);const Y=ve.channel(`room:${(a==null?void 0:a.room_id)||"global"}`);return O.current=Y,Y.on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},async Z=>{const C=Z.new,X={...C};C.auth_user_id===e.id&&(X.sender=e.profile),(a==null?void 0:a.room_id)===C.room_id&&(l(B=>[...B,X]),document.visibilityState==="visible"&&await ro.markAsRead(C.room_id,e.id)),n(B=>B.map(q=>q.room_id===C.room_id?{...q,lastMessage:C,unreadCount:(a==null?void 0:a.room_id)===C.room_id?0:(q.unreadCount||0)+1}:q))}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},Z=>{const C=Z.new;l(X=>X.map(B=>B.message_id===C.message_id?{...B,...C,sender:B.sender}:B)),n(X=>X.map(B=>{var q;return((q=B.lastMessage)==null?void 0:q.message_id)===C.message_id?{...B,lastMessage:{...B.lastMessage,...C}}:B}))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages"},Z=>{const C=Z.old.message_id;l(X=>X.filter(B=>B.message_id!==C)),n(X=>X.map(B=>{var q;return((q=B.lastMessage)==null?void 0:q.message_id)===C?{...B,lastMessage:void 0}:B}))}).on("broadcast",{event:"typing"},Z=>{Z.payload.roomId===(a==null?void 0:a.room_id)&&Z.payload.userId!==e.id&&(b(C=>C.includes(Z.payload.userName)?C:[...C,Z.payload.userName]),setTimeout(()=>{b(C=>C.filter(X=>X!==Z.payload.userName))},3e3))}).subscribe(async Z=>{Z==="SUBSCRIBED"&&await Y.track({user_id:e.id,online_at:new Date().toISOString()})}),()=>{O.current&&ve.removeChannel(O.current)}},[e,a]);const P=async(Y,Z)=>{try{await Ah.update(Y,Z)}catch(C){console.error("Failed to edit message:",C)}},T=async Y=>{if(confirm(t("chat.deleteConfirm","Are you sure you want to delete this message?")))try{await Ah.delete(Y)}catch(Z){console.error("Failed to delete message:",Z)}},L=async()=>{try{u(!0);const Y=await ro.getUserRooms(e==null?void 0:e.id),Z=await Promise.all(Y.map(async C=>{if(C.is_private){const B=(await ro.getRoomMembers(C.room_id)).find(q=>q.auth_user_id!==(e==null?void 0:e.id));return{...C,other_user:B}}return C}));n(Z),E.current=!0}catch(Y){console.error("Failed to load rooms:",Y)}finally{u(!1)}},H=async(Y,Z=!1)=>{try{Z&&y(!0);const C=10,X=Z&&i.length>0?i[0].created_at:void 0,B=await Ah.getByRoom(Y,{limit:C,before:X});Z?(l(q=>[...B,...q]),m(B.length===C)):(l(B),m(B.length===C),N.current=Y)}catch(C){console.error("Failed to load messages:",C)}finally{Z&&y(!1)}},z=async()=>{!a||v||!g||await H(a.room_id,!0)},M=async Y=>{if(!(!a||!e))try{await Ah.create({room_id:a.room_id,auth_user_id:e.id,content:Y,metadata:{}}),O.current}catch(Z){console.error("Failed to send message:",Z)}},I=()=>{p(!0)},U=async(Y,Z)=>{if(e)try{const C=await ro.createRoom({name:Y,is_private:Z,created_by:e.profile.user_id||0,auth_user_id:e.id});await ro.addMember(C.room_id,e.id),await L();const X={...C};s(X)}catch(C){console.error("Failed to create channel:",C)}},R=async Y=>{if(!e)return;const Z=r.find(C=>{var X;return C.is_private&&((X=C.other_user)==null?void 0:X.auth_user_id)===Y.auth_user_id});if(Z){s(Z);return}try{const C=await ro.createRoom({name:"DM",is_private:!0,created_by:e.profile.user_id||0,auth_user_id:e.id});await ro.addMember(C.room_id,e.id),await ro.addMember(C.room_id,Y.auth_user_id),await L();const X={...C,other_user:Y};s(X)}catch(C){console.error("Failed to create DM:",C)}};return o.jsxs("div",{className:"flex overflow-hidden bg-background p-4 rounded-md ",style:{height:"calc(100vh - 64px - 0.5rem - 3rem)"},children:[o.jsx("div",{className:je("w-full md:w-80 flex-shrink-0 transition-all duration-300 ease-in-out absolute md:relative z-20 h-full bg-background border-r overflow-auto",h?"translate-x-0":"-translate-x-full md:translate-x-0",d&&!h&&"hidden"),children:o.jsx(Vge,{rooms:r,selectedRoom:a,onSelectRoom:s,currentUser:e,onNewChannel:()=>S(!0),onNewDM:()=>j(!0)})}),o.jsx("div",{className:je("flex-1 flex flex-col min-w-0 bg-background transition-all duration-300 h-full",d&&h?"hidden":"flex"),children:o.jsx(zge,{room:a,messages:i,currentUser:e,onSendMessage:M,onBack:I,loading:c,onLoadMore:z,hasMoreMessages:g,isLoadingMore:v,onEditMessage:P,onDeleteMessage:T})}),o.jsx(Xge,{open:_,onOpenChange:S,onCreate:U}),o.jsx(Wge,{open:k,onOpenChange:j,onSelectUser:R,currentUserId:e==null?void 0:e.id})]})}const Qge=1,Zge=1e6;let hk=0;function eve(){return hk=(hk+1)%Number.MAX_SAFE_INTEGER,hk.toString()}const mk=new Map,aM=e=>{if(mk.has(e))return;const t=setTimeout(()=>{mk.delete(e),ag({type:"REMOVE_TOAST",toastId:e})},Zge);mk.set(e,t)},tve=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Qge)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?aM(r):e.toasts.forEach(n=>{aM(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},ww=[];let bw={toasts:[]};function ag(e){bw=tve(bw,e),ww.forEach(t=>{t(bw)})}function rve({...e}){const t=eve(),r=a=>ag({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>ag({type:"DISMISS_TOAST",toastId:t});return ag({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Tf(){const[e,t]=x.useState(bw);return x.useEffect(()=>(ww.push(t),()=>{const r=ww.indexOf(t);r>-1&&ww.splice(r,1)}),[e]),{...e,toast:rve,dismiss:r=>ag({type:"DISMISS_TOAST",toastId:r})}}function hH(e,t){return function(){return e.apply(t,arguments)}}const{toString:nve}=Object.prototype,{getPrototypeOf:SO}=Object,{iterator:X_,toStringTag:mH}=Symbol,J_=(e=>t=>{const r=nve.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Io=e=>(e=e.toLowerCase(),t=>J_(t)===e),Q_=e=>t=>typeof t===e,{isArray:Pp}=Array,Im=Q_("undefined");function vx(e){return e!==null&&!Im(e)&&e.constructor!==null&&!Im(e.constructor)&&Es(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const pH=Io("ArrayBuffer");function ave(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&pH(e.buffer),t}const sve=Q_("string"),Es=Q_("function"),gH=Q_("number"),xx=e=>e!==null&&typeof e=="object",ive=e=>e===!0||e===!1,_w=e=>{if(J_(e)!=="object")return!1;const t=SO(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(mH in e)&&!(X_ in e)},ove=e=>{if(!xx(e)||vx(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},lve=Io("Date"),cve=Io("File"),uve=Io("Blob"),dve=Io("FileList"),fve=e=>xx(e)&&Es(e.pipe),hve=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Es(e.append)&&((t=J_(e))==="formdata"||t==="object"&&Es(e.toString)&&e.toString()==="[object FormData]"))},mve=Io("URLSearchParams"),[pve,gve,vve,xve]=["ReadableStream","Request","Response","Headers"].map(Io),yve=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yx(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Pp(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(vx(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let l;for(n=0;n<i;n++)l=s[n],t.call(null,e[l],l,e)}}function vH(e,t){if(vx(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const bd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xH=e=>!Im(e)&&e!==bd;function nE(){const{caseless:e,skipUndefined:t}=xH(this)&&this||{},r={},n=(a,s)=>{const i=e&&vH(r,s)||s;_w(r[i])&&_w(a)?r[i]=nE(r[i],a):_w(a)?r[i]=nE({},a):Pp(a)?r[i]=a.slice():(!t||!Im(a))&&(r[i]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&yx(arguments[a],n);return r}const wve=(e,t,r,{allOwnKeys:n}={})=>(yx(t,(a,s)=>{r&&Es(a)?e[s]=hH(a,r):e[s]=a},{allOwnKeys:n}),e),bve=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_ve=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Sve=(e,t,r,n)=>{let a,s,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&SO(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},jve=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},kve=e=>{if(!e)return null;if(Pp(e))return e;let t=e.length;if(!gH(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Nve=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&SO(Uint8Array)),Eve=(e,t)=>{const n=(e&&e[X_]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},Cve=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Tve=Io("HTMLFormElement"),Ave=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),sM=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Ove=Io("RegExp"),yH=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};yx(r,(a,s)=>{let i;(i=t(a,s,e))!==!1&&(n[s]=i||a)}),Object.defineProperties(e,n)},Pve=e=>{yH(e,(t,r)=>{if(Es(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Es(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Dve=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return Pp(e)?n(e):n(String(e).split(t)),r},Rve=()=>{},Ive=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Mve(e){return!!(e&&Es(e.append)&&e[mH]==="FormData"&&e[X_])}const Fve=e=>{const t=new Array(10),r=(n,a)=>{if(xx(n)){if(t.indexOf(n)>=0)return;if(vx(n))return n;if(!("toJSON"in n)){t[a]=n;const s=Pp(n)?[]:{};return yx(n,(i,l)=>{const c=r(i,a+1);!Im(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},Lve=Io("AsyncFunction"),$ve=e=>e&&(xx(e)||Es(e))&&Es(e.then)&&Es(e.catch),wH=((e,t)=>e?setImmediate:t?((r,n)=>(bd.addEventListener("message",({source:a,data:s})=>{a===bd&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),bd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Es(bd.postMessage)),Bve=typeof queueMicrotask<"u"?queueMicrotask.bind(bd):typeof process<"u"&&process.nextTick||wH,Uve=e=>e!=null&&Es(e[X_]),Te={isArray:Pp,isArrayBuffer:pH,isBuffer:vx,isFormData:hve,isArrayBufferView:ave,isString:sve,isNumber:gH,isBoolean:ive,isObject:xx,isPlainObject:_w,isEmptyObject:ove,isReadableStream:pve,isRequest:gve,isResponse:vve,isHeaders:xve,isUndefined:Im,isDate:lve,isFile:cve,isBlob:uve,isRegExp:Ove,isFunction:Es,isStream:fve,isURLSearchParams:mve,isTypedArray:Nve,isFileList:dve,forEach:yx,merge:nE,extend:wve,trim:yve,stripBOM:bve,inherits:_ve,toFlatObject:Sve,kindOf:J_,kindOfTest:Io,endsWith:jve,toArray:kve,forEachEntry:Eve,matchAll:Cve,isHTMLForm:Tve,hasOwnProperty:sM,hasOwnProp:sM,reduceDescriptors:yH,freezeMethods:Pve,toObjectSet:Dve,toCamelCase:Ave,noop:Rve,toFiniteNumber:Ive,findKey:vH,global:bd,isContextDefined:xH,isSpecCompliantForm:Mve,toJSONObject:Fve,isAsyncFn:Lve,isThenable:$ve,setImmediate:wH,asap:Bve,isIterable:Uve};function Vt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Te.inherits(Vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Te.toJSONObject(this.config),code:this.code,status:this.status}}});const bH=Vt.prototype,_H={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_H[e]={value:e}});Object.defineProperties(Vt,_H);Object.defineProperty(bH,"isAxiosError",{value:!0});Vt.from=(e,t,r,n,a,s)=>{const i=Object.create(bH);Te.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Vt.call(i,l,c,r,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const Vve=null;function aE(e){return Te.isPlainObject(e)||Te.isArray(e)}function SH(e){return Te.endsWith(e,"[]")?e.slice(0,-2):e}function iM(e,t,r){return e?e.concat(t).map(function(a,s){return a=SH(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function zve(e){return Te.isArray(e)&&!e.some(aE)}const Wve=Te.toFlatObject(Te,{},null,function(t){return/^is[A-Z]/.test(t)});function Z_(e,t,r){if(!Te.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Te.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!Te.isUndefined(v[m])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Te.isSpecCompliantForm(t);if(!Te.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(Te.isDate(g))return g.toISOString();if(Te.isBoolean(g))return g.toString();if(!c&&Te.isBlob(g))throw new Vt("Blob is not supported. Use a Buffer instead.");return Te.isArrayBuffer(g)||Te.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,m,v){let y=g;if(g&&!v&&typeof g=="object"){if(Te.endsWith(m,"{}"))m=n?m:m.slice(0,-2),g=JSON.stringify(g);else if(Te.isArray(g)&&zve(g)||(Te.isFileList(g)||Te.endsWith(m,"[]"))&&(y=Te.toArray(g)))return m=SH(m),y.forEach(function(b,_){!(Te.isUndefined(b)||b===null)&&t.append(i===!0?iM([m],_,s):i===null?m:m+"[]",u(b))}),!1}return aE(g)?!0:(t.append(iM(v,m,s),u(g)),!1)}const f=[],h=Object.assign(Wve,{defaultVisitor:d,convertValue:u,isVisitable:aE});function p(g,m){if(!Te.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(g),Te.forEach(g,function(y,w){(!(Te.isUndefined(y)||y===null)&&a.call(t,y,Te.isString(w)?w.trim():w,m,h))===!0&&p(y,m?m.concat(w):[w])}),f.pop()}}if(!Te.isObject(e))throw new TypeError("data must be an object");return p(e),t}function oM(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function jO(e,t){this._pairs=[],e&&Z_(e,this,t)}const jH=jO.prototype;jH.append=function(t,r){this._pairs.push([t,r])};jH.toString=function(t){const r=t?function(n){return t.call(this,n,oM)}:oM;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Hve(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function kH(e,t,r){if(!t)return e;const n=r&&r.encode||Hve;Te.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=Te.isURLSearchParams(t)?t.toString():new jO(t,r).toString(n),s){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class lM{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Te.forEach(this.handlers,function(n){n!==null&&t(n)})}}const NH={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qve=typeof URLSearchParams<"u"?URLSearchParams:jO,Gve=typeof FormData<"u"?FormData:null,Kve=typeof Blob<"u"?Blob:null,Yve={isBrowser:!0,classes:{URLSearchParams:qve,FormData:Gve,Blob:Kve},protocols:["http","https","file","blob","url","data"]},kO=typeof window<"u"&&typeof document<"u",sE=typeof navigator=="object"&&navigator||void 0,Xve=kO&&(!sE||["ReactNative","NativeScript","NS"].indexOf(sE.product)<0),Jve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Qve=kO&&window.location.href||"http://localhost",Zve=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kO,hasStandardBrowserEnv:Xve,hasStandardBrowserWebWorkerEnv:Jve,navigator:sE,origin:Qve},Symbol.toStringTag,{value:"Module"})),Ca={...Zve,...Yve};function exe(e,t){return Z_(e,new Ca.classes.URLSearchParams,{visitor:function(r,n,a,s){return Ca.isNode&&Te.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function txe(e){return Te.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function rxe(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function EH(e){function t(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&Te.isArray(a)?a.length:i,c?(Te.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!Te.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],s)&&Te.isArray(a[i])&&(a[i]=rxe(a[i])),!l)}if(Te.isFormData(e)&&Te.isFunction(e.entries)){const r={};return Te.forEachEntry(e,(n,a)=>{t(txe(n),a,r,0)}),r}return null}function nxe(e,t,r){if(Te.isString(e))try{return(t||JSON.parse)(e),Te.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const wx={transitional:NH,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=Te.isObject(t);if(s&&Te.isHTMLForm(t)&&(t=new FormData(t)),Te.isFormData(t))return a?JSON.stringify(EH(t)):t;if(Te.isArrayBuffer(t)||Te.isBuffer(t)||Te.isStream(t)||Te.isFile(t)||Te.isBlob(t)||Te.isReadableStream(t))return t;if(Te.isArrayBufferView(t))return t.buffer;if(Te.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return exe(t,this.formSerializer).toString();if((l=Te.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Z_(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),nxe(t)):t}],transformResponse:[function(t){const r=this.transitional||wx.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Te.isResponse(t)||Te.isReadableStream(t))return t;if(t&&Te.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Vt.from(l,Vt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ca.classes.FormData,Blob:Ca.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Te.forEach(["delete","get","head","post","put","patch"],e=>{wx.headers[e]={}});const axe=Te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sxe=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&axe[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},cM=Symbol("internals");function d0(e){return e&&String(e).trim().toLowerCase()}function Sw(e){return e===!1||e==null?e:Te.isArray(e)?e.map(Sw):String(e)}function ixe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const oxe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function pk(e,t,r,n,a){if(Te.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!Te.isString(t)){if(Te.isString(n))return t.indexOf(n)!==-1;if(Te.isRegExp(n))return n.test(t)}}function lxe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function cxe(e,t){const r=Te.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,i){return this[n].call(this,t,a,s,i)},configurable:!0})})}class Cs{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=d0(c);if(!d)throw new Error("header name must be a non-empty string");const f=Te.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Sw(l))}const i=(l,c)=>Te.forEach(l,(u,d)=>s(u,d,c));if(Te.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(Te.isString(t)&&(t=t.trim())&&!oxe(t))i(sxe(t),r);else if(Te.isObject(t)&&Te.isIterable(t)){let l={},c,u;for(const d of t){if(!Te.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Te.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=d0(t),t){const n=Te.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return ixe(a);if(Te.isFunction(r))return r.call(this,a,n);if(Te.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=d0(t),t){const n=Te.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||pk(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(i){if(i=d0(i),i){const l=Te.findKey(n,i);l&&(!r||pk(n,n[l],l,r))&&(delete n[l],a=!0)}}return Te.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||pk(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return Te.forEach(this,(a,s)=>{const i=Te.findKey(n,s);if(i){r[i]=Sw(a),delete r[s];return}const l=t?lxe(s):String(s).trim();l!==s&&delete r[s],r[l]=Sw(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Te.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&Te.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[cM]=this[cM]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=d0(i);n[l]||(cxe(a,i),n[l]=!0)}return Te.isArray(t)?t.forEach(s):s(t),this}}Cs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Te.reduceDescriptors(Cs.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Te.freezeMethods(Cs);function gk(e,t){const r=this||wx,n=t||r,a=Cs.from(n.headers);let s=n.data;return Te.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function CH(e){return!!(e&&e.__CANCEL__)}function Dp(e,t,r){Vt.call(this,e??"canceled",Vt.ERR_CANCELED,t,r),this.name="CanceledError"}Te.inherits(Dp,Vt,{__CANCEL__:!0});function TH(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Vt("Request failed with status code "+r.status,[Vt.ERR_BAD_REQUEST,Vt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function uxe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function dxe(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-i<t)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function fxe(e,t){let r=0,n=1e3/t,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const b1=(e,t,r=3)=>{let n=0;const a=dxe(50,250);return fxe(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},uM=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},dM=e=>(...t)=>Te.asap(()=>e(...t)),hxe=Ca.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ca.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ca.origin),Ca.navigator&&/(msie|trident)/i.test(Ca.navigator.userAgent)):()=>!0,mxe=Ca.hasStandardBrowserEnv?{write(e,t,r,n,a,s,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Te.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Te.isString(n)&&l.push(`path=${n}`),Te.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),Te.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function pxe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function gxe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function AH(e,t,r){let n=!pxe(t);return e&&(n||r==!1)?gxe(e,t):t}const fM=e=>e instanceof Cs?{...e}:e;function df(e,t){t=t||{};const r={};function n(u,d,f,h){return Te.isPlainObject(u)&&Te.isPlainObject(d)?Te.merge.call({caseless:h},u,d):Te.isPlainObject(d)?Te.merge({},d):Te.isArray(d)?d.slice():d}function a(u,d,f,h){if(Te.isUndefined(d)){if(!Te.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!Te.isUndefined(d))return n(void 0,d)}function i(u,d){if(Te.isUndefined(d)){if(!Te.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(fM(u),fM(d),f,!0)};return Te.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);Te.isUndefined(h)&&f!==l||(r[d]=h)}),r}const OH=e=>{const t=df({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=t;if(t.headers=i=Cs.from(i),t.url=kH(AH(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Te.isFormData(r)){if(Ca.hasStandardBrowserEnv||Ca.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Te.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Ca.hasStandardBrowserEnv&&(n&&Te.isFunction(n)&&(n=n(t)),n||n!==!1&&hxe(t.url))){const c=a&&s&&mxe.read(s);c&&i.set(a,c)}return t},vxe=typeof XMLHttpRequest<"u",xxe=vxe&&function(e){return new Promise(function(r,n){const a=OH(e);let s=a.data;const i=Cs.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,p,g;function m(){p&&p(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function y(){if(!v)return;const b=Cs.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:e,request:v};TH(function(j){r(j),m()},function(j){n(j),m()},S),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new Vt("Request aborted",Vt.ECONNABORTED,e,v)),v=null)},v.onerror=function(_){const S=_&&_.message?_.message:"Network Error",k=new Vt(S,Vt.ERR_NETWORK,e,v);k.event=_||null,n(k),v=null},v.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||NH;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),n(new Vt(_,S.clarifyTimeoutError?Vt.ETIMEDOUT:Vt.ECONNABORTED,e,v)),v=null},s===void 0&&i.setContentType(null),"setRequestHeader"in v&&Te.forEach(i.toJSON(),function(_,S){v.setRequestHeader(S,_)}),Te.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([h,g]=b1(u,!0),v.addEventListener("progress",h)),c&&v.upload&&([f,p]=b1(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(d=b=>{v&&(n(!b||b.type?new Dp(null,e,v):b),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const w=uxe(a.url);if(w&&Ca.protocols.indexOf(w)===-1){n(new Vt("Unsupported protocol "+w+":",Vt.ERR_BAD_REQUEST,e));return}v.send(s||null)})},yxe=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Vt?d:new Dp(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,s(new Vt(`timeout ${t} of ms exceeded`,Vt.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>Te.asap(l),c}},wxe=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},bxe=async function*(e,t){for await(const r of _xe(e))yield*wxe(r,t)},_xe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},hM=(e,t,r,n)=>{const a=bxe(e,t);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},mM=64*1024,{isFunction:Cy}=Te,Sxe=(({Request:e,Response:t})=>({Request:e,Response:t}))(Te.global),{ReadableStream:pM,TextEncoder:gM}=Te.global,vM=(e,...t)=>{try{return!!e(...t)}catch{return!1}},jxe=e=>{e=Te.merge.call({skipUndefined:!0},Sxe,e);const{fetch:t,Request:r,Response:n}=e,a=t?Cy(t):typeof fetch=="function",s=Cy(r),i=Cy(n);if(!a)return!1;const l=a&&Cy(pM),c=a&&(typeof gM=="function"?(g=>m=>g.encode(m))(new gM):async g=>new Uint8Array(await new r(g).arrayBuffer())),u=s&&l&&vM(()=>{let g=!1;const m=new r(Ca.origin,{body:new pM,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!m}),d=i&&l&&vM(()=>Te.isReadableStream(new n("").body)),f={stream:d&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(m,v)=>{let y=m&&m[g];if(y)return y.call(m);throw new Vt(`Response type '${g}' is not supported`,Vt.ERR_NOT_SUPPORT,v)})});const h=async g=>{if(g==null)return 0;if(Te.isBlob(g))return g.size;if(Te.isSpecCompliantForm(g))return(await new r(Ca.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Te.isArrayBufferView(g)||Te.isArrayBuffer(g))return g.byteLength;if(Te.isURLSearchParams(g)&&(g=g+""),Te.isString(g))return(await c(g)).byteLength},p=async(g,m)=>{const v=Te.toFiniteNumber(g.getContentLength());return v??h(m)};return async g=>{let{url:m,method:v,data:y,signal:w,cancelToken:b,timeout:_,onDownloadProgress:S,onUploadProgress:k,responseType:j,headers:E,withCredentials:N="same-origin",fetchOptions:O}=OH(g),P=t||fetch;j=j?(j+"").toLowerCase():"text";let T=yxe([w,b&&b.toAbortSignal()],_),L=null;const H=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let z;try{if(k&&u&&v!=="get"&&v!=="head"&&(z=await p(E,y))!==0){let Z=new r(m,{method:"POST",body:y,duplex:"half"}),C;if(Te.isFormData(y)&&(C=Z.headers.get("content-type"))&&E.setContentType(C),Z.body){const[X,B]=uM(z,b1(dM(k)));y=hM(Z.body,mM,X,B)}}Te.isString(N)||(N=N?"include":"omit");const M=s&&"credentials"in r.prototype,I={...O,signal:T,method:v.toUpperCase(),headers:E.normalize().toJSON(),body:y,duplex:"half",credentials:M?N:void 0};L=s&&new r(m,I);let U=await(s?P(L,O):P(m,I));const R=d&&(j==="stream"||j==="response");if(d&&(S||R&&H)){const Z={};["status","statusText","headers"].forEach(q=>{Z[q]=U[q]});const C=Te.toFiniteNumber(U.headers.get("content-length")),[X,B]=S&&uM(C,b1(dM(S),!0))||[];U=new n(hM(U.body,mM,X,()=>{B&&B(),H&&H()}),Z)}j=j||"text";let Y=await f[Te.findKey(f,j)||"text"](U,g);return!R&&H&&H(),await new Promise((Z,C)=>{TH(Z,C,{data:Y,headers:Cs.from(U.headers),status:U.status,statusText:U.statusText,config:g,request:L})})}catch(M){throw H&&H(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new Vt("Network Error",Vt.ERR_NETWORK,g,L),{cause:M.cause||M}):Vt.from(M,M&&M.code,g,L)}}},kxe=new Map,PH=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let i=s.length,l=i,c,u,d=kxe;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:jxe(t)),d=u;return u};PH();const NO={http:Vve,xhr:xxe,fetch:{get:PH}};Te.forEach(NO,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const xM=e=>`- ${e}`,Nxe=e=>Te.isFunction(e)||e===null||e===!1;function Exe(e,t){e=Te.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let i=0;i<r;i++){n=e[i];let l;if(a=n,!Nxe(n)&&(a=NO[(l=String(n)).toLowerCase()],a===void 0))throw new Vt(`Unknown adapter '${l}'`);if(a&&(Te.isFunction(a)||(a=a.get(t))))break;s[l||"#"+i]=a}if(!a){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(xM).join(`
`):" "+xM(i[0]):"as no adapter specified";throw new Vt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const DH={getAdapter:Exe,adapters:NO};function vk(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Dp(null,e)}function yM(e){return vk(e),e.headers=Cs.from(e.headers),e.data=gk.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),DH.getAdapter(e.adapter||wx.adapter,e)(e).then(function(n){return vk(e),n.data=gk.call(e,e.transformResponse,n),n.headers=Cs.from(n.headers),n},function(n){return CH(n)||(vk(e),n&&n.response&&(n.response.data=gk.call(e,e.transformResponse,n.response),n.response.headers=Cs.from(n.response.headers))),Promise.reject(n)})}const RH="1.13.2",eS={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{eS[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const wM={};eS.transitional=function(t,r,n){function a(s,i){return"[Axios v"+RH+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(t===!1)throw new Vt(a(i," has been removed"+(r?" in "+r:"")),Vt.ERR_DEPRECATED);return r&&!wM[i]&&(wM[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,i,l):!0}};eS.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Cxe(e,t,r){if(typeof e!="object")throw new Vt("options must be an object",Vt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],i=t[s];if(i){const l=e[s],c=l===void 0||i(l,s,e);if(c!==!0)throw new Vt("option "+s+" must be "+c,Vt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Vt("Unknown option "+s,Vt.ERR_BAD_OPTION)}}const jw={assertOptions:Cxe,validators:eS},Lo=jw.validators;class $d{constructor(t){this.defaults=t||{},this.interceptors={request:new lM,response:new lM}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=df(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&jw.assertOptions(n,{silentJSONParsing:Lo.transitional(Lo.boolean),forcedJSONParsing:Lo.transitional(Lo.boolean),clarifyTimeoutError:Lo.transitional(Lo.boolean)},!1),a!=null&&(Te.isFunction(a)?r.paramsSerializer={serialize:a}:jw.assertOptions(a,{encode:Lo.function,serialize:Lo.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),jw.assertOptions(r,{baseUrl:Lo.spelling("baseURL"),withXsrfToken:Lo.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&Te.merge(s.common,s[r.method]);s&&Te.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),r.headers=Cs.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,f=0,h;if(!c){const g=[yM.bind(this),void 0];for(g.unshift(...l),g.push(...u),h=g.length,d=Promise.resolve(r);f<h;)d=d.then(g[f++],g[f++]);return d}h=l.length;let p=r;for(;f<h;){const g=l[f++],m=l[f++];try{p=g(p)}catch(v){m.call(this,v);break}}try{d=yM.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=df(this.defaults,t);const r=AH(t.baseURL,t.url,t.allowAbsoluteUrls);return kH(r,t.params,t.paramsSerializer)}}Te.forEach(["delete","get","head","options"],function(t){$d.prototype[t]=function(r,n){return this.request(df(n||{},{method:t,url:r,data:(n||{}).data}))}});Te.forEach(["post","put","patch"],function(t){function r(n){return function(s,i,l){return this.request(df(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}$d.prototype[t]=r(),$d.prototype[t+"Form"]=r(!0)});class EO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},t(function(s,i,l){n.reason||(n.reason=new Dp(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new EO(function(a){t=a}),cancel:t}}}function Txe(e){return function(r){return e.apply(null,r)}}function Axe(e){return Te.isObject(e)&&e.isAxiosError===!0}const iE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(iE).forEach(([e,t])=>{iE[t]=e});function IH(e){const t=new $d(e),r=hH($d.prototype.request,t);return Te.extend(r,$d.prototype,t,{allOwnKeys:!0}),Te.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return IH(df(e,a))},r}const zr=IH(wx);zr.Axios=$d;zr.CanceledError=Dp;zr.CancelToken=EO;zr.isCancel=CH;zr.VERSION=RH;zr.toFormData=Z_;zr.AxiosError=Vt;zr.Cancel=zr.CanceledError;zr.all=function(t){return Promise.all(t)};zr.spread=Txe;zr.isAxiosError=Axe;zr.mergeConfig=df;zr.AxiosHeaders=Cs;zr.formToJSON=e=>EH(Te.isHTMLForm(e)?new FormData(e):e);zr.getAdapter=DH.getAdapter;zr.HttpStatusCode=iE;zr.default=zr;const f0="/chatwoot-api",$o=void 0,Bo=void 0,Ty={async getConversations(e="open",t=1){var r;try{if(!$o||!Bo)return console.warn("Chatwoot credentials missing. Please check .env file."),[];const a=(await zr.get(`${f0}/api/v1/accounts/${Bo}/conversations`,{headers:{api_access_token:$o},params:{status:e,page:t}})).data;return(r=a==null?void 0:a.data)!=null&&r.payload?a.data.payload:a!=null&&a.payload?a.payload:[]}catch(n){return console.error("[Chatwoot] Failed to fetch conversations:",n),[]}},async getMessages(e){try{return!$o||!Bo?[]:(await zr.get(`${f0}/api/v1/accounts/${Bo}/conversations/${e}/messages`,{headers:{api_access_token:$o}})).data.payload||[]}catch(t){return console.error(`[Chatwoot] Failed to fetch messages for conversation ${e}:`,t),[]}},async sendMessage(e,t,r=!1){try{return!$o||!Bo?null:(await zr.post(`${f0}/api/v1/accounts/${Bo}/conversations/${e}/messages`,{content:t,message_type:r?"private":"outgoing",private:r},{headers:{api_access_token:$o}})).data}catch(n){throw console.error(`[Chatwoot] Failed to send message to ${e}:`,n),n}},async toggleStatus(e,t){try{if(!$o||!Bo)return;await zr.post(`${f0}/api/v1/accounts/${Bo}/conversations/${e}/toggle_status`,{status:t},{headers:{api_access_token:$o}})}catch(r){throw console.error(`[Chatwoot] Failed to toggle status for ${e}:`,r),r}},async getInboxes(){try{return!$o||!Bo?[]:(await zr.get(`${f0}/api/v1/accounts/${Bo}/inboxes`,{headers:{api_access_token:$o}})).data.payload||[]}catch(e){return console.error("[Chatwoot] Failed to fetch inboxes:",e),[]}}};function Oxe(){const{t:e}=qt();vr(),Tf();const[t,r]=x.useState([]),[n,a]=x.useState(null),[s,i]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[p,g]=x.useState(""),[m,v]=x.useState("open"),y=x.useRef(null);x.useEffect(()=>{w(m);const E=setInterval(()=>{w(m,!0)},3e4);return()=>clearInterval(E)},[m]),x.useEffect(()=>{if(n){b(n.id);const E=setInterval(()=>b(n.id),1e4);return()=>clearInterval(E)}},[n]),x.useEffect(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)},[s]);const w=async(E,N=!1)=>{N||c(!0);try{const O=await Ty.getConversations(E);r(O||[])}catch(O){console.error("Failed to load conversations:",O),N||console.error("User notification skipped for load error")}finally{N||c(!1)}},b=async E=>{s.length===0&&d(!0);try{const N=await Ty.getMessages(E);i(N)}catch(N){console.error("Failed to load messages",N)}finally{d(!1)}},_=async()=>{if(!(!p.trim()||!n)){h(!0);try{const E=await Ty.sendMessage(n.id,p);E&&(i(N=>[...N,E]),g(""))}catch(E){console.error("Failed to send message",E)}finally{h(!1)}}},S=async E=>{try{const N=m==="open"?"resolved":"open";await Ty.toggleStatus(E,N),m!=="all"?(r(O=>O.filter(P=>P.id!==E)),(n==null?void 0:n.id)===E&&(a(null),i([]))):(r(O=>O.map(P=>P.id===E?{...P,status:N}:P)),w(m))}catch(N){console.error("Failed to toggle status",N)}},k=E=>E!=null&&E.includes("email")?o.jsx(fd,{className:"h-4 w-4"}):E!=null&&E.includes("whatsapp")?o.jsx(rg,{className:"h-4 w-4"}):o.jsx(ef,{className:"h-4 w-4"}),j=E=>new Date(E*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return o.jsxs("div",{className:"flex overflow-hidden bg-background border rounded-lg shadow-sm",style:{height:"calc(100vh - 64px - 0.5rem - 3rem)"},children:[o.jsxs("div",{className:"w-80 border-r flex flex-col bg-muted/10",children:[o.jsxs("div",{className:"p-4 border-b space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"font-semibold text-lg",children:e("navigation.chats")}),o.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>w(m),disabled:l,children:o.jsx(MN,{className:`h-4 w-4 ${l?"animate-spin":""}`})})]}),o.jsx(hl,{defaultValue:"open",onValueChange:E=>v(E),className:"w-full",children:o.jsxs(Do,{className:"grid w-full grid-cols-3",children:[o.jsx(Kr,{value:"open",children:e("status.open")}),o.jsx(Kr,{value:"resolved",children:e("status.closed")}),o.jsx(Kr,{value:"all",children:e("common.all")})]})}),o.jsxs("div",{className:"relative",children:[o.jsx(vi,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(qe,{placeholder:e("common.search"),className:"pl-8 bg-background"})]})]}),o.jsx(Ea,{className:"flex-1",children:t.length===0&&!l?o.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:e("common.noRecordsFound")}):o.jsx("div",{className:"divide-y",children:t.map(E=>o.jsxs("div",{className:`p-4 cursor-pointer hover:bg-accent/50 transition-colors ${(n==null?void 0:n.id)===E.id?"bg-accent/80 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}`,onClick:()=>a(E),children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Qa,{className:"h-8 w-8",children:[o.jsx(Za,{src:E.meta.sender.thumbnail}),o.jsx(es,{children:E.meta.sender.name.charAt(0)})]}),o.jsx("span",{className:"font-medium text-sm truncate max-w-[120px]",children:E.meta.sender.name})]}),o.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:j(E.timestamp)})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[k(E.meta.channel),o.jsx("span",{className:"capitalize",children:E.meta.channel.split(".")[1]||"Web"}),E.status==="resolved"&&o.jsx(dt,{variant:"outline",className:"text-[10px] h-4 px-1 ml-auto",children:e("chats.resolved")})]}),o.jsx("p",{className:"text-sm text-muted-foreground truncate line-clamp-1",children:E.messages&&E.messages.length>0?E.messages[E.messages.length-1].content:e("common.noMessages")||"No messages"})]},E.id))})})]}),o.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:n?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-card",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(Qa,{children:[o.jsx(Za,{src:n.meta.sender.thumbnail}),o.jsx(es,{children:n.meta.sender.name.charAt(0)})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:n.meta.sender.name}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.meta.sender.email&&o.jsx("span",{children:n.meta.sender.email}),n.meta.sender.phone_number&&o.jsxs("span",{children:[" ",n.meta.sender.phone_number]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(oe,{variant:n.status==="resolved"?"outline":"default",size:"sm",onClick:()=>S(n.id),children:n.status==="resolved"?o.jsxs(o.Fragment,{children:[o.jsx(MN,{className:"mr-2 h-4 w-4"})," ",e("status.reopen")]}):o.jsxs(o.Fragment,{children:[o.jsx(fI,{className:"mr-2 h-4 w-4"})," ",e("status.resolve")]})}),o.jsxs(WA,{children:[o.jsx(HA,{asChild:!0,children:o.jsx(oe,{variant:"ghost",size:"icon",children:o.jsx(j9,{className:"h-4 w-4"})})}),o.jsxs(O_,{align:"end",children:[o.jsx(Fl,{children:e("chats.viewContactDetails")}),o.jsx(Fl,{className:"text-red-500",children:e("chats.deleteConversation")})]})]})]})]}),o.jsx("div",{ref:y,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-muted/5 scroll-smooth",children:u?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):s.map(E=>{const N=E.message_type==="outgoing"||E.sender&&E.sender.type==="user",O=E.private;return o.jsx("div",{className:`flex w-full ${N?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 shadow-sm ${O?"bg-yellow-50 border border-yellow-200":N?"bg-primary text-primary-foreground":"bg-white border text-foreground"}`,children:[O&&o.jsxs("div",{className:"text-[10px] uppercase font-bold text-yellow-600 mb-1 flex items-center gap-1",children:[o.jsx(voe,{className:"h-3 w-3"})," ",e("chats.note")]}),o.jsx("div",{className:"text-sm whitespace-pre-wrap",children:E.content}),o.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${N?"text-primary-foreground/70":"text-muted-foreground"}`,children:[j(E.created_at),N&&o.jsx(fI,{className:"h-3 w-3"})]})]})},E.id)})}),o.jsxs("div",{className:"p-4 border-t bg-background",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(qe,{placeholder:e("chats.typeMessage"),value:p,onChange:E=>g(E.target.value),onKeyDown:E=>E.key==="Enter"&&!E.shiftKey&&_(),disabled:f||n.status==="resolved",className:"flex-1"}),o.jsx(oe,{onClick:_,disabled:f||!p.trim()||n.status==="resolved",children:f?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):o.jsx(g_,{className:"h-4 w-4"})})]}),n.status==="resolved"&&o.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:e("chats.resolvedMessage")})]})]}):o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground",children:[o.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mb-4",children:o.jsx(ef,{className:"h-8 w-8 text-muted-foreground/50"})}),o.jsx("h3",{className:"text-lg font-semibold mb-1",children:e("chats.selectConversation")}),o.jsx("p",{className:"max-w-xs text-center text-sm",children:e("chats.connectDescription")})]})})]})}function Pxe(){const{user:e}=vr(),{t}=qt(),[r,n]=x.useState([]),[a,s]=x.useState(null),[i,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState(""),[h,p]=x.useState(!0),[g,m]=x.useState(!1),[v,y]=x.useState(null),[w,b]=x.useState(null),[_,S]=x.useState(!1),[k,j]=x.useState(!0),E=x.useRef(!1),N=x.useRef(null),O=x.useRef(null);x.useEffect(()=>{e&&!E.current&&P()},[e]),x.useEffect(()=>{a&&(O.current!==a.room_id&&L(),N.current!==a.room_id&&T())},[a]),x.useEffect(()=>{a&&(async()=>{try{await ve.realtime.setAuth(await Ws.getFreshJwt());const I=`room:${a.room_id}:messages`,U=ve.channel(I,{config:{broadcast:{self:!0,ack:!0},private:!0}});return U.on("broadcast",{event:"*"},R=>{var Z;const Y=(Z=R.payload)==null?void 0:Z.record;Y&&Y.message_id&&l(C=>C.some(B=>B.message_id===Y.message_id)?C:[...C.filter(B=>!(B.message_id.startsWith("temp-")&&B.auth_user_id===Y.auth_user_id&&B.content===Y.content)),Y])}),await U.subscribe(),()=>{U.unsubscribe()}}catch(I){console.error("Failed to setup realtime:",I)}})()},[a]),x.useEffect(()=>{m(!1),y(null),b(null),E.current=!1,N.current=null,O.current=null},[e]);const P=async()=>{if(!E.current)try{p(!0);const M=await ro.getUserRooms((e==null?void 0:e.id)||"");n(M),M.length>0&&s(M[0]),m(!0),E.current=!0}catch(M){console.error("Failed to load rooms:",M)}finally{p(!1)}},T=async()=>{if(!(!a||N.current===a.room_id))try{const M=await Ah.getByRoom(a.room_id);l(M),y(a.room_id),N.current=a.room_id}catch(M){console.error("Failed to load messages:",M)}},L=async()=>{if(!(!a||O.current===a.room_id))try{const M=await ro.getRoomMembers(a.room_id);u(M),b(a.room_id),O.current=a.room_id}catch(M){console.error("Failed to load room members:",M)}},H=async()=>{if(!d.trim()||!a||!e)return;const M=d.trim(),I={message_id:`temp-${Date.now()}`,room_id:a.room_id,auth_user_id:e.id,content:M,created_at:new Date().toISOString(),metadata:null};l(U=>[...U,I]),f("");try{await Ah.create({room_id:a.room_id,auth_user_id:e.id,content:M,metadata:null})}catch(U){console.error("Failed to send message:",U),l(R=>R.filter(Y=>Y.message_id!==I.message_id)),f(M)}},z=M=>new Date(M).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return h?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-120px)] gap-4 sm:gap-6 pb-6",children:[o.jsxs("div",{className:`flex-col border rounded-lg ${k?"flex w-80":"hidden"} lg:flex lg:w-80`,children:[o.jsx("div",{className:"p-4 border-b",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h2",{className:"text-xl font-semibold",children:t("chats.myChatRooms")})})}),o.jsx(Ea,{className:"flex-1 p-4",children:o.jsx("div",{className:"space-y-2",children:r.map(M=>o.jsx(nt,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===M.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>s(M),children:o.jsx(ct,{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(wy,{className:"h-5 w-5 text-muted-foreground"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:M.room_name||`Room ${M.room_id.slice(0,8)}`}),o.jsx("p",{className:"text-xs text-muted-foreground",children:M.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},M.room_id))})})]}),a&&o.jsx("div",{className:"md:hidden mb-4",children:o.jsxs(oc,{open:_,onOpenChange:S,children:[o.jsx(XA,{asChild:!0,children:o.jsxs(oe,{variant:"outline",className:"w-full justify-between",children:[o.jsx("span",{className:"truncate",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),o.jsx(wy,{className:"h-4 w-4 ml-2"})]})}),o.jsx(dl,{side:"left",className:"w-80 p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:t("chats.myChatRooms")}),o.jsx(Ea,{className:"h-[60vh]",children:o.jsx("div",{className:"space-y-2",children:r.map(M=>o.jsx(nt,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===M.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>{s(M),S(!1)},children:o.jsx(ct,{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(wy,{className:"h-5 w-5 text-muted-foreground"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:M.room_name||`Room ${M.room_id.slice(0,8)}`}),o.jsx("p",{className:"text-xs text-muted-foreground",children:M.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},M.room_id))})})]})})]})}),o.jsx("div",{className:"flex-1 flex flex-col",children:a?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Aa,{className:"h-4 w-4"}),o.jsxs("span",{children:[c.length," ",t("chats.members")]}),a.is_private&&o.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:t("chats.private")})]})]}),o.jsx(oe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all",onClick:()=>j(!k),children:o.jsx($oe,{className:"h-4 w-4"})})]}),o.jsx(Ea,{className:"flex-1 mb-4",children:o.jsx("div",{className:"space-y-4 p-4",children:w===a.room_id&&i.map(M=>{var U,R,Y,Z;let I;return M.auth_user_id===(e==null?void 0:e.id)?I={auth_user_id:e.id,user_name:((U=e.profile)==null?void 0:U.user_name)||e.email||t("chats.you"),avatar:(R=e.profile)==null?void 0:R.avatar,user_id:((Y=e.profile)==null?void 0:Y.user_id)||0,user_email:e.email}:I=c.find(C=>C.auth_user_id===M.auth_user_id),I||(I={auth_user_id:M.auth_user_id,user_name:t("chats.unknownUser"),avatar:"",user_id:0}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(Qa,{className:"h-8 w-8",children:[o.jsx(Za,{src:I.avatar||""}),o.jsx(es,{children:((Z=I.user_name)==null?void 0:Z.charAt(0))||"?"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-medium text-sm",children:I.user_name}),o.jsx("span",{className:"text-xs text-muted-foreground",children:z(M.created_at)})]}),o.jsx("p",{className:"text-sm",children:M.content})]})]},M.message_id)})})}),o.jsxs("div",{className:"flex gap-2 p-4 border-t",children:[o.jsx(qe,{value:d,onChange:M=>f(M.target.value),placeholder:t("chats.typeMessage"),onKeyPress:M=>M.key==="Enter"&&H(),className:"flex-1"}),o.jsx(oe,{onClick:H,disabled:!d.trim(),children:o.jsx(g_,{className:"h-4 w-4"})})]})]}):o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx(wy,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:t("chats.selectRoom")})]})})})]})}function Dxe(){const{isRTL:e}=gi();ca();const[t,r]=x.useState(null),[n,a]=x.useState([]),[s,i]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState(!0),{user:f,signOut:h}=vr();x.useEffect(()=>{(async()=>{if(f!=null&&f.id)try{d(!0);const m=await Go.getByUserAuthId(f.id);a(m)}catch(m){console.error("Failed to fetch user projects:",m)}finally{d(!1)}})()},[f==null?void 0:f.id]),x.useEffect(()=>{(async()=>{if(t)try{const[m,v]=await Promise.all([iu.getAll(),QN.getByTask(0)]),y=m.filter(w=>!0);i(y),c(v)}catch(m){console.error("Failed to fetch project data:",m)}})()},[t]);const p=t?n.find(g=>g.project_id===t):null;return o.jsxs("div",{className:"min-h-screen bg-background",dir:e?"rtl":"ltr",children:[o.jsx("header",{className:"border-b bg-card",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("h1",{className:"text-xl font-bold",children:"Client Portal"})]}),o.jsxs(oe,{variant:"ghost",size:"sm",children:[o.jsx(Ioe,{className:"h-4 w-4 mr-2"}),"Logout"]})]})}),o.jsxs("div",{className:"container mx-auto px-6 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold",children:["Hello, ",ke((f==null?void 0:f.profile)||{},"user_name"),"! "]}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Here's your project progress"})]}),p?o.jsxs("div",{children:[o.jsx(oe,{variant:"ghost",className:"mb-4",onClick:()=>r(null),children:" Back to Projects"}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(nt,{children:[o.jsx(Ut,{children:o.jsx(tr,{children:p.project_name})}),o.jsxs(ct,{children:[o.jsx("p",{className:"text-muted-foreground",children:p.project_description||"No description available"}),o.jsxs("div",{className:"mt-4",children:[o.jsx(cc,{value:p.progress||0,className:"h-3"}),o.jsxs("div",{className:"text-right mt-2 text-sm font-semibold",children:[p.progress||0,"% Complete"]})]})]})]}),o.jsxs(hl,{defaultValue:"tasks",children:[o.jsxs(Do,{children:[o.jsx(Kr,{value:"tasks",children:"Tasks"}),o.jsx(Kr,{value:"images",children:"Gallery"}),o.jsx(Kr,{value:"comments",children:"Comments"})]}),o.jsx(_n,{value:"tasks",className:"space-y-3",children:s.filter(g=>g.stage_id!==null).map(g=>{var m;return o.jsx(nt,{children:o.jsx(ct,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:g.task_name}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.description||"No description"})]}),o.jsxs(dt,{variant:g.task_status==="completed"?"default":"secondary",children:[g.task_status==="completed"?"":""," ",((m=g.task_status)==null?void 0:m.replace("_"," "))||"pending"]})]})})},g.task_id)})}),o.jsx(_n,{value:"images",children:o.jsx(nt,{children:o.jsx(ct,{className:"pt-6",children:o.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(g=>o.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:""})},g))})})})}),o.jsx(_n,{value:"comments",children:o.jsx(nt,{children:o.jsxs(ct,{className:"pt-6 space-y-4",children:[l.map(g=>o.jsxs("div",{className:"flex gap-3 pb-4 border-b last:border-0",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-sm",children:"Team Member"}),o.jsx("p",{className:"text-sm mt-1",children:g.message||"No message"}),o.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:g.created_date?new Date(g.created_date).toLocaleString():"Unknown date"})]})]},g.comment_id)),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsx(qe,{placeholder:"Add a comment..."}),o.jsx(oe,{children:o.jsx(ef,{className:"h-4 w-4"})})]})]})})})]})]}),o.jsx("div",{children:o.jsxs(nt,{children:[o.jsx(Ut,{children:o.jsx(tr,{className:"text-lg",children:"Timeline"})}),o.jsxs(ct,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium",children:"Created Date"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:p.created_date?new Date(p.created_date).toLocaleDateString():"N/A"})]}),p.end_date&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium",children:"End Date"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(p.end_date).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:"Milestones"}),o.jsxs("div",{className:"space-y-2 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsx("span",{children:"Project Kickoff"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsx("span",{children:"Design Phase"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-blue-500",children:""}),o.jsx("span",{children:"Development Phase"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:""}),o.jsx("span",{children:"Testing & Launch"})]})]})]})]})]})})]})]}):u?o.jsxs("div",{className:"flex justify-center items-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),o.jsx("span",{className:"sr-only",children:"Loading projects..."})]}):n.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Projects Found"}),o.jsx("p",{className:"text-muted-foreground",children:"You don't have any projects assigned yet."})]}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(g=>o.jsxs(nt,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>r(g.project_id),children:[o.jsxs(Ut,{children:[o.jsx(tr,{className:"text-lg",children:g.project_name}),o.jsxs(dt,{className:"w-fit mt-2",variant:"secondary",children:["Stage ",g.stage||"N/A"]})]}),o.jsx(ct,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Progress"}),o.jsxs("span",{className:"font-semibold",children:[g.progress||0,"%"]})]}),o.jsx(cc,{value:g.progress||0,className:"h-2"})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Created: ",g.created_date?new Date(g.created_date).toLocaleDateString():"N/A"]}),o.jsx(oe,{className:"w-full",variant:"outline",children:"View Details "})]})})]},g.project_id))})]})]})}const Rxe=()=>{const e=Fs(),{t}=qt(),{toast:r}=Tf();x.useEffect(()=>{(function(a,s){var i="https://app.chatwoot.com",l=a.createElement(s),c=a.getElementsByTagName(s)[0];l.src=i+"/packs/js/sdk.js",l.async=!0,c.parentNode.insertBefore(l,c),l.onload=function(){window.chatwootSDK.run({websiteToken:"D1EYnSkXCLjxUF5gyk1q3PHG",baseUrl:i})}})(document,"script")},[]);const n=[{icon:o.jsx(Hh,{className:"h-6 w-6"}),title:t("landing.features.projectManagement.title"),description:t("landing.features.projectManagement.description")},{icon:o.jsx(Aa,{className:"h-6 w-6"}),title:t("landing.features.leadManagement.title"),description:t("landing.features.leadManagement.description")},{icon:o.jsx(_oe,{className:"h-6 w-6"}),title:t("landing.features.analytics.title"),description:t("landing.features.analytics.description")},{icon:o.jsx(ef,{className:"h-6 w-6"}),title:t("landing.features.communication.title"),description:t("landing.features.communication.description")},{icon:o.jsx(ng,{className:"h-6 w-6"}),title:t("landing.features.taskManagement.title"),description:t("landing.features.taskManagement.description")},{icon:o.jsx(C9,{className:"h-6 w-6"}),title:t("landing.features.security.title"),description:t("landing.features.security.description")}];return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[o.jsx("header",{className:"relative z-10 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between py-4 sm:py-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"M"})}),o.jsx("span",{className:"text-xl font-bold text-gray-900",children:t("landing.brandName")})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(eV,{}),o.jsx(oe,{onClick:()=>e("/login"),className:"shadow-lg hover:shadow-xl transition-all duration-200",children:t("buttons.login")})]})]})}),o.jsxs("section",{className:"relative px-4 sm:px-6 lg:px-8 pb-12 sm:pb-16 lg:pb-20",children:[o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center",children:[o.jsxs(dt,{variant:"secondary",className:"mb-4 px-3 py-1 text-sm font-medium",children:[o.jsx(T9,{className:"h-3 w-3 mr-1"}),t("landing.badge")]}),o.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:[t("landing.hero.title.line1"),o.jsx("span",{className:"text-primary block",children:t("landing.hero.title.line2")})]}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:t("landing.hero.description")}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[o.jsxs(oe,{size:"lg",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group",children:[t("landing.hero.cta.primary"),o.jsx(yoe,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),o.jsx(oe,{variant:"outline",size:"lg",className:"px-8 py-3 text-lg",children:t("landing.hero.cta.secondary")})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.users")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.usersLabel")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.projects")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.projectsLabel")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.uptime")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.uptimeLabel")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.support")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.supportLabel")})]})]})]})}),o.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-400/10 rounded-full blur-3xl"})]})]}),o.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20 bg-white/50 backdrop-blur-sm",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:t("landing.features.title")}),o.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:t("landing.features.subtitle")})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:n.map((a,s)=>o.jsx(nt,{className:"group hover:shadow-lg transition-all duration-200 border-0 shadow-md bg-white/80 backdrop-blur-sm",children:o.jsxs(ct,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:a.icon}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a.title})]}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:a.description})]})},s))})]})}),o.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch",children:[o.jsx(nt,{className:"bg-gradient-to-r from-primary to-blue-600 text-white border-0 shadow-2xl flex flex-col justify-center",children:o.jsxs(ct,{className:"p-8 sm:p-12 text-center",children:[o.jsx(Goe,{className:"h-12 w-12 mx-auto mb-6 text-primary-foreground/80"}),o.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:t("landing.cta.title")}),o.jsx("p",{className:"text-lg mb-8 text-primary-foreground/90 max-w-2xl mx-auto",children:t("landing.cta.description")}),o.jsxs(oe,{size:"lg",variant:"secondary",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group w-full sm:w-auto",children:[t("landing.cta.button"),o.jsx(l1,{className:"ml-2 h-5 w-5 group-hover:scale-110 transition-transform"})]})]})}),o.jsx(nt,{className:"border-0 shadow-2xl bg-white/80 backdrop-blur-sm",children:o.jsxs(ct,{className:"p-8 sm:p-12",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:t("landing.partner.title")}),o.jsx("p",{className:"text-gray-600",children:t("landing.partner.subtitle")})]}),o.jsxs("form",{className:"space-y-4",onSubmit:async a=>{a.preventDefault();const s=a.target,i=new FormData(s);try{await yw.createApplication({company_name:i.get("company_name"),full_name:i.get("full_name"),email:i.get("email"),phone:i.get("phone")}),r({title:t("landing.partner.success"),description:t("landing.partner.successMessage")}),s.reset()}catch{r({title:"Error",description:"Failed to submit application. Please try again.",variant:"destructive"})}},children:[o.jsx("div",{className:"space-y-2",children:o.jsx(qe,{name:"company_name",placeholder:t("landing.partner.companyName"),required:!0,className:"bg-white"})}),o.jsx("div",{className:"space-y-2",children:o.jsx(qe,{name:"full_name",placeholder:t("landing.partner.fullName"),required:!0,className:"bg-white"})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(qe,{name:"email",type:"email",placeholder:t("landing.partner.email"),required:!0,className:"bg-white"}),o.jsx(qe,{name:"phone",type:"tel",placeholder:t("landing.partner.phone"),required:!0,className:"bg-white"})]}),o.jsx(oe,{type:"submit",className:"w-full text-lg h-12",children:t("landing.partner.submit")})]})]})})]})})}),o.jsx("footer",{className:"px-4 sm:px-6 lg:px-8 py-8 border-t border-gray-200 bg-white/50 backdrop-blur-sm",children:o.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx("div",{className:"h-6 w-6 rounded bg-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:"M"})}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[t("landing.brandName")," CRM"]})]}),o.jsx("p",{className:"text-sm text-gray-600",children:t("landing.footer.copyright",{brand:t("landing.brandName")})})]})})]})},Ixe=()=>{const[e,t]=x.useState("loading"),[r,n]=x.useState("Processing authentication..."),a=Fs(),{user:s}=vr();return x.useEffect(()=>{let i;return(async()=>{try{if(console.log("[AuthCallback] Handling OAuth callback"),s){console.log("[AuthCallback] User already authenticated by auth context:",s.role),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{s.role==="client"?a("/client-portal"):s.role==="employee"||s.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}console.log("[AuthCallback] Waiting for OAuth session to establish...");let c=0;const u=20,d=async()=>{c++,console.log(`[AuthCallback] Checking session and profile (attempt ${c}/${u})`);try{const{data:{user:f},error:h}=await ve.auth.getUser();if(h&&console.error("[AuthCallback] User error:",h),f){console.log("[AuthCallback] Found authenticated user:",f.id);const{data:m}=await ve.from("users").select("user_id").eq("auth_user_id",f.id).maybeSingle();if(m){console.log("[AuthCallback] User profile exists, fetching user data...");const v=await Ws.getCurrentUser(f.id);if(v){localStorage.removeItem("oauth_intended_role"),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{v.role==="client"?a("/client-portal"):v.role==="employee"||v.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}}else console.log("[AuthCallback] Profile not yet created by trigger, waiting...")}const{data:{session:p},error:g}=await ve.auth.getSession();if(g&&console.error("[AuthCallback] Session error:",g),p!=null&&p.user){console.log("[AuthCallback] Found session user:",p.user.id);const{data:m}=await ve.from("users").select("user_id").eq("auth_user_id",p.user.id).maybeSingle();if(m){console.log("[AuthCallback] User profile exists, fetching user data...");const v=await Ws.getCurrentUser(p.user.id);if(v){localStorage.removeItem("oauth_intended_role"),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{v.role==="client"?a("/client-portal"):v.role==="employee"||v.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}}else console.log("[AuthCallback] Profile not yet created by trigger, waiting...")}c<u?(console.log("[AuthCallback] No session or profile found, waiting and retrying..."),i=setTimeout(d,1e3)):(console.error("[AuthCallback] No session or profile found after maximum attempts"),t("error"),n("Authentication session not established. Please try signing in again."),setTimeout(()=>a("/login"),3e3))}catch(f){console.error("[AuthCallback] Error checking session and profile:",f),c<u?i=setTimeout(d,1e3):(t("error"),n("Authentication failed. Please try again."),setTimeout(()=>a("/login"),3e3))}};d()}catch(c){console.error("[AuthCallback] Error handling callback:",c),t("error"),n("Authentication failed. Please try again."),setTimeout(()=>a("/login"),3e3)}})(),()=>{i&&clearTimeout(i)}},[s,a]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center max-w-md",children:[e==="loading"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Completing Sign In"}),o.jsx("p",{className:"text-gray-600",children:r})]}),e==="success"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h2",{className:"text-xl font-semibold mb-2 text-green-600",children:"Success!"}),o.jsx("p",{className:"text-gray-600",children:r})]}),e==="error"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"Authentication Failed"}),o.jsx("p",{className:"text-gray-600",children:r})]})]})})};function Mxe(){return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:"Partner Dashboard"}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Welcome to your partner portal"})]})}),o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:o.jsx("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),o.jsx("h2",{className:"text-2xl font-semibold",children:"Coming Soon"}),o.jsx("p",{className:"text-muted-foreground max-w-md",children:"We're working hard to bring you an amazing partner experience. Check back soon for updates and new features."})]})})]})}function Fxe(){return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Partner Employee Dashboard"}),o.jsx("p",{className:"text-muted-foreground mt-2 text-base",children:"Welcome to your partner employee portal"})]})}),o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:o.jsx("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),o.jsx("h2",{className:"text-2xl font-semibold",children:"Coming Soon"}),o.jsx("p",{className:"text-muted-foreground max-w-md",children:"We're working hard to bring you an amazing partner employee experience. Check back soon for updates and new features."})]})})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var MH=1252,Lxe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],CO={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},TO=function(e){Lxe.indexOf(e)!=-1&&(MH=CO[0]=e)};function $xe(){TO(1252)}var xo=function(e){TO(e)};function FH(){xo(1200),$xe()}function bM(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Bxe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function LH(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var I0=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Bxe(e.slice(2)):t==254&&r==255?LH(e.slice(2)):t==65279?e.slice(1):e},Ay=function(t){return String.fromCharCode(t)},_M=function(t){return String.fromCharCode(t)},Hc,ou="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function SM(e){for(var t="",r=0,n=0,a=0,s=0,i=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),i=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=ou.charAt(s)+ou.charAt(i)+ou.charAt(l)+ou.charAt(c);return t}function fi(e){var t="",r=0,n=0,a=0,s=0,i=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=ou.indexOf(e.charAt(u++)),i=ou.indexOf(e.charAt(u++)),r=s<<2|i>>4,t+=String.fromCharCode(r),l=ou.indexOf(e.charAt(u++)),n=(i&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=ou.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Jt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Af=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Pu(e){return Jt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function jM(e){return Jt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var mo=function(t){return Jt?Af(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Of(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function AO(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return AO(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var qc=Jt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Af(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Uxe(e){for(var t=[],r=0,n=e.length+250,a=Pu(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|l>>6&15|(i&3)<<4,a[r++]=128|l&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Pu(65535),n=65530)}return t.push(a.slice(0,r)),qc(t)}var ls=/\u0000/g,M0=/[\u0001-\u0006]/g;function Jh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function yo(e,t){var r=""+e;return r.length>=t?r:en("0",t-r.length)+r}function OO(e,t){var r=""+e;return r.length>=t?r:en(" ",t-r.length)+r}function _1(e,t){var r=""+e;return r.length>=t?r:r+en(" ",t-r.length)}function Vxe(e,t){var r=""+Math.round(e);return r.length>=t?r:en("0",t-r.length)+r}function zxe(e,t){var r=""+e;return r.length>=t?r:en("0",t-r.length)+r}var kM=Math.pow(2,32);function eh(e,t){if(e>kM||e<-kM)return Vxe(e,t);var r=Math.round(e);return zxe(r,t)}function S1(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var NM=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],xk=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Wxe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Bt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},EM={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Hxe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function j1(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*i+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=i,i=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=i)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function _d(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=Jxe(c,i))}return l.y=i[0],l.m=i[1],l.d=i[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var $H=new Date(1899,11,31,0,0,0),qxe=$H.getTime(),Gxe=new Date(1900,2,1,0,0,0);function BH(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Gxe&&(r+=24*60*60*1e3),(r-(qxe+(e.getTimezoneOffset()-$H.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function PO(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Kxe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Yxe(e){var t=e<0?12:11,r=PO(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Xxe(e){var t=PO(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Qg(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Yxe(e):t===10?r=e.toFixed(10).substr(0,12):r=Xxe(e),PO(Kxe(r.toUpperCase()))}function ff(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Qg(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Bi(14,BH(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Jxe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Qxe(e,t,r,n){var a="",s=0,i=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return xk[r.m-1][1];case 5:return xk[r.m-1][0];default:return xk[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return NM[r.q][0];default:return NM[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?yo(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=yo(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?yo(c,u):"";return d}function lu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var UH=/%/g;function Zxe(e,t,r){var n=t.replace(UH,""),a=t.length-n.length;return Kl(e,n,r*Math.pow(10,2*a))+en("%",a)}function eye(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Kl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function VH(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+VH(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var zH=/# (\?+)( ?)\/( ?)(\d+)/;function tye(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(i===0?en(" ",e[1].length+1+e[4].length):OO(i,e[1].length)+e[2]+"/"+e[3]+yo(l,e[4].length))}function rye(e,t,r){return r+(t===0?"":""+t)+en(" ",e[1].length+2+e[4].length)}var WH=/^#*0*\.([0#]+)/,HH=/\).*[0#]/,qH=/\(###\) ###\\?-####/;function Ka(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function CM(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function TM(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function nye(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function aye(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Si(e,t,r){if(e.charCodeAt(0)===40&&!t.match(HH)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Si("n",n,r):"("+Si("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return eye(e,t,r);if(t.indexOf("%")!==-1)return Zxe(e,t,r);if(t.indexOf("E")!==-1)return VH(t,r);if(t.charCodeAt(0)===36)return"$"+Si(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+eh(c,t.length);if(t.match(/^[#?]+$/))return a=eh(r,0),a==="0"&&(a=""),a.length>t.length?a:Ka(t.substr(0,t.length-a.length))+a;if(s=t.match(zH))return tye(s,c,u);if(t.match(/^#+0+$/))return u+eh(c,t.length-t.indexOf("0"));if(s=t.match(WH))return a=CM(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Ka(s[1])).replace(/\.$/,"."+Ka(s[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+en("0",Ka(s[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+CM(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+lu(eh(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Si(e,t,-r):lu(""+(Math.floor(r)+nye(r,s[1].length)))+"."+yo(TM(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Si(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Jh(Si(e,t.replace(/[\\-]/g,""),r)),i=0,Jh(Jh(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return i<a.length?a.charAt(i++):g==="0"?"0":""}));if(t.match(qH))return a=Si(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=j1(c,Math.pow(10,i)-1,!1),a=""+u,d=Kl("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=_1(l[2],i),d.length<s[4].length&&(d=Ka(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=j1(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?OO(l[1],i)+s[2]+"/"+s[3]+_1(l[2],i):en(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=eh(r,0),t.length<=a.length?a:Ka(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return Ka(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=TM(r,s[1].length),r<0?"-"+Si(e,t,-r):lu(aye(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?yo(0,3-g.length):"")+g})+"."+yo(i,s[1].length);switch(t){case"###,##0.00":return Si(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=lu(eh(c,0));return p!=="0"?u+p:"";case"###,###.00":return Si(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Si(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function sye(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Kl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function iye(e,t,r){var n=t.replace(UH,""),a=t.length-n.length;return Kl(e,n,r*Math.pow(10,2*a))+en("%",a)}function GH(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+GH(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Vo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(HH)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Vo("n",n,r):"("+Vo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return sye(e,t,r);if(t.indexOf("%")!==-1)return iye(e,t,r);if(t.indexOf("E")!==-1)return GH(t,r);if(t.charCodeAt(0)===36)return"$"+Vo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+yo(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Ka(t.substr(0,t.length-a.length))+a;if(s=t.match(zH))return rye(s,c,u);if(t.match(/^#+0+$/))return u+yo(c,t.length-t.indexOf("0"));if(s=t.match(WH))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Ka(s[1])).replace(/\.$/,"."+Ka(s[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+en("0",Ka(s[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+lu(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Vo(e,t,-r):lu(""+r)+"."+en("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Vo(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Jh(Vo(e,t.replace(/[\\-]/g,""),r)),i=0,Jh(Jh(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return i<a.length?a.charAt(i++):g==="0"?"0":""}));if(t.match(qH))return a=Vo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=j1(c,Math.pow(10,i)-1,!1),a=""+u,d=Kl("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=_1(l[2],i),d.length<s[4].length&&(d=Ka(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=j1(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?OO(l[1],i)+s[2]+"/"+s[3]+_1(l[2],i):en(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Ka(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return Ka(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Vo(e,t,-r):lu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?yo(0,3-g.length):"")+g})+"."+yo(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=lu(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Vo(e,t.slice(0,t.lastIndexOf(".")),r)+Ka(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Kl(e,t,r){return(r|0)===r?Vo(e,t,r):Si(e,t,r)}function oye(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var KH=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Rp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":S1(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(KH))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function lye(e,t,r,n){for(var a=[],s="",i=0,l="",c="t",u,d,f,h="H";i<e.length;)switch(l=e.charAt(i)){case"G":if(!S1(e,i))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var p=e.charAt(++i),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(u==null&&(u=_d(t,r,e.charAt(i+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},c=l,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=_d(t,r),u==null))return"";for(s=l;++i<e.length&&e.charAt(i).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var m={t:l,v:l};if(u==null&&(u=_d(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="/"?(u!=null&&(m.v=u.H>=12?"":""),m.t="T",i+=5,h="h"):(m.t="t",++i),u==null&&m.t==="T")return"";a[a.length]=m,c=l;break;case"[":for(s=l;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(KH)){if(u==null&&(u=_d(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Rp(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++i<e.length&&(l=e.charAt(i))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++i<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(i))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++i)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++i;break}var v=0,y=0,w;for(i=a.length-1,c="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=h,c="h",v<1&&(v=1);break;case"s":(w=a[i].v.match(/\.0+$/))&&(y=Math.max(y,w[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[i].t;break;case"m":c==="s"&&(a[i].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[i].v.match(/[Hh]/)&&(v=1),v<2&&a[i].v.match(/[Mm]/)&&(v=2),v<3&&a[i].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",_;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=Qxe(a[i].t.charCodeAt(0),a[i].v,u,y),a[i].t="t";break;case"n":case"?":for(_=i+1;a[_]!=null&&((l=a[_].t)==="?"||l==="D"||(l===" "||l==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[i].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[i].v+=a[_].v,a[_]={v:"",t:";"},++_;b+=a[i].v,i=_-1;break;case"G":a[i].t="t",a[i].v=ff(t,r);break}var S="",k,j;if(b.length>0){b.charCodeAt(0)==40?(k=t<0&&b.charCodeAt(0)===45?-t:t,j=Kl("n",b,k)):(k=t<0&&n>1?-t:t,j=Kl("n",b,k),k<0&&a[0]&&a[0].t=="t"&&(j=j.substr(1),a[0].v="-"+a[0].v)),_=j.length-1;var E=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){E=i;break}var N=a.length;if(E===a.length&&j.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(_>=a[i].v.length-1?(_-=a[i].v.length,a[i].v=j.substr(_+1,a[i].v.length)):_<0?a[i].v="":(a[i].v=j.substr(0,_+1),_=-1),a[i].t="t",N=i);_>=0&&N<a.length&&(a[N].v=j.substr(0,_+1)+a[N].v)}else if(E!==a.length&&j.indexOf("E")===-1){for(_=j.indexOf(".")-1,i=E;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(d=a[i].v.indexOf(".")>-1&&i===E?a[i].v.indexOf(".")-1:a[i].v.length-1,S=a[i].v.substr(d+1);d>=0;--d)_>=0&&(a[i].v.charAt(d)==="0"||a[i].v.charAt(d)==="#")&&(S=j.charAt(_--)+S);a[i].v=S,a[i].t="t",N=i}for(_>=0&&N<a.length&&(a[N].v=j.substr(0,_+1)+a[N].v),_=j.indexOf(".")+1,i=E;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==E)){for(d=a[i].v.indexOf(".")>-1&&i===E?a[i].v.indexOf(".")+1:0,S=a[i].v.substr(0,d);d<a[i].v.length;++d)_<j.length&&(S+=j.charAt(_++));a[i].v=S,a[i].t="t",N=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(k=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=Kl(a[i].t,a[i].v,k),a[i].t="t");var O="";for(i=0;i!==a.length;++i)a[i]!=null&&(O+=a[i].v);return O}var AM=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function OM(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function cye(e,t){var r=oye(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(AM),l=r[1].match(AM);return OM(t,i)?[n,r[0]]:OM(t,l)?[n,r[1]]:[n,r[i!=null&&l!=null?2:1]]}return[n,s]}function Bi(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Bt)[e],n==null&&(n=r.table&&r.table[EM[e]]||Bt[EM[e]]),n==null&&(n=Hxe[e]||"General");break}if(S1(n,0))return ff(t,r);t instanceof Date&&(t=BH(t,r.date1904));var a=cye(n,t);if(S1(a[1]))return ff(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return lye(a[1],t,r,a[0])}function Bd(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Bt[r]==null){t<0&&(t=r);continue}if(Bt[r]==e){t=r;break}}t<0&&(t=391)}return Bt[t]=e,t}function YH(){Bt=Wxe()}var uye={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},XH=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function dye(e){var t=typeof e=="number"?Bt[e]:e;return t=t.replace(XH,"(\\d+)"),new RegExp("^"+t+"$")}function fye(e,t,r){var n=-1,a=-1,s=-1,i=-1,l=-1,c=-1;(t.match(XH)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":s=p;break;case"h":i=p;break;case"s":c=p;break;case"m":i>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var hye=function(){var e={};e.version="1.2.0";function t(){for(var j=0,E=new Array(256),N=0;N!=256;++N)j=N,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,E[N]=j;return typeof Int32Array<"u"?new Int32Array(E):E}var r=t();function n(j){var E=0,N=0,O=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)P[O]=j[O];for(O=0;O!=256;++O)for(N=j[O],E=256+O;E<4096;E+=256)N=P[E]=N>>>8^j[N&255];var T=[];for(O=1;O!=16;++O)T[O-1]=typeof Int32Array<"u"?P.subarray(O*256,O*256+256):P.slice(O*256,O*256+256);return T}var a=n(r),s=a[0],i=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],g=a[9],m=a[10],v=a[11],y=a[12],w=a[13],b=a[14];function _(j,E){for(var N=E^-1,O=0,P=j.length;O<P;)N=N>>>8^r[(N^j.charCodeAt(O++))&255];return~N}function S(j,E){for(var N=E^-1,O=j.length-15,P=0;P<O;)N=b[j[P++]^N&255]^w[j[P++]^N>>8&255]^y[j[P++]^N>>16&255]^v[j[P++]^N>>>24]^m[j[P++]]^g[j[P++]]^p[j[P++]]^h[j[P++]]^f[j[P++]]^d[j[P++]]^u[j[P++]]^c[j[P++]]^l[j[P++]]^i[j[P++]]^s[j[P++]]^r[j[P++]];for(O+=15;P<O;)N=N>>>8^r[(N^j[P++])&255];return~N}function k(j,E){for(var N=E^-1,O=0,P=j.length,T=0,L=0;O<P;)T=j.charCodeAt(O++),T<128?N=N>>>8^r[(N^T)&255]:T<2048?(N=N>>>8^r[(N^(192|T>>6&31))&255],N=N>>>8^r[(N^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,L=j.charCodeAt(O++)&1023,N=N>>>8^r[(N^(240|T>>8&7))&255],N=N>>>8^r[(N^(128|T>>2&63))&255],N=N>>>8^r[(N^(128|L>>6&15|(T&3)<<4))&255],N=N>>>8^r[(N^(128|L&63))&255]):(N=N>>>8^r[(N^(224|T>>12&15))&255],N=N>>>8^r[(N^(128|T>>6&63))&255],N=N>>>8^r[(N^(128|T&63))&255]);return~N}return e.table=r,e.bstr=_,e.buf=S,e.str=k,e}(),Zt=function(){var t={};t.version="1.2.1";function r(W,ee){for(var Q=W.split("/"),D=ee.split("/"),V=0,J=0,de=Math.min(Q.length,D.length);V<de;++V){if(J=Q[V].length-D[V].length)return J;if(Q[V]!=D[V])return Q[V]<D[V]?-1:1}return Q.length-D.length}function n(W){if(W.charAt(W.length-1)=="/")return W.slice(0,-1).indexOf("/")===-1?W:n(W.slice(0,-1));var ee=W.lastIndexOf("/");return ee===-1?W:W.slice(0,ee+1)}function a(W){if(W.charAt(W.length-1)=="/")return a(W.slice(0,-1));var ee=W.lastIndexOf("/");return ee===-1?W:W.slice(ee+1)}function s(W,ee){typeof ee=="string"&&(ee=new Date(ee));var Q=ee.getHours();Q=Q<<6|ee.getMinutes(),Q=Q<<5|ee.getSeconds()>>>1,W.write_shift(2,Q);var D=ee.getFullYear()-1980;D=D<<4|ee.getMonth()+1,D=D<<5|ee.getDate(),W.write_shift(2,D)}function i(W){var ee=W.read_shift(2)&65535,Q=W.read_shift(2)&65535,D=new Date,V=Q&31;Q>>>=5;var J=Q&15;Q>>>=4,D.setMilliseconds(0),D.setFullYear(Q+1980),D.setMonth(J-1),D.setDate(V);var de=ee&31;ee>>>=5;var Ae=ee&63;return ee>>>=6,D.setHours(ee),D.setMinutes(Ae),D.setSeconds(de<<1),D}function l(W){ta(W,0);for(var ee={},Q=0;W.l<=W.length-4;){var D=W.read_shift(2),V=W.read_shift(2),J=W.l+V,de={};switch(D){case 21589:Q=W.read_shift(1),Q&1&&(de.mtime=W.read_shift(4)),V>5&&(Q&2&&(de.atime=W.read_shift(4)),Q&4&&(de.ctime=W.read_shift(4))),de.mtime&&(de.mt=new Date(de.mtime*1e3));break}W.l=J,ee[D]=de}return ee}var c;function u(){return c||(c={})}function d(W,ee){if(W[0]==80&&W[1]==75)return Yn(W,ee);if((W[0]|32)==109&&(W[1]|32)==105)return Ht(W,ee);if(W.length<512)throw new Error("CFB file size "+W.length+" < 512");var Q=3,D=512,V=0,J=0,de=0,Ae=0,be=0,Se=[],Ne=W.slice(0,512);ta(Ne,0);var Be=f(Ne);switch(Q=Be[0],Q){case 3:D=512;break;case 4:D=4096;break;case 0:if(Be[1]==0)return Yn(W,ee);default:throw new Error("Major Version: Expected 3 or 4 saw "+Q)}D!==512&&(Ne=W.slice(0,D),ta(Ne,28));var Je=W.slice(0,D);h(Ne,Q);var at=Ne.read_shift(4,"i");if(Q===3&&at!==0)throw new Error("# Directory Sectors: Expected 0 saw "+at);Ne.l+=4,de=Ne.read_shift(4,"i"),Ne.l+=4,Ne.chk("00100000","Mini Stream Cutoff Size: "),Ae=Ne.read_shift(4,"i"),V=Ne.read_shift(4,"i"),be=Ne.read_shift(4,"i"),J=Ne.read_shift(4,"i");for(var He=-1,tt=0;tt<109&&(He=Ne.read_shift(4,"i"),!(He<0));++tt)Se[tt]=He;var Ot=p(W,D);v(be,J,Ot,D,Se);var jr=w(Ot,de,Se,D);jr[de].name="!Directory",V>0&&Ae!==L&&(jr[Ae].name="!MiniFAT"),jr[Se[0]].name="!FAT",jr.fat_addrs=Se,jr.ssz=D;var Nr={},fn=[],kc=[],jl=[];b(de,jr,Ot,fn,V,Nr,kc,Ae),g(kc,jl,fn),fn.shift();var Nc={FileIndex:kc,FullPaths:jl};return ee&&ee.raw&&(Nc.raw={header:Je,sectors:Ot}),Nc}function f(W){if(W[W.l]==80&&W[W.l+1]==75)return[0,0];W.chk(H,"Header Signature: "),W.l+=16;var ee=W.read_shift(2,"u");return[W.read_shift(2,"u"),ee]}function h(W,ee){var Q=9;switch(W.l+=2,Q=W.read_shift(2)){case 9:if(ee!=3)throw new Error("Sector Shift: Expected 9 saw "+Q);break;case 12:if(ee!=4)throw new Error("Sector Shift: Expected 12 saw "+Q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Q)}W.chk("0600","Mini Sector Shift: "),W.chk("000000000000","Reserved: ")}function p(W,ee){for(var Q=Math.ceil(W.length/ee)-1,D=[],V=1;V<Q;++V)D[V-1]=W.slice(V*ee,(V+1)*ee);return D[Q-1]=W.slice(Q*ee),D}function g(W,ee,Q){for(var D=0,V=0,J=0,de=0,Ae=0,be=Q.length,Se=[],Ne=[];D<be;++D)Se[D]=Ne[D]=D,ee[D]=Q[D];for(;Ae<Ne.length;++Ae)D=Ne[Ae],V=W[D].L,J=W[D].R,de=W[D].C,Se[D]===D&&(V!==-1&&Se[V]!==V&&(Se[D]=Se[V]),J!==-1&&Se[J]!==J&&(Se[D]=Se[J])),de!==-1&&(Se[de]=D),V!==-1&&D!=Se[D]&&(Se[V]=Se[D],Ne.lastIndexOf(V)<Ae&&Ne.push(V)),J!==-1&&D!=Se[D]&&(Se[J]=Se[D],Ne.lastIndexOf(J)<Ae&&Ne.push(J));for(D=1;D<be;++D)Se[D]===D&&(J!==-1&&Se[J]!==J?Se[D]=Se[J]:V!==-1&&Se[V]!==V&&(Se[D]=Se[V]));for(D=1;D<be;++D)if(W[D].type!==0){if(Ae=D,Ae!=Se[Ae])do Ae=Se[Ae],ee[D]=ee[Ae]+"/"+ee[D];while(Ae!==0&&Se[Ae]!==-1&&Ae!=Se[Ae]);Se[D]=-1}for(ee[0]+="/",D=1;D<be;++D)W[D].type!==2&&(ee[D]+="/")}function m(W,ee,Q){for(var D=W.start,V=W.size,J=[],de=D;Q&&V>0&&de>=0;)J.push(ee.slice(de*T,de*T+T)),V-=T,de=hd(Q,de*4);return J.length===0?On(0):qc(J).slice(0,W.size)}function v(W,ee,Q,D,V){var J=L;if(W===L){if(ee!==0)throw new Error("DIFAT chain shorter than expected")}else if(W!==-1){var de=Q[W],Ae=(D>>>2)-1;if(!de)return;for(var be=0;be<Ae&&(J=hd(de,be*4))!==L;++be)V.push(J);v(hd(de,D-4),ee-1,Q,D,V)}}function y(W,ee,Q,D,V){var J=[],de=[];V||(V=[]);var Ae=D-1,be=0,Se=0;for(be=ee;be>=0;){V[be]=!0,J[J.length]=be,de.push(W[be]);var Ne=Q[Math.floor(be*4/D)];if(Se=be*4&Ae,D<4+Se)throw new Error("FAT boundary crossed: "+be+" 4 "+D);if(!W[Ne])break;be=hd(W[Ne],Se)}return{nodes:J,data:UM([de])}}function w(W,ee,Q,D){var V=W.length,J=[],de=[],Ae=[],be=[],Se=D-1,Ne=0,Be=0,Je=0,at=0;for(Ne=0;Ne<V;++Ne)if(Ae=[],Je=Ne+ee,Je>=V&&(Je-=V),!de[Je]){be=[];var He=[];for(Be=Je;Be>=0;){He[Be]=!0,de[Be]=!0,Ae[Ae.length]=Be,be.push(W[Be]);var tt=Q[Math.floor(Be*4/D)];if(at=Be*4&Se,D<4+at)throw new Error("FAT boundary crossed: "+Be+" 4 "+D);if(!W[tt]||(Be=hd(W[tt],at),He[Be]))break}J[Je]={nodes:Ae,data:UM([be])}}return J}function b(W,ee,Q,D,V,J,de,Ae){for(var be=0,Se=D.length?2:0,Ne=ee[W].data,Be=0,Je=0,at;Be<Ne.length;Be+=128){var He=Ne.slice(Be,Be+128);ta(He,64),Je=He.read_shift(2),at=FO(He,0,Je-Se),D.push(at);var tt={name:at,type:He.read_shift(1),color:He.read_shift(1),L:He.read_shift(4,"i"),R:He.read_shift(4,"i"),C:He.read_shift(4,"i"),clsid:He.read_shift(16),state:He.read_shift(4,"i"),start:0,size:0},Ot=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);Ot!==0&&(tt.ct=_(He,He.l-8));var jr=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);jr!==0&&(tt.mt=_(He,He.l-8)),tt.start=He.read_shift(4,"i"),tt.size=He.read_shift(4,"i"),tt.size<0&&tt.start<0&&(tt.size=tt.type=0,tt.start=L,tt.name=""),tt.type===5?(be=tt.start,V>0&&be!==L&&(ee[be].name="!StreamData")):tt.size>=4096?(tt.storage="fat",ee[tt.start]===void 0&&(ee[tt.start]=y(Q,tt.start,ee.fat_addrs,ee.ssz)),ee[tt.start].name=tt.name,tt.content=ee[tt.start].data.slice(0,tt.size)):(tt.storage="minifat",tt.size<0?tt.size=0:be!==L&&tt.start!==L&&ee[be]&&(tt.content=m(tt,ee[be].data,(ee[Ae]||{}).data))),tt.content&&ta(tt.content,0),J[at]=tt,de.push(tt)}}function _(W,ee){return new Date((Js(W,ee+4)/1e7*Math.pow(2,32)+Js(W,ee)/1e7-11644473600)*1e3)}function S(W,ee){return u(),d(c.readFileSync(W),ee)}function k(W,ee){var Q=ee&&ee.type;switch(Q||Jt&&Buffer.isBuffer(W)&&(Q="buffer"),Q||"base64"){case"file":return S(W,ee);case"base64":return d(mo(fi(W)),ee);case"binary":return d(mo(W),ee)}return d(W,ee)}function j(W,ee){var Q=ee||{},D=Q.root||"Root Entry";if(W.FullPaths||(W.FullPaths=[]),W.FileIndex||(W.FileIndex=[]),W.FullPaths.length!==W.FileIndex.length)throw new Error("inconsistent CFB structure");W.FullPaths.length===0&&(W.FullPaths[0]=D+"/",W.FileIndex[0]={name:D,type:5}),Q.CLSID&&(W.FileIndex[0].clsid=Q.CLSID),E(W)}function E(W){var ee="Sh33tJ5";if(!Zt.find(W,"/"+ee)){var Q=On(4);Q[0]=55,Q[1]=Q[3]=50,Q[2]=54,W.FileIndex.push({name:ee,type:2,content:Q,size:4,L:69,R:69,C:69}),W.FullPaths.push(W.FullPaths[0]+ee),N(W)}}function N(W,ee){j(W);for(var Q=!1,D=!1,V=W.FullPaths.length-1;V>=0;--V){var J=W.FileIndex[V];switch(J.type){case 0:D?Q=!0:(W.FileIndex.pop(),W.FullPaths.pop());break;case 1:case 2:case 5:D=!0,isNaN(J.R*J.L*J.C)&&(Q=!0),J.R>-1&&J.L>-1&&J.R==J.L&&(Q=!0);break;default:Q=!0;break}}if(!(!Q&&!ee)){var de=new Date(1987,1,19),Ae=0,be=Object.create?Object.create(null):{},Se=[];for(V=0;V<W.FullPaths.length;++V)be[W.FullPaths[V]]=!0,W.FileIndex[V].type!==0&&Se.push([W.FullPaths[V],W.FileIndex[V]]);for(V=0;V<Se.length;++V){var Ne=n(Se[V][0]);D=be[Ne],D||(Se.push([Ne,{name:a(Ne).replace("/",""),type:1,clsid:M,ct:de,mt:de,content:null}]),be[Ne]=!0)}for(Se.sort(function(at,He){return r(at[0],He[0])}),W.FullPaths=[],W.FileIndex=[],V=0;V<Se.length;++V)W.FullPaths[V]=Se[V][0],W.FileIndex[V]=Se[V][1];for(V=0;V<Se.length;++V){var Be=W.FileIndex[V],Je=W.FullPaths[V];if(Be.name=a(Je).replace("/",""),Be.L=Be.R=Be.C=-(Be.color=1),Be.size=Be.content?Be.content.length:0,Be.start=0,Be.clsid=Be.clsid||M,V===0)Be.C=Se.length>1?1:-1,Be.size=0,Be.type=5;else if(Je.slice(-1)=="/"){for(Ae=V+1;Ae<Se.length&&n(W.FullPaths[Ae])!=Je;++Ae);for(Be.C=Ae>=Se.length?-1:Ae,Ae=V+1;Ae<Se.length&&n(W.FullPaths[Ae])!=n(Je);++Ae);Be.R=Ae>=Se.length?-1:Ae,Be.type=1}else n(W.FullPaths[V+1]||"")==n(Je)&&(Be.R=V+1),Be.type=2}}}function O(W,ee){var Q=ee||{};if(Q.fileType=="mad")return Qt(W,Q);switch(N(W),Q.fileType){case"zip":return Sl(W,Q)}var D=function(at){for(var He=0,tt=0,Ot=0;Ot<at.FileIndex.length;++Ot){var jr=at.FileIndex[Ot];if(jr.content){var Nr=jr.content.length;Nr>0&&(Nr<4096?He+=Nr+63>>6:tt+=Nr+511>>9)}}for(var fn=at.FullPaths.length+3>>2,kc=He+7>>3,jl=He+127>>7,Nc=kc+tt+fn+jl,Ki=Nc+127>>7,Bf=Ki<=109?0:Math.ceil((Ki-109)/127);Nc+Ki+Bf+127>>7>Ki;)Bf=++Ki<=109?0:Math.ceil((Ki-109)/127);var Us=[1,Bf,Ki,jl,fn,tt,He,0];return at.FileIndex[0].size=He<<6,Us[7]=(at.FileIndex[0].start=Us[0]+Us[1]+Us[2]+Us[3]+Us[4]+Us[5])+(Us[6]+7>>3),Us}(W),V=On(D[7]<<9),J=0,de=0;{for(J=0;J<8;++J)V.write_shift(1,z[J]);for(J=0;J<8;++J)V.write_shift(2,0);for(V.write_shift(2,62),V.write_shift(2,3),V.write_shift(2,65534),V.write_shift(2,9),V.write_shift(2,6),J=0;J<3;++J)V.write_shift(2,0);for(V.write_shift(4,0),V.write_shift(4,D[2]),V.write_shift(4,D[0]+D[1]+D[2]+D[3]-1),V.write_shift(4,0),V.write_shift(4,4096),V.write_shift(4,D[3]?D[0]+D[1]+D[2]-1:L),V.write_shift(4,D[3]),V.write_shift(-4,D[1]?D[0]-1:L),V.write_shift(4,D[1]),J=0;J<109;++J)V.write_shift(-4,J<D[2]?D[1]+J:-1)}if(D[1])for(de=0;de<D[1];++de){for(;J<236+de*127;++J)V.write_shift(-4,J<D[2]?D[1]+J:-1);V.write_shift(-4,de===D[1]-1?L:de+1)}var Ae=function(at){for(de+=at;J<de-1;++J)V.write_shift(-4,J+1);at&&(++J,V.write_shift(-4,L))};for(de=J=0,de+=D[1];J<de;++J)V.write_shift(-4,I.DIFSECT);for(de+=D[2];J<de;++J)V.write_shift(-4,I.FATSECT);Ae(D[3]),Ae(D[4]);for(var be=0,Se=0,Ne=W.FileIndex[0];be<W.FileIndex.length;++be)Ne=W.FileIndex[be],Ne.content&&(Se=Ne.content.length,!(Se<4096)&&(Ne.start=de,Ae(Se+511>>9)));for(Ae(D[6]+7>>3);V.l&511;)V.write_shift(-4,I.ENDOFCHAIN);for(de=J=0,be=0;be<W.FileIndex.length;++be)Ne=W.FileIndex[be],Ne.content&&(Se=Ne.content.length,!(!Se||Se>=4096)&&(Ne.start=de,Ae(Se+63>>6)));for(;V.l&511;)V.write_shift(-4,I.ENDOFCHAIN);for(J=0;J<D[4]<<2;++J){var Be=W.FullPaths[J];if(!Be||Be.length===0){for(be=0;be<17;++be)V.write_shift(4,0);for(be=0;be<3;++be)V.write_shift(4,-1);for(be=0;be<12;++be)V.write_shift(4,0);continue}Ne=W.FileIndex[J],J===0&&(Ne.start=Ne.size?Ne.start-1:L);var Je=J===0&&Q.root||Ne.name;if(Se=2*(Je.length+1),V.write_shift(64,Je,"utf16le"),V.write_shift(2,Se),V.write_shift(1,Ne.type),V.write_shift(1,Ne.color),V.write_shift(-4,Ne.L),V.write_shift(-4,Ne.R),V.write_shift(-4,Ne.C),Ne.clsid)V.write_shift(16,Ne.clsid,"hex");else for(be=0;be<4;++be)V.write_shift(4,0);V.write_shift(4,Ne.state||0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,Ne.start),V.write_shift(4,Ne.size),V.write_shift(4,0)}for(J=1;J<W.FileIndex.length;++J)if(Ne=W.FileIndex[J],Ne.size>=4096)if(V.l=Ne.start+1<<9,Jt&&Buffer.isBuffer(Ne.content))Ne.content.copy(V,V.l,0,Ne.size),V.l+=Ne.size+511&-512;else{for(be=0;be<Ne.size;++be)V.write_shift(1,Ne.content[be]);for(;be&511;++be)V.write_shift(1,0)}for(J=1;J<W.FileIndex.length;++J)if(Ne=W.FileIndex[J],Ne.size>0&&Ne.size<4096)if(Jt&&Buffer.isBuffer(Ne.content))Ne.content.copy(V,V.l,0,Ne.size),V.l+=Ne.size+63&-64;else{for(be=0;be<Ne.size;++be)V.write_shift(1,Ne.content[be]);for(;be&63;++be)V.write_shift(1,0)}if(Jt)V.l=V.length;else for(;V.l<V.length;)V.write_shift(1,0);return V}function P(W,ee){var Q=W.FullPaths.map(function(be){return be.toUpperCase()}),D=Q.map(function(be){var Se=be.split("/");return Se[Se.length-(be.slice(-1)=="/"?2:1)]}),V=!1;ee.charCodeAt(0)===47?(V=!0,ee=Q[0].slice(0,-1)+ee):V=ee.indexOf("/")!==-1;var J=ee.toUpperCase(),de=V===!0?Q.indexOf(J):D.indexOf(J);if(de!==-1)return W.FileIndex[de];var Ae=!J.match(M0);for(J=J.replace(ls,""),Ae&&(J=J.replace(M0,"!")),de=0;de<Q.length;++de)if((Ae?Q[de].replace(M0,"!"):Q[de]).replace(ls,"")==J||(Ae?D[de].replace(M0,"!"):D[de]).replace(ls,"")==J)return W.FileIndex[de];return null}var T=64,L=-2,H="d0cf11e0a1b11ae1",z=[208,207,17,224,161,177,26,225],M="00000000000000000000000000000000",I={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:L,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:M,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function U(W,ee,Q){u();var D=O(W,Q);c.writeFileSync(ee,D)}function R(W){for(var ee=new Array(W.length),Q=0;Q<W.length;++Q)ee[Q]=String.fromCharCode(W[Q]);return ee.join("")}function Y(W,ee){var Q=O(W,ee);switch(ee&&ee.type||"buffer"){case"file":return u(),c.writeFileSync(ee.filename,Q),Q;case"binary":return typeof Q=="string"?Q:R(Q);case"base64":return SM(typeof Q=="string"?Q:R(Q));case"buffer":if(Jt)return Buffer.isBuffer(Q)?Q:Af(Q);case"array":return typeof Q=="string"?mo(Q):Q}return Q}var Z;function C(W){try{var ee=W.InflateRaw,Q=new ee;if(Q._processChunk(new Uint8Array([3,0]),Q._finishFlushFlag),Q.bytesRead)Z=W;else throw new Error("zlib does not expose bytesRead")}catch(D){console.error("cannot use native zlib: "+(D.message||D))}}function X(W,ee){if(!Z)return wr(W,ee);var Q=Z.InflateRaw,D=new Q,V=D._processChunk(W.slice(W.l),D._finishFlushFlag);return W.l+=D.bytesRead,V}function B(W){return Z?Z.deflateRawSync(W):Ee(W)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function le(W){var ee=(W<<1|W<<11)&139536|(W<<5|W<<15)&558144;return(ee>>16|ee>>8|ee)&255}for(var ae=typeof Uint8Array<"u",K=ae?new Uint8Array(256):[],me=0;me<256;++me)K[me]=le(me);function A(W,ee){var Q=K[W&255];return ee<=8?Q>>>8-ee:(Q=Q<<8|K[W>>8&255],ee<=16?Q>>>16-ee:(Q=Q<<8|K[W>>16&255],Q>>>24-ee))}function $e(W,ee){var Q=ee&7,D=ee>>>3;return(W[D]|(Q<=6?0:W[D+1]<<8))>>>Q&3}function Ie(W,ee){var Q=ee&7,D=ee>>>3;return(W[D]|(Q<=5?0:W[D+1]<<8))>>>Q&7}function Ue(W,ee){var Q=ee&7,D=ee>>>3;return(W[D]|(Q<=4?0:W[D+1]<<8))>>>Q&15}function Ve(W,ee){var Q=ee&7,D=ee>>>3;return(W[D]|(Q<=3?0:W[D+1]<<8))>>>Q&31}function De(W,ee){var Q=ee&7,D=ee>>>3;return(W[D]|(Q<=1?0:W[D+1]<<8))>>>Q&127}function pt(W,ee,Q){var D=ee&7,V=ee>>>3,J=(1<<Q)-1,de=W[V]>>>D;return Q<8-D||(de|=W[V+1]<<8-D,Q<16-D)||(de|=W[V+2]<<16-D,Q<24-D)||(de|=W[V+3]<<24-D),de&J}function yt(W,ee,Q){var D=ee&7,V=ee>>>3;return D<=5?W[V]|=(Q&7)<<D:(W[V]|=Q<<D&255,W[V+1]=(Q&7)>>8-D),ee+3}function ne(W,ee,Q){var D=ee&7,V=ee>>>3;return Q=(Q&1)<<D,W[V]|=Q,ee+1}function he(W,ee,Q){var D=ee&7,V=ee>>>3;return Q<<=D,W[V]|=Q&255,Q>>>=8,W[V+1]=Q,ee+8}function F(W,ee,Q){var D=ee&7,V=ee>>>3;return Q<<=D,W[V]|=Q&255,Q>>>=8,W[V+1]=Q&255,W[V+2]=Q>>>8,ee+16}function ce(W,ee){var Q=W.length,D=2*Q>ee?2*Q:ee+5,V=0;if(Q>=ee)return W;if(Jt){var J=jM(D);if(W.copy)W.copy(J);else for(;V<W.length;++V)J[V]=W[V];return J}else if(ae){var de=new Uint8Array(D);if(de.set)de.set(W);else for(;V<Q;++V)de[V]=W[V];return de}return W.length=D,W}function pe(W){for(var ee=new Array(W),Q=0;Q<W;++Q)ee[Q]=0;return ee}function xe(W,ee,Q){var D=1,V=0,J=0,de=0,Ae=0,be=W.length,Se=ae?new Uint16Array(32):pe(32);for(J=0;J<32;++J)Se[J]=0;for(J=be;J<Q;++J)W[J]=0;be=W.length;var Ne=ae?new Uint16Array(be):pe(be);for(J=0;J<be;++J)Se[V=W[J]]++,D<V&&(D=V),Ne[J]=0;for(Se[0]=0,J=1;J<=D;++J)Se[J+16]=Ae=Ae+Se[J-1]<<1;for(J=0;J<be;++J)Ae=W[J],Ae!=0&&(Ne[J]=Se[Ae+16]++);var Be=0;for(J=0;J<be;++J)if(Be=W[J],Be!=0)for(Ae=A(Ne[J],D)>>D-Be,de=(1<<D+4-Be)-1;de>=0;--de)ee[Ae|de<<Be]=Be&15|J<<4;return D}var Fe=ae?new Uint16Array(512):pe(512),ye=ae?new Uint16Array(32):pe(32);if(!ae){for(var _e=0;_e<512;++_e)Fe[_e]=0;for(_e=0;_e<32;++_e)ye[_e]=0}(function(){for(var W=[],ee=0;ee<32;ee++)W.push(5);xe(W,ye,32);var Q=[];for(ee=0;ee<=143;ee++)Q.push(8);for(;ee<=255;ee++)Q.push(9);for(;ee<=279;ee++)Q.push(7);for(;ee<=287;ee++)Q.push(8);xe(Q,Fe,288)})();var ue=function(){for(var ee=ae?new Uint8Array(32768):[],Q=0,D=0;Q<se.length-1;++Q)for(;D<se[Q+1];++D)ee[D]=Q;for(;D<32768;++D)ee[D]=29;var V=ae?new Uint8Array(259):[];for(Q=0,D=0;Q<re.length-1;++Q)for(;D<re[Q+1];++D)V[D]=Q;function J(Ae,be){for(var Se=0;Se<Ae.length;){var Ne=Math.min(65535,Ae.length-Se),Be=Se+Ne==Ae.length;for(be.write_shift(1,+Be),be.write_shift(2,Ne),be.write_shift(2,~Ne&65535);Ne-- >0;)be[be.l++]=Ae[Se++]}return be.l}function de(Ae,be){for(var Se=0,Ne=0,Be=ae?new Uint16Array(32768):[];Ne<Ae.length;){var Je=Math.min(65535,Ae.length-Ne);if(Je<10){for(Se=yt(be,Se,+(Ne+Je==Ae.length)),Se&7&&(Se+=8-(Se&7)),be.l=Se/8|0,be.write_shift(2,Je),be.write_shift(2,~Je&65535);Je-- >0;)be[be.l++]=Ae[Ne++];Se=be.l*8;continue}Se=yt(be,Se,+(Ne+Je==Ae.length)+2);for(var at=0;Je-- >0;){var He=Ae[Ne];at=(at<<5^He)&32767;var tt=-1,Ot=0;if((tt=Be[at])&&(tt|=Ne&-32768,tt>Ne&&(tt-=32768),tt<Ne))for(;Ae[tt+Ot]==Ae[Ne+Ot]&&Ot<250;)++Ot;if(Ot>2){He=V[Ot],He<=22?Se=he(be,Se,K[He+1]>>1)-1:(he(be,Se,3),Se+=5,he(be,Se,K[He-23]>>5),Se+=3);var jr=He<8?0:He-4>>2;jr>0&&(F(be,Se,Ot-re[He]),Se+=jr),He=ee[Ne-tt],Se=he(be,Se,K[He]>>3),Se-=3;var Nr=He<4?0:He-2>>1;Nr>0&&(F(be,Se,Ne-tt-se[He]),Se+=Nr);for(var fn=0;fn<Ot;++fn)Be[at]=Ne&32767,at=(at<<5^Ae[Ne])&32767,++Ne;Je-=Ot-1}else He<=143?He=He+48:Se=ne(be,Se,1),Se=he(be,Se,K[He]),Be[at]=Ne&32767,++Ne}Se=he(be,Se,0)-1}return be.l=(Se+7)/8|0,be.l}return function(be,Se){return be.length<8?J(be,Se):de(be,Se)}}();function Ee(W){var ee=On(50+Math.floor(W.length*1.1)),Q=ue(W,ee);return ee.slice(0,Q)}var Le=ae?new Uint16Array(32768):pe(32768),Re=ae?new Uint16Array(32768):pe(32768),Ke=ae?new Uint16Array(128):pe(128),_t=1,lr=1;function yr(W,ee){var Q=Ve(W,ee)+257;ee+=5;var D=Ve(W,ee)+1;ee+=5;var V=Ue(W,ee)+4;ee+=4;for(var J=0,de=ae?new Uint8Array(19):pe(19),Ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],be=1,Se=ae?new Uint8Array(8):pe(8),Ne=ae?new Uint8Array(8):pe(8),Be=de.length,Je=0;Je<V;++Je)de[q[Je]]=J=Ie(W,ee),be<J&&(be=J),Se[J]++,ee+=3;var at=0;for(Se[0]=0,Je=1;Je<=be;++Je)Ne[Je]=at=at+Se[Je-1]<<1;for(Je=0;Je<Be;++Je)(at=de[Je])!=0&&(Ae[Je]=Ne[at]++);var He=0;for(Je=0;Je<Be;++Je)if(He=de[Je],He!=0){at=K[Ae[Je]]>>8-He;for(var tt=(1<<7-He)-1;tt>=0;--tt)Ke[at|tt<<He]=He&7|Je<<3}var Ot=[];for(be=1;Ot.length<Q+D;)switch(at=Ke[De(W,ee)],ee+=at&7,at>>>=3){case 16:for(J=3+$e(W,ee),ee+=2,at=Ot[Ot.length-1];J-- >0;)Ot.push(at);break;case 17:for(J=3+Ie(W,ee),ee+=3;J-- >0;)Ot.push(0);break;case 18:for(J=11+De(W,ee),ee+=7;J-- >0;)Ot.push(0);break;default:Ot.push(at),be<at&&(be=at);break}var jr=Ot.slice(0,Q),Nr=Ot.slice(Q);for(Je=Q;Je<286;++Je)jr[Je]=0;for(Je=D;Je<30;++Je)Nr[Je]=0;return _t=xe(jr,Le,286),lr=xe(Nr,Re,30),ee}function Bn(W,ee){if(W[0]==3&&!(W[1]&3))return[Pu(ee),2];for(var Q=0,D=0,V=jM(ee||1<<18),J=0,de=V.length>>>0,Ae=0,be=0;!(D&1);){if(D=Ie(W,Q),Q+=3,D>>>1)D>>1==1?(Ae=9,be=5):(Q=yr(W,Q),Ae=_t,be=lr);else{Q&7&&(Q+=8-(Q&7));var Se=W[Q>>>3]|W[(Q>>>3)+1]<<8;if(Q+=32,Se>0)for(!ee&&de<J+Se&&(V=ce(V,J+Se),de=V.length);Se-- >0;)V[J++]=W[Q>>>3],Q+=8;continue}for(;;){!ee&&de<J+32767&&(V=ce(V,J+32767),de=V.length);var Ne=pt(W,Q,Ae),Be=D>>>1==1?Fe[Ne]:Le[Ne];if(Q+=Be&15,Be>>>=4,!(Be>>>8&255))V[J++]=Be;else{if(Be==256)break;Be-=257;var Je=Be<8?0:Be-4>>2;Je>5&&(Je=0);var at=J+re[Be];Je>0&&(at+=pt(W,Q,Je),Q+=Je),Ne=pt(W,Q,be),Be=D>>>1==1?ye[Ne]:Re[Ne],Q+=Be&15,Be>>>=4;var He=Be<4?0:Be-2>>1,tt=se[Be];for(He>0&&(tt+=pt(W,Q,He),Q+=He),!ee&&de<at&&(V=ce(V,at+100),de=V.length);J<at;)V[J]=V[J-tt],++J}}}return ee?[V,Q+7>>>3]:[V.slice(0,J),Q+7>>>3]}function wr(W,ee){var Q=W.slice(W.l||0),D=Bn(Q,ee);return W.l+=D[1],D[0]}function Bs(W,ee){if(W)typeof console<"u"&&console.error(ee);else throw new Error(ee)}function Yn(W,ee){var Q=W;ta(Q,0);var D=[],V=[],J={FileIndex:D,FullPaths:V};j(J,{root:ee.root});for(var de=Q.length-4;(Q[de]!=80||Q[de+1]!=75||Q[de+2]!=5||Q[de+3]!=6)&&de>=0;)--de;Q.l=de+4,Q.l+=4;var Ae=Q.read_shift(2);Q.l+=6;var be=Q.read_shift(4);for(Q.l=be,de=0;de<Ae;++de){Q.l+=20;var Se=Q.read_shift(4),Ne=Q.read_shift(4),Be=Q.read_shift(2),Je=Q.read_shift(2),at=Q.read_shift(2);Q.l+=8;var He=Q.read_shift(4),tt=l(Q.slice(Q.l+Be,Q.l+Be+Je));Q.l+=Be+Je+at;var Ot=Q.l;Q.l=He+4,ua(Q,Se,Ne,J,tt),Q.l=Ot}return J}function ua(W,ee,Q,D,V){W.l+=2;var J=W.read_shift(2),de=W.read_shift(2),Ae=i(W);if(J&8257)throw new Error("Unsupported ZIP encryption");for(var be=W.read_shift(4),Se=W.read_shift(4),Ne=W.read_shift(4),Be=W.read_shift(2),Je=W.read_shift(2),at="",He=0;He<Be;++He)at+=String.fromCharCode(W[W.l++]);if(Je){var tt=l(W.slice(W.l,W.l+Je));(tt[21589]||{}).mt&&(Ae=tt[21589].mt),((V||{})[21589]||{}).mt&&(Ae=V[21589].mt)}W.l+=Je;var Ot=W.slice(W.l,W.l+Se);switch(de){case 8:Ot=X(W,Ne);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+de)}var jr=!1;J&8&&(be=W.read_shift(4),be==134695760&&(be=W.read_shift(4),jr=!0),Se=W.read_shift(4),Ne=W.read_shift(4)),Se!=ee&&Bs(jr,"Bad compressed size: "+ee+" != "+Se),Ne!=Q&&Bs(jr,"Bad uncompressed size: "+Q+" != "+Ne),Xn(D,at,Ot,{unsafe:!0,mt:Ae})}function Sl(W,ee){var Q=ee||{},D=[],V=[],J=On(1),de=Q.compression?8:0,Ae=0,be=0,Se=0,Ne=0,Be=0,Je=W.FullPaths[0],at=Je,He=W.FileIndex[0],tt=[],Ot=0;for(be=1;be<W.FullPaths.length;++be)if(at=W.FullPaths[be].slice(Je.length),He=W.FileIndex[be],!(!He.size||!He.content||at=="Sh33tJ5")){var jr=Ne,Nr=On(at.length);for(Se=0;Se<at.length;++Se)Nr.write_shift(1,at.charCodeAt(Se)&127);Nr=Nr.slice(0,Nr.l),tt[Be]=hye.buf(He.content,0);var fn=He.content;de==8&&(fn=B(fn)),J=On(30),J.write_shift(4,67324752),J.write_shift(2,20),J.write_shift(2,Ae),J.write_shift(2,de),He.mt?s(J,He.mt):J.write_shift(4,0),J.write_shift(-4,tt[Be]),J.write_shift(4,fn.length),J.write_shift(4,He.content.length),J.write_shift(2,Nr.length),J.write_shift(2,0),Ne+=J.length,D.push(J),Ne+=Nr.length,D.push(Nr),Ne+=fn.length,D.push(fn),J=On(46),J.write_shift(4,33639248),J.write_shift(2,0),J.write_shift(2,20),J.write_shift(2,Ae),J.write_shift(2,de),J.write_shift(4,0),J.write_shift(-4,tt[Be]),J.write_shift(4,fn.length),J.write_shift(4,He.content.length),J.write_shift(2,Nr.length),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(4,0),J.write_shift(4,jr),Ot+=J.l,V.push(J),Ot+=Nr.length,V.push(Nr),++Be}return J=On(22),J.write_shift(4,101010256),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(2,Be),J.write_shift(2,Be),J.write_shift(4,Ot),J.write_shift(4,Ne),J.write_shift(2,0),qc([qc(D),qc(V),J])}var ie={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ge(W,ee){if(W.ctype)return W.ctype;var Q=W.name||"",D=Q.match(/\.([^\.]+)$/);return D&&ie[D[1]]||ee&&(D=(Q=ee).match(/[\.\\]([^\.\\])+$/),D&&ie[D[1]])?ie[D[1]]:"application/octet-stream"}function Oe(W){for(var ee=SM(W),Q=[],D=0;D<ee.length;D+=76)Q.push(ee.slice(D,D+76));return Q.join(`\r
`)+`\r
`}function Me(W){var ee=W.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Se){var Ne=Se.charCodeAt(0).toString(16).toUpperCase();return"="+(Ne.length==1?"0"+Ne:Ne)});ee=ee.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ee.charAt(0)==`
`&&(ee="=0D"+ee.slice(1)),ee=ee.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Q=[],D=ee.split(`\r
`),V=0;V<D.length;++V){var J=D[V];if(J.length==0){Q.push("");continue}for(var de=0;de<J.length;){var Ae=76,be=J.slice(de,de+Ae);be.charAt(Ae-1)=="="?Ae--:be.charAt(Ae-2)=="="?Ae-=2:be.charAt(Ae-3)=="="&&(Ae-=3),be=J.slice(de,de+Ae),de+=Ae,de<J.length&&(be+="="),Q.push(be)}}return Q.join(`\r
`)}function St(W){for(var ee=[],Q=0;Q<W.length;++Q){for(var D=W[Q];Q<=W.length&&D.charAt(D.length-1)=="=";)D=D.slice(0,D.length-1)+W[++Q];ee.push(D)}for(var V=0;V<ee.length;++V)ee[V]=ee[V].replace(/[=][0-9A-Fa-f]{2}/g,function(J){return String.fromCharCode(parseInt(J.slice(1),16))});return mo(ee.join(`\r
`))}function rt(W,ee,Q){for(var D="",V="",J="",de,Ae=0;Ae<10;++Ae){var be=ee[Ae];if(!be||be.match(/^\s*$/))break;var Se=be.match(/^(.*?):\s*([^\s].*)$/);if(Se)switch(Se[1].toLowerCase()){case"content-location":D=Se[2].trim();break;case"content-type":J=Se[2].trim();break;case"content-transfer-encoding":V=Se[2].trim();break}}switch(++Ae,V.toLowerCase()){case"base64":de=mo(fi(ee.slice(Ae).join("")));break;case"quoted-printable":de=St(ee.slice(Ae));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+V)}var Ne=Xn(W,D.slice(Q.length),de,{unsafe:!0});J&&(Ne.ctype=J)}function Ht(W,ee){if(R(W.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Q=ee&&ee.root||"",D=(Jt&&Buffer.isBuffer(W)?W.toString("binary"):R(W)).split(`\r
`),V=0,J="";for(V=0;V<D.length;++V)if(J=D[V],!!/^Content-Location:/i.test(J)&&(J=J.slice(J.indexOf("file")),Q||(Q=J.slice(0,J.lastIndexOf("/")+1)),J.slice(0,Q.length)!=Q))for(;Q.length>0&&(Q=Q.slice(0,Q.length-1),Q=Q.slice(0,Q.lastIndexOf("/")+1),J.slice(0,Q.length)!=Q););var de=(D[1]||"").match(/boundary="(.*?)"/);if(!de)throw new Error("MAD cannot find boundary");var Ae="--"+(de[1]||""),be=[],Se=[],Ne={FileIndex:be,FullPaths:Se};j(Ne);var Be,Je=0;for(V=0;V<D.length;++V){var at=D[V];at!==Ae&&at!==Ae+"--"||(Je++&&rt(Ne,D.slice(Be,V),Q),Be=V)}return Ne}function Qt(W,ee){var Q=ee||{},D=Q.boundary||"SheetJS";D="------="+D;for(var V=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+D.slice(2)+'"',"","",""],J=W.FullPaths[0],de=J,Ae=W.FileIndex[0],be=1;be<W.FullPaths.length;++be)if(de=W.FullPaths[be].slice(J.length),Ae=W.FileIndex[be],!(!Ae.size||!Ae.content||de=="Sh33tJ5")){de=de.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ot){return"_x"+Ot.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ot){return"_u"+Ot.charCodeAt(0).toString(16)+"_"});for(var Se=Ae.content,Ne=Jt&&Buffer.isBuffer(Se)?Se.toString("binary"):R(Se),Be=0,Je=Math.min(1024,Ne.length),at=0,He=0;He<=Je;++He)(at=Ne.charCodeAt(He))>=32&&at<128&&++Be;var tt=Be>=Je*4/5;V.push(D),V.push("Content-Location: "+(Q.root||"file:///C:/SheetJS/")+de),V.push("Content-Transfer-Encoding: "+(tt?"quoted-printable":"base64")),V.push("Content-Type: "+ge(Ae,de)),V.push(""),V.push(tt?Me(Ne):Oe(Ne))}return V.push(D+`--\r
`),V.join(`\r
`)}function Ba(W){var ee={};return j(ee,W),ee}function Xn(W,ee,Q,D){var V=D&&D.unsafe;V||j(W);var J=!V&&Zt.find(W,ee);if(!J){var de=W.FullPaths[0];ee.slice(0,de.length)==de?de=ee:(de.slice(-1)!="/"&&(de+="/"),de=(de+ee).replace("//","/")),J={name:a(ee),type:2},W.FileIndex.push(J),W.FullPaths.push(de),V||Zt.utils.cfb_gc(W)}return J.content=Q,J.size=Q?Q.length:0,D&&(D.CLSID&&(J.clsid=D.CLSID),D.mt&&(J.mt=D.mt),D.ct&&(J.ct=D.ct)),J}function Gi(W,ee){j(W);var Q=Zt.find(W,ee);if(Q){for(var D=0;D<W.FileIndex.length;++D)if(W.FileIndex[D]==Q)return W.FileIndex.splice(D,1),W.FullPaths.splice(D,1),!0}return!1}function Sc(W,ee,Q){j(W);var D=Zt.find(W,ee);if(D){for(var V=0;V<W.FileIndex.length;++V)if(W.FileIndex[V]==D)return W.FileIndex[V].name=a(Q),W.FullPaths[V]=Q,!0}return!1}function jc(W){N(W,!0)}return t.find=P,t.read=k,t.parse=d,t.write=Y,t.writeFile=U,t.utils={cfb_new:Ba,cfb_add:Xn,cfb_del:Gi,cfb_mov:Sc,cfb_gc:jc,ReadShift:sg,CheckField:xq,prep_blob:ta,bconcat:qc,use_zlib:C,_deflateRaw:Ee,_inflateRaw:wr,consts:I},t}();function mye(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function ml(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function DO(e){for(var t=[],r=ml(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var k1=new Date(1899,11,30,0,0,0);function cs(e,t){var r=e.getTime(),n=k1.getTime()+(e.getTimezoneOffset()-k1.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var JH=new Date,pye=k1.getTime()+(JH.getTimezoneOffset()-k1.getTimezoneOffset())*6e4,PM=JH.getTimezoneOffset();function tS(e){var t=new Date;return t.setTime(e*24*60*60*1e3+pye),t.getTimezoneOffset()!==PM&&t.setTime(t.getTime()+(t.getTimezoneOffset()-PM)*6e4),t}function gye(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var DM=new Date("2017-02-19T19:06:09.000Z"),QH=isNaN(DM.getFullYear())?new Date("2/19/17"):DM,vye=QH.getFullYear()==2017;function Gn(e,t){var r=new Date(e);if(vye)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(QH.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function hf(e,t){if(Jt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return L0(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return L0(LH(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return L0(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return L0(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function ia(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ia(e[r]));return t}function en(e,t){for(var r="";r.length<t;)r+=e;return r}function So(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var xye=["january","february","march","april","may","june","july","august","september","october","november","december"];function Mm(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&xye.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var yye=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],l=1;l<s.length;++l)i.push(a),i.push(s[l]);return i}}();function ZH(e){return e?e.content&&e.type?hf(e.content,!0):e.data?I0(e.data):e.asNodeBuffer&&Jt?I0(e.asNodeBuffer().toString("binary")):e.asBinary?I0(e.asBinary()):e._data&&e._data.getContent?I0(hf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function eq(e){if(!e)return null;if(e.data)return bM(e.data);if(e.asNodeBuffer&&Jt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?bM(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function wye(e){return e&&e.name.slice(-4)===".bin"?eq(e):ZH(e)}function ji(e,t){for(var r=e.FullPaths||ml(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function RO(e,t){var r=ji(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function pn(e,t,r){if(!r)return wye(RO(e,t));if(!t)return null;try{return pn(e,t)}catch{return null}}function ti(e,t,r){if(!r)return ZH(RO(e,t));if(!t)return null;try{return ti(e,t)}catch{return null}}function bye(e,t,r){return eq(RO(e,t))}function RM(e){for(var t=e.FullPaths||ml(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function _ye(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Jt?n=Af(r):n=Uxe(r),Zt.utils.cfb_add(e,t,n)}Zt.utils.cfb_add(e,t,r)}else e.file(t,r)}function tq(e,t){switch(t.type){case"base64":return Zt.read(e,{type:"base64"});case"binary":return Zt.read(e,{type:"binary"});case"buffer":case"array":return Zt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function F0(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var rq=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Sye=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,IM=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,jye=/<[^>]*>/g,$a=rq.match(IM)?IM:jye,kye=/<\w*:/,Nye=/<(\/?)\w+:/;function Tt(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(Sye),l=0,c="",u=0,d="",f="",h=1;if(i)for(u=0;u!=i.length;++u){for(f=i[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,c=f.slice(s+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var p=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[p]&&d.slice(l-3,l)=="ext")continue;n[p]=c,n[p.toLowerCase()]=c}}return n}function yl(e){return e.replace(Nye,"<$1")}var nq={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Eye=DO(nq),nr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(l,c){return nq[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),Cye=/[&<>'"]/g,Tye=/[\u0000-\u001f]/g;function IO(e){var t=e+"";return t.replace(Cye,function(r){return Eye[r]}).replace(/\n/g,"<br/>").replace(Tye,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var MM=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Ur(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function yk(e){for(var t="",r=0,n=0,a=0,s=0,i=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function FM(e){var t=Pu(2*e.length),r,n,a=1,s=0,i=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function LM(e){return Af(e,"binary").toString("utf8")}var Oy="foo bar baz",Pr=Jt&&(LM(Oy)==yk(Oy)&&LM||FM(Oy)==yk(Oy)&&FM)||yk,L0=Jt?function(e){return Af(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Zg=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),aq=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Aye=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Oye=/<\/?(?:vt:)?variant>/g,Pye=/<(?:vt:)([^>]*)>([\s\S]*)</;function $M(e,t){var r=Tt(e),n=e.match(Aye(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(Oye,"").match(Pye);i&&a.push({v:Pr(i[2]),t:i[1]})}),a}var Dye=/(^\s|\s$|\n)/;function Rye(e){return ml(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Iye(e,t,r){return"<"+e+(r!=null?Rye(r):"")+(t!=null?(t.match(Dye)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function MO(e){if(Jt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Pr(Of(AO(e)));throw new Error("Bad input format: expected Buffer or string")}var ev=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Mye={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Fye=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Lye(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function $ye(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var BM=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},UM=Jt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Af(t)})):BM(e)}:BM,VM=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(zl(e,a)));return n.join("").replace(ls,"")},FO=Jt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(ls,""):VM(e,t,r)}:VM,zM=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},sq=Jt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):zM(e,t,r)}:zM,WM=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(ch(e,a)));return n.join("")},bx=Jt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):WM(t,r,n)}:WM,iq=function(e,t){var r=Js(e,t);return r>0?bx(e,t+4,t+4+r-1):""},oq=iq,lq=function(e,t){var r=Js(e,t);return r>0?bx(e,t+4,t+4+r-1):""},cq=lq,uq=function(e,t){var r=2*Js(e,t);return r>0?bx(e,t+4,t+4+r-1):""},dq=uq,fq=function(t,r){var n=Js(t,r);return n>0?FO(t,r+4,r+4+n):""},hq=fq,mq=function(e,t){var r=Js(e,t);return r>0?bx(e,t+4,t+4+r):""},pq=mq,gq=function(e,t){return Lye(e,t)},N1=gq,vq=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Jt&&(oq=function(t,r){if(!Buffer.isBuffer(t))return iq(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},cq=function(t,r){if(!Buffer.isBuffer(t))return lq(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},dq=function(t,r){if(!Buffer.isBuffer(t))return uq(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},hq=function(t,r){if(!Buffer.isBuffer(t))return fq(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},pq=function(t,r){if(!Buffer.isBuffer(t))return mq(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},N1=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):gq(t,r)},vq=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var ch=function(e,t){return e[t]},zl=function(e,t){return e[t+1]*256+e[t]},Bye=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Js=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},hd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Uye=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function sg(e,t){var r="",n,a,s=[],i,l,c,u;switch(t){case"dbcs":if(u=this.l,Jt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(zl(this,u)),u+=2;e*=2;break;case"utf8":r=bx(this,this.l,this.l+e);break;case"utf16le":e*=2,r=FO(this,this.l,this.l+e);break;case"wstr":return sg.call(this,e,"dbcs");case"lpstr-ansi":r=oq(this,this.l),e=4+Js(this,this.l);break;case"lpstr-cp":r=cq(this,this.l),e=4+Js(this,this.l);break;case"lpwstr":r=dq(this,this.l),e=4+2*Js(this,this.l);break;case"lpp4":e=4+Js(this,this.l),r=hq(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Js(this,this.l),r=pq(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=ch(this,this.l+e++))!==0;)s.push(Ay(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=zl(this,this.l+e))!==0;)s.push(Ay(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=ch(this,u),this.l=u+1,l=sg.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(Ay(zl(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=ch(this,u),this.l=u+1,l=sg.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(Ay(ch(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=ch(this,this.l),this.l++,n;case 2:return n=(t==="i"?Bye:zl)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?hd:Uye)(this,this.l),this.l+=4,n):(a=Js(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=N1(this,this.l):a=N1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=sq(this,this.l,e);break}}return this.l+=e,r}var Vye=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},zye=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Wye=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Hye(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Wye(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Vye(this,t,this.l);break;case 8:if(n=8,r==="f"){$ye(this,t,this.l);break}case 16:break;case-4:n=4,zye(this,t,this.l);break}return this.l+=n,this}function xq(e,t){var r=sq(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ta(e,t){e.l=t,e.read_shift=sg,e.chk=xq,e.write_shift=Hye}function Fa(e,t){e.l+=t}function On(e){var t=Pu(e);return ta(t,0),t}function yc(e,t,r){if(e){var n,a,s;ta(e,e.l||0);for(var i=e.length,l=0,c=0;e.l<i;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=P1[l]||P1[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;c=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=c,t(d,u,l))return}}}function oE(){var e=[],t=Jt?256:2048,r=function(u){var d=On(u);return ta(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},i=function(){return a(),qc(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:i,_bufs:e}}function ig(e,t,r){var n=ia(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function HM(e,t,r){var n=ia(e);return n.s=ig(n.s,t.s,r),n.e=ig(n.e,t.s,r),n}function og(e,t){if(e.cRel&&e.c<0)for(e=ia(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ia(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=It(e);return!e.cRel&&e.cRel!=null&&(r=Kye(r)),!e.rRel&&e.rRel!=null&&(r=qye(r)),r}function wk(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Mn(e.s.c)+":"+(e.e.cRel?"":"$")+Mn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+oa(e.s.r)+":"+(e.e.rRel?"":"$")+oa(e.e.r):og(e.s,t.biff)+":"+og(e.e,t.biff)}function LO(e){return parseInt(Gye(e),10)-1}function oa(e){return""+(e+1)}function qye(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Gye(e){return e.replace(/\$(\d+)$/,"$1")}function $O(e){for(var t=Yye(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Mn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Kye(e){return e.replace(/^([A-Z])/,"$$$1")}function Yye(e){return e.replace(/^\$([A-Z])/,"$1")}function Xye(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function rs(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function It(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ip(e){var t=e.indexOf(":");return t==-1?{s:rs(e),e:rs(e)}:{s:rs(e.slice(0,t)),e:rs(e.slice(t+1))}}function er(e,t){return typeof t>"u"||typeof t=="number"?er(e.s,e.e):(typeof e!="string"&&(e=It(e)),typeof t!="string"&&(t=It(t)),e==t?e:e+":"+t)}function rn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function qM(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Bi(e.z,r?cs(t):t)}catch{}try{return e.w=Bi((e.XF||{}).numFmtId||(r?14:0),r?cs(t):t)}catch{return""+t}}function uc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Rf[e.v]||e.v:t==null?qM(e,e.v):qM(e,t))}function qu(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function yq(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?rs(n.origin):n.origin;i=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=rn(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),i==-1&&(u.e.r=i=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},g=i+f,m=l+h;if(u.s.r>g&&(u.s.r=g),u.s.c>m&&(u.s.c=m),u.e.r<g&&(u.e.r=g),u.e.c<m&&(u.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Bt[14],n.cellDates?(p.t="d",p.w=Bi(p.z,cs(p.v))):(p.t="n",p.v=cs(p.v),p.w=Bi(p.z,p.v))):p.t="s";if(a)s[g]||(s[g]=[]),s[g][m]&&s[g][m].z&&(p.z=s[g][m].z),s[g][m]=p;else{var v=It({c:m,r:g});s[v]&&s[v].z&&(p.z=s[v].z),s[v]=p}}}return u.s.c<1e7&&(s["!ref"]=er(u)),s}function Mp(e,t){return yq(null,e,t)}function Jye(e){return e.read_shift(4,"i")}function Da(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Qye(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function BO(e,t){var r=e.l,n=e.read_shift(1),a=Da(e),s=[],i={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(Qye(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var Zye=BO;function zi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Pf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var ewe=Da;function UO(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var twe=Da,lE=UO;function VO(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?N1([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):hd(t,0)>>2;return r?a/100:a}function wq(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Df=wq;function Ta(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function rwe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Ud[a];u&&(t.rgb=rv(u));break;case 2:t.rgb=rv([i,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function nwe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function bq(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function awe(e){return bq(e,1)}function swe(e){return bq(e,2)}var zO=2,vs=3,Py=11,GM=12,E1=19,Dy=64,iwe=65,owe=71,lwe=4108,cwe=4126,Un=80,_q=81,uwe=[Un,_q],dwe={1:{n:"CodePage",t:zO},2:{n:"Category",t:Un},3:{n:"PresentationFormat",t:Un},4:{n:"ByteCount",t:vs},5:{n:"LineCount",t:vs},6:{n:"ParagraphCount",t:vs},7:{n:"SlideCount",t:vs},8:{n:"NoteCount",t:vs},9:{n:"HiddenCount",t:vs},10:{n:"MultimediaClipCount",t:vs},11:{n:"ScaleCrop",t:Py},12:{n:"HeadingPairs",t:lwe},13:{n:"TitlesOfParts",t:cwe},14:{n:"Manager",t:Un},15:{n:"Company",t:Un},16:{n:"LinksUpToDate",t:Py},17:{n:"CharacterCount",t:vs},19:{n:"SharedDoc",t:Py},22:{n:"HyperlinksChanged",t:Py},23:{n:"AppVersion",t:vs,p:"version"},24:{n:"DigSig",t:iwe},26:{n:"ContentType",t:Un},27:{n:"ContentStatus",t:Un},28:{n:"Language",t:Un},29:{n:"Version",t:Un},255:{},2147483648:{n:"Locale",t:E1},2147483651:{n:"Behavior",t:E1},1919054434:{}},fwe={1:{n:"CodePage",t:zO},2:{n:"Title",t:Un},3:{n:"Subject",t:Un},4:{n:"Author",t:Un},5:{n:"Keywords",t:Un},6:{n:"Comments",t:Un},7:{n:"Template",t:Un},8:{n:"LastAuthor",t:Un},9:{n:"RevNumber",t:Un},10:{n:"EditTime",t:Dy},11:{n:"LastPrinted",t:Dy},12:{n:"CreatedDate",t:Dy},13:{n:"ModifiedDate",t:Dy},14:{n:"PageCount",t:vs},15:{n:"WordCount",t:vs},16:{n:"CharCount",t:vs},17:{n:"Thumbnail",t:owe},18:{n:"Application",t:Un},19:{n:"DocSecurity",t:vs},255:{},2147483648:{n:"Locale",t:E1},2147483651:{n:"Behavior",t:E1},1919054434:{}},KM={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},hwe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function mwe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var pwe=mwe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ud=ia(pwe),Rf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Sq={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},YM={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function gwe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function vwe(e){var t=gwe();if(!e||!e.match)return t;var r={};if((e.match($a)||[]).forEach(function(n){var a=Tt(n);switch(a[0].replace(kye,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[YM[a.ContentType]]!==void 0&&t[YM[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Mye.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Oh={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function cE(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function lg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match($a)||[]).forEach(function(a){var s=Tt(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:F0(s.Target,t);r[l]=i,n[s.Id]=i}}),r["!id"]=n,r}var xwe="application/vnd.oasis.opendocument.spreadsheet";function ywe(e,t){for(var r=MO(e),n,a;n=ev.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Tt(n[0],!1),a.path=="/"&&a.type!==xwe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var cg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],wwe=function(){for(var e=new Array(cg.length),t=0;t<cg.length;++t){var r=cg[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function jq(e){var t={};e=Pr(e);for(var r=0;r<cg.length;++r){var n=cg[r],a=e.match(wwe[r]);a!=null&&a.length>0&&(t[n[1]]=nr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Gn(t[n[1]]))}return t}var bwe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function kq(e,t,r,n){var a=[];if(typeof e=="string")a=$M(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var i=typeof t=="string"?$M(t,n).map(function(d){return d.v}):t,l=0,c=0;if(i.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=i.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=i.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=i.slice(l,l+c);break}l+=c}}function _we(e,t,r){var n={};return t||(t={}),e=Pr(e),bwe.forEach(function(a){var s=(e.match(Zg(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=nr(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&kq(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Swe=/<[^>]+>[^<]*/g;function jwe(e,t){var r={},n="",a=e.match(Swe);if(a)for(var s=0;s!=a.length;++s){var i=a[s],l=Tt(i);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=nr(l.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var c=i.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=nr(d);break;case"bool":r[n]=Ur(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Gn(d);break;case"cy":case"error":r[n]=nr(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,u,c)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}var kwe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},bk;function Nwe(e,t,r){bk||(bk=DO(kwe)),t=bk[t]||t,e[t]=r}function WO(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Nq(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Eq(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function Cq(e,t,r){return t===31?Eq(e):Nq(e,t,r)}function uE(e,t,r){return Cq(e,t,r===!1?0:4)}function Ewe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Cq(e,t,0)}function Cwe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(ls,""),e.l-a&2&&(e.l+=2)}return r}function Twe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(ls,"");return r}function Awe(e){var t=e.l,r=C1(e,_q);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=C1(e,vs);return[r,n]}function Owe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Awe(e));return r}function XM(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(ls,"").replace(M0,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function Tq(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Pwe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function C1(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==GM&&n!==t&&uwe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===GM?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Nq(e,n,4).replace(ls,"");case 31:return Eq(e);case 64:return WO(e);case 65:return Tq(e);case 71:return Pwe(e);case 80:return uE(e,n,!s.raw).replace(ls,"");case 81:return Ewe(e,n).replace(ls,"");case 4108:return Owe(e);case 4126:case 4127:return n==4127?Cwe(e):Twe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function JM(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,l=0,c=-1,u={};for(i=0;i!=a;++i){var d=e.read_shift(4),f=e.read_shift(4);s[i]=[d,f+r]}s.sort(function(w,b){return w[1]-b[1]});var h={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var p=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,p=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],p=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],p=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(p=!1,e.l=s[i][1]),p)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var g=t[s[i][0]];if(h[g.n]=C1(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:xo(l=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(s[i][0]===1){if(l=h.CodePage=C1(e,zO),xo(l),c!==-1){var m=e.l;e.l=s[c][1],u=XM(e,l),e.l=m}}else if(s[i][0]===0){if(l===0){c=i,e.l=s[i+1][1];continue}u=XM(e,l)}else{var v=u[s[i][0]],y;switch(e[e.l]){case 65:e.l+=4,y=Tq(e);break;case 30:e.l+=4,y=uE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=uE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=nn(e,4);break;case 64:e.l+=4,y=Gn(WO(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function QM(e,t,r){var n=e.content;if(!n)return{};ta(n,0);var a,s,i,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Zt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(i=n.read_shift(16),c=n.read_shift(4));var f=JM(n,t),h={SystemIdentifier:u};for(var p in f)h[p]=f[p];if(h.FMTID=s,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var g;try{g=JM(n,null)}catch{}for(p in g)h[p]=g[p];return h.FMTID=[s,i],h}function Dc(e,t){return e.read_shift(t),null}function Dwe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function nn(e,t){return e.read_shift(t)===1}function gn(e){return e.read_shift(2,"u")}function Aq(e,t){return Dwe(e,t,gn)}function Rwe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function _x(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function Iwe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,l,c={};a&&(i=e.read_shift(2)),n&&(l=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*i),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function mf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Sx(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):mf(e,n,r)}function If(e,t,r){if(r.biff>5)return Sx(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Mwe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Fwe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(ls,"");return n&&(e.l+=24),a}function Lwe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(ls,"");return r+i}function $we(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Fwe(e);case"0303000000000000c000000000000046":return Lwe(e);default:throw new Error("Unsupported Moniker "+r)}}function Ry(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(ls,""):"";return r}function Bwe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,l,c,u="",d,f;a&16&&(s=Ry(e,r-e.l)),a&128&&(i=Ry(e,r-e.l)),(a&257)===257&&(l=Ry(e,r-e.l)),(a&257)===1&&(c=$we(e,r-e.l)),a&8&&(u=Ry(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=WO(e)),e.l=r;var h=i||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return d&&(p.guid=d),f&&(p.time=f),s&&(p.Tooltip=s),p}function Oq(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function Pq(e,t){var r=Oq(e);return r[3]=0,r}function wl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Uwe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Vwe(e,t,r){return t===0?"":If(e,t,r)}function zwe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function Dq(e){var t=e.read_shift(2),r=VO(e);return[t,r]}function Wwe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=_x(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function rS(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Rq(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var Hwe=Rq;function Iq(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function qwe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Gwe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ha(e){e.l+=2,e.l+=e.read_shift(2)}var Kwe={0:ha,4:ha,5:ha,6:ha,7:Gwe,8:ha,9:ha,10:ha,11:ha,12:ha,13:qwe,14:ha,15:ha,16:ha,17:ha,18:ha,19:ha,20:ha,21:Iq};function Ywe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(Kwe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Iy(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function Xwe(e,t){return t===0||e.read_shift(2),1200}function Jwe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=If(e,0,r);return e.read_shift(t+n-e.l),a}function Qwe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Zwe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=_x(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function e1e(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(Iwe(e));return s.Count=n,s.Unique=a,s}function t1e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function r1e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function n1e(e){var t=Uwe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function a1e(e){return e.read_shift(2),e.read_shift(4)}function ZM(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function s1e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:l,Selected:c,TabRatio:u}}function i1e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function o1e(){}function l1e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=_x(e,0,r),n}function c1e(e){var t=wl(e);return t.isst=e.read_shift(4),t}function u1e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=wl(e);r.biff==2&&e.l++;var s=Sx(e,n-e.l,r);return a.val=s,a}function d1e(e,t,r){var n=e.read_shift(2),a=If(e,0,r);return[n,a]}var f1e=If;function eF(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:s,c:l},e:{r:i,c}}}function h1e(e){var t=e.read_shift(2),r=e.read_shift(2),n=Dq(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function m1e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(Dq(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function p1e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function g1e(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=hwe[l>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function v1e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=g1e(e,t,n.fStyle,r),n}function x1e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function tF(e,t,r){var n=wl(e);(r.biff==2||t==9)&&++e.l;var a=Rwe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function y1e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=wl(e),a=Ta(e);return n.val=a,n}var rF=Vwe;function w1e(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=mf(e,s),l=[];n>e.l;)l.push(Sx(e));return[s,a,i,l]}function nF(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=Wwe(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var b1e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function aF(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=mf(e,i,r);a&32&&(u=b1e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:rje(e,d,r,l);return{chKey:s,Name:u,itab:c,rgce:f}}function Mq(e,t,r){if(r.biff<8)return _1e(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(zwe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function _1e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=_x(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function S1e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=mf(e,n,r),i=mf(e,a,r);return[s,i]}function j1e(e,t,r){var n=Rq(e);e.l++;var a=e.read_shift(1);return t-=8,[nje(e,t,r),a,n]}function sF(e,t,r){var n=Hwe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,eje(e,t,r)]}function k1e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function N1e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),l=If(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,i,s]}}function E1e(e,t,r){return N1e(e,t,r)}function C1e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(rS(e));return r}function T1e(e,t,r){if(r&&r.biff<8)return O1e(e,t,r);var n=Iq(e),a=Ywe(e,t-22,n[1]);return{cmo:n,ft:a}}var A1e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function O1e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((A1e[n]||Fa)(e,t,r)),{cmo:[a,n,s],ft:i}}function P1e(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=Mwe(e,6,r);var l=e.read_shift(2);e.read_shift(2),gn(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=mf(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function D1e(e,t){var r=rS(e);e.l+=16;var n=Bwe(e,t-24);return[r,n]}function R1e(e,t){e.read_shift(2);var r=rS(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(ls,""),[r,n]}function I1e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=KM[r]||r,r=e.read_shift(2),t[1]=KM[r]||r,t}function M1e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Pq(e));return r}function F1e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Pq(e));return r}function L1e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Fq(e,t,r){if(!r.cellStyles)return Fa(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:i,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function $1e(e,t){var r={};return t<32||(e.l+=16,r.header=Ta(e),r.footer=Ta(e),e.l+=2),r}function B1e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var U1e=wl,V1e=Aq,z1e=Sx;function W1e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function H1e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=wl(e);++e.l;var a=If(e,t-7,r);return n.t="str",n.val=a,n}function q1e(e){var t=wl(e);++e.l;var r=Ta(e);return t.t="n",t.val=r,t}function G1e(e){var t=wl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function K1e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Y1e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function X1e(e,t,r){var n=e.l+t,a=wl(e),s=e.read_shift(2),i=mf(e,s,r);return e.l=n,a.t="str",a.val=i,a}var J1e=[2,3,48,49,131,139,140,245],iF=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=DO({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Pu(1);switch(c.type){case"base64":d=mo(fi(l));break;case"binary":d=mo(l);break;case"buffer":case"array":d=l;break}ta(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,v=521;f==2&&(m=d.read_shift(2)),d.l+=3,f!=2&&(m=d.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(v=d.read_shift(2));var y=d.read_shift(2),w=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(w=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var b=[],_={},S=Math.min(d.length,f==2?521:v-10-(p?264:0)),k=g?32:11;d.l<S&&d[d.l]!=13;)switch(_={},_.name=Hc.utils.decode(w,d.slice(d.l,d.l+k)).replace(/[\u0000\r\n].*$/g,""),d.l+=k,_.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),f==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&b.push(_),f!=2&&(d.l+=g?13:14),_.type){case"B":(!p||_.len!=8)&&c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var j=0,E=0;for(u[0]=[],E=0;E!=b.length;++E)u[0][E]=b[E].name;for(;m-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++j]=[],E=0,E=0;E!=b.length;++E){var N=d.slice(d.l,d.l+b[E].len);d.l+=b[E].len,ta(N,0);var O=Hc.utils.decode(w,N);switch(b[E].type){case"C":O.trim().length&&(u[j][E]=O.replace(/\s+$/,""));break;case"D":O.length===8?u[j][E]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):u[j][E]=O;break;case"F":u[j][E]=parseFloat(O.trim());break;case"+":case"I":u[j][E]=g?N.read_shift(-4,"i")^2147483648:N.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":u[j][E]=!0;break;case"N":case"F":u[j][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[j][E]="##MEMO##"+(g?parseInt(O.trim(),10):N.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(u[j][E]=+O||0);break;case"@":u[j][E]=new Date(N.read_shift(-8,"f")-621356832e5);break;case"T":u[j][E]=new Date((N.read_shift(4)-2440588)*864e5+N.read_shift(4));break;case"Y":u[j][E]=N.read_shift(4,"i")/1e4+N.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[j][E]=-N.read_shift(-8,"f");break;case"B":if(p&&b[E].len==8){u[j][E]=N.read_shift(8,"f");break}case"G":case"P":N.l+=b[E].len;break;case"0":if(b[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[E].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=b,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Mp(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return qu(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(l,c){var u=c||{};if(+u.codepage>=0&&xo(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=oE(),f=vE(l,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),g=l["!cols"]||[],m=0,v=0,y=0,w=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++y;continue}if(h[m]!=null){if(++y,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(v=0;v<1024;++v)if(h.indexOf(h[m]+"_"+v)==-1){h[m]+="_"+v;break}}}}var b=rn(l["!ref"]),_=[],S=[],k=[];for(m=0;m<=b.e.c-b.s.c;++m){var j="",E="",N=0,O=[];for(v=0;v<p.length;++v)p[v][m]!=null&&O.push(p[v][m]);if(O.length==0||h[m]==null){_[m]="?";continue}for(v=0;v<O.length;++v){switch(typeof O[v]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=O[v]instanceof Date?"D":"C";break;default:E="C"}N=Math.max(N,String(O[v]).length),j=j&&j!=E?"C":E}N>250&&(N=250),E=((g[m]||{}).DBF||{}).type,E=="C"&&g[m].DBF.len>N&&(N=g[m].DBF.len),j=="B"&&E=="N"&&(j="N",k[m]=g[m].DBF.dec,N=g[m].DBF.len),S[m]=j=="C"||E=="N"?N:s[j]||0,w+=S[m],_[m]=j}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,p.length),P.write_shift(2,296+32*y),P.write_shift(2,w),m=0;m<4;++m)P.write_shift(4,0);for(P.write_shift(4,0|(+t[MH]||3)<<8),m=0,v=0;m<h.length;++m)if(h[m]!=null){var T=d.next(32),L=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,L,"sbcs"),T.write_shift(1,_[m]=="?"?"C":_[m],"sbcs"),T.write_shift(4,v),T.write_shift(1,S[m]||s[_[m]]||0),T.write_shift(1,k[m]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),v+=S[m]||s[_[m]]||0}var H=d.next(264);for(H.write_shift(4,13),m=0;m<65;++m)H.write_shift(4,0);for(m=0;m<p.length;++m){var z=d.next(w);for(z.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(_[v]){case"L":z.write_shift(1,p[m][v]==null?63:p[m][v]?84:70);break;case"B":z.write_shift(8,p[m][v]||0,"f");break;case"N":var M="0";for(typeof p[m][v]=="number"&&(M=p[m][v].toFixed(k[v]||0)),y=0;y<S[v]-M.length;++y)z.write_shift(1,32);z.write_shift(1,M,"sbcs");break;case"D":p[m][v]?(z.write_shift(4,("0000"+p[m][v].getFullYear()).slice(-4),"sbcs"),z.write_shift(2,("00"+(p[m][v].getMonth()+1)).slice(-2),"sbcs"),z.write_shift(2,("00"+p[m][v].getDate()).slice(-2),"sbcs")):z.write_shift(8,"00000000","sbcs");break;case"C":var I=String(p[m][v]!=null?p[m][v]:"").slice(0,S[v]);for(z.write_shift(1,I,"sbcs"),y=0;y<S[v]-I.length;++y)z.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),Q1e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ml(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?_M(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:_M(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return s(fi(h),p);case"binary":return s(h,p);case"buffer":return s(Jt&&Buffer.isBuffer(h)?h.toString("binary"):Of(h),p);case"array":return s(hf(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var g=h.split(/[\n\r]+/),m=-1,v=-1,y=0,w=0,b=[],_=[],S=null,k={},j=[],E=[],N=[],O=0,P;for(+p.codepage>=0&&xo(+p.codepage);y!==g.length;++y){O=0;var T=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),L=T.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),H=L[0],z;if(T.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":L[1].charAt(0)=="P"&&_.push(T.slice(3).replace(/;;/g,";"));break;case"C":var M=!1,I=!1,U=!1,R=!1,Y=-1,Z=-1;for(w=1;w<L.length;++w)switch(L[w].charAt(0)){case"A":break;case"X":v=parseInt(L[w].slice(1))-1,I=!0;break;case"Y":for(m=parseInt(L[w].slice(1))-1,I||(v=0),P=b.length;P<=m;++P)b[P]=[];break;case"K":z=L[w].slice(1),z.charAt(0)==='"'?z=z.slice(1,z.length-1):z==="TRUE"?z=!0:z==="FALSE"?z=!1:isNaN(So(z))?isNaN(Mm(z).getDate())||(z=Gn(z)):(z=So(z),S!==null&&Rp(S)&&(z=tS(z))),M=!0;break;case"E":R=!0;var C=Qh(L[w].slice(1),{r:m,c:v});b[m][v]=[b[m][v],C];break;case"S":U=!0,b[m][v]=[b[m][v],"S5S"];break;case"G":break;case"R":Y=parseInt(L[w].slice(1))-1;break;case"C":Z=parseInt(L[w].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}if(M&&(b[m][v]&&b[m][v].length==2?b[m][v][0]=z:b[m][v]=z,S=null),U){if(R)throw new Error("SYLK shared formula cannot have own formula");var X=Y>-1&&b[Y][Z];if(!X||!X[1])throw new Error("SYLK shared formula cannot find base");b[m][v][1]=Gq(X[1],{r:m-Y,c:v-Z})}break;case"F":var B=0;for(w=1;w<L.length;++w)switch(L[w].charAt(0)){case"X":v=parseInt(L[w].slice(1))-1,++B;break;case"Y":for(m=parseInt(L[w].slice(1))-1,P=b.length;P<=m;++P)b[P]=[];break;case"M":O=parseInt(L[w].slice(1))/20;break;case"F":break;case"G":break;case"P":S=_[parseInt(L[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(N=L[w].slice(1).split(" "),P=parseInt(N[0],10);P<=parseInt(N[1],10);++P)O=parseInt(N[2],10),E[P-1]=O===0?{hidden:!0}:{wch:O},Fm(E[P-1]);break;case"C":v=parseInt(L[w].slice(1))-1,E[v]||(E[v]={});break;case"R":m=parseInt(L[w].slice(1))-1,j[m]||(j[m]={}),O>0?(j[m].hpt=O,j[m].hpx=nv(O)):O===0&&(j[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}B<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}}return j.length>0&&(k["!rows"]=j),E.length>0&&(k["!cols"]=E),p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),[b,k]}function i(h,p){var g=a(h,p),m=g[0],v=g[1],y=Mp(m,p);return ml(v).forEach(function(w){y[w]=v[w]}),y}function l(h,p){return qu(i(h,p),p)}function c(h,p,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+L_e(h.f,{r:g,c:m}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(h,p){p.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=A1(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=O1(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function d(h,p){p.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*Wq(g.hpx)+";"),v.length>2&&h.push(v+"R"+(m+1))})}function f(h,p){var g=["ID;PWXL;N;E"],m=[],v=rn(h["!ref"]),y,w=Array.isArray(h),b=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var _=v.s.r;_<=v.e.r;++_)for(var S=v.s.c;S<=v.e.c;++S){var k=It({r:_,c:S});y=w?(h[_]||[])[S]:h[k],!(!y||y.v==null&&(!y.f||y.F))&&m.push(c(y,h,_,S))}return g.join(b)+b+m.join(b)+b+"E"+b}return{to_workbook:l,to_sheet:i,from_sheet:f}}(),Z1e=function(){function e(s,i){switch(i.type){case"base64":return t(fi(s),i);case"binary":return t(s,i);case"buffer":return t(Jt&&Buffer.isBuffer(s)?s.toString("binary"):Of(s),i);case"array":return t(hf(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var l=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),p=h[0],g=h[1];++d;for(var m=l[d]||"";(m.match(/["]/g)||[]).length&1&&d<l.length-1;)m+=`
`+l[++d];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++c]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[c][u]=!0:m==="FALSE"?f[c][u]=!1:isNaN(So(g))?isNaN(Mm(g).getDate())?f[c][u]=g:f[c][u]=Gn(g):f[c][u]=So(g),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[c][u++]=m!==""?m:null;break}if(m==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(s,i){return Mp(e(s,i),i)}function n(s,i){return qu(r(s,i),i)}var a=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},i=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=rn(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){i(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var m=It({r:p,c:g});if(f=h?(c[p]||[])[g]:c[m],!f){i(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?i(u,1,0,"="+f.f):i(u,1,0,""):i(u,0,v,"V");break;case"b":i(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Bi(f.z||Bt[14],cs(Gn(f.v)))),i(u,0,f.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var y=`\r
`,w=u.join(y);return w}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),ebe=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),g=-1,m=-1,v=0,y=[];v!==p.length;++v){var w=p[v].trim().split(":");if(w[0]==="cell"){var b=rs(w[1]);if(y.length<=b.r)for(g=y.length;g<=b.r;++g)y[g]||(y[g]=[]);switch(g=b.r,m=b.c,w[2]){case"t":y[g][m]=e(w[3]);break;case"v":y[g][m]=+w[3];break;case"vtf":var _=w[w.length-1];case"vtc":switch(w[3]){case"nl":y[g][m]=!!+w[4];break;default:y[g][m]=+w[4];break}w[2]=="vtf"&&(y[g][m]=[y[g][m],_])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return Mp(r(f,h),h)}function a(f,h){return qu(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],g,m="",v=Ip(f["!ref"]),y=Array.isArray(f),w=v.s.r;w<=v.e.r;++w)for(var b=v.s.c;b<=v.e.c;++b)if(m=It({r:w,c:b}),g=y?(f[w]||[])[b]:f[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var _=cs(Gn(g.v));p[2]="vtc",p[3]="nd",p[4]=""+_,p[5]=g.w||Bi(g.z||Bt[14],_);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,i,l,i,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),tv=function(){function e(d,f,h,p,g){g.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(So(d))?isNaN(Mm(d).getDate())?f[h][p]=d:f[h][p]=Gn(d):f[h][p]=So(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var g=d.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,y=0,w=0;w<=m;++w)y=g[w].indexOf(" "),y==-1?y=g[w].length:y++,v=Math.max(v,y);for(w=0;w<=m;++w){p[w]=[];var b=0;for(e(g[w].slice(0,v).trim(),p,w,b,h),b=1;b<=(g[w].length-v)/10+1;++b)e(g[w].slice(v+(b-1)*10,v+b*10).trim(),p,w,b,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,g=0;p<d.length;++p)(g=d.charCodeAt(p))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p]);if(!g.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p])}return g.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[g.pop()[1]]||44}function s(d,f){var h=f||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var v=0,y=0,w=0,b=0,_=0,S=p.charCodeAt(0),k=!1,j=0,E=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var N=h.dateNF!=null?dye(h.dateNF):null;function O(){var P=d.slice(b,_),T={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)T.t="z";else if(h.raw)T.t="s",T.v=P;else if(P.trim().length===0)T.t="s",T.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(T.t="s",T.v=P.slice(2,-1).replace(/""/g,'"')):B_e(P)?(T.t="n",T.f=P.slice(1)):(T.t="s",T.v=P);else if(P=="TRUE")T.t="b",T.v=!0;else if(P=="FALSE")T.t="b",T.v=!1;else if(!isNaN(w=So(P)))T.t="n",h.cellText!==!1&&(T.w=P),T.v=w;else if(!isNaN(Mm(P).getDate())||N&&P.match(N)){T.z=h.dateNF||Bt[14];var L=0;N&&P.match(N)&&(P=fye(P,h.dateNF,P.match(N)||[]),L=1),h.cellDates?(T.t="d",T.v=Gn(P,L)):(T.t="n",T.v=cs(Gn(P,L))),h.cellText!==!1&&(T.w=Bi(T.z,T.v instanceof Date?cs(T.v):T.v)),h.cellNF||delete T.z}else T.t="s",T.v=P;if(T.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=T):g[It({c:y,r:v})]=T),b=_+1,E=d.charCodeAt(b),m.e.c<y&&(m.e.c=y),m.e.r<v&&(m.e.r=v),j==S)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;_<d.length;++_)switch(j=d.charCodeAt(_)){case 34:E===34&&(k=!k);break;case S:case 10:case 13:if(!k&&O())break e;break}return _-b>0&&O(),g["!ref"]=er(m),g}function i(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):Mp(t(d,f),f)}function l(d,f){var h="",p=f.type=="string"?[0,0,0,0]:QO(d,f);switch(f.type){case"base64":h=fi(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Hc<"u"?h=Hc.utils.decode(f.codepage,d):h=Jt&&Buffer.isBuffer(d)?d.toString("binary"):Of(d);break;case"array":h=hf(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Pr(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Pr(h):f.type=="binary"&&typeof Hc<"u"&&f.codepage&&(h=Hc.utils.decode(f.codepage,Hc.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?ebe.to_sheet(f.type=="string"?h:Pr(h),f):i(h,f)}function c(d,f){return qu(l(d,f),f)}function u(d){for(var f=[],h=rn(d["!ref"]),p,g=Array.isArray(d),m=h.s.r;m<=h.e.r;++m){for(var v=[],y=h.s.c;y<=h.e.c;++y){var w=It({r:m,c:y});if(p=g?(d[m]||[])[y]:d[w],!p||p.v==null){v.push("          ");continue}for(var b=(p.w||(uc(p),p.w)||"").slice(0,10);b.length<10;)b+=" ";v.push(b+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function tbe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=Q1e.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return tv.to_workbook(e,t)}}var ug=function(){function e(C,X,B){if(C){ta(C,C.l||0);for(var q=B.Enum||Y;C.l<C.length;){var re=C.read_shift(2),se=q[re]||q[65535],le=C.read_shift(2),ae=C.l+le,K=se.f&&se.f(C,le,B);if(C.l=ae,X(K,se,re))return}}}function t(C,X){switch(X.type){case"base64":return r(mo(fi(C)),X);case"binary":return r(mo(C),X);case"buffer":case"array":return r(C,X)}throw"Unsupported type "+X.type}function r(C,X){if(!C)return C;var B=X||{},q=B.dense?[]:{},re="Sheet1",se="",le=0,ae={},K=[],me=[],A={s:{r:0,c:0},e:{r:0,c:0}},$e=B.sheetRows||0;if(C[2]==0&&(C[3]==8||C[3]==9)&&C.length>=16&&C[14]==5&&C[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(C[2]==2)B.Enum=Y,e(C,function(De,pt,yt){switch(yt){case 0:B.vers=De,De>=4096&&(B.qpro=!0);break;case 6:A=De;break;case 204:De&&(se=De);break;case 222:se=De;break;case 15:case 51:B.qpro||(De[1].v=De[1].v.slice(1));case 13:case 14:case 16:yt==14&&(De[2]&112)==112&&(De[2]&15)>1&&(De[2]&15)<15&&(De[1].z=B.dateNF||Bt[14],B.cellDates&&(De[1].t="d",De[1].v=tS(De[1].v))),B.qpro&&De[3]>le&&(q["!ref"]=er(A),ae[re]=q,K.push(re),q=B.dense?[]:{},A={s:{r:0,c:0},e:{r:0,c:0}},le=De[3],re=se||"Sheet"+(le+1),se="");var ne=B.dense?(q[De[0].r]||[])[De[0].c]:q[It(De[0])];if(ne){ne.t=De[1].t,ne.v=De[1].v,De[1].z!=null&&(ne.z=De[1].z),De[1].f!=null&&(ne.f=De[1].f);break}B.dense?(q[De[0].r]||(q[De[0].r]=[]),q[De[0].r][De[0].c]=De[1]):q[It(De[0])]=De[1];break}},B);else if(C[2]==26||C[2]==14)B.Enum=Z,C[2]==14&&(B.qpro=!0,C.l=0),e(C,function(De,pt,yt){switch(yt){case 204:re=De;break;case 22:De[1].v=De[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(De[3]>le&&(q["!ref"]=er(A),ae[re]=q,K.push(re),q=B.dense?[]:{},A={s:{r:0,c:0},e:{r:0,c:0}},le=De[3],re="Sheet"+(le+1)),$e>0&&De[0].r>=$e)break;B.dense?(q[De[0].r]||(q[De[0].r]=[]),q[De[0].r][De[0].c]=De[1]):q[It(De[0])]=De[1],A.e.c<De[0].c&&(A.e.c=De[0].c),A.e.r<De[0].r&&(A.e.r=De[0].r);break;case 27:De[14e3]&&(me[De[14e3][0]]=De[14e3][1]);break;case 1537:me[De[0]]=De[1],De[0]==le&&(re=De[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+C[2]);if(q["!ref"]=er(A),ae[se||re]=q,K.push(se||re),!me.length)return{SheetNames:K,Sheets:ae};for(var Ie={},Ue=[],Ve=0;Ve<me.length;++Ve)ae[K[Ve]]?(Ue.push(me[Ve]||K[Ve]),Ie[me[Ve]]=ae[me[Ve]]||ae[K[Ve]]):(Ue.push(me[Ve]),Ie[me[Ve]]={"!ref":"A1"});return{SheetNames:Ue,Sheets:Ie}}function n(C,X){var B=X||{};if(+B.codepage>=0&&xo(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var q=oE(),re=rn(C["!ref"]),se=Array.isArray(C),le=[];Ji(q,0,s(1030)),Ji(q,6,c(re));for(var ae=Math.min(re.e.r,8191),K=re.s.r;K<=ae;++K)for(var me=oa(K),A=re.s.c;A<=re.e.c;++A){K===re.s.r&&(le[A]=Mn(A));var $e=le[A]+me,Ie=se?(C[K]||[])[A]:C[$e];if(!(!Ie||Ie.t=="z"))if(Ie.t=="n")(Ie.v|0)==Ie.v&&Ie.v>=-32768&&Ie.v<=32767?Ji(q,13,p(K,A,Ie.v)):Ji(q,14,m(K,A,Ie.v));else{var Ue=uc(Ie);Ji(q,15,f(K,A,Ue.slice(0,239)))}}return Ji(q,1),q.end()}function a(C,X){var B=X||{};if(+B.codepage>=0&&xo(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var q=oE();Ji(q,0,i(C));for(var re=0,se=0;re<C.SheetNames.length;++re)(C.Sheets[C.SheetNames[re]]||{})["!ref"]&&Ji(q,27,R(C.SheetNames[re],se++));var le=0;for(re=0;re<C.SheetNames.length;++re){var ae=C.Sheets[C.SheetNames[re]];if(!(!ae||!ae["!ref"])){for(var K=rn(ae["!ref"]),me=Array.isArray(ae),A=[],$e=Math.min(K.e.r,8191),Ie=K.s.r;Ie<=$e;++Ie)for(var Ue=oa(Ie),Ve=K.s.c;Ve<=K.e.c;++Ve){Ie===K.s.r&&(A[Ve]=Mn(Ve));var De=A[Ve]+Ue,pt=me?(ae[Ie]||[])[Ve]:ae[De];if(!(!pt||pt.t=="z"))if(pt.t=="n")Ji(q,23,O(Ie,Ve,le,pt.v));else{var yt=uc(pt);Ji(q,22,j(Ie,Ve,le,yt.slice(0,239)))}}++le}}return Ji(q,1),q.end()}function s(C){var X=On(2);return X.write_shift(2,C),X}function i(C){var X=On(26);X.write_shift(2,4096),X.write_shift(2,4),X.write_shift(4,0);for(var B=0,q=0,re=0,se=0;se<C.SheetNames.length;++se){var le=C.SheetNames[se],ae=C.Sheets[le];if(!(!ae||!ae["!ref"])){++re;var K=Ip(ae["!ref"]);B<K.e.r&&(B=K.e.r),q<K.e.c&&(q=K.e.c)}}return B>8191&&(B=8191),X.write_shift(2,B),X.write_shift(1,re),X.write_shift(1,q),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(1,1),X.write_shift(1,2),X.write_shift(4,0),X.write_shift(4,0),X}function l(C,X,B){var q={s:{c:0,r:0},e:{c:0,r:0}};return X==8&&B.qpro?(q.s.c=C.read_shift(1),C.l++,q.s.r=C.read_shift(2),q.e.c=C.read_shift(1),C.l++,q.e.r=C.read_shift(2),q):(q.s.c=C.read_shift(2),q.s.r=C.read_shift(2),X==12&&B.qpro&&(C.l+=2),q.e.c=C.read_shift(2),q.e.r=C.read_shift(2),X==12&&B.qpro&&(C.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function c(C){var X=On(8);return X.write_shift(2,C.s.c),X.write_shift(2,C.s.r),X.write_shift(2,C.e.c),X.write_shift(2,C.e.r),X}function u(C,X,B){var q=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(q[0].c=C.read_shift(1),q[3]=C.read_shift(1),q[0].r=C.read_shift(2),C.l+=2):(q[2]=C.read_shift(1),q[0].c=C.read_shift(2),q[0].r=C.read_shift(2)),q}function d(C,X,B){var q=C.l+X,re=u(C,X,B);if(re[1].t="s",B.vers==20768){C.l++;var se=C.read_shift(1);return re[1].v=C.read_shift(se,"utf8"),re}return B.qpro&&C.l++,re[1].v=C.read_shift(q-C.l,"cstr"),re}function f(C,X,B){var q=On(7+B.length);q.write_shift(1,255),q.write_shift(2,X),q.write_shift(2,C),q.write_shift(1,39);for(var re=0;re<q.length;++re){var se=B.charCodeAt(re);q.write_shift(1,se>=128?95:se)}return q.write_shift(1,0),q}function h(C,X,B){var q=u(C,X,B);return q[1].v=C.read_shift(2,"i"),q}function p(C,X,B){var q=On(7);return q.write_shift(1,255),q.write_shift(2,X),q.write_shift(2,C),q.write_shift(2,B,"i"),q}function g(C,X,B){var q=u(C,X,B);return q[1].v=C.read_shift(8,"f"),q}function m(C,X,B){var q=On(13);return q.write_shift(1,255),q.write_shift(2,X),q.write_shift(2,C),q.write_shift(8,B,"f"),q}function v(C,X,B){var q=C.l+X,re=u(C,X,B);if(re[1].v=C.read_shift(8,"f"),B.qpro)C.l=q;else{var se=C.read_shift(2);_(C.slice(C.l,C.l+se),re),C.l+=se}return re}function y(C,X,B){var q=X&32768;return X&=-32769,X=(q?C:0)+(X>=8192?X-16384:X),(q?"":"$")+(B?Mn(X):oa(X))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(C,X){ta(C,0);for(var B=[],q=0,re="",se="",le="",ae="";C.l<C.length;){var K=C[C.l++];switch(K){case 0:B.push(C.read_shift(8,"f"));break;case 1:se=y(X[0].c,C.read_shift(2),!0),re=y(X[0].r,C.read_shift(2),!1),B.push(se+re);break;case 2:{var me=y(X[0].c,C.read_shift(2),!0),A=y(X[0].r,C.read_shift(2),!1);se=y(X[0].c,C.read_shift(2),!0),re=y(X[0].r,C.read_shift(2),!1),B.push(me+A+":"+se+re)}break;case 3:if(C.l<C.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(C.read_shift(2));break;case 6:{for(var $e="";K=C[C.l++];)$e+=String.fromCharCode(K);B.push('"'+$e.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:ae=B.pop(),le=B.pop(),B.push(["AND","OR"][K-20]+"("+le+","+ae+")");break;default:if(K<32&&b[K])ae=B.pop(),le=B.pop(),B.push(le+b[K]+ae);else if(w[K]){if(q=w[K][1],q==69&&(q=C[C.l++]),q>B.length){console.error("WK1 bad formula parse 0x"+K.toString(16)+":|"+B.join("|")+"|");return}var Ie=B.slice(-q);B.length-=q,B.push(w[K][0]+"("+Ie.join(",")+")")}else return K<=7?console.error("WK1 invalid opcode "+K.toString(16)):K<=24?console.error("WK1 unsupported op "+K.toString(16)):K<=30?console.error("WK1 invalid opcode "+K.toString(16)):K<=115?console.error("WK1 unsupported function opcode "+K.toString(16)):console.error("WK1 unrecognized opcode "+K.toString(16))}}B.length==1?X[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function S(C){var X=[{c:0,r:0},{t:"n",v:0},0];return X[0].r=C.read_shift(2),X[3]=C[C.l++],X[0].c=C[C.l++],X}function k(C,X){var B=S(C);return B[1].t="s",B[1].v=C.read_shift(X-4,"cstr"),B}function j(C,X,B,q){var re=On(6+q.length);re.write_shift(2,C),re.write_shift(1,B),re.write_shift(1,X),re.write_shift(1,39);for(var se=0;se<q.length;++se){var le=q.charCodeAt(se);re.write_shift(1,le>=128?95:le)}return re.write_shift(1,0),re}function E(C,X){var B=S(C);B[1].v=C.read_shift(2);var q=B[1].v>>1;if(B[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return B[1].v=q,B}function N(C,X){var B=S(C),q=C.read_shift(4),re=C.read_shift(4),se=C.read_shift(2);if(se==65535)return q===0&&re===3221225472?(B[1].t="e",B[1].v=15):q===0&&re===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var le=se&32768;return se=(se&32767)-16446,B[1].v=(1-le*2)*(re*Math.pow(2,se+32)+q*Math.pow(2,se)),B}function O(C,X,B,q){var re=On(14);if(re.write_shift(2,C),re.write_shift(1,B),re.write_shift(1,X),q==0)return re.write_shift(4,0),re.write_shift(4,0),re.write_shift(2,65535),re;var se=0,le=0,ae=0,K=0;return q<0&&(se=1,q=-q),le=Math.log2(q)|0,q/=Math.pow(2,le-31),K=q>>>0,K&2147483648||(q/=2,++le,K=q>>>0),q-=K,K|=2147483648,K>>>=0,q*=Math.pow(2,32),ae=q>>>0,re.write_shift(4,ae),re.write_shift(4,K),le+=16383+(se?32768:0),re.write_shift(2,le),re}function P(C,X){var B=N(C);return C.l+=X-14,B}function T(C,X){var B=S(C),q=C.read_shift(4);return B[1].v=q>>6,B}function L(C,X){var B=S(C),q=C.read_shift(8,"f");return B[1].v=q,B}function H(C,X){var B=L(C);return C.l+=X-10,B}function z(C,X){return C[C.l+X-1]==0?C.read_shift(X,"cstr"):""}function M(C,X){var B=C[C.l++];B>X-1&&(B=X-1);for(var q="";q.length<B;)q+=String.fromCharCode(C[C.l++]);return q}function I(C,X,B){if(!(!B.qpro||X<21)){var q=C.read_shift(1);C.l+=17,C.l+=1,C.l+=2;var re=C.read_shift(X-21,"cstr");return[q,re]}}function U(C,X){for(var B={},q=C.l+X;C.l<q;){var re=C.read_shift(2);if(re==14e3){for(B[re]=[0,""],B[re][0]=C.read_shift(2);C[C.l];)B[re][1]+=String.fromCharCode(C[C.l]),C.l++;C.l++}}return B}function R(C,X){var B=On(5+C.length);B.write_shift(2,14e3),B.write_shift(2,X);for(var q=0;q<C.length;++q){var re=C.charCodeAt(q);B[B.l++]=re>127?95:re}return B[B.l++]=0,B}var Y={0:{n:"BOF",f:gn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:z},222:{n:"SHEETNAMELP",f:M},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:U},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:L},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:z},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:I},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function rbe(e){var t={},r=e.match($a),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=Tt(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=CO[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var nbe=function(){var e=Zg("t"),t=Zg("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var l={t:"s",v:nr(i[1])},c=s.match(t);return c&&(l.s=rbe(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),abe=function(){var t=/(\r\n|\n)/g;function r(a,s,i){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),i.push("</"+c+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),sbe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,ibe=/<(?:\w+:)?r>/,obe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function HO(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=nr(Pr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Pr(e),r&&(n.h=IO(n.t))):e.match(ibe)&&(n.r=Pr(e),n.t=nr(Pr((e.replace(obe,"").match(sbe)||[]).join("").replace($a,""))),r&&(n.h=abe(nbe(n.r)))),n):{t:""}}var lbe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,cbe=/<(?:\w+:)?(?:si|sstItem)>/g,ube=/<\/(?:\w+:)?(?:si|sstItem)>/;function dbe(e,t){var r=[],n="";if(!e)return r;var a=e.match(lbe);if(a){n=a[2].replace(cbe,"").split(ube);for(var s=0;s!=n.length;++s){var i=HO(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=Tt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function fbe(e){return[e.read_shift(4),e.read_shift(4)]}function hbe(e,t){var r=[],n=!1;return yc(e,function(s,i,l){switch(l){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function Lq(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Yl(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function mbe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Yl(e,4),t.U=Yl(e,4),t.W=Yl(e,4),t}function pbe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function gbe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(pbe(e));return t}function vbe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function xbe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Yl(e,4),t.U=Yl(e,4),t.W=Yl(e,4),t}function ybe(e){var t=xbe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function $q(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function Bq(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function wbe(e){var t=Yl(e);switch(t.Minor){case 2:return[t.Minor,bbe(e)];case 3:return[t.Minor,_be()];case 4:return[t.Minor,Sbe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function bbe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=$q(e,r),a=Bq(e,e.length-e.l);return{t:"Std",h:n,v:a}}function _be(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Sbe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace($a,function(s){var i=Tt(s);switch(yl(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=i[l]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function jbe(e,t){var r={},n=r.EncryptionVersionInfo=Yl(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=$q(e,a),t-=a,r.EncryptionVerifier=Bq(e,t),r}function kbe(e){var t={},r=t.EncryptionVersionInfo=Yl(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Nbe(e){var t=0,r,n=Lq(e),a=n.length+1,s,i,l,c,u;for(r=Pu(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^i;return t^52811}var Uq=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,l){return n(i^l)},s=function(i){for(var l=t[i.length-1],c=104,u=i.length-1;u>=0;--u)for(var d=i[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(i){for(var l=Lq(i),c=s(l),u=l.length,d=Pu(16),f=0;f!=16;++f)d[f]=0;var h,p,g;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,p=l[l.length-1],d[u]=a(p,h));u>0;)--u,h=c>>8,d[u]=a(l[u],h),--u,h=c&255,d[u]=a(l[u],h);for(u=15,g=15-l.length;g>0;)h=c>>8,d[u]=a(e[g],h),--u,--g,h=c&255,d[u]=a(l[u],h),--u,--g;return d}}(),Ebe=function(e,t,r,n,a){a||(a=t),n||(n=Uq(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},Cbe=function(e){var t=0,r=Uq(e);return function(n){var a=Ebe("",n,t,r);return t=a[1],a[0]}};function Tbe(e,t,r,n){var a={key:gn(e),verificationBytes:gn(e)};return r.password&&(a.verifier=Nbe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Cbe(r.password)),a}function Abe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=kbe(e):n.Data=jbe(e,t),n}function Obe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Abe(e,t-2,n):Tbe(e,r.biff>=8?t:t-2,r,n),n}var Pbe=function(){function e(a,s){switch(s.type){case"base64":return t(fi(a),s);case"binary":return t(a,s);case"buffer":return t(Jt&&Buffer.isBuffer(a)?a.toString("binary"):Of(a),s);case"array":return t(hf(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},l=i.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var v=d.slice(p,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var y={v,t:"s"};Array.isArray(l)?l[f][m]=y:l[It({r:f,c:m})]=y}break}p=h.lastIndex}m>u.e.c&&(u.e.c=m)}),l["!ref"]=er(u),l}function r(a,s){return qu(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=rn(a["!ref"]),l,c=Array.isArray(a),u=i.s.r;u<=i.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var f=It({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(uc(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function Dbe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function rv(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Rbe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var l=0,c=0,u=a+s;switch(c=i/(u>1?2-u:u),a){case t:l=((r-n)/i+6)%6;break;case r:l=(n-t)/i+2;break;case n:l=(t-r)/i+4;break}return[l/6,c,u/2]}function Ibe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,i[0]+=a,i[1]+=c;break;case 1:c=a*(2-l),i[0]+=c,i[1]+=a;break;case 2:c=a*(l-2),i[1]+=a,i[2]+=c;break;case 3:c=a*(4-l),i[1]+=c,i[2]+=a;break;case 4:c=a*(l-4),i[2]+=a,i[0]+=c;break;case 5:c=a*(6-l),i[2]+=c,i[0]+=a;break}for(var u=0;u!=3;++u)i[u]=Math.round(i[u]*255);return i}function T1(e,t){if(t===0)return e;var r=Rbe(Dbe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),rv(Ibe(r))}var Vq=6,Mbe=15,Fbe=1,Ja=Vq;function A1(e){return Math.floor((e+Math.round(128/Ja)/256)*Ja)}function O1(e){return Math.floor((e-5)/Ja*100+.5)/100}function dE(e){return Math.round((e*Ja+5)/Ja*256)/256}function _k(e){return dE(O1(A1(e)))}function qO(e){var t=Math.abs(e-_k(e)),r=Ja;if(t>.005)for(Ja=Fbe;Ja<Mbe;++Ja)Math.abs(e-_k(e))<=t&&(t=Math.abs(e-_k(e)),r=Ja);Ja=r}function Fm(e){e.width?(e.wpx=A1(e.width),e.wch=O1(e.wpx),e.MDW=Ja):e.wpx?(e.wch=O1(e.wpx),e.width=dE(e.wch),e.MDW=Ja):typeof e.wch=="number"&&(e.width=dE(e.wch),e.wpx=A1(e.width),e.MDW=Ja),e.customWidth&&delete e.customWidth}var Lbe=96,zq=Lbe;function Wq(e){return e*96/zq}function nv(e){return e*zq/96}var $be={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Bbe(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match($a)||[]).forEach(function(i){var l=Tt(i);switch(yl(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Ur(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Ur(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function Ube(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match($a)||[]).forEach(function(i){var l=Tt(i);switch(yl(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function Vbe(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match($a)||[]).forEach(function(i){var l=Tt(i);switch(yl(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Pr(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Ur(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Ur(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Ur(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Ur(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Ur(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Ur(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Ur(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=CO[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Ur(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=Ud[a.color.index];a.color.index==81&&(c=Ud[1]),c||(c=Ud[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=T1(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function zbe(e,t,r){t.NumberFmt=[];for(var n=ml(Bt),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Bt[n[a]];var s=e[0].match($a);if(s)for(a=0;a<s.length;++a){var i=Tt(s[a]);switch(yl(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=nr(Pr(i.formatCode)),c=parseInt(i.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Bd(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}var My=["numFmtId","fillId","fontId","borderId","xfId"],Fy=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Wbe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match($a)||[]).forEach(function(s){var i=Tt(s),l=0;switch(yl(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],l=0;l<My.length;++l)n[My[l]]&&(n[My[l]]=parseInt(n[My[l]],10));for(l=0;l<Fy.length;++l)n[Fy[l]]&&(n[Fy[l]]=Ur(n[Fy[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};i.vertical&&(c.vertical=i.vertical),i.horizontal&&(c.horizontal=i.horizontal),i.textRotation!=null&&(c.textRotation=i.textRotation),i.indent&&(c.indent=i.indent),i.wrapText&&(c.wrapText=Ur(i.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}var Hbe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&zbe(f,d,u),(f=l.match(a))&&Vbe(f,d,c,u),(f=l.match(n))&&Ube(f,d,c,u),(f=l.match(s))&&Bbe(f,d,c,u),(f=l.match(r))&&Wbe(f,d,u),d}}();function qbe(e,t){var r=e.read_shift(2),n=Da(e);return[r,n]}function Gbe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=nwe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=rwe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Da(e),n}var Kbe=Fa;function Ybe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var Xbe=Fa;function Jbe(e,t,r){var n={};n.NumberFmt=[];for(var a in Bt)n.NumberFmt[a]=Bt[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return yc(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Bd(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=T1(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(d),i=!0;break;case 38:s.pop(),i=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var Qbe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Zbe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match($a)||[]).forEach(function(a){var s=Tt(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[Qbe.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function e_e(){}function t_e(){}var r_e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,n_e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,a_e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function s_e(e,t,r){t.themeElements={};var n;[["clrScheme",r_e,Zbe],["fontScheme",n_e,e_e],["fmtScheme",a_e,t_e]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var i_e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Hq(e,t){(!e||e.length===0)&&(e=o_e());var r,n={};if(!(r=e.match(i_e)))throw new Error("themeElements not found in theme");return s_e(r[0],n,t),n.raw=e,n}function o_e(e,t){var r=[rq];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function l_e(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=tq(s,{type:"array"})}catch{return}var l=ti(i,"theme/theme/theme1.xml",!0);if(l)return Hq(l,r)}}function c_e(e){return e.read_shift(4)}function u_e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=d_e(e,4);break;case 2:t.xclrValue=Oq(e);break;case 3:t.xclrValue=c_e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function d_e(e,t){return Fa(e,t)}function f_e(e,t){return Fa(e,t)}function h_e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=u_e(e);break;case 6:n[1]=f_e(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function m_e(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(h_e(e,r-e.l));return{ixfe:n,ext:s}}function p_e(e,t){t.forEach(function(r){switch(r[0]){}})}function g_e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Da(e)}}function v_e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function x_e(e){return e.l+=4,e.read_shift(4)!=0}function y_e(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,l=2;return yc(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:s.push(d),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!u.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function w_e(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace($a,function(l){var c=Tt(l);switch(yl(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(i=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function b_e(e){var t=[];if(!e)return t;var r=1;return(e.match($a)||[]).forEach(function(n){var a=Tt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function __e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=It(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function S_e(e,t,r){var n=[];return yc(e,function(s,i,l){switch(l){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function j_e(e,t,r,n){if(!e)return e;var a=n||{},s=!1;yc(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function k_e(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function oF(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var l=rs(i.ref);if(a?(e[l.r]||(e[l.r]=[]),s=e[l.r][l.c]):s=e[i.ref],!s){s={t:"z"},a?e[l.r][l.c]=s:e[i.ref]=s;var c=rn(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=er(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:i.author,t:i.t,r:i.r,T:r};i.h&&(d.h=i.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function N_e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var l=i.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var l=i.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Tt(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=rs(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&HO(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function E_e(e,t){var r=[],n=!1,a={},s=0;return e.replace($a,function(l,c){var u=Tt(l);switch(yl(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=c+l.length;break;case"</text>":a.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function C_e(e,t){var r=[],n=!1;return e.replace($a,function(s){var i=Tt(s);switch(yl(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function T_e(e){var t={};t.iauthor=e.read_shift(4);var r=Df(e);return t.rfx=r.s,t.ref=It(r.s),e.l+=16,t}var A_e=Da;function O_e(e,t){var r=[],n=[],a={},s=!1;return yc(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var P_e="application/vnd.ms-office.vbaProject";function D_e(e){var t=Zt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Zt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Zt.write(t)}function R_e(){return{"!type":"dialog"}}function I_e(){return{"!type":"dialog"}}function M_e(){return{"!type":"macro"}}function F_e(){return{"!type":"macro"}}var Qh=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+Mn(d)+(c?"":"$")+oa(u)}return function(a,s){return t=s,a.replace(e,r)}}(),qq=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,L_e=function(){return function(t,r){return t.replace(qq,function(n,a,s,i,l,c){var u=$O(i)-(s?0:r.c),d=LO(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function Gq(e,t){return e.replace(qq,function(r,n,a,s,i,l){return n+(a=="$"?a+s:Mn($O(s)+t.c))+(i=="$"?i+l:oa(LO(l)+t.r))})}function $_e(e,t,r){var n=Ip(t),a=n.s,s=rs(r),i={r:s.r-a.r,c:s.c-a.c};return Gq(e,i)}function B_e(e){return e.length!=1}function lF(e){return e.replace(/_xlfn\./g,"")}function hn(e){e.l+=1}function Du(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Kq(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Yq(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=Du(e),l=Du(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function Yq(e){var t=Du(e),r=Du(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function U_e(e,t,r){if(r.biff<8)return Yq(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Du(e),i=Du(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function Xq(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return V_e(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Du(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function V_e(e){var t=Du(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function z_e(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function W_e(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return H_e(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:l}}function H_e(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function q_e(e,t,r){var n=(e[e.l++]&96)>>5,a=Kq(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function G_e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=Kq(e,s,r);return[n,a,i]}function K_e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Y_e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function X_e(e,t,r){var n=(e[e.l++]&96)>>5,a=U_e(e,t-1,r);return[n,a]}function J_e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function cF(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Q_e(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Z_e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function eSe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function tSe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function rSe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Jq(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function nSe(e){return e.read_shift(2),Jq(e)}function aSe(e){return e.read_shift(2),Jq(e)}function sSe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Xq(e,0,r);return[n,a]}function iSe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=W_e(e,0,r);return[n,a]}function oSe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=Xq(e,0,r);return[n,a,s]}function lSe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[cje[a],eG[a],n]}function cSe(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:uSe(e);return[a,(s[0]===0?eG:lje)[s[1]]]}function uSe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function dSe(e,t,r){e.l+=r&&r.biff==2?3:4}function fSe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function hSe(e){return e.l++,Rf[e.read_shift(1)]}function mSe(e){return e.l++,e.read_shift(2)}function pSe(e){return e.l++,e.read_shift(1)!==0}function gSe(e){return e.l++,Ta(e)}function vSe(e,t,r){return e.l++,_x(e,t-1,r)}function xSe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=nn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Rf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ta(e);break;case 2:r[1]=If(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function ySe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?Df:rS)(e));return a}function wSe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var l=0;l!=a;++l)i[s][l]=xSe(e,r.biff);return i}function bSe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function _Se(e,t,r){if(r.biff==5)return SSe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function SSe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function jSe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function kSe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function NSe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function ESe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var CSe=Fa,TSe=Fa,ASe=Fa;function jx(e,t,r){return e.l+=2,[z_e(e)]}function GO(e){return e.l+=6,[]}var OSe=jx,PSe=GO,DSe=GO,RSe=jx;function Qq(e){return e.l+=2,[gn(e),e.read_shift(2)&1]}var ISe=jx,MSe=Qq,FSe=GO,LSe=jx,$Se=jx,BSe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function USe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=BSe[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function VSe(e){return e.l+=2,[e.read_shift(4)]}function zSe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function WSe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function HSe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function qSe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function GSe(e){return e.l+=4,[0,0]}var uF={1:{n:"PtgExp",f:fSe},2:{n:"PtgTbl",f:ASe},3:{n:"PtgAdd",f:hn},4:{n:"PtgSub",f:hn},5:{n:"PtgMul",f:hn},6:{n:"PtgDiv",f:hn},7:{n:"PtgPower",f:hn},8:{n:"PtgConcat",f:hn},9:{n:"PtgLt",f:hn},10:{n:"PtgLe",f:hn},11:{n:"PtgEq",f:hn},12:{n:"PtgGe",f:hn},13:{n:"PtgGt",f:hn},14:{n:"PtgNe",f:hn},15:{n:"PtgIsect",f:hn},16:{n:"PtgUnion",f:hn},17:{n:"PtgRange",f:hn},18:{n:"PtgUplus",f:hn},19:{n:"PtgUminus",f:hn},20:{n:"PtgPercent",f:hn},21:{n:"PtgParen",f:hn},22:{n:"PtgMissArg",f:hn},23:{n:"PtgStr",f:vSe},26:{n:"PtgSheet",f:zSe},27:{n:"PtgEndSheet",f:WSe},28:{n:"PtgErr",f:hSe},29:{n:"PtgBool",f:pSe},30:{n:"PtgInt",f:mSe},31:{n:"PtgNum",f:gSe},32:{n:"PtgArray",f:J_e},33:{n:"PtgFunc",f:lSe},34:{n:"PtgFuncVar",f:cSe},35:{n:"PtgName",f:bSe},36:{n:"PtgRef",f:sSe},37:{n:"PtgArea",f:q_e},38:{n:"PtgMemArea",f:jSe},39:{n:"PtgMemErr",f:CSe},40:{n:"PtgMemNoMem",f:TSe},41:{n:"PtgMemFunc",f:kSe},42:{n:"PtgRefErr",f:NSe},43:{n:"PtgAreaErr",f:K_e},44:{n:"PtgRefN",f:iSe},45:{n:"PtgAreaN",f:X_e},46:{n:"PtgMemAreaN",f:HSe},47:{n:"PtgMemNoMemN",f:qSe},57:{n:"PtgNameX",f:_Se},58:{n:"PtgRef3d",f:oSe},59:{n:"PtgArea3d",f:G_e},60:{n:"PtgRefErr3d",f:ESe},61:{n:"PtgAreaErr3d",f:Y_e},255:{}},KSe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},YSe={1:{n:"PtgElfLel",f:Qq},2:{n:"PtgElfRw",f:LSe},3:{n:"PtgElfCol",f:OSe},6:{n:"PtgElfRwV",f:$Se},7:{n:"PtgElfColV",f:RSe},10:{n:"PtgElfRadical",f:ISe},11:{n:"PtgElfRadicalS",f:FSe},13:{n:"PtgElfColS",f:PSe},15:{n:"PtgElfColSV",f:DSe},16:{n:"PtgElfRadicalLel",f:MSe},25:{n:"PtgList",f:USe},29:{n:"PtgSxName",f:VSe},255:{}},XSe={0:{n:"PtgAttrNoop",f:GSe},1:{n:"PtgAttrSemi",f:rSe},2:{n:"PtgAttrIf",f:eSe},4:{n:"PtgAttrChoose",f:Q_e},8:{n:"PtgAttrGoto",f:Z_e},16:{n:"PtgAttrSum",f:dSe},32:{n:"PtgAttrBaxcel",f:cF},33:{n:"PtgAttrBaxcel",f:cF},64:{n:"PtgAttrSpace",f:nSe},65:{n:"PtgAttrSpaceSemi",f:aSe},128:{n:"PtgAttrIfError",f:tSe},255:{}};function kx(e,t,r,n){if(n.biff<8)return Fa(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=wSe(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=ySe(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(Fa(e,t)),s}function Nx(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=uF[s]||uF[KSe[s]],(s===24||s===25)&&(a=(s===24?YSe:XSe)[e[e.l+1]]),!a||!a.f?Fa(e,t):i.push([a.n,a.f(e,t,r)]);return i}function JSe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var QSe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function ZSe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Zq(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function dF(e,t,r){var n=Zq(e,t,r);return n=="#REF"?n:ZSe(n,r)}function Sa(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",y=0,w=e[0].length;y<w;++y){var b=e[0][y];switch(b[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=en(" ",e[0][m][1][1]);break;case 1:v=en("\r",e[0][m][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}u=u+v,m=-1}l.push(u+QSe[b[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=ig(b[1][1],i,a),l.push(og(d,s));break;case"PtgRefN":d=r?ig(b[1][1],r,a):b[1][1],l.push(og(d,s));break;case"PtgRef3d":f=b[1][1],d=ig(b[1][2],i,a),g=dF(n,f,a),l.push(g+"!"+og(d,s));break;case"PtgFunc":case"PtgFuncVar":var _=b[1][0],S=b[1][1];_||(_=0),_&=127;var k=_==0?[]:l.slice(-_);l.length-=_,S==="User"&&(S=k.shift()),l.push(S+"("+k.join(",")+")");break;case"PtgBool":l.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(b[1]);break;case"PtgNum":l.push(String(b[1]));break;case"PtgStr":l.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(b[1]);break;case"PtgAreaN":p=HM(b[1][1],r?{s:r}:i,a),l.push(wk(p,a));break;case"PtgArea":p=HM(b[1][1],i,a),l.push(wk(p,a));break;case"PtgArea3d":f=b[1][1],p=b[1][2],g=dF(n,f,a),l.push(g+"!"+wk(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var j=(n.names||[])[h-1]||(n[0]||[])[h],E=j?j.Name:"SH33TJSNAME"+String(h);E&&E.slice(0,6)=="_xlfn."&&!a.xlfn&&(E=E.slice(6)),l.push(E);break;case"PtgNameX":var N=b[1][1];h=b[1][2];var O;if(a.biff<=5)N<0&&(N=-N),n[N]&&(O=n[N][h]);else{var P="";if(((n[N]||[])[0]||[])[0]==14849||(((n[N]||[])[0]||[])[0]==1025?n[N][h]&&n[N][h].itab>0&&(P=n.SheetNames[n[N][h].itab-1]+"!"):P=n.SheetNames[h-1]+"!"),n[N]&&n[N][h])P+=n[N][h].Name;else if(n[0]&&n[0][h])P+=n[0][h].Name;else{var T=(Zq(n,N,a)||"").split(";;");T[h-1]?P=T[h-1]:P+="SH33TJSERRX"}l.push(P);break}O||(O={Name:"SH33TJSERRY"}),l.push(O.Name);break;case"PtgParen":var L="(",H=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:L=en(" ",e[0][m][1][1])+L;break;case 3:L=en("\r",e[0][m][1][1])+L;break;case 4:H=en(" ",e[0][m][1][1])+H;break;case 5:H=en("\r",e[0][m][1][1])+H;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}l.push(L+l.pop()+H);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:b[1][1],r:b[1][0]};var z={c:r.c,r:r.r};if(n.sharedf[It(d)]){var M=n.sharedf[It(d)];l.push(Sa(M,i,z,n,a))}else{var I=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(Sa(u[1],i,z,n,a)),I=!0;break}I||l.push(b[1])}break;case"PtgArray":l.push("{"+JSe(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var U=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&U.indexOf(e[0][y][0])==-1){b=e[0][m];var R=!0;switch(b[1][0]){case 4:R=!1;case 0:v=en(" ",b[1][1]);break;case 5:R=!1;case 1:v=en("\r",b[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}l.push((R?v:"")+l.pop()+(R?"":v)),m=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function eje(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],Fa(e,t-2)];var l=Nx(e,i,r);return t!==i+a&&(s=kx(e,t-i-a,l,r)),e.l=n,[l,s]}function tje(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],Fa(e,t-2)];var l=Nx(e,i,r);return t!==i+a&&(s=kx(e,t-i-a,l,r)),e.l=n,[l,s]}function rje(e,t,r,n){var a=e.l+t,s=Nx(e,n,r),i;return a!==e.l&&(i=kx(e,a-e.l,s,r)),[s,i]}function nje(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=Nx(e,s,r);return s==65535?[[],Fa(e,t-2)]:(t!==s+2&&(a=kx(e,n-s-2,i,r)),[i,a])}function aje(e){var t;if(zl(e,e.l+6)!==65535)return[Ta(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Sk(e,t,r){var n=e.l+t,a=wl(e);r.biff==2&&++e.l;var s=aje(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=tje(e,n-e.l,r);return{cell:a,val:s[0],formula:l,shared:i>>3&1,tt:s[1]}}function nS(e,t,r){var n=e.read_shift(4),a=Nx(e,n,r),s=e.read_shift(4),i=s>0?kx(e,s,a,r):null;return[a,i]}var sje=nS,aS=nS,ije=nS,oje=nS,lje={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},eG={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},cje={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function fF(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function jk(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var dg={},Zh={};function fg(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function tG(e,t,r,n,a,s){try{n.cellNF&&(e.z=Bt[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Gn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Bt[t]==null&&Bd(uye[t]||"General",t),e.t==="e")e.w=e.w||Rf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Qg(e.v);else if(e.t==="d"){var i=cs(e.v);(i|0)===i?e.w=i.toString(10):e.w=Qg(i)}else{if(e.v===void 0)return"";e.w=ff(e.v,Zh)}else e.t==="d"?e.w=Bi(t,cs(e.v),Zh):e.w=Bi(t,e.v,Zh)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=T1(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=T1(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&s.Fills)throw l}}}function uje(e,t){var r=rn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=er(r))}var dje=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,fje=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,hje=/<(?:\w:)?hyperlink [^>]*>/mg,mje=/"(\w*:\w*)"/,pje=/<(?:\w:)?col\b[^>]*[\/]?>/g,gje=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,vje=/<(?:\w:)?pageMargins[^>]*\/>/g,rG=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,xje=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,yje=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function wje(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(fje);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(rG);h?KO(h[0],l,a,r):(h=u.match(xje))&&bje(h[0],h[1]||"",l,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var g=u.slice(p,p+50).match(mje);g&&uje(l,g[1])}var m=u.match(yje);m&&m[1]&&Eje(m[1],a);var v=[];if(t.cellStyles){var y=u.match(pje);y&&jje(v,y)}f&&Cje(f[1],l,t,c,s,i);var w=d.match(gje);w&&(l["!autofilter"]=kje(w[0]));var b=[],_=d.match(dje);if(_)for(p=0;p!=_.length;++p)b[p]=rn(_[p].slice(_[p].indexOf('"')+1));var S=d.match(hje);S&&_je(l,S,n);var k=d.match(vje);if(k&&(l["!margins"]=Sje(Tt(k[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=er(c)),t.sheetRows>0&&l["!ref"]){var j=rn(l["!ref"]);t.sheetRows<=+j.e.r&&(j.e.r=t.sheetRows-1,j.e.r>c.e.r&&(j.e.r=c.e.r),j.e.r<j.s.r&&(j.s.r=j.e.r),j.e.c>c.e.c&&(j.e.c=c.e.c),j.e.c<j.s.c&&(j.s.c=j.e.c),l["!fullref"]=l["!ref"],l["!ref"]=er(j))}return v.length>0&&(l["!cols"]=v),b.length>0&&(l["!merges"]=b),l}function KO(e,t,r,n){var a=Tt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=nr(Pr(a.codeName)))}function bje(e,t,r,n,a){KO(e.slice(0,e.indexOf(">")),r,n,a)}function _je(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=Tt(Pr(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+nr(s.location))):(s.Target="#"+nr(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=rn(s.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=It({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function Sje(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function jje(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Tt(t[n],!0);a.hidden&&(a.hidden=Ur(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,qO(a.width)),Fm(a);s<=i;)e[s++]=ia(a)}}function kje(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Nje=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Eje(e,t){t.Views||(t.Views=[{}]),(e.match(Nje)||[]).forEach(function(r,n){var a=Tt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Ur(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var Cje=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=Zg("v"),i=Zg("f");return function(c,u,d,f,h,p){for(var g=0,m="",v=[],y=[],w=0,b=0,_=0,S="",k,j,E=0,N=0,O,P,T=0,L=0,H=Array.isArray(p.CellXf),z,M=[],I=[],U=Array.isArray(u),R=[],Y={},Z=!1,C=!!d.sheetStubs,X=c.split(t),B=0,q=X.length;B!=q;++B){m=X[B].trim();var re=m.length;if(re!==0){var se=0;e:for(g=0;g<re;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(d&&d.cellStyles){if(j=Tt(m.slice(se,g),!0),E=j.r!=null?parseInt(j.r,10):E+1,N=-1,d.sheetRows&&d.sheetRows<E)continue;Y={},Z=!1,j.ht&&(Z=!0,Y.hpt=parseFloat(j.ht),Y.hpx=nv(Y.hpt)),j.hidden=="1"&&(Z=!0,Y.hidden=!0),j.outlineLevel!=null&&(Z=!0,Y.level=+j.outlineLevel),Z&&(R[E-1]=Y)}break;case"<":se=g;break}if(se>=g)break;if(j=Tt(m.slice(se,g),!0),E=j.r!=null?parseInt(j.r,10):E+1,N=-1,!(d.sheetRows&&d.sheetRows<E)){f.s.r>E-1&&(f.s.r=E-1),f.e.r<E-1&&(f.e.r=E-1),d&&d.cellStyles&&(Y={},Z=!1,j.ht&&(Z=!0,Y.hpt=parseFloat(j.ht),Y.hpx=nv(Y.hpt)),j.hidden=="1"&&(Z=!0,Y.hidden=!0),j.outlineLevel!=null&&(Z=!0,Y.level=+j.outlineLevel),Z&&(R[E-1]=Y)),v=m.slice(g).split(e);for(var le=0;le!=v.length&&v[le].trim().charAt(0)=="<";++le);for(v=v.slice(le),g=0;g!=v.length;++g)if(m=v[g].trim(),m.length!==0){if(y=m.match(r),w=g,b=0,_=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,y!=null&&y.length===2){for(w=0,S=y[1],b=0;b!=S.length&&!((_=S.charCodeAt(b)-64)<1||_>26);++b)w=26*w+_;--w,N=w}else++N;for(b=0;b!=m.length&&m.charCodeAt(b)!==62;++b);if(++b,j=Tt(m.slice(0,b),!0),j.r||(j.r=It({r:E-1,c:N})),S=m.slice(b),k={t:""},(y=S.match(s))!=null&&y[1]!==""&&(k.v=nr(y[1])),d.cellFormula){if((y=S.match(i))!=null&&y[1]!==""){if(k.f=nr(Pr(y[1])).replace(/\r\n/g,`
`),d.xlfn||(k.f=lF(k.f)),y[0].indexOf('t="array"')>-1)k.F=(S.match(a)||[])[1],k.F.indexOf(":")>-1&&M.push([rn(k.F),k.F]);else if(y[0].indexOf('t="shared"')>-1){P=Tt(y[0]);var ae=nr(Pr(y[1]));d.xlfn||(ae=lF(ae)),I[parseInt(P.si,10)]=[P,ae,j.r]}}else(y=S.match(/<f[^>]*\/>/))&&(P=Tt(y[0]),I[P.si]&&(k.f=$_e(I[P.si][1],I[P.si][2],j.r)));var K=rs(j.r);for(b=0;b<M.length;++b)K.r>=M[b][0].s.r&&K.r<=M[b][0].e.r&&K.c>=M[b][0].s.c&&K.c<=M[b][0].e.c&&(k.F=M[b][1])}if(j.t==null&&k.v===void 0)if(k.f||k.F)k.v=0,k.t="n";else if(C)k.t="z";else continue;else k.t=j.t||"n";switch(f.s.c>N&&(f.s.c=N),f.e.c<N&&(f.e.c=N),k.t){case"n":if(k.v==""||k.v==null){if(!C)continue;k.t="z"}else k.v=parseFloat(k.v);break;case"s":if(typeof k.v>"u"){if(!C)continue;k.t="z"}else O=dg[parseInt(k.v,10)],k.v=O.t,k.r=O.r,d.cellHTML&&(k.h=O.h);break;case"str":k.t="s",k.v=k.v!=null?Pr(k.v):"",d.cellHTML&&(k.h=IO(k.v));break;case"inlineStr":y=S.match(n),k.t="s",y!=null&&(O=HO(y[1]))?(k.v=O.t,d.cellHTML&&(k.h=O.h)):k.v="";break;case"b":k.v=Ur(k.v);break;case"d":d.cellDates?k.v=Gn(k.v,1):(k.v=cs(Gn(k.v,1)),k.t="n");break;case"e":(!d||d.cellText!==!1)&&(k.w=k.v),k.v=Sq[k.v];break}if(T=L=0,z=null,H&&j.s!==void 0&&(z=p.CellXf[j.s],z!=null&&(z.numFmtId!=null&&(T=z.numFmtId),d.cellStyles&&z.fillId!=null&&(L=z.fillId))),tG(k,T,L,d,h,p),d.cellDates&&H&&k.t=="n"&&Rp(Bt[T])&&(k.t="d",k.v=tS(k.v)),j.cm&&d.xlmeta){var me=(d.xlmeta.Cell||[])[+j.cm-1];me&&me.type=="XLDAPR"&&(k.D=!0)}if(U){var A=rs(j.r);u[A.r]||(u[A.r]=[]),u[A.r][A.c]=k}else u[j.r]=k}}}}R.length>0&&(u["!rows"]=R)}}();function Tje(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var Aje=Df;function Oje(){}function Pje(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=ewe(e),r}function Dje(e){var t=zi(e);return[t]}function Rje(e){var t=Pf(e);return[t]}function Ije(e){var t=zi(e),r=e.read_shift(1);return[t,r,"b"]}function Mje(e){var t=Pf(e),r=e.read_shift(1);return[t,r,"b"]}function Fje(e){var t=zi(e),r=e.read_shift(1);return[t,r,"e"]}function Lje(e){var t=Pf(e),r=e.read_shift(1);return[t,r,"e"]}function $je(e){var t=zi(e),r=e.read_shift(4);return[t,r,"s"]}function Bje(e){var t=Pf(e),r=e.read_shift(4);return[t,r,"s"]}function Uje(e){var t=zi(e),r=Ta(e);return[t,r,"n"]}function nG(e){var t=Pf(e),r=Ta(e);return[t,r,"n"]}function Vje(e){var t=zi(e),r=VO(e);return[t,r,"n"]}function zje(e){var t=Pf(e),r=VO(e);return[t,r,"n"]}function Wje(e){var t=zi(e),r=BO(e);return[t,r,"is"]}function Hje(e){var t=zi(e),r=Da(e);return[t,r,"str"]}function qje(e){var t=Pf(e),r=Da(e);return[t,r,"str"]}function Gje(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=aS(e,n-e.l,r);i[3]=Sa(l,null,a,r.supbooks,r)}else e.l=n;return i}function Kje(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=aS(e,n-e.l,r);i[3]=Sa(l,null,a,r.supbooks,r)}else e.l=n;return i}function Yje(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var s=Ta(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=aS(e,n-e.l,r);i[3]=Sa(l,null,a,r.supbooks,r)}else e.l=n;return i}function Xje(e,t,r){var n=e.l+t,a=zi(e);a.r=r["!row"];var s=Da(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=aS(e,n-e.l,r);i[3]=Sa(l,null,a,r.supbooks,r)}else e.l=n;return i}var Jje=Df;function Qje(e,t){var r=e.l+t,n=Df(e),a=UO(e),s=Da(e),i=Da(e),l=Da(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return i&&(c.Tooltip=i),c}function Zje(){}function eke(e,t,r){var n=e.l+t,a=wq(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var l=sje(e,n-e.l,r);i[1]=l}else e.l=n;return i}function tke(e,t,r){var n=e.l+t,a=Df(e),s=[a];if(r.cellFormula){var i=oje(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}var rke=["left","right","top","bottom","header","footer"];function nke(e){var t={};return rke.forEach(function(r){t[r]=Ta(e)}),t}function ake(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function ske(){}function ike(){}function oke(e,t,r,n,a,s,i){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,g,m,v,y,w,b,_,S,k=[];l.biff=12,l["!row"]=0;var j=0,E=!1,N=[],O={},P=l.supbooks||a.supbooks||[[]];if(P.sharedf=O,P.arrayf=N,P.SheetNames=a.SheetNames||a.Sheets.map(function(U){return U.name}),!l.supbooks&&(l.supbooks=P,a.Names))for(var T=0;T<a.Names.length;++T)P[0][T+1]=a.Names[T];var L=[],H=[],z=!1;P1[16]={n:"BrtShortReal",f:nG};var M;if(yc(e,function(R,Y,Z){if(!h)switch(Z){case 148:u=R;break;case 0:p=R,l.sheetRows&&l.sheetRows<=p.r&&(h=!0),_=oa(v=p.r),l["!row"]=p.r,(R.hidden||R.hpt||R.level!=null)&&(R.hpt&&(R.hpx=nv(R.hpt)),H[R.r]=R);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:R[2]},R[2]){case"n":g.v=R[1];break;case"s":b=dg[R[1]],g.v=b.t,g.r=b.r;break;case"b":g.v=!!R[1];break;case"e":g.v=R[1],l.cellText!==!1&&(g.w=Rf[g.v]);break;case"str":g.t="s",g.v=R[1];break;case"is":g.t="s",g.v=R[1].t;break}if((m=i.CellXf[R[0].iStyleRef])&&tG(g,m.numFmtId,null,l,s,i),y=R[0].c==-1?y+1:R[0].c,l.dense?(c[v]||(c[v]=[]),c[v][y]=g):c[Mn(y)+_]=g,l.cellFormula){for(E=!1,j=0;j<N.length;++j){var C=N[j];p.r>=C[0].s.r&&p.r<=C[0].e.r&&y>=C[0].s.c&&y<=C[0].e.c&&(g.F=er(C[0]),E=!0)}!E&&R.length>3&&(g.f=R[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>y&&(d.s.c=y),d.e.r<p.r&&(d.e.r=p.r),d.e.c<y&&(d.e.c=y),l.cellDates&&m&&g.t=="n"&&Rp(Bt[m.numFmtId])){var X=_d(g.v);X&&(g.t="d",g.v=new Date(X.y,X.m-1,X.d,X.H,X.M,X.S,X.u))}M&&(M.type=="XLDAPR"&&(g.D=!0),M=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;g={t:"z",v:void 0},y=R[0].c==-1?y+1:R[0].c,l.dense?(c[v]||(c[v]=[]),c[v][y]=g):c[Mn(y)+_]=g,d.s.r>p.r&&(d.s.r=p.r),d.s.c>y&&(d.s.c=y),d.e.r<p.r&&(d.e.r=p.r),d.e.c<y&&(d.e.c=y),M&&(M.type=="XLDAPR"&&(g.D=!0),M=void 0);break;case 176:k.push(R);break;case 49:M=((l.xlmeta||{}).Cell||[])[R-1];break;case 494:var B=n["!id"][R.relId];for(B?(R.Target=B.Target,R.loc&&(R.Target+="#"+R.loc),R.Rel=B):R.relId==""&&(R.Target="#"+R.loc),v=R.rfx.s.r;v<=R.rfx.e.r;++v)for(y=R.rfx.s.c;y<=R.rfx.e.c;++y)l.dense?(c[v]||(c[v]=[]),c[v][y]||(c[v][y]={t:"z",v:void 0}),c[v][y].l=R):(w=It({c:y,r:v}),c[w]||(c[w]={t:"z",v:void 0}),c[w].l=R);break;case 426:if(!l.cellFormula)break;N.push(R),S=l.dense?c[v][y]:c[Mn(y)+_],S.f=Sa(R[1],d,{r:p.r,c:y},P,l),S.F=er(R[0]);break;case 427:if(!l.cellFormula)break;O[It(R[0].s)]=R[1],S=l.dense?c[v][y]:c[Mn(y)+_],S.f=Sa(R[1],d,{r:p.r,c:y},P,l);break;case 60:if(!l.cellStyles)break;for(;R.e>=R.s;)L[R.e--]={width:R.w/256,hidden:!!(R.flags&1),level:R.level},z||(z=!0,qO(R.w/256)),Fm(L[R.e+1]);break;case 161:c["!autofilter"]={ref:er(R)};break;case 476:c["!margins"]=R;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),R.name&&(a.Sheets[r].CodeName=R.name),(R.above||R.left)&&(c["!outline"]={above:R.above,left:R.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),R.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!Y.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=er(u||d)),l.sheetRows&&c["!ref"]){var I=rn(c["!ref"]);l.sheetRows<=+I.e.r&&(I.e.r=l.sheetRows-1,I.e.r>d.e.r&&(I.e.r=d.e.r),I.e.r<I.s.r&&(I.s.r=I.e.r),I.e.c>d.e.c&&(I.e.c=d.e.c),I.e.c<I.s.c&&(I.s.c=I.e.c),c["!fullref"]=c["!ref"],c["!ref"]=er(I))}return k.length>0&&(c["!merges"]=k),L.length>0&&(c["!cols"]=L),H.length>0&&(c["!rows"]=H),c}function lke(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=nr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function cke(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=lke(f);d.s.r=d.s.c=0,d.e.c=l,u=Mn(l),h[0].forEach(function(p,g){i[u+oa(g)]={t:"n",v:p,z:h[1]},c=g}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(i["!ref"]=er(d)),i}function uke(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,l=e.match(rG);return l&&KO(l[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function dke(e,t){e.l+=10;var r=Da(e);return{name:r}}function fke(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return yc(e,function(c,u,d){switch(d){case 550:s["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var aG=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],hke=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],mke=[],pke=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function hF(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Ur(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function mF(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Ur(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function sG(e){mF(e.WBProps,aG),mF(e.CalcPr,pke),hF(e.WBView,hke),hF(e.Sheets,mke),Zh.date1904=Ur(e.WBProps.date1904)}var gke="][*?/\\".split("");function vke(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return gke.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var xke=/<\w+:workbook/;function yke(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace($a,function(c,u){var d=Tt(c);switch(yl(d[0])){case"<?xml":break;case"<workbook":c.match(xke)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":aG.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Ur(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Pr(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=nr(Pr(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Pr(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Ur(d.hidden||"0")&&(s.Hidden=!0),i=u+c.length;break;case"</definedName>":s.Ref=nr(Pr(e.slice(i,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),Fye.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return sG(r),r}function wke(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=lE(e),r.name=Da(e),r}function bke(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Da(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function _ke(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Ske(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=twe(e),i=ije(e,0,r),l=UO(e);e.l=n;var c={Name:s,Ptg:i};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function jke(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],P1[16]={n:"BrtFRTArchID$",f:_ke},yc(e,function(c,u,d){switch(d){case 156:i.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Sa(c.Ptg,null,null,i,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([d,c]):i[0]=[d,c],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(c),i.XTI=i.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),sG(r),r.Names=s,r.supbooks=i,r}function kke(e,t,r){return t.slice(-4)===".bin"?jke(e,r):yke(e,r)}function Nke(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?oke(e,n,r,a,s,i,l):wje(e,n,r,a,s,i,l)}function Eke(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?fke(e,n,r,a,s):uke(e,n,r,a,s)}function Cke(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?M_e():F_e()}function Tke(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?R_e():I_e()}function Ake(e,t,r,n){return t.slice(-4)===".bin"?Jbe(e,r,n):Hbe(e,r,n)}function Oke(e,t,r){return Hq(e,r)}function Pke(e,t,r){return t.slice(-4)===".bin"?hbe(e,r):dbe(e,r)}function Dke(e,t,r){return t.slice(-4)===".bin"?O_e(e,r):N_e(e,r)}function Rke(e,t,r){return t.slice(-4)===".bin"?S_e(e):b_e(e)}function Ike(e,t,r,n){return r.slice(-4)===".bin"?j_e(e,t,r,n):void 0}function Mke(e,t,r){return t.slice(-4)===".bin"?y_e(e,t,r):w_e(e,t,r)}var iG=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,oG=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Xi(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(iG),s,i,l,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(oG),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(i+1),n[l]=s[2].slice(1,s[2].length-1));return n}function Fke(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(iG),a,s,i,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(oG),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var hg;function Lke(e,t){var r=hg[e]||nr(e);return r==="General"?ff(t):Bi(r,t)}function $ke(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Ur(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Gn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[nr(t)]=a}function Bke(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Rf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Qg(e.v):e.w=ff(e.v):e.w=Lke(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=hg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Rp(n)){var a=_d(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function Uke(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=$be[n.Pattern]||n.Pattern)}e[t.ID]=t}function Vke(e,t,r,n,a,s,i,l,c,u){var d="General",f=n.StyleID,h={};u=u||{};var p=[],g=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&i&&(f=i.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Ur(e);break;case"String":n.t="s",n.r=MM(nr(e)),n.v=e.indexOf("<")>-1?nr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Gn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=nr(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Sq[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=MM(t||e));break}if(Bke(n,d,u),u.cellFormula!==!1)if(n.Formula){var m=nr(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=Qh(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Qh("RC:RC",a):n.ArrayRange&&(n.F=Qh(n.ArrayRange,a),c.push([rn(n.F),n.F]))}else for(g=0;g<c.length;++g)a.r>=c[g][0].s.r&&a.r<=c[g][0].e.r&&a.c>=c[g][0].s.c&&a.c<=c[g][0].e.c&&(n.F=c[g][1]);u.cellStyles&&(p.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function zke(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function kk(e,t){var r=t||{};YH();var n=I0(MO(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Pr(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=ia(r);return i.type="string",tv.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(pt){a.indexOf("<"+pt)>=0&&(s=!0)}),s)return Qke(n,r);hg={"General Number":"General","General Date":Bt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Bt[15],"Short Date":Bt[14],"Long Time":Bt[19],"Medium Time":Bt[18],"Short Time":Bt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Bt[2],Standard:Bt[4],Percent:Bt[10],Scientific:Bt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=r.dense?[]:{},p="",g={},m={},v=Xi('<Data ss:Type="String">'),y=0,w=0,b=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},k={},j="",E=0,N=[],O={},P={},T=0,L=[],H=[],z={},M=[],I,U=!1,R=[],Y=[],Z={},C=0,X=0,B={Sheets:[],WBProps:{date1904:!1}},q={};ev.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var re="";l=ev.exec(n);)switch(l[3]=(re=l[3]).toLowerCase()){case"data":if(re=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?Vke(n.slice(y,l.index),j,v,c[c.length-1][0]=="comment"?z:g,{c:w,r:b},S,M[w],m,R,r):(j="",v=Xi(l[0]),y=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(H.length>0&&(g.c=H),(!r.sheetRows||r.sheetRows>b)&&g.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][w]=g):h[Mn(w)+oa(b)]=g),g.HRef&&(g.l={Target:nr(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(C=w+(parseInt(g.MergeAcross,10)|0),X=b+(parseInt(g.MergeDown,10)|0),N.push({s:{c:w,r:b},e:{c:C,r:X}})),!r.sheetStubs)g.MergeAcross?w=C+1:++w;else if(g.MergeAcross||g.MergeDown){for(var se=w;se<=C;++se)for(var le=b;le<=X;++le)(se>w||le>b)&&(r.dense?(h[le]||(h[le]=[]),h[le][se]={t:"z"}):h[Mn(se)+oa(le)]={t:"z"});w=C+1}else++w;else g=Fke(l[0]),g.Index&&(w=+g.Index-1),w<_.s.c&&(_.s.c=w),w>_.e.c&&(_.e.c=w),l[0].slice(-2)==="/>"&&++w,H=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(b<_.s.r&&(_.s.r=b),b>_.e.r&&(_.e.r=b),l[0].slice(-2)==="/>"&&(m=Xi(l[0]),m.Index&&(b=+m.Index-1)),w=0,++b):(m=Xi(l[0]),m.Index&&(b=+m.Index-1),Z={},(m.AutoFitHeight=="0"||m.Height)&&(Z.hpx=parseInt(m.Height,10),Z.hpt=Wq(Z.hpx),Y[b]=Z),m.Hidden=="1"&&(Z.hidden=!0,Y[b]=Z));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(p),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(h["!ref"]=er(_),r.sheetRows&&r.sheetRows<=_.e.r&&(h["!fullref"]=h["!ref"],_.e.r=r.sheetRows-1,h["!ref"]=er(_))),N.length&&(h["!merges"]=N),M.length>0&&(h["!cols"]=M),Y.length>0&&(h["!rows"]=Y),d[p]=h}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=w=0,c.push([l[3],!1]),u=Xi(l[0]),p=nr(u.Name),h=r.dense?[]:{},N=[],R=[],Y=[],q={name:p,Hidden:0},B.Sheets.push(q);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),M=[],U=!1}break;case"style":l[1]==="/"?Uke(S,k,r):k=Xi(l[0]);break;case"numberformat":k.nf=nr(Xi(l[0]).Format||"General"),hg[k.nf]&&(k.nf=hg[k.nf]);for(var ae=0;ae!=392&&Bt[ae]!=k.nf;++ae);if(ae==392){for(ae=57;ae!=392;++ae)if(Bt[ae]==null){Bd(k.nf,ae);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(I=Xi(l[0]),I.Hidden&&(I.hidden=!0,delete I.Hidden),I.Width&&(I.wpx=parseInt(I.Width,10)),!U&&I.wpx>10){U=!0,Ja=Vq;for(var K=0;K<M.length;++K)M[K]&&Fm(M[K])}U&&Fm(I),M[I.Index-1||M.length]=I;for(var me=0;me<+I.Span;++me)M[M.length]=ia(I);break;case"namedrange":if(l[1]==="/")break;B.Names||(B.Names=[]);var A=Tt(l[0]),$e={Name:A.Name,Ref:Qh(A.RefersTo.slice(1),{r:0,c:0})};B.Sheets.length>0&&($e.Sheet=B.Sheets.length-1),B.Names.push($e);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?j+=n.slice(E,l.index):E=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;k.Interior=Xi(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?Nwe(O,re,n.slice(T,l.index)):T=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));zke(z),H.push(z)}else c.push([l[3],!1]),u=Xi(l[0]),z={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Ie=Xi(l[0]);h["!autofilter"]={ref:Qh(Ie.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return wF(n,r);var Ue=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ue=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ue=!1}break;case"excelworkbook":switch(l[3]){case"date1904":B.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ue=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Ue=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(T,l.index)){case"SheetHidden":q.Hidden=1;break;case"SheetVeryHidden":q.Hidden=2;break}else T=l.index+l[0].length;break;case"header":h["!margins"]||fg(h["!margins"]={},"xlml"),isNaN(+Tt(l[0]).Margin)||(h["!margins"].header=+Tt(l[0]).Margin);break;case"footer":h["!margins"]||fg(h["!margins"]={},"xlml"),isNaN(+Tt(l[0]).Margin)||(h["!margins"].footer=+Tt(l[0]).Margin);break;case"pagemargins":var Ve=Tt(l[0]);h["!margins"]||fg(h["!margins"]={},"xlml"),isNaN(+Ve.Top)||(h["!margins"].top=+Ve.Top),isNaN(+Ve.Left)||(h["!margins"].left=+Ve.Left),isNaN(+Ve.Right)||(h["!margins"].right=+Ve.Right),isNaN(+Ve.Bottom)||(h["!margins"].bottom=+Ve.Bottom);break;case"displayrighttoleft":B.Views||(B.Views=[]),B.Views[0]||(B.Views[0]={}),B.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ue=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ue=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ue=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ue=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ue=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ue=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ue=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ue=!1}break;case"smarttags":break;default:Ue=!1;break}if(Ue||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?$ke(P,re,L,n.slice(T,l.index)):(L=l,T=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var De={};return!r.bookSheets&&!r.bookProps&&(De.Sheets=d),De.SheetNames=f,De.Workbook=B,De.SSF=ia(Bt),De.Props=O,De.Custprops=P,De}function fE(e,t){switch(JO(t=t||{}),t.type||"base64"){case"base64":return kk(fi(e),t);case"binary":case"buffer":case"file":return kk(e,t);case"array":return kk(Of(e),t)}}function Wke(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=awe(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=swe(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Hke=[60,1084,2066,2165,2175];function qke(e,t,r,n,a){var s=n,i=[],l=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}i.push(l),r.l+=s;for(var c=zl(r,r.l),u=hE[c],d=0;u!=null&&Hke.indexOf(c)>-1;)s=zl(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+s),i.push(l),r.l+=4+s,u=hE[c=zl(r,r.l)];var f=qc(i);ta(f,0);var h=0;f.lens=[];for(var p=0;p<i.length;++p)f.lens.push(h),h+=i[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Uo(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Bt[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Rf[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Qg(e.v):e.w=ff(e.v):e.w=Bi(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&Rp(Bt[n]||String(n))){var a=_d(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Ly(e,t,r){return{v:e,ixfe:t,t:r}}function Gke(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},l=null,c=[],u="",d={},f,h="",p,g,m,v,y={},w=[],b,_,S=[],k=[],j={Sheets:[],WBProps:{date1904:!1},Views:[{}]},E={},N=function(Ee){return Ee<8?Ud[Ee]:Ee<64&&k[Ee-8]||Ud[Ee]},O=function(Ee,Le,Re){var Ke=Le.XF.data;if(!(!Ke||!Ke.patternType||!Re||!Re.cellStyles)){Le.s={},Le.s.patternType=Ke.patternType;var _t;(_t=rv(N(Ke.icvFore)))&&(Le.s.fgColor={rgb:_t}),(_t=rv(N(Ke.icvBack)))&&(Le.s.bgColor={rgb:_t})}},P=function(Ee,Le,Re){if(!(Z>1)&&!(Re.sheetRows&&Ee.r>=Re.sheetRows)){if(Re.cellStyles&&Le.XF&&Le.XF.data&&O(Ee,Le,Re),delete Le.ixfe,delete Le.XF,f=Ee,h=It(Ee),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),Ee.r<i.s.r&&(i.s.r=Ee.r),Ee.c<i.s.c&&(i.s.c=Ee.c),Ee.r+1>i.e.r&&(i.e.r=Ee.r+1),Ee.c+1>i.e.c&&(i.e.c=Ee.c+1),Re.cellFormula&&Le.f){for(var Ke=0;Ke<w.length;++Ke)if(!(w[Ke][0].s.c>Ee.c||w[Ke][0].s.r>Ee.r)&&!(w[Ke][0].e.c<Ee.c||w[Ke][0].e.r<Ee.r)){Le.F=er(w[Ke][0]),(w[Ke][0].s.c!=Ee.c||w[Ke][0].s.r!=Ee.r)&&delete Le.f,Le.f&&(Le.f=""+Sa(w[Ke][1],i,Ee,R,T));break}}Re.dense?(a[Ee.r]||(a[Ee.r]=[]),a[Ee.r][Ee.c]=Le):a[h]=Le}},T={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(T.password=t.password);var L,H=[],z=[],M=[],I=[],U=!1,R=[];R.SheetNames=T.snames,R.sharedf=T.sharedf,R.arrayf=T.arrayf,R.names=[],R.XTI=[];var Y=0,Z=0,C=0,X=[],B=[],q;T.codepage=1200,xo(1200);for(var re=!1;e.l<e.length-1;){var se=e.l,le=e.read_shift(2);if(le===0&&Y===10)break;var ae=e.l===e.length?0:e.read_shift(2),K=hE[le];if(K&&K.f){if(t.bookSheets&&Y===133&&le!==133)break;if(Y=le,K.r===2||K.r==12){var me=e.read_shift(2);if(ae-=2,!T.enc&&me!==le&&((me&255)<<8|me>>8)!==le)throw new Error("rt mismatch: "+me+"!="+le);K.r==12&&(e.l+=10,ae-=10)}var A={};if(le===10?A=K.f(e,ae,T):A=qke(le,K,e,ae,T),Z==0&&[9,521,1033,2057].indexOf(Y)===-1)continue;switch(le){case 34:r.opts.Date1904=j.WBProps.date1904=A;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=A,!t.password)throw new Error("File is password-protected");if(A.valid==null)throw new Error("Encryption scheme unsupported");if(!A.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=A;break;case 66:var $e=Number(A);switch($e){case 21010:$e=1200;break;case 32768:$e=1e4;break;case 32769:$e=1252;break}xo(T.codepage=$e),re=!0;break;case 317:T.rrtabid=A;break;case 25:T.winlocked=A;break;case 439:r.opts.RefreshAll=A;break;case 12:r.opts.CalcCount=A;break;case 16:r.opts.CalcDelta=A;break;case 17:r.opts.CalcIter=A;break;case 13:r.opts.CalcMode=A;break;case 14:r.opts.CalcPrecision=A;break;case 95:r.opts.CalcSaveRecalc=A;break;case 15:T.CalcRefMode=A;break;case 2211:r.opts.FullCalc=A;break;case 129:A.fDialog&&(a["!type"]="dialog"),A.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),A.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:S.push(A);break;case 430:R.push([A]),R[R.length-1].XTI=[];break;case 35:case 547:R[R.length-1].push(A);break;case 24:case 536:q={Name:A.Name,Ref:Sa(A.rgce,i,null,R,T)},A.itab>0&&(q.Sheet=A.itab-1),R.names.push(q),R[0]||(R[0]=[],R[0].XTI=[]),R[R.length-1].push(A),A.Name=="_xlnm._FilterDatabase"&&A.itab>0&&A.rgce&&A.rgce[0]&&A.rgce[0][0]&&A.rgce[0][0][0]=="PtgArea3d"&&(B[A.itab-1]={ref:er(A.rgce[0][0][1][2])});break;case 22:T.ExternCount=A;break;case 23:R.length==0&&(R[0]=[],R[0].XTI=[]),R[R.length-1].XTI=R[R.length-1].XTI.concat(A),R.XTI=R.XTI.concat(A);break;case 2196:if(T.biff<8)break;q!=null&&(q.Comment=A[1]);break;case 18:a["!protect"]=A;break;case 19:A!==0&&T.WTF&&console.error("Password verifier: "+A);break;case 133:s[A.pos]=A,T.snames.push(A.name);break;case 10:{if(--Z)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=er(i),t.sheetRows&&t.sheetRows<=i.e.r){var Ie=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=er(i),i.e.r=Ie}i.e.r++,i.e.c++}H.length>0&&(a["!merges"]=H),z.length>0&&(a["!objects"]=z),M.length>0&&(a["!cols"]=M),I.length>0&&(a["!rows"]=I),j.Sheets.push(E)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(T.biff===8&&(T.biff={9:2,521:3,1033:4}[le]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[A.BIFFVer]||8),T.biffguess=A.BIFFVer==0,A.BIFFVer==0&&A.dt==4096&&(T.biff=5,re=!0,xo(T.codepage=28591)),T.biff==8&&A.BIFFVer==0&&A.dt==16&&(T.biff=2),Z++)break;if(a=t.dense?[]:{},T.biff<8&&!re&&(re=!0,xo(T.codepage=t.codepage||1252)),T.biff<5||A.BIFFVer==0&&A.dt==4096){u===""&&(u="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var Ue={pos:e.l-ae,name:u};s[Ue.pos]=Ue,T.snames.push(u)}else u=(s[se]||{name:""}).name;A.dt==32&&(a["!type"]="chart"),A.dt==64&&(a["!type"]="macro"),H=[],z=[],T.arrayf=w=[],M=[],I=[],U=!1,E={Hidden:(s[se]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[A.r]||[])[A.c]:a[It({c:A.c,r:A.r})])&&++A.c,b={ixfe:A.ixfe,XF:S[A.ixfe]||{},v:A.val,t:"n"},C>0&&(b.z=X[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),P({c:A.c,r:A.r},b,t);break;case 5:case 517:b={ixfe:A.ixfe,XF:S[A.ixfe],v:A.val,t:A.t},C>0&&(b.z=X[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),P({c:A.c,r:A.r},b,t);break;case 638:b={ixfe:A.ixfe,XF:S[A.ixfe],v:A.rknum,t:"n"},C>0&&(b.z=X[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),P({c:A.c,r:A.r},b,t);break;case 189:for(var Ve=A.c;Ve<=A.C;++Ve){var De=A.rkrec[Ve-A.c][0];b={ixfe:De,XF:S[De],v:A.rkrec[Ve-A.c][1],t:"n"},C>0&&(b.z=X[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),P({c:Ve,r:A.r},b,t)}break;case 6:case 518:case 1030:{if(A.val=="String"){l=A;break}if(b=Ly(A.val,A.cell.ixfe,A.tt),b.XF=S[b.ixfe],t.cellFormula){var pt=A.formula;if(pt&&pt[0]&&pt[0][0]&&pt[0][0][0]=="PtgExp"){var yt=pt[0][0][1][0],ne=pt[0][0][1][1],he=It({r:yt,c:ne});y[he]?b.f=""+Sa(A.formula,i,A.cell,R,T):b.F=((t.dense?(a[yt]||[])[ne]:a[he])||{}).F}else b.f=""+Sa(A.formula,i,A.cell,R,T)}C>0&&(b.z=X[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),P(A.cell,b,t),l=A}break;case 7:case 519:if(l)l.val=A,b=Ly(A,l.cell.ixfe,"s"),b.XF=S[b.ixfe],t.cellFormula&&(b.f=""+Sa(l.formula,i,l.cell,R,T)),C>0&&(b.z=X[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),P(l.cell,b,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(A);var F=It(A[0].s);if(p=t.dense?(a[A[0].s.r]||[])[A[0].s.c]:a[F],t.cellFormula&&p){if(!l||!F||!p)break;p.f=""+Sa(A[1],i,A[0],R,T),p.F=er(A[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;y[It(l.cell)]=A[0],p=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[It(l.cell)],(p||{}).f=""+Sa(A[0],i,f,R,T)}}break;case 253:b=Ly(c[A.isst].t,A.ixfe,"s"),c[A.isst].h&&(b.h=c[A.isst].h),b.XF=S[b.ixfe],C>0&&(b.z=X[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),P({c:A.c,r:A.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:A.ixfe,XF:S[A.ixfe],t:"z"},C>0&&(b.z=X[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),P({c:A.c,r:A.r},b,t));break;case 190:if(t.sheetStubs)for(var ce=A.c;ce<=A.C;++ce){var pe=A.ixfe[ce-A.c];b={ixfe:pe,XF:S[pe],t:"z"},C>0&&(b.z=X[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),P({c:ce,r:A.r},b,t)}break;case 214:case 516:case 4:b=Ly(A.val,A.ixfe,"s"),b.XF=S[b.ixfe],C>0&&(b.z=X[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),P({c:A.c,r:A.r},b,t);break;case 0:case 512:Z===1&&(i=A);break;case 252:c=A;break;case 1054:if(T.biff==4){X[C++]=A[1];for(var xe=0;xe<C+163&&Bt[xe]!=A[1];++xe);xe>=163&&Bd(A[1],C+163)}else Bd(A[1],A[0]);break;case 30:{X[C++]=A;for(var Fe=0;Fe<C+163&&Bt[Fe]!=A;++Fe);Fe>=163&&Bd(A,C+163)}break;case 229:H=H.concat(A);break;case 93:z[A.cmo[0]]=T.lastobj=A;break;case 438:T.lastobj.TxO=A;break;case 127:T.lastobj.ImData=A;break;case 440:for(v=A[0].s.r;v<=A[0].e.r;++v)for(m=A[0].s.c;m<=A[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[It({c:m,r:v})],p&&(p.l=A[1]);break;case 2048:for(v=A[0].s.r;v<=A[0].e.r;++v)for(m=A[0].s.c;m<=A[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[It({c:m,r:v})],p&&p.l&&(p.l.Tooltip=A[1]);break;case 28:{if(T.biff<=5&&T.biff>=2)break;p=t.dense?(a[A[0].r]||[])[A[0].c]:a[It(A[0])];var ye=z[A[2]];p||(t.dense?(a[A[0].r]||(a[A[0].r]=[]),p=a[A[0].r][A[0].c]={t:"z"}):p=a[It(A[0])]={t:"z"},i.e.r=Math.max(i.e.r,A[0].r),i.s.r=Math.min(i.s.r,A[0].r),i.e.c=Math.max(i.e.c,A[0].c),i.s.c=Math.min(i.s.c,A[0].c)),p.c||(p.c=[]),g={a:A[1],t:ye.TxO.t},p.c.push(g)}break;case 2173:p_e(S[A.ixfe],A.ext);break;case 125:{if(!T.cellStyles)break;for(;A.e>=A.s;)M[A.e--]={width:A.w/256,level:A.level||0,hidden:!!(A.flags&1)},U||(U=!0,qO(A.w/256)),Fm(M[A.e+1])}break;case 520:{var _e={};A.level!=null&&(I[A.r]=_e,_e.level=A.level),A.hidden&&(I[A.r]=_e,_e.hidden=!0),A.hpt&&(I[A.r]=_e,_e.hpt=A.hpt,_e.hpx=nv(A.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||fg(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[le]]=A;break;case 161:a["!margins"]||fg(a["!margins"]={}),a["!margins"].header=A.header,a["!margins"].footer=A.footer;break;case 574:A.RTL&&(j.Views[0].RTL=!0);break;case 146:k=A;break;case 2198:L=A;break;case 140:_=A;break;case 442:u?E.CodeName=A||E.name:j.WBProps.CodeName=A||"ThisWorkbook";break}}else K||console.error("Missing Info for XLS Record 0x"+le.toString(16)),e.l+=ae}return r.SheetNames=ml(s).sort(function(ue,Ee){return Number(ue)-Number(Ee)}).map(function(ue){return s[ue].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&B.forEach(function(ue,Ee){r.Sheets[r.SheetNames[Ee]]["!autofilter"]=ue}),r.Strings=c,r.SSF=ia(Bt),T.enc&&(r.Encryption=T.enc),L&&(r.Themes=L),r.Metadata={},_!==void 0&&(r.Metadata.Country=_),R.names.length>0&&(j.Names=R.names),r.Workbook=j,r}var pF={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Kke(e,t,r){var n=Zt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=QM(n,dwe,pF.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var i=Zt.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var l=QM(i,fwe,pF.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(kq(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function lG(e,t){t||(t={}),JO(t),FH(),t.codepage&&TO(t.codepage);var r,n;if(e.FullPaths){if(Zt.find(e,"/encryption"))throw new Error("File is password-protected");r=Zt.find(e,"!CompObj"),n=Zt.find(e,"/Workbook")||Zt.find(e,"/Book")}else{switch(t.type){case"base64":e=mo(fi(e));break;case"binary":e=mo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ta(e,0),n={content:e}}var a,s;if(r&&Wke(r),t.bookProps&&!t.bookSheets)a={};else{var i=Jt?"buffer":"array";if(n&&n.content)a=Gke(n.content,t);else if((s=Zt.find(e,"PerfectOffice_MAIN"))&&s.content)a=ug.to_workbook(s.content,(t.type=i,t));else if((s=Zt.find(e,"NativeContent_MAIN"))&&s.content)a=ug.to_workbook(s.content,(t.type=i,t));else throw(s=Zt.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Zt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=D_e(e))}var l={};return e.FullPaths&&Kke(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}var P1={0:{f:Tje},1:{f:Dje},2:{f:Vje},3:{f:Fje},4:{f:Ije},5:{f:Uje},6:{f:Hje},7:{f:$je},8:{f:Xje},9:{f:Yje},10:{f:Gje},11:{f:Kje},12:{f:Rje},13:{f:zje},14:{f:Lje},15:{f:Mje},16:{f:nG},17:{f:qje},18:{f:Bje},19:{f:BO},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Ske},40:{},42:{},43:{f:Gbe},44:{f:qbe},45:{f:Kbe},46:{f:Xbe},47:{f:Ybe},48:{},49:{f:Jye},50:{},51:{f:v_e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Fq},62:{f:Wje},63:{f:__e},64:{f:ske},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Fa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:ake},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Pje},148:{f:Aje,p:16},151:{f:Zje},152:{},153:{f:bke},154:{},155:{},156:{f:wke},157:{},158:{},159:{T:1,f:fbe},160:{T:-1},161:{T:1,f:Df},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Jje},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:g_e},336:{T:-1},337:{f:x_e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:lE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Mq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:eke},427:{f:tke},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:nke},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Oje},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Qje},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:lE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:A_e},633:{T:1},634:{T:-1},635:{T:1,f:T_e},636:{T:-1},637:{f:Zye},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:dke},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:ike},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},hE={6:{f:Sk},10:{f:Dc},12:{f:gn},13:{f:gn},14:{f:nn},15:{f:nn},16:{f:Ta},17:{f:nn},18:{f:nn},19:{f:gn},20:{f:rF},21:{f:rF},23:{f:Mq},24:{f:aF},25:{f:nn},26:{},27:{},28:{f:E1e},29:{},34:{f:nn},35:{f:nF},38:{f:Ta},39:{f:Ta},40:{f:Ta},41:{f:Ta},42:{f:nn},43:{f:nn},47:{f:Obe},49:{f:l1e},51:{f:gn},60:{},61:{f:s1e},64:{f:nn},65:{f:o1e},66:{f:gn},77:{},80:{},81:{},82:{},85:{f:gn},89:{},90:{},91:{},92:{f:Jwe},93:{f:T1e},94:{},95:{f:nn},96:{},97:{},99:{f:nn},125:{f:Fq},128:{f:x1e},129:{f:Qwe},130:{f:gn},131:{f:nn},132:{f:nn},133:{f:Zwe},134:{},140:{f:I1e},141:{f:gn},144:{},146:{f:F1e},151:{},152:{},153:{},154:{},155:{},156:{f:gn},157:{},158:{},160:{f:V1e},161:{f:$1e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:m1e},190:{f:p1e},193:{f:Dc},197:{},198:{},199:{},200:{},201:{},202:{f:nn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:gn},220:{},221:{f:nn},222:{},224:{f:v1e},225:{f:Xwe},226:{f:Dc},227:{},229:{f:C1e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:e1e},253:{f:c1e},255:{f:t1e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Aq},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:nn},353:{f:Dc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:w1e},431:{f:nn},432:{},433:{},434:{},437:{},438:{f:P1e},439:{f:nn},440:{f:D1e},441:{},442:{f:Sx},443:{},444:{f:gn},445:{},446:{},448:{f:Dc},449:{f:a1e,r:2},450:{f:Dc},512:{f:eF},513:{f:U1e},515:{f:y1e},516:{f:u1e},517:{f:tF},519:{f:z1e},520:{f:r1e},523:{},545:{f:sF},549:{f:ZM},566:{},574:{f:i1e},638:{f:h1e},659:{},1048:{},1054:{f:d1e},1084:{},1212:{f:j1e},2048:{f:R1e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Iy},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Dc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:L1e,r:12},2173:{f:m_e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:nn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:S1e,r:12},2197:{},2198:{f:l_e,r:12},2199:{},2200:{},2201:{},2202:{f:k1e,r:12},2203:{f:Dc},2204:{},2205:{},2206:{},2207:{},2211:{f:n1e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:gn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:B1e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:M1e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:eF},1:{},2:{f:G1e},3:{f:q1e},4:{f:H1e},5:{f:tF},7:{f:K1e},8:{},9:{f:Iy},11:{},22:{f:gn},30:{f:f1e},31:{},32:{},33:{f:sF},36:{},37:{f:ZM},50:{f:Y1e},62:{},52:{},67:{},68:{f:gn},69:{},86:{},126:{},127:{f:W1e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:X1e},223:{},234:{},354:{},421:{},518:{f:Sk},521:{f:Iy},536:{f:aF},547:{f:nF},561:{},579:{},1030:{f:Sk},1033:{f:Iy},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ji(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&vq(r)&&e.push(r)}}function gF(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,l=s&&s.index||e.length,c=yye(e.slice(i,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(i=0;i<c.length;++i){var m=c[i].trim(),v=m.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var y=m.split(/<\/t[dh]>/i);for(l=0;l<y.length;++l){var w=y[l].trim();if(w.match(/<t[dh]/i)){for(var b=w,_=0;b.charAt(0)=="<"&&(_=b.indexOf(">"))>-1;)b=b.slice(_+1);for(var S=0;S<g.length;++S){var k=g[S];k.s.c==d&&k.s.r<u&&u<=k.e.r&&(d=k.e.c+1,S=-1)}var j=Tt(w.slice(0,w.indexOf(">")));h=j.colspan?+j.colspan:1,((f=+j.rowspan)>1||h>1)&&g.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var E=j.t||j["data-t"]||"";if(!b.length){d+=h;continue}if(b=aq(b),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!b.length){d+=h;continue}var N={t:"s",v:b};r.raw||!b.trim().length||E=="s"||(b==="TRUE"?N={t:"b",v:!0}:b==="FALSE"?N={t:"b",v:!1}:isNaN(So(b))?isNaN(Mm(b).getDate())||(N={t:"d",v:Gn(b)},r.cellDates||(N={t:"n",v:cs(N.v)}),N.z=r.dateNF||Bt[14]):N={t:"n",v:So(b)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=N):n[It({r:u,c:d})]=N,d+=h}}}}return n["!ref"]=er(p),g.length&&(n["!merges"]=g),n}function Yke(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>i)&&!(a[u].e.r<r||a[u].e.c<i)){if(a[u].s.r<r||a[u].s.c<i){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=It({r,c:i}),f=n.dense?(e[r]||[])[i]:e[d],h=f&&f.v!=null&&(f.h||IO(f.w||(uc(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,s.push(Iye("td",h,p))}}var g="<tr>";return g+s.join("")+"</tr>"}var Xke='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Jke="</body></html>";function Qke(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return qu(gF(r[0],t),t);var n=ZO();return r.forEach(function(a,s){eP(n,gF(a,t),"Sheet"+(s+1))}),n}function Zke(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function e2e(e,t){var r=t||{},n=r.header!=null?r.header:Xke,a=r.footer!=null?r.footer:Jke,s=[n],i=Ip(e["!ref"]);r.dense=Array.isArray(e),s.push(Zke(e,i,r));for(var l=i.s.r;l<=i.e.r;++l)s.push(Yke(e,i,l,r));return s.push("</table>"+a),s.join("")}function cG(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?rs(n.origin):n.origin;a=i.r,s=i.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=Ip(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,v=0,y=0,w=0,b=0;for(e["!cols"]||(e["!cols"]=[]);g<l.length&&m<c;++g){var _=l[g];if(vF(_)){if(n.display)continue;p[m]={hidden:!0}}var S=_.children;for(v=y=0;v<S.length;++v){var k=S[v];if(!(n.display&&vF(k))){var j=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):aq(k.innerHTML),E=k.getAttribute("data-z")||k.getAttribute("z");for(h=0;h<f.length;++h){var N=f[h];N.s.c==y+s&&N.s.r<m+a&&m+a<=N.e.r&&(y=N.e.c+1-s,h=-1)}b=+k.getAttribute("colspan")||1,((w=+k.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:m+a,c:y+s},e:{r:m+a+(w||1)-1,c:y+s+(b||1)-1}});var O={t:"s",v:j},P=k.getAttribute("data-t")||k.getAttribute("t")||"";j!=null&&(j.length==0?O.t=P||"z":n.raw||j.trim().length==0||P=="s"||(j==="TRUE"?O={t:"b",v:!0}:j==="FALSE"?O={t:"b",v:!1}:isNaN(So(j))?isNaN(Mm(j).getDate())||(O={t:"d",v:Gn(j)},n.cellDates||(O={t:"n",v:cs(O.v)}),O.z=n.dateNF||Bt[14]):O={t:"n",v:So(j)})),O.z===void 0&&E!=null&&(O.z=E);var T="",L=k.getElementsByTagName("A");if(L&&L.length)for(var H=0;H<L.length&&!(L[H].hasAttribute("href")&&(T=L[H].getAttribute("href"),T.charAt(0)!="#"));++H);T&&T.charAt(0)!="#"&&(O.l={Target:T}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][y+s]=O):e[It({c:y+s,r:m+a})]=O,u.e.c<y+s&&(u.e.c=y+s),y+=b}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,m-1+a),e["!ref"]=er(u),m>=c&&(e["!fullref"]=er((u.e.r=l.length-g+m-1+a,u))),e}function uG(e,t){var r=t||{},n=r.dense?[]:{};return cG(n,e,t)}function t2e(e,t){return qu(uG(e,t),t)}function vF(e){var t="",r=r2e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function r2e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function n2e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=nr(t.replace(/<[^>]*>/g,""));return[r]}var xF={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function dG(e,t){var r=t||{},n=MO(e),a=[],s,i,l={name:""},c="",u=0,d,f,h={},p=[],g=r.dense?[]:{},m,v,y={value:""},w="",b=0,_=[],S=-1,k=-1,j={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,N={},O=[],P={},T=0,L=0,H=[],z=1,M=1,I=[],U={Names:[]},R={},Y=["",""],Z=[],C={},X="",B=0,q=!1,re=!1,se=0;for(ev.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=ev.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"":m[1]==="/"?(j.e.c>=j.s.c&&j.e.r>=j.s.r?g["!ref"]=er(j):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=j.e.r&&(g["!fullref"]=g["!ref"],j.e.r=r.sheetRows-1,g["!ref"]=er(j)),O.length&&(g["!merges"]=O),H.length&&(g["!rows"]=H),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),h[d.name]=g,re=!1):m[0].charAt(m[0].length-2)!=="/"&&(d=Tt(m[0],!1),S=k=-1,j.s.r=j.s.c=1e7,j.e.r=j.e.c=0,g=r.dense?[]:{},O=[],H=[],re=!0);break;case"table-row-group":m[1]==="/"?--E:++E;break;case"table-row":case"":if(m[1]==="/"){S+=z,z=1;break}if(f=Tt(m[0],!1),f.?S=f.-1:S==-1&&(S=0),z=+f["number-rows-repeated"]||1,z<10)for(se=0;se<z;++se)E>0&&(H[S+se]={level:E});k=-1;break;case"covered-table-cell":m[1]!=="/"&&++k,r.sheetStubs&&(r.dense?(g[S]||(g[S]=[]),g[S][k]={t:"z"}):g[It({r:S,c:k})]={t:"z"}),w="",_=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++k,y=Tt(m[0],!1),M=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=fF(nr(y.formula))),(y.||y["value-type"])=="string"&&(v.t="s",v.v=nr(y["string-value"]||""),r.dense?(g[S]||(g[S]=[]),g[S][k]=v):g[It({r:S,c:k})]=v),k+=M-1;else if(m[1]!=="/"){++k,w="",b=0,_=[],M=1;var le=z?S+z-1:S;if(k>j.e.c&&(j.e.c=k),k<j.s.c&&(j.s.c=k),S<j.s.r&&(j.s.r=S),le>j.e.r&&(j.e.r=le),y=Tt(m[0],!1),Z=[],C={},v={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=nr(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(T=parseInt(y["number-matrix-rows-spanned"],10)||0,L=parseInt(y["number-matrix-columns-spanned"],10)||0,P={s:{r:S,c:k},e:{r:S+T-1,c:k+L-1}},v.F=er(P),I.push([P,v.F])),y.formula)v.f=fF(y.formula);else for(se=0;se<I.length;++se)S>=I[se][0].s.r&&S<=I[se][0].e.r&&k>=I[se][0].s.c&&k<=I[se][0].e.c&&(v.F=I[se][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(T=parseInt(y["number-rows-spanned"],10)||0,L=parseInt(y["number-columns-spanned"],10)||0,P={s:{r:S,c:k},e:{r:S+T-1,c:k+L-1}},O.push(P)),y["number-columns-repeated"]&&(M=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Ur(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=Gn(y["date-value"]),r.cellDates||(v.t="n",v.v=cs(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=gye(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=tS(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(w=nr(y["string-value"]),_=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(q=!1,v.t==="s"&&(v.v=w||"",_.length&&(v.R=_),q=b==0),R.Target&&(v.l=R),Z.length>0&&(v.c=Z,Z=[]),w&&r.cellText!==!1&&(v.w=w),q&&(v.t="z",delete v.v),(!q||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var ae=0;ae<z;++ae){if(M=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[S+ae]||(g[S+ae]=[]),g[S+ae][k]=ae==0?v:ia(v);--M>0;)g[S+ae][k+M]=ia(v);else for(g[It({r:S+ae,c:k})]=v;--M>0;)g[It({r:S+ae,c:k+M})]=ia(v);j.e.c<=k&&(j.e.c=k)}M=parseInt(y["number-columns-repeated"]||"1",10),k+=M-1,M=0,v={},w="",_=[]}R={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((s=a.pop())[0]!==m[3])throw"Bad state: "+s}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((s=a.pop())[0]!==m[3])throw"Bad state: "+s;C.t=w,_.length&&(C.R=_),C.a=X,Z.push(C)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);X="",B=0,w="",b=0,_=[];break;case"creator":m[1]==="/"?X=n.slice(B,m.index):B=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((s=a.pop())[0]!==m[3])throw"Bad state: "+s}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);w="",b=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(N[l.name]=c,(s=a.pop())[0]!==m[3])throw"Bad state: "+s}else m[0].charAt(m[0].length-2)!=="/"&&(c="",l=Tt(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Tt(m[0],!1),c+=xF[m[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Tt(m[0],!1),c+=xF[m[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,m.index);break}else u=m.index+m[0].length;break;case"named-range":i=Tt(m[0],!1),Y=jk(i["cell-range-address"]);var K={Name:i.name,Ref:Y[0]+"!"+Y[1]};re&&(K.Sheet=p.length),U.Names.push(K);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!y||!y["string-value"])){var me=n2e(n.slice(b,m.index));w=(w.length>0?w+`
`:"")+me[0]}else Tt(m[0],!1),b=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{Y=jk(Tt(m[0])["target-range-address"]),h[Y[0]]["!autofilter"]={ref:Y[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(R=Tt(m[0],!1),!R.href)break;R.Target=nr(R.href),delete R.href,R.Target.charAt(0)=="#"&&R.Target.indexOf(".")>-1?(Y=jk(R.Target.slice(1)),R.Target="#"+Y[0]+"!"+Y[1]):R.Target.match(/^\.\.[\\\/]/)&&(R.Target=R.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(m)}}var A={Sheets:h,SheetNames:p,Workbook:U};return r.bookSheets&&delete A.Sheets,A}function yF(e,t){t=t||{},ji(e,"META-INF/manifest.xml")&&ywe(pn(e,"META-INF/manifest.xml"),t);var r=ti(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=dG(Pr(r),t);return ji(e,"meta.xml")&&(n.Props=jq(pn(e,"meta.xml"))),n}function wF(e,t){return dG(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function YO(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function mE(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Pr(Of(e))}function pE(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function bF(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function a2e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function av(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Ln(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Oa(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=av(e,r),s=a&7;a=Math.floor(a/8);var i=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:i=4,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=av(e,r),l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function XO(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function s2e(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=av(e,n),s=Oa(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:Ln(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Oa(l.data),u=Ln(c[3][0].data);i.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(i.merge=Ln(s[3][0].data)>>>0>0),r.push(i)}return r}function i2e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=av(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var l=i-59;i=t[r[0]],l>1&&(i|=t[r[0]+1]<<8),l>2&&(i|=t[r[0]+2]<<16),l>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=l}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[pE(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=pE(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function o2e(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(i2e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return pE(t)}function l2e(e,t,r,n){var a=YO(e),s=a.getUint32(4,!0),i=(n>1?12:8)+bF(s&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);s&512&&(l=a.getUint32(i,!0),i+=4),i+=bF(s&(n>1?12288:4096))*4,s&16&&(c=a.getUint32(i,!0),i+=4),s&32&&(u=a.getFloat64(i,!0),i+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function c2e(e,t,r){var n=YO(e),a=n.getUint32(8,!0),s=12,i=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=a2e(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(l=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function u2e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return l2e(e,t,r,e[0]);case 5:return c2e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function _u(e){var t=Oa(e);return av(t[1][0].data)}function _F(e,t){var r=Oa(t.data),n=Ln(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var l=Oa(i.data),c=Ln(l[1][0].data)>>>0;switch(n){case 1:s[c]=mE(l[3][0].data);break;case 8:{var u=e[_u(l[9][0].data)][0],d=Oa(u.data),f=e[_u(d[1][0].data)][0],h=Ln(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Oa(f.data);s[c]=p[3].map(function(g){return mE(g.data)}).join("")}break}}),s}function d2e(e,t){var r,n,a,s,i,l,c,u,d,f,h,p,g,m,v=Oa(e),y=Ln(v[1][0].data)>>>0,w=Ln(v[2][0].data)>>>0,b=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&Ln(v[8][0].data)>0||!1,_,S;if((s=(a=v[7])==null?void 0:a[0])!=null&&s.data&&t!=0)_=(l=(i=v[7])==null?void 0:i[0])==null?void 0:l.data,S=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)_=(p=(h=v[4])==null?void 0:h[0])==null?void 0:p.data,S=(m=(g=v[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var k=b?4:1,j=YO(_),E=[],N=0;N<_.length/2;++N){var O=j.getUint16(N*2,!0);O<65535&&E.push([N,O])}if(E.length!=w)throw"Expected ".concat(w," cells, found ").concat(E.length);var P=[];for(N=0;N<E.length-1;++N)P[E[N][0]]=S.subarray(E[N][1]*k,E[N+1][1]*k);return E.length>=1&&(P[E[E.length-1][0]]=S.subarray(E[E.length-1][1]*k)),{R:y,cells:P}}function f2e(e,t){var r,n=Oa(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Ln(n[7][0].data)>>>0>0?1:0:-1,s=XO(n[5],function(i){return d2e(i,a)});return{nrows:Ln(n[4][0].data)>>>0,data:s.reduce(function(i,l){return i[l.R]||(i[l.R]=[]),l.cells.forEach(function(c,u){if(i[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));i[l.R][u]=c}),i},[])}}function h2e(e,t,r){var n,a=Oa(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Ln(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(Ln(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=er(s);var i=Oa(a[4][0].data),l=_F(e,e[_u(i[4][0].data)][0]),c=(n=i[17])!=null&&n[0]?_F(e,e[_u(i[17][0].data)][0]):[],u=Oa(i[3][0].data),d=0;u[1].forEach(function(f){var h=Oa(f.data),p=e[_u(h[2][0].data)][0],g=Ln(p.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=f2e(e,p);m.data.forEach(function(v,y){v.forEach(function(w,b){var _=It({r:d+y,c:b}),S=u2e(w,l,c);S&&(r[_]=S)})}),d+=m.nrows})}function m2e(e,t){var r=Oa(t.data),n={"!ref":"A1"},a=e[_u(r[2][0].data)],s=Ln(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return h2e(e,a[0],n),n}function p2e(e,t){var r,n=Oa(t.data),a={name:(r=n[1])!=null&&r[0]?mE(n[1][0].data):"",sheets:[]},s=XO(n[2],_u);return s.forEach(function(i){e[i].forEach(function(l){var c=Ln(l.meta[1][0].data);c==6e3&&a.sheets.push(m2e(e,l))})}),a}function g2e(e,t){var r=ZO(),n=Oa(t.data),a=XO(n[1],_u);if(a.forEach(function(s){e[s].forEach(function(i){var l=Ln(i.meta[1][0].data);if(l==2){var c=p2e(e,i);c.sheets.forEach(function(u,d){eP(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Nk(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=o2e(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=s2e(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ln(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||i.forEach(function(c){s[c].forEach(function(u){var d=Ln(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return g2e(s,l)}function v2e(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function JO(e){v2e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function x2e(e){return Oh.WS.indexOf(e)>-1?"sheet":e==Oh.CS?"chart":e==Oh.DS?"dialog":e==Oh.MS?"macro":e&&e.length?e:"sheet"}function y2e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,x2e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function w2e(e,t,r,n,a,s,i,l,c,u,d,f){try{s[n]=lg(ti(e,r,!0),t);var h=pn(e,t),p;switch(l){case"sheet":p=Nke(h,t,a,c,s[n],u,d,f);break;case"chart":if(p=Eke(h,t,a,c,s[n],u,d,f),!p||!p["!drawel"])break;var g=F0(p["!drawel"].Target,t),m=cE(g),v=k_e(ti(e,g,!0),lg(ti(e,m,!0),g)),y=F0(v,g),w=cE(y);p=cke(ti(e,y,!0),y,c,lg(ti(e,w,!0),y),u,p);break;case"macro":p=Cke(h,t,a,c,s[n],u,d,f);break;case"dialog":p=Tke(h,t,a,c,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}i[n]=p;var b=[];s&&s[n]&&ml(s[n]).forEach(function(_){var S="";if(s[n][_].Type==Oh.CMNT){S=F0(s[n][_].Target,t);var k=Dke(pn(e,S,!0),S,c);if(!k||!k.length)return;oF(p,k,!1)}s[n][_].Type==Oh.TCMNT&&(S=F0(s[n][_].Target,t),b=b.concat(E_e(pn(e,S,!0),c)))}),b&&b.length&&oF(p,b,!0,c.people||[])}catch(_){if(c.WTF)throw _}}function yi(e){return e.charAt(0)=="/"?e.slice(1):e}function b2e(e,t){if(YH(),t=t||{},JO(t),ji(e,"META-INF/manifest.xml")||ji(e,"objectdata.xml"))return yF(e,t);if(ji(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Nk<"u"){if(e.FileIndex)return Nk(e);var r=Zt.utils.cfb_new();return RM(e).forEach(function(H){_ye(r,H,bye(e,H))}),Nk(r)}throw new Error("Unsupported NUMBERS file")}if(!ji(e,"[Content_Types].xml"))throw ji(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ji(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=RM(e),a=vwe(ti(e,"[Content_Types].xml")),s=!1,i,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",pn(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!pn(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(dg=[],a.sst)try{dg=Pke(pn(e,yi(a.sst)),a.sst,t)}catch(H){if(t.WTF)throw H}t.cellStyles&&a.themes.length&&(c=Oke(ti(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=Ake(pn(e,yi(a.style)),a.style,c,t))}a.links.map(function(H){try{var z=lg(ti(e,cE(yi(H))),H);return Ike(pn(e,yi(H)),z,H,t)}catch{}});var d=kke(pn(e,yi(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=pn(e,yi(a.coreprops[0]),!0),h&&(f=jq(h)),a.extprops.length!==0&&(h=pn(e,yi(a.extprops[0]),!0),h&&_we(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=ti(e,yi(a.custprops[0]),!0),h&&(p=jwe(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(d.Sheets?i=d.Sheets.map(function(z){return z.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=p),t.bookSheets&&typeof i<"u"&&(g.SheetNames=i),t.bookSheets?g.SheetNames:t.bookProps))return g;i={};var m={};t.bookDeps&&a.calcchain&&(m=Rke(pn(e,yi(a.calcchain)),a.calcchain));var v=0,y={},w,b;{var _=d.Sheets;f.Worksheets=_.length,f.SheetNames=[];for(var S=0;S!=_.length;++S)f.SheetNames[S]=_[S].name}var k=s?"bin":"xml",j=a.workbooks[0].lastIndexOf("/"),E=(a.workbooks[0].slice(0,j+1)+"_rels/"+a.workbooks[0].slice(j+1)+".rels").replace(/^\//,"");ji(e,E)||(E="xl/_rels/workbook."+k+".rels");var N=lg(ti(e,E,!0),E.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Mke(pn(e,yi(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=C_e(pn(e,yi(a.people[0])),t)),N&&(N=y2e(N,d.Sheets));var O=pn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var P="sheet";if(N&&N[v]?(w="xl/"+N[v][1].replace(/[\/]?xl\//,""),ji(e,w)||(w=N[v][1]),ji(e,w)||(w=E.replace(/_rels\/.*$/,"")+N[v][1]),P=N[v][2]):(w="xl/worksheets/sheet"+(v+1-O)+"."+k,w=w.replace(/sheet0\./,"sheet.")),b=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var T=!1,L=0;L!=t.sheets.length;++L)typeof t.sheets[L]=="number"&&t.sheets[L]==v&&(T=1),typeof t.sheets[L]=="string"&&t.sheets[L].toLowerCase()==f.SheetNames[v].toLowerCase()&&(T=1);if(!T)continue e}}w2e(e,w,b,f.SheetNames[v],v,y,i,P,t,d,c,u)}return g={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:m,Sheets:i,SheetNames:f.SheetNames,Strings:dg,Styles:u,Themes:c,SSF:ia(Bt)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(H,z){H=H.replace(/^Root Entry[\/]/,""),g.keys.push(H),g.files[H]=e.FileIndex[z]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=pn(e,yi(a.vba[0]),!0):a.defaults&&a.defaults.bin===P_e&&(g.vbaraw=pn(e,"xl/vbaProject.bin",!0))),g}function _2e(e,t){var r=t||{},n="Workbook",a=Zt.find(e,n);try{if(n="/!DataSpaces/Version",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(mbe(a.content),n="/!DataSpaces/DataSpaceMap",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=gbe(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=vbe(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);ybe(a.content)}catch{}if(n="/EncryptionInfo",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=wbe(a.content);if(n="/EncryptedPackage",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function QO(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=fi(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function S2e(e,t){return Zt.find(e,"EncryptedPackage")?_2e(e,t):lG(e,t)}function j2e(e,t){var r,n=e,a=t||{};return a.type||(a.type=Jt&&Buffer.isBuffer(e)?"buffer":"base64"),r=tq(n,a),b2e(r,a)}function fG(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return fE(e.slice(r),t);default:break e}return tv.to_workbook(e,t)}function k2e(e,t){var r="",n=QO(e,t);switch(t.type){case"base64":r=fi(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=hf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Pr(r)),t.type="binary",fG(r,t)}function N2e(e,t){var r=e;return t.type=="base64"&&(r=fi(r)),r=Hc.utils.decode(1200,r.slice(2),"str"),t.type="binary",fG(r,t)}function E2e(e){return e.match(/[^\x00-\x7F]/)?L0(e):e}function Ek(e,t,r,n){return n?(r.type="string",tv.to_workbook(e,r)):tv.to_workbook(t,r)}function gE(e,t){FH();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return gE(new Uint8Array(e),(r=ia(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Zh={},r.dateNF&&(Zh.dateNF=r.dateNF),r.type||(r.type=Jt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Jt?"buffer":"binary",n=mye(e),typeof Uint8Array<"u"&&!Jt&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=E2e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),l=new Uint8Array(i);if(l.foo="bar",!l.foo)return r=ia(r),r.type="array",gE(AO(n),r)}switch((a=QO(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return S2e(Zt.read(n,r),r);break;case 9:if(a[1]<=8)return lG(n,r);break;case 60:return fE(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return tbe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return Z1e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?j2e(n,r):Ek(e,n,r,s);case 239:return a[3]===60?fE(n,r):Ek(e,n,r,s);case 255:if(a[1]===254)return N2e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return ug.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return ug.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return iF.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Pbe.to_workbook(n,r);break;case 10:case 13:case 32:return k2e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return J1e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?iF.to_workbook(n,r):Ek(e,n,r,s)}function C2e(e,t,r,n,a,s,i,l){var c=oa(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=i?e[r][p]:e[n[p]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;s[p]!=null&&(h[s[p]]=u);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[s[p]]=null;else if(u!==void 0)h[s[p]]=u;else if(d&&m===null)h[s[p]]=null;else continue;else h[s[p]]=d&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?m:uc(g,m,l);m!=null&&(f=!1)}}return{row:h,isempty:f}}function vE(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=rn(d);break;case"number":c=rn(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=oa(c.s.r),h=[],p=[],g=0,m=0,v=Array.isArray(e),y=c.s.r,w=0,b={};v&&!e[y]&&(e[y]=[]);var _=u.skipHidden&&e["!cols"]||[],S=u.skipHidden&&e["!rows"]||[];for(w=c.s.c;w<=c.e.c;++w)if(!(_[w]||{}).hidden)switch(h[w]=Mn(w),r=v?e[y][w]:e[h[w]+f],n){case 1:s[w]=w-c.s.c;break;case 2:s[w]=h[w];break;case 3:s[w]=u.header[w-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=i=uc(r,null,u),m=b[i]||0,!m)b[i]=1;else{do l=i+"_"+m++;while(b[l]);b[i]=m,b[l]=1}s[w]=l}for(y=c.s.r+a;y<=c.e.r;++y)if(!(S[y]||{}).hidden){var k=C2e(e,c,y,h,n,s,v,u);(k.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[g++]=k.row)}return p.length=g,p}var SF=/"/g;function T2e(e,t,r,n,a,s,i,l){for(var c=!0,u=[],d="",f=oa(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=l.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:uc(p,null,l));for(var g=0,m=0;g!==d.length;++g)if((m=d.charCodeAt(g))===a||m===s||m===34||l.forceQuotes){d='"'+d.replace(SF,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(SF,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(i)}function hG(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=rn(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=Mn(g));for(var m=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(d=T2e(e,a,v,f,i,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((m++?l:"")+d)));return delete n.dense,r.join("")}function A2e(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=hG(e,t);return r}function O2e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=rn(e["!ref"]),s="",i=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)i[l]=Mn(l);for(var d=a.s.r;d<=a.e.r;++d)for(s=oa(d),l=a.s.c;l<=a.e.c;++l)if(t=i[l]+s,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function mG(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?rs(n.origin):n.origin;i=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:i+t.length-1+a}};if(s["!ref"]){var f=rn(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),i==-1&&(i=f.e.r+1,d.e.r=i+t.length-1+a)}else i==-1&&(i=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,v){ml(m).forEach(function(y){(p=h.indexOf(y))==-1&&(h[p=h.length]=y);var w=m[y],b="z",_="",S=It({c:l+p,r:i+v+a});u=sv(s,S),w&&typeof w=="object"&&!(w instanceof Date)?s[S]=w:(typeof w=="number"?b="n":typeof w=="boolean"?b="b":typeof w=="string"?b="s":w instanceof Date?(b="d",n.cellDates||(b="n",w=cs(w)),_=n.dateNF||Bt[14]):w===null&&n.nullError&&(b="e",w=0),u?(u.t=b,u.v=w,delete u.w,delete u.R,_&&(u.z=_)):s[S]=u={t:b,v:w},_&&(u.z=_))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var g=oa(i);if(a)for(p=0;p<h.length;++p)s[Mn(p+l)+g]={t:"s",v:h[p]};return s["!ref"]=er(d),s}function P2e(e,t){return mG(null,e,t)}function sv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=rs(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?sv(e,It(t)):sv(e,It({r:t,c:r||0}))}function D2e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function ZO(){return{SheetNames:[],Sheets:{}}}function eP(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(vke(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function R2e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=D2e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function I2e(e,t){return e.z=t,e}function pG(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function M2e(e,t,r){return pG(e,"#"+t,r)}function F2e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function L2e(e,t,r,n){for(var a=typeof t!="string"?t:rn(t),s=typeof t=="string"?t:er(t),i=a.s.r;i<=a.e.r;++i)for(var l=a.s.c;l<=a.e.c;++l){var c=sv(e,i,l);c.t="n",c.F=s,delete c.v,i==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var $2e={encode_col:Mn,encode_row:oa,encode_cell:It,encode_range:er,decode_col:$O,decode_row:LO,split_cell:Xye,decode_cell:rs,decode_range:Ip,format_cell:uc,sheet_add_aoa:yq,sheet_add_json:mG,sheet_add_dom:cG,aoa_to_sheet:Mp,json_to_sheet:P2e,table_to_sheet:uG,table_to_book:t2e,sheet_to_csv:hG,sheet_to_txt:A2e,sheet_to_json:vE,sheet_to_html:e2e,sheet_to_formulae:O2e,sheet_to_row_object_array:vE,sheet_get_cell:sv,book_new:ZO,book_append_sheet:eP,book_set_sheet_visibility:R2e,cell_set_number_format:I2e,cell_set_hyperlink:pG,cell_set_internal_link:M2e,cell_add_comment:F2e,sheet_set_array_formula:L2e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function B2e({templates:e,templateFields:t,onImportComplete:r,onClose:n}){var N,O;qt();const{user:a}=vr(),{toast:s}=Tf(),[i,l]=x.useState("template"),[c,u]=x.useState(null),[d,f]=x.useState([]),[h,p]=x.useState({}),[g,m]=x.useState([]),[v,y]=x.useState(!1),[w,b]=x.useState(0),_=async P=>{var L;const T=(L=P.target.files)==null?void 0:L[0];if(T)try{const H=await T.arrayBuffer(),z=gE(H,{type:"array"}),M=z.Sheets[z.SheetNames[0]],I=$2e.sheet_to_json(M);if(I.length===0){s({title:"Error",description:"File is empty",variant:"destructive"});return}f(I),S(I),l("preview")}catch(H){console.error("Error parsing file:",H),s({title:"Error",description:"Failed to parse file",variant:"destructive"})}},S=P=>{if(!c)return;const T=t[c.template_id]||[],L=Object.keys(P[0]||{}),H=[],z={};for(const M of T){const I=M.field_label||"",U=L.find(R=>R.toLowerCase().trim()===I.toLowerCase().trim());U?z[I]=U:M.is_required&&H.push(`Required field not found: "${I}"`)}p(z),m(H)},k=()=>d.slice(0,5),j=async()=>{if(!c||!a)return;const P=t[c.template_id]||[],T=[];for(const L of P)L.is_required&&!h[L.field_label||""]&&T.push(`Required field not mapped: "${L.field_label}"`);if(T.length>0){m(T);return}l("importing"),y(!0);try{const L=d.length,H=[];for(let M=0;M<d.length;M++){const I=d[M],U={};for(const Y of P){const Z=Y.field_label||"",C=h[Z];C&&I[C]!==void 0&&I[C]!==null&&I[C]!==""&&(U[Z]=I[C])}const R={template_id:c.template_id,survey_name:I.survey_name||I["Survey Name"]||`Bulk Import ${M+1}`,survey_description:I.survey_description||I["Survey Description"]||null,client_name:I.client_name||I["Client Name"]||`Client ${M+1}`,client_name_ar:I.client_name_ar||I["Client Name AR"]||null,client_contact:I.client_contact||I["Client Contact"]||null,client_email:I.client_email||I["Client Email"]||null,client_address:I.client_address||I["Client Address"]||null,client_company:I.client_company||I["Client Company"]||null,client_company_ar:I.client_company_ar||I["Client Company AR"]||null,survey_responses:U,location_latitude:parseFloat(I.location_latitude||I.Latitude||"0"),location_longitude:parseFloat(I.location_longitude||I.Longitude||"0"),location_accuracy:I.location_accuracy?parseFloat(I.location_accuracy):null,location_address:I.location_address||I["Location Address"]||null,created_by:a.id,status:"collected",lead_id:null,converted_to_lead_at:null,device_info:null,completion_time_seconds:null,notes:I.notes||null,notes_ar:I.notes_ar||null,updated_by:null,reviewed_by:null,reviewed_at:null};H.push(R),b(Math.round((M+1)/L*50))}b(50);const z=await wd.createBatch(H);b(100),s({title:"Success",description:`Imported ${z.length} surveys successfully`}),r(z),E()}catch(L){console.error("Error importing surveys:",L),s({title:"Error",description:L.message||"Import failed",variant:"destructive"}),l("preview")}finally{y(!1)}},E=()=>{l("template"),u(null),f([]),p({}),m([]),b(0),n()};return o.jsxs(o.Fragment,{children:[o.jsxs(ln,{children:[o.jsx(cn,{children:"Bulk Import Surveys"}),o.jsxs(Ma,{children:[i==="template"&&"Select a template for import",i==="upload"&&"Upload your Excel or CSV file",i==="preview"&&"Review data before importing",i==="importing"&&"Importing data..."]})]}),o.jsxs("div",{className:"space-y-6 py-4",children:[i==="template"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(Ge,{className:"text-base font-medium",children:"Select Template"}),o.jsx("div",{className:"grid gap-3 grid-cols-1 md:grid-cols-2",children:e.filter(P=>P.is_active).map(P=>o.jsx(nt,{className:`cursor-pointer transition-all ${(c==null?void 0:c.template_id)===P.template_id?"ring-2 ring-primary":"hover:shadow-md"}`,onClick:()=>u(P),children:o.jsxs(ct,{className:"p-4",children:[o.jsx("h4",{className:"font-medium text-sm",children:P.template_name}),P.template_description&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:P.template_description}),P.category&&o.jsx(dt,{variant:"outline",className:"mt-2 text-xs",children:P.category})]})},P.template_id))})]}),i==="upload"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(h_,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[o.jsx("p",{className:"font-medium mb-1",children:"Import Instructions"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[o.jsx("li",{children:"Column headers must match field names exactly"}),o.jsx("li",{children:"All required fields must have values"}),o.jsx("li",{children:"Supported formats: Excel (.xlsx, .xls) and CSV"})]})]})]})}),o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[o.jsx(yA,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),o.jsx(Ge,{className:"block text-sm font-medium mb-2",children:"Drag and drop your file here"}),o.jsx(qe,{type:"file",accept:".xlsx,.xls,.csv",onChange:_,className:"hidden",id:"file-upload"}),o.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:o.jsx(oe,{variant:"outline",asChild:!0,children:o.jsx("span",{children:"Select File"})})})]})]}),i==="preview"&&o.jsxs("div",{className:"space-y-4",children:[g.length>0&&o.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(FN,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300",children:[o.jsx("p",{className:"font-medium mb-2",children:"Validation Errors"}),o.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs",children:g.map((P,T)=>o.jsx("li",{children:P},T))})]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"font-medium text-sm",children:"Column Mapping"}),o.jsxs(dt,{variant:"secondary",children:[Object.keys(h).length," / ",((N=t[(c==null?void 0:c.template_id)||0])==null?void 0:N.length)||0]})]}),o.jsx("div",{className:"grid gap-2 max-h-48 overflow-y-auto",children:(O=t[(c==null?void 0:c.template_id)||0])==null?void 0:O.map(P=>o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:P.field_label}),P.is_required&&o.jsx(dt,{variant:"destructive",className:"text-xs mt-1",children:"Required"})]}),h[P.field_label||""]?o.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[o.jsx(su,{className:"h-4 w-4"}),o.jsx("span",{className:"text-xs font-medium",children:h[P.field_label||""]})]}):o.jsx("div",{className:"text-xs text-muted-foreground",children:P.is_required?o.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:"Not Mapped"}):o.jsx("span",{children:"Optional"})})]},P.field_id))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium text-sm",children:"Preview (First 5 Rows)"}),o.jsx("div",{className:"border rounded-lg overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted border-b",children:o.jsx("tr",{children:Object.keys(k()[0]||{}).map(P=>o.jsx("th",{className:"px-3 py-2 text-left font-medium text-xs",children:P},P))})}),o.jsx("tbody",{children:k().map((P,T)=>o.jsx("tr",{className:"border-b hover:bg-muted/50",children:Object.values(P).map((L,H)=>o.jsx("td",{className:"px-3 py-2 text-xs",children:String(L).substring(0,50)},H))},T))})]})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing first ",Math.min(5,d.length)," of ",d.length," rows"]})]})]}),i==="importing"&&o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx(N9,{className:"h-12 w-12 mx-auto animate-spin text-primary mb-4"}),o.jsx("p",{className:"font-medium mb-2",children:"Importing Data"}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Processing rows: ",w,"%"]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${w}%`}})})]})})})]}),o.jsxs(Ia,{children:[o.jsx(oe,{variant:"outline",onClick:E,disabled:v,children:"Cancel"}),i==="template"&&o.jsx(oe,{onClick:()=>l("upload"),disabled:!c,children:"Next"}),i==="upload"&&o.jsx(oe,{onClick:()=>l("template"),variant:"outline",children:"Back"}),i==="preview"&&o.jsxs(o.Fragment,{children:[o.jsx(oe,{onClick:()=>l("upload"),variant:"outline",children:"Back"}),o.jsx(oe,{onClick:j,disabled:g.length>0||v,children:"Start Import"})]})]})]})}function U2e(){var Sl;const{t:e}=qt(),{user:t}=vr(),{isRTL:r}=gi(),{toast:n}=Tf(),[a,s]=x.useState([]),[i,l]=x.useState([]),[c,u]=x.useState({}),[d,f]=x.useState(!0),[h,p]=x.useState(""),[g,m]=x.useState(null),[v,y]=x.useState(null),[w,b]=x.useState([]);x.useState(!1);const[_,S]=x.useState(!1),[k,j]=x.useState(null),[E,N]=x.useState({}),[O,P]=x.useState({}),[T,L]=x.useState([]),[H,z]=x.useState(!1),[M,I]=x.useState(null),[U,R]=x.useState(null),[Y,Z]=x.useState(null),[C,X]=x.useState("card"),[B,q]=x.useState("card"),[re,se]=x.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),[le,ae]=x.useState([]);x.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});const[K,me]=x.useState({}),[A,$e]=x.useState(!1),[Ie,Ue]=x.useState(!1),[Ve,De]=x.useState(new Set);x.useState(!1),x.useEffect(()=>{pt()},[]);const pt=async()=>{try{f(!0);const[ie,ge,Oe]=await Promise.all([wd.getAll().catch(Ht=>(console.error("[Surveys] Error fetching surveys:",Ht),[])),xi.getAll().catch(Ht=>(console.error("[Surveys] Error fetching templates:",Ht),[])),Pa.getAll().catch(Ht=>(console.error("[Surveys] Error fetching users:",Ht),[]))]),Me=ge.map(async Ht=>{try{const Qt=await xi.getFields(Ht.template_id);return{templateId:Ht.template_id,fields:Qt}}catch(Qt){return console.error(`[Surveys] Error fetching fields for template ${Ht.template_id}:`,Qt),{templateId:Ht.template_id,fields:[]}}}),St=await Promise.all(Me),rt={};St.forEach(Ht=>{rt[Ht.templateId]=Ht.fields}),s(ie),l(ge),L(Oe),u(rt)}catch(ie){console.error("Failed to load surveys data:",ie)}finally{f(!1)}},yt=a.filter(ie=>{var ge,Oe;return ie.client_name.toLowerCase().includes(h.toLowerCase())||((ge=ie.client_company)==null?void 0:ge.toLowerCase().includes(h.toLowerCase()))||((Oe=ie.survey_name)==null?void 0:Oe.toLowerCase().includes(h.toLowerCase()))}),ne=i.filter(ie=>{var ge;return ke(ie,"template_name").toLowerCase().includes(h.toLowerCase())||((ge=ie.category)==null?void 0:ge.toLowerCase().includes(h.toLowerCase()))}),he=ie=>{if(!ie)return e("surveys.unknownCreator");const ge=T.find(Oe=>Oe.auth_user_id===ie);return ge?ke(ge,"user_name"):e("surveys.unknownCreator")},F=ie=>{switch(ie.toLowerCase()){case"completed":return o.jsxs(dt,{variant:"default",className:"bg-green-500",children:[o.jsx(su,{className:"h-3 w-3 mr-1"}),e("surveys.completed")]});case"in_progress":return o.jsxs(dt,{variant:"secondary",children:[o.jsx(yd,{className:"h-3 w-3 mr-1"}),e("surveys.inProgress")]});case"pending":return o.jsxs(dt,{variant:"outline",children:[o.jsx(yd,{className:"h-3 w-3 mr-1"}),e("surveys.pending")]});default:return o.jsx(dt,{variant:"outline",children:ie})}},ce=ie=>{s([...ie,...a])},pe=async ie=>{if(y(ie),c[ie.template_id])b(c[ie.template_id]);else try{const ge=await xi.getFields(ie.template_id);u(Oe=>({...Oe,[ie.template_id]:ge})),b(ge)}catch(ge){console.error("Failed to load template fields:",ge),b([])}},xe=()=>{const ie={field_type:"text",field_label:"",is_required:!1,field_options:null,validation_rules:null,conditional_logic:null};ae(ge=>[...ge,ie])},Fe=ie=>{ae(ge=>ge.filter((Oe,Me)=>Me!==ie))},ye=(ie,ge)=>{ae(Oe=>Oe.map((Me,St)=>St===ie?{...Me,...ge}:Me))},_e=(ie,ge)=>{ae(Oe=>{const Me=[...Oe],[St]=Me.splice(ie,1);return Me.splice(ge,0,St),Me})},ue=()=>{se({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),ae([]),I(null)},Ee=async ie=>{se({template_name:ie.template_name||"",template_name_ar:ie.template_name_ar||"",template_description:ie.template_description||"",template_description_ar:ie.template_description_ar||"",category:ie.category||"",is_active:ie.is_active,is_default:ie.is_default||!1});const Oe=(c[ie.template_id]||[]).map(Me=>({field_type:Me.field_type,field_label:Me.field_label||"",field_label_ar:Me.field_label_ar||"",help_text:Me.help_text||"",help_text_ar:Me.help_text_ar||"",is_required:Me.is_required||!1,field_options:Me.field_options,validation_rules:Me.validation_rules,default_value:Me.default_value,conditional_logic:Me.conditional_logic,image_path:Me.image_path}));ae(Oe),I(ie.template_id),z(!0)},Le=()=>{const ie={};return re.template_name.trim()||(ie.template_name=e("surveys.templateNameRequired")),le.length===0?ie.fields=e("surveys.atLeastOneFieldRequired"):le.forEach((ge,Oe)=>{ge.field_label.trim()||(ie[`field_${Oe}`]=e("surveys.fieldLabelRequired",{number:Oe+1}))}),me(ie),Object.keys(ie).length===0},Re=async()=>{if(!Le()){n({title:e("common.error"),description:e("surveys.templateValidationFailed"),variant:"destructive"});return}$e(!0);try{if(M){await xi.update(M,re);const ie=c[M]||[];for(const ge of ie)ge.field_id&&await xi.deleteField(ge.field_id);for(let ge=0;ge<le.length;ge++){const Oe=le[ge];await xi.createField({template_id:M,field_order:ge+1,field_type:Oe.field_type,field_label:Oe.field_label,field_label_ar:Oe.field_label_ar||"",help_text:Oe.help_text||null,help_text_ar:Oe.help_text_ar||null,is_required:Oe.is_required,field_options:Oe.field_options,validation_rules:Oe.validation_rules,default_value:Oe.default_value||null,conditional_logic:Oe.conditional_logic,image_path:Oe.image_path||null})}n({title:e("common.success"),description:e("surveys.templateUpdated")})}else{const ie={...re,created_by:t==null?void 0:t.id},ge=await xi.create(ie);for(let Oe=0;Oe<le.length;Oe++){const Me=le[Oe];await xi.createField({template_id:ge.template_id,field_order:Oe+1,field_type:Me.field_type,field_label:Me.field_label,field_label_ar:Me.field_label_ar||"",help_text:Me.help_text||null,help_text_ar:Me.help_text_ar||null,is_required:Me.is_required,field_options:Me.field_options,validation_rules:Me.validation_rules,default_value:Me.default_value||null,conditional_logic:Me.conditional_logic,image_path:Me.image_path||null})}n({title:e("common.success"),description:e("surveys.templateCreated")})}ue(),z(!1),pt()}catch(ie){console.error("Failed to save template:",ie),n({title:e("common.error"),description:e("surveys.templateSaveError",{action:e(M?"surveys.updateTemplate":"surveys.createTemplate")}),variant:"destructive"})}finally{$e(!1)}},Ke=async ie=>{if(j(ie),!c[ie.template_id])try{const Me=await xi.getFields(ie.template_id);u(St=>({...St,[ie.template_id]:Me}))}catch(Me){console.error("Failed to load template fields:",Me)}const ge={};(c[ie.template_id]||[]).forEach(Me=>{Me.default_value!==null&&Me.default_value!==void 0&&(ge[Me.field_id.toString()]=Me.default_value)}),N(ge)},_t=async ie=>{try{await xi.delete(ie),l(ge=>ge.filter(Oe=>Oe.template_id!==ie)),R(null),u(ge=>{const Oe={...ge};return delete Oe[ie],Oe})}catch(ge){console.error("Failed to delete template:",ge),alert("Failed to delete template. Please try again.")}},lr=async ie=>{try{await wd.delete(ie),s(ge=>ge.filter(Oe=>Oe.survey_id!==ie)),Z(null)}catch(ge){console.error("Failed to delete survey:",ge),alert("Failed to delete survey. Please try again.")}},yr=async ie=>{try{const ge=i.filter(Oe=>Oe.is_default&&Oe.template_id!==ie);for(const Oe of ge)await xi.update(Oe.template_id,{is_default:!1});await xi.update(ie,{is_default:!0}),l(Oe=>Oe.map(Me=>({...Me,is_default:Me.template_id===ie}))),n({title:e("common.success"),description:e("surveys.templateSetAsDefault")})}catch(ge){console.error("Failed to set default template:",ge),n({title:e("common.error"),description:e("surveys.templateSetDefaultError"),variant:"destructive"})}},Bn=()=>new Promise((ie,ge)=>{if(!navigator.geolocation){ge(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(Oe=>{ie({latitude:Oe.coords.latitude,longitude:Oe.coords.longitude,accuracy:Oe.coords.accuracy})},Oe=>{ge(Oe)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}),wr=async()=>{if(!(!k||!t))try{let ie={latitude:0,longitude:0,accuracy:0};try{ie=await Bn()}catch(ee){console.warn("Could not get location:",ee)}const ge=c[k.template_id]||[],Oe=new Map(ge.map(ee=>[ee.field_id.toString(),ee.field_label])),Me={};for(const[ee,Q]of Object.entries(E)){const D=Oe.get(ee)||ee;Me[D]=Q}const St=Me["Customer Name"]||Me["Client Name"]||Me.client_name||Me.customer_name||"Anonymous",rt=Me["Customer Company"]||Me["Client Company"]||Me.Company||Me.company||Me.client_company||null,Ht=Me["Contact Number"]||Me["Contact Email"]||Me.Contact||Me.contact||Me.phone||null,Qt=Me["Contact Email"]||Me.Email||Me.email||Me.client_email||null,Ba=Me.Address||Me.address||Me.client_address||null,Xn=Me["Additional Notes"]||Me.Notes||Me.notes||null,Gi={},Sc=Object.keys(O);for(const[ee,Q]of Object.entries(E))if(!Sc.includes(ee)){const D=Oe.get(ee)||ee;Gi[D]=Q}const jc={template_id:k.template_id,survey_name:`${ke(k,"template_name")} - ${new Date().toLocaleDateString()}`,survey_description:ke(k,"template_description")||null,client_name:St,client_name_ar:null,client_contact:Ht,client_email:Qt,client_address:Ba,client_company:rt,client_company_ar:null,survey_responses:Gi,location_latitude:ie.latitude,location_longitude:ie.longitude,location_accuracy:ie.accuracy,location_address:Ba,status:"collected",created_by:t.id,lead_id:null,converted_to_lead_at:null,device_info:navigator.userAgent,completion_time_seconds:null,notes:Xn,notes_ar:null,updated_by:null,reviewed_by:null,reviewed_at:null};console.log("[Survey] Creating survey...");const W=await wd.create(jc);if(console.log("[Survey] Survey created with ID:",W.survey_id),Object.keys(O).length>0){console.log("[Survey] Uploading images...",Object.keys(O));const ee={...Gi};for(const[V,J]of Object.entries(O))try{const de=J.name.split(".").pop(),Ae=`${V.replace(/[^a-zA-Z0-9]/g,"_")}_${Date.now()}.${de}`,be=`surveys/survey_${W.survey_id}/${Ae}`;console.log(`[Survey] Uploading image for field "${V}" to path: ${be}`);const{data:Se,error:Ne}=await ve.storage.from("survey-uploads").upload(be,J,{cacheControl:"3600",upsert:!0,contentType:J.type});if(Ne)throw console.error(`[Survey] Failed to upload image for field ${V}:`,Ne),Ne;console.log(`[Survey] Upload successful for field "${V}":`,Se);const{data:{publicUrl:Be}}=ve.storage.from("survey-uploads").getPublicUrl(be);console.log(`[Survey] Public URL for field "${V}":`,Be);const Je=Oe.get(V)||V;ee[Je]={bucket:"survey-uploads",path:be,url:Be}}catch(de){throw console.error(`[Survey] Error processing image for field ${V}:`,de),de}console.log("[Survey] Updating survey with image references...");const{data:Q,error:D}=await ve.from("surveys").update({survey_responses:ee}).eq("survey_id",W.survey_id).select().single();if(D)throw console.error("[Survey] Failed to update survey with images:",D),D;console.log("[Survey] Survey updated successfully with images"),W.survey_responses=ee}s([W,...a]),j(null),N({}),P({}),S(!1),console.log("[Survey] Survey creation complete:",W)}catch(ie){console.error("[Survey] Failed to create survey:",ie),alert(`Failed to create survey: ${ie.message}`)}},Bs=ie=>{const ge=ie.field_id.toString(),Oe=E[ge]||"";switch(ie.field_type.toLowerCase()){case"text":return o.jsx(qe,{id:ge,value:Oe,onChange:St=>N(rt=>({...rt,[ge]:St.target.value})),placeholder:ke(ie,"help_text")||ie.field_label,required:ie.is_required});case"textarea":return o.jsx(sa,{id:ge,value:Oe,onChange:St=>N(rt=>({...rt,[ge]:St.target.value})),placeholder:ke(ie,"help_text")||ie.field_label,required:ie.is_required,rows:3});case"number":return o.jsx(qe,{id:ge,type:"number",value:Oe,onChange:St=>N(rt=>({...rt,[ge]:St.target.value})),placeholder:ke(ie,"help_text")||ie.field_label,required:ie.is_required});case"email":return o.jsx(qe,{id:ge,type:"email",value:Oe,onChange:St=>N(rt=>({...rt,[ge]:St.target.value})),placeholder:ke(ie,"help_text")||ie.field_label,required:ie.is_required});case"date":return o.jsx(qe,{id:ge,type:"date",value:Oe,onChange:St=>N(rt=>({...rt,[ge]:St.target.value})),required:ie.is_required});case"select":if(ie.field_options&&typeof ie.field_options=="object"&&!Array.isArray(ie.field_options)&&"options"in ie.field_options&&Array.isArray(ie.field_options.options)){const St=ie.field_options.options.filter(rt=>typeof rt=="string");return o.jsxs(wt,{value:Oe,onValueChange:rt=>N(Ht=>({...Ht,[ge]:rt})),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:ke(ie,"help_text")||`${e("common.select")} ${ke(ie,"field_label")}`})}),o.jsx(xt,{children:St.map((rt,Ht)=>o.jsx(Ce,{value:rt,children:rt},Ht))})]})}return o.jsx(qe,{id:ge,value:Oe,onChange:St=>N(rt=>({...rt,[ge]:St.target.value})),placeholder:ke(ie,"help_text")||ie.field_label,required:ie.is_required});case"radio":if(ie.field_options&&typeof ie.field_options=="object"&&!Array.isArray(ie.field_options)&&"options"in ie.field_options&&Array.isArray(ie.field_options.options)){const St=ie.field_options.options.filter(rt=>typeof rt=="string");return o.jsx("div",{className:"space-y-2",children:St.map((rt,Ht)=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:ge,value:rt,checked:Oe===rt,onChange:Qt=>N(Ba=>({...Ba,[ge]:Qt.target.value}))}),o.jsx("span",{className:"text-sm",children:rt})]},Ht))})}return o.jsx(qe,{id:ge,value:Oe,onChange:St=>N(rt=>({...rt,[ge]:St.target.value})),placeholder:ke(ie,"help_text")||ie.field_label,required:ie.is_required});case"multiselect":case"checkbox":if(ie.field_options&&typeof ie.field_options=="object"&&!Array.isArray(ie.field_options)&&"options"in ie.field_options&&Array.isArray(ie.field_options.options)){const St=ie.field_options.options.filter(rt=>typeof rt=="string");return o.jsx("div",{className:"space-y-2",children:St.map((rt,Ht)=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:Array.isArray(Oe)?Oe.includes(rt):!1,onChange:Qt=>{const Ba=Array.isArray(Oe)?Oe:[];Qt.target.checked?N(Xn=>({...Xn,[ge]:[...Ba,rt]})):N(Xn=>({...Xn,[ge]:Ba.filter(Gi=>Gi!==rt)}))}}),o.jsx("span",{className:"text-sm",children:rt})]},Ht))})}return o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:!!Oe,onChange:St=>N(rt=>({...rt,[ge]:St.target.checked}))}),o.jsx("span",{className:"text-sm",children:ke(ie,"field_label")})]});case"image":const Me=E[ge];return o.jsxs("div",{className:"space-y-2",children:[o.jsx(qe,{id:ge,type:"file",accept:"image/*",onChange:St=>{var Ht;const rt=(Ht=St.target.files)==null?void 0:Ht[0];rt&&(P(Qt=>({...Qt,[ge]:rt})),N(Qt=>({...Qt,[ge]:{preview:URL.createObjectURL(rt),filename:rt.name}})))},required:ie.is_required}),(Me==null?void 0:Me.preview)&&o.jsxs("div",{className:"relative w-full",children:[o.jsx("img",{src:Me.preview,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border"}),o.jsx(oe,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>{P(St=>{const rt={...St};return delete rt[ge],rt}),N(St=>{const rt={...St};return delete rt[ge],rt})},children:o.jsx(Sr,{className:"h-4 w-4"})})]})]});default:return o.jsx(qe,{id:ge,value:Oe,onChange:St=>N(rt=>({...rt,[ge]:St.target.value})),placeholder:ke(ie,"help_text")||ie.field_label,required:ie.is_required})}},Yn=()=>{const ie=[{key:"survey",header:e("surveys.surveyName"),render:Me=>o.jsx(uf,{title:Me.survey_name||`${e("surveys.survey")} #${Me.survey_id}`,subtitle:ke(Me,"client_name")})},{key:"status",header:e("surveys.status"),render:Me=>o.jsx(xO,{variant:"outline",children:F(Me.status)})},{key:"company",header:e("surveys.clientCompany"),hideOnMobile:!0,render:Me=>Me.client_company||e("surveys.noCompany")},{key:"creator",header:e("surveys.createdBy"),hideOnMobile:!0,render:Me=>o.jsx(Dm,{name:he(Me.created_by),fallback:e("surveys.unknownCreator")})},{key:"created",header:e("surveys.createdDate"),hideOnMobile:!0,render:Me=>o.jsx(cf,{date:Me.created_at,fallback:e("leads.notSet")})}],ge=[{label:e("common.view"),icon:o.jsx(ai,{className:"h-4 w-4"}),onClick:Me=>m(Me)},{label:e("buttons.delete"),icon:o.jsx(Sr,{className:"h-4 w-4"}),onClick:Me=>Z(Me.survey_id),variant:"destructive",show:()=>(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager"}],Oe=[{label:e("buttons.delete"),icon:o.jsx(Sr,{className:"h-4 w-4"}),onClick:async Me=>{if(Me.length===0)return;if(window.confirm(e("surveys.confirmBulkDeleteDesc",{count:Me.length})))try{const rt=Me.map(Ht=>wd.delete(Ht.survey_id));await Promise.all(rt),s(Ht=>Ht.filter(Qt=>!Me.find(Ba=>Ba.survey_id===Qt.survey_id))),De(new Set),n({title:e("common.success"),description:e("surveys.bulkDeleteSuccess",{count:Me.length})})}catch(rt){console.error("Failed to bulk delete surveys:",rt),n({title:e("common.error"),description:e("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}];return o.jsx(lf,{data:yt,columns:ie,actions:ge,bulkActions:Oe,keyExtractor:Me=>Me.survey_id,onRowClick:Me=>m(Me),enableBulkSelect:(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager",emptyState:o.jsx(sl,{icon:o.jsx(Ks,{className:"h-12 w-12 text-muted-foreground/50"}),title:e("surveys.noSurveysFound"),description:e(h?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})})},ua=()=>{const ie=[{key:"template",header:e("surveys.templateName"),render:Oe=>o.jsx(uf,{title:ke(Oe,"template_name"),subtitle:ke(Oe,"template_description")})},{key:"category",header:e("surveys.category"),render:Oe=>Oe.category||e("surveys.noCategory")},{key:"status",header:e("surveys.status"),render:Oe=>o.jsxs("div",{className:"flex items-center gap-2",children:[Oe.is_active?o.jsx(dt,{variant:"default",className:"bg-green-500",children:e("surveys.active")}):o.jsx(dt,{variant:"secondary",children:e("surveys.inactive")}),Oe.is_default&&o.jsx(dt,{variant:"default",children:e("surveys.default")})]})},{key:"created",header:e("surveys.createdDate"),hideOnMobile:!0,render:Oe=>o.jsx(cf,{date:Oe.created_at,fallback:e("leads.notSet")})}],ge=[{label:e("common.view"),icon:o.jsx(ai,{className:"h-4 w-4"}),onClick:Oe=>pe(Oe)},{label:e("surveys.setAsDefault"),icon:o.jsx(su,{className:"h-4 w-4"}),onClick:Oe=>yr(Oe.template_id),show:Oe=>((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&!Oe.is_default},{label:e("buttons.edit"),icon:o.jsx(IN,{className:"h-4 w-4"}),onClick:Oe=>Ee(Oe),show:()=>(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager"},{label:e("buttons.delete"),icon:o.jsx(Sr,{className:"h-4 w-4"}),onClick:Oe=>R(Oe.template_id),variant:"destructive",show:()=>(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager"}];return o.jsx(lf,{data:ne,columns:ie,actions:ge,keyExtractor:Oe=>Oe.template_id,onRowClick:Oe=>pe(Oe),emptyState:o.jsx(sl,{icon:o.jsx(Ks,{className:"h-12 w-12 text-muted-foreground/50"}),title:e("surveys.noTemplatesFound"),description:e(h?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})})};return d?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:`h-full flex flex-col space-y-6 bg-background p-4 rounded-md ${r?"rtl":"ltr"}`,children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:e("surveys.title")}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("surveys.subtitle")})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ks,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-sm font-medium",children:[a.length," ",e("surveys.totalSurveys")]})]})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(vi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(qe,{placeholder:e("surveys.searchPlaceholder"),value:h,onChange:ie=>p(ie.target.value),className:"pl-10"})]}),o.jsxs(hl,{defaultValue:"surveys",className:"w-full flex-1 flex flex-col",children:[o.jsxs(Do,{className:"grid w-full grid-cols-2",children:[o.jsxs(Kr,{value:"surveys",children:[e("surveys.surveys")," (",yt.length,")"]}),o.jsxs(Kr,{value:"templates",children:[e("surveys.templates")," (",ne.length,")"]})]}),o.jsxs(_n,{value:"surveys",className:"space-y-4 flex-1 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(oe,{variant:C==="card"?"default":"ghost",size:"sm",onClick:()=>X("card"),className:"h-8 w-8 p-0",children:o.jsx(Ks,{className:"h-4 w-4"})}),o.jsx(oe,{variant:C==="list"?"default":"ghost",size:"sm",onClick:()=>X("list"),className:"h-8 w-8 p-0",children:o.jsx(Nm,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(bn,{open:_,onOpenChange:S,children:[o.jsx(Th,{asChild:!0,children:o.jsxs(oe,{size:"lg",className:"w-full shadow-lg hover:shadow-xl transition-all",children:[o.jsx(ur,{className:"h-5 w-5 mr-2"}),e("surveys.newSurvey")]})}),o.jsxs(on,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsx(ln,{children:o.jsx(cn,{children:e("surveys.createNewSurvey")})}),o.jsx("div",{className:"space-y-6 py-4",children:k?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium",children:ke(k,"template_name")}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e("surveys.fillSurveyDetails")})]}),o.jsx(oe,{variant:"outline",size:"sm",onClick:()=>{j(null),N({})},children:e("surveys.changeTemplate")})]}),o.jsx("div",{className:"space-y-4",children:(Sl=c[k.template_id])==null?void 0:Sl.map(ie=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ge,{htmlFor:ie.field_label,className:"text-sm font-medium",children:[ke(ie,"field_label"),ie.is_required&&o.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),Bs(ie),ke(ie,"help_text")&&o.jsx("p",{className:"text-xs text-muted-foreground",children:ke(ie,"help_text")})]},ie.field_id))}),o.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",children:[o.jsx(Em,{className:"h-4 w-4"}),o.jsx("span",{children:e("surveys.locationWillBeCaptured")})]})})]}):o.jsxs("div",{children:[o.jsx(Ge,{className:"text-base font-medium mb-4 block",children:e("surveys.selectTemplate")}),o.jsx("div",{className:"w-full max-w-full grid gap-4 grid-cols-1 md:grid-cols-2",children:i.filter(ie=>ie.is_active).map(ie=>o.jsx(nt,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(k==null?void 0:k.template_id)===ie.template_id?"ring-2 ring-primary":""}`,onClick:()=>Ke(ie),children:o.jsx(ct,{className:"p-4",children:o.jsx("div",{className:"flex items-start gap-3",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-medium text-sm truncate",children:ke(ie,"template_name")}),ie.category&&o.jsx(dt,{variant:"outline",className:"mt-1 text-xs",children:ie.category}),ke(ie,"template_description")&&o.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:ke(ie,"template_description")})]})})})},ie.template_id))})]})}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2",children:[o.jsx(oe,{variant:"outline",onClick:()=>{S(!1),j(null),N({})},className:"w-full sm:w-auto",children:e("buttons.cancel")}),k&&o.jsx(oe,{onClick:wr,disabled:!k,className:"w-full sm:w-auto",children:e("surveys.submitSurvey")})]})]})]}),o.jsxs(bn,{open:Ie,onOpenChange:Ue,children:[o.jsx(Th,{asChild:!0,children:o.jsxs(oe,{variant:"outline",size:"lg",className:"w-full shadow-lg hover:shadow-xl transition-all",children:[o.jsx(yA,{className:"h-5 w-5 mr-2"}),"Bulk Import"]})}),o.jsx(on,{className:"w-[95vw] sm:w-full sm:max-w-4xl max-h-[85vh] overflow-y-auto",children:o.jsx(B2e,{templates:i,templateFields:c,onImportComplete:ce,onClose:()=>Ue(!1)})})]})]})]}),o.jsx(Ea,{className:"flex-1",children:yt.length===0?o.jsx(nt,{children:o.jsxs(ct,{className:"text-center py-12",children:[o.jsx(Ks,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("surveys.noSurveysFound")}),o.jsx("p",{className:"text-muted-foreground",children:e(h?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})]})}):C==="card"?o.jsx("div",{className:`w-full max-w-full grid gap-4 md:grid-cols-2 lg:grid-cols-3 ${r?"rtl":""}`,children:yt.map(ie=>o.jsxs(nt,{className:"w-full overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer",children:[o.jsx(Ut,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base truncate",children:ie.survey_name||`${e("surveys.survey")} #${ie.survey_id}`}),o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:ke(ie,"client_name")})]}),F(ie.status)]})}),o.jsxs(ct,{className:"pt-0 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(yn,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:ie.client_company||e("surveys.noCompany")})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Em,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:ie.location_address||`${ie.location_latitude.toFixed(4)}, ${ie.location_longitude.toFixed(4)}`})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(os,{className:"h-4 w-4"}),o.jsxs("span",{children:[e("surveys.createdBy"),": ",he(ie.created_by)]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(yd,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:new Date(ie.created_at).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(bn,{children:[o.jsx(Th,{asChild:!0,children:o.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>m(ie),children:[o.jsx(ai,{className:"h-4 w-4 mr-1"}),e("common.view")]})}),o.jsxs(on,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsx(ln,{children:o.jsx(cn,{children:ie.survey_name||`${e("surveys.survey")} #${ie.survey_id}`})}),g&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.clientName")}),o.jsx("p",{className:"text-sm",children:ke(g,"client_name")})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.clientCompany")}),o.jsx("p",{className:"text-sm",children:g.client_company||e("surveys.noCompany")})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.contact")}),o.jsx("p",{className:"text-sm",children:g.client_contact||e("surveys.noContact")})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.email")}),o.jsx("p",{className:"text-sm",children:g.client_email||e("surveys.noEmail")})]})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.location")}),o.jsx("p",{className:"text-sm",children:o.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${g.location_latitude},${g.location_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:["https://www.google.com/maps/place/",g.location_address||`${g.location_latitude.toFixed(6)}, ${g.location_longitude.toFixed(6)}`]})})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.responses")}),o.jsx("div",{className:"mt-2 space-y-2",children:g.survey_responses&&Object.keys(g.survey_responses).length>0?Object.entries(g.survey_responses).map(([ge,Oe])=>{const Me=typeof Oe=="object"&&Oe!==null&&"bucket"in Oe&&"path"in Oe&&"url"in Oe;return o.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-muted/30 rounded-lg",children:[o.jsxs("div",{className:"font-medium text-sm text-primary",children:[ge,":"]}),Me?o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:Oe.url,alt:ge,className:"w-full max-w-md h-auto rounded-lg border object-cover"})}):o.jsx("div",{className:"text-sm text-muted-foreground break-words",children:Array.isArray(Oe)?Oe.join(", "):typeof Oe=="object"?JSON.stringify(Oe):String(Oe||"N/A")})]},ge)}):o.jsx("div",{className:"text-sm text-muted-foreground italic p-3 bg-muted/30 rounded-lg",children:"No responses recorded"})})]})]})]})]}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsxs(di,{children:[o.jsx(of,{asChild:!0,children:o.jsx(oe,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:ge=>{ge.stopPropagation(),Z(ie.survey_id)},children:o.jsx(Sr,{className:"h-4 w-4"})})}),o.jsxs(As,{onClick:ge=>ge.stopPropagation(),children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:e("surveys.deleteSurvey")}),o.jsx(Rs,{children:e("surveys.deleteSurveyConfirmation",{name:ie.survey_name||`${e("surveys.survey")} #${ie.survey_id}`})})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:e("buttons.cancel")}),o.jsx(Is,{onClick:ge=>{ge.stopPropagation(),lr(ie.survey_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]})]})]})]},ie.survey_id))}):Yn()})]}),o.jsxs(_n,{value:"templates",className:"space-y-4 flex-1 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(oe,{variant:B==="card"?"default":"ghost",size:"sm",onClick:()=>q("card"),className:"h-8 w-8 p-0",children:o.jsx(Ks,{className:"h-4 w-4"})}),o.jsx(oe,{variant:B==="list"?"default":"ghost",size:"sm",onClick:()=>q("list"),className:"h-8 w-8 p-0",children:o.jsx(Nm,{className:"h-4 w-4"})})]}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsxs(oe,{onClick:()=>{ue(),z(!0)},size:"lg",className:"shadow-lg hover:shadow-xl transition-all",children:[o.jsx(ur,{className:"h-5 w-5 mr-2"}),e("surveys.createTemplate")]})]}),o.jsx(Ea,{className:"flex-1",children:ne.length===0?o.jsx(nt,{children:o.jsxs(ct,{className:"text-center py-12",children:[o.jsx(Ks,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("surveys.noTemplatesFound")}),o.jsx("p",{className:"text-muted-foreground",children:e(h?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})]})}):B==="card"?o.jsx("div",{className:`w-full max-w-full grid gap-4 md:grid-cols-2 lg:grid-cols-3 ${r?"rtl":""}`,children:ne.map(ie=>o.jsxs(nt,{className:"w-full overflow-hidden hover:shadow-lg transition-all duration-200",children:[o.jsx(Ut,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base truncate",children:ke(ie,"template_name")}),ie.category&&o.jsx(dt,{variant:"outline",className:"mt-1 text-xs",children:ie.category})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[ie.is_default&&o.jsx(dt,{variant:"default",className:"text-xs",children:e("surveys.default")}),ie.is_active?o.jsx(su,{className:"h-4 w-4 text-green-500"}):o.jsx(Noe,{className:"h-4 w-4 text-red-500"})]})]})}),o.jsxs(ct,{className:"pt-0 space-y-3",children:[ke(ie,"template_description")&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:ke(ie,"template_description")}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(yd,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:new Date(ie.created_at).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(bn,{children:[o.jsx(Th,{asChild:!0,children:o.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>pe(ie),children:[o.jsx(ai,{className:"h-4 w-4 mr-1"}),e("common.view")]})}),o.jsxs(on,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsx(ln,{children:o.jsx(cn,{children:ke(v||ie,"template_name")})}),v&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.category")}),o.jsx("p",{className:"text-sm",children:v.category||e("surveys.noCategory")})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.status")}),o.jsxs("div",{className:"flex items-center gap-2",children:[v.is_active?o.jsx(dt,{variant:"default",className:"bg-green-500",children:e("surveys.active")}):o.jsx(dt,{variant:"secondary",children:e("surveys.inactive")}),v.is_default&&o.jsx(dt,{variant:"default",children:e("surveys.default")})]})]})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.description")}),o.jsx("p",{className:"text-sm mt-1",children:ke(v,"template_description")||e("surveys.noDescription")})]}),o.jsxs("div",{children:[o.jsxs(Ge,{className:"text-sm font-medium",children:[e("surveys.fields")," (",w.length,")"]}),o.jsx("div",{className:"mt-2 space-y-2",children:w.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:e("surveys.noFields")}):w.sort((ge,Oe)=>ge.field_order-Oe.field_order).map(ge=>o.jsx("div",{className:"border rounded-lg p-3 bg-muted/30",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(dt,{variant:"outline",className:"text-xs",children:ge.field_type}),o.jsx("span",{className:"text-sm font-medium",children:ke(ge,"field_label")}),ge.is_required&&o.jsx("span",{className:"text-red-500 text-sm",children:"*"})]}),ke(ge,"help_text")&&o.jsx("p",{className:"text-xs text-muted-foreground",children:ke(ge,"help_text")})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["#",ge.field_order]})]})},ge.field_id))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.created")}),o.jsx("p",{children:new Date(v.created_at).toLocaleString()})]}),o.jsxs("div",{children:[o.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.updated")}),o.jsx("p",{children:new Date(v.updated_at).toLocaleString()})]})]})]})]})]}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsxs(o.Fragment,{children:[!ie.is_default&&o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-green-50",onClick:ge=>{ge.stopPropagation(),yr(ie.template_id)},title:e("surveys.setAsDefault"),children:o.jsx(su,{className:"h-4 w-4 text-green-500"})}),o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-50",onClick:ge=>{ge.stopPropagation(),Ee(ie)},children:o.jsx(IN,{className:"h-4 w-4"})}),o.jsxs(di,{children:[o.jsx(of,{asChild:!0,children:o.jsx(oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:ge=>{ge.stopPropagation(),R(ie.template_id)},children:o.jsx(Sr,{className:"h-4 w-4"})})}),o.jsxs(As,{onClick:ge=>ge.stopPropagation(),children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:e("surveys.deleteTemplate")}),o.jsx(Rs,{children:e("surveys.deleteTemplateConfirmation",{name:ke(ie,"template_name")})})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:e("buttons.cancel")}),o.jsx(Is,{onClick:ge=>{ge.stopPropagation(),_t(ie.template_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]})]})]})]},ie.template_id))}):ua()})]})]}),o.jsx(bn,{open:H,onOpenChange:z,children:o.jsxs(on,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsxs(ln,{children:[o.jsx(cn,{children:e(M?"surveys.editTemplateTitle":"surveys.createTemplateTitle")}),o.jsx(Ma,{children:e("surveys.createTemplateDesc")})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ge,{htmlFor:"template_name",children:[e("surveys.templateName")," *"]}),o.jsx(qe,{id:"template_name",value:re.template_name,onChange:ie=>se(ge=>({...ge,template_name:ie.target.value})),placeholder:e("surveys.templateName"),className:K.template_name?"border-red-500":""}),K.template_name&&o.jsx("p",{className:"text-sm text-red-500",children:K.template_name})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"category",children:e("surveys.category")}),o.jsxs(wt,{value:re.category,onValueChange:ie=>se(ge=>({...ge,category:ie})),children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:e("surveys.selectCategory")})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"customer_satisfaction",children:e("surveys.customerSatisfaction")}),o.jsx(Ce,{value:"product_feedback",children:e("surveys.productFeedback")}),o.jsx(Ce,{value:"service_quality",children:e("surveys.serviceQuality")}),o.jsx(Ce,{value:"general",children:e("surveys.general")})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"template_description",children:e("surveys.description")}),o.jsx(sa,{id:"template_description",value:re.template_description,onChange:ie=>se(ge=>({...ge,template_description:ie.target.value})),placeholder:e("surveys.description"),rows:3})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"is_active",checked:re.is_active,onChange:ie=>se(ge=>({...ge,is_active:ie.target.checked})),className:"rounded"}),o.jsx(Ge,{htmlFor:"is_active",children:e("surveys.isActive")})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h3",{className:"text-lg font-semibold",children:e("surveys.fields")})}),K.fields&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-600",children:K.fields})}),o.jsx("div",{className:"space-y-3",children:le.map((ie,ge)=>{var Oe,Me,St;return o.jsx(nt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[o.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>_e(ge,Math.max(0,ge-1)),disabled:ge===0,children:o.jsx(woe,{className:"h-4 w-4"})}),o.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>_e(ge,Math.min(le.length-1,ge+1)),disabled:ge===le.length-1,children:o.jsx(xoe,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ge,{children:[e("surveys.fieldLabel")," *"]}),o.jsx(qe,{value:ie.field_label,onChange:rt=>ye(ge,{field_label:rt.target.value}),placeholder:e("surveys.fieldLabel"),className:K[`field_${ge}`]?"border-red-500":""}),K[`field_${ge}`]&&o.jsx("p",{className:"text-sm text-red-500",children:K[`field_${ge}`]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ge,{children:[e("surveys.fieldType")," *"]}),o.jsxs(wt,{value:ie.field_type,onValueChange:rt=>ye(ge,{field_type:rt}),children:[o.jsx(vt,{children:o.jsx(bt,{})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"text",children:e("surveys.text")}),o.jsx(Ce,{value:"textarea",children:e("surveys.textarea")}),o.jsx(Ce,{value:"email",children:e("surveys.email")}),o.jsx(Ce,{value:"date",children:e("surveys.date")}),o.jsx(Ce,{value:"select",children:e("surveys.select")}),o.jsx(Ce,{value:"multiselect",children:e("surveys.multiselect")}),o.jsx(Ce,{value:"radio",children:e("surveys.radio")}),o.jsx(Ce,{value:"checkbox",children:e("surveys.checkbox")}),o.jsx(Ce,{value:"image",children:e("surveys.image")})]})]})]})]}),(ie.field_type==="select"||ie.field_type==="multiselect"||ie.field_type==="radio")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{children:e("surveys.options")}),o.jsx(sa,{defaultValue:((Me=(Oe=ie.field_options)==null?void 0:Oe.options)==null?void 0:Me.join(`
`))||"",onBlur:rt=>{const Ht=rt.target.value.split(/[\n\s]+/).filter(Qt=>Qt.trim()).map(Qt=>Qt.trim());ye(ge,{field_options:{options:Ht,allow_multiple:ie.field_type==="multiselect"}})},placeholder:"Enter options separated by spaces or new lines (e.g., POS CRM ERP)",rows:3}),((St=ie.field_options)==null?void 0:St.options)&&ie.field_options.options.length>0&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[ie.field_options.options.length," option(s): ",ie.field_options.options.join(", ")]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:`required-${ge}`,checked:ie.is_required,onChange:rt=>ye(ge,{is_required:rt.target.checked}),className:"rounded"}),o.jsx(Ge,{htmlFor:`required-${ge}`,children:e("surveys.isRequired")})]})]}),o.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>Fe(ge),className:"text-red-500 hover:text-red-700",children:o.jsx(Sr,{className:"h-4 w-4"})})]})},ge)})}),o.jsx("div",{className:"flex justify-center pt-4",children:o.jsxs(oe,{onClick:xe,size:"sm",variant:"outline",children:[o.jsx(ur,{className:"h-4 w-4 mr-2"}),e("surveys.addField")]})})]})]}),o.jsxs(Ia,{children:[o.jsx(oe,{variant:"outline",onClick:()=>z(!1),disabled:A,children:e("buttons.cancel")}),o.jsx(oe,{onClick:Re,disabled:!re.template_name.trim()||A,children:e(A?"buttons.saving":M?"surveys.updateTemplate":"surveys.createTemplate")})]})]})})]})}function V2e(){const{t:e}=qt(),{user:t}=vr(),{isRTL:r}=gi(),n=ca(),[a,s]=x.useState([]),[i,l]=x.useState(!0),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,p]=x.useState(null),[g,m]=x.useState(!1),[v,y]=x.useState("leads"),[w,b]=x.useState(""),[_,S]=x.useState("");if((t==null?void 0:t.role)!=="admin")return o.jsx(vN,{to:"/",replace:!0});x.useEffect(()=>{k()},[]);const k=async()=>{try{l(!0);const T=await ts.getAll();s(T)}catch(T){console.error("Failed to load stages:",T)}finally{l(!1)}},j=T=>a.filter(L=>L.stage_type===T).sort((L,H)=>(L.stager_order_index??0)-(H.stager_order_index??0)),E=async()=>{if(w.trim())try{const T=j(v),L=T.length>0?Math.max(...T.map(z=>z.stager_order_index||0)):-1,H={stage_name:w.trim(),stage_name_ar:_.trim()||null,stage_type:v,stager_order_index:L+1,color:"border-l-4 border-gray-400",color_var:"--gray-400"};await ts.create(H),await k(),b(""),S(""),m(!1)}catch(T){console.error("Failed to create stage:",T)}},N=async(T,L)=>{try{await ts.update(T.stage_id,L),await k(),u(null),f("")}catch(H){console.error("Failed to update stage:",H)}},O=async T=>{try{await ts.delete(T),await k(),p(null)}catch(L){console.error("Failed to delete stage:",L)}},P=T=>{const L=j(T);return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:e(`settings.${T}`)}),o.jsxs(oe,{size:n?"default":"sm",onClick:()=>{y(T),m(!0)},className:"w-full sm:w-auto",children:[o.jsx(ur,{className:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),e("settings.addStage")]})]}),L.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("settings.noStages")}):o.jsx("div",{className:"space-y-2",children:L.map((H,z)=>o.jsx(nt,{className:"p-3 md:p-4",children:o.jsxs("div",{className:je("flex gap-2 md:gap-3",n?"flex-col":"items-center"),children:[!n&&o.jsx(m_,{className:"h-5 w-5 text-muted-foreground cursor-move flex-shrink-0"}),(c==null?void 0:c.stage_id)===H.stage_id?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(qe,{value:c.stage_name,onChange:M=>u({...c,stage_name:M.target.value}),placeholder:e("settings.englishName"),autoFocus:!0,className:"text-left rtl:text-right"}),o.jsx(qe,{value:d,onChange:M=>f(M.target.value),placeholder:e("settings.arabicName"),dir:"rtl",className:"text-right"})]}),o.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0",children:[o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>N(H,{stage_name:c.stage_name,stage_name_ar:d||null}),className:"flex-1 sm:flex-initial",children:o.jsx(Co,{className:"h-4 w-4"})}),o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>{u(null),f("")},className:"flex-1 sm:flex-initial",children:o.jsx(Ii,{className:"h-4 w-4"})})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:ke(H,"stage_name")}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("settings.order"),": ",H.stager_order_index]})]}),o.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0",children:[o.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>{u(H),f(H.stage_name_ar||"")},className:"flex-1 sm:flex-initial",children:o.jsx(Eo,{className:"h-4 w-4"})}),o.jsx(oe,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive flex-1 sm:flex-initial",onClick:()=>p(H.stage_id),children:o.jsx(Sr,{className:"h-4 w-4"})})]})]})]})},H.stage_id))})]})};return i?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-4 md:space-y-6 bg-background p-4 rounded-md max-h-full overflow-y-auto",dir:r?"rtl":"ltr",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:e("settings.title")}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:e("settings.description")})]}),o.jsxs(hl,{defaultValue:"stages",className:"space-y-4",children:[o.jsx(Do,{className:"w-full sm:w-auto",children:o.jsx(Kr,{value:"stages",className:"flex-1 sm:flex-initial",children:e("settings.stageManagement")})}),o.jsx(_n,{value:"stages",className:"space-y-4 md:space-y-6",children:o.jsxs("div",{className:"grid gap-4 md:gap-6",children:[o.jsxs(nt,{children:[o.jsx(Ut,{className:"pb-3 md:pb-6",children:o.jsx(tr,{className:"text-lg md:text-xl",children:e("settings.leads")})}),o.jsx(ct,{className:"px-3 md:px-6",children:P("leads")})]}),o.jsxs(nt,{children:[o.jsx(Ut,{className:"pb-3 md:pb-6",children:o.jsx(tr,{className:"text-lg md:text-xl",children:e("settings.projects")})}),o.jsx(ct,{className:"px-3 md:px-6",children:P("projects")})]}),o.jsxs(nt,{children:[o.jsx(Ut,{className:"pb-3 md:pb-6",children:o.jsx(tr,{className:"text-lg md:text-xl",children:e("settings.tasks")})}),o.jsx(ct,{className:"px-3 md:px-6",children:P("tasks")})]}),o.jsxs(nt,{children:[o.jsx(Ut,{className:"pb-3 md:pb-6",children:o.jsx(tr,{className:"text-lg md:text-xl",children:e("settings.tickets")})}),o.jsx(ct,{className:"px-3 md:px-6",children:P("tickets")})]}),o.jsxs(nt,{children:[o.jsx(Ut,{className:"pb-3 md:pb-6",children:o.jsx(tr,{className:"text-lg md:text-xl",children:e("settings.mleads")})}),o.jsx(ct,{className:"px-3 md:px-6",children:P("mleads")})]}),o.jsxs(nt,{children:[o.jsx(Ut,{className:"pb-3 md:pb-6",children:o.jsx(tr,{className:"text-lg md:text-xl",children:e("settings.mprojects")})}),o.jsx(ct,{className:"px-3 md:px-6",children:P("mprojects")})]})]})})]}),o.jsx(bn,{open:g,onOpenChange:m,children:o.jsxs(on,{className:"w-[95vw] sm:max-w-[425px]",children:[o.jsxs(ln,{children:[o.jsx(cn,{children:e("settings.addStage")}),o.jsx(Ma,{children:e("settings.addStageDesc",{type:e(`settings.${v}`)})})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"stage-name",className:"text-left rtl:text-right",children:e("settings.englishName")}),o.jsx(qe,{id:"stage-name",value:w,onChange:T=>b(T.target.value),placeholder:e("settings.stageNamePlaceholder"),className:"text-left rtl:text-right"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ge,{htmlFor:"stage-name-ar",className:"text-left rtl:text-right",children:e("settings.arabicName")}),o.jsx(qe,{id:"stage-name-ar",value:_,onChange:T=>S(T.target.value),placeholder:e("settings.stageNamePlaceholder"),dir:"rtl",className:"text-right"})]})]}),o.jsxs(Ia,{className:"flex-col sm:flex-row gap-2",children:[o.jsx(oe,{variant:"outline",onClick:()=>m(!1),className:"w-full sm:w-auto",children:e("buttons.cancel")}),o.jsx(oe,{onClick:E,disabled:!w.trim(),className:"w-full sm:w-auto",children:e("buttons.create")})]})]})}),o.jsx(di,{open:!!h,onOpenChange:T=>!T&&p(null),children:o.jsxs(As,{children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:e("settings.deleteStage")}),o.jsx(Rs,{children:e("settings.deleteStageConfirmation")})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:e("buttons.cancel")}),o.jsx(Is,{onClick:()=>h&&O(h),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})})]})}const tP=({className:e,...t})=>o.jsx("nav",{role:"navigation","aria-label":"pagination",className:je("mx-auto flex w-full justify-center",e),...t});tP.displayName="Pagination";const rP=x.forwardRef(({className:e,...t},r)=>o.jsx("ul",{ref:r,className:je("flex flex-row items-center gap-1",e),...t}));rP.displayName="PaginationContent";const Vd=x.forwardRef(({className:e,...t},r)=>o.jsx("li",{ref:r,className:je("",e),...t}));Vd.displayName="PaginationItem";const nP=({className:e,isActive:t,size:r="icon",...n})=>o.jsx("a",{"aria-current":t?"page":void 0,className:je(km({variant:t?"outline":"ghost",size:r}),e),...n});nP.displayName="PaginationLink";const aP=({className:e,children:t,...r})=>o.jsx(nP,{"aria-label":"Go to previous page",size:"default",className:je("gap-1 pl-2.5",e),...r,children:o.jsx("span",{children:t||"Previous"})});aP.displayName="PaginationPrevious";const sP=({className:e,children:t,...r})=>o.jsx(nP,{"aria-label":"Go to next page",size:"default",className:je("gap-1 pr-2.5",e),...r,children:o.jsx("span",{children:t||"Next"})});sP.displayName="PaginationNext";var jF=1,z2e=.9,W2e=.8,H2e=.17,Ck=.1,Tk=.999,q2e=.9999,G2e=.99,K2e=/[\\\/_+.#"@\[\(\{&]/,Y2e=/[\\\/_+.#"@\[\(\{&]/g,X2e=/[\s-]/,gG=/[\s-]/g;function xE(e,t,r,n,a,s,i){if(s===t.length)return a===e.length?jF:G2e;var l=`${a},${s}`;if(i[l]!==void 0)return i[l];for(var c=n.charAt(s),u=r.indexOf(c,a),d=0,f,h,p,g;u>=0;)f=xE(e,t,r,n,u+1,s+1,i),f>d&&(u===a?f*=jF:K2e.test(e.charAt(u-1))?(f*=W2e,p=e.slice(a,u-1).match(Y2e),p&&a>0&&(f*=Math.pow(Tk,p.length))):X2e.test(e.charAt(u-1))?(f*=z2e,g=e.slice(a,u-1).match(gG),g&&a>0&&(f*=Math.pow(Tk,g.length))):(f*=H2e,a>0&&(f*=Math.pow(Tk,u-a))),e.charAt(u)!==t.charAt(s)&&(f*=q2e)),(f<Ck&&r.charAt(u-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(u-1)!==n.charAt(s))&&(h=xE(e,t,r,n,u+1,s+2,i),h*Ck>f&&(f=h*Ck)),f>d&&(d=f),u=r.indexOf(c,u+1);return i[l]=d,d}function kF(e){return e.toLowerCase().replace(gG," ")}function J2e(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,xE(e,t,kF(e),kF(t),0,0,{})}var h0='[cmdk-group=""]',Ak='[cmdk-group-items=""]',Q2e='[cmdk-group-heading=""]',vG='[cmdk-item=""]',NF=`${vG}:not([aria-disabled="true"])`,yE="cmdk-item-select",uh="data-value",Z2e=(e,t,r)=>J2e(e,t,r),xG=x.createContext(void 0),Ex=()=>x.useContext(xG),yG=x.createContext(void 0),iP=()=>x.useContext(yG),wG=x.createContext(void 0),bG=x.forwardRef((e,t)=>{let r=dh(()=>{var C,X;return{search:"",value:(X=(C=e.value)!=null?C:e.defaultValue)!=null?X:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=dh(()=>new Set),a=dh(()=>new Map),s=dh(()=>new Map),i=dh(()=>new Set),l=_G(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:p,loop:g,disablePointerSelection:m=!1,vimBindings:v=!0,...y}=e,w=aa(),b=aa(),_=aa(),S=x.useRef(null),k=uNe();pf(()=>{if(d!==void 0){let C=d.trim();r.current.value=C,j.emit()}},[d]),pf(()=>{k(6,L)},[]);let j=x.useMemo(()=>({subscribe:C=>(i.current.add(C),()=>i.current.delete(C)),snapshot:()=>r.current,setState:(C,X,B)=>{var q,re,se,le;if(!Object.is(r.current[C],X)){if(r.current[C]=X,C==="search")T(),O(),k(1,P);else if(C==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ae=document.getElementById(_);ae?ae.focus():(q=document.getElementById(w))==null||q.focus()}if(k(7,()=>{var ae;r.current.selectedItemId=(ae=H())==null?void 0:ae.id,j.emit()}),B||k(5,L),((re=l.current)==null?void 0:re.value)!==void 0){let ae=X??"";(le=(se=l.current).onValueChange)==null||le.call(se,ae);return}}j.emit()}},emit:()=>{i.current.forEach(C=>C())}}),[]),E=x.useMemo(()=>({value:(C,X,B)=>{var q;X!==((q=s.current.get(C))==null?void 0:q.value)&&(s.current.set(C,{value:X,keywords:B}),r.current.filtered.items.set(C,N(X,B)),k(2,()=>{O(),j.emit()}))},item:(C,X)=>(n.current.add(C),X&&(a.current.has(X)?a.current.get(X).add(C):a.current.set(X,new Set([C]))),k(3,()=>{T(),O(),r.current.value||P(),j.emit()}),()=>{s.current.delete(C),n.current.delete(C),r.current.filtered.items.delete(C);let B=H();k(4,()=>{T(),(B==null?void 0:B.getAttribute("id"))===C&&P(),j.emit()})}),group:C=>(a.current.has(C)||a.current.set(C,new Set),()=>{s.current.delete(C),a.current.delete(C)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:w,inputId:_,labelId:b,listInnerRef:S}),[]);function N(C,X){var B,q;let re=(q=(B=l.current)==null?void 0:B.filter)!=null?q:Z2e;return C?re(C,r.current.search,X):0}function O(){if(!r.current.search||l.current.shouldFilter===!1)return;let C=r.current.filtered.items,X=[];r.current.filtered.groups.forEach(q=>{let re=a.current.get(q),se=0;re.forEach(le=>{let ae=C.get(le);se=Math.max(ae,se)}),X.push([q,se])});let B=S.current;z().sort((q,re)=>{var se,le;let ae=q.getAttribute("id"),K=re.getAttribute("id");return((se=C.get(K))!=null?se:0)-((le=C.get(ae))!=null?le:0)}).forEach(q=>{let re=q.closest(Ak);re?re.appendChild(q.parentElement===re?q:q.closest(`${Ak} > *`)):B.appendChild(q.parentElement===B?q:q.closest(`${Ak} > *`))}),X.sort((q,re)=>re[1]-q[1]).forEach(q=>{var re;let se=(re=S.current)==null?void 0:re.querySelector(`${h0}[${uh}="${encodeURIComponent(q[0])}"]`);se==null||se.parentElement.appendChild(se)})}function P(){let C=z().find(B=>B.getAttribute("aria-disabled")!=="true"),X=C==null?void 0:C.getAttribute(uh);j.setState("value",X||void 0)}function T(){var C,X,B,q;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let re=0;for(let se of n.current){let le=(X=(C=s.current.get(se))==null?void 0:C.value)!=null?X:"",ae=(q=(B=s.current.get(se))==null?void 0:B.keywords)!=null?q:[],K=N(le,ae);r.current.filtered.items.set(se,K),K>0&&re++}for(let[se,le]of a.current)for(let ae of le)if(r.current.filtered.items.get(ae)>0){r.current.filtered.groups.add(se);break}r.current.filtered.count=re}function L(){var C,X,B;let q=H();q&&(((C=q.parentElement)==null?void 0:C.firstChild)===q&&((B=(X=q.closest(h0))==null?void 0:X.querySelector(Q2e))==null||B.scrollIntoView({block:"nearest"})),q.scrollIntoView({block:"nearest"}))}function H(){var C;return(C=S.current)==null?void 0:C.querySelector(`${vG}[aria-selected="true"]`)}function z(){var C;return Array.from(((C=S.current)==null?void 0:C.querySelectorAll(NF))||[])}function M(C){let X=z()[C];X&&j.setState("value",X.getAttribute(uh))}function I(C){var X;let B=H(),q=z(),re=q.findIndex(le=>le===B),se=q[re+C];(X=l.current)!=null&&X.loop&&(se=re+C<0?q[q.length-1]:re+C===q.length?q[0]:q[re+C]),se&&j.setState("value",se.getAttribute(uh))}function U(C){let X=H(),B=X==null?void 0:X.closest(h0),q;for(;B&&!q;)B=C>0?lNe(B,h0):cNe(B,h0),q=B==null?void 0:B.querySelector(NF);q?j.setState("value",q.getAttribute(uh)):I(C)}let R=()=>M(z().length-1),Y=C=>{C.preventDefault(),C.metaKey?R():C.altKey?U(1):I(1)},Z=C=>{C.preventDefault(),C.metaKey?M(0):C.altKey?U(-1):I(-1)};return x.createElement(ut.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:C=>{var X;(X=y.onKeyDown)==null||X.call(y,C);let B=C.nativeEvent.isComposing||C.keyCode===229;if(!(C.defaultPrevented||B))switch(C.key){case"n":case"j":{v&&C.ctrlKey&&Y(C);break}case"ArrowDown":{Y(C);break}case"p":case"k":{v&&C.ctrlKey&&Z(C);break}case"ArrowUp":{Z(C);break}case"Home":{C.preventDefault(),M(0);break}case"End":{C.preventDefault(),R();break}case"Enter":{C.preventDefault();let q=H();if(q){let re=new Event(yE);q.dispatchEvent(re)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:fNe},c),sS(e,C=>x.createElement(yG.Provider,{value:j},x.createElement(xG.Provider,{value:E},C))))}),eNe=x.forwardRef((e,t)=>{var r,n;let a=aa(),s=x.useRef(null),i=x.useContext(wG),l=Ex(),c=_G(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;pf(()=>{if(!u)return l.item(a,i==null?void 0:i.id)},[u]);let d=SG(a,s,[e.value,e.children,s],e.keywords),f=iP(),h=Ru(k=>k.value&&k.value===d.current),p=Ru(k=>u||l.filter()===!1?!0:k.search?k.filtered.items.get(a)>0:!0);x.useEffect(()=>{let k=s.current;if(!(!k||e.disabled))return k.addEventListener(yE,g),()=>k.removeEventListener(yE,g)},[p,e.onSelect,e.disabled]);function g(){var k,j;m(),(j=(k=c.current).onSelect)==null||j.call(k,d.current)}function m(){f.setState("value",d.current,!0)}if(!p)return null;let{disabled:v,value:y,onSelect:w,forceMount:b,keywords:_,...S}=e;return x.createElement(ut.div,{ref:nc(s,t),...S,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!h,"data-disabled":!!v,"data-selected":!!h,onPointerMove:v||l.getDisablePointerSelection()?void 0:m,onClick:v?void 0:g},e.children)}),tNe=x.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...s}=e,i=aa(),l=x.useRef(null),c=x.useRef(null),u=aa(),d=Ex(),f=Ru(p=>a||d.filter()===!1?!0:p.search?p.filtered.groups.has(i):!0);pf(()=>d.group(i),[]),SG(i,l,[e.value,e.heading,c]);let h=x.useMemo(()=>({id:i,forceMount:a}),[a]);return x.createElement(ut.div,{ref:nc(l,t),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&x.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),sS(e,p=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},x.createElement(wG.Provider,{value:h},p))))}),rNe=x.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=x.useRef(null),s=Ru(i=>!i.search);return!r&&!s?null:x.createElement(ut.div,{ref:nc(a,t),...n,"cmdk-separator":"",role:"separator"})}),nNe=x.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,s=iP(),i=Ru(u=>u.search),l=Ru(u=>u.selectedItemId),c=Ex();return x.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),x.createElement(ut.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||s.setState("search",u.target.value),r==null||r(u.target.value)}})}),aNe=x.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,s=x.useRef(null),i=x.useRef(null),l=Ru(u=>u.selectedItemId),c=Ex();return x.useEffect(()=>{if(i.current&&s.current){let u=i.current,d=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=u.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),x.createElement(ut.div,{ref:nc(s,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},sS(e,u=>x.createElement("div",{ref:nc(i,c.listInnerRef),"cmdk-list-sizer":""},u)))}),sNe=x.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:s,container:i,...l}=e;return x.createElement(D_,{open:r,onOpenChange:n},x.createElement(R_,{container:i},x.createElement(Ep,{"cmdk-overlay":"",className:a}),x.createElement(Cp,{"aria-label":e.label,"cmdk-dialog":"",className:s},x.createElement(bG,{ref:t,...l}))))}),iNe=x.forwardRef((e,t)=>Ru(r=>r.filtered.count===0)?x.createElement(ut.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),oNe=x.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...s}=e;return x.createElement(ut.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},sS(e,i=>x.createElement("div",{"aria-hidden":!0},i)))}),Ls=Object.assign(bG,{List:aNe,Item:eNe,Input:nNe,Group:tNe,Separator:rNe,Dialog:sNe,Empty:iNe,Loading:oNe});function lNe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function cNe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function _G(e){let t=x.useRef(e);return pf(()=>{t.current=e}),t}var pf=typeof window>"u"?x.useEffect:x.useLayoutEffect;function dh(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function Ru(e){let t=iP(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function SG(e,t,r,n=[]){let a=x.useRef(),s=Ex();return pf(()=>{var i;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());s.value(e,l,c),(i=t.current)==null||i.setAttribute(uh,l),a.current=l}),a}var uNe=()=>{let[e,t]=x.useState(),r=dh(()=>new Map);return pf(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function dNe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function sS({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(dNe(t),{ref:t.ref},r(t.props.children)):r(t)}var fNe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ga=x.forwardRef(({className:e,...t},r)=>o.jsx(Ls,{ref:r,className:je("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));ga.displayName=Ls.displayName;const va=x.forwardRef(({className:e,...t},r)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx(vi,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(Ls.Input,{ref:r,className:je("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));va.displayName=Ls.Input.displayName;const xa=x.forwardRef(({className:e,...t},r)=>o.jsx(Ls.List,{ref:r,className:je("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));xa.displayName=Ls.List.displayName;const ya=x.forwardRef((e,t)=>o.jsx(Ls.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));ya.displayName=Ls.Empty.displayName;const wa=x.forwardRef(({className:e,...t},r)=>o.jsx(Ls.Group,{ref:r,className:je("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));wa.displayName=Ls.Group.displayName;const hNe=x.forwardRef(({className:e,...t},r)=>o.jsx(Ls.Separator,{ref:r,className:je("-mx-1 h-px bg-border",e),...t}));hNe.displayName=Ls.Separator.displayName;const Br=x.forwardRef(({className:e,...t},r)=>o.jsx(Ls.Item,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));Br.displayName=Ls.Item.displayName;var mNe=Array.isArray,$s=mNe,pNe=typeof Hx=="object"&&Hx&&Hx.Object===Object&&Hx,jG=pNe,gNe=jG,vNe=typeof self=="object"&&self&&self.Object===Object&&self,xNe=gNe||vNe||Function("return this")(),bl=xNe,yNe=bl,wNe=yNe.Symbol,Cx=wNe,EF=Cx,kG=Object.prototype,bNe=kG.hasOwnProperty,_Ne=kG.toString,m0=EF?EF.toStringTag:void 0;function SNe(e){var t=bNe.call(e,m0),r=e[m0];try{e[m0]=void 0;var n=!0}catch{}var a=_Ne.call(e);return n&&(t?e[m0]=r:delete e[m0]),a}var jNe=SNe,kNe=Object.prototype,NNe=kNe.toString;function ENe(e){return NNe.call(e)}var CNe=ENe,CF=Cx,TNe=jNe,ANe=CNe,ONe="[object Null]",PNe="[object Undefined]",TF=CF?CF.toStringTag:void 0;function DNe(e){return e==null?e===void 0?PNe:ONe:TF&&TF in Object(e)?TNe(e):ANe(e)}var wc=DNe;function RNe(e){return e!=null&&typeof e=="object"}var bc=RNe,INe=wc,MNe=bc,FNe="[object Symbol]";function LNe(e){return typeof e=="symbol"||MNe(e)&&INe(e)==FNe}var Fp=LNe,$Ne=$s,BNe=Fp,UNe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VNe=/^\w*$/;function zNe(e,t){if($Ne(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||BNe(e)?!0:VNe.test(e)||!UNe.test(e)||t!=null&&e in Object(t)}var oP=zNe;function WNe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Gu=WNe;const Lp=hr(Gu);var HNe=wc,qNe=Gu,GNe="[object AsyncFunction]",KNe="[object Function]",YNe="[object GeneratorFunction]",XNe="[object Proxy]";function JNe(e){if(!qNe(e))return!1;var t=HNe(e);return t==KNe||t==YNe||t==GNe||t==XNe}var lP=JNe;const At=hr(lP);var QNe=bl,ZNe=QNe["__core-js_shared__"],eEe=ZNe,Ok=eEe,AF=function(){var e=/[^.]+$/.exec(Ok&&Ok.keys&&Ok.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function tEe(e){return!!AF&&AF in e}var rEe=tEe,nEe=Function.prototype,aEe=nEe.toString;function sEe(e){if(e!=null){try{return aEe.call(e)}catch{}try{return e+""}catch{}}return""}var NG=sEe,iEe=lP,oEe=rEe,lEe=Gu,cEe=NG,uEe=/[\\^$.*+?()[\]{}|]/g,dEe=/^\[object .+?Constructor\]$/,fEe=Function.prototype,hEe=Object.prototype,mEe=fEe.toString,pEe=hEe.hasOwnProperty,gEe=RegExp("^"+mEe.call(pEe).replace(uEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vEe(e){if(!lEe(e)||oEe(e))return!1;var t=iEe(e)?gEe:dEe;return t.test(cEe(e))}var xEe=vEe;function yEe(e,t){return e==null?void 0:e[t]}var wEe=yEe,bEe=xEe,_Ee=wEe;function SEe(e,t){var r=_Ee(e,t);return bEe(r)?r:void 0}var Mf=SEe,jEe=Mf,kEe=jEe(Object,"create"),iS=kEe,OF=iS;function NEe(){this.__data__=OF?OF(null):{},this.size=0}var EEe=NEe;function CEe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var TEe=CEe,AEe=iS,OEe="__lodash_hash_undefined__",PEe=Object.prototype,DEe=PEe.hasOwnProperty;function REe(e){var t=this.__data__;if(AEe){var r=t[e];return r===OEe?void 0:r}return DEe.call(t,e)?t[e]:void 0}var IEe=REe,MEe=iS,FEe=Object.prototype,LEe=FEe.hasOwnProperty;function $Ee(e){var t=this.__data__;return MEe?t[e]!==void 0:LEe.call(t,e)}var BEe=$Ee,UEe=iS,VEe="__lodash_hash_undefined__";function zEe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=UEe&&t===void 0?VEe:t,this}var WEe=zEe,HEe=EEe,qEe=TEe,GEe=IEe,KEe=BEe,YEe=WEe;function $p(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$p.prototype.clear=HEe;$p.prototype.delete=qEe;$p.prototype.get=GEe;$p.prototype.has=KEe;$p.prototype.set=YEe;var XEe=$p;function JEe(){this.__data__=[],this.size=0}var QEe=JEe;function ZEe(e,t){return e===t||e!==e&&t!==t}var cP=ZEe,eCe=cP;function tCe(e,t){for(var r=e.length;r--;)if(eCe(e[r][0],t))return r;return-1}var oS=tCe,rCe=oS,nCe=Array.prototype,aCe=nCe.splice;function sCe(e){var t=this.__data__,r=rCe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():aCe.call(t,r,1),--this.size,!0}var iCe=sCe,oCe=oS;function lCe(e){var t=this.__data__,r=oCe(t,e);return r<0?void 0:t[r][1]}var cCe=lCe,uCe=oS;function dCe(e){return uCe(this.__data__,e)>-1}var fCe=dCe,hCe=oS;function mCe(e,t){var r=this.__data__,n=hCe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var pCe=mCe,gCe=QEe,vCe=iCe,xCe=cCe,yCe=fCe,wCe=pCe;function Bp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Bp.prototype.clear=gCe;Bp.prototype.delete=vCe;Bp.prototype.get=xCe;Bp.prototype.has=yCe;Bp.prototype.set=wCe;var lS=Bp,bCe=Mf,_Ce=bl,SCe=bCe(_Ce,"Map"),uP=SCe,PF=XEe,jCe=lS,kCe=uP;function NCe(){this.size=0,this.__data__={hash:new PF,map:new(kCe||jCe),string:new PF}}var ECe=NCe;function CCe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var TCe=CCe,ACe=TCe;function OCe(e,t){var r=e.__data__;return ACe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var cS=OCe,PCe=cS;function DCe(e){var t=PCe(this,e).delete(e);return this.size-=t?1:0,t}var RCe=DCe,ICe=cS;function MCe(e){return ICe(this,e).get(e)}var FCe=MCe,LCe=cS;function $Ce(e){return LCe(this,e).has(e)}var BCe=$Ce,UCe=cS;function VCe(e,t){var r=UCe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var zCe=VCe,WCe=ECe,HCe=RCe,qCe=FCe,GCe=BCe,KCe=zCe;function Up(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Up.prototype.clear=WCe;Up.prototype.delete=HCe;Up.prototype.get=qCe;Up.prototype.has=GCe;Up.prototype.set=KCe;var dP=Up,EG=dP,YCe="Expected a function";function fP(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(YCe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=e.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(fP.Cache||EG),r}fP.Cache=EG;var CG=fP;const XCe=hr(CG);var JCe=CG,QCe=500;function ZCe(e){var t=JCe(e,function(n){return r.size===QCe&&r.clear(),n}),r=t.cache;return t}var eTe=ZCe,tTe=eTe,rTe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nTe=/\\(\\)?/g,aTe=tTe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(rTe,function(r,n,a,s){t.push(a?s.replace(nTe,"$1"):n||r)}),t}),sTe=aTe;function iTe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var hP=iTe,DF=Cx,oTe=hP,lTe=$s,cTe=Fp,uTe=1/0,RF=DF?DF.prototype:void 0,IF=RF?RF.toString:void 0;function TG(e){if(typeof e=="string")return e;if(lTe(e))return oTe(e,TG)+"";if(cTe(e))return IF?IF.call(e):"";var t=e+"";return t=="0"&&1/e==-uTe?"-0":t}var dTe=TG,fTe=dTe;function hTe(e){return e==null?"":fTe(e)}var AG=hTe,mTe=$s,pTe=oP,gTe=sTe,vTe=AG;function xTe(e,t){return mTe(e)?e:pTe(e,t)?[e]:gTe(vTe(e))}var OG=xTe,yTe=Fp,wTe=1/0;function bTe(e){if(typeof e=="string"||yTe(e))return e;var t=e+"";return t=="0"&&1/e==-wTe?"-0":t}var uS=bTe,_Te=OG,STe=uS;function jTe(e,t){t=_Te(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[STe(t[r++])];return r&&r==n?e:void 0}var mP=jTe,kTe=mP;function NTe(e,t,r){var n=e==null?void 0:kTe(e,t);return n===void 0?r:n}var PG=NTe;const li=hr(PG);function ETe(e){return e==null}var CTe=ETe;const Lt=hr(CTe);var TTe=wc,ATe=$s,OTe=bc,PTe="[object String]";function DTe(e){return typeof e=="string"||!ATe(e)&&OTe(e)&&TTe(e)==PTe}var RTe=DTe;const gf=hr(RTe);var DG={exports:{}},xr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pP=Symbol.for("react.element"),gP=Symbol.for("react.portal"),dS=Symbol.for("react.fragment"),fS=Symbol.for("react.strict_mode"),hS=Symbol.for("react.profiler"),mS=Symbol.for("react.provider"),pS=Symbol.for("react.context"),ITe=Symbol.for("react.server_context"),gS=Symbol.for("react.forward_ref"),vS=Symbol.for("react.suspense"),xS=Symbol.for("react.suspense_list"),yS=Symbol.for("react.memo"),wS=Symbol.for("react.lazy"),MTe=Symbol.for("react.offscreen"),RG;RG=Symbol.for("react.module.reference");function Wi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pP:switch(e=e.type,e){case dS:case hS:case fS:case vS:case xS:return e;default:switch(e=e&&e.$$typeof,e){case ITe:case pS:case gS:case wS:case yS:case mS:return e;default:return t}}case gP:return t}}}xr.ContextConsumer=pS;xr.ContextProvider=mS;xr.Element=pP;xr.ForwardRef=gS;xr.Fragment=dS;xr.Lazy=wS;xr.Memo=yS;xr.Portal=gP;xr.Profiler=hS;xr.StrictMode=fS;xr.Suspense=vS;xr.SuspenseList=xS;xr.isAsyncMode=function(){return!1};xr.isConcurrentMode=function(){return!1};xr.isContextConsumer=function(e){return Wi(e)===pS};xr.isContextProvider=function(e){return Wi(e)===mS};xr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pP};xr.isForwardRef=function(e){return Wi(e)===gS};xr.isFragment=function(e){return Wi(e)===dS};xr.isLazy=function(e){return Wi(e)===wS};xr.isMemo=function(e){return Wi(e)===yS};xr.isPortal=function(e){return Wi(e)===gP};xr.isProfiler=function(e){return Wi(e)===hS};xr.isStrictMode=function(e){return Wi(e)===fS};xr.isSuspense=function(e){return Wi(e)===vS};xr.isSuspenseList=function(e){return Wi(e)===xS};xr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===dS||e===hS||e===fS||e===vS||e===xS||e===MTe||typeof e=="object"&&e!==null&&(e.$$typeof===wS||e.$$typeof===yS||e.$$typeof===mS||e.$$typeof===pS||e.$$typeof===gS||e.$$typeof===RG||e.getModuleId!==void 0)};xr.typeOf=Wi;DG.exports=xr;var FTe=DG.exports,LTe=wc,$Te=bc,BTe="[object Number]";function UTe(e){return typeof e=="number"||$Te(e)&&LTe(e)==BTe}var IG=UTe;const VTe=hr(IG);var zTe=IG;function WTe(e){return zTe(e)&&e!=+e}var HTe=WTe;const Tx=hr(HTe);var ns=function(t){return t===0?0:t>0?1:-1},Sd=function(t){return gf(t)&&t.indexOf("%")===t.length-1},Xe=function(t){return VTe(t)&&!Tx(t)},qTe=function(t){return Lt(t)},Fn=function(t){return Xe(t)||gf(t)},GTe=0,Vp=function(t){var r=++GTe;return"".concat(t||"").concat(r)},as=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(t)&&!gf(t))return n;var s;if(Sd(t)){var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return Tx(s)&&(s=n),a&&s>r&&(s=r),s},Gc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},KTe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Qs=function(t,r){return Xe(t)&&Xe(r)?function(n){return t+n*(r-t)}:function(){return r}};function D1(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):li(n,t))===r})}var YTe=function(t,r){return Xe(t)&&Xe(r)?t-r:gf(t)&&gf(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function em(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function wE(e){"@babel/helpers - typeof";return wE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wE(e)}var XTe=["viewBox","children"],JTe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],MF=["points","pathLength"],Pk={svg:XTe,polygon:MF,polyline:MF},vP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],R1=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!Lp(n))return null;var a={};return Object.keys(n).forEach(function(s){vP.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},QTe=function(t,r,n){return function(a){return t(r,n,a),null}},vf=function(t,r,n){if(!Lp(t)||wE(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var i=t[s];vP.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=QTe(i,r,n))}),a},ZTe=["children"],eAe=["children"];function FF(e,t){if(e==null)return{};var r=tAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bE(e){"@babel/helpers - typeof";return bE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bE(e)}var LF={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},$F=null,Dk=null,xP=function e(t){if(t===$F&&Array.isArray(Dk))return Dk;var r=[];return x.Children.forEach(t,function(n){Lt(n)||(FTe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Dk=r,$F=t,r};function ci(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Xl(a)}):n=[Xl(t)],xP(e).forEach(function(a){var s=li(a,"type.displayName")||li(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Gs(e,t){var r=ci(e,t);return r&&r[0]}var BF=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Xe(n)||n<=0||!Xe(a)||a<=0)},rAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],nAe=function(t){return t&&t.type&&gf(t.type)&&rAe.indexOf(t.type)>=0},aAe=function(t){return t&&bE(t)==="object"&&"clipDot"in t},sAe=function(t,r,n,a){var s,i=(s=Pk==null?void 0:Pk[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!At(t)&&(a&&i.includes(r)||JTe.includes(r))||n&&vP.includes(r)},jt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!Lp(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;sAe((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},_E=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return UF(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!e(s,i))return!1}else if(!UF(s,i))return!1}return!0},UF=function(t,r){if(Lt(t)&&Lt(r))return!0;if(!Lt(t)&&!Lt(r)){var n=t.props||{},a=n.children,s=FF(n,ZTe),i=r.props||{},l=i.children,c=FF(i,eAe);return a&&l?em(s,c)&&_E(a,l):!a&&!l?em(s,c):!1}return!1},VF=function(t,r){var n=[],a={};return xP(t).forEach(function(s,i){if(nAe(s))n.push(s);else if(s){var l=Xl(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,i);n.push(f),a[l]=!0}}}),n},iAe=function(t){var r=t&&t.type;return r&&LF[r]?LF[r]:null},oAe=function(t,r){return xP(r).indexOf(t)},lAe=["children","width","height","viewBox","className","style","title","desc"];function SE(){return SE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SE.apply(this,arguments)}function cAe(e,t){if(e==null)return{};var r=uAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jE(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,i=e.style,l=e.title,c=e.desc,u=cAe(e,lAe),d=a||{width:r,height:n,x:0,y:0},f=$t("recharts-surface",s);return te.createElement("svg",SE({},jt(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),te.createElement("title",null,l),te.createElement("desc",null,c),t)}var dAe=["children","className"];function kE(){return kE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kE.apply(this,arguments)}function fAe(e,t){if(e==null)return{};var r=hAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ir=te.forwardRef(function(e,t){var r=e.children,n=e.className,a=fAe(e,dAe),s=$t("recharts-layer",n);return te.createElement("g",kE({className:s},jt(a,!0),{ref:t}),r)}),jo=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function mAe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var pAe=mAe,gAe=pAe;function vAe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:gAe(e,t,r)}var xAe=vAe,yAe="\\ud800-\\udfff",wAe="\\u0300-\\u036f",bAe="\\ufe20-\\ufe2f",_Ae="\\u20d0-\\u20ff",SAe=wAe+bAe+_Ae,jAe="\\ufe0e\\ufe0f",kAe="\\u200d",NAe=RegExp("["+kAe+yAe+SAe+jAe+"]");function EAe(e){return NAe.test(e)}var MG=EAe;function CAe(e){return e.split("")}var TAe=CAe,FG="\\ud800-\\udfff",AAe="\\u0300-\\u036f",OAe="\\ufe20-\\ufe2f",PAe="\\u20d0-\\u20ff",DAe=AAe+OAe+PAe,RAe="\\ufe0e\\ufe0f",IAe="["+FG+"]",NE="["+DAe+"]",EE="\\ud83c[\\udffb-\\udfff]",MAe="(?:"+NE+"|"+EE+")",LG="[^"+FG+"]",$G="(?:\\ud83c[\\udde6-\\uddff]){2}",BG="[\\ud800-\\udbff][\\udc00-\\udfff]",FAe="\\u200d",UG=MAe+"?",VG="["+RAe+"]?",LAe="(?:"+FAe+"(?:"+[LG,$G,BG].join("|")+")"+VG+UG+")*",$Ae=VG+UG+LAe,BAe="(?:"+[LG+NE+"?",NE,$G,BG,IAe].join("|")+")",UAe=RegExp(EE+"(?="+EE+")|"+BAe+$Ae,"g");function VAe(e){return e.match(UAe)||[]}var zAe=VAe,WAe=TAe,HAe=MG,qAe=zAe;function GAe(e){return HAe(e)?qAe(e):WAe(e)}var KAe=GAe,YAe=xAe,XAe=MG,JAe=KAe,QAe=AG;function ZAe(e){return function(t){t=QAe(t);var r=XAe(t)?JAe(t):void 0,n=r?r[0]:t.charAt(0),a=r?YAe(r,1).join(""):t.slice(1);return n[e]()+a}}var eOe=ZAe,tOe=eOe,rOe=tOe("toUpperCase"),nOe=rOe;const bS=hr(nOe);function Ar(e){return function(){return e}}const zG=Math.cos,I1=Math.sin,Mo=Math.sqrt,M1=Math.PI,_S=2*M1,CE=Math.PI,TE=2*CE,od=1e-6,aOe=TE-od;function WG(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function sOe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return WG;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class iOe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?WG:sOe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-t,u=a-r,d=i-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>od)if(!(Math.abs(f*c-u*d)>od)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,g=a-l,m=c*c+u*u,v=p*p+g*g,y=Math.sqrt(m),w=Math.sqrt(h),b=s*Math.tan((CE-Math.acos((m+h-v)/(2*y*w)))/2),_=b/w,S=b/y;Math.abs(_-1)>od&&this._append`L${t+_*d},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*p>d*g)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>od||Math.abs(this._y1-d)>od)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%TE+TE),h>aOe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>od&&this._append`A${n},${n},0,${+(h>=CE)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function yP(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new iOe(t)}function wP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function HG(e){this._context=e}HG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function SS(e){return new HG(e)}function qG(e){return e[0]}function GG(e){return e[1]}function KG(e,t){var r=Ar(!0),n=null,a=SS,s=null,i=yP(l);e=typeof e=="function"?e:e===void 0?qG:Ar(e),t=typeof t=="function"?t:t===void 0?GG:Ar(t);function l(c){var u,d=(c=wP(c)).length,f,h=!1,p;for(n==null&&(s=a(p=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ar(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ar(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ar(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function $y(e,t,r){var n=null,a=Ar(!0),s=null,i=SS,l=null,c=yP(u);e=typeof e=="function"?e:e===void 0?qG:Ar(+e),t=typeof t=="function"?t:Ar(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?GG:Ar(+r);function u(f){var h,p,g,m=(f=wP(f)).length,v,y=!1,w,b=new Array(m),_=new Array(m);for(s==null&&(l=i(w=c())),h=0;h<=m;++h){if(!(h<m&&a(v=f[h],h,f))===y)if(y=!y)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(b[g],_[g]);l.lineEnd(),l.areaEnd()}y&&(b[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):b[h],r?+r(v,h,f):_[h]))}if(w)return l=null,w+""||null}function d(){return KG().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ar(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ar(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ar(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ar(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ar(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ar(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ar(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class YG{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function oOe(e){return new YG(e,!0)}function lOe(e){return new YG(e,!1)}const bP={draw(e,t){const r=Mo(t/M1);e.moveTo(r,0),e.arc(0,0,r,0,_S)}},cOe={draw(e,t){const r=Mo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},XG=Mo(1/3),uOe=XG*2,dOe={draw(e,t){const r=Mo(t/uOe),n=r*XG;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},fOe={draw(e,t){const r=Mo(t),n=-r/2;e.rect(n,n,r,r)}},hOe=.8908130915292852,JG=I1(M1/10)/I1(7*M1/10),mOe=I1(_S/10)*JG,pOe=-zG(_S/10)*JG,gOe={draw(e,t){const r=Mo(t*hOe),n=mOe*r,a=pOe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=_S*s/5,l=zG(i),c=I1(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Rk=Mo(3),vOe={draw(e,t){const r=-Mo(t/(Rk*3));e.moveTo(0,r*2),e.lineTo(-Rk*r,-r),e.lineTo(Rk*r,-r),e.closePath()}},wi=-.5,bi=Mo(3)/2,AE=1/Mo(12),xOe=(AE/2+1)*3,yOe={draw(e,t){const r=Mo(t/xOe),n=r/2,a=r*AE,s=n,i=r*AE+r,l=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(l,c),e.lineTo(wi*n-bi*a,bi*n+wi*a),e.lineTo(wi*s-bi*i,bi*s+wi*i),e.lineTo(wi*l-bi*c,bi*l+wi*c),e.lineTo(wi*n+bi*a,wi*a-bi*n),e.lineTo(wi*s+bi*i,wi*i-bi*s),e.lineTo(wi*l+bi*c,wi*c-bi*l),e.closePath()}};function wOe(e,t){let r=null,n=yP(a);e=typeof e=="function"?e:Ar(e||bP),t=typeof t=="function"?t:Ar(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ar(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ar(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function F1(){}function L1(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function QG(e){this._context=e}QG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:L1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:L1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bOe(e){return new QG(e)}function ZG(e){this._context=e}ZG.prototype={areaStart:F1,areaEnd:F1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:L1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _Oe(e){return new ZG(e)}function eK(e){this._context=e}eK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:L1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SOe(e){return new eK(e)}function tK(e){this._context=e}tK.prototype={areaStart:F1,areaEnd:F1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function jOe(e){return new tK(e)}function zF(e){return e<0?-1:1}function WF(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(zF(s)+zF(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function HF(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ik(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,i-l*r,s,i)}function $1(e){this._context=e}$1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ik(this,this._t0,HF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ik(this,HF(this,r=WF(this,e,t)),r);break;default:Ik(this,this._t0,r=WF(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function rK(e){this._context=new nK(e)}(rK.prototype=Object.create($1.prototype)).point=function(e,t){$1.prototype.point.call(this,t,e)};function nK(e){this._context=e}nK.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function kOe(e){return new $1(e)}function NOe(e){return new rK(e)}function aK(e){this._context=e}aK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=qF(e),a=qF(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function qF(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function EOe(e){return new aK(e)}function jS(e,t){this._context=e,this._t=t}jS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function COe(e){return new jS(e,.5)}function TOe(e){return new jS(e,0)}function AOe(e){return new jS(e,1)}function Lm(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,l=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function OE(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function OOe(e,t){return e[t]}function POe(e){const t=[];return t.key=e,t}function DOe(){var e=Ar([]),t=OE,r=Lm,n=OOe;function a(s){var i=Array.from(e.apply(this,arguments),POe),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=wP(t(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ar(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ar(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?OE:typeof s=="function"?s:Ar(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Lm,a):r},a}function ROe(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Lm(e,t)}}function IOe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Lm(e,t)}}function MOe(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],v=m[n][1]||0,y=m[n-1][1]||0;p+=v-y}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Lm(e,t)}}function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}var FOe=["type","size","sizeType"];function PE(){return PE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PE.apply(this,arguments)}function GF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GF(Object(r),!0).forEach(function(n){LOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LOe(e,t,r){return t=$Oe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Oe(e){var t=BOe(e,"string");return iv(t)=="symbol"?t:t+""}function BOe(e,t){if(iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UOe(e,t){if(e==null)return{};var r=VOe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var sK={symbolCircle:bP,symbolCross:cOe,symbolDiamond:dOe,symbolSquare:fOe,symbolStar:gOe,symbolTriangle:vOe,symbolWye:yOe},zOe=Math.PI/180,WOe=function(t){var r="symbol".concat(bS(t));return sK[r]||bP},HOe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*zOe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},qOe=function(t,r){sK["symbol".concat(bS(t))]=r},_P=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,i=t.sizeType,l=i===void 0?"area":i,c=UOe(t,FOe),u=KF(KF({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=WOe(n),y=wOe().type(v).size(HOe(s,l,n));return y()},f=u.className,h=u.cx,p=u.cy,g=jt(u,!0);return h===+h&&p===+p&&s===+s?te.createElement("path",PE({},g,{className:$t("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};_P.registerSymbol=qOe;function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function DE(){return DE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DE.apply(this,arguments)}function YF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GOe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YF(Object(r),!0).forEach(function(n){ov(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oK(n.key),n)}}function XOe(e,t,r){return t&&YOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JOe(e,t,r){return t=B1(t),QOe(e,iK()?Reflect.construct(t,r||[],B1(e).constructor):t.apply(e,r))}function QOe(e,t){if(t&&($m(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZOe(e)}function ZOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iK=function(){return!!e})()}function B1(e){return B1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B1(e)}function ePe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RE(e,t)}function RE(e,t){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RE(e,t)}function ov(e,t,r){return t=oK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oK(e){var t=tPe(e,"string");return $m(t)=="symbol"?t:t+""}function tPe(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _i=32,SP=function(e){function t(){return KOe(this,t),JOe(this,t,arguments)}return ePe(t,e),XOe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=_i/2,i=_i/6,l=_i/3,c=n.inactive?a:n.color;if(n.type==="plainline")return te.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:_i,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return te.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(_i,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return te.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(_i/8,"h").concat(_i,"v").concat(_i*3/4,"h").concat(-_i,"z"),className:"recharts-legend-icon"});if(te.isValidElement(n.legendIcon)){var u=GOe({},n);return delete u.legendIcon,te.cloneElement(n.legendIcon,u)}return te.createElement(_P,{fill:c,cx:s,cy:s,size:_i,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:_i,height:_i},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,g){var m=p.formatter||c,v=$t(ov(ov({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=At(p.value)?null:p.value;jo(!At(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return te.createElement("li",DE({className:v,style:f,key:"legend-item-".concat(g)},vf(n.props,p,g)),te.createElement(jE,{width:i,height:i,viewBox:d,style:h},n.renderIcon(p)),te.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(y,p,g):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return te.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);ov(SP,"displayName","Legend");ov(SP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var rPe=lS;function nPe(){this.__data__=new rPe,this.size=0}var aPe=nPe;function sPe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var iPe=sPe;function oPe(e){return this.__data__.get(e)}var lPe=oPe;function cPe(e){return this.__data__.has(e)}var uPe=cPe,dPe=lS,fPe=uP,hPe=dP,mPe=200;function pPe(e,t){var r=this.__data__;if(r instanceof dPe){var n=r.__data__;if(!fPe||n.length<mPe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new hPe(n)}return r.set(e,t),this.size=r.size,this}var gPe=pPe,vPe=lS,xPe=aPe,yPe=iPe,wPe=lPe,bPe=uPe,_Pe=gPe;function zp(e){var t=this.__data__=new vPe(e);this.size=t.size}zp.prototype.clear=xPe;zp.prototype.delete=yPe;zp.prototype.get=wPe;zp.prototype.has=bPe;zp.prototype.set=_Pe;var lK=zp,SPe="__lodash_hash_undefined__";function jPe(e){return this.__data__.set(e,SPe),this}var kPe=jPe;function NPe(e){return this.__data__.has(e)}var EPe=NPe,CPe=dP,TPe=kPe,APe=EPe;function U1(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new CPe;++t<r;)this.add(e[t])}U1.prototype.add=U1.prototype.push=TPe;U1.prototype.has=APe;var cK=U1;function OPe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var uK=OPe;function PPe(e,t){return e.has(t)}var dK=PPe,DPe=cK,RPe=uK,IPe=dK,MPe=1,FPe=2;function LPe(e,t,r,n,a,s){var i=r&MPe,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&FPe?new DPe:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var v=i?n(m,g,f,t,e,s):n(g,m,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!RPe(t,function(y,w){if(!IPe(p,w)&&(g===y||a(g,y,r,n,s)))return p.push(w)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var fK=LPe,$Pe=bl,BPe=$Pe.Uint8Array,UPe=BPe;function VPe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var zPe=VPe;function WPe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var jP=WPe,XF=Cx,JF=UPe,HPe=cP,qPe=fK,GPe=zPe,KPe=jP,YPe=1,XPe=2,JPe="[object Boolean]",QPe="[object Date]",ZPe="[object Error]",e4e="[object Map]",t4e="[object Number]",r4e="[object RegExp]",n4e="[object Set]",a4e="[object String]",s4e="[object Symbol]",i4e="[object ArrayBuffer]",o4e="[object DataView]",QF=XF?XF.prototype:void 0,Mk=QF?QF.valueOf:void 0;function l4e(e,t,r,n,a,s,i){switch(r){case o4e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case i4e:return!(e.byteLength!=t.byteLength||!s(new JF(e),new JF(t)));case JPe:case QPe:case t4e:return HPe(+e,+t);case ZPe:return e.name==t.name&&e.message==t.message;case r4e:case a4e:return e==t+"";case e4e:var l=GPe;case n4e:var c=n&YPe;if(l||(l=KPe),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=XPe,i.set(e,t);var d=qPe(l(e),l(t),n,a,s,i);return i.delete(e),d;case s4e:if(Mk)return Mk.call(e)==Mk.call(t)}return!1}var c4e=l4e;function u4e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var hK=u4e,d4e=hK,f4e=$s;function h4e(e,t,r){var n=t(e);return f4e(e)?n:d4e(n,r(e))}var m4e=h4e;function p4e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s}var g4e=p4e;function v4e(){return[]}var x4e=v4e,y4e=g4e,w4e=x4e,b4e=Object.prototype,_4e=b4e.propertyIsEnumerable,ZF=Object.getOwnPropertySymbols,S4e=ZF?function(e){return e==null?[]:(e=Object(e),y4e(ZF(e),function(t){return _4e.call(e,t)}))}:w4e,j4e=S4e;function k4e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var N4e=k4e,E4e=wc,C4e=bc,T4e="[object Arguments]";function A4e(e){return C4e(e)&&E4e(e)==T4e}var O4e=A4e,e3=O4e,P4e=bc,mK=Object.prototype,D4e=mK.hasOwnProperty,R4e=mK.propertyIsEnumerable,I4e=e3(function(){return arguments}())?e3:function(e){return P4e(e)&&D4e.call(e,"callee")&&!R4e.call(e,"callee")},kP=I4e,V1={exports:{}};function M4e(){return!1}var F4e=M4e;V1.exports;(function(e,t){var r=bl,n=F4e,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(V1,V1.exports);var pK=V1.exports,L4e=9007199254740991,$4e=/^(?:0|[1-9]\d*)$/;function B4e(e,t){var r=typeof e;return t=t??L4e,!!t&&(r=="number"||r!="symbol"&&$4e.test(e))&&e>-1&&e%1==0&&e<t}var NP=B4e,U4e=9007199254740991;function V4e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=U4e}var EP=V4e,z4e=wc,W4e=EP,H4e=bc,q4e="[object Arguments]",G4e="[object Array]",K4e="[object Boolean]",Y4e="[object Date]",X4e="[object Error]",J4e="[object Function]",Q4e="[object Map]",Z4e="[object Number]",eDe="[object Object]",tDe="[object RegExp]",rDe="[object Set]",nDe="[object String]",aDe="[object WeakMap]",sDe="[object ArrayBuffer]",iDe="[object DataView]",oDe="[object Float32Array]",lDe="[object Float64Array]",cDe="[object Int8Array]",uDe="[object Int16Array]",dDe="[object Int32Array]",fDe="[object Uint8Array]",hDe="[object Uint8ClampedArray]",mDe="[object Uint16Array]",pDe="[object Uint32Array]",Fr={};Fr[oDe]=Fr[lDe]=Fr[cDe]=Fr[uDe]=Fr[dDe]=Fr[fDe]=Fr[hDe]=Fr[mDe]=Fr[pDe]=!0;Fr[q4e]=Fr[G4e]=Fr[sDe]=Fr[K4e]=Fr[iDe]=Fr[Y4e]=Fr[X4e]=Fr[J4e]=Fr[Q4e]=Fr[Z4e]=Fr[eDe]=Fr[tDe]=Fr[rDe]=Fr[nDe]=Fr[aDe]=!1;function gDe(e){return H4e(e)&&W4e(e.length)&&!!Fr[z4e(e)]}var vDe=gDe;function xDe(e){return function(t){return e(t)}}var gK=xDe,z1={exports:{}};z1.exports;(function(e,t){var r=jG,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(z1,z1.exports);var yDe=z1.exports,wDe=vDe,bDe=gK,t3=yDe,r3=t3&&t3.isTypedArray,_De=r3?bDe(r3):wDe,vK=_De,SDe=N4e,jDe=kP,kDe=$s,NDe=pK,EDe=NP,CDe=vK,TDe=Object.prototype,ADe=TDe.hasOwnProperty;function ODe(e,t){var r=kDe(e),n=!r&&jDe(e),a=!r&&!n&&NDe(e),s=!r&&!n&&!a&&CDe(e),i=r||n||a||s,l=i?SDe(e.length,String):[],c=l.length;for(var u in e)(t||ADe.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||EDe(u,c)))&&l.push(u);return l}var PDe=ODe,DDe=Object.prototype;function RDe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||DDe;return e===r}var IDe=RDe;function MDe(e,t){return function(r){return e(t(r))}}var xK=MDe,FDe=xK,LDe=FDe(Object.keys,Object),$De=LDe,BDe=IDe,UDe=$De,VDe=Object.prototype,zDe=VDe.hasOwnProperty;function WDe(e){if(!BDe(e))return UDe(e);var t=[];for(var r in Object(e))zDe.call(e,r)&&r!="constructor"&&t.push(r);return t}var HDe=WDe,qDe=lP,GDe=EP;function KDe(e){return e!=null&&GDe(e.length)&&!qDe(e)}var Ax=KDe,YDe=PDe,XDe=HDe,JDe=Ax;function QDe(e){return JDe(e)?YDe(e):XDe(e)}var kS=QDe,ZDe=m4e,eRe=j4e,tRe=kS;function rRe(e){return ZDe(e,tRe,eRe)}var nRe=rRe,n3=nRe,aRe=1,sRe=Object.prototype,iRe=sRe.hasOwnProperty;function oRe(e,t,r,n,a,s){var i=r&aRe,l=n3(e),c=l.length,u=n3(t),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var h=l[f];if(!(i?h in t:iRe.call(t,h)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=i;++f<c;){h=l[f];var y=e[h],w=t[h];if(n)var b=i?n(w,y,h,t,e,s):n(y,w,h,e,t,s);if(!(b===void 0?y===w||a(y,w,r,n,s):b)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(e),s.delete(t),m}var lRe=oRe,cRe=Mf,uRe=bl,dRe=cRe(uRe,"DataView"),fRe=dRe,hRe=Mf,mRe=bl,pRe=hRe(mRe,"Promise"),gRe=pRe,vRe=Mf,xRe=bl,yRe=vRe(xRe,"Set"),yK=yRe,wRe=Mf,bRe=bl,_Re=wRe(bRe,"WeakMap"),SRe=_Re,IE=fRe,ME=uP,FE=gRe,LE=yK,$E=SRe,wK=wc,Wp=NG,a3="[object Map]",jRe="[object Object]",s3="[object Promise]",i3="[object Set]",o3="[object WeakMap]",l3="[object DataView]",kRe=Wp(IE),NRe=Wp(ME),ERe=Wp(FE),CRe=Wp(LE),TRe=Wp($E),ld=wK;(IE&&ld(new IE(new ArrayBuffer(1)))!=l3||ME&&ld(new ME)!=a3||FE&&ld(FE.resolve())!=s3||LE&&ld(new LE)!=i3||$E&&ld(new $E)!=o3)&&(ld=function(e){var t=wK(e),r=t==jRe?e.constructor:void 0,n=r?Wp(r):"";if(n)switch(n){case kRe:return l3;case NRe:return a3;case ERe:return s3;case CRe:return i3;case TRe:return o3}return t});var ARe=ld,Fk=lK,ORe=fK,PRe=c4e,DRe=lRe,c3=ARe,u3=$s,d3=pK,RRe=vK,IRe=1,f3="[object Arguments]",h3="[object Array]",By="[object Object]",MRe=Object.prototype,m3=MRe.hasOwnProperty;function FRe(e,t,r,n,a,s){var i=u3(e),l=u3(t),c=i?h3:c3(e),u=l?h3:c3(t);c=c==f3?By:c,u=u==f3?By:u;var d=c==By,f=u==By,h=c==u;if(h&&d3(e)){if(!d3(t))return!1;i=!0,d=!1}if(h&&!d)return s||(s=new Fk),i||RRe(e)?ORe(e,t,r,n,a,s):PRe(e,t,c,r,n,a,s);if(!(r&IRe)){var p=d&&m3.call(e,"__wrapped__"),g=f&&m3.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return s||(s=new Fk),a(m,v,r,n,s)}}return h?(s||(s=new Fk),DRe(e,t,r,n,a,s)):!1}var LRe=FRe,$Re=LRe,p3=bc;function bK(e,t,r,n,a){return e===t?!0:e==null||t==null||!p3(e)&&!p3(t)?e!==e&&t!==t:$Re(e,t,r,n,bK,a)}var CP=bK,BRe=lK,URe=CP,VRe=1,zRe=2;function WRe(e,t,r,n){var a=r.length,s=a,i=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new BRe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?URe(d,u,VRe|zRe,n,f):h))return!1}}return!0}var HRe=WRe,qRe=Gu;function GRe(e){return e===e&&!qRe(e)}var _K=GRe,KRe=_K,YRe=kS;function XRe(e){for(var t=YRe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,KRe(a)]}return t}var JRe=XRe;function QRe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var SK=QRe,ZRe=HRe,eIe=JRe,tIe=SK;function rIe(e){var t=eIe(e);return t.length==1&&t[0][2]?tIe(t[0][0],t[0][1]):function(r){return r===e||ZRe(r,e,t)}}var nIe=rIe;function aIe(e,t){return e!=null&&t in Object(e)}var sIe=aIe,iIe=OG,oIe=kP,lIe=$s,cIe=NP,uIe=EP,dIe=uS;function fIe(e,t,r){t=iIe(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var i=dIe(t[n]);if(!(s=e!=null&&r(e,i)))break;e=e[i]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&uIe(a)&&cIe(i,a)&&(lIe(e)||oIe(e)))}var hIe=fIe,mIe=sIe,pIe=hIe;function gIe(e,t){return e!=null&&pIe(e,t,mIe)}var vIe=gIe,xIe=CP,yIe=PG,wIe=vIe,bIe=oP,_Ie=_K,SIe=SK,jIe=uS,kIe=1,NIe=2;function EIe(e,t){return bIe(e)&&_Ie(t)?SIe(jIe(e),t):function(r){var n=yIe(r,e);return n===void 0&&n===t?wIe(r,e):xIe(t,n,kIe|NIe)}}var CIe=EIe;function TIe(e){return e}var Hp=TIe;function AIe(e){return function(t){return t==null?void 0:t[e]}}var OIe=AIe,PIe=mP;function DIe(e){return function(t){return PIe(t,e)}}var RIe=DIe,IIe=OIe,MIe=RIe,FIe=oP,LIe=uS;function $Ie(e){return FIe(e)?IIe(LIe(e)):MIe(e)}var BIe=$Ie,UIe=nIe,VIe=CIe,zIe=Hp,WIe=$s,HIe=BIe;function qIe(e){return typeof e=="function"?e:e==null?zIe:typeof e=="object"?WIe(e)?VIe(e[0],e[1]):UIe(e):HIe(e)}var _l=qIe;function GIe(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var jK=GIe;function KIe(e){return e!==e}var YIe=KIe;function XIe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var JIe=XIe,QIe=jK,ZIe=YIe,eMe=JIe;function tMe(e,t,r){return t===t?eMe(e,t,r):QIe(e,ZIe,r)}var rMe=tMe,nMe=rMe;function aMe(e,t){var r=e==null?0:e.length;return!!r&&nMe(e,t,0)>-1}var sMe=aMe;function iMe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var oMe=iMe;function lMe(){}var cMe=lMe,Lk=yK,uMe=cMe,dMe=jP,fMe=1/0,hMe=Lk&&1/dMe(new Lk([,-0]))[1]==fMe?function(e){return new Lk(e)}:uMe,mMe=hMe,pMe=cK,gMe=sMe,vMe=oMe,xMe=dK,yMe=mMe,wMe=jP,bMe=200;function _Me(e,t,r){var n=-1,a=gMe,s=e.length,i=!0,l=[],c=l;if(r)i=!1,a=vMe;else if(s>=bMe){var u=t?null:yMe(e);if(u)return wMe(u);i=!1,a=xMe,c=new pMe}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var SMe=_Me,jMe=_l,kMe=SMe;function NMe(e,t){return e&&e.length?kMe(e,jMe(t)):[]}var EMe=NMe;const g3=hr(EMe);function kK(e,t,r){return t===!0?g3(e,r):At(t)?g3(e,t):e}function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}var CMe=["ref"];function v3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function El(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(r),!0).forEach(function(n){NS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EK(n.key),n)}}function AMe(e,t,r){return t&&x3(e.prototype,t),r&&x3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OMe(e,t,r){return t=W1(t),PMe(e,NK()?Reflect.construct(t,r||[],W1(e).constructor):t.apply(e,r))}function PMe(e,t){if(t&&(Bm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DMe(e)}function DMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NK=function(){return!!e})()}function W1(e){return W1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W1(e)}function RMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BE(e,t)}function BE(e,t){return BE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BE(e,t)}function NS(e,t,r){return t=EK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EK(e){var t=IMe(e,"string");return Bm(t)=="symbol"?t:t+""}function IMe(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MMe(e,t){if(e==null)return{};var r=FMe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LMe(e){return e.value}function $Me(e,t){if(te.isValidElement(e))return te.cloneElement(e,t);if(typeof e=="function")return te.createElement(e,t);t.ref;var r=MMe(t,CMe);return te.createElement(SP,r)}var y3=1,Su=function(e){function t(){var r;TMe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=OMe(this,t,[].concat(a)),NS(r,"lastBoundingBox",{width:-1,height:-1}),r}return RMe(t,e),AMe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>y3||Math.abs(a.height-this.lastBoundingBox.height)>y3)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?El({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return El(El({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=El(El({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return te.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},$Me(s,El(El({},this.props),{},{payload:kK(d,u,LMe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=El(El({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&Xe(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(x.PureComponent);NS(Su,"displayName","Legend");NS(Su,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var w3=Cx,BMe=kP,UMe=$s,b3=w3?w3.isConcatSpreadable:void 0;function VMe(e){return UMe(e)||BMe(e)||!!(b3&&e&&e[b3])}var zMe=VMe,WMe=hK,HMe=zMe;function CK(e,t,r,n,a){var s=-1,i=e.length;for(r||(r=HMe),a||(a=[]);++s<i;){var l=e[s];t>0&&r(l)?t>1?CK(l,t-1,r,n,a):WMe(a,l):n||(a[a.length]=l)}return a}var TK=CK;function qMe(e){return function(t,r,n){for(var a=-1,s=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var GMe=qMe,KMe=GMe,YMe=KMe(),XMe=YMe,JMe=XMe,QMe=kS;function ZMe(e,t){return e&&JMe(e,t,QMe)}var AK=ZMe,eFe=Ax;function tFe(e,t){return function(r,n){if(r==null)return r;if(!eFe(r))return e(r,n);for(var a=r.length,s=t?a:-1,i=Object(r);(t?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var rFe=tFe,nFe=AK,aFe=rFe,sFe=aFe(nFe),TP=sFe,iFe=TP,oFe=Ax;function lFe(e,t){var r=-1,n=oFe(e)?Array(e.length):[];return iFe(e,function(a,s,i){n[++r]=t(a,s,i)}),n}var OK=lFe;function cFe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var uFe=cFe,_3=Fp;function dFe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=_3(e),i=t!==void 0,l=t===null,c=t===t,u=_3(t);if(!l&&!u&&!s&&e>t||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var fFe=dFe,hFe=fFe;function mFe(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,i=a.length,l=r.length;++n<i;){var c=hFe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var pFe=mFe,$k=hP,gFe=mP,vFe=_l,xFe=OK,yFe=uFe,wFe=gK,bFe=pFe,_Fe=Hp,SFe=$s;function jFe(e,t,r){t.length?t=$k(t,function(s){return SFe(s)?function(i){return gFe(i,s.length===1?s[0]:s)}:s}):t=[_Fe];var n=-1;t=$k(t,wFe(vFe));var a=xFe(e,function(s,i,l){var c=$k(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return yFe(a,function(s,i){return bFe(s,i,r)})}var kFe=jFe;function NFe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var EFe=NFe,CFe=EFe,S3=Math.max;function TFe(e,t,r){return t=S3(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=S3(n.length-t,0),i=Array(s);++a<s;)i[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(i),CFe(e,this,l)}}var AFe=TFe;function OFe(e){return function(){return e}}var PFe=OFe,DFe=Mf,RFe=function(){try{var e=DFe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),PK=RFe,IFe=PFe,j3=PK,MFe=Hp,FFe=j3?function(e,t){return j3(e,"toString",{configurable:!0,enumerable:!1,value:IFe(t),writable:!0})}:MFe,LFe=FFe,$Fe=800,BFe=16,UFe=Date.now;function VFe(e){var t=0,r=0;return function(){var n=UFe(),a=BFe-(n-r);if(r=n,a>0){if(++t>=$Fe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var zFe=VFe,WFe=LFe,HFe=zFe,qFe=HFe(WFe),GFe=qFe,KFe=Hp,YFe=AFe,XFe=GFe;function JFe(e,t){return XFe(YFe(e,t,KFe),e+"")}var QFe=JFe,ZFe=cP,e3e=Ax,t3e=NP,r3e=Gu;function n3e(e,t,r){if(!r3e(r))return!1;var n=typeof t;return(n=="number"?e3e(r)&&t3e(t,r.length):n=="string"&&t in r)?ZFe(r[t],e):!1}var ES=n3e,a3e=TK,s3e=kFe,i3e=QFe,k3=ES,o3e=i3e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&k3(e,t[0],t[1])?t=[]:r>2&&k3(t[0],t[1],t[2])&&(t=[t[0]]),s3e(e,a3e(t,1),[])}),l3e=o3e;const AP=hr(l3e);function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function UE(){return UE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UE.apply(this,arguments)}function c3e(e,t){return h3e(e)||f3e(e,t)||d3e(e,t)||u3e()}function u3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d3e(e,t){if(e){if(typeof e=="string")return N3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N3(e,t)}}function N3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function h3e(e){if(Array.isArray(e))return e}function E3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E3(Object(r),!0).forEach(function(n){m3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m3e(e,t,r){return t=p3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p3e(e){var t=g3e(e,"string");return lv(t)=="symbol"?t:t+""}function g3e(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v3e(e){return Array.isArray(e)&&Fn(e[0])&&Fn(e[1])?e.join(" ~ "):e}var x3e=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,i=t.itemStyle,l=i===void 0?{}:i,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,y=t.accessibilityLayer,w=y===void 0?!1:y,b=function(){if(d&&d.length){var T={padding:0,margin:0},L=(h?AP(d,h):d).map(function(H,z){if(H.type==="none")return null;var M=Bk({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),I=H.formatter||f||v3e,U=H.value,R=H.name,Y=U,Z=R;if(I&&Y!=null&&Z!=null){var C=I(U,R,H,z,d);if(Array.isArray(C)){var X=c3e(C,2);Y=X[0],Z=X[1]}else Y=C}return te.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:M},Fn(Z)?te.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Fn(Z)?te.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,te.createElement("span",{className:"recharts-tooltip-item-value"},Y),te.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return te.createElement("ul",{className:"recharts-tooltip-item-list",style:T},L)}return null},_=Bk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=Bk({margin:0},u),k=!Lt(m),j=k?m:"",E=$t("recharts-default-tooltip",p),N=$t("recharts-tooltip-label",g);k&&v&&d!==void 0&&d!==null&&(j=v(m,d));var O=w?{role:"status","aria-live":"assertive"}:{};return te.createElement("div",UE({className:E,style:_},O),te.createElement("p",{className:N,style:S},te.isValidElement(j)?j:"".concat(j)),b())};function cv(e){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cv(e)}function Uy(e,t,r){return t=y3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y3e(e){var t=w3e(e,"string");return cv(t)=="symbol"?t:t+""}function w3e(e,t){if(cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p0="recharts-tooltip-wrapper",b3e={visibility:"hidden"};function _3e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return $t(p0,Uy(Uy(Uy(Uy({},"".concat(p0,"-right"),Xe(r)&&t&&Xe(t.x)&&r>=t.x),"".concat(p0,"-left"),Xe(r)&&t&&Xe(t.x)&&r<t.x),"".concat(p0,"-bottom"),Xe(n)&&t&&Xe(t.y)&&n>=t.y),"".concat(p0,"-top"),Xe(n)&&t&&Xe(t.y)&&n<t.y))}function C3(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&Xe(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return i[n]?d:f;if(i[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function S3e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function j3e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,i=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=C3({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=C3({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=S3e({translateX:d,translateY:f,useTranslate3d:l})):u=b3e,{cssProperties:u,cssClasses:_3e({translateX:d,translateY:f,coordinate:r})}}function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function T3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(r),!0).forEach(function(n){zE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RK(n.key),n)}}function E3e(e,t,r){return t&&N3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C3e(e,t,r){return t=H1(t),T3e(e,DK()?Reflect.construct(t,r||[],H1(e).constructor):t.apply(e,r))}function T3e(e,t){if(t&&(Um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A3e(e)}function A3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DK=function(){return!!e})()}function H1(e){return H1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},H1(e)}function O3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VE(e,t)}function VE(e,t){return VE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VE(e,t)}function zE(e,t,r){return t=RK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RK(e){var t=P3e(e,"string");return Um(t)=="symbol"?t:t+""}function P3e(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O3=1,D3e=function(e){function t(){var r;k3e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=C3e(this,t,[].concat(a)),zE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),zE(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return O3e(t,e),E3e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>O3||Math.abs(n.height-this.state.lastBoundingBox.height)>O3)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,w=a.wrapperStyle,b=j3e({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),_=b.cssClasses,S=b.cssProperties,k=A3(A3({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return te.createElement("div",{tabIndex:-1,className:_,style:k,ref:function(E){n.wrapperNode=E}},u)}}])}(x.PureComponent),R3e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},il={isSsr:R3e(),get:function(t){return il[t]},set:function(t,r){if(typeof t=="string")il[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){il[a]=t[a]})}}};function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function P3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(r),!0).forEach(function(n){OP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MK(n.key),n)}}function F3e(e,t,r){return t&&M3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L3e(e,t,r){return t=q1(t),$3e(e,IK()?Reflect.construct(t,r||[],q1(e).constructor):t.apply(e,r))}function $3e(e,t){if(t&&(Vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B3e(e)}function B3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IK=function(){return!!e})()}function q1(e){return q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q1(e)}function U3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WE(e,t)}function WE(e,t){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},WE(e,t)}function OP(e,t,r){return t=MK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MK(e){var t=V3e(e,"string");return Vm(t)=="symbol"?t:t+""}function V3e(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z3e(e){return e.dataKey}function W3e(e,t){return te.isValidElement(e)?te.cloneElement(e,t):typeof e=="function"?te.createElement(e,t):te.createElement(x3e,t)}var Ei=function(e){function t(){return I3e(this,t),L3e(this,t,arguments)}return U3e(t,e),F3e(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,y=a.reverseDirection,w=a.useTranslate3d,b=a.viewBox,_=a.wrapperStyle,S=g??[];f&&S.length&&(S=kK(g.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),m,z3e));var k=S.length>0;return te.createElement(D3e,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:k,offset:p,position:v,reverseDirection:y,useTranslate3d:w,viewBox:b,wrapperStyle:_},W3e(u,D3(D3({},this.props),{},{payload:S})))}}])}(x.PureComponent);OP(Ei,"displayName","Tooltip");OP(Ei,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!il.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var H3e=bl,q3e=function(){return H3e.Date.now()},G3e=q3e,K3e=/\s/;function Y3e(e){for(var t=e.length;t--&&K3e.test(e.charAt(t)););return t}var X3e=Y3e,J3e=X3e,Q3e=/^\s+/;function Z3e(e){return e&&e.slice(0,J3e(e)+1).replace(Q3e,"")}var eLe=Z3e,tLe=eLe,R3=Gu,rLe=Fp,I3=NaN,nLe=/^[-+]0x[0-9a-f]+$/i,aLe=/^0b[01]+$/i,sLe=/^0o[0-7]+$/i,iLe=parseInt;function oLe(e){if(typeof e=="number")return e;if(rLe(e))return I3;if(R3(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=R3(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=tLe(e);var r=aLe.test(e);return r||sLe.test(e)?iLe(e.slice(2),r?2:8):nLe.test(e)?I3:+e}var FK=oLe,lLe=Gu,Uk=G3e,M3=FK,cLe="Expected a function",uLe=Math.max,dLe=Math.min;function fLe(e,t,r){var n,a,s,i,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(cLe);t=M3(t)||0,lLe(r)&&(d=!!r.leading,f="maxWait"in r,s=f?uLe(M3(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function p(k){var j=n,E=a;return n=a=void 0,u=k,i=e.apply(E,j),i}function g(k){return u=k,l=setTimeout(y,t),d?p(k):i}function m(k){var j=k-c,E=k-u,N=t-j;return f?dLe(N,s-E):N}function v(k){var j=k-c,E=k-u;return c===void 0||j>=t||j<0||f&&E>=s}function y(){var k=Uk();if(v(k))return w(k);l=setTimeout(y,m(k))}function w(k){return l=void 0,h&&n?p(k):(n=a=void 0,i)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?i:w(Uk())}function S(){var k=Uk(),j=v(k);if(n=arguments,a=this,c=k,j){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(y,t),p(c)}return l===void 0&&(l=setTimeout(y,t)),i}return S.cancel=b,S.flush=_,S}var hLe=fLe,mLe=hLe,pLe=Gu,gLe="Expected a function";function vLe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(gLe);return pLe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),mLe(e,t,{leading:n,maxWait:t,trailing:a})}var xLe=vLe;const LK=hr(xLe);function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function F3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(r),!0).forEach(function(n){yLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yLe(e,t,r){return t=wLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wLe(e){var t=bLe(e,"string");return uv(t)=="symbol"?t:t+""}function bLe(e,t){if(uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Le(e,t){return NLe(e)||kLe(e,t)||jLe(e,t)||SLe()}function SLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jLe(e,t){if(e){if(typeof e=="string")return L3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L3(e,t)}}function L3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function NLe(e){if(Array.isArray(e))return e}var PP=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,i=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,y=e.className,w=e.onResize,b=e.style,_=b===void 0?{}:b,S=x.useRef(null),k=x.useRef();k.current=w,x.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var j=x.useState({containerWidth:a.width,containerHeight:a.height}),E=_Le(j,2),N=E[0],O=E[1],P=x.useCallback(function(L,H){O(function(z){var M=Math.round(L),I=Math.round(H);return z.containerWidth===M&&z.containerHeight===I?z:{containerWidth:M,containerHeight:I}})},[]);x.useEffect(function(){var L=function(R){var Y,Z=R[0].contentRect,C=Z.width,X=Z.height;P(C,X),(Y=k.current)===null||Y===void 0||Y.call(k,C,X)};m>0&&(L=LK(L,m,{trailing:!0,leading:!1}));var H=new ResizeObserver(L),z=S.current.getBoundingClientRect(),M=z.width,I=z.height;return P(M,I),H.observe(S.current),function(){H.disconnect()}},[P,m]);var T=x.useMemo(function(){var L=N.containerWidth,H=N.containerHeight;if(L<0||H<0)return null;jo(Sd(i)||Sd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),jo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var z=Sd(i)?L:i,M=Sd(c)?H:c;r&&r>0&&(z?M=z/r:M&&(z=M*r),h&&M>h&&(M=h)),jo(z>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,M,i,c,d,f,r);var I=!Array.isArray(p)&&Xl(p.type).endsWith("Chart");return te.Children.map(p,function(U){return te.isValidElement(U)?x.cloneElement(U,Vy({width:z,height:M},I?{style:Vy({height:"100%",width:"100%",maxHeight:M,maxWidth:z},U.props.style)}:{})):U})},[r,p,c,h,f,d,N,i]);return te.createElement("div",{id:v?"".concat(v):void 0,className:$t("recharts-responsive-container",y),style:Vy(Vy({},_),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},T)}),ho=function(t){return null};ho.displayName="Cell";function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}function $3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(r),!0).forEach(function(n){ELe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ELe(e,t,r){return t=CLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CLe(e){var t=TLe(e,"string");return dv(t)=="symbol"?t:t+""}function TLe(e,t){if(dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var th={widthCache:{},cacheCount:0},ALe=2e3,OLe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},B3="recharts_measurement_span";function PLe(e){var t=HE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var mg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||il.isSsr)return{width:0,height:0};var n=PLe(r),a=JSON.stringify({text:t,copyStyle:n});if(th.widthCache[a])return th.widthCache[a];try{var s=document.getElementById(B3);s||(s=document.createElement("span"),s.setAttribute("id",B3),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=HE(HE({},OLe),n);Object.assign(s.style,i),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return th.widthCache[a]=c,++th.cacheCount>ALe&&(th.cacheCount=0,th.widthCache={}),c}catch{return{width:0,height:0}}},DLe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function G1(e,t){return FLe(e)||MLe(e,t)||ILe(e,t)||RLe()}function RLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ILe(e,t){if(e){if(typeof e=="string")return U3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U3(e,t)}}function U3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function FLe(e){if(Array.isArray(e))return e}function LLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BLe(n.key),n)}}function $Le(e,t,r){return t&&V3(e.prototype,t),r&&V3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BLe(e){var t=ULe(e,"string");return fv(t)=="symbol"?t:t+""}function ULe(e,t){if(fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var z3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,W3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VLe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zLe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$K={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},WLe=Object.keys($K),Ph="NaN";function HLe(e,t){return e*$K[t]}var zy=function(){function e(t,r){LLe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!VLe.test(r)&&(this.num=NaN,this.unit=""),WLe.includes(r)&&(this.num=HLe(t,r),this.unit="px")}return $Le(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=zLe.exec(r))!==null&&n!==void 0?n:[],s=G1(a,3),i=s[1],l=s[2];return new e(parseFloat(i),l??"")}}])}();function BK(e){if(e.includes(Ph))return Ph;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=z3.exec(t))!==null&&r!==void 0?r:[],a=G1(n,4),s=a[1],i=a[2],l=a[3],c=zy.parse(s??""),u=zy.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Ph;t=t.replace(z3,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=W3.exec(t))!==null&&f!==void 0?f:[],p=G1(h,4),g=p[1],m=p[2],v=p[3],y=zy.parse(g??""),w=zy.parse(v??""),b=m==="+"?y.add(w):y.subtract(w);if(b.isNaN())return Ph;t=t.replace(W3,b.toString())}return t}var H3=/\(([^()]*)\)/;function qLe(e){for(var t=e;t.includes("(");){var r=H3.exec(t),n=G1(r,2),a=n[1];t=t.replace(H3,BK(a))}return t}function GLe(e){var t=e.replace(/\s+/g,"");return t=qLe(t),t=BK(t),t}function KLe(e){try{return GLe(e)}catch{return Ph}}function Vk(e){var t=KLe(e.slice(5,-1));return t===Ph?"":t}var YLe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],XLe=["dx","dy","angle","className","breakAll"];function qE(){return qE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qE.apply(this,arguments)}function q3(e,t){if(e==null)return{};var r=JLe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function G3(e,t){return t$e(e)||e$e(e,t)||ZLe(e,t)||QLe()}function QLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZLe(e,t){if(e){if(typeof e=="string")return K3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K3(e,t)}}function K3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function e$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function t$e(e){if(Array.isArray(e))return e}var UK=/[ \f\n\r\t\v\u2028\u2029]+/,VK=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Lt(r)||(n?s=r.toString().split(""):s=r.toString().split(UK));var i=s.map(function(c){return{word:c,width:mg(c,a).width}}),l=n?0:mg("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},r$e=function(t,r,n,a,s){var i=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Xe(i),f=l,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(M,I){var U=I.word,R=I.width,Y=M[M.length-1];if(Y&&(a==null||s||Y.width+R+n<Number(a)))Y.words.push(U),Y.width+=R+n;else{var Z={words:[U],width:R};M.push(Z)}return M},[])},p=h(r),g=function(z){return z.reduce(function(M,I){return M.width>I.width?M:I})};if(!d)return p;for(var m="",v=function(z){var M=f.slice(0,z),I=VK({breakAll:u,style:c,children:M+m}).wordsWithComputedWidth,U=h(I),R=U.length>i||g(U).width>Number(a);return[R,U]},y=0,w=f.length-1,b=0,_;y<=w&&b<=f.length-1;){var S=Math.floor((y+w)/2),k=S-1,j=v(k),E=G3(j,2),N=E[0],O=E[1],P=v(S),T=G3(P,1),L=T[0];if(!N&&!L&&(y=S+1),N&&L&&(w=S-1),!N&&L){_=O;break}b++}return _||p},Y3=function(t){var r=Lt(t)?[]:t.toString().split(UK);return[{words:r}]},n$e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,i=t.breakAll,l=t.maxLines;if((r||n)&&!il.isSsr){var c,u,d=VK({breakAll:i,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return Y3(a);return r$e({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return Y3(a)},X3="#808080",xf=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.lineHeight,l=i===void 0?"1em":i,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,y=v===void 0?X3:v,w=q3(t,YLe),b=x.useMemo(function(){return n$e({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),_=w.dx,S=w.dy,k=w.angle,j=w.className,E=w.breakAll,N=q3(w,XLe);if(!Fn(n)||!Fn(s))return null;var O=n+(Xe(_)?_:0),P=s+(Xe(S)?S:0),T;switch(m){case"start":T=Vk("calc(".concat(u,")"));break;case"middle":T=Vk("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=Vk("calc(".concat(b.length-1," * -").concat(l,")"));break}var L=[];if(f){var H=b[0].width,z=w.width;L.push("scale(".concat((Xe(z)?z/H:1)/H,")"))}return k&&L.push("rotate(".concat(k,", ").concat(O,", ").concat(P,")")),L.length&&(N.transform=L.join(" ")),te.createElement("text",qE({},jt(N,!0),{x:O,y:P,className:$t("recharts-text",j),textAnchor:p,fill:y.includes("url")?X3:y}),b.map(function(M,I){var U=M.words.join(E?"":" ");return te.createElement("tspan",{x:O,dy:I===0?T:l,key:"".concat(U,"-").concat(I)},U)}))};function ju(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function a$e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function DP(e){let t,r,n;e.length!==2?(t=ju,r=(l,c)=>ju(e(l),c),n=(l,c)=>e(l)-c):(t=e===ju||e===a$e?e:s$e,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function s$e(){return 0}function zK(e){return e===null?NaN:+e}function*i$e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const o$e=DP(ju),Ox=o$e.right;DP(zK).center;class J3 extends Map{constructor(t,r=u$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Q3(this,t))}has(t){return super.has(Q3(this,t))}set(t,r){return super.set(l$e(this,t),r)}delete(t){return super.delete(c$e(this,t))}}function Q3({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function l$e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function c$e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function u$e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function d$e(e=ju){if(e===ju)return WK;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function WK(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const f$e=Math.sqrt(50),h$e=Math.sqrt(10),m$e=Math.sqrt(2);function K1(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=f$e?10:s>=h$e?5:s>=m$e?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?K1(e,t,r*2):[l,c,u]}function GE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?K1(t,e,r):K1(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function KE(e,t,r){return t=+t,e=+e,r=+r,K1(e,t,r)[2]}function YE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?KE(t,e,r):KE(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Z3(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function eL(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function HK(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?WK:d$e(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));HK(e,t,p,g,a)}const s=e[t];let i=r,l=n;for(g0(e,r,t),a(e[n],s)>0&&g0(e,r,n);i<l;){for(g0(e,i,l),++i,--l;a(e[i],s)<0;)++i;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?g0(e,r,l):(++l,g0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function g0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function p$e(e,t,r){if(e=Float64Array.from(i$e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return eL(e);if(t>=1)return Z3(e);var n,a=(n-1)*t,s=Math.floor(a),i=Z3(HK(e,s).subarray(0,s+1)),l=eL(e.subarray(s+1));return i+(l-i)*(a-s)}}function g$e(e,t,r=zK){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return i+(l-i)*(a-s)}}function v$e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Hi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _c(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const XE=Symbol("implicit");function RP(){var e=new J3,t=[],r=[],n=XE;function a(s){let i=e.get(s);if(i===void 0){if(n!==XE)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new J3;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return RP(t,r).unknown(n)},Hi.apply(a,arguments),a}function hv(){var e=RP().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;s=(m-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(m-g-s*(h-c))*d,i=s*(1-c),l&&(g=Math.round(g),i=Math.round(i));var v=v$e(h).map(function(y){return g+s*y});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return hv(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Hi.apply(f(),arguments)}function qK(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qK(t())},e}function pg(){return qK(hv.apply(null,arguments).paddingInner(1))}function IP(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function GK(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Px(){}var mv=.7,Y1=1/mv,tm="\\s*([+-]?\\d+)\\s*",pv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ol="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",x$e=/^#([0-9a-f]{3,8})$/,y$e=new RegExp(`^rgb\\(${tm},${tm},${tm}\\)$`),w$e=new RegExp(`^rgb\\(${ol},${ol},${ol}\\)$`),b$e=new RegExp(`^rgba\\(${tm},${tm},${tm},${pv}\\)$`),_$e=new RegExp(`^rgba\\(${ol},${ol},${ol},${pv}\\)$`),S$e=new RegExp(`^hsl\\(${pv},${ol},${ol}\\)$`),j$e=new RegExp(`^hsla\\(${pv},${ol},${ol},${pv}\\)$`),tL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};IP(Px,gv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rL,formatHex:rL,formatHex8:k$e,formatHsl:N$e,formatRgb:nL,toString:nL});function rL(){return this.rgb().formatHex()}function k$e(){return this.rgb().formatHex8()}function N$e(){return KK(this).formatHsl()}function nL(){return this.rgb().formatRgb()}function gv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=x$e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?aL(t):r===3?new _s(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Wy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Wy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=y$e.exec(e))?new _s(t[1],t[2],t[3],1):(t=w$e.exec(e))?new _s(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=b$e.exec(e))?Wy(t[1],t[2],t[3],t[4]):(t=_$e.exec(e))?Wy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=S$e.exec(e))?oL(t[1],t[2]/100,t[3]/100,1):(t=j$e.exec(e))?oL(t[1],t[2]/100,t[3]/100,t[4]):tL.hasOwnProperty(e)?aL(tL[e]):e==="transparent"?new _s(NaN,NaN,NaN,0):null}function aL(e){return new _s(e>>16&255,e>>8&255,e&255,1)}function Wy(e,t,r,n){return n<=0&&(e=t=r=NaN),new _s(e,t,r,n)}function E$e(e){return e instanceof Px||(e=gv(e)),e?(e=e.rgb(),new _s(e.r,e.g,e.b,e.opacity)):new _s}function JE(e,t,r,n){return arguments.length===1?E$e(e):new _s(e,t,r,n??1)}function _s(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}IP(_s,JE,GK(Px,{brighter(e){return e=e==null?Y1:Math.pow(Y1,e),new _s(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mv:Math.pow(mv,e),new _s(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _s(zd(this.r),zd(this.g),zd(this.b),X1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sL,formatHex:sL,formatHex8:C$e,formatRgb:iL,toString:iL}));function sL(){return`#${jd(this.r)}${jd(this.g)}${jd(this.b)}`}function C$e(){return`#${jd(this.r)}${jd(this.g)}${jd(this.b)}${jd((isNaN(this.opacity)?1:this.opacity)*255)}`}function iL(){const e=X1(this.opacity);return`${e===1?"rgb(":"rgba("}${zd(this.r)}, ${zd(this.g)}, ${zd(this.b)}${e===1?")":`, ${e})`}`}function X1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jd(e){return e=zd(e),(e<16?"0":"")+e.toString(16)}function oL(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new po(e,t,r,n)}function KK(e){if(e instanceof po)return new po(e.h,e.s,e.l,e.opacity);if(e instanceof Px||(e=gv(e)),!e)return new po;if(e instanceof po)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(t===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new po(i,l,c,e.opacity)}function T$e(e,t,r,n){return arguments.length===1?KK(e):new po(e,t,r,n??1)}function po(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}IP(po,T$e,GK(Px,{brighter(e){return e=e==null?Y1:Math.pow(Y1,e),new po(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mv:Math.pow(mv,e),new po(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new _s(zk(e>=240?e-240:e+120,a,n),zk(e,a,n),zk(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new po(lL(this.h),Hy(this.s),Hy(this.l),X1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=X1(this.opacity);return`${e===1?"hsl(":"hsla("}${lL(this.h)}, ${Hy(this.s)*100}%, ${Hy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function lL(e){return e=(e||0)%360,e<0?e+360:e}function Hy(e){return Math.max(0,Math.min(1,e||0))}function zk(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const MP=e=>()=>e;function A$e(e,t){return function(r){return e+r*t}}function O$e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function P$e(e){return(e=+e)==1?YK:function(t,r){return r-t?O$e(t,r,e):MP(isNaN(t)?r:t)}}function YK(e,t){var r=t-e;return r?A$e(e,r):MP(isNaN(e)?t:e)}const cL=function e(t){var r=P$e(t);function n(a,s){var i=r((a=JE(a)).r,(s=JE(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=YK(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function D$e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function R$e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function I$e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=qp(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function M$e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function J1(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function F$e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=qp(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var QE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wk=new RegExp(QE.source,"g");function L$e(e){return function(){return e}}function $$e(e){return function(t){return e(t)+""}}function B$e(e,t){var r=QE.lastIndex=Wk.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=QE.exec(e))&&(a=Wk.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:J1(n,a)})),r=Wk.lastIndex;return r<t.length&&(s=t.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?$$e(c[0].x):L$e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function qp(e,t){var r=typeof t,n;return t==null||r==="boolean"?MP(t):(r==="number"?J1:r==="string"?(n=gv(t))?(t=n,cL):B$e:t instanceof gv?cL:t instanceof Date?M$e:R$e(t)?D$e:Array.isArray(t)?I$e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?F$e:J1)(e,t)}function FP(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function U$e(e,t){t===void 0&&(t=e,e=qp);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function V$e(e){return function(){return e}}function Q1(e){return+e}var uL=[0,1];function ss(e){return e}function ZE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:V$e(isNaN(t)?NaN:.5)}function z$e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function W$e(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=ZE(a,n),s=r(i,s)):(n=ZE(n,a),s=r(s,i)),function(l){return s(n(l))}}function H$e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=ZE(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(l){var c=Ox(e,l,1,n)-1;return s[c](a[c](l))}}function Dx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function CS(){var e=uL,t=uL,r=qp,n,a,s,i=ss,l,c,u;function d(){var h=Math.min(e.length,t.length);return i!==ss&&(i=z$e(e[0],e[h-1])),l=h>2?H$e:W$e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((u||(u=l(t,e.map(n),J1)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Q1),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=FP,d()},f.clamp=function(h){return arguments.length?(i=h?!0:ss,d()):i!==ss},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return n=h,a=p,d()}}function LP(){return CS()(ss,ss)}function q$e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Z1(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function zm(e){return e=Z1(Math.abs(e)),e?e[1]:NaN}function G$e(e,t){return function(r,n){for(var a=r.length,s=[],i=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return s.reverse().join(t)}}function K$e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Y$e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vv(e){if(!(t=Y$e.exec(e)))throw new Error("invalid format: "+e);var t;return new $P({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vv.prototype=$P.prototype;function $P(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$P.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function X$e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var XK;function J$e(e,t){var r=Z1(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(XK=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Z1(e,Math.max(0,t+s-1))[0]}function dL(e,t){var r=Z1(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const fL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:q$e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dL(e*100,t),r:dL,s:J$e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function hL(e){return e}var mL=Array.prototype.map,pL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Q$e(e){var t=e.grouping===void 0||e.thousands===void 0?hL:G$e(mL.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?hL:K$e(mL.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=vv(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,v=f.zero,y=f.width,w=f.comma,b=f.precision,_=f.trim,S=f.type;S==="n"?(w=!0,S="g"):fL[S]||(b===void 0&&(b=12),_=!0,S="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var k=m==="$"?r:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",j=m==="$"?n:/[%p]/.test(S)?i:"",E=fL[S],N=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function O(P){var T=k,L=j,H,z,M;if(S==="c")L=E(P)+L,P="";else{P=+P;var I=P<0||1/P<0;if(P=isNaN(P)?c:E(Math.abs(P),b),_&&(P=X$e(P)),I&&+P==0&&g!=="+"&&(I=!1),T=(I?g==="("?g:l:g==="-"||g==="("?"":g)+T,L=(S==="s"?pL[8+XK/3]:"")+L+(I&&g==="("?")":""),N){for(H=-1,z=P.length;++H<z;)if(M=P.charCodeAt(H),48>M||M>57){L=(M===46?a+P.slice(H+1):P.slice(H))+L,P=P.slice(0,H);break}}}w&&!v&&(P=t(P,1/0));var U=T.length+P.length+L.length,R=U<y?new Array(y-U+1).join(h):"";switch(w&&v&&(P=t(R+P,R.length?y-L.length:1/0),R=""),p){case"<":P=T+P+L+R;break;case"=":P=T+R+P+L;break;case"^":P=R.slice(0,U=R.length>>1)+T+P+L+R.slice(U);break;default:P=R+T+P+L;break}return s(P)}return O.toString=function(){return f+""},O}function d(f,h){var p=u((f=vv(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(zm(h)/3)))*3,m=Math.pow(10,-g),v=pL[8+g/3];return function(y){return p(m*y)+v}}return{format:u,formatPrefix:d}}var qy,BP,JK;Z$e({thousands:",",grouping:[3],currency:["$",""]});function Z$e(e){return qy=Q$e(e),BP=qy.format,JK=qy.formatPrefix,qy}function e5e(e){return Math.max(0,-zm(Math.abs(e)))}function t5e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zm(t)/3)))*3-zm(Math.abs(e)))}function r5e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zm(t)-zm(e))+1}function QK(e,t,r,n){var a=YE(e,t,r),s;switch(n=vv(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=t5e(a,i))&&(n.precision=s),JK(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=r5e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=e5e(a))&&(n.precision=s-(n.type==="%")*2);break}}return BP(n)}function Ku(e){var t=e.domain;return e.ticks=function(r){var n=t();return GE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return QK(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=KE(i,l,r),u===c)return n[a]=i,n[s]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function eb(){var e=LP();return e.copy=function(){return Dx(e,eb())},Hi.apply(e,arguments),Ku(e)}function ZK(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Q1),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return ZK(e).unknown(t)},e=arguments.length?Array.from(e,Q1):[0,1],Ku(r)}function eY(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function gL(e){return Math.log(e)}function vL(e){return Math.exp(e)}function n5e(e){return-Math.log(-e)}function a5e(e){return-Math.exp(-e)}function s5e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function i5e(e){return e===10?s5e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function o5e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function xL(e){return(t,r)=>-e(-t,r)}function UP(e){const t=e(gL,vL),r=t.domain;let n=10,a,s;function i(){return a=o5e(n),s=i5e(n),r()[0]<0?(a=xL(a),s=xL(s),e(n5e,a5e)):e(gL,vL),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),g,m;const v=l==null?10:+l;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/s(-h):g*s(h),!(m<u)){if(m>d)break;y.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/s(-h):g*s(h),!(m<u)){if(m>d)break;y.push(m)}y.length*2<v&&(y=GE(u,d,v))}else y=GE(h,p,Math.min(p-h,v)).map(s);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=vv(c)).precision==null&&(c.trim=!0),c=BP(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(eY(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function tY(){const e=UP(CS()).domain([1,10]);return e.copy=()=>Dx(e,tY()).base(e.base()),Hi.apply(e,arguments),e}function yL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function wL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function VP(e){var t=1,r=e(yL(t),wL(t));return r.constant=function(n){return arguments.length?e(yL(t=+n),wL(t)):t},Ku(r)}function rY(){var e=VP(CS());return e.copy=function(){return Dx(e,rY()).constant(e.constant())},Hi.apply(e,arguments)}function bL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function l5e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function c5e(e){return e<0?-e*e:e*e}function zP(e){var t=e(ss,ss),r=1;function n(){return r===1?e(ss,ss):r===.5?e(l5e,c5e):e(bL(r),bL(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ku(t)}function WP(){var e=zP(CS());return e.copy=function(){return Dx(e,WP()).exponent(e.exponent())},Hi.apply(e,arguments),e}function u5e(){return WP.apply(null,arguments).exponent(.5)}function _L(e){return Math.sign(e)*e*e}function d5e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function nY(){var e=LP(),t=[0,1],r=!1,n;function a(s){var i=d5e(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(_L(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Q1)).map(_L)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return nY(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Hi.apply(a,arguments),Ku(a)}function aY(){var e=[],t=[],r=[],n;function a(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=g$e(e,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:t[Ox(r,i)]}return s.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ju),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return aY().domain(e).range(t).unknown(n)},Hi.apply(s,arguments)}function sY(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[Ox(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return sY().domain([e,t]).range(a).unknown(s)},Hi.apply(Ku(i),arguments)}function iY(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Ox(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return iY().domain(e).range(t).unknown(r)},Hi.apply(a,arguments)}const Hk=new Date,qk=new Date;function $n(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<i);return c},a.filter=s=>$n(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!s(i););else for(;--l>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(Hk.setTime(+s),qk.setTime(+i),e(Hk),e(qk),Math.floor(r(Hk,qk))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const tb=$n(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);tb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$n(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):tb);tb.range;const Wl=1e3,Di=Wl*60,Hl=Di*60,dc=Hl*24,HP=dc*7,SL=dc*30,Gk=dc*365,kd=$n(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wl)},(e,t)=>(t-e)/Wl,e=>e.getUTCSeconds());kd.range;const qP=$n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wl)},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getMinutes());qP.range;const GP=$n(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getUTCMinutes());GP.range;const KP=$n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wl-e.getMinutes()*Di)},(e,t)=>{e.setTime(+e+t*Hl)},(e,t)=>(t-e)/Hl,e=>e.getHours());KP.range;const YP=$n(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Hl)},(e,t)=>(t-e)/Hl,e=>e.getUTCHours());YP.range;const Rx=$n(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Di)/dc,e=>e.getDate()-1);Rx.range;const TS=$n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/dc,e=>e.getUTCDate()-1);TS.range;const oY=$n(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/dc,e=>Math.floor(e/dc));oY.range;function Ff(e){return $n(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Di)/HP)}const AS=Ff(0),rb=Ff(1),f5e=Ff(2),h5e=Ff(3),Wm=Ff(4),m5e=Ff(5),p5e=Ff(6);AS.range;rb.range;f5e.range;h5e.range;Wm.range;m5e.range;p5e.range;function Lf(e){return $n(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/HP)}const OS=Lf(0),nb=Lf(1),g5e=Lf(2),v5e=Lf(3),Hm=Lf(4),x5e=Lf(5),y5e=Lf(6);OS.range;nb.range;g5e.range;v5e.range;Hm.range;x5e.range;y5e.range;const XP=$n(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());XP.range;const JP=$n(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());JP.range;const fc=$n(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$n(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});fc.range;const hc=$n(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());hc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$n(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});hc.range;function lY(e,t,r,n,a,s){const i=[[kd,1,Wl],[kd,5,5*Wl],[kd,15,15*Wl],[kd,30,30*Wl],[s,1,Di],[s,5,5*Di],[s,15,15*Di],[s,30,30*Di],[a,1,Hl],[a,3,3*Hl],[a,6,6*Hl],[a,12,12*Hl],[n,1,dc],[n,2,2*dc],[r,1,HP],[t,1,SL],[t,3,3*SL],[e,1,Gk]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=DP(([,,v])=>v).right(i,h);if(p===i.length)return e.every(YE(u/Gk,d/Gk,f));if(p===0)return tb.every(Math.max(YE(u,d,f),1));const[g,m]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return g.every(m)}return[l,c]}const[w5e,b5e]=lY(hc,JP,OS,oY,YP,GP),[_5e,S5e]=lY(fc,XP,AS,Rx,KP,qP);function Kk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Yk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function v0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function j5e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=x0(a),d=y0(a),f=x0(s),h=y0(s),p=x0(i),g=y0(i),m=x0(l),v=y0(l),y=x0(c),w=y0(c),b={a:I,A:U,b:R,B:Y,c:null,d:TL,e:TL,f:G5e,g:n8e,G:s8e,H:W5e,I:H5e,j:q5e,L:cY,m:K5e,M:Y5e,p:Z,q:C,Q:PL,s:DL,S:X5e,u:J5e,U:Q5e,V:Z5e,w:e8e,W:t8e,x:null,X:null,y:r8e,Y:a8e,Z:i8e,"%":OL},_={a:X,A:B,b:q,B:re,c:null,d:AL,e:AL,f:u8e,g:w8e,G:_8e,H:o8e,I:l8e,j:c8e,L:dY,m:d8e,M:f8e,p:se,q:le,Q:PL,s:DL,S:h8e,u:m8e,U:p8e,V:g8e,w:v8e,W:x8e,x:null,X:null,y:y8e,Y:b8e,Z:S8e,"%":OL},S={a:O,A:P,b:T,B:L,c:H,d:EL,e:EL,f:B5e,g:NL,G:kL,H:CL,I:CL,j:M5e,L:$5e,m:I5e,M:F5e,p:N,q:R5e,Q:V5e,s:z5e,S:L5e,u:T5e,U:A5e,V:O5e,w:C5e,W:P5e,x:z,X:M,y:NL,Y:kL,Z:D5e,"%":U5e};b.x=k(r,b),b.X=k(n,b),b.c=k(t,b),_.x=k(r,_),_.X=k(n,_),_.c=k(t,_);function k(ae,K){return function(me){var A=[],$e=-1,Ie=0,Ue=ae.length,Ve,De,pt;for(me instanceof Date||(me=new Date(+me));++$e<Ue;)ae.charCodeAt($e)===37&&(A.push(ae.slice(Ie,$e)),(De=jL[Ve=ae.charAt(++$e)])!=null?Ve=ae.charAt(++$e):De=Ve==="e"?" ":"0",(pt=K[Ve])&&(Ve=pt(me,De)),A.push(Ve),Ie=$e+1);return A.push(ae.slice(Ie,$e)),A.join("")}}function j(ae,K){return function(me){var A=v0(1900,void 0,1),$e=E(A,ae,me+="",0),Ie,Ue;if($e!=me.length)return null;if("Q"in A)return new Date(A.Q);if("s"in A)return new Date(A.s*1e3+("L"in A?A.L:0));if(K&&!("Z"in A)&&(A.Z=0),"p"in A&&(A.H=A.H%12+A.p*12),A.m===void 0&&(A.m="q"in A?A.q:0),"V"in A){if(A.V<1||A.V>53)return null;"w"in A||(A.w=1),"Z"in A?(Ie=Yk(v0(A.y,0,1)),Ue=Ie.getUTCDay(),Ie=Ue>4||Ue===0?nb.ceil(Ie):nb(Ie),Ie=TS.offset(Ie,(A.V-1)*7),A.y=Ie.getUTCFullYear(),A.m=Ie.getUTCMonth(),A.d=Ie.getUTCDate()+(A.w+6)%7):(Ie=Kk(v0(A.y,0,1)),Ue=Ie.getDay(),Ie=Ue>4||Ue===0?rb.ceil(Ie):rb(Ie),Ie=Rx.offset(Ie,(A.V-1)*7),A.y=Ie.getFullYear(),A.m=Ie.getMonth(),A.d=Ie.getDate()+(A.w+6)%7)}else("W"in A||"U"in A)&&("w"in A||(A.w="u"in A?A.u%7:"W"in A?1:0),Ue="Z"in A?Yk(v0(A.y,0,1)).getUTCDay():Kk(v0(A.y,0,1)).getDay(),A.m=0,A.d="W"in A?(A.w+6)%7+A.W*7-(Ue+5)%7:A.w+A.U*7-(Ue+6)%7);return"Z"in A?(A.H+=A.Z/100|0,A.M+=A.Z%100,Yk(A)):Kk(A)}}function E(ae,K,me,A){for(var $e=0,Ie=K.length,Ue=me.length,Ve,De;$e<Ie;){if(A>=Ue)return-1;if(Ve=K.charCodeAt($e++),Ve===37){if(Ve=K.charAt($e++),De=S[Ve in jL?K.charAt($e++):Ve],!De||(A=De(ae,me,A))<0)return-1}else if(Ve!=me.charCodeAt(A++))return-1}return A}function N(ae,K,me){var A=u.exec(K.slice(me));return A?(ae.p=d.get(A[0].toLowerCase()),me+A[0].length):-1}function O(ae,K,me){var A=p.exec(K.slice(me));return A?(ae.w=g.get(A[0].toLowerCase()),me+A[0].length):-1}function P(ae,K,me){var A=f.exec(K.slice(me));return A?(ae.w=h.get(A[0].toLowerCase()),me+A[0].length):-1}function T(ae,K,me){var A=y.exec(K.slice(me));return A?(ae.m=w.get(A[0].toLowerCase()),me+A[0].length):-1}function L(ae,K,me){var A=m.exec(K.slice(me));return A?(ae.m=v.get(A[0].toLowerCase()),me+A[0].length):-1}function H(ae,K,me){return E(ae,t,K,me)}function z(ae,K,me){return E(ae,r,K,me)}function M(ae,K,me){return E(ae,n,K,me)}function I(ae){return i[ae.getDay()]}function U(ae){return s[ae.getDay()]}function R(ae){return c[ae.getMonth()]}function Y(ae){return l[ae.getMonth()]}function Z(ae){return a[+(ae.getHours()>=12)]}function C(ae){return 1+~~(ae.getMonth()/3)}function X(ae){return i[ae.getUTCDay()]}function B(ae){return s[ae.getUTCDay()]}function q(ae){return c[ae.getUTCMonth()]}function re(ae){return l[ae.getUTCMonth()]}function se(ae){return a[+(ae.getUTCHours()>=12)]}function le(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var K=k(ae+="",b);return K.toString=function(){return ae},K},parse:function(ae){var K=j(ae+="",!1);return K.toString=function(){return ae},K},utcFormat:function(ae){var K=k(ae+="",_);return K.toString=function(){return ae},K},utcParse:function(ae){var K=j(ae+="",!0);return K.toString=function(){return ae},K}}}var jL={"-":"",_:" ",0:"0"},Kn=/^\s*\d+/,k5e=/^%/,N5e=/[\\^$*+?|[\]().{}]/g;function or(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function E5e(e){return e.replace(N5e,"\\$&")}function x0(e){return new RegExp("^(?:"+e.map(E5e).join("|")+")","i")}function y0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function C5e(e,t,r){var n=Kn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function T5e(e,t,r){var n=Kn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function A5e(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function O5e(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function P5e(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function kL(e,t,r){var n=Kn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function NL(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function D5e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function R5e(e,t,r){var n=Kn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function I5e(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function EL(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function M5e(e,t,r){var n=Kn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function CL(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function F5e(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function L5e(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function $5e(e,t,r){var n=Kn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function B5e(e,t,r){var n=Kn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function U5e(e,t,r){var n=k5e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function V5e(e,t,r){var n=Kn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function z5e(e,t,r){var n=Kn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function TL(e,t){return or(e.getDate(),t,2)}function W5e(e,t){return or(e.getHours(),t,2)}function H5e(e,t){return or(e.getHours()%12||12,t,2)}function q5e(e,t){return or(1+Rx.count(fc(e),e),t,3)}function cY(e,t){return or(e.getMilliseconds(),t,3)}function G5e(e,t){return cY(e,t)+"000"}function K5e(e,t){return or(e.getMonth()+1,t,2)}function Y5e(e,t){return or(e.getMinutes(),t,2)}function X5e(e,t){return or(e.getSeconds(),t,2)}function J5e(e){var t=e.getDay();return t===0?7:t}function Q5e(e,t){return or(AS.count(fc(e)-1,e),t,2)}function uY(e){var t=e.getDay();return t>=4||t===0?Wm(e):Wm.ceil(e)}function Z5e(e,t){return e=uY(e),or(Wm.count(fc(e),e)+(fc(e).getDay()===4),t,2)}function e8e(e){return e.getDay()}function t8e(e,t){return or(rb.count(fc(e)-1,e),t,2)}function r8e(e,t){return or(e.getFullYear()%100,t,2)}function n8e(e,t){return e=uY(e),or(e.getFullYear()%100,t,2)}function a8e(e,t){return or(e.getFullYear()%1e4,t,4)}function s8e(e,t){var r=e.getDay();return e=r>=4||r===0?Wm(e):Wm.ceil(e),or(e.getFullYear()%1e4,t,4)}function i8e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+or(t/60|0,"0",2)+or(t%60,"0",2)}function AL(e,t){return or(e.getUTCDate(),t,2)}function o8e(e,t){return or(e.getUTCHours(),t,2)}function l8e(e,t){return or(e.getUTCHours()%12||12,t,2)}function c8e(e,t){return or(1+TS.count(hc(e),e),t,3)}function dY(e,t){return or(e.getUTCMilliseconds(),t,3)}function u8e(e,t){return dY(e,t)+"000"}function d8e(e,t){return or(e.getUTCMonth()+1,t,2)}function f8e(e,t){return or(e.getUTCMinutes(),t,2)}function h8e(e,t){return or(e.getUTCSeconds(),t,2)}function m8e(e){var t=e.getUTCDay();return t===0?7:t}function p8e(e,t){return or(OS.count(hc(e)-1,e),t,2)}function fY(e){var t=e.getUTCDay();return t>=4||t===0?Hm(e):Hm.ceil(e)}function g8e(e,t){return e=fY(e),or(Hm.count(hc(e),e)+(hc(e).getUTCDay()===4),t,2)}function v8e(e){return e.getUTCDay()}function x8e(e,t){return or(nb.count(hc(e)-1,e),t,2)}function y8e(e,t){return or(e.getUTCFullYear()%100,t,2)}function w8e(e,t){return e=fY(e),or(e.getUTCFullYear()%100,t,2)}function b8e(e,t){return or(e.getUTCFullYear()%1e4,t,4)}function _8e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Hm(e):Hm.ceil(e),or(e.getUTCFullYear()%1e4,t,4)}function S8e(){return"+0000"}function OL(){return"%"}function PL(e){return+e}function DL(e){return Math.floor(+e/1e3)}var rh,hY,mY;j8e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function j8e(e){return rh=j5e(e),hY=rh.format,rh.parse,mY=rh.utcFormat,rh.utcParse,rh}function k8e(e){return new Date(e)}function N8e(e){return e instanceof Date?+e:+new Date(+e)}function QP(e,t,r,n,a,s,i,l,c,u){var d=LP(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),w=u("%b %d"),b=u("%B"),_=u("%Y");function S(k){return(c(k)<k?p:l(k)<k?g:i(k)<k?m:s(k)<k?v:n(k)<k?a(k)<k?y:w:r(k)<k?b:_)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,N8e)):h().map(k8e)},d.ticks=function(k){var j=h();return e(j[0],j[j.length-1],k??10)},d.tickFormat=function(k,j){return j==null?S:u(j)},d.nice=function(k){var j=h();return(!k||typeof k.range!="function")&&(k=t(j[0],j[j.length-1],k??10)),k?h(eY(j,k)):d},d.copy=function(){return Dx(d,QP(e,t,r,n,a,s,i,l,c,u))},d}function E8e(){return Hi.apply(QP(_5e,S5e,fc,XP,AS,Rx,KP,qP,kd,hY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function C8e(){return Hi.apply(QP(w5e,b5e,hc,JP,OS,TS,YP,GP,kd,mY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function PS(){var e=0,t=1,r,n,a,s,i=ss,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,i=f(p,g),u):[i(0),i(1)]}}return u.range=d(qp),u.rangeRound=d(FP),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Yu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pY(){var e=Ku(PS()(ss));return e.copy=function(){return Yu(e,pY())},_c.apply(e,arguments)}function gY(){var e=UP(PS()).domain([1,10]);return e.copy=function(){return Yu(e,gY()).base(e.base())},_c.apply(e,arguments)}function vY(){var e=VP(PS());return e.copy=function(){return Yu(e,vY()).constant(e.constant())},_c.apply(e,arguments)}function ZP(){var e=zP(PS());return e.copy=function(){return Yu(e,ZP()).exponent(e.exponent())},_c.apply(e,arguments)}function T8e(){return ZP.apply(null,arguments).exponent(.5)}function xY(){var e=[],t=ss;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ox(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ju),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>p$e(e,s/n))},r.copy=function(){return xY(t).domain(e)},_c.apply(r,arguments)}function DS(){var e=0,t=.5,r=1,n=1,a,s,i,l,c,u=ss,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-s)*(n*m<n*s?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),s=d(t=+t),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(v){var y,w,b;return arguments.length?([y,w,b]=v,u=U$e(m,[y,w,b]),p):[u(0),u(.5),u(1)]}}return p.range=g(qp),p.rangeRound=g(FP),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),s=m(t),i=m(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,p}}function yY(){var e=Ku(DS()(ss));return e.copy=function(){return Yu(e,yY())},_c.apply(e,arguments)}function wY(){var e=UP(DS()).domain([.1,1,10]);return e.copy=function(){return Yu(e,wY()).base(e.base())},_c.apply(e,arguments)}function bY(){var e=VP(DS());return e.copy=function(){return Yu(e,bY()).constant(e.constant())},_c.apply(e,arguments)}function e4(){var e=zP(DS());return e.copy=function(){return Yu(e,e4()).exponent(e.exponent())},_c.apply(e,arguments)}function A8e(){return e4.apply(null,arguments).exponent(.5)}const RL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hv,scaleDiverging:yY,scaleDivergingLog:wY,scaleDivergingPow:e4,scaleDivergingSqrt:A8e,scaleDivergingSymlog:bY,scaleIdentity:ZK,scaleImplicit:XE,scaleLinear:eb,scaleLog:tY,scaleOrdinal:RP,scalePoint:pg,scalePow:WP,scaleQuantile:aY,scaleQuantize:sY,scaleRadial:nY,scaleSequential:pY,scaleSequentialLog:gY,scaleSequentialPow:ZP,scaleSequentialQuantile:xY,scaleSequentialSqrt:T8e,scaleSequentialSymlog:vY,scaleSqrt:u5e,scaleSymlog:rY,scaleThreshold:iY,scaleTime:E8e,scaleUtc:C8e,tickFormat:QK},Symbol.toStringTag,{value:"Module"}));var O8e=Fp;function P8e(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],i=t(s);if(i!=null&&(l===void 0?i===i&&!O8e(i):r(i,l)))var l=i,c=s}return c}var RS=P8e;function D8e(e,t){return e>t}var _Y=D8e,R8e=RS,I8e=_Y,M8e=Hp;function F8e(e){return e&&e.length?R8e(e,M8e,I8e):void 0}var L8e=F8e;const IS=hr(L8e);function $8e(e,t){return e<t}var SY=$8e,B8e=RS,U8e=SY,V8e=Hp;function z8e(e){return e&&e.length?B8e(e,V8e,U8e):void 0}var W8e=z8e;const MS=hr(W8e);var H8e=hP,q8e=_l,G8e=OK,K8e=$s;function Y8e(e,t){var r=K8e(e)?H8e:G8e;return r(e,q8e(t))}var X8e=Y8e,J8e=TK,Q8e=X8e;function Z8e(e,t){return J8e(Q8e(e,t),1)}var e6e=Z8e;const t6e=hr(e6e);var r6e=CP;function n6e(e,t){return r6e(e,t)}var a6e=n6e;const Ix=hr(a6e);var Gp=1e9,s6e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},r4,Wr=!0,Ui="[DecimalError] ",Wd=Ui+"Invalid argument: ",t4=Ui+"Exponent out of range: ",Kp=Math.floor,cd=Math.pow,i6e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ri,Vn=1e7,Lr=7,jY=9007199254740991,ab=Kp(jY/Lr),ot={};ot.absoluteValue=ot.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ot.comparedTo=ot.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ot.decimalPlaces=ot.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Lr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ot.dividedBy=ot.div=function(e){return Jl(this,new this.constructor(e))};ot.dividedToIntegerBy=ot.idiv=function(e){var t=this,r=t.constructor;return kr(Jl(t,new r(e),0,1),r.precision)};ot.equals=ot.eq=function(e){return!this.cmp(e)};ot.exponent=function(){return Sn(this)};ot.greaterThan=ot.gt=function(e){return this.cmp(e)>0};ot.greaterThanOrEqualTo=ot.gte=function(e){return this.cmp(e)>=0};ot.isInteger=ot.isint=function(){return this.e>this.d.length-2};ot.isNegative=ot.isneg=function(){return this.s<0};ot.isPositive=ot.ispos=function(){return this.s>0};ot.isZero=function(){return this.s===0};ot.lessThan=ot.lt=function(e){return this.cmp(e)<0};ot.lessThanOrEqualTo=ot.lte=function(e){return this.cmp(e)<1};ot.logarithm=ot.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ri))throw Error(Ui+"NaN");if(r.s<1)throw Error(Ui+(r.s?"NaN":"-Infinity"));return r.eq(ri)?new n(0):(Wr=!1,t=Jl(xv(r,s),xv(e,s),s),Wr=!0,kr(t,a))};ot.minus=ot.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?EY(t,e):kY(t,(e.s=-e.s,e))};ot.modulo=ot.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ui+"NaN");return r.s?(Wr=!1,t=Jl(r,e,0,1).times(e),Wr=!0,r.minus(t)):kr(new n(r),a)};ot.naturalExponential=ot.exp=function(){return NY(this)};ot.naturalLogarithm=ot.ln=function(){return xv(this)};ot.negated=ot.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ot.plus=ot.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kY(t,e):EY(t,(e.s=-e.s,e))};ot.precision=ot.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wd+e);if(t=Sn(a)+1,n=a.d.length-1,r=n*Lr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ot.squareRoot=ot.sqrt=function(){var e,t,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ui+"NaN")}for(e=Sn(l),Wr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=el(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Kp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(Jl(l,s,i+2)).times(.5),el(s.d).slice(0,i)===(t=el(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(kr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;i+=4}return Wr=!0,kr(n,r)};ot.times=ot.mul=function(e){var t,r,n,a,s,i,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(s=h,h=p,p=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+p[n]*h[a-n-1]+t,s[a--]=l%Vn|0,t=l/Vn|0;s[a]=(s[a]+t)%Vn|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Wr?kr(e,f.precision):e};ot.toDecimalPlaces=ot.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(pl(e,0,Gp),t===void 0?t=n.rounding:pl(t,0,8),kr(r,e+Sn(r)+1,t))};ot.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=yf(n,!0):(pl(e,0,Gp),t===void 0?t=a.rounding:pl(t,0,8),n=kr(new a(n),e+1,t),r=yf(n,!0,e+1)),r};ot.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?yf(a):(pl(e,0,Gp),t===void 0?t=s.rounding:pl(t,0,8),n=kr(new s(a),e+Sn(a)+1,t),r=yf(n.abs(),!1,e+Sn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ot.toInteger=ot.toint=function(){var e=this,t=e.constructor;return kr(new t(e),Sn(e)+1,t.rounding)};ot.toNumber=function(){return+this};ot.toPower=ot.pow=function(e){var t,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ri);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ui+"Infinity");return l}if(l.eq(ri))return l;if(n=c.precision,e.eq(ri))return kr(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=l.s,i){if((r=d<0?-d:d)<=jY){for(a=new c(ri),t=Math.ceil(n/Lr+4),Wr=!1;r%2&&(a=a.times(l),ML(a.d,t)),r=Kp(r/2),r!==0;)l=l.times(l),ML(l.d,t);return Wr=!0,e.s<0?new c(ri).div(a):kr(a,n)}}else if(s<0)throw Error(Ui+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Wr=!1,a=e.times(xv(l,n+u)),Wr=!0,a=NY(a),a.s=s,a};ot.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Sn(a),n=yf(a,r<=s.toExpNeg||r>=s.toExpPos)):(pl(e,1,Gp),t===void 0?t=s.rounding:pl(t,0,8),a=kr(new s(a),e,t),r=Sn(a),n=yf(a,e<=r||r<=s.toExpNeg,e)),n};ot.toSignificantDigits=ot.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(pl(e,1,Gp),t===void 0?t=n.rounding:pl(t,0,8)),kr(new n(r),e,t)};ot.toString=ot.valueOf=ot.val=ot.toJSON=ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Sn(e),r=e.constructor;return yf(e,t<=r.toExpNeg||t>=r.toExpPos)};function kY(e,t){var r,n,a,s,i,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Wr?kr(t,f):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/Lr),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Vn|0,c[s]%=Vn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Wr?kr(t,f):t}function pl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Wd+e)}function el(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=Lr-n.length,r&&(s+=Lc(r)),s+=n;i=e[t],n=i+"",r=Lr-n.length,r&&(s+=Lc(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var Jl=function(){function e(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%Vn|0,i=s/Vn|0;return i&&n.unshift(i),n}function t(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*Vn+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,h,p,g,m,v,y,w,b,_,S,k,j,E,N=n.constructor,O=n.s==a.s?1:-1,P=n.d,T=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(Ui+"Division by zero");for(c=n.e-a.e,j=T.length,S=P.length,p=new N(O),g=p.d=[],u=0;T[u]==(P[u]||0);)++u;if(T[u]>(P[u]||0)&&--c,s==null?w=s=N.precision:i?w=s+(Sn(n)-Sn(a))+1:w=s,w<0)return new N(0);if(w=w/Lr+2|0,u=0,j==1)for(d=0,T=T[0],w++;(u<S||d)&&w--;u++)b=d*Vn+(P[u]||0),g[u]=b/T|0,d=b%T|0;else{for(d=Vn/(T[0]+1)|0,d>1&&(T=e(T,d),P=e(P,d),j=T.length,S=P.length),_=j,m=P.slice(0,j),v=m.length;v<j;)m[v++]=0;E=T.slice(),E.unshift(0),k=T[0],T[1]>=Vn/2&&++k;do d=0,l=t(T,m,j,v),l<0?(y=m[0],j!=v&&(y=y*Vn+(m[1]||0)),d=y/k|0,d>1?(d>=Vn&&(d=Vn-1),f=e(T,d),h=f.length,v=m.length,l=t(f,m,h,v),l==1&&(d--,r(f,j<h?E:T,h))):(d==0&&(l=d=1),f=T.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=t(T,m,j,v),l<1&&(d++,r(m,j<v?E:T,v))),v=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[v++]=P[_]||0:(m=[P[_]],v=1);while((_++<S||m[0]!==void 0)&&w--)}return g[0]||g.shift(),p.e=c,kr(p,i?s+Sn(p)+1:s)}}();function NY(e,t){var r,n,a,s,i,l,c=0,u=0,d=e.constructor,f=d.precision;if(Sn(e)>16)throw Error(t4+Sn(e));if(!e.s)return new d(ri);for(t==null?(Wr=!1,l=f):l=t,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(cd(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(ri),d.precision=l;;){if(a=kr(a.times(e),l),r=r.times(++c),i=s.plus(Jl(a,r,l)),el(i.d).slice(0,l)===el(s.d).slice(0,l)){for(;u--;)s=kr(s.times(s),l);return d.precision=f,t==null?(Wr=!0,kr(s,f)):s}s=i}}function Sn(e){for(var t=e.e*Lr,r=e.d[0];r>=10;r/=10)t++;return t}function Xk(e,t,r){if(t>e.LN10.sd())throw Wr=!0,r&&(e.precision=r),Error(Ui+"LN10 precision limit exceeded");return kr(new e(e.LN10),t)}function Lc(e){for(var t="";e--;)t+="0";return t}function xv(e,t){var r,n,a,s,i,l,c,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(Ui+(p.s?"NaN":"-Infinity"));if(p.eq(ri))return new m(0);if(t==null?(Wr=!1,u=v):u=t,p.eq(10))return t==null&&(Wr=!0),Xk(m,u);if(u+=h,m.precision=u,r=el(g),n=r.charAt(0),s=Sn(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=el(p.d),n=r.charAt(0),f++;s=Sn(p),n>1?(p=new m("0."+r),s++):p=new m(n+"."+r.slice(1))}else return c=Xk(m,u+2,v).times(s+""),p=xv(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=v,t==null?(Wr=!0,kr(p,v)):p;for(l=i=p=Jl(p.minus(ri),p.plus(ri),u),d=kr(p.times(p),u),a=3;;){if(i=kr(i.times(d),u),c=l.plus(Jl(i,new m(a),u)),el(c.d).slice(0,u)===el(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(Xk(m,u+2,v).times(s+""))),l=Jl(l,new m(f),u),m.precision=v,t==null?(Wr=!0,kr(l,v)):l;l=c,a+=2}}function IL(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Kp(r/Lr),e.d=[],n=(r+1)%Lr,r<0&&(n+=Lr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Lr;n<a;)e.d.push(+t.slice(n,n+=Lr));t=t.slice(n),n=Lr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Wr&&(e.e>ab||e.e<-ab))throw Error(t4+r)}else e.s=0,e.e=0,e.d=[0];return e}function kr(e,t,r){var n,a,s,i,l,c,u,d,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=Lr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Lr),s=f.length,d>=s)return e;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Lr,a=n-Lr+i}if(r!==void 0&&(s=cd(10,i-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/cd(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Sn(e),f.length=1,t=t-s-1,f[0]=cd(10,(Lr-t%Lr)%Lr),e.e=Kp(-t/Lr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=cd(10,Lr-n),f[d]=a>0?(u/cd(10,i-a)%cd(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Vn&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Vn)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Wr&&(e.e>ab||e.e<-ab))throw Error(t4+Sn(e));return e}function EY(e,t){var r,n,a,s,i,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Wr?kr(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/Lr),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=Vn-1;--c[s],c[a]+=Vn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Wr?kr(t,p):t):new h(0)}function yf(e,t,r){var n,a=Sn(e),s=el(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+Lc(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Lc(-a-1)+s,r&&(n=r-i)>0&&(s+=Lc(n))):a>=i?(s+=Lc(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+Lc(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=Lc(n))),e.s<0?"-"+s:s}function ML(e,t){if(e.length>t)return e.length=t,!0}function CY(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Wd+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return IL(i,s.toString())}else if(typeof s!="string")throw Error(Wd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,i6e.test(s))IL(i,s);else throw Error(Wd+s)}if(a.prototype=ot,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=CY,a.config=a.set=o6e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function o6e(e){if(!e||typeof e!="object")throw Error(Ui+"Object expected");var t,r,n,a=["precision",1,Gp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Kp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Wd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Wd+r+": "+n);return this}var r4=CY(s6e);ri=new r4(1);const _r=r4;function l6e(e){return f6e(e)||d6e(e)||u6e(e)||c6e()}function c6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u6e(e,t){if(e){if(typeof e=="string")return eC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eC(e,t)}}function d6e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function f6e(e){if(Array.isArray(e))return eC(e)}function eC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h6e=function(t){return t},TY={"@@functional/placeholder":!0},AY=function(t){return t===TY},FL=function(t){return function r(){return arguments.length===0||arguments.length===1&&AY(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},m6e=function e(t,r){return t===1?r:FL(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==TY}).length;return i>=t?r.apply(void 0,a):e(t-i,FL(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return AY(f)?c.shift():f});return r.apply(void 0,l6e(d).concat(c))}))})},FS=function(t){return m6e(t.length,t)},tC=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},p6e=FS(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),g6e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return h6e;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},rC=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},OY=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function v6e(e){var t;return e===0?t=1:t=Math.floor(new _r(e).abs().log(10).toNumber())+1,t}function x6e(e,t,r){for(var n=new _r(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var y6e=FS(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),w6e=FS(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),b6e=FS(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const LS={rangeStep:x6e,getDigitCount:v6e,interpolateNumber:y6e,uninterpolateNumber:w6e,uninterpolateTruncation:b6e};function nC(e){return j6e(e)||S6e(e)||PY(e)||_6e()}function _6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S6e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function j6e(e){if(Array.isArray(e))return aC(e)}function yv(e,t){return E6e(e)||N6e(e,t)||PY(e,t)||k6e()}function k6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PY(e,t){if(e){if(typeof e=="string")return aC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aC(e,t)}}function aC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N6e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=e[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function E6e(e){if(Array.isArray(e))return e}function DY(e){var t=yv(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function RY(e,t,r){if(e.lte(0))return new _r(0);var n=LS.getDigitCount(e.toNumber()),a=new _r(10).pow(n),s=e.div(a),i=n!==1?.05:.1,l=new _r(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return t?c:new _r(Math.ceil(c))}function C6e(e,t,r){var n=1,a=new _r(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new _r(10).pow(LS.getDigitCount(e)-1),a=new _r(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new _r(Math.floor(e)))}else e===0?a=new _r(Math.floor((t-1)/2)):r||(a=new _r(Math.floor(e)));var i=Math.floor((t-1)/2),l=g6e(p6e(function(c){return a.add(new _r(c-i).mul(n)).toNumber()}),tC);return l(0,t)}function IY(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new _r(0),tickMin:new _r(0),tickMax:new _r(0)};var s=RY(new _r(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new _r(0):(i=new _r(e).add(t).div(2),i=i.sub(new _r(i).mod(s)));var l=Math.ceil(i.sub(e).div(s).toNumber()),c=Math.ceil(new _r(t).sub(i).div(s).toNumber()),u=l+c+1;return u>r?IY(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:i.sub(new _r(l).mul(s)),tickMax:i.add(new _r(c).mul(s))})}function T6e(e){var t=yv(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=DY([r,n]),c=yv(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(nC(tC(0,a-1).map(function(){return 1/0}))):[].concat(nC(tC(0,a-1).map(function(){return-1/0})),[d]);return r>n?rC(f):f}if(u===d)return C6e(u,a,s);var h=IY(u,d,i,s),p=h.step,g=h.tickMin,m=h.tickMax,v=LS.rangeStep(g,m.add(new _r(.1).mul(p)),p);return r>n?rC(v):v}function A6e(e,t){var r=yv(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=DY([n,a]),l=yv(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=RY(new _r(u).sub(c).div(d-1),s,0),h=[].concat(nC(LS.rangeStep(new _r(c),new _r(u).sub(new _r(.99).mul(f)),f)),[u]);return n>a?rC(h):h}var O6e=OY(T6e),P6e=OY(A6e),D6e="Invariant failed";function wf(e,t){throw new Error(D6e)}var R6e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sb.apply(this,arguments)}function I6e(e,t){return $6e(e)||L6e(e,t)||F6e(e,t)||M6e()}function M6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F6e(e,t){if(e){if(typeof e=="string")return LL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LL(e,t)}}function LL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function $6e(e){if(Array.isArray(e))return e}function B6e(e,t){if(e==null)return{};var r=U6e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function V6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LY(n.key),n)}}function W6e(e,t,r){return t&&z6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H6e(e,t,r){return t=ib(t),q6e(e,MY()?Reflect.construct(t,r||[],ib(e).constructor):t.apply(e,r))}function q6e(e,t){if(t&&(qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G6e(e)}function G6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MY=function(){return!!e})()}function ib(e){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ib(e)}function K6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sC(e,t)}function sC(e,t){return sC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sC(e,t)}function FY(e,t,r){return t=LY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LY(e){var t=Y6e(e,"string");return qm(t)=="symbol"?t:t+""}function Y6e(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mx=function(e){function t(){return V6e(this,t),H6e(this,t,arguments)}return K6e(t,e),W6e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=B6e(n,R6e),p=jt(h,!1);this.props.direction==="x"&&d.type!=="number"&&wf();var g=c.map(function(m){var v=u(m,l),y=v.x,w=v.y,b=v.value,_=v.errorVal;if(!_)return null;var S=[],k,j;if(Array.isArray(_)){var E=I6e(_,2);k=E[0],j=E[1]}else k=j=_;if(s==="vertical"){var N=d.scale,O=w+a,P=O+i,T=O-i,L=N(b-k),H=N(b+j);S.push({x1:H,y1:P,x2:H,y2:T}),S.push({x1:L,y1:O,x2:H,y2:O}),S.push({x1:L,y1:P,x2:L,y2:T})}else if(s==="horizontal"){var z=f.scale,M=y+a,I=M-i,U=M+i,R=z(b-k),Y=z(b+j);S.push({x1:I,y1:Y,x2:U,y2:Y}),S.push({x1:M,y1:R,x2:M,y2:Y}),S.push({x1:I,y1:R,x2:U,y2:R})}return te.createElement(ir,sb({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),S.map(function(Z){return te.createElement("line",sb({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return te.createElement(ir,{className:"recharts-errorBars"},g)}}])}(te.Component);FY(Mx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});FY(Mx,"displayName","ErrorBar");function wv(e){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wv(e)}function $L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ed(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(r),!0).forEach(function(n){X6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X6e(e,t,r){return t=J6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J6e(e){var t=Q6e(e,"string");return wv(t)=="symbol"?t:t+""}function Q6e(e,t){if(wv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Y=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,i=Gs(r,Su);if(!i)return null;var l=Su.defaultProps,c=l!==void 0?ed(ed({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:i.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?ed(ed({},h),f.props):{},g=p.dataKey,m=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:c.iconType||v||"square",color:n4(f),value:m||g,payload:p}}),ed(ed(ed({},c),Su.getWithHeight(i,a)),{},{payload:u,item:i})};function bv(e){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(e)}function BL(e){return rBe(e)||tBe(e)||eBe(e)||Z6e()}function Z6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eBe(e,t){if(e){if(typeof e=="string")return iC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iC(e,t)}}function tBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rBe(e){if(Array.isArray(e))return iC(e)}function iC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UL(Object(r),!0).forEach(function(n){rm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rm(e,t,r){return t=nBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nBe(e){var t=aBe(e,"string");return bv(t)=="symbol"?t:t+""}function aBe(e,t){if(bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rn(e,t,r){return Lt(e)||Lt(t)?r:Fn(t)?li(e,t,r):At(t)?t(e):r}function gg(e,t,r,n){var a=t6e(e,function(l){return Rn(l,t)});if(r==="number"){var s=a.filter(function(l){return Xe(l)||parseFloat(l)});return s.length?[MS(s),IS(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Lt(l)}):a;return i.map(function(l){return Fn(l)||l instanceof Date?l:""})}var sBe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(ns(f-d)!==ns(h-f)){var g=[];if(ns(h-f)===ns(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){i=a[u].index;break}}else{var w=Math.min(d,h),b=Math.max(d,h);if(t>(w+f)/2&&t<=(b+f)/2){i=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){i=n[_].index;break}return i},n4=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?tn(tn({},t.type.defaultProps),t.props):t.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},iBe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,v=g.cateAxisId,y=m.filter(function(j){return Xl(j.type).indexOf("Bar")>=0});if(y&&y.length){var w=y[0].type.defaultProps,b=w!==void 0?tn(tn({},w),y[0].props):y[0].props,_=b.barSize,S=b[v];i[S]||(i[S]=[]);var k=Lt(_)?r:_;i[S].push({item:y[0],stackList:y.slice(1),barSize:Lt(k)?void 0:as(k,n,0)})}}return i},oBe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,i=s===void 0?[]:s,l=t.maxBarSize,c=i.length;if(c<1)return null;var u=as(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=a/c,g=i.reduce(function(_,S){return _+S.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&p>0&&(h=!0,p*=.9,g=c*p);var m=(a-g)/2>>0,v={offset:m-u,size:0};d=i.reduce(function(_,S){var k={item:S.item,position:{offset:v.offset+v.size+u,size:h?p:S.barSize}},j=[].concat(BL(_),[k]);return v=j[j.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){j.push({item:E,position:v})}),j},f)}else{var y=as(n,a,0,!0);a-2*y-(c-1)*u<=0&&(u=0);var w=(a-2*y-(c-1)*u)/c;w>1&&(w>>=0);var b=l===+l?Math.min(w,l):w;d=i.reduce(function(_,S,k){var j=[].concat(BL(_),[{item:S.item,position:{offset:y+(w+u)*k+(w-b)/2,size:b}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){j.push({item:E,position:j[j.length-1].position})}),j},f)}return d},lBe=function(t,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=$Y({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&Xe(t[p]))return tn(tn({},t),{},rm({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&Xe(t[g]))return tn(tn({},t),{},rm({},g,t[g]+(h||0)))}return t},cBe=function(t,r,n){return Lt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},BY=function(t,r,n,a,s){var i=r.props.children,l=ci(i,Mx).filter(function(u){return cBe(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Rn(d,n);if(Lt(f))return u;var h=Array.isArray(f)?[MS(f),IS(f)]:[f,f],p=c.reduce(function(g,m){var v=Rn(d,m,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},uBe=function(t,r,n,a,s){var i=r.map(function(l){return BY(t,l,n,s,a)}).filter(function(l){return!Lt(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},UY=function(t,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&BY(t,c,u,a)||gg(t,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},VY=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},zY=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,i,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(i=!0),c.coordinate});return s||l.push(r),i||l.push(n),l},ql=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,i=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ns(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Tx(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},Jk=new WeakMap,Gy=function(t,r){if(typeof r!="function")return t;Jk.has(t)||Jk.set(t,new WeakMap);var n=Jk.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},WY=function(t,r,n){var a=t.scale,s=t.type,i=t.layout,l=t.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:hv(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:eb(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:pg(),realScaleType:"point"}:s==="category"?{scale:hv(),realScaleType:"band"}:{scale:eb(),realScaleType:"linear"};if(gf(a)){var c="scale".concat(bS(a));return{scale:(RL[c]||pg)(),realScaleType:RL[c]?c:"point"}}return At(a)?{scale:a}:{scale:pg(),realScaleType:"point"}},VL=1e-4,HY=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-VL,i=Math.max(a[0],a[1])+VL,l=t(r[0]),c=t(r[n-1]);(l<s||l>i||c<s||c>i)&&t.domain([r[0],r[n-1]])}},dBe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},fBe=function(t,r){if(!r||r.length!==2||!Xe(r[0])||!Xe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Xe(t[0])||t[0]<n)&&(s[0]=n),(!Xe(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},hBe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=Tx(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1])}},mBe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=Tx(t[i][n][1])?t[i][n][0]:t[i][n][1];l>=0?(t[i][n][0]=s,t[i][n][1]=s+l,s=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},pBe={sign:hBe,expand:ROe,none:Lm,silhouette:IOe,wiggle:MOe,positive:mBe},gBe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=pBe[n],i=DOe().keys(a).value(function(l,c){return+Rn(l,c,0)}).order(OE).offset(s);return i(t)},vBe=function(t,r,n,a,s,i){if(!t)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?tn(tn({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var y=g[n],w=f[y]||{hasStack:!1,stackGroups:{}};if(Fn(m)){var b=w.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),w.hasStack=!0,w.stackGroups[m]=b}else w.stackGroups[Vp("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return tn(tn({},f),{},rm({},y,w))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var y=p.stackGroups[v];return tn(tn({},m),{},rm({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:gBe(t,y.items,s)}))},g)}return tn(tn({},f),{},rm({},h,p))},d)},qY=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=O6e(u,s,l);return t.domain([MS(d),IS(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=P6e(f,s,l);return{niceTicks:h}}return null};function zL(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Lt(a[t.dataKey])){var l=D1(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Rn(a,Lt(i)?t.dataKey:i);return Lt(c)?null:t.scale(c)}var WL=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,i=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Rn(i,r.dataKey,r.domain[l]);return Lt(c)?null:r.scale(c)-s/2+a},xBe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},yBe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?tn(tn({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(Fn(s)){var i=r[s];if(i){var l=i.items.indexOf(t);return l>=0?i.stackedData[l]:null}}return null},wBe=function(t){return t.reduce(function(r,n){return[MS(n.concat([r[0]]).filter(Xe)),IS(n.concat([r[1]]).filter(Xe))]},[1/0,-1/0])},GY=function(t,r,n){return Object.keys(t).reduce(function(a,s){var i=t[s],l=i.stackedData,c=l.reduce(function(u,d){var f=wBe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},HL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oC=function(t,r,n){if(At(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Xe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(HL.test(t[0])){var s=+HL.exec(t[0])[1];a[0]=r[0]-s}else At(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Xe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(qL.test(t[1])){var i=+qL.exec(t[1])[1];a[1]=r[1]+i}else At(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},ob=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=AP(r,function(f){return f.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},GL=function(t,r,n){return!t||!t.length||Ix(t,li(n,"type.defaultProps.domain"))?r:t},KY=function(t,r){var n=t.type.defaultProps?tn(tn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return tn(tn({},jt(t,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:n4(t),value:Rn(r,a),type:c,payload:r,chartType:u,hide:d})};function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}function KL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(r),!0).forEach(function(n){YY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YY(e,t,r){return t=bBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bBe(e){var t=_Be(e,"string");return _v(t)=="symbol"?t:t+""}function _Be(e,t){if(_v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SBe(e,t){return EBe(e)||NBe(e,t)||kBe(e,t)||jBe()}function jBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kBe(e,t){if(e){if(typeof e=="string")return YL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YL(e,t)}}function YL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function EBe(e){if(Array.isArray(e))return e}var lb=Math.PI/180,CBe=function(t){return t*180/Math.PI},Dr=function(t,r,n,a){return{x:t+Math.cos(-lb*a)*n,y:r+Math.sin(-lb*a)*n}},XY=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},TBe=function(t,r,n,a,s){var i=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=as(t.cx,i,i/2),f=as(t.cy,l,l/2),h=XY(i,l,n),p=as(t.innerRadius,h,0),g=as(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(v,y){var w=r[y],b=w.domain,_=w.reversed,S;if(Lt(w.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[p,g]),_&&(S=[S[1],S[0]]);else{S=w.range;var k=S,j=SBe(k,2);c=j[0],u=j[1]}var E=WY(w,s),N=E.realScaleType,O=E.scale;O.domain(b).range(S),HY(O);var P=qY(O,Pl(Pl({},w),{},{realScaleType:N})),T=Pl(Pl(Pl({},w),P),{},{range:S,radius:g,realScaleType:N,scale:O,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:c,endAngle:u});return Pl(Pl({},v),{},YY({},y,T))},{})},ABe=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},OBe=function(t,r){var n=t.x,a=t.y,s=r.cx,i=r.cy,l=ABe({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:CBe(u),angleInRadian:u}},PBe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},DBe=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return t+l*360},XL=function(t,r){var n=t.x,a=t.y,s=OBe({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=PBe(r),f=d.startAngle,h=d.endAngle,p=l,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?Pl(Pl({},r),{},{radius:i,angle:DBe(p,r)}):null},JY=function(t){return!x.isValidElement(t)&&!At(t)&&typeof t!="boolean"?t.className:""};function Sv(e){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(e)}var RBe=["offset"];function IBe(e){return $Be(e)||LBe(e)||FBe(e)||MBe()}function MBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FBe(e,t){if(e){if(typeof e=="string")return lC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lC(e,t)}}function LBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Be(e){if(Array.isArray(e))return lC(e)}function lC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BBe(e,t){if(e==null)return{};var r=UBe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JL(Object(r),!0).forEach(function(n){VBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VBe(e,t,r){return t=zBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zBe(e){var t=WBe(e,"string");return Sv(t)=="symbol"?t:t+""}function WBe(e,t){if(Sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jv.apply(this,arguments)}var HBe=function(t){var r=t.value,n=t.formatter,a=Lt(t.children)?r:t.children;return At(n)?n(a):a},qBe=function(t,r){var n=ns(r-t),a=Math.min(Math.abs(r-t),360);return n*a},GBe=function(t,r,n){var a=t.position,s=t.viewBox,i=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,v=(f+h)/2,y=qBe(p,g),w=y>=0?1:-1,b,_;a==="insideStart"?(b=p+w*i,_=m):a==="insideEnd"?(b=g-w*i,_=!m):a==="end"&&(b=g+w*i,_=m),_=y<=0?_:!_;var S=Dr(u,d,v,b),k=Dr(u,d,v,b+(_?1:-1)*359),j="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(k.x,",").concat(k.y),E=Lt(t.id)?Vp("recharts-radial-line-"):t.id;return te.createElement("text",jv({},n,{dominantBaseline:"central",className:$t("recharts-radial-bar-label",l)}),te.createElement("defs",null,te.createElement("path",{id:E,d:j})),te.createElement("textPath",{xlinkHref:"#".concat(E)},r))},KBe=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var p=Dr(i,l,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,y=Dr(i,l,v,h),w=y.x,b=y.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},YBe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*a,y=m>0?"end":"start",w=m>0?"start":"end";if(s==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return Cn(Cn({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Cn(Cn({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var S={x:l-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Cn(Cn({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(s==="right"){var k={x:l+u+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return Cn(Cn({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:d}:{})}var j=n?{width:u,height:d}:{};return s==="insideLeft"?Cn({x:l+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},j):s==="insideRight"?Cn({x:l+u-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},j):s==="insideTop"?Cn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},j):s==="insideBottom"?Cn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},j):s==="insideTopLeft"?Cn({x:l+v,y:c+h,textAnchor:w,verticalAnchor:g},j):s==="insideTopRight"?Cn({x:l+u-v,y:c+h,textAnchor:y,verticalAnchor:g},j):s==="insideBottomLeft"?Cn({x:l+v,y:c+d-h,textAnchor:w,verticalAnchor:p},j):s==="insideBottomRight"?Cn({x:l+u-v,y:c+d-h,textAnchor:y,verticalAnchor:p},j):Lp(s)&&(Xe(s.x)||Sd(s.x))&&(Xe(s.y)||Sd(s.y))?Cn({x:l+as(s.x,u),y:c+as(s.y,d),textAnchor:"end",verticalAnchor:"end"},j):Cn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},XBe=function(t){return"cx"in t&&Xe(t.cx)};function Wn(e){var t=e.offset,r=t===void 0?5:t,n=BBe(e,RBe),a=Cn({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||Lt(l)&&Lt(c)&&!x.isValidElement(u)&&!At(u))return null;if(x.isValidElement(u))return x.cloneElement(u,a);var p;if(At(u)){if(p=x.createElement(u,a),x.isValidElement(p))return p}else p=HBe(a);var g=XBe(s),m=jt(a,!0);if(g&&(i==="insideStart"||i==="insideEnd"||i==="end"))return GBe(a,p,m);var v=g?KBe(a):YBe(a);return te.createElement(xf,jv({className:$t("recharts-label",f)},m,v,{breakAll:h}),p)}Wn.displayName="Label";var QY=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,i=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,y=t.clockWise,w=t.labelViewBox;if(w)return w;if(Xe(m)&&Xe(v)){if(Xe(f)&&Xe(h))return{x:f,y:h,width:m,height:v};if(Xe(p)&&Xe(g))return{x:p,y:g,width:m,height:v}}return Xe(f)&&Xe(h)?{x:f,y:h,width:0,height:0}:Xe(r)&&Xe(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},JBe=function(t,r){return t?t===!0?te.createElement(Wn,{key:"label-implicit",viewBox:r}):Fn(t)?te.createElement(Wn,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===Wn?x.cloneElement(t,{key:"label-implicit",viewBox:r}):te.createElement(Wn,{key:"label-implicit",content:t,viewBox:r}):At(t)?te.createElement(Wn,{key:"label-implicit",content:t,viewBox:r}):Lp(t)?te.createElement(Wn,jv({viewBox:r},t,{key:"label-implicit"})):null:null},QBe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=QY(t),i=ci(a,Wn).map(function(c,u){return x.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=JBe(t.label,r||s);return[l].concat(IBe(i))};Wn.parseViewBox=QY;Wn.renderCallByParent=QBe;function ZBe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var eUe=ZBe;const tUe=hr(eUe);function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kv(e)}var rUe=["valueAccessor"],nUe=["data","dataKey","clockWise","id","textBreakAll"];function aUe(e){return lUe(e)||oUe(e)||iUe(e)||sUe()}function sUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iUe(e,t){if(e){if(typeof e=="string")return cC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cC(e,t)}}function oUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lUe(e){if(Array.isArray(e))return cC(e)}function cC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cb.apply(this,arguments)}function QL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QL(Object(r),!0).forEach(function(n){cUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cUe(e,t,r){return t=uUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uUe(e){var t=dUe(e,"string");return kv(t)=="symbol"?t:t+""}function dUe(e,t){if(kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e$(e,t){if(e==null)return{};var r=fUe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fUe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hUe=function(t){return Array.isArray(t.value)?tUe(t.value):t.value};function Ql(e){var t=e.valueAccessor,r=t===void 0?hUe:t,n=e$(e,rUe),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=e$(n,nUe);return!a||!a.length?null:te.createElement(ir,{className:"recharts-label-list"},a.map(function(d,f){var h=Lt(s)?r(d,f):Rn(d&&d.payload,s),p=Lt(l)?{}:{id:"".concat(l,"-").concat(f)};return te.createElement(Wn,cb({},jt(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Wn.parseViewBox(Lt(i)?d:ZL(ZL({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Ql.displayName="LabelList";function mUe(e,t){return e?e===!0?te.createElement(Ql,{key:"labelList-implicit",data:t}):te.isValidElement(e)||At(e)?te.createElement(Ql,{key:"labelList-implicit",data:t,content:e}):Lp(e)?te.createElement(Ql,cb({data:t},e,{key:"labelList-implicit"})):null:null}function pUe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ci(n,Ql).map(function(i,l){return x.cloneElement(i,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=mUe(e.label,t);return[s].concat(aUe(a))}Ql.renderCallByParent=pUe;function Nv(e){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nv(e)}function uC(){return uC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uC.apply(this,arguments)}function t$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t$(Object(r),!0).forEach(function(n){gUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gUe(e,t,r){return t=vUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vUe(e){var t=xUe(e,"string");return Nv(t)=="symbol"?t:t+""}function xUe(e,t){if(Nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yUe=function(t,r){var n=ns(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ky=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,i=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/lb,h=u?s:s+i*f,p=Dr(r,n,d,h),g=Dr(r,n,a,h),m=u?s-i*f:s,v=Dr(r,n,d*Math.cos(f*lb),m);return{center:p,circleTangency:g,lineTangency:v,theta:f}},ZY=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.startAngle,l=t.endAngle,c=yUe(i,l),u=i+c,d=Dr(r,n,s,i),f=Dr(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Dr(r,n,a,i),g=Dr(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},wUe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ns(d-u),h=Ky({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=Ky({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),y=v.circleTangency,w=v.lineTangency,b=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-m-b;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):ZY({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var k=Ky({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),j=k.circleTangency,E=k.lineTangency,N=k.theta,O=Ky({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),P=O.circleTangency,T=O.lineTangency,L=O.theta,H=c?Math.abs(u-d):Math.abs(u-d)-N-L;if(H<0&&i===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},bUe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eX=function(t){var r=r$(r$({},bUe),t),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(i<s||d===f)return null;var p=$t("recharts-sector",h),g=i-s,m=as(l,g,0,!0),v;return m>0&&Math.abs(d-f)<360?v=wUe({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=ZY({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f}),te.createElement("path",uC({},jt(r,!0),{className:p,d:v,role:"img"}))};function Ev(e){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ev(e)}function dC(){return dC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dC.apply(this,arguments)}function n$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(r),!0).forEach(function(n){_Ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Ue(e,t,r){return t=SUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SUe(e){var t=jUe(e,"string");return Ev(t)=="symbol"?t:t+""}function jUe(e,t){if(Ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s$={curveBasisClosed:_Oe,curveBasisOpen:SOe,curveBasis:bOe,curveBumpX:oOe,curveBumpY:lOe,curveLinearClosed:jOe,curveLinear:SS,curveMonotoneX:kOe,curveMonotoneY:NOe,curveNatural:EOe,curveStep:COe,curveStepAfter:AOe,curveStepBefore:TOe},Yy=function(t){return t.x===+t.x&&t.y===+t.y},w0=function(t){return t.x},b0=function(t){return t.y},kUe=function(t,r){if(At(t))return t;var n="curve".concat(bS(t));return(n==="curveMonotone"||n==="curveBump")&&r?s$["".concat(n).concat(r==="vertical"?"Y":"X")]:s$[n]||SS},NUe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,i=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=kUe(n,l),f=u?s.filter(function(m){return Yy(m)}):s,h;if(Array.isArray(i)){var p=u?i.filter(function(m){return Yy(m)}):i,g=f.map(function(m,v){return a$(a$({},m),{},{base:p[v]})});return l==="vertical"?h=$y().y(b0).x1(w0).x0(function(m){return m.base.x}):h=$y().x(w0).y1(b0).y0(function(m){return m.base.y}),h.defined(Yy).curve(d),h(g)}return l==="vertical"&&Xe(i)?h=$y().y(b0).x1(w0).x0(i):Xe(i)?h=$y().x(w0).y1(b0).y0(i):h=KG().x(w0).y(b0),h.defined(Yy).curve(d),h(f)},ub=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?NUe(t):a;return x.createElement("path",dC({},jt(t,!1),R1(t),{className:$t("recharts-curve",r),d:i,ref:s}))},tX={exports:{}},EUe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CUe=EUe,TUe=CUe;function rX(){}function nX(){}nX.resetWarningCache=rX;var AUe=function(){function e(n,a,s,i,l,c){if(c!==TUe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:nX,resetWarningCache:rX};return r.PropTypes=r,r};tX.exports=AUe();var OUe=tX.exports;const dr=hr(OUe);var PUe=Object.getOwnPropertyNames,DUe=Object.getOwnPropertySymbols,RUe=Object.prototype.hasOwnProperty;function i$(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function Xy(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function o$(e){return PUe(e).concat(DUe(e))}var IUe=Object.hasOwn||function(e,t){return RUe.call(e,t)};function $f(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var MUe="__v",FUe="__o",LUe="_owner",l$=Object.getOwnPropertyDescriptor,c$=Object.keys;function $Ue(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function BUe(e,t){return $f(e.getTime(),t.getTime())}function UUe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function VUe(e,t){return e===t}function u$(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=i.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var zUe=$f;function WUe(e,t,r){var n=c$(e),a=n.length;if(c$(t).length!==a)return!1;for(;a-- >0;)if(!aX(e,t,r,n[a]))return!1;return!0}function _0(e,t,r){var n=o$(e),a=n.length;if(o$(t).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!aX(e,t,r,s)||(i=l$(e,s),l=l$(t,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function HUe(e,t){return $f(e.valueOf(),t.valueOf())}function qUe(e,t){return e.source===t.source&&e.flags===t.flags}function d$(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),i,l;(i=s.next())&&!i.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(i.value,l.value,i.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function GUe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function KUe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function aX(e,t,r,n){return(n===LUe||n===FUe||n===MUe)&&(e.$$typeof||t.$$typeof)?!0:IUe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var YUe="[object Arguments]",XUe="[object Boolean]",JUe="[object Date]",QUe="[object Error]",ZUe="[object Map]",e9e="[object Number]",t9e="[object Object]",r9e="[object RegExp]",n9e="[object Set]",a9e="[object String]",s9e="[object URL]",i9e=Array.isArray,f$=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,h$=Object.assign,o9e=Object.prototype.toString.call.bind(Object.prototype.toString);function l9e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,i=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var y=typeof g;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?i(g,m,v):y==="function"?a(g,m,v):!1;var w=g.constructor;if(w!==m.constructor)return!1;if(w===Object)return l(g,m,v);if(i9e(g))return t(g,m,v);if(f$!=null&&f$(g))return f(g,m,v);if(w===Date)return r(g,m,v);if(w===RegExp)return u(g,m,v);if(w===Map)return s(g,m,v);if(w===Set)return d(g,m,v);var b=o9e(g);return b===JUe?r(g,m,v):b===r9e?u(g,m,v):b===ZUe?s(g,m,v):b===n9e?d(g,m,v):b===t9e?typeof g.then!="function"&&typeof m.then!="function"&&l(g,m,v):b===s9e?h(g,m,v):b===QUe?n(g,m,v):b===YUe?l(g,m,v):b===XUe||b===e9e||b===a9e?c(g,m,v):!1}}function c9e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?_0:$Ue,areDatesEqual:BUe,areErrorsEqual:UUe,areFunctionsEqual:VUe,areMapsEqual:n?i$(u$,_0):u$,areNumbersEqual:zUe,areObjectsEqual:n?_0:WUe,arePrimitiveWrappersEqual:HUe,areRegExpsEqual:qUe,areSetsEqual:n?i$(d$,_0):d$,areTypedArraysEqual:n?_0:GUe,areUrlsEqual:KUe};if(r&&(a=h$({},a,r(a))),t){var s=Xy(a.areArraysEqual),i=Xy(a.areMapsEqual),l=Xy(a.areObjectsEqual),c=Xy(a.areSetsEqual);a=h$({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function u9e(e){return function(t,r,n,a,s,i,l){return e(t,r,l)}}function d9e(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var f9e=Xu();Xu({strict:!0});Xu({circular:!0});Xu({circular:!0,strict:!0});Xu({createInternalComparator:function(){return $f}});Xu({strict:!0,createInternalComparator:function(){return $f}});Xu({circular:!0,createInternalComparator:function(){return $f}});Xu({circular:!0,createInternalComparator:function(){return $f},strict:!0});function Xu(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,i=s===void 0?!1:s,l=c9e(e),c=l9e(l),u=n?n(c):u9e(c);return d9e({circular:r,comparator:c,createState:a,equals:u,strict:i})}function h9e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function m$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):h9e(a)};requestAnimationFrame(n)}function fC(e){"@babel/helpers - typeof";return fC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fC(e)}function m9e(e){return x9e(e)||v9e(e)||g9e(e)||p9e()}function p9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g9e(e,t){if(e){if(typeof e=="string")return p$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p$(e,t)}}function p$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function x9e(e){if(Array.isArray(e))return e}function y9e(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=m9e(i),c=l[0],u=l.slice(1);if(typeof c=="number"){m$(a.bind(null,u),c);return}a(c),m$(a.bind(null,u));return}fC(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}function g$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g$(Object(r),!0).forEach(function(n){sX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sX(e,t,r){return t=w9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w9e(e){var t=b9e(e,"string");return Cv(t)==="symbol"?t:String(t)}function b9e(e,t){if(Cv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _9e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},S9e=function(t){return t},j9e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},vg=function(t,r){return Object.keys(r).reduce(function(n,a){return v$(v$({},n),{},sX({},a,t(a,r[a])))},{})},x$=function(t,r,n){return t.map(function(a){return"".concat(j9e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function k9e(e,t){return C9e(e)||E9e(e,t)||iX(e,t)||N9e()}function N9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function C9e(e){if(Array.isArray(e))return e}function T9e(e){return P9e(e)||O9e(e)||iX(e)||A9e()}function A9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iX(e,t){if(e){if(typeof e=="string")return hC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hC(e,t)}}function O9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P9e(e){if(Array.isArray(e))return hC(e)}function hC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var db=1e-4,oX=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},lX=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},y$=function(t,r){return function(n){var a=oX(t,r);return lX(a,n)}},D9e=function(t,r){return function(n){var a=oX(t,r),s=[].concat(T9e(a.map(function(i,l){return i*l}).slice(1)),[0]);return lX(s,n)}},w$=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=k9e(u,4);a=d[0],s=d[1],i=d[2],l=d[3]}}}var f=y$(a,i),h=y$(s,l),p=D9e(a,i),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var w=y>1?1:y,b=w,_=0;_<8;++_){var S=f(b)-w,k=p(b);if(Math.abs(S-w)<db||k<db)return h(b);b=g(b-S/k)}return h(b)};return m.isStepper=!1,m},R9e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,i=t.dt,l=i===void 0?17:i,c=function(d,f,h){var p=-(d-f)*n,g=h*s,m=h+(p-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<db&&Math.abs(m)<db?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},I9e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return w$(a);case"spring":return R9e();default:if(a.split("(")[0]==="cubic-bezier")return w$(a)}return typeof a=="function"?a:null};function Tv(e){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tv(e)}function b$(e){return L9e(e)||F9e(e)||cX(e)||M9e()}function M9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L9e(e){if(Array.isArray(e))return pC(e)}function _$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_$(Object(r),!0).forEach(function(n){mC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mC(e,t,r){return t=$9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $9e(e){var t=B9e(e,"string");return Tv(t)==="symbol"?t:String(t)}function B9e(e,t){if(Tv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U9e(e,t){return W9e(e)||z9e(e,t)||cX(e,t)||V9e()}function V9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cX(e,t){if(e){if(typeof e=="string")return pC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pC(e,t)}}function pC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function W9e(e){if(Array.isArray(e))return e}var fb=function(t,r,n){return t+(r-t)*n},gC=function(t){var r=t.from,n=t.to;return r!==n},H9e=function e(t,r,n){var a=vg(function(s,i){if(gC(i)){var l=t(i.from,i.to,i.velocity),c=U9e(l,2),u=c[0],d=c[1];return Qn(Qn({},i),{},{from:u,velocity:d})}return i},r);return n<1?vg(function(s,i){return gC(i)?Qn(Qn({},i),{},{velocity:fb(i.velocity,a[s].velocity,n),from:fb(i.from,a[s].from,n)}):i},r):e(t,a,n-1)};const q9e=function(e,t,r,n,a){var s=_9e(e,t),i=s.reduce(function(v,y){return Qn(Qn({},v),{},mC({},y,[e[y],t[y]]))},{}),l=s.reduce(function(v,y){return Qn(Qn({},v),{},mC({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return vg(function(y,w){return w.from},l)},p=function(){return!Object.values(l).filter(gC).length},g=function(y){u||(u=y);var w=y-u,b=w/r.dt;l=H9e(r,l,b),a(Qn(Qn(Qn({},e),t),h())),u=y,p()||(c=requestAnimationFrame(f))},m=function(y){d||(d=y);var w=(y-d)/n,b=vg(function(S,k){return fb.apply(void 0,b$(k).concat([r(w)]))},i);if(a(Qn(Qn(Qn({},e),t),b)),w<1)c=requestAnimationFrame(f);else{var _=vg(function(S,k){return fb.apply(void 0,b$(k).concat([r(1)]))},i);a(Qn(Qn(Qn({},e),t),_))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}var G9e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function K9e(e,t){if(e==null)return{};var r=Y9e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Y9e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Qk(e){return Z9e(e)||Q9e(e)||J9e(e)||X9e()}function X9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J9e(e,t){if(e){if(typeof e=="string")return vC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vC(e,t)}}function Q9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z9e(e){if(Array.isArray(e))return vC(e)}function vC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S$(Object(r),!0).forEach(function(n){$0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $0(e,t,r){return t=uX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uX(n.key),n)}}function r7e(e,t,r){return t&&t7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uX(e){var t=n7e(e,"string");return Gm(t)==="symbol"?t:String(t)}function n7e(e,t){if(Gm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xC(e,t)}function xC(e,t){return xC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xC(e,t)}function s7e(e){var t=i7e();return function(){var n=hb(e),a;if(t){var s=hb(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return yC(this,a)}}function yC(e,t){if(t&&(Gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wC(e)}function wC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hb(e){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hb(e)}var gl=function(e){a7e(r,e);var t=s7e(r);function r(n,a){var s;e7e(this,r),s=t.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,h=i.children,p=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(wC(s)),s.changeStyle=s.changeStyle.bind(wC(s)),!l||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),yC(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},yC(s);s.state={style:c?$0({},c,u):u}}else s.state={style:{}};return s}return r7e(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!i){var p={style:c?$0({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(f9e(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:a.to;if(this.state&&h){var v={style:c?$0({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(v)}this.runAnimation(Qi(Qi({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=q9e(i,l,I9e(u),c,this.changeStyle),g=function(){s.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,v,y){if(y===0)return m;var w=v.duration,b=v.easing,_=b===void 0?"ease":b,S=v.style,k=v.properties,j=v.onAnimationEnd,E=y>0?i[y-1]:v,N=k||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(Qk(m),[s.runJSAnimation.bind(s,{from:E.style,to:S,duration:w,easing:_}),w]);var O=x$(N,w,_),P=Qi(Qi(Qi({},E.style),S),{},{transition:O});return[].concat(Qk(m),[P,w,j]).filter(S9e)};return this.manager.start([c].concat(Qk(i.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=y9e());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?$0({},l,c):c,v=x$(Object.keys(m),i,u);g.start([d,s,Qi(Qi({},m),{},{transition:v}),i,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=K9e(a,G9e),u=x.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||i<=0)return s;var f=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,y=g.className,w=x.cloneElement(p,Qi(Qi({},c),{},{style:Qi(Qi({},v),d),className:y}));return w};return u===1?f(x.Children.only(s)):te.createElement("div",null,x.Children.map(s,function(h){return f(h)}))}}]),r}(x.PureComponent);gl.displayName="Animate";gl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};gl.propTypes={from:dr.oneOfType([dr.object,dr.string]),to:dr.oneOfType([dr.object,dr.string]),attributeName:dr.string,duration:dr.number,begin:dr.number,easing:dr.oneOfType([dr.string,dr.func]),steps:dr.arrayOf(dr.shape({duration:dr.number.isRequired,style:dr.object.isRequired,easing:dr.oneOfType([dr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),dr.func]),properties:dr.arrayOf("string"),onAnimationEnd:dr.func})),children:dr.oneOfType([dr.node,dr.func]),isActive:dr.bool,canBegin:dr.bool,onAnimationEnd:dr.func,shouldReAnimate:dr.bool,onAnimationStart:dr.func,onAnimationReStart:dr.func};function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}function mb(){return mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mb.apply(this,arguments)}function o7e(e,t){return d7e(e)||u7e(e,t)||c7e(e,t)||l7e()}function l7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c7e(e,t){if(e){if(typeof e=="string")return j$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j$(e,t)}}function j$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function d7e(e){if(Array.isArray(e))return e}function k$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k$(Object(r),!0).forEach(function(n){f7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f7e(e,t,r){return t=h7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h7e(e){var t=m7e(e,"string");return Av(t)=="symbol"?t:t+""}function m7e(e,t){if(Av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E$=function(t,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=s[h]>i?i:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var g=Math.min(i,s);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},p7e=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(i,i+c),h=Math.max(i,i+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},g7e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},a4=function(t){var r=N$(N$({},g7e),t),n=x.useRef(),a=x.useState(-1),s=o7e(a,2),i=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=$t("recharts-rectangle",p);return w?te.createElement(gl,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:w},function(_){var S=_.width,k=_.height,j=_.x,E=_.y;return te.createElement(gl,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:y,easing:g},te.createElement("path",mb({},jt(r,!0),{className:b,d:E$(j,E,S,k,h),ref:n})))}):te.createElement("path",mb({},jt(r,!0),{className:b,d:E$(c,u,d,f,h)}))},v7e=["points","className","baseLinePoints","connectNulls"];function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dh.apply(this,arguments)}function x7e(e,t){if(e==null)return{};var r=y7e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function C$(e){return S7e(e)||_7e(e)||b7e(e)||w7e()}function w7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b7e(e,t){if(e){if(typeof e=="string")return bC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bC(e,t)}}function _7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S7e(e){if(Array.isArray(e))return bC(e)}function bC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var T$=function(t){return t&&t.x===+t.x&&t.y===+t.y},j7e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){T$(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),T$(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},xg=function(t,r){var n=j7e(t);r&&(n=[n.reduce(function(s,i){return[].concat(C$(s),C$(i))},[])]);var a=n.map(function(s){return s.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},k7e=function(t,r,n){var a=xg(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(xg(r.reverse(),n).slice(1))},N7e=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,i=x7e(t,v7e);if(!r||!r.length)return null;var l=$t("recharts-polygon",n);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",u=k7e(r,a,s);return te.createElement("g",{className:l},te.createElement("path",Dh({},jt(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?te.createElement("path",Dh({},jt(i,!0),{fill:"none",d:xg(r,s)})):null,c?te.createElement("path",Dh({},jt(i,!0),{fill:"none",d:xg(a,s)})):null)}var d=xg(r,s);return te.createElement("path",Dh({},jt(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))};function _C(){return _C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_C.apply(this,arguments)}var $S=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,i=$t("recharts-dot",s);return r===+r&&n===+n&&a===+a?x.createElement("circle",_C({},jt(t,!1),R1(t),{className:i,cx:r,cy:n,r:a})):null};function Ov(e){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ov(e)}var E7e=["x","y","top","left","width","height","className"];function SC(){return SC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SC.apply(this,arguments)}function A$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function C7e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A$(Object(r),!0).forEach(function(n){T7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T7e(e,t,r){return t=A7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A7e(e){var t=O7e(e,"string");return Ov(t)=="symbol"?t:t+""}function O7e(e,t){if(Ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P7e(e,t){if(e==null)return{};var r=D7e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var R7e=function(t,r,n,a,s,i){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},I7e=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.top,l=i===void 0?0:i,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=P7e(t,E7e),v=C7e({x:n,y:s,top:l,left:u,width:f,height:p},m);return!Xe(n)||!Xe(s)||!Xe(f)||!Xe(p)||!Xe(l)||!Xe(u)?null:te.createElement("path",SC({},jt(v,!0),{className:$t("recharts-cross",g),d:R7e(n,s,f,p,l,u)}))},M7e=RS,F7e=_Y,L7e=_l;function $7e(e,t){return e&&e.length?M7e(e,L7e(t),F7e):void 0}var B7e=$7e;const U7e=hr(B7e);var V7e=RS,z7e=_l,W7e=SY;function H7e(e,t){return e&&e.length?V7e(e,z7e(t),W7e):void 0}var q7e=H7e;const G7e=hr(q7e);var K7e=["cx","cy","angle","ticks","axisLine"],Y7e=["ticks","tick","angle","tickFormatter","stroke"];function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yg.apply(this,arguments)}function O$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O$(Object(r),!0).forEach(function(n){BS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P$(e,t){if(e==null)return{};var r=X7e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function J7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fX(n.key),n)}}function Q7e(e,t,r){return t&&D$(e.prototype,t),r&&D$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z7e(e,t,r){return t=pb(t),eVe(e,dX()?Reflect.construct(t,r||[],pb(e).constructor):t.apply(e,r))}function eVe(e,t){if(t&&(Km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tVe(e)}function tVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dX=function(){return!!e})()}function pb(e){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pb(e)}function rVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jC(e,t)}function jC(e,t){return jC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jC(e,t)}function BS(e,t,r){return t=fX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fX(e){var t=nVe(e,"string");return Km(t)=="symbol"?t:t+""}function nVe(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var US=function(e){function t(){return J7e(this,t),Z7e(this,t,arguments)}return rVe(t,e),Q7e(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,i=s.angle,l=s.cx,c=s.cy;return Dr(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=U7e(l,function(d){return d.coordinate||0}),u=G7e(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=P$(n,K7e),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=Dr(a,s,d[0],i),h=Dr(a,s,d[1],i),p=td(td(td({},jt(u,!1)),{},{fill:"none"},jt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return te.createElement("line",yg({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=P$(a,Y7e),f=this.getTickTextAnchor(),h=jt(d,!1),p=jt(i,!1),g=s.map(function(m,v){var y=n.getTickValueCoord(m),w=td(td(td(td({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},y),{},{payload:m});return te.createElement(ir,yg({className:$t("recharts-polar-radius-axis-tick",JY(i)),key:"tick-".concat(m.coordinate)},vf(n.props,m,v)),t.renderTickItem(i,w,c?c(m.value,v):m.value))});return te.createElement(ir,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,i=n.tick;return!a||!a.length?null:te.createElement(ir,{className:$t("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),i&&this.renderTicks(),Wn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var i;return te.isValidElement(n)?i=te.cloneElement(n,a):At(n)?i=n(a):i=te.createElement(xf,yg({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),i}}])}(x.PureComponent);BS(US,"displayName","PolarRadiusAxis");BS(US,"axisType","radiusAxis");BS(US,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(this,arguments)}function R$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R$(Object(r),!0).forEach(function(n){VS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mX(n.key),n)}}function sVe(e,t,r){return t&&I$(e.prototype,t),r&&I$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iVe(e,t,r){return t=gb(t),oVe(e,hX()?Reflect.construct(t,r||[],gb(e).constructor):t.apply(e,r))}function oVe(e,t){if(t&&(Ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lVe(e)}function lVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hX=function(){return!!e})()}function gb(e){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gb(e)}function cVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kC(e,t)}function kC(e,t){return kC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kC(e,t)}function VS(e,t,r){return t=mX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mX(e){var t=uVe(e,"string");return Ym(t)=="symbol"?t:t+""}function uVe(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dVe=Math.PI/180,M$=1e-5,zS=function(e){function t(){return aVe(this,t),iVe(this,t,arguments)}return cVe(t,e),sVe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,i=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Dr(s,i,l,n.coordinate),h=Dr(s,i,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*dVe),i;return s>M$?i=a==="outer"?"start":"end":s<-M$?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=rd(rd({},jt(this.props,!1)),{},{fill:"none"},jt(l,!1));if(c==="circle")return te.createElement($S,md({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:i}));var d=this.props.ticks,f=d.map(function(h){return Dr(a,s,i,h.coordinate)});return te.createElement(N7e,md({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=jt(this.props,!1),f=jt(i,!1),h=rd(rd({},d),{},{fill:"none"},jt(l,!1)),p=s.map(function(g,m){var v=n.getTickLineCoord(g),y=n.getTickTextAnchor(g),w=rd(rd(rd({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:v.x2,y:v.y2});return te.createElement(ir,md({className:$t("recharts-polar-angle-axis-tick",JY(i)),key:"tick-".concat(g.coordinate)},vf(n.props,g,m)),l&&te.createElement("line",md({className:"recharts-polar-angle-axis-tick-line"},h,v)),i&&t.renderTickItem(i,w,c?c(g.value,m):g.value))});return te.createElement(ir,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,i=n.axisLine;return s<=0||!a||!a.length?null:te.createElement(ir,{className:$t("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var i;return te.isValidElement(n)?i=te.cloneElement(n,a):At(n)?i=n(a):i=te.createElement(xf,md({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),i}}])}(x.PureComponent);VS(zS,"displayName","PolarAngleAxis");VS(zS,"axisType","angleAxis");VS(zS,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var fVe=xK,hVe=fVe(Object.getPrototypeOf,Object),mVe=hVe,pVe=wc,gVe=mVe,vVe=bc,xVe="[object Object]",yVe=Function.prototype,wVe=Object.prototype,pX=yVe.toString,bVe=wVe.hasOwnProperty,_Ve=pX.call(Object);function SVe(e){if(!vVe(e)||pVe(e)!=xVe)return!1;var t=gVe(e);if(t===null)return!0;var r=bVe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&pX.call(r)==_Ve}var jVe=SVe;const kVe=hr(jVe);var NVe=wc,EVe=bc,CVe="[object Boolean]";function TVe(e){return e===!0||e===!1||EVe(e)&&NVe(e)==CVe}var AVe=TVe;const OVe=hr(AVe);function Pv(e){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pv(e)}function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vb.apply(this,arguments)}function PVe(e,t){return MVe(e)||IVe(e,t)||RVe(e,t)||DVe()}function DVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RVe(e,t){if(e){if(typeof e=="string")return F$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F$(e,t)}}function F$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IVe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function MVe(e){if(Array.isArray(e))return e}function L$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L$(Object(r),!0).forEach(function(n){FVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FVe(e,t,r){return t=LVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LVe(e){var t=$Ve(e,"string");return Pv(t)=="symbol"?t:t+""}function $Ve(e,t){if(Pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B$=function(t,r,n,a,s){var i=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-i/2,",").concat(r+s),l+="L ".concat(t+n-i/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},BVe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UVe=function(t){var r=$$($$({},BVe),t),n=x.useRef(),a=x.useState(-1),s=PVe(a,2),i=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=$t("recharts-trapezoid",p);return y?te.createElement(gl,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:y},function(b){var _=b.upperWidth,S=b.lowerWidth,k=b.height,j=b.x,E=b.y;return te.createElement(gl,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},te.createElement("path",vb({},jt(r,!0),{className:w,d:B$(j,E,_,S,k),ref:n})))}):te.createElement("g",null,te.createElement("path",vb({},jt(r,!0),{className:w,d:B$(c,u,d,f,h)})))},VVe=["option","shapeType","propTransformer","activeClassName","isActive"];function Dv(e){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dv(e)}function zVe(e,t){if(e==null)return{};var r=WVe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WVe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function U$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U$(Object(r),!0).forEach(function(n){HVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HVe(e,t,r){return t=qVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qVe(e){var t=GVe(e,"string");return Dv(t)=="symbol"?t:t+""}function GVe(e,t){if(Dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KVe(e,t){return xb(xb({},t),e)}function YVe(e,t){return e==="symbols"}function V$(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return te.createElement(a4,r);case"trapezoid":return te.createElement(UVe,r);case"sector":return te.createElement(eX,r);case"symbols":if(YVe(t))return te.createElement(_P,r);break;default:return null}}function XVe(e){return x.isValidElement(e)?e.props:e}function gX(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?KVe:n,s=e.activeClassName,i=s===void 0?"recharts-active-shape":s,l=e.isActive,c=zVe(e,VVe),u;if(x.isValidElement(t))u=x.cloneElement(t,xb(xb({},c),XVe(t)));else if(At(t))u=t(c);else if(kVe(t)&&!OVe(t)){var d=a(t,c);u=te.createElement(V$,{shapeType:r,elementProps:d})}else{var f=c;u=te.createElement(V$,{shapeType:r,elementProps:f})}return l?te.createElement(ir,{className:i},u):u}function WS(e,t){return t!=null&&"trapezoids"in e.props}function HS(e,t){return t!=null&&"sectors"in e.props}function Rv(e,t){return t!=null&&"points"in e.props}function JVe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function QVe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function ZVe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function eze(e,t){var r;return WS(e,t)?r=JVe:HS(e,t)?r=QVe:Rv(e,t)&&(r=ZVe),r}function tze(e,t){var r;return WS(e,t)?r="trapezoids":HS(e,t)?r="sectors":Rv(e,t)&&(r="points"),r}function rze(e,t){if(WS(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(HS(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Rv(e,t)?t.payload:{}}function nze(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=tze(r,t),s=rze(r,t),i=n.filter(function(c,u){var d=Ix(s,c),f=r.props[a].filter(function(g){var m=eze(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(i[i.length-1]);return l}var kw;function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rh.apply(this,arguments)}function z$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z$(Object(r),!0).forEach(function(n){Oi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xX(n.key),n)}}function sze(e,t,r){return t&&W$(e.prototype,t),r&&W$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ize(e,t,r){return t=yb(t),oze(e,vX()?Reflect.construct(t,r||[],yb(e).constructor):t.apply(e,r))}function oze(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lze(e)}function lze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vX=function(){return!!e})()}function yb(e){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yb(e)}function cze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NC(e,t)}function NC(e,t){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NC(e,t)}function Oi(e,t,r){return t=xX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xX(e){var t=uze(e,"string");return Xm(t)=="symbol"?t:t+""}function uze(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ka=function(e){function t(r){var n;return aze(this,t),n=ize(this,t,[r]),Oi(n,"pieRef",null),Oi(n,"sectorRefs",[]),Oi(n,"id",Vp("recharts-pie-")),Oi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),At(a)&&a()}),Oi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),At(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return cze(t,e),sze(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=jt(this.props,!1),f=jt(i,!1),h=jt(l,!1),p=i&&i.offsetRadius||20,g=n.map(function(m,v){var y=(m.startAngle+m.endAngle)/2,w=Dr(m.cx,m.cy,m.outerRadius+p,y),b=Tr(Tr(Tr(Tr({},d),m),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(w.x,m.cx)},w),_=Tr(Tr(Tr(Tr({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:v,points:[Dr(m.cx,m.cy,m.outerRadius,y),w]}),S=c;return Lt(c)&&Lt(u)?S="value":Lt(c)&&(S=u),te.createElement(ir,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(i,b,Rn(m,S)))});return te.createElement(ir,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,i=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?i:h,g=Tr(Tr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return te.createElement(ir,Rh({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},vf(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),te.createElement(gX,Rh({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return te.createElement(gl,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],y=s&&s[0],w=y.startAngle;return s.forEach(function(b,_){var S=h&&h[_],k=_>0?li(b,"paddingAngle",0):0;if(S){var j=Qs(S.endAngle-S.startAngle,b.endAngle-b.startAngle),E=Tr(Tr({},b),{},{startAngle:w+k,endAngle:w+j(m)+k});v.push(E),w=E.endAngle}else{var N=b.endAngle,O=b.startAngle,P=Qs(0,N-O),T=P(m),L=Tr(Tr({},b),{},{startAngle:w+k,endAngle:w+T+k});v.push(L),w=L.endAngle}}),te.createElement(ir,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,i=this.state.prevSectors;return s&&a&&a.length&&(!i||!Ix(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,i=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,g=this.state.isAnimationFinished;if(s||!i||!i.length||!Xe(u)||!Xe(d)||!Xe(f)||!Xe(h))return null;var m=$t("recharts-pie",l);return te.createElement(ir,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(i),Wn.renderCallByParent(this.props,null,!1),(!p||g)&&Ql.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(te.isValidElement(n))return te.cloneElement(n,a);if(At(n))return n(a);var i=$t("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return te.createElement(ub,Rh({},a,{key:s,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,a,s){if(te.isValidElement(n))return te.cloneElement(n,a);var i=s;if(At(n)&&(i=n(a),te.isValidElement(i)))return i;var l=$t("recharts-pie-label-text",typeof n!="boolean"&&!At(n)?n.className:"");return te.createElement(xf,Rh({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(x.PureComponent);kw=ka;Oi(ka,"displayName","Pie");Oi(ka,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!il.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Oi(ka,"parseDeltaAngle",function(e,t){var r=ns(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Oi(ka,"getRealPieData",function(e){var t=e.data,r=e.children,n=jt(e,!1),a=ci(r,ho);return t&&t.length?t.map(function(s,i){return Tr(Tr(Tr({payload:s},n),s),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(s){return Tr(Tr({},n),s.props)}):[]});Oi(ka,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,i=XY(a,s),l=n+as(e.cx,a,a/2),c=r+as(e.cy,s,s/2),u=as(e.innerRadius,i,0),d=as(e.outerRadius,i,i*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Oi(ka,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Tr(Tr({},t.type.defaultProps),t.props):t.props,a=kw.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=kw.parseCoordinateOfPie(n,r),m=kw.parseDeltaAngle(i,l),v=Math.abs(m),y=u;Lt(u)&&Lt(f)?(jo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Lt(u)&&(jo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var w=a.filter(function(E){return Rn(E,y,0)!==0}).length,b=(v>=360?w:w-1)*c,_=v-w*p-b,S=a.reduce(function(E,N){var O=Rn(N,y,0);return E+(Xe(O)?O:0)},0),k;if(S>0){var j;k=a.map(function(E,N){var O=Rn(E,y,0),P=Rn(E,d,N),T=(Xe(O)?O:0)/S,L;N?L=j.endAngle+ns(m)*c*(O!==0?1:0):L=i;var H=L+ns(m)*((O!==0?p:0)+T*_),z=(L+H)/2,M=(g.innerRadius+g.outerRadius)/2,I=[{name:P,value:O,payload:E,dataKey:y,type:h}],U=Dr(g.cx,g.cy,M,z);return j=Tr(Tr(Tr({percent:T,cornerRadius:s,name:P,tooltipPayload:I,midAngle:z,middleRadius:M,tooltipPosition:U},E),g),{},{value:Rn(E,y),startAngle:L,endAngle:H,payload:E,paddingAngle:ns(m)*c}),j})}return Tr(Tr({},g),{},{sectors:k,data:a})});var dze=Math.ceil,fze=Math.max;function hze(e,t,r,n){for(var a=-1,s=fze(dze((t-e)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=e,e+=r;return i}var mze=hze,pze=FK,H$=1/0,gze=17976931348623157e292;function vze(e){if(!e)return e===0?e:0;if(e=pze(e),e===H$||e===-H$){var t=e<0?-1:1;return t*gze}return e===e?e:0}var yX=vze,xze=mze,yze=ES,Zk=yX;function wze(e){return function(t,r,n){return n&&typeof n!="number"&&yze(t,r,n)&&(r=n=void 0),t=Zk(t),r===void 0?(r=t,t=0):r=Zk(r),n=n===void 0?t<r?1:-1:Zk(n),xze(t,r,n,e)}}var bze=wze,_ze=bze,Sze=_ze(),jze=Sze;const wb=hr(jze);function Iv(e){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iv(e)}function q$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function G$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q$(Object(r),!0).forEach(function(n){wX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wX(e,t,r){return t=kze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kze(e){var t=Nze(e,"string");return Iv(t)=="symbol"?t:t+""}function Nze(e,t){if(Iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eze=["Webkit","Moz","O","ms"],Cze=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=Eze.reduce(function(s,i){return G$(G$({},s),{},wX({},i+n,r))},{});return a[t]=r,a};function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bb.apply(this,arguments)}function K$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K$(Object(r),!0).forEach(function(n){Hs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_X(n.key),n)}}function Aze(e,t,r){return t&&Y$(e.prototype,t),r&&Y$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oze(e,t,r){return t=_b(t),Pze(e,bX()?Reflect.construct(t,r||[],_b(e).constructor):t.apply(e,r))}function Pze(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dze(e)}function Dze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bX=function(){return!!e})()}function _b(e){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_b(e)}function Rze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EC(e,t)}function EC(e,t){return EC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EC(e,t)}function Hs(e,t,r){return t=_X(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _X(e){var t=Ize(e,"string");return Jm(t)=="symbol"?t:t+""}function Ize(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mze=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,i=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=pg().domain(wb(0,c)).range([s,s+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},X$=function(t){return t.changedTouches&&!!t.changedTouches.length},Qm=function(e){function t(r){var n;return Tze(this,t),n=Oze(this,t,[r]),Hs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Hs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Hs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Hs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Hs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Hs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Hs(n,"handleSlideDragStart",function(a){var s=X$(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Rze(t,e),Aze(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),p=t.getIndexInRange(i,f),g=t.getIndexInRange(i,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=Rn(s[n],l,n);return At(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-s;m>0?m=Math.min(m,u+d-f-l,u+d-f-i):m<0&&(m=Math.max(m,u-i,u-l));var v=this.getIndex({startX:i+m,endX:l+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:i+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=X$(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},w=n.pageX-s;w>0?w=Math.min(w,f+h-p-u):w<0&&(w=Math.max(w,f-u)),y[i]=u+w;var b=this.getIndex(y),_=b.startIndex,S=b.endIndex,k=function(){var E=v.length-1;return i==="startX"&&(l>c?_%m===0:S%m===0)||l<c&&S===E||i==="endX"&&(l>c?S%m===0:_%m===0)||l>c&&S===E};this.setState(Hs(Hs({},i,u+w),"brushMoveStartX",n.pageX),function(){g&&k()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(Hs({},a,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return te.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?te.cloneElement(f,{x:a,y:s,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,y=Math.max(n,this.props.x),w=e2(e2({},jt(this.props,!1)),{},{x:y,y:u,width:d,height:f}),b=p||"Min value: ".concat((s=g[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=g[v])===null||i===void 0?void 0:i.name);return te.createElement(ir,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return te.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return te.createElement(ir,{className:"recharts-brush-texts"},te.createElement(xf,bb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:i+l/2},g),this.getTextOfTick(a)),te.createElement(xf,bb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:i+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,w=h.isTravellerFocused;if(!a||!a.length||!Xe(l)||!Xe(c)||!Xe(u)||!Xe(d)||u<=0||d<=0)return null;var b=$t("recharts-brush",s),_=te.Children.count(i)===1,S=Cze("userSelect","none");return te.createElement(ir,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||y||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return te.createElement(te.Fragment,null,te.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),te.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),te.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return te.isValidElement(n)?s=te.cloneElement(n,a):At(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return e2({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?Mze({data:s,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(x.PureComponent);Hs(Qm,"displayName","Brush");Hs(Qm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Fze=TP;function Lze(e,t){var r;return Fze(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var $ze=Lze,Bze=uK,Uze=_l,Vze=$ze,zze=$s,Wze=ES;function Hze(e,t,r){var n=zze(e)?Bze:Vze;return r&&Wze(e,t,r)&&(t=void 0),n(e,Uze(t))}var qze=Hze;const Gze=hr(qze);var ll=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},J$=PK;function Kze(e,t,r){t=="__proto__"&&J$?J$(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Yze=Kze,Xze=Yze,Jze=AK,Qze=_l;function Zze(e,t){var r={};return t=Qze(t),Jze(e,function(n,a,s){Xze(r,a,t(n,a,s))}),r}var eWe=Zze;const tWe=hr(eWe);function rWe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var nWe=rWe,aWe=TP;function sWe(e,t){var r=!0;return aWe(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var iWe=sWe,oWe=nWe,lWe=iWe,cWe=_l,uWe=$s,dWe=ES;function fWe(e,t,r){var n=uWe(e)?oWe:lWe;return r&&dWe(e,t,r)&&(t=void 0),n(e,cWe(t))}var hWe=fWe;const SX=hr(hWe);var mWe=["x","y"];function Mv(e){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mv(e)}function CC(){return CC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CC.apply(this,arguments)}function Q$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q$(Object(r),!0).forEach(function(n){pWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pWe(e,t,r){return t=gWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gWe(e){var t=vWe(e,"string");return Mv(t)=="symbol"?t:t+""}function vWe(e,t){if(Mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xWe(e,t){if(e==null)return{};var r=yWe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wWe(e,t){var r=e.x,n=e.y,a=xWe(e,mWe),s="".concat(r),i=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return S0(S0(S0(S0(S0({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Z$(e){return te.createElement(gX,CC({shapeType:"rectangle",propTransformer:wWe,activeClassName:"recharts-active-bar"},e))}var bWe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=Xe(n)||qTe(n);return s?t(n,a):(s||wf(),r)}},_We=["value","background"],jX;function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function SWe(e,t){if(e==null)return{};var r=jWe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sb(){return Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sb.apply(this,arguments)}function e5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e5(Object(r),!0).forEach(function(n){cu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NX(n.key),n)}}function NWe(e,t,r){return t&&t5(e.prototype,t),r&&t5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EWe(e,t,r){return t=jb(t),CWe(e,kX()?Reflect.construct(t,r||[],jb(e).constructor):t.apply(e,r))}function CWe(e,t){if(t&&(Zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TWe(e)}function TWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kX=function(){return!!e})()}function jb(e){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jb(e)}function AWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TC(e,t)}function TC(e,t){return TC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TC(e,t)}function cu(e,t,r){return t=NX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NX(e){var t=OWe(e,"string");return Zm(t)=="symbol"?t:t+""}function OWe(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fx=function(e){function t(){var r;kWe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=EWe(this,t,[].concat(a)),cu(r,"state",{isAnimationFinished:!1}),cu(r,"id",Vp("recharts-bar-")),cu(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),cu(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return AWe(t,e),NWe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,i=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=jt(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:i,m=vn(vn(vn({},d),f),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return te.createElement(ir,Sb({className:"recharts-bar-rectangle"},vf(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),te.createElement(Z$,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,i=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return te.createElement(gl,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=s.map(function(v,y){var w=h&&h[y];if(w){var b=Qs(w.x,v.x),_=Qs(w.y,v.y),S=Qs(w.width,v.width),k=Qs(w.height,v.height);return vn(vn({},v),{},{x:b(g),y:_(g),width:S(g),height:k(g)})}if(i==="horizontal"){var j=Qs(0,v.height),E=j(g);return vn(vn({},v),{},{y:v.y+v.height-E,height:E})}var N=Qs(0,v.width),O=N(g);return vn(vn({},v),{},{width:O})});return te.createElement(ir,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,i=this.state.prevData;return s&&a&&a.length&&(!i||!Ix(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,i=a.dataKey,l=a.activeIndex,c=jt(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=SWe(u,_We);if(!f)return null;var p=vn(vn(vn(vn(vn({},h),{},{fill:"#eee"},f),c),vf(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return te.createElement(Z$,Sb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=ci(d,Mx);if(!f)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,p=function(v,y){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Rn(v,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return te.createElement(ir,g,f.map(function(m){return te.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,i=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,y=$t("recharts-bar",i),w=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=w||b,S=Lt(m)?this.id:m;return te.createElement(ir,{className:y},w||b?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(S)},te.createElement("rect",{x:w?u:u-f/2,y:b?d:d-h/2,width:w?f:f*2,height:b?h:h*2}))):null,te.createElement(ir,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!p||v)&&Ql.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(x.PureComponent);jX=Fx;cu(Fx,"displayName","Bar");cu(Fx,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!il.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});cu(Fx,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,i=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=dBe(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?vn(vn({},m),r.props):r.props,y=v.dataKey,w=v.children,b=v.minPointSize,_=g==="horizontal"?i:s,S=u?_.scale.domain():null,k=xBe({numericAxis:_}),j=ci(w,ho),E=f.map(function(N,O){var P,T,L,H,z,M;u?P=fBe(u[d+O],S):(P=Rn(N,y),Array.isArray(P)||(P=[k,P]));var I=bWe(b,jX.defaultProps.minPointSize)(P[1],O);if(g==="horizontal"){var U,R=[i.scale(P[0]),i.scale(P[1])],Y=R[0],Z=R[1];T=WL({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:N,index:O}),L=(U=Z??Y)!==null&&U!==void 0?U:void 0,H=p.size;var C=Y-Z;if(z=Number.isNaN(C)?0:C,M={x:T,y:i.y,width:H,height:i.height},Math.abs(I)>0&&Math.abs(z)<Math.abs(I)){var X=ns(z||I)*(Math.abs(I)-Math.abs(z));L-=X,z+=X}}else{var B=[s.scale(P[0]),s.scale(P[1])],q=B[0],re=B[1];if(T=q,L=WL({axis:i,ticks:c,bandSize:a,offset:p.offset,entry:N,index:O}),H=re-q,z=p.size,M={x:s.x,y:L,width:s.width,height:z},Math.abs(I)>0&&Math.abs(H)<Math.abs(I)){var se=ns(H||I)*(Math.abs(I)-Math.abs(H));H+=se}}return vn(vn(vn({},N),{},{x:T,y:L,width:H,height:z,value:u?P:P[1],payload:N,background:M},j&&j[O]&&j[O].props),{},{tooltipPayload:[KY(r,N)],tooltipPosition:{x:T+H/2,y:L+z/2}})});return vn({data:E,layout:g},h)});function Fv(e){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fv(e)}function PWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EX(n.key),n)}}function DWe(e,t,r){return t&&r5(e.prototype,t),r&&r5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function n5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n5(Object(r),!0).forEach(function(n){qS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qS(e,t,r){return t=EX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EX(e){var t=RWe(e,"string");return Fv(t)=="symbol"?t:t+""}function RWe(e,t){if(Fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IWe=function(t,r,n,a,s){var i=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Gs(u,Fx);return d.reduce(function(p,g){var m=r[g],v=m.orientation,y=m.domain,w=m.padding,b=w===void 0?{}:w,_=m.mirror,S=m.reversed,k="".concat(v).concat(_?"Mirror":""),j,E,N,O,P;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var T=y[1]-y[0],L=1/0,H=m.categoricalDomain.sort(YTe);if(H.forEach(function(B,q){q>0&&(L=Math.min((B||0)-(H[q-1]||0),L))}),Number.isFinite(L)){var z=L/T,M=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(j=z*M/2),m.padding==="no-gap"){var I=as(t.barCategoryGap,z*M),U=z*M/2;j=U-I-(U-I)/M*I}}}a==="xAxis"?E=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:a==="yAxis"?E=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:E=m.range,S&&(E=[E[1],E[0]]);var R=WY(m,s,h),Y=R.scale,Z=R.realScaleType;Y.domain(y).range(E),HY(Y);var C=qY(Y,co(co({},m),{},{realScaleType:Z}));a==="xAxis"?(P=v==="top"&&!_||v==="bottom"&&_,N=n.left,O=f[k]-P*m.height):a==="yAxis"&&(P=v==="left"&&!_||v==="right"&&_,N=f[k]-P*m.width,O=n.top);var X=co(co(co({},m),C),{},{realScaleType:Z,x:N,y:O,scale:Y,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return X.bandSize=ob(X,C),!m.hide&&a==="xAxis"?f[k]+=(P?-1:1)*X.height:m.hide||(f[k]+=(P?-1:1)*X.width),co(co({},p),{},qS({},g,X))},{})},CX=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},MWe=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return CX({x:r,y:n},{x:a,y:s})},TX=function(){function e(t){PWe(this,e),this.scale=t}return DWe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();qS(TX,"EPS",1e-4);var s4=function(t){var r=Object.keys(t).reduce(function(n,a){return co(co({},n),{},qS({},a,TX.create(t[a])))},{});return co(co({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return tWe(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return SX(a,function(s,i){return r[i].isInRange(s)})}})};function FWe(e){return(e%180+180)%180}var LWe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=FWe(a),i=s*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},$We=_l,BWe=Ax,UWe=kS;function VWe(e){return function(t,r,n){var a=Object(t);if(!BWe(t)){var s=$We(r);t=UWe(t),r=function(l){return s(a[l],l,a)}}var i=e(t,r,n);return i>-1?a[s?t[i]:i]:void 0}}var zWe=VWe,WWe=yX;function HWe(e){var t=WWe(e),r=t%1;return t===t?r?t-r:t:0}var qWe=HWe,GWe=jK,KWe=_l,YWe=qWe,XWe=Math.max;function JWe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:YWe(r);return a<0&&(a=XWe(n+a,0)),GWe(e,KWe(t),a)}var QWe=JWe,ZWe=zWe,eHe=QWe,tHe=ZWe(eHe),rHe=tHe;const nHe=hr(rHe);var aHe=XCe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),i4=x.createContext(void 0),o4=x.createContext(void 0),AX=x.createContext(void 0),OX=x.createContext({}),PX=x.createContext(void 0),DX=x.createContext(0),RX=x.createContext(0),a5=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=t.clipPathId,l=t.children,c=t.width,u=t.height,d=aHe(s);return te.createElement(i4.Provider,{value:n},te.createElement(o4.Provider,{value:a},te.createElement(OX.Provider,{value:s},te.createElement(AX.Provider,{value:d},te.createElement(PX.Provider,{value:i},te.createElement(DX.Provider,{value:u},te.createElement(RX.Provider,{value:c},l)))))))},sHe=function(){return x.useContext(PX)},IX=function(t){var r=x.useContext(i4);r==null&&wf();var n=r[t];return n==null&&wf(),n},iHe=function(){var t=x.useContext(i4);return Gc(t)},oHe=function(){var t=x.useContext(o4),r=nHe(t,function(n){return SX(n.domain,Number.isFinite)});return r||Gc(t)},MX=function(t){var r=x.useContext(o4);r==null&&wf();var n=r[t];return n==null&&wf(),n},lHe=function(){var t=x.useContext(AX);return t},cHe=function(){return x.useContext(OX)},l4=function(){return x.useContext(RX)},c4=function(){return x.useContext(DX)};function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function uHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dHe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LX(n.key),n)}}function fHe(e,t,r){return t&&dHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hHe(e,t,r){return t=kb(t),mHe(e,FX()?Reflect.construct(t,r||[],kb(e).constructor):t.apply(e,r))}function mHe(e,t){if(t&&(ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pHe(e)}function pHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FX=function(){return!!e})()}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kb(e)}function gHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AC(e,t)}function AC(e,t){return AC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AC(e,t)}function s5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s5(Object(r),!0).forEach(function(n){u4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u4(e,t,r){return t=LX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LX(e){var t=vHe(e,"string");return ep(t)=="symbol"?t:t+""}function vHe(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xHe(e,t){return _He(e)||bHe(e,t)||wHe(e,t)||yHe()}function yHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wHe(e,t){if(e){if(typeof e=="string")return o5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o5(e,t)}}function o5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bHe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function _He(e){if(Array.isArray(e))return e}function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OC.apply(this,arguments)}var SHe=function(t,r){var n;return te.isValidElement(t)?n=te.cloneElement(t,r):At(t)?n=t(r):n=te.createElement("line",OC({},r,{className:"recharts-reference-line-line"})),n},jHe=function(t,r,n,a,s,i,l,c,u){var d=s.x,f=s.y,h=s.width,p=s.height;if(n){var g=u.y,m=t.y.apply(g,{position:i});if(ll(u,"discard")&&!t.y.isInRange(m))return null;var v=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var y=u.x,w=t.x.apply(y,{position:i});if(ll(u,"discard")&&!t.x.isInRange(w))return null;var b=[{x:w,y:f+p},{x:w,y:f}];return l==="top"?b.reverse():b}if(a){var _=u.segment,S=_.map(function(k){return t.apply(k,{position:i})});return ll(u,"discard")&&Gze(S,function(k){return!t.isInRange(k)})?null:S}return null};function kHe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=sHe(),d=IX(a),f=MX(s),h=lHe();if(!u||!h)return null;jo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=s4({x:d.scale,y:f.scale}),g=Fn(t),m=Fn(r),v=n&&n.length===2,y=jHe(p,g,m,v,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var w=xHe(y,2),b=w[0],_=b.x,S=b.y,k=w[1],j=k.x,E=k.y,N=ll(e,"hidden")?"url(#".concat(u,")"):void 0,O=i5(i5({clipPath:N},jt(e,!0)),{},{x1:_,y1:S,x2:j,y2:E});return te.createElement(ir,{className:$t("recharts-reference-line",l)},SHe(i,O),Wn.renderCallByParent(e,MWe({x1:_,y1:S,x2:j,y2:E})))}var d4=function(e){function t(){return uHe(this,t),hHe(this,t,arguments)}return gHe(t,e),fHe(t,[{key:"render",value:function(){return te.createElement(kHe,this.props)}}])}(te.Component);u4(d4,"displayName","ReferenceLine");u4(d4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function PC(){return PC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PC.apply(this,arguments)}function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function l5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l5(Object(r),!0).forEach(function(n){GS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EHe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BX(n.key),n)}}function CHe(e,t,r){return t&&EHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function THe(e,t,r){return t=Nb(t),AHe(e,$X()?Reflect.construct(t,r||[],Nb(e).constructor):t.apply(e,r))}function AHe(e,t){if(t&&(tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OHe(e)}function OHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $X(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($X=function(){return!!e})()}function Nb(e){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nb(e)}function PHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DC(e,t)}function DC(e,t){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DC(e,t)}function GS(e,t,r){return t=BX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BX(e){var t=DHe(e,"string");return tp(t)=="symbol"?t:t+""}function DHe(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RHe=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,i=s4({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return ll(t,"discard")&&!i.isInRange(l)?null:l},KS=function(e){function t(){return NHe(this,t),THe(this,t,arguments)}return PHe(t,e),CHe(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=Fn(a),d=Fn(s);if(jo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=RHe(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,v=g.className,y=ll(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=c5(c5({clipPath:y},jt(this.props,!0)),{},{cx:h,cy:p});return te.createElement(ir,{className:$t("recharts-reference-dot",v)},t.renderDot(m,w),Wn.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(te.Component);GS(KS,"displayName","ReferenceDot");GS(KS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});GS(KS,"renderDot",function(e,t){var r;return te.isValidElement(e)?r=te.cloneElement(e,t):At(e)?r=e(t):r=te.createElement($S,PC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function RC(){return RC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RC.apply(this,arguments)}function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function u5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u5(Object(r),!0).forEach(function(n){YS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MHe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VX(n.key),n)}}function FHe(e,t,r){return t&&MHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LHe(e,t,r){return t=Eb(t),$He(e,UX()?Reflect.construct(t,r||[],Eb(e).constructor):t.apply(e,r))}function $He(e,t){if(t&&(rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BHe(e)}function BHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UX=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(e)}function UHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IC(e,t)}function IC(e,t){return IC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IC(e,t)}function YS(e,t,r){return t=VX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VX(e){var t=VHe(e,"string");return rp(t)=="symbol"?t:t+""}function VHe(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zHe=function(t,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=s4({x:d.scale,y:f.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ll(s,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:CX(p,g)},XS=function(e){function t(){return IHe(this,t),LHe(this,t,arguments)}return UHe(t,e),FHe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;jo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Fn(a),h=Fn(s),p=Fn(i),g=Fn(l),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var v=zHe(f,h,p,g,this.props);if(!v&&!m)return null;var y=ll(this.props,"hidden")?"url(#".concat(d,")"):void 0;return te.createElement(ir,{className:$t("recharts-reference-area",c)},t.renderRect(m,d5(d5({clipPath:y},jt(this.props,!0)),v)),Wn.renderCallByParent(this.props,v))}}])}(te.Component);YS(XS,"displayName","ReferenceArea");YS(XS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});YS(XS,"renderRect",function(e,t){var r;return te.isValidElement(e)?r=te.cloneElement(e,t):At(e)?r=e(t):r=te.createElement(a4,RC({},t,{className:"recharts-reference-area-rect"})),r});function zX(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function WHe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return LWe(n,r)}function HHe(e,t,r){var n=r==="width",a=e.x,s=e.y,i=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function Cb(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function qHe(e,t){return zX(e,t+1)}function GHe(e,t,r,n,a){for(var s=(n||[]).slice(),i=t.start,l=t.end,c=0,u=1,d=i,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:zX(n,u)};var m=c,v,y=function(){return v===void 0&&(v=r(g,m)),v},w=g.coordinate,b=c===0||Cb(e,w,y,d,l);b||(c=0,d=i,u+=1),b&&(d=w+e*(y()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Lv(e){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lv(e)}function f5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f5(Object(r),!0).forEach(function(n){KHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KHe(e,t,r){return t=YHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YHe(e){var t=XHe(e,"string");return Lv(t)=="symbol"?t:t+""}function XHe(e,t){if(Lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JHe(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,l=t.start,c=t.end,u=function(h){var p=s[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===i-1){var v=e*(p.coordinate+e*m()/2-c);s[h]=p=_a(_a({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else s[h]=p=_a(_a({},p),{},{tickCoord:p.coordinate});var y=Cb(e,p.tickCoord,m,l,c);y&&(c=p.tickCoord-e*(m()/2+a),s[h]=_a(_a({},p),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return s}function QHe(e,t,r,n,a,s){var i=(n||[]).slice(),l=i.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);i[l-1]=d=_a(_a({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Cb(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),i[l-1]=_a(_a({},d),{},{isShow:!0}))}for(var g=s?l-1:l,m=function(w){var b=i[w],_,S=function(){return _===void 0&&(_=r(b,w)),_};if(w===0){var k=e*(b.coordinate-e*S()/2-c);i[w]=b=_a(_a({},b),{},{tickCoord:k<0?b.coordinate-k*e:b.coordinate})}else i[w]=b=_a(_a({},b),{},{tickCoord:b.coordinate});var j=Cb(e,b.tickCoord,S,c,u);j&&(c=b.tickCoord+e*(S()/2+a),i[w]=_a(_a({},b),{},{isShow:!0}))},v=0;v<g;v++)m(v);return i}function f4(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,i=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Xe(c)||il.isSsr)return qHe(a,typeof c=="number"&&Xe(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=d&&p==="width"?mg(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,_){var S=At(u)?u(b.value,_):b.value;return p==="width"?WHe(mg(S,{fontSize:t,letterSpacing:r}),g,f):mg(S,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?ns(a[1].coordinate-a[0].coordinate):1,y=HHe(s,v,p);return c==="equidistantPreserveStart"?GHe(v,y,m,a,i):(c==="preserveStart"||c==="preserveStartEnd"?h=QHe(v,y,m,a,i,c==="preserveStartEnd"):h=JHe(v,y,m,a,i),h.filter(function(w){return w.isShow}))}var ZHe=["viewBox"],eqe=["viewBox"],tqe=["ticks"];function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ih.apply(this,arguments)}function h5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h5(Object(r),!0).forEach(function(n){h4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t2(e,t){if(e==null)return{};var r=rqe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HX(n.key),n)}}function aqe(e,t,r){return t&&m5(e.prototype,t),r&&m5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sqe(e,t,r){return t=Tb(t),iqe(e,WX()?Reflect.construct(t,r||[],Tb(e).constructor):t.apply(e,r))}function iqe(e,t){if(t&&(np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oqe(e)}function oqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WX=function(){return!!e})()}function Tb(e){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tb(e)}function lqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MC(e,t)}function MC(e,t){return MC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},MC(e,t)}function h4(e,t,r){return t=HX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HX(e){var t=cqe(e,"string");return np(t)=="symbol"?t:t+""}function cqe(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yp=function(e){function t(r){var n;return nqe(this,t),n=sqe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return lqe(t,e),aqe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,i=t2(n,ZHe),l=this.props,c=l.viewBox,u=t2(l,eqe);return!em(s,c)||!em(i,u)||!em(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,i=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,m,v,y,w,b=f?-1:1,_=n.tickSize||d,S=Xe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,v=i+ +!f*c,m=v-b*_,w=m-b*h,y=S;break;case"left":m=v=n.coordinate,g=s+ +!f*l,p=g-b*_,y=p-b*h,w=S;break;case"right":m=v=n.coordinate,g=s+ +f*l,p=g+b*_,y=p+b*h,w=S;break;default:p=g=n.coordinate,v=i+ +f*c,m=v+b*_,w=m+b*h,y=S;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:y,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i;switch(a){case"left":i=s?"start":"end";break;case"right":i=s?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=s?"start":"end";break;default:i=s?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Nn(Nn(Nn({},jt(this.props,!1)),jt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Nn(Nn({},f),{},{x1:a,y1:s+h*l,x2:a+i,y2:s+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Nn(Nn({},f),{},{x1:a+p*i,y1:s,x2:a+p*i,y2:s+l})}return te.createElement("line",Ih({},f,{className:$t("recharts-cartesian-axis-line",li(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var i=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=f4(Nn(Nn({},this.props),{},{ticks:n}),a,s),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=jt(this.props,!1),y=jt(d,!1),w=Nn(Nn({},v),{},{fill:"none"},jt(c,!1)),b=p.map(function(_,S){var k=i.getTickLineCoord(_),j=k.line,E=k.tick,N=Nn(Nn(Nn(Nn({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},y),E),{},{index:S,payload:_,visibleTicksCount:p.length,tickFormatter:f});return te.createElement(ir,Ih({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},vf(i.props,_,S)),c&&te.createElement("line",Ih({},w,j,{className:$t("recharts-cartesian-axis-tick-line",li(c,"className"))})),d&&t.renderTickItem(d,N,"".concat(At(f)?f(_.value,S):_.value).concat(h||"")))});return te.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,i=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=t2(f,tqe),g=h;return At(c)&&(g=h&&h.length>0?c(this.props):c(p)),i<=0||l<=0||!g||!g.length?null:te.createElement(ir,{className:$t("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Wn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var i,l=$t(a.className,"recharts-cartesian-axis-tick-value");return te.isValidElement(n)?i=te.cloneElement(n,Nn(Nn({},a),{},{className:l})):At(n)?i=n(Nn(Nn({},a),{},{className:l})):i=te.createElement(xf,Ih({},a,{className:"recharts-cartesian-axis-tick-value"}),s),i}}])}(x.Component);h4(Yp,"displayName","CartesianAxis");h4(Yp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uqe=["x1","y1","x2","y2","key"],dqe=["offset"];function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function p5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p5(Object(r),!0).forEach(function(n){fqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fqe(e,t,r){return t=hqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hqe(e){var t=mqe(e,"string");return bf(t)=="symbol"?t:t+""}function mqe(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nd.apply(this,arguments)}function g5(e,t){if(e==null)return{};var r=pqe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var gqe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,i=t.width,l=t.height,c=t.ry;return te.createElement("rect",{x:a,y:s,ry:c,width:i,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function qX(e,t){var r;if(te.isValidElement(e))r=te.cloneElement(e,t);else if(At(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,i=t.y2,l=t.key,c=g5(t,uqe),u=jt(c,!1);u.offset;var d=g5(u,dqe);r=te.createElement("line",Nd({},d,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:l}))}return r}function vqe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Na(Na({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return qX(a,u)});return te.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function xqe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Na(Na({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return qX(a,u)});return te.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function yqe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?a+i-h:d[p+1]-h;if(m<=0)return null;var v=p%t.length;return te.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function wqe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,i=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?s+l-h:d[p+1]-h;if(m<=0)return null;var v=p%n.length;return te.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var bqe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,i=t.offset;return zY(f4(Na(Na(Na({},Yp.defaultProps),n),{},{ticks:ql(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.left,i.left+i.width,r)},_qe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,i=t.offset;return zY(f4(Na(Na(Na({},Yp.defaultProps),n),{},{ticks:ql(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.top,i.top+i.height,r)},nh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function m4(e){var t,r,n,a,s,i,l=l4(),c=c4(),u=cHe(),d=Na(Na({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:nh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:nh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:nh.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:nh.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:nh.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:nh.verticalFill,x:Xe(e.x)?e.x:u.left,y:Xe(e.y)?e.y:u.top,width:Xe(e.width)?e.width:u.width,height:Xe(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,w=iHe(),b=oHe();if(!Xe(p)||p<=0||!Xe(g)||g<=0||!Xe(f)||f!==+f||!Xe(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||bqe,S=d.horizontalCoordinatesGenerator||_qe,k=d.horizontalPoints,j=d.verticalPoints;if((!k||!k.length)&&At(S)){var E=v&&v.length,N=S({yAxis:b?Na(Na({},b),{},{ticks:E?v:b.ticks}):void 0,width:l,height:c,offset:u},E?!0:m);jo(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(bf(N),"]")),Array.isArray(N)&&(k=N)}if((!j||!j.length)&&At(_)){var O=y&&y.length,P=_({xAxis:w?Na(Na({},w),{},{ticks:O?y:w.ticks}):void 0,width:l,height:c,offset:u},O?!0:m);jo(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(bf(P),"]")),Array.isArray(P)&&(j=P)}return te.createElement("g",{className:"recharts-cartesian-grid"},te.createElement(gqe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),te.createElement(vqe,Nd({},d,{offset:u,horizontalPoints:k,xAxis:w,yAxis:b})),te.createElement(xqe,Nd({},d,{offset:u,verticalPoints:j,xAxis:w,yAxis:b})),te.createElement(yqe,Nd({},d,{horizontalPoints:k})),te.createElement(wqe,Nd({},d,{verticalPoints:j})))}m4.displayName="CartesianGrid";var Sqe=["type","layout","connectNulls","ref"],jqe=["key"];function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function v5(e,t){if(e==null)return{};var r=kqe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(this,arguments)}function x5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x5(Object(r),!0).forEach(function(n){uo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ah(e){return Tqe(e)||Cqe(e)||Eqe(e)||Nqe()}function Nqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eqe(e,t){if(e){if(typeof e=="string")return FC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FC(e,t)}}function Cqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tqe(e){if(Array.isArray(e))return FC(e)}function FC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Aqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KX(n.key),n)}}function Oqe(e,t,r){return t&&y5(e.prototype,t),r&&y5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pqe(e,t,r){return t=Ab(t),Dqe(e,GX()?Reflect.construct(t,r||[],Ab(e).constructor):t.apply(e,r))}function Dqe(e,t){if(t&&(ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rqe(e)}function Rqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GX=function(){return!!e})()}function Ab(e){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ab(e)}function Iqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LC(e,t)}function LC(e,t){return LC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LC(e,t)}function uo(e,t,r){return t=KX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KX(e){var t=Mqe(e,"string");return ap(t)=="symbol"?t:t+""}function Mqe(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xp=function(e){function t(){var r;Aqe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Pqe(this,t,[].concat(a)),uo(r,"state",{isAnimationFinished:!0,totalLength:0}),uo(r,"generateSimpleStrokeDasharray",function(i,l){return"".concat(l,"px ").concat(i-l,"px")}),uo(r,"getStrokeDasharray",function(i,l,c){var u=c.reduce(function(y,w){return y+w});if(!u)return r.generateSimpleStrokeDasharray(l,i);for(var d=Math.floor(i/u),f=i%u,h=l-i,p=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>f){p=[].concat(ah(c.slice(0,g)),[f-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(ah(t.repeat(c,d)),ah(p),v).map(function(y){return"".concat(y,"px")}).join(", ")}),uo(r,"id",Vp("recharts-line-")),uo(r,"pathRef",function(i){r.mainCurve=i}),uo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),uo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Iqe(t,e),Oqe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=ci(d,Mx);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:Rn(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return te.createElement(ir,p,f.map(function(g){return te.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=jt(this.props,!1),h=jt(c,!0),p=u.map(function(m,v){var y=zs(zs(zs({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return te.createElement(ir,wg({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,a,s,i){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=v5(l,Sqe),h=zs(zs(zs({},jt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},i),{},{type:c,layout:u,connectNulls:d});return te.createElement(ub,wg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,i=this.props,l=i.points,c=i.strokeDasharray,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,g=i.animateNewValues,m=i.width,v=i.height,y=this.state,w=y.prevPoints,b=y.totalLength;return te.createElement(gl,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(w){var k=w.length/l.length,j=l.map(function(T,L){var H=Math.floor(L*k);if(w[H]){var z=w[H],M=Qs(z.x,T.x),I=Qs(z.y,T.y);return zs(zs({},T),{},{x:M(S),y:I(S)})}if(g){var U=Qs(m*2,T.x),R=Qs(v/2,T.y);return zs(zs({},T),{},{x:U(S),y:R(S)})}return zs(zs({},T),{},{x:T.x,y:T.y})});return s.renderCurveStatically(j,n,a)}var E=Qs(0,b),N=E(S),O;if(c){var P="".concat(c).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});O=s.getStrokeDasharray(N,b,P)}else O=s.generateSimpleStrokeDasharray(b,N);return s.renderCurveStatically(l,n,a,{strokeDasharray:O})})}},{key:"renderCurve",value:function(n,a){var s=this.props,i=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&i&&i.length&&(!u&&d>0||!Ix(u,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,i=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(s||!l||!l.length)return null;var y=this.state.isAnimationFinished,w=l.length===1,b=$t("recharts-line",c),_=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,k=_||S,j=Lt(v)?this.id:v,E=(n=jt(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=E.r,O=N===void 0?3:N,P=E.strokeWidth,T=P===void 0?2:P,L=aAe(i)?i:{},H=L.clipDot,z=H===void 0?!0:H,M=O*2+T;return te.createElement(ir,{className:b},_||S?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(j)},te.createElement("rect",{x:_?h:h-p/2,y:S?f:f-g/2,width:_?p:p*2,height:S?g:g*2})),!z&&te.createElement("clipPath",{id:"clipPath-dots-".concat(j)},te.createElement("rect",{x:h-M/2,y:f-M/2,width:p+M,height:g+M}))):null,!w&&this.renderCurve(k,j),this.renderErrorBar(k,j),(w||i)&&this.renderDots(k,z,j),(!m||y)&&Ql.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(ah(n),[0]):n,i=[],l=0;l<a;++l)i=[].concat(ah(i),ah(s));return i}},{key:"renderDotItem",value:function(n,a){var s;if(te.isValidElement(n))s=te.cloneElement(n,a);else if(At(n))s=n(a);else{var i=a.key,l=v5(a,jqe),c=$t("recharts-line-dot",typeof n!="boolean"?n.className:"");s=te.createElement($S,wg({key:i},l,{className:c}))}return s}}])}(x.PureComponent);uo(Xp,"displayName","Line");uo(Xp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!il.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});uo(Xp,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,i=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var g=Rn(h,i);return d==="horizontal"?{x:zL({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:Lt(g)?null:n.scale(g),value:g,payload:h}:{x:Lt(g)?null:r.scale(g),y:zL({axis:n,ticks:s,bandSize:l,entry:h,index:p}),value:g,payload:h}});return zs({points:f,layout:d},u)});function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function Fqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lqe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JX(n.key),n)}}function $qe(e,t,r){return t&&Lqe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bqe(e,t,r){return t=Ob(t),Uqe(e,YX()?Reflect.construct(t,r||[],Ob(e).constructor):t.apply(e,r))}function Uqe(e,t){if(t&&(sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vqe(e)}function Vqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YX=function(){return!!e})()}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(e)}function zqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$C(e,t)}function $C(e,t){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$C(e,t)}function XX(e,t,r){return t=JX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JX(e){var t=Wqe(e,"string");return sp(t)=="symbol"?t:t+""}function Wqe(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BC(){return BC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BC.apply(this,arguments)}function Hqe(e){var t=e.xAxisId,r=l4(),n=c4(),a=IX(t);return a==null?null:x.createElement(Yp,BC({},a,{className:$t("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return ql(i,!0)}}))}var Lx=function(e){function t(){return Fqe(this,t),Bqe(this,t,arguments)}return zqe(t,e),$qe(t,[{key:"render",value:function(){return x.createElement(Hqe,this.props)}}])}(x.Component);XX(Lx,"displayName","XAxis");XX(Lx,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function qqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gqe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eJ(n.key),n)}}function Kqe(e,t,r){return t&&Gqe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yqe(e,t,r){return t=Pb(t),Xqe(e,QX()?Reflect.construct(t,r||[],Pb(e).constructor):t.apply(e,r))}function Xqe(e,t){if(t&&(ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jqe(e)}function Jqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QX=function(){return!!e})()}function Pb(e){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pb(e)}function Qqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UC(e,t)}function UC(e,t){return UC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UC(e,t)}function ZX(e,t,r){return t=eJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eJ(e){var t=Zqe(e,"string");return ip(t)=="symbol"?t:t+""}function Zqe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VC(){return VC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VC.apply(this,arguments)}var eGe=function(t){var r=t.yAxisId,n=l4(),a=c4(),s=MX(r);return s==null?null:x.createElement(Yp,VC({},s,{className:$t("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return ql(l,!0)}}))},$x=function(e){function t(){return qqe(this,t),Yqe(this,t,arguments)}return Qqe(t,e),Kqe(t,[{key:"render",value:function(){return x.createElement(eGe,this.props)}}])}(x.Component);ZX($x,"displayName","YAxis");ZX($x,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function w5(e){return aGe(e)||nGe(e)||rGe(e)||tGe()}function tGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rGe(e,t){if(e){if(typeof e=="string")return zC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zC(e,t)}}function nGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aGe(e){if(Array.isArray(e))return zC(e)}function zC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var WC=function(t,r,n,a,s){var i=ci(t,d4),l=ci(t,KS),c=[].concat(w5(i),w5(l)),u=ci(t,XS),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,v){if(v.props[d]===n&&ll(v.props,"extendDomain")&&Xe(v.props[f])){var y=v.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,v){if(v.props[d]===n&&ll(v.props,"extendDomain")&&Xe(v.props[p])&&Xe(v.props[g])){var y=v.props[p],w=v.props[g];return[Math.min(m[0],y,w),Math.max(m[1],y,w)]}return m},h)}return s&&s.length&&(h=s.reduce(function(m,v){return Xe(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},tJ={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,g),!0}for(b=1,w=new Array(y-1);b<y;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var _=v.length,S;for(b=0;b<_;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!w)for(S=1,w=new Array(y-1);S<y;S++)w[S-1]=arguments[S];v[b].fn.apply(v[b].context,w)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return i(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&i(this,p);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:i(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(tJ);var sGe=tJ.exports;const iGe=hr(sGe);var r2=new iGe,n2="recharts.syncMouseEvents";function $v(e){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(e)}function oGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lGe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rJ(n.key),n)}}function cGe(e,t,r){return t&&lGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a2(e,t,r){return t=rJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rJ(e){var t=uGe(e,"string");return $v(t)=="symbol"?t:t+""}function uGe(e,t){if($v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dGe=function(){function e(){oGe(this,e),a2(this,"activeIndex",0),a2(this,"coordinateList",[]),a2(this,"layout","horizontal")}return cGe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function fGe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Xe(n)&&Xe(a))return!0}return!1}function hGe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function nJ(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,i=Dr(t,r,n,a),l=Dr(t,r,n,s);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function mGe(e,t,r){var n,a,s,i;if(e==="horizontal")n=t.x,s=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Dr(l,c,u,f),p=Dr(l,c,d,f);n=h.x,a=h.y,s=p.x,i=p.y}else return nJ(t);return[{x:n,y:a},{x:s,y:i}]}function Bv(e){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(e)}function b5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b5(Object(r),!0).forEach(function(n){pGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pGe(e,t,r){return t=gGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gGe(e){var t=vGe(e,"string");return Bv(t)=="symbol"?t:t+""}function vGe(e,t){if(Bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xGe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,i=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!i||h!=="ScatterChart"&&a!=="axis")return null;var g,m=ub;if(h==="ScatterChart")g=i,m=I7e;else if(h==="BarChart")g=hGe(f,i,c,d),m=a4;else if(f==="radial"){var v=nJ(i),y=v.cx,w=v.cy,b=v.radius,_=v.startAngle,S=v.endAngle;g={cx:y,cy:w,startAngle:_,endAngle:S,innerRadius:b,outerRadius:b},m=eX}else g={points:mGe(f,i,c)},m=ub;var k=Jy(Jy(Jy(Jy({stroke:"#ccc",pointerEvents:"none"},c),g),jt(p,!1)),{},{payload:l,payloadIndex:u,className:$t("recharts-tooltip-cursor",p.className)});return x.isValidElement(p)?x.cloneElement(p,k):x.createElement(m,k)}var yGe=["item"],wGe=["children","className","width","height","style","compact","title","desc"];function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mh.apply(this,arguments)}function _5(e,t){return SGe(e)||_Ge(e,t)||sJ(e,t)||bGe()}function bGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function SGe(e){if(Array.isArray(e))return e}function S5(e,t){if(e==null)return{};var r=jGe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NGe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iJ(n.key),n)}}function EGe(e,t,r){return t&&NGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CGe(e,t,r){return t=Db(t),TGe(e,aJ()?Reflect.construct(t,r||[],Db(e).constructor):t.apply(e,r))}function TGe(e,t){if(t&&(op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AGe(e)}function AGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aJ=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}function OGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HC(e,t)}function HC(e,t){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HC(e,t)}function lp(e){return RGe(e)||DGe(e)||sJ(e)||PGe()}function PGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sJ(e,t){if(e){if(typeof e=="string")return qC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qC(e,t)}}function DGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RGe(e){if(Array.isArray(e))return qC(e)}function qC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kt(e,t,r){return t=iJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iJ(e){var t=IGe(e,"string");return op(t)=="symbol"?t:t+""}function IGe(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MGe={xAxis:["bottom","top"],yAxis:["left","right"]},FGe={width:"100%",height:"100%"},oJ={x:0,y:0};function Qy(e){return e}var LGe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},$Ge=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var i=s.coordinate,l=a.radius;return Pe(Pe(Pe({},a),Dr(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return Pe(Pe(Pe({},a),Dr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return oJ},JS=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(lp(l),lp(u)):l},[]);return i.length>0?i:t&&t.length&&Xe(a)&&Xe(s)?t.slice(a,s+1):[]};function lJ(e){return e==="number"?[0,"auto"]:void 0}var GC=function(t,r,n,a){var s=t.graphicalItems,i=t.tooltipAxis,l=JS(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=f===void 0?l:f;h=D1(p,i.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(lp(c),[KY(u,h)]):c},[])},k5=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},i=LGe(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=sBe(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=GC(t,r,d,f),p=$Ge(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},BGe=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=VY(d,s);return n.reduce(function(g,m){var v,y=m.type.defaultProps!==void 0?Pe(Pe({},m.type.defaultProps),m.props):m.props,w=y.type,b=y.dataKey,_=y.allowDataOverflow,S=y.allowDuplicatedCategory,k=y.scale,j=y.ticks,E=y.includeHidden,N=y[i];if(g[N])return g;var O=JS(t.data,{graphicalItems:a.filter(function(C){var X,B=i in C.props?C.props[i]:(X=C.type.defaultProps)===null||X===void 0?void 0:X[i];return B===N}),dataStartIndex:c,dataEndIndex:u}),P=O.length,T,L,H;fGe(y.domain,_,w)&&(T=oC(y.domain,null,_),p&&(w==="number"||k!=="auto")&&(H=gg(O,b,"category")));var z=lJ(w);if(!T||T.length===0){var M,I=(M=y.domain)!==null&&M!==void 0?M:z;if(b){if(T=gg(O,b,w),w==="category"&&p){var U=KTe(T);S&&U?(L=T,T=wb(0,P)):S||(T=GL(I,T,m).reduce(function(C,X){return C.indexOf(X)>=0?C:[].concat(lp(C),[X])},[]))}else if(w==="category")S?T=T.filter(function(C){return C!==""&&!Lt(C)}):T=GL(I,T,m).reduce(function(C,X){return C.indexOf(X)>=0||X===""||Lt(X)?C:[].concat(lp(C),[X])},[]);else if(w==="number"){var R=uBe(O,a.filter(function(C){var X,B,q=i in C.props?C.props[i]:(X=C.type.defaultProps)===null||X===void 0?void 0:X[i],re="hide"in C.props?C.props.hide:(B=C.type.defaultProps)===null||B===void 0?void 0:B.hide;return q===N&&(E||!re)}),b,s,d);R&&(T=R)}p&&(w==="number"||k!=="auto")&&(H=gg(O,b,"category"))}else p?T=wb(0,P):l&&l[N]&&l[N].hasStack&&w==="number"?T=h==="expand"?[0,1]:GY(l[N].stackGroups,c,u):T=UY(O,a.filter(function(C){var X=i in C.props?C.props[i]:C.type.defaultProps[i],B="hide"in C.props?C.props.hide:C.type.defaultProps.hide;return X===N&&(E||!B)}),w,d,!0);if(w==="number")T=WC(f,T,N,s,j),I&&(T=oC(I,T,_));else if(w==="category"&&I){var Y=I,Z=T.every(function(C){return Y.indexOf(C)>=0});Z&&(T=Y)}}return Pe(Pe({},g),{},kt({},N,Pe(Pe({},y),{},{axisType:s,domain:T,categoricalDomain:H,duplicateDomain:L,originalDomain:(v=y.domain)!==null&&v!==void 0?v:z,isCategorical:p,layout:d})))},{})},UGe=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=JS(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=VY(d,s),m=-1;return n.reduce(function(v,y){var w=y.type.defaultProps!==void 0?Pe(Pe({},y.type.defaultProps),y.props):y.props,b=w[i],_=lJ("number");if(!v[b]){m++;var S;return g?S=wb(0,p):l&&l[b]&&l[b].hasStack?(S=GY(l[b].stackGroups,c,u),S=WC(f,S,b,s)):(S=oC(_,UY(h,n.filter(function(k){var j,E,N=i in k.props?k.props[i]:(j=k.type.defaultProps)===null||j===void 0?void 0:j[i],O="hide"in k.props?k.props.hide:(E=k.type.defaultProps)===null||E===void 0?void 0:E.hide;return N===b&&!O}),"number",d),a.defaultProps.allowDataOverflow),S=WC(f,S,b,s)),Pe(Pe({},v),{},kt({},b,Pe(Pe({axisType:s},a.defaultProps),{},{hide:!0,orientation:li(MGe,"".concat(s,".").concat(m%2),null),domain:S,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},VGe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=ci(d,s),p={};return h&&h.length?p=BGe(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(p=UGe(t,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},zGe=function(t){var r=Gc(t),n=ql(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:AP(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ob(r,n)}},N5=function(t){var r=t.children,n=t.defaultShowTooltip,a=Gs(r,Qm),s=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},WGe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Xl(r&&r.type);return n&&n.indexOf("Bar")>=0})},E5=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},HGe=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,i=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Gs(f,Qm),g=Gs(f,Su),m=Object.keys(c).reduce(function(S,k){var j=c[k],E=j.orientation;return!j.mirror&&!j.hide?Pe(Pe({},S),{},kt({},E,S[E]+j.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(i).reduce(function(S,k){var j=i[k],E=j.orientation;return!j.mirror&&!j.hide?Pe(Pe({},S),{},kt({},E,li(S,"".concat(E))+j.height)):S},{top:h.top||0,bottom:h.bottom||0}),y=Pe(Pe({},v),m),w=y.bottom;p&&(y.bottom+=p.props.height||Qm.defaultProps.height),g&&r&&(y=lBe(y,a,n,r));var b=u-y.left-y.right,_=d-y.top-y.bottom;return Pe(Pe({brushBottom:w},y),{},{width:Math.max(b,0),height:Math.max(_,0)})},qGe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},cJ=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,i=t.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,w){var b=w.graphicalItems,_=w.stackGroups,S=w.offset,k=w.updateId,j=w.dataStartIndex,E=w.dataEndIndex,N=y.barSize,O=y.layout,P=y.barGap,T=y.barCategoryGap,L=y.maxBarSize,H=E5(O),z=H.numericAxisName,M=H.cateAxisName,I=WGe(b),U=[];return b.forEach(function(R,Y){var Z=JS(y.data,{graphicalItems:[R],dataStartIndex:j,dataEndIndex:E}),C=R.type.defaultProps!==void 0?Pe(Pe({},R.type.defaultProps),R.props):R.props,X=C.dataKey,B=C.maxBarSize,q=C["".concat(z,"Id")],re=C["".concat(M,"Id")],se={},le=c.reduce(function(he,F){var ce=w["".concat(F.axisType,"Map")],pe=C["".concat(F.axisType,"Id")];ce&&ce[pe]||F.axisType==="zAxis"||wf();var xe=ce[pe];return Pe(Pe({},he),{},kt(kt({},F.axisType,xe),"".concat(F.axisType,"Ticks"),ql(xe)))},se),ae=le[M],K=le["".concat(M,"Ticks")],me=_&&_[q]&&_[q].hasStack&&yBe(R,_[q].stackGroups),A=Xl(R.type).indexOf("Bar")>=0,$e=ob(ae,K),Ie=[],Ue=I&&iBe({barSize:N,stackGroups:_,totalSize:qGe(le,M)});if(A){var Ve,De,pt=Lt(B)?L:B,yt=(Ve=(De=ob(ae,K,!0))!==null&&De!==void 0?De:pt)!==null&&Ve!==void 0?Ve:0;Ie=oBe({barGap:P,barCategoryGap:T,bandSize:yt!==$e?yt:$e,sizeList:Ue[re],maxBarSize:pt}),yt!==$e&&(Ie=Ie.map(function(he){return Pe(Pe({},he),{},{position:Pe(Pe({},he.position),{},{offset:he.position.offset-yt/2})})}))}var ne=R&&R.type&&R.type.getComposedData;ne&&U.push({props:Pe(Pe({},ne(Pe(Pe({},le),{},{displayedData:Z,props:y,dataKey:X,item:R,bandSize:$e,barPosition:Ie,offset:S,stackedData:me,layout:O,dataStartIndex:j,dataEndIndex:E}))),{},kt(kt(kt({key:R.key||"item-".concat(Y)},z,le[z]),M,le[M]),"animationId",k)),childIndex:oAe(R,y.children),item:R})}),U},p=function(y,w){var b=y.props,_=y.dataStartIndex,S=y.dataEndIndex,k=y.updateId;if(!BF({props:b}))return null;var j=b.children,E=b.layout,N=b.stackOffset,O=b.data,P=b.reverseStackOrder,T=E5(E),L=T.numericAxisName,H=T.cateAxisName,z=ci(j,n),M=vBe(O,z,"".concat(L,"Id"),"".concat(H,"Id"),N,P),I=c.reduce(function(C,X){var B="".concat(X.axisType,"Map");return Pe(Pe({},C),{},kt({},B,VGe(b,Pe(Pe({},X),{},{graphicalItems:z,stackGroups:X.axisType===L&&M,dataStartIndex:_,dataEndIndex:S}))))},{}),U=HGe(Pe(Pe({},I),{},{props:b,graphicalItems:z}),w==null?void 0:w.legendBBox);Object.keys(I).forEach(function(C){I[C]=d(b,I[C],U,C.replace("Map",""),r)});var R=I["".concat(H,"Map")],Y=zGe(R),Z=h(b,Pe(Pe({},I),{},{dataStartIndex:_,dataEndIndex:S,updateId:k,graphicalItems:z,stackGroups:M,offset:U}));return Pe(Pe({formattedGraphicalItems:Z,graphicalItems:z,offset:U,stackGroups:M},Y),I)},g=function(v){function y(w){var b,_,S;return kGe(this,y),S=CGe(this,y,[w]),kt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),kt(S,"accessibilityManager",new dGe),kt(S,"handleLegendBBoxUpdate",function(k){if(k){var j=S.state,E=j.dataStartIndex,N=j.dataEndIndex,O=j.updateId;S.setState(Pe({legendBBox:k},p({props:S.props,dataStartIndex:E,dataEndIndex:N,updateId:O},Pe(Pe({},S.state),{},{legendBBox:k}))))}}),kt(S,"handleReceiveSyncEvent",function(k,j,E){if(S.props.syncId===k){if(E===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(j)}}),kt(S,"handleBrushChange",function(k){var j=k.startIndex,E=k.endIndex;if(j!==S.state.dataStartIndex||E!==S.state.dataEndIndex){var N=S.state.updateId;S.setState(function(){return Pe({dataStartIndex:j,dataEndIndex:E},p({props:S.props,dataStartIndex:j,dataEndIndex:E,updateId:N},S.state))}),S.triggerSyncEvent({dataStartIndex:j,dataEndIndex:E})}}),kt(S,"handleMouseEnter",function(k){var j=S.getMouseInfo(k);if(j){var E=Pe(Pe({},j),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var N=S.props.onMouseEnter;At(N)&&N(E,k)}}),kt(S,"triggeredAfterMouseMove",function(k){var j=S.getMouseInfo(k),E=j?Pe(Pe({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var N=S.props.onMouseMove;At(N)&&N(E,k)}),kt(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),kt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),kt(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),kt(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};S.setState(j),S.triggerSyncEvent(j);var E=S.props.onMouseLeave;At(E)&&E(j,k)}),kt(S,"handleOuterEvent",function(k){var j=iAe(k),E=li(S.props,"".concat(j));if(j&&At(E)){var N,O;/.*touch.*/i.test(j)?O=S.getMouseInfo(k.changedTouches[0]):O=S.getMouseInfo(k),E((N=O)!==null&&N!==void 0?N:{},k)}}),kt(S,"handleClick",function(k){var j=S.getMouseInfo(k);if(j){var E=Pe(Pe({},j),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var N=S.props.onClick;At(N)&&N(E,k)}}),kt(S,"handleMouseDown",function(k){var j=S.props.onMouseDown;if(At(j)){var E=S.getMouseInfo(k);j(E,k)}}),kt(S,"handleMouseUp",function(k){var j=S.props.onMouseUp;if(At(j)){var E=S.getMouseInfo(k);j(E,k)}}),kt(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),kt(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),kt(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),kt(S,"handleDoubleClick",function(k){var j=S.props.onDoubleClick;if(At(j)){var E=S.getMouseInfo(k);j(E,k)}}),kt(S,"handleContextMenu",function(k){var j=S.props.onContextMenu;if(At(j)){var E=S.getMouseInfo(k);j(E,k)}}),kt(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&r2.emit(n2,S.props.syncId,k,S.eventEmitterSymbol)}),kt(S,"applySyncEvent",function(k){var j=S.props,E=j.layout,N=j.syncMethod,O=S.state.updateId,P=k.dataStartIndex,T=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(Pe({dataStartIndex:P,dataEndIndex:T},p({props:S.props,dataStartIndex:P,dataEndIndex:T,updateId:O},S.state)));else if(k.activeTooltipIndex!==void 0){var L=k.chartX,H=k.chartY,z=k.activeTooltipIndex,M=S.state,I=M.offset,U=M.tooltipTicks;if(!I)return;if(typeof N=="function")z=N(U,k);else if(N==="value"){z=-1;for(var R=0;R<U.length;R++)if(U[R].value===k.activeLabel){z=R;break}}var Y=Pe(Pe({},I),{},{x:I.left,y:I.top}),Z=Math.min(L,Y.x+Y.width),C=Math.min(H,Y.y+Y.height),X=U[z]&&U[z].value,B=GC(S.state,S.props.data,z),q=U[z]?{x:E==="horizontal"?U[z].coordinate:Z,y:E==="horizontal"?C:U[z].coordinate}:oJ;S.setState(Pe(Pe({},k),{},{activeLabel:X,activeCoordinate:q,activePayload:B,activeTooltipIndex:z}))}else S.setState(k)}),kt(S,"renderCursor",function(k){var j,E=S.state,N=E.isTooltipActive,O=E.activeCoordinate,P=E.activePayload,T=E.offset,L=E.activeTooltipIndex,H=E.tooltipAxisBandSize,z=S.getTooltipEventType(),M=(j=k.props.active)!==null&&j!==void 0?j:N,I=S.props.layout,U=k.key||"_recharts-cursor";return te.createElement(xGe,{key:U,activeCoordinate:O,activePayload:P,activeTooltipIndex:L,chartName:r,element:k,isActive:M,layout:I,offset:T,tooltipAxisBandSize:H,tooltipEventType:z})}),kt(S,"renderPolarAxis",function(k,j,E){var N=li(k,"type.axisType"),O=li(S.state,"".concat(N,"Map")),P=k.type.defaultProps,T=P!==void 0?Pe(Pe({},P),k.props):k.props,L=O&&O[T["".concat(N,"Id")]];return x.cloneElement(k,Pe(Pe({},L),{},{className:$t(N,L.className),key:k.key||"".concat(j,"-").concat(E),ticks:ql(L,!0)}))}),kt(S,"renderPolarGrid",function(k){var j=k.props,E=j.radialLines,N=j.polarAngles,O=j.polarRadius,P=S.state,T=P.radiusAxisMap,L=P.angleAxisMap,H=Gc(T),z=Gc(L),M=z.cx,I=z.cy,U=z.innerRadius,R=z.outerRadius;return x.cloneElement(k,{polarAngles:Array.isArray(N)?N:ql(z,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(O)?O:ql(H,!0).map(function(Y){return Y.coordinate}),cx:M,cy:I,innerRadius:U,outerRadius:R,key:k.key||"polar-grid",radialLines:E})}),kt(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,j=S.props,E=j.children,N=j.width,O=j.height,P=S.props.margin||{},T=N-(P.left||0)-(P.right||0),L=$Y({children:E,formattedGraphicalItems:k,legendWidth:T,legendContent:u});if(!L)return null;var H=L.item,z=S5(L,yGe);return x.cloneElement(H,Pe(Pe({},z),{},{chartWidth:N,chartHeight:O,margin:P,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),kt(S,"renderTooltip",function(){var k,j=S.props,E=j.children,N=j.accessibilityLayer,O=Gs(E,Ei);if(!O)return null;var P=S.state,T=P.isTooltipActive,L=P.activeCoordinate,H=P.activePayload,z=P.activeLabel,M=P.offset,I=(k=O.props.active)!==null&&k!==void 0?k:T;return x.cloneElement(O,{viewBox:Pe(Pe({},M),{},{x:M.left,y:M.top}),active:I,label:z,payload:I?H:[],coordinate:L,accessibilityLayer:N})}),kt(S,"renderBrush",function(k){var j=S.props,E=j.margin,N=j.data,O=S.state,P=O.offset,T=O.dataStartIndex,L=O.dataEndIndex,H=O.updateId;return x.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Gy(S.handleBrushChange,k.props.onChange),data:N,x:Xe(k.props.x)?k.props.x:P.left,y:Xe(k.props.y)?k.props.y:P.top+P.height+P.brushBottom-(E.bottom||0),width:Xe(k.props.width)?k.props.width:P.width,startIndex:T,endIndex:L,updateId:"brush-".concat(H)})}),kt(S,"renderReferenceElement",function(k,j,E){if(!k)return null;var N=S,O=N.clipPathId,P=S.state,T=P.xAxisMap,L=P.yAxisMap,H=P.offset,z=k.type.defaultProps||{},M=k.props,I=M.xAxisId,U=I===void 0?z.xAxisId:I,R=M.yAxisId,Y=R===void 0?z.yAxisId:R;return x.cloneElement(k,{key:k.key||"".concat(j,"-").concat(E),xAxis:T[U],yAxis:L[Y],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:O})}),kt(S,"renderActivePoints",function(k){var j=k.item,E=k.activePoint,N=k.basePoint,O=k.childIndex,P=k.isRange,T=[],L=j.props.key,H=j.item.type.defaultProps!==void 0?Pe(Pe({},j.item.type.defaultProps),j.item.props):j.item.props,z=H.activeDot,M=H.dataKey,I=Pe(Pe({index:O,dataKey:M,cx:E.x,cy:E.y,r:4,fill:n4(j.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},jt(z,!1)),R1(z));return T.push(y.renderActiveDot(z,I,"".concat(L,"-activePoint-").concat(O))),N?T.push(y.renderActiveDot(z,Pe(Pe({},I),{},{cx:N.x,cy:N.y}),"".concat(L,"-basePoint-").concat(O))):P&&T.push(null),T}),kt(S,"renderGraphicChild",function(k,j,E){var N=S.filterFormatItem(k,j,E);if(!N)return null;var O=S.getTooltipEventType(),P=S.state,T=P.isTooltipActive,L=P.tooltipAxis,H=P.activeTooltipIndex,z=P.activeLabel,M=S.props.children,I=Gs(M,Ei),U=N.props,R=U.points,Y=U.isRange,Z=U.baseLine,C=N.item.type.defaultProps!==void 0?Pe(Pe({},N.item.type.defaultProps),N.item.props):N.item.props,X=C.activeDot,B=C.hide,q=C.activeBar,re=C.activeShape,se=!!(!B&&T&&I&&(X||q||re)),le={};O!=="axis"&&I&&I.props.trigger==="click"?le={onClick:Gy(S.handleItemMouseEnter,k.props.onClick)}:O!=="axis"&&(le={onMouseLeave:Gy(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Gy(S.handleItemMouseEnter,k.props.onMouseEnter)});var ae=x.cloneElement(k,Pe(Pe({},N.props),le));function K(F){return typeof L.dataKey=="function"?L.dataKey(F.payload):null}if(se)if(H>=0){var me,A;if(L.dataKey&&!L.allowDuplicatedCategory){var $e=typeof L.dataKey=="function"?K:"payload.".concat(L.dataKey.toString());me=D1(R,$e,z),A=Y&&Z&&D1(Z,$e,z)}else me=R==null?void 0:R[H],A=Y&&Z&&Z[H];if(re||q){var Ie=k.props.activeIndex!==void 0?k.props.activeIndex:H;return[x.cloneElement(k,Pe(Pe(Pe({},N.props),le),{},{activeIndex:Ie})),null,null]}if(!Lt(me))return[ae].concat(lp(S.renderActivePoints({item:N,activePoint:me,basePoint:A,childIndex:H,isRange:Y})))}else{var Ue,Ve=(Ue=S.getItemByXY(S.state.activeCoordinate))!==null&&Ue!==void 0?Ue:{graphicalItem:ae},De=Ve.graphicalItem,pt=De.item,yt=pt===void 0?k:pt,ne=De.childIndex,he=Pe(Pe(Pe({},N.props),le),{},{activeIndex:ne});return[x.cloneElement(yt,he),null,null]}return Y?[ae,null,null]:[ae,null]}),kt(S,"renderCustomized",function(k,j,E){return x.cloneElement(k,Pe(Pe({key:"recharts-customized-".concat(E)},S.props),S.state))}),kt(S,"renderMap",{CartesianGrid:{handler:Qy,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Qy},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Qy},YAxis:{handler:Qy},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:Vp("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=LK(S.triggeredAfterMouseMove,(_=w.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return OGe(y,v),EGe(y,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,S=b.data,k=b.height,j=b.layout,E=Gs(_,Ei);if(E){var N=E.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,P=GC(this.state,S,N,O),T=this.state.tooltipTicks[N].coordinate,L=(this.state.offset.top+k)/2,H=j==="horizontal",z=H?{x:T,y:L}:{y:T,x:L},M=this.state.formattedGraphicalItems.find(function(U){var R=U.item;return R.type.name==="Scatter"});M&&(z=Pe(Pe({},z),M.props.points[N].tooltipPosition),P=M.props.points[N].tooltipPayload);var I={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:O,activePayload:P,activeCoordinate:z};this.setState(I),this.renderCursor(E),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(b){_E([Gs(b.children,Ei)],[Gs(this.props.children,Ei)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Gs(this.props.children,Ei);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),k=DLe(S),j={chartX:Math.round(b.pageX-k.left),chartY:Math.round(b.pageY-k.top)},E=S.width/_.offsetWidth||1,N=this.inRange(j.chartX,j.chartY,E);if(!N)return null;var O=this.state,P=O.xAxisMap,T=O.yAxisMap,L=this.getTooltipEventType(),H=k5(this.state,this.props.data,this.props.layout,N);if(L!=="axis"&&P&&T){var z=Gc(P).scale,M=Gc(T).scale,I=z&&z.invert?z.invert(j.chartX):null,U=M&&M.invert?M.invert(j.chartY):null;return Pe(Pe({},j),{},{xValue:I,yValue:U},H)}return H?Pe(Pe({},j),H):null}},{key:"inRange",value:function(b,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,j=b/S,E=_/S;if(k==="horizontal"||k==="vertical"){var N=this.state.offset,O=j>=N.left&&j<=N.left+N.width&&E>=N.top&&E<=N.top+N.height;return O?{x:j,y:E}:null}var P=this.state,T=P.angleAxisMap,L=P.radiusAxisMap;if(T&&L){var H=Gc(T);return XL({x:j,y:E},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),S=Gs(b,Ei),k={};S&&_==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=R1(this.props,this.handleOuterEvent);return Pe(Pe({},j),k)}},{key:"addListener",value:function(){r2.on(n2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){r2.removeListener(n2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,S){for(var k=this.state.formattedGraphicalItems,j=0,E=k.length;j<E;j++){var N=k[j];if(N.item===b||N.props.key===b.key||_===Xl(N.item.type)&&S===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,S=_.left,k=_.top,j=_.height,E=_.width;return te.createElement("defs",null,te.createElement("clipPath",{id:b},te.createElement("rect",{x:S,y:k,height:j,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,S){var k=_5(S,2),j=k[0],E=k[1];return Pe(Pe({},_),{},kt({},j,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,S){var k=_5(S,2),j=k[0],E=k[1];return Pe(Pe({},_),{},kt({},j,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,S=_.formattedGraphicalItems,k=_.activeItem;if(S&&S.length)for(var j=0,E=S.length;j<E;j++){var N=S[j],O=N.props,P=N.item,T=P.type.defaultProps!==void 0?Pe(Pe({},P.type.defaultProps),P.props):P.props,L=Xl(P.type);if(L==="Bar"){var H=(O.data||[]).find(function(U){return p7e(b,U)});if(H)return{graphicalItem:N,payload:H}}else if(L==="RadialBar"){var z=(O.data||[]).find(function(U){return XL(b,U)});if(z)return{graphicalItem:N,payload:z}}else if(WS(N,k)||HS(N,k)||Rv(N,k)){var M=nze({graphicalItem:N,activeTooltipItem:k,itemData:T.data}),I=T.activeIndex===void 0?M:T.activeIndex;return{graphicalItem:Pe(Pe({},N),{},{childIndex:I}),payload:Rv(N,k)?T.data[M]:N.props.data[M]}}}return null}},{key:"render",value:function(){var b=this;if(!BF(this))return null;var _=this.props,S=_.children,k=_.className,j=_.width,E=_.height,N=_.style,O=_.compact,P=_.title,T=_.desc,L=S5(_,wGe),H=jt(L,!1);if(O)return te.createElement(a5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement(jE,Mh({},H,{width:j,height:E,title:P,desc:T}),this.renderClipPath(),VF(S,this.renderMap)));if(this.props.accessibilityLayer){var z,M;H.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,H.role=(M=this.props.role)!==null&&M!==void 0?M:"application",H.onKeyDown=function(U){b.accessibilityManager.keyboardEvent(U)},H.onFocus=function(){b.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return te.createElement(a5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement("div",Mh({className:$t("recharts-wrapper",k),style:Pe({position:"relative",cursor:"default",width:j,height:E},N)},I,{ref:function(R){b.container=R}}),te.createElement(jE,Mh({},H,{width:j,height:E,title:P,desc:T,style:FGe}),this.renderClipPath(),VF(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);kt(g,"displayName",r),kt(g,"defaultProps",Pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),kt(g,"getDerivedStateFromProps",function(v,y){var w=v.dataKey,b=v.data,_=v.children,S=v.width,k=v.height,j=v.layout,E=v.stackOffset,N=v.margin,O=y.dataStartIndex,P=y.dataEndIndex;if(y.updateId===void 0){var T=N5(v);return Pe(Pe(Pe({},T),{},{updateId:0},p(Pe(Pe({props:v},T),{},{updateId:0}),y)),{},{prevDataKey:w,prevData:b,prevWidth:S,prevHeight:k,prevLayout:j,prevStackOffset:E,prevMargin:N,prevChildren:_})}if(w!==y.prevDataKey||b!==y.prevData||S!==y.prevWidth||k!==y.prevHeight||j!==y.prevLayout||E!==y.prevStackOffset||!em(N,y.prevMargin)){var L=N5(v),H={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},z=Pe(Pe({},k5(y,b,j)),{},{updateId:y.updateId+1}),M=Pe(Pe(Pe({},L),H),z);return Pe(Pe(Pe({},M),p(Pe({props:v},M),y)),{},{prevDataKey:w,prevData:b,prevWidth:S,prevHeight:k,prevLayout:j,prevStackOffset:E,prevMargin:N,prevChildren:_})}if(!_E(_,y.prevChildren)){var I,U,R,Y,Z=Gs(_,Qm),C=Z&&(I=(U=Z.props)===null||U===void 0?void 0:U.startIndex)!==null&&I!==void 0?I:O,X=Z&&(R=(Y=Z.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&R!==void 0?R:P,B=C!==O||X!==P,q=!Lt(b),re=q&&!B?y.updateId:y.updateId+1;return Pe(Pe({updateId:re},p(Pe(Pe({props:v},y),{},{updateId:re,dataStartIndex:C,dataEndIndex:X}),y)),{},{prevChildren:_,dataStartIndex:C,dataEndIndex:X})}return null}),kt(g,"renderActiveDot",function(v,y,w){var b;return x.isValidElement(v)?b=x.cloneElement(v,y):At(v)?b=v(y):b=te.createElement($S,y),te.createElement(ir,{className:"recharts-active-dot",key:w},b)});var m=x.forwardRef(function(y,w){return te.createElement(g,Mh({},y,{ref:w}))});return m.displayName=g.displayName,m},uJ=cJ({chartName:"LineChart",GraphicalChild:Xp,axisComponents:[{axisType:"xAxis",AxisComp:Lx},{axisType:"yAxis",AxisComp:$x}],formatAxisMap:IWe}),$c=cJ({chartName:"PieChart",GraphicalChild:ka,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:zS},{axisType:"radiusAxis",AxisComp:US}],formatAxisMap:TBe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const GGe={light:"",dark:".dark"},dJ=x.createContext(null);function fJ(){const e=x.useContext(dJ);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Rl=x.forwardRef(({id:e,className:t,children:r,config:n,...a},s)=>{const i=x.useId(),l=`chart-${e||i.replace(/:/g,"")}`;return o.jsx(dJ.Provider,{value:{config:n},children:o.jsxs("div",{"data-chart":l,ref:s,className:je("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[o.jsx(KGe,{id:l,config:n}),o.jsx(PP,{children:r})]})})});Rl.displayName="Chart";const KGe=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?o.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(GGe).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([s,i])=>{var c;const l=((c=i.theme)==null?void 0:c[n])||i.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Bc=Ei,Il=x.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:s=!1,label:i,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:h},p)=>{const{config:g}=fJ(),m=x.useMemo(()=>{var S;if(a||!(t!=null&&t.length))return null;const[y]=t,w=`${h||y.dataKey||y.name||"value"}`,b=KC(g,y,w),_=!h&&typeof i=="string"?((S=g[i])==null?void 0:S.label)||i:b==null?void 0:b.label;return l?o.jsx("div",{className:je("font-medium",c),children:l(_,t)}):_?o.jsx("div",{className:je("font-medium",c),children:_}):null},[i,l,t,a,c,g,h]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&n!=="dot";return o.jsxs("div",{ref:p,className:je("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:m,o.jsx("div",{className:"grid gap-1.5",children:t.map((y,w)=>{const b=`${f||y.name||y.dataKey||"value"}`,_=KC(g,y,b),S=d||y.payload.fill||y.color;return o.jsx("div",{className:je("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(y==null?void 0:y.value)!==void 0&&y.name?u(y.value,y.name,y,w,y.payload):o.jsxs(o.Fragment,{children:[_!=null&&_.icon?o.jsx(_.icon,{}):!s&&o.jsx("div",{className:je("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),o.jsxs("div",{className:je("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[o.jsxs("div",{className:"grid gap-1.5",children:[v?m:null,o.jsx("span",{className:"text-muted-foreground",children:(_==null?void 0:_.label)||y.name})]}),y.value&&o.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:y.value.toLocaleString()})]})]})},y.dataKey)})})]})});Il.displayName="ChartTooltip";const YGe=x.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},s)=>{const{config:i}=fJ();return r!=null&&r.length?o.jsx("div",{ref:s,className:je("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=KC(i,l,c);return o.jsxs("div",{className:je("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?o.jsx(u.icon,{}):o.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});YGe.displayName="ChartLegend";function KC(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}function XGe(){var T4,A4,O4,P4,D4,R4,I4,M4,F4,L4,$4,B4,U4;const{t:e}=qt(),{user:t}=vr(),{currentLanguage:r}=gi(),{toast:n}=Tf();ca();const{setBreadcrumbs:a}=u_();Fs();const[s,i]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState([]),[p,g]=x.useState([]),[m,v]=x.useState([]),[y,w]=x.useState([]),[b,_]=x.useState([]),[S,k]=x.useState([]),[j,E]=x.useState([]),[N,O]=x.useState([]),[P,T]=x.useState(!0),[L,H]=x.useState(null),[z,M]=x.useState(""),[I,U]=x.useState(1),[R]=x.useState(8),[Y,Z]=x.useState(0),[C,X]=x.useState(""),[B,q]=x.useState(""),[re,se]=x.useState(""),[le,ae]=x.useState(""),[K,me]=x.useState(""),[A,$e]=x.useState(""),[Ie,Ue]=x.useState(null),[Ve,De]=x.useState(null),[pt,yt]=x.useState(!1),[ne,he]=x.useState(!1),[F,ce]=x.useState({city_name_en:"",city_name_ar:"",country_id:null}),[pe,xe]=x.useState(!1),[Fe,ye]=x.useState({system_name_en:"",system_name_ar:""}),[_e,ue]=x.useState(!1),[Ee,Le]=x.useState({activity_name_en:"",activity_name_ar:""}),[Re,Ke]=x.useState(!1),[_t,lr]=x.useState({status_name_en:"",status_name_ar:""}),[yr,Bn]=x.useState([]),[wr,Bs]=x.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[Yn,ua]=x.useState(!1),[Sl,ie]=x.useState(null),[ge,Oe]=x.useState(null),[Me,St]=x.useState(!1),[rt,Ht]=x.useState([]),[Qt,Ba]=x.useState(!1),[Xn,Gi]=x.useState("list"),[Sc,jc]=x.useState(!1),[W,ee]=x.useState(!1),[Q,D]=x.useState(!1),[V,J]=x.useState(!1),[de,Ae]=x.useState(!1),[be,Se]=x.useState(!1),[Ne,Be]=x.useState(!1),[Je,at]=x.useState(!1),[He,tt]=x.useState(null),[Ot,jr]=x.useState(!1),[Nr,fn]=x.useState(!1),[kc,jl]=x.useState(!1),[Nc,Ki]=x.useState(!1),[Bf,Us]=x.useState(!1),[S4,tj]=x.useState(!1),[br,Ua]=x.useState({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null});x.useEffect(()=>{a([{label:e("navigation.dashboard"),href:"/"},{label:"Master Leads",href:"/mleads"}])},[a,e]),x.useEffect(()=>{j4()},[]),x.useEffect(()=>{Jp()},[I,z,C,B,re,le,K,A,u]),x.useEffect(()=>{Qt&&OJ()},[Qt,z,C,B,re,le,K,A,u]);const j4=async()=>{try{T(!0),H(null);const[G,we,ze,Rt,ms,Ju,Uf,sj,ij]=await Promise.all([ve.from("m_city").select("*"),ve.from("m_activity").select("*"),ve.from("m_status").select("*"),ve.from("m_system").select("*"),ve.from("stages").select("*").eq("stage_type","mleads").order("stager_order_index",{ascending:!0}),ve.from("m_contacts").select("*"),ve.from("users").select("*"),ve.from("m_country").select("*"),ve.from("m_jobtitle").select("*")]);if(G.error)throw G.error;if(we.error)throw we.error;if(ze.error)throw ze.error;if(Rt.error)throw Rt.error;if(ms.error)throw ms.error;if(Ju.error)throw Ju.error;if(Uf.error)throw Uf.error;if(sj.error)throw sj.error;if(ij.error)throw ij.error;d(G.data||[]),h(we.data||[]),g(ze.data||[]),v(Rt.data||[]),w(ms.data||[]),_(Ju.data||[]),k(Uf.data||[]),E(sj.data||[]),O(ij.data||[])}catch(G){const we=G instanceof Error?G.message:"Failed to load data";H(we),n({title:"Error",description:we,variant:"destructive"})}finally{T(!1)}},Jp=async()=>{try{T(!0),H(null);let G=ve.from("m_leads").select("*",{count:"exact"}).order("created_at",{ascending:!1});if(z&&(G=G.or(`company_name.ilike.%${z}%,address.ilike.%${z}%`)),C&&(G=G.eq("city_id",C)),re&&(G=G.eq("system_id",re)),le&&(G=G.eq("status_id",le)),K&&(G=G.eq("activity_id",K)),A&&(G=G.eq("created_by",A)),B){const ms=u.filter(Ju=>{var Uf;return((Uf=Ju.country_id)==null?void 0:Uf.toString())===B}).map(Ju=>Ju.city_id);ms.length>0?G=G.in("city_id",ms):G=G.eq("city_id",-1)}const we=(I-1)*R,ze=we+R-1;G=G.range(we,ze);const Rt=await G;if(Rt.error)throw Rt.error;i(Rt.data||[]),Z(Rt.count||0)}catch(G){const we=G instanceof Error?G.message:"Failed to load data";H(we),n({title:"Error",description:we,variant:"destructive"})}finally{T(!1)}},OJ=async()=>{try{let G=ve.from("m_leads").select("*").order("created_at",{ascending:!1});if(z&&(G=G.or(`company_name.ilike.%${z}%,address.ilike.%${z}%`)),C&&(G=G.eq("city_id",C)),re&&(G=G.eq("system_id",re)),le&&(G=G.eq("status_id",le)),K&&(G=G.eq("activity_id",K)),A&&(G=G.eq("created_by",A)),B){const ze=u.filter(Rt=>{var ms;return((ms=Rt.country_id)==null?void 0:ms.toString())===B}).map(Rt=>Rt.city_id);ze.length>0?G=G.in("city_id",ze):G=G.eq("city_id",-1)}const we=await G;if(we.error)throw we.error;c(we.data||[])}catch(G){console.error("Failed to load all filtered leads:",G)}},Vs=x.useMemo(()=>Qt?l:s,[Qt,l,s]),PJ=x.useMemo(()=>{if(Qt){const G=(I-1)*R,we=G+R;return Vs.slice(G,we)}else return s},[Qt,Vs,s,I,R]),Ec=Math.ceil(Y/R);x.useEffect(()=>{I>Ec&&Ec>0&&U(Ec)},[I,Ec]);const cr=(G,we,ze)=>r==="ar"&&(G==null?void 0:G[ze])||(G==null?void 0:G[we]),Ux=G=>{if(!G)return"-";const we=u.find(ze=>ze.city_id===G);return cr(we,"city_name_en","city_name_ar")},Vx=G=>{if(!G)return"-";const we=f.find(ze=>ze.activity_id===G);return cr(we,"activity_name_en","activity_name_ar")},zx=G=>{if(!G)return"-";const we=p.find(ze=>ze.status_id===G);return cr(we,"status_name_en","status_name_ar")},rj=G=>{if(!G)return"-";const we=m.find(ze=>ze.system_id===G);return cr(we,"system_name_en","system_name_ar")},nj=G=>{if(!G)return"-";const we=y.find(ze=>ze.stage_id===G);return cr(we,"stage_name","stage_name_ar")},Qp=G=>{if(!G)return"-";const we=S.find(ze=>ze.auth_user_id===G);return(we==null?void 0:we.user_name)||"-"},aj=G=>{const ze={2:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},4:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"},5:{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"},1:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"},6:{bg:"bg-white-100",text:"text-white-800",border:"border-white-200"},3:{bg:"bg-orange-100",text:"text-orange-800",border:"border-orange-200"}}[G]||{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"};return`${ze.bg} ${ze.text} ${ze.border}`},DJ=async()=>{try{let G;if(Ve){const{error:we}=await ve.from("m_leads").update(br).eq("leads_id",Ve);if(we)throw we;G=Ve,n({title:e("common.success"),description:e("mleads.leadUpdatedSuccessfully")})}else{const we={...br,created_by:t==null?void 0:t.id},{data:ze,error:Rt}=await ve.from("m_leads").insert([we]).select();if(Rt)throw Rt;if(ze&&ze.length>0)G=ze[0].leads_id;else throw new Error("Failed to create lead");n({title:e("common.success"),description:e("mleads.leadCreatedSuccessfully")})}Ve?(await ve.from("m_contacts").delete().eq("leads_id",Ve),yr.length>0&&await C4(G)):yr.length>0&&await C4(G),yt(!1),De(null),Ua({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),Bn([]),await Jp()}catch(G){const we=G instanceof Error?G.message:"Failed to save";n({title:"Error",description:we,variant:"destructive"})}},RJ=async G=>{try{const{error:we}=await ve.from("m_leads").delete().eq("leads_id",G);if(we)throw we;n({title:e("common.success"),description:e("mleads.leadDeletedSuccessfully")}),Ue(null),await Jp()}catch(we){const ze=we instanceof Error?we.message:"Failed to delete";n({title:"Error",description:ze,variant:"destructive"})}},k4=G=>{Oe(G),N4(G.leads_id),St(!0)},N4=async G=>{try{const we=await Kh.getByRelated("mlead",G);Ht(we)}catch(we){console.error("Failed to load notes:",we),Ht([])}},E4=G=>{De(G.leads_id),Ua(G);const we=b.filter(ze=>ze.leads_id===G.leads_id);Bn(we.map(ze=>{var Rt;return{contact_name:ze.contact_name||"",contact_email:ze.contact_email||"",contact_mobile:((Rt=ze.contact_mobile)==null?void 0:Rt.toString())||"",jobtitle_id:ze.jobtitle_id}})),yt(!0)},IJ=async G=>{try{const{error:we}=await ve.from("m_leads").delete().in("leads_id",G);if(we)throw we;n({title:e("common.success"),description:e("mleads.leadsDeletedSuccessfully")}),await Jp()}catch(we){const ze=we instanceof Error?we.message:"Failed to delete";n({title:"Error",description:ze,variant:"destructive"})}},MJ=async()=>{try{if(!F.city_name_en&&!F.city_name_ar){n({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const{data:G,error:we}=await ve.from("m_city").insert([F]).select();if(we)throw we;if(G&&G.length>0){const ze=G[0];d([...u,ze]),Ua({...br,city_id:ze.city_id}),he(!1),ce({city_name_en:"",city_name_ar:"",country_id:null}),n({title:e("common.success"),description:e("mleads.cityCreatedSuccessfully")})}}catch(G){const we=G instanceof Error?G.message:"Failed to create city";n({title:"Error",description:we,variant:"destructive"})}},FJ=async()=>{try{if(!Fe.system_name_en&&!Fe.system_name_ar){n({title:"Error",description:"Please enter at least one system name",variant:"destructive"});return}const{data:G,error:we}=await ve.from("m_system").insert([Fe]).select();if(we)throw we;if(G&&G.length>0){const ze=G[0];v([...m,ze]),Ua({...br,system_id:ze.system_id}),xe(!1),ye({system_name_en:"",system_name_ar:""}),n({title:e("common.success"),description:e("mleads.systemCreatedSuccessfully")})}}catch(G){const we=G instanceof Error?G.message:"Failed to create system";n({title:"Error",description:we,variant:"destructive"})}},LJ=async()=>{try{if(!Ee.activity_name_en&&!Ee.activity_name_ar){n({title:"Error",description:"Please enter at least one activity name",variant:"destructive"});return}const{data:G,error:we}=await ve.from("m_activity").insert([Ee]).select();if(we)throw we;if(G&&G.length>0){const ze=G[0];h([...f,ze]),Ua({...br,activity_id:ze.activity_id}),ue(!1),Le({activity_name_en:"",activity_name_ar:""}),n({title:e("common.success"),description:e("mleads.activityCreatedSuccessfully")})}}catch(G){const we=G instanceof Error?G.message:"Failed to create activity";n({title:"Error",description:we,variant:"destructive"})}},$J=async()=>{try{if(!_t.status_name_en&&!_t.status_name_ar){n({title:"Error",description:"Please enter at least one status name",variant:"destructive"});return}const{data:G,error:we}=await ve.from("m_status").insert([_t]).select();if(we)throw we;if(G&&G.length>0){const ze=G[0];g([...p,ze]),Ua({...br,status_id:ze.status_id}),Ke(!1),lr({status_name_en:"",status_name_ar:""}),n({title:e("common.success"),description:e("mleads.statusCreatedSuccessfully")})}}catch(G){const we=G instanceof Error?G.message:"Failed to create status";n({title:"Error",description:we,variant:"destructive"})}},BJ=()=>{if(!wr.contact_name.trim()){n({title:"Error",description:"Please enter contact name",variant:"destructive"});return}Bn([...yr,{...wr}]),Bs({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),ua(!1)},UJ=G=>{Bn(yr.filter((we,ze)=>ze!==G))},C4=async G=>{try{const we=yr.map(ze=>({...ze,leads_id:G,contact_mobile:ze.contact_mobile?parseInt(ze.contact_mobile):null}));if(we.length>0){const{error:ze}=await ve.from("m_contacts").insert(we);if(ze)throw ze}}catch(we){const ze=we instanceof Error?we.message:"Failed to save contacts";n({title:"Error",description:ze,variant:"destructive"})}},VJ=G=>{tt(G)},zJ=G=>{G.preventDefault(),G.dataTransfer.dropEffect="move"},WJ=async G=>{if(!He)return;const we=s.find(ze=>ze.leads_id===He);if(we&&we.stage_id!==G)try{const{error:ze}=await ve.from("m_leads").update({stage_id:G}).eq("leads_id",He);if(ze)throw ze;n({title:e("common.success"),description:"Lead stage updated successfully"}),await Jp()}catch(ze){console.error("Failed to update lead stage:",ze),n({title:"Error",description:"Failed to update lead stage",variant:"destructive"})}tt(null)};if(P)return o.jsx(Op,{});if(L)return o.jsx(gx,{message:L,onRetry:j4});const HJ=[{label:e("common.delete"),icon:o.jsx(Sr,{}),onClick:G=>{window.confirm(`Delete ${G.length} leads?`)&&IJ(G.map(we=>we.leads_id))},variant:"destructive"}],qJ=[{key:"company_name",header:e("mleads.company"),className:"w-1/4 min-w-[200px]",render:G=>o.jsx(uf,{title:G.company_name||"-",subtitle:G.address||"",icon:o.jsx(yn,{className:"h-4 w-4"})})},{key:"city_id",header:e("mleads.city"),className:"w-1/6 min-w-[120px]",render:G=>o.jsx("span",{className:"text-sm text-foreground",children:Ux(G.city_id)})},{key:"activity_id",header:e("mleads.activity"),className:"w-1/6 min-w-[120px]",render:G=>o.jsx(dt,{variant:"outline",className:"text-xs",children:Vx(G.activity_id)})},{key:"status_id",header:e("mleads.status"),className:"w-1/6 min-w-[120px]",render:G=>{const we=zx(G.status_id);return o.jsx(dt,{variant:"outline",className:`text-xs ${aj(G.status_id)}`,children:we})}},{key:"stage_id",header:e("mleads.stage"),className:"w-1/6 min-w-[120px]",render:G=>o.jsx(dt,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:nj(G.stage_id)})},{key:"system_id",header:e("mleads.system"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:G=>o.jsx("div",{className:"text-sm text-muted-foreground truncate",children:rj(G.system_id)})},{key:"created_by",header:e("mleads.createdBy"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:G=>o.jsx(Dm,{name:Qp(G.created_by)})},{key:"created_at",header:e("mleads.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:G=>o.jsx(cf,{date:G.created_at})}],GJ=[{icon:o.jsx(Eo,{}),label:e("common.edit"),onClick:G=>E4(G)},{icon:o.jsx(Sr,{}),label:e("common.delete"),onClick:G=>Ue(G.leads_id),variant:"destructive"}];return o.jsxs("div",{className:"bg-background p-4 rounded-md {`space-y-4 ${isRTL() ? 'rtl' : 'ltr'}`}",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ap,{title:e("mleads.masterLeads"),description:e("mleads.manageMasterLeadsData"),icon:o.jsx(yn,{className:"h-6 w-6"})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>Gi(Xn==="list"?"kanban":"list"),className:"flex items-center gap-2",children:[Xn==="list"?o.jsx(ai,{className:"h-4 w-4"}):o.jsx(yn,{className:"h-4 w-4"}),e(Xn==="list"?"mleads.kanbanView":"mleads.listView")]}),o.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>Ba(!Qt),className:"flex items-center gap-2",children:[o.jsx(ai,{className:"h-4 w-4"}),e("mleads.showChart"),o.jsx(d_,{className:`h-4 w-4 transition-transform ${Qt?"rotate-180":""}`})]}),o.jsxs(oc,{open:pt,onOpenChange:yt,children:[o.jsx(XA,{asChild:!0,children:o.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>{De(null),Ua({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),Bn([]),ie(null),he(!1),xe(!1),ue(!1),Ke(!1),ce({city_name_en:"",city_name_ar:"",country_id:null}),ye({system_name_en:"",system_name_ar:""}),Le({activity_name_en:"",activity_name_ar:""}),lr({status_name_en:"",status_name_ar:""})},children:[o.jsx(ur,{className:"w-4 h-4 mr-2"}),e("common.add")]})}),o.jsxs(dl,{className:"w-full sm:max-w-[540px]",children:[o.jsx(Ou,{children:o.jsx(lc,{children:e(Ve?"mleads.editLead":"mleads.createNewLead")})}),o.jsxs("div",{className:"mt-6 space-y-4 px-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.companyName")}),o.jsx(qe,{value:br.company_name||"",onChange:G=>Ua({...br,company_name:G.target.value}),placeholder:e("mleads.companyName")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.address")}),o.jsx(sa,{value:br.address||"",onChange:G=>Ua({...br,address:G.target.value}),placeholder:e("mleads.address")})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.contacts")}),o.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>ua(!Yn),className:"h-6 px-2 text-xs",children:e(Yn?"mleads.cancel":"mleads.addContact")})]}),yr.length>0&&o.jsx("div",{className:"space-y-2 mb-3",children:yr.map((G,we)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium",children:G.contact_name}),o.jsxs("div",{className:"text-muted-foreground",children:[G.contact_email&&`${G.contact_email}  `,G.contact_mobile&&`${G.contact_mobile}`]})]}),o.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>UJ(we),className:"h-6 w-6 p-0",children:o.jsx(Ii,{className:"h-3 w-3"})})]},we))}),Yn&&o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(qe,{placeholder:e("mleads.contactName"),value:wr.contact_name,onChange:G=>Bs({...wr,contact_name:G.target.value})}),o.jsx(qe,{placeholder:e("mleads.email"),type:"email",value:wr.contact_email,onChange:G=>Bs({...wr,contact_email:G.target.value})}),o.jsx(qe,{placeholder:e("mleads.mobile"),value:wr.contact_mobile,onChange:G=>Bs({...wr,contact_mobile:G.target.value})}),o.jsxs(ma,{open:Ne,onOpenChange:Be,children:[o.jsx(pa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":Ne,className:"w-full justify-between",children:[wr.jobtitle_id?(T4=N.find(G=>G.jobtitle_id===wr.jobtitle_id))==null?void 0:T4.jobtitle_name_en:e("mleads.selectJobTitle"),o.jsx(Va,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Jn,{className:"w-full p-0",children:o.jsxs(ga,{children:[o.jsx(va,{placeholder:e("mleads.searchJobTitle")}),o.jsxs(xa,{children:[o.jsx(ya,{children:e("common.noResults")}),o.jsx(wa,{children:N&&N.length>0?N.map(G=>o.jsx(Br,{value:cr(G,"jobtitle_name_en","jobtitle_name_ar")||G.jobtitle_name_en||"Unknown",onSelect:()=>{Bs(we=>({...we,jobtitle_id:G.jobtitle_id})),Be(!1)},children:cr(G,"jobtitle_name_en","jobtitle_name_ar")||G.jobtitle_name_en||"Unknown"},G.jobtitle_id)):o.jsx(Br,{disabled:!0,children:"No job titles available"})})]})]})})]}),o.jsx(oe,{type:"button",onClick:BJ,className:"w-full",children:e("mleads.addContactTitle")})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.city")}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>he(!ne),className:"h-6 px-2 text-xs",children:e(ne?"mleads.cancel":"mleads.addNew")})]}),ne?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(qe,{placeholder:e("mleads.cityNameEn"),value:F.city_name_en,onChange:G=>ce({...F,city_name_en:G.target.value})}),o.jsx(qe,{placeholder:e("mleads.cityNameAr"),value:F.city_name_ar,onChange:G=>ce({...F,city_name_ar:G.target.value})}),o.jsxs(ma,{open:Je,onOpenChange:at,children:[o.jsx(pa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":Je,className:"w-full justify-between",children:[F.country_id?(A4=j.find(G=>G.country_id===F.country_id))==null?void 0:A4.country_name_en:e("mleads.selectCountry"),o.jsx(Va,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Jn,{className:"w-full p-0",children:o.jsxs(ga,{children:[o.jsx(va,{placeholder:e("mleads.searchCountry")}),o.jsxs(xa,{children:[o.jsx(ya,{children:e("common.noResults")}),o.jsx(wa,{children:j.map(G=>o.jsx(Br,{value:cr(G,"country_name_en","country_name_ar"),onSelect:()=>{ce({...F,country_id:G.country_id}),at(!1)},children:cr(G,"country_name_en","country_name_ar")},G.country_id))})]})]})})]}),o.jsx(oe,{type:"button",onClick:MJ,className:"w-full",children:e("mleads.createCity")})]}):o.jsxs(ma,{open:Sc,onOpenChange:jc,children:[o.jsx(pa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":Sc,className:"w-full justify-between",children:[br.city_id?Ux(br.city_id):e("mleads.city"),o.jsx(Va,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Jn,{className:"w-full p-0",children:o.jsxs(ga,{children:[o.jsx(va,{placeholder:e("mleads.searchCity")}),o.jsxs(xa,{children:[o.jsx(ya,{children:e("common.noResults")}),o.jsx(wa,{children:u.map(G=>o.jsx(Br,{value:cr(G,"city_name_en","city_name_ar"),onSelect:()=>{Ua({...br,city_id:G.city_id}),jc(!1)},children:cr(G,"city_name_en","city_name_ar")},G.city_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.activity")}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>ue(!_e),className:"h-6 px-2 text-xs",children:e(_e?"mleads.cancel":"mleads.addNew")})]}),_e?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(qe,{placeholder:e("mleads.activityNameEn"),value:Ee.activity_name_en,onChange:G=>Le({...Ee,activity_name_en:G.target.value})}),o.jsx(qe,{placeholder:e("mleads.activityNameAr"),value:Ee.activity_name_ar,onChange:G=>Le({...Ee,activity_name_ar:G.target.value})}),o.jsx(oe,{type:"button",onClick:LJ,className:"w-full",children:e("mleads.createActivity")})]}):o.jsxs(ma,{open:W,onOpenChange:ee,children:[o.jsx(pa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":W,className:"w-full justify-between",children:[br.activity_id?Vx(br.activity_id):e("mleads.selectActivity"),o.jsx(Va,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Jn,{className:"w-full p-0",children:o.jsxs(ga,{children:[o.jsx(va,{placeholder:e("mleads.searchActivity")}),o.jsxs(xa,{children:[o.jsx(ya,{children:e("common.noResults")}),o.jsx(wa,{children:f.map(G=>o.jsx(Br,{value:cr(G,"activity_name_en","activity_name_ar"),onSelect:()=>{Ua({...br,activity_id:G.activity_id}),ee(!1)},children:cr(G,"activity_name_en","activity_name_ar")},G.activity_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.system")}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>xe(!pe),className:"h-6 px-2 text-xs",children:e(pe?"mleads.cancel":"mleads.addNew")})]}),pe?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(qe,{placeholder:e("mleads.systemNameEn"),value:Fe.system_name_en,onChange:G=>ye({...Fe,system_name_en:G.target.value})}),o.jsx(qe,{placeholder:e("mleads.systemNameAr"),value:Fe.system_name_ar,onChange:G=>ye({...Fe,system_name_ar:G.target.value})}),o.jsx(oe,{type:"button",onClick:FJ,className:"w-full",children:e("mleads.createSystem")})]}):o.jsxs(ma,{open:Q,onOpenChange:D,children:[o.jsx(pa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":Q,className:"w-full justify-between",children:[br.system_id?rj(br.system_id):e("mleads.selectSystem"),o.jsx(Va,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Jn,{className:"w-full p-0",children:o.jsxs(ga,{children:[o.jsx(va,{placeholder:e("mleads.searchSystem")}),o.jsxs(xa,{children:[o.jsx(ya,{children:e("common.noResults")}),o.jsx(wa,{children:m.map(G=>o.jsx(Br,{value:cr(G,"system_name_en","system_name_ar"),onSelect:()=>{Ua({...br,system_id:G.system_id}),D(!1)},children:cr(G,"system_name_en","system_name_ar")},G.system_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.status")}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ke(!Re),className:"h-6 px-2 text-xs",children:e(Re?"mleads.cancel":"mleads.addNew")})]}),Re?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(qe,{placeholder:e("mleads.statusNameEn"),value:_t.status_name_en,onChange:G=>lr({..._t,status_name_en:G.target.value})}),o.jsx(qe,{placeholder:e("mleads.statusNameAr"),value:_t.status_name_ar,onChange:G=>lr({..._t,status_name_ar:G.target.value})}),o.jsx(oe,{type:"button",onClick:$J,className:"w-full",children:e("mleads.createStatus")})]}):o.jsxs(ma,{open:V,onOpenChange:J,children:[o.jsx(pa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":V,className:"w-full justify-between",children:[br.status_id?zx(br.status_id):e("mleads.selectStatus"),o.jsx(Va,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Jn,{className:"w-full p-0",children:o.jsxs(ga,{children:[o.jsx(va,{placeholder:e("mleads.searchStatus")}),o.jsxs(xa,{children:[o.jsx(ya,{children:e("common.noResults")}),o.jsx(wa,{children:p.map(G=>o.jsx(Br,{value:cr(G,"status_name_en","status_name_ar"),onSelect:()=>{Ua({...br,status_id:G.status_id}),J(!1)},children:cr(G,"status_name_en","status_name_ar")},G.status_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.stage")}),o.jsxs(ma,{open:de,onOpenChange:Ae,children:[o.jsx(pa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":de,className:"w-full justify-between",children:[br.stage_id?nj(br.stage_id):e("mleads.selectStage"),o.jsx(Va,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Jn,{className:"w-full p-0",children:o.jsxs(ga,{children:[o.jsx(va,{placeholder:e("mleads.searchStage")}),o.jsxs(xa,{children:[o.jsx(ya,{children:e("common.noResults")}),o.jsx(wa,{children:y.map(G=>o.jsx(Br,{value:G.stage_name,onSelect:()=>{Ua({...br,stage_id:G.stage_id}),Ae(!1)},children:G.stage_name},G.stage_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.assignedTo")}),o.jsxs(ma,{open:be,onOpenChange:Se,children:[o.jsx(pa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":be,className:"w-full justify-between",children:[br.assigned_to?Qp(br.assigned_to):e("mleads.selectUser"),o.jsx(Va,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Jn,{className:"w-full p-0",children:o.jsxs(ga,{children:[o.jsx(va,{placeholder:e("mleads.searchUser")}),o.jsxs(xa,{children:[o.jsx(ya,{children:e("common.noResults")}),o.jsx(wa,{children:S.map(G=>o.jsx(Br,{value:G.user_name,onSelect:()=>{Ua({...br,assigned_to:G.auth_user_id}),Se(!1)},children:G.user_name},G.user_id))})]})]})})]})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4 border-t mt-4",children:[o.jsx(oe,{variant:"outline",onClick:()=>yt(!1),children:e("common.cancel")}),o.jsx(oe,{onClick:DJ,children:e("common.save")})]})]})]})]})]}),Qt&&o.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lead Analytics"}),o.jsxs(hl,{defaultValue:"pie",className:"w-full",children:[o.jsxs(Do,{className:"grid w-full grid-cols-2",children:[o.jsx(Kr,{value:"pie",children:"Distribution Charts"}),o.jsx(Kr,{value:"timeline",children:"Timeline"})]}),o.jsx(_n,{value:"pie",className:"mt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Status"}),o.jsx(Rl,{config:{},className:"h-[350px]",children:o.jsxs($c,{children:[o.jsx(ka,{data:(()=>{const G=p.map(we=>({name:cr(we,"status_name_en","status_name_ar"),value:Vs.filter(ze=>ze.status_id===we.status_id).length})).filter(we=>we.value>0);return G.length>0?G:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:G,value:we})=>`${G}: ${we}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((G,we)=>o.jsx(ho,{fill:G},`cell-${we}`))}),o.jsx(Bc,{content:o.jsx(Il,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Stage"}),o.jsx(Rl,{config:{},className:"h-[350px]",children:o.jsxs($c,{children:[o.jsx(ka,{data:(()=>{const G=y.map(we=>({name:we.stage_name,value:Vs.filter(ze=>ze.stage_id===we.stage_id).length})).filter(we=>we.value>0);return G.length>0?G:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:G,value:we})=>`${G}: ${we}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((G,we)=>o.jsx(ho,{fill:G},`cell-${we}`))}),o.jsx(Bc,{content:o.jsx(Il,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By System"}),o.jsx(Rl,{config:{},className:"h-[350px]",children:o.jsxs($c,{children:[o.jsx(ka,{data:(()=>{const G=m.map(we=>({name:cr(we,"system_name_en","system_name_ar"),value:Vs.filter(ze=>ze.system_id===we.system_id).length})).filter(we=>we.value>0);return G.length>0?G:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:G,value:we})=>`${G}: ${we}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((G,we)=>o.jsx(ho,{fill:G},`cell-${we}`))}),o.jsx(Bc,{content:o.jsx(Il,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Activity"}),o.jsx(Rl,{config:{},className:"h-[350px]",children:o.jsxs($c,{children:[o.jsx(ka,{data:(()=>{const G=f.map(we=>({name:cr(we,"activity_name_en","activity_name_ar"),value:Vs.filter(ze=>ze.activity_id===we.activity_id).length})).filter(we=>we.value>0);return G.length>0?G:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:G,value:we})=>`${G}: ${we}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((G,we)=>o.jsx(ho,{fill:G},`cell-${we}`))}),o.jsx(Bc,{content:o.jsx(Il,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),o.jsx(Rl,{config:{},className:"h-[350px]",children:o.jsxs($c,{children:[o.jsx(ka,{data:(()=>{const G=u.map(we=>({name:cr(we,"city_name_en","city_name_ar"),value:Vs.filter(ze=>ze.city_id===we.city_id).length})).filter(we=>we.value>0);return G.length>0?G:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:G,value:we})=>`${G}: ${we}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((G,we)=>o.jsx(ho,{fill:G},`cell-${we}`))}),o.jsx(Bc,{content:o.jsx(Il,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Assigned User"}),o.jsx(Rl,{config:{},className:"h-[350px]",children:o.jsxs($c,{children:[o.jsx(ka,{data:(()=>{const G=S.map(we=>({name:we.user_name,value:Vs.filter(ze=>ze.assigned_to===we.auth_user_id).length})).filter(we=>we.value>0);return G.length>0?G:[{name:"Unassigned",value:Vs.filter(we=>!we.assigned_to).length||1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:G,value:we})=>`${G}: ${we}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((G,we)=>o.jsx(ho,{fill:G},`cell-${we}`))}),o.jsx(Bc,{content:o.jsx(Il,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Leads"}),o.jsx("div",{className:"text-5xl font-bold text-primary",children:Vs.length}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),o.jsx(_n,{value:"timeline",className:"mt-4",children:o.jsx("div",{className:"w-full h-[400px]",children:o.jsx(PP,{width:"100%",height:"100%",children:o.jsxs(uJ,{data:(()=>{const G=new Map;return Vs.forEach(ze=>{const Rt=new Date(ze.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});G.set(Rt,(G.get(Rt)||0)+1)}),Array.from(G.entries()).sort((ze,Rt)=>new Date(ze[0]).getTime()-new Date(Rt[0]).getTime()).map(([ze,Rt])=>({date:ze,count:Rt}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[o.jsx(m4,{strokeDasharray:"3 3"}),o.jsx(Lx,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),o.jsx($x,{label:{value:"Number of Leads",angle:-90,position:"insideLeft"}}),o.jsx(Ei,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:G=>[`${G} leads`,"Total"]}),o.jsx(Su,{}),o.jsx(Xp,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]})]}),o.jsx(nt,{children:o.jsx(ct,{children:Xn==="kanban"?o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto pt-4",children:y.map((G,we)=>{const ze=Vs.filter(Rt=>Rt.stage_id===G.stage_id);return o.jsxs("div",{className:"flex-shrink-0 w-[300px] animate-fade-in",style:{animationDelay:`${we*.1}s`},onDragOver:zJ,onDrop:()=>WJ(G.stage_id),children:[o.jsx("div",{className:"rounded-xl bg-muted/30 backdrop-blur p-4 mb-5 shadow-soft border-l-4 border-primary/50",children:o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h2",{className:"font-bold text-base",children:G.stage_name}),o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:ze.length})]})}),o.jsx("div",{className:"space-y-4 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 custom-scrollbar",children:ze.map(Rt=>o.jsxs(nt,{className:je("group relative hover:shadow-lg transition-all duration-200 cursor-pointer border-l-4 border-l-blue-500 w-[300px] h-[180px]",He===Rt.leads_id&&"opacity-50 rotate-2 scale-105"),onClick:()=>k4(Rt),draggable:!0,onDragStart:ms=>{ms.dataTransfer.effectAllowed="move",ms.dataTransfer.setData("text/plain",Rt.leads_id.toString()),VJ(Rt.leads_id)},children:[o.jsx(Ut,{className:"pb-2 px-4 pt-3",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate group-hover:text-primary transition-colors",children:Rt.company_name||"No Company"}),Rt.address&&o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:Rt.address})]})})}),o.jsxs(ct,{className:"px-4 pb-3 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Em,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),o.jsx("p",{className:"text-xs font-medium truncate",children:Ux(Rt.city_id)})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(dI,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("p",{className:"text-xs truncate",children:Vx(Rt.activity_id)})]})]}),o.jsx("div",{children:o.jsx(dt,{variant:"outline",className:`text-xs ${aj(Rt.status_id)}`,children:zx(Rt.status_id)})})]}),o.jsx("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("span",{children:["Created: ",new Date(Rt.created_at).toLocaleDateString()]})})})]})]},Rt.leads_id))})]},G.stage_id)})})}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 pt-4",children:[o.jsxs(ma,{open:Ot,onOpenChange:jr,children:[o.jsx(pa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":Ot,className:"w-full justify-between",children:[le?((O4=p.find(G=>G.status_id.toString()===le))==null?void 0:O4.status_name_en)||((P4=p.find(G=>G.status_id.toString()===le))==null?void 0:P4.status_name_ar):e("mleads.allStatuses"),o.jsx(Va,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Jn,{className:"w-full p-0",children:o.jsxs(ga,{children:[o.jsx(va,{placeholder:e("mleads.searchStatus")}),o.jsxs(xa,{children:[o.jsx(ya,{children:e("common.noResults")}),o.jsxs(wa,{children:[o.jsx(Br,{value:e("mleads.allStatuses"),onSelect:()=>{ae(""),U(1),jr(!1)},children:e("mleads.allStatuses")}),p.map(G=>o.jsx(Br,{value:cr(G,"status_name_en","status_name_ar"),onSelect:()=>{ae(G.status_id.toString()),U(1),jr(!1)},children:cr(G,"status_name_en","status_name_ar")},G.status_id))]})]})]})})]}),o.jsxs(ma,{open:Nr,onOpenChange:fn,children:[o.jsx(pa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":Nr,className:"w-full justify-between",children:[K?((D4=f.find(G=>G.activity_id.toString()===K))==null?void 0:D4.activity_name_en)||((R4=f.find(G=>G.activity_id.toString()===K))==null?void 0:R4.activity_name_ar):e("mleads.allActivities"),o.jsx(Va,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Jn,{className:"w-full p-0",children:o.jsxs(ga,{children:[o.jsx(va,{placeholder:e("mleads.searchActivity")}),o.jsxs(xa,{children:[o.jsx(ya,{children:e("common.noResults")}),o.jsxs(wa,{children:[o.jsx(Br,{value:e("mleads.allActivities"),onSelect:()=>{me(""),U(1),fn(!1)},children:e("mleads.allActivities")}),f.map(G=>o.jsx(Br,{value:cr(G,"activity_name_en","activity_name_ar"),onSelect:()=>{me(G.activity_id.toString()),U(1),fn(!1)},children:cr(G,"activity_name_en","activity_name_ar")},G.activity_id))]})]})]})})]}),o.jsxs(ma,{open:kc,onOpenChange:jl,children:[o.jsx(pa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":kc,className:"w-full justify-between",children:[re?((I4=m.find(G=>G.system_id.toString()===re))==null?void 0:I4.system_name_en)||((M4=m.find(G=>G.system_id.toString()===re))==null?void 0:M4.system_name_ar):e("mleads.allSystems"),o.jsx(Va,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Jn,{className:"w-full p-0",children:o.jsxs(ga,{children:[o.jsx(va,{placeholder:e("mleads.searchSystem")}),o.jsxs(xa,{children:[o.jsx(ya,{children:e("common.noResults")}),o.jsxs(wa,{children:[o.jsx(Br,{value:e("mleads.allSystems"),onSelect:()=>{se(""),U(1),jl(!1)},children:e("mleads.allSystems")}),m.map(G=>o.jsx(Br,{value:cr(G,"system_name_en","system_name_ar"),onSelect:()=>{se(G.system_id.toString()),U(1),jl(!1)},children:cr(G,"system_name_en","system_name_ar")},G.system_id))]})]})]})})]}),o.jsxs(ma,{open:Nc,onOpenChange:Ki,children:[o.jsx(pa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":Nc,className:"w-full justify-between",children:[B?((F4=j.find(G=>G.country_id.toString()===B))==null?void 0:F4.country_name_en)||((L4=j.find(G=>G.country_id.toString()===B))==null?void 0:L4.country_name_ar):e("mleads.allCountries"),o.jsx(Va,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Jn,{className:"w-full p-0",children:o.jsxs(ga,{children:[o.jsx(va,{placeholder:e("mleads.searchCountry")}),o.jsxs(xa,{children:[o.jsx(ya,{children:e("common.noResults")}),o.jsxs(wa,{children:[o.jsx(Br,{value:e("mleads.allCountries"),onSelect:()=>{q(""),U(1),Ki(!1)},children:e("mleads.allCountries")}),j.map(G=>o.jsx(Br,{value:cr(G,"country_name_en","country_name_ar"),onSelect:()=>{q(G.country_id.toString()),U(1),Ki(!1)},children:cr(G,"country_name_en","country_name_ar")},G.country_id))]})]})]})})]}),o.jsxs(ma,{open:Bf,onOpenChange:Us,children:[o.jsx(pa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":Bf,className:"w-full justify-between",children:[C?(($4=u.find(G=>G.city_id.toString()===C))==null?void 0:$4.city_name_en)||((B4=u.find(G=>G.city_id.toString()===C))==null?void 0:B4.city_name_ar):e("mleads.allCities"),o.jsx(Va,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Jn,{className:"w-full p-0",children:o.jsxs(ga,{children:[o.jsx(va,{placeholder:e("mleads.searchCity")}),o.jsxs(xa,{children:[o.jsx(ya,{children:e("common.noResults")}),o.jsxs(wa,{children:[o.jsx(Br,{value:e("mleads.allCities"),onSelect:()=>{X(""),U(1),Us(!1)},children:e("mleads.allCities")}),u.map(G=>o.jsx(Br,{value:cr(G,"city_name_en","city_name_ar"),onSelect:()=>{X(G.city_id.toString()),U(1),Us(!1)},children:cr(G,"city_name_en","city_name_ar")},G.city_id))]})]})]})})]}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsxs(ma,{open:S4,onOpenChange:tj,children:[o.jsx(pa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":S4,className:"w-full justify-between",children:[A?(U4=S.find(G=>G.auth_user_id===A))==null?void 0:U4.user_name:e("mleads.allUsers"),o.jsx(Va,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Jn,{className:"w-full p-0",children:o.jsxs(ga,{children:[o.jsx(va,{placeholder:e("mleads.searchUser")}),o.jsxs(xa,{children:[o.jsx(ya,{children:e("common.noResults")}),o.jsxs(wa,{children:[o.jsx(Br,{value:e("mleads.allUsers"),onSelect:()=>{$e(""),U(1),tj(!1)},children:e("mleads.allUsers")}),S.filter(G=>G.user_role==="employee"||G.user_role==="team_leader").map(G=>o.jsx(Br,{value:G.user_name,onSelect:()=>{$e(G.auth_user_id),U(1),tj(!1)},children:G.user_name},G.user_id))]})]})]})})]})]}),(C||B||re||le||K||A)&&o.jsx("div",{className:"flex justify-end",children:o.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>{X(""),q(""),se(""),ae(""),me(""),$e(""),U(1)},children:[o.jsx(Ii,{className:"h-4 w-4 mr-2"}),e("mleads.clearFilters")]})}),o.jsx("div",{className:"flex gap-2",children:o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(vi,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(qe,{placeholder:"Search by company or address...",value:z,onChange:G=>{M(G.target.value),U(1)},className:"pl-8"})]})}),Vs.length===0?o.jsx(sl,{title:e("mleads.noLeadsFound"),description:e("mleads.createNewLeadToGetStarted"),icon:o.jsx(yn,{className:"h-12 w-12"})}):o.jsx(lf,{data:PJ,columns:qJ,actions:GJ,bulkActions:HJ,enableBulkSelect:!0,keyExtractor:G=>G.leads_id.toString(),onRowClick:G=>k4(G),rowHeight:"h-26"}),Ec>0&&o.jsx("div",{className:"flex justify-center mt-4",children:o.jsx(tP,{children:o.jsxs(rP,{children:[o.jsx(Vd,{children:o.jsx(aP,{onClick:()=>U(Math.max(1,I-1)),className:I===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),o.jsx(Vd,{children:o.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",I," ",e("common.of")," ",Ec]})}),o.jsx(Vd,{children:o.jsx(sP,{onClick:()=>U(Math.min(Ec,I+1)),className:I===Ec?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})]})})}),o.jsx(di,{open:Ie!==null,onOpenChange:()=>Ue(null),children:o.jsxs(As,{children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:e("mleads.deleteLead")}),o.jsx(Rs,{children:e("mleads.deleteLeadConfirmation")})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:e("common.cancel")}),o.jsx(Is,{onClick:()=>Ie&&RJ(Ie),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),o.jsx(oc,{open:Me,onOpenChange:St,children:o.jsxs(dl,{side:ii()?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[o.jsx(Ou,{children:o.jsxs(lc,{className:"flex items-center gap-2 min-w-0",children:[o.jsx(yn,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:ge==null?void 0:ge.company_name})]})}),ge&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:e("mleads.leadDetails")}),o.jsxs(oe,{onClick:()=>{E4(ge),St(!1)},variant:"outline",size:"sm",children:[o.jsx(Eo,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),o.jsxs(hl,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Do,{className:"grid w-full grid-cols-2",children:[o.jsx(Kr,{value:"overview",children:e("common.overview")}),o.jsx(Kr,{value:"notes",children:e("notes.title")})]}),o.jsxs(_n,{value:"overview",className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold",children:ge.company_name||"-"}),ge.address&&o.jsx("p",{className:"text-muted-foreground mt-1",children:ge.address})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Em,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.city")}),o.jsx("p",{className:"font-medium",children:Ux(ge.city_id)})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(dI,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.activity")}),o.jsx("p",{className:"font-medium",children:Vx(ge.activity_id)})]})]}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.status")}),o.jsx(dt,{variant:"outline",className:`text-xs ${aj(ge.status_id)}`,children:zx(ge.status_id)})]})}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.stage")}),o.jsx(dt,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:nj(ge.stage_id)})]})}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(yn,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.system")}),o.jsx("p",{className:"font-medium",children:rj(ge.system_id)})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(os,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.assignedTo")}),o.jsx("p",{className:"font-medium",children:Qp(ge.assigned_to)})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(os,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.createdBy")}),o.jsx("p",{className:"font-medium",children:Qp(ge.created_by)})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(os,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.assignedTo")}),o.jsx("p",{className:"font-medium",children:Qp(ge.assigned_to)})]})]}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.created")}),o.jsx("p",{className:"text-sm font-medium",children:new Date(ge.created_at).toLocaleDateString()})]})}),o.jsx("div",{className:"flex items-start gap-2 p-3 rounded-lg border",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.notes")}),o.jsx("p",{className:"text-sm mt-1",children:ge.notes||"-"})]})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mleads.contacts")}),(()=>{const G=b.filter(we=>we.leads_id===ge.leads_id);return G.length>0?o.jsx("div",{className:"space-y-2",children:G.map((we,ze)=>{var Rt;return o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:we.contact_name||"-"}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[we.contact_email&&`${we.contact_email}  `,we.contact_mobile&&`${we.contact_mobile}`]})]}),o.jsx(dt,{variant:"outline",className:"text-xs",children:((Rt=N.find(ms=>ms.jobtitle_id===we.jobtitle_id))==null?void 0:Rt.jobtitle_name_en)||"-"})]},we.contact_id||ze)})}):o.jsx("p",{className:"text-sm text-muted-foreground",children:e("mleads.noContactsFound")})})()]})]}),o.jsx(_n,{value:"notes",className:"mt-4",children:o.jsx(pO,{relatedType:"mlead",relatedId:ge.leads_id,notes:rt,onNotesChange:()=>N4(ge.leads_id)})})]})]})]})})]})}function JGe(e){const t=e.lastIndexOf("."),r=t!==-1?e.slice(t):"";return`contract-${crypto.randomUUID()}${r}`}async function QGe(e,t,r={}){const n=r.bucket||"projects",a=!!r.publicBucket;if(!e)throw new Error("No file provided");if(!t)throw new Error("projectId is required");const s=JGe(e.name),i=`projects/${t}/${s}`,{data:l,error:c}=await ve.storage.from(n).upload(i,e,{cacheControl:"3600",upsert:!1});if(c)throw c;let u=null;if(a){const{data:p}=ve.storage.from(n).getPublicUrl(i);u=(p==null?void 0:p.publicUrl)||null}else{const{data:g,error:m}=await ve.storage.from(n).createSignedUrl(i,3600);if(m){const{data:v}=ve.storage.from(n).getPublicUrl(i);if(u=(v==null?void 0:v.publicUrl)||null,!u)throw m}else u=(g==null?void 0:g.signedUrl)||null}const{data:{user:d}}=await ve.auth.getUser(),f={bucket:n,path:i,url:u,name:e.name,filename:s,mime:e.type||null,size:e.size||null,uploaded_by:(d==null?void 0:d.id)||null,uploaded_at:new Date().toISOString()},{error:h}=await ve.from("m_projects").update({contract_document:f}).eq("project_id",t);if(h){try{await ve.storage.from(n).remove([i])}catch(p){console.error("Failed to delete uploaded file after DB update error:",p)}throw h}return f}async function ZGe(e){try{const{data:t,error:r}=await ve.from("m_projects").select("contract_document").eq("project_id",e).single();if(r)throw r;if(t!=null&&t.contract_document){const n=t.contract_document,{error:a}=await ve.storage.from(n.bucket).remove([n.path]);a&&console.error("Failed to delete file from storage:",a);const{error:s}=await ve.from("m_projects").update({contract_document:null}).eq("project_id",e);if(s)throw s}}catch(t){throw console.error("Error deleting contract document:",t),t}}function eKe(){var W,ee,Q;const{t:e}=qt(),{user:t}=vr(),{currentLanguage:r}=gi(),{toast:n}=Tf();ca();const{setBreadcrumbs:a}=u_();Fs();const[s,i]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState([]),[p,g]=x.useState([]),[m,v]=x.useState([]),[y,w]=x.useState([]),[b,_]=x.useState(!0),[S,k]=x.useState(null),[j,E]=x.useState(""),[N,O]=x.useState(1),[P]=x.useState(9),[T,L]=x.useState(0),[H,z]=x.useState(""),[M,I]=x.useState(""),[U,R]=x.useState(null),[Y,Z]=x.useState(null),[C,X]=x.useState(!1),[B,q]=x.useState(!1),[re,se]=x.useState({city_name_en:"",city_name_ar:"",country_id:null});x.useState(null);const[le,ae]=x.useState(null),[K,me]=x.useState(!1),[A,$e]=x.useState([]),[Ie,Ue]=x.useState(!1),[Ve,De]=x.useState("list"),[pt,yt]=x.useState(null),[ne,he]=x.useState(""),[F,ce]=x.useState([]),[pe,xe]=x.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[Fe,ye]=x.useState(!1),[_e,ue]=x.useState(!1);x.useState(!1),x.useState(!1),x.useState(!1);const[Ee,Le]=x.useState(!1),[Re,Ke]=x.useState({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""});x.useEffect(()=>{a([{label:e("navigation.dashboard"),href:"/"},{label:e("mprojects.masterProjects"),href:"/mprojects"}])},[a,e]),x.useEffect(()=>{_t()},[]),x.useEffect(()=>{lr()},[N,j,H,M,u]),x.useEffect(()=>{Ie&&yr()},[Ie,j,H,M,u]);const _t=async()=>{try{_(!0),k(null);const[D,V,J,de,Ae]=await Promise.all([ve.from("m_city").select("*"),ve.from("m_contacts").select("*"),ve.from("users").select("*"),ve.from("m_country").select("*"),ve.from("m_jobtitle").select("*")]);if(D.error)throw D.error;if(V.error)throw V.error;if(J.error)throw J.error;if(de.error)throw de.error;if(Ae.error)throw Ae.error;d(D.data||[]),h(V.data||[]),g(J.data||[]),v(de.data||[]),w(Ae.data||[])}catch(D){const V=D instanceof Error?D.message:"Failed to load data";k(V),n({title:"Error",description:V,variant:"destructive"})}finally{_(!1)}},lr=async()=>{try{_(!0),k(null);let D=ve.from("m_projects").select("*",{count:"exact"}).order("created_at",{ascending:!1});if(j&&(D=D.or(`company_name.ilike.%${j}%,contract_code.ilike.%${j}%`)),H&&(D=D.eq("city_id",H)),M){const Ae=u.filter(be=>{var Se;return((Se=be.country_id)==null?void 0:Se.toString())===M}).map(be=>be.city_id);Ae.length>0?D=D.in("city_id",Ae):D=D.eq("city_id",-1)}const V=(N-1)*P,J=V+P-1;D=D.range(V,J);const de=await D;if(de.error)throw de.error;i(de.data||[]),L(de.count||0)}catch(D){const V=D instanceof Error?D.message:"Failed to load data";k(V),n({title:"Error",description:V,variant:"destructive"})}finally{_(!1)}},yr=async()=>{try{let D=ve.from("m_projects").select("*").order("created_at",{ascending:!1});if(j&&(D=D.or(`company_name.ilike.%${j}%,contract_code.ilike.%${j}%`)),H&&(D=D.eq("city_id",H)),M){const J=u.filter(de=>{var Ae;return((Ae=de.country_id)==null?void 0:Ae.toString())===M}).map(de=>de.city_id);J.length>0?D=D.in("city_id",J):D=D.eq("city_id",-1)}const V=await D;if(V.error)throw V.error;c(V.data||[])}catch(D){console.error("Failed to load all filtered projects:",D)}},Bn=async()=>{try{const{data:D,error:V}=await ve.from("m_contacts").select("*");if(V)throw V;h(D||[])}catch(D){console.error("Failed to load contacts:",D)}},wr=x.useMemo(()=>Ie?l:s,[Ie,l,s]),Bs=x.useMemo(()=>{if(Ie){const D=(N-1)*P,V=D+P;return wr.slice(D,V)}else return s},[Ie,wr,s,N,P]),Yn=Math.ceil(T/P);x.useEffect(()=>{N>Yn&&Yn>0&&O(Yn)},[N,Yn]);const ua=(D,V,J)=>r==="ar"&&(D==null?void 0:D[J])||(D==null?void 0:D[V]),Sl=D=>{if(!D)return"-";const V=u.find(J=>J.city_id===D);return ua(V,"city_name_en","city_name_ar")},ie=async()=>{if(!_e){ue(!0);try{let D;if(Y){const{error:V}=await ve.from("m_projects").update(Re).eq("project_id",Y);if(V)throw V;D=Y,n({title:e("common.success"),description:e("mprojects.projectUpdatedSuccessfully")})}else{const V={...Re,created_by:t==null?void 0:t.id},{data:J,error:de}=await ve.from("m_projects").insert([V]).select();if(de)throw de;if(!J||J.length===0)throw new Error("Failed to create project");D=J[0].project_id,n({title:e("common.success"),description:e("mprojects.projectCreatedSuccessfully")})}if(Y?(await ve.from("m_contacts").delete().eq("project_id",Y),F.length>0&&await Xn(D)):F.length>0&&await Xn(D),pt){he("Uploading contract document...");try{await QGe(pt,D,{bucket:"projects",publicBucket:!1}),he("Document uploaded successfully"),n({title:e("common.success"),description:"Contract document uploaded successfully"})}catch(V){console.error("File upload failed:",V),he("Document upload failed"),n({title:"Warning",description:"Project saved but document upload failed",variant:"destructive"})}}X(!1),Z(null),Ke({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),ce([]),yt(null),he(""),await lr(),await Bn()}catch(D){const V=D instanceof Error?D.message:"Failed to save";n({title:"Error",description:V,variant:"destructive"})}finally{ue(!1)}}},ge=async D=>{try{const{error:V}=await ve.from("m_projects").delete().eq("project_id",D);if(V)throw V;n({title:e("common.success"),description:e("mprojects.projectDeletedSuccessfully")}),R(null),await lr()}catch(V){const J=V instanceof Error?V.message:"Failed to delete";n({title:"Error",description:J,variant:"destructive"})}},Oe=D=>{ae(D),Me(D.project_id),Bn(),me(!0)},Me=async D=>{try{const V=await Kh.getByRelated("mlead",D);$e(V)}catch(V){console.error("Failed to load notes:",V),$e([])}},St=D=>{Z(D.project_id),Ke(D);const V=f.filter(J=>J.project_id===D.project_id);ce(V.map(J=>{var de;return{contact_name:J.contact_name||"",contact_email:J.contact_email||"",contact_mobile:((de=J.contact_mobile)==null?void 0:de.toString())||"",jobtitle_id:J.jobtitle_id}})),X(!0)},rt=async D=>{try{const{error:V}=await ve.from("m_projects").delete().in("project_id",D);if(V)throw V;n({title:e("common.success"),description:e("mprojects.projectsDeletedSuccessfully")}),await lr()}catch(V){const J=V instanceof Error?V.message:"Failed to delete";n({title:"Error",description:J,variant:"destructive"})}},Ht=async()=>{try{if(!re.city_name_en&&!re.city_name_ar){n({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const{data:D,error:V}=await ve.from("m_city").insert([re]).select();if(V)throw V;if(D&&D.length>0){const J=D[0];d([...u,J]),Ke({...Re,city_id:J.city_id}),q(!1),se({city_name_en:"",city_name_ar:"",country_id:null}),n({title:e("common.success"),description:e("mprojects.cityCreatedSuccessfully")})}}catch(D){const V=D instanceof Error?D.message:"Failed to create city";n({title:"Error",description:V,variant:"destructive"})}},Qt=()=>{if(!pe.contact_name.trim()){n({title:"Error",description:"Please enter contact name",variant:"destructive"});return}if(F.some(V=>V.contact_name===pe.contact_name&&V.contact_email===pe.contact_email&&V.contact_mobile===pe.contact_mobile)){n({title:"Warning",description:"This contact already exists",variant:"destructive"});return}ce([...F,{...pe}]),xe({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),ye(!1)},Ba=D=>{ce(F.filter((V,J)=>J!==D))},Xn=async D=>{try{const V=F.map(J=>({contact_name:J.contact_name,contact_email:J.contact_email,contact_mobile:J.contact_mobile?parseInt(J.contact_mobile):null,jobtitle_id:J.jobtitle_id,project_id:D}));if(V.length>0){const{error:J}=await ve.from("m_contacts").insert(V);if(J)throw J}}catch(V){const J=V instanceof Error?V.message:"Failed to save contacts";n({title:"Error",description:J,variant:"destructive"})}};if(b)return o.jsx(Op,{});if(S)return o.jsx(gx,{message:S,onRetry:_t});const Gi=[{label:e("common.delete"),icon:o.jsx(Sr,{}),onClick:D=>{window.confirm(`Delete ${D.length} projects?`)&&rt(D.map(V=>V.project_id))},variant:"destructive"}],Sc=[{key:"company_name",header:e("mprojects.company"),className:"w-1/4 min-w-[200px]",render:D=>o.jsx(uf,{title:D.company_name||"-",subtitle:D.contract_code||"",icon:o.jsx(yn,{className:"h-4 w-4"})})},{key:"city_id",header:e("mprojects.city"),className:"w-1/6 min-w-[120px]",render:D=>o.jsx("span",{className:"text-sm text-foreground",children:Sl(D.city_id)})},{key:"contract_amount",header:e("mprojects.contractAmount"),className:"w-1/6 min-w-[120px]",render:D=>o.jsx(dt,{variant:"outline",className:"text-xs",children:D.contract_amount?`$${D.contract_amount.toLocaleString()}`:"-"})},{key:"cont_start_date",header:e("mprojects.startDate"),className:"w-1/6 min-w-[120px]",render:D=>o.jsx("span",{className:"text-sm text-muted-foreground",children:D.cont_start_date?new Date(D.cont_start_date).toLocaleDateString():"-"})},{key:"cont_end_date",header:e("mprojects.endDate"),className:"w-1/6 min-w-[120px]",render:D=>o.jsx("span",{className:"text-sm text-muted-foreground",children:D.cont_end_date?new Date(D.cont_end_date).toLocaleDateString():"-"})},{key:"created_at",header:e("mprojects.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:D=>o.jsx(cf,{date:D.created_at})}],jc=[{icon:o.jsx(Eo,{}),label:e("common.edit"),onClick:D=>St(D)},{icon:o.jsx(Sr,{}),label:e("common.delete"),onClick:D=>R(D.project_id),variant:"destructive"}];return o.jsxs("div",{className:`space-y-4 bg-background p-4 rounded-md ${ii()?"rtl":"ltr"}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ap,{title:e("mprojects.masterProjects"),description:e("mprojects.manageMasterProjectsData"),icon:o.jsx(yn,{className:"h-6 w-6"})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>De(Ve==="list"?"kanban":"list"),className:"flex items-center gap-2",children:[Ve==="list"?o.jsx(ai,{className:"h-4 w-4"}):o.jsx(yn,{className:"h-4 w-4"}),e(Ve==="list"?"mprojects.kanbanView":"mprojects.listView")]}),o.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>Ue(!Ie),className:"flex items-center gap-2",children:[o.jsx(ai,{className:"h-4 w-4"}),e("mprojects.showChart"),o.jsx(d_,{className:`h-4 w-4 transition-transform ${Ie?"rotate-180":""}`})]}),o.jsxs(oc,{open:C,onOpenChange:X,children:[o.jsx(XA,{asChild:!0,children:o.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>{Z(null),Ke({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),ce([]),yt(null),he(""),q(!1),ye(!1),se({city_name_en:"",city_name_ar:"",country_id:null}),xe({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null})},children:[o.jsx(ur,{className:"w-4 h-4 mr-2"}),e("common.add")]})}),o.jsxs(dl,{className:"w-full sm:max-w-[540px]",children:[o.jsx(Ou,{children:o.jsx(lc,{children:e(Y?"mprojects.editProject":"mprojects.createNewProject")})}),o.jsxs("div",{className:"mt-8 space-y-6 px-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.companyName")," & ",e("mprojects.contractCode")]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.companyName")}),o.jsx(qe,{value:Re.company_name||"",onChange:D=>Ke({...Re,company_name:D.target.value}),placeholder:e("mprojects.companyName"),className:"h-10"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractCode")}),o.jsx(qe,{value:Re.contract_code||"",onChange:D=>Ke({...Re,contract_code:D.target.value}),placeholder:e("mprojects.contractCode"),className:"h-10"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.contractAmount")," & ",e("mprojects.startDate")]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractAmount")}),o.jsx(qe,{type:"number",value:Re.contract_amount||"",onChange:D=>Ke({...Re,contract_amount:parseFloat(D.target.value)||null}),placeholder:e("mprojects.contractAmount"),className:"h-10"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.startDate")}),o.jsx(qe,{type:"date",value:Re.cont_start_date||"",onChange:D=>Ke({...Re,cont_start_date:D.target.value}),className:"h-10"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.endDate")}),o.jsx(qe,{type:"date",value:Re.cont_end_date||"",onChange:D=>Ke({...Re,cont_end_date:D.target.value}),className:"h-10"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.city")}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.city")}),o.jsxs(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>q(!B),className:"h-7 px-3 text-xs hover:bg-primary/10",children:[o.jsx(ur,{className:"h-3 w-3 mr-1"}),e(B?"mprojects.cancel":"mprojects.addCity")]})]}),B?o.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[o.jsx(qe,{placeholder:"City Name (English)",value:re.city_name_en,onChange:D=>se({...re,city_name_en:D.target.value}),className:"h-9"}),o.jsx(qe,{placeholder:"City Name (Arabic)",value:re.city_name_ar,onChange:D=>se({...re,city_name_ar:D.target.value}),className:"h-9"}),o.jsxs(wt,{value:((W=re.country_id)==null?void 0:W.toString())||"",onValueChange:D=>se({...re,country_id:parseInt(D)}),children:[o.jsx(vt,{className:"h-9",children:o.jsx(bt,{placeholder:"Select Country"})}),o.jsx(xt,{children:m.map(D=>o.jsx(Ce,{value:D.country_id.toString(),children:ua(D,"country_name_en","country_name_ar")},D.country_id))})]}),o.jsxs(oe,{onClick:Ht,size:"sm",className:"w-full h-9",children:[o.jsx(ur,{className:"h-4 w-4 mr-2"}),e("mprojects.createCity")]})]}):o.jsxs(wt,{value:((ee=Re.city_id)==null?void 0:ee.toString())||"",onValueChange:D=>Ke({...Re,city_id:parseInt(D)||null}),children:[o.jsx(vt,{className:"h-10",children:o.jsx(bt,{placeholder:e("mprojects.selectCity")})}),o.jsx(xt,{children:u.map(D=>o.jsx(Ce,{value:D.city_id.toString(),children:ua(D,"city_name_en","city_name_ar")},D.city_id))})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contacts")}),o.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>ye(!Fe),className:"h-6 px-2 text-xs",children:e(Fe?"mprojects.cancel":"mprojects.addContact")})]}),F.length>0&&o.jsx("div",{className:"space-y-2 mb-3",children:F.map((D,V)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium",children:D.contact_name}),o.jsxs("div",{className:"text-muted-foreground",children:[D.contact_email&&`${D.contact_email}  `,D.contact_mobile&&`${D.contact_mobile}`]})]}),o.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ba(V),className:"h-6 w-6 p-0",children:o.jsx(Ii,{className:"h-3 w-3"})})]},V))}),Fe&&o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(qe,{placeholder:e("mprojects.contactName"),value:pe.contact_name,onChange:D=>xe({...pe,contact_name:D.target.value})}),o.jsx(qe,{placeholder:e("mprojects.email"),type:"email",value:pe.contact_email,onChange:D=>xe({...pe,contact_email:D.target.value})}),o.jsx(qe,{placeholder:e("mprojects.mobile"),value:pe.contact_mobile,onChange:D=>xe({...pe,contact_mobile:D.target.value})}),o.jsxs(ma,{open:Ee,onOpenChange:Le,children:[o.jsx(pa,{asChild:!0,children:o.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":Ee,className:"w-full justify-between",children:[pe.jobtitle_id?(Q=y.find(D=>D.jobtitle_id===pe.jobtitle_id))==null?void 0:Q.jobtitle_name_en:e("mprojects.selectJobTitle"),o.jsx(Va,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Jn,{className:"w-full p-0",children:o.jsxs(ga,{children:[o.jsx(va,{placeholder:e("mprojects.searchJobTitle")}),o.jsxs(xa,{children:[o.jsx(ya,{children:e("common.noResults")}),o.jsx(wa,{children:y&&y.length>0?y.map(D=>o.jsx(Br,{value:ua(D,"jobtitle_name_en","jobtitle_name_ar")||D.jobtitle_name_en||"Unknown",onSelect:()=>{xe(V=>({...V,jobtitle_id:D.jobtitle_id})),Le(!1)},children:ua(D,"jobtitle_name_en","jobtitle_name_ar")||D.jobtitle_name_en||"Unknown"},D.jobtitle_id)):o.jsx(Br,{disabled:!0,children:"No job titles available"})})]})]})})]}),o.jsx(oe,{type:"button",onClick:Qt,className:"w-full",children:e("mprojects.addContactTitle")})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.contractDocument")}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.uploadContractDocument")}),o.jsx(qe,{type:"file",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png",onChange:D=>{var J;const V=(J=D.target.files)==null?void 0:J[0];yt(V||null)},className:"file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-primary file:text-primary-foreground hover:file:bg-primary/90 cursor-pointer"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("mprojects.supportedFormats"),": PDF, DOC, DOCX, TXT, JPG, JPEG, PNG"]})]}),pt&&o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[o.jsx(Ks,{className:"h-5 w-5 text-primary flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:pt.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[(pt.size/1024/1024).toFixed(2)," MB"]})]}),o.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>yt(null),className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",children:o.jsx(Ii,{className:"h-4 w-4"})})]}),ne&&o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full"}),o.jsx("span",{className:"text-sm text-blue-700",children:ne})]}),Y&&(le==null?void 0:le.contract_document)&&o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[o.jsx("div",{className:"h-4 w-4 rounded-full bg-amber-500 flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-white",children:"!"})}),o.jsx("span",{className:"text-sm text-amber-700",children:e("mprojects.existingDocumentWillBeReplaced")})]})]})]})]}),o.jsx("div",{className:"pb-4"}),o.jsx(wz,{className:"px-6 py-4 border-t bg-muted/30",children:o.jsx(oe,{onClick:ie,disabled:_e,className:"w-full h-11 text-base font-medium",children:e(_e?"common.saving":Y?"common.update":"common.create")})})]})]})]})]}),Ie&&o.jsxs(nt,{children:[o.jsx(Ut,{children:o.jsx(tr,{children:e("mprojects.analytics")})}),o.jsx(ct,{children:o.jsxs(hl,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Do,{className:"grid w-full grid-cols-2",children:[o.jsx(Kr,{value:"overview",children:"Overview"}),o.jsx(Kr,{value:"timeline",children:"Timeline"})]}),o.jsx(_n,{value:"overview",className:"mt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Contract Amount Range"}),o.jsx(Rl,{config:{},className:"h-[350px]",children:o.jsxs($c,{children:[o.jsx(ka,{data:[{name:"< $10K",min:0,max:1e4},{name:"$10K - $50K",min:1e4,max:5e4},{name:"$50K - $100K",min:5e4,max:1e5},{name:"> $100K",min:1e5,max:1/0}].map(J=>({name:J.name,value:wr.filter(de=>de.contract_amount&&de.contract_amount>=J.min&&de.contract_amount<J.max).length})).filter(J=>J.value>0),cx:"50%",cy:"50%",labelLine:!1,label:({name:D,value:V})=>`${D}: ${V}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((D,V)=>o.jsx(ho,{fill:D},`cell-${V}`))}),o.jsx(Bc,{content:o.jsx(Il,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),o.jsx(Rl,{config:{},className:"h-[350px]",children:o.jsxs($c,{children:[o.jsx(ka,{data:(()=>{const D=u.map(V=>({name:ua(V,"city_name_en","city_name_ar"),value:wr.filter(J=>J.city_id===V.city_id).length})).filter(V=>V.value>0);return D.length>0?D:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:D,value:V})=>`${D}: ${V}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((D,V)=>o.jsx(ho,{fill:D},`cell-${V}`))}),o.jsx(Bc,{content:o.jsx(Il,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Projects"}),o.jsx("div",{className:"text-5xl font-bold text-primary",children:wr.length}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),o.jsx(_n,{value:"timeline",className:"mt-4",children:o.jsx("div",{className:"w-full h-[400px]",children:o.jsx(PP,{width:"100%",height:"100%",children:o.jsxs(uJ,{data:(()=>{const D=new Map;return wr.forEach(J=>{const de=new Date(J.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});D.set(de,(D.get(de)||0)+1)}),Array.from(D.entries()).sort((J,de)=>new Date(J[0]).getTime()-new Date(de[0]).getTime()).map(([J,de])=>({date:J,count:de}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[o.jsx(m4,{strokeDasharray:"3 3"}),o.jsx(Lx,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),o.jsx($x,{label:{value:"Number of Projects",angle:-90,position:"insideLeft"}}),o.jsx(Ei,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:D=>[`${D} projects`,"Total"]}),o.jsx(Su,{}),o.jsx(Xp,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Projects"})]})})})})]})})]}),o.jsx(nt,{children:o.jsx(ct,{children:Ve==="kanban"?o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pt-4",children:Bs.map(D=>{var V;return o.jsxs(nt,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>Oe(D),children:[o.jsx(Ut,{className:"pb-2 px-4 pt-3",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:D.company_name||"No Company"}),D.contract_code&&o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:D.contract_code})]})})}),o.jsxs(ct,{className:"px-4 pb-3 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Em,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),o.jsx("p",{className:"text-xs font-medium truncate",children:Sl(D.city_id)})]})}),o.jsx("div",{children:o.jsxs(dt,{variant:"outline",className:"text-xs",children:["$",((V=D.contract_amount)==null?void 0:V.toLocaleString())||"0"]})})]}),o.jsx("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("span",{children:["Created: ",new Date(D.created_at).toLocaleDateString()]})})})]})]},D.project_id)})})}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 pt-4",children:[o.jsxs(wt,{value:M||"all",onValueChange:D=>{I(D==="all"?"":D),O(1)},children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:e("mprojects.country")})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"all",children:e("mprojects.allCountries")}),m.map(D=>o.jsx(Ce,{value:D.country_id.toString(),children:ua(D,"country_name_en","country_name_ar")},D.country_id))]})]}),o.jsxs(wt,{value:H||"all",onValueChange:D=>{z(D==="all"?"":D),O(1)},children:[o.jsx(vt,{children:o.jsx(bt,{placeholder:e("mprojects.city")})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"all",children:e("mprojects.allCities")}),u.map(D=>o.jsx(Ce,{value:D.city_id.toString(),children:ua(D,"city_name_en","city_name_ar")},D.city_id))]})]})]}),(H||M)&&o.jsx("div",{className:"flex justify-end",children:o.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>{z(""),I(""),O(1)},children:[o.jsx(Ii,{className:"h-4 w-4 mr-2"}),e("mprojects.clearFilters")]})}),o.jsx("div",{className:"flex gap-2",children:o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(vi,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(qe,{placeholder:"Search by company or contract code...",value:j,onChange:D=>{E(D.target.value),O(1)},className:"pl-8"})]})}),wr.length===0?o.jsx(sl,{title:e("mprojects.noProjectsFound"),description:e("mprojects.createNewProjectToGetStarted"),icon:o.jsx(yn,{className:"h-12 w-12"})}):o.jsx(lf,{data:Bs,columns:Sc,actions:jc,bulkActions:Gi,enableBulkSelect:!0,keyExtractor:D=>D.project_id.toString(),onRowClick:D=>Oe(D),rowHeight:"h-26"}),Yn>0&&o.jsx("div",{className:"flex justify-center mt-4",children:o.jsx(tP,{children:o.jsxs(rP,{children:[o.jsx(Vd,{children:o.jsx(aP,{onClick:()=>O(Math.max(1,N-1)),className:N===1?"pointer-events-none opacity-50":"cursor-pointer"})}),o.jsx(Vd,{children:o.jsxs("span",{className:"px-3 py-2 text-sm",children:["Page ",N," of ",Yn]})}),o.jsx(Vd,{children:o.jsx(sP,{onClick:()=>O(Math.min(Yn,N+1)),className:N===Yn?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})})}),o.jsx(di,{open:U!==null,onOpenChange:()=>R(null),children:o.jsxs(As,{children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:e("mprojects.deleteProject")}),o.jsx(Rs,{children:e("mprojects.deleteProjectConfirmation")})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:e("common.cancel")}),o.jsx(Is,{onClick:()=>U&&ge(U),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),o.jsx(oc,{open:K,onOpenChange:me,children:o.jsxs(dl,{side:ii()?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[o.jsx(Ou,{children:o.jsxs(lc,{className:"flex items-center gap-2 min-w-0",children:[o.jsx(yn,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:le==null?void 0:le.company_name})]})}),le&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:e("mprojects.projectDetails")}),o.jsxs(oe,{onClick:()=>{St(le),me(!1)},variant:"outline",size:"sm",children:[o.jsx(Eo,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),o.jsxs(hl,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Do,{className:"grid w-full grid-cols-2",children:[o.jsx(Kr,{value:"overview",children:e("common.overview")}),o.jsx(Kr,{value:"notes",children:e("notes.title")})]}),o.jsxs(_n,{value:"overview",className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold",children:le.company_name||"-"}),le.contract_code&&o.jsxs("p",{className:"text-muted-foreground mt-1",children:["Contract: ",le.contract_code]})]}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractAmount")}),o.jsx("p",{className:"font-medium",children:le.contract_amount?`$${le.contract_amount.toLocaleString()}`:"-"})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.startDate")}),o.jsx("p",{className:"font-medium",children:le.cont_start_date?new Date(le.cont_start_date).toLocaleDateString():"-"})]})}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.endDate")}),o.jsx("p",{className:"font-medium",children:le.cont_end_date?new Date(le.cont_end_date).toLocaleDateString():"-"})]})})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Em,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.city")}),o.jsx("p",{className:"font-medium",children:Sl(le.city_id)})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mprojects.contacts")}),(()=>{const D=f.filter(V=>V.project_id===le.project_id);return D.length>0?o.jsx("div",{className:"space-y-2",children:D.map((V,J)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:V.contact_name||"-"}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[V.contact_email&&`${V.contact_email}  `,V.contact_mobile&&`${V.contact_mobile}`]})]}),o.jsx(dt,{variant:"outline",className:"text-xs",children:y.find(de=>de.jobtitle_id===V.jobtitle_id)?ua(y.find(de=>de.jobtitle_id===V.jobtitle_id),"jobtitle_name_en","jobtitle_name_ar"):"-"})]},V.contact_id||J))}):o.jsx("p",{className:"text-sm text-muted-foreground",children:e("mprojects.noContactsFound")})})()]}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.created")}),o.jsx("p",{className:"text-sm font-medium",children:new Date(le.created_at).toLocaleDateString()})]})}),le.contract_document&&(()=>{const D=le.contract_document;return o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Ks,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractDocument")}),o.jsx("p",{className:"text-sm font-medium truncate",children:D.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[D.size&&`${(D.size/1024/1024).toFixed(2)} MB`,"  ",new Date(D.uploaded_at).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex gap-1",children:[D.url&&o.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>window.open(D.url,"_blank"),className:"h-8 w-8 p-0",children:o.jsx(Toe,{className:"h-4 w-4"})}),o.jsx(oe,{variant:"ghost",size:"sm",onClick:async()=>{try{await ZGe(le.project_id),n({title:e("common.success"),description:"Contract document deleted successfully"}),await lr(),me(!1)}catch{n({title:"Error",description:"Failed to delete contract document",variant:"destructive"})}},className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:o.jsx(Sr,{className:"h-4 w-4"})})]})]})})()]}),o.jsx(_n,{value:"notes",className:"mt-4",children:o.jsx(pO,{relatedType:"mlead",relatedId:le.project_id,notes:A,onNotesChange:()=>Me(le.project_id)})})]})]})]})})]})}const Zy={async getRequests(){const{data:e,error:t}=await ve.from("requests").select("*").order("created_at",{ascending:!1});if(t)throw t;return e},async getRequestById(e){const{data:t,error:r}=await ve.from("requests").select("*").eq("request_id",e).single();if(r)throw r;return t},async createRequest(e){const{data:t,error:r}=await ve.from("requests").insert([e]).select().single();if(r)throw r;return t},async updateRequest(e,t){const{data:r,error:n}=await ve.from("requests").update(t).eq("request_id",e).select().single();if(n)throw n;return r},async deleteRequest(e){const{error:t}=await ve.from("requests").delete().eq("request_id",e);if(t)throw t}};var Bx=e=>e.type==="checkbox",Ed=e=>e instanceof Date,Ya=e=>e==null;const hJ=e=>typeof e=="object";var dn=e=>!Ya(e)&&!Array.isArray(e)&&hJ(e)&&!Ed(e),mJ=e=>dn(e)&&e.target?Bx(e.target)?e.target.checked:e.target.value:e,tKe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,pJ=(e,t)=>e.has(tKe(t)),rKe=e=>{const t=e.constructor&&e.constructor.prototype;return dn(t)&&t.hasOwnProperty("isPrototypeOf")},p4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function An(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(p4&&(e instanceof Blob||n))&&(r||dn(e)))if(t=r?[]:{},!r&&!rKe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=An(e[a]));else return e;return t}var QS=e=>/^\w*$/.test(e),an=e=>e===void 0,g4=e=>Array.isArray(e)?e.filter(Boolean):[],v4=e=>g4(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ze=(e,t,r)=>{if(!t||!dn(e))return r;const n=(QS(t)?[t]:v4(t)).reduce((a,s)=>Ya(a)?a:a[s],e);return an(n)||n===e?an(e[t])?r:e[t]:n},Ys=e=>typeof e=="boolean",mr=(e,t,r)=>{let n=-1;const a=QS(t)?[t]:v4(t),s=a.length,i=s-1;for(;++n<s;){const l=a[n];let c=r;if(n!==i){const u=e[l];c=dn(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Rb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},go={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Cl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},x4=te.createContext(null);x4.displayName="HookFormContext";const ZS=()=>te.useContext(x4),nKe=e=>{const{children:t,...r}=e;return te.createElement(x4.Provider,{value:r},t)};var gJ=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const i=s;return t._proxyFormState[i]!==go.all&&(t._proxyFormState[i]=!n||go.all),r&&(r[i]=!0),e[i]}});return a};const y4=typeof window<"u"?te.useLayoutEffect:te.useEffect;function aKe(e){const t=ZS(),{control:r=t.control,disabled:n,name:a,exact:s}=e||{},[i,l]=te.useState(r._formState),c=te.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return y4(()=>r._subscribe({name:a,formState:c.current,exact:s,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,s]),te.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),te.useMemo(()=>gJ(i,r,c.current,!1),[i,r])}var tl=e=>typeof e=="string",vJ=(e,t,r,n,a)=>tl(e)?(n&&t.watch.add(e),Ze(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),Ze(r,s))):(n&&(t.watchAll=!0),r),YC=e=>Ya(e)||!hJ(e);function $l(e,t,r=new WeakSet){if(YC(e)||YC(t))return e===t;if(Ed(e)&&Ed(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const i=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const l=t[s];if(Ed(i)&&Ed(l)||dn(i)&&dn(l)||Array.isArray(i)&&Array.isArray(l)?!$l(i,l,r):i!==l)return!1}}return!0}function sKe(e){const t=ZS(),{control:r=t.control,name:n,defaultValue:a,disabled:s,exact:i,compute:l}=e||{},c=te.useRef(a),u=te.useRef(l),d=te.useRef(void 0);u.current=l;const f=te.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,p]=te.useState(u.current?u.current(f):f);return y4(()=>r._subscribe({name:n,formState:{values:!0},exact:i,callback:g=>{if(!s){const m=vJ(n,r._names,g.values||r._formValues,!1,c.current);if(u.current){const v=u.current(m);$l(v,d.current)||(p(v),d.current=v)}else p(m)}}}),[r,s,n,i]),te.useEffect(()=>r._removeUnmounted()),h}function iKe(e){const t=ZS(),{name:r,disabled:n,control:a=t.control,shouldUnregister:s,defaultValue:i}=e,l=pJ(a._names.array,r),c=te.useMemo(()=>Ze(a._formValues,r,Ze(a._defaultValues,r,i)),[a,r,i]),u=sKe({control:a,name:r,defaultValue:c,exact:!0}),d=aKe({control:a,name:r,exact:!0}),f=te.useRef(e),h=te.useRef(a.register(r,{...e.rules,value:u,...Ys(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const p=te.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ze(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ze(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ze(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ze(d.validatingFields,r)},error:{enumerable:!0,get:()=>Ze(d.errors,r)}}),[d,r]),g=te.useCallback(w=>h.current.onChange({target:{value:mJ(w),name:r},type:Rb.CHANGE}),[r]),m=te.useCallback(()=>h.current.onBlur({target:{value:Ze(a._formValues,r),name:r},type:Rb.BLUR}),[r,a._formValues]),v=te.useCallback(w=>{const b=Ze(a._fields,r);b&&w&&(b._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:_=>w.setCustomValidity(_),reportValidity:()=>w.reportValidity()})},[a._fields,r]),y=te.useMemo(()=>({name:r,value:u,...Ys(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:m,ref:v}),[r,n,d.disabled,g,m,v,u]);return te.useEffect(()=>{const w=a._options.shouldUnregister||s;a.register(r,{...f.current.rules,...Ys(f.current.disabled)?{disabled:f.current.disabled}:{}});const b=(_,S)=>{const k=Ze(a._fields,_);k&&k._f&&(k._f.mount=S)};if(b(r,!0),w){const _=An(Ze(a._options.defaultValues,r));mr(a._defaultValues,r,_),an(Ze(a._formValues,r))&&mr(a._formValues,r,_)}return!l&&a.register(r),()=>{(l?w&&!a._state.action:w)?a.unregister(r):b(r,!1)}},[r,a,l,s]),te.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),te.useMemo(()=>({field:y,formState:d,fieldState:p}),[y,d,p])}const oKe=e=>e.render(iKe(e));var xJ=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},bg=e=>Array.isArray(e)?e:[e],C5=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},gs=e=>dn(e)&&!Object.keys(e).length,w4=e=>e.type==="file",vo=e=>typeof e=="function",Ib=e=>{if(!p4)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},yJ=e=>e.type==="select-multiple",b4=e=>e.type==="radio",lKe=e=>b4(e)||Bx(e),s2=e=>Ib(e)&&e.isConnected;function cKe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=an(e)?n++:e[t[n++]];return e}function uKe(e){for(const t in e)if(e.hasOwnProperty(t)&&!an(e[t]))return!1;return!0}function mn(e,t){const r=Array.isArray(t)?t:QS(t)?[t]:v4(t),n=r.length===1?e:cKe(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(dn(n)&&gs(n)||Array.isArray(n)&&uKe(n))&&mn(e,r.slice(0,-1)),e}var wJ=e=>{for(const t in e)if(vo(e[t]))return!0;return!1};function Mb(e,t={}){const r=Array.isArray(e);if(dn(e)||r)for(const n in e)Array.isArray(e[n])||dn(e[n])&&!wJ(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Mb(e[n],t[n])):Ya(e[n])||(t[n]=!0);return t}function bJ(e,t,r){const n=Array.isArray(e);if(dn(e)||n)for(const a in e)Array.isArray(e[a])||dn(e[a])&&!wJ(e[a])?an(t)||YC(r[a])?r[a]=Array.isArray(e[a])?Mb(e[a],[]):{...Mb(e[a])}:bJ(e[a],Ya(t)?{}:t[a],r[a]):r[a]=!$l(e[a],t[a]);return r}var j0=(e,t)=>bJ(e,t,Mb(t));const T5={value:!1,isValid:!1},A5={value:!0,isValid:!0};var _J=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!an(e[0].attributes.value)?an(e[0].value)||e[0].value===""?A5:{value:e[0].value,isValid:!0}:A5:T5}return T5},SJ=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>an(e)?e:t?e===""?NaN:e&&+e:r&&tl(e)?new Date(e):n?n(e):e;const O5={isValid:!1,value:null};var jJ=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,O5):O5;function P5(e){const t=e.ref;return w4(t)?t.files:b4(t)?jJ(e.refs).value:yJ(t)?[...t.selectedOptions].map(({value:r})=>r):Bx(t)?_J(e.refs).value:SJ(an(t.value)?e.ref.value:t.value,e)}var dKe=(e,t,r,n)=>{const a={};for(const s of e){const i=Ze(t,s);i&&mr(a,s,i._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Fb=e=>e instanceof RegExp,k0=e=>an(e)?e:Fb(e)?e.source:dn(e)?Fb(e.value)?e.value.source:e.value:e,D5=e=>({isOnSubmit:!e||e===go.onSubmit,isOnBlur:e===go.onBlur,isOnChange:e===go.onChange,isOnAll:e===go.all,isOnTouch:e===go.onTouched});const R5="AsyncFunction";var fKe=e=>!!e&&!!e.validate&&!!(vo(e.validate)&&e.validate.constructor.name===R5||dn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===R5)),hKe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),I5=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const _g=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=Ze(e,a);if(s){const{_f:i,...l}=s;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],a)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(_g(l,t))break}else if(dn(l)&&_g(l,t))break}}};function M5(e,t,r){const n=Ze(e,r);if(n||QS(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),i=Ze(t,s),l=Ze(e,s);if(i&&!Array.isArray(i)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};a.pop()}return{name:r}}var mKe=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return gs(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(i=>t[i]===(!n||go.all))},pKe=(e,t,r)=>!e||!t||e===t||bg(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),gKe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,vKe=(e,t)=>!g4(Ze(e,t)).length&&mn(e,t),xKe=(e,t,r)=>{const n=bg(Ze(e,r));return mr(n,"root",t[r]),mr(e,r,n),e},Nw=e=>tl(e);function F5(e,t,r="validate"){if(Nw(e)||Array.isArray(e)&&e.every(Nw)||Ys(e)&&!e)return{type:r,message:Nw(e)?e:"",ref:t}}var sh=e=>dn(e)&&!Fb(e)?e:{value:e,message:""},L5=async(e,t,r,n,a,s)=>{const{ref:i,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:g,name:m,valueAsNumber:v,mount:y}=e._f,w=Ze(r,m);if(!y||t.has(m))return{};const b=l?l[0]:i,_=T=>{a&&b.reportValidity&&(b.setCustomValidity(Ys(T)?"":T||""),b.reportValidity())},S={},k=b4(i),j=Bx(i),E=k||j,N=(v||w4(i))&&an(i.value)&&an(w)||Ib(i)&&i.value===""||w===""||Array.isArray(w)&&!w.length,O=xJ.bind(null,m,n,S),P=(T,L,H,z=Cl.maxLength,M=Cl.minLength)=>{const I=T?L:H;S[m]={type:T?z:M,message:I,ref:i,...O(T?z:M,I)}};if(s?!Array.isArray(w)||!w.length:c&&(!E&&(N||Ya(w))||Ys(w)&&!w||j&&!_J(l).isValid||k&&!jJ(l).isValid)){const{value:T,message:L}=Nw(c)?{value:!!c,message:c}:sh(c);if(T&&(S[m]={type:Cl.required,message:L,ref:b,...O(Cl.required,L)},!n))return _(L),S}if(!N&&(!Ya(f)||!Ya(h))){let T,L;const H=sh(h),z=sh(f);if(!Ya(w)&&!isNaN(w)){const M=i.valueAsNumber||w&&+w;Ya(H.value)||(T=M>H.value),Ya(z.value)||(L=M<z.value)}else{const M=i.valueAsDate||new Date(w),I=Y=>new Date(new Date().toDateString()+" "+Y),U=i.type=="time",R=i.type=="week";tl(H.value)&&w&&(T=U?I(w)>I(H.value):R?w>H.value:M>new Date(H.value)),tl(z.value)&&w&&(L=U?I(w)<I(z.value):R?w<z.value:M<new Date(z.value))}if((T||L)&&(P(!!T,H.message,z.message,Cl.max,Cl.min),!n))return _(S[m].message),S}if((u||d)&&!N&&(tl(w)||s&&Array.isArray(w))){const T=sh(u),L=sh(d),H=!Ya(T.value)&&w.length>+T.value,z=!Ya(L.value)&&w.length<+L.value;if((H||z)&&(P(H,T.message,L.message),!n))return _(S[m].message),S}if(p&&!N&&tl(w)){const{value:T,message:L}=sh(p);if(Fb(T)&&!w.match(T)&&(S[m]={type:Cl.pattern,message:L,ref:i,...O(Cl.pattern,L)},!n))return _(L),S}if(g){if(vo(g)){const T=await g(w,r),L=F5(T,b);if(L&&(S[m]={...L,...O(Cl.validate,L.message)},!n))return _(L.message),S}else if(dn(g)){let T={};for(const L in g){if(!gs(T)&&!n)break;const H=F5(await g[L](w,r),b,L);H&&(T={...H,...O(L,H.message)},_(H.message),n&&(S[m]=T))}if(!gs(T)&&(S[m]={ref:b,...T},!n))return S}}return _(!0),S};const yKe={mode:go.onSubmit,reValidateMode:go.onChange,shouldFocusError:!0};function wKe(e={}){let t={...yKe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:vo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=dn(t.defaultValues)||dn(t.values)?An(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:An(a),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:C5(),state:C5()},p=t.criteriaMode===go.all,g=ne=>he=>{clearTimeout(u),u=setTimeout(ne,he)},m=async ne=>{if(!t.disabled&&(d.isValid||f.isValid||ne)){const he=t.resolver?gs((await j()).errors):await N(n,!0);he!==r.isValid&&h.state.next({isValid:he})}},v=(ne,he)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((ne||Array.from(l.mount)).forEach(F=>{F&&(he?mr(r.validatingFields,F,he):mn(r.validatingFields,F))}),h.state.next({validatingFields:r.validatingFields,isValidating:!gs(r.validatingFields)}))},y=(ne,he=[],F,ce,pe=!0,xe=!0)=>{if(ce&&F&&!t.disabled){if(i.action=!0,xe&&Array.isArray(Ze(n,ne))){const Fe=F(Ze(n,ne),ce.argA,ce.argB);pe&&mr(n,ne,Fe)}if(xe&&Array.isArray(Ze(r.errors,ne))){const Fe=F(Ze(r.errors,ne),ce.argA,ce.argB);pe&&mr(r.errors,ne,Fe),vKe(r.errors,ne)}if((d.touchedFields||f.touchedFields)&&xe&&Array.isArray(Ze(r.touchedFields,ne))){const Fe=F(Ze(r.touchedFields,ne),ce.argA,ce.argB);pe&&mr(r.touchedFields,ne,Fe)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=j0(a,s)),h.state.next({name:ne,isDirty:P(ne,he),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else mr(s,ne,he)},w=(ne,he)=>{mr(r.errors,ne,he),h.state.next({errors:r.errors})},b=ne=>{r.errors=ne,h.state.next({errors:r.errors,isValid:!1})},_=(ne,he,F,ce)=>{const pe=Ze(n,ne);if(pe){const xe=Ze(s,ne,an(F)?Ze(a,ne):F);an(xe)||ce&&ce.defaultChecked||he?mr(s,ne,he?xe:P5(pe._f)):H(ne,xe),i.mount&&m()}},S=(ne,he,F,ce,pe)=>{let xe=!1,Fe=!1;const ye={name:ne};if(!t.disabled){if(!F||ce){(d.isDirty||f.isDirty)&&(Fe=r.isDirty,r.isDirty=ye.isDirty=P(),xe=Fe!==ye.isDirty);const _e=$l(Ze(a,ne),he);Fe=!!Ze(r.dirtyFields,ne),_e?mn(r.dirtyFields,ne):mr(r.dirtyFields,ne,!0),ye.dirtyFields=r.dirtyFields,xe=xe||(d.dirtyFields||f.dirtyFields)&&Fe!==!_e}if(F){const _e=Ze(r.touchedFields,ne);_e||(mr(r.touchedFields,ne,F),ye.touchedFields=r.touchedFields,xe=xe||(d.touchedFields||f.touchedFields)&&_e!==F)}xe&&pe&&h.state.next(ye)}return xe?ye:{}},k=(ne,he,F,ce)=>{const pe=Ze(r.errors,ne),xe=(d.isValid||f.isValid)&&Ys(he)&&r.isValid!==he;if(t.delayError&&F?(c=g(()=>w(ne,F)),c(t.delayError)):(clearTimeout(u),c=null,F?mr(r.errors,ne,F):mn(r.errors,ne)),(F?!$l(pe,F):pe)||!gs(ce)||xe){const Fe={...ce,...xe&&Ys(he)?{isValid:he}:{},errors:r.errors,name:ne};r={...r,...Fe},h.state.next(Fe)}},j=async ne=>{v(ne,!0);const he=await t.resolver(s,t.context,dKe(ne||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(ne),he},E=async ne=>{const{errors:he}=await j(ne);if(ne)for(const F of ne){const ce=Ze(he,F);ce?mr(r.errors,F,ce):mn(r.errors,F)}else r.errors=he;return he},N=async(ne,he,F={valid:!0})=>{for(const ce in ne){const pe=ne[ce];if(pe){const{_f:xe,...Fe}=pe;if(xe){const ye=l.array.has(xe.name),_e=pe._f&&fKe(pe._f);_e&&d.validatingFields&&v([ce],!0);const ue=await L5(pe,l.disabled,s,p,t.shouldUseNativeValidation&&!he,ye);if(_e&&d.validatingFields&&v([ce]),ue[xe.name]&&(F.valid=!1,he))break;!he&&(Ze(ue,xe.name)?ye?xKe(r.errors,ue,xe.name):mr(r.errors,xe.name,ue[xe.name]):mn(r.errors,xe.name))}!gs(Fe)&&await N(Fe,he,F)}}return F.valid},O=()=>{for(const ne of l.unMount){const he=Ze(n,ne);he&&(he._f.refs?he._f.refs.every(F=>!s2(F)):!s2(he._f.ref))&&se(ne)}l.unMount=new Set},P=(ne,he)=>!t.disabled&&(ne&&he&&mr(s,ne,he),!$l(Y(),a)),T=(ne,he,F)=>vJ(ne,l,{...i.mount?s:an(he)?a:tl(ne)?{[ne]:he}:he},F,he),L=ne=>g4(Ze(i.mount?s:a,ne,t.shouldUnregister?Ze(a,ne,[]):[])),H=(ne,he,F={})=>{const ce=Ze(n,ne);let pe=he;if(ce){const xe=ce._f;xe&&(!xe.disabled&&mr(s,ne,SJ(he,xe)),pe=Ib(xe.ref)&&Ya(he)?"":he,yJ(xe.ref)?[...xe.ref.options].forEach(Fe=>Fe.selected=pe.includes(Fe.value)):xe.refs?Bx(xe.ref)?xe.refs.forEach(Fe=>{(!Fe.defaultChecked||!Fe.disabled)&&(Array.isArray(pe)?Fe.checked=!!pe.find(ye=>ye===Fe.value):Fe.checked=pe===Fe.value||!!pe)}):xe.refs.forEach(Fe=>Fe.checked=Fe.value===pe):w4(xe.ref)?xe.ref.value="":(xe.ref.value=pe,xe.ref.type||h.state.next({name:ne,values:An(s)})))}(F.shouldDirty||F.shouldTouch)&&S(ne,pe,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&R(ne)},z=(ne,he,F)=>{for(const ce in he){if(!he.hasOwnProperty(ce))return;const pe=he[ce],xe=ne+"."+ce,Fe=Ze(n,xe);(l.array.has(ne)||dn(pe)||Fe&&!Fe._f)&&!Ed(pe)?z(xe,pe,F):H(xe,pe,F)}},M=(ne,he,F={})=>{const ce=Ze(n,ne),pe=l.array.has(ne),xe=An(he);mr(s,ne,xe),pe?(h.array.next({name:ne,values:An(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&F.shouldDirty&&h.state.next({name:ne,dirtyFields:j0(a,s),isDirty:P(ne,xe)})):ce&&!ce._f&&!Ya(xe)?z(ne,xe,F):H(ne,xe,F),I5(ne,l)&&h.state.next({...r,name:ne}),h.state.next({name:i.mount?ne:void 0,values:An(s)})},I=async ne=>{i.mount=!0;const he=ne.target;let F=he.name,ce=!0;const pe=Ze(n,F),xe=_e=>{ce=Number.isNaN(_e)||Ed(_e)&&isNaN(_e.getTime())||$l(_e,Ze(s,F,_e))},Fe=D5(t.mode),ye=D5(t.reValidateMode);if(pe){let _e,ue;const Ee=he.type?P5(pe._f):mJ(ne),Le=ne.type===Rb.BLUR||ne.type===Rb.FOCUS_OUT,Re=!hKe(pe._f)&&!t.resolver&&!Ze(r.errors,F)&&!pe._f.deps||gKe(Le,Ze(r.touchedFields,F),r.isSubmitted,ye,Fe),Ke=I5(F,l,Le);mr(s,F,Ee),Le?(pe._f.onBlur&&pe._f.onBlur(ne),c&&c(0)):pe._f.onChange&&pe._f.onChange(ne);const _t=S(F,Ee,Le),lr=!gs(_t)||Ke;if(!Le&&h.state.next({name:F,type:ne.type,values:An(s)}),Re)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Le&&m():Le||m()),lr&&h.state.next({name:F,...Ke?{}:_t});if(!Le&&Ke&&h.state.next({...r}),t.resolver){const{errors:yr}=await j([F]);if(xe(Ee),ce){const Bn=M5(r.errors,n,F),wr=M5(yr,n,Bn.name||F);_e=wr.error,F=wr.name,ue=gs(yr)}}else v([F],!0),_e=(await L5(pe,l.disabled,s,p,t.shouldUseNativeValidation))[F],v([F]),xe(Ee),ce&&(_e?ue=!1:(d.isValid||f.isValid)&&(ue=await N(n,!0)));ce&&(pe._f.deps&&R(pe._f.deps),k(F,ue,_e,_t))}},U=(ne,he)=>{if(Ze(r.errors,he)&&ne.focus)return ne.focus(),1},R=async(ne,he={})=>{let F,ce;const pe=bg(ne);if(t.resolver){const xe=await E(an(ne)?ne:pe);F=gs(xe),ce=ne?!pe.some(Fe=>Ze(xe,Fe)):F}else ne?(ce=(await Promise.all(pe.map(async xe=>{const Fe=Ze(n,xe);return await N(Fe&&Fe._f?{[xe]:Fe}:Fe)}))).every(Boolean),!(!ce&&!r.isValid)&&m()):ce=F=await N(n);return h.state.next({...!tl(ne)||(d.isValid||f.isValid)&&F!==r.isValid?{}:{name:ne},...t.resolver||!ne?{isValid:F}:{},errors:r.errors}),he.shouldFocus&&!ce&&_g(n,U,ne?pe:l.mount),ce},Y=ne=>{const he={...i.mount?s:a};return an(ne)?he:tl(ne)?Ze(he,ne):ne.map(F=>Ze(he,F))},Z=(ne,he)=>({invalid:!!Ze((he||r).errors,ne),isDirty:!!Ze((he||r).dirtyFields,ne),error:Ze((he||r).errors,ne),isValidating:!!Ze(r.validatingFields,ne),isTouched:!!Ze((he||r).touchedFields,ne)}),C=ne=>{ne&&bg(ne).forEach(he=>mn(r.errors,he)),h.state.next({errors:ne?r.errors:{}})},X=(ne,he,F)=>{const ce=(Ze(n,ne,{_f:{}})._f||{}).ref,pe=Ze(r.errors,ne)||{},{ref:xe,message:Fe,type:ye,..._e}=pe;mr(r.errors,ne,{..._e,...he,ref:ce}),h.state.next({name:ne,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&ce&&ce.focus&&ce.focus()},B=(ne,he)=>vo(ne)?h.state.subscribe({next:F=>"values"in F&&ne(T(void 0,he),F)}):T(ne,he,!0),q=ne=>h.state.subscribe({next:he=>{pKe(ne.name,he.name,ne.exact)&&mKe(he,ne.formState||d,De,ne.reRenderRoot)&&ne.callback({values:{...s},...r,...he,defaultValues:a})}}).unsubscribe,re=ne=>(i.mount=!0,f={...f,...ne.formState},q({...ne,formState:f})),se=(ne,he={})=>{for(const F of ne?bg(ne):l.mount)l.mount.delete(F),l.array.delete(F),he.keepValue||(mn(n,F),mn(s,F)),!he.keepError&&mn(r.errors,F),!he.keepDirty&&mn(r.dirtyFields,F),!he.keepTouched&&mn(r.touchedFields,F),!he.keepIsValidating&&mn(r.validatingFields,F),!t.shouldUnregister&&!he.keepDefaultValue&&mn(a,F);h.state.next({values:An(s)}),h.state.next({...r,...he.keepDirty?{isDirty:P()}:{}}),!he.keepIsValid&&m()},le=({disabled:ne,name:he})=>{(Ys(ne)&&i.mount||ne||l.disabled.has(he))&&(ne?l.disabled.add(he):l.disabled.delete(he))},ae=(ne,he={})=>{let F=Ze(n,ne);const ce=Ys(he.disabled)||Ys(t.disabled);return mr(n,ne,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:ne}},name:ne,mount:!0,...he}}),l.mount.add(ne),F?le({disabled:Ys(he.disabled)?he.disabled:t.disabled,name:ne}):_(ne,!0,he.value),{...ce?{disabled:he.disabled||t.disabled}:{},...t.progressive?{required:!!he.required,min:k0(he.min),max:k0(he.max),minLength:k0(he.minLength),maxLength:k0(he.maxLength),pattern:k0(he.pattern)}:{},name:ne,onChange:I,onBlur:I,ref:pe=>{if(pe){ae(ne,he),F=Ze(n,ne);const xe=an(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,Fe=lKe(xe),ye=F._f.refs||[];if(Fe?ye.find(_e=>_e===xe):xe===F._f.ref)return;mr(n,ne,{_f:{...F._f,...Fe?{refs:[...ye.filter(s2),xe,...Array.isArray(Ze(a,ne))?[{}]:[]],ref:{type:xe.type,name:ne}}:{ref:xe}}}),_(ne,!1,void 0,xe)}else F=Ze(n,ne,{}),F._f&&(F._f.mount=!1),(t.shouldUnregister||he.shouldUnregister)&&!(pJ(l.array,ne)&&i.action)&&l.unMount.add(ne)}}},K=()=>t.shouldFocusError&&_g(n,U,l.mount),me=ne=>{Ys(ne)&&(h.state.next({disabled:ne}),_g(n,(he,F)=>{const ce=Ze(n,F);ce&&(he.disabled=ce._f.disabled||ne,Array.isArray(ce._f.refs)&&ce._f.refs.forEach(pe=>{pe.disabled=ce._f.disabled||ne}))},0,!1))},A=(ne,he)=>async F=>{let ce;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let pe=An(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:xe,values:Fe}=await j();r.errors=xe,pe=An(Fe)}else await N(n);if(l.disabled.size)for(const xe of l.disabled)mn(pe,xe);if(mn(r.errors,"root"),gs(r.errors)){h.state.next({errors:{}});try{await ne(pe,F)}catch(xe){ce=xe}}else he&&await he({...r.errors},F),K(),setTimeout(K);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:gs(r.errors)&&!ce,submitCount:r.submitCount+1,errors:r.errors}),ce)throw ce},$e=(ne,he={})=>{Ze(n,ne)&&(an(he.defaultValue)?M(ne,An(Ze(a,ne))):(M(ne,he.defaultValue),mr(a,ne,An(he.defaultValue))),he.keepTouched||mn(r.touchedFields,ne),he.keepDirty||(mn(r.dirtyFields,ne),r.isDirty=he.defaultValue?P(ne,An(Ze(a,ne))):P()),he.keepError||(mn(r.errors,ne),d.isValid&&m()),h.state.next({...r}))},Ie=(ne,he={})=>{const F=ne?An(ne):a,ce=An(F),pe=gs(ne),xe=pe?a:ce;if(he.keepDefaultValues||(a=F),!he.keepValues){if(he.keepDirtyValues){const Fe=new Set([...l.mount,...Object.keys(j0(a,s))]);for(const ye of Array.from(Fe))Ze(r.dirtyFields,ye)?mr(xe,ye,Ze(s,ye)):M(ye,Ze(xe,ye))}else{if(p4&&an(ne))for(const Fe of l.mount){const ye=Ze(n,Fe);if(ye&&ye._f){const _e=Array.isArray(ye._f.refs)?ye._f.refs[0]:ye._f.ref;if(Ib(_e)){const ue=_e.closest("form");if(ue){ue.reset();break}}}}if(he.keepFieldsRef)for(const Fe of l.mount)M(Fe,Ze(xe,Fe));else n={}}s=t.shouldUnregister?he.keepDefaultValues?An(a):{}:An(xe),h.array.next({values:{...xe}}),h.state.next({values:{...xe}})}l={mount:he.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!he.keepIsValid||!!he.keepDirtyValues,i.watch=!!t.shouldUnregister,h.state.next({submitCount:he.keepSubmitCount?r.submitCount:0,isDirty:pe?!1:he.keepDirty?r.isDirty:!!(he.keepDefaultValues&&!$l(ne,a)),isSubmitted:he.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:pe?{}:he.keepDirtyValues?he.keepDefaultValues&&s?j0(a,s):r.dirtyFields:he.keepDefaultValues&&ne?j0(a,ne):he.keepDirty?r.dirtyFields:{},touchedFields:he.keepTouched?r.touchedFields:{},errors:he.keepErrors?r.errors:{},isSubmitSuccessful:he.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ue=(ne,he)=>Ie(vo(ne)?ne(s):ne,he),Ve=(ne,he={})=>{const F=Ze(n,ne),ce=F&&F._f;if(ce){const pe=ce.refs?ce.refs[0]:ce.ref;pe.focus&&(pe.focus(),he.shouldSelect&&vo(pe.select)&&pe.select())}},De=ne=>{r={...r,...ne}},yt={control:{register:ae,unregister:se,getFieldState:Z,handleSubmit:A,setError:X,_subscribe:q,_runSchema:j,_focusError:K,_getWatch:T,_getDirty:P,_setValid:m,_setFieldArray:y,_setDisabledField:le,_setErrors:b,_getFieldArray:L,_reset:Ie,_resetDefaultValues:()=>vo(t.defaultValues)&&t.defaultValues().then(ne=>{Ue(ne,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:me,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return i},set _state(ne){i=ne},get _defaultValues(){return a},get _names(){return l},set _names(ne){l=ne},get _formState(){return r},get _options(){return t},set _options(ne){t={...t,...ne}}},subscribe:re,trigger:R,register:ae,handleSubmit:A,watch:B,setValue:M,getValues:Y,reset:Ue,resetField:$e,clearErrors:C,unregister:se,setError:X,setFocus:Ve,getFieldState:Z};return{...yt,formControl:yt}}function bKe(e={}){const t=te.useRef(void 0),r=te.useRef(void 0),[n,a]=te.useState({isDirty:!1,isValidating:!1,isLoading:vo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:vo(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!vo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...l}=wKe(e);t.current={...l,formState:n}}const s=t.current.control;return s._options=e,y4(()=>{const i=s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),s._formState.isReady=!0,i},[s]),te.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),te.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),te.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),te.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),te.useEffect(()=>{if(s._proxyFormState.isDirty){const i=s._getDirty();i!==n.isDirty&&s._subjects.state.next({isDirty:i})}},[s,n.isDirty]),te.useEffect(()=>{e.values&&!$l(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,a(i=>({...i}))):s._resetDefaultValues()},[s,e.values]),te.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=gJ(n,s),t.current}const $5=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ze(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},kJ=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?$5(n.ref,r,e):n.refs&&n.refs.forEach(a=>$5(a,r,e))}},_Ke=(e,t)=>{t.shouldUseNativeValidation&&kJ(e,t);const r={};for(const n in e){const a=Ze(t.fields,n),s=Object.assign(e[n]||{},{ref:a&&a.ref});if(SKe(t.names||Object.keys(e),n)){const i=Object.assign({},Ze(r,n));mr(i,"root",s),mr(r,n,i)}else mr(r,n,s)}return r},SKe=(e,t)=>e.some(r=>r.startsWith(t+"."));var jKe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,s=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[i]={message:l.message,type:l.code}}else r[i]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[i].types,u=c&&c[n.code];r[i]=xJ(i,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},kKe=function(e,t,r){return r===void 0&&(r={}),function(n,a,s){try{return Promise.resolve(function(i,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&kJ({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:_Ke(jKe(i.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw i}))}catch(i){return Promise.reject(i)}}},sr;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const s={};for(const i of a)s[i]=i;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),i={};for(const l of s)i[l]=a[l];return e.objectValues(i)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&s.push(i);return s},e.find=(a,s)=>{for(const i of a)if(s(i))return i},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(sr||(sr={}));var B5;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(B5||(B5={}));const ft=sr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Uc=e=>{switch(typeof e){case"undefined":return ft.undefined;case"string":return ft.string;case"number":return Number.isNaN(e)?ft.nan:ft.number;case"boolean":return ft.boolean;case"function":return ft.function;case"bigint":return ft.bigint;case"symbol":return ft.symbol;case"object":return Array.isArray(e)?ft.array:e===null?ft.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ft.promise:typeof Map<"u"&&e instanceof Map?ft.map:typeof Set<"u"&&e instanceof Set?ft.set:typeof Date<"u"&&e instanceof Date?ft.date:ft.object;default:return ft.unknown}},Ye=sr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class mc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},a=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let l=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(i))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof mc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,sr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];r[s]=r[s]||[],r[s].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}mc.create=e=>new mc(e);const XC=(e,t)=>{let r;switch(e.code){case Ye.invalid_type:e.received===ft.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ye.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,sr.jsonStringifyReplacer)}`;break;case Ye.unrecognized_keys:r=`Unrecognized key(s) in object: ${sr.joinValues(e.keys,", ")}`;break;case Ye.invalid_union:r="Invalid input";break;case Ye.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${sr.joinValues(e.options)}`;break;case Ye.invalid_enum_value:r=`Invalid enum value. Expected ${sr.joinValues(e.options)}, received '${e.received}'`;break;case Ye.invalid_arguments:r="Invalid function arguments";break;case Ye.invalid_return_type:r="Invalid function return type";break;case Ye.invalid_date:r="Invalid date";break;case Ye.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:sr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ye.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ye.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ye.custom:r="Invalid input";break;case Ye.invalid_intersection_types:r="Intersection results could not be merged";break;case Ye.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ye.not_finite:r="Number must be finite";break;default:r=t.defaultError,sr.assertNever(e)}return{message:r}};let NKe=XC;function EKe(){return NKe}const CKe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],i={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(i,{data:t,defaultError:l}).message;return{...a,path:s,message:l}};function st(e,t){const r=EKe(),n=CKe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===XC?void 0:XC].filter(a=>!!a)});e.common.issues.push(n)}class hi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Mt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const s=await a.key,i=await a.value;n.push({key:s,value:i})}return hi.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:s,value:i}=a;if(s.status==="aborted"||i.status==="aborted")return Mt;s.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(n[s.value]=i.value)}return{status:t.value,value:n}}}const Mt=Object.freeze({status:"aborted"}),B0=e=>({status:"dirty",value:e}),qi=e=>({status:"valid",value:e}),U5=e=>e.status==="aborted",V5=e=>e.status==="dirty",cp=e=>e.status==="valid",Lb=e=>typeof Promise<"u"&&e instanceof Promise;var mt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(mt||(mt={}));class Iu{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const z5=(e,t)=>{if(cp(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new mc(e.common.issues);return this._error=r,this._error}}};function Gt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(i,l)=>{const{message:c}=e;return i.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class ar{get description(){return this._def.description}_getType(t){return Uc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Uc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new hi,ctx:{common:t.parent.common,data:t.data,parsedType:Uc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Lb(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Uc(t)},a=this._parseSync({data:t,path:n.path,parent:n});return z5(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Uc(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return cp(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(a=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>cp(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Uc(t)},a=this._parse({data:t,path:n.path,parent:n}),s=await(Lb(a)?a:Promise.resolve(a));return z5(n,s)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const i=t(a),l=()=>s.addIssue({code:Ye.custom,...n(a)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new fp({schema:this,typeName:Ft.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ku.create(this,this._def)}nullable(){return hp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return cl.create(this)}promise(){return Vb.create(this,this._def)}or(t){return Bb.create([this,t],this._def)}and(t){return Ub.create(this,t,this._def)}transform(t){return new fp({...Gt(this._def),schema:this,typeName:Ft.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new QC({...Gt(this._def),innerType:this,defaultValue:r,typeName:Ft.ZodDefault})}brand(){return new JKe({typeName:Ft.ZodBranded,type:this,...Gt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new ZC({...Gt(this._def),innerType:this,catchValue:r,typeName:Ft.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return _4.create(this,t)}readonly(){return eT.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const TKe=/^c[^\s-]{8,}$/i,AKe=/^[0-9a-z]+$/,OKe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,PKe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,DKe=/^[a-z0-9_-]{21}$/i,RKe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,IKe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,MKe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,FKe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let i2;const LKe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$Ke=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,BKe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,UKe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,VKe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,zKe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,NJ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",WKe=new RegExp(`^${NJ}$`);function EJ(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function HKe(e){return new RegExp(`^${EJ(e)}$`)}function qKe(e){let t=`${NJ}T${EJ(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function GKe(e,t){return!!((t==="v4"||!t)&&LKe.test(e)||(t==="v6"||!t)&&BKe.test(e))}function KKe(e,t){if(!RKe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function YKe(e,t){return!!((t==="v4"||!t)&&$Ke.test(e)||(t==="v6"||!t)&&UKe.test(e))}class uu extends ar{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ft.string){const s=this._getOrReturnCtx(t);return st(s,{code:Ye.invalid_type,expected:ft.string,received:s.parsedType}),Mt}const n=new hi;let a;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const i=t.data.length>s.value,l=t.data.length<s.value;(i||l)&&(a=this._getOrReturnCtx(t,a),i?st(a,{code:Ye.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&st(a,{code:Ye.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")MKe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"email",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")i2||(i2=new RegExp(FKe,"u")),i2.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"emoji",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")PKe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"uuid",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")DKe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"nanoid",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")TKe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"cuid",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")AKe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"cuid2",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")OKe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"ulid",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),st(a,{validation:"url",code:Ye.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"regex",code:Ye.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?qKe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?WKe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?HKe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?IKe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"duration",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?GKe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"ip",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?KKe(t.data,s.alg)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"jwt",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?YKe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"cidr",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?VKe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"base64",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?zKe.test(t.data)||(a=this._getOrReturnCtx(t,a),st(a,{validation:"base64url",code:Ye.invalid_string,message:s.message}),n.dirty()):sr.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Ye.invalid_string,...mt.errToObj(n)})}_addCheck(t){return new uu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...mt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...mt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...mt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...mt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...mt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...mt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...mt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...mt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...mt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...mt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...mt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...mt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...mt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...mt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...mt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...mt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...mt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...mt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...mt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...mt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...mt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...mt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...mt.errToObj(r)})}nonempty(t){return this.min(1,mt.errToObj(t))}trim(){return new uu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new uu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new uu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}uu.create=e=>new uu({checks:[],typeName:Ft.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Gt(e)});function XKe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,s=Number.parseInt(e.toFixed(a).replace(".","")),i=Number.parseInt(t.toFixed(a).replace(".",""));return s%i/10**a}class up extends ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ft.number){const s=this._getOrReturnCtx(t);return st(s,{code:Ye.invalid_type,expected:ft.number,received:s.parsedType}),Mt}let n;const a=new hi;for(const s of this._def.checks)s.kind==="int"?sr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?XKe(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.not_finite,message:s.message}),a.dirty()):sr.assertNever(s);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,mt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,mt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,mt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,mt.toString(r))}setLimit(t,r,n,a){return new up({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:mt.toString(a)}]})}_addCheck(t){return new up({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:mt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:mt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:mt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:mt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:mt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:mt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:mt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:mt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:mt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&sr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}up.create=e=>new up({checks:[],typeName:Ft.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Gt(e)});class Uv extends ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ft.bigint)return this._getInvalidInput(t);let n;const a=new hi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):sr.assertNever(s);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return st(r,{code:Ye.invalid_type,expected:ft.bigint,received:r.parsedType}),Mt}gte(t,r){return this.setLimit("min",t,!0,mt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,mt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,mt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,mt.toString(r))}setLimit(t,r,n,a){return new Uv({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:mt.toString(a)}]})}_addCheck(t){return new Uv({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:mt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:mt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:mt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:mt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:mt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Uv.create=e=>new Uv({checks:[],typeName:Ft.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Gt(e)});class W5 extends ar{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ft.boolean){const n=this._getOrReturnCtx(t);return st(n,{code:Ye.invalid_type,expected:ft.boolean,received:n.parsedType}),Mt}return qi(t.data)}}W5.create=e=>new W5({typeName:Ft.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Gt(e)});class $b extends ar{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ft.date){const s=this._getOrReturnCtx(t);return st(s,{code:Ye.invalid_type,expected:ft.date,received:s.parsedType}),Mt}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return st(s,{code:Ye.invalid_date}),Mt}const n=new hi;let a;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(a=this._getOrReturnCtx(t,a),st(a,{code:Ye.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):sr.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new $b({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:mt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:mt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}$b.create=e=>new $b({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ft.ZodDate,...Gt(e)});class H5 extends ar{_parse(t){if(this._getType(t)!==ft.symbol){const n=this._getOrReturnCtx(t);return st(n,{code:Ye.invalid_type,expected:ft.symbol,received:n.parsedType}),Mt}return qi(t.data)}}H5.create=e=>new H5({typeName:Ft.ZodSymbol,...Gt(e)});class q5 extends ar{_parse(t){if(this._getType(t)!==ft.undefined){const n=this._getOrReturnCtx(t);return st(n,{code:Ye.invalid_type,expected:ft.undefined,received:n.parsedType}),Mt}return qi(t.data)}}q5.create=e=>new q5({typeName:Ft.ZodUndefined,...Gt(e)});class G5 extends ar{_parse(t){if(this._getType(t)!==ft.null){const n=this._getOrReturnCtx(t);return st(n,{code:Ye.invalid_type,expected:ft.null,received:n.parsedType}),Mt}return qi(t.data)}}G5.create=e=>new G5({typeName:Ft.ZodNull,...Gt(e)});class K5 extends ar{constructor(){super(...arguments),this._any=!0}_parse(t){return qi(t.data)}}K5.create=e=>new K5({typeName:Ft.ZodAny,...Gt(e)});class Y5 extends ar{constructor(){super(...arguments),this._unknown=!0}_parse(t){return qi(t.data)}}Y5.create=e=>new Y5({typeName:Ft.ZodUnknown,...Gt(e)});class Mu extends ar{_parse(t){const r=this._getOrReturnCtx(t);return st(r,{code:Ye.invalid_type,expected:ft.never,received:r.parsedType}),Mt}}Mu.create=e=>new Mu({typeName:Ft.ZodNever,...Gt(e)});class X5 extends ar{_parse(t){if(this._getType(t)!==ft.undefined){const n=this._getOrReturnCtx(t);return st(n,{code:Ye.invalid_type,expected:ft.void,received:n.parsedType}),Mt}return qi(t.data)}}X5.create=e=>new X5({typeName:Ft.ZodVoid,...Gt(e)});class cl extends ar{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==ft.array)return st(r,{code:Ye.invalid_type,expected:ft.array,received:r.parsedType}),Mt;if(a.exactLength!==null){const i=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(i||l)&&(st(r,{code:i?Ye.too_big:Ye.too_small,minimum:l?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(st(r,{code:Ye.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(st(r,{code:Ye.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,l)=>a.type._parseAsync(new Iu(r,i,r.path,l)))).then(i=>hi.mergeArray(n,i));const s=[...r.data].map((i,l)=>a.type._parseSync(new Iu(r,i,r.path,l)));return hi.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new cl({...this._def,minLength:{value:t,message:mt.toString(r)}})}max(t,r){return new cl({...this._def,maxLength:{value:t,message:mt.toString(r)}})}length(t,r){return new cl({...this._def,exactLength:{value:t,message:mt.toString(r)}})}nonempty(t){return this.min(1,t)}}cl.create=(e,t)=>new cl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ft.ZodArray,...Gt(t)});function fh(e){if(e instanceof Qr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=ku.create(fh(n))}return new Qr({...e._def,shape:()=>t})}else return e instanceof cl?new cl({...e._def,type:fh(e.element)}):e instanceof ku?ku.create(fh(e.unwrap())):e instanceof hp?hp.create(fh(e.unwrap())):e instanceof _f?_f.create(e.items.map(t=>fh(t))):e}class Qr extends ar{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=sr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ft.object){const u=this._getOrReturnCtx(t);return st(u,{code:Ye.invalid_type,expected:ft.object,received:u.parsedType}),Mt}const{status:n,ctx:a}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof Mu&&this._def.unknownKeys==="strip"))for(const u in a.data)i.includes(u)||l.push(u);const c=[];for(const u of i){const d=s[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Iu(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Mu){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(st(a,{code:Ye.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Iu(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>hi.mergeObjectSync(n,u)):hi.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return mt.errToObj,new Qr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i;const a=((i=(s=this._def).errorMap)==null?void 0:i.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:mt.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Qr({...this._def,unknownKeys:"strip"})}passthrough(){return new Qr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Qr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Qr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ft.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Qr({...this._def,catchall:t})}pick(t){const r={};for(const n of sr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Qr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of sr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Qr({...this._def,shape:()=>r})}deepPartial(){return fh(this)}partial(t){const r={};for(const n of sr.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Qr({...this._def,shape:()=>r})}required(t){const r={};for(const n of sr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof ku;)s=s._def.innerType;r[n]=s}return new Qr({...this._def,shape:()=>r})}keyof(){return CJ(sr.objectKeys(this.shape))}}Qr.create=(e,t)=>new Qr({shape:()=>e,unknownKeys:"strip",catchall:Mu.create(),typeName:Ft.ZodObject,...Gt(t)});Qr.strictCreate=(e,t)=>new Qr({shape:()=>e,unknownKeys:"strict",catchall:Mu.create(),typeName:Ft.ZodObject,...Gt(t)});Qr.lazycreate=(e,t)=>new Qr({shape:e,unknownKeys:"strip",catchall:Mu.create(),typeName:Ft.ZodObject,...Gt(t)});class Bb extends ar{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const i=s.map(l=>new mc(l.ctx.common.issues));return st(r,{code:Ye.invalid_union,unionErrors:i}),Mt}if(r.common.async)return Promise.all(n.map(async s=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(a);{let s;const i=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=i.map(c=>new mc(c));return st(r,{code:Ye.invalid_union,unionErrors:l}),Mt}}get options(){return this._def.options}}Bb.create=(e,t)=>new Bb({options:e,typeName:Ft.ZodUnion,...Gt(t)});function JC(e,t){const r=Uc(e),n=Uc(t);if(e===t)return{valid:!0,data:e};if(r===ft.object&&n===ft.object){const a=sr.objectKeys(t),s=sr.objectKeys(e).filter(l=>a.indexOf(l)!==-1),i={...e,...t};for(const l of s){const c=JC(e[l],t[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(r===ft.array&&n===ft.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const i=e[s],l=t[s],c=JC(i,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===ft.date&&n===ft.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ub extends ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(s,i)=>{if(U5(s)||U5(i))return Mt;const l=JC(s.value,i.value);return l.valid?((V5(s)||V5(i))&&r.dirty(),{status:r.value,value:l.data}):(st(n,{code:Ye.invalid_intersection_types}),Mt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,i])=>a(s,i)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ub.create=(e,t,r)=>new Ub({left:e,right:t,typeName:Ft.ZodIntersection,...Gt(r)});class _f extends ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ft.array)return st(n,{code:Ye.invalid_type,expected:ft.array,received:n.parsedType}),Mt;if(n.data.length<this._def.items.length)return st(n,{code:Ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Mt;!this._def.rest&&n.data.length>this._def.items.length&&(st(n,{code:Ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Iu(n,i,n.path,l)):null}).filter(i=>!!i);return n.common.async?Promise.all(s).then(i=>hi.mergeArray(r,i)):hi.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new _f({...this._def,rest:t})}}_f.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _f({items:e,typeName:Ft.ZodTuple,rest:null,...Gt(t)})};class J5 extends ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ft.map)return st(n,{code:Ye.invalid_type,expected:ft.map,received:n.parsedType}),Mt;const a=this._def.keyType,s=this._def.valueType,i=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Iu(n,l,n.path,[u,"key"])),value:s._parse(new Iu(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Mt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of i){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Mt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}J5.create=(e,t,r)=>new J5({valueType:t,keyType:e,typeName:Ft.ZodMap,...Gt(r)});class Vv extends ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ft.set)return st(n,{code:Ye.invalid_type,expected:ft.set,received:n.parsedType}),Mt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(st(n,{code:Ye.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(st(n,{code:Ye.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Mt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new Iu(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(t,r){return new Vv({...this._def,minSize:{value:t,message:mt.toString(r)}})}max(t,r){return new Vv({...this._def,maxSize:{value:t,message:mt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Vv.create=(e,t)=>new Vv({valueType:e,minSize:null,maxSize:null,typeName:Ft.ZodSet,...Gt(t)});class Q5 extends ar{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Q5.create=(e,t)=>new Q5({getter:e,typeName:Ft.ZodLazy,...Gt(t)});class Z5 extends ar{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return st(r,{received:r.data,code:Ye.invalid_literal,expected:this._def.value}),Mt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Z5.create=(e,t)=>new Z5({value:e,typeName:Ft.ZodLiteral,...Gt(t)});function CJ(e,t){return new dp({values:e,typeName:Ft.ZodEnum,...Gt(t)})}class dp extends ar{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return st(r,{expected:sr.joinValues(n),received:r.parsedType,code:Ye.invalid_type}),Mt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return st(r,{received:r.data,code:Ye.invalid_enum_value,options:n}),Mt}return qi(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return dp.create(t,{...this._def,...r})}exclude(t,r=this._def){return dp.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}dp.create=CJ;class e8 extends ar{_parse(t){const r=sr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ft.string&&n.parsedType!==ft.number){const a=sr.objectValues(r);return st(n,{expected:sr.joinValues(a),received:n.parsedType,code:Ye.invalid_type}),Mt}if(this._cache||(this._cache=new Set(sr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=sr.objectValues(r);return st(n,{received:n.data,code:Ye.invalid_enum_value,options:a}),Mt}return qi(t.data)}get enum(){return this._def.values}}e8.create=(e,t)=>new e8({values:e,typeName:Ft.ZodNativeEnum,...Gt(t)});class Vb extends ar{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ft.promise&&r.common.async===!1)return st(r,{code:Ye.invalid_type,expected:ft.promise,received:r.parsedType}),Mt;const n=r.parsedType===ft.promise?r.data:Promise.resolve(r.data);return qi(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Vb.create=(e,t)=>new Vb({type:e,typeName:Ft.ZodPromise,...Gt(t)});class fp extends ar{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ft.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,s={addIssue:i=>{st(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const i=a.transform(n.data,s);if(n.common.async)return Promise.resolve(i).then(async l=>{if(r.value==="aborted")return Mt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Mt:c.status==="dirty"||r.value==="dirty"?B0(c.value):c});{if(r.value==="aborted")return Mt;const l=this._def.schema._parseSync({data:i,path:n.path,parent:n});return l.status==="aborted"?Mt:l.status==="dirty"||r.value==="dirty"?B0(l.value):l}}if(a.type==="refinement"){const i=l=>{const c=a.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Mt:(l.status==="dirty"&&r.dirty(),i(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Mt:(l.status==="dirty"&&r.dirty(),i(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!cp(i))return Mt;const l=a.transform(i.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>cp(i)?Promise.resolve(a.transform(i.value,s)).then(l=>({status:r.value,value:l})):Mt);sr.assertNever(a)}}fp.create=(e,t,r)=>new fp({schema:e,typeName:Ft.ZodEffects,effect:t,...Gt(r)});fp.createWithPreprocess=(e,t,r)=>new fp({schema:t,effect:{type:"preprocess",transform:e},typeName:Ft.ZodEffects,...Gt(r)});class ku extends ar{_parse(t){return this._getType(t)===ft.undefined?qi(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ku.create=(e,t)=>new ku({innerType:e,typeName:Ft.ZodOptional,...Gt(t)});class hp extends ar{_parse(t){return this._getType(t)===ft.null?qi(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}hp.create=(e,t)=>new hp({innerType:e,typeName:Ft.ZodNullable,...Gt(t)});class QC extends ar{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ft.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}QC.create=(e,t)=>new QC({innerType:e,typeName:Ft.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Gt(t)});class ZC extends ar{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Lb(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new mc(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new mc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ZC.create=(e,t)=>new ZC({innerType:e,typeName:Ft.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Gt(t)});class t8 extends ar{_parse(t){if(this._getType(t)!==ft.nan){const n=this._getOrReturnCtx(t);return st(n,{code:Ye.invalid_type,expected:ft.nan,received:n.parsedType}),Mt}return{status:"valid",value:t.data}}}t8.create=e=>new t8({typeName:Ft.ZodNaN,...Gt(e)});class JKe extends ar{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class _4 extends ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Mt:s.status==="dirty"?(r.dirty(),B0(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Mt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new _4({in:t,out:r,typeName:Ft.ZodPipeline})}}class eT extends ar{_parse(t){const r=this._def.innerType._parse(t),n=a=>(cp(a)&&(a.value=Object.freeze(a.value)),a);return Lb(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}eT.create=(e,t)=>new eT({innerType:e,typeName:Ft.ZodReadonly,...Gt(t)});Qr.lazycreate;var Ft;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ft||(Ft={}));const ew=uu.create,QKe=up.create;Mu.create;cl.create;const ZKe=Qr.create;Qr.strictCreate;Bb.create;Ub.create;_f.create;dp.create;Vb.create;ku.create;hp.create;const eYe=nKe,TJ=x.createContext({}),N0=({...e})=>o.jsx(TJ.Provider,{value:{name:e.name},children:o.jsx(oKe,{...e})}),ej=()=>{const e=x.useContext(TJ),t=x.useContext(AJ),{getFieldState:r,formState:n}=ZS(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...a}},AJ=x.createContext({}),hh=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return o.jsx(AJ.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:je("space-y-2",e),...t})})});hh.displayName="FormItem";const mh=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=ej();return o.jsx(Ge,{ref:r,className:je(n&&"text-destructive",e),htmlFor:a,...t})});mh.displayName="FormLabel";const ph=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:s}=ej();return o.jsx(d9,{ref:t,id:n,"aria-describedby":r?`${a} ${s}`:`${a}`,"aria-invalid":!!r,...e})});ph.displayName="FormControl";const tYe=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=ej();return o.jsx("p",{ref:r,id:n,className:je("text-sm text-muted-foreground",e),...t})});tYe.displayName="FormDescription";const gh=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:s}=ej(),i=a?String(a==null?void 0:a.message):t;return i?o.jsx("p",{ref:n,id:s,className:je("text-sm font-medium text-destructive",e),...r,children:i}):null});gh.displayName="FormMessage";const rYe=ZKe({request_title:ew().min(1,"Title is required"),request_description:ew().optional(),request_type:ew().optional(),priority:QKe().optional(),status:ew().optional()});function nYe({open:e,onOpenChange:t,onSubmit:r,initialData:n}){const{t:a}=qt(),{user:s}=vr(),i=(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.role)==="manager",l=bKe({resolver:kKe(rYe),defaultValues:{request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"}});x.useEffect(()=>{n?l.reset({request_title:n.request_title,request_description:n.request_description||"",request_type:n.request_type||"internal_task",priority:n.priority||1,status:n.status||"pending"}):l.reset({request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"})},[n,l,e]);const c=async u=>{await r(u),t(!1),l.reset()};return o.jsx(oc,{open:e,onOpenChange:t,children:o.jsxs(dl,{className:"sm:max-w-md overflow-y-auto",children:[o.jsx(Ou,{children:o.jsx(lc,{children:a(n?"requests.editRequest":"requests.createRequest")})}),o.jsx("div",{className:"py-4",children:o.jsx(eYe,{...l,children:o.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[o.jsx(N0,{control:l.control,name:"request_title",render:({field:u})=>o.jsxs(hh,{children:[o.jsx(mh,{children:a("requests.title")}),o.jsx(ph,{children:o.jsx(qe,{placeholder:a("requests.titlePlaceholder"),...u})}),o.jsx(gh,{})]})}),o.jsx(N0,{control:l.control,name:"request_description",render:({field:u})=>o.jsxs(hh,{children:[o.jsx(mh,{children:a("requests.description")}),o.jsx(ph,{children:o.jsx(sa,{placeholder:a("requests.descriptionPlaceholder"),className:"resize-none min-h-[100px]",...u})}),o.jsx(gh,{})]})}),i&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(N0,{control:l.control,name:"request_type",render:({field:u})=>o.jsxs(hh,{children:[o.jsx(mh,{children:a("requests.type")}),o.jsxs(wt,{onValueChange:u.onChange,defaultValue:u.value,value:u.value,children:[o.jsx(ph,{children:o.jsx(vt,{children:o.jsx(bt,{placeholder:"Select type"})})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"internal_task",children:a("requests.types.internalTask")}),o.jsx(Ce,{value:"support",children:a("requests.types.support")}),o.jsx(Ce,{value:"feature",children:a("requests.types.feature")})]})]}),o.jsx(gh,{})]})}),o.jsx(N0,{control:l.control,name:"priority",render:({field:u})=>{var d,f;return o.jsxs(hh,{children:[o.jsx(mh,{children:a("requests.priority")}),o.jsxs(wt,{onValueChange:h=>u.onChange(parseInt(h)),defaultValue:(d=u.value)==null?void 0:d.toString(),value:(f=u.value)==null?void 0:f.toString(),children:[o.jsx(ph,{children:o.jsx(vt,{children:o.jsx(bt,{placeholder:"Select priority"})})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"0",children:a("requests.priorities.low")}),o.jsx(Ce,{value:"1",children:a("requests.priorities.medium")}),o.jsx(Ce,{value:"2",children:a("requests.priorities.high")})]})]}),o.jsx(gh,{})]})}})]}),o.jsx(N0,{control:l.control,name:"status",render:({field:u})=>o.jsxs(hh,{children:[o.jsx(mh,{children:a("requests.status")}),o.jsxs(wt,{onValueChange:u.onChange,defaultValue:u.value,value:u.value,children:[o.jsx(ph,{children:o.jsx(vt,{children:o.jsx(bt,{placeholder:"Select status"})})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"pending",children:a("status.pending")}),o.jsx(Ce,{value:"in_progress",children:a("status.in_progress")}),o.jsx(Ce,{value:"completed",children:a("status.completed")}),o.jsx(Ce,{value:"approved",children:a("status.approved")}),o.jsx(Ce,{value:"rejected",children:a("status.rejected")})]})]}),o.jsx(gh,{})]})})]}),o.jsx("div",{className:"flex justify-end pt-4 gap-2",children:o.jsx(oe,{type:"submit",children:a(n?"common.save":"common.create")})})]})})})]})})}function aYe(){const{t:e}=qt(),{toast:t}=Tf(),{user:r}=vr(),[n,a]=x.useState([]),[s,i]=x.useState(!0),[l,c]=x.useState(""),[u,d]=x.useState(!1),[f,h]=x.useState(null),[p,g]=x.useState(null),[m,v]=x.useState("all"),[y,w]=x.useState("all"),b=async()=>{try{i(!0);const T=await Zy.getRequests();a(T)}catch(T){console.error("Failed to fetch requests:",T),t({title:e("common.error"),description:"Failed to load requests",variant:"destructive"})}finally{i(!1)}};x.useEffect(()=>{b()},[]);const _=()=>{h(null),d(!0)},S=T=>{h(T),d(!0)},k=async()=>{if(p)try{await Zy.deleteRequest(p),t({title:e("common.success"),description:e("requests.deleteSuccess")}),b()}catch(T){console.error("Failed to delete request:",T),t({title:e("common.error"),description:"Failed to delete request",variant:"destructive"})}finally{g(null)}},j=async T=>{try{if(!(r!=null&&r.id)){t({title:"Error",description:"You must be logged in to perform this action",variant:"destructive"});return}f?(await Zy.updateRequest(f.request_id,T),t({title:e("common.success"),description:e("requests.updateSuccess")})):(await Zy.createRequest({...T,requested_by_auth:r.id,related_entity_id:null,related_entity_type:null,metadata:{},assigned_to:null}),t({title:e("common.success"),description:e("requests.createSuccess")})),b()}catch(L){console.error("Failed to save request:",L),t({title:e("common.error"),description:"Failed to save request",variant:"destructive"})}},E=n.filter(T=>{var M;const L=T.request_title.toLowerCase().includes(l.toLowerCase()),H=m==="all"||T.status===m,z=y==="all"||((M=T.priority)==null?void 0:M.toString())===y;return L&&H&&z}),N=T=>{switch(T){case"completed":case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"pending":default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"}},O=T=>{switch(T){case 2:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case 1:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case 0:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},P=T=>{switch(T){case 2:return e("requests.priorities.high");case 1:return e("requests.priorities.medium");case 0:return e("requests.priorities.low");default:return e("requests.priorities.medium")}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e("requests.title")}),o.jsx("p",{className:"text-muted-foreground",children:e("requests.subtitle")})]}),o.jsxs(oe,{onClick:_,children:[o.jsx(ur,{className:"mr-2 h-4 w-4"}),e("requests.createRequest")]})]}),o.jsxs(nt,{children:[o.jsx(Ut,{className:"pb-3",children:o.jsxs("div",{className:"flex flex-col sm:flex-row w-full items-center gap-2",children:[o.jsxs("div",{className:"relative flex-1 w-full",children:[o.jsx(vi,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(qe,{placeholder:e("requests.searchPlaceholder"),className:"pl-8",value:l,onChange:T=>c(T.target.value)})]}),o.jsxs(wt,{value:y,onValueChange:w,children:[o.jsx(vt,{className:"w-full sm:w-[180px]",children:o.jsx(bt,{placeholder:e("requests.priority")})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"all",children:e("common.all")}),o.jsx(Ce,{value:"0",children:e("requests.priorities.low")}),o.jsx(Ce,{value:"1",children:e("requests.priorities.medium")}),o.jsx(Ce,{value:"2",children:e("requests.priorities.high")})]})]}),o.jsxs(wt,{value:m,onValueChange:v,children:[o.jsx(vt,{className:"w-full sm:w-[180px]",children:o.jsx(bt,{placeholder:e("requests.status")})}),o.jsxs(xt,{children:[o.jsx(Ce,{value:"all",children:e("common.all")}),o.jsx(Ce,{value:"pending",children:e("status.pending")}),o.jsx(Ce,{value:"approved",children:e("status.approved")}),o.jsx(Ce,{value:"rejected",children:e("status.rejected")}),o.jsx(Ce,{value:"in_progress",children:e("status.in_progress")}),o.jsx(Ce,{value:"completed",children:e("status.completed")})]})]})]})}),o.jsx(ct,{children:o.jsx("div",{className:"rounded-md border",children:o.jsxs(z_,{children:[o.jsx(W_,{children:o.jsxs(Vl,{children:[o.jsx(ea,{children:e("requests.requestTitle")}),o.jsx(ea,{children:e("requests.type")}),o.jsx(ea,{children:e("requests.priority")}),o.jsx(ea,{children:e("requests.status")}),o.jsx(ea,{children:e("requests.createdDate")}),o.jsx(ea,{className:"text-right",children:e("common.actions")})]})}),o.jsx(H_,{children:s?o.jsx(Vl,{children:o.jsx(Dn,{colSpan:6,className:"h-24 text-center",children:e("common.loading")})}):E.length===0?o.jsx(Vl,{children:o.jsx(Dn,{colSpan:6,className:"h-24 text-center",children:e("common.noResults")})}):E.map(T=>{var L;return o.jsxs(Vl,{children:[o.jsx(Dn,{className:"font-medium",children:T.request_title}),o.jsx(Dn,{className:"capitalize",children:((L=T.request_type)==null?void 0:L.replace("_"," "))||"-"}),o.jsx(Dn,{children:o.jsx(dt,{variant:"outline",className:O(T.priority),children:P(T.priority)})}),o.jsx(Dn,{children:o.jsx(dt,{variant:"secondary",className:`capitalize ${N(T.status)}`,children:T.status?e(`status.${T.status}`):e("status.pending")})}),o.jsx(Dn,{children:T.created_at?new Date(T.created_at).toLocaleDateString():"-"}),o.jsx(Dn,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>S(T),children:o.jsx(IN,{className:"h-4 w-4"})}),o.jsx(oe,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>g(T.request_id),children:o.jsx(Sr,{className:"h-4 w-4"})})]})})]},T.request_id)})})]})})})]}),o.jsx(nYe,{open:u,onOpenChange:d,onSubmit:j,initialData:f}),o.jsx(di,{open:!!p,onOpenChange:T=>!T&&g(null),children:o.jsxs(As,{children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:e("common.confirmDelete")}),o.jsx(Rs,{children:e("requests.deleteConfirmation")})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:e("common.cancel")}),o.jsx(Is,{className:"bg-red-500 hover:bg-red-600",onClick:k,children:e("common.delete")})]})]})})]})}const sYe=()=>o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Unauthorized Access"}),o.jsx("p",{className:"mb-4",children:"You don't have permission to view this page."}),o.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Go Back"})]})});console.log(" SUPABASE URL (runtime):","https://studio.middar.com/");const iYe=()=>{const{user:e}=vr();return(e==null?void 0:e.role)==="client"?o.jsx(Pxe,{}):o.jsx(Jge,{})},r8=({children:e})=>o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-900 dark:to-slate-800",children:e});function oYe(){return o.jsx($ne,{children:o.jsx(u9,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:o.jsx(gie,{children:o.jsx(mie,{children:o.jsx(vie,{children:o.jsx(lYe,{})})})})})})}function lYe(){const{isRTL:e}=gi(),t=vc(),{t:r}=qt();return x.useEffect(()=>{document.documentElement.dir=e?"rtl":"ltr"},[e]),x.useEffect(()=>{const n=t.pathname.split("/").filter(c=>c),a="Middar CRM";if(n.length===0){document.title=a;return}const s=n[n.length-1],i={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee"};let l="";if(i[s])l=r(i[s]);else if(/^\d+$/.test(s)||s.length>20)if(n.length>1){const c=n[n.length-2];i[c]?l=`${r(i[c])} - ${s}`:l=s}else l=s;else l=s.split("-").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ");document.title=`${l} | ${a}`},[t,r]),o.jsxs(Pne,{children:[o.jsx(Er,{path:"/login",element:o.jsx(r8,{children:o.jsx(Koe,{})})}),o.jsx(Er,{path:"/signup",element:o.jsx(r8,{children:o.jsx(Yoe,{})})}),o.jsx(Er,{path:"/unauthorized",element:o.jsx(sYe,{})}),o.jsx(Er,{path:"/auth/callback",element:o.jsx(Ixe,{})}),o.jsx(Er,{path:"/",element:o.jsx(Rxe,{})}),o.jsx(Er,{path:"/dashboard",element:o.jsx(kn,{allowedRoles:["admin","manager"],children:o.jsx(En,{children:o.jsx(nhe,{})})})}),o.jsx(Er,{path:"/employee_dashboard",element:o.jsx(kn,{allowedRoles:["employee","team_leader"],children:o.jsx(En,{children:o.jsx(che,{})})})}),o.jsx(Er,{path:"/leads",element:o.jsx(kn,{allowedRoles:["admin","manager","employee","team_leader"],children:o.jsx(En,{children:o.jsx(yge,{})})})}),o.jsx(Er,{path:"/projects",element:o.jsx(kn,{allowedRoles:["admin","manager","employee","team_leader"],children:o.jsx(En,{children:o.jsx(Nge,{})})})}),o.jsx(Er,{path:"/tasks",element:o.jsx(kn,{allowedRoles:["admin","manager","employee","team_leader"],children:o.jsx(En,{children:o.jsx(bge,{})})})}),o.jsx(Er,{path:"/tickets",element:o.jsx(kn,{allowedRoles:["admin","manager","employee","team_leader","client"],children:o.jsx(En,{children:o.jsx(jge,{})})})}),o.jsx(Er,{path:"/users",element:o.jsx(kn,{allowedRoles:["admin"],children:o.jsx(En,{children:o.jsx(Bge,{})})})}),o.jsx(Er,{path:"/settings",element:o.jsx(kn,{allowedRoles:["admin"],children:o.jsx(En,{children:o.jsx(V2e,{})})})}),o.jsx(Er,{path:"/teams",element:o.jsx(kn,{allowedRoles:["admin","manager","employee","team_leader"],children:o.jsx(En,{children:o.jsx(Uge,{})})})}),o.jsx(Er,{path:"/chats",element:o.jsx(kn,{allowedRoles:["admin","manager","employee","team_leader","client"],children:o.jsx(En,{children:o.jsx(iYe,{})})})}),o.jsx(Er,{path:"/all-chats",element:o.jsx(kn,{allowedRoles:["admin","manager","employee","team_leader"],children:o.jsx(En,{children:o.jsx(Oxe,{})})})}),o.jsx(Er,{path:"/requests",element:o.jsx(kn,{allowedRoles:["admin","manager","employee","team_leader"],children:o.jsx(En,{children:o.jsx(aYe,{})})})}),o.jsx(Er,{path:"/client-portal",element:o.jsx(kn,{allowedRoles:["client"],children:o.jsx(En,{children:o.jsx(Dxe,{})})})}),o.jsx(Er,{path:"/partner-dashboard",element:o.jsx(kn,{allowedRoles:["partner"],children:o.jsx(En,{children:o.jsx(Mxe,{})})})}),o.jsx(Er,{path:"/partner-employee-dashboard",element:o.jsx(kn,{allowedRoles:["partner_employee"],children:o.jsx(En,{children:o.jsx(Fxe,{})})})}),o.jsx(Er,{path:"/project/:id",element:o.jsx(kn,{allowedRoles:["admin","manager"],children:o.jsx(HW,{})})}),o.jsx(Er,{path:"/surveys",element:o.jsx(kn,{allowedRoles:["admin","manager","employee","team_leader"],children:o.jsx(En,{children:o.jsx(U2e,{})})})}),o.jsx(Er,{path:"/mleads",element:o.jsx(kn,{allowedRoles:["admin","manager","employee","team_leader"],children:o.jsx(En,{children:o.jsx(XGe,{})})})}),o.jsx(Er,{path:"/mprojects",element:o.jsx(kn,{allowedRoles:["admin","manager","employee","team_leader"],children:o.jsx(En,{children:o.jsx(eKe,{})})})}),o.jsx(Er,{path:"*",element:o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("h1",{children:"404 - Page Not Found"})})})]})}const cYe=new Fee({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3}}});NB(document.getElementById("root")).render(o.jsx(Hte,{i18n:Gr,children:o.jsx(Vee,{client:cYe,children:o.jsx(u9,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:o.jsx(oYe,{})})})}));
