var xD=e=>{throw TypeError(e)};var Cj=(e,r,n)=>r.has(e)||xD("Cannot "+n);var pe=(e,r,n)=>(Cj(e,r,"read from private field"),n?n.call(e):r.get(e)),Tt=(e,r,n)=>r.has(e)?xD("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,n),dt=(e,r,n,a)=>(Cj(e,r,"write to private field"),a?a.call(e,n):r.set(e,n),n),Zt=(e,r,n)=>(Cj(e,r,"access private method"),n);var ly=(e,r,n,a)=>({set _(s){dt(e,r,s,n)},get _(){return pe(e,r,a)}});function K8(e,r){for(var n=0;n<r.length;n++){const a=r[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function G8(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var n=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),n}var Y8={exports:{}},d_={},X8={exports:{}},Jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx=Symbol.for("react.element"),FQ=Symbol.for("react.portal"),LQ=Symbol.for("react.fragment"),$Q=Symbol.for("react.strict_mode"),BQ=Symbol.for("react.profiler"),UQ=Symbol.for("react.provider"),VQ=Symbol.for("react.context"),zQ=Symbol.for("react.forward_ref"),WQ=Symbol.for("react.suspense"),HQ=Symbol.for("react.memo"),qQ=Symbol.for("react.lazy"),yD=Symbol.iterator;function KQ(e){return e===null||typeof e!="object"?null:(e=yD&&e[yD]||e["@@iterator"],typeof e=="function"?e:null)}var J8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q8=Object.assign,Z8={};function Cp(e,r,n){this.props=e,this.context=r,this.refs=Z8,this.updater=n||J8}Cp.prototype.isReactComponent={};Cp.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};Cp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function e6(){}e6.prototype=Cp.prototype;function jT(e,r,n){this.props=e,this.context=r,this.refs=Z8,this.updater=n||J8}var kT=jT.prototype=new e6;kT.constructor=jT;Q8(kT,Cp.prototype);kT.isPureReactComponent=!0;var bD=Array.isArray,t6=Object.prototype.hasOwnProperty,NT={current:null},r6={key:!0,ref:!0,__self:!0,__source:!0};function n6(e,r,n){var a,s={},i=null,o=null;if(r!=null)for(a in r.ref!==void 0&&(o=r.ref),r.key!==void 0&&(i=""+r.key),r)t6.call(r,a)&&!r6.hasOwnProperty(a)&&(s[a]=r[a]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];s.children=u}if(e&&e.defaultProps)for(a in c=e.defaultProps,c)s[a]===void 0&&(s[a]=c[a]);return{$$typeof:cx,type:e,key:i,ref:o,props:s,_owner:NT.current}}function GQ(e,r){return{$$typeof:cx,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function CT(e){return typeof e=="object"&&e!==null&&e.$$typeof===cx}function YQ(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return r[n]})}var wD=/\/+/g;function Ej(e,r){return typeof e=="object"&&e!==null&&e.key!=null?YQ(""+e.key):r.toString(36)}function w1(e,r,n,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case cx:case FQ:o=!0}}if(o)return o=e,s=s(o),e=a===""?"."+Ej(o,0):a,bD(s)?(n="",e!=null&&(n=e.replace(wD,"$&/")+"/"),w1(s,r,n,"",function(d){return d})):s!=null&&(CT(s)&&(s=GQ(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(wD,"$&/")+"/")+e)),r.push(s)),1;if(o=0,a=a===""?".":a+":",bD(e))for(var c=0;c<e.length;c++){i=e[c];var u=a+Ej(i,c);o+=w1(i,r,n,u,s)}else if(u=KQ(e),typeof u=="function")for(e=u.call(e),c=0;!(i=e.next()).done;)i=i.value,u=a+Ej(i,c++),o+=w1(i,r,n,u,s);else if(i==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return o}function uy(e,r,n){if(e==null)return e;var a=[],s=0;return w1(e,a,"","",function(i){return r.call(n,i,s++)}),a}function XQ(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var ps={current:null},_1={transition:null},JQ={ReactCurrentDispatcher:ps,ReactCurrentBatchConfig:_1,ReactCurrentOwner:NT};function a6(){throw Error("act(...) is not supported in production builds of React.")}Jt.Children={map:uy,forEach:function(e,r,n){uy(e,function(){r.apply(this,arguments)},n)},count:function(e){var r=0;return uy(e,function(){r++}),r},toArray:function(e){return uy(e,function(r){return r})||[]},only:function(e){if(!CT(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Jt.Component=Cp;Jt.Fragment=LQ;Jt.Profiler=BQ;Jt.PureComponent=jT;Jt.StrictMode=$Q;Jt.Suspense=WQ;Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JQ;Jt.act=a6;Jt.cloneElement=function(e,r,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Q8({},e.props),s=e.key,i=e.ref,o=e._owner;if(r!=null){if(r.ref!==void 0&&(i=r.ref,o=NT.current),r.key!==void 0&&(s=""+r.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in r)t6.call(r,u)&&!r6.hasOwnProperty(u)&&(a[u]=r[u]===void 0&&c!==void 0?c[u]:r[u])}var u=arguments.length-2;if(u===1)a.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];a.children=c}return{$$typeof:cx,type:e.type,key:s,ref:i,props:a,_owner:o}};Jt.createContext=function(e){return e={$$typeof:VQ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:UQ,_context:e},e.Consumer=e};Jt.createElement=n6;Jt.createFactory=function(e){var r=n6.bind(null,e);return r.type=e,r};Jt.createRef=function(){return{current:null}};Jt.forwardRef=function(e){return{$$typeof:zQ,render:e}};Jt.isValidElement=CT;Jt.lazy=function(e){return{$$typeof:qQ,_payload:{_status:-1,_result:e},_init:XQ}};Jt.memo=function(e,r){return{$$typeof:HQ,type:e,compare:r===void 0?null:r}};Jt.startTransition=function(e){var r=_1.transition;_1.transition={};try{e()}finally{_1.transition=r}};Jt.unstable_act=a6;Jt.useCallback=function(e,r){return ps.current.useCallback(e,r)};Jt.useContext=function(e){return ps.current.useContext(e)};Jt.useDebugValue=function(){};Jt.useDeferredValue=function(e){return ps.current.useDeferredValue(e)};Jt.useEffect=function(e,r){return ps.current.useEffect(e,r)};Jt.useId=function(){return ps.current.useId()};Jt.useImperativeHandle=function(e,r,n){return ps.current.useImperativeHandle(e,r,n)};Jt.useInsertionEffect=function(e,r){return ps.current.useInsertionEffect(e,r)};Jt.useLayoutEffect=function(e,r){return ps.current.useLayoutEffect(e,r)};Jt.useMemo=function(e,r){return ps.current.useMemo(e,r)};Jt.useReducer=function(e,r,n){return ps.current.useReducer(e,r,n)};Jt.useRef=function(e){return ps.current.useRef(e)};Jt.useState=function(e){return ps.current.useState(e)};Jt.useSyncExternalStore=function(e,r,n){return ps.current.useSyncExternalStore(e,r,n)};Jt.useTransition=function(){return ps.current.useTransition()};Jt.version="18.3.1";X8.exports=Jt;var y=X8.exports;const ne=vr(y),ET=K8({__proto__:null,default:ne},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QQ=y,ZQ=Symbol.for("react.element"),eZ=Symbol.for("react.fragment"),tZ=Object.prototype.hasOwnProperty,rZ=QQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nZ={key:!0,ref:!0,__self:!0,__source:!0};function s6(e,r,n){var a,s={},i=null,o=null;n!==void 0&&(i=""+n),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(o=r.ref);for(a in r)tZ.call(r,a)&&!nZ.hasOwnProperty(a)&&(s[a]=r[a]);if(e&&e.defaultProps)for(a in r=e.defaultProps,r)s[a]===void 0&&(s[a]=r[a]);return{$$typeof:ZQ,type:e,key:i,ref:o,props:s,_owner:rZ.current}}d_.Fragment=eZ;d_.jsx=s6;d_.jsxs=s6;Y8.exports=d_;var l=Y8.exports,i6={exports:{}},yi={},o6={exports:{}},l6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(F,M){var X=F.length;F.push(M);e:for(;0<X;){var ee=X-1>>>1,P=F[ee];if(0<s(P,M))F[ee]=M,F[X]=P,X=ee;else break e}}function n(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var M=F[0],X=F.pop();if(X!==M){F[0]=X;e:for(var ee=0,P=F.length,J=P>>>1;ee<J;){var V=2*(ee+1)-1,K=F[V],ie=V+1,oe=F[ie];if(0>s(K,X))ie<P&&0>s(oe,K)?(F[ee]=oe,F[ie]=X,ee=ie):(F[ee]=K,F[V]=X,ee=V);else if(ie<P&&0>s(oe,X))F[ee]=oe,F[ie]=X,ee=ie;else break e}}return M}function s(F,M){var X=F.sortIndex-M.sortIndex;return X!==0?X:F.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],d=[],f=1,h=null,m=3,p=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(F){for(var M=n(d);M!==null;){if(M.callback===null)a(d);else if(M.startTime<=F)a(d),M.sortIndex=M.expirationTime,r(u,M);else break;M=n(d)}}function S(F){if(v=!1,_(F),!g)if(n(u)!==null)g=!0,I(j);else{var M=n(d);M!==null&&z(S,M.startTime-F)}}function j(F,M){g=!1,v&&(v=!1,w(E),E=-1),p=!0;var X=m;try{for(_(M),h=n(u);h!==null&&(!(h.expirationTime>M)||F&&!D());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,m=h.priorityLevel;var P=ee(h.expirationTime<=M);M=e.unstable_now(),typeof P=="function"?h.callback=P:h===n(u)&&a(u),_(M)}else a(u);h=n(u)}if(h!==null)var J=!0;else{var V=n(d);V!==null&&z(S,V.startTime-M),J=!1}return J}finally{h=null,m=X,p=!1}}var N=!1,k=null,E=-1,C=5,A=-1;function D(){return!(e.unstable_now()-A<C)}function T(){if(k!==null){var F=e.unstable_now();A=F;var M=!0;try{M=k(!0,F)}finally{M?W():(N=!1,k=null)}}else N=!1}var W;if(typeof b=="function")W=function(){b(T)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,L=q.port2;q.port1.onmessage=T,W=function(){L.postMessage(null)}}else W=function(){x(T,0)};function I(F){k=F,N||(N=!0,W())}function z(F,M){E=x(function(){F(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,I(j))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(F){switch(m){case 1:case 2:case 3:var M=3;break;default:M=m}var X=m;m=M;try{return F()}finally{m=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,M){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=m;m=F;try{return M()}finally{m=X}},e.unstable_scheduleCallback=function(F,M,X){var ee=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ee+X:ee):X=ee,F){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=X+P,F={id:f++,callback:M,priorityLevel:F,startTime:X,expirationTime:P,sortIndex:-1},X>ee?(F.sortIndex=X,r(d,F),n(u)===null&&F===n(d)&&(v?(w(E),E=-1):v=!0,z(S,X-ee))):(F.sortIndex=P,r(u,F),g||p||(g=!0,I(j))),F},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(F){var M=m;return function(){var X=m;m=M;try{return F.apply(this,arguments)}finally{m=X}}}})(l6);o6.exports=l6;var aZ=o6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sZ=y,pi=aZ;function Ke(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c6=new Set,Ig={};function If(e,r){Nm(e,r),Nm(e+"Capture",r)}function Nm(e,r){for(Ig[e]=r,e=0;e<r.length;e++)c6.add(r[e])}var hc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),AN=Object.prototype.hasOwnProperty,iZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_D={},SD={};function oZ(e){return AN.call(SD,e)?!0:AN.call(_D,e)?!1:iZ.test(e)?SD[e]=!0:(_D[e]=!0,!1)}function lZ(e,r,n,a){if(n!==null&&n.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cZ(e,r,n,a){if(r===null||typeof r>"u"||lZ(e,r,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function gs(e,r,n,a,s,i,o){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=r,this.sanitizeURL=i,this.removeEmptyString=o}var va={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){va[e]=new gs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];va[r]=new gs(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){va[e]=new gs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){va[e]=new gs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){va[e]=new gs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){va[e]=new gs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){va[e]=new gs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){va[e]=new gs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){va[e]=new gs(e,5,!1,e.toLowerCase(),null,!1,!1)});var TT=/[\-:]([a-z])/g;function AT(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(TT,AT);va[r]=new gs(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(TT,AT);va[r]=new gs(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(TT,AT);va[r]=new gs(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){va[e]=new gs(e,1,!1,e.toLowerCase(),null,!1,!1)});va.xlinkHref=new gs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){va[e]=new gs(e,1,!1,e.toLowerCase(),null,!0,!0)});function OT(e,r,n,a){var s=va.hasOwnProperty(r)?va[r]:null;(s!==null?s.type!==0:a||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(cZ(r,n,s,a)&&(n=null),a||s===null?oZ(r)&&(n===null?e.removeAttribute(r):e.setAttribute(r,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(r=s.attributeName,a=s.attributeNamespace,n===null?e.removeAttribute(r):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,a?e.setAttributeNS(a,r,n):e.setAttribute(r,n))))}var Tc=sZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dy=Symbol.for("react.element"),Th=Symbol.for("react.portal"),Ah=Symbol.for("react.fragment"),PT=Symbol.for("react.strict_mode"),ON=Symbol.for("react.profiler"),u6=Symbol.for("react.provider"),d6=Symbol.for("react.context"),DT=Symbol.for("react.forward_ref"),PN=Symbol.for("react.suspense"),DN=Symbol.for("react.suspense_list"),RT=Symbol.for("react.memo"),Kc=Symbol.for("react.lazy"),f6=Symbol.for("react.offscreen"),jD=Symbol.iterator;function d0(e){return e===null||typeof e!="object"?null:(e=jD&&e[jD]||e["@@iterator"],typeof e=="function"?e:null)}var nn=Object.assign,Tj;function $0(e){if(Tj===void 0)try{throw Error()}catch(n){var r=n.stack.trim().match(/\n( *(at )?)/);Tj=r&&r[1]||""}return`
`+Tj+e}var Aj=!1;function Oj(e,r){if(!e||Aj)return"";Aj=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(d){var a=d}Reflect.construct(e,[],r)}else{try{r.call()}catch(d){a=d}e.call(r.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=a.stack.split(`
`),o=s.length-1,c=i.length-1;1<=o&&0<=c&&s[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==i[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==i[c]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=c);break}}}finally{Aj=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$0(e):""}function uZ(e){switch(e.tag){case 5:return $0(e.type);case 16:return $0("Lazy");case 13:return $0("Suspense");case 19:return $0("SuspenseList");case 0:case 2:case 15:return e=Oj(e.type,!1),e;case 11:return e=Oj(e.type.render,!1),e;case 1:return e=Oj(e.type,!0),e;default:return""}}function RN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ah:return"Fragment";case Th:return"Portal";case ON:return"Profiler";case PT:return"StrictMode";case PN:return"Suspense";case DN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case d6:return(e.displayName||"Context")+".Consumer";case u6:return(e._context.displayName||"Context")+".Provider";case DT:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case RT:return r=e.displayName||null,r!==null?r:RN(e.type)||"Memo";case Kc:r=e._payload,e=e._init;try{return RN(e(r))}catch{}}return null}function dZ(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return RN(r);case 8:return r===PT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Mu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function h6(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function fZ(e){var r=h6(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),a=""+e[r];if(!e.hasOwnProperty(r)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return s.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,r,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function fy(e){e._valueTracker||(e._valueTracker=fZ(e))}function m6(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var n=r.getValue(),a="";return e&&(a=h6(e)?e.checked?"true":"false":e.value),e=a,e!==n?(r.setValue(e),!0):!1}function K1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function IN(e,r){var n=r.checked;return nn({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function kD(e,r){var n=r.defaultValue==null?"":r.defaultValue,a=r.checked!=null?r.checked:r.defaultChecked;n=Mu(r.value!=null?r.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function p6(e,r){r=r.checked,r!=null&&OT(e,"checked",r,!1)}function MN(e,r){p6(e,r);var n=Mu(r.value),a=r.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?FN(e,r.type,n):r.hasOwnProperty("defaultValue")&&FN(e,r.type,Mu(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function ND(e,r,n){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var a=r.type;if(!(a!=="submit"&&a!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,n||r===e.value||(e.value=r),e.defaultValue=r}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function FN(e,r,n){(r!=="number"||K1(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var B0=Array.isArray;function Gh(e,r,n,a){if(e=e.options,r){r={};for(var s=0;s<n.length;s++)r["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=r.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Mu(n),r=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}r!==null||e[s].disabled||(r=e[s])}r!==null&&(r.selected=!0)}}function LN(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(Ke(91));return nn({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function CD(e,r){var n=r.value;if(n==null){if(n=r.children,r=r.defaultValue,n!=null){if(r!=null)throw Error(Ke(92));if(B0(n)){if(1<n.length)throw Error(Ke(93));n=n[0]}r=n}r==null&&(r=""),n=r}e._wrapperState={initialValue:Mu(n)}}function g6(e,r){var n=Mu(r.value),a=Mu(r.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),r.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function ED(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function v6(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $N(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?v6(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hy,x6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,n,a,s){MSApp.execUnsafeLocalFunction(function(){return e(r,n,a,s)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(hy=hy||document.createElement("div"),hy.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=hy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function Mg(e,r){if(r){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=r;return}}e.textContent=r}var eg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hZ=["Webkit","ms","Moz","O"];Object.keys(eg).forEach(function(e){hZ.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),eg[r]=eg[e]})});function y6(e,r,n){return r==null||typeof r=="boolean"||r===""?"":n||typeof r!="number"||r===0||eg.hasOwnProperty(e)&&eg[e]?(""+r).trim():r+"px"}function b6(e,r){e=e.style;for(var n in r)if(r.hasOwnProperty(n)){var a=n.indexOf("--")===0,s=y6(n,r[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,s):e[n]=s}}var mZ=nn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function BN(e,r){if(r){if(mZ[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(Ke(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(Ke(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(Ke(61))}if(r.style!=null&&typeof r.style!="object")throw Error(Ke(62))}}function UN(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VN=null;function IT(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zN=null,Yh=null,Xh=null;function TD(e){if(e=fx(e)){if(typeof zN!="function")throw Error(Ke(280));var r=e.stateNode;r&&(r=g_(r),zN(e.stateNode,e.type,r))}}function w6(e){Yh?Xh?Xh.push(e):Xh=[e]:Yh=e}function _6(){if(Yh){var e=Yh,r=Xh;if(Xh=Yh=null,TD(e),r)for(e=0;e<r.length;e++)TD(r[e])}}function S6(e,r){return e(r)}function j6(){}var Pj=!1;function k6(e,r,n){if(Pj)return e(r,n);Pj=!0;try{return S6(e,r,n)}finally{Pj=!1,(Yh!==null||Xh!==null)&&(j6(),_6())}}function Fg(e,r){var n=e.stateNode;if(n===null)return null;var a=g_(n);if(a===null)return null;n=a[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ke(231,r,typeof n));return n}var WN=!1;if(hc)try{var f0={};Object.defineProperty(f0,"passive",{get:function(){WN=!0}}),window.addEventListener("test",f0,f0),window.removeEventListener("test",f0,f0)}catch{WN=!1}function pZ(e,r,n,a,s,i,o,c,u){var d=Array.prototype.slice.call(arguments,3);try{r.apply(n,d)}catch(f){this.onError(f)}}var tg=!1,G1=null,Y1=!1,HN=null,gZ={onError:function(e){tg=!0,G1=e}};function vZ(e,r,n,a,s,i,o,c,u){tg=!1,G1=null,pZ.apply(gZ,arguments)}function xZ(e,r,n,a,s,i,o,c,u){if(vZ.apply(this,arguments),tg){if(tg){var d=G1;tg=!1,G1=null}else throw Error(Ke(198));Y1||(Y1=!0,HN=d)}}function Mf(e){var r=e,n=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(n=r.return),e=r.return;while(e)}return r.tag===3?n:null}function N6(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function AD(e){if(Mf(e)!==e)throw Error(Ke(188))}function yZ(e){var r=e.alternate;if(!r){if(r=Mf(e),r===null)throw Error(Ke(188));return r!==e?null:e}for(var n=e,a=r;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return AD(s),e;if(i===a)return AD(s),r;i=i.sibling}throw Error(Ke(188))}if(n.return!==a.return)n=s,a=i;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,a=i;break}if(c===a){o=!0,a=s,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,a=s;break}if(c===a){o=!0,a=i,n=s;break}c=c.sibling}if(!o)throw Error(Ke(189))}}if(n.alternate!==a)throw Error(Ke(190))}if(n.tag!==3)throw Error(Ke(188));return n.stateNode.current===n?e:r}function C6(e){return e=yZ(e),e!==null?E6(e):null}function E6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=E6(e);if(r!==null)return r;e=e.sibling}return null}var T6=pi.unstable_scheduleCallback,OD=pi.unstable_cancelCallback,bZ=pi.unstable_shouldYield,wZ=pi.unstable_requestPaint,pn=pi.unstable_now,_Z=pi.unstable_getCurrentPriorityLevel,MT=pi.unstable_ImmediatePriority,A6=pi.unstable_UserBlockingPriority,X1=pi.unstable_NormalPriority,SZ=pi.unstable_LowPriority,O6=pi.unstable_IdlePriority,f_=null,hl=null;function jZ(e){if(hl&&typeof hl.onCommitFiberRoot=="function")try{hl.onCommitFiberRoot(f_,e,void 0,(e.current.flags&128)===128)}catch{}}var jo=Math.clz32?Math.clz32:CZ,kZ=Math.log,NZ=Math.LN2;function CZ(e){return e>>>=0,e===0?32:31-(kZ(e)/NZ|0)|0}var my=64,py=4194304;function U0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function J1(e,r){var n=e.pendingLanes;if(n===0)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var c=o&~s;c!==0?a=U0(c):(i&=o,i!==0&&(a=U0(i)))}else o=n&~s,o!==0?a=U0(o):i!==0&&(a=U0(i));if(a===0)return 0;if(r!==0&&r!==a&&!(r&s)&&(s=a&-a,i=r&-r,s>=i||s===16&&(i&4194240)!==0))return r;if(a&4&&(a|=n&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=a;0<r;)n=31-jo(r),s=1<<n,a|=e[n],r&=~s;return a}function EZ(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TZ(e,r){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-jo(i),c=1<<o,u=s[o];u===-1?(!(c&n)||c&a)&&(s[o]=EZ(c,r)):u<=r&&(e.expiredLanes|=c),i&=~c}}function qN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function P6(){var e=my;return my<<=1,!(my&4194240)&&(my=64),e}function Dj(e){for(var r=[],n=0;31>n;n++)r.push(e);return r}function ux(e,r,n){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-jo(r),e[r]=n}function AZ(e,r){var n=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-jo(n),i=1<<s;r[s]=0,a[s]=-1,e[s]=-1,n&=~i}}function FT(e,r){var n=e.entangledLanes|=r;for(e=e.entanglements;n;){var a=31-jo(n),s=1<<a;s&r|e[a]&r&&(e[a]|=r),n&=~s}}var Sr=0;function D6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var R6,LT,I6,M6,F6,KN=!1,gy=[],_u=null,Su=null,ju=null,Lg=new Map,$g=new Map,Zc=[],OZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PD(e,r){switch(e){case"focusin":case"focusout":_u=null;break;case"dragenter":case"dragleave":Su=null;break;case"mouseover":case"mouseout":ju=null;break;case"pointerover":case"pointerout":Lg.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$g.delete(r.pointerId)}}function h0(e,r,n,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:r,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},r!==null&&(r=fx(r),r!==null&&LT(r)),e):(e.eventSystemFlags|=a,r=e.targetContainers,s!==null&&r.indexOf(s)===-1&&r.push(s),e)}function PZ(e,r,n,a,s){switch(r){case"focusin":return _u=h0(_u,e,r,n,a,s),!0;case"dragenter":return Su=h0(Su,e,r,n,a,s),!0;case"mouseover":return ju=h0(ju,e,r,n,a,s),!0;case"pointerover":var i=s.pointerId;return Lg.set(i,h0(Lg.get(i)||null,e,r,n,a,s)),!0;case"gotpointercapture":return i=s.pointerId,$g.set(i,h0($g.get(i)||null,e,r,n,a,s)),!0}return!1}function L6(e){var r=Od(e.target);if(r!==null){var n=Mf(r);if(n!==null){if(r=n.tag,r===13){if(r=N6(n),r!==null){e.blockedOn=r,F6(e.priority,function(){I6(n)});return}}else if(r===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function S1(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var n=GN(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);VN=a,n.target.dispatchEvent(a),VN=null}else return r=fx(n),r!==null&&LT(r),e.blockedOn=n,!1;r.shift()}return!0}function DD(e,r,n){S1(e)&&n.delete(r)}function DZ(){KN=!1,_u!==null&&S1(_u)&&(_u=null),Su!==null&&S1(Su)&&(Su=null),ju!==null&&S1(ju)&&(ju=null),Lg.forEach(DD),$g.forEach(DD)}function m0(e,r){e.blockedOn===r&&(e.blockedOn=null,KN||(KN=!0,pi.unstable_scheduleCallback(pi.unstable_NormalPriority,DZ)))}function Bg(e){function r(s){return m0(s,e)}if(0<gy.length){m0(gy[0],e);for(var n=1;n<gy.length;n++){var a=gy[n];a.blockedOn===e&&(a.blockedOn=null)}}for(_u!==null&&m0(_u,e),Su!==null&&m0(Su,e),ju!==null&&m0(ju,e),Lg.forEach(r),$g.forEach(r),n=0;n<Zc.length;n++)a=Zc[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<Zc.length&&(n=Zc[0],n.blockedOn===null);)L6(n),n.blockedOn===null&&Zc.shift()}var Jh=Tc.ReactCurrentBatchConfig,Q1=!0;function RZ(e,r,n,a){var s=Sr,i=Jh.transition;Jh.transition=null;try{Sr=1,$T(e,r,n,a)}finally{Sr=s,Jh.transition=i}}function IZ(e,r,n,a){var s=Sr,i=Jh.transition;Jh.transition=null;try{Sr=4,$T(e,r,n,a)}finally{Sr=s,Jh.transition=i}}function $T(e,r,n,a){if(Q1){var s=GN(e,r,n,a);if(s===null)zj(e,r,a,Z1,n),PD(e,a);else if(PZ(s,e,r,n,a))a.stopPropagation();else if(PD(e,a),r&4&&-1<OZ.indexOf(e)){for(;s!==null;){var i=fx(s);if(i!==null&&R6(i),i=GN(e,r,n,a),i===null&&zj(e,r,a,Z1,n),i===s)break;s=i}s!==null&&a.stopPropagation()}else zj(e,r,a,null,n)}}var Z1=null;function GN(e,r,n,a){if(Z1=null,e=IT(a),e=Od(e),e!==null)if(r=Mf(e),r===null)e=null;else if(n=r.tag,n===13){if(e=N6(r),e!==null)return e;e=null}else if(n===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Z1=e,null}function $6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_Z()){case MT:return 1;case A6:return 4;case X1:case SZ:return 16;case O6:return 536870912;default:return 16}default:return 16}}var pu=null,BT=null,j1=null;function B6(){if(j1)return j1;var e,r=BT,n=r.length,a,s="value"in pu?pu.value:pu.textContent,i=s.length;for(e=0;e<n&&r[e]===s[e];e++);var o=n-e;for(a=1;a<=o&&r[n-a]===s[i-a];a++);return j1=s.slice(e,1<a?1-a:void 0)}function k1(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function vy(){return!0}function RD(){return!1}function bi(e){function r(n,a,s,i,o){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vy:RD,this.isPropagationStopped=RD,this}return nn(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vy)},persist:function(){},isPersistent:vy}),r}var Ep={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},UT=bi(Ep),dx=nn({},Ep,{view:0,detail:0}),MZ=bi(dx),Rj,Ij,p0,h_=nn({},dx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==p0&&(p0&&e.type==="mousemove"?(Rj=e.screenX-p0.screenX,Ij=e.screenY-p0.screenY):Ij=Rj=0,p0=e),Rj)},movementY:function(e){return"movementY"in e?e.movementY:Ij}}),ID=bi(h_),FZ=nn({},h_,{dataTransfer:0}),LZ=bi(FZ),$Z=nn({},dx,{relatedTarget:0}),Mj=bi($Z),BZ=nn({},Ep,{animationName:0,elapsedTime:0,pseudoElement:0}),UZ=bi(BZ),VZ=nn({},Ep,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zZ=bi(VZ),WZ=nn({},Ep,{data:0}),MD=bi(WZ),HZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GZ(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=KZ[e])?!!r[e]:!1}function VT(){return GZ}var YZ=nn({},dx,{key:function(e){if(e.key){var r=HZ[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=k1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VT,charCode:function(e){return e.type==="keypress"?k1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?k1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),XZ=bi(YZ),JZ=nn({},h_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FD=bi(JZ),QZ=nn({},dx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VT}),ZZ=bi(QZ),eee=nn({},Ep,{propertyName:0,elapsedTime:0,pseudoElement:0}),tee=bi(eee),ree=nn({},h_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nee=bi(ree),aee=[9,13,27,32],zT=hc&&"CompositionEvent"in window,rg=null;hc&&"documentMode"in document&&(rg=document.documentMode);var see=hc&&"TextEvent"in window&&!rg,U6=hc&&(!zT||rg&&8<rg&&11>=rg),LD=" ",$D=!1;function V6(e,r){switch(e){case"keyup":return aee.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oh=!1;function iee(e,r){switch(e){case"compositionend":return z6(r);case"keypress":return r.which!==32?null:($D=!0,LD);case"textInput":return e=r.data,e===LD&&$D?null:e;default:return null}}function oee(e,r){if(Oh)return e==="compositionend"||!zT&&V6(e,r)?(e=B6(),j1=BT=pu=null,Oh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return U6&&r.locale!=="ko"?null:r.data;default:return null}}var lee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BD(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!lee[e.type]:r==="textarea"}function W6(e,r,n,a){w6(a),r=eb(r,"onChange"),0<r.length&&(n=new UT("onChange","change",null,n,a),e.push({event:n,listeners:r}))}var ng=null,Ug=null;function cee(e){tB(e,0)}function m_(e){var r=Rh(e);if(m6(r))return e}function uee(e,r){if(e==="change")return r}var H6=!1;if(hc){var Fj;if(hc){var Lj="oninput"in document;if(!Lj){var UD=document.createElement("div");UD.setAttribute("oninput","return;"),Lj=typeof UD.oninput=="function"}Fj=Lj}else Fj=!1;H6=Fj&&(!document.documentMode||9<document.documentMode)}function VD(){ng&&(ng.detachEvent("onpropertychange",q6),Ug=ng=null)}function q6(e){if(e.propertyName==="value"&&m_(Ug)){var r=[];W6(r,Ug,e,IT(e)),k6(cee,r)}}function dee(e,r,n){e==="focusin"?(VD(),ng=r,Ug=n,ng.attachEvent("onpropertychange",q6)):e==="focusout"&&VD()}function fee(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return m_(Ug)}function hee(e,r){if(e==="click")return m_(r)}function mee(e,r){if(e==="input"||e==="change")return m_(r)}function pee(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Eo=typeof Object.is=="function"?Object.is:pee;function Vg(e,r){if(Eo(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var n=Object.keys(e),a=Object.keys(r);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!AN.call(r,s)||!Eo(e[s],r[s]))return!1}return!0}function zD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function WD(e,r){var n=zD(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=r&&a>=r)return{node:n,offset:r-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zD(n)}}function K6(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?K6(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function G6(){for(var e=window,r=K1();r instanceof e.HTMLIFrameElement;){try{var n=typeof r.contentWindow.location.href=="string"}catch{n=!1}if(n)e=r.contentWindow;else break;r=K1(e.document)}return r}function WT(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function gee(e){var r=G6(),n=e.focusedElem,a=e.selectionRange;if(r!==n&&n&&n.ownerDocument&&K6(n.ownerDocument.documentElement,n)){if(a!==null&&WT(n)){if(r=a.start,e=a.end,e===void 0&&(e=r),"selectionStart"in n)n.selectionStart=r,n.selectionEnd=Math.min(e,n.value.length);else if(e=(r=n.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(a.start,s);a=a.end===void 0?i:Math.min(a.end,s),!e.extend&&i>a&&(s=a,a=i,i=s),s=WD(n,i);var o=WD(n,a);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(r=r.createRange(),r.setStart(s.node,s.offset),e.removeAllRanges(),i>a?(e.addRange(r),e.extend(o.node,o.offset)):(r.setEnd(o.node,o.offset),e.addRange(r)))}}for(r=[],e=n;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<r.length;n++)e=r[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vee=hc&&"documentMode"in document&&11>=document.documentMode,Ph=null,YN=null,ag=null,XN=!1;function HD(e,r,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;XN||Ph==null||Ph!==K1(a)||(a=Ph,"selectionStart"in a&&WT(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ag&&Vg(ag,a)||(ag=a,a=eb(YN,"onSelect"),0<a.length&&(r=new UT("onSelect","select",null,r,n),e.push({event:r,listeners:a}),r.target=Ph)))}function xy(e,r){var n={};return n[e.toLowerCase()]=r.toLowerCase(),n["Webkit"+e]="webkit"+r,n["Moz"+e]="moz"+r,n}var Dh={animationend:xy("Animation","AnimationEnd"),animationiteration:xy("Animation","AnimationIteration"),animationstart:xy("Animation","AnimationStart"),transitionend:xy("Transition","TransitionEnd")},$j={},Y6={};hc&&(Y6=document.createElement("div").style,"AnimationEvent"in window||(delete Dh.animationend.animation,delete Dh.animationiteration.animation,delete Dh.animationstart.animation),"TransitionEvent"in window||delete Dh.transitionend.transition);function p_(e){if($j[e])return $j[e];if(!Dh[e])return e;var r=Dh[e],n;for(n in r)if(r.hasOwnProperty(n)&&n in Y6)return $j[e]=r[n];return e}var X6=p_("animationend"),J6=p_("animationiteration"),Q6=p_("animationstart"),Z6=p_("transitionend"),eB=new Map,qD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gu(e,r){eB.set(e,r),If(r,[e])}for(var Bj=0;Bj<qD.length;Bj++){var Uj=qD[Bj],xee=Uj.toLowerCase(),yee=Uj[0].toUpperCase()+Uj.slice(1);Gu(xee,"on"+yee)}Gu(X6,"onAnimationEnd");Gu(J6,"onAnimationIteration");Gu(Q6,"onAnimationStart");Gu("dblclick","onDoubleClick");Gu("focusin","onFocus");Gu("focusout","onBlur");Gu(Z6,"onTransitionEnd");Nm("onMouseEnter",["mouseout","mouseover"]);Nm("onMouseLeave",["mouseout","mouseover"]);Nm("onPointerEnter",["pointerout","pointerover"]);Nm("onPointerLeave",["pointerout","pointerover"]);If("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));If("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));If("onBeforeInput",["compositionend","keypress","textInput","paste"]);If("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));If("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));If("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var V0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bee=new Set("cancel close invalid load scroll toggle".split(" ").concat(V0));function KD(e,r,n){var a=e.type||"unknown-event";e.currentTarget=n,xZ(a,r,void 0,e),e.currentTarget=null}function tB(e,r){r=(r&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var i=void 0;if(r)for(var o=a.length-1;0<=o;o--){var c=a[o],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==i&&s.isPropagationStopped())break e;KD(s,c,d),i=u}else for(o=0;o<a.length;o++){if(c=a[o],u=c.instance,d=c.currentTarget,c=c.listener,u!==i&&s.isPropagationStopped())break e;KD(s,c,d),i=u}}}if(Y1)throw e=HN,Y1=!1,HN=null,e}function Ur(e,r){var n=r[t2];n===void 0&&(n=r[t2]=new Set);var a=e+"__bubble";n.has(a)||(rB(r,e,2,!1),n.add(a))}function Vj(e,r,n){var a=0;r&&(a|=4),rB(n,e,a,r)}var yy="_reactListening"+Math.random().toString(36).slice(2);function zg(e){if(!e[yy]){e[yy]=!0,c6.forEach(function(n){n!=="selectionchange"&&(bee.has(n)||Vj(n,!1,e),Vj(n,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[yy]||(r[yy]=!0,Vj("selectionchange",!1,r))}}function rB(e,r,n,a){switch($6(r)){case 1:var s=RZ;break;case 4:s=IZ;break;default:s=$T}n=s.bind(null,r,n,e),s=void 0,!WN||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(r,n,{capture:!0,passive:s}):e.addEventListener(r,n,!0):s!==void 0?e.addEventListener(r,n,{passive:s}):e.addEventListener(r,n,!1)}function zj(e,r,n,a,s){var i=a;if(!(r&1)&&!(r&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var c=a.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=a.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;c!==null;){if(o=Od(c),o===null)return;if(u=o.tag,u===5||u===6){a=i=o;continue e}c=c.parentNode}}a=a.return}k6(function(){var d=i,f=IT(n),h=[];e:{var m=eB.get(e);if(m!==void 0){var p=UT,g=e;switch(e){case"keypress":if(k1(n)===0)break e;case"keydown":case"keyup":p=XZ;break;case"focusin":g="focus",p=Mj;break;case"focusout":g="blur",p=Mj;break;case"beforeblur":case"afterblur":p=Mj;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ID;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=LZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ZZ;break;case X6:case J6:case Q6:p=UZ;break;case Z6:p=tee;break;case"scroll":p=MZ;break;case"wheel":p=nee;break;case"copy":case"cut":case"paste":p=zZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=FD}var v=(r&4)!==0,x=!v&&e==="scroll",w=v?m!==null?m+"Capture":null:m;v=[];for(var b=d,_;b!==null;){_=b;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,w!==null&&(S=Fg(b,w),S!=null&&v.push(Wg(b,S,_)))),x)break;b=b.return}0<v.length&&(m=new p(m,g,null,n,f),h.push({event:m,listeners:v}))}}if(!(r&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==VN&&(g=n.relatedTarget||n.fromElement)&&(Od(g)||g[mc]))break e;if((p||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=d,g=g?Od(g):null,g!==null&&(x=Mf(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(v=ID,S="onMouseLeave",w="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=FD,S="onPointerLeave",w="onPointerEnter",b="pointer"),x=p==null?m:Rh(p),_=g==null?m:Rh(g),m=new v(S,b+"leave",p,n,f),m.target=x,m.relatedTarget=_,S=null,Od(f)===d&&(v=new v(w,b+"enter",g,n,f),v.target=_,v.relatedTarget=x,S=v),x=S,p&&g)t:{for(v=p,w=g,b=0,_=v;_;_=Zf(_))b++;for(_=0,S=w;S;S=Zf(S))_++;for(;0<b-_;)v=Zf(v),b--;for(;0<_-b;)w=Zf(w),_--;for(;b--;){if(v===w||w!==null&&v===w.alternate)break t;v=Zf(v),w=Zf(w)}v=null}else v=null;p!==null&&GD(h,m,p,v,!1),g!==null&&x!==null&&GD(h,x,g,v,!0)}}e:{if(m=d?Rh(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var j=uee;else if(BD(m))if(H6)j=mee;else{j=fee;var N=dee}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=hee);if(j&&(j=j(e,d))){W6(h,j,n,f);break e}N&&N(e,m,d),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&FN(m,"number",m.value)}switch(N=d?Rh(d):window,e){case"focusin":(BD(N)||N.contentEditable==="true")&&(Ph=N,YN=d,ag=null);break;case"focusout":ag=YN=Ph=null;break;case"mousedown":XN=!0;break;case"contextmenu":case"mouseup":case"dragend":XN=!1,HD(h,n,f);break;case"selectionchange":if(vee)break;case"keydown":case"keyup":HD(h,n,f)}var k;if(zT)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Oh?V6(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(U6&&n.locale!=="ko"&&(Oh||E!=="onCompositionStart"?E==="onCompositionEnd"&&Oh&&(k=B6()):(pu=f,BT="value"in pu?pu.value:pu.textContent,Oh=!0)),N=eb(d,E),0<N.length&&(E=new MD(E,e,null,n,f),h.push({event:E,listeners:N}),k?E.data=k:(k=z6(n),k!==null&&(E.data=k)))),(k=see?iee(e,n):oee(e,n))&&(d=eb(d,"onBeforeInput"),0<d.length&&(f=new MD("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=k))}tB(h,r)})}function Wg(e,r,n){return{instance:e,listener:r,currentTarget:n}}function eb(e,r){for(var n=r+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fg(e,n),i!=null&&a.unshift(Wg(e,i,s)),i=Fg(e,r),i!=null&&a.push(Wg(e,i,s))),e=e.return}return a}function Zf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function GD(e,r,n,a,s){for(var i=r._reactName,o=[];n!==null&&n!==a;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===a)break;c.tag===5&&d!==null&&(c=d,s?(u=Fg(n,i),u!=null&&o.unshift(Wg(n,u,c))):s||(u=Fg(n,i),u!=null&&o.push(Wg(n,u,c)))),n=n.return}o.length!==0&&e.push({event:r,listeners:o})}var wee=/\r\n?/g,_ee=/\u0000|\uFFFD/g;function YD(e){return(typeof e=="string"?e:""+e).replace(wee,`
`).replace(_ee,"")}function by(e,r,n){if(r=YD(r),YD(e)!==r&&n)throw Error(Ke(425))}function tb(){}var JN=null,QN=null;function ZN(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var e2=typeof setTimeout=="function"?setTimeout:void 0,See=typeof clearTimeout=="function"?clearTimeout:void 0,XD=typeof Promise=="function"?Promise:void 0,jee=typeof queueMicrotask=="function"?queueMicrotask:typeof XD<"u"?function(e){return XD.resolve(null).then(e).catch(kee)}:e2;function kee(e){setTimeout(function(){throw e})}function Wj(e,r){var n=r,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(a===0){e.removeChild(s),Bg(r);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=s}while(n);Bg(r)}function ku(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function JD(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(r===0)return e;r--}else n==="/$"&&r++}e=e.previousSibling}return null}var Tp=Math.random().toString(36).slice(2),nl="__reactFiber$"+Tp,Hg="__reactProps$"+Tp,mc="__reactContainer$"+Tp,t2="__reactEvents$"+Tp,Nee="__reactListeners$"+Tp,Cee="__reactHandles$"+Tp;function Od(e){var r=e[nl];if(r)return r;for(var n=e.parentNode;n;){if(r=n[mc]||n[nl]){if(n=r.alternate,r.child!==null||n!==null&&n.child!==null)for(e=JD(e);e!==null;){if(n=e[nl])return n;e=JD(e)}return r}e=n,n=e.parentNode}return null}function fx(e){return e=e[nl]||e[mc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ke(33))}function g_(e){return e[Hg]||null}var r2=[],Ih=-1;function Yu(e){return{current:e}}function Wr(e){0>Ih||(e.current=r2[Ih],r2[Ih]=null,Ih--)}function Ir(e,r){Ih++,r2[Ih]=e.current,e.current=r}var Fu={},Ba=Yu(Fu),Cs=Yu(!1),cf=Fu;function Cm(e,r){var n=e.type.contextTypes;if(!n)return Fu;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===r)return a.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=r[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),s}function Es(e){return e=e.childContextTypes,e!=null}function rb(){Wr(Cs),Wr(Ba)}function QD(e,r,n){if(Ba.current!==Fu)throw Error(Ke(168));Ir(Ba,r),Ir(Cs,n)}function nB(e,r,n){var a=e.stateNode;if(r=r.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var s in a)if(!(s in r))throw Error(Ke(108,dZ(e)||"Unknown",s));return nn({},n,a)}function nb(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fu,cf=Ba.current,Ir(Ba,e),Ir(Cs,Cs.current),!0}function ZD(e,r,n){var a=e.stateNode;if(!a)throw Error(Ke(169));n?(e=nB(e,r,cf),a.__reactInternalMemoizedMergedChildContext=e,Wr(Cs),Wr(Ba),Ir(Ba,e)):Wr(Cs),Ir(Cs,n)}var Gl=null,v_=!1,Hj=!1;function aB(e){Gl===null?Gl=[e]:Gl.push(e)}function Eee(e){v_=!0,aB(e)}function Xu(){if(!Hj&&Gl!==null){Hj=!0;var e=0,r=Sr;try{var n=Gl;for(Sr=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}Gl=null,v_=!1}catch(s){throw Gl!==null&&(Gl=Gl.slice(e+1)),T6(MT,Xu),s}finally{Sr=r,Hj=!1}}return null}var Mh=[],Fh=0,ab=null,sb=0,Pi=[],Di=0,uf=null,Ql=1,Zl="";function pd(e,r){Mh[Fh++]=sb,Mh[Fh++]=ab,ab=e,sb=r}function sB(e,r,n){Pi[Di++]=Ql,Pi[Di++]=Zl,Pi[Di++]=uf,uf=e;var a=Ql;e=Zl;var s=32-jo(a)-1;a&=~(1<<s),n+=1;var i=32-jo(r)+s;if(30<i){var o=s-s%5;i=(a&(1<<o)-1).toString(32),a>>=o,s-=o,Ql=1<<32-jo(r)+s|n<<s|a,Zl=i+e}else Ql=1<<i|n<<s|a,Zl=e}function HT(e){e.return!==null&&(pd(e,1),sB(e,1,0))}function qT(e){for(;e===ab;)ab=Mh[--Fh],Mh[Fh]=null,sb=Mh[--Fh],Mh[Fh]=null;for(;e===uf;)uf=Pi[--Di],Pi[Di]=null,Zl=Pi[--Di],Pi[Di]=null,Ql=Pi[--Di],Pi[Di]=null}var di=null,ci=null,Kr=!1,vo=null;function iB(e,r){var n=Mi(5,null,null,0);n.elementType="DELETED",n.stateNode=r,n.return=e,r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)}function eR(e,r){switch(e.tag){case 5:var n=e.type;return r=r.nodeType!==1||n.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,di=e,ci=ku(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,di=e,ci=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(n=uf!==null?{id:Ql,overflow:Zl}:null,e.memoizedState={dehydrated:r,treeContext:n,retryLane:1073741824},n=Mi(18,null,null,0),n.stateNode=r,n.return=e,e.child=n,di=e,ci=null,!0):!1;default:return!1}}function n2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function a2(e){if(Kr){var r=ci;if(r){var n=r;if(!eR(e,r)){if(n2(e))throw Error(Ke(418));r=ku(n.nextSibling);var a=di;r&&eR(e,r)?iB(a,n):(e.flags=e.flags&-4097|2,Kr=!1,di=e)}}else{if(n2(e))throw Error(Ke(418));e.flags=e.flags&-4097|2,Kr=!1,di=e}}}function tR(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;di=e}function wy(e){if(e!==di)return!1;if(!Kr)return tR(e),Kr=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!ZN(e.type,e.memoizedProps)),r&&(r=ci)){if(n2(e))throw oB(),Error(Ke(418));for(;r;)iB(e,r),r=ku(r.nextSibling)}if(tR(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ke(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(r===0){ci=ku(e.nextSibling);break e}r--}else n!=="$"&&n!=="$!"&&n!=="$?"||r++}e=e.nextSibling}ci=null}}else ci=di?ku(e.stateNode.nextSibling):null;return!0}function oB(){for(var e=ci;e;)e=ku(e.nextSibling)}function Em(){ci=di=null,Kr=!1}function KT(e){vo===null?vo=[e]:vo.push(e)}var Tee=Tc.ReactCurrentBatchConfig;function g0(e,r,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ke(309));var a=n.stateNode}if(!a)throw Error(Ke(147,e));var s=a,i=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===i?r.ref:(r=function(o){var c=s.refs;o===null?delete c[i]:c[i]=o},r._stringRef=i,r)}if(typeof e!="string")throw Error(Ke(284));if(!n._owner)throw Error(Ke(290,e))}return e}function _y(e,r){throw e=Object.prototype.toString.call(r),Error(Ke(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function rR(e){var r=e._init;return r(e._payload)}function lB(e){function r(w,b){if(e){var _=w.deletions;_===null?(w.deletions=[b],w.flags|=16):_.push(b)}}function n(w,b){if(!e)return null;for(;b!==null;)r(w,b),b=b.sibling;return null}function a(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function s(w,b){return w=Tu(w,b),w.index=0,w.sibling=null,w}function i(w,b,_){return w.index=_,e?(_=w.alternate,_!==null?(_=_.index,_<b?(w.flags|=2,b):_):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function c(w,b,_,S){return b===null||b.tag!==6?(b=Qj(_,w.mode,S),b.return=w,b):(b=s(b,_),b.return=w,b)}function u(w,b,_,S){var j=_.type;return j===Ah?f(w,b,_.props.children,S,_.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Kc&&rR(j)===b.type)?(S=s(b,_.props),S.ref=g0(w,b,_),S.return=w,S):(S=P1(_.type,_.key,_.props,null,w.mode,S),S.ref=g0(w,b,_),S.return=w,S)}function d(w,b,_,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=Zj(_,w.mode,S),b.return=w,b):(b=s(b,_.children||[]),b.return=w,b)}function f(w,b,_,S,j){return b===null||b.tag!==7?(b=ef(_,w.mode,S,j),b.return=w,b):(b=s(b,_),b.return=w,b)}function h(w,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Qj(""+b,w.mode,_),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case dy:return _=P1(b.type,b.key,b.props,null,w.mode,_),_.ref=g0(w,null,b),_.return=w,_;case Th:return b=Zj(b,w.mode,_),b.return=w,b;case Kc:var S=b._init;return h(w,S(b._payload),_)}if(B0(b)||d0(b))return b=ef(b,w.mode,_,null),b.return=w,b;_y(w,b)}return null}function m(w,b,_,S){var j=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return j!==null?null:c(w,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case dy:return _.key===j?u(w,b,_,S):null;case Th:return _.key===j?d(w,b,_,S):null;case Kc:return j=_._init,m(w,b,j(_._payload),S)}if(B0(_)||d0(_))return j!==null?null:f(w,b,_,S,null);_y(w,_)}return null}function p(w,b,_,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(_)||null,c(b,w,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case dy:return w=w.get(S.key===null?_:S.key)||null,u(b,w,S,j);case Th:return w=w.get(S.key===null?_:S.key)||null,d(b,w,S,j);case Kc:var N=S._init;return p(w,b,_,N(S._payload),j)}if(B0(S)||d0(S))return w=w.get(_)||null,f(b,w,S,j,null);_y(b,S)}return null}function g(w,b,_,S){for(var j=null,N=null,k=b,E=b=0,C=null;k!==null&&E<_.length;E++){k.index>E?(C=k,k=null):C=k.sibling;var A=m(w,k,_[E],S);if(A===null){k===null&&(k=C);break}e&&k&&A.alternate===null&&r(w,k),b=i(A,b,E),N===null?j=A:N.sibling=A,N=A,k=C}if(E===_.length)return n(w,k),Kr&&pd(w,E),j;if(k===null){for(;E<_.length;E++)k=h(w,_[E],S),k!==null&&(b=i(k,b,E),N===null?j=k:N.sibling=k,N=k);return Kr&&pd(w,E),j}for(k=a(w,k);E<_.length;E++)C=p(k,w,E,_[E],S),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?E:C.key),b=i(C,b,E),N===null?j=C:N.sibling=C,N=C);return e&&k.forEach(function(D){return r(w,D)}),Kr&&pd(w,E),j}function v(w,b,_,S){var j=d0(_);if(typeof j!="function")throw Error(Ke(150));if(_=j.call(_),_==null)throw Error(Ke(151));for(var N=j=null,k=b,E=b=0,C=null,A=_.next();k!==null&&!A.done;E++,A=_.next()){k.index>E?(C=k,k=null):C=k.sibling;var D=m(w,k,A.value,S);if(D===null){k===null&&(k=C);break}e&&k&&D.alternate===null&&r(w,k),b=i(D,b,E),N===null?j=D:N.sibling=D,N=D,k=C}if(A.done)return n(w,k),Kr&&pd(w,E),j;if(k===null){for(;!A.done;E++,A=_.next())A=h(w,A.value,S),A!==null&&(b=i(A,b,E),N===null?j=A:N.sibling=A,N=A);return Kr&&pd(w,E),j}for(k=a(w,k);!A.done;E++,A=_.next())A=p(k,w,E,A.value,S),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?E:A.key),b=i(A,b,E),N===null?j=A:N.sibling=A,N=A);return e&&k.forEach(function(T){return r(w,T)}),Kr&&pd(w,E),j}function x(w,b,_,S){if(typeof _=="object"&&_!==null&&_.type===Ah&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case dy:e:{for(var j=_.key,N=b;N!==null;){if(N.key===j){if(j=_.type,j===Ah){if(N.tag===7){n(w,N.sibling),b=s(N,_.props.children),b.return=w,w=b;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Kc&&rR(j)===N.type){n(w,N.sibling),b=s(N,_.props),b.ref=g0(w,N,_),b.return=w,w=b;break e}n(w,N);break}else r(w,N);N=N.sibling}_.type===Ah?(b=ef(_.props.children,w.mode,S,_.key),b.return=w,w=b):(S=P1(_.type,_.key,_.props,null,w.mode,S),S.ref=g0(w,b,_),S.return=w,w=S)}return o(w);case Th:e:{for(N=_.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(w,b.sibling),b=s(b,_.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else r(w,b);b=b.sibling}b=Zj(_,w.mode,S),b.return=w,w=b}return o(w);case Kc:return N=_._init,x(w,b,N(_._payload),S)}if(B0(_))return g(w,b,_,S);if(d0(_))return v(w,b,_,S);_y(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(w,b.sibling),b=s(b,_),b.return=w,w=b):(n(w,b),b=Qj(_,w.mode,S),b.return=w,w=b),o(w)):n(w,b)}return x}var Tm=lB(!0),cB=lB(!1),ib=Yu(null),ob=null,Lh=null,GT=null;function YT(){GT=Lh=ob=null}function XT(e){var r=ib.current;Wr(ib),e._currentValue=r}function s2(e,r,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,a!==null&&(a.childLanes|=r)):a!==null&&(a.childLanes&r)!==r&&(a.childLanes|=r),e===n)break;e=e.return}}function Qh(e,r){ob=e,GT=Lh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(js=!0),e.firstContext=null)}function Bi(e){var r=e._currentValue;if(GT!==e)if(e={context:e,memoizedValue:r,next:null},Lh===null){if(ob===null)throw Error(Ke(308));Lh=e,ob.dependencies={lanes:0,firstContext:e}}else Lh=Lh.next=e;return r}var Pd=null;function JT(e){Pd===null?Pd=[e]:Pd.push(e)}function uB(e,r,n,a){var s=r.interleaved;return s===null?(n.next=n,JT(r)):(n.next=s.next,s.next=n),r.interleaved=n,pc(e,a)}function pc(e,r){e.lanes|=r;var n=e.alternate;for(n!==null&&(n.lanes|=r),n=e,e=e.return;e!==null;)e.childLanes|=r,n=e.alternate,n!==null&&(n.childLanes|=r),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gc=!1;function QT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dB(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sc(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Nu(e,r,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,or&2){var s=a.pending;return s===null?r.next=r:(r.next=s.next,s.next=r),a.pending=r,pc(e,n)}return s=a.interleaved,s===null?(r.next=r,JT(a)):(r.next=s.next,s.next=r),a.interleaved=r,pc(e,n)}function N1(e,r,n){if(r=r.updateQueue,r!==null&&(r=r.shared,(n&4194240)!==0)){var a=r.lanes;a&=e.pendingLanes,n|=a,r.lanes=n,FT(e,n)}}function nR(e,r){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=r:i=i.next=r}else s=i=r;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=r:e.next=r,n.lastBaseUpdate=r}function lb(e,r,n,a){var s=e.updateQueue;Gc=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==o&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,f=d=u=null,c=i;do{var m=c.lane,p=c.eventTime;if((a&m)===m){f!==null&&(f=f.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var g=e,v=c;switch(m=r,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(p,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,m=typeof g=="function"?g.call(p,h,m):g,m==null)break e;h=nn({},h,m);break e;case 2:Gc=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[c]:m.push(c))}else p={eventTime:p,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=p,u=h):f=f.next=p,o|=m;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;m=c,c=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(u=h),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=f,r=s.shared.interleaved,r!==null){s=r;do o|=s.lane,s=s.next;while(s!==r)}else i===null&&(s.shared.lanes=0);ff|=o,e.lanes=o,e.memoizedState=h}}function aR(e,r,n){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var a=e[r],s=a.callback;if(s!==null){if(a.callback=null,a=n,typeof s!="function")throw Error(Ke(191,s));s.call(a)}}}var hx={},ml=Yu(hx),qg=Yu(hx),Kg=Yu(hx);function Dd(e){if(e===hx)throw Error(Ke(174));return e}function ZT(e,r){switch(Ir(Kg,r),Ir(qg,e),Ir(ml,hx),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:$N(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=$N(r,e)}Wr(ml),Ir(ml,r)}function Am(){Wr(ml),Wr(qg),Wr(Kg)}function fB(e){Dd(Kg.current);var r=Dd(ml.current),n=$N(r,e.type);r!==n&&(Ir(qg,e),Ir(ml,n))}function eA(e){qg.current===e&&(Wr(ml),Wr(qg))}var Qr=Yu(0);function cb(e){for(var r=e;r!==null;){if(r.tag===13){var n=r.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var qj=[];function tA(){for(var e=0;e<qj.length;e++)qj[e]._workInProgressVersionPrimary=null;qj.length=0}var C1=Tc.ReactCurrentDispatcher,Kj=Tc.ReactCurrentBatchConfig,df=0,rn=null,Un=null,Qn=null,ub=!1,sg=!1,Gg=0,Aee=0;function ba(){throw Error(Ke(321))}function rA(e,r){if(r===null)return!1;for(var n=0;n<r.length&&n<e.length;n++)if(!Eo(e[n],r[n]))return!1;return!0}function nA(e,r,n,a,s,i){if(df=i,rn=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,C1.current=e===null||e.memoizedState===null?Ree:Iee,e=n(a,s),sg){i=0;do{if(sg=!1,Gg=0,25<=i)throw Error(Ke(301));i+=1,Qn=Un=null,r.updateQueue=null,C1.current=Mee,e=n(a,s)}while(sg)}if(C1.current=db,r=Un!==null&&Un.next!==null,df=0,Qn=Un=rn=null,ub=!1,r)throw Error(Ke(300));return e}function aA(){var e=Gg!==0;return Gg=0,e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?rn.memoizedState=Qn=e:Qn=Qn.next=e,Qn}function Ui(){if(Un===null){var e=rn.alternate;e=e!==null?e.memoizedState:null}else e=Un.next;var r=Qn===null?rn.memoizedState:Qn.next;if(r!==null)Qn=r,Un=e;else{if(e===null)throw Error(Ke(310));Un=e,e={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null},Qn===null?rn.memoizedState=Qn=e:Qn=Qn.next=e}return Qn}function Yg(e,r){return typeof r=="function"?r(e):r}function Gj(e){var r=Ui(),n=r.queue;if(n===null)throw Error(Ke(311));n.lastRenderedReducer=e;var a=Un,s=a.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}a.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,a=a.baseState;var c=o=null,u=null,d=i;do{var f=d.lane;if((df&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=h,o=a):u=u.next=h,rn.lanes|=f,ff|=f}d=d.next}while(d!==null&&d!==i);u===null?o=a:u.next=c,Eo(a,r.memoizedState)||(js=!0),r.memoizedState=a,r.baseState=o,r.baseQueue=u,n.lastRenderedState=a}if(e=n.interleaved,e!==null){s=e;do i=s.lane,rn.lanes|=i,ff|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[r.memoizedState,n.dispatch]}function Yj(e){var r=Ui(),n=r.queue;if(n===null)throw Error(Ke(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=r.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Eo(i,r.memoizedState)||(js=!0),r.memoizedState=i,r.baseQueue===null&&(r.baseState=i),n.lastRenderedState=i}return[i,a]}function hB(){}function mB(e,r){var n=rn,a=Ui(),s=r(),i=!Eo(a.memoizedState,s);if(i&&(a.memoizedState=s,js=!0),a=a.queue,sA(vB.bind(null,n,a,e),[e]),a.getSnapshot!==r||i||Qn!==null&&Qn.memoizedState.tag&1){if(n.flags|=2048,Xg(9,gB.bind(null,n,a,s,r),void 0,null),ta===null)throw Error(Ke(349));df&30||pB(n,r,s)}return s}function pB(e,r,n){e.flags|=16384,e={getSnapshot:r,value:n},r=rn.updateQueue,r===null?(r={lastEffect:null,stores:null},rn.updateQueue=r,r.stores=[e]):(n=r.stores,n===null?r.stores=[e]:n.push(e))}function gB(e,r,n,a){r.value=n,r.getSnapshot=a,xB(r)&&yB(e)}function vB(e,r,n){return n(function(){xB(r)&&yB(e)})}function xB(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!Eo(e,n)}catch{return!0}}function yB(e){var r=pc(e,1);r!==null&&ko(r,e,1,-1)}function sR(e){var r=Xo();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:e},r.queue=e,e=e.dispatch=Dee.bind(null,rn,e),[r.memoizedState,e]}function Xg(e,r,n,a){return e={tag:e,create:r,destroy:n,deps:a,next:null},r=rn.updateQueue,r===null?(r={lastEffect:null,stores:null},rn.updateQueue=r,r.lastEffect=e.next=e):(n=r.lastEffect,n===null?r.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,r.lastEffect=e)),e}function bB(){return Ui().memoizedState}function E1(e,r,n,a){var s=Xo();rn.flags|=e,s.memoizedState=Xg(1|r,n,void 0,a===void 0?null:a)}function x_(e,r,n,a){var s=Ui();a=a===void 0?null:a;var i=void 0;if(Un!==null){var o=Un.memoizedState;if(i=o.destroy,a!==null&&rA(a,o.deps)){s.memoizedState=Xg(r,n,i,a);return}}rn.flags|=e,s.memoizedState=Xg(1|r,n,i,a)}function iR(e,r){return E1(8390656,8,e,r)}function sA(e,r){return x_(2048,8,e,r)}function wB(e,r){return x_(4,2,e,r)}function _B(e,r){return x_(4,4,e,r)}function SB(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function jB(e,r,n){return n=n!=null?n.concat([e]):null,x_(4,4,SB.bind(null,r,e),n)}function iA(){}function kB(e,r){var n=Ui();r=r===void 0?null:r;var a=n.memoizedState;return a!==null&&r!==null&&rA(r,a[1])?a[0]:(n.memoizedState=[e,r],e)}function NB(e,r){var n=Ui();r=r===void 0?null:r;var a=n.memoizedState;return a!==null&&r!==null&&rA(r,a[1])?a[0]:(e=e(),n.memoizedState=[e,r],e)}function CB(e,r,n){return df&21?(Eo(n,r)||(n=P6(),rn.lanes|=n,ff|=n,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,js=!0),e.memoizedState=n)}function Oee(e,r){var n=Sr;Sr=n!==0&&4>n?n:4,e(!0);var a=Kj.transition;Kj.transition={};try{e(!1),r()}finally{Sr=n,Kj.transition=a}}function EB(){return Ui().memoizedState}function Pee(e,r,n){var a=Eu(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},TB(e))AB(r,n);else if(n=uB(e,r,n,a),n!==null){var s=ds();ko(n,e,a,s),OB(n,r,a)}}function Dee(e,r,n){var a=Eu(e),s={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(TB(e))AB(r,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=r.lastRenderedReducer,i!==null))try{var o=r.lastRenderedState,c=i(o,n);if(s.hasEagerState=!0,s.eagerState=c,Eo(c,o)){var u=r.interleaved;u===null?(s.next=s,JT(r)):(s.next=u.next,u.next=s),r.interleaved=s;return}}catch{}finally{}n=uB(e,r,s,a),n!==null&&(s=ds(),ko(n,e,a,s),OB(n,r,a))}}function TB(e){var r=e.alternate;return e===rn||r!==null&&r===rn}function AB(e,r){sg=ub=!0;var n=e.pending;n===null?r.next=r:(r.next=n.next,n.next=r),e.pending=r}function OB(e,r,n){if(n&4194240){var a=r.lanes;a&=e.pendingLanes,n|=a,r.lanes=n,FT(e,n)}}var db={readContext:Bi,useCallback:ba,useContext:ba,useEffect:ba,useImperativeHandle:ba,useInsertionEffect:ba,useLayoutEffect:ba,useMemo:ba,useReducer:ba,useRef:ba,useState:ba,useDebugValue:ba,useDeferredValue:ba,useTransition:ba,useMutableSource:ba,useSyncExternalStore:ba,useId:ba,unstable_isNewReconciler:!1},Ree={readContext:Bi,useCallback:function(e,r){return Xo().memoizedState=[e,r===void 0?null:r],e},useContext:Bi,useEffect:iR,useImperativeHandle:function(e,r,n){return n=n!=null?n.concat([e]):null,E1(4194308,4,SB.bind(null,r,e),n)},useLayoutEffect:function(e,r){return E1(4194308,4,e,r)},useInsertionEffect:function(e,r){return E1(4,2,e,r)},useMemo:function(e,r){var n=Xo();return r=r===void 0?null:r,e=e(),n.memoizedState=[e,r],e},useReducer:function(e,r,n){var a=Xo();return r=n!==void 0?n(r):r,a.memoizedState=a.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=Pee.bind(null,rn,e),[a.memoizedState,e]},useRef:function(e){var r=Xo();return e={current:e},r.memoizedState=e},useState:sR,useDebugValue:iA,useDeferredValue:function(e){return Xo().memoizedState=e},useTransition:function(){var e=sR(!1),r=e[0];return e=Oee.bind(null,e[1]),Xo().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,n){var a=rn,s=Xo();if(Kr){if(n===void 0)throw Error(Ke(407));n=n()}else{if(n=r(),ta===null)throw Error(Ke(349));df&30||pB(a,r,n)}s.memoizedState=n;var i={value:n,getSnapshot:r};return s.queue=i,iR(vB.bind(null,a,i,e),[e]),a.flags|=2048,Xg(9,gB.bind(null,a,i,n,r),void 0,null),n},useId:function(){var e=Xo(),r=ta.identifierPrefix;if(Kr){var n=Zl,a=Ql;n=(a&~(1<<32-jo(a)-1)).toString(32)+n,r=":"+r+"R"+n,n=Gg++,0<n&&(r+="H"+n.toString(32)),r+=":"}else n=Aee++,r=":"+r+"r"+n.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},Iee={readContext:Bi,useCallback:kB,useContext:Bi,useEffect:sA,useImperativeHandle:jB,useInsertionEffect:wB,useLayoutEffect:_B,useMemo:NB,useReducer:Gj,useRef:bB,useState:function(){return Gj(Yg)},useDebugValue:iA,useDeferredValue:function(e){var r=Ui();return CB(r,Un.memoizedState,e)},useTransition:function(){var e=Gj(Yg)[0],r=Ui().memoizedState;return[e,r]},useMutableSource:hB,useSyncExternalStore:mB,useId:EB,unstable_isNewReconciler:!1},Mee={readContext:Bi,useCallback:kB,useContext:Bi,useEffect:sA,useImperativeHandle:jB,useInsertionEffect:wB,useLayoutEffect:_B,useMemo:NB,useReducer:Yj,useRef:bB,useState:function(){return Yj(Yg)},useDebugValue:iA,useDeferredValue:function(e){var r=Ui();return Un===null?r.memoizedState=e:CB(r,Un.memoizedState,e)},useTransition:function(){var e=Yj(Yg)[0],r=Ui().memoizedState;return[e,r]},useMutableSource:hB,useSyncExternalStore:mB,useId:EB,unstable_isNewReconciler:!1};function io(e,r){if(e&&e.defaultProps){r=nn({},r),e=e.defaultProps;for(var n in e)r[n]===void 0&&(r[n]=e[n]);return r}return r}function i2(e,r,n,a){r=e.memoizedState,n=n(a,r),n=n==null?r:nn({},r,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var y_={isMounted:function(e){return(e=e._reactInternals)?Mf(e)===e:!1},enqueueSetState:function(e,r,n){e=e._reactInternals;var a=ds(),s=Eu(e),i=sc(a,s);i.payload=r,n!=null&&(i.callback=n),r=Nu(e,i,s),r!==null&&(ko(r,e,s,a),N1(r,e,s))},enqueueReplaceState:function(e,r,n){e=e._reactInternals;var a=ds(),s=Eu(e),i=sc(a,s);i.tag=1,i.payload=r,n!=null&&(i.callback=n),r=Nu(e,i,s),r!==null&&(ko(r,e,s,a),N1(r,e,s))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var n=ds(),a=Eu(e),s=sc(n,a);s.tag=2,r!=null&&(s.callback=r),r=Nu(e,s,a),r!==null&&(ko(r,e,a,n),N1(r,e,a))}};function oR(e,r,n,a,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):r.prototype&&r.prototype.isPureReactComponent?!Vg(n,a)||!Vg(s,i):!0}function PB(e,r,n){var a=!1,s=Fu,i=r.contextType;return typeof i=="object"&&i!==null?i=Bi(i):(s=Es(r)?cf:Ba.current,a=r.contextTypes,i=(a=a!=null)?Cm(e,s):Fu),r=new r(n,i),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=y_,e.stateNode=r,r._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),r}function lR(e,r,n,a){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(n,a),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(n,a),r.state!==e&&y_.enqueueReplaceState(r,r.state,null)}function o2(e,r,n,a){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},QT(e);var i=r.contextType;typeof i=="object"&&i!==null?s.context=Bi(i):(i=Es(r)?cf:Ba.current,s.context=Cm(e,i)),s.state=e.memoizedState,i=r.getDerivedStateFromProps,typeof i=="function"&&(i2(e,r,i,n),s.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&y_.enqueueReplaceState(s,s.state,null),lb(e,n,s,a),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Om(e,r){try{var n="",a=r;do n+=uZ(a),a=a.return;while(a);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:r,stack:s,digest:null}}function Xj(e,r,n){return{value:e,source:null,stack:n??null,digest:r??null}}function l2(e,r){try{console.error(r.value)}catch(n){setTimeout(function(){throw n})}}var Fee=typeof WeakMap=="function"?WeakMap:Map;function DB(e,r,n){n=sc(-1,n),n.tag=3,n.payload={element:null};var a=r.value;return n.callback=function(){hb||(hb=!0,x2=a),l2(e,r)},n}function RB(e,r,n){n=sc(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var s=r.value;n.payload=function(){return a(s)},n.callback=function(){l2(e,r)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){l2(e,r),typeof a!="function"&&(Cu===null?Cu=new Set([this]):Cu.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})}),n}function cR(e,r,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Fee;var s=new Set;a.set(r,s)}else s=a.get(r),s===void 0&&(s=new Set,a.set(r,s));s.has(n)||(s.add(n),e=Jee.bind(null,e,r,n),r.then(e,e))}function uR(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function dR(e,r,n,a,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===r?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(r=sc(-1,1),r.tag=2,Nu(n,r,1))),n.lanes|=1),e)}var Lee=Tc.ReactCurrentOwner,js=!1;function Za(e,r,n,a){r.child=e===null?cB(r,null,n,a):Tm(r,e.child,n,a)}function fR(e,r,n,a,s){n=n.render;var i=r.ref;return Qh(r,s),a=nA(e,r,n,a,i,s),n=aA(),e!==null&&!js?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s,gc(e,r,s)):(Kr&&n&&HT(r),r.flags|=1,Za(e,r,a,s),r.child)}function hR(e,r,n,a,s){if(e===null){var i=n.type;return typeof i=="function"&&!mA(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(r.tag=15,r.type=i,IB(e,r,i,a,s)):(e=P1(n.type,null,a,r,r.mode,s),e.ref=r.ref,e.return=r,r.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Vg,n(o,a)&&e.ref===r.ref)return gc(e,r,s)}return r.flags|=1,e=Tu(i,a),e.ref=r.ref,e.return=r,r.child=e}function IB(e,r,n,a,s){if(e!==null){var i=e.memoizedProps;if(Vg(i,a)&&e.ref===r.ref)if(js=!1,r.pendingProps=a=i,(e.lanes&s)!==0)e.flags&131072&&(js=!0);else return r.lanes=e.lanes,gc(e,r,s)}return c2(e,r,n,a,s)}function MB(e,r,n){var a=r.pendingProps,s=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ir(Bh,Xs),Xs|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Ir(Bh,Xs),Xs|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:n,Ir(Bh,Xs),Xs|=a}else i!==null?(a=i.baseLanes|n,r.memoizedState=null):a=n,Ir(Bh,Xs),Xs|=a;return Za(e,r,s,n),r.child}function FB(e,r){var n=r.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(r.flags|=512,r.flags|=2097152)}function c2(e,r,n,a,s){var i=Es(n)?cf:Ba.current;return i=Cm(r,i),Qh(r,s),n=nA(e,r,n,a,i,s),a=aA(),e!==null&&!js?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s,gc(e,r,s)):(Kr&&a&&HT(r),r.flags|=1,Za(e,r,n,s),r.child)}function mR(e,r,n,a,s){if(Es(n)){var i=!0;nb(r)}else i=!1;if(Qh(r,s),r.stateNode===null)T1(e,r),PB(r,n,a),o2(r,n,a,s),a=!0;else if(e===null){var o=r.stateNode,c=r.memoizedProps;o.props=c;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Bi(d):(d=Es(n)?cf:Ba.current,d=Cm(r,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==a||u!==d)&&lR(r,o,a,d),Gc=!1;var m=r.memoizedState;o.state=m,lb(r,a,o,s),u=r.memoizedState,c!==a||m!==u||Cs.current||Gc?(typeof f=="function"&&(i2(r,n,f,a),u=r.memoizedState),(c=Gc||oR(r,n,c,a,m,u,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(r.flags|=4194308)):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=a,r.memoizedState=u),o.props=a,o.state=u,o.context=d,a=c):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),a=!1)}else{o=r.stateNode,dB(e,r),c=r.memoizedProps,d=r.type===r.elementType?c:io(r.type,c),o.props=d,h=r.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Bi(u):(u=Es(n)?cf:Ba.current,u=Cm(r,u));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==h||m!==u)&&lR(r,o,a,u),Gc=!1,m=r.memoizedState,o.state=m,lb(r,a,o,s);var g=r.memoizedState;c!==h||m!==g||Cs.current||Gc?(typeof p=="function"&&(i2(r,n,p,a),g=r.memoizedState),(d=Gc||oR(r,n,d,a,m,g,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,g,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,g,u)),typeof o.componentDidUpdate=="function"&&(r.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(r.flags|=1024),r.memoizedProps=a,r.memoizedState=g),o.props=a,o.state=g,o.context=u,a=d):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(r.flags|=1024),a=!1)}return u2(e,r,n,a,i,s)}function u2(e,r,n,a,s,i){FB(e,r);var o=(r.flags&128)!==0;if(!a&&!o)return s&&ZD(r,n,!1),gc(e,r,i);a=r.stateNode,Lee.current=r;var c=o&&typeof n.getDerivedStateFromError!="function"?null:a.render();return r.flags|=1,e!==null&&o?(r.child=Tm(r,e.child,null,i),r.child=Tm(r,null,c,i)):Za(e,r,c,i),r.memoizedState=a.state,s&&ZD(r,n,!0),r.child}function LB(e){var r=e.stateNode;r.pendingContext?QD(e,r.pendingContext,r.pendingContext!==r.context):r.context&&QD(e,r.context,!1),ZT(e,r.containerInfo)}function pR(e,r,n,a,s){return Em(),KT(s),r.flags|=256,Za(e,r,n,a),r.child}var d2={dehydrated:null,treeContext:null,retryLane:0};function f2(e){return{baseLanes:e,cachePool:null,transitions:null}}function $B(e,r,n){var a=r.pendingProps,s=Qr.current,i=!1,o=(r.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(i=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ir(Qr,s&1),e===null)return a2(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(o=a.children,e=a.fallback,i?(a=r.mode,i=r.child,o={mode:"hidden",children:o},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=__(o,a,0,null),e=ef(e,a,n,null),i.return=r,e.return=r,i.sibling=e,r.child=i,r.child.memoizedState=f2(n),r.memoizedState=d2,e):oA(r,o));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return $ee(e,r,o,a,c,s,n);if(i){i=a.fallback,o=r.mode,s=e.child,c=s.sibling;var u={mode:"hidden",children:a.children};return!(o&1)&&r.child!==s?(a=r.child,a.childLanes=0,a.pendingProps=u,r.deletions=null):(a=Tu(s,u),a.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=Tu(c,i):(i=ef(i,o,n,null),i.flags|=2),i.return=r,a.return=r,a.sibling=i,r.child=a,a=i,i=r.child,o=e.child.memoizedState,o=o===null?f2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,r.memoizedState=d2,a}return i=e.child,e=i.sibling,a=Tu(i,{mode:"visible",children:a.children}),!(r.mode&1)&&(a.lanes=n),a.return=r,a.sibling=null,e!==null&&(n=r.deletions,n===null?(r.deletions=[e],r.flags|=16):n.push(e)),r.child=a,r.memoizedState=null,a}function oA(e,r){return r=__({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Sy(e,r,n,a){return a!==null&&KT(a),Tm(r,e.child,null,n),e=oA(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function $ee(e,r,n,a,s,i,o){if(n)return r.flags&256?(r.flags&=-257,a=Xj(Error(Ke(422))),Sy(e,r,o,a)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(i=a.fallback,s=r.mode,a=__({mode:"visible",children:a.children},s,0,null),i=ef(i,s,o,null),i.flags|=2,a.return=r,i.return=r,a.sibling=i,r.child=a,r.mode&1&&Tm(r,e.child,null,o),r.child.memoizedState=f2(o),r.memoizedState=d2,i);if(!(r.mode&1))return Sy(e,r,o,null);if(s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var c=a.dgst;return a=c,i=Error(Ke(419)),a=Xj(i,a,void 0),Sy(e,r,o,a)}if(c=(o&e.childLanes)!==0,js||c){if(a=ta,a!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(a.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,pc(e,s),ko(a,e,s,-1))}return hA(),a=Xj(Error(Ke(421))),Sy(e,r,o,a)}return s.data==="$?"?(r.flags|=128,r.child=e.child,r=Qee.bind(null,e),s._reactRetry=r,null):(e=i.treeContext,ci=ku(s.nextSibling),di=r,Kr=!0,vo=null,e!==null&&(Pi[Di++]=Ql,Pi[Di++]=Zl,Pi[Di++]=uf,Ql=e.id,Zl=e.overflow,uf=r),r=oA(r,a.children),r.flags|=4096,r)}function gR(e,r,n){e.lanes|=r;var a=e.alternate;a!==null&&(a.lanes|=r),s2(e.return,r,n)}function Jj(e,r,n,a,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s}:(i.isBackwards=r,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=s)}function BB(e,r,n){var a=r.pendingProps,s=a.revealOrder,i=a.tail;if(Za(e,r,a.children,n),a=Qr.current,a&2)a=a&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gR(e,n,r);else if(e.tag===19)gR(e,n,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ir(Qr,a),!(r.mode&1))r.memoizedState=null;else switch(s){case"forwards":for(n=r.child,s=null;n!==null;)e=n.alternate,e!==null&&cb(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=r.child,r.child=null):(s=n.sibling,n.sibling=null),Jj(r,!1,s,n,i);break;case"backwards":for(n=null,s=r.child,r.child=null;s!==null;){if(e=s.alternate,e!==null&&cb(e)===null){r.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Jj(r,!0,n,null,i);break;case"together":Jj(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function T1(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function gc(e,r,n){if(e!==null&&(r.dependencies=e.dependencies),ff|=r.lanes,!(n&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(Ke(153));if(r.child!==null){for(e=r.child,n=Tu(e,e.pendingProps),r.child=n,n.return=r;e.sibling!==null;)e=e.sibling,n=n.sibling=Tu(e,e.pendingProps),n.return=r;n.sibling=null}return r.child}function Bee(e,r,n){switch(r.tag){case 3:LB(r),Em();break;case 5:fB(r);break;case 1:Es(r.type)&&nb(r);break;case 4:ZT(r,r.stateNode.containerInfo);break;case 10:var a=r.type._context,s=r.memoizedProps.value;Ir(ib,a._currentValue),a._currentValue=s;break;case 13:if(a=r.memoizedState,a!==null)return a.dehydrated!==null?(Ir(Qr,Qr.current&1),r.flags|=128,null):n&r.child.childLanes?$B(e,r,n):(Ir(Qr,Qr.current&1),e=gc(e,r,n),e!==null?e.sibling:null);Ir(Qr,Qr.current&1);break;case 19:if(a=(n&r.childLanes)!==0,e.flags&128){if(a)return BB(e,r,n);r.flags|=128}if(s=r.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ir(Qr,Qr.current),a)break;return null;case 22:case 23:return r.lanes=0,MB(e,r,n)}return gc(e,r,n)}var UB,h2,VB,zB;UB=function(e,r){for(var n=r.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};h2=function(){};VB=function(e,r,n,a){var s=e.memoizedProps;if(s!==a){e=r.stateNode,Dd(ml.current);var i=null;switch(n){case"input":s=IN(e,s),a=IN(e,a),i=[];break;case"select":s=nn({},s,{value:void 0}),a=nn({},a,{value:void 0}),i=[];break;case"textarea":s=LN(e,s),a=LN(e,a),i=[];break;default:typeof s.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=tb)}BN(n,a);var o;n=null;for(d in s)if(!a.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ig.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var u=a[d];if(c=s!=null?s[d]:void 0,a.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ig.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Ur("scroll",e),i||c===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(r.updateQueue=d)&&(r.flags|=4)}};zB=function(e,r,n,a){n!==a&&(r.flags|=4)};function v0(e,r){if(!Kr)switch(e.tailMode){case"hidden":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function wa(e){var r=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(r)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&14680064,a|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,r}function Uee(e,r,n){var a=r.pendingProps;switch(qT(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wa(r),null;case 1:return Es(r.type)&&rb(),wa(r),null;case 3:return a=r.stateNode,Am(),Wr(Cs),Wr(Ba),tA(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wy(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,vo!==null&&(w2(vo),vo=null))),h2(e,r),wa(r),null;case 5:eA(r);var s=Dd(Kg.current);if(n=r.type,e!==null&&r.stateNode!=null)VB(e,r,n,a,s),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!a){if(r.stateNode===null)throw Error(Ke(166));return wa(r),null}if(e=Dd(ml.current),wy(r)){a=r.stateNode,n=r.type;var i=r.memoizedProps;switch(a[nl]=r,a[Hg]=i,e=(r.mode&1)!==0,n){case"dialog":Ur("cancel",a),Ur("close",a);break;case"iframe":case"object":case"embed":Ur("load",a);break;case"video":case"audio":for(s=0;s<V0.length;s++)Ur(V0[s],a);break;case"source":Ur("error",a);break;case"img":case"image":case"link":Ur("error",a),Ur("load",a);break;case"details":Ur("toggle",a);break;case"input":kD(a,i),Ur("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Ur("invalid",a);break;case"textarea":CD(a,i),Ur("invalid",a)}BN(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="children"?typeof c=="string"?a.textContent!==c&&(i.suppressHydrationWarning!==!0&&by(a.textContent,c,e),s=["children",c]):typeof c=="number"&&a.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&by(a.textContent,c,e),s=["children",""+c]):Ig.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Ur("scroll",a)}switch(n){case"input":fy(a),ND(a,i,!0);break;case"textarea":fy(a),ED(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=tb)}a=s,r.updateQueue=a,a!==null&&(r.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=v6(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(n,{is:a.is}):(e=o.createElement(n),n==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,n),e[nl]=r,e[Hg]=a,UB(e,r,!1,!1),r.stateNode=e;e:{switch(o=UN(n,a),n){case"dialog":Ur("cancel",e),Ur("close",e),s=a;break;case"iframe":case"object":case"embed":Ur("load",e),s=a;break;case"video":case"audio":for(s=0;s<V0.length;s++)Ur(V0[s],e);s=a;break;case"source":Ur("error",e),s=a;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),s=a;break;case"details":Ur("toggle",e),s=a;break;case"input":kD(e,a),s=IN(e,a),Ur("invalid",e);break;case"option":s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=nn({},a,{value:void 0}),Ur("invalid",e);break;case"textarea":CD(e,a),s=LN(e,a),Ur("invalid",e);break;default:s=a}BN(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var u=c[i];i==="style"?b6(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&x6(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Mg(e,u):typeof u=="number"&&Mg(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ig.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Ur("scroll",e):u!=null&&OT(e,i,u,o))}switch(n){case"input":fy(e),ND(e,a,!1);break;case"textarea":fy(e),ED(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Mu(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?Gh(e,!!a.multiple,i,!1):a.defaultValue!=null&&Gh(e,!!a.multiple,a.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=tb)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return wa(r),null;case 6:if(e&&r.stateNode!=null)zB(e,r,e.memoizedProps,a);else{if(typeof a!="string"&&r.stateNode===null)throw Error(Ke(166));if(n=Dd(Kg.current),Dd(ml.current),wy(r)){if(a=r.stateNode,n=r.memoizedProps,a[nl]=r,(i=a.nodeValue!==n)&&(e=di,e!==null))switch(e.tag){case 3:by(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&by(a.nodeValue,n,(e.mode&1)!==0)}i&&(r.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[nl]=r,r.stateNode=a}return wa(r),null;case 13:if(Wr(Qr),a=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Kr&&ci!==null&&r.mode&1&&!(r.flags&128))oB(),Em(),r.flags|=98560,i=!1;else if(i=wy(r),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(Ke(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ke(317));i[nl]=r}else Em(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;wa(r),i=!1}else vo!==null&&(w2(vo),vo=null),i=!0;if(!i)return r.flags&65536?r:null}return r.flags&128?(r.lanes=n,r):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(r.child.flags|=8192,r.mode&1&&(e===null||Qr.current&1?Wn===0&&(Wn=3):hA())),r.updateQueue!==null&&(r.flags|=4),wa(r),null);case 4:return Am(),h2(e,r),e===null&&zg(r.stateNode.containerInfo),wa(r),null;case 10:return XT(r.type._context),wa(r),null;case 17:return Es(r.type)&&rb(),wa(r),null;case 19:if(Wr(Qr),i=r.memoizedState,i===null)return wa(r),null;if(a=(r.flags&128)!==0,o=i.rendering,o===null)if(a)v0(i,!1);else{if(Wn!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(o=cb(e),o!==null){for(r.flags|=128,v0(i,!1),a=o.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),r.subtreeFlags=0,a=n,n=r.child;n!==null;)i=n,e=a,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ir(Qr,Qr.current&1|2),r.child}e=e.sibling}i.tail!==null&&pn()>Pm&&(r.flags|=128,a=!0,v0(i,!1),r.lanes=4194304)}else{if(!a)if(e=cb(o),e!==null){if(r.flags|=128,a=!0,n=e.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),v0(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Kr)return wa(r),null}else 2*pn()-i.renderingStartTime>Pm&&n!==1073741824&&(r.flags|=128,a=!0,v0(i,!1),r.lanes=4194304);i.isBackwards?(o.sibling=r.child,r.child=o):(n=i.last,n!==null?n.sibling=o:r.child=o,i.last=o)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.renderingStartTime=pn(),r.sibling=null,n=Qr.current,Ir(Qr,a?n&1|2:n&1),r):(wa(r),null);case 22:case 23:return fA(),a=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(r.flags|=8192),a&&r.mode&1?Xs&1073741824&&(wa(r),r.subtreeFlags&6&&(r.flags|=8192)):wa(r),null;case 24:return null;case 25:return null}throw Error(Ke(156,r.tag))}function Vee(e,r){switch(qT(r),r.tag){case 1:return Es(r.type)&&rb(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Am(),Wr(Cs),Wr(Ba),tA(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return eA(r),null;case 13:if(Wr(Qr),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(Ke(340));Em()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Wr(Qr),null;case 4:return Am(),null;case 10:return XT(r.type._context),null;case 22:case 23:return fA(),null;case 24:return null;default:return null}}var jy=!1,Da=!1,zee=typeof WeakSet=="function"?WeakSet:Set,ct=null;function $h(e,r){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){on(e,r,a)}else n.current=null}function m2(e,r,n){try{n()}catch(a){on(e,r,a)}}var vR=!1;function Wee(e,r){if(JN=Q1,e=G6(),WT(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,c=-1,u=-1,d=0,f=0,h=e,m=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(c=o+s),h!==i||a!==0&&h.nodeType!==3||(u=o+a),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++d===s&&(c=o),m===i&&++f===a&&(u=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(QN={focusedElem:e,selectionRange:n},Q1=!1,ct=r;ct!==null;)if(r=ct,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,ct=e;else for(;ct!==null;){r=ct;try{var g=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,x=g.memoizedState,w=r.stateNode,b=w.getSnapshotBeforeUpdate(r.elementType===r.type?v:io(r.type,v),x);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=r.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ke(163))}}catch(S){on(r,r.return,S)}if(e=r.sibling,e!==null){e.return=r.return,ct=e;break}ct=r.return}return g=vR,vR=!1,g}function ig(e,r,n){var a=r.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&m2(r,n,i)}s=s.next}while(s!==a)}}function b_(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==r)}}function p2(e){var r=e.ref;if(r!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof r=="function"?r(e):r.current=e}}function WB(e){var r=e.alternate;r!==null&&(e.alternate=null,WB(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[nl],delete r[Hg],delete r[t2],delete r[Nee],delete r[Cee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function HB(e){return e.tag===5||e.tag===3||e.tag===4}function xR(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||HB(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function g2(e,r,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,r?n.nodeType===8?n.parentNode.insertBefore(e,r):n.insertBefore(e,r):(n.nodeType===8?(r=n.parentNode,r.insertBefore(e,n)):(r=n,r.appendChild(e)),n=n._reactRootContainer,n!=null||r.onclick!==null||(r.onclick=tb));else if(a!==4&&(e=e.child,e!==null))for(g2(e,r,n),e=e.sibling;e!==null;)g2(e,r,n),e=e.sibling}function v2(e,r,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,r?n.insertBefore(e,r):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(v2(e,r,n),e=e.sibling;e!==null;)v2(e,r,n),e=e.sibling}var la=null,uo=!1;function $c(e,r,n){for(n=n.child;n!==null;)qB(e,r,n),n=n.sibling}function qB(e,r,n){if(hl&&typeof hl.onCommitFiberUnmount=="function")try{hl.onCommitFiberUnmount(f_,n)}catch{}switch(n.tag){case 5:Da||$h(n,r);case 6:var a=la,s=uo;la=null,$c(e,r,n),la=a,uo=s,la!==null&&(uo?(e=la,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):la.removeChild(n.stateNode));break;case 18:la!==null&&(uo?(e=la,n=n.stateNode,e.nodeType===8?Wj(e.parentNode,n):e.nodeType===1&&Wj(e,n),Bg(e)):Wj(la,n.stateNode));break;case 4:a=la,s=uo,la=n.stateNode.containerInfo,uo=!0,$c(e,r,n),la=a,uo=s;break;case 0:case 11:case 14:case 15:if(!Da&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){s=a=a.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&m2(n,r,o),s=s.next}while(s!==a)}$c(e,r,n);break;case 1:if(!Da&&($h(n,r),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(c){on(n,r,c)}$c(e,r,n);break;case 21:$c(e,r,n);break;case 22:n.mode&1?(Da=(a=Da)||n.memoizedState!==null,$c(e,r,n),Da=a):$c(e,r,n);break;default:$c(e,r,n)}}function yR(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zee),r.forEach(function(a){var s=Zee.bind(null,e,a);n.has(a)||(n.add(a),a.then(s,s))})}}function Zi(e,r){var n=r.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];try{var i=e,o=r,c=o;e:for(;c!==null;){switch(c.tag){case 5:la=c.stateNode,uo=!1;break e;case 3:la=c.stateNode.containerInfo,uo=!0;break e;case 4:la=c.stateNode.containerInfo,uo=!0;break e}c=c.return}if(la===null)throw Error(Ke(160));qB(i,o,s),la=null,uo=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){on(s,r,d)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)KB(r,e),r=r.sibling}function KB(e,r){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zi(r,e),zo(e),a&4){try{ig(3,e,e.return),b_(3,e)}catch(v){on(e,e.return,v)}try{ig(5,e,e.return)}catch(v){on(e,e.return,v)}}break;case 1:Zi(r,e),zo(e),a&512&&n!==null&&$h(n,n.return);break;case 5:if(Zi(r,e),zo(e),a&512&&n!==null&&$h(n,n.return),e.flags&32){var s=e.stateNode;try{Mg(s,"")}catch(v){on(e,e.return,v)}}if(a&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,c=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&p6(s,i),UN(c,o);var d=UN(c,i);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?b6(s,h):f==="dangerouslySetInnerHTML"?x6(s,h):f==="children"?Mg(s,h):OT(s,f,h,d)}switch(c){case"input":MN(s,i);break;case"textarea":g6(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Gh(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Gh(s,!!i.multiple,i.defaultValue,!0):Gh(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hg]=i}catch(v){on(e,e.return,v)}}break;case 6:if(Zi(r,e),zo(e),a&4){if(e.stateNode===null)throw Error(Ke(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){on(e,e.return,v)}}break;case 3:if(Zi(r,e),zo(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Bg(r.containerInfo)}catch(v){on(e,e.return,v)}break;case 4:Zi(r,e),zo(e);break;case 13:Zi(r,e),zo(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(uA=pn())),a&4&&yR(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Da=(d=Da)||f,Zi(r,e),Da=d):Zi(r,e),zo(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(ct=e,f=e.child;f!==null;){for(h=ct=f;ct!==null;){switch(m=ct,p=m.child,m.tag){case 0:case 11:case 14:case 15:ig(4,m,m.return);break;case 1:$h(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){a=m,n=m.return;try{r=a,g.props=r.memoizedProps,g.state=r.memoizedState,g.componentWillUnmount()}catch(v){on(a,n,v)}}break;case 5:$h(m,m.return);break;case 22:if(m.memoizedState!==null){wR(h);continue}}p!==null?(p.return=m,ct=p):wR(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=y6("display",o))}catch(v){on(e,e.return,v)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){on(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Zi(r,e),zo(e),a&4&&yR(e);break;case 21:break;default:Zi(r,e),zo(e)}}function zo(e){var r=e.flags;if(r&2){try{e:{for(var n=e.return;n!==null;){if(HB(n)){var a=n;break e}n=n.return}throw Error(Ke(160))}switch(a.tag){case 5:var s=a.stateNode;a.flags&32&&(Mg(s,""),a.flags&=-33);var i=xR(e);v2(e,i,s);break;case 3:case 4:var o=a.stateNode.containerInfo,c=xR(e);g2(e,c,o);break;default:throw Error(Ke(161))}}catch(u){on(e,e.return,u)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Hee(e,r,n){ct=e,GB(e)}function GB(e,r,n){for(var a=(e.mode&1)!==0;ct!==null;){var s=ct,i=s.child;if(s.tag===22&&a){var o=s.memoizedState!==null||jy;if(!o){var c=s.alternate,u=c!==null&&c.memoizedState!==null||Da;c=jy;var d=Da;if(jy=o,(Da=u)&&!d)for(ct=s;ct!==null;)o=ct,u=o.child,o.tag===22&&o.memoizedState!==null?_R(s):u!==null?(u.return=o,ct=u):_R(s);for(;i!==null;)ct=i,GB(i),i=i.sibling;ct=s,jy=c,Da=d}bR(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ct=i):bR(e)}}function bR(e){for(;ct!==null;){var r=ct;if(r.flags&8772){var n=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Da||b_(5,r);break;case 1:var a=r.stateNode;if(r.flags&4&&!Da)if(n===null)a.componentDidMount();else{var s=r.elementType===r.type?n.memoizedProps:io(r.type,n.memoizedProps);a.componentDidUpdate(s,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=r.updateQueue;i!==null&&aR(r,i,a);break;case 3:var o=r.updateQueue;if(o!==null){if(n=null,r.child!==null)switch(r.child.tag){case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}aR(r,o,n)}break;case 5:var c=r.stateNode;if(n===null&&r.flags&4){n=c;var u=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var d=r.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Bg(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ke(163))}Da||r.flags&512&&p2(r)}catch(m){on(r,r.return,m)}}if(r===e){ct=null;break}if(n=r.sibling,n!==null){n.return=r.return,ct=n;break}ct=r.return}}function wR(e){for(;ct!==null;){var r=ct;if(r===e){ct=null;break}var n=r.sibling;if(n!==null){n.return=r.return,ct=n;break}ct=r.return}}function _R(e){for(;ct!==null;){var r=ct;try{switch(r.tag){case 0:case 11:case 15:var n=r.return;try{b_(4,r)}catch(u){on(r,n,u)}break;case 1:var a=r.stateNode;if(typeof a.componentDidMount=="function"){var s=r.return;try{a.componentDidMount()}catch(u){on(r,s,u)}}var i=r.return;try{p2(r)}catch(u){on(r,i,u)}break;case 5:var o=r.return;try{p2(r)}catch(u){on(r,o,u)}}}catch(u){on(r,r.return,u)}if(r===e){ct=null;break}var c=r.sibling;if(c!==null){c.return=r.return,ct=c;break}ct=r.return}}var qee=Math.ceil,fb=Tc.ReactCurrentDispatcher,lA=Tc.ReactCurrentOwner,Li=Tc.ReactCurrentBatchConfig,or=0,ta=null,An=null,fa=0,Xs=0,Bh=Yu(0),Wn=0,Jg=null,ff=0,w_=0,cA=0,og=null,Ss=null,uA=0,Pm=1/0,Hl=null,hb=!1,x2=null,Cu=null,ky=!1,gu=null,mb=0,lg=0,y2=null,A1=-1,O1=0;function ds(){return or&6?pn():A1!==-1?A1:A1=pn()}function Eu(e){return e.mode&1?or&2&&fa!==0?fa&-fa:Tee.transition!==null?(O1===0&&(O1=P6()),O1):(e=Sr,e!==0||(e=window.event,e=e===void 0?16:$6(e.type)),e):1}function ko(e,r,n,a){if(50<lg)throw lg=0,y2=null,Error(Ke(185));ux(e,n,a),(!(or&2)||e!==ta)&&(e===ta&&(!(or&2)&&(w_|=n),Wn===4&&eu(e,fa)),Ts(e,a),n===1&&or===0&&!(r.mode&1)&&(Pm=pn()+500,v_&&Xu()))}function Ts(e,r){var n=e.callbackNode;TZ(e,r);var a=J1(e,e===ta?fa:0);if(a===0)n!==null&&OD(n),e.callbackNode=null,e.callbackPriority=0;else if(r=a&-a,e.callbackPriority!==r){if(n!=null&&OD(n),r===1)e.tag===0?Eee(SR.bind(null,e)):aB(SR.bind(null,e)),jee(function(){!(or&6)&&Xu()}),n=null;else{switch(D6(a)){case 1:n=MT;break;case 4:n=A6;break;case 16:n=X1;break;case 536870912:n=O6;break;default:n=X1}n=rU(n,YB.bind(null,e))}e.callbackPriority=r,e.callbackNode=n}}function YB(e,r){if(A1=-1,O1=0,or&6)throw Error(Ke(327));var n=e.callbackNode;if(Zh()&&e.callbackNode!==n)return null;var a=J1(e,e===ta?fa:0);if(a===0)return null;if(a&30||a&e.expiredLanes||r)r=pb(e,a);else{r=a;var s=or;or|=2;var i=JB();(ta!==e||fa!==r)&&(Hl=null,Pm=pn()+500,Zd(e,r));do try{Yee();break}catch(c){XB(e,c)}while(!0);YT(),fb.current=i,or=s,An!==null?r=0:(ta=null,fa=0,r=Wn)}if(r!==0){if(r===2&&(s=qN(e),s!==0&&(a=s,r=b2(e,s))),r===1)throw n=Jg,Zd(e,0),eu(e,a),Ts(e,pn()),n;if(r===6)eu(e,a);else{if(s=e.current.alternate,!(a&30)&&!Kee(s)&&(r=pb(e,a),r===2&&(i=qN(e),i!==0&&(a=i,r=b2(e,i))),r===1))throw n=Jg,Zd(e,0),eu(e,a),Ts(e,pn()),n;switch(e.finishedWork=s,e.finishedLanes=a,r){case 0:case 1:throw Error(Ke(345));case 2:gd(e,Ss,Hl);break;case 3:if(eu(e,a),(a&130023424)===a&&(r=uA+500-pn(),10<r)){if(J1(e,0)!==0)break;if(s=e.suspendedLanes,(s&a)!==a){ds(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=e2(gd.bind(null,e,Ss,Hl),r);break}gd(e,Ss,Hl);break;case 4:if(eu(e,a),(a&4194240)===a)break;for(r=e.eventTimes,s=-1;0<a;){var o=31-jo(a);i=1<<o,o=r[o],o>s&&(s=o),a&=~i}if(a=s,a=pn()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*qee(a/1960))-a,10<a){e.timeoutHandle=e2(gd.bind(null,e,Ss,Hl),a);break}gd(e,Ss,Hl);break;case 5:gd(e,Ss,Hl);break;default:throw Error(Ke(329))}}}return Ts(e,pn()),e.callbackNode===n?YB.bind(null,e):null}function b2(e,r){var n=og;return e.current.memoizedState.isDehydrated&&(Zd(e,r).flags|=256),e=pb(e,r),e!==2&&(r=Ss,Ss=n,r!==null&&w2(r)),e}function w2(e){Ss===null?Ss=e:Ss.push.apply(Ss,e)}function Kee(e){for(var r=e;;){if(r.flags&16384){var n=r.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var s=n[a],i=s.getSnapshot;s=s.value;try{if(!Eo(i(),s))return!1}catch{return!1}}}if(n=r.child,r.subtreeFlags&16384&&n!==null)n.return=r,r=n;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function eu(e,r){for(r&=~cA,r&=~w_,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var n=31-jo(r),a=1<<n;e[n]=-1,r&=~a}}function SR(e){if(or&6)throw Error(Ke(327));Zh();var r=J1(e,0);if(!(r&1))return Ts(e,pn()),null;var n=pb(e,r);if(e.tag!==0&&n===2){var a=qN(e);a!==0&&(r=a,n=b2(e,a))}if(n===1)throw n=Jg,Zd(e,0),eu(e,r),Ts(e,pn()),n;if(n===6)throw Error(Ke(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,gd(e,Ss,Hl),Ts(e,pn()),null}function dA(e,r){var n=or;or|=1;try{return e(r)}finally{or=n,or===0&&(Pm=pn()+500,v_&&Xu())}}function hf(e){gu!==null&&gu.tag===0&&!(or&6)&&Zh();var r=or;or|=1;var n=Li.transition,a=Sr;try{if(Li.transition=null,Sr=1,e)return e()}finally{Sr=a,Li.transition=n,or=r,!(or&6)&&Xu()}}function fA(){Xs=Bh.current,Wr(Bh)}function Zd(e,r){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,See(n)),An!==null)for(n=An.return;n!==null;){var a=n;switch(qT(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&rb();break;case 3:Am(),Wr(Cs),Wr(Ba),tA();break;case 5:eA(a);break;case 4:Am();break;case 13:Wr(Qr);break;case 19:Wr(Qr);break;case 10:XT(a.type._context);break;case 22:case 23:fA()}n=n.return}if(ta=e,An=e=Tu(e.current,null),fa=Xs=r,Wn=0,Jg=null,cA=w_=ff=0,Ss=og=null,Pd!==null){for(r=0;r<Pd.length;r++)if(n=Pd[r],a=n.interleaved,a!==null){n.interleaved=null;var s=a.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,a.next=o}n.pending=a}Pd=null}return e}function XB(e,r){do{var n=An;try{if(YT(),C1.current=db,ub){for(var a=rn.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}ub=!1}if(df=0,Qn=Un=rn=null,sg=!1,Gg=0,lA.current=null,n===null||n.return===null){Wn=1,Jg=r,An=null;break}e:{var i=e,o=n.return,c=n,u=r;if(r=fa,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=c,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=uR(o);if(p!==null){p.flags&=-257,dR(p,o,c,i,r),p.mode&1&&cR(i,d,r),r=p,u=d;var g=r.updateQueue;if(g===null){var v=new Set;v.add(u),r.updateQueue=v}else g.add(u);break e}else{if(!(r&1)){cR(i,d,r),hA();break e}u=Error(Ke(426))}}else if(Kr&&c.mode&1){var x=uR(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),dR(x,o,c,i,r),KT(Om(u,c));break e}}i=u=Om(u,c),Wn!==4&&(Wn=2),og===null?og=[i]:og.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,r&=-r,i.lanes|=r;var w=DB(i,u,r);nR(i,w);break e;case 1:c=u;var b=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Cu===null||!Cu.has(_)))){i.flags|=65536,r&=-r,i.lanes|=r;var S=RB(i,c,r);nR(i,S);break e}}i=i.return}while(i!==null)}ZB(n)}catch(j){r=j,An===n&&n!==null&&(An=n=n.return);continue}break}while(!0)}function JB(){var e=fb.current;return fb.current=db,e===null?db:e}function hA(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),ta===null||!(ff&268435455)&&!(w_&268435455)||eu(ta,fa)}function pb(e,r){var n=or;or|=2;var a=JB();(ta!==e||fa!==r)&&(Hl=null,Zd(e,r));do try{Gee();break}catch(s){XB(e,s)}while(!0);if(YT(),or=n,fb.current=a,An!==null)throw Error(Ke(261));return ta=null,fa=0,Wn}function Gee(){for(;An!==null;)QB(An)}function Yee(){for(;An!==null&&!bZ();)QB(An)}function QB(e){var r=tU(e.alternate,e,Xs);e.memoizedProps=e.pendingProps,r===null?ZB(e):An=r,lA.current=null}function ZB(e){var r=e;do{var n=r.alternate;if(e=r.return,r.flags&32768){if(n=Vee(n,r),n!==null){n.flags&=32767,An=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wn=6,An=null;return}}else if(n=Uee(n,r,Xs),n!==null){An=n;return}if(r=r.sibling,r!==null){An=r;return}An=r=e}while(r!==null);Wn===0&&(Wn=5)}function gd(e,r,n){var a=Sr,s=Li.transition;try{Li.transition=null,Sr=1,Xee(e,r,n,a)}finally{Li.transition=s,Sr=a}return null}function Xee(e,r,n,a){do Zh();while(gu!==null);if(or&6)throw Error(Ke(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ke(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(AZ(e,i),e===ta&&(An=ta=null,fa=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ky||(ky=!0,rU(X1,function(){return Zh(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Li.transition,Li.transition=null;var o=Sr;Sr=1;var c=or;or|=4,lA.current=null,Wee(e,n),KB(n,e),gee(QN),Q1=!!JN,QN=JN=null,e.current=n,Hee(n),wZ(),or=c,Sr=o,Li.transition=i}else e.current=n;if(ky&&(ky=!1,gu=e,mb=s),i=e.pendingLanes,i===0&&(Cu=null),jZ(n.stateNode),Ts(e,pn()),r!==null)for(a=e.onRecoverableError,n=0;n<r.length;n++)s=r[n],a(s.value,{componentStack:s.stack,digest:s.digest});if(hb)throw hb=!1,e=x2,x2=null,e;return mb&1&&e.tag!==0&&Zh(),i=e.pendingLanes,i&1?e===y2?lg++:(lg=0,y2=e):lg=0,Xu(),null}function Zh(){if(gu!==null){var e=D6(mb),r=Li.transition,n=Sr;try{if(Li.transition=null,Sr=16>e?16:e,gu===null)var a=!1;else{if(e=gu,gu=null,mb=0,or&6)throw Error(Ke(331));var s=or;for(or|=4,ct=e.current;ct!==null;){var i=ct,o=i.child;if(ct.flags&16){var c=i.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(ct=d;ct!==null;){var f=ct;switch(f.tag){case 0:case 11:case 15:ig(8,f,i)}var h=f.child;if(h!==null)h.return=f,ct=h;else for(;ct!==null;){f=ct;var m=f.sibling,p=f.return;if(WB(f),f===d){ct=null;break}if(m!==null){m.return=p,ct=m;break}ct=p}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}ct=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ct=o;else e:for(;ct!==null;){if(i=ct,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ig(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ct=w;break e}ct=i.return}}var b=e.current;for(ct=b;ct!==null;){o=ct;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ct=_;else e:for(o=b;ct!==null;){if(c=ct,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:b_(9,c)}}catch(j){on(c,c.return,j)}if(c===o){ct=null;break e}var S=c.sibling;if(S!==null){S.return=c.return,ct=S;break e}ct=c.return}}if(or=s,Xu(),hl&&typeof hl.onPostCommitFiberRoot=="function")try{hl.onPostCommitFiberRoot(f_,e)}catch{}a=!0}return a}finally{Sr=n,Li.transition=r}}return!1}function jR(e,r,n){r=Om(n,r),r=DB(e,r,1),e=Nu(e,r,1),r=ds(),e!==null&&(ux(e,1,r),Ts(e,r))}function on(e,r,n){if(e.tag===3)jR(e,e,n);else for(;r!==null;){if(r.tag===3){jR(r,e,n);break}else if(r.tag===1){var a=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Cu===null||!Cu.has(a))){e=Om(n,e),e=RB(r,e,1),r=Nu(r,e,1),e=ds(),r!==null&&(ux(r,1,e),Ts(r,e));break}}r=r.return}}function Jee(e,r,n){var a=e.pingCache;a!==null&&a.delete(r),r=ds(),e.pingedLanes|=e.suspendedLanes&n,ta===e&&(fa&n)===n&&(Wn===4||Wn===3&&(fa&130023424)===fa&&500>pn()-uA?Zd(e,0):cA|=n),Ts(e,r)}function eU(e,r){r===0&&(e.mode&1?(r=py,py<<=1,!(py&130023424)&&(py=4194304)):r=1);var n=ds();e=pc(e,r),e!==null&&(ux(e,r,n),Ts(e,n))}function Qee(e){var r=e.memoizedState,n=0;r!==null&&(n=r.retryLane),eU(e,n)}function Zee(e,r){var n=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(Ke(314))}a!==null&&a.delete(r),eU(e,n)}var tU;tU=function(e,r,n){if(e!==null)if(e.memoizedProps!==r.pendingProps||Cs.current)js=!0;else{if(!(e.lanes&n)&&!(r.flags&128))return js=!1,Bee(e,r,n);js=!!(e.flags&131072)}else js=!1,Kr&&r.flags&1048576&&sB(r,sb,r.index);switch(r.lanes=0,r.tag){case 2:var a=r.type;T1(e,r),e=r.pendingProps;var s=Cm(r,Ba.current);Qh(r,n),s=nA(null,r,a,e,s,n);var i=aA();return r.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Es(a)?(i=!0,nb(r)):i=!1,r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,QT(r),s.updater=y_,r.stateNode=s,s._reactInternals=r,o2(r,a,e,n),r=u2(null,r,a,!0,i,n)):(r.tag=0,Kr&&i&&HT(r),Za(null,r,s,n),r=r.child),r;case 16:a=r.elementType;e:{switch(T1(e,r),e=r.pendingProps,s=a._init,a=s(a._payload),r.type=a,s=r.tag=tte(a),e=io(a,e),s){case 0:r=c2(null,r,a,e,n);break e;case 1:r=mR(null,r,a,e,n);break e;case 11:r=fR(null,r,a,e,n);break e;case 14:r=hR(null,r,a,io(a.type,e),n);break e}throw Error(Ke(306,a,""))}return r;case 0:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:io(a,s),c2(e,r,a,s,n);case 1:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:io(a,s),mR(e,r,a,s,n);case 3:e:{if(LB(r),e===null)throw Error(Ke(387));a=r.pendingProps,i=r.memoizedState,s=i.element,dB(e,r),lb(r,a,null,n);var o=r.memoizedState;if(a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},r.updateQueue.baseState=i,r.memoizedState=i,r.flags&256){s=Om(Error(Ke(423)),r),r=pR(e,r,a,n,s);break e}else if(a!==s){s=Om(Error(Ke(424)),r),r=pR(e,r,a,n,s);break e}else for(ci=ku(r.stateNode.containerInfo.firstChild),di=r,Kr=!0,vo=null,n=cB(r,null,a,n),r.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Em(),a===s){r=gc(e,r,n);break e}Za(e,r,a,n)}r=r.child}return r;case 5:return fB(r),e===null&&a2(r),a=r.type,s=r.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ZN(a,s)?o=null:i!==null&&ZN(a,i)&&(r.flags|=32),FB(e,r),Za(e,r,o,n),r.child;case 6:return e===null&&a2(r),null;case 13:return $B(e,r,n);case 4:return ZT(r,r.stateNode.containerInfo),a=r.pendingProps,e===null?r.child=Tm(r,null,a,n):Za(e,r,a,n),r.child;case 11:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:io(a,s),fR(e,r,a,s,n);case 7:return Za(e,r,r.pendingProps,n),r.child;case 8:return Za(e,r,r.pendingProps.children,n),r.child;case 12:return Za(e,r,r.pendingProps.children,n),r.child;case 10:e:{if(a=r.type._context,s=r.pendingProps,i=r.memoizedProps,o=s.value,Ir(ib,a._currentValue),a._currentValue=o,i!==null)if(Eo(i.value,o)){if(i.children===s.children&&!Cs.current){r=gc(e,r,n);break e}}else for(i=r.child,i!==null&&(i.return=r);i!==null;){var c=i.dependencies;if(c!==null){o=i.child;for(var u=c.firstContext;u!==null;){if(u.context===a){if(i.tag===1){u=sc(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),s2(i.return,n,r),c.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===r.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ke(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),s2(o,n,r),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===r){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Za(e,r,s.children,n),r=r.child}return r;case 9:return s=r.type,a=r.pendingProps.children,Qh(r,n),s=Bi(s),a=a(s),r.flags|=1,Za(e,r,a,n),r.child;case 14:return a=r.type,s=io(a,r.pendingProps),s=io(a.type,s),hR(e,r,a,s,n);case 15:return IB(e,r,r.type,r.pendingProps,n);case 17:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:io(a,s),T1(e,r),r.tag=1,Es(a)?(e=!0,nb(r)):e=!1,Qh(r,n),PB(r,a,s),o2(r,a,s,n),u2(null,r,a,!0,e,n);case 19:return BB(e,r,n);case 22:return MB(e,r,n)}throw Error(Ke(156,r.tag))};function rU(e,r){return T6(e,r)}function ete(e,r,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(e,r,n,a){return new ete(e,r,n,a)}function mA(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tte(e){if(typeof e=="function")return mA(e)?1:0;if(e!=null){if(e=e.$$typeof,e===DT)return 11;if(e===RT)return 14}return 2}function Tu(e,r){var n=e.alternate;return n===null?(n=Mi(e.tag,r,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=r,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,r=e.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function P1(e,r,n,a,s,i){var o=2;if(a=e,typeof e=="function")mA(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ah:return ef(n.children,s,i,r);case PT:o=8,s|=8;break;case ON:return e=Mi(12,n,r,s|2),e.elementType=ON,e.lanes=i,e;case PN:return e=Mi(13,n,r,s),e.elementType=PN,e.lanes=i,e;case DN:return e=Mi(19,n,r,s),e.elementType=DN,e.lanes=i,e;case f6:return __(n,s,i,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case u6:o=10;break e;case d6:o=9;break e;case DT:o=11;break e;case RT:o=14;break e;case Kc:o=16,a=null;break e}throw Error(Ke(130,e==null?e:typeof e,""))}return r=Mi(o,n,r,s),r.elementType=e,r.type=a,r.lanes=i,r}function ef(e,r,n,a){return e=Mi(7,e,a,r),e.lanes=n,e}function __(e,r,n,a){return e=Mi(22,e,a,r),e.elementType=f6,e.lanes=n,e.stateNode={isHidden:!1},e}function Qj(e,r,n){return e=Mi(6,e,null,r),e.lanes=n,e}function Zj(e,r,n){return r=Mi(4,e.children!==null?e.children:[],e.key,r),r.lanes=n,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function rte(e,r,n,a,s){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dj(0),this.expirationTimes=Dj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dj(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pA(e,r,n,a,s,i,o,c,u){return e=new rte(e,r,n,c,u),r===1?(r=1,i===!0&&(r|=8)):r=0,i=Mi(3,null,null,r),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},QT(i),e}function nte(e,r,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Th,key:a==null?null:""+a,children:e,containerInfo:r,implementation:n}}function nU(e){if(!e)return Fu;e=e._reactInternals;e:{if(Mf(e)!==e||e.tag!==1)throw Error(Ke(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Es(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(Ke(171))}if(e.tag===1){var n=e.type;if(Es(n))return nB(e,n,r)}return r}function aU(e,r,n,a,s,i,o,c,u){return e=pA(n,a,!0,e,s,i,o,c,u),e.context=nU(null),n=e.current,a=ds(),s=Eu(n),i=sc(a,s),i.callback=r??null,Nu(n,i,s),e.current.lanes=s,ux(e,s,a),Ts(e,a),e}function S_(e,r,n,a){var s=r.current,i=ds(),o=Eu(s);return n=nU(n),r.context===null?r.context=n:r.pendingContext=n,r=sc(i,o),r.payload={element:e},a=a===void 0?null:a,a!==null&&(r.callback=a),e=Nu(s,r,o),e!==null&&(ko(e,s,o,i),N1(e,s,o)),o}function gb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kR(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<r?n:r}}function gA(e,r){kR(e,r),(e=e.alternate)&&kR(e,r)}function ate(){return null}var sU=typeof reportError=="function"?reportError:function(e){console.error(e)};function vA(e){this._internalRoot=e}j_.prototype.render=vA.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(Ke(409));S_(e,r,null,null)};j_.prototype.unmount=vA.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;hf(function(){S_(null,e,null,null)}),r[mc]=null}};function j_(e){this._internalRoot=e}j_.prototype.unstable_scheduleHydration=function(e){if(e){var r=M6();e={blockedOn:null,target:e,priority:r};for(var n=0;n<Zc.length&&r!==0&&r<Zc[n].priority;n++);Zc.splice(n,0,e),n===0&&L6(e)}};function xA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function k_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function NR(){}function ste(e,r,n,a,s){if(s){if(typeof a=="function"){var i=a;a=function(){var d=gb(o);i.call(d)}}var o=aU(r,a,e,0,null,!1,!1,"",NR);return e._reactRootContainer=o,e[mc]=o.current,zg(e.nodeType===8?e.parentNode:e),hf(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof a=="function"){var c=a;a=function(){var d=gb(u);c.call(d)}}var u=pA(e,0,!1,null,null,!1,!1,"",NR);return e._reactRootContainer=u,e[mc]=u.current,zg(e.nodeType===8?e.parentNode:e),hf(function(){S_(r,u,n,a)}),u}function N_(e,r,n,a,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var c=s;s=function(){var u=gb(o);c.call(u)}}S_(r,o,e,s)}else o=ste(n,r,e,s,a);return gb(o)}R6=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var n=U0(r.pendingLanes);n!==0&&(FT(r,n|1),Ts(r,pn()),!(or&6)&&(Pm=pn()+500,Xu()))}break;case 13:hf(function(){var a=pc(e,1);if(a!==null){var s=ds();ko(a,e,1,s)}}),gA(e,1)}};LT=function(e){if(e.tag===13){var r=pc(e,134217728);if(r!==null){var n=ds();ko(r,e,134217728,n)}gA(e,134217728)}};I6=function(e){if(e.tag===13){var r=Eu(e),n=pc(e,r);if(n!==null){var a=ds();ko(n,e,r,a)}gA(e,r)}};M6=function(){return Sr};F6=function(e,r){var n=Sr;try{return Sr=e,r()}finally{Sr=n}};zN=function(e,r,n){switch(r){case"input":if(MN(e,n),r=n.name,n.type==="radio"&&r!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<n.length;r++){var a=n[r];if(a!==e&&a.form===e.form){var s=g_(a);if(!s)throw Error(Ke(90));m6(a),MN(a,s)}}}break;case"textarea":g6(e,n);break;case"select":r=n.value,r!=null&&Gh(e,!!n.multiple,r,!1)}};S6=dA;j6=hf;var ite={usingClientEntryPoint:!1,Events:[fx,Rh,g_,w6,_6,dA]},x0={findFiberByHostInstance:Od,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ote={bundleType:x0.bundleType,version:x0.version,rendererPackageName:x0.rendererPackageName,rendererConfig:x0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=C6(e),e===null?null:e.stateNode},findFiberByHostInstance:x0.findFiberByHostInstance||ate,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ny=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ny.isDisabled&&Ny.supportsFiber)try{f_=Ny.inject(ote),hl=Ny}catch{}}yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ite;yi.createPortal=function(e,r){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xA(r))throw Error(Ke(200));return nte(e,r,null,n)};yi.createRoot=function(e,r){if(!xA(e))throw Error(Ke(299));var n=!1,a="",s=sU;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),r=pA(e,1,!1,null,null,n,!1,a,s),e[mc]=r.current,zg(e.nodeType===8?e.parentNode:e),new vA(r)};yi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(Ke(188)):(e=Object.keys(e).join(","),Error(Ke(268,e)));return e=C6(r),e=e===null?null:e.stateNode,e};yi.flushSync=function(e){return hf(e)};yi.hydrate=function(e,r,n){if(!k_(r))throw Error(Ke(200));return N_(null,e,r,!0,n)};yi.hydrateRoot=function(e,r,n){if(!xA(e))throw Error(Ke(405));var a=n!=null&&n.hydratedSources||null,s=!1,i="",o=sU;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),r=aU(r,null,e,1,n??null,s,!1,i,o),e[mc]=r.current,zg(e),a)for(e=0;e<a.length;e++)n=a[e],s=n._getVersion,s=s(n._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[n,s]:r.mutableSourceEagerHydrationData.push(n,s);return new j_(r)};yi.render=function(e,r,n){if(!k_(r))throw Error(Ke(200));return N_(null,e,r,!1,n)};yi.unmountComponentAtNode=function(e){if(!k_(e))throw Error(Ke(40));return e._reactRootContainer?(hf(function(){N_(null,null,e,!1,function(){e._reactRootContainer=null,e[mc]=null})}),!0):!1};yi.unstable_batchedUpdates=dA;yi.unstable_renderSubtreeIntoContainer=function(e,r,n,a){if(!k_(n))throw Error(Ke(200));if(e==null||e._reactInternals===void 0)throw Error(Ke(38));return N_(e,r,n,!1,a)};yi.version="18.3.1-next-f1338f8080-20240426";function iU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iU)}catch(e){console.error(e)}}iU(),i6.exports=yi;var Ap=i6.exports;const lte=vr(Ap);var oU,CR=Ap;oU=CR.createRoot,CR.hydrateRoot;var mx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mf=typeof window>"u"||"Deno"in globalThis;function _s(){}function cte(e,r){return typeof e=="function"?e(r):e}function _2(e){return typeof e=="number"&&e>=0&&e!==1/0}function lU(e,r){return Math.max(e+(r||0)-Date.now(),0)}function Au(e,r){return typeof e=="function"?e(r):e}function Oi(e,r){return typeof e=="function"?e(r):e}function ER(e,r){const{type:n="all",exact:a,fetchStatus:s,predicate:i,queryKey:o,stale:c}=e;if(o){if(a){if(r.queryHash!==yA(o,r.options))return!1}else if(!Zg(r.queryKey,o))return!1}if(n!=="all"){const u=r.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof c=="boolean"&&r.isStale()!==c||s&&s!==r.state.fetchStatus||i&&!i(r))}function TR(e,r){const{exact:n,status:a,predicate:s,mutationKey:i}=e;if(i){if(!r.options.mutationKey)return!1;if(n){if(Qg(r.options.mutationKey)!==Qg(i))return!1}else if(!Zg(r.options.mutationKey,i))return!1}return!(a&&r.state.status!==a||s&&!s(r))}function yA(e,r){return((r==null?void 0:r.queryKeyHashFn)||Qg)(e)}function Qg(e){return JSON.stringify(e,(r,n)=>j2(n)?Object.keys(n).sort().reduce((a,s)=>(a[s]=n[s],a),{}):n)}function Zg(e,r){return e===r?!0:typeof e!=typeof r?!1:e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(r).every(n=>Zg(e[n],r[n])):!1}function cU(e,r){if(e===r)return e;const n=AR(e)&&AR(r);if(n||j2(e)&&j2(r)){const a=n?e:Object.keys(e),s=a.length,i=n?r:Object.keys(r),o=i.length,c=n?[]:{},u=new Set(a);let d=0;for(let f=0;f<o;f++){const h=n?f:i[f];(!n&&u.has(h)||n)&&e[h]===void 0&&r[h]===void 0?(c[h]=void 0,d++):(c[h]=cU(e[h],r[h]),c[h]===e[h]&&e[h]!==void 0&&d++)}return s===o&&d===s?e:c}return r}function S2(e,r){if(!r||Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}function AR(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function j2(e){if(!OR(e))return!1;const r=e.constructor;if(r===void 0)return!0;const n=r.prototype;return!(!OR(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function OR(e){return Object.prototype.toString.call(e)==="[object Object]"}function ute(e){return new Promise(r=>{setTimeout(r,e)})}function k2(e,r,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,r):n.structuralSharing!==!1?cU(e,r):r}function dte(e,r,n=0){const a=[...e,r];return n&&a.length>n?a.slice(1):a}function fte(e,r,n=0){const a=[r,...e];return n&&a.length>n?a.slice(0,-1):a}var bA=Symbol();function uU(e,r){return!e.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!e.queryFn||e.queryFn===bA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function hte(e,r){return typeof e=="function"?e(...r):!!e}var Wd,ou,mm,L8,mte=(L8=class extends mx{constructor(){super();Tt(this,Wd);Tt(this,ou);Tt(this,mm);dt(this,mm,r=>{if(!mf&&window.addEventListener){const n=()=>r();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){pe(this,ou)||this.setEventListener(pe(this,mm))}onUnsubscribe(){var r;this.hasListeners()||((r=pe(this,ou))==null||r.call(this),dt(this,ou,void 0))}setEventListener(r){var n;dt(this,mm,r),(n=pe(this,ou))==null||n.call(this),dt(this,ou,r(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(r){pe(this,Wd)!==r&&(dt(this,Wd,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(n=>{n(r)})}isFocused(){var r;return typeof pe(this,Wd)=="boolean"?pe(this,Wd):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},Wd=new WeakMap,ou=new WeakMap,mm=new WeakMap,L8),wA=new mte,pm,lu,gm,$8,pte=($8=class extends mx{constructor(){super();Tt(this,pm,!0);Tt(this,lu);Tt(this,gm);dt(this,gm,r=>{if(!mf&&window.addEventListener){const n=()=>r(!0),a=()=>r(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){pe(this,lu)||this.setEventListener(pe(this,gm))}onUnsubscribe(){var r;this.hasListeners()||((r=pe(this,lu))==null||r.call(this),dt(this,lu,void 0))}setEventListener(r){var n;dt(this,gm,r),(n=pe(this,lu))==null||n.call(this),dt(this,lu,r(this.setOnline.bind(this)))}setOnline(r){pe(this,pm)!==r&&(dt(this,pm,r),this.listeners.forEach(a=>{a(r)}))}isOnline(){return pe(this,pm)}},pm=new WeakMap,lu=new WeakMap,gm=new WeakMap,$8),vb=new pte;function N2(){let e,r;const n=new Promise((s,i)=>{e=s,r=i});n.status="pending",n.catch(()=>{});function a(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{a({status:"fulfilled",value:s}),e(s)},n.reject=s=>{a({status:"rejected",reason:s}),r(s)},n}function gte(e){return Math.min(1e3*2**e,3e4)}function dU(e){return(e??"online")==="online"?vb.isOnline():!0}var fU=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ek(e){return e instanceof fU}function hU(e){let r=!1,n=0,a=!1,s;const i=N2(),o=v=>{var x;a||(m(new fU(v)),(x=e.abort)==null||x.call(e))},c=()=>{r=!0},u=()=>{r=!1},d=()=>wA.isFocused()&&(e.networkMode==="always"||vb.isOnline())&&e.canRun(),f=()=>dU(e.networkMode)&&e.canRun(),h=v=>{var x;a||(a=!0,(x=e.onSuccess)==null||x.call(e,v),s==null||s(),i.resolve(v))},m=v=>{var x;a||(a=!0,(x=e.onError)==null||x.call(e,v),s==null||s(),i.reject(v))},p=()=>new Promise(v=>{var x;s=w=>{(a||d())&&v(w)},(x=e.onPause)==null||x.call(e)}).then(()=>{var v;s=void 0,a||(v=e.onContinue)==null||v.call(e)}),g=()=>{if(a)return;let v;const x=n===0?e.initialPromise:void 0;try{v=x??e.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(h).catch(w=>{var N;if(a)return;const b=e.retry??(mf?0:3),_=e.retryDelay??gte,S=typeof _=="function"?_(n,w):_,j=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,w);if(r||!j){m(w);return}n++,(N=e.onFail)==null||N.call(e,n,w),ute(S).then(()=>d()?void 0:p()).then(()=>{r?m(w):g()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:c,continueRetry:u,canStart:f,start:()=>(f()?g():p().then(g),i)}}var vte=e=>setTimeout(e,0);function xte(){let e=[],r=0,n=c=>{c()},a=c=>{c()},s=vte;const i=c=>{r?e.push(c):s(()=>{n(c)})},o=()=>{const c=e;e=[],c.length&&s(()=>{a(()=>{c.forEach(u=>{n(u)})})})};return{batch:c=>{let u;r++;try{u=c()}finally{r--,r||o()}return u},batchCalls:c=>(...u)=>{i(()=>{c(...u)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{a=c},setScheduler:c=>{s=c}}}var ua=xte(),Hd,B8,mU=(B8=class{constructor(){Tt(this,Hd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_2(this.gcTime)&&dt(this,Hd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(mf?1/0:5*60*1e3))}clearGcTimeout(){pe(this,Hd)&&(clearTimeout(pe(this,Hd)),dt(this,Hd,void 0))}},Hd=new WeakMap,B8),vm,qd,Ai,Kd,Aa,sx,Gd,lo,Wl,U8,yte=(U8=class extends mU{constructor(r){super();Tt(this,lo);Tt(this,vm);Tt(this,qd);Tt(this,Ai);Tt(this,Kd);Tt(this,Aa);Tt(this,sx);Tt(this,Gd);dt(this,Gd,!1),dt(this,sx,r.defaultOptions),this.setOptions(r.options),this.observers=[],dt(this,Kd,r.client),dt(this,Ai,pe(this,Kd).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,dt(this,vm,bte(this.options)),this.state=r.state??pe(this,vm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=pe(this,Aa))==null?void 0:r.promise}setOptions(r){this.options={...pe(this,sx),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&pe(this,Ai).remove(this)}setData(r,n){const a=k2(this.state.data,r,this.options);return Zt(this,lo,Wl).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(r,n){Zt(this,lo,Wl).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var a,s;const n=(a=pe(this,Aa))==null?void 0:a.promise;return(s=pe(this,Aa))==null||s.cancel(r),n?n.then(_s).catch(_s):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(pe(this,vm))}isActive(){return this.observers.some(r=>Oi(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>Au(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!lU(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(a=>a.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=pe(this,Aa))==null||n.continue()}onOnline(){var n;const r=this.observers.find(a=>a.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=pe(this,Aa))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),pe(this,Ai).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(pe(this,Aa)&&(pe(this,Gd)?pe(this,Aa).cancel({revert:!0}):pe(this,Aa).cancelRetry()),this.scheduleGc()),pe(this,Ai).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Zt(this,lo,Wl).call(this,{type:"invalidate"})}fetch(r,n){var d,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(pe(this,Aa))return pe(this,Aa).continueRetry(),pe(this,Aa).promise}if(r&&this.setOptions(r),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const a=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(dt(this,Gd,!0),a.signal)})},i=()=>{const m=uU(this.options,n),g=(()=>{const v={client:pe(this,Kd),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return dt(this,Gd,!1),this.options.persister?this.options.persister(m,g,this):m(g)},c=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:pe(this,Kd),state:this.state,fetchFn:i};return s(m),m})();(d=this.options.behavior)==null||d.onFetch(c,this),dt(this,qd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&Zt(this,lo,Wl).call(this,{type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta});const u=m=>{var p,g,v,x;ek(m)&&m.silent||Zt(this,lo,Wl).call(this,{type:"error",error:m}),ek(m)||((g=(p=pe(this,Ai).config).onError)==null||g.call(p,m,this),(x=(v=pe(this,Ai).config).onSettled)==null||x.call(v,this.state.data,m,this)),this.scheduleGc()};return dt(this,Aa,hU({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:a.abort.bind(a),onSuccess:m=>{var p,g,v,x;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){u(w);return}(g=(p=pe(this,Ai).config).onSuccess)==null||g.call(p,m,this),(x=(v=pe(this,Ai).config).onSettled)==null||x.call(v,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,p)=>{Zt(this,lo,Wl).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{Zt(this,lo,Wl).call(this,{type:"pause"})},onContinue:()=>{Zt(this,lo,Wl).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),pe(this,Aa).start()}},vm=new WeakMap,qd=new WeakMap,Ai=new WeakMap,Kd=new WeakMap,Aa=new WeakMap,sx=new WeakMap,Gd=new WeakMap,lo=new WeakSet,Wl=function(r){const n=a=>{switch(r.type){case"failed":return{...a,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...pU(a.data,this.options),fetchMeta:r.meta??null};case"success":return dt(this,qd,void 0),{...a,data:r.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=r.error;return ek(s)&&s.revert&&pe(this,qd)?{...pe(this,qd),fetchStatus:"idle"}:{...a,error:s,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...r.state}}};this.state=n(this.state),ua.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),pe(this,Ai).notify({query:this,type:"updated",action:r})})},U8);function pU(e,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dU(r.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function bte(e){const r=typeof e.initialData=="function"?e.initialData():e.initialData,n=r!==void 0,a=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var el,V8,wte=(V8=class extends mx{constructor(r={}){super();Tt(this,el);this.config=r,dt(this,el,new Map)}build(r,n,a){const s=n.queryKey,i=n.queryHash??yA(s,n);let o=this.get(i);return o||(o=new yte({client:r,queryKey:s,queryHash:i,options:r.defaultQueryOptions(n),state:a,defaultOptions:r.getQueryDefaults(s)}),this.add(o)),o}add(r){pe(this,el).has(r.queryHash)||(pe(this,el).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const n=pe(this,el).get(r.queryHash);n&&(r.destroy(),n===r&&pe(this,el).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){ua.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return pe(this,el).get(r)}getAll(){return[...pe(this,el).values()]}find(r){const n={exact:!0,...r};return this.getAll().find(a=>ER(n,a))}findAll(r={}){const n=this.getAll();return Object.keys(r).length>0?n.filter(a=>ER(r,a)):n}notify(r){ua.batch(()=>{this.listeners.forEach(n=>{n(r)})})}onFocus(){ua.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){ua.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},el=new WeakMap,V8),tl,Ja,Yd,rl,Hc,z8,_te=(z8=class extends mU{constructor(r){super();Tt(this,rl);Tt(this,tl);Tt(this,Ja);Tt(this,Yd);this.mutationId=r.mutationId,dt(this,Ja,r.mutationCache),dt(this,tl,[]),this.state=r.state||Ste(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){pe(this,tl).includes(r)||(pe(this,tl).push(r),this.clearGcTimeout(),pe(this,Ja).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){dt(this,tl,pe(this,tl).filter(n=>n!==r)),this.scheduleGc(),pe(this,Ja).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){pe(this,tl).length||(this.state.status==="pending"?this.scheduleGc():pe(this,Ja).remove(this))}continue(){var r;return((r=pe(this,Yd))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var i,o,c,u,d,f,h,m,p,g,v,x,w,b,_,S,j,N,k,E;const n=()=>{Zt(this,rl,Hc).call(this,{type:"continue"})};dt(this,Yd,hU({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(C,A)=>{Zt(this,rl,Hc).call(this,{type:"failed",failureCount:C,error:A})},onPause:()=>{Zt(this,rl,Hc).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>pe(this,Ja).canRun(this)}));const a=this.state.status==="pending",s=!pe(this,Yd).canStart();try{if(a)n();else{Zt(this,rl,Hc).call(this,{type:"pending",variables:r,isPaused:s}),await((o=(i=pe(this,Ja).config).onMutate)==null?void 0:o.call(i,r,this));const A=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,r));A!==this.state.context&&Zt(this,rl,Hc).call(this,{type:"pending",context:A,variables:r,isPaused:s})}const C=await pe(this,Yd).start();return await((f=(d=pe(this,Ja).config).onSuccess)==null?void 0:f.call(d,C,r,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,C,r,this.state.context)),await((g=(p=pe(this,Ja).config).onSettled)==null?void 0:g.call(p,C,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,C,null,r,this.state.context)),Zt(this,rl,Hc).call(this,{type:"success",data:C}),C}catch(C){try{throw await((b=(w=pe(this,Ja).config).onError)==null?void 0:b.call(w,C,r,this.state.context,this)),await((S=(_=this.options).onError)==null?void 0:S.call(_,C,r,this.state.context)),await((N=(j=pe(this,Ja).config).onSettled)==null?void 0:N.call(j,void 0,C,this.state.variables,this.state.context,this)),await((E=(k=this.options).onSettled)==null?void 0:E.call(k,void 0,C,r,this.state.context)),C}finally{Zt(this,rl,Hc).call(this,{type:"error",error:C})}}finally{pe(this,Ja).runNext(this)}}},tl=new WeakMap,Ja=new WeakMap,Yd=new WeakMap,rl=new WeakSet,Hc=function(r){const n=a=>{switch(r.type){case"failed":return{...a,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...a,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:r.error,failureCount:a.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ua.batch(()=>{pe(this,tl).forEach(a=>{a.onMutationUpdate(r)}),pe(this,Ja).notify({mutation:this,type:"updated",action:r})})},z8);function Ste(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yl,co,ix,W8,jte=(W8=class extends mx{constructor(r={}){super();Tt(this,Yl);Tt(this,co);Tt(this,ix);this.config=r,dt(this,Yl,new Set),dt(this,co,new Map),dt(this,ix,0)}build(r,n,a){const s=new _te({mutationCache:this,mutationId:++ly(this,ix)._,options:r.defaultMutationOptions(n),state:a});return this.add(s),s}add(r){pe(this,Yl).add(r);const n=Cy(r);if(typeof n=="string"){const a=pe(this,co).get(n);a?a.push(r):pe(this,co).set(n,[r])}this.notify({type:"added",mutation:r})}remove(r){if(pe(this,Yl).delete(r)){const n=Cy(r);if(typeof n=="string"){const a=pe(this,co).get(n);if(a)if(a.length>1){const s=a.indexOf(r);s!==-1&&a.splice(s,1)}else a[0]===r&&pe(this,co).delete(n)}}this.notify({type:"removed",mutation:r})}canRun(r){const n=Cy(r);if(typeof n=="string"){const a=pe(this,co).get(n),s=a==null?void 0:a.find(i=>i.state.status==="pending");return!s||s===r}else return!0}runNext(r){var a;const n=Cy(r);if(typeof n=="string"){const s=(a=pe(this,co).get(n))==null?void 0:a.find(i=>i!==r&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ua.batch(()=>{pe(this,Yl).forEach(r=>{this.notify({type:"removed",mutation:r})}),pe(this,Yl).clear(),pe(this,co).clear()})}getAll(){return Array.from(pe(this,Yl))}find(r){const n={exact:!0,...r};return this.getAll().find(a=>TR(n,a))}findAll(r={}){return this.getAll().filter(n=>TR(r,n))}notify(r){ua.batch(()=>{this.listeners.forEach(n=>{n(r)})})}resumePausedMutations(){const r=this.getAll().filter(n=>n.state.isPaused);return ua.batch(()=>Promise.all(r.map(n=>n.continue().catch(_s))))}},Yl=new WeakMap,co=new WeakMap,ix=new WeakMap,W8);function Cy(e){var r;return(r=e.options.scope)==null?void 0:r.id}function PR(e){return{onFetch:(r,n)=>{var f,h,m,p,g;const a=r.options,s=(m=(h=(f=r.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((p=r.state.data)==null?void 0:p.pages)||[],o=((g=r.state.data)==null?void 0:g.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const d=async()=>{let v=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(r.signal.aborted?v=!0:r.signal.addEventListener("abort",()=>{v=!0}),r.signal)})},w=uU(r.options,r.fetchOptions),b=async(_,S,j)=>{if(v)return Promise.reject();if(S==null&&_.pages.length)return Promise.resolve(_);const k=(()=>{const D={client:r.client,queryKey:r.queryKey,pageParam:S,direction:j?"backward":"forward",meta:r.options.meta};return x(D),D})(),E=await w(k),{maxPages:C}=r.options,A=j?fte:dte;return{pages:A(_.pages,E,C),pageParams:A(_.pageParams,S,C)}};if(s&&i.length){const _=s==="backward",S=_?kte:DR,j={pages:i,pageParams:o},N=S(a,j);c=await b(j,N,_)}else{const _=e??i.length;do{const S=u===0?o[0]??a.initialPageParam:DR(a,c);if(u>0&&S==null)break;c=await b(c,S),u++}while(u<_)}return c};r.options.persister?r.fetchFn=()=>{var v,x;return(x=(v=r.options).persister)==null?void 0:x.call(v,d,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},n)}:r.fetchFn=d}}}function DR(e,{pages:r,pageParams:n}){const a=r.length-1;return r.length>0?e.getNextPageParam(r[a],r,n[a],n):void 0}function kte(e,{pages:r,pageParams:n}){var a;return r.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,r[0],r,n[0],n):void 0}var an,cu,uu,xm,ym,du,bm,wm,H8,Nte=(H8=class{constructor(e={}){Tt(this,an);Tt(this,cu);Tt(this,uu);Tt(this,xm);Tt(this,ym);Tt(this,du);Tt(this,bm);Tt(this,wm);dt(this,an,e.queryCache||new wte),dt(this,cu,e.mutationCache||new jte),dt(this,uu,e.defaultOptions||{}),dt(this,xm,new Map),dt(this,ym,new Map),dt(this,du,0)}mount(){ly(this,du)._++,pe(this,du)===1&&(dt(this,bm,wA.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,an).onFocus())})),dt(this,wm,vb.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,an).onOnline())})))}unmount(){var e,r;ly(this,du)._--,pe(this,du)===0&&((e=pe(this,bm))==null||e.call(this),dt(this,bm,void 0),(r=pe(this,wm))==null||r.call(this),dt(this,wm,void 0))}isFetching(e){return pe(this,an).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return pe(this,cu).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const r=this.defaultQueryOptions({queryKey:e});return(n=pe(this,an).get(r.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const r=this.defaultQueryOptions(e),n=pe(this,an).build(this,r),a=n.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Au(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(a))}getQueriesData(e){return pe(this,an).findAll(e).map(({queryKey:r,state:n})=>{const a=n.data;return[r,a]})}setQueryData(e,r,n){const a=this.defaultQueryOptions({queryKey:e}),s=pe(this,an).get(a.queryHash),i=s==null?void 0:s.state.data,o=cte(r,i);if(o!==void 0)return pe(this,an).build(this,a).setData(o,{...n,manual:!0})}setQueriesData(e,r,n){return ua.batch(()=>pe(this,an).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,r,n)]))}getQueryState(e){var n;const r=this.defaultQueryOptions({queryKey:e});return(n=pe(this,an).get(r.queryHash))==null?void 0:n.state}removeQueries(e){const r=pe(this,an);ua.batch(()=>{r.findAll(e).forEach(n=>{r.remove(n)})})}resetQueries(e,r){const n=pe(this,an);return ua.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},r)))}cancelQueries(e,r={}){const n={revert:!0,...r},a=ua.batch(()=>pe(this,an).findAll(e).map(s=>s.cancel(n)));return Promise.all(a).then(_s).catch(_s)}invalidateQueries(e,r={}){return ua.batch(()=>(pe(this,an).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},r)))}refetchQueries(e,r={}){const n={...r,cancelRefetch:r.cancelRefetch??!0},a=ua.batch(()=>pe(this,an).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(_s)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(_s)}fetchQuery(e){const r=this.defaultQueryOptions(e);r.retry===void 0&&(r.retry=!1);const n=pe(this,an).build(this,r);return n.isStaleByTime(Au(r.staleTime,n))?n.fetch(r):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_s).catch(_s)}fetchInfiniteQuery(e){return e.behavior=PR(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_s).catch(_s)}ensureInfiniteQueryData(e){return e.behavior=PR(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return vb.isOnline()?pe(this,cu).resumePausedMutations():Promise.resolve()}getQueryCache(){return pe(this,an)}getMutationCache(){return pe(this,cu)}getDefaultOptions(){return pe(this,uu)}setDefaultOptions(e){dt(this,uu,e)}setQueryDefaults(e,r){pe(this,xm).set(Qg(e),{queryKey:e,defaultOptions:r})}getQueryDefaults(e){const r=[...pe(this,xm).values()],n={};return r.forEach(a=>{Zg(e,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(e,r){pe(this,ym).set(Qg(e),{mutationKey:e,defaultOptions:r})}getMutationDefaults(e){const r=[...pe(this,ym).values()],n={};return r.forEach(a=>{Zg(e,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const r={...pe(this,uu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return r.queryHash||(r.queryHash=yA(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===bA&&(r.enabled=!1),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...pe(this,uu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){pe(this,an).clear(),pe(this,cu).clear()}},an=new WeakMap,cu=new WeakMap,uu=new WeakMap,xm=new WeakMap,ym=new WeakMap,du=new WeakMap,bm=new WeakMap,wm=new WeakMap,H8),ys,er,ox,Qa,Xd,_m,fu,hu,lx,Sm,jm,Jd,Qd,mu,km,gr,z0,C2,E2,T2,A2,O2,P2,D2,gU,q8,Cte=(q8=class extends mx{constructor(r,n){super();Tt(this,gr);Tt(this,ys);Tt(this,er);Tt(this,ox);Tt(this,Qa);Tt(this,Xd);Tt(this,_m);Tt(this,fu);Tt(this,hu);Tt(this,lx);Tt(this,Sm);Tt(this,jm);Tt(this,Jd);Tt(this,Qd);Tt(this,mu);Tt(this,km,new Set);this.options=n,dt(this,ys,r),dt(this,hu,null),dt(this,fu,N2()),this.options.experimental_prefetchInRender||pe(this,fu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(pe(this,er).addObserver(this),RR(pe(this,er),this.options)?Zt(this,gr,z0).call(this):this.updateResult(),Zt(this,gr,A2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return R2(pe(this,er),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return R2(pe(this,er),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Zt(this,gr,O2).call(this),Zt(this,gr,P2).call(this),pe(this,er).removeObserver(this)}setOptions(r){const n=this.options,a=pe(this,er);if(this.options=pe(this,ys).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Oi(this.options.enabled,pe(this,er))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Zt(this,gr,D2).call(this),pe(this,er).setOptions(this.options),n._defaulted&&!S2(this.options,n)&&pe(this,ys).getQueryCache().notify({type:"observerOptionsUpdated",query:pe(this,er),observer:this});const s=this.hasListeners();s&&IR(pe(this,er),a,this.options,n)&&Zt(this,gr,z0).call(this),this.updateResult(),s&&(pe(this,er)!==a||Oi(this.options.enabled,pe(this,er))!==Oi(n.enabled,pe(this,er))||Au(this.options.staleTime,pe(this,er))!==Au(n.staleTime,pe(this,er)))&&Zt(this,gr,C2).call(this);const i=Zt(this,gr,E2).call(this);s&&(pe(this,er)!==a||Oi(this.options.enabled,pe(this,er))!==Oi(n.enabled,pe(this,er))||i!==pe(this,mu))&&Zt(this,gr,T2).call(this,i)}getOptimisticResult(r){const n=pe(this,ys).getQueryCache().build(pe(this,ys),r),a=this.createResult(n,r);return Tte(this,a)&&(dt(this,Qa,a),dt(this,_m,this.options),dt(this,Xd,pe(this,er).state)),a}getCurrentResult(){return pe(this,Qa)}trackResult(r,n){return new Proxy(r,{get:(a,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(a,s))})}trackProp(r){pe(this,km).add(r)}getCurrentQuery(){return pe(this,er)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const n=pe(this,ys).defaultQueryOptions(r),a=pe(this,ys).getQueryCache().build(pe(this,ys),n);return a.fetch().then(()=>this.createResult(a,n))}fetch(r){return Zt(this,gr,z0).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),pe(this,Qa)))}createResult(r,n){var C;const a=pe(this,er),s=this.options,i=pe(this,Qa),o=pe(this,Xd),c=pe(this,_m),d=r!==a?r.state:pe(this,ox),{state:f}=r;let h={...f},m=!1,p;if(n._optimisticResults){const A=this.hasListeners(),D=!A&&RR(r,n),T=A&&IR(r,a,n,s);(D||T)&&(h={...h,...pU(f.data,r.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:x}=h;p=h.data;let w=!1;if(n.placeholderData!==void 0&&p===void 0&&x==="pending"){let A;i!=null&&i.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(A=i.data,w=!0):A=typeof n.placeholderData=="function"?n.placeholderData((C=pe(this,jm))==null?void 0:C.state.data,pe(this,jm)):n.placeholderData,A!==void 0&&(x="success",p=k2(i==null?void 0:i.data,A,n),m=!0)}if(n.select&&p!==void 0&&!w)if(i&&p===(o==null?void 0:o.data)&&n.select===pe(this,lx))p=pe(this,Sm);else try{dt(this,lx,n.select),p=n.select(p),p=k2(i==null?void 0:i.data,p,n),dt(this,Sm,p),dt(this,hu,null)}catch(A){dt(this,hu,A)}pe(this,hu)&&(g=pe(this,hu),p=pe(this,Sm),v=Date.now(),x="error");const b=h.fetchStatus==="fetching",_=x==="pending",S=x==="error",j=_&&b,N=p!==void 0,E={status:x,fetchStatus:h.fetchStatus,isPending:_,isSuccess:x==="success",isError:S,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:b,isRefetching:b&&!_,isLoadingError:S&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:S&&N,isStale:_A(r,n),refetch:this.refetch,promise:pe(this,fu),isEnabled:Oi(n.enabled,r)!==!1};if(this.options.experimental_prefetchInRender){const A=W=>{E.status==="error"?W.reject(E.error):E.data!==void 0&&W.resolve(E.data)},D=()=>{const W=dt(this,fu,E.promise=N2());A(W)},T=pe(this,fu);switch(T.status){case"pending":r.queryHash===a.queryHash&&A(T);break;case"fulfilled":(E.status==="error"||E.data!==T.value)&&D();break;case"rejected":(E.status!=="error"||E.error!==T.reason)&&D();break}}return E}updateResult(){const r=pe(this,Qa),n=this.createResult(pe(this,er),this.options);if(dt(this,Xd,pe(this,er).state),dt(this,_m,this.options),pe(this,Xd).data!==void 0&&dt(this,jm,pe(this,er)),S2(n,r))return;dt(this,Qa,n);const a=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!pe(this,km).size)return!0;const o=new Set(i??pe(this,km));return this.options.throwOnError&&o.add("error"),Object.keys(pe(this,Qa)).some(c=>{const u=c;return pe(this,Qa)[u]!==r[u]&&o.has(u)})};Zt(this,gr,gU).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Zt(this,gr,A2).call(this)}},ys=new WeakMap,er=new WeakMap,ox=new WeakMap,Qa=new WeakMap,Xd=new WeakMap,_m=new WeakMap,fu=new WeakMap,hu=new WeakMap,lx=new WeakMap,Sm=new WeakMap,jm=new WeakMap,Jd=new WeakMap,Qd=new WeakMap,mu=new WeakMap,km=new WeakMap,gr=new WeakSet,z0=function(r){Zt(this,gr,D2).call(this);let n=pe(this,er).fetch(this.options,r);return r!=null&&r.throwOnError||(n=n.catch(_s)),n},C2=function(){Zt(this,gr,O2).call(this);const r=Au(this.options.staleTime,pe(this,er));if(mf||pe(this,Qa).isStale||!_2(r))return;const a=lU(pe(this,Qa).dataUpdatedAt,r)+1;dt(this,Jd,setTimeout(()=>{pe(this,Qa).isStale||this.updateResult()},a))},E2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(pe(this,er)):this.options.refetchInterval)??!1},T2=function(r){Zt(this,gr,P2).call(this),dt(this,mu,r),!(mf||Oi(this.options.enabled,pe(this,er))===!1||!_2(pe(this,mu))||pe(this,mu)===0)&&dt(this,Qd,setInterval(()=>{(this.options.refetchIntervalInBackground||wA.isFocused())&&Zt(this,gr,z0).call(this)},pe(this,mu)))},A2=function(){Zt(this,gr,C2).call(this),Zt(this,gr,T2).call(this,Zt(this,gr,E2).call(this))},O2=function(){pe(this,Jd)&&(clearTimeout(pe(this,Jd)),dt(this,Jd,void 0))},P2=function(){pe(this,Qd)&&(clearInterval(pe(this,Qd)),dt(this,Qd,void 0))},D2=function(){const r=pe(this,ys).getQueryCache().build(pe(this,ys),this.options);if(r===pe(this,er))return;const n=pe(this,er);dt(this,er,r),dt(this,ox,r.state),this.hasListeners()&&(n==null||n.removeObserver(this),r.addObserver(this))},gU=function(r){ua.batch(()=>{r.listeners&&this.listeners.forEach(n=>{n(pe(this,Qa))}),pe(this,ys).getQueryCache().notify({query:pe(this,er),type:"observerResultsUpdated"})})},q8);function Ete(e,r){return Oi(r.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&r.retryOnMount===!1)}function RR(e,r){return Ete(e,r)||e.state.data!==void 0&&R2(e,r,r.refetchOnMount)}function R2(e,r,n){if(Oi(r.enabled,e)!==!1&&Au(r.staleTime,e)!=="static"){const a=typeof n=="function"?n(e):n;return a==="always"||a!==!1&&_A(e,r)}return!1}function IR(e,r,n,a){return(e!==r||Oi(a.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&_A(e,n)}function _A(e,r){return Oi(r.enabled,e)!==!1&&e.isStaleByTime(Au(r.staleTime,e))}function Tte(e,r){return!S2(e.getCurrentResult(),r)}var vU=y.createContext(void 0),Ate=e=>{const r=y.useContext(vU);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},Ote=({client:e,children:r})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(vU.Provider,{value:e,children:r})),xU=y.createContext(!1),Pte=()=>y.useContext(xU);xU.Provider;function Dte(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Rte=y.createContext(Dte()),Ite=()=>y.useContext(Rte),Mte=(e,r)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(r.isReset()||(e.retryOnMount=!1))},Fte=e=>{y.useEffect(()=>{e.clearReset()},[e])},Lte=({result:e,errorResetBoundary:r,throwOnError:n,query:a,suspense:s})=>e.isError&&!r.isReset()&&!e.isFetching&&a&&(s&&e.data===void 0||hte(n,[e.error,a])),$te=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Bte=(e,r)=>e.isLoading&&e.isFetching&&!r,Ute=(e,r)=>(e==null?void 0:e.suspense)&&r.isPending,MR=(e,r,n)=>r.fetchOptimistic(e).catch(()=>{n.clearReset()});function Vte(e,r,n){var h,m,p,g,v;const a=Pte(),s=Ite(),i=Ate(),o=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o),o._optimisticResults=a?"isRestoring":"optimistic",$te(o),Mte(o,s),Fte(s);const c=!i.getQueryCache().get(o.queryHash),[u]=y.useState(()=>new r(i,o)),d=u.getOptimisticResult(o),f=!a&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(x=>{const w=f?u.subscribe(ua.batchCalls(x)):_s;return u.updateResult(),w},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),y.useEffect(()=>{u.setOptions(o)},[o,u]),Ute(o,d))throw MR(o,u,s);if(Lte({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((g=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,o,d),o.experimental_prefetchInRender&&!mf&&Bte(d,a)){const x=c?MR(o,u,s):(v=i.getQueryCache().get(o.queryHash))==null?void 0:v.promise;x==null||x.catch(_s).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function SA(e,r){return Vte(e,Cte)}const It=e=>typeof e=="string",y0=()=>{let e,r;const n=new Promise((a,s)=>{e=a,r=s});return n.resolve=e,n.reject=r,n},FR=e=>e==null?"":""+e,zte=(e,r,n)=>{e.forEach(a=>{r[a]&&(n[a]=r[a])})},Wte=/###/g,LR=e=>e&&e.indexOf("###")>-1?e.replace(Wte,"."):e,$R=e=>!e||It(e),cg=(e,r,n)=>{const a=It(r)?r.split("."):r;let s=0;for(;s<a.length-1;){if($R(e))return{};const i=LR(a[s]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++s}return $R(e)?{}:{obj:e,k:LR(a[s])}},BR=(e,r,n)=>{const{obj:a,k:s}=cg(e,r,Object);if(a!==void 0||r.length===1){a[s]=n;return}let i=r[r.length-1],o=r.slice(0,r.length-1),c=cg(e,o,Object);for(;c.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),c=cg(e,o,Object),c!=null&&c.obj&&typeof c.obj[`${c.k}.${i}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${i}`]=n},Hte=(e,r,n,a)=>{const{obj:s,k:i}=cg(e,r,Object);s[i]=s[i]||[],s[i].push(n)},xb=(e,r)=>{const{obj:n,k:a}=cg(e,r);if(n&&Object.prototype.hasOwnProperty.call(n,a))return n[a]},qte=(e,r,n)=>{const a=xb(e,n);return a!==void 0?a:xb(r,n)},yU=(e,r,n)=>{for(const a in r)a!=="__proto__"&&a!=="constructor"&&(a in e?It(e[a])||e[a]instanceof String||It(r[a])||r[a]instanceof String?n&&(e[a]=r[a]):yU(e[a],r[a],n):e[a]=r[a]);return e},eh=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Kte={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Gte=e=>It(e)?e.replace(/[&<>"'\/]/g,r=>Kte[r]):e;class Yte{constructor(r){this.capacity=r,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(r){const n=this.regExpMap.get(r);if(n!==void 0)return n;const a=new RegExp(r);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(r,a),this.regExpQueue.push(r),a}}const Xte=[" ",",","?","!",";"],Jte=new Yte(20),Qte=(e,r,n)=>{r=r||"",n=n||"";const a=Xte.filter(o=>r.indexOf(o)<0&&n.indexOf(o)<0);if(a.length===0)return!0;const s=Jte.getRegExp(`(${a.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(e);if(!i){const o=e.indexOf(n);o>0&&!s.test(e.substring(0,o))&&(i=!0)}return i},I2=(e,r,n=".")=>{if(!e)return;if(e[r])return Object.prototype.hasOwnProperty.call(e,r)?e[r]:void 0;const a=r.split(n);let s=e;for(let i=0;i<a.length;){if(!s||typeof s!="object")return;let o,c="";for(let u=i;u<a.length;++u)if(u!==i&&(c+=n),c+=a[u],o=s[c],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&u<a.length-1)continue;i+=u-i+1;break}s=o}return s},ev=e=>e==null?void 0:e.replace("_","-"),Zte={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,r){var n,a;(a=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||a.call(n,console,r)}};class yb{constructor(r,n={}){this.init(r,n)}init(r,n={}){this.prefix=n.prefix||"i18next:",this.logger=r||Zte,this.options=n,this.debug=n.debug}log(...r){return this.forward(r,"log","",!0)}warn(...r){return this.forward(r,"warn","",!0)}error(...r){return this.forward(r,"error","")}deprecate(...r){return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(r,n,a,s){return s&&!this.debug?null:(It(r[0])&&(r[0]=`${a}${this.prefix} ${r[0]}`),this.logger[n](r))}create(r){return new yb(this.logger,{prefix:`${this.prefix}:${r}:`,...this.options})}clone(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new yb(this.logger,r)}}var ol=new yb;let C_=class{constructor(){this.observers={}}on(r,n){return r.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const s=this.observers[a].get(n)||0;this.observers[a].set(n,s+1)}),this}off(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r].delete(n)}}emit(r,...n){this.observers[r]&&Array.from(this.observers[r].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s.apply(s,[r,...n])})}};class UR extends C_{constructor(r,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=r||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}removeNamespaces(r){const n=this.options.ns.indexOf(r);n>-1&&this.options.ns.splice(n,1)}getResource(r,n,a,s={}){var d,f;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;r.indexOf(".")>-1?c=r.split("."):(c=[r,n],a&&(Array.isArray(a)?c.push(...a):It(a)&&i?c.push(...a.split(i)):c.push(a)));const u=xb(this.data,c);return!u&&!n&&!a&&r.indexOf(".")>-1&&(r=c[0],n=c[1],a=c.slice(2).join(".")),u||!o||!It(a)?u:I2((f=(d=this.data)==null?void 0:d[r])==null?void 0:f[n],a,i)}addResource(r,n,a,s,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=[r,n];a&&(c=c.concat(o?a.split(o):a)),r.indexOf(".")>-1&&(c=r.split("."),s=n,n=c[1]),this.addNamespaces(n),BR(this.data,c,s),i.silent||this.emit("added",r,n,a,s)}addResources(r,n,a,s={silent:!1}){for(const i in a)(It(a[i])||Array.isArray(a[i]))&&this.addResource(r,n,i,a[i],{silent:!0});s.silent||this.emit("added",r,n,a)}addResourceBundle(r,n,a,s,i,o={silent:!1,skipCopy:!1}){let c=[r,n];r.indexOf(".")>-1&&(c=r.split("."),s=a,a=n,n=c[1]),this.addNamespaces(n);let u=xb(this.data,c)||{};o.skipCopy||(a=JSON.parse(JSON.stringify(a))),s?yU(u,a,i):u={...u,...a},BR(this.data,c,u),o.silent||this.emit("added",r,n,a)}removeResourceBundle(r,n){this.hasResourceBundle(r,n)&&delete this.data[r][n],this.removeNamespaces(n),this.emit("removed",r,n)}hasResourceBundle(r,n){return this.getResource(r,n)!==void 0}getResourceBundle(r,n){return n||(n=this.options.defaultNS),this.getResource(r,n)}getDataByLanguage(r){return this.data[r]}hasLanguageSomeTranslations(r){const n=this.getDataByLanguage(r);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var bU={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,r,n,a,s){return e.forEach(i=>{var o;r=((o=this.processors[i])==null?void 0:o.process(r,n,a,s))??r}),r}};const wU=Symbol("i18next/PATH_KEY");function ere(){const e=[],r=Object.create(null);let n;return r.get=(a,s)=>{var i;return(i=n==null?void 0:n.revoke)==null||i.call(n),s===wU?e:(e.push(s),n=Proxy.revocable(a,r),n.proxy)},Proxy.revocable(Object.create(null),r).proxy}function M2(e,r){const{[wU]:n}=e(ere());return n.join((r==null?void 0:r.keySeparator)??".")}const VR={},tk=e=>!It(e)&&typeof e!="boolean"&&typeof e!="number";class bb extends C_{constructor(r,n={}){super(),zte(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ol.create("translator")}changeLanguage(r){r&&(this.language=r)}exists(r,n={interpolation:{}}){const a={...n};if(r==null)return!1;const s=this.resolve(r,a);if((s==null?void 0:s.res)===void 0)return!1;const i=tk(s.res);return!(a.returnObjects===!1&&i)}extractFromKey(r,n){let a=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=a&&r.indexOf(a)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Qte(r,a,s);if(o&&!c){const u=r.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:r,namespaces:It(i)?[i]:i};const d=r.split(a);(a!==s||a===s&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),r=d.join(s)}return{key:r,namespaces:It(i)?[i]:i}}translate(r,n,a){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),r==null)return"";typeof r=="function"&&(r=M2(r,{...this.options,...s})),Array.isArray(r)||(r=[String(r)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:c,namespaces:u}=this.extractFromKey(r[r.length-1],s),d=u[u.length-1];let f=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const h=s.lng||this.language,m=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return m?i?{res:`${d}${f}${c}`,usedKey:c,exactUsedKey:c,usedLng:h,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:`${d}${f}${c}`:i?{res:c,usedKey:c,exactUsedKey:c,usedLng:h,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:c;const p=this.resolve(r,s);let g=p==null?void 0:p.res;const v=(p==null?void 0:p.usedKey)||c,x=(p==null?void 0:p.exactUsedKey)||c,w=["[object Number]","[object Function]","[object RegExp]"],b=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,S=s.count!==void 0&&!It(s.count),j=bb.hasDefaultValue(s),N=S?this.pluralResolver.getSuffix(h,s.count,s):"",k=s.ordinal&&S?this.pluralResolver.getSuffix(h,s.count,{ordinal:!1}):"",E=S&&!s.ordinal&&s.count===0,C=E&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${N}`]||s[`defaultValue${k}`]||s.defaultValue;let A=g;_&&!g&&j&&(A=C);const D=tk(A),T=Object.prototype.toString.apply(A);if(_&&A&&D&&w.indexOf(T)<0&&!(It(b)&&Array.isArray(A))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const W=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,A,{...s,ns:u}):`key '${c} (${this.language})' returned an object instead of string.`;return i?(p.res=W,p.usedParams=this.getUsedParamsDetails(s),p):W}if(o){const W=Array.isArray(A),q=W?[]:{},L=W?x:v;for(const I in A)if(Object.prototype.hasOwnProperty.call(A,I)){const z=`${L}${o}${I}`;j&&!g?q[I]=this.translate(z,{...s,defaultValue:tk(C)?C[I]:void 0,joinArrays:!1,ns:u}):q[I]=this.translate(z,{...s,joinArrays:!1,ns:u}),q[I]===z&&(q[I]=A[I])}g=q}}else if(_&&It(b)&&Array.isArray(g))g=g.join(b),g&&(g=this.extendTranslation(g,r,s,a));else{let W=!1,q=!1;!this.isValidLookup(g)&&j&&(W=!0,g=C),this.isValidLookup(g)||(q=!0,g=c);const I=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&q?void 0:g,z=j&&C!==g&&this.options.updateMissing;if(q||W||z){if(this.logger.log(z?"updateKey":"missingKey",h,d,c,z?C:g),o){const ee=this.resolve(c,{...s,keySeparator:!1});ee&&ee.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&M&&M[0])for(let ee=0;ee<M.length;ee++)F.push(M[ee]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(s.lng||this.language):F.push(s.lng||this.language);const X=(ee,P,J)=>{var K;const V=j&&J!==g?J:I;this.options.missingKeyHandler?this.options.missingKeyHandler(ee,d,P,V,z,s):(K=this.backendConnector)!=null&&K.saveMissing&&this.backendConnector.saveMissing(ee,d,P,V,z,s),this.emit("missingKey",ee,d,P,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?F.forEach(ee=>{const P=this.pluralResolver.getSuffixes(ee,s);E&&s[`defaultValue${this.options.pluralSeparator}zero`]&&P.indexOf(`${this.options.pluralSeparator}zero`)<0&&P.push(`${this.options.pluralSeparator}zero`),P.forEach(J=>{X([ee],c+J,s[`defaultValue${J}`]||C)})}):X(F,c,C))}g=this.extendTranslation(g,r,s,p,a),q&&g===c&&this.options.appendNamespaceToMissingKey&&(g=`${d}${f}${c}`),(q||W)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${f}${c}`:c,W?g:void 0,s))}return i?(p.res=g,p.usedParams=this.getUsedParamsDetails(s),p):g}extendTranslation(r,n,a,s,i){var u,d;if((u=this.i18nFormat)!=null&&u.parse)r=this.i18nFormat.parse(r,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const f=It(r)&&(((d=a==null?void 0:a.interpolation)==null?void 0:d.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(f){const p=r.match(this.interpolator.nestingRegexp);h=p&&p.length}let m=a.replace&&!It(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),r=this.interpolator.interpolate(r,m,a.lng||this.language||s.usedLng,a),f){const p=r.match(this.interpolator.nestingRegexp),g=p&&p.length;h<g&&(a.nest=!1)}!a.lng&&s&&s.res&&(a.lng=this.language||s.usedLng),a.nest!==!1&&(r=this.interpolator.nest(r,(...p)=>(i==null?void 0:i[0])===p[0]&&!a.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),a)),a.interpolation&&this.interpolator.reset()}const o=a.postProcess||this.options.postProcess,c=It(o)?[o]:o;return r!=null&&(c!=null&&c.length)&&a.applyPostProcessor!==!1&&(r=bU.handle(c,r,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),r}resolve(r,n={}){let a,s,i,o,c;return It(r)&&(r=[r]),r.forEach(u=>{if(this.isValidLookup(a))return;const d=this.extractFromKey(u,n),f=d.key;s=f;let h=d.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=n.count!==void 0&&!It(n.count),p=m&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(It(n.context)||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(x=>{var w,b;this.isValidLookup(a)||(c=x,!VR[`${v[0]}-${x}`]&&((w=this.utils)!=null&&w.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(c))&&(VR[`${v[0]}-${x}`]=!0,this.logger.warn(`key "${s}" for languages "${v.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(_=>{var N;if(this.isValidLookup(a))return;o=_;const S=[f];if((N=this.i18nFormat)!=null&&N.addLookupKeys)this.i18nFormat.addLookupKeys(S,f,_,x,n);else{let k;m&&(k=this.pluralResolver.getSuffix(_,n.count,n));const E=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(n.ordinal&&k.indexOf(C)===0&&S.push(f+k.replace(C,this.options.pluralSeparator)),S.push(f+k),p&&S.push(f+E)),g){const A=`${f}${this.options.contextSeparator||"_"}${n.context}`;S.push(A),m&&(n.ordinal&&k.indexOf(C)===0&&S.push(A+k.replace(C,this.options.pluralSeparator)),S.push(A+k),p&&S.push(A+E))}}let j;for(;j=S.pop();)this.isValidLookup(a)||(i=j,a=this.getResource(_,x,j,n))}))})}),{res:a,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:c}}isValidLookup(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}getResource(r,n,a,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(r,n,a,s):this.resourceStore.getResource(r,n,a,s)}getUsedParamsDetails(r={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=r.replace&&!It(r.replace);let s=a?r.replace:r;if(a&&typeof r.count<"u"&&(s.count=r.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!a){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(r){const n="defaultValue";for(const a in r)if(Object.prototype.hasOwnProperty.call(r,a)&&n===a.substring(0,n.length)&&r[a]!==void 0)return!0;return!1}}class zR{constructor(r){this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ol.create("languageUtils")}getScriptPartFromCode(r){if(r=ev(r),!r||r.indexOf("-")<0)return null;const n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(r){if(r=ev(r),!r||r.indexOf("-")<0)return r;const n=r.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(r){if(It(r)&&r.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(r)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?r.toLowerCase():r)}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}isSupportedCode(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}getBestMatchFromCodes(r){if(!r)return null;let n;return r.forEach(a=>{if(n)return;const s=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&r.forEach(a=>{if(n)return;const s=this.getScriptPartFromCode(a);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(a);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),It(r)&&(r=[r]),Array.isArray(r))return r;if(!n)return r.default||[];let a=r[n];return a||(a=r[this.getScriptPartFromCode(n)]),a||(a=r[this.formatLanguageCode(n)]),a||(a=r[this.getLanguagePartFromCode(n)]),a||(a=r.default),a||[]}toResolveHierarchy(r,n){const a=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],r),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return It(r)&&(r.indexOf("-")>-1||r.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(r))):It(r)&&i(this.formatLanguageCode(r)),a.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}const WR={zero:0,one:1,two:2,few:3,many:4,other:5},HR={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class tre{constructor(r,n={}){this.languageUtils=r,this.options=n,this.logger=ol.create("pluralResolver"),this.pluralRulesCache={}}addRule(r,n){this.rules[r]=n}clearCache(){this.pluralRulesCache={}}getRule(r,n={}){const a=ev(r==="dev"?"en":r),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:a,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(a,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),HR;if(!r.match(/-|_/))return HR;const u=this.languageUtils.getLanguagePartFromCode(r);o=this.getRule(u,n)}return this.pluralRulesCache[i]=o,o}needsPlural(r,n={}){let a=this.getRule(r,n);return a||(a=this.getRule("dev",n)),(a==null?void 0:a.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(r,n,a={}){return this.getSuffixes(r,a).map(s=>`${n}${s}`)}getSuffixes(r,n={}){let a=this.getRule(r,n);return a||(a=this.getRule("dev",n)),a?a.resolvedOptions().pluralCategories.sort((s,i)=>WR[s]-WR[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(r,n,a={}){const s=this.getRule(r,a);return s?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${r}`),this.getSuffix("dev",n,a))}}const qR=(e,r,n,a=".",s=!0)=>{let i=qte(e,r,n);return!i&&s&&It(n)&&(i=I2(e,n,a),i===void 0&&(i=I2(r,n,a))),i},rk=e=>e.replace(/\$/g,"$$$$");class rre{constructor(r={}){var n;this.logger=ol.create("interpolator"),this.options=r,this.format=((n=r==null?void 0:r.interpolation)==null?void 0:n.format)||(a=>a),this.init(r)}init(r={}){r.interpolation||(r.interpolation={escapeValue:!0});const{escape:n,escapeValue:a,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:c,suffixEscaped:u,formatSeparator:d,unescapeSuffix:f,unescapePrefix:h,nestingPrefix:m,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:v,nestingOptionsSeparator:x,maxReplaces:w,alwaysFormat:b}=r.interpolation;this.escape=n!==void 0?n:Gte,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?eh(i):o||"{{",this.suffix=c?eh(c):u||"}}",this.formatSeparator=d||",",this.unescapePrefix=f?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=m?eh(m):p||eh("$t("),this.nestingSuffix=g?eh(g):v||eh(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=w||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const r=(n,a)=>(n==null?void 0:n.source)===a?(n.lastIndex=0,n):new RegExp(a,"g");this.regexp=r(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=r(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=r(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(r,n,a,s){var p;let i,o,c;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=g=>{if(g.indexOf(this.formatSeparator)<0){const b=qR(n,u,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,a,{...s,...n,interpolationkey:g}):b}const v=g.split(this.formatSeparator),x=v.shift().trim(),w=v.join(this.formatSeparator).trim();return this.format(qR(n,u,x,this.options.keySeparator,this.options.ignoreJSONStructure),w,a,{...s,...n,interpolationkey:x})};this.resetRegExp();const f=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((p=s==null?void 0:s.interpolation)==null?void 0:p.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>rk(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?rk(this.escape(g)):rk(g)}].forEach(g=>{for(c=0;i=g.regex.exec(r);){const v=i[1].trim();if(o=d(v),o===void 0)if(typeof f=="function"){const w=f(r,i,s);o=It(w)?w:""}else if(s&&Object.prototype.hasOwnProperty.call(s,v))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${r}`),o="";else!It(o)&&!this.useRawValueToEscape&&(o=FR(o));const x=g.safeValue(o);if(r=r.replace(i[0],x),h?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=i[0].length):g.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),r}nest(r,n,a={}){let s,i,o;const c=(u,d)=>{const f=this.nestingOptionsSeparator;if(u.indexOf(f)<0)return u;const h=u.split(new RegExp(`${f}[ ]*{`));let m=`{${h[1]}`;u=h[0],m=this.interpolate(m,o);const p=m.match(/'/g),g=m.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(m=m.replace(/'/g,'"'));try{o=JSON.parse(m),d&&(o={...d,...o})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,v),`${u}${f}${m}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,u};for(;s=this.nestingRegexp.exec(r);){let u=[];o={...a},o=o.replace&&!It(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const d=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(d!==-1&&(u=s[1].slice(d).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),s[1]=s[1].slice(0,d)),i=n(c.call(this,s[1].trim(),o),o),i&&s[0]===r&&!It(i))return i;It(i)||(i=FR(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${r}`),i=""),u.length&&(i=u.reduce((f,h)=>this.format(f,h,a.lng,{...a,interpolationkey:s[1].trim()}),i.trim())),r=r.replace(s[0],i),this.regexp.lastIndex=0}return r}}const nre=e=>{let r=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const a=e.split("(");r=a[0].toLowerCase().trim();const s=a[1].substring(0,a[1].length-1);r==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):r==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(o){const[c,...u]=o.split(":"),d=u.join(":").trim().replace(/^'+|'+$/g,""),f=c.trim();n[f]||(n[f]=d),d==="false"&&(n[f]=!1),d==="true"&&(n[f]=!0),isNaN(d)||(n[f]=parseInt(d,10))}})}return{formatName:r,formatOptions:n}},KR=e=>{const r={};return(n,a,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=a+JSON.stringify(i);let c=r[o];return c||(c=e(ev(a),s),r[o]=c),c(n)}},are=e=>(r,n,a)=>e(ev(n),a)(r);class sre{constructor(r={}){this.logger=ol.create("formatter"),this.options=r,this.init(r)}init(r,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const a=n.cacheInBuiltFormats?KR:are;this.formats={number:a((s,i)=>{const o=new Intl.NumberFormat(s,{...i});return c=>o.format(c)}),currency:a((s,i)=>{const o=new Intl.NumberFormat(s,{...i,style:"currency"});return c=>o.format(c)}),datetime:a((s,i)=>{const o=new Intl.DateTimeFormat(s,{...i});return c=>o.format(c)}),relativetime:a((s,i)=>{const o=new Intl.RelativeTimeFormat(s,{...i});return c=>o.format(c,i.range||"day")}),list:a((s,i)=>{const o=new Intl.ListFormat(s,{...i});return c=>o.format(c)})}}add(r,n){this.formats[r.toLowerCase().trim()]=n}addCached(r,n){this.formats[r.toLowerCase().trim()]=KR(n)}format(r,n,a,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(c=>c.indexOf(")")>-1)){const c=i.findIndex(u=>u.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,c)].join(this.formatSeparator)}return i.reduce((c,u)=>{var h;const{formatName:d,formatOptions:f}=nre(u);if(this.formats[d]){let m=c;try{const p=((h=s==null?void 0:s.formatParams)==null?void 0:h[s.interpolationkey])||{},g=p.locale||p.lng||s.locale||s.lng||a;m=this.formats[d](c,g,{...f,...s,...p})}catch(p){this.logger.warn(p)}return m}else this.logger.warn(`there was no format function for ${d}`);return c},r)}}const ire=(e,r)=>{e.pending[r]!==void 0&&(delete e.pending[r],e.pendingCount--)};class ore extends C_{constructor(r,n,a,s={}){var i,o;super(),this.backend=r,this.store=n,this.services=a,this.languageUtils=a.languageUtils,this.options=s,this.logger=ol.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(o=(i=this.backend)==null?void 0:i.init)==null||o.call(i,a,s.backend,s)}queueLoad(r,n,a,s){const i={},o={},c={},u={};return r.forEach(d=>{let f=!0;n.forEach(h=>{const m=`${d}|${h}`;!a.reload&&this.store.hasResourceBundle(d,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?o[m]===void 0&&(o[m]=!0):(this.state[m]=1,f=!1,o[m]===void 0&&(o[m]=!0),i[m]===void 0&&(i[m]=!0),u[h]===void 0&&(u[h]=!0)))}),f||(c[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(u)}}loaded(r,n,a){const s=r.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),!n&&a&&this.store.addResourceBundle(i,o,a,void 0,void 0,{skipCopy:!0}),this.state[r]=n?-1:2,n&&a&&(this.state[r]=0);const c={};this.queue.forEach(u=>{Hte(u.loaded,[i],o),ire(u,r),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(d=>{c[d]||(c[d]={});const f=u.loaded[d];f.length&&f.forEach(h=>{c[d][h]===void 0&&(c[d][h]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(u=>!u.done)}read(r,n,a,s=0,i=this.retryTimeout,o){if(!r.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:n,fcName:a,tried:s,wait:i,callback:o});return}this.readingCalls++;const c=(d,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(d&&f&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,r,n,a,s+1,i*2,o)},i);return}o(d,f)},u=this.backend[a].bind(this.backend);if(u.length===2){try{const d=u(r,n);d&&typeof d.then=="function"?d.then(f=>c(null,f)).catch(c):c(null,d)}catch(d){c(d)}return}return u(r,n,c)}prepareLoading(r,n,a={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();It(r)&&(r=this.languageUtils.toResolveHierarchy(r)),It(n)&&(n=[n]);const i=this.queueLoad(r,n,a,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(r,n,a){this.prepareLoading(r,n,{},a)}reload(r,n,a){this.prepareLoading(r,n,{reload:!0},a)}loadOne(r,n=""){const a=r.split("|"),s=a[0],i=a[1];this.read(s,i,"read",void 0,void 0,(o,c)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&c&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,c),this.loaded(r,o,c)})}saveMissing(r,n,a,s,i,o={},c=()=>{}){var u,d,f,h,m;if((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace&&!((h=(f=this.services)==null?void 0:f.utils)!=null&&h.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${a}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if((m=this.backend)!=null&&m.create){const p={...o,isUpdate:i},g=this.backend.create.bind(this.backend);if(g.length<6)try{let v;g.length===5?v=g(r,n,a,s,p):v=g(r,n,a,s),v&&typeof v.then=="function"?v.then(x=>c(null,x)).catch(c):c(null,v)}catch(v){c(v)}else g(r,n,a,s,c,p)}!r||!r[0]||this.store.addResource(r[0],n,a,s)}}}const GR=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let r={};if(typeof e[1]=="object"&&(r=e[1]),It(e[1])&&(r.defaultValue=e[1]),It(e[2])&&(r.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(a=>{r[a]=n[a]})}return r},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),YR=e=>{var r,n;return It(e.ns)&&(e.ns=[e.ns]),It(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),It(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(r=e.supportedLngs)==null?void 0:r.indexOf)==null?void 0:n.call(r,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Ey=()=>{},lre=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class ug extends C_{constructor(r={},n){if(super(),this.options=YR(r),this.services={},this.logger=ol,this.modules={external:[]},lre(this),n&&!this.isInitialized&&!r.isClone){if(!this.options.initAsync)return this.init(r,n),this;setTimeout(()=>{this.init(r,n)},0)}}init(r={},n){this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),r.defaultNS==null&&r.ns&&(It(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const a=GR();this.options={...a,...this.options,...YR(r)},this.options.interpolation={...a.interpolation,...this.options.interpolation},r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?ol.init(s(this.modules.logger),this.options):ol.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=sre;const f=new zR(this.options);this.store=new UR(this.options.resources,this.options);const h=this.services;h.logger=ol,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new tre(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(h.formatter=s(d),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new rre(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new ore(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new bb(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Ey),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...f)=>this.store[d](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...f)=>(this.store[d](...f),this)});const c=y0(),u=()=>{const d=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(h),n(f,h)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),c}loadResources(r,n=Ey){var i,o;let a=n;const s=It(r)?r:this.language;if(typeof r=="function"&&(a=r),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const c=[],u=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(h=>{h!=="cimode"&&c.indexOf(h)<0&&c.push(h)})};s?u(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>u(f)),(o=(i=this.options.preload)==null?void 0:i.forEach)==null||o.call(i,d=>u(d)),this.services.backendConnector.load(c,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(d)})}else a(null)}reloadResources(r,n,a){const s=y0();return typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=void 0),r||(r=this.languages),n||(n=this.options.ns),a||(a=Ey),this.services.backendConnector.reload(r,n,i=>{s.resolve(),a(i)}),s}use(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&bU.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}setResolvedLanguage(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1)){for(let n=0;n<this.languages.length;n++){const a=this.languages[n];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(r)<0&&this.store.hasLanguageSomeTranslations(r)&&(this.resolvedLanguage=r,this.languages.unshift(r))}}changeLanguage(r,n){this.isLanguageChangingTo=r;const a=y0();this.emit("languageChanging",r);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},i=(c,u)=>{u?this.isLanguageChangingTo===r&&(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,a.resolve((...d)=>this.t(...d)),n&&n(c,(...d)=>this.t(...d))},o=c=>{var f,h;!r&&!c&&this.services.languageDetector&&(c=[]);const u=It(c)?c:c&&c[0],d=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(It(c)?[c]:c);d&&(this.language||s(d),this.translator.language||this.translator.changeLanguage(d),(h=(f=this.services.languageDetector)==null?void 0:f.cacheUserLanguage)==null||h.call(f,d)),this.loadResources(d,m=>{i(m,d)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(r),a}getFixedT(r,n,a){const s=(i,o,...c)=>{let u;typeof o!="object"?u=this.options.overloadTranslationOptionHandler([i,o].concat(c)):u={...o},u.lng=u.lng||s.lng,u.lngs=u.lngs||s.lngs,u.ns=u.ns||s.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||a||s.keyPrefix);const d=this.options.keySeparator||".";let f;return u.keyPrefix&&Array.isArray(i)?f=i.map(h=>(typeof h=="function"&&(h=M2(h,{...this.options,...o})),`${u.keyPrefix}${d}${h}`)):(typeof i=="function"&&(i=M2(i,{...this.options,...o})),f=u.keyPrefix?`${u.keyPrefix}${d}${i}`:i),this.t(f,u)};return It(r)?s.lng=r:s.lngs=r,s.ns=n,s.keyPrefix=a,s}t(...r){var n;return(n=this.translator)==null?void 0:n.translate(...r)}exists(...r){var n;return(n=this.translator)==null?void 0:n.exists(...r)}setDefaultNamespace(r){this.options.defaultNS=r}hasLoadedNamespace(r,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const o=(c,u)=>{const d=this.services.backendConnector.state[`${c}|${u}`];return d===-1||d===0||d===2};if(n.precheck){const c=n.precheck(this,o);if(c!==void 0)return c}return!!(this.hasResourceBundle(a,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(a,r)&&(!s||o(i,r)))}loadNamespaces(r,n){const a=y0();return this.options.ns?(It(r)&&(r=[r]),r.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{a.resolve(),n&&n(s)}),a):(n&&n(),Promise.resolve())}loadLanguages(r,n){const a=y0();It(r)&&(r=[r]);const s=this.options.preload||[],i=r.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{a.resolve(),n&&n(o)}),a):(n&&n(),Promise.resolve())}dir(r){var s,i;if(r||(r=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!r)return"rtl";try{const o=new Intl.Locale(r);if(o&&o.getTextInfo){const c=o.getTextInfo();if(c&&c.direction)return c.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=((i=this.services)==null?void 0:i.languageUtils)||new zR(GR());return r.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(a.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(r={},n){const a=new ug(r,n);return a.createInstance=ug.createInstance,a}cloneInstance(r={},n=Ey){const a=r.forkResourceStore;a&&delete r.forkResourceStore;const s={...this.options,...r,isClone:!0},i=new ug(s);if((r.debug!==void 0||r.prefix!==void 0)&&(i.logger=i.logger.clone(r)),["store","services","language"].forEach(c=>{i[c]=this[c]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},a){const c=Object.keys(this.store.data).reduce((u,d)=>(u[d]={...this.store.data[d]},u[d]=Object.keys(u[d]).reduce((f,h)=>(f[h]={...u[d][h]},f),u[d]),u),{});i.store=new UR(c,s),i.services.resourceStore=i.store}return i.translator=new bb(i.services,s),i.translator.on("*",(c,...u)=>{i.emit(c,...u)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const en=ug.createInstance();en.createInstance;en.dir;en.init;en.loadResources;en.reloadResources;en.use;en.changeLanguage;en.getFixedT;en.t;en.exists;en.setDefaultNamespace;en.hasLoadedNamespace;en.loadNamespaces;en.loadLanguages;const cre=(e,r,n,a)=>{var i,o,c,u;const s=[n,{code:r,...a||{}}];if((o=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&o.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);pf(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(u=(c=e==null?void 0:e.services)==null?void 0:c.logger)!=null&&u.warn?e.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},XR={},_U=(e,r,n,a)=>{pf(n)&&XR[n]||(pf(n)&&(XR[n]=new Date),cre(e,r,n,a))},SU=(e,r)=>()=>{if(e.isInitialized)r();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),r()};e.on("initialized",n)}},F2=(e,r,n)=>{e.loadNamespaces(r,SU(e,n))},JR=(e,r,n,a)=>{if(pf(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(r)>-1)return F2(e,n,a);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(r,SU(e,a))},ure=(e,r,n={})=>!r.languages||!r.languages.length?(_U(r,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:r.languages}),!0):r.hasLoadedNamespace(e,{lng:n.lng,precheck:(a,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!s(a.isLanguageChangingTo,e))return!1}}),pf=e=>typeof e=="string",dre=e=>typeof e=="object"&&e!==null,fre=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,hre={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},mre=e=>hre[e],pre=e=>e.replace(fre,mre);let L2={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:pre};const gre=(e={})=>{L2={...L2,...e}},vre=()=>L2;let jU;const xre=e=>{jU=e},yre=()=>jU,bre={type:"3rdParty",init(e){gre(e.options.react),xre(e)}},kU=y.createContext();class wre{constructor(){this.usedNamespaces={}}addUsedNamespaces(r){r.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var NU={exports:{}},CU={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=y;function _re(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Sre=typeof Object.is=="function"?Object.is:_re,jre=Dm.useState,kre=Dm.useEffect,Nre=Dm.useLayoutEffect,Cre=Dm.useDebugValue;function Ere(e,r){var n=r(),a=jre({inst:{value:n,getSnapshot:r}}),s=a[0].inst,i=a[1];return Nre(function(){s.value=n,s.getSnapshot=r,nk(s)&&i({inst:s})},[e,n,r]),kre(function(){return nk(s)&&i({inst:s}),e(function(){nk(s)&&i({inst:s})})},[e]),Cre(n),n}function nk(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!Sre(e,n)}catch{return!0}}function Tre(e,r){return r()}var Are=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Tre:Ere;CU.useSyncExternalStore=Dm.useSyncExternalStore!==void 0?Dm.useSyncExternalStore:Are;NU.exports=CU;var EU=NU.exports;const Ore=(e,r)=>pf(r)?r:dre(r)&&pf(r.defaultValue)?r.defaultValue:Array.isArray(e)?e[e.length-1]:e,Pre={t:Ore,ready:!1},Dre=()=>()=>{},Kt=(e,r={})=>{var k,E;const{i18n:n}=r,{i18n:a,defaultNS:s}=y.useContext(kU)||{},i=n||a||yre();i&&!i.reportNamespaces&&(i.reportNamespaces=new wre),i||_U(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=y.useMemo(()=>{var C;return{...vre(),...(C=i==null?void 0:i.options)==null?void 0:C.react,...r}},[i,r]),{useSuspense:c,keyPrefix:u}=o,d=y.useMemo(()=>{var A;const C=s||((A=i==null?void 0:i.options)==null?void 0:A.defaultNS);return pf(C)?[C]:C||["translation"]},[e,s,i]);(E=(k=i==null?void 0:i.reportNamespaces)==null?void 0:k.addUsedNamespaces)==null||E.call(k,d);const f=y.useRef(0),h=y.useCallback(C=>{if(!i)return Dre;const{bindI18n:A,bindI18nStore:D}=o,T=()=>{f.current+=1,C()};return A&&i.on(A,T),D&&i.store.on(D,T),()=>{A&&A.split(" ").forEach(W=>i.off(W,T)),D&&D.split(" ").forEach(W=>i.store.off(W,T))}},[i,o]),m=y.useRef(),p=y.useCallback(()=>{if(!i)return Pre;const C=!!(i.isInitialized||i.initializedStoreOnce)&&d.every(L=>ure(L,i,o)),A=r.lng||i.language,D=f.current,T=m.current;if(T&&T.ready===C&&T.lng===A&&T.keyPrefix===u&&T.revision===D)return T;const q={t:i.getFixedT(A,o.nsMode==="fallback"?d:d[0],u),ready:C,lng:A,keyPrefix:u,revision:D};return m.current=q,q},[i,d,u,o,r.lng]),[g,v]=y.useState(0),{t:x,ready:w}=EU.useSyncExternalStore(h,p,p);y.useEffect(()=>{if(i&&!w&&!c){const C=()=>v(A=>A+1);r.lng?JR(i,r.lng,d,C):F2(i,d,C)}},[i,r.lng,d,w,c,g]);const b=i||{},_=y.useRef(null),S=y.useRef(),j=C=>{const A=Object.getOwnPropertyDescriptors(C);A.__original&&delete A.__original;const D=Object.create(Object.getPrototypeOf(C),A);if(!Object.prototype.hasOwnProperty.call(D,"__original"))try{Object.defineProperty(D,"__original",{value:C,writable:!1,enumerable:!1,configurable:!1})}catch{}return D},N=y.useMemo(()=>{const C=b,A=C==null?void 0:C.language;let D=C;C&&(_.current&&_.current.__original===C?S.current!==A?(D=j(C),_.current=D,S.current=A):D=_.current:(D=j(C),_.current=D,S.current=A));const T=[x,D,w];return T.t=x,T.i18n=D,T.ready=w,T},[x,b,w,b.resolvedLanguage,b.language,b.languages]);if(i&&c&&!w)throw new Promise(C=>{const A=()=>C();r.lng?JR(i,r.lng,d,A):F2(i,d,A)});return N};function Rre({i18n:e,defaultNS:r,children:n}){const a=y.useMemo(()=>({i18n:e,defaultNS:r}),[e,r]);return y.createElement(kU.Provider,{value:a},n)}const Ire={home:"Home",dashboard:"Dashboard",empDashboard:"Emp Dashboard",clientPortal:"Client Portal",partnerDashboard:"Partner Dashboard",leads:"Leads",masterLeads:"Master Leads",projects:"Projects",tasks:"Tasks",tickets:"Tickets",teams:"Teams",chats:"Chats",allChats:"All Chats",surveys:"Surveys",users:"Users",settings:"Settings",mainGroup:"Main",salesGroup:"Sales",workGroup:"Work",communicationGroup:"Communication",requestGroup:"",requests:"Requests",systemGroup:"System",permissions:"Permissions"},Mre={save:"Save",cancel:"Cancel",close:"Close",submit:"Submit",delete:"Delete",edit:"Edit",add:"Add",create:"Create",login:"Login",signup:"Sign Up",logout:"Logout",saving:"Saving..."},Fre={name:"Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",phone:"Phone",message:"Message"},Lre={signIn:"Sign In",signUp:"Sign Up",createAccount:"Create Account",enterCredentials:"Enter your credentials to access your account",signUpToGetStarted:"Sign up to get started",chooseAccountType:"Choose your account type to continue with Google",chooseAccountTypeSignUp:"Choose your account type to sign up with Google",client:"Client",partner:"Partner",partnerEmployee:"Partner Employee",redirectingToGoogle:"Redirecting to Google...",orContinueWith:"Or continue with",email:"Email",password:"Password",signingIn:"Logging in...",signInButton:"Login",signUpButton:"Sign Up",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",noAccount:"Don't have an account?",clientPortal:"Client Portal",failedToSignIn:"Failed to sign in",failedToSignInWithGoogle:"Failed to sign in with Google",welcomeBack:"Welcome Back",emailOrUsername:"Email / Username",enterEmail:"Enter your email",enterPassword:"Enter your password",companyCode:"Company Code",forgotPassword:"Forgot your password?",forgotPasswordDesc:"Please contact your administrator to reset your password.",loginSuccess:"Logged in successfully",loginFailed:"Failed to login. Please check your credentials.",loginFailedTitle:"Login Failed"},$re={welcome:"Welcome",loading:"Loading...",error:"Error",success:"Success",search:"Search",filter:"Filter",notifications:"Notifications",kanban:"Kanban",add:"Add",edit:"Edit",delete:"Delete",create:"Create",update:"Update",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close",submit:"Submit",back:"Back",next:"Next",previous:"Previous",first:"First",last:"Last",noData:"No data available",noResults:"No results found",noItems:"No items to display",noRecords:"No records found",noRecordsFound:"No records found",noMatches:"No matches found",list:"List",select:"Select",view:"View",status:"Status",assignee:"Assignee",all:"All",pickDate:"Pick a date",clearFilters:"Clear filters",created:"Created",actions:"Actions",stage:"Stage",priority:"Priority",veryLow:"Very Low",low:"Low",medium:"Medium",high:"High",veryHigh:"Very High",overview:"Overview",unassigned:"Unassigned",page:"Page",of:"of"},Bre={open:"Open",in_progress:"In Progress",closed:"Closed",resolve:"Resolve",reopen:"Reopen",pending:"Pending",approved:"Approved",rejected:"Rejected",completed:"Completed"},Ure={title:"Dashboard",subtitle:"Welcome to your CRM dashboard",totalProjects:"Total Projects",completed:"completed",inProgress:"In Progress",activeProjects:"active projects",clients:"Clients",totalClients:"total clients",teamMembers:"Team Members",activeUsers:"active users",leads:"Leads",totalLeads:"total leads",surveys:"Surveys",totalSurveys:"total surveys",recentProjects:"Recent Projects",projectStatus:"Project Status",noProjectsYet:"No projects yet",noClient:"No client",mleadsTrend:"MLeads Trend (Last 30 Days)",recentMLeads:"Recent MLeads",companyName:"Company",contactPerson:"Contact Person",email:"Email",phone:"Phone",status:"Status",createdAt:"Created At",noMLeads:"No MLeads found",completedStatus:"Completed",inProgressStatus:"In Progress",notStartedStatus:"Not Started"},Vre={title:"Leads",subtitle:"Manage and track all your leads",newLead:"New Lead",addLead:"Add Lead",createLead:"Create New Lead",createLeadDesc:"Add a new lead to the selected stage.",leadName:"Lead Name",leadNamePlaceholder:"Enter lead name",description:"Description",descriptionPlaceholder:"Enter lead description",clientName:"Client Name",clientNamePlaceholder:"Enter client name",client:"Client",selectClient:"Select a client (optional)",noClient:"No client",unknown:"Unknown",created:"Created",updated:"Updated",createdBy:"Created by",assignedTo:"Assigned to",assignToEmployee:"Assign to Employee",selectAssignee:"Select assignee",lead:"Lead",deleteLead:"Delete Lead",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',addStage:"Add Stage",stageNamePlaceholder:"Stage name...",deleteStage:"Delete Stage",deleteStageConfirmation:"This stage contains {{count}} lead(s). Deleting this stage will also remove all leads in it. This action cannot be undone.",addNewLeadCard:"Add New Lead",noLeadsYet:"No leads have been created yet.",value:"Value",currency:"Currency",stageTotal:"Total: {{amount}}",leadDetails:"Lead Details",leadDetailsDesc:"View and edit lead information",notFound:"Lead not found",expectedCloseDate:"Expected Close Date"},zre={title:"Notes",addNote:"Add Note",noNotes:"No notes yet",placeholder:"Enter your note...",save:"Save Note",edit:"Edit",delete:"Delete Note",deleteConfirmation:"Are you sure you want to delete this note?",unknown:"Unknown user"},Wre={title:"Projects",subtitle:"Manage and track all your projects",newProject:"New Project",createProject:"Create New Project",createProjectDesc:"Add a new project to the selected stage.",projectName:"Project Name",projectNamePlaceholder:"Enter project name",description:"Description",descriptionPlaceholder:"Enter project description",client:"Client",selectClient:"Select a client",initialProgress:"Initial Progress",addProject:"Add Project",addNewProjectCard:"Add New Project",progress:"Progress",started:"Started",completed:"Completed",due:"Due",deleteProject:"Delete Project",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',noProjectsYet:"No projects have been created yet.",dueDate:"Due Date",stage:"Stage",manager:"Manager",deleteComment:"Delete Comment",deleteCommentConfirmation:"Are you sure you want to delete this comment?"},Hre={title:"Settings",description:"Manage application settings and configurations",stageManagement:"Stage Management",leads:"Lead Stages",projects:"Project Stages",tasks:"Task Stages",tickets:"Ticket Stages",mleads:"Master Lead Stages",mprojects:"Master Project Stages",addStage:"Add Stage",editStage:"Edit Stage",deleteStage:"Delete Stage",stageName:"Stage Name",stageNamePlaceholder:"Enter stage name",stageColor:"Stage Color",order:"Order",noStages:"No stages found. Add one to get started.",addStageDesc:"Add a new stage for {{type}}",deleteStageConfirmation:"Are you sure you want to delete this stage? This action cannot be undone.",englishName:"English name",arabicName:"Arabic name",changePassword:"Change Password",changePasswordDescription:"Enter your new password below. Make sure it's at least 6 characters long.",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",newPasswordRequired:"New password is required",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",passwordsDoNotMatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters long",changingPassword:"Changing password...",passwordChangedSuccessfully:"Password changed successfully!",passwordChangeFailed:"Failed to change password"},qre={title:"Messages",channels:"Channels",teams:"Teams",directMessages:"Direct Messages",welcome:"Welcome to Chat",selectRoomDesc:"Select a channel or direct message to start chatting.",membersCount:"{{count}} members",today:"Today",placeholder:"Message...",noChannels:"No channels",noMessages:"No messages"},Kre={title:"Tickets",subtitle:"Manage and track all support tickets.",newTicket:"New Ticket",createNewTicket:"Create New Ticket",createTicketDesc:"Fill in the details to create a new support ticket.",searchPlaceholder:"Search tickets...",allTickets:"All Tickets",noTicketsFound:"No Tickets Found",noTicketsFoundDesc:"Try adjusting your search terms.",noTicketsYet:"No tickets have been created yet.",id:"ID",subject:"Subject",subjectPlaceholder:"Enter ticket subject",description:"Description",descriptionPlaceholder:"Describe the issue or request",status:"Status",priority:"Priority",priorityLow:"Low",priorityMedium:"Medium",priorityHigh:"High",priorityUrgent:"Urgent",ticketType:"Ticket Type",typeRequest:"Request",typeFollowUp:"Follow Up",typeIssue:"Issue",typeInternalTask:"Internal Task",assignTo:"Assign To",selectAssignee:"Select assignee (optional)",assignedTo:"Assigned To",createdDate:"Created Date",actions:"Actions",view:"View",loading:"Loading tickets...",createTicket:"Create Ticket",creatingTicket:"Creating...",createError:"Failed to create ticket",allStatuses:"All Statuses",allPriorities:"All Priorities",allTypes:"All Types",allStages:"All Stages",noTicketsInPage:"No tickets in this page",stage:"Stage",statusOpen:"Open",statusInProgress:"In Progress",statusResolved:"Resolved",statusClosed:"Closed",ticketId:"Ticket ID",createdBy:"Created By",resolvedDate:"Resolved Date",closedDate:"Closed Date"},Gre={title:"Teams",subtitle:"Manage teams and team members",createTeam:"Create Team",createTeamTitle:"Create New Team",createTeamDesc:"Create a new team and assign a team leader. You can add members after creation.",teamName:"Team Name",teamNamePlaceholder:"Enter team name",team_leader:"Team Leader",teamLeader:"Team Leader",selectTeamLeader:"Select a team leader (optional)",searchPlaceholder:"Search teams...",members:"Members",memberCount:"{{count}} member",memberCount_plural:"{{count}} members",addMember:"Add member",created:"Created",noTeamsFound:"No teams found",noTeamsYet:"No teams yet",createFirstTeam:"Create Your First Team",deleteTeam:"Delete Team",deleteConfirmation:'Are you sure you want to delete "{{name}}"? This will also remove all team members. This action cannot be undone.',moreMembers:"+{{count}} more members",noMembersYet:"No members yet"},Yre={title:"Tasks",subtitle:"Manage and track all your tasks in one place.",loading:"Loading...",error:"Error",description:"Description",deleteTask:"Delete Task",createTask:"Create New Task",createTaskDesc:"Add a new task to the selected stage.",newTask:"New Task",addNewTask:"Add New Task",addTask:"Add Task",taskName:"Task Name",taskNamePlaceholder:"Enter task name",descriptionPlaceholder:"Enter task description",dueDate:"Due Date",selectUser:"Select a user",selectStage:"Select a stage",selectStatus:"Select status",todo:"Todo",inProgress:"In Progress",done:"Done",stage:"Stage",allTasks:"All Tasks",totalTasks:"Total Tasks",status:"Status",assignedTo:"Assigned To",noTasksYet:"No tasks have been created yet."},Xre={brandName:"Middar",badge:" New Feature",hero:{title:{line1:"Streamline Your",line2:"Business Operations"},description:"Powerful CRM solution to manage projects, leads, tasks, and teams all in one place. Boost productivity and grow your business with our comprehensive platform.",cta:{primary:"Get Started",secondary:"Learn More"}},stats:{users:"10K+",usersLabel:"Active Users",projects:"50K+",projectsLabel:"Projects Managed",uptime:"99.9%",uptimeLabel:"Uptime",support:"24/7",supportLabel:"Support"},features:{title:"Everything you need to succeed",subtitle:"Comprehensive tools designed for modern businesses",projectManagement:{title:"Project Management",description:"Track projects from inception to completion with detailed progress monitoring and team collaboration."},leadManagement:{title:"Lead Management",description:"Convert more leads with our advanced CRM tools and automated follow-up systems."},analytics:{title:"Analytics & Insights",description:"Make data-driven decisions with comprehensive analytics and reporting dashboards."},communication:{title:"Team Communication",description:"Keep your team connected with integrated chat, notifications, and collaboration tools."},taskManagement:{title:"Task Management",description:"Organize and prioritize tasks with our intuitive kanban board and deadline tracking."},security:{title:"Enterprise Security",description:"Your data is protected with enterprise-grade security and compliance standards."}},cta:{title:"Ready to get started?",description:"Join thousands of businesses transforming their operations with our CRM.",button:"Start Free Trial"},partner:{title:"Become a Partner",subtitle:"Help distribute this CRM and grow with us. Fill the form below and we will get back to you.",companyName:"Company Name",fullName:"Full Name",email:"Email Address",phone:"Phone Number",submit:"Apply Now",success:"Application Received",successMessage:"Thank you for your interest! We will contact you shortly."},footer:{copyright:" 2025 {{brand}} CRM. All rights reserved."}},Jre={title:"Users",subtitle:"Manage system users and their roles",totalUsers:"Total Users",addUser:"Add User",addNewUser:"Add New User",addUserDescription:"Fill in the details below to create a new user account.",fullName:"Full Name",email:"Email",password:"Password",role:"Role",admin:"Admin",manager:"Manager",employee:"Employee",partner_leader:"Partner Leader",team_leader:"Team Leader",client:"Client",employees:"Employees",clients:"Clients",addingUser:"Adding user...",addUserError:"Failed to add user",deleteUser:"Delete User",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',deleteError:"Failed to delete user",updateRoleError:"Failed to update user role",changeRole:"Change Role",searchPlaceholder:"Search users...",noUsersFound:"No users found",noUsersFoundDesc:"Try adjusting your search terms.",noUsersAvailable:"No users available",joined:"Joined",updated:"Updated",userDetails:"User Details",userDetailsDescription:"View detailed information about this user",phone:"Phone",contact:"Contact",company:"Company",userId:"User ID",authUserId:"Auth User ID",updateUserError:"Failed to update user",partners:"Partners",partnerUsers:"Partner Users",partnerApplications:"Partner Applications",partner:"Partner",partner_employee:"Partner Employee",noPartnerUsersFound:"No partner users found",noApplicationsFound:"No applications found",approve:"Approve",reject:"Reject",rejectConfirmation:"Are you sure you want to reject this application?",viewApplication:"View Application"},Qre={title:"Clients",subtitle:"Manage and view all your clients",newClient:"New Client",loading:"Loading clients...",noClientsFound:"No clients found",noClientsYet:"No clients have been added yet",active:"active",totalProjects:"Total Projects",activeProjects:"Active Projects",completedProjects:"Completed Projects",noCompany:"No company",noEmail:"No email",projects:"projects",viewDetails:"View Details",clientDetails:"Client Details",userId:"User ID",emailLabel:"Email",contactLabel:"Contact",companyLabel:"Company",createdLabel:"Created",updatedLabel:"Updated",projectSummary:"Project Summary"},Zre={title:"My Dashboard",subtitle:"Welcome back, {{name}}! Here's your work overview.",employeeInfo:"Employee Information",name:"Name",email:"Email",role:"Role",memberSince:"Member Since",myProjects:"My Projects",active:"active",myTasks:"My Tasks",completed:"completed",inProgress:"In Progress",activeTasks:"Active tasks",completedTasks:"Completed",finishedTasks:"Finished tasks",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentTasks:"Recent Tasks",noDescription:"No description",noProjectsAssigned:"No projects assigned yet",noTasksAssigned:"No tasks assigned yet"},ene={chatRooms:"Chat Rooms",createRoomTitle:"Create New Room",createRoomDesc:"Create a new chat room for your team or project",roomName:"Room Name",roomNamePlaceholder:"Enter room name",private:"Private",privateRoom:"Private Room",publicRoom:"Public Room",project:"Project",projectIdPlaceholder:"Enter project ID (optional)",createRoom:"Create Room",searchConversations:"Search conversations...",searchRooms:"Search rooms...",members:"members",online:"Online",selectRoom:"Select a room to start chatting",selectConversation:"Select a conversation",connectDescription:"Connect with your clients through Email, WhatsApp, and more.",typeMessage:"Type a message...",you:"You",unknownUser:"Unknown User",justNow:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",viewDetails:"View Details",viewContactDetails:"View Contact Details",deleteConversation:"Delete Conversation",muteNotifications:"Mute Notifications",leaveRoom:"Leave Room",someoneTyping:"Someone is typing...",note:"Note",resolvedMessage:"This conversation is resolved. Reopen it to send a message.",resolved:"Resolved"},tne={title:"Surveys",subtitle:"Manage and track all surveys and questionnaires",surveys:"Surveys",templates:"Templates",totalSurveys:"Total Surveys",bulkImport:"Bulk Import",createdDate:"Created Date",deleteSurvey:"Delete Survey",deleteSurveyConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',createTemplate:"Create Template",createTemplateTitle:"Create New Survey Template",createTemplateDesc:"Create a custom survey template for your needs",templateName:"Template Name",templateNameAr:"Template Name (Arabic)",description:"Description",descriptionAr:"Description (Arabic)",category:"Category",selectCategory:"Select Category",customerSatisfaction:"Customer Satisfaction",productFeedback:"Product Feedback",serviceQuality:"Service Quality",general:"General",settings:"Settings",isActive:"Active",isDefault:"Default",searchPlaceholder:"Search surveys...",noSurveysFound:"No surveys found",noSurveysFoundDesc:"Try adjusting your search terms.",noSurveysYet:"No surveys have been created yet.",noTemplatesFound:"No templates found",noTemplatesFoundDesc:"Try adjusting your search terms.",noTemplatesYet:"No templates have been created yet.",survey:"Survey",clientName:"Client Name",clientCompany:"Client Company",contact:"Contact",noContact:"No contact",noCompany:"No company",noEmail:"No email",location:"Location",responses:"Responses",completed:"Completed",inProgress:"In Progress",pending:"Pending",active:"Active",inactive:"Inactive",default:"Default",noCategory:"No category",status:"Status",noDescription:"No description",fields:"Fields",noFields:"No fields defined",created:"Created",updated:"Updated",createdBy:"Created By",unknownCreator:"Unknown Creator",newSurvey:"New Survey",createNewSurvey:"Create New Survey",selectTemplate:"Select Template",fillSurveyDetails:"Fill Survey Details",changeTemplate:"Change Template",submitSurvey:"Submit Survey",locationWillBeCaptured:"Your location will be captured automatically",addField:"Add Field",fieldLabel:"Field Label",fieldType:"Field Type",text:"Text",textarea:"Textarea",email:"Email",date:"Date",select:"Select",multiselect:"Multiselect",radio:"Radio",checkbox:"Checkbox",image:"Image",options:"Options",optionsPlaceholder:"Enter options separated by spaces (e.g., option1 option2 option3)",isRequired:"Required",editTemplateTitle:"Edit Survey Template",updateTemplate:"Update Template",deleteTemplate:"Delete Template",deleteTemplateConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',templateNameRequired:"Template name is required",atLeastOneFieldRequired:"At least one field is required",fieldLabelRequired:"Field {{number}}: Label is required",templateCreated:"Template created successfully!",templateUpdated:"Template updated successfully!",templateValidationFailed:"Please fix the validation errors before saving.",templateSaveError:"Failed to {{action}} template. Please try again.",bulkSelect:"Bulk Select",exitBulkMode:"Exit Bulk Mode",bulkDeleteSuccess:"Successfully deleted {{count}} surveys",bulkDeleteError:"Failed to delete surveys",confirmBulkDelete:"Delete Selected Surveys",confirmBulkDeleteDesc:"Are you sure you want to delete {{count}} selected surveys? This action cannot be undone.",selectedCount:"{{count}} surveys selected",clearSelection:"Clear Selection",deleteSelected:"Delete Selected",selectAll:"Select All"},rne={company:"Company",city:"City",country:"Country",activity:"Activity",createdBy:"Created By",status:"Status",system:"System",assignedTo:"Assigned To",created:"Created",stage:"Stage",allStatuses:"All Statuses",allActivities:"All Activities",allSystems:"All Systems",allCountries:"All Countries",allCities:"All Cities",allUsers:"All Users",allStages:"All Stages",leadName:"Lead Name",quotation:"Quotation",uploadQuotation:"Upload Quotation",description:"Description",decisionMaker:"Decision Maker",clearFilters:"Clear Filters",notes:"Notes",value:"Value",currency:"Currency",leadDetails:"Lead Details",companyName:"Company Name",address:"Address",contacts:"Contacts",addContact:"+ Add Contact",noContactsFound:"No contacts found",cancel:"Cancel",contactName:"Contact name",email:"Email",showChart:"Show Chart",createLead:"Create Lead",editlead:"Edit Lead",hideChart:"Hide Chart",firstName:"First Name",lastName:"Last Name",mobile:"Mobile",jobTitle:"Job Title",selectContact:"Select contact",selectStage:"Select stage",selectJobTitle:"Select job title",searchActivity:"Search Activity",searchCountry:"Search Country",searchCity:"Search City",searchSystem:"Search System",searchStatus:"Search Status",searchUser:"Search User",searchStage:"Search Stage",searchJobTitle:"Search Job Title",kanbanView:"Kanban View",listView:"List View",searchPlaceholder:"Search by company or address",addNew:"+ Add New",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",selectCountry:"Select country",createCity:"Create City",selectActivity:"Select activity",selectSystem:"Select system",selectStatus:"Select status",selectUser:"Select user",editLead:"Edit Lead",createNewLead:"Create New Lead",addContactTitle:"Add Contact",createNewCity:"Create New City",systemNameEn:"System name (English)",systemNameAr:"System name (Arabic)",createSystem:"Create System",createNewSystem:"Create New System",activityNameEn:"Activity name (English)",activityNameAr:"Activity name (Arabic)",createActivity:"Create Activity",createNewActivity:"Create New Activity",statusNameEn:"Status name (English)",statusNameAr:"Status name (Arabic)",createStatus:"Create Status",createNewStatus:"Create New Status",masterLeads:"Master Leads",manageMasterLeadsData:"Manage master leads data",noLeadsFound:"No leads found",createNewLeadToGetStarted:"Create a new lead to get started",deleteLead:"Delete Lead",deleteLeadConfirmation:"Are you sure you want to delete this lead? This action cannot be undone.",leadUpdatedSuccessfully:"Lead updated successfully",leadCreatedSuccessfully:"Lead created successfully",leadDeletedSuccessfully:"Lead deleted successfully",leadsDeletedSuccessfully:"leads deleted successfully",cityCreatedSuccessfully:"City created successfully",systemCreatedSuccessfully:"System created successfully",activityCreatedSuccessfully:"Activity created successfully",statusCreatedSuccessfully:"Status created successfully",showLead:"Show Lead",hideLead:"Hide Lead"},nne={masterProjects:"Master Projects",manageMasterProjectsData:"Manage master projects data",kanbanView:"Kanban View",listView:"List View",company:"Company",country:"Country",contactName:"Contact name",mobile:"Mobile",email:"Email",jobTitle:"Job Title",selectJobTitle:"Select job title",addContactTitle:"Add Contact",searchJobTitle:"Search Job Title",contacts:"Contacts",allCountries:"All Countries",allCities:"All Cities",searchPlaceholder:"Search by company, addresses or contract code",notStarted:"Not Started",inProgress:"In Progress",completed:"Completed",clearFilters:"Clear Filters",noContactsFound:"No contacts found",projectName:"Project Name",description:"Description",notes:"Notes",projectDetails:"Project Details",companyName:"Company Name",contractCode:"Contract Code",contractAmount:"Contract Amount",startDate:"Start Date",endDate:"End Date",city:"City",contact:"Contact",created:"Created",createNewProject:"Create New Project",editProject:"Edit Project",deleteProject:"Delete Project",deleteProjectConfirmation:"Are you sure you want to delete this project? This action cannot be undone.",projectUpdatedSuccessfully:"Project updated successfully",projectCreatedSuccessfully:"Project created successfully",projectDeletedSuccessfully:"Project deleted successfully",projectsDeletedSuccessfully:"projects deleted successfully",cityCreatedSuccessfully:"City created successfully",showChart:"Show Chart",hideChart:"Hide Chart",selectCity:"Select city",selectContact:"Select contact",selectCountry:"Select country",addCity:"Add City",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",createNewCity:"Create New City",noProjectsFound:"No projects found",createNewProjectToGetStarted:"Create a new project to get started",analytics:"Analytics",contractDocument:"Contract Document",existingDocumentWillBeReplaced:"Existing document will be replaced",uploadContractDocument:"Upload Contract Document",supportedFormats:"Supported formats",createCity:"Create City",addContact:"Add Contact",createContact:"Create",contactCreatedSuccessfully:"Contact created successfully",cancel:"Cancel"},ane={title:"Requests",subtitle:"Manage internal requests and tasks",createRequest:"Create Request",editRequest:"Edit Request",requestTitle:"Request Title",titlePlaceholder:"Enter request title",searchPlaceholder:"Search requests...",type:"Type",priority:"Priority",status:"Status",createdDate:"Created Date",deleteSuccess:"Request deleted successfully",updateSuccess:"Request updated successfully",createSuccess:"Request created successfully",deleteConfirmation:"Are you sure you want to delete this request? This action cannot be undone.",description:"Description",descriptionPlaceholder:"Request details...",types:{internalTask:"Internal Task",support:"Support",feature:"Feature"},priorities:{low:"Low",medium:"Medium",high:"High"}},sne={navigation:Ire,buttons:Mre,forms:Fre,auth:Lre,common:$re,status:Bre,dashboard:Ure,leads:Vre,notes:zre,projects:Wre,settings:Hre,chat:qre,tickets:Kre,teams:Gre,tasks:Yre,landing:Xre,users:Jre,clients:Qre,employeeDashboard:Zre,chats:ene,surveys:tne,mleads:rne,mprojects:nne,requests:ane},ine={home:"",dashboard:" ",projects:"",users:"",settings:"",leads:" ",masterLeads:" ",tickets:"",tasks:"",teams:"",clients:"",chats:"",allChats:" ",surveys:"",clientPortal:" ",partnerDashboard:"  ",empDashboard:"  ",mainGroup:"",salesGroup:"",workGroup:"",communicationGroup:"",requestGroup:"",requestsGroup:"",requests:"",systemGroup:"",permissions:""},one={save:"",cancel:"",submit:"",delete:"",edit:"",close:"",add:"",create:"",login:" ",signup:" ",logout:" ",saving:" ..."},lne={name:"",email:" ",password:" ",confirmPassword:"  ",phone:"",message:""},cne={signIn:" ",signUp:" ",createAccount:" ",enterCredentials:"    ",signUpToGetStarted:" ",chooseAccountType:"     ",chooseAccountTypeSignUp:"     ",client:"",partner:"",partnerEmployee:" ",redirectingToGoogle:"    ...",orContinueWith:"  ",email:" ",password:" ",signingIn:"  ...",signInButton:"",signUpButton:" ",dontHaveAccount:"  ",alreadyHaveAccount:"  ",noAccount:"  ",clientPortal:" ",failedToSignIn:"  ",failedToSignInWithGoogle:"    ",welcomeBack:" ",emailOrUsername:"  /  ",enterEmail:"  ",enterPassword:"  ",companyCode:" ",forgotPassword:"  ",forgotPasswordDesc:"        .",loginSuccess:"   ",loginFailed:"  .    .",loginFailedTitle:"  "},une={retry:" ",comingSoon:"",next:"",back:""},dne={fillAllFields:"   ",required:"",invalidEmail:"   ",passwordTooShort:"   ",passwordsNotMatch:"   "},fne={title:" ",subtitle:" !     .",totalProjects:" ",completed:"",inProgress:" ",activeProjects:" ",clients:"",totalClients:" ",teamMembers:" ",activeUsers:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentProjects:" ",projectStatus:" ",noProjectsYet:"   ",noClient:"  ",retry:" ",mleadsTrend:"   ( 30 )",recentMLeads:"  ",companyName:"",contactPerson:" ",email:" ",phone:"",status:"",createdAt:" ",noMLeads:"     ",completedStatus:"",inProgressStatus:" ",notStartedStatus:" "},hne={title:"   ",subtitle:"     ",comingSoonMessage:"       ."},mne={title:"",subtitle:"    ",surveys:"",templates:"",totalSurveys:" ",deleteSurvey:" ",deleteSurveyConfirmation:'      "{{name}}"      .',createTemplateTitle:"   ",createTemplateDesc:"    ",templateName:" ",templateNameAr:"  ",descriptionAr:" ",selectCategory:" ",customerSatisfaction:" ",productFeedback:" ",serviceQuality:" ",general:"",settings:"",isActive:"",isDefault:"",surveyName:" ",surveyNameAr:"  ",createdDate:" ",bulkImport:" ",createTemplate:" ",searchPlaceholder:"  ...",noSurveysFound:"  ",noSurveysFoundDesc:"   .",noSurveysYet:"     .",noTemplatesFound:"  ",noTemplatesFoundDesc:"   .",noTemplatesYet:"     .",survey:"",clientName:" ",clientCompany:" ",contact:"",noContact:" ",noCompany:" ",noEmail:"  ",location:"",responses:"",completed:"",inProgress:" ",pending:" ",active:"",inactive:" ",default:"",category:"",noCategory:" ",status:"",description:"",noDescription:" ",fields:"",noFields:"   ",created:" ",updated:" ",createdBy:"  ",unknownCreator:"  ",newSurvey:" ",createNewSurvey:"  ",selectTemplate:" ",fillSurveyDetails:"  ",changeTemplate:" ",submitSurvey:" ",locationWillBeCaptured:"    ",addField:" ",fieldLabel:" ",fieldType:" ",text:"",textarea:" ",email:" ",date:"",select:" ",multiselect:"  ",radio:" ",checkbox:" ",image:"",options:"",optionsPlaceholder:"    (: 1 2 3)",isRequired:"",editTemplateTitle:" ",updateTemplate:" ",deleteTemplate:" ",deleteTemplateConfirmation:'      "{{name}}"      .',templateNameRequired:"  ",atLeastOneFieldRequired:"    ",fieldLabelRequired:" {{number}}:  ",templateCreated:"   !",templateUpdated:"   !",templateValidationFailed:"     .",templateSaveError:"  {{action}} .    .",bulkSelect:" ",exitBulkMode:"   ",bulkDeleteSuccess:"  {{count}}  ",bulkDeleteError:"   ",confirmBulkDelete:"  ",confirmBulkDeleteDesc:"      {{count}}        .",selectedCount:"{{count}}  ",clearSelection:" ",deleteSelected:" ",selectAll:" "},pne={open:"",in_progress:" ",closed:"",resolve:"",reopen:" ",pending:" ",approved:" ",rejected:"",completed:""},gne={title:" ",subtitle:"    ",newLead:"  ",addLead:"  ",createLead:"   ",createLeadDesc:"      .",leadName:"  ",leadNamePlaceholder:"   ",description:"",descriptionPlaceholder:"   ",clientName:" ",clientNamePlaceholder:"  ",client:"",selectClient:"  ()",noClient:" ",unknown:" ",created:" ",updated:" ",createdBy:"  ",assignedTo:" ",assignToEmployee:" ",selectAssignee:"  ",lead:" ",deleteLead:"  ",deleteConfirmation:'      "{{name}}"',addStage:" ",stageNamePlaceholder:" ...",deleteStage:" ",deleteStageConfirmation:"    {{count}}  .           .      .",addNewLeadCard:"   ",noLeadsYet:"      .",value:"",currency:"",stageTotal:": {{amount}}",leadDetails:"  ",leadDetailsDesc:"    ",notFound:"   ",expectedCloseDate:"  ",totalLeads:"  ",thisMonth:" ",totalValue:" ",avgValue:" "},vne={title:"",addNote:" ",noNotes:"   ",placeholder:" ...",save:" ",edit:"",delete:" ",deleteConfirmation:"       ",unknown:"  "},xne={title:"",subtitle:"   ",newProject:" ",createProject:"  ",createProjectDesc:"     .",projectName:" ",projectNamePlaceholder:"  ",description:"",descriptionPlaceholder:"  ",client:"",selectClient:" ",initialProgress:" ",addProject:" ",addNewProjectCard:"  ",progress:"",started:"",due:"",deleteProject:" ",deleteConfirmation:'      "{{name}}"',noProjectsYet:"     .",dueDate:" ",stage:"",manager:"",total:" ",inProgress:" ",completed:"",avgProgress:" ",deleteComment:" ",deleteCommentConfirmation:"       "},yne={title:"",channels:"",teams:"",directMessages:" ",welcome:"   ",selectRoomDesc:"      .",membersCount:"{{count}} ",today:"",placeholder:" ...",noChannels:"  ",noMessages:"  "},bne={title:"",subtitle:"    .",newTicket:" ",createNewTicket:"  ",createTicketDesc:"     .",searchPlaceholder:"  ...",allTickets:" ",noTicketsFound:"  ",noTicketsFoundDesc:"   .",noTicketsYet:"     .",id:"",subject:"",subjectPlaceholder:"  ",description:"",descriptionPlaceholder:"   ",status:"",priority:"",priorityLow:"",priorityMedium:"",priorityHigh:"",priorityUrgent:"",ticketType:" ",typeRequest:"",typeFollowUp:"",typeIssue:"",typeInternalTask:" ",assignTo:" ",selectAssignee:"   ()",assignedTo:" ",createdDate:" ",actions:"",view:"",loading:"  ...",createTicket:" ",creatingTicket:" ...",createError:"   ",allStatuses:" ",allPriorities:" ",allTypes:" ",allStages:" ",noTicketsInPage:"     ",stage:"",statusOpen:"",statusInProgress:" ",statusResolved:" ",statusClosed:"",ticketId:" ",createdBy:"  ",resolvedDate:" ",closedDate:" ",total:" "},wne={title:"",subtitle:"   ",createTeam:" ",createTeamTitle:"  ",createTeamDesc:"     .     .",teamName:" ",teamNamePlaceholder:"  ",team_leader:" ",selectTeamLeader:"   ()",teamLeader:" ",searchPlaceholder:"  ...",members:"",memberCount:"{{count}} ",memberCount_plural:"{{count}} ",addMember:" ",created:" ",noTeamsFound:"  ",noTeamsYet:"   ",createFirstTeam:"  ",deleteTeam:" ",deleteConfirmation:'      "{{name}}"        .      .',moreMembers:"+{{count}}  ",noMembersYet:"   "},_ne={title:"",subtitle:"      .",loading:" ...",description:"",error:"",deleteTask:" ",createTask:"  ",createTaskDesc:"     .",newTask:" ",addNewTask:"  ",addTask:" ",taskName:" ",taskNamePlaceholder:"  ",descriptionPlaceholder:"  ",dueDate:" ",selectUser:" ",selectStage:" ",selectStatus:" ",todo:"",inProgress:" ",done:"",stage:"",allTasks:" ",totalTasks:" ",status:"",assignedTo:" ",noTasksYet:"     ."},Sne={brandName:"",badge:"  ",hero:{title:{line1:"",line2:" "},description:" CRM           .       .",cta:{primary:" ",secondary:" "}},stats:{users:"10 +",usersLabel:" ",projects:"50 +",projectsLabel:" ",uptime:"99.9%",uptimeLabel:" ",support:"24/7",supportLabel:""},features:{title:"   ",subtitle:"    ",projectManagement:{title:" ",description:"           ."},leadManagement:{title:"  ",description:"       CRM    ."},analytics:{title:" ",description:"        ."},communication:{title:" ",description:"         ."},taskManagement:{title:" ",description:"         ."},security:{title:" ",description:"       ."}},cta:{title:" ",description:"               .",button:"  "},partner:{title:" ",subtitle:"      .      .",companyName:" ",fullName:" ",email:" ",phone:" ",submit:" ",success:"  ",successMessage:" !   ."},footer:{copyright:" 2025 {{brand}} CRM.   ."}},jne={title:"",subtitle:"   ",totalUsers:" ",addUser:" ",addNewUser:"  ",addUserDescription:"      .",fullName:" ",email:" ",password:" ",role:"",admin:"",manager:"",employee:"",team_leader:" ",client:"",employees:"",clients:"",addingUser:"  ...",addUserError:"   ",deleteUser:" ",deleteConfirmation:'      "{{name}}"',deleteError:"   ",updateRoleError:"    ",changeRole:" ",searchPlaceholder:"  ...",noUsersFound:"  ",noUsersFoundDesc:"   .",noUsersAvailable:"   ",joined:"",updated:" ",userDetails:" ",userDetailsDescription:"     ",phone:"",contact:"",company:"",userId:" ",authUserId:"  ",updateUserError:"   ",partners:"",partnerUsers:" ",partnerApplications:" ",partner:"",partner_employee:" ",noPartnerUsersFound:"   ",noApplicationsFound:"   ",approve:"",reject:"",rejectConfirmation:"       ",viewApplication:" "},kne={title:"",subtitle:"   ",newClient:" ",loading:"  ...",noClientsFound:"  ",noClientsYet:"     ",active:"",totalProjects:" ",activeProjects:" ",completedProjects:" ",noCompany:" ",noEmail:"  ",projects:"",viewDetails:" ",clientDetails:" ",userId:" ",emailLabel:" ",contactLabel:"",companyLabel:"",createdLabel:" ",updatedLabel:" ",projectSummary:" "},Nne={title:"   ",subtitle:"  {{name}}!     .",employeeInfo:" ",name:"",email:" ",role:"",memberSince:" ",myProjects:"",active:"",myTasks:"",completed:"",inProgress:" ",activeTasks:" ",completedTasks:"",finishedTasks:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentTasks:" ",noDescription:" ",noProjectsAssigned:"    ",noTasksAssigned:"    "},Cne={chatRooms:" ",createRoomTitle:"  ",createRoomDesc:"    ",roomName:" ",roomNamePlaceholder:"  ",private:"",privateRoom:" ",publicRoom:" ",project:"",projectIdPlaceholder:"  ()",createRoom:" ",selectRoom:"   ",selectConversation:" ",connectDescription:"        .",members:"",typeMessage:" ...",you:"",unknownUser:"  ",justNow:"",minutesAgo:" {{count}} ",hoursAgo:" {{count}} ",online:"",someoneTyping:"  ...",searchConversations:"  ...",searchRooms:"  ...",viewDetails:" ",viewContactDetails:"  ",deleteConversation:" ",muteNotifications:" ",leaveRoom:" ",note:"",resolvedMessage:"   .    .",resolved:" "},Ene={title:"",description:"   ",stageManagement:" ",leads:"  ",projects:" ",tasks:" ",tickets:" ",mleads:"  ",mprojects:"  ",addStage:" ",editStage:" ",deleteStage:" ",stageName:" ",stageNamePlaceholder:"  ",stageColor:" ",order:"",noStages:"    .   .",addStageDesc:"    {{type}}",deleteStageConfirmation:"             .",englishName:" ",arabicName:" ",changePassword:"  ",changePasswordDescription:"    .      6   .",newPassword:"  ",newPasswordPlaceholder:"   ",newPasswordRequired:"   ",confirmPassword:"  ",confirmPasswordPlaceholder:"    ",passwordsDoNotMatch:"   ",passwordTooShort:"     6   ",changingPassword:"   ...",passwordChangedSuccessfully:"    !",passwordChangeFailed:"    "},Tne={company:"",city:"",country:"",activity:"",status:"",system:"",assignedTo:" ",created:" ",stage:"",notes:"",value:"",currency:"",leadDetails:" ",companyName:" ",address:"",contacts:" ",addContact:"+   ",quotation:"",uploadQuotation:" ",noContactsFound:"     ",distributionCharts:" ",timeline:" ",allActivities:" ",allCountries:" ",allCities:" ",allSystems:" ",allStatuses:" ",allUsers:" ",clearFilters:" ",decisionMaker:" ",save:"",cancel:"",contactName:"  ",email:" ",mobile:" ",jobTitle:" ",selectContact:"  ",selectStage:" ",selectJobTitle:"  ",kanbanView:"",listView:"",searchPlaceholder:"   ",searchCompany:"  ...",searchActivity:"  ...",searchCity:"  ...",searchCountry:"  ...",searchSystem:"  ...",searchStatus:"  ...",searchUser:"  ...",searchContact:"   ...",searchStage:"  ...",allStages:" ",searchJobTitle:"   ...  ",addNew:"+  ",cityNameEn:"  ()",cityNameAr:"  ()",selectCountry:" ",createCity:" ",selectActivity:" ",selectSystem:" ",selectStatus:" ",selectUser:" ",leadName:"  ",hideChart:"  ",showChart:"  ",leadDescription:"  ",leadValue:"  ",leadCurrency:"  ",saveLead:"  ",editLead:"  ",createNewLead:"   ",addContactTitle:"  ",createNewCity:"  ",systemNameEn:"  ()",systemNameAr:"  ()",createSystem:" ",createNewSystem:"  ",activityNameEn:"  ()",activityNameAr:"  ()",createActivity:" ",createNewActivity:"  ",statusNameEn:"  ()",statusNameAr:"  ()",createStatus:" ",createNewStatus:"  ",masterLeads:" ",manageMasterLeadsData:"   ",noLeadsFound:"    ",createNewLeadToGetStarted:"   ",deleteLead:" ",deleteLeadConfirmation:"             .",leadUpdatedSuccessfully:"   ",leadCreatedSuccessfully:"   ",leadDeletedSuccessfully:"   ",leadsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",systemCreatedSuccessfully:"   ",activityCreatedSuccessfully:"   ",statusCreatedSuccessfully:"   ",createdBy:"  ",description:"",createLead:"  ",editlead:"  ",firstName:" ",lastName:" ",showLead:" ",hideLead:" "},Ane={masterProjects:" ",manageMasterProjectsData:"   ",kanbanView:"",listView:"",createdBy:"  ",client:"",company:"",country:"",allCountries:" ",allCities:" ",allClients:" ",allUsers:" ",searchCity:"  ...",searchCountry:"  ...",searchClient:"  ...",searchUser:"  ...",jobTitle:" ",selectJobTitle:"  ",addContactTitle:"  ",searchJobTitle:"   ",contacts:" ",noContactsFound:"     ",contactName:"  ",email:" ",mobile:" ",projectName:" ",description:"",projectDescription:" ",projectCountry:" ",projectCity:" ",clearFilters:" ",searchPlaceholder:"     ",notStarted:" ",inProgress:" ",completed:"",notes:"",projectDetails:" ",companyName:" ",contractCode:" ",contractAmount:" ",startDate:" ",endDate:" ",city:"",contact:" ",created:" ",createNewProject:"  ",editProject:" ",deleteProject:" ",deleteProjectConfirmation:"             .",projectUpdatedSuccessfully:"   ",projectCreatedSuccessfully:"   ",projectDeletedSuccessfully:"   ",projectsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",showChart:"  ",hideChart:"  ",selectCity:" ",selectContact:"  ",selectCountry:" ",addCity:" ",cancel:"",cityNameEn:"  ()",cityNameAr:"  ()",createCity:" ",createNewCity:"  ",noProjectsFound:"    ",createNewProjectToGetStarted:"   ",analytics:"",contractDocument:" ",existingDocumentWillBeReplaced:"   ",uploadContractDocument:"  ",supportedFormats:" ",addContact:"  ",createContact:"",contactCreatedSuccessfully:"    "},One={title:"",subtitle:"   ",createRequest:" ",editRequest:" ",requestTitle:" ",titlePlaceholder:"  ",searchPlaceholder:"  ...",type:"",priority:"",status:"",createdDate:" ",deleteSuccess:"   ",updateSuccess:"   ",createSuccess:"   ",deleteConfirmation:"             .",description:"",descriptionPlaceholder:" ...",types:{internalTask:" ",support:"",feature:" "},priorities:{low:"",medium:"",high:""}},Pne={navigation:ine,buttons:one,forms:lne,auth:cne,common:une,validation:dne,dashboard:fne,partnerEmployeeDashboard:hne,surveys:mne,status:pne,leads:gne,notes:vne,projects:xne,chat:yne,tickets:bne,teams:wne,tasks:_ne,landing:Sne,users:jne,clients:kne,employeeDashboard:Nne,chats:Cne,settings:Ene,mleads:Tne,mprojects:Ane,requests:One},Dne={en:{translation:sne},ar:{translation:Pne}};en.use(bre).init({resources:Dne,lng:"ar",fallbackLng:"en",interpolation:{escapeValue:!1}});const Te=(e,r)=>{if(en.language==="ar"){const s=`${r}_ar`;if(e[s]&&e[s].trim())return e[s]}if(e[r]&&e[r].trim())return e[r];const a=`${r}_ar`;return e[a]&&e[a].trim()?e[a]:""},bl=(e,r)=>{const n=en.language,a={...e};return Object.entries(r).forEach(([s,i])=>{n==="ar"?(a[`${i}_ar`]=e[s],a[i]=e[s]):(a[i]=e[s],a[`${i}_ar`]=e[s])}),a},nr=()=>en.dir()==="rtl";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tv.apply(this,arguments)}var vu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vu||(vu={}));const QR="popstate";function Rne(e){e===void 0&&(e={});function r(s,i){let{pathname:o="/",search:c="",hash:u=""}=Ff(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),$2("",{pathname:o,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let u=s.location.href,d=u.indexOf("#");c=d===-1?u:u.slice(0,d)}return c+"#"+(typeof i=="string"?i:wb(i))}function a(s,i){jA(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Mne(r,n,a,e)}function yn(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function jA(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Ine(){return Math.random().toString(36).substr(2,8)}function ZR(e,r){return{usr:e.state,key:e.key,idx:r}}function $2(e,r,n,a){return n===void 0&&(n=null),tv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Ff(r):r,{state:n,key:r&&r.key||a||Ine()})}function wb(e){let{pathname:r="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Ff(e){let r={};if(e){let n=e.indexOf("#");n>=0&&(r.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(r.search=e.substr(a),e=e.substr(0,a)),e&&(r.pathname=e)}return r}function Mne(e,r,n,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,c=vu.Pop,u=null,d=f();d==null&&(d=0,o.replaceState(tv({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function h(){c=vu.Pop;let x=f(),w=x==null?null:x-d;d=x,u&&u({action:c,location:v.location,delta:w})}function m(x,w){c=vu.Push;let b=$2(v.location,x,w);n&&n(b,x),d=f()+1;let _=ZR(b,d),S=v.createHref(b);try{o.pushState(_,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(S)}i&&u&&u({action:c,location:v.location,delta:1})}function p(x,w){c=vu.Replace;let b=$2(v.location,x,w);n&&n(b,x),d=f();let _=ZR(b,d),S=v.createHref(b);o.replaceState(_,"",S),i&&u&&u({action:c,location:v.location,delta:0})}function g(x){let w=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof x=="string"?x:wb(x);return b=b.replace(/ $/,"%20"),yn(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let v={get action(){return c},get location(){return e(s,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(QR,h),u=x,()=>{s.removeEventListener(QR,h),u=null}},createHref(x){return r(s,x)},createURL:g,encodeLocation(x){let w=g(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(x){return o.go(x)}};return v}var eI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(eI||(eI={}));function Fne(e,r,n){return n===void 0&&(n="/"),Lne(e,r,n,!1)}function Lne(e,r,n,a){let s=typeof r=="string"?Ff(r):r,i=kA(s.pathname||"/",n);if(i==null)return null;let o=TU(e);$ne(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let d=Xne(i);c=Gne(o[u],d,a)}return c}function TU(e,r,n,a){r===void 0&&(r=[]),n===void 0&&(n=[]),a===void 0&&(a="");let s=(i,o,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(yn(u.relativePath.startsWith(a),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(a.length));let d=Ou([a,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(yn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),TU(i.children,r,f,d)),!(i.path==null&&!i.index)&&r.push({path:d,score:qne(d,i.index),routesMeta:f})};return e.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,o);else for(let u of AU(i.path))s(i,o,u)}),r}function AU(e){let r=e.split("/");if(r.length===0)return[];let[n,...a]=r,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=AU(a.join("/")),c=[];return c.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function $ne(e){e.sort((r,n)=>r.score!==n.score?n.score-r.score:Kne(r.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const Bne=/^:[\w-]+$/,Une=3,Vne=2,zne=1,Wne=10,Hne=-2,tI=e=>e==="*";function qne(e,r){let n=e.split("/"),a=n.length;return n.some(tI)&&(a+=Hne),r&&(a+=Vne),n.filter(s=>!tI(s)).reduce((s,i)=>s+(Bne.test(i)?Une:i===""?zne:Wne),a)}function Kne(e,r){return e.length===r.length&&e.slice(0,-1).every((a,s)=>a===r[s])?e[e.length-1]-r[r.length-1]:0}function Gne(e,r,n){let{routesMeta:a}=e,s={},i="/",o=[];for(let c=0;c<a.length;++c){let u=a[c],d=c===a.length-1,f=i==="/"?r:r.slice(i.length)||"/",h=rI({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),m=u.route;if(!h&&d&&n&&!a[a.length-1].route.index&&(h=rI({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ou([i,h.pathname]),pathnameBase:eae(Ou([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Ou([i,h.pathnameBase]))}return o}function rI(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=Yne(e.path,e.caseSensitive,e.end),s=r.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:a.reduce((d,f,h)=>{let{paramName:m,isOptional:p}=f;if(m==="*"){let v=c[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=c[h];return p&&!g?d[m]=void 0:d[m]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Yne(e,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),jA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(a.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),a]}function Xne(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return jA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function kA(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function Jne(e,r){r===void 0&&(r="/");let{pathname:n,search:a="",hash:s=""}=typeof e=="string"?Ff(e):e;return{pathname:n?n.startsWith("/")?n:Qne(n,r):r,search:tae(a),hash:rae(s)}}function Qne(e,r){let n=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ak(e,r,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zne(e){return e.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function NA(e,r){let n=Zne(e);return r?n.map((a,s)=>s===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function CA(e,r,n,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=Ff(e):(s=tv({},e),yn(!s.pathname||!s.pathname.includes("?"),ak("?","pathname","search",s)),yn(!s.pathname||!s.pathname.includes("#"),ak("#","pathname","hash",s)),yn(!s.search||!s.search.includes("#"),ak("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=n;else{let h=r.length-1;if(!a&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}c=h>=0?r[h]:"/"}let u=Jne(s,c),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const Ou=e=>e.join("/").replace(/\/\/+/g,"/"),eae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nae(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const OU=["post","put","patch","delete"];new Set(OU);const aae=["get",...OU];new Set(aae);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rv.apply(this,arguments)}const EA=y.createContext(null),sae=y.createContext(null),Ju=y.createContext(null),E_=y.createContext(null),Tl=y.createContext({outlet:null,matches:[],isDataRoute:!1}),PU=y.createContext(null);function iae(e,r){let{relative:n}=r===void 0?{}:r;Op()||yn(!1);let{basename:a,navigator:s}=y.useContext(Ju),{hash:i,pathname:o,search:c}=RU(e,{relative:n}),u=o;return a!=="/"&&(u=o==="/"?a:Ou([a,o])),s.createHref({pathname:u,search:c,hash:i})}function Op(){return y.useContext(E_)!=null}function Al(){return Op()||yn(!1),y.useContext(E_).location}function DU(e){y.useContext(Ju).static||y.useLayoutEffect(e)}function zs(){let{isDataRoute:e}=y.useContext(Tl);return e?_ae():oae()}function oae(){Op()||yn(!1);let e=y.useContext(EA),{basename:r,future:n,navigator:a}=y.useContext(Ju),{matches:s}=y.useContext(Tl),{pathname:i}=Al(),o=JSON.stringify(NA(s,n.v7_relativeSplatPath)),c=y.useRef(!1);return DU(()=>{c.current=!0}),y.useCallback(function(d,f){if(f===void 0&&(f={}),!c.current)return;if(typeof d=="number"){a.go(d);return}let h=CA(d,JSON.parse(o),i,f.relative==="path");e==null&&r!=="/"&&(h.pathname=h.pathname==="/"?r:Ou([r,h.pathname])),(f.replace?a.replace:a.push)(h,f.state,f)},[r,a,o,i,e])}const lae=y.createContext(null);function cae(e){let r=y.useContext(Tl).outlet;return r&&y.createElement(lae.Provider,{value:e},r)}function uae(){let{matches:e}=y.useContext(Tl),r=e[e.length-1];return r?r.params:{}}function RU(e,r){let{relative:n}=r===void 0?{}:r,{future:a}=y.useContext(Ju),{matches:s}=y.useContext(Tl),{pathname:i}=Al(),o=JSON.stringify(NA(s,a.v7_relativeSplatPath));return y.useMemo(()=>CA(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function dae(e,r){return fae(e,r)}function fae(e,r,n,a){Op()||yn(!1);let{navigator:s}=y.useContext(Ju),{matches:i}=y.useContext(Tl),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Al(),f;if(r){var h;let x=typeof r=="string"?Ff(r):r;u==="/"||(h=x.pathname)!=null&&h.startsWith(u)||yn(!1),f=x}else f=d;let m=f.pathname||"/",p=m;if(u!=="/"){let x=u.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=Fne(e,{pathname:p}),v=vae(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:Ou([u,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Ou([u,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,a);return r&&v?y.createElement(E_.Provider,{value:{location:rv({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:vu.Pop}},v):v}function hae(){let e=wae(),r=nae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},r),n?y.createElement("pre",{style:s},n):null,null)}const mae=y.createElement(hae,null);class pae extends y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?y.createElement(Tl.Provider,{value:this.props.routeContext},y.createElement(PU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gae(e){let{routeContext:r,match:n,children:a}=e,s=y.useContext(EA);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Tl.Provider,{value:r},a)}function vae(e,r,n,a){var s;if(r===void 0&&(r=[]),n===void 0&&(n=null),a===void 0&&(a=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=a)!=null&&i.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,c=(s=n)==null?void 0:s.errors;if(c!=null){let f=o.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);f>=0||yn(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n&&a&&a.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:m,errors:p}=n,g=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let p,g=!1,v=null,x=null;n&&(p=c&&h.route.id?c[h.route.id]:void 0,v=h.route.errorElement||mae,u&&(d<0&&m===0?(g=!0,x=null):d===m&&(g=!0,x=h.route.hydrateFallbackElement||null)));let w=r.concat(o.slice(0,m+1)),b=()=>{let _;return p?_=v:g?_=x:h.route.Component?_=y.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=f,y.createElement(gae,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?y.createElement(pae,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var IU=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(IU||{}),_b=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_b||{});function xae(e){let r=y.useContext(EA);return r||yn(!1),r}function yae(e){let r=y.useContext(sae);return r||yn(!1),r}function bae(e){let r=y.useContext(Tl);return r||yn(!1),r}function MU(e){let r=bae(),n=r.matches[r.matches.length-1];return n.route.id||yn(!1),n.route.id}function wae(){var e;let r=y.useContext(PU),n=yae(_b.UseRouteError),a=MU(_b.UseRouteError);return r!==void 0?r:(e=n.errors)==null?void 0:e[a]}function _ae(){let{router:e}=xae(IU.UseNavigateStable),r=MU(_b.UseNavigateStable),n=y.useRef(!1);return DU(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,rv({fromRouteId:r},i)))},[e,r])}function Sae(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function D1(e){let{to:r,replace:n,state:a,relative:s}=e;Op()||yn(!1);let{future:i,static:o}=y.useContext(Ju),{matches:c}=y.useContext(Tl),{pathname:u}=Al(),d=zs(),f=CA(r,NA(c,i.v7_relativeSplatPath),u,s==="path"),h=JSON.stringify(f);return y.useEffect(()=>d(JSON.parse(h),{replace:n,state:a,relative:s}),[d,h,s,n,a]),null}function nI(e){return cae(e.context)}function Cr(e){yn(!1)}function jae(e){let{basename:r="/",children:n=null,location:a,navigationType:s=vu.Pop,navigator:i,static:o=!1,future:c}=e;Op()&&yn(!1);let u=r.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:u,navigator:i,static:o,future:rv({v7_relativeSplatPath:!1},c)}),[u,c,i,o]);typeof a=="string"&&(a=Ff(a));let{pathname:f="/",search:h="",hash:m="",state:p=null,key:g="default"}=a,v=y.useMemo(()=>{let x=kA(f,u);return x==null?null:{location:{pathname:x,search:h,hash:m,state:p,key:g},navigationType:s}},[u,f,h,m,p,g,s]);return v==null?null:y.createElement(Ju.Provider,{value:d},y.createElement(E_.Provider,{children:n,value:v}))}function kae(e){let{children:r,location:n}=e;return dae(B2(r),n)}new Promise(()=>{});function B2(e,r){r===void 0&&(r=[]);let n=[];return y.Children.forEach(e,(a,s)=>{if(!y.isValidElement(a))return;let i=[...r,s];if(a.type===y.Fragment){n.push.apply(n,B2(a.props.children,i));return}a.type!==Cr&&yn(!1),!a.props.index||!a.props.children||yn(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=B2(a.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U2(){return U2=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},U2.apply(this,arguments)}function Nae(e,r){if(e==null)return{};var n={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(r.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Cae(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Eae(e,r){return e.button===0&&(!r||r==="_self")&&!Cae(e)}const Tae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Aae="6";try{window.__reactRouterVersion=Aae}catch{}const Oae="startTransition",aI=ET[Oae];function Pae(e){let{basename:r,children:n,future:a,window:s}=e,i=y.useRef();i.current==null&&(i.current=Rne({window:s,v5Compat:!0}));let o=i.current,[c,u]=y.useState({action:o.action,location:o.location}),{v7_startTransition:d}=a||{},f=y.useCallback(h=>{d&&aI?aI(()=>u(h)):u(h)},[u,d]);return y.useLayoutEffect(()=>o.listen(f),[o,f]),y.useEffect(()=>Sae(a),[a]),y.createElement(jae,{basename:r,children:n,location:c.location,navigationType:c.action,navigator:o,future:a})}const Dae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V2=y.forwardRef(function(r,n){let{onClick:a,relative:s,reloadDocument:i,replace:o,state:c,target:u,to:d,preventScrollReset:f,viewTransition:h}=r,m=Nae(r,Tae),{basename:p}=y.useContext(Ju),g,v=!1;if(typeof d=="string"&&Rae.test(d)&&(g=d,Dae))try{let _=new URL(window.location.href),S=d.startsWith("//")?new URL(_.protocol+d):new URL(d),j=kA(S.pathname,p);S.origin===_.origin&&j!=null?d=j+S.search+S.hash:v=!0}catch{}let x=iae(d,{relative:s}),w=Iae(d,{replace:o,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:h});function b(_){a&&a(_),_.defaultPrevented||w(_)}return y.createElement("a",U2({},m,{href:g||x,onClick:v||i?a:b,ref:n,target:u}))});var sI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sI||(sI={}));var iI;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(iI||(iI={}));function Iae(e,r){let{target:n,replace:a,state:s,preventScrollReset:i,relative:o,viewTransition:c}=r===void 0?{}:r,u=zs(),d=Al(),f=RU(e,{relative:o});return y.useCallback(h=>{if(Eae(h,n)){h.preventDefault();let m=a!==void 0?a:wb(d)===wb(f);u(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:c})}},[d,u,f,a,s,n,e,i,o,c])}function Mt(e){const r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new e.constructor(+e):typeof e=="number"||r==="[object Number]"||typeof e=="string"||r==="[object String]"?new Date(e):new Date(NaN)}function Ds(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}function es(e,r){const n=Mt(e);return isNaN(r)?Ds(e,NaN):(r&&n.setDate(n.getDate()+r),n)}function To(e,r){const n=Mt(e);if(isNaN(r))return Ds(e,NaN);if(!r)return n;const a=n.getDate(),s=Ds(e,n.getTime());s.setMonth(n.getMonth()+r+1,0);const i=s.getDate();return a>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}const TA=6048e5,Mae=864e5,Ty=43200,oI=1440;let Fae={};function Pp(){return Fae}function wl(e,r){var c,u,d,f;const n=Pp(),a=(r==null?void 0:r.weekStartsOn)??((u=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=Mt(e),i=s.getDay(),o=(i<a?7:0)+i-a;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function gf(e){return wl(e,{weekStartsOn:1})}function FU(e){const r=Mt(e),n=r.getFullYear(),a=Ds(e,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=gf(a),i=Ds(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=gf(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function Rm(e){const r=Mt(e);return r.setHours(0,0,0,0),r}function Im(e){const r=Mt(e),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+e-+n}function ll(e,r){const n=Rm(e),a=Rm(r),s=+n-Im(n),i=+a-Im(a);return Math.round((s-i)/Mae)}function Lae(e){const r=FU(e),n=Ds(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),gf(n)}function z2(e,r){const n=r*7;return es(e,n)}function $ae(e,r){return To(e,r*12)}function Bae(e){let r;return e.forEach(function(n){const a=Mt(n);(r===void 0||r<a||isNaN(Number(a)))&&(r=a)}),r||new Date(NaN)}function Uae(e){let r;return e.forEach(n=>{const a=Mt(n);(!r||r>a||isNaN(+a))&&(r=a)}),r||new Date(NaN)}function R1(e,r){const n=Mt(e),a=Mt(r),s=n.getTime()-a.getTime();return s<0?-1:s>0?1:s}function Vae(e){return Ds(e,Date.now())}function ks(e,r){const n=Rm(e),a=Rm(r);return+n==+a}function AA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function zae(e){if(!AA(e)&&typeof e!="number")return!1;const r=Mt(e);return!isNaN(Number(r))}function Mm(e,r){const n=Mt(e),a=Mt(r),s=n.getFullYear()-a.getFullYear(),i=n.getMonth()-a.getMonth();return s*12+i}function Wae(e,r,n){const a=wl(e,n),s=wl(r,n),i=+a-Im(a),o=+s-Im(s);return Math.round((i-o)/TA)}function Hae(e){return r=>{const a=(e?Math[e]:Math.trunc)(r);return a===0?0:a}}function qae(e,r){return+Mt(e)-+Mt(r)}function Kae(e){const r=Mt(e);return r.setHours(23,59,59,999),r}function T_(e){const r=Mt(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Gae(e){const r=Mt(e);return+Kae(r)==+T_(r)}function Yae(e,r){const n=Mt(e),a=Mt(r),s=R1(n,a),i=Math.abs(Mm(n,a));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let c=R1(n,a)===-s;Gae(Mt(e))&&i===1&&R1(e,a)===1&&(c=!1),o=s*(i-Number(c))}return o===0?0:o}function Xae(e,r,n){const a=qae(e,r)/1e3;return Hae(n==null?void 0:n.roundingMethod)(a)}function As(e){const r=Mt(e);return r.setDate(1),r.setHours(0,0,0,0),r}function LU(e){const r=Mt(e),n=Ds(e,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}function OA(e,r){var c,u,d,f;const n=Pp(),a=(r==null?void 0:r.weekStartsOn)??((u=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=Mt(e),i=s.getDay(),o=(i<a?-7:0)+6-(i-a);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function $U(e){return OA(e,{weekStartsOn:1})}const Jae={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Qae=(e,r,n)=>{let a;const s=Jae[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function em(e){return(r={})=>{const n=r.width?String(r.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Zae={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ese={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rse={date:em({formats:Zae,defaultWidth:"full"}),time:em({formats:ese,defaultWidth:"full"}),dateTime:em({formats:tse,defaultWidth:"full"})},nse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ase=(e,r,n,a)=>nse[e];function al(e){return(r,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):o;s=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(r):r;return s[i]}}const sse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ise={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ose={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},use={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dse=(e,r)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},fse={ordinalNumber:dse,era:al({values:sse,defaultWidth:"wide"}),quarter:al({values:ise,defaultWidth:"wide",argumentCallback:e=>e-1}),month:al({values:ose,defaultWidth:"wide"}),day:al({values:lse,defaultWidth:"wide"}),dayPeriod:al({values:cse,defaultWidth:"wide",formattingValues:use,defaultFormattingWidth:"wide"})};function sl(e){return(r,n={})=>{const a=n.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=r.match(s);if(!i)return null;const o=i[0],c=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(c)?mse(c,h=>h.test(o)):hse(c,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const f=r.slice(o.length);return{value:d,rest:f}}}function hse(e,r){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r(e[n]))return n}function mse(e,r){for(let n=0;n<e.length;n++)if(r(e[n]))return n}function BU(e){return(r,n={})=>{const a=r.match(e.matchPattern);if(!a)return null;const s=a[0],i=r.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const c=r.slice(s.length);return{value:o,rest:c}}}const pse=/^(\d+)(th|st|nd|rd)?/i,gse=/\d+/i,vse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xse={any:[/^b/i,/^(a|c)/i]},yse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bse={any:[/1/i,/2/i,/3/i,/4/i]},wse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_se={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Sse={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nse={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Cse={ordinalNumber:BU({matchPattern:pse,parsePattern:gse,valueCallback:e=>parseInt(e,10)}),era:sl({matchPatterns:vse,defaultMatchWidth:"wide",parsePatterns:xse,defaultParseWidth:"any"}),quarter:sl({matchPatterns:yse,defaultMatchWidth:"wide",parsePatterns:bse,defaultParseWidth:"any",valueCallback:e=>e+1}),month:sl({matchPatterns:wse,defaultMatchWidth:"wide",parsePatterns:_se,defaultParseWidth:"any"}),day:sl({matchPatterns:Sse,defaultMatchWidth:"wide",parsePatterns:jse,defaultParseWidth:"any"}),dayPeriod:sl({matchPatterns:kse,defaultMatchWidth:"any",parsePatterns:Nse,defaultParseWidth:"any"})},PA={code:"en-US",formatDistance:Qae,formatLong:rse,formatRelative:ase,localize:fse,match:Cse,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ese(e){const r=Mt(e);return ll(r,LU(r))+1}function UU(e){const r=Mt(e),n=+gf(r)-+Lae(r);return Math.round(n/TA)+1}function VU(e,r){var f,h,m,p;const n=Mt(e),a=n.getFullYear(),s=Pp(),i=(r==null?void 0:r.firstWeekContainsDate)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=Ds(e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const c=wl(o,r),u=Ds(e,0);u.setFullYear(a,0,i),u.setHours(0,0,0,0);const d=wl(u,r);return n.getTime()>=c.getTime()?a+1:n.getTime()>=d.getTime()?a:a-1}function Tse(e,r){var c,u,d,f;const n=Pp(),a=(r==null?void 0:r.firstWeekContainsDate)??((u=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=VU(e,r),i=Ds(e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),wl(i,r)}function zU(e,r){const n=Mt(e),a=+wl(n,r)-+Tse(n,r);return Math.round(a/TA)+1}function br(e,r){const n=e<0?"-":"",a=Math.abs(e).toString().padStart(r,"0");return n+a}const Bc={y(e,r){const n=e.getFullYear(),a=n>0?n:1-n;return br(r==="yy"?a%100:a,r.length)},M(e,r){const n=e.getMonth();return r==="M"?String(n+1):br(n+1,2)},d(e,r){return br(e.getDate(),r.length)},a(e,r){const n=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,r){return br(e.getHours()%12||12,r.length)},H(e,r){return br(e.getHours(),r.length)},m(e,r){return br(e.getMinutes(),r.length)},s(e,r){return br(e.getSeconds(),r.length)},S(e,r){const n=r.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,n-3));return br(s,r.length)}},th={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lI={G:function(e,r,n){const a=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return Bc.y(e,r)},Y:function(e,r,n,a){const s=VU(e,a),i=s>0?s:1-s;if(r==="YY"){const o=i%100;return br(o,2)}return r==="Yo"?n.ordinalNumber(i,{unit:"year"}):br(i,r.length)},R:function(e,r){const n=FU(e);return br(n,r.length)},u:function(e,r){const n=e.getFullYear();return br(n,r.length)},Q:function(e,r,n){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return br(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,n){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return br(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,n){const a=e.getMonth();switch(r){case"M":case"MM":return Bc.M(e,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,n){const a=e.getMonth();switch(r){case"L":return String(a+1);case"LL":return br(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,n,a){const s=zU(e,a);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):br(s,r.length)},I:function(e,r,n){const a=UU(e);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):br(a,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Bc.d(e,r)},D:function(e,r,n){const a=Ese(e);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):br(a,r.length)},E:function(e,r,n){const a=e.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,n,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return br(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,r,n,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return br(i,r.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,r,n){const a=e.getDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return br(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,n){const s=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,r,n){const a=e.getHours();let s;switch(a===12?s=th.noon:a===0?s=th.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,r,n){const a=e.getHours();let s;switch(a>=17?s=th.evening:a>=12?s=th.afternoon:a>=4?s=th.morning:s=th.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){let a=e.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Bc.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Bc.H(e,r)},K:function(e,r,n){const a=e.getHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):br(a,r.length)},k:function(e,r,n){let a=e.getHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):br(a,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Bc.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Bc.s(e,r)},S:function(e,r){return Bc.S(e,r)},X:function(e,r,n){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return uI(a);case"XXXX":case"XX":return vd(a);case"XXXXX":case"XXX":default:return vd(a,":")}},x:function(e,r,n){const a=e.getTimezoneOffset();switch(r){case"x":return uI(a);case"xxxx":case"xx":return vd(a);case"xxxxx":case"xxx":default:return vd(a,":")}},O:function(e,r,n){const a=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+cI(a,":");case"OOOO":default:return"GMT"+vd(a,":")}},z:function(e,r,n){const a=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+cI(a,":");case"zzzz":default:return"GMT"+vd(a,":")}},t:function(e,r,n){const a=Math.trunc(e.getTime()/1e3);return br(a,r.length)},T:function(e,r,n){const a=e.getTime();return br(a,r.length)}};function cI(e,r=""){const n=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?n+String(s):n+String(s)+r+br(i,2)}function uI(e,r){return e%60===0?(e>0?"-":"+")+br(Math.abs(e)/60,2):vd(e,r)}function vd(e,r=""){const n=e>0?"-":"+",a=Math.abs(e),s=br(Math.trunc(a/60),2),i=br(a%60,2);return n+s+r+i}const dI=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},WU=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Ase=(e,r)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return dI(e,r);let i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",dI(a,r)).replace("{{time}}",WU(s,r))},Ose={p:WU,P:Ase},Pse=/^D+$/,Dse=/^Y+$/,Rse=["D","DD","YY","YYYY"];function Ise(e){return Pse.test(e)}function Mse(e){return Dse.test(e)}function Fse(e,r,n){const a=Lse(e,r,n);if(console.warn(a),Rse.includes(e))throw new RangeError(a)}function Lse(e,r,n){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $se=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Use=/^'([^]*?)'?$/,Vse=/''/g,zse=/[a-zA-Z]/;function fs(e,r,n){var f,h,m,p,g,v,x,w;const a=Pp(),s=(n==null?void 0:n.locale)??a.locale??PA,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??a.weekStartsOn??((w=(x=a.locale)==null?void 0:x.options)==null?void 0:w.weekStartsOn)??0,c=Mt(e);if(!zae(c))throw new RangeError("Invalid time value");let u=r.match(Bse).map(b=>{const _=b[0];if(_==="p"||_==="P"){const S=Ose[_];return S(b,s.formatLong)}return b}).join("").match($se).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const _=b[0];if(_==="'")return{isToken:!1,value:Wse(b)};if(lI[_])return{isToken:!0,value:b};if(_.match(zse))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(u=s.localize.preprocessor(c,u));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return u.map(b=>{if(!b.isToken)return b.value;const _=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Mse(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Ise(_))&&Fse(_,r,String(e));const S=lI[_[0]];return S(c,_,s.localize,d)}).join("")}function Wse(e){const r=e.match(Use);return r?r[1].replace(Vse,"'"):e}function Hse(e,r,n){const a=Pp(),s=(n==null?void 0:n.locale)??a.locale??PA,i=2520,o=R1(e,r);if(isNaN(o))throw new RangeError("Invalid time value");const c=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let u,d;o>0?(u=Mt(r),d=Mt(e)):(u=Mt(e),d=Mt(r));const f=Xae(d,u),h=(Im(d)-Im(u))/1e3,m=Math.round((f-h)/60);let p;if(m<2)return n!=null&&n.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,c):f<10?s.formatDistance("lessThanXSeconds",10,c):f<20?s.formatDistance("lessThanXSeconds",20,c):f<40?s.formatDistance("halfAMinute",0,c):f<60?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",1,c):m===0?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",m,c);if(m<45)return s.formatDistance("xMinutes",m,c);if(m<90)return s.formatDistance("aboutXHours",1,c);if(m<oI){const g=Math.round(m/60);return s.formatDistance("aboutXHours",g,c)}else{if(m<i)return s.formatDistance("xDays",1,c);if(m<Ty){const g=Math.round(m/oI);return s.formatDistance("xDays",g,c)}else if(m<Ty*2)return p=Math.round(m/Ty),s.formatDistance("aboutXMonths",p,c)}if(p=Yae(d,u),p<12){const g=Math.round(m/Ty);return s.formatDistance("xMonths",g,c)}else{const g=p%12,v=Math.trunc(p/12);return g<3?s.formatDistance("aboutXYears",v,c):g<9?s.formatDistance("overXYears",v,c):s.formatDistance("almostXYears",v+1,c)}}function qse(e,r){return Hse(e,Vae(e),r)}function Kse(e){const r=Mt(e),n=r.getFullYear(),a=r.getMonth(),s=Ds(e,0);return s.setFullYear(n,a+1,0),s.setHours(0,0,0,0),s.getDate()}function Gse(e){return Math.trunc(+Mt(e)/1e3)}function Yse(e){const r=Mt(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(0,0,0,0),r}function Xse(e,r){return Wae(Yse(e),As(e),r)+1}function W2(e,r){const n=Mt(e),a=Mt(r);return n.getTime()>a.getTime()}function HU(e,r){const n=Mt(e),a=Mt(r);return+n<+a}function DA(e,r){const n=Mt(e),a=Mt(r);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function Jse(e,r){const n=Mt(e),a=Mt(r);return n.getFullYear()===a.getFullYear()}function sk(e,r){return es(e,-r)}function ik(e,r){const n=Mt(e),a=n.getFullYear(),s=n.getDate(),i=Ds(e,0);i.setFullYear(a,r,15),i.setHours(0,0,0,0);const o=Kse(i);return n.setMonth(r,Math.min(s,o)),n}function fI(e,r){const n=Mt(e);return isNaN(+n)?Ds(e,NaN):(n.setFullYear(r),n)}function hI(e){if(!e)return e;if(typeof e=="string")try{const r=new Date(e);return isNaN(r.getTime())?e:fs(r,"yyyy-MM-dd HH:mm:ss")}catch{return e}return e instanceof Date?fs(e,"yyyy-MM-dd HH:mm:ss"):e}function H2(e){if(e==null)return e;if(e instanceof Date)return hI(e);if(Array.isArray(e))return e.map(r=>H2(r));if(typeof e=="object"){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(n.toLowerCase().includes("date")||n.toLowerCase().includes("time")?r[n]=hI(e[n]):r[n]=H2(e[n]));return r}return e}const Qse="https://api.middar.com";async function Qo(e,r={}){const n={"Content-Type":"application/json",...r.headers},a=localStorage.getItem("authToken");a&&(n.Authorization=`Bearer ${a}`);try{let s=r.body;if(s&&typeof s=="string")try{const c=JSON.parse(s),u=H2(c);s=JSON.stringify(u)}catch(c){console.warn("Failed to parse request body for date formatting",c)}console.log(`API Request: ${r.method||"GET"} ${e}`,s?JSON.parse(s):null);const i=await fetch(`${Qse}${e}`,{...r,headers:n,body:s});let o;try{const c=await i.text();o=c?JSON.parse(c):{}}catch(c){console.error("Failed to parse API response:",c),o={}}if(!i.ok){const c={status:i.status,statusText:i.statusText,url:e,headers:Object.fromEntries(i.headers.entries()),response:o,requestBody:r.body?JSON.parse(r.body):null};console.error("API Error Details:",JSON.stringify(c,null,2));let u="Something went wrong";o&&typeof o=="object"?u=o.message||o.error||JSON.stringify(o):o&&(u=String(o));const d=new Error(u);throw d.status=i.status,d.response=o,d.details=c,d}return o}catch(s){throw console.error("API Request Failed:",{endpoint:e,error:s.message,stack:s.stack}),s}}const G={get:(e,r,n)=>{const a=new URLSearchParams(n).toString();return Qo(`/api/v1/get/${e}/${r}${a?`?${a}`:""}`)},list:async(e,r={})=>{const n={...r},a=["m_leads","m_projects","tasks","tickets"];n.sort_by||(n.sort_by="created_at",n.sort_order=a.includes(e)?"DESC":"ASC");let s="";if(n.exact_filters&&(s=typeof n.exact_filters=="string"?n.exact_filters:JSON.stringify(n.exact_filters),delete n.exact_filters),n.advanced_filters&&typeof n.advanced_filters=="string")try{JSON.parse(n.advanced_filters)}catch{delete n.advanced_filters}else n.advanced_filters&&(n.advanced_filters=JSON.stringify(n.advanced_filters));const i=new URLSearchParams;Object.entries(n).forEach(([u,d])=>{d!=null&&i.append(u,d.toString())});const o=s?`/api/v1/${e}/list?exact_filters=${encodeURIComponent(s)}&${i.toString()}`:i.toString()?`/api/v1/${e}/list?${i.toString()}`:`/api/v1/${e}/list`;console.log("Sending request to:",o);const c=await Qo(o);return{data:c.data||[],total:c.totalRows||0,page:(c.page||1)-1,pageSize:c.totalRows||0}},count:async(e,r={})=>{try{return(await G.list(e,{...r,pageSize:1})).total||0}catch{return console.warn(`Count failed for ${e}, returning 0`),0}},create:(e,r)=>e==="messages"?Qo(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(r)}):Qo(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(r)}),update:(e,r,n)=>Qo(`/api/v1/update/${e}/${r}`,{method:"PUT",body:JSON.stringify(n)}),delete:(e,r)=>Qo(`/api/v1/delete/${e}/${r}`,{method:"DELETE"}),getAggregates:async(e,r={})=>{try{console.log("[API] Getting aggregates for tables:",e);const n=e.map(async i=>{try{const c={m_projects:"m_projects",m_leads:"m_leads",clients:"Users",users:"Users",surveys:"surveys",tasks:"tasks"}[i]||i,d=(await G.list(c,{pageSize:1})).total||0;return console.log(`[API] Got count for ${i} (${c}):`,d),{[i]:{Count:d}}}catch(o){return console.warn(`[API] Count failed for ${i}, using fallback:`,o),{[i]:{Count:0}}}}),s=(await Promise.all(n)).reduce((i,o)=>({...i,...o}),{});return console.log("[API] Combined aggregates result:",s),s}catch(n){return console.error("[API] Failed to get aggregates:",n),{}}},auth:{login:async e=>Qo("/api/v1/account/login",{method:"POST",body:JSON.stringify(e)})},permissions:{list:(e={})=>G.list("permissions",e),get:e=>G.get("permissions",e),create:e=>G.create("permissions",e),update:(e,r)=>G.update("permissions",e,r),delete:e=>G.delete("permissions",e)},comments:{list:(e={})=>G.list("comments",e),get:e=>G.get("comments",e),create:e=>G.create("comments",e),update:(e,r)=>G.update("comments",e,r),delete:e=>G.delete("comments",e)},leads:{list:(e={})=>G.list("leads",e),get:e=>G.get("leads",e),create:e=>G.create("leads",e),update:(e,r)=>G.update("leads",e,r),delete:e=>G.delete("leads",e)},mAction:{list:(e={})=>G.list("m_action",e),get:e=>G.get("m_action",e),create:e=>G.create("m_action",e),update:(e,r)=>G.update("m_action",e,r),delete:e=>G.delete("m_action",e)},mActivity:{list:(e={})=>G.list("m_activity",e),get:e=>G.get("m_activity",e),create:e=>G.create("m_activity",e),update:(e,r)=>G.update("m_activity",e,r),delete:e=>G.delete("m_activity",e)},messages:{list:(e={})=>G.list("messages",e),get:e=>G.get("messages",e),create:e=>G.create("messages",e),update:(e,r)=>G.update("messages",e,r),delete:e=>G.delete("messages",e)},mContacts:{list:(e={})=>G.list("m_contacts",e),get:e=>G.get("m_contacts",e),create:e=>G.create("m_contacts",e),update:(e,r)=>G.update("m_contacts",e,r),delete:e=>G.delete("m_contacts",e)},mCountry:{list:(e={})=>G.list("m_country",e),get:e=>G.get("m_country",e),create:e=>G.create("m_country",e),update:(e,r)=>G.update("m_country",e,r),delete:e=>G.delete("m_country",e)},mCity:{list:(e={})=>G.list("m_city",e),get:e=>G.get("m_city",e),create:e=>G.create("m_city",e),update:(e,r)=>G.update("m_city",e,r),delete:e=>G.delete("m_city",e),getByCountry:(e,r={})=>G.list("m_city",{...r,exact_filters:{country_id:e}})},mJobtitle:{list:(e={})=>G.list("m_jobtitle",e),get:e=>G.get("m_jobtitle",e),create:e=>G.create("m_jobtitle",e),update:(e,r)=>G.update("m_jobtitle",e,r),delete:e=>G.delete("m_jobtitle",e)},mLeads:{list:(e={})=>G.list("m_leads",e),get:e=>G.get("m_leads",e),create:e=>G.create("m_leads",e),update:(e,r)=>G.update("m_leads",e,r),delete:e=>G.delete("m_leads",e),getByStage:(e,r={})=>G.list("m_leads",{...r,exact_filters:{stage_id:e}}),getByAssignee:(e,r={})=>G.list("m_leads",{...r,exact_filters:{assigned_to:e}}),getByStatus:(e,r={})=>G.list("m_leads",{...r,exact_filters:{status_id:e}})},mSystem:{list:(e={})=>G.list("m_system",e),get:e=>G.get("m_system",e),create:e=>G.create("m_system",e),update:(e,r)=>G.update("m_system",e,r),delete:e=>G.delete("m_system",e)},mLeadsTrans:{list:(e={})=>G.list("m_leads_trans",e),get:e=>G.get("m_leads_trans",e),create:e=>G.create("m_leads_trans",e),update:(e,r)=>G.update("m_leads_trans",e,r),delete:e=>G.delete("m_leads_trans",e),getByLead:(e,r={})=>G.list("m_leads_trans",{...r,exact_filters:{leads_id:e}}),getByUser:(e,r={})=>G.list("m_leads_trans",{...r,exact_filters:{user_id:e}})},mProjects:{list:(e={})=>G.list("m_projects",e),get:e=>G.get("m_projects",e),create:e=>G.create("m_projects",e),update:(e,r)=>G.update("m_projects",e,r),delete:e=>G.delete("m_projects",e)},mStatus:{list:(e={})=>G.list("m_status",e),get:e=>G.get("m_status",e),create:e=>G.create("m_status",e),update:(e,r)=>G.update("m_status",e,r),delete:e=>G.delete("m_status",e)},notes:{list:(e={})=>G.list("notes",e),get:e=>G.get("notes",e),create:e=>G.create("notes",e),update:(e,r)=>G.update("notes",e,r),delete:e=>G.delete("notes",e),getByRelated:(e,r,n={})=>G.list("notes",{...n,exact_filters:{related_to_type:e,related_to_id:r}})},partnerApply:{list:(e={})=>G.list("partner_apply",e),get:e=>G.get("partner_apply",e),create:e=>G.create("partner_apply",e),update:(e,r)=>G.update("partner_apply",e,r),delete:e=>G.delete("partner_apply",e),getPending:(e={})=>G.list("partner_apply",{...e,exact_filters:{status:"Pending"}}),getByStatus:(e,r={})=>G.list("partner_apply",{...r,exact_filters:{status:e}})},projectUsers:{list:(e={})=>G.list("project_users",e),get:e=>G.get("project_users",e),create:e=>G.create("project_users",e),update:(e,r)=>G.update("project_users",e,r),delete:e=>G.delete("project_users",e),getByProject:(e,r={})=>G.list("project_users",{...r,exact_filters:{project_id:e}})},projectImages:{list:(e={})=>G.list("project_images",e),get:e=>G.get("project_images",e),create:e=>G.create("project_images",e),update:(e,r)=>G.update("project_images",e,r),delete:e=>G.delete("project_images",e),getByProject:(e,r={})=>G.list("project_images",{...r,exact_filters:{project_id:e}})},projects:{list:(e={})=>G.list("projects",e),get:e=>G.get("projects",e),create:e=>G.create("projects",e),update:(e,r)=>G.update("projects",e,r),delete:e=>G.delete("projects",e),getByStage:(e,r={})=>G.list("projects",{...r,exact_filters:{stage:e}}),getByLead:(e,r={})=>G.list("projects",{...r,exact_filters:{lead_id:e}})},requests:{list:(e={})=>G.list("requests_crm",e),get:e=>G.get("requests_crm",e),create:e=>G.create("requests_crm",e),update:(e,r)=>G.update("requests_crm",e,r),delete:e=>G.delete("requests_crm",e)},rooms:{list:(e={})=>G.list("rooms",e),get:e=>G.get("rooms",e),create:e=>G.create("rooms",e),update:(e,r)=>G.update("rooms",e,r),delete:e=>G.delete("rooms",e),getByProject:(e,r={})=>G.list("rooms",{...r,exact_filters:{project_id:e}}),getByTeam:(e,r={})=>G.list("rooms",{...r,exact_filters:{team_id:e}})},roomMembers:{list:(e={})=>G.list("room_members",e),get:e=>G.get("room_members",e),create:e=>G.create("room_members",e),update:(e,r)=>G.update("room_members",e,r),delete:e=>G.delete("room_members",e),getByRoom:(e,r={})=>G.list("room_members",{...r,exact_filters:{room_id:e}})},stages:{list:(e={})=>G.list("stages",e),get:e=>G.get("stages",e),create:e=>G.create("stages",e),update:(e,r)=>G.update("stages",e,r),delete:e=>G.delete("stages",e)},tasks:{list:(e={})=>G.list("tasks",e),get:e=>G.get("tasks",e),create:e=>G.create("tasks",e),update:(e,r)=>G.update("tasks",e,r),delete:e=>G.delete("tasks",e),getByStage:(e,r={})=>G.list("tasks",{...r,exact_filters:{stage_id:e}}),getByAssignee:(e,r={})=>G.list("tasks",{...r,exact_filters:{assigned_to:e}})},surveyTemplates:{list:(e={})=>G.list("survey_templates",e),get:e=>G.get("survey_templates",e),create:e=>G.create("survey_templates",e),update:(e,r)=>G.update("survey_templates",e,r),delete:e=>G.delete("survey_templates",e)},surveyTemplateFields:{list:(e={})=>G.list("survey_template_fields",e),get:e=>G.get("survey_template_fields",e),create:e=>G.create("survey_template_fields",e),update:(e,r)=>G.update("survey_template_fields",e,r),delete:e=>G.delete("survey_template_fields",e),getByTemplate:(e,r={})=>G.list("survey_template_fields",{...r,exact_filters:{template_id:e}})},surveys:{list:(e={})=>G.list("surveys",e),get:e=>G.get("surveys",e),create:e=>G.create("surveys",e),update:(e,r)=>G.update("surveys",e,r),delete:e=>G.delete("surveys",e)},teams:{list:(e={})=>G.list("teams",e),get:e=>G.get("teams",e),create:e=>G.create("teams",e),update:(e,r)=>G.update("teams",e,r),delete:e=>G.delete("teams",e)},teamMembers:{list:(e={})=>G.list("team_members",e),get:e=>G.get("team_members",e),create:e=>{const{team_id:r,user_id:n,userid:a,...s}=e??{},i={...s};r!==void 0&&(i.team_id=r);const o=n??(a!==void 0?Number(a):void 0);return o!==void 0&&!Number.isNaN(o)&&(i.user_id=o),G.create("team_members",i)},update:(e,r)=>G.update("team_members",e,r),delete:e=>G.delete("team_members",e),getByTeam:(e,r={})=>G.list("team_members",{...r,exact_filters:{team_id:e}})},tickets:{list:(e={})=>G.list("tickets",e),get:e=>G.get("tickets",e),create:e=>G.create("tickets",e),update:(e,r)=>G.update("tickets",e,r),delete:e=>G.delete("tickets",e),getByStatus:(e,r={})=>G.list("tickets",{...r,exact_filters:{status:e}}),getByStage:(e,r={})=>G.list("tickets",{...r,exact_filters:{stage_id:e}}),getByAssignee:(e,r={})=>G.list("tickets",{...r,exact_filters:{assigned_to:e}})},Users:{list:(e={})=>G.list("Users",e),get:e=>G.get("Users",e),create:e=>G.create("Users",e),update:(e,r)=>G.update("Users",e,r),delete:e=>G.delete("Users",e)},whatsappConversations:{list:(e={})=>G.list("whatsapp_conversations",e),get:e=>G.get("whatsapp_conversations",e),create:e=>G.create("whatsapp_conversations",e),update:(e,r)=>G.update("whatsapp_conversations",e,r),delete:e=>G.delete("whatsapp_conversations",e),getByLead:(e,r={})=>G.list("whatsapp_conversations",{...r,exact_filters:{lead_id:e}}),getByUser:(e,r={})=>G.list("whatsapp_conversations",{...r,exact_filters:{user_id:e}})},whatsappMessages:{list:(e={})=>G.list("whatsapp_messages",e),get:e=>G.get("whatsapp_messages",e),create:e=>G.create("whatsapp_messages",e),update:(e,r)=>G.update("whatsapp_messages",e,r),delete:e=>G.delete("whatsapp_messages",e),getByConversation:(e,r={})=>G.list("whatsapp_messages",{...r,exact_filters:{conversation_id:e}})}};let ok=null,rh=null;async function RA(){return ok||rh||(rh=G.permissions.list().then(e=>{const r=e.data||[];return ok=r,rh=null,r}).catch(e=>(rh=null,console.error("Failed to fetch permissions:",e),[])),rh)}const qU=y.createContext(void 0),Zse=({children:e})=>{const[r,n]=y.useState(null),[a,s]=y.useState(null),[i,o]=y.useState(!0);y.useEffect(()=>{(()=>{try{const m=localStorage.getItem("authToken"),p=localStorage.getItem("authUser");if(m&&p){const g=JSON.parse(p);if(g&&g.role&&(g.role=g.role.toLowerCase()),!g.permissions_permissions_Name)if(g.profile&&g.profile.permissions_permissions_Name)g.permissions_permissions_Name=g.profile.permissions_permissions_Name;else if(g.profile&&g.profile.permissions){const v=g.profile.permissions,x={1:"admin",2:"manager",3:"employee",4:"team_leader",5:"partner_employee",6:"partner_leader"};x[v]&&(g.permissions_permissions_Name=x[v],g.role=x[v])}else g.isAdmin===1&&(g.permissions_permissions_Name="admin",g.role="admin");s(m),n(g)}}catch(m){console.error("Failed to parse stored auth data:",m),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")}finally{o(!1)}})()},[]);const c=y.useCallback(async(h,m)=>{s(h),localStorage.setItem("authToken",h);try{await new Promise(x=>setTimeout(x,100)),await RA()}catch(x){console.warn("Failed to preload permissions:",x)}let p=m;try{let x=null;try{x=await G.list("Users",{exact_filters:{userid:m.id},pageSize:1})}catch{const b=await fetch(`https://api.middar.com/api/v1/Users/list?exact_filters=${encodeURIComponent(JSON.stringify({userid:m.id}))}&pageSize=1`,{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});b.ok&&(x=await b.json())}x&&x.data&&x.data.length>0&&(p=x.data[0])}catch(x){console.warn("Failed to fetch full user profile, using basic login data:",x)}let g="employee";if(p.permissions_permissions_Name){const x=p.permissions_permissions_Name.toLowerCase();x==="admin"?g="admin":x==="manager"?g="manager":x==="employee"?g="employee":x==="team_leader"?g="team_leader":x==="partner_employee"?g="partner_employee":x==="partner_leader"?g="partner_leader":g="employee"}else p.isAdmin===1&&(g="admin");const v={id:p.userid||p.id||"unknown",email:p.Email||p.email||m.email||"",role:g,profile:p,userid:p.userid||0,permissions:p.permissions||0,permissions_permissions_Name:p.permissions_permissions_Name||"",Employee:p.Employee||0,AccountNumber:p.AccountNumber||null,mobile:p.mobile||null,Owner:p.Owner||0,Email_v:p.Email_v||0,IsActive:p.IsActive||0,user_pasword:p.user_pasword||"",name:p.name||m.name||"",Email:p.Email||p.email||m.email||"",pin:p.pin||null,isAllBranches:p.isAllBranches||0,Safe:p.Safe||0,reset_code:p.reset_code||null,reset_expires:p.reset_expires||"",reset_used:p.reset_used||0,isAdmin:p.isAdmin||0};n(v),localStorage.setItem("authUser",JSON.stringify(v)),await new Promise(x=>setTimeout(x,50))},[]),u=y.useCallback(()=>{s(null),n(null),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")},[]),d=y.useCallback(h=>!r||!r.role?!1:h.includes(r.role),[r]),f=y.useMemo(()=>({user:r,token:a,isAuthenticated:!!r&&!!a,loading:i,login:c,logout:u,hasRole:d}),[r,a,i,c,u,d]);return l.jsx(qU.Provider,{value:f,children:e})},xr=()=>{const e=y.useContext(qU);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},KU=y.createContext(void 0),eie=[{code:"en",name:"English",flag:""},{code:"ar",name:"",flag:""}],tie=({children:e})=>{const[r,n]=y.useState(en.language||"ar"),[a,s]=y.useState(nr());y.useEffect(()=>{const c=u=>{n(u),s(nr())};return en.on("languageChanged",c),()=>{en.off("languageChanged",c)}},[]);const o={currentLanguage:r,changeLanguage:async c=>{try{await en.changeLanguage(c),n(c),s(nr())}catch(u){console.error("Failed to change language:",u)}},isRTL:a,languages:eie};return l.jsx(KU.Provider,{value:o,children:e})},Wa=()=>{const e=y.useContext(KU);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},GU=y.createContext(void 0);function rie({children:e}){const[r,n]=y.useState([]);return l.jsx(GU.Provider,{value:{breadcrumbs:r,setBreadcrumbs:n},children:e})}function px(){const e=y.useContext(GU);if(e===void 0)throw new Error("useBreadcrumbs must be used within a BreadcrumbsProvider");return e}var Sb=["light","dark"],IA="(prefers-color-scheme: dark)",nie=typeof window>"u",MA=y.createContext(void 0),aie={setTheme:e=>{},themes:[]},sie=()=>{var e;return(e=y.useContext(MA))!=null?e:aie},YU=e=>y.useContext(MA)?e.children:y.createElement(oie,{...e}),iie=["light","dark"],oie=({forcedTheme:e,disableTransitionOnChange:r=!1,enableSystem:n=!0,enableColorScheme:a=!0,storageKey:s="theme",themes:i=iie,defaultTheme:o=n?"system":"light",attribute:c="data-theme",value:u,children:d,nonce:f})=>{let[h,m]=y.useState(()=>mI(s,o)),[p,g]=y.useState(()=>mI(s)),v=u?Object.values(u):i,x=y.useCallback(S=>{let j=S;if(!j)return;S==="system"&&n&&(j=pI());let N=u?u[j]:j,k=r?cie():null,E=document.documentElement;if(c==="class"?(E.classList.remove(...v),N&&E.classList.add(N)):N?E.setAttribute(c,N):E.removeAttribute(c),a){let C=Sb.includes(o)?o:null,A=Sb.includes(j)?j:C;E.style.colorScheme=A}k==null||k()},[]),w=y.useCallback(S=>{let j=typeof S=="function"?S(S):S;m(j);try{localStorage.setItem(s,j)}catch{}},[e]),b=y.useCallback(S=>{let j=pI(S);g(j),h==="system"&&n&&!e&&x("system")},[h,e]);y.useEffect(()=>{let S=window.matchMedia(IA);return S.addListener(b),b(S),()=>S.removeListener(b)},[b]),y.useEffect(()=>{let S=j=>{if(j.key!==s)return;let N=j.newValue||o;w(N)};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[w]),y.useEffect(()=>{x(e??h)},[e,h]);let _=y.useMemo(()=>({theme:h,setTheme:w,forcedTheme:e,resolvedTheme:h==="system"?p:h,themes:n?[...i,"system"]:i,systemTheme:n?p:void 0}),[h,w,e,p,n,i]);return y.createElement(MA.Provider,{value:_},y.createElement(lie,{forcedTheme:e,disableTransitionOnChange:r,enableSystem:n,enableColorScheme:a,storageKey:s,themes:i,defaultTheme:o,attribute:c,value:u,children:d,attrs:v,nonce:f}),d)},lie=y.memo(({forcedTheme:e,storageKey:r,attribute:n,enableSystem:a,enableColorScheme:s,defaultTheme:i,value:o,attrs:c,nonce:u})=>{let d=i==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?Sb.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(g,v=!1,x=!0)=>{let w=o?o[g]:g,b=v?g+"|| ''":`'${w}'`,_="";return s&&x&&!v&&Sb.includes(g)&&(_+=`d.style.colorScheme = '${g}';`),n==="class"?v||w?_+=`c.add(${b})`:_+="null":w&&(_+=`d[s](n,${b})`),_},p=e?`!function(){${f}${m(e)}}()`:a?`!function(){try{${f}var e=localStorage.getItem('${r}');if('system'===e||(!e&&${d})){var t='${IA}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${r}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${h}}catch(t){}}();`;return y.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:p}})}),mI=(e,r)=>{if(nie)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||r},cie=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},pI=e=>(e||(e=window.matchMedia(IA)),e.matches?"dark":"light");/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XU=(...e)=>e.filter((r,n,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var die={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=y.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:o,...c},u)=>y.createElement("svg",{ref:u,...die,width:r,height:r,stroke:e,strokeWidth:a?Number(n)*24/Number(r):n,className:XU("lucide",s),...c},[...o.map(([d,f])=>y.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(e,r)=>{const n=y.forwardRef(({className:a,...s},i)=>y.createElement(fie,{ref:i,iconNode:r,className:XU(`lucide-${uie(e)}`,a),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=Ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=Ze("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=Ze("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=Ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=Ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=Ze("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=Ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=Ze("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=Ze("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=Ze("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=Ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=Ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=Ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=Ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=Ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=Ze("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=Ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=Ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=Ze("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=Ze("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sie=Ze("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=Ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=Ze("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=Ze("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=Ze("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nie=Ze("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=Ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cie=Ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Ze("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=Ze("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=Ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=Ze("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=Ze("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=Ze("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=Ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=Ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=Ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=Ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Ze("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=Ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=Ze("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=Ze("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=Ze("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=Ze("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=Ze("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=Ze("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=Ze("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=Ze("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=Ze("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=Ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Ze("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Ze("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=Ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=Ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=Ze("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=Ze("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=Ze("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=Ze("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=Ze("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=Ze("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=Ze("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Ze("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lie=Ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=Ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=Ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=Ze("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=Ze("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bie=Ze("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=Ze("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=Ze("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=Ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function a9(e){var r,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(n=a9(e[r]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function Ut(){for(var e,r,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(r=a9(e))&&(a&&(a+=" "),a+=r);return a}const LA="-",zie=e=>{const r=Hie(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const c=o.split(LA);return c[0]===""&&c.length!==1&&c.shift(),s9(c,r)||Wie(o)},getConflictingClassGroupIds:(o,c)=>{const u=n[o]||[];return c&&a[o]?[...u,...a[o]]:u}}},s9=(e,r)=>{var o;if(e.length===0)return r.classGroupId;const n=e[0],a=r.nextPart.get(n),s=a?s9(e.slice(1),a):void 0;if(s)return s;if(r.validators.length===0)return;const i=e.join(LA);return(o=r.validators.find(({validator:c})=>c(i)))==null?void 0:o.classGroupId},_I=/^\[(.+)\]$/,Wie=e=>{if(_I.test(e)){const r=_I.exec(e)[1],n=r==null?void 0:r.substring(0,r.indexOf(":"));if(n)return"arbitrary.."+n}},Hie=e=>{const{theme:r,prefix:n}=e,a={nextPart:new Map,validators:[]};return Kie(Object.entries(e.classGroups),n).forEach(([i,o])=>{G2(o,a,i,r)}),a},G2=(e,r,n,a)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?r:SI(r,s);i.classGroupId=n;return}if(typeof s=="function"){if(qie(s)){G2(s(a),r,n,a);return}r.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{G2(o,SI(r,i),n,a)})})},SI=(e,r)=>{let n=e;return r.split(LA).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},qie=e=>e.isThemeGetter,Kie=(e,r)=>r?e.map(([n,a])=>{const s=a.map(i=>typeof i=="string"?r+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,c])=>[r+o,c])):i);return[n,s]}):e,Gie=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,n=new Map,a=new Map;const s=(i,o)=>{n.set(i,o),r++,r>e&&(r=0,a=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},i9="!",Yie=e=>{const{separator:r,experimentalParseClassName:n}=e,a=r.length===1,s=r[0],i=r.length,o=c=>{const u=[];let d=0,f=0,h;for(let x=0;x<c.length;x++){let w=c[x];if(d===0){if(w===s&&(a||c.slice(x,x+i)===r)){u.push(c.slice(f,x)),f=x+i;continue}if(w==="/"){h=x;continue}}w==="["?d++:w==="]"&&d--}const m=u.length===0?c:c.substring(f),p=m.startsWith(i9),g=p?m.substring(1):m,v=h&&h>f?h-f:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}};return n?c=>n({className:c,parseClassName:o}):o},Xie=e=>{if(e.length<=1)return e;const r=[];let n=[];return e.forEach(a=>{a[0]==="["?(r.push(...n.sort(),a),n=[]):n.push(a)}),r.push(...n.sort()),r},Jie=e=>({cache:Gie(e.cacheSize),parseClassName:Yie(e),...zie(e)}),Qie=/\s+/,Zie=(e,r)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:s}=r,i=[],o=e.trim().split(Qie);let c="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:f,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=n(d);let g=!!p,v=a(g?m.substring(0,p):m);if(!v){if(!g){c=d+(c.length>0?" "+c:c);continue}if(v=a(m),!v){c=d+(c.length>0?" "+c:c);continue}g=!1}const x=Xie(f).join(":"),w=h?x+i9:x,b=w+v;if(i.includes(b))continue;i.push(b);const _=s(v,g);for(let S=0;S<_.length;++S){const j=_[S];i.push(w+j)}c=d+(c.length>0?" "+c:c)}return c};function eoe(){let e=0,r,n,a="";for(;e<arguments.length;)(r=arguments[e++])&&(n=o9(r))&&(a&&(a+=" "),a+=n);return a}const o9=e=>{if(typeof e=="string")return e;let r,n="";for(let a=0;a<e.length;a++)e[a]&&(r=o9(e[a]))&&(n&&(n+=" "),n+=r);return n};function toe(e,...r){let n,a,s,i=o;function o(u){const d=r.reduce((f,h)=>h(f),e());return n=Jie(d),a=n.cache.get,s=n.cache.set,i=c,c(u)}function c(u){const d=a(u);if(d)return d;const f=Zie(u,n);return s(u,f),f}return function(){return i(eoe.apply(null,arguments))}}const Br=e=>{const r=n=>n[e]||[];return r.isThemeGetter=!0,r},l9=/^\[(?:([a-z-]+):)?(.+)\]$/i,roe=/^\d+\/\d+$/,noe=new Set(["px","full","screen"]),aoe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,soe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ioe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ooe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,loe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bl=e=>rm(e)||noe.has(e)||roe.test(e),Uc=e=>Dp(e,"length",goe),rm=e=>!!e&&!Number.isNaN(Number(e)),lk=e=>Dp(e,"number",rm),b0=e=>!!e&&Number.isInteger(Number(e)),coe=e=>e.endsWith("%")&&rm(e.slice(0,-1)),Ht=e=>l9.test(e),Vc=e=>aoe.test(e),uoe=new Set(["length","size","percentage"]),doe=e=>Dp(e,uoe,c9),foe=e=>Dp(e,"position",c9),hoe=new Set(["image","url"]),moe=e=>Dp(e,hoe,xoe),poe=e=>Dp(e,"",voe),w0=()=>!0,Dp=(e,r,n)=>{const a=l9.exec(e);return a?a[1]?typeof r=="string"?a[1]===r:r.has(a[1]):n(a[2]):!1},goe=e=>soe.test(e)&&!ioe.test(e),c9=()=>!1,voe=e=>ooe.test(e),xoe=e=>loe.test(e),yoe=()=>{const e=Br("colors"),r=Br("spacing"),n=Br("blur"),a=Br("brightness"),s=Br("borderColor"),i=Br("borderRadius"),o=Br("borderSpacing"),c=Br("borderWidth"),u=Br("contrast"),d=Br("grayscale"),f=Br("hueRotate"),h=Br("invert"),m=Br("gap"),p=Br("gradientColorStops"),g=Br("gradientColorStopPositions"),v=Br("inset"),x=Br("margin"),w=Br("opacity"),b=Br("padding"),_=Br("saturate"),S=Br("scale"),j=Br("sepia"),N=Br("skew"),k=Br("space"),E=Br("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Ht,r],T=()=>[Ht,r],W=()=>["",Bl,Uc],q=()=>["auto",rm,Ht],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Ht],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[rm,Ht];return{cacheSize:500,separator:":",theme:{colors:[w0],spacing:[Bl,Uc],blur:["none","",Vc,Ht],brightness:ee(),borderColor:[e],borderRadius:["none","","full",Vc,Ht],borderSpacing:T(),borderWidth:W(),contrast:ee(),grayscale:M(),hueRotate:ee(),invert:M(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[coe,Uc],inset:D(),margin:D(),opacity:ee(),padding:T(),saturate:ee(),scale:ee(),sepia:M(),skew:ee(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Ht]}],container:["container"],columns:[{columns:[Vc]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),Ht]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",b0,Ht]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ht]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",b0,Ht]}],"grid-cols":[{"grid-cols":[w0]}],"col-start-end":[{col:["auto",{span:["full",b0,Ht]},Ht]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[w0]}],"row-start-end":[{row:["auto",{span:[b0,Ht]},Ht]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ht]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ht]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ht,r]}],"min-w":[{"min-w":[Ht,r,"min","max","fit"]}],"max-w":[{"max-w":[Ht,r,"none","full","min","max","fit","prose",{screen:[Vc]},Vc]}],h:[{h:[Ht,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ht,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ht,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ht,r,"auto","min","max","fit"]}],"font-size":[{text:["base",Vc,Uc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lk]}],"font-family":[{font:[w0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ht]}],"line-clamp":[{"line-clamp":["none",rm,lk]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bl,Ht]}],"list-image":[{"list-image":["none",Ht]}],"list-style-type":[{list:["none","disc","decimal",Ht]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Bl,Uc]}],"underline-offset":[{"underline-offset":["auto",Bl,Ht]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ht]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ht]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),foe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",doe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},moe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:I()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Bl,Ht]}],"outline-w":[{outline:[Bl,Uc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Bl,Uc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Vc,poe]}],"shadow-color":[{shadow:[w0]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[a]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Vc,Ht]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ht]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Ht]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ht]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[b0,Ht]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ht]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ht]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ht]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Bl,Uc,lk]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},boe=toe(yoe);function ge(...e){return boe(Ut(e))}const woe={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12","2xl":"h-16 w-16"};function zi({message:e="Loading...",className:r="",size:n="xl",fullScreen:a=!1,showProgress:s=!1,progress:i=0}){const o=l.jsxs("div",{className:ge("flex flex-col items-center justify-center space-y-4",a?"min-h-screen":"",r),children:[l.jsx(gx,{className:ge("animate-spin text-primary",woe[n])}),s&&l.jsx("div",{className:"w-24 h-1 bg-muted rounded-full overflow-hidden mx-auto",children:l.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${i}%`}})}),e&&!s&&l.jsx("p",{className:"text-sm text-muted-foreground animate-pulse font-medium",children:e}),e&&s&&l.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:e})]});return a?l.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:o}):o}const Oy=({children:e,allowedRoles:r,requireAuth:n=!0,denyPermissionIds:a=[]})=>{var h,m;const s=Al(),{user:i,loading:o,hasRole:c}=xr(),u=y.useMemo(()=>r?c(r):!0,[r,c]);if(y.useMemo(()=>({loading:o,user:i?{id:i.id,email:i.email,role:i.role}:null,hasRequiredRole:u}),[o,i,u]),console.log("[ProtectedRoute]",{path:s.pathname,loading:o,hasUser:!!i,requireAuth:n,hasRequiredRole:u,userRole:i==null?void 0:i.role}),o)return console.log("[ProtectedRoute] Showing loading spinner"),l.jsx(zi,{size:"xl",fullScreen:!0});if(n&&!i)return console.log("[ProtectedRoute] No user, redirecting to login"),l.jsx(D1,{to:"/login",state:{from:s},replace:!0});const d=(i==null?void 0:i.permissions)||((h=i==null?void 0:i.profile)==null?void 0:h.permissions)||((m=i==null?void 0:i.profile)==null?void 0:m.permissions_ID),f=d!=null?Number(d):NaN;return a.length>0&&!Number.isNaN(f)&&a.includes(f)?(console.log("[ProtectedRoute] User permission denied:",f),l.jsx(D1,{to:"/unauthorized",replace:!0})):r&&!u?(console.log("[ProtectedRoute] User does not have required role"),l.jsx(D1,{to:"/unauthorized",replace:!0})):(console.log("[ProtectedRoute] Rendering protected content"),l.jsx(l.Fragment,{children:e}))};function jI(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function vc(...e){return r=>{let n=!1;const a=e.map(s=>{const i=jI(s,r);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():jI(e[s],null)}}}}function qt(...e){return y.useCallback(vc(...e),e)}function $u(e){const r=_oe(e),n=y.forwardRef((a,s)=>{const{children:i,...o}=a,c=y.Children.toArray(i),u=c.find(joe);if(u){const d=u.props.children,f=c.map(h=>h===u?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:h);return l.jsx(r,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,f):null})}return l.jsx(r,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var u9=$u("Slot");function _oe(e){const r=y.forwardRef((n,a)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=Noe(s),c=koe(i,s.props);return s.type!==y.Fragment&&(c.ref=a?vc(a,o):o),y.cloneElement(s,c)}return y.Children.count(s)>1?y.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var d9=Symbol("radix.slottable");function Soe(e){const r=({children:n})=>l.jsx(l.Fragment,{children:n});return r.displayName=`${e}.Slottable`,r.__radixId=d9,r}function joe(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===d9}function koe(e,r){const n={...r};for(const a in r){const s=e[a],i=r[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function Noe(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const kI=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,NI=Ut,xx=(e,r)=>n=>{var a;if((r==null?void 0:r.variants)==null)return NI(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=r,o=Object.keys(s).map(d=>{const f=n==null?void 0:n[d],h=i==null?void 0:i[d];if(f===null)return null;const m=kI(f)||kI(h);return s[d][m]}),c=n&&Object.entries(n).reduce((d,f)=>{let[h,m]=f;return m===void 0||(d[h]=m),d},{}),u=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((d,f)=>{let{class:h,className:m,...p}=f;return Object.entries(p).every(g=>{let[v,x]=g;return Array.isArray(x)?x.includes({...i,...c}[v]):{...i,...c}[v]===x})?[...d,h,m]:d},[]);return NI(e,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},$m=xx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),le=y.forwardRef(({className:e,variant:r,size:n,asChild:a=!1,...s},i)=>{const o=a?u9:"button";return l.jsx(o,{className:ge($m({variant:r,size:n,className:e})),ref:i,...s})});le.displayName="Button";const We=y.forwardRef(({className:e,type:r,...n},a)=>l.jsx("input",{type:r,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...n}));We.displayName="Input";var Coe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mt=Coe.reduce((e,r)=>{const n=$u(`Primitive.${r}`),a=y.forwardRef((s,i)=>{const{asChild:o,...c}=s,u=o?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...c,ref:i})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{});function f9(e,r){e&&Ap.flushSync(()=>e.dispatchEvent(r))}var Eoe="Label",h9=y.forwardRef((e,r)=>l.jsx(mt.label,{...e,ref:r,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));h9.displayName=Eoe;var m9=h9;const Toe=xx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ge=y.forwardRef(({className:e,...r},n)=>l.jsx(m9,{ref:n,className:ge(Toe(),e),...r}));Ge.displayName=m9.displayName;const lt=y.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));lt.displayName="Card";const Xt=y.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:ge("flex flex-col space-y-1.5 p-6",e),...r}));Xt.displayName="CardHeader";const _r=y.forwardRef(({className:e,...r},n)=>l.jsx("h3",{ref:n,className:ge("text-2xl font-semibold leading-none tracking-tight",e),...r}));_r.displayName="CardTitle";const Aoe=y.forwardRef(({className:e,...r},n)=>l.jsx("p",{ref:n,className:ge("text-sm text-muted-foreground",e),...r}));Aoe.displayName="CardDescription";const xt=y.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:ge("p-6 pt-0",e),...r}));xt.displayName="CardContent";const p9=y.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:ge("flex items-center p-6 pt-0",e),...r}));p9.displayName="CardFooter";const Ooe=1,Poe=1e6;let ck=0;function Doe(){return ck=(ck+1)%Number.MAX_SAFE_INTEGER,ck.toString()}const uk=new Map,CI=e=>{if(uk.has(e))return;const r=setTimeout(()=>{uk.delete(e),hg({type:"REMOVE_TOAST",toastId:e})},Poe);uk.set(e,r)},Roe=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,Ooe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===r.toast.id?{...n,...r.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=r;return n?CI(n):e.toasts.forEach(a=>{CI(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==r.toastId)}}},I1=[];let M1={toasts:[]};function hg(e){M1=Roe(M1,e),I1.forEach(r=>{r(M1)})}function Ioe({...e}){const r=Doe(),n=s=>hg({type:"UPDATE_TOAST",toast:{...s,id:r}}),a=()=>hg({type:"DISMISS_TOAST",toastId:r});return hg({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:s=>{s||a()}}}),{id:r,dismiss:a,update:n}}function Ol(){const[e,r]=y.useState(M1);return y.useEffect(()=>(I1.push(r),()=>{const n=I1.indexOf(r);n>-1&&I1.splice(n,1)}),[e]),{...e,toast:Ioe,dismiss:n=>hg({type:"DISMISS_TOAST",toastId:n})}}const Moe=()=>{var b,_;const[e,r]=y.useState(""),[n,a]=y.useState(""),[s,i]=y.useState("crmdb"),[o,c]=y.useState(!1),[u,d]=y.useState(!1),{login:f}=xr(),h=zs(),m=Al(),{t:p}=Kt(),{isRTL:g}=Wa(),{toast:v}=Ol(),x=((_=(b=m.state)==null?void 0:b.from)==null?void 0:_.pathname)||"/dashboard",w=async S=>{if(S.preventDefault(),!e||!n){v({title:p("common.error","Error"),description:p("validation.fillAllFields","Please fill in all fields"),variant:"destructive"});return}c(!0);try{const j=await G.auth.login({email:e,password:n,company_code:s});if(j.serviceToken&&j.user)await f(j.serviceToken,j.user),v({title:p("common.success","Success"),description:p("auth.loginSuccess","Logged in successfully")}),h(x,{replace:!0});else throw new Error("Invalid response from server")}catch(j){console.error("Login error:",j);let N=p("auth.loginFailed","Failed to login. Please check your credentials.");j.message&&!j.message.includes("Unexpected token")&&(N=j.message),v({title:p("auth.loginFailedTitle","Login Failed"),description:N,variant:"destructive"})}finally{c(!1)}};return l.jsxs("div",{className:"w-full max-w-md mx-auto",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-primary to-primary/80 rounded-2xl flex items-center justify-center shadow-lg mb-4",children:l.jsx(un,{className:"h-8 w-8 text-white"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:p("auth.welcomeBack","Welcome Back")}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:p("auth.enterCredentials","Enter your credentials to access your account")})]}),l.jsx(lt,{className:"border-0 shadow-xl bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm",children:l.jsxs("form",{onSubmit:w,children:[l.jsxs(xt,{className:"p-8 space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:p("auth.emailOrUsername","Email / Username")}),l.jsxs("div",{className:"relative",children:[l.jsx(_d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(We,{id:"email",type:"text",placeholder:p("auth.enterEmail","Enter your email"),value:e,onChange:S=>r(S.target.value),disabled:o,className:`pl-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${g?"text-right pr-10 pl-3":"text-left"}`,autoComplete:"email"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"password",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:p("forms.password","Password")}),l.jsxs("div",{className:"relative",children:[l.jsx(e9,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(We,{id:"password",type:u?"text":"password",placeholder:p("auth.enterPassword","Enter your password"),value:n,onChange:S=>a(S.target.value),disabled:o,className:`pl-10 pr-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${g?"text-right pr-16 pl-3":"text-left"}`,autoComplete:"current-password"}),l.jsx("button",{type:"button",onClick:()=>d(!u),className:`absolute ${g?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors`,disabled:o,children:u?l.jsx(Nie,{className:"h-4 w-4"}):l.jsx(ui,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"companyCode",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:p("auth.companyCode","Company Code")}),l.jsxs("div",{className:"relative",children:[l.jsx(un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(We,{id:"companyCode",type:"text",value:s,onChange:S=>i(S.target.value),disabled:o,className:`pl-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${g?"text-right pr-3 pl-10":"text-left"}`,placeholder:"crmdb"})]})]})]}),l.jsx(p9,{className:"px-8 pb-8",children:l.jsx(le,{type:"submit",className:"w-full h-12 text-base font-medium shadow-lg hover:shadow-xl transition-all duration-200 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary",disabled:o,children:o?l.jsxs(l.Fragment,{children:[l.jsx(gx,{className:"mr-2 h-4 w-4 animate-spin"}),p("auth.signingIn","Logging in...")]}):l.jsx(l.Fragment,{children:p("auth.signInButton","Login")})})})]})}),l.jsxs("div",{className:"mt-6 text-center space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[p("auth.noAccount","Don't have an account?")," ",l.jsx("button",{onClick:()=>h("/signup"),className:"text-primary hover:text-primary/80 font-medium transition-colors",children:p("auth.signUp","Sign up")})]}),l.jsx("button",{onClick:()=>{v({title:p("auth.forgotPassword","Forgot Password"),description:p("auth.forgotPasswordDesc","Please contact your administrator to reset your password.")})},className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:p("auth.forgotPassword","Forgot your password?")})]})]})},Foe=()=>{const[e,r]=y.useState(!1);xr();const n=zs(),{t:a}=Kt();return l.jsxs("div",{className:"w-full max-w-md space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold",children:a("auth.createAccount")}),l.jsx("p",{className:"text-muted-foreground mt-2",children:a("auth.signUpToGetStarted")})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-center text-sm text-muted-foreground",children:a("auth.chooseAccountTypeSignUp")}),e&&l.jsx("div",{className:"text-center text-sm text-muted-foreground",children:a("auth.redirectingToGoogle")})]}),l.jsxs("div",{className:"text-center text-sm",children:[l.jsxs("span",{className:"text-muted-foreground",children:[a("auth.alreadyHaveAccount")," "]}),l.jsx(le,{variant:"link",className:"p-0",onClick:()=>n("/login"),children:a("auth.signIn")})]})]})},Loe=()=>{const{user:e}=xr(),r=()=>(e==null?void 0:e.permissions)||0,n=()=>(e==null?void 0:e.permissions_permissions_Name)||"",a=()=>(e==null?void 0:e.role)||"",s=w=>{const b=r();return Array.isArray(w)?w.includes(b):b===w},i=w=>{const b=n().toLowerCase();return Array.isArray(w)?w.some(_=>_.toLowerCase()===b):w.toLowerCase()===b},o=w=>{const b=a().toLowerCase();return Array.isArray(w)?w.some(_=>_.toLowerCase()===b):w.toLowerCase()===b},c=s(1)||i("admin")||o("admin"),u=s(2)||i("manager")||o("manager"),d=s(3)||i("employee")||o("employee"),f=s(4)||i("team_leader")||o("team_leader"),h=s(5)||i("partner_employee")||o("partner_employee"),m=s(6)||i("partner_leader")||o("partner_leader"),p=s([1,2])||i(["admin","manager"])||o(["admin","manager"]),g=s(1)||i("admin")||o("admin"),v=s(1)||i("admin")||o("admin"),x=s(1)||i("admin")||o("admin");return{permissionId:r(),permissionName:n(),role:a(),hasPermissionId:s,hasPermissionName:i,hasRole:o,isAdmin:c,isManager:u,isEmployee:d,isTeamLeader:f,isPartnerEmployee:h,isPartnerLeader:m,canAccessSystem:p,canManageUsers:g,canManagePermissions:v,canAccessSettings:x}},g9=y.createContext(void 0),$oe=({children:e})=>{const[r,n]=y.useState(()=>localStorage.getItem("crm_company_name")||"Middar CRM"),[a,s]=y.useState(()=>localStorage.getItem("crm_primary_color")||"#2563eb"),[i,o]=y.useState(()=>localStorage.getItem("crm_logo_url")||""),c=m=>{n(m),localStorage.setItem("crm_company_name",m)},u=m=>{s(m),localStorage.setItem("crm_primary_color",m),f(m)},d=m=>{o(m),localStorage.setItem("crm_logo_url",m)},f=m=>{const p=h(m);p&&(document.documentElement.style.setProperty("--primary",`${p.h} ${p.s}% ${p.l}%`),document.documentElement.style.setProperty("--ring",`${p.h} ${p.s}% ${p.l}%`))};function h(m){let p=0,g=0,v=0;m.length===4?(p=parseInt(m[1]+m[1],16),g=parseInt(m[2]+m[2],16),v=parseInt(m[3]+m[3],16)):m.length===7&&(p=parseInt(m.substring(1,3),16),g=parseInt(m.substring(3,5),16),v=parseInt(m.substring(5,7),16)),p/=255,g/=255,v/=255;const x=Math.max(p,g,v),w=Math.min(p,g,v);let b=0,_,S=(x+w)/2;if(x===w)b=_=0;else{const j=x-w;switch(_=S>.5?j/(2-x-w):j/(x+w),x){case p:b=(g-v)/j+(g<v?6:0);break;case g:b=(v-p)/j+2;break;case v:b=(p-g)/j+4;break}b/=6}return{h:Math.round(b*360),s:Math.round(_*100),l:Math.round(S*100)}}return y.useEffect(()=>{f(a)},[]),l.jsx(g9.Provider,{value:{companyName:r,setCompanyName:c,primaryColor:a,setPrimaryColor:u,logoUrl:i,setLogoUrl:d},children:e})},v9=()=>{const e=y.useContext(g9);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e};function Boe(e,r){const n=y.createContext(r),a=i=>{const{children:o,...c}=i,u=y.useMemo(()=>c,Object.values(c));return l.jsx(n.Provider,{value:u,children:o})};a.displayName=e+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function vs(e,r=[]){let n=[];function a(i,o){const c=y.createContext(o),u=n.length;n=[...n,o];const d=h=>{var w;const{scope:m,children:p,...g}=h,v=((w=m==null?void 0:m[e])==null?void 0:w[u])||c,x=y.useMemo(()=>g,Object.values(g));return l.jsx(v.Provider,{value:x,children:p})};d.displayName=i+"Provider";function f(h,m){var v;const p=((v=m==null?void 0:m[e])==null?void 0:v[u])||c,g=y.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,f]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(c){const u=(c==null?void 0:c[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return s.scopeName=e,[a,Uoe(s,...r)]}function Uoe(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((c,{useScope:u,scopeName:d})=>{const h=u(i)[`__scope${d}`];return{...c,...h}},{});return y.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return n.scopeName=r.scopeName,n}function ea(e){const r=y.useRef(e);return y.useEffect(()=>{r.current=e}),y.useMemo(()=>(...n)=>{var a;return(a=r.current)==null?void 0:a.call(r,...n)},[])}var Rn=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{};function Voe(){return EU.useSyncExternalStore(zoe,()=>!0,()=>!1)}function zoe(){return()=>{}}var $A="Avatar",[Woe,pXe]=vs($A),[Hoe,x9]=Woe($A),y9=y.forwardRef((e,r)=>{const{__scopeAvatar:n,...a}=e,[s,i]=y.useState("idle");return l.jsx(Hoe,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:l.jsx(mt.span,{...a,ref:r})})});y9.displayName=$A;var b9="AvatarImage",w9=y.forwardRef((e,r)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:s=()=>{},...i}=e,o=x9(b9,n),c=qoe(a,i),u=ea(d=>{s(d),o.onImageLoadingStatusChange(d)});return Rn(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?l.jsx(mt.img,{...i,ref:r,src:a}):null});w9.displayName=b9;var _9="AvatarFallback",S9=y.forwardRef((e,r)=>{const{__scopeAvatar:n,delayMs:a,...s}=e,i=x9(_9,n),[o,c]=y.useState(a===void 0);return y.useEffect(()=>{if(a!==void 0){const u=window.setTimeout(()=>c(!0),a);return()=>window.clearTimeout(u)}},[a]),o&&i.imageLoadingStatus!=="loaded"?l.jsx(mt.span,{...s,ref:r}):null});S9.displayName=_9;function EI(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function qoe(e,{referrerPolicy:r,crossOrigin:n}){const a=Voe(),s=y.useRef(null),i=a?(s.current||(s.current=new window.Image),s.current):null,[o,c]=y.useState(()=>EI(i,e));return Rn(()=>{c(EI(i,e))},[i,e]),Rn(()=>{const u=h=>()=>{c(h)};if(!i)return;const d=u("loaded"),f=u("error");return i.addEventListener("load",d),i.addEventListener("error",f),r&&(i.referrerPolicy=r),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",f)}},[i,n,r]),o}var j9=y9,k9=w9,N9=S9;const Rs=y.forwardRef(({className:e,...r},n)=>l.jsx(j9,{ref:n,className:ge("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));Rs.displayName=j9.displayName;const Do=y.forwardRef(({className:e,...r},n)=>l.jsx(k9,{ref:n,className:ge("aspect-square h-full w-full",e),...r}));Do.displayName=k9.displayName;const Is=y.forwardRef(({className:e,...r},n)=>l.jsx(N9,{ref:n,className:ge("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));Is.displayName=N9.displayName;const Koe=[{label:"main",items:[{labelKey:"navigation.dashboard",path:"/dashboard",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Tie},{labelKey:"navigation.surveys",path:"/surveys",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:ei}]},{label:"sales",items:[{labelKey:"navigation.leads",path:"/leads",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Fa},{labelKey:"navigation.masterLeads",path:"/mleads",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:un},{labelKey:"navigation.projects",path:"/projects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:tf},{labelKey:"mprojects.masterProjects",path:"/mprojects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:un}]},{label:"work",items:[{labelKey:"navigation.tasks",path:"/tasks",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:fg},{labelKey:"navigation.tickets",path:"/tickets",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:xh},{labelKey:"navigation.requests",path:"/requests",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:ei}]},{label:"communication",items:[{labelKey:"WhatsApp",path:"/whatsapp",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Lu},{labelKey:"navigation.chats",path:"/chats",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:Lu},{labelKey:"navigation.teams",path:"/teams",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:jb}]},{label:"system",items:[{labelKey:"navigation.users",path:"/users",roles:["admin"],icon:$ie},{labelKey:"navigation.settings",path:"/settings",roles:["admin"],icon:t9},{labelKey:"navigation.permissions",path:"/permissions",roles:["admin"],icon:jb}]}];function TI({onNavigate:e}={}){var o,c,u;const r=Al(),{user:n}=xr(),{canAccessSystem:a}=Loe(),{t:s}=Kt(),{companyName:i}=v9();return l.jsxs("div",{className:"h-full w-full bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95 border-r border-sidebar-border/50 flex flex-col shadow-xl",children:[l.jsx("div",{className:"p-6 border-b border-sidebar-border/30 bg-gradient-to-r from-primary/5 via-primary/3 to-transparent",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary to-primary/80 shadow-lg flex items-center justify-center ring-2 ring-primary/20",children:l.jsx(un,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-bold text-sidebar-foreground tracking-tight",children:i}),l.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"CRM System"})]})]})}),l.jsx("div",{className:"flex-1 px-4 py-6 overflow-y-auto",children:l.jsx("nav",{className:"space-y-6",children:Koe.map(d=>{if(d.label==="system"&&!a)return null;let f=d.items;if(!a){const h=new Set(["/users","/permissions","/settings"]);f=f.filter(m=>!h.has(m.path))}return f.length===0?null:l.jsxs("div",{children:[l.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-sidebar-foreground/50 uppercase tracking-wider",children:s(`navigation.${d.label} Group`,d.label)}),l.jsx("div",{className:"space-y-1",children:f.map(h=>{const m=r.pathname===h.path,p=h.icon;return l.jsxs(V2,{to:h.path,onClick:g=>{m&&g.preventDefault(),e==null||e()},className:ge("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group relative overflow-hidden",m?"bg-gradient-to-r from-primary to-primary/90 text-white shadow-lg shadow-primary/25 translate-x-1":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:translate-x-0.5"),children:[m&&l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-transparent to-transparent"}),l.jsx(p,{className:ge("h-4 w-4 transition-transform group-hover:scale-110 relative z-10",m?"text-white":"text-sidebar-foreground/50 group-hover:text-sidebar-accent-foreground")}),l.jsx("span",{className:"flex-1 relative z-10",children:s(h.labelKey)})]},h.path)})})]},d.label)})})}),l.jsx("div",{className:"p-4 border-t border-sidebar-border/50 bg-sidebar-accent/30",children:l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-sidebar-accent/50 to-transparent hover:from-sidebar-accent hover:shadow-md transition-all cursor-pointer group",children:[l.jsx(Rs,{className:"h-10 w-10 ring-2 ring-primary/20 transition-all group-hover:ring-primary/40",children:l.jsx(Is,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-bold",children:(o=n==null?void 0:n.email)==null?void 0:o.charAt(0).toUpperCase()})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold text-sidebar-foreground truncate",children:((c=n==null?void 0:n.profile)==null?void 0:c.name)||(n==null?void 0:n.email)}),l.jsxs("p",{className:"text-xs text-sidebar-foreground/60 capitalize flex items-center gap-1.5",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-lg shadow-green-500/50"}),(u=n==null?void 0:n.role)==null?void 0:u.replace("_"," ")]})]}),l.jsx(O_,{className:"h-4 w-4 text-sidebar-foreground/30 group-hover:text-sidebar-foreground/60 transition-colors"})]})})]})}function Goe(){const e=Al(),{t:r}=Kt(),n=e.pathname.split("/").filter(i=>i);if(n.length===0)return null;const a={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",mleads:"navigation.masterLeads",mprojects:"mprojects.masterProjects",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee"},s=i=>a[i]?r(a[i]):/^\d+$/.test(i)||i.length>20?i:i.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");return l.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[l.jsx(V2,{to:"/",className:"hover:text-foreground transition-colors",children:r("navigation.home")}),n.map((i,o)=>{const c=`/${n.slice(0,o+1).join("/")}`,u=o===n.length-1,d=s(i);return l.jsxs("div",{className:"flex items-center",children:[l.jsx(O_,{className:"h-4 w-4 mx-2 text-muted-foreground rtl:rotate-180"}),u?l.jsx("span",{className:"text-foreground font-medium",children:d}):l.jsx(V2,{to:c,className:"hover:text-foreground transition-colors",children:d})]},i)})]})}function Y2(e,[r,n]){return Math.min(n,Math.max(r,e))}function rt(e,r,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return r==null?void 0:r(s)}}function BA(e){const r=e+"CollectionProvider",[n,a]=vs(r),[s,i]=n(r,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:x,children:w}=v,b=ne.useRef(null),_=ne.useRef(new Map).current;return l.jsx(s,{scope:x,itemMap:_,collectionRef:b,children:w})};o.displayName=r;const c=e+"CollectionSlot",u=$u(c),d=ne.forwardRef((v,x)=>{const{scope:w,children:b}=v,_=i(c,w),S=qt(x,_.collectionRef);return l.jsx(u,{ref:S,children:b})});d.displayName=c;const f=e+"CollectionItemSlot",h="data-radix-collection-item",m=$u(f),p=ne.forwardRef((v,x)=>{const{scope:w,children:b,..._}=v,S=ne.useRef(null),j=qt(x,S),N=i(f,w);return ne.useEffect(()=>(N.itemMap.set(S,{ref:S,..._}),()=>void N.itemMap.delete(S))),l.jsx(m,{[h]:"",ref:j,children:b})});p.displayName=f;function g(v){const x=i(e+"CollectionConsumer",v);return ne.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const _=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((N,k)=>_.indexOf(N.ref.current)-_.indexOf(k.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},g,a]}var Yoe=y.createContext(void 0);function yx(e){const r=y.useContext(Yoe);return e||r||"ltr"}function Xoe(e,r=globalThis==null?void 0:globalThis.document){const n=ea(e);y.useEffect(()=>{const a=s=>{s.key==="Escape"&&n(s)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[n,r])}var Joe="DismissableLayer",X2="dismissableLayer.update",Qoe="dismissableLayer.pointerDownOutside",Zoe="dismissableLayer.focusOutside",AI,C9=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bx=y.forwardRef((e,r)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...u}=e,d=y.useContext(C9),[f,h]=y.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),g=qt(r,k=>h(k)),v=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(x),b=f?v.indexOf(f):-1,_=d.layersWithOutsidePointerEventsDisabled.size>0,S=b>=w,j=rle(k=>{const E=k.target,C=[...d.branches].some(A=>A.contains(E));!S||C||(s==null||s(k),o==null||o(k),k.defaultPrevented||c==null||c())},m),N=nle(k=>{const E=k.target;[...d.branches].some(A=>A.contains(E))||(i==null||i(k),o==null||o(k),k.defaultPrevented||c==null||c())},m);return Xoe(k=>{b===d.layers.size-1&&(a==null||a(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},m),y.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(AI=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),OI(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=AI)}},[f,m,n,d]),y.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),OI())},[f,d]),y.useEffect(()=>{const k=()=>p({});return document.addEventListener(X2,k),()=>document.removeEventListener(X2,k)},[]),l.jsx(mt.div,{...u,ref:g,style:{pointerEvents:_?S?"auto":"none":void 0,...e.style},onFocusCapture:rt(e.onFocusCapture,N.onFocusCapture),onBlurCapture:rt(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:rt(e.onPointerDownCapture,j.onPointerDownCapture)})});bx.displayName=Joe;var ele="DismissableLayerBranch",tle=y.forwardRef((e,r)=>{const n=y.useContext(C9),a=y.useRef(null),s=qt(r,a);return y.useEffect(()=>{const i=a.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(mt.div,{...e,ref:s})});tle.displayName=ele;function rle(e,r=globalThis==null?void 0:globalThis.document){const n=ea(e),a=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=c=>{if(c.target&&!a.current){let u=function(){E9(Qoe,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(r.removeEventListener("click",s.current),s.current=u,r.addEventListener("click",s.current,{once:!0})):u()}else r.removeEventListener("click",s.current);a.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",s.current)}},[r,n]),{onPointerDownCapture:()=>a.current=!0}}function nle(e,r=globalThis==null?void 0:globalThis.document){const n=ea(e),a=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!a.current&&E9(Zoe,n,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",s),()=>r.removeEventListener("focusin",s)},[r,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function OI(){const e=new CustomEvent(X2);document.dispatchEvent(e)}function E9(e,r,n,{discrete:a}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});r&&s.addEventListener(e,r,{once:!0}),a?f9(s,i):s.dispatchEvent(i)}var dk=0;function R_(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??PI()),document.body.insertAdjacentElement("beforeend",e[1]??PI()),dk++,()=>{dk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),dk--}},[])}function PI(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fk="focusScope.autoFocusOnMount",hk="focusScope.autoFocusOnUnmount",DI={bubbles:!1,cancelable:!0},ale="FocusScope",wx=y.forwardRef((e,r)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[c,u]=y.useState(null),d=ea(s),f=ea(i),h=y.useRef(null),m=qt(r,v=>u(v)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(a){let v=function(_){if(p.paused||!c)return;const S=_.target;c.contains(S)?h.current=S:qc(h.current,{select:!0})},x=function(_){if(p.paused||!c)return;const S=_.relatedTarget;S!==null&&(c.contains(S)||qc(h.current,{select:!0}))},w=function(_){if(document.activeElement===document.body)for(const j of _)j.removedNodes.length>0&&qc(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const b=new MutationObserver(w);return c&&b.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),b.disconnect()}}},[a,c,p.paused]),y.useEffect(()=>{if(c){II.add(p);const v=document.activeElement;if(!c.contains(v)){const w=new CustomEvent(fk,DI);c.addEventListener(fk,d),c.dispatchEvent(w),w.defaultPrevented||(sle(ule(T9(c)),{select:!0}),document.activeElement===v&&qc(c))}return()=>{c.removeEventListener(fk,d),setTimeout(()=>{const w=new CustomEvent(hk,DI);c.addEventListener(hk,f),c.dispatchEvent(w),w.defaultPrevented||qc(v??document.body,{select:!0}),c.removeEventListener(hk,f),II.remove(p)},0)}}},[c,d,f,p]);const g=y.useCallback(v=>{if(!n&&!a||p.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(x&&w){const b=v.currentTarget,[_,S]=ile(b);_&&S?!v.shiftKey&&w===S?(v.preventDefault(),n&&qc(_,{select:!0})):v.shiftKey&&w===_&&(v.preventDefault(),n&&qc(S,{select:!0})):w===b&&v.preventDefault()}},[n,a,p.paused]);return l.jsx(mt.div,{tabIndex:-1,...o,ref:m,onKeyDown:g})});wx.displayName=ale;function sle(e,{select:r=!1}={}){const n=document.activeElement;for(const a of e)if(qc(a,{select:r}),document.activeElement!==n)return}function ile(e){const r=T9(e),n=RI(r,e),a=RI(r.reverse(),e);return[n,a]}function T9(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function RI(e,r){for(const n of e)if(!ole(n,{upTo:r}))return n}function ole(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function lle(e){return e instanceof HTMLInputElement&&"select"in e}function qc(e,{select:r=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&lle(e)&&r&&e.select()}}var II=cle();function cle(){let e=[];return{add(r){const n=e[0];r!==n&&(n==null||n.pause()),e=MI(e,r),e.unshift(r)},remove(r){var n;e=MI(e,r),(n=e[0])==null||n.resume()}}}function MI(e,r){const n=[...e],a=n.indexOf(r);return a!==-1&&n.splice(a,1),n}function ule(e){return e.filter(r=>r.tagName!=="A")}var dle=ET[" useId ".trim().toString()]||(()=>{}),fle=0;function ha(e){const[r,n]=y.useState(dle());return Rn(()=>{n(a=>a??String(fle++))},[e]),r?`radix-${r}`:""}const hle=["top","right","bottom","left"],Bu=Math.min,ti=Math.max,kb=Math.round,Py=Math.floor,pl=e=>({x:e,y:e}),mle={left:"right",right:"left",bottom:"top",top:"bottom"},ple={start:"end",end:"start"};function J2(e,r,n){return ti(e,Bu(r,n))}function xc(e,r){return typeof e=="function"?e(r):e}function yc(e){return e.split("-")[0]}function Rp(e){return e.split("-")[1]}function UA(e){return e==="x"?"y":"x"}function VA(e){return e==="y"?"height":"width"}const gle=new Set(["top","bottom"]);function ul(e){return gle.has(yc(e))?"y":"x"}function zA(e){return UA(ul(e))}function vle(e,r,n){n===void 0&&(n=!1);const a=Rp(e),s=zA(e),i=VA(s);let o=s==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=Nb(o)),[o,Nb(o)]}function xle(e){const r=Nb(e);return[Q2(e),r,Q2(r)]}function Q2(e){return e.replace(/start|end/g,r=>ple[r])}const FI=["left","right"],LI=["right","left"],yle=["top","bottom"],ble=["bottom","top"];function wle(e,r,n){switch(e){case"top":case"bottom":return n?r?LI:FI:r?FI:LI;case"left":case"right":return r?yle:ble;default:return[]}}function _le(e,r,n,a){const s=Rp(e);let i=wle(yc(e),n==="start",a);return s&&(i=i.map(o=>o+"-"+s),r&&(i=i.concat(i.map(Q2)))),i}function Nb(e){return e.replace(/left|right|bottom|top/g,r=>mle[r])}function Sle(e){return{top:0,right:0,bottom:0,left:0,...e}}function A9(e){return typeof e!="number"?Sle(e):{top:e,right:e,bottom:e,left:e}}function Cb(e){const{x:r,y:n,width:a,height:s}=e;return{width:a,height:s,top:n,left:r,right:r+a,bottom:n+s,x:r,y:n}}function $I(e,r,n){let{reference:a,floating:s}=e;const i=ul(r),o=zA(r),c=VA(o),u=yc(r),d=i==="y",f=a.x+a.width/2-s.width/2,h=a.y+a.height/2-s.height/2,m=a[c]/2-s[c]/2;let p;switch(u){case"top":p={x:f,y:a.y-s.height};break;case"bottom":p={x:f,y:a.y+a.height};break;case"right":p={x:a.x+a.width,y:h};break;case"left":p={x:a.x-s.width,y:h};break;default:p={x:a.x,y:a.y}}switch(Rp(r)){case"start":p[o]-=m*(n&&d?-1:1);break;case"end":p[o]+=m*(n&&d?-1:1);break}return p}const jle=async(e,r,n)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,c=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(r));let d=await o.getElementRects({reference:e,floating:r,strategy:s}),{x:f,y:h}=$I(d,a,u),m=a,p={},g=0;for(let v=0;v<c.length;v++){const{name:x,fn:w}=c[v],{x:b,y:_,data:S,reset:j}=await w({x:f,y:h,initialPlacement:a,placement:m,strategy:s,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:r}});f=b??f,h=_??h,p={...p,[x]:{...p[x],...S}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(d=j.rects===!0?await o.getElementRects({reference:e,floating:r,strategy:s}):j.rects),{x:f,y:h}=$I(d,m,u)),v=-1)}return{x:f,y:h,placement:m,strategy:s,middlewareData:p}};async function iv(e,r){var n;r===void 0&&(r={});const{x:a,y:s,platform:i,rects:o,elements:c,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=xc(r,e),g=A9(p),x=c[m?h==="floating"?"reference":"floating":h],w=Cb(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:u})),b=h==="floating"?{x:a,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),S=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},j=Cb(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:b,offsetParent:_,strategy:u}):b);return{top:(w.top-j.top+g.top)/S.y,bottom:(j.bottom-w.bottom+g.bottom)/S.y,left:(w.left-j.left+g.left)/S.x,right:(j.right-w.right+g.right)/S.x}}const kle=e=>({name:"arrow",options:e,async fn(r){const{x:n,y:a,placement:s,rects:i,platform:o,elements:c,middlewareData:u}=r,{element:d,padding:f=0}=xc(e,r)||{};if(d==null)return{};const h=A9(f),m={x:n,y:a},p=zA(s),g=VA(p),v=await o.getDimensions(d),x=p==="y",w=x?"top":"left",b=x?"bottom":"right",_=x?"clientHeight":"clientWidth",S=i.reference[g]+i.reference[p]-m[p]-i.floating[g],j=m[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=N?N[_]:0;(!k||!await(o.isElement==null?void 0:o.isElement(N)))&&(k=c.floating[_]||i.floating[g]);const E=S/2-j/2,C=k/2-v[g]/2-1,A=Bu(h[w],C),D=Bu(h[b],C),T=A,W=k-v[g]-D,q=k/2-v[g]/2+E,L=J2(T,q,W),I=!u.arrow&&Rp(s)!=null&&q!==L&&i.reference[g]/2-(q<T?A:D)-v[g]/2<0,z=I?q<T?q-T:q-W:0;return{[p]:m[p]+z,data:{[p]:L,centerOffset:q-L-z,...I&&{alignmentOffset:z}},reset:I}}}),Nle=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var n,a;const{placement:s,middlewareData:i,rects:o,initialPlacement:c,platform:u,elements:d}=r,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...x}=xc(e,r);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=yc(s),b=ul(c),_=yc(c)===c,S=await(u.isRTL==null?void 0:u.isRTL(d.floating)),j=m||(_||!v?[Nb(c)]:xle(c)),N=g!=="none";!m&&N&&j.push(..._le(c,v,g,S));const k=[c,...j],E=await iv(r,x),C=[];let A=((a=i.flip)==null?void 0:a.overflows)||[];if(f&&C.push(E[w]),h){const q=vle(s,o,S);C.push(E[q[0]],E[q[1]])}if(A=[...A,{placement:s,overflows:C}],!C.every(q=>q<=0)){var D,T;const q=(((D=i.flip)==null?void 0:D.index)||0)+1,L=k[q];if(L&&(!(h==="alignment"?b!==ul(L):!1)||A.every(F=>F.overflows[0]>0&&ul(F.placement)===b)))return{data:{index:q,overflows:A},reset:{placement:L}};let I=(T=A.filter(z=>z.overflows[0]<=0).sort((z,F)=>z.overflows[1]-F.overflows[1])[0])==null?void 0:T.placement;if(!I)switch(p){case"bestFit":{var W;const z=(W=A.filter(F=>{if(N){const M=ul(F.placement);return M===b||M==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(M=>M>0).reduce((M,X)=>M+X,0)]).sort((F,M)=>F[1]-M[1])[0])==null?void 0:W[0];z&&(I=z);break}case"initialPlacement":I=c;break}if(s!==I)return{reset:{placement:I}}}return{}}}};function BI(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function UI(e){return hle.some(r=>e[r]>=0)}const Cle=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:n}=r,{strategy:a="referenceHidden",...s}=xc(e,r);switch(a){case"referenceHidden":{const i=await iv(r,{...s,elementContext:"reference"}),o=BI(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:UI(o)}}}case"escaped":{const i=await iv(r,{...s,altBoundary:!0}),o=BI(i,n.floating);return{data:{escapedOffsets:o,escaped:UI(o)}}}default:return{}}}}},O9=new Set(["left","top"]);async function Ele(e,r){const{placement:n,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),o=yc(n),c=Rp(n),u=ul(n)==="y",d=O9.has(o)?-1:1,f=i&&u?-1:1,h=xc(r,e);let{mainAxis:m,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof g=="number"&&(p=c==="end"?g*-1:g),u?{x:p*f,y:m*d}:{x:m*d,y:p*f}}const Tle=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var n,a;const{x:s,y:i,placement:o,middlewareData:c}=r,u=await Ele(r,e);return o===((n=c.offset)==null?void 0:n.placement)&&(a=c.arrow)!=null&&a.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},Ale=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:n,y:a,placement:s}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:c={fn:x=>{let{x:w,y:b}=x;return{x:w,y:b}}},...u}=xc(e,r),d={x:n,y:a},f=await iv(r,u),h=ul(yc(s)),m=UA(h);let p=d[m],g=d[h];if(i){const x=m==="y"?"top":"left",w=m==="y"?"bottom":"right",b=p+f[x],_=p-f[w];p=J2(b,p,_)}if(o){const x=h==="y"?"top":"left",w=h==="y"?"bottom":"right",b=g+f[x],_=g-f[w];g=J2(b,g,_)}const v=c.fn({...r,[m]:p,[h]:g});return{...v,data:{x:v.x-n,y:v.y-a,enabled:{[m]:i,[h]:o}}}}}},Ole=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:n,y:a,placement:s,rects:i,middlewareData:o}=r,{offset:c=0,mainAxis:u=!0,crossAxis:d=!0}=xc(e,r),f={x:n,y:a},h=ul(s),m=UA(h);let p=f[m],g=f[h];const v=xc(c,r),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(u){const _=m==="y"?"height":"width",S=i.reference[m]-i.floating[_]+x.mainAxis,j=i.reference[m]+i.reference[_]-x.mainAxis;p<S?p=S:p>j&&(p=j)}if(d){var w,b;const _=m==="y"?"width":"height",S=O9.has(yc(s)),j=i.reference[h]-i.floating[_]+(S&&((w=o.offset)==null?void 0:w[h])||0)+(S?0:x.crossAxis),N=i.reference[h]+i.reference[_]+(S?0:((b=o.offset)==null?void 0:b[h])||0)-(S?x.crossAxis:0);g<j?g=j:g>N&&(g=N)}return{[m]:p,[h]:g}}}},Ple=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var n,a;const{placement:s,rects:i,platform:o,elements:c}=r,{apply:u=()=>{},...d}=xc(e,r),f=await iv(r,d),h=yc(s),m=Rp(s),p=ul(s)==="y",{width:g,height:v}=i.floating;let x,w;h==="top"||h==="bottom"?(x=h,w=m===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(w=h,x=m==="end"?"top":"bottom");const b=v-f.top-f.bottom,_=g-f.left-f.right,S=Bu(v-f[x],b),j=Bu(g-f[w],_),N=!r.middlewareData.shift;let k=S,E=j;if((n=r.middlewareData.shift)!=null&&n.enabled.x&&(E=_),(a=r.middlewareData.shift)!=null&&a.enabled.y&&(k=b),N&&!m){const A=ti(f.left,0),D=ti(f.right,0),T=ti(f.top,0),W=ti(f.bottom,0);p?E=g-2*(A!==0||D!==0?A+D:ti(f.left,f.right)):k=v-2*(T!==0||W!==0?T+W:ti(f.top,f.bottom))}await u({...r,availableWidth:E,availableHeight:k});const C=await o.getDimensions(c.floating);return g!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function I_(){return typeof window<"u"}function Ip(e){return P9(e)?(e.nodeName||"").toLowerCase():"#document"}function fi(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function Pl(e){var r;return(r=(P9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function P9(e){return I_()?e instanceof Node||e instanceof fi(e).Node:!1}function Ro(e){return I_()?e instanceof Element||e instanceof fi(e).Element:!1}function _l(e){return I_()?e instanceof HTMLElement||e instanceof fi(e).HTMLElement:!1}function VI(e){return!I_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fi(e).ShadowRoot}const Dle=new Set(["inline","contents"]);function _x(e){const{overflow:r,overflowX:n,overflowY:a,display:s}=Io(e);return/auto|scroll|overlay|hidden|clip/.test(r+a+n)&&!Dle.has(s)}const Rle=new Set(["table","td","th"]);function Ile(e){return Rle.has(Ip(e))}const Mle=[":popover-open",":modal"];function M_(e){return Mle.some(r=>{try{return e.matches(r)}catch{return!1}})}const Fle=["transform","translate","scale","rotate","perspective"],Lle=["transform","translate","scale","rotate","perspective","filter"],$le=["paint","layout","strict","content"];function WA(e){const r=HA(),n=Ro(e)?Io(e):e;return Fle.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!r&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!r&&(n.filter?n.filter!=="none":!1)||Lle.some(a=>(n.willChange||"").includes(a))||$le.some(a=>(n.contain||"").includes(a))}function Ble(e){let r=Uu(e);for(;_l(r)&&!Bm(r);){if(WA(r))return r;if(M_(r))return null;r=Uu(r)}return null}function HA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ule=new Set(["html","body","#document"]);function Bm(e){return Ule.has(Ip(e))}function Io(e){return fi(e).getComputedStyle(e)}function F_(e){return Ro(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Uu(e){if(Ip(e)==="html")return e;const r=e.assignedSlot||e.parentNode||VI(e)&&e.host||Pl(e);return VI(r)?r.host:r}function D9(e){const r=Uu(e);return Bm(r)?e.ownerDocument?e.ownerDocument.body:e.body:_l(r)&&_x(r)?r:D9(r)}function ov(e,r,n){var a;r===void 0&&(r=[]),n===void 0&&(n=!0);const s=D9(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),o=fi(s);if(i){const c=Z2(o);return r.concat(o,o.visualViewport||[],_x(s)?s:[],c&&n?ov(c):[])}return r.concat(s,ov(s,[],n))}function Z2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function R9(e){const r=Io(e);let n=parseFloat(r.width)||0,a=parseFloat(r.height)||0;const s=_l(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:a,c=kb(n)!==i||kb(a)!==o;return c&&(n=i,a=o),{width:n,height:a,$:c}}function qA(e){return Ro(e)?e:e.contextElement}function nm(e){const r=qA(e);if(!_l(r))return pl(1);const n=r.getBoundingClientRect(),{width:a,height:s,$:i}=R9(r);let o=(i?kb(n.width):n.width)/a,c=(i?kb(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const Vle=pl(0);function I9(e){const r=fi(e);return!HA()||!r.visualViewport?Vle:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function zle(e,r,n){return r===void 0&&(r=!1),!n||r&&n!==fi(e)?!1:r}function vf(e,r,n,a){r===void 0&&(r=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=qA(e);let o=pl(1);r&&(a?Ro(a)&&(o=nm(a)):o=nm(e));const c=zle(i,n,a)?I9(i):pl(0);let u=(s.left+c.x)/o.x,d=(s.top+c.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const m=fi(i),p=a&&Ro(a)?fi(a):a;let g=m,v=Z2(g);for(;v&&a&&p!==g;){const x=nm(v),w=v.getBoundingClientRect(),b=Io(v),_=w.left+(v.clientLeft+parseFloat(b.paddingLeft))*x.x,S=w.top+(v.clientTop+parseFloat(b.paddingTop))*x.y;u*=x.x,d*=x.y,f*=x.x,h*=x.y,u+=_,d+=S,g=fi(v),v=Z2(g)}}return Cb({width:f,height:h,x:u,y:d})}function KA(e,r){const n=F_(e).scrollLeft;return r?r.left+n:vf(Pl(e)).left+n}function M9(e,r,n){n===void 0&&(n=!1);const a=e.getBoundingClientRect(),s=a.left+r.scrollLeft-(n?0:KA(e,a)),i=a.top+r.scrollTop;return{x:s,y:i}}function Wle(e){let{elements:r,rect:n,offsetParent:a,strategy:s}=e;const i=s==="fixed",o=Pl(a),c=r?M_(r.floating):!1;if(a===o||c&&i)return n;let u={scrollLeft:0,scrollTop:0},d=pl(1);const f=pl(0),h=_l(a);if((h||!h&&!i)&&((Ip(a)!=="body"||_x(o))&&(u=F_(a)),_l(a))){const p=vf(a);d=nm(a),f.x=p.x+a.clientLeft,f.y=p.y+a.clientTop}const m=o&&!h&&!i?M9(o,u,!0):pl(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+m.x,y:n.y*d.y-u.scrollTop*d.y+f.y+m.y}}function Hle(e){return Array.from(e.getClientRects())}function qle(e){const r=Pl(e),n=F_(e),a=e.ownerDocument.body,s=ti(r.scrollWidth,r.clientWidth,a.scrollWidth,a.clientWidth),i=ti(r.scrollHeight,r.clientHeight,a.scrollHeight,a.clientHeight);let o=-n.scrollLeft+KA(e);const c=-n.scrollTop;return Io(a).direction==="rtl"&&(o+=ti(r.clientWidth,a.clientWidth)-s),{width:s,height:i,x:o,y:c}}function Kle(e,r){const n=fi(e),a=Pl(e),s=n.visualViewport;let i=a.clientWidth,o=a.clientHeight,c=0,u=0;if(s){i=s.width,o=s.height;const d=HA();(!d||d&&r==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:c,y:u}}const Gle=new Set(["absolute","fixed"]);function Yle(e,r){const n=vf(e,!0,r==="fixed"),a=n.top+e.clientTop,s=n.left+e.clientLeft,i=_l(e)?nm(e):pl(1),o=e.clientWidth*i.x,c=e.clientHeight*i.y,u=s*i.x,d=a*i.y;return{width:o,height:c,x:u,y:d}}function zI(e,r,n){let a;if(r==="viewport")a=Kle(e,n);else if(r==="document")a=qle(Pl(e));else if(Ro(r))a=Yle(r,n);else{const s=I9(e);a={x:r.x-s.x,y:r.y-s.y,width:r.width,height:r.height}}return Cb(a)}function F9(e,r){const n=Uu(e);return n===r||!Ro(n)||Bm(n)?!1:Io(n).position==="fixed"||F9(n,r)}function Xle(e,r){const n=r.get(e);if(n)return n;let a=ov(e,[],!1).filter(c=>Ro(c)&&Ip(c)!=="body"),s=null;const i=Io(e).position==="fixed";let o=i?Uu(e):e;for(;Ro(o)&&!Bm(o);){const c=Io(o),u=WA(o);!u&&c.position==="fixed"&&(s=null),(i?!u&&!s:!u&&c.position==="static"&&!!s&&Gle.has(s.position)||_x(o)&&!u&&F9(e,o))?a=a.filter(f=>f!==o):s=c,o=Uu(o)}return r.set(e,a),a}function Jle(e){let{element:r,boundary:n,rootBoundary:a,strategy:s}=e;const o=[...n==="clippingAncestors"?M_(r)?[]:Xle(r,this._c):[].concat(n),a],c=o[0],u=o.reduce((d,f)=>{const h=zI(r,f,s);return d.top=ti(h.top,d.top),d.right=Bu(h.right,d.right),d.bottom=Bu(h.bottom,d.bottom),d.left=ti(h.left,d.left),d},zI(r,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Qle(e){const{width:r,height:n}=R9(e);return{width:r,height:n}}function Zle(e,r,n){const a=_l(r),s=Pl(r),i=n==="fixed",o=vf(e,!0,i,r);let c={scrollLeft:0,scrollTop:0};const u=pl(0);function d(){u.x=KA(s)}if(a||!a&&!i)if((Ip(r)!=="body"||_x(s))&&(c=F_(r)),a){const p=vf(r,!0,i,r);u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}else s&&d();i&&!a&&s&&d();const f=s&&!a&&!i?M9(s,c):pl(0),h=o.left+c.scrollLeft-u.x-f.x,m=o.top+c.scrollTop-u.y-f.y;return{x:h,y:m,width:o.width,height:o.height}}function mk(e){return Io(e).position==="static"}function WI(e,r){if(!_l(e)||Io(e).position==="fixed")return null;if(r)return r(e);let n=e.offsetParent;return Pl(e)===n&&(n=n.ownerDocument.body),n}function L9(e,r){const n=fi(e);if(M_(e))return n;if(!_l(e)){let s=Uu(e);for(;s&&!Bm(s);){if(Ro(s)&&!mk(s))return s;s=Uu(s)}return n}let a=WI(e,r);for(;a&&Ile(a)&&mk(a);)a=WI(a,r);return a&&Bm(a)&&mk(a)&&!WA(a)?n:a||Ble(e)||n}const ece=async function(e){const r=this.getOffsetParent||L9,n=this.getDimensions,a=await n(e.floating);return{reference:Zle(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function tce(e){return Io(e).direction==="rtl"}const rce={convertOffsetParentRelativeRectToViewportRelativeRect:Wle,getDocumentElement:Pl,getClippingRect:Jle,getOffsetParent:L9,getElementRects:ece,getClientRects:Hle,getDimensions:Qle,getScale:nm,isElement:Ro,isRTL:tce};function $9(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function nce(e,r){let n=null,a;const s=Pl(e);function i(){var c;clearTimeout(a),(c=n)==null||c.disconnect(),n=null}function o(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const d=e.getBoundingClientRect(),{left:f,top:h,width:m,height:p}=d;if(c||r(),!m||!p)return;const g=Py(h),v=Py(s.clientWidth-(f+m)),x=Py(s.clientHeight-(h+p)),w=Py(f),_={rootMargin:-g+"px "+-v+"px "+-x+"px "+-w+"px",threshold:ti(0,Bu(1,u))||1};let S=!0;function j(N){const k=N[0].intersectionRatio;if(k!==u){if(!S)return o();k?o(!1,k):a=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!$9(d,e.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(j,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,_)}n.observe(e)}return o(!0),i}function ace(e,r,n,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=a,d=qA(e),f=s||i?[...d?ov(d):[],...ov(r)]:[];f.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const h=d&&c?nce(d,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(w=>{let[b]=w;b&&b.target===d&&p&&(p.unobserve(r),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(r)})),n()}),d&&!u&&p.observe(d),p.observe(r));let g,v=u?vf(e):null;u&&x();function x(){const w=vf(e);v&&!$9(v,w)&&n(),v=w,g=requestAnimationFrame(x)}return n(),()=>{var w;f.forEach(b=>{s&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),h==null||h(),(w=p)==null||w.disconnect(),p=null,u&&cancelAnimationFrame(g)}}const sce=Tle,ice=Ale,oce=Nle,lce=Ple,cce=Cle,HI=kle,uce=Ole,dce=(e,r,n)=>{const a=new Map,s={platform:rce,...n},i={...s.platform,_c:a};return jle(e,r,{...s,platform:i})};var fce=typeof document<"u",hce=function(){},F1=fce?y.useLayoutEffect:hce;function Eb(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let n,a,s;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==r.length)return!1;for(a=n;a--!==0;)if(!Eb(e[a],r[a]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!Eb(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}function B9(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qI(e,r){const n=B9(e);return Math.round(r*n)/n}function pk(e){const r=y.useRef(e);return F1(()=>{r.current=e}),r}function mce(e){e===void 0&&(e={});const{placement:r="bottom",strategy:n="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:u,open:d}=e,[f,h]=y.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[m,p]=y.useState(a);Eb(m,a)||p(a);const[g,v]=y.useState(null),[x,w]=y.useState(null),b=y.useCallback(F=>{F!==N.current&&(N.current=F,v(F))},[]),_=y.useCallback(F=>{F!==k.current&&(k.current=F,w(F))},[]),S=i||g,j=o||x,N=y.useRef(null),k=y.useRef(null),E=y.useRef(f),C=u!=null,A=pk(u),D=pk(s),T=pk(d),W=y.useCallback(()=>{if(!N.current||!k.current)return;const F={placement:r,strategy:n,middleware:m};D.current&&(F.platform=D.current),dce(N.current,k.current,F).then(M=>{const X={...M,isPositioned:T.current!==!1};q.current&&!Eb(E.current,X)&&(E.current=X,Ap.flushSync(()=>{h(X)}))})},[m,r,n,D,T]);F1(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[d]);const q=y.useRef(!1);F1(()=>(q.current=!0,()=>{q.current=!1}),[]),F1(()=>{if(S&&(N.current=S),j&&(k.current=j),S&&j){if(A.current)return A.current(S,j,W);W()}},[S,j,W,A,C]);const L=y.useMemo(()=>({reference:N,floating:k,setReference:b,setFloating:_}),[b,_]),I=y.useMemo(()=>({reference:S,floating:j}),[S,j]),z=y.useMemo(()=>{const F={position:n,left:0,top:0};if(!I.floating)return F;const M=qI(I.floating,f.x),X=qI(I.floating,f.y);return c?{...F,transform:"translate("+M+"px, "+X+"px)",...B9(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:X}},[n,c,I.floating,f.x,f.y]);return y.useMemo(()=>({...f,update:W,refs:L,elements:I,floatingStyles:z}),[f,W,L,I,z])}const pce=e=>{function r(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:a,padding:s}=typeof e=="function"?e(n):e;return a&&r(a)?a.current!=null?HI({element:a.current,padding:s}).fn(n):{}:a?HI({element:a,padding:s}).fn(n):{}}}},gce=(e,r)=>({...sce(e),options:[e,r]}),vce=(e,r)=>({...ice(e),options:[e,r]}),xce=(e,r)=>({...uce(e),options:[e,r]}),yce=(e,r)=>({...oce(e),options:[e,r]}),bce=(e,r)=>({...lce(e),options:[e,r]}),wce=(e,r)=>({...cce(e),options:[e,r]}),_ce=(e,r)=>({...pce(e),options:[e,r]});var Sce="Arrow",U9=y.forwardRef((e,r)=>{const{children:n,width:a=10,height:s=5,...i}=e;return l.jsx(mt.svg,{...i,ref:r,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});U9.displayName=Sce;var jce=U9;function GA(e){const[r,n]=y.useState(void 0);return Rn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,c;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,c=d.blockSize}else o=e.offsetWidth,c=e.offsetHeight;n({width:o,height:c})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else n(void 0)},[e]),r}var YA="Popper",[V9,Mp]=vs(YA),[kce,z9]=V9(YA),W9=e=>{const{__scopePopper:r,children:n}=e,[a,s]=y.useState(null);return l.jsx(kce,{scope:r,anchor:a,onAnchorChange:s,children:n})};W9.displayName=YA;var H9="PopperAnchor",q9=y.forwardRef((e,r)=>{const{__scopePopper:n,virtualRef:a,...s}=e,i=z9(H9,n),o=y.useRef(null),c=qt(r,o);return y.useEffect(()=>{i.onAnchorChange((a==null?void 0:a.current)||o.current)}),a?null:l.jsx(mt.div,{...s,ref:c})});q9.displayName=H9;var XA="PopperContent",[Nce,Cce]=V9(XA),K9=y.forwardRef((e,r)=>{var oe,ye,ae,Q,fe,O;const{__scopePopper:n,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:g,...v}=e,x=z9(XA,n),[w,b]=y.useState(null),_=qt(r,Le=>b(Le)),[S,j]=y.useState(null),N=GA(S),k=(N==null?void 0:N.width)??0,E=(N==null?void 0:N.height)??0,C=a+(i!=="center"?"-"+i:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},D=Array.isArray(d)?d:[d],T=D.length>0,W={padding:A,boundary:D.filter(Tce),altBoundary:T},{refs:q,floatingStyles:L,placement:I,isPositioned:z,middlewareData:F}=mce({strategy:"fixed",placement:C,whileElementsMounted:(...Le)=>ace(...Le,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[gce({mainAxis:s+E,alignmentAxis:o}),u&&vce({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?xce():void 0,...W}),u&&yce({...W}),bce({...W,apply:({elements:Le,rects:$e,availableWidth:Me,availableHeight:He})=>{const{width:Pe,height:bt}=$e.reference,pt=Le.floating.style;pt.setProperty("--radix-popper-available-width",`${Me}px`),pt.setProperty("--radix-popper-available-height",`${He}px`),pt.setProperty("--radix-popper-anchor-width",`${Pe}px`),pt.setProperty("--radix-popper-anchor-height",`${bt}px`)}}),S&&_ce({element:S,padding:c}),Ace({arrowWidth:k,arrowHeight:E}),m&&wce({strategy:"referenceHidden",...W})]}),[M,X]=X9(I),ee=ea(g);Rn(()=>{z&&(ee==null||ee())},[z,ee]);const P=(oe=F.arrow)==null?void 0:oe.x,J=(ye=F.arrow)==null?void 0:ye.y,V=((ae=F.arrow)==null?void 0:ae.centerOffset)!==0,[K,ie]=y.useState();return Rn(()=>{w&&ie(window.getComputedStyle(w).zIndex)},[w]),l.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:z?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(Q=F.transformOrigin)==null?void 0:Q.x,(fe=F.transformOrigin)==null?void 0:fe.y].join(" "),...((O=F.hide)==null?void 0:O.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(Nce,{scope:n,placedSide:M,onArrowChange:j,arrowX:P,arrowY:J,shouldHideArrow:V,children:l.jsx(mt.div,{"data-side":M,"data-align":X,...v,ref:_,style:{...v.style,animation:z?void 0:"none"}})})})});K9.displayName=XA;var G9="PopperArrow",Ece={top:"bottom",right:"left",bottom:"top",left:"right"},Y9=y.forwardRef(function(r,n){const{__scopePopper:a,...s}=r,i=Cce(G9,a),o=Ece[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(jce,{...s,ref:n,style:{...s.style,display:"block"}})})});Y9.displayName=G9;function Tce(e){return e!==null}var Ace=e=>({name:"transformOrigin",options:e,fn(r){var x,w,b;const{placement:n,rects:a,middlewareData:s}=r,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,c=o?0:e.arrowWidth,u=o?0:e.arrowHeight,[d,f]=X9(n),h={start:"0%",center:"50%",end:"100%"}[f],m=(((w=s.arrow)==null?void 0:w.x)??0)+c/2,p=(((b=s.arrow)==null?void 0:b.y)??0)+u/2;let g="",v="";return d==="bottom"?(g=o?h:`${m}px`,v=`${-u}px`):d==="top"?(g=o?h:`${m}px`,v=`${a.floating.height+u}px`):d==="right"?(g=`${-u}px`,v=o?h:`${p}px`):d==="left"&&(g=`${a.floating.width+u}px`,v=o?h:`${p}px`),{data:{x:g,y:v}}}});function X9(e){const[r,n="center"]=e.split("-");return[r,n]}var JA=W9,L_=q9,QA=K9,ZA=Y9,Oce="Portal",Sx=y.forwardRef((e,r)=>{var c;const{container:n,...a}=e,[s,i]=y.useState(!1);Rn(()=>i(!0),[]);const o=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?lte.createPortal(l.jsx(mt.div,{...a,ref:r}),o):null});Sx.displayName=Oce;var Pce=ET[" useInsertionEffect ".trim().toString()]||Rn;function bc({prop:e,defaultProp:r,onChange:n=()=>{},caller:a}){const[s,i,o]=Dce({defaultProp:r,onChange:n}),c=e!==void 0,u=c?e:s;{const f=y.useRef(e!==void 0);y.useEffect(()=>{const h=f.current;h!==c&&console.warn(`${a} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,a])}const d=y.useCallback(f=>{var h;if(c){const m=Rce(f)?f(e):f;m!==e&&((h=o.current)==null||h.call(o,m))}else i(f)},[c,e,i,o]);return[u,d]}function Dce({defaultProp:e,onChange:r}){const[n,a]=y.useState(e),s=y.useRef(n),i=y.useRef(r);return Pce(()=>{i.current=r},[r]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,a,i]}function Rce(e){return typeof e=="function"}function eO(e){const r=y.useRef({value:e,previous:e});return y.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var J9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ice="VisuallyHidden",Mce=y.forwardRef((e,r)=>l.jsx(mt.span,{...e,ref:r,style:{...J9,...e.style}}));Mce.displayName=Ice;var Fce=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},nh=new WeakMap,Dy=new WeakMap,Ry={},gk=0,Q9=function(e){return e&&(e.host||Q9(e.parentNode))},Lce=function(e,r){return r.map(function(n){if(e.contains(n))return n;var a=Q9(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},$ce=function(e,r,n,a){var s=Lce(r,Array.isArray(e)?e:[e]);Ry[n]||(Ry[n]=new WeakMap);var i=Ry[n],o=[],c=new Set,u=new Set(s),d=function(h){!h||c.has(h)||(c.add(h),d(h.parentNode))};s.forEach(d);var f=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(m){if(c.has(m))f(m);else try{var p=m.getAttribute(a),g=p!==null&&p!=="false",v=(nh.get(m)||0)+1,x=(i.get(m)||0)+1;nh.set(m,v),i.set(m,x),o.push(m),v===1&&g&&Dy.set(m,!0),x===1&&m.setAttribute(n,"true"),g||m.setAttribute(a,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return f(r),c.clear(),gk++,function(){o.forEach(function(h){var m=nh.get(h)-1,p=i.get(h)-1;nh.set(h,m),i.set(h,p),m||(Dy.has(h)||h.removeAttribute(a),Dy.delete(h)),p||h.removeAttribute(n)}),gk--,gk||(nh=new WeakMap,nh=new WeakMap,Dy=new WeakMap,Ry={})}},$_=function(e,r,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=Fce(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live]"))),$ce(a,s,n,"aria-hidden")):function(){return null}},eC=function(e,r){return eC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},eC(e,r)};function Z9(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");eC(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var Ri=function(){return Ri=Object.assign||function(r){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Ri.apply(this,arguments)};function Qu(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function e7(e,r,n,a){var s=arguments.length,i=s<3?r:a===null?a=Object.getOwnPropertyDescriptor(r,n):a,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,n,a);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(s<3?o(i):s>3?o(r,n,i):o(r,n))||i);return s>3&&i&&Object.defineProperty(r,n,i),i}function t7(e,r){return function(n,a){r(n,a,e)}}function r7(e,r,n,a,s,i){function o(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var c=a.kind,u=c==="getter"?"get":c==="setter"?"set":"value",d=!r&&e?a.static?e:e.prototype:null,f=r||(d?Object.getOwnPropertyDescriptor(d,a.name):{}),h,m=!1,p=n.length-1;p>=0;p--){var g={};for(var v in a)g[v]=v==="access"?{}:a[v];for(var v in a.access)g.access[v]=a.access[v];g.addInitializer=function(w){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(w||null))};var x=(0,n[p])(c==="accessor"?{get:f.get,set:f.set}:f[u],g);if(c==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(h=o(x.get))&&(f.get=h),(h=o(x.set))&&(f.set=h),(h=o(x.init))&&s.unshift(h)}else(h=o(x))&&(c==="field"?s.unshift(h):f[u]=h)}d&&Object.defineProperty(d,a.name,f),m=!0}function n7(e,r,n){for(var a=arguments.length>2,s=0;s<r.length;s++)n=a?r[s].call(e,n):r[s].call(e);return a?n:void 0}function a7(e){return typeof e=="symbol"?e:"".concat(e)}function s7(e,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function i7(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)}function vt(e,r,n,a){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(a.next(f))}catch(h){o(h)}}function u(f){try{d(a.throw(f))}catch(h){o(h)}}function d(f){f.done?i(f.value):s(f.value).then(c,u)}d((a=a.apply(e,r||[])).next())})}function o7(e,r){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(f){return u([d,f])}}function u(d){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(a=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=r.call(e,n)}catch(f){d=[6,f],s=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var B_=Object.create?function(e,r,n,a){a===void 0&&(a=n);var s=Object.getOwnPropertyDescriptor(r,n);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,a,s)}:function(e,r,n,a){a===void 0&&(a=n),e[a]=r[n]};function l7(e,r){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&B_(r,e,n)}function Tb(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function tO(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),s,i=[],o;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)i.push(s.value)}catch(c){o={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function c7(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(tO(arguments[r]));return e}function u7(){for(var e=0,r=0,n=arguments.length;r<n;r++)e+=arguments[r].length;for(var a=Array(e),s=0,r=0;r<n;r++)for(var i=arguments[r],o=0,c=i.length;o<c;o++,s++)a[s]=i[o];return a}function rO(e,r,n){if(n||arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}function Um(e){return this instanceof Um?(this.v=e,this):new Um(e)}function d7(e,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,r||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(g){return Promise.resolve(g).then(p,h)}}function c(p,g){a[p]&&(s[p]=function(v){return new Promise(function(x,w){i.push([p,v,x,w])>1||u(p,v)})},g&&(s[p]=g(s[p])))}function u(p,g){try{d(a[p](g))}catch(v){m(i[0][3],v)}}function d(p){p.value instanceof Um?Promise.resolve(p.value.v).then(f,h):m(i[0][2],p)}function f(p){u("next",p)}function h(p){u("throw",p)}function m(p,g){p(g),i.shift(),i.length&&u(i[0][0],i[0][1])}}function f7(e){var r,n;return r={},a("next"),a("throw",function(s){throw s}),a("return"),r[Symbol.iterator]=function(){return this},r;function a(s,i){r[s]=e[s]?function(o){return(n=!n)?{value:Um(e[s](o)),done:!1}:i?i(o):o}:i}}function h7(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],n;return r?r.call(e):(e=typeof Tb=="function"?Tb(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(i){n[i]=e[i]&&function(o){return new Promise(function(c,u){o=e[i](o),s(c,u,o.done,o.value)})}}function s(i,o,c,u){Promise.resolve(u).then(function(d){i({value:d,done:c})},o)}}function m7(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}var Bce=Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r},tC=function(e){return tC=Object.getOwnPropertyNames||function(r){var n=[];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[n.length]=a);return n},tC(e)};function p7(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=tC(e),a=0;a<n.length;a++)n[a]!=="default"&&B_(r,e,n[a]);return Bce(r,e),r}function g7(e){return e&&e.__esModule?e:{default:e}}function v7(e,r,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!a:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:r.get(e)}function x7(e,r,n,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(e,n):s?s.value=n:r.set(e,n),n}function y7(e,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?r===e:e.has(r)}function b7(e,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var a,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=r[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=r[Symbol.dispose],n&&(s=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");s&&(a=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:r,dispose:a,async:n})}else n&&e.stack.push({async:!0});return r}var Uce=typeof SuppressedError=="function"?SuppressedError:function(e,r,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=r,a};function w7(e){function r(i){e.error=e.hasError?new Uce(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,a=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(i).then(s,function(o){return r(o),s()})}else a|=1}catch(o){r(o)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function _7(e,r){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,s,i,o){return a?r?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):e}const Vce={__extends:Z9,__assign:Ri,__rest:Qu,__decorate:e7,__param:t7,__esDecorate:r7,__runInitializers:n7,__propKey:a7,__setFunctionName:s7,__metadata:i7,__awaiter:vt,__generator:o7,__createBinding:B_,__exportStar:l7,__values:Tb,__read:tO,__spread:c7,__spreadArrays:u7,__spreadArray:rO,__await:Um,__asyncGenerator:d7,__asyncDelegator:f7,__asyncValues:h7,__makeTemplateObject:m7,__importStar:p7,__importDefault:g7,__classPrivateFieldGet:v7,__classPrivateFieldSet:x7,__classPrivateFieldIn:y7,__addDisposableResource:b7,__disposeResources:w7,__rewriteRelativeImportExtension:_7},zce=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:b7,get __assign(){return Ri},__asyncDelegator:f7,__asyncGenerator:d7,__asyncValues:h7,__await:Um,__awaiter:vt,__classPrivateFieldGet:v7,__classPrivateFieldIn:y7,__classPrivateFieldSet:x7,__createBinding:B_,__decorate:e7,__disposeResources:w7,__esDecorate:r7,__exportStar:l7,__extends:Z9,__generator:o7,__importDefault:g7,__importStar:p7,__makeTemplateObject:m7,__metadata:i7,__param:t7,__propKey:a7,__read:tO,__rest:Qu,__rewriteRelativeImportExtension:_7,__runInitializers:n7,__setFunctionName:s7,__spread:c7,__spreadArray:rO,__spreadArrays:u7,__values:Tb,default:Vce},Symbol.toStringTag,{value:"Module"}));var L1="right-scroll-bar-position",$1="width-before-scroll-bar",Wce="with-scroll-bars-hidden",Hce="--removed-body-scroll-bar-size";function vk(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function qce(e,r){var n=y.useState(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(a){var s=n.value;s!==a&&(n.value=a,n.callback(a,s))}}}})[0];return n.callback=r,n.facade}var Kce=typeof window<"u"?y.useLayoutEffect:y.useEffect,KI=new WeakMap;function Gce(e,r){var n=qce(null,function(a){return e.forEach(function(s){return vk(s,a)})});return Kce(function(){var a=KI.get(n);if(a){var s=new Set(a),i=new Set(e),o=n.current;s.forEach(function(c){i.has(c)||vk(c,null)}),i.forEach(function(c){s.has(c)||vk(c,o)})}KI.set(n,e)},[e]),n}function Yce(e){return e}function Xce(e,r){r===void 0&&(r=Yce);var n=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=r(i,a);return n.push(o),function(){n=n.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(a=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){a=!0;var o=[];if(n.length){var c=n;n=[],c.forEach(i),o=n}var u=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return s}function Jce(e){e===void 0&&(e={});var r=Xce(null);return r.options=Ri({async:!0,ssr:!1},e),r}var S7=function(e){var r=e.sideCar,n=Qu(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return y.createElement(a,Ri({},n))};S7.isSideCarExport=!0;function Qce(e,r){return e.useMedium(r),S7}var j7=Jce(),xk=function(){},U_=y.forwardRef(function(e,r){var n=y.useRef(null),a=y.useState({onScrollCapture:xk,onWheelCapture:xk,onTouchMoveCapture:xk}),s=a[0],i=a[1],o=e.forwardProps,c=e.children,u=e.className,d=e.removeScrollBar,f=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,g=e.noIsolation,v=e.inert,x=e.allowPinchZoom,w=e.as,b=w===void 0?"div":w,_=e.gapMode,S=Qu(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,N=Gce([n,r]),k=Ri(Ri({},S),s);return y.createElement(y.Fragment,null,f&&y.createElement(j,{sideCar:j7,removeScrollBar:d,shards:h,noRelative:p,noIsolation:g,inert:v,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:_}),o?y.cloneElement(y.Children.only(c),Ri(Ri({},k),{ref:N})):y.createElement(b,Ri({},k,{className:u,ref:N}),c))});U_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};U_.classNames={fullWidth:$1,zeroRight:L1};var Zce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eue(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=Zce();return r&&e.setAttribute("nonce",r),e}function tue(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function rue(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var nue=function(){var e=0,r=null;return{add:function(n){e==0&&(r=eue())&&(tue(r,n),rue(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},aue=function(){var e=nue();return function(r,n){y.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&n])}},k7=function(){var e=aue(),r=function(n){var a=n.styles,s=n.dynamic;return e(a,s),null};return r},sue={left:0,top:0,right:0,gap:0},yk=function(e){return parseInt(e||"",10)||0},iue=function(e){var r=window.getComputedStyle(document.body),n=r[e==="padding"?"paddingLeft":"marginLeft"],a=r[e==="padding"?"paddingTop":"marginTop"],s=r[e==="padding"?"paddingRight":"marginRight"];return[yk(n),yk(a),yk(s)]},oue=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return sue;var r=iue(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-n+r[2]-r[0])}},lue=k7(),am="data-scroll-locked",cue=function(e,r,n,a){var s=e.left,i=e.top,o=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Wce,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(c,"px ").concat(a,`;
  }
  body[`).concat(am,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(L1,` {
    right: `).concat(c,"px ").concat(a,`;
  }
  
  .`).concat($1,` {
    margin-right: `).concat(c,"px ").concat(a,`;
  }
  
  .`).concat(L1," .").concat(L1,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat($1," .").concat($1,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(am,`] {
    `).concat(Hce,": ").concat(c,`px;
  }
`)},GI=function(){var e=parseInt(document.body.getAttribute(am)||"0",10);return isFinite(e)?e:0},uue=function(){y.useEffect(function(){return document.body.setAttribute(am,(GI()+1).toString()),function(){var e=GI()-1;e<=0?document.body.removeAttribute(am):document.body.setAttribute(am,e.toString())}},[])},due=function(e){var r=e.noRelative,n=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;uue();var i=y.useMemo(function(){return oue(s)},[s]);return y.createElement(lue,{styles:cue(i,!r,s,n?"":"!important")})},rC=!1;if(typeof window<"u")try{var Iy=Object.defineProperty({},"passive",{get:function(){return rC=!0,!0}});window.addEventListener("test",Iy,Iy),window.removeEventListener("test",Iy,Iy)}catch{rC=!1}var ah=rC?{passive:!1}:!1,fue=function(e){return e.tagName==="TEXTAREA"},N7=function(e,r){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[r]!=="hidden"&&!(n.overflowY===n.overflowX&&!fue(e)&&n[r]==="visible")},hue=function(e){return N7(e,"overflowY")},mue=function(e){return N7(e,"overflowX")},YI=function(e,r){var n=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=C7(e,a);if(s){var i=E7(e,a),o=i[1],c=i[2];if(o>c)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},pue=function(e){var r=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[r,n,a]},gue=function(e){var r=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[r,n,a]},C7=function(e,r){return e==="v"?hue(r):mue(r)},E7=function(e,r){return e==="v"?pue(r):gue(r)},vue=function(e,r){return e==="h"&&r==="rtl"?-1:1},xue=function(e,r,n,a,s){var i=vue(e,window.getComputedStyle(r).direction),o=i*a,c=n.target,u=r.contains(c),d=!1,f=o>0,h=0,m=0;do{if(!c)break;var p=E7(e,c),g=p[0],v=p[1],x=p[2],w=v-x-i*g;(g||w)&&C7(e,c)&&(h+=w,m+=g);var b=c.parentNode;c=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!u&&c!==document.body||u&&(r.contains(c)||r===c));return(f&&(Math.abs(h)<1||!s)||!f&&(Math.abs(m)<1||!s))&&(d=!0),d},My=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},XI=function(e){return[e.deltaX,e.deltaY]},JI=function(e){return e&&"current"in e?e.current:e},yue=function(e,r){return e[0]===r[0]&&e[1]===r[1]},bue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wue=0,sh=[];function _ue(e){var r=y.useRef([]),n=y.useRef([0,0]),a=y.useRef(),s=y.useState(wue++)[0],i=y.useState(k7)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=rO([e.lockRef.current],(e.shards||[]).map(JI),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=y.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var w=My(v),b=n.current,_="deltaX"in v?v.deltaX:b[0]-w[0],S="deltaY"in v?v.deltaY:b[1]-w[1],j,N=v.target,k=Math.abs(_)>Math.abs(S)?"h":"v";if("touches"in v&&k==="h"&&N.type==="range")return!1;var E=YI(k,N);if(!E)return!0;if(E?j=k:(j=k==="v"?"h":"v",E=YI(k,N)),!E)return!1;if(!a.current&&"changedTouches"in v&&(_||S)&&(a.current=j),!j)return!0;var C=a.current||j;return xue(C,x,v,C==="h"?_:S,!0)},[]),u=y.useCallback(function(v){var x=v;if(!(!sh.length||sh[sh.length-1]!==i)){var w="deltaY"in x?XI(x):My(x),b=r.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&yue(j.delta,w)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var _=(o.current.shards||[]).map(JI).filter(Boolean).filter(function(j){return j.contains(x.target)}),S=_.length>0?c(x,_[0]):!o.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),d=y.useCallback(function(v,x,w,b){var _={name:v,delta:x,target:w,should:b,shadowParent:Sue(w)};r.current.push(_),setTimeout(function(){r.current=r.current.filter(function(S){return S!==_})},1)},[]),f=y.useCallback(function(v){n.current=My(v),a.current=void 0},[]),h=y.useCallback(function(v){d(v.type,XI(v),v.target,c(v,e.lockRef.current))},[]),m=y.useCallback(function(v){d(v.type,My(v),v.target,c(v,e.lockRef.current))},[]);y.useEffect(function(){return sh.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",u,ah),document.addEventListener("touchmove",u,ah),document.addEventListener("touchstart",f,ah),function(){sh=sh.filter(function(v){return v!==i}),document.removeEventListener("wheel",u,ah),document.removeEventListener("touchmove",u,ah),document.removeEventListener("touchstart",f,ah)}},[]);var p=e.removeScrollBar,g=e.inert;return y.createElement(y.Fragment,null,g?y.createElement(i,{styles:bue(s)}):null,p?y.createElement(due,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Sue(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const jue=Qce(j7,_ue);var jx=y.forwardRef(function(e,r){return y.createElement(U_,Ri({},e,{ref:r,sideCar:jue}))});jx.classNames=U_.classNames;var kue=[" ","Enter","ArrowUp","ArrowDown"],Nue=[" ","Enter"],xf="Select",[V_,z_,Cue]=BA(xf),[Fp,gXe]=vs(xf,[Cue,Mp]),W_=Mp(),[Eue,Zu]=Fp(xf),[Tue,Aue]=Fp(xf),T7=e=>{const{__scopeSelect:r,children:n,open:a,defaultOpen:s,onOpenChange:i,value:o,defaultValue:c,onValueChange:u,dir:d,name:f,autoComplete:h,disabled:m,required:p,form:g}=e,v=W_(r),[x,w]=y.useState(null),[b,_]=y.useState(null),[S,j]=y.useState(!1),N=yx(d),[k,E]=bc({prop:a,defaultProp:s??!1,onChange:i,caller:xf}),[C,A]=bc({prop:o,defaultProp:c,onChange:u,caller:xf}),D=y.useRef(null),T=x?g||!!x.closest("form"):!0,[W,q]=y.useState(new Set),L=Array.from(W).map(I=>I.props.value).join(";");return l.jsx(JA,{...v,children:l.jsxs(Eue,{required:p,scope:r,trigger:x,onTriggerChange:w,valueNode:b,onValueNodeChange:_,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:ha(),value:C,onValueChange:A,open:k,onOpenChange:E,dir:N,triggerPointerDownPosRef:D,disabled:m,children:[l.jsx(V_.Provider,{scope:r,children:l.jsx(Tue,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(I=>{q(z=>new Set(z).add(I))},[]),onNativeOptionRemove:y.useCallback(I=>{q(z=>{const F=new Set(z);return F.delete(I),F})},[]),children:n})}),T?l.jsxs(Z7,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:h,value:C,onChange:I=>A(I.target.value),disabled:m,form:g,children:[C===void 0?l.jsx("option",{value:""}):null,Array.from(W)]},L):null]})})};T7.displayName=xf;var A7="SelectTrigger",O7=y.forwardRef((e,r)=>{const{__scopeSelect:n,disabled:a=!1,...s}=e,i=W_(n),o=Zu(A7,n),c=o.disabled||a,u=qt(r,o.onTriggerChange),d=z_(n),f=y.useRef("touch"),[h,m,p]=tV(v=>{const x=d().filter(_=>!_.disabled),w=x.find(_=>_.value===o.value),b=rV(x,v,w);b!==void 0&&o.onValueChange(b.value)}),g=v=>{c||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(L_,{asChild:!0,...i,children:l.jsx(mt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":eV(o.value)?"":void 0,...s,ref:u,onClick:rt(s.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&g(v)}),onPointerDown:rt(s.onPointerDown,v=>{f.current=v.pointerType;const x=v.target;x.hasPointerCapture(v.pointerId)&&x.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:rt(s.onKeyDown,v=>{const x=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(x&&v.key===" ")&&kue.includes(v.key)&&(g(),v.preventDefault())})})})});O7.displayName=A7;var P7="SelectValue",D7=y.forwardRef((e,r)=>{const{__scopeSelect:n,className:a,style:s,children:i,placeholder:o="",...c}=e,u=Zu(P7,n),{onValueNodeHasChildrenChange:d}=u,f=i!==void 0,h=qt(r,u.onValueNodeChange);return Rn(()=>{d(f)},[d,f]),l.jsx(mt.span,{...c,ref:h,style:{pointerEvents:"none"},children:eV(u.value)?l.jsx(l.Fragment,{children:o}):i})});D7.displayName=P7;var Oue="SelectIcon",R7=y.forwardRef((e,r)=>{const{__scopeSelect:n,children:a,...s}=e;return l.jsx(mt.span,{"aria-hidden":!0,...s,ref:r,children:a||""})});R7.displayName=Oue;var Pue="SelectPortal",I7=e=>l.jsx(Sx,{asChild:!0,...e});I7.displayName=Pue;var yf="SelectContent",M7=y.forwardRef((e,r)=>{const n=Zu(yf,e.__scopeSelect),[a,s]=y.useState();if(Rn(()=>{s(new DocumentFragment)},[]),!n.open){const i=a;return i?Ap.createPortal(l.jsx(F7,{scope:e.__scopeSelect,children:l.jsx(V_.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(L7,{...e,ref:r})});M7.displayName=yf;var so=10,[F7,ed]=Fp(yf),Due="SelectContentImpl",Rue=$u("SelectContent.RemoveScroll"),L7=y.forwardRef((e,r)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:u,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:x,...w}=e,b=Zu(yf,n),[_,S]=y.useState(null),[j,N]=y.useState(null),k=qt(r,oe=>S(oe)),[E,C]=y.useState(null),[A,D]=y.useState(null),T=z_(n),[W,q]=y.useState(!1),L=y.useRef(!1);y.useEffect(()=>{if(_)return $_(_)},[_]),R_();const I=y.useCallback(oe=>{const[ye,...ae]=T().map(O=>O.ref.current),[Q]=ae.slice(-1),fe=document.activeElement;for(const O of oe)if(O===fe||(O==null||O.scrollIntoView({block:"nearest"}),O===ye&&j&&(j.scrollTop=0),O===Q&&j&&(j.scrollTop=j.scrollHeight),O==null||O.focus(),document.activeElement!==fe))return},[T,j]),z=y.useCallback(()=>I([E,_]),[I,E,_]);y.useEffect(()=>{W&&z()},[W,z]);const{onOpenChange:F,triggerPointerDownPosRef:M}=b;y.useEffect(()=>{if(_){let oe={x:0,y:0};const ye=Q=>{var fe,O;oe={x:Math.abs(Math.round(Q.pageX)-(((fe=M.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((O=M.current)==null?void 0:O.y)??0))}},ae=Q=>{oe.x<=10&&oe.y<=10?Q.preventDefault():_.contains(Q.target)||F(!1),document.removeEventListener("pointermove",ye),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",ae,{capture:!0})}}},[_,F,M]),y.useEffect(()=>{const oe=()=>F(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[F]);const[X,ee]=tV(oe=>{const ye=T().filter(fe=>!fe.disabled),ae=ye.find(fe=>fe.ref.current===document.activeElement),Q=rV(ye,oe,ae);Q&&setTimeout(()=>Q.ref.current.focus())}),P=y.useCallback((oe,ye,ae)=>{const Q=!L.current&&!ae;(b.value!==void 0&&b.value===ye||Q)&&(C(oe),Q&&(L.current=!0))},[b.value]),J=y.useCallback(()=>_==null?void 0:_.focus(),[_]),V=y.useCallback((oe,ye,ae)=>{const Q=!L.current&&!ae;(b.value!==void 0&&b.value===ye||Q)&&D(oe)},[b.value]),K=a==="popper"?nC:$7,ie=K===nC?{side:c,sideOffset:u,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:x}:{};return l.jsx(F7,{scope:n,content:_,viewport:j,onViewportChange:N,itemRefCallback:P,selectedItem:E,onItemLeave:J,itemTextRefCallback:V,focusSelectedItem:z,selectedItemText:A,position:a,isPositioned:W,searchRef:X,children:l.jsx(jx,{as:Rue,allowPinchZoom:!0,children:l.jsx(wx,{asChild:!0,trapped:b.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:rt(s,oe=>{var ye;(ye=b.trigger)==null||ye.focus({preventScroll:!0}),oe.preventDefault()}),children:l.jsx(bx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:l.jsx(K,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:oe=>oe.preventDefault(),...w,...ie,onPlaced:()=>q(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:rt(w.onKeyDown,oe=>{const ye=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ye&&oe.key.length===1&&ee(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Q=T().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const fe=oe.target,O=Q.indexOf(fe);Q=Q.slice(O+1)}setTimeout(()=>I(Q)),oe.preventDefault()}})})})})})})});L7.displayName=Due;var Iue="SelectItemAlignedPosition",$7=y.forwardRef((e,r)=>{const{__scopeSelect:n,onPlaced:a,...s}=e,i=Zu(yf,n),o=ed(yf,n),[c,u]=y.useState(null),[d,f]=y.useState(null),h=qt(r,k=>f(k)),m=z_(n),p=y.useRef(!1),g=y.useRef(!0),{viewport:v,selectedItem:x,selectedItemText:w,focusSelectedItem:b}=o,_=y.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&d&&v&&x&&w){const k=i.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),A=w.getBoundingClientRect();if(i.dir!=="rtl"){const fe=A.left-E.left,O=C.left-fe,Le=k.left-O,$e=k.width+Le,Me=Math.max($e,E.width),He=window.innerWidth-so,Pe=Y2(O,[so,Math.max(so,He-Me)]);c.style.minWidth=$e+"px",c.style.left=Pe+"px"}else{const fe=E.right-A.right,O=window.innerWidth-C.right-fe,Le=window.innerWidth-k.right-O,$e=k.width+Le,Me=Math.max($e,E.width),He=window.innerWidth-so,Pe=Y2(O,[so,Math.max(so,He-Me)]);c.style.minWidth=$e+"px",c.style.right=Pe+"px"}const D=m(),T=window.innerHeight-so*2,W=v.scrollHeight,q=window.getComputedStyle(d),L=parseInt(q.borderTopWidth,10),I=parseInt(q.paddingTop,10),z=parseInt(q.borderBottomWidth,10),F=parseInt(q.paddingBottom,10),M=L+I+W+F+z,X=Math.min(x.offsetHeight*5,M),ee=window.getComputedStyle(v),P=parseInt(ee.paddingTop,10),J=parseInt(ee.paddingBottom,10),V=k.top+k.height/2-so,K=T-V,ie=x.offsetHeight/2,oe=x.offsetTop+ie,ye=L+I+oe,ae=M-ye;if(ye<=V){const fe=D.length>0&&x===D[D.length-1].ref.current;c.style.bottom="0px";const O=d.clientHeight-v.offsetTop-v.offsetHeight,Le=Math.max(K,ie+(fe?J:0)+O+z),$e=ye+Le;c.style.height=$e+"px"}else{const fe=D.length>0&&x===D[0].ref.current;c.style.top="0px";const Le=Math.max(V,L+v.offsetTop+(fe?P:0)+ie)+ae;c.style.height=Le+"px",v.scrollTop=ye-V+v.offsetTop}c.style.margin=`${so}px 0`,c.style.minHeight=X+"px",c.style.maxHeight=T+"px",a==null||a(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,c,d,v,x,w,i.dir,a]);Rn(()=>_(),[_]);const[S,j]=y.useState();Rn(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const N=y.useCallback(k=>{k&&g.current===!0&&(_(),b==null||b(),g.current=!1)},[_,b]);return l.jsx(Fue,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:l.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(mt.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});$7.displayName=Iue;var Mue="SelectPopperPosition",nC=y.forwardRef((e,r)=>{const{__scopeSelect:n,align:a="start",collisionPadding:s=so,...i}=e,o=W_(n);return l.jsx(QA,{...o,...i,ref:r,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});nC.displayName=Mue;var[Fue,nO]=Fp(yf,{}),aC="SelectViewport",B7=y.forwardRef((e,r)=>{const{__scopeSelect:n,nonce:a,...s}=e,i=ed(aC,n),o=nO(aC,n),c=qt(r,i.onViewportChange),u=y.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),l.jsx(V_.Slot,{scope:n,children:l.jsx(mt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:rt(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const p=Math.abs(u.current-f.scrollTop);if(p>0){const g=window.innerHeight-so*2,v=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),w=Math.max(v,x);if(w<g){const b=w+p,_=Math.min(g,b),S=b-_;h.style.height=_+"px",h.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});B7.displayName=aC;var U7="SelectGroup",[Lue,$ue]=Fp(U7),Bue=y.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e,s=ha();return l.jsx(Lue,{scope:n,id:s,children:l.jsx(mt.div,{role:"group","aria-labelledby":s,...a,ref:r})})});Bue.displayName=U7;var V7="SelectLabel",z7=y.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e,s=$ue(V7,n);return l.jsx(mt.div,{id:s.id,...a,ref:r})});z7.displayName=V7;var Ab="SelectItem",[Uue,W7]=Fp(Ab),H7=y.forwardRef((e,r)=>{const{__scopeSelect:n,value:a,disabled:s=!1,textValue:i,...o}=e,c=Zu(Ab,n),u=ed(Ab,n),d=c.value===a,[f,h]=y.useState(i??""),[m,p]=y.useState(!1),g=qt(r,b=>{var _;return(_=u.itemRefCallback)==null?void 0:_.call(u,b,a,s)}),v=ha(),x=y.useRef("touch"),w=()=>{s||(c.onValueChange(a),c.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(Uue,{scope:n,value:a,disabled:s,textId:v,isSelected:d,onItemTextChange:y.useCallback(b=>{h(_=>_||((b==null?void 0:b.textContent)??"").trim())},[]),children:l.jsx(V_.ItemSlot,{scope:n,value:a,disabled:s,textValue:f,children:l.jsx(mt.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:rt(o.onFocus,()=>p(!0)),onBlur:rt(o.onBlur,()=>p(!1)),onClick:rt(o.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:rt(o.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:rt(o.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:rt(o.onPointerMove,b=>{var _;x.current=b.pointerType,s?(_=u.onItemLeave)==null||_.call(u):x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:rt(o.onPointerLeave,b=>{var _;b.currentTarget===document.activeElement&&((_=u.onItemLeave)==null||_.call(u))}),onKeyDown:rt(o.onKeyDown,b=>{var S;((S=u.searchRef)==null?void 0:S.current)!==""&&b.key===" "||(Nue.includes(b.key)&&w(),b.key===" "&&b.preventDefault())})})})})});H7.displayName=Ab;var W0="SelectItemText",q7=y.forwardRef((e,r)=>{const{__scopeSelect:n,className:a,style:s,...i}=e,o=Zu(W0,n),c=ed(W0,n),u=W7(W0,n),d=Aue(W0,n),[f,h]=y.useState(null),m=qt(r,w=>h(w),u.onItemTextChange,w=>{var b;return(b=c.itemTextRefCallback)==null?void 0:b.call(c,w,u.value,u.disabled)}),p=f==null?void 0:f.textContent,g=y.useMemo(()=>l.jsx("option",{value:u.value,disabled:u.disabled,children:p},u.value),[u.disabled,u.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:x}=d;return Rn(()=>(v(g),()=>x(g)),[v,x,g]),l.jsxs(l.Fragment,{children:[l.jsx(mt.span,{id:u.textId,...i,ref:m}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ap.createPortal(i.children,o.valueNode):null]})});q7.displayName=W0;var K7="SelectItemIndicator",G7=y.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e;return W7(K7,n).isSelected?l.jsx(mt.span,{"aria-hidden":!0,...a,ref:r}):null});G7.displayName=K7;var sC="SelectScrollUpButton",Y7=y.forwardRef((e,r)=>{const n=ed(sC,e.__scopeSelect),a=nO(sC,e.__scopeSelect),[s,i]=y.useState(!1),o=qt(r,a.onScrollButtonChange);return Rn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const d=u.scrollTop>0;i(d)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?l.jsx(J7,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});Y7.displayName=sC;var iC="SelectScrollDownButton",X7=y.forwardRef((e,r)=>{const n=ed(iC,e.__scopeSelect),a=nO(iC,e.__scopeSelect),[s,i]=y.useState(!1),o=qt(r,a.onScrollButtonChange);return Rn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const d=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<d;i(f)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?l.jsx(J7,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});X7.displayName=iC;var J7=y.forwardRef((e,r)=>{const{__scopeSelect:n,onAutoScroll:a,...s}=e,i=ed("SelectScrollButton",n),o=y.useRef(null),c=z_(n),u=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>u(),[u]),Rn(()=>{var f;const d=c().find(h=>h.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[c]),l.jsx(mt.div,{"aria-hidden":!0,...s,ref:r,style:{flexShrink:0,...s.style},onPointerDown:rt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:rt(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:rt(s.onPointerLeave,()=>{u()})})}),Vue="SelectSeparator",Q7=y.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e;return l.jsx(mt.div,{"aria-hidden":!0,...a,ref:r})});Q7.displayName=Vue;var oC="SelectArrow",zue=y.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e,s=W_(n),i=Zu(oC,n),o=ed(oC,n);return i.open&&o.position==="popper"?l.jsx(ZA,{...s,...a,ref:r}):null});zue.displayName=oC;var Wue="SelectBubbleInput",Z7=y.forwardRef(({__scopeSelect:e,value:r,...n},a)=>{const s=y.useRef(null),i=qt(a,s),o=eO(r);return y.useEffect(()=>{const c=s.current;if(!c)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==r&&f){const h=new Event("change",{bubbles:!0});f.call(c,r),c.dispatchEvent(h)}},[o,r]),l.jsx(mt.select,{...n,style:{...J9,...n.style},ref:i,defaultValue:r})});Z7.displayName=Wue;function eV(e){return e===""||e===void 0}function tV(e){const r=ea(e),n=y.useRef(""),a=y.useRef(0),s=y.useCallback(o=>{const c=n.current+o;r(c),function u(d){n.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>u(""),1e3))}(c)},[r]),i=y.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,s,i]}function rV(e,r,n){const s=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=n?e.indexOf(n):-1;let o=Hue(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function Hue(e,r){return e.map((n,a)=>e[(r+a)%e.length])}var que=T7,nV=O7,Kue=D7,Gue=R7,Yue=I7,aV=M7,Xue=B7,sV=z7,iV=H7,Jue=q7,Que=G7,oV=Y7,lV=X7,cV=Q7;const kt=que,Nt=Kue,St=y.forwardRef(({className:e,children:r,...n},a)=>l.jsxs(nV,{ref:a,className:ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[r,l.jsx(Gue,{asChild:!0,children:l.jsx(A_,{className:"h-4 w-4 opacity-50"})})]}));St.displayName=nV.displayName;const uV=y.forwardRef(({className:e,...r},n)=>l.jsx(oV,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",e),...r,children:l.jsx(wie,{className:"h-4 w-4"})}));uV.displayName=oV.displayName;const dV=y.forwardRef(({className:e,...r},n)=>l.jsx(lV,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",e),...r,children:l.jsx(A_,{className:"h-4 w-4"})}));dV.displayName=lV.displayName;const jt=y.forwardRef(({className:e,children:r,position:n="popper",...a},s)=>l.jsx(Yue,{children:l.jsxs(aV,{ref:s,className:ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[l.jsx(uV,{}),l.jsx(Xue,{className:ge("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),l.jsx(dV,{})]})}));jt.displayName=aV.displayName;const Zue=y.forwardRef(({className:e,...r},n)=>l.jsx(sV,{ref:n,className:ge("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r}));Zue.displayName=sV.displayName;const Oe=y.forwardRef(({className:e,children:r,...n},a)=>l.jsxs(iV,{ref:a,className:ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Que,{children:l.jsx(FA,{className:"h-4 w-4"})})}),l.jsx(Jue,{children:r})]}));Oe.displayName=iV.displayName;const ede=y.forwardRef(({className:e,...r},n)=>l.jsx(cV,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",e),...r}));ede.displayName=cV.displayName;const fV=()=>{const{currentLanguage:e,changeLanguage:r,languages:n}=Wa(),a=n.find(s=>s.code===e);return l.jsxs(kt,{value:e,onValueChange:r,children:[l.jsx(St,{className:"w-[140px]",children:l.jsx(Nt,{children:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{children:a==null?void 0:a.name})})})}),l.jsx(jt,{children:n.map(s=>l.jsx(Oe,{value:s.code,children:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{children:s.name})})},s.code))})]})};function tde(e,r){return y.useReducer((n,a)=>r[n][a]??n,e)}var Ha=e=>{const{present:r,children:n}=e,a=rde(r),s=typeof n=="function"?n({present:a.isPresent}):y.Children.only(n),i=qt(a.ref,nde(s));return typeof n=="function"||a.isPresent?y.cloneElement(s,{ref:i}):null};Ha.displayName="Presence";function rde(e){const[r,n]=y.useState(),a=y.useRef(null),s=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[c,u]=tde(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=Fy(a.current);i.current=c==="mounted"?d:"none"},[c]),Rn(()=>{const d=a.current,f=s.current;if(f!==e){const m=i.current,p=Fy(d);e?u("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),Rn(()=>{if(r){let d;const f=r.ownerDocument.defaultView??window,h=p=>{const v=Fy(a.current).includes(p.animationName);if(p.target===r&&v&&(u("ANIMATION_END"),!s.current)){const x=r.style.animationFillMode;r.style.animationFillMode="forwards",d=f.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=x)})}},m=p=>{p.target===r&&(i.current=Fy(a.current))};return r.addEventListener("animationstart",m),r.addEventListener("animationcancel",h),r.addEventListener("animationend",h),()=>{f.clearTimeout(d),r.removeEventListener("animationstart",m),r.removeEventListener("animationcancel",h),r.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[r,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:y.useCallback(d=>{a.current=d?getComputedStyle(d):null,n(d)},[])}}function Fy(e){return(e==null?void 0:e.animationName)||"none"}function nde(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var bk="rovingFocusGroup.onEntryFocus",ade={bubbles:!1,cancelable:!0},kx="RovingFocusGroup",[lC,hV,sde]=BA(kx),[ide,H_]=vs(kx,[sde]),[ode,lde]=ide(kx),mV=y.forwardRef((e,r)=>l.jsx(lC.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(lC.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(cde,{...e,ref:r})})}));mV.displayName=kx;var cde=y.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...h}=e,m=y.useRef(null),p=qt(r,m),g=yx(i),[v,x]=bc({prop:o,defaultProp:c??null,onChange:u,caller:kx}),[w,b]=y.useState(!1),_=ea(d),S=hV(n),j=y.useRef(!1),[N,k]=y.useState(0);return y.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(bk,_),()=>E.removeEventListener(bk,_)},[_]),l.jsx(ode,{scope:n,orientation:a,dir:g,loop:s,currentTabStopId:v,onItemFocus:y.useCallback(E=>x(E),[x]),onItemShiftTab:y.useCallback(()=>b(!0),[]),onFocusableItemAdd:y.useCallback(()=>k(E=>E+1),[]),onFocusableItemRemove:y.useCallback(()=>k(E=>E-1),[]),children:l.jsx(mt.div,{tabIndex:w||N===0?-1:0,"data-orientation":a,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:rt(e.onMouseDown,()=>{j.current=!0}),onFocus:rt(e.onFocus,E=>{const C=!j.current;if(E.target===E.currentTarget&&C&&!w){const A=new CustomEvent(bk,ade);if(E.currentTarget.dispatchEvent(A),!A.defaultPrevented){const D=S().filter(I=>I.focusable),T=D.find(I=>I.active),W=D.find(I=>I.id===v),L=[T,W,...D].filter(Boolean).map(I=>I.ref.current);vV(L,f)}}j.current=!1}),onBlur:rt(e.onBlur,()=>b(!1))})})}),pV="RovingFocusGroupItem",gV=y.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:s=!1,tabStopId:i,children:o,...c}=e,u=ha(),d=i||u,f=lde(pV,n),h=f.currentTabStopId===d,m=hV(n),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:v}=f;return y.useEffect(()=>{if(a)return p(),()=>g()},[a,p,g]),l.jsx(lC.ItemSlot,{scope:n,id:d,focusable:a,active:s,children:l.jsx(mt.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...c,ref:r,onMouseDown:rt(e.onMouseDown,x=>{a?f.onItemFocus(d):x.preventDefault()}),onFocus:rt(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:rt(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){f.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const w=fde(x,f.orientation,f.dir);if(w!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let _=m().filter(S=>S.focusable).map(S=>S.ref.current);if(w==="last")_.reverse();else if(w==="prev"||w==="next"){w==="prev"&&_.reverse();const S=_.indexOf(x.currentTarget);_=f.loop?hde(_,S+1):_.slice(S+1)}setTimeout(()=>vV(_))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:v!=null}):o})})});gV.displayName=pV;var ude={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dde(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function fde(e,r,n){const a=dde(e.key,n);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return ude[a]}function vV(e,r=!1){const n=document.activeElement;for(const a of e)if(a===n||(a.focus({preventScroll:r}),document.activeElement!==n))return}function hde(e,r){return e.map((n,a)=>e[(r+a)%e.length])}var xV=mV,yV=gV,cC=["Enter"," "],mde=["ArrowDown","PageUp","Home"],bV=["ArrowUp","PageDown","End"],pde=[...mde,...bV],gde={ltr:[...cC,"ArrowRight"],rtl:[...cC,"ArrowLeft"]},vde={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Nx="Menu",[lv,xde,yde]=BA(Nx),[Lf,wV]=vs(Nx,[yde,Mp,H_]),q_=Mp(),_V=H_(),[bde,$f]=Lf(Nx),[wde,Cx]=Lf(Nx),SV=e=>{const{__scopeMenu:r,open:n=!1,children:a,dir:s,onOpenChange:i,modal:o=!0}=e,c=q_(r),[u,d]=y.useState(null),f=y.useRef(!1),h=ea(i),m=yx(s);return y.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),l.jsx(JA,{...c,children:l.jsx(bde,{scope:r,open:n,onOpenChange:h,content:u,onContentChange:d,children:l.jsx(wde,{scope:r,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:m,modal:o,children:a})})})};SV.displayName=Nx;var _de="MenuAnchor",aO=y.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e,s=q_(n);return l.jsx(L_,{...s,...a,ref:r})});aO.displayName=_de;var sO="MenuPortal",[Sde,jV]=Lf(sO,{forceMount:void 0}),kV=e=>{const{__scopeMenu:r,forceMount:n,children:a,container:s}=e,i=$f(sO,r);return l.jsx(Sde,{scope:r,forceMount:n,children:l.jsx(Ha,{present:n||i.open,children:l.jsx(Sx,{asChild:!0,container:s,children:a})})})};kV.displayName=sO;var $i="MenuContent",[jde,iO]=Lf($i),NV=y.forwardRef((e,r)=>{const n=jV($i,e.__scopeMenu),{forceMount:a=n.forceMount,...s}=e,i=$f($i,e.__scopeMenu),o=Cx($i,e.__scopeMenu);return l.jsx(lv.Provider,{scope:e.__scopeMenu,children:l.jsx(Ha,{present:a||i.open,children:l.jsx(lv.Slot,{scope:e.__scopeMenu,children:o.modal?l.jsx(kde,{...s,ref:r}):l.jsx(Nde,{...s,ref:r})})})})}),kde=y.forwardRef((e,r)=>{const n=$f($i,e.__scopeMenu),a=y.useRef(null),s=qt(r,a);return y.useEffect(()=>{const i=a.current;if(i)return $_(i)},[]),l.jsx(oO,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:rt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Nde=y.forwardRef((e,r)=>{const n=$f($i,e.__scopeMenu);return l.jsx(oO,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Cde=$u("MenuContent.ScrollLock"),oO=y.forwardRef((e,r)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:g,...v}=e,x=$f($i,n),w=Cx($i,n),b=q_(n),_=_V(n),S=xde(n),[j,N]=y.useState(null),k=y.useRef(null),E=qt(r,k,x.onContentChange),C=y.useRef(0),A=y.useRef(""),D=y.useRef(0),T=y.useRef(null),W=y.useRef("right"),q=y.useRef(0),L=g?jx:y.Fragment,I=g?{as:Cde,allowPinchZoom:!0}:void 0,z=M=>{var oe,ye;const X=A.current+M,ee=S().filter(ae=>!ae.disabled),P=document.activeElement,J=(oe=ee.find(ae=>ae.ref.current===P))==null?void 0:oe.textValue,V=ee.map(ae=>ae.textValue),K=$de(V,X,J),ie=(ye=ee.find(ae=>ae.textValue===K))==null?void 0:ye.ref.current;(function ae(Q){A.current=Q,window.clearTimeout(C.current),Q!==""&&(C.current=window.setTimeout(()=>ae(""),1e3))})(X),ie&&setTimeout(()=>ie.focus())};y.useEffect(()=>()=>window.clearTimeout(C.current),[]),R_();const F=y.useCallback(M=>{var ee,P;return W.current===((ee=T.current)==null?void 0:ee.side)&&Ude(M,(P=T.current)==null?void 0:P.area)},[]);return l.jsx(jde,{scope:n,searchRef:A,onItemEnter:y.useCallback(M=>{F(M)&&M.preventDefault()},[F]),onItemLeave:y.useCallback(M=>{var X;F(M)||((X=k.current)==null||X.focus(),N(null))},[F]),onTriggerLeave:y.useCallback(M=>{F(M)&&M.preventDefault()},[F]),pointerGraceTimerRef:D,onPointerGraceIntentChange:y.useCallback(M=>{T.current=M},[]),children:l.jsx(L,{...I,children:l.jsx(wx,{asChild:!0,trapped:s,onMountAutoFocus:rt(i,M=>{var X;M.preventDefault(),(X=k.current)==null||X.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(bx,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:l.jsx(xV,{asChild:!0,..._,dir:w.dir,orientation:"vertical",loop:a,currentTabStopId:j,onCurrentTabStopIdChange:N,onEntryFocus:rt(u,M=>{w.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(QA,{role:"menu","aria-orientation":"vertical","data-state":VV(x.open),"data-radix-menu-content":"",dir:w.dir,...b,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:rt(v.onKeyDown,M=>{const ee=M.target.closest("[data-radix-menu-content]")===M.currentTarget,P=M.ctrlKey||M.altKey||M.metaKey,J=M.key.length===1;ee&&(M.key==="Tab"&&M.preventDefault(),!P&&J&&z(M.key));const V=k.current;if(M.target!==V||!pde.includes(M.key))return;M.preventDefault();const ie=S().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);bV.includes(M.key)&&ie.reverse(),Fde(ie)}),onBlur:rt(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(C.current),A.current="")}),onPointerMove:rt(e.onPointerMove,cv(M=>{const X=M.target,ee=q.current!==M.clientX;if(M.currentTarget.contains(X)&&ee){const P=M.clientX>q.current?"right":"left";W.current=P,q.current=M.clientX}}))})})})})})})});NV.displayName=$i;var Ede="MenuGroup",lO=y.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e;return l.jsx(mt.div,{role:"group",...a,ref:r})});lO.displayName=Ede;var Tde="MenuLabel",CV=y.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e;return l.jsx(mt.div,{...a,ref:r})});CV.displayName=Tde;var Ob="MenuItem",QI="menu.itemSelect",K_=y.forwardRef((e,r)=>{const{disabled:n=!1,onSelect:a,...s}=e,i=y.useRef(null),o=Cx(Ob,e.__scopeMenu),c=iO(Ob,e.__scopeMenu),u=qt(r,i),d=y.useRef(!1),f=()=>{const h=i.current;if(!n&&h){const m=new CustomEvent(QI,{bubbles:!0,cancelable:!0});h.addEventListener(QI,p=>a==null?void 0:a(p),{once:!0}),f9(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return l.jsx(EV,{...s,ref:u,disabled:n,onClick:rt(e.onClick,f),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:rt(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:rt(e.onKeyDown,h=>{const m=c.searchRef.current!=="";n||m&&h.key===" "||cC.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});K_.displayName=Ob;var EV=y.forwardRef((e,r)=>{const{__scopeMenu:n,disabled:a=!1,textValue:s,...i}=e,o=iO(Ob,n),c=_V(n),u=y.useRef(null),d=qt(r,u),[f,h]=y.useState(!1),[m,p]=y.useState("");return y.useEffect(()=>{const g=u.current;g&&p((g.textContent??"").trim())},[i.children]),l.jsx(lv.ItemSlot,{scope:n,disabled:a,textValue:s??m,children:l.jsx(yV,{asChild:!0,...c,focusable:!a,children:l.jsx(mt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:d,onPointerMove:rt(e.onPointerMove,cv(g=>{a?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:rt(e.onPointerLeave,cv(g=>o.onItemLeave(g))),onFocus:rt(e.onFocus,()=>h(!0)),onBlur:rt(e.onBlur,()=>h(!1))})})})}),Ade="MenuCheckboxItem",TV=y.forwardRef((e,r)=>{const{checked:n=!1,onCheckedChange:a,...s}=e;return l.jsx(RV,{scope:e.__scopeMenu,checked:n,children:l.jsx(K_,{role:"menuitemcheckbox","aria-checked":Pb(n)?"mixed":n,...s,ref:r,"data-state":uO(n),onSelect:rt(s.onSelect,()=>a==null?void 0:a(Pb(n)?!0:!n),{checkForDefaultPrevented:!1})})})});TV.displayName=Ade;var AV="MenuRadioGroup",[Ode,Pde]=Lf(AV,{value:void 0,onValueChange:()=>{}}),OV=y.forwardRef((e,r)=>{const{value:n,onValueChange:a,...s}=e,i=ea(a);return l.jsx(Ode,{scope:e.__scopeMenu,value:n,onValueChange:i,children:l.jsx(lO,{...s,ref:r})})});OV.displayName=AV;var PV="MenuRadioItem",DV=y.forwardRef((e,r)=>{const{value:n,...a}=e,s=Pde(PV,e.__scopeMenu),i=n===s.value;return l.jsx(RV,{scope:e.__scopeMenu,checked:i,children:l.jsx(K_,{role:"menuitemradio","aria-checked":i,...a,ref:r,"data-state":uO(i),onSelect:rt(a.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});DV.displayName=PV;var cO="MenuItemIndicator",[RV,Dde]=Lf(cO,{checked:!1}),IV=y.forwardRef((e,r)=>{const{__scopeMenu:n,forceMount:a,...s}=e,i=Dde(cO,n);return l.jsx(Ha,{present:a||Pb(i.checked)||i.checked===!0,children:l.jsx(mt.span,{...s,ref:r,"data-state":uO(i.checked)})})});IV.displayName=cO;var Rde="MenuSeparator",MV=y.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e;return l.jsx(mt.div,{role:"separator","aria-orientation":"horizontal",...a,ref:r})});MV.displayName=Rde;var Ide="MenuArrow",FV=y.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e,s=q_(n);return l.jsx(ZA,{...s,...a,ref:r})});FV.displayName=Ide;var Mde="MenuSub",[vXe,LV]=Lf(Mde),H0="MenuSubTrigger",$V=y.forwardRef((e,r)=>{const n=$f(H0,e.__scopeMenu),a=Cx(H0,e.__scopeMenu),s=LV(H0,e.__scopeMenu),i=iO(H0,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=i,d={__scopeMenu:e.__scopeMenu},f=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>f,[f]),y.useEffect(()=>{const h=c.current;return()=>{window.clearTimeout(h),u(null)}},[c,u]),l.jsx(aO,{asChild:!0,...d,children:l.jsx(EV,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":VV(n.open),...e,ref:vc(r,s.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:rt(e.onPointerMove,cv(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:rt(e.onPointerLeave,cv(h=>{var p,g;f();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const v=(g=n.content)==null?void 0:g.dataset.side,x=v==="right",w=x?-5:5,b=m[x?"left":"right"],_=m[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+w,y:h.clientY},{x:b,y:m.top},{x:_,y:m.top},{x:_,y:m.bottom},{x:b,y:m.bottom}],side:v}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:rt(e.onKeyDown,h=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||gde[a.dir].includes(h.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),h.preventDefault())})})})});$V.displayName=H0;var BV="MenuSubContent",UV=y.forwardRef((e,r)=>{const n=jV($i,e.__scopeMenu),{forceMount:a=n.forceMount,...s}=e,i=$f($i,e.__scopeMenu),o=Cx($i,e.__scopeMenu),c=LV(BV,e.__scopeMenu),u=y.useRef(null),d=qt(r,u);return l.jsx(lv.Provider,{scope:e.__scopeMenu,children:l.jsx(Ha,{present:a||i.open,children:l.jsx(lv.Slot,{scope:e.__scopeMenu,children:l.jsx(oO,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;o.isUsingKeyboardRef.current&&((h=u.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:rt(e.onFocusOutside,f=>{f.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:rt(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:rt(e.onKeyDown,f=>{var p;const h=f.currentTarget.contains(f.target),m=vde[o.dir].includes(f.key);h&&m&&(i.onOpenChange(!1),(p=c.trigger)==null||p.focus(),f.preventDefault())})})})})})});UV.displayName=BV;function VV(e){return e?"open":"closed"}function Pb(e){return e==="indeterminate"}function uO(e){return Pb(e)?"indeterminate":e?"checked":"unchecked"}function Fde(e){const r=document.activeElement;for(const n of e)if(n===r||(n.focus(),document.activeElement!==r))return}function Lde(e,r){return e.map((n,a)=>e[(r+a)%e.length])}function $de(e,r,n){const s=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=n?e.indexOf(n):-1;let o=Lde(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function Bde(e,r){const{x:n,y:a}=e;let s=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const c=r[i],u=r[o],d=c.x,f=c.y,h=u.x,m=u.y;f>a!=m>a&&n<(h-d)*(a-f)/(m-f)+d&&(s=!s)}return s}function Ude(e,r){if(!r)return!1;const n={x:e.clientX,y:e.clientY};return Bde(n,r)}function cv(e){return r=>r.pointerType==="mouse"?e(r):void 0}var Vde=SV,zde=aO,Wde=kV,Hde=NV,qde=lO,Kde=CV,Gde=K_,Yde=TV,Xde=OV,Jde=DV,Qde=IV,Zde=MV,efe=FV,tfe=$V,rfe=UV,G_="DropdownMenu",[nfe,xXe]=vs(G_,[wV]),xs=wV(),[afe,zV]=nfe(G_),WV=e=>{const{__scopeDropdownMenu:r,children:n,dir:a,open:s,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,u=xs(r),d=y.useRef(null),[f,h]=bc({prop:s,defaultProp:i??!1,onChange:o,caller:G_});return l.jsx(afe,{scope:r,triggerId:ha(),triggerRef:d,contentId:ha(),open:f,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(m=>!m),[h]),modal:c,children:l.jsx(Vde,{...u,open:f,onOpenChange:h,dir:a,modal:c,children:n})})};WV.displayName=G_;var HV="DropdownMenuTrigger",qV=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...s}=e,i=zV(HV,n),o=xs(n);return l.jsx(zde,{asChild:!0,...o,children:l.jsx(mt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:vc(r,i.triggerRef),onPointerDown:rt(e.onPointerDown,c=>{!a&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:rt(e.onKeyDown,c=>{a||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});qV.displayName=HV;var sfe="DropdownMenuPortal",KV=e=>{const{__scopeDropdownMenu:r,...n}=e,a=xs(r);return l.jsx(Wde,{...a,...n})};KV.displayName=sfe;var GV="DropdownMenuContent",YV=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=zV(GV,n),i=xs(n),o=y.useRef(!1);return l.jsx(Hde,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:r,onCloseAutoFocus:rt(e.onCloseAutoFocus,c=>{var u;o.current||(u=s.triggerRef.current)==null||u.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:rt(e.onInteractOutside,c=>{const u=c.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;(!s.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});YV.displayName=GV;var ife="DropdownMenuGroup",ofe=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=xs(n);return l.jsx(qde,{...s,...a,ref:r})});ofe.displayName=ife;var lfe="DropdownMenuLabel",XV=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=xs(n);return l.jsx(Kde,{...s,...a,ref:r})});XV.displayName=lfe;var cfe="DropdownMenuItem",JV=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=xs(n);return l.jsx(Gde,{...s,...a,ref:r})});JV.displayName=cfe;var ufe="DropdownMenuCheckboxItem",QV=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=xs(n);return l.jsx(Yde,{...s,...a,ref:r})});QV.displayName=ufe;var dfe="DropdownMenuRadioGroup",ffe=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=xs(n);return l.jsx(Xde,{...s,...a,ref:r})});ffe.displayName=dfe;var hfe="DropdownMenuRadioItem",ZV=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=xs(n);return l.jsx(Jde,{...s,...a,ref:r})});ZV.displayName=hfe;var mfe="DropdownMenuItemIndicator",ez=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=xs(n);return l.jsx(Qde,{...s,...a,ref:r})});ez.displayName=mfe;var pfe="DropdownMenuSeparator",tz=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=xs(n);return l.jsx(Zde,{...s,...a,ref:r})});tz.displayName=pfe;var gfe="DropdownMenuArrow",vfe=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=xs(n);return l.jsx(efe,{...s,...a,ref:r})});vfe.displayName=gfe;var xfe="DropdownMenuSubTrigger",rz=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=xs(n);return l.jsx(tfe,{...s,...a,ref:r})});rz.displayName=xfe;var yfe="DropdownMenuSubContent",nz=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=xs(n);return l.jsx(rfe,{...s,...a,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nz.displayName=yfe;var bfe=WV,wfe=qV,_fe=KV,az=YV,sz=XV,iz=JV,oz=QV,lz=ZV,cz=ez,uz=tz,dz=rz,fz=nz;const dO=bfe,fO=wfe,Sfe=y.forwardRef(({className:e,inset:r,children:n,...a},s)=>l.jsxs(dz,{ref:s,className:ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",r&&"pl-8",e),...a,children:[n,l.jsx(O_,{className:"ml-auto h-4 w-4"})]}));Sfe.displayName=dz.displayName;const jfe=y.forwardRef(({className:e,...r},n)=>l.jsx(fz,{ref:n,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));jfe.displayName=fz.displayName;const Y_=y.forwardRef(({className:e,sideOffset:r=4,...n},a)=>l.jsx(_fe,{children:l.jsx(az,{ref:a,sideOffset:r,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Y_.displayName=az.displayName;const Xl=y.forwardRef(({className:e,inset:r,...n},a)=>l.jsx(iz,{ref:a,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",r&&"pl-8",e),...n}));Xl.displayName=iz.displayName;const kfe=y.forwardRef(({className:e,children:r,checked:n,...a},s)=>l.jsxs(oz,{ref:s,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...a,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(cz,{children:l.jsx(FA,{className:"h-4 w-4"})})}),r]}));kfe.displayName=oz.displayName;const Nfe=y.forwardRef(({className:e,children:r,...n},a)=>l.jsxs(lz,{ref:a,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(cz,{children:l.jsx(Sie,{className:"h-2 w-2 fill-current"})})}),r]}));Nfe.displayName=lz.displayName;const Cfe=y.forwardRef(({className:e,inset:r,...n},a)=>l.jsx(sz,{ref:a,className:ge("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...n}));Cfe.displayName=sz.displayName;const uC=y.forwardRef(({className:e,...r},n)=>l.jsx(uz,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",e),...r}));uC.displayName=uz.displayName;var X_="Dialog",[hz,mz]=vs(X_),[Efe,$o]=hz(X_),pz=e=>{const{__scopeDialog:r,children:n,open:a,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,c=y.useRef(null),u=y.useRef(null),[d,f]=bc({prop:a,defaultProp:s??!1,onChange:i,caller:X_});return l.jsx(Efe,{scope:r,triggerRef:c,contentRef:u,contentId:ha(),titleId:ha(),descriptionId:ha(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:o,children:n})};pz.displayName=X_;var gz="DialogTrigger",vz=y.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=$o(gz,n),i=qt(r,s.triggerRef);return l.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":pO(s.open),...a,ref:i,onClick:rt(e.onClick,s.onOpenToggle)})});vz.displayName=gz;var hO="DialogPortal",[Tfe,xz]=hz(hO,{forceMount:void 0}),yz=e=>{const{__scopeDialog:r,forceMount:n,children:a,container:s}=e,i=$o(hO,r);return l.jsx(Tfe,{scope:r,forceMount:n,children:y.Children.map(a,o=>l.jsx(Ha,{present:n||i.open,children:l.jsx(Sx,{asChild:!0,container:s,children:o})}))})};yz.displayName=hO;var Db="DialogOverlay",bz=y.forwardRef((e,r)=>{const n=xz(Db,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,i=$o(Db,e.__scopeDialog);return i.modal?l.jsx(Ha,{present:a||i.open,children:l.jsx(Ofe,{...s,ref:r})}):null});bz.displayName=Db;var Afe=$u("DialogOverlay.RemoveScroll"),Ofe=y.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=$o(Db,n);return l.jsx(jx,{as:Afe,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(mt.div,{"data-state":pO(s.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),bf="DialogContent",wz=y.forwardRef((e,r)=>{const n=xz(bf,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,i=$o(bf,e.__scopeDialog);return l.jsx(Ha,{present:a||i.open,children:i.modal?l.jsx(Pfe,{...s,ref:r}):l.jsx(Dfe,{...s,ref:r})})});wz.displayName=bf;var Pfe=y.forwardRef((e,r)=>{const n=$o(bf,e.__scopeDialog),a=y.useRef(null),s=qt(r,n.contentRef,a);return y.useEffect(()=>{const i=a.current;if(i)return $_(i)},[]),l.jsx(_z,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:rt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:rt(e.onFocusOutside,i=>i.preventDefault())})}),Dfe=y.forwardRef((e,r)=>{const n=$o(bf,e.__scopeDialog),a=y.useRef(!1),s=y.useRef(!1);return l.jsx(_z,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var u,d;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),_z=y.forwardRef((e,r)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,c=$o(bf,n),u=y.useRef(null),d=qt(r,u);return R_(),l.jsxs(l.Fragment,{children:[l.jsx(wx,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(bx,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":pO(c.open),...o,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Ife,{titleId:c.titleId}),l.jsx(Ffe,{contentRef:u,descriptionId:c.descriptionId})]})]})}),mO="DialogTitle",Sz=y.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=$o(mO,n);return l.jsx(mt.h2,{id:s.titleId,...a,ref:r})});Sz.displayName=mO;var jz="DialogDescription",kz=y.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=$o(jz,n);return l.jsx(mt.p,{id:s.descriptionId,...a,ref:r})});kz.displayName=jz;var Nz="DialogClose",Cz=y.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=$o(Nz,n);return l.jsx(mt.button,{type:"button",...a,ref:r,onClick:rt(e.onClick,()=>s.onOpenChange(!1))})});Cz.displayName=Nz;function pO(e){return e?"open":"closed"}var Ez="DialogTitleWarning",[Rfe,Tz]=Boe(Ez,{contentName:bf,titleName:mO,docsSlug:"dialog"}),Ife=({titleId:e})=>{const r=Tz(Ez),n=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Mfe="DialogDescriptionWarning",Ffe=({contentRef:e,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Tz(Mfe).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");r&&s&&(document.getElementById(r)||console.warn(a))},[a,e,r]),null},J_=pz,gO=vz,Q_=yz,Lp=bz,$p=wz,Ex=Sz,Tx=kz,Z_=Cz;const On=J_,Uh=gO,Lfe=Q_,Az=y.forwardRef(({className:e,...r},n)=>l.jsx(Lp,{ref:n,className:ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));Az.displayName=Lp.displayName;const gn=y.forwardRef(({className:e,children:r,...n},a)=>l.jsxs(Lfe,{children:[l.jsx(Az,{}),l.jsxs($p,{ref:a,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-xl",e),...n,children:[r,l.jsxs(Z_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(Po,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gn.displayName=$p.displayName;const vn=({className:e,...r})=>l.jsx("div",{className:ge("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});vn.displayName="DialogHeader";const Ua=({className:e,...r})=>l.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});Ua.displayName="DialogFooter";const xn=y.forwardRef(({className:e,...r},n)=>l.jsx(Ex,{ref:n,className:ge("text-lg font-semibold leading-none tracking-tight",e),...r}));xn.displayName=Ex.displayName;const Va=y.forwardRef(({className:e,...r},n)=>l.jsx(Tx,{ref:n,className:ge("text-sm text-muted-foreground",e),...r}));Va.displayName=Tx.displayName;const $fe=xx("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Vm=y.forwardRef(({className:e,variant:r,...n},a)=>l.jsx("div",{ref:a,role:"alert",className:ge($fe({variant:r}),e),...n}));Vm.displayName="Alert";const Bfe=y.forwardRef(({className:e,...r},n)=>l.jsx("h5",{ref:n,className:ge("mb-1 font-medium leading-none tracking-tight",e),...r}));Bfe.displayName="AlertTitle";const zm=y.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:ge("text-sm [&_p]:leading-relaxed",e),...r}));zm.displayName="AlertDescription";const Ufe="modulepreload",Vfe=function(e){return"/"+e},ZI={},Bp=function(r,n,a){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=Vfe(u),u in ZI)return;ZI[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Ufe,d||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),d)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return r().catch(i)})},zfe=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...n)=>Bp(async()=>{const{default:a}=await Promise.resolve().then(()=>Bf);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)};class vO extends Error{constructor(r,n="FunctionsError",a){super(r),this.name=n,this.context=a}}class eM extends vO{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class tM extends vO{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class rM extends vO{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var dC;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(dC||(dC={}));class Wfe{constructor(r,{headers:n={},customFetch:a,region:s=dC.Any}={}){this.url=r,this.headers=n,this.region=s,this.fetch=zfe(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return vt(this,arguments,void 0,function*(n,a={}){var s;try{const{headers:i,method:o,body:c,signal:u}=a;let d={},{region:f}=a;f||(f=this.region);const h=new URL(`${this.url}/${n}`);f&&f!=="any"&&(d["x-region"]=f,h.searchParams.set("forceFunctionRegion",f));let m;c&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(d["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(d["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;const p=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:m,signal:u}).catch(w=>{throw w.name==="AbortError"?w:new eM(w)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new tM(p);if(!p.ok)throw new rM(p);let v=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return v==="application/json"?x=yield p.json():v==="application/octet-stream"||v==="application/pdf"?x=yield p.blob():v==="text/event-stream"?x=p:v==="multipart/form-data"?x=yield p.formData():x=yield p.text(),{data:x,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new eM(i)}:{data:null,error:i,response:i instanceof rM||i instanceof tM?i.context:void 0}}})}}var ns={};const Up=G8(zce);var Ly={},$y={},By={},Uy={},Vy={},Hfe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wm=Hfe();const qfe=Wm.fetch,Oz=Wm.fetch.bind(Wm),Pz=Wm.Headers,Kfe=Wm.Request,Gfe=Wm.Response,Bf=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pz,Request:Kfe,Response:Gfe,default:Oz,fetch:qfe},Symbol.toStringTag,{value:"Module"})),Yfe=G8(Bf);var zy={},nM;function Dz(){if(nM)return zy;nM=1,Object.defineProperty(zy,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return zy.default=e,zy}var aM;function Rz(){if(aM)return Vy;aM=1,Object.defineProperty(Vy,"__esModule",{value:!0});const e=Up,r=e.__importDefault(Yfe),n=e.__importDefault(Dz());class a{constructor(i){var o,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let u=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,h,m,p;let g=null,v=null,x=null,w=d.status,b=d.statusText;if(d.ok){if(this.method!=="HEAD"){const N=await d.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?v=N:v=JSON.parse(N))}const S=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),j=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");S&&j&&j.length>1&&(x=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(g={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,x=null,w=406,b="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const S=await d.text();try{g=JSON.parse(S),Array.isArray(g)&&d.status===404&&(v=[],g=null,w=200,b="OK")}catch{d.status===404&&S===""?(w=204,b="No Content"):g={message:S}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,w=200,b="OK"),g&&this.shouldThrowOnError)throw new n.default(g)}return{error:g,data:v,count:x,status:w,statusText:b}});return this.shouldThrowOnError||(u=u.catch(d=>{var f,h,m;return{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(h=d==null?void 0:d.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=d==null?void 0:d.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),u.then(i,o)}returns(){return this}overrideTypes(){return this}}return Vy.default=a,Vy}var sM;function Iz(){if(sM)return Uy;sM=1,Object.defineProperty(Uy,"__esModule",{value:!0});const r=Up.__importDefault(Rz());class n extends r.default{select(s){let i=!1;const o=(s??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:c,referencedTable:u=c}={}){const d=u?`${u}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(d,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:c=!1,wal:u=!1,format:d="text"}={}){var f;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${m}"; options=${h};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Uy.default=n,Uy}var iM;function xO(){if(iM)return By;iM=1,Object.defineProperty(By,"__esModule",{value:!0});const r=Up.__importDefault(Iz()),n=new RegExp("[,()]");class a extends r.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const c=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${c})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:c,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const f=c===void 0?"":`(${c})`;return this.url.searchParams.append(i,`${d}fts${f}.${o}`),this}match(i){return Object.entries(i).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(i,o,c){return this.url.searchParams.append(i,`not.${o}.${c}`),this}or(i,{foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,c){return this.url.searchParams.append(i,`${o}.${c}`),this}}return By.default=a,By}var oM;function Mz(){if(oM)return $y;oM=1,Object.defineProperty($y,"__esModule",{value:!0});const r=Up.__importDefault(xO());class n{constructor(s,{headers:i={},schema:o,fetch:c}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=c}select(s,i){const{head:o=!1,count:c}=i??{},u=o?"HEAD":"GET";let d=!1;const f=(s??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",f),c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var c;const u="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:c,defaultToNull:u=!0}={}){var d;const f="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:i}={}){var o;const c="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new r.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new r.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return $y.default=n,$y}var lM;function Xfe(){if(lM)return Ly;lM=1,Object.defineProperty(Ly,"__esModule",{value:!0});const e=Up,r=e.__importDefault(Mz()),n=e.__importDefault(xO());class a{constructor(i,{headers:o={},schema:c,fetch:u}={}){this.url=i,this.headers=new Headers(o),this.schemaName=c,this.fetch=u}from(i){const o=new URL(`${this.url}/${i}`);return new r.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:c=!1,get:u=!1,count:d}={}){var f;let h;const m=new URL(`${this.url}/rpc/${i}`);let p;c||u?(h=c?"HEAD":"GET",Object.entries(o).filter(([v,x])=>x!==void 0).map(([v,x])=>[v,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([v,x])=>{m.searchParams.append(v,x)})):(h="POST",p=o);const g=new Headers(this.headers);return d&&g.set("Prefer",`count=${d}`),new n.default({method:h,url:m,headers:g,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return Ly.default=a,Ly}Object.defineProperty(ns,"__esModule",{value:!0});var Fz=ns.PostgrestError=Kz=ns.PostgrestBuilder=Hz=ns.PostgrestTransformBuilder=zz=ns.PostgrestFilterBuilder=Uz=ns.PostgrestQueryBuilder=$z=ns.PostgrestClient=void 0;const Vp=Up,Lz=Vp.__importDefault(Xfe());var $z=ns.PostgrestClient=Lz.default;const Bz=Vp.__importDefault(Mz());var Uz=ns.PostgrestQueryBuilder=Bz.default;const Vz=Vp.__importDefault(xO());var zz=ns.PostgrestFilterBuilder=Vz.default;const Wz=Vp.__importDefault(Iz());var Hz=ns.PostgrestTransformBuilder=Wz.default;const qz=Vp.__importDefault(Rz());var Kz=ns.PostgrestBuilder=qz.default;const Gz=Vp.__importDefault(Dz());Fz=ns.PostgrestError=Gz.default;var Yz=ns.default={PostgrestClient:Lz.default,PostgrestQueryBuilder:Bz.default,PostgrestFilterBuilder:Vz.default,PostgrestTransformBuilder:Wz.default,PostgrestBuilder:qz.default,PostgrestError:Gz.default};const Jfe=K8({__proto__:null,get PostgrestBuilder(){return Kz},get PostgrestClient(){return $z},get PostgrestError(){return Fz},get PostgrestFilterBuilder(){return zz},get PostgrestQueryBuilder(){return Uz},get PostgrestTransformBuilder(){return Hz},default:Yz},[ns]),{PostgrestClient:Qfe,PostgrestQueryBuilder:yXe,PostgrestFilterBuilder:bXe,PostgrestTransformBuilder:wXe,PostgrestBuilder:_Xe,PostgrestError:SXe}=Yz||Jfe;class Zfe{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const a=this.getWebSocketConstructor();return new a(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const ehe="2.78.0",the=`realtime-js/${ehe}`,rhe="1.0.0",fC=1e4,nhe=1e3,ahe=100;var mg;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(mg||(mg={}));var Ln;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ln||(Ln={}));var fo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(fo||(fo={}));var hC;(function(e){e.websocket="websocket"})(hC||(hC={}));var Sd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Sd||(Sd={}));class she{constructor(){this.HEADER_LENGTH=1}decode(r,n){return r.constructor===ArrayBuffer?n(this._binaryDecode(r)):n(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const n=new DataView(r),a=new TextDecoder;return this._decodeBroadcast(r,n,a)}_decodeBroadcast(r,n,a){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const c=a.decode(r.slice(o,o+s));o=o+s;const u=a.decode(r.slice(o,o+i));o=o+i;const d=JSON.parse(a.decode(r.slice(o,r.byteLength)));return{ref:null,topic:c,event:u,payload:d}}}class Xz{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Pr||(Pr={}));const cM=(e,r,n={})=>{var a;const s=(a=n.skipTypes)!==null&&a!==void 0?a:[];return r?Object.keys(r).reduce((i,o)=>(i[o]=ihe(o,e,r,s),i),{}):{}},ihe=(e,r,n,a)=>{const s=r.find(c=>c.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!a.includes(i)?Jz(i,o):mC(o)},Jz=(e,r)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return uhe(r,n)}switch(e){case Pr.bool:return ohe(r);case Pr.float4:case Pr.float8:case Pr.int2:case Pr.int4:case Pr.int8:case Pr.numeric:case Pr.oid:return lhe(r);case Pr.json:case Pr.jsonb:return che(r);case Pr.timestamp:return dhe(r);case Pr.abstime:case Pr.date:case Pr.daterange:case Pr.int4range:case Pr.int8range:case Pr.money:case Pr.reltime:case Pr.text:case Pr.time:case Pr.timestamptz:case Pr.timetz:case Pr.tsrange:case Pr.tstzrange:return mC(r);default:return mC(r)}},mC=e=>e,ohe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},lhe=e=>{if(typeof e=="string"){const r=parseFloat(e);if(!Number.isNaN(r))return r}return e},che=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(r){return console.log(`JSON parse error: ${r}`),e}return e},uhe=(e,r)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(c=>Jz(r,c))}return e},dhe=e=>typeof e=="string"?e.replace(" ","T"):e,Qz=e=>{const r=new URL(e);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class wk{constructor(r,n,a={},s=fC){this.channel=r,this.event=n,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var a;return this._hasReceived(r)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var uM;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(uM||(uM={}));class pg{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pg.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=pg.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],c()}),this.channel._on(a.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=pg.syncDiff(this.state,s,i,o),c())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,a,s){const i=this.cloneDeep(r),o=this.transformState(n),c={},u={};return this.map(i,(d,f)=>{o[d]||(u[d]=f)}),this.map(o,(d,f)=>{const h=i[d];if(h){const m=f.map(x=>x.presence_ref),p=h.map(x=>x.presence_ref),g=f.filter(x=>p.indexOf(x.presence_ref)<0),v=h.filter(x=>m.indexOf(x.presence_ref)<0);g.length>0&&(c[d]=g),v.length>0&&(u[d]=v)}else c[d]=f}),this.syncDiff(i,{joins:c,leaves:u},a,s)}static syncDiff(r,n,a,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(i,(c,u)=>{var d;const f=(d=r[c])!==null&&d!==void 0?d:[];if(r[c]=this.cloneDeep(u),f.length>0){const h=r[c].map(p=>p.presence_ref),m=f.filter(p=>h.indexOf(p.presence_ref)<0);r[c].unshift(...m)}a(c,f,u)}),this.map(o,(c,u)=>{let d=r[c];if(!d)return;const f=u.map(h=>h.presence_ref);d=d.filter(h=>f.indexOf(h.presence_ref)<0),r[c]=d,s(c,d,u),d.length===0&&delete r[c]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(a=>n(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,a)=>{const s=r[a];return"metas"in s?n[a]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[a]=s,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dM;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dM||(dM={}));var gg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(gg||(gg={}));var ql;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ql||(ql={}));class yO{constructor(r,n={config:{}},a){var s,i;if(this.topic=r,this.params=n,this.socket=a,this.bindings={},this.state=Ln.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new wk(this,fo.join,this.params,this.timeout),this.rejoinTimer=new Xz(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ln.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ln.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ln.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fo.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new pg(this),this.broadcastEndpointURL=Qz(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var a,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ln.closed){const{config:{broadcast:o,presence:c,private:u}}=this.params,d=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(p=>p.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[gg.PRESENCE]&&this.bindings[gg.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:f}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>r==null?void 0:r(ql.CHANNEL_ERROR,p)),this._onClose(()=>r==null?void 0:r(ql.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){r==null||r(ql.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,w=[];for(let b=0;b<x;b++){const _=v[b],{filter:{event:S,schema:j,table:N,filter:k}}=_,E=p&&p[b];if(E&&E.event===S&&E.schema===j&&E.table===N&&E.filter===k)w.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),this.state=Ln.errored,r==null||r(ql.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,r&&r(ql.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ln.errored,r==null||r(ql.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(ql.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,a){return this.state===Ln.joined&&r===gg.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,a)}async httpSend(r,n,a={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const d=await c.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(r,n={}){var a,s;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=r,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,c,u;const d=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ln.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fo.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new wk(this,fo.leave,{},r),a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ln.closed,this.bindings={}}async _fetchWithTimeout(r,n,a){const s=new AbortController,i=setTimeout(()=>s.abort(),a),o=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(r,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new wk(this,r,n,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>ahe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,a){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,a){var s,i;const o=r.toLocaleLowerCase(),{close:c,error:u,leave:d,join:f}=fo;if(a&&[c,u,d,f].indexOf(o)>=0&&a!==this._joinRef())return;let m=this._onMessage(o,n,a);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,v,x;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(v=p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(m,a)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,v,x,w,b,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,j=(g=p.filter)===null||g===void 0?void 0:g.event;return S&&((v=n.ids)===null||v===void 0?void 0:v.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(b=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const g=m.data,{schema:v,table:x,commit_timestamp:w,type:b,errors:_}=g;m=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:w,eventType:b,new:{},old:{},errors:_}),this._getPayloadRecords(g))}p.callback(m,a)})}_isClosed(){return this.state===Ln.closed}_isJoined(){return this.state===Ln.joined}_isJoining(){return this.state===Ln.joining}_isLeaving(){return this.state===Ln.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,a){const s=r.toLocaleLowerCase(),i={type:s,filter:n,callback:a};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(r,n){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&yO.isEqual(s.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const a in r)if(r[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(fo.close,{},r)}_onError(r){this._on(fo.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ln.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=cM(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=cM(r.columns,r.old_record)),n}}const _k=()=>{},Wy={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fhe=[1e3,2e3,5e3,1e4],hhe=1e4,mhe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class phe{constructor(r,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fC,this.transport=null,this.heartbeatIntervalMs=Wy.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_k,this.ref=0,this.reconnectTimer=null,this.logger=_k,this.conn=null,this.sendBuffer=[],this.serializer=new she,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Bp(async()=>{const{default:c}=await Promise.resolve().then(()=>Bf);return{default:c}},void 0).then(({default:c})=>c(...o)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${hC.websocket}`,this.httpEndpoint=Qz(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Zfe.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rhe}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},r?this.conn.close(r,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,a){this.logger(r,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case mg.connecting:return Sd.Connecting;case mg.open:return Sd.Open;case mg.closing:return Sd.Closing;default:return Sd.Closed}}isConnected(){return this.connectionState()===Sd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const a=`realtime:${r}`,s=this.getChannels().find(i=>i.topic===a);if(s)return s;{const i=new yO(`realtime:${r}`,n,this);return this.channels.push(i),i}}push(r){const{topic:n,event:a,payload:s,ref:i}=r,o=()=>{this.encode(r,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${n} ${a} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(nhe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Wy.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:s,payload:i,ref:o}=n,c=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${a} ${s} ${c}`.trim(),i),this.channels.filter(d=>d._isMember(a)).forEach(d=>d._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(fo.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const a=r.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${r}${a}${s}`}_workerObjectUrl(r){let n;if(r)n=r;else{const a=new Blob([mhe],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const s={access_token:n,version:the};n&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(fo.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(n)}catch(s){this.log("error",`error in ${r} callback`,s)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Xz(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wy.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,a,s,i,o,c,u,d,f;if(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(a=r==null?void 0:r.timeout)!==null&&a!==void 0?a:fC,this.heartbeatIntervalMs=(s=r==null?void 0:r.heartbeatIntervalMs)!==null&&s!==void 0?s:Wy.HEARTBEAT_INTERVAL,this.worker=(i=r==null?void 0:r.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=r==null?void 0:r.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=r==null?void 0:r.heartbeatCallback)!==null&&c!==void 0?c:_k,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=r==null?void 0:r.reconnectAfterMs)!==null&&u!==void 0?u:h=>fhe[h-1]||hhe,this.encode=(d=r==null?void 0:r.encode)!==null&&d!==void 0?d:(h,m)=>m(JSON.stringify(h)),this.decode=(f=r==null?void 0:r.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}class bO extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Jr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ghe extends bO{constructor(r,n,a){super(r),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pC extends bO{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const wO=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...n)=>Bp(async()=>{const{default:a}=await Promise.resolve().then(()=>Bf);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)},vhe=()=>vt(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bp(()=>Promise.resolve().then(()=>Bf),void 0)).Response:Response}),gC=e=>{if(Array.isArray(e))return e.map(n=>gC(n));if(typeof e=="function"||e!==Object(e))return e;const r={};return Object.entries(e).forEach(([n,a])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));r[s]=gC(a)}),r},xhe=e=>{if(typeof e!="object"||e===null)return!1;const r=Object.getPrototypeOf(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Sk=e=>{var r;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(r=e.error)===null||r===void 0?void 0:r.message)||JSON.stringify(e)},yhe=(e,r,n)=>vt(void 0,void 0,void 0,function*(){const a=yield vhe();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";r(new ghe(Sk(s),i,o))}).catch(s=>{r(new pC(Sk(s),s))}):r(new pC(Sk(e),e))}),bhe=(e,r,n,a)=>{const s={method:e,headers:(r==null?void 0:r.headers)||{}};return e==="GET"||!a?s:(xhe(a)?(s.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),s.body=JSON.stringify(a)):s.body=a,r!=null&&r.duplex&&(s.duplex=r.duplex),Object.assign(Object.assign({},s),n))};function Ax(e,r,n,a,s,i){return vt(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,bhe(r,a,s,i)).then(u=>{if(!u.ok)throw u;return a!=null&&a.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>yhe(u,c,a))})})}function uv(e,r,n,a){return vt(this,void 0,void 0,function*(){return Ax(e,"GET",r,n,a)})}function oo(e,r,n,a,s){return vt(this,void 0,void 0,function*(){return Ax(e,"POST",r,a,s,n)})}function vC(e,r,n,a,s){return vt(this,void 0,void 0,function*(){return Ax(e,"PUT",r,a,s,n)})}function whe(e,r,n,a){return vt(this,void 0,void 0,function*(){return Ax(e,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function _O(e,r,n,a,s){return vt(this,void 0,void 0,function*(){return Ax(e,"DELETE",r,a,s,n)})}class _he{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return vt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jr(r))return{data:null,error:r};throw r}})}}var Zz;class She{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[Zz]="BlobDownloadBuilder",this.promise=null}asStream(){return new _he(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return vt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jr(r))return{data:null,error:r};throw r}})}}Zz=Symbol.toStringTag;const jhe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fM={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class khe{constructor(r,n={},a,s){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=a,this.fetch=wO(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,a,s){return vt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},fM),s);let c=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=a,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const d=this._removeEmptyFolders(n),f=this._getFinalPath(d),h=yield(r=="PUT"?vC:oo)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jr(i))return{data:null,error:i};throw i}})}upload(r,n,a){return vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,a)})}uploadToSignedUrl(r,n,a,s){return vt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(r),o=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:fM.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.append("cacheControl",d.cacheControl)):(u=a,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const h=yield vC(this.fetch,c.toString(),u,{headers:f});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Jr(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(r,n){return vt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield oo(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:s}),o=new URL(this.url+i.url),c=o.searchParams.get("token");if(!c)throw new bO("No token returned by API");return{data:{signedUrl:o.toString(),path:r,token:c},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jr(a))return{data:null,error:a};throw a}})}update(r,n,a){return vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,a)})}move(r,n,a){return vt(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jr(s))return{data:null,error:s};throw s}})}copy(r,n,a){return vt(this,void 0,void 0,function*(){try{return{data:{path:(yield oo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jr(s))return{data:null,error:s};throw s}})}createSignedUrl(r,n,a){return vt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(r),i=yield oo(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jr(s))return{data:null,error:s};throw s}})}createSignedUrls(r,n,a){return vt(this,void 0,void 0,function*(){try{const s=yield oo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jr(s))return{data:null,error:s};throw s}})}download(r,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",c=this._getFinalPath(r),u=()=>uv(this.fetch,`${this.url}/${s}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new She(u,this.shouldThrowOnError)}info(r){return vt(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const a=yield uv(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gC(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jr(a))return{data:null,error:a};throw a}})}exists(r){return vt(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield whe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jr(a)&&a instanceof pC){const s=a.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:a}}throw a}})}getPublicUrl(r,n){const a=this._getFinalPath(r),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&s.push(u);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${a}${d}`)}}}remove(r){return vt(this,void 0,void 0,function*(){try{return{data:yield _O(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}list(r,n,a){return vt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},jhe),n),{prefix:r||""});return{data:yield oo(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jr(s))return{data:null,error:s};throw s}})}listV2(r,n){return vt(this,void 0,void 0,function*(){try{const a=Object.assign({},r);return{data:yield oo(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jr(a))return{data:null,error:a};throw a}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const eW="2.78.0",tW={"X-Client-Info":`storage-js/${eW}`};class Nhe{constructor(r,n={},a,s){this.shouldThrowOnError=!1;const i=new URL(r);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tW),n),this.fetch=wO(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return vt(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(r);return{data:yield uv(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}getBucket(r){return vt(this,void 0,void 0,function*(){try{return{data:yield uv(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}createBucket(r){return vt(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield oo(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jr(s))return{data:null,error:s};throw s}})}updateBucket(r,n){return vt(this,void 0,void 0,function*(){try{return{data:yield vC(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jr(a))return{data:null,error:a};throw a}})}emptyBucket(r){return vt(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}deleteBucket(r){return vt(this,void 0,void 0,function*(){try{return{data:yield _O(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class Che{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tW),n),this.fetch=wO(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return vt(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}listBuckets(r){return vt(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&n.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&n.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&n.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&n.set("sortOrder",r.sortOrder),r!=null&&r.search&&n.set("search",r.search);const a=n.toString(),s=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield uv(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}deleteBucket(r){return vt(this,void 0,void 0,function*(){try{return{data:yield _O(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}}const SO={"X-Client-Info":`storage-js/${eW}`,"Content-Type":"application/json"};class rW extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function si(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class jk extends rW{constructor(r,n,a){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ehe extends rW{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var hM;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(hM||(hM={}));const jO=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...n)=>Bp(async()=>{const{default:a}=await Promise.resolve().then(()=>Bf);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)},The=e=>{if(typeof e!="object"||e===null)return!1;const r=Object.getPrototypeOf(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mM=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ahe=(e,r,n)=>vt(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const c=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";r(new jk(mM(o),s,c))}).catch(()=>{const o=s+"",c=i.statusText||`HTTP ${s} error`;r(new jk(c,s,o))});else{const o=s+"",c=i.statusText||`HTTP ${s} error`;r(new jk(c,s,o))}}else r(new Ehe(mM(e),e))}),Ohe=(e,r,n,a)=>{const s={method:e,headers:(r==null?void 0:r.headers)||{}};return a?(The(a)?(s.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),s.body=JSON.stringify(a)):s.body=a,Object.assign(Object.assign({},s),n)):s};function Phe(e,r,n,a,s,i){return vt(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,Ohe(r,a,s,i)).then(u=>{if(!u.ok)throw u;if(a!=null&&a.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>Ahe(u,c,a))})})}function ii(e,r,n,a,s){return vt(this,void 0,void 0,function*(){return Phe(e,"POST",r,a,s,n)})}class Dhe{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},SO),n),this.fetch=jO(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return vt(this,void 0,void 0,function*(){try{return{data:(yield ii(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}getIndex(r,n){return vt(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(si(a))return{data:null,error:a};throw a}})}listIndexes(r){return vt(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return vt(this,void 0,void 0,function*(){try{return{data:(yield ii(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(si(a))return{data:null,error:a};throw a}})}}class Rhe{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},SO),n),this.fetch=jO(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return vt(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ii(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}getVectors(r){return vt(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}listVectors(r){return vt(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield ii(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}queryVectors(r){return vt(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}deleteVectors(r){return vt(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ii(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}}class Ihe{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},SO),n),this.fetch=jO(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return vt(this,void 0,void 0,function*(){try{return{data:(yield ii(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}getBucket(r){return vt(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}listBuckets(){return vt(this,arguments,void 0,function*(r={}){try{return{data:yield ii(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}deleteBucket(r){return vt(this,void 0,void 0,function*(){try{return{data:(yield ii(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}})}}class Mhe extends Ihe{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new Fhe(this.url,this.headers,r,this.fetch)}}class Fhe extends Dhe{constructor(r,n,a,s){super(r,n,s),this.vectorBucketName=a}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return vt(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return vt(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return vt(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return vt(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new Lhe(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class Lhe extends Rhe{constructor(r,n,a,s,i){super(r,n,i),this.vectorBucketName=a,this.indexName=s}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return vt(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return vt(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return vt(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return vt(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return vt(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class $he extends Nhe{constructor(r,n={},a,s){super(r,n,a,s)}from(r){return new khe(this.url,this.headers,r,this.fetch)}get vectors(){return new Mhe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Che(this.url+"/iceberg",this.headers,this.fetch)}}const Bhe="2.78.0";let q0="";typeof Deno<"u"?q0="deno":typeof document<"u"?q0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?q0="react-native":q0="node";const Uhe={"X-Client-Info":`supabase-js-${q0}/${Bhe}`},Vhe={headers:Uhe},zhe={schema:"public"},Whe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hhe={},qhe=e=>{let r;return e?r=e:typeof fetch>"u"?r=Oz:r=fetch,(...n)=>r(...n)},Khe=()=>typeof Headers>"u"?Pz:Headers,Ghe=(e,r,n)=>{const a=qhe(n),s=Khe();return async(i,o)=>{var c;const u=(c=await r())!==null&&c!==void 0?c:e;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),a(i,Object.assign(Object.assign({},o),{headers:d}))}};function Yhe(e){return e.endsWith("/")?e:e+"/"}function Xhe(e,r){var n,a;const{db:s,auth:i,realtime:o,global:c}=e,{db:u,auth:d,realtime:f,global:h}=r,m={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),c),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(a=c==null?void 0:c.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function Jhe(e){const r=e==null?void 0:e.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Yhe(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const nW="2.78.0",yh=30*1e3,xC=3,kk=xC*yh,Qhe="http://localhost:9999",Zhe="supabase.auth.token",eme={"X-Client-Info":`gotrue-js/${nW}`},yC="X-Supabase-Api-Version",aW={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tme=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rme=10*60*1e3;class dv extends Error{constructor(r,n,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function _t(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class nme extends dv{constructor(r,n,a){super(r,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function ame(e){return _t(e)&&e.name==="AuthApiError"}class jd extends dv{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class td extends dv{constructor(r,n,a,s){super(r,a,s),this.name=n,this.status=a}}class no extends td{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sme(e){return _t(e)&&e.name==="AuthSessionMissingError"}class ih extends td{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hy extends td{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class qy extends td{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ime(e){return _t(e)&&e.name==="AuthImplicitGrantRedirectError"}class pM extends td{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bC extends td{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function Nk(e){return _t(e)&&e.name==="AuthRetryableFetchError"}class gM extends td{constructor(r,n,a){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class wC extends td{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vM=` 	
\r=`.split(""),ome=(()=>{const e=new Array(128);for(let r=0;r<e.length;r+=1)e[r]=-1;for(let r=0;r<vM.length;r+=1)e[vM[r].charCodeAt(0)]=-2;for(let r=0;r<Rb.length;r+=1)e[Rb[r].charCodeAt(0)]=r;return e})();function xM(e,r,n){if(e!==null)for(r.queue=r.queue<<8|e,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(Rb[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(Rb[a]),r.queuedBits-=6}}function sW(e,r,n){const a=ome[e];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function yM(e){const r=[],n=o=>{r.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{ume(o,a,n)};for(let o=0;o<e.length;o+=1)sW(e.charCodeAt(o),s,i);return r.join("")}function lme(e,r){if(e<=127){r(e);return}else if(e<=2047){r(192|e>>6),r(128|e&63);return}else if(e<=65535){r(224|e>>12),r(128|e>>6&63),r(128|e&63);return}else if(e<=1114111){r(240|e>>18),r(128|e>>12&63),r(128|e>>6&63),r(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function cme(e,r){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}lme(a,r)}}function ume(e,r,n){if(r.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=e&31;else if(r.utf8seq===3)r.codepoint=e&15;else if(r.utf8seq===4)r.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|e&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function sm(e){const r=[],n={queue:0,queuedBits:0},a=s=>{r.push(s)};for(let s=0;s<e.length;s+=1)sW(e.charCodeAt(s),n,a);return new Uint8Array(r)}function dme(e){const r=[];return cme(e,n=>r.push(n)),new Uint8Array(r)}function Id(e){const r=[],n={queue:0,queuedBits:0},a=s=>{r.push(s)};return e.forEach(s=>xM(s,n,a)),xM(null,n,a),r.join("")}function fme(e){return Math.round(Date.now()/1e3)+e}function hme(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const r=Math.random()*16|0;return(e=="x"?r:r&3|8).toString(16)})}const Xa=()=>typeof window<"u"&&typeof document<"u",ud={tested:!1,writable:!1},iW=()=>{if(!Xa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ud.tested)return ud.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ud.tested=!0,ud.writable=!0}catch{ud.tested=!0,ud.writable=!1}return ud.writable};function mme(e){const r={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{r[i]=s})}catch{}return n.searchParams.forEach((a,s)=>{r[s]=a}),r}const oW=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...n)=>Bp(async()=>{const{default:a}=await Promise.resolve().then(()=>Bf);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)},pme=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",bh=async(e,r,n)=>{await e.setItem(r,JSON.stringify(n))},dd=async(e,r)=>{const n=await e.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},zc=async(e,r)=>{await e.removeItem(r)};class eS{constructor(){this.promise=new eS.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}eS.promiseConstructor=Promise;function Ck(e){const r=e.split(".");if(r.length!==3)throw new wC("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!tme.test(r[a]))throw new wC("JWT not in base64url format");return{header:JSON.parse(yM(r[0])),payload:JSON.parse(yM(r[1])),signature:sm(r[2]),raw:{header:r[0],payload:r[1]}}}async function gme(e){return await new Promise(r=>{setTimeout(()=>r(null),e)})}function vme(e,r){return new Promise((a,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!r(i,null,o)){a(o);return}}catch(o){if(!r(i,o)){s(o);return}}})()})}function xme(e){return("0"+e.toString(16)).substr(-2)}function yme(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(r),Array.from(r,xme).join("")}async function bme(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(a);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function wme(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await bme(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oh(e,r,n=!1){const a=yme();let s=a;n&&(s+="/PASSWORD_RECOVERY"),await bh(e,`${r}-code-verifier`,s);const i=await wme(a);return[i,a===i?"plain":"s256"]}const _me=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Sme(e){const r=e.headers.get(yC);if(!r||!r.match(_me))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function jme(e){if(!e)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(e<=r)throw new Error("JWT has expired")}function kme(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Nme=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lh(e){if(!Nme.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ek(){const e={};return new Proxy(e,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Cme(e,r){return new Proxy(e,{get:(n,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,s)}return!r.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,a,s)}})}function bM(e){return JSON.parse(JSON.stringify(e))}const xd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Eme=[502,503,504];async function wM(e){var r;if(!pme(e))throw new bC(xd(e),0);if(Eme.includes(e.status))throw new bC(xd(e),e.status);let n;try{n=await e.json()}catch(i){throw new jd(xd(i),i)}let a;const s=Sme(e);if(s&&s.getTime()>=aW["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new gM(xd(n),e.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new no}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new gM(xd(n),e.status,n.weak_password.reasons);throw new nme(xd(n),e.status||500,a)}const Tme=(e,r,n,a)=>{const s={method:e,headers:(r==null?void 0:r.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),n))};async function At(e,r,n,a){var s;const i=Object.assign({},a==null?void 0:a.headers);i[yC]||(i[yC]=aW["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const o=(s=a==null?void 0:a.query)!==null&&s!==void 0?s:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await Ame(e,r,n+c,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(u):{data:Object.assign({},u),error:null}}async function Ame(e,r,n,a,s,i){const o=Tme(r,a,s,i);let c;try{c=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new bC(xd(u),0)}if(c.ok||await wM(c),a!=null&&a.noResolveJson)return c;try{return await c.json()}catch(u){await wM(u)}}function ao(e){var r;let n=null;Dme(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=fme(e.expires_in)));const a=(r=e.user)!==null&&r!==void 0?r:e;return{data:{session:n,user:a},error:null}}function _M(e){const r=ao(e);return!r.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(r.data.weak_password=e.weak_password),r}function tu(e){var r;return{data:{user:(r=e.user)!==null&&r!==void 0?r:e},error:null}}function Ome(e){return{data:e,error:null}}function Pme(e){const{action_link:r,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i}=e,o=Qu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:r,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function SM(e){return e}function Dme(e){return e.access_token&&e.refresh_token&&e.expires_in}const Tk=["global","local","others"];class Rme{constructor({url:r="",headers:n={},fetch:a}){this.url=r,this.headers=n,this.fetch=oW(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=Tk[0]){if(Tk.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tk.join(", ")}`);try{return await At(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,n={}){try{return await At(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:tu})}catch(a){if(_t(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:n}=r,a=Qu(r,["options"]),s=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(s.new_email=a==null?void 0:a.newEmail,delete s.newEmail),await At(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Pme,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(_t(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await At(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:tu})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,a,s,i,o,c,u;try{const d={nextPage:null,lastPage:0,total:0},f=await At(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=r==null?void 0:r.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:SM});if(f.error)throw f.error;const h=await f.json(),m=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(u=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);d[`${x}Page`]=v}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(_t(d))return{data:{users:[]},error:d};throw d}}async getUserById(r){lh(r);try{return await At(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:tu})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){lh(r);try{return await At(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:tu})}catch(a){if(_t(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,n=!1){lh(r);try{return await At(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:tu})}catch(a){if(_t(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){lh(r.userId);try{const{data:n,error:a}=await At(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:a}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _deleteFactor(r){lh(r.userId),lh(r.id);try{return{data:await At(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,a,s,i,o,c,u;try{const d={nextPage:null,lastPage:0,total:0},f=await At(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=r==null?void 0:r.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:SM});if(f.error)throw f.error;const h=await f.json(),m=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(u=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);d[`${x}Page`]=v}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(_t(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(r){try{return await At(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await At(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await At(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(_t(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(r){try{return await At(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await At(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}}function jM(e={}){return{getItem:r=>e[r]||null,setItem:(r,n)=>{e[r]=n},removeItem:r=>{delete e[r]}}}const ch={debug:!!(globalThis&&iW()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lW extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Ime extends lW{}async function Mme(e,r,n){ch.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),ch.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){ch.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ch.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(r===0)throw ch.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ime(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ch.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Fme(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cW(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Lme(e){return parseInt(e,16)}function $me(e){const r=new TextEncoder().encode(e);return"0x"+Array.from(r,a=>a.toString(16).padStart(2,"0")).join("")}function Bme(e){var r;const{chainId:n,domain:a,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:c,requestId:u,resources:d,scheme:f,uri:h,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((r=e.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=cW(e.address),g=f?`${f}://${a}`:a,v=e.statement?`${e.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${p}

${v}`;let w=`URI: ${h}
Version: ${m}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),c&&(w+=`
Not Before: ${c.toISOString()}`),u&&(w+=`
Request ID: ${u}`),d){let b=`
Resources:`;for(const _ of d){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);b+=`
- ${_}`}w+=b}return`${x}
${w}`}class Tn extends Error{constructor({message:r,code:n,cause:a,name:s}){var i;super(r,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=s??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Ib extends Tn{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function Ume({error:e,options:r}){var n,a,s;const{publicKey:i}=r;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Tn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Tn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(r.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Tn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Tn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Tn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Tn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Tn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Tn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(uW(o)){if(i.rp.id!==o)return new Tn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Tn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Tn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Tn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Tn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Vme({error:e,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Tn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Tn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(uW(a)){if(n.rpId!==a)return new Tn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Tn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Tn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Tn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class zme{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const Wme=new zme;function Hme(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:r,user:n,excludeCredentials:a}=e,s=Qu(e,["challenge","user","excludeCredentials"]),i=sm(r).buffer,o=Object.assign(Object.assign({},n),{id:sm(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:i,user:o});if(a&&a.length>0){c.excludeCredentials=new Array(a.length);for(let u=0;u<a.length;u++){const d=a[u];c.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:sm(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function qme(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:r,allowCredentials:n}=e,a=Qu(e,["challenge","allowCredentials"]),s=sm(r).buffer,i=Object.assign(Object.assign({},a),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const c=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},c),{id:sm(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return i}function Kme(e){var r;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Id(new Uint8Array(e.response.attestationObject)),clientDataJSON:Id(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Gme(e){var r;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Id(new Uint8Array(s.authenticatorData)),clientDataJSON:Id(new Uint8Array(s.clientDataJSON)),signature:Id(new Uint8Array(s.signature)),userHandle:s.userHandle?Id(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function uW(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function kM(){var e,r;return!!(Xa()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Yme(e){try{const r=await navigator.credentials.create(e);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ib("Browser returned unexpected credential type",r)}:{data:null,error:new Ib("Empty credential response",r)}}catch(r){return{data:null,error:Ume({error:r,options:e})}}}async function Xme(e){try{const r=await navigator.credentials.get(e);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ib("Browser returned unexpected credential type",r)}:{data:null,error:new Ib("Empty credential response",r)}}catch(r){return{data:null,error:Vme({error:r,options:e})}}}const Jme={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Qme={userVerification:"preferred",hints:["security-key"]};function Mb(...e){const r=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))a[i]=o;else if(n(o))a[i]=o;else if(r(o)){const c=a[i];r(c)?a[i]=Mb(c,o):a[i]=Mb(o)}else a[i]=o}return a}function Zme(e,r){return Mb(Jme,e,r||{})}function epe(e,r){return Mb(Qme,e,r||{})}class tpe{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:a,signal:s},i){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!o)return{data:null,error:c};const u=s??Wme.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${a}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=Zme(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await Yme({publicKey:d,signal:u});return f?{data:{factorId:r,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=epe(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await Xme(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:r,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(o){return _t(o)?{data:null,error:o}:{data:null,error:new jd("Unexpected error in challenge",o)}}}async _verify({challengeId:r,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:a})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new dv("rpId is required for WebAuthn authentication")};try{if(!kM())return{data:null,error:new jd("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:a},signal:s},{request:i});if(!o)return{data:null,error:c};const{webauthn:u}=o;return this._verify({factorId:r,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:a,credential_response:u.credential_response}})}catch(o){return _t(o)?{data:null,error:o}:{data:null,error:new jd("Unexpected error in authenticate",o)}}}async _register({friendlyName:r,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new dv("rpId is required for WebAuthn registration")};try{if(!kM())return{data:null,error:new jd("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:r});if(!o)return await this.client.mfa.listFactors().then(f=>{var h;return(h=f.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===r&&m.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:c};const{data:u,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:s},{create:i});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:a,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(o){return _t(o)?{data:null,error:o}:{data:null,error:new jd("Unexpected error in register",o)}}}}Fme();const rpe={url:Qhe,storageKey:Zhe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eme,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function NM(e,r,n){return await n()}const uh={};class fv{get jwks(){var r,n;return(n=(r=uh[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){uh[this.storageKey]=Object.assign(Object.assign({},uh[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=uh[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){uh[this.storageKey]=Object.assign(Object.assign({},uh[this.storageKey]),{cachedAt:r})}constructor(r){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fv.nextInstanceID,fv.nextInstanceID+=1,this.instanceID>0&&Xa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},rpe),r);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Rme({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=oW(s.fetch),this.lock=s.lock||NM,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Xa()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Mme:this.lock=NM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new tpe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:iW()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jM(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=jM(this.memoryStorage)),Xa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nW}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const n=mme(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),Xa()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ime(i)){const u=(r=i.details)===null||r===void 0?void 0:r.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _t(n)?{error:n}:{error:new jd("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,a,s;try{const i=await At(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.captchaToken}},xform:ao}),{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(_t(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(r){var n,a,s;try{let i;if("email"in r){const{email:f,password:h,options:m}=r;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await oh(this.storage,this.storageKey)),i=await At(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:g},xform:ao})}else if("phone"in r){const{phone:f,password:h,options:m}=r;i=await At(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ao})}else throw new Hy("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(_t(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(r){try{let n;if("email"in r){const{email:i,password:o,options:c}=r;n=await At(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:_M})}else if("phone"in r){const{phone:i,password:o,options:c}=r;n=await At(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:_M})}else throw new Hy("You must provide either an email or phone number and a password");const{data:a,error:s}=n;return s?{data:{user:null,session:null},error:s}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ih}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(n){if(_t(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(r){var n,a,s,i;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=r.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=r.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,a,s,i,o,c,u,d,f,h,m;let p,g;if("message"in r)p=r.message,g=r.signature;else{const{chain:v,wallet:x,statement:w,options:b}=r;let _;if(Xa())if(typeof x=="object")_=x;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")_=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),j=await _.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=cW(j[0]);let k=(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!k){const C=await _.request({method:"eth_chainId"});k=Lme(C)}const E={domain:S.host,address:N,statement:w,uri:S.href,version:"1",chainId:k,nonce:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=b==null?void 0:b.signInWithEthereum)===null||f===void 0?void 0:f.resources};p=Bme(E),g=await _.request({method:"personal_sign",params:[$me(p),N]})}try{const{data:v,error:x}=await At(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((h=r.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=r.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ao});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new ih}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(_t(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(r){var n,a,s,i,o,c,u,d,f,h,m,p;let g,v;if("message"in r)g=r.message,v=r.signature;else{const{chain:x,wallet:w,statement:b,options:_}=r;let S;if(Xa())if(typeof w=="object")S=w;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))S=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const j=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const N=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),b?{statement:b}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),v=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(a=_==null?void 0:_.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((d=_==null?void 0:_.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(f=_==null?void 0:_.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=N}}try{const{data:x,error:w}=await At(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Id(v)},!((m=r.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=r.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ao});if(w)throw w;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new ih}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:w})}catch(x){if(_t(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(r){const n=await dd(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(n??"").split("/");try{const{data:i,error:o}=await At(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:ao});if(await zc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ih}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(_t(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(r){try{const{options:n,provider:a,token:s,access_token:i,nonce:o}=r,c=await At(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ao}),{data:u,error:d}=c;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new ih}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(n){if(_t(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(r){var n,a,s,i,o;try{if("email"in r){const{email:c,options:u}=r;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await oh(this.storage,this.storageKey));const{error:h}=await At(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(a=u==null?void 0:u.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in r){const{phone:c,options:u}=r,{data:d,error:f}=await At(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f}}throw new Hy("You must provide either an email or phone number.")}catch(c){if(_t(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(r){var n,a;try{let s,i;"options"in r&&(s=(n=r.options)===null||n===void 0?void 0:n.redirectTo,i=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:c}=await At(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ao});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(_t(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(r){var n,a,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await oh(this.storage,this.storageKey)),await At(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=r==null?void 0:r.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Ome})}catch(i){if(_t(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)throw a;if(!n)throw new no;const{error:s}=await At(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(r){if(_t(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:a,type:s,options:i}=r,{error:o}=await At(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in r){const{phone:a,type:s,options:i}=r,{data:o,error:c}=await At(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c}}throw new Hy("You must provide either an email or phone number and a type")}catch(n){if(_t(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await dd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<kk:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const o=await dd(this.userStorage,this.storageKey+"-user");o!=null&&o.user?r.user=o.user:r.user=Ek()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};r.user=Cme(r.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:s,error:i}=await this._callRefreshToken(r.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await At(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:tu}):await this._useSession(async n=>{var a,s,i;const{data:o,error:c}=n;if(c)throw c;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new no}:await At(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:tu})})}catch(n){if(_t(n))return sme(n)&&(await this._removeSession(),await zc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async a=>{const{data:s,error:i}=a;if(i)throw i;if(!s.session)throw new no;const o=s.session;let c=null,u=null;this.flowType==="pkce"&&r.email!=null&&([c,u]=await oh(this.storage,this.storageKey));const{data:d,error:f}=await At(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:tu});if(f)throw f;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(a){if(_t(a))return{data:{user:null},error:a};throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new no;const n=Date.now()/1e3;let a=n,s=!0,i=null;const{payload:o}=Ck(r.access_token);if(o.exp&&(a=o.exp,s=a<=n),s){const{data:c,error:u}=await this._callRefreshToken(r.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:u}=await this._getUser(r.access_token);if(u)throw u;i={access_token:r.access_token,refresh_token:r.refresh_token,user:c.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(_t(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var a;if(!r){const{data:o,error:c}=n;if(c)throw c;r=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new no;const{data:s,error:i}=await this._callRefreshToken(r.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(_t(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(r,n){try{if(!Xa())throw new qy("No browser detected.");if(r.error||r.error_description||r.error_code)throw new qy(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new pM("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qy("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new pM("No code detected.");const{data:b,error:_}=await this._exchangeCodeForSession(r.code);if(_)throw _;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:c,expires_at:u,token_type:d}=r;if(!i||!c||!o||!d)throw new qy("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(c);let m=f+h;u&&(m=parseInt(u));const p=m-f;p*1e3<=yh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=m-h;f-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,m,f):f-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,m,f);const{data:v,error:x}=await this._getUser(i);if(x)throw x;const w={provider_token:a,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:r.type},error:null}}catch(a){if(_t(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await dd(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{error:i};const o=(a=s.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:c}=await this.admin.signOut(o,r);if(c&&!(ame(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return r!=="others"&&(await this._removeSession(),await zc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const n=hme(),a={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async n=>{var a,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",r,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",i),console.error(i)}})}async resetPasswordForEmail(r,n={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await oh(this.storage,this.storageKey,!0));try{return await At(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(_t(i))return{data:null,error:i};throw i}}async getUserIdentities(){var r;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:a,error:s}=await this._useSession(async i=>{var o,c,u,d,f;const{data:h,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(o=r.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=r.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await At(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Xa()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:r.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(_t(a))return{data:{provider:r.provider,url:null},error:a};throw a}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var a;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:c,token:u,access_token:d,nonce:f}=r,h=await At(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:c,id_token:u,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ao}),{data:m,error:p}=h;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new ih}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:p})}catch(s){if(_t(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var a,s;const{data:i,error:o}=n;if(o)throw o;return await At(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await vme(async s=>(s>0&&await gme(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await At(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:ao})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Nk(i)&&Date.now()+o-a<yh})}catch(a){if(this._debug(n,"error",a),_t(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",a),Xa()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await dd(this.storage,this.storageKey);if(s&&this.userStorage){let o=await dd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await bh(this.userStorage,this.storageKey+"-user",o)),s.user=(r=o==null?void 0:o.user)!==null&&r!==void 0?r:Ek()}else if(s&&!s.user&&!s.user){const o=await dd(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await zc(this.storage,this.storageKey+"-user"),await bh(this.storage,this.storageKey,s)):s.user=Ek()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<kk;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${kk}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Nk(o)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(s.access_token);!c&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(a,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var n,a;if(!r)throw new no;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new eS;const{data:i,error:o}=await this._refreshAccessToken(r);if(o)throw o;if(!i.session)throw new no;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={data:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(s,"error",i),_t(i)){const o={data:null,error:i};return Nk(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(r,n,a=!0){const s=`#_notifyAllSubscribers(${r})`;this._debug(s,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(r,n)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await bh(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=bM(s);await bh(this.storage,this.storageKey,i)}else{const s=bM(n);await bh(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await zc(this.storage,this.storageKey),await zc(this.storage,this.storageKey+"-code-verifier"),await zc(this.storage,this.storageKey+"-user"),this.userStorage&&await zc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Xa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),yh);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-r)/yh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${yh}ms, refresh threshold is ${xC} ticks`),s<=xC&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof lW)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,a){const s=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,o]=await oh(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(c.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);s.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${s.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;return i?{data:null,error:i}:await At(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _enroll(r){try{return await this._useSession(async n=>{var a,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:u,error:d}=await At(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return d?{data:null,error:d}:(r.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?Kme(r.webauthn.credential_response):Gme(r.webauthn.credential_response)})}:{code:r.code}),{data:c,error:u}=await At(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:o,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(n){if(_t(n))return{data:null,error:n};throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=await At(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Hme(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:qme(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(_t(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(r){const{data:n,error:a}=await this._challenge({factorId:r.factorId});return a?{data:null,error:a}:await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:a},error:s}=await this.getSession();if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ck(a.access_token);let o=null;i.aal&&(o=i.aal);let c=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;return s?{data:null,error:s}:a?await At(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new no}})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return{data:null,error:i};if(!s)return{data:null,error:new no};const o=await At(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Xa()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(a){if(_t(a))return{data:null,error:a};throw a}}async _denyAuthorization(r,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return{data:null,error:i};if(!s)return{data:null,error:new no};const o=await At(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Xa()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(a){if(_t(a))return{data:null,error:a};throw a}}async fetchJwk(r,n={keys:[]}){let a=n.keys.find(c=>c.kid===r);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(c=>c.kid===r),a&&this.jwks_cached_at+rme>s)return a;const{data:i,error:o}=await At(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,a=i.keys.find(c=>c.kid===r),!a)?null:a}async getClaims(r,n={}){try{let a=r;if(!a){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};a=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:c,payload:u}}=Ck(a);n!=null&&n.allowExpired||jme(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:p}=await this.getUser(a);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const f=kme(s.alg),h=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,o,dme(`${c}.${u}`)))throw new wC("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}}}fv.nextInstanceID=0;const npe=fv;class ape extends npe{constructor(r){super(r)}}class spe{constructor(r,n,a){var s,i,o;this.supabaseUrl=r,this.supabaseKey=n;const c=Jhe(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:zhe,realtime:Hhe,auth:Object.assign(Object.assign({},Whe),{storageKey:u}),global:Vhe},f=Xhe(a??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Ghe(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Qfe(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new $he(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Wfe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,a)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:i,storageKey:o,flowType:c,lock:u,debug:d},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ape({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:o,autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:i,flowType:c,lock:u,debug:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new phe(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(r,n,a){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ipe=(e,r,n)=>new spe(e,r,n);function ope(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}ope()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lpe="https://studio.middar.com/",cpe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlzcyI6InN1cGFiYXNlLWRlbW8iLCJpYXQiOjE3NjQwMDE2ODQsImV4cCI6MjA3OTU3NzY4NH0.sHsfXuCJ0n1y6g29oFxifU1KCkSZzCzZ7_x1zQDbFDY",Zr=ipe(lpe,cpe,{auth:{autoRefreshToken:!1,persistSession:!0,detectSessionInUrl:!0,storageKey:"middar_crm_session"}});function upe({onToggleSidebar:e}){var S,j,N;const{breadcrumbs:r}=px(),{user:n,logout:a}=xr(),{t:s}=Kt(),i=zs(),{setTheme:o}=sie(),[c,u]=y.useState(!1),[d,f]=y.useState(""),[h,m]=y.useState(""),[p,g]=y.useState(""),[v,x]=y.useState(!1),w=()=>{try{a(),i("/login")}catch(k){console.error("Logout failed:",k),i("/login")}},b=()=>{u(!0)},_=async k=>{if(k.preventDefault(),!v){if(!d.trim()){g(s("settings.newPasswordRequired"));return}if(d.length<6){g(s("settings.passwordTooShort"));return}if(d!==h){g(s("settings.passwordsDoNotMatch"));return}g(""),x(!0);try{const{error:E}=await Zr.auth.updateUser({password:d});if(E)throw E;u(!1),f(""),m(""),alert(s("settings.passwordChangedSuccessfully"))}catch(E){console.error("Password change failed:",E),g(E.message||s("settings.passwordChangeFailed"))}finally{x(!1)}}};return l.jsxs("header",{className:"border-b bg-background/80 backdrop-blur-md sticky top-0 z-50 shadow-sm",children:[l.jsxs("div",{className:"h-16 flex items-center px-4 md:px-6 gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:e,className:"text-foreground hover:bg-accent hover:text-accent-foreground p-2 rounded-lg transition-all","aria-label":"Toggle sidebar",children:l.jsx(Oie,{className:"h-5 w-5"})}),r&&r.length>0&&l.jsx("div",{className:"hidden md:block",children:l.jsx(Goe,{items:r})})]}),l.jsx("div",{className:"hidden md:flex flex-1 max-w-md",children:l.jsxs("div",{className:"relative w-full",children:[l.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(We,{type:"search",placeholder:s("common.search","Search..."),className:"pl-10 pr-4 h-9 bg-muted/50 border-0 focus-visible:ring-1"}),l.jsxs("kbd",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none hidden lg:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[l.jsx("span",{className:"text-xs",children:""}),"K"]})]})}),l.jsx("div",{className:"flex-1"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:Te((n==null?void 0:n.profile)||{},"user_name")||(n==null?void 0:n.email)}),l.jsx(fV,{}),l.jsxs("button",{className:"text-foreground hover:text-muted-foreground relative transition-colors",title:s("common.notifications"),children:[l.jsx(vie,{className:"h-5 w-5"}),l.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-primary flex items-center justify-center",children:l.jsx("span",{className:"h-2 w-2 rounded-full bg-primary-foreground"})}),l.jsx("span",{className:"sr-only",children:s("common.notifications")})]}),l.jsxs(dO,{children:[l.jsx(fO,{asChild:!0,children:l.jsxs(le,{variant:"ghost",size:"icon",className:"h-9 w-9 hover:bg-accent",title:s("navigation.settings"),children:[l.jsxs(Rs,{className:"h-8 w-8",children:[l.jsx(Do,{src:(S=n==null?void 0:n.profile)==null?void 0:S.avatar}),l.jsx(Is,{className:"bg-primary/10 text-primary font-semibold text-sm",children:(j=n==null?void 0:n.email)==null?void 0:j.charAt(0).toUpperCase()})]}),l.jsx("span",{className:"sr-only",children:s("navigation.settings")})]})}),l.jsxs(Y_,{align:"end",className:"w-56",children:[l.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:l.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[l.jsx("p",{className:"font-medium text-sm",children:Te((n==null?void 0:n.profile)||{},"user_name")||((N=n==null?void 0:n.email)==null?void 0:N.split("@")[0])}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:n==null?void 0:n.email})]})}),l.jsx(uC,{}),l.jsxs(Xl,{onClick:()=>o("light"),children:[l.jsx(Fie,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:s("theme.light","Light")})]}),l.jsxs(Xl,{onClick:()=>o("dark"),children:[l.jsx(Die,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:s("theme.dark","Dark")})]}),l.jsxs(Xl,{onClick:()=>o("system"),children:[l.jsx(t9,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:s("theme.system","System")})]}),l.jsx(uC,{}),l.jsxs(Xl,{onClick:b,children:[l.jsx(e9,{className:"h-4 w-4 mr-2"}),s("settings.changePassword")]}),l.jsxs(Xl,{onClick:w,className:"text-destructive focus:text-destructive",children:[l.jsx(Uie,{className:"h-4 w-4 mr-2"}),s("buttons.logout")]})]})]})]})]}),l.jsx(On,{open:c,onOpenChange:u,children:l.jsxs(gn,{className:"sm:max-w-[425px]",children:[l.jsxs(vn,{children:[l.jsx(xn,{children:s("settings.changePassword")}),l.jsx(Va,{children:s("settings.changePasswordDescription")})]}),l.jsxs("form",{onSubmit:_,className:"space-y-4",children:[p&&l.jsx(Vm,{variant:"destructive",children:l.jsx(zm,{children:p})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"newPassword",children:s("settings.newPassword")}),l.jsx(We,{id:"newPassword",type:"password",value:d,onChange:k=>f(k.target.value),placeholder:s("settings.newPasswordPlaceholder"),required:!0,minLength:6})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"confirmPassword",children:s("settings.confirmPassword")}),l.jsx(We,{id:"confirmPassword",type:"password",value:h,onChange:k=>m(k.target.value),placeholder:s("settings.confirmPasswordPlaceholder"),required:!0,minLength:6})]}),l.jsxs(Ua,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[l.jsx(le,{type:"button",variant:"outline",onClick:()=>u(!1),className:"w-full sm:w-auto",children:s("buttons.cancel")}),l.jsx(le,{type:"submit",disabled:v||!d.trim()||!h.trim(),className:"w-full sm:w-auto",children:s(v?"settings.changingPassword":"settings.changePassword")})]})]})]})})]})}const Sl=J_,dW=gO,dpe=Q_,fW=y.forwardRef(({className:e,...r},n)=>l.jsx(Lp,{className:ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:n}));fW.displayName=Lp.displayName;const fpe=xx("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Mo=y.forwardRef(({side:e="right",className:r,children:n,...a},s)=>l.jsxs(dpe,{children:[l.jsx(fW,{}),l.jsxs($p,{ref:s,className:ge(fpe({side:e}),r),...a,children:[n,l.jsxs(Z_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(Po,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Mo.displayName=$p.displayName;const wc=({className:e,...r})=>l.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",e),...r});wc.displayName="SheetHeader";const jl=y.forwardRef(({className:e,...r},n)=>l.jsx(Ex,{ref:n,className:ge("text-lg font-semibold text-foreground",e),...r}));jl.displayName=Ex.displayName;const Ox=y.forwardRef(({className:e,...r},n)=>l.jsx(Tx,{ref:n,className:ge("text-sm text-muted-foreground",e),...r}));Ox.displayName=Tx.displayName;function _C({children:e}){const[r,n]=y.useState(!0),[a,s]=y.useState(!1);y.useEffect(()=>{const c=()=>{s(window.innerWidth<1024),window.innerWidth<1024?n(!1):n(!0)};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const i=()=>{n(!r)},o=()=>{a&&n(!1)};return l.jsxs("div",{className:"h-screen bg-background w-full flex flex-col",children:[l.jsx(upe,{onToggleSidebar:i}),l.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[!a&&l.jsx("aside",{className:ge("bg-sidebar transition-all duration-300 ease-in-out hidden lg:block",r?"w-60":"w-0 overflow-hidden"),style:{height:"calc(100vh - 64px)"},children:l.jsx(TI,{onNavigate:o})}),a&&l.jsx(Sl,{open:r,onOpenChange:n,children:l.jsxs(Mo,{side:nr()?"right":"left",className:"p-0 w-60 [&>button]:hidden",children:[l.jsx(jl,{className:"sr-only",children:"Navigation Menu"}),l.jsx(Ox,{className:"sr-only",children:"Application navigation sidebar"}),l.jsx(TI,{onNavigate:o})]})}),l.jsx("main",{className:"flex-1 overflow-hidden bg-background w-full",children:l.jsx("div",{className:"h-full p-3 sm:p-4 md:p-6 pt-2 overflow-y-auto",children:e})})]})]})}const is={async getAll(){try{console.log("[stageService] Fetching all stages...");const e=await G.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch stages:",e),e}},async getGlobalStages(){try{console.log("[stageService] Fetching global stages...");const e=await G.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} global stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch global stages:",e),e}},async getByType(e){try{console.log(`[stageService] Fetching stages for type: ${e}...`);const r=await G.stages.list({exact_filters:{stage_type:e},sort_by:"stager_order_index",sort_order:"asc"});return console.log(`[stageService] Successfully fetched ${r.data.length} ${e} stages`),r.data}catch(r){throw console.error(`[stageService] Failed to fetch ${e} stages: `,r),r}},async create(e){try{const r=await this.getAll(),n=r.length>0?Math.max(...r.map(o=>o.stager_order_index||0)):-1,a=e.stager_order_index??n+1,s={stage_name:e.stage_name,stage_name_ar:e.stage_name_ar||null,stage_type:e.stage_type,stager_order_index:a,color:e.color,color_var:e.color_var};return await G.stages.create(s)}catch(r){throw console.error("[stageService] Failed to create stage:",r),r}},async update(e,r){try{const n=bl(r,{stage_name:"stage_name"});await G.stages.update(e,n)}catch(n){throw console.error("[stageService] Failed to update stage:",n),n}},async delete(e){try{await G.stages.delete(e)}catch(r){throw console.error("[stageService] Failed to delete stage:",r),r}}},dn={async getAll(){try{console.log("[userService] Fetching all users...");const e=await G.Users.list();return console.log(`[userService] Successfully fetched ${e.data.length} users`),e.data}catch(e){throw console.error("[userService] Failed to fetch users:",e),e}},async getCount(){return G.count("Users")},async getById(e){try{const r=await G.Users.list({exact_filters:{userid:e},pageSize:1});return r.data&&r.data.length>0?r.data[0]:null}catch(r){return console.error("[userService] Failed to fetch user:",r),null}},async getByAuthId(e){try{return(await G.Users.list({exact_filters:{userid:e}})).data[0]||null}catch(r){return console.error("[userService] Failed to fetch user by auth ID:",r),null}},async update(e,r){try{const n={};r.name!==void 0&&(n.name=r.name),r.Email!==void 0&&(n.Email=r.Email),r.permissions!==void 0&&(n.permissions=r.permissions),r.mobile!==void 0&&(n.mobile=r.mobile),r.IsActive!==void 0&&(n.IsActive=r.IsActive),r.Employee!==void 0&&(n.Employee=r.Employee),await G.Users.update(e,n),console.log(`[userService] Successfully updated user ${e} `)}catch(n){throw console.error("[userService] Failed to update user:",n),n}}},Fb={async getAll(){try{console.log("[clientService] Fetching all clients...");const e=await G.Users.list({exact_filters:{user_role:"client"}});return console.log(`[clientService] Successfully fetched ${e.data.length} clients`),e.data}catch(e){throw console.error("[clientService] Failed to fetch clients:",e),e}},async getCount(){return G.count("Users")},async getById(e){try{const r=await G.Users.list({exact_filters:{userid:e},pageSize:1});if(r.data&&r.data.length>0){const n=r.data[0];if(n.user_role==="client")return n}return null}catch(r){return console.error("[clientService] Failed to fetch client:",r),null}},async create(e){try{const r={name:e.name,Email:e.Email,mobile:e.mobile,IsActive:1,Employee:0,Owner:0,permissions:e.permissions||0};return await G.Users.create(r)}catch(r){throw console.error("[clientService] Failed to create client:",r),r}}},Yc={async getAll(){try{console.log("[projectService] Fetching all projects...");const e=await G.projects.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[projectService] Successfully fetched ${e.data.length} projects`),e.data}catch(e){throw console.error("[projectService] Failed to fetch projects:",e),e}},async getCount(){return G.count("projects")},async getById(e){try{return await G.projects.get(e)}catch(r){return console.error("[projectService] Failed to fetch project:",r),null}},async create(e){try{return await G.projects.create({project_name:e.project_name,project_description:e.project_description,created_by:e.created_by,progress:e.progress||0,stage:e.stage,end_date:e.end_date})}catch(r){throw console.error("[projectService] Failed to create project:",r),r}},async update(e,r){try{const n={};r.project_name&&(n.project_name=r.project_name),r.project_description!==void 0&&(n.project_description=r.project_description),r.progress!==void 0&&(n.progress=r.progress),r.stage!==void 0&&(n.stage=r.stage),r.end_date!==void 0&&(n.end_date=r.end_date),await G.projects.update(e,n)}catch(n){throw console.error("[projectService] Failed to update project:",n),n}},async delete(e){try{await G.projects.delete(e)}catch(r){throw console.error("[projectService] Failed to delete project:",r),r}},async getByUserAuthId(e){try{console.log("[projectService] Fetching projects for user:",e);const n=(await G.projectUsers.list({exact_filters:{userid:e}})).data.map(s=>s.project_id);if(n.length===0)return[];const a=await Promise.all(n.map(s=>G.projects.get(s)));return console.log(`[projectService] Successfully fetched ${a.length} projects for user`),a.filter(s=>s!==null)}catch(r){throw console.error("[projectService] Failed to fetch projects for user:",r),r}}},ec={async getAll(){try{console.log("[taskService] Fetching all tasks...");const e=await G.tasks.list();return console.log(`[taskService] Successfully fetched ${e.data.length} tasks`),e.data}catch(e){throw console.error("[taskService] Failed to fetch tasks:",e),e}},async getCount(e={}){return G.count("tasks",e)},async getByStage(e){try{return(await G.tasks.getByStage(e)).data}catch(r){throw console.error("[taskService] Failed to fetch tasks:",r),r}},async create(e){try{const r=bl({task_name:e.task_name,stage_id:e.stage_id,assigned_to:e.assigned_to,task_status:e.task_status,due_date:e.due_date,description:e.description,userid:e.userid},{task_name:"task_name",description:"description"});return await G.tasks.create(r)}catch(r){throw console.error("[taskService] Failed to create task:",r),r}},async update(e,r){try{const n=bl(r,{task_name:"task_name",description:"description"});await G.tasks.update(e,n)}catch(n){throw console.error("[taskService] Failed to update task:",n),n}},async delete(e){try{await G.tasks.delete(e)}catch(r){throw console.error("[taskService] Failed to delete task:",r),r}}},SC={async getByTask(e){try{return(await G.comments.list({exact_filters:{task_id:e},sort_by:"created_date",sort_order:"asc"})).data}catch(r){throw console.error("[commentService] Failed to fetch comments:",r),r}},async create(e){try{return await G.comments.create({task_id:e.task_id,userid:e.userid,message:e.message})}catch(r){throw console.error("[commentService] Failed to create comment:",r),r}}},Jo={async getUserRooms(e){try{const n=(await G.roomMembers.list({exact_filters:{userid:e}})).data;if(!n||n.length===0)return[];const a=n.map(o=>o.room_id);return(await G.rooms.list({advanced_filters:[{column:"room_id",filter_type:"in",value:a}]})).data}catch(r){throw console.error("[roomService] Failed to get user rooms:",r),r}},async createRoom(e){let r=e.created_by;if(!r||r===0){const a=await dn.getByAuthId(e.userid);a&&(r=a.userid)}return await G.rooms.create({room_name:e.name,is_private:e.is_private??!0,project_id:e.project_id,created_by:r,userid:e.userid})},async addMember(e,r){await G.roomMembers.create({room_id:e,userid:r})},async getRoomMembers(e){const r=await G.roomMembers.getByRoom(e);return!r.data||r.data.length===0?[]:(await Promise.all(r.data.map(async a=>await dn.getByAuthId(a.userid)))).filter(Boolean)},async markAsRead(e,r){try{const n=await G.roomMembers.list({exact_filters:{room_id:e,userid:r}});if(n.data.length>0){const a=n.data[0].id;a&&await G.roomMembers.update(a,{last_read_at:new Date().toISOString()})}}catch(n){console.error("[roomService] Failed to mark room as read:",n)}}},hpe={async getProjectUsers(e){try{console.log("[projectUserService] Fetching users for project:",e);const r=await G.projectUsers.getByProject(e);if(!r.data||r.data.length===0)return[];const n=r.data.map(s=>s.user_id);return(await Promise.all(n.map(s=>dn.getById(s)))).filter(Boolean)}catch(r){throw console.error("[projectUserService] Failed to fetch project users:",r),r}},async addUserToProject(e,r){try{console.log("[projectUserService] Adding user",r,"to project",e),await G.projectUsers.create({project_id:e,user_id:r}),console.log("[projectUserService] Successfully added user to project")}catch(n){throw console.error("[projectUserService] Failed to add user to project:",n),n}},async removeUserFromProject(e,r){try{console.log("[projectUserService] Removing user",r,"from project",e);const n=await G.projectUsers.list({exact_filters:{project_id:e,user_id:r}});if(n.data.length>0){const a=n.data[0].id;a&&await G.projectUsers.delete(a)}console.log("[projectUserService] Successfully removed user from project")}catch(n){throw console.error("[projectUserService] Failed to remove user from project:",n),n}}},dh={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await G.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getAllWithMembers(){try{console.log("[teamService] Fetching all teams with members...");const e=await this.getAll();if(!e||e.length===0)return[];const a=((await G.teamMembers.list()).data||[]).reduce((i,o)=>(i[o.team_id]||(i[o.team_id]=[]),i[o.team_id].push({userid:o.userid,joined_at:o.joined_at||o.created_at}),i),{});return e.map(i=>({...i,team_members:a[i.team_id]||[]}))}catch(e){throw console.error("[teamService] Failed to fetch teams with members:",e),e}},async getAllTeamMembers(){try{console.log("[teamService] Fetching all team members with user details...");const r=(await G.teamMembers.list()).data,n={};return(r||[]).forEach(a=>{const s={userid:a.user_id,name:a.Users_name||a.user_name||"Unknown User",Email:a.Users_Email||a.user_email,mobile:a.Users_mobile||a.user_mobile,IsActive:a.Users_IsActive,isAdmin:a.Users_isAdmin};n[a.team_id]||(n[a.team_id]=[]),n[a.team_id].push(s)}),n}catch(e){throw console.error("[teamService] Failed to fetch all team members:",e),e}},async getById(e){try{return await G.teams.get(e)}catch(r){return console.error("[teamService] Failed to fetch team:",r),null}},async create(e){try{return await G.teams.create(e)}catch(r){throw console.error("[teamService] Failed to create team:",r),r}},async update(e,r){try{const n=bl(r,{team_name:"team_name"});await G.teams.update(e,n)}catch(n){throw console.error("[teamService] Failed to update team:",n),n}},async delete(e){try{await G.teams.delete(e)}catch(r){throw console.error("[teamService] Failed to delete team:",r),r}},async getTeamMembers(e){try{console.log("[teamService] Fetching members for team:",e);const n=(await G.teamMembers.getByTeam(e)).data;if(!n||n.length===0)return[];const a=n.map(i=>i.userid);return(await Promise.all(a.map(i=>dn.getByAuthId(i)))).filter(Boolean)}catch(r){throw console.error("[teamService] Failed to fetch team members:",r),r}},async addMember(e,r){try{const n=Number(r);if(Number.isNaN(n))throw new Error(`Invalid user ID: ${r}`);console.log("[teamService] Adding member",n,"to team",e),await G.teamMembers.create({team_id:e,user_id:n}),console.log("[teamService] Successfully added member to team")}catch(n){throw console.error("[teamService] Failed to add member to team:",n),n}},async removeMember(e,r){try{const n=Number(r);if(Number.isNaN(n))throw new Error(`Invalid user ID: ${r}`);console.log("[teamService] Removing member",n,"from team",e);const a=await G.teamMembers.list({exact_filters:{team_id:e,user_id:n}});if(console.log("[teamService] Found records for deletion:",a.data.length,a.data),a.data.length>0){const s=a.data[0],i=(s==null?void 0:s.team_mem_id)??(s==null?void 0:s.id)??(s==null?void 0:s.team_members_id)??(s==null?void 0:s.team_membersId)??(s==null?void 0:s.team_id);if(!i)throw new Error("Unable to determine team member identifier for deletion");console.log("[teamService] Deleting team member record with ID:",i),await G.teamMembers.delete(i)}else console.warn("[teamService] No team member record found for team_id:",e,"user_id:",n);console.log("[teamService] Successfully removed member from team")}catch(n){throw console.error("[teamService] Failed to remove member from team:",n),n}}},_0={async getAll(){try{console.log("[ticketService] Fetching all tickets...");const e=await G.tickets.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[ticketService] Successfully fetched ${e.data.length} tickets`),e.data}catch(e){throw console.error("[ticketService] Failed to fetch tickets:",e),e}},async getById(e){try{return await G.tickets.get(e)}catch(r){return console.error("[ticketService] Failed to fetch ticket:",r),null}},async create(e){try{return await G.tickets.create({created_by:e.created_by,assigned_to:e.assigned_to,subject:e.subject,description:e.description,priority:e.priority,ticket_type:e.ticket_type,stage_id:e.stage_id,status:e.status,resolved_date:e.resolved_date,closed_at:e.closed_at,closed_by:e.closed_by,room_id:e.room_id,task_id:e.task_id})}catch(r){throw console.error("[ticketService] Failed to create ticket:",r),r}},async update(e,r){try{const n={};r.created_by!==void 0&&(n.created_by=r.created_by),r.assigned_to!==void 0&&(n.assigned_to=r.assigned_to),r.subject!==void 0&&(n.subject=r.subject),r.description!==void 0&&(n.description=r.description),r.priority!==void 0&&(n.priority=r.priority),r.ticket_type!==void 0&&(n.ticket_type=r.ticket_type),r.stage_id!==void 0&&(n.stage_id=r.stage_id),r.resolved_date!==void 0&&(n.resolved_date=r.resolved_date),r.closed_at!==void 0&&(n.closed_at=r.closed_at),r.closed_by!==void 0&&(n.closed_by=r.closed_by),r.room_id!==void 0&&(n.room_id=r.room_id),r.task_id!==void 0&&(n.task_id=r.task_id),r.status!==void 0&&(n.status=r.status),await G.tickets.update(e,n)}catch(n){throw console.error("[ticketService] Failed to update ticket:",n),n}},async moveToStage(e,r){try{console.log(`[ticketService] Moving ticket ${e} to stage ${r}`),await G.tickets.update(e,{stage_id:r}),console.log("[ticketService] Successfully moved ticket to stage")}catch(n){throw console.error("[ticketService] Failed to move ticket to stage:",n),n}},async delete(e){try{await G.tickets.delete(e)}catch(r){throw console.error("[ticketService] Failed to delete ticket:",r),r}}},kd={async getByRoom(e,r){try{const n={exact_filters:{room_id:e}};r!=null&&r.limit&&(n.limit=r.limit);const a=await G.messages.list(n);if(!a.data)return[];const s=a.data,i=[...new Set(s.map(d=>d.userid))],o=await Promise.all(i.map(d=>dn.getByAuthId(d))),c=new Map(o.filter(d=>d).map(d=>[d.userid,d]));return s.map(d=>({...d,sender:c.get(d.userid)||null})).reverse()}catch(n){throw console.error("[messageService] Failed to fetch messages:",n),n}},async create(e){try{return await G.messages.create(e)}catch(r){throw console.error("[messageService] Failed to create message:",r),r}},async update(e,r){try{await G.messages.update(e,{content:r,is_edited:!0})}catch(n){throw console.error("[messageService] Failed to update message:",n),n}},async delete(e){try{await G.messages.delete(e)}catch(r){throw console.error("[messageService] Failed to delete message:",r),r}},async uploadAttachment(e){try{const r=e.name.split(".").pop(),a=`${`${Math.random().toString(36).substring(2)}_${Date.now()}.${r}`}`,{error:s}=await Zr.storage.from("chat-attachments").upload(a,e);if(s)throw s;const{data:i}=Zr.storage.from("chat-attachments").getPublicUrl(a);return i.publicUrl}catch(r){throw console.error("[messageService] Failed to upload attachment:",r),r}}},Nd={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await G.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getCount(){return G.count("teams")},async getById(e){try{return await G.leads.get(e)}catch(r){return console.error("[leadService] Failed to fetch lead:",r),null}},async create(e){try{return await G.leads.create({lead_name:e.lead_name,lead_description:e.lead_description,client_name:e.client_name,client_user_id:e.client_user_id,created_by:e.created_by,stage:e.stage,assigned_to:e.assigned_to,assigned_at:e.assigned_at,value:e.value||0,currency:e.currency||"SAR"})}catch(r){throw console.error("[leadService] Failed to create lead:",r),r}},async createMLead(e){try{return await G.mLeads.create(e)}catch(r){throw console.error("[leadService] Failed to create MLead:",r),r}},async update(e,r){try{const n={};r.lead_name&&(n.lead_name=r.lead_name),r.lead_description!==void 0&&(n.lead_description=r.lead_description),r.client_name&&(n.client_name=r.client_name),r.client_user_id&&(n.client_user_id=r.client_user_id),r.stage!==void 0&&(n.stage=r.stage),r.assigned_to!==void 0&&(n.assigned_to=r.assigned_to),r.assigned_at!==void 0&&(n.assigned_at=r.assigned_at),r.value!==void 0&&(n.value=r.value),r.currency!==void 0&&(n.currency=r.currency),await G.leads.update(e,n)}catch(n){throw console.error("[leadService] Failed to update lead:",n),n}},async delete(e){try{await G.leads.delete(e)}catch(r){throw console.error("[leadService] Failed to delete lead:",r),r}}},CM={async getAll(){try{console.log("[mLeadService] Fetching all master leads...");const e=await G.mLeads.list();return console.log(`[mLeadService] Successfully fetched ${e.data.length} master leads`),e.data}catch(e){throw console.error("[mLeadService] Failed to fetch master leads:",e),e}},async getCount(){try{console.log("[mLeadService] Fetching master leads count...");const r=(await Qo("/api/v1/m_leads/list?pageSize=1")).totalRows||0;return console.log(`[mLeadService] Successfully fetched master leads count: ${r}`),r}catch(e){return console.error("[mLeadService] Failed to fetch master leads count:",e),0}},async getById(e){try{return await G.mLeads.get(e)}catch(r){return console.error("[mLeadService] Failed to fetch master lead:",r),null}}},Ak={async getAll(){try{console.log("[mProjectService] Fetching all master projects...");const e=await G.mProjects.list();return console.log(`[mProjectService] Successfully fetched ${e.data.length} master projects`),e.data}catch(e){throw console.error("[mProjectService] Failed to fetch master projects:",e),e}},async getCount(){try{console.log("[mProjectService] Fetching master projects count...");const r=(await Qo("/api/v1/m_projects/list?pageSize=1")).totalRows||0;return console.log(`[mProjectService] Successfully fetched master projects count: ${r}`),r}catch(e){return console.error("[mProjectService] Failed to fetch master projects count:",e),0}},async getById(e){try{return await G.mProjects.get(e)}catch(r){return console.error("[mProjectService] Failed to fetch master project:",r),null}}},im={async getByRelated(e,r){try{console.log(`[noteService] Fetching notes for ${e} ${r}...`);const a=(await G.notes.list({exact_filters:{related_to_type:e,related_to_id:r}})).data;if(!a||a.length===0)return[];const s=[...new Set(a.map(c=>c.created_by))],i=await Promise.all(s.map(c=>dn.getById(c))),o=new Map(i.filter(c=>c).map(c=>[c.userid,c]));return a.map(c=>({...c,user:o.get(c.created_by)?{userid:o.get(c.created_by).userid,user_id:o.get(c.created_by).userid,user_name:o.get(c.created_by).name,name:o.get(c.created_by).name,Email:o.get(c.created_by).Email}:void 0}))}catch(n){throw console.error("[noteService] Failed to fetch notes:",n),n}},async create(e){try{const r=await G.notes.create({content:e.content,related_to_type:e.related_to_type,related_to_id:e.related_to_id,created_by:e.created_by});return console.log("[noteService] Successfully created note"),r}catch(r){throw console.error("[noteService] Failed to create note:",r),r}},async update(e,r){try{await G.notes.update(e,{content:r,updated_at:new Date().toISOString()}),console.log("[noteService] Successfully updated note")}catch(n){throw console.error("[noteService] Failed to update note:",n),n}},async delete(e){try{await G.notes.delete(e),console.log("[noteService] Successfully deleted note")}catch(r){throw console.error("[noteService] Failed to delete note:",r),r}}},Ks={async getAll(){try{console.log("[surveyTemplateService] Fetching all survey templates...");const e=await G.surveyTemplates.list();return console.log(`[surveyTemplateService] Successfully fetched ${e.data.length} templates`),e.data}catch(e){throw console.error("[surveyTemplateService] Failed to fetch survey templates:",e),e}},async getById(e){try{return await G.surveyTemplates.get(e)}catch(r){return console.error("[surveyTemplateService] Failed to fetch template:",r),null}},async create(e){try{const r=await G.surveyTemplates.create(e);return{...e,template_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),updated_by:null}}catch(r){throw console.error("[surveyTemplateService] Failed to create template:",r),r}},async update(e,r){try{const n={};r.template_name&&(n.template_name=r.template_name),r.template_name_ar&&(n.template_name_ar=r.template_name_ar),r.template_description!==void 0&&(n.template_description=r.template_description),r.template_description_ar!==void 0&&(n.template_description_ar=r.template_description_ar),r.category&&(n.category=r.category),r.is_active!==void 0&&(n.is_active=r.is_active),r.is_default!==void 0&&(n.is_default=r.is_default),await G.surveyTemplates.update(e,n)}catch(n){throw console.error("[surveyTemplateService] Failed to update template:",n),n}},async delete(e){try{await G.surveyTemplates.delete(e)}catch(r){throw console.error("[surveyTemplateService] Failed to delete template:",r),r}},async getFields(e){try{console.log("[surveyTemplateService] Fetching fields for template:",e);const n=(await G.surveyTemplateFields.getByTemplate(e)).data;return console.log(`[surveyTemplateService] Successfully fetched ${(n==null?void 0:n.length)||0} fields`),(n||[]).sort((a,s)=>(a.field_order||0)-(s.field_order||0))}catch(r){throw console.error("[surveyTemplateService] Failed to fetch template fields:",r),r}},async createField(e){try{const r={...e,field_options:e.field_options?JSON.stringify(e.field_options):null},n=await G.surveyTemplateFields.create(r);return{...e,field_id:n.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(r){throw console.error("[surveyTemplateService] Failed to create field:",r),r}},async updateField(e,r){try{const n={};r.field_order!==void 0&&(n.field_order=r.field_order),r.field_type&&(n.field_type=r.field_type),r.field_label&&(n.field_label=r.field_label),r.field_label_ar&&(n.field_label_ar=r.field_label_ar),r.help_text!==void 0&&(n.help_text=r.help_text),r.help_text_ar!==void 0&&(n.help_text_ar=r.help_text_ar),r.is_required!==void 0&&(n.is_required=r.is_required),r.field_options!==void 0&&(n.field_options=r.field_options?JSON.stringify(r.field_options):null),r.validation_rules!==void 0&&(n.validation_rules=r.validation_rules),r.default_value!==void 0&&(n.default_value=r.default_value),r.conditional_logic!==void 0&&(n.conditional_logic=r.conditional_logic?JSON.stringify(r.conditional_logic):null),await G.surveyTemplateFields.update(e,n)}catch(n){throw console.error("[surveyTemplateService] Failed to update field:",n),n}},async deleteField(e){try{await G.surveyTemplateFields.delete(e)}catch(r){throw console.error("[surveyTemplateService] Failed to delete field:",r),r}}},Md={async getAll(){try{console.log("[surveyService] Fetching all surveys...");const e=await G.surveys.list();return console.log(`[surveyService] Successfully fetched ${e.data.length} surveys`),e.data}catch(e){throw console.error("[surveyService] Failed to fetch surveys:",e),e}},async getCount(){try{console.log("[surveyService] Fetching surveys count...");const r=(await Qo("/api/v1/surveys/list?pageSize=1")).totalRows||0;return console.log(`[surveyService] Successfully fetched surveys count: ${r}`),r}catch(e){return console.error("[surveyService] Failed to fetch surveys count:",e),0}},async getById(e){try{return await G.surveys.get(e)}catch(r){return console.error("[surveyService] Failed to fetch survey:",r),null}},async create(e){try{const r={...e,survey_responses:e.survey_responses?JSON.stringify(e.survey_responses):null},n=await G.surveys.create(r);return{...e,survey_id:n.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(r){throw console.error("[surveyService] Failed to create survey:",r),r}},async createBatch(e){try{if(e.length===0)return[];console.log(`[surveyService] Batch creating ${e.length} surveys...`);const r=e.map(a=>({...a,survey_responses:a.survey_responses?JSON.stringify(a.survey_responses):null})),n=await Promise.all(r.map(a=>G.surveys.create(a)));return console.log(`[surveyService] Successfully batch created ${n.length} surveys`),n}catch(r){throw console.error("[surveyService] Failed to batch create surveys:",r),r}},async update(e,r){try{const n={};r.template_id!==void 0&&(n.template_id=r.template_id),r.survey_name&&(n.survey_name=r.survey_name),r.survey_description!==void 0&&(n.survey_description=r.survey_description),r.client_name&&(n.client_name=r.client_name),r.client_name_ar&&(n.client_name_ar=r.client_name_ar),r.client_contact!==void 0&&(n.client_contact=r.client_contact),r.client_email&&(n.client_email=r.client_email),r.client_address&&(n.client_address=r.client_address),r.client_company&&(n.client_company=r.client_company),r.client_company_ar&&(n.client_company_ar=r.client_company_ar),r.survey_responses!==void 0&&(n.survey_responses=r.survey_responses?JSON.stringify(r.survey_responses):null),r.location_latitude!==void 0&&(n.location_latitude=r.location_latitude),r.location_longitude!==void 0&&(n.location_longitude=r.location_longitude),r.location_accuracy!==void 0&&(n.location_accuracy=r.location_accuracy),r.location_address&&(n.location_address=r.location_address),r.status&&(n.status=r.status),r.lead_id!==void 0&&(n.lead_id=r.lead_id),r.converted_to_lead_at!==void 0&&(n.converted_to_lead_at=r.converted_to_lead_at),r.device_info!==void 0&&(n.device_info=r.device_info),r.completion_time_seconds!==void 0&&(n.completion_time_seconds=r.completion_time_seconds),r.notes&&(n.notes=r.notes),r.notes_ar&&(n.notes_ar=r.notes_ar),await G.surveys.update(e,n)}catch(n){throw console.error("[surveyService] Failed to update survey:",n),n}},async delete(e){try{await G.surveys.delete(e)}catch(r){throw console.error("[surveyService] Failed to delete survey:",r),r}}},Ok=1024;function wn(){const[e,r]=y.useState(void 0);return y.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Ok-1}px)`),a=()=>{r(window.innerWidth<Ok)};return n.addEventListener("change",a),r(window.innerWidth<Ok),()=>n.removeEventListener("change",a)},[]),!!e}const mpe=xx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ft({className:e,variant:r,...n}){return l.jsx("div",{className:ge(mpe({variant:r}),e),...n})}function hW(){Kt();const[e,r]=y.useState(new Date);y.useEffect(()=>{const s=setInterval(()=>{r(new Date)},1e3);return()=>clearInterval(s)},[]);const n=s=>s.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"short",day:"numeric"}),a=s=>s.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});return l.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[l.jsx("div",{className:"text-lg font-mono font-semibold text-foreground",children:a(e)}),l.jsx("div",{className:"text-sm",children:n(e)})]})}var ppe=Array.isArray,Hs=ppe,gpe=typeof cy=="object"&&cy&&cy.Object===Object&&cy,mW=gpe,vpe=mW,xpe=typeof self=="object"&&self&&self.Object===Object&&self,ype=vpe||xpe||Function("return this")(),Dl=ype,bpe=Dl,wpe=bpe.Symbol,Px=wpe,EM=Px,pW=Object.prototype,_pe=pW.hasOwnProperty,Spe=pW.toString,S0=EM?EM.toStringTag:void 0;function jpe(e){var r=_pe.call(e,S0),n=e[S0];try{e[S0]=void 0;var a=!0}catch{}var s=Spe.call(e);return a&&(r?e[S0]=n:delete e[S0]),s}var kpe=jpe,Npe=Object.prototype,Cpe=Npe.toString;function Epe(e){return Cpe.call(e)}var Tpe=Epe,TM=Px,Ape=kpe,Ope=Tpe,Ppe="[object Null]",Dpe="[object Undefined]",AM=TM?TM.toStringTag:void 0;function Rpe(e){return e==null?e===void 0?Dpe:Ppe:AM&&AM in Object(e)?Ape(e):Ope(e)}var Ac=Rpe;function Ipe(e){return e!=null&&typeof e=="object"}var Oc=Ipe,Mpe=Ac,Fpe=Oc,Lpe="[object Symbol]";function $pe(e){return typeof e=="symbol"||Fpe(e)&&Mpe(e)==Lpe}var zp=$pe,Bpe=Hs,Upe=zp,Vpe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zpe=/^\w*$/;function Wpe(e,r){if(Bpe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Upe(e)?!0:zpe.test(e)||!Vpe.test(e)||r!=null&&e in Object(r)}var kO=Wpe;function Hpe(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var rd=Hpe;const Wp=vr(rd);var qpe=Ac,Kpe=rd,Gpe="[object AsyncFunction]",Ype="[object Function]",Xpe="[object GeneratorFunction]",Jpe="[object Proxy]";function Qpe(e){if(!Kpe(e))return!1;var r=qpe(e);return r==Ype||r==Xpe||r==Gpe||r==Jpe}var NO=Qpe;const Dt=vr(NO);var Zpe=Dl,e0e=Zpe["__core-js_shared__"],t0e=e0e,Pk=t0e,OM=function(){var e=/[^.]+$/.exec(Pk&&Pk.keys&&Pk.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function r0e(e){return!!OM&&OM in e}var n0e=r0e,a0e=Function.prototype,s0e=a0e.toString;function i0e(e){if(e!=null){try{return s0e.call(e)}catch{}try{return e+""}catch{}}return""}var gW=i0e,o0e=NO,l0e=n0e,c0e=rd,u0e=gW,d0e=/[\\^$.*+?()[\]{}|]/g,f0e=/^\[object .+?Constructor\]$/,h0e=Function.prototype,m0e=Object.prototype,p0e=h0e.toString,g0e=m0e.hasOwnProperty,v0e=RegExp("^"+p0e.call(g0e).replace(d0e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function x0e(e){if(!c0e(e)||l0e(e))return!1;var r=o0e(e)?v0e:f0e;return r.test(u0e(e))}var y0e=x0e;function b0e(e,r){return e==null?void 0:e[r]}var w0e=b0e,_0e=y0e,S0e=w0e;function j0e(e,r){var n=S0e(e,r);return _0e(n)?n:void 0}var Uf=j0e,k0e=Uf,N0e=k0e(Object,"create"),tS=N0e,PM=tS;function C0e(){this.__data__=PM?PM(null):{},this.size=0}var E0e=C0e;function T0e(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var A0e=T0e,O0e=tS,P0e="__lodash_hash_undefined__",D0e=Object.prototype,R0e=D0e.hasOwnProperty;function I0e(e){var r=this.__data__;if(O0e){var n=r[e];return n===P0e?void 0:n}return R0e.call(r,e)?r[e]:void 0}var M0e=I0e,F0e=tS,L0e=Object.prototype,$0e=L0e.hasOwnProperty;function B0e(e){var r=this.__data__;return F0e?r[e]!==void 0:$0e.call(r,e)}var U0e=B0e,V0e=tS,z0e="__lodash_hash_undefined__";function W0e(e,r){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=V0e&&r===void 0?z0e:r,this}var H0e=W0e,q0e=E0e,K0e=A0e,G0e=M0e,Y0e=U0e,X0e=H0e;function Hp(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var a=e[r];this.set(a[0],a[1])}}Hp.prototype.clear=q0e;Hp.prototype.delete=K0e;Hp.prototype.get=G0e;Hp.prototype.has=Y0e;Hp.prototype.set=X0e;var J0e=Hp;function Q0e(){this.__data__=[],this.size=0}var Z0e=Q0e;function ege(e,r){return e===r||e!==e&&r!==r}var CO=ege,tge=CO;function rge(e,r){for(var n=e.length;n--;)if(tge(e[n][0],r))return n;return-1}var rS=rge,nge=rS,age=Array.prototype,sge=age.splice;function ige(e){var r=this.__data__,n=nge(r,e);if(n<0)return!1;var a=r.length-1;return n==a?r.pop():sge.call(r,n,1),--this.size,!0}var oge=ige,lge=rS;function cge(e){var r=this.__data__,n=lge(r,e);return n<0?void 0:r[n][1]}var uge=cge,dge=rS;function fge(e){return dge(this.__data__,e)>-1}var hge=fge,mge=rS;function pge(e,r){var n=this.__data__,a=mge(n,e);return a<0?(++this.size,n.push([e,r])):n[a][1]=r,this}var gge=pge,vge=Z0e,xge=oge,yge=uge,bge=hge,wge=gge;function qp(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var a=e[r];this.set(a[0],a[1])}}qp.prototype.clear=vge;qp.prototype.delete=xge;qp.prototype.get=yge;qp.prototype.has=bge;qp.prototype.set=wge;var nS=qp,_ge=Uf,Sge=Dl,jge=_ge(Sge,"Map"),EO=jge,DM=J0e,kge=nS,Nge=EO;function Cge(){this.size=0,this.__data__={hash:new DM,map:new(Nge||kge),string:new DM}}var Ege=Cge;function Tge(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var Age=Tge,Oge=Age;function Pge(e,r){var n=e.__data__;return Oge(r)?n[typeof r=="string"?"string":"hash"]:n.map}var aS=Pge,Dge=aS;function Rge(e){var r=Dge(this,e).delete(e);return this.size-=r?1:0,r}var Ige=Rge,Mge=aS;function Fge(e){return Mge(this,e).get(e)}var Lge=Fge,$ge=aS;function Bge(e){return $ge(this,e).has(e)}var Uge=Bge,Vge=aS;function zge(e,r){var n=Vge(this,e),a=n.size;return n.set(e,r),this.size+=n.size==a?0:1,this}var Wge=zge,Hge=Ege,qge=Ige,Kge=Lge,Gge=Uge,Yge=Wge;function Kp(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var a=e[r];this.set(a[0],a[1])}}Kp.prototype.clear=Hge;Kp.prototype.delete=qge;Kp.prototype.get=Kge;Kp.prototype.has=Gge;Kp.prototype.set=Yge;var TO=Kp,vW=TO,Xge="Expected a function";function AO(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(Xge);var n=function(){var a=arguments,s=r?r.apply(this,a):a[0],i=n.cache;if(i.has(s))return i.get(s);var o=e.apply(this,a);return n.cache=i.set(s,o)||i,o};return n.cache=new(AO.Cache||vW),n}AO.Cache=vW;var xW=AO;const Jge=vr(xW);var Qge=xW,Zge=500;function eve(e){var r=Qge(e,function(a){return n.size===Zge&&n.clear(),a}),n=r.cache;return r}var tve=eve,rve=tve,nve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ave=/\\(\\)?/g,sve=rve(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(nve,function(n,a,s,i){r.push(s?i.replace(ave,"$1"):a||n)}),r}),ive=sve;function ove(e,r){for(var n=-1,a=e==null?0:e.length,s=Array(a);++n<a;)s[n]=r(e[n],n,e);return s}var OO=ove,RM=Px,lve=OO,cve=Hs,uve=zp,dve=1/0,IM=RM?RM.prototype:void 0,MM=IM?IM.toString:void 0;function yW(e){if(typeof e=="string")return e;if(cve(e))return lve(e,yW)+"";if(uve(e))return MM?MM.call(e):"";var r=e+"";return r=="0"&&1/e==-dve?"-0":r}var fve=yW,hve=fve;function mve(e){return e==null?"":hve(e)}var bW=mve,pve=Hs,gve=kO,vve=ive,xve=bW;function yve(e,r){return pve(e)?e:gve(e,r)?[e]:vve(xve(e))}var wW=yve,bve=zp,wve=1/0;function _ve(e){if(typeof e=="string"||bve(e))return e;var r=e+"";return r=="0"&&1/e==-wve?"-0":r}var sS=_ve,Sve=wW,jve=sS;function kve(e,r){r=Sve(r,e);for(var n=0,a=r.length;e!=null&&n<a;)e=e[jve(r[n++])];return n&&n==a?e:void 0}var PO=kve,Nve=PO;function Cve(e,r,n){var a=e==null?void 0:Nve(e,r);return a===void 0?n:a}var _W=Cve;const hi=vr(_W);function Eve(e){return e==null}var Tve=Eve;const Bt=vr(Tve);var Ave=Ac,Ove=Hs,Pve=Oc,Dve="[object String]";function Rve(e){return typeof e=="string"||!Ove(e)&&Pve(e)&&Ave(e)==Dve}var Ive=Rve;const wf=vr(Ive);var SW={exports:{}},jr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DO=Symbol.for("react.element"),RO=Symbol.for("react.portal"),iS=Symbol.for("react.fragment"),oS=Symbol.for("react.strict_mode"),lS=Symbol.for("react.profiler"),cS=Symbol.for("react.provider"),uS=Symbol.for("react.context"),Mve=Symbol.for("react.server_context"),dS=Symbol.for("react.forward_ref"),fS=Symbol.for("react.suspense"),hS=Symbol.for("react.suspense_list"),mS=Symbol.for("react.memo"),pS=Symbol.for("react.lazy"),Fve=Symbol.for("react.offscreen"),jW;jW=Symbol.for("react.module.reference");function qi(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case DO:switch(e=e.type,e){case iS:case lS:case oS:case fS:case hS:return e;default:switch(e=e&&e.$$typeof,e){case Mve:case uS:case dS:case pS:case mS:case cS:return e;default:return r}}case RO:return r}}}jr.ContextConsumer=uS;jr.ContextProvider=cS;jr.Element=DO;jr.ForwardRef=dS;jr.Fragment=iS;jr.Lazy=pS;jr.Memo=mS;jr.Portal=RO;jr.Profiler=lS;jr.StrictMode=oS;jr.Suspense=fS;jr.SuspenseList=hS;jr.isAsyncMode=function(){return!1};jr.isConcurrentMode=function(){return!1};jr.isContextConsumer=function(e){return qi(e)===uS};jr.isContextProvider=function(e){return qi(e)===cS};jr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===DO};jr.isForwardRef=function(e){return qi(e)===dS};jr.isFragment=function(e){return qi(e)===iS};jr.isLazy=function(e){return qi(e)===pS};jr.isMemo=function(e){return qi(e)===mS};jr.isPortal=function(e){return qi(e)===RO};jr.isProfiler=function(e){return qi(e)===lS};jr.isStrictMode=function(e){return qi(e)===oS};jr.isSuspense=function(e){return qi(e)===fS};jr.isSuspenseList=function(e){return qi(e)===hS};jr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===iS||e===lS||e===oS||e===fS||e===hS||e===Fve||typeof e=="object"&&e!==null&&(e.$$typeof===pS||e.$$typeof===mS||e.$$typeof===cS||e.$$typeof===uS||e.$$typeof===dS||e.$$typeof===jW||e.getModuleId!==void 0)};jr.typeOf=qi;SW.exports=jr;var Lve=SW.exports,$ve=Ac,Bve=Oc,Uve="[object Number]";function Vve(e){return typeof e=="number"||Bve(e)&&$ve(e)==Uve}var kW=Vve;const zve=vr(kW);var Wve=kW;function Hve(e){return Wve(e)&&e!=+e}var qve=Hve;const Dx=vr(qve);var os=function(r){return r===0?0:r>0?1:-1},Fd=function(r){return wf(r)&&r.indexOf("%")===r.length-1},Qe=function(r){return zve(r)&&!Dx(r)},Kve=function(r){return Bt(r)},Hn=function(r){return Qe(r)||wf(r)},Gve=0,Gp=function(r){var n=++Gve;return"".concat(r||"").concat(n)},ls=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(r)&&!wf(r))return a;var i;if(Fd(r)){var o=r.indexOf("%");i=n*parseFloat(r.slice(0,o))/100}else i=+r;return Dx(i)&&(i=a),s&&i>n&&(i=n),i},ru=function(r){if(!r)return null;var n=Object.keys(r);return n&&n.length?r[n[0]]:null},Yve=function(r){if(!Array.isArray(r))return!1;for(var n=r.length,a={},s=0;s<n;s++)if(!a[r[s]])a[r[s]]=!0;else return!0;return!1},ri=function(r,n){return Qe(r)&&Qe(n)?function(a){return r+a*(n-r)}:function(){return n}};function Lb(e,r,n){return!e||!e.length?null:e.find(function(a){return a&&(typeof r=="function"?r(a):hi(a,r))===n})}var Xve=function(r,n){return Qe(r)&&Qe(n)?r-n:wf(r)&&wf(n)?r.localeCompare(n):r instanceof Date&&n instanceof Date?r.getTime()-n.getTime():String(r).localeCompare(String(n))};function om(e,r){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(r,n)||e[n]!==r[n]))return!1;for(var a in r)if({}.hasOwnProperty.call(r,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function jC(e){"@babel/helpers - typeof";return jC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jC(e)}var Jve=["viewBox","children"],Qve=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],FM=["points","pathLength"],Dk={svg:Jve,polygon:FM,polyline:FM},IO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$b=function(r,n){if(!r||typeof r=="function"||typeof r=="boolean")return null;var a=r;if(y.isValidElement(r)&&(a=r.props),!Wp(a))return null;var s={};return Object.keys(a).forEach(function(i){IO.includes(i)&&(s[i]=n||function(o){return a[i](a,o)})}),s},Zve=function(r,n,a){return function(s){return r(n,a,s),null}},_f=function(r,n,a){if(!Wp(r)||jC(r)!=="object")return null;var s=null;return Object.keys(r).forEach(function(i){var o=r[i];IO.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=Zve(o,n,a))}),s},exe=["children"],txe=["children"];function LM(e,r){if(e==null)return{};var n=rxe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function rxe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function kC(e){"@babel/helpers - typeof";return kC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kC(e)}var $M={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ic=function(r){return typeof r=="string"?r:r?r.displayName||r.name||"Component":""},BM=null,Rk=null,MO=function e(r){if(r===BM&&Array.isArray(Rk))return Rk;var n=[];return y.Children.forEach(r,function(a){Bt(a)||(Lve.isFragment(a)?n=n.concat(e(a.props.children)):n.push(a))}),Rk=n,BM=r,n};function mi(e,r){var n=[],a=[];return Array.isArray(r)?a=r.map(function(s){return ic(s)}):a=[ic(r)],MO(e).forEach(function(s){var i=hi(s,"type.displayName")||hi(s,"type.name");a.indexOf(i)!==-1&&n.push(s)}),n}function Js(e,r){var n=mi(e,r);return n&&n[0]}var UM=function(r){if(!r||!r.props)return!1;var n=r.props,a=n.width,s=n.height;return!(!Qe(a)||a<=0||!Qe(s)||s<=0)},nxe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],axe=function(r){return r&&r.type&&wf(r.type)&&nxe.indexOf(r.type)>=0},sxe=function(r){return r&&kC(r)==="object"&&"clipDot"in r},ixe=function(r,n,a,s){var i,o=(i=Dk==null?void 0:Dk[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Dt(r)&&(s&&o.includes(n)||Qve.includes(n))||a&&IO.includes(n)},Ct=function(r,n,a){if(!r||typeof r=="function"||typeof r=="boolean")return null;var s=r;if(y.isValidElement(r)&&(s=r.props),!Wp(s))return null;var i={};return Object.keys(s).forEach(function(o){var c;ixe((c=s)===null||c===void 0?void 0:c[o],o,n,a)&&(i[o]=s[o])}),i},NC=function e(r,n){if(r===n)return!0;var a=y.Children.count(r);if(a!==y.Children.count(n))return!1;if(a===0)return!0;if(a===1)return VM(Array.isArray(r)?r[0]:r,Array.isArray(n)?n[0]:n);for(var s=0;s<a;s++){var i=r[s],o=n[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!VM(i,o))return!1}return!0},VM=function(r,n){if(Bt(r)&&Bt(n))return!0;if(!Bt(r)&&!Bt(n)){var a=r.props||{},s=a.children,i=LM(a,exe),o=n.props||{},c=o.children,u=LM(o,txe);return s&&c?om(i,u)&&NC(s,c):!s&&!c?om(i,u):!1}return!1},zM=function(r,n){var a=[],s={};return MO(r).forEach(function(i,o){if(axe(i))a.push(i);else if(i){var c=ic(i.type),u=n[c]||{},d=u.handler,f=u.once;if(d&&(!f||!s[c])){var h=d(i,c,o);a.push(h),s[c]=!0}}}),a},oxe=function(r){var n=r&&r.type;return n&&$M[n]?$M[n]:null},lxe=function(r,n){return MO(n).indexOf(r)},cxe=["children","width","height","viewBox","className","style","title","desc"];function CC(){return CC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},CC.apply(this,arguments)}function uxe(e,r){if(e==null)return{};var n=dxe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function dxe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function EC(e){var r=e.children,n=e.width,a=e.height,s=e.viewBox,i=e.className,o=e.style,c=e.title,u=e.desc,d=uxe(e,cxe),f=s||{width:n,height:a,x:0,y:0},h=Ut("recharts-surface",i);return ne.createElement("svg",CC({},Ct(d,!0,"svg"),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),ne.createElement("title",null,c),ne.createElement("desc",null,u),r)}var fxe=["children","className"];function TC(){return TC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},TC.apply(this,arguments)}function hxe(e,r){if(e==null)return{};var n=mxe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function mxe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}var fr=ne.forwardRef(function(e,r){var n=e.children,a=e.className,s=hxe(e,fxe),i=Ut("recharts-layer",a);return ne.createElement("g",TC({className:i},Ct(s,!0),{ref:r}),n)}),No=function(r,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]};function pxe(e,r,n){var a=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var i=Array(s);++a<s;)i[a]=e[a+r];return i}var gxe=pxe,vxe=gxe;function xxe(e,r,n){var a=e.length;return n=n===void 0?a:n,!r&&n>=a?e:vxe(e,r,n)}var yxe=xxe,bxe="\\ud800-\\udfff",wxe="\\u0300-\\u036f",_xe="\\ufe20-\\ufe2f",Sxe="\\u20d0-\\u20ff",jxe=wxe+_xe+Sxe,kxe="\\ufe0e\\ufe0f",Nxe="\\u200d",Cxe=RegExp("["+Nxe+bxe+jxe+kxe+"]");function Exe(e){return Cxe.test(e)}var NW=Exe;function Txe(e){return e.split("")}var Axe=Txe,CW="\\ud800-\\udfff",Oxe="\\u0300-\\u036f",Pxe="\\ufe20-\\ufe2f",Dxe="\\u20d0-\\u20ff",Rxe=Oxe+Pxe+Dxe,Ixe="\\ufe0e\\ufe0f",Mxe="["+CW+"]",AC="["+Rxe+"]",OC="\\ud83c[\\udffb-\\udfff]",Fxe="(?:"+AC+"|"+OC+")",EW="[^"+CW+"]",TW="(?:\\ud83c[\\udde6-\\uddff]){2}",AW="[\\ud800-\\udbff][\\udc00-\\udfff]",Lxe="\\u200d",OW=Fxe+"?",PW="["+Ixe+"]?",$xe="(?:"+Lxe+"(?:"+[EW,TW,AW].join("|")+")"+PW+OW+")*",Bxe=PW+OW+$xe,Uxe="(?:"+[EW+AC+"?",AC,TW,AW,Mxe].join("|")+")",Vxe=RegExp(OC+"(?="+OC+")|"+Uxe+Bxe,"g");function zxe(e){return e.match(Vxe)||[]}var Wxe=zxe,Hxe=Axe,qxe=NW,Kxe=Wxe;function Gxe(e){return qxe(e)?Kxe(e):Hxe(e)}var Yxe=Gxe,Xxe=yxe,Jxe=NW,Qxe=Yxe,Zxe=bW;function eye(e){return function(r){r=Zxe(r);var n=Jxe(r)?Qxe(r):void 0,a=n?n[0]:r.charAt(0),s=n?Xxe(n,1).join(""):r.slice(1);return a[e]()+s}}var tye=eye,rye=tye,nye=rye("toUpperCase"),aye=nye;const gS=vr(aye);function Rr(e){return function(){return e}}const DW=Math.cos,Bb=Math.sin,Bo=Math.sqrt,Ub=Math.PI,vS=2*Ub,PC=Math.PI,DC=2*PC,yd=1e-6,sye=DC-yd;function RW(e){this._+=e[0];for(let r=1,n=e.length;r<n;++r)this._+=arguments[r]+e[r]}function iye(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return RW;const n=10**r;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class oye{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?RW:iye(r)}moveTo(r,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,n){this._append`L${this._x1=+r},${this._y1=+n}`}quadraticCurveTo(r,n,a,s){this._append`Q${+r},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(r,n,a,s,i,o){this._append`C${+r},${+n},${+a},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(r,n,a,s,i){if(r=+r,n=+n,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,c=this._y1,u=a-r,d=s-n,f=o-r,h=c-n,m=f*f+h*h;if(this._x1===null)this._append`M${this._x1=r},${this._y1=n}`;else if(m>yd)if(!(Math.abs(h*u-d*f)>yd)||!i)this._append`L${this._x1=r},${this._y1=n}`;else{let p=a-o,g=s-c,v=u*u+d*d,x=p*p+g*g,w=Math.sqrt(v),b=Math.sqrt(m),_=i*Math.tan((PC-Math.acos((v+m-x)/(2*w*b)))/2),S=_/b,j=_/w;Math.abs(S-1)>yd&&this._append`L${r+S*f},${n+S*h}`,this._append`A${i},${i},0,0,${+(h*p>f*g)},${this._x1=r+j*u},${this._y1=n+j*d}`}}arc(r,n,a,s,i,o){if(r=+r,n=+n,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let c=a*Math.cos(s),u=a*Math.sin(s),d=r+c,f=n+u,h=1^o,m=o?s-i:i-s;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>yd||Math.abs(this._y1-f)>yd)&&this._append`L${d},${f}`,a&&(m<0&&(m=m%DC+DC),m>sye?this._append`A${a},${a},0,1,${h},${r-c},${n-u}A${a},${a},0,1,${h},${this._x1=d},${this._y1=f}`:m>yd&&this._append`A${a},${a},0,${+(m>=PC)},${h},${this._x1=r+a*Math.cos(i)},${this._y1=n+a*Math.sin(i)}`)}rect(r,n,a,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function FO(e){let r=3;return e.digits=function(n){if(!arguments.length)return r;if(n==null)r=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);r=a}return e},()=>new oye(r)}function LO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IW(e){this._context=e}IW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function xS(e){return new IW(e)}function MW(e){return e[0]}function FW(e){return e[1]}function LW(e,r){var n=Rr(!0),a=null,s=xS,i=null,o=FO(c);e=typeof e=="function"?e:e===void 0?MW:Rr(e),r=typeof r=="function"?r:r===void 0?FW:Rr(r);function c(u){var d,f=(u=LO(u)).length,h,m=!1,p;for(a==null&&(i=s(p=o())),d=0;d<=f;++d)!(d<f&&n(h=u[d],d,u))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(h,d,u),+r(h,d,u));if(p)return i=null,p+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:Rr(+u),c):e},c.y=function(u){return arguments.length?(r=typeof u=="function"?u:Rr(+u),c):r},c.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Rr(!!u),c):n},c.curve=function(u){return arguments.length?(s=u,a!=null&&(i=s(a)),c):s},c.context=function(u){return arguments.length?(u==null?a=i=null:i=s(a=u),c):a},c}function Ky(e,r,n){var a=null,s=Rr(!0),i=null,o=xS,c=null,u=FO(d);e=typeof e=="function"?e:e===void 0?MW:Rr(+e),r=typeof r=="function"?r:Rr(r===void 0?0:+r),n=typeof n=="function"?n:n===void 0?FW:Rr(+n);function d(h){var m,p,g,v=(h=LO(h)).length,x,w=!1,b,_=new Array(v),S=new Array(v);for(i==null&&(c=o(b=u())),m=0;m<=v;++m){if(!(m<v&&s(x=h[m],m,h))===w)if(w=!w)p=m,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),g=m-1;g>=p;--g)c.point(_[g],S[g]);c.lineEnd(),c.areaEnd()}w&&(_[m]=+e(x,m,h),S[m]=+r(x,m,h),c.point(a?+a(x,m,h):_[m],n?+n(x,m,h):S[m]))}if(b)return c=null,b+""||null}function f(){return LW().defined(s).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:Rr(+h),a=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Rr(+h),d):e},d.x1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:Rr(+h),d):a},d.y=function(h){return arguments.length?(r=typeof h=="function"?h:Rr(+h),n=null,d):r},d.y0=function(h){return arguments.length?(r=typeof h=="function"?h:Rr(+h),d):r},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Rr(+h),d):n},d.lineX0=d.lineY0=function(){return f().x(e).y(r)},d.lineY1=function(){return f().x(e).y(n)},d.lineX1=function(){return f().x(a).y(r)},d.defined=function(h){return arguments.length?(s=typeof h=="function"?h:Rr(!!h),d):s},d.curve=function(h){return arguments.length?(o=h,i!=null&&(c=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=c=null:c=o(i=h),d):i},d}class $W{constructor(r,n){this._context=r,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,n){switch(r=+r,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,n,r,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,r,this._y0,r,n);break}}this._x0=r,this._y0=n}}function lye(e){return new $W(e,!0)}function cye(e){return new $W(e,!1)}const $O={draw(e,r){const n=Bo(r/Ub);e.moveTo(n,0),e.arc(0,0,n,0,vS)}},uye={draw(e,r){const n=Bo(r/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},BW=Bo(1/3),dye=BW*2,fye={draw(e,r){const n=Bo(r/dye),a=n*BW;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}},hye={draw(e,r){const n=Bo(r),a=-n/2;e.rect(a,a,n,n)}},mye=.8908130915292852,UW=Bb(Ub/10)/Bb(7*Ub/10),pye=Bb(vS/10)*UW,gye=-DW(vS/10)*UW,vye={draw(e,r){const n=Bo(r*mye),a=pye*n,s=gye*n;e.moveTo(0,-n),e.lineTo(a,s);for(let i=1;i<5;++i){const o=vS*i/5,c=DW(o),u=Bb(o);e.lineTo(u*n,-c*n),e.lineTo(c*a-u*s,u*a+c*s)}e.closePath()}},Ik=Bo(3),xye={draw(e,r){const n=-Bo(r/(Ik*3));e.moveTo(0,n*2),e.lineTo(-Ik*n,-n),e.lineTo(Ik*n,-n),e.closePath()}},Si=-.5,ji=Bo(3)/2,RC=1/Bo(12),yye=(RC/2+1)*3,bye={draw(e,r){const n=Bo(r/yye),a=n/2,s=n*RC,i=a,o=n*RC+n,c=-i,u=o;e.moveTo(a,s),e.lineTo(i,o),e.lineTo(c,u),e.lineTo(Si*a-ji*s,ji*a+Si*s),e.lineTo(Si*i-ji*o,ji*i+Si*o),e.lineTo(Si*c-ji*u,ji*c+Si*u),e.lineTo(Si*a+ji*s,Si*s-ji*a),e.lineTo(Si*i+ji*o,Si*o-ji*i),e.lineTo(Si*c+ji*u,Si*u-ji*c),e.closePath()}};function wye(e,r){let n=null,a=FO(s);e=typeof e=="function"?e:Rr(e||$O),r=typeof r=="function"?r:Rr(r===void 0?64:+r);function s(){let i;if(n||(n=i=a()),e.apply(this,arguments).draw(n,+r.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Rr(i),s):e},s.size=function(i){return arguments.length?(r=typeof i=="function"?i:Rr(+i),s):r},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function Vb(){}function zb(e,r,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+n)/6)}function VW(e){this._context=e}VW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zb(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function _ye(e){return new VW(e)}function zW(e){this._context=e}zW.prototype={areaStart:Vb,areaEnd:Vb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:zb(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function Sye(e){return new zW(e)}function WW(e){this._context=e}WW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:zb(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function jye(e){return new WW(e)}function HW(e){this._context=e}HW.prototype={areaStart:Vb,areaEnd:Vb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function kye(e){return new HW(e)}function WM(e){return e<0?-1:1}function HM(e,r,n){var a=e._x1-e._x0,s=r-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),o=(n-e._y1)/(s||a<0&&-0),c=(i*s+o*a)/(a+s);return(WM(i)+WM(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function qM(e,r){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-r)/2:r}function Mk(e,r,n){var a=e._x0,s=e._y0,i=e._x1,o=e._y1,c=(i-a)/3;e._context.bezierCurveTo(a+c,s+c*r,i-c,o-c*n,i,o)}function Wb(e){this._context=e}Wb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mk(this,this._t0,qM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var n=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,Mk(this,qM(this,n=HM(this,e,r)),n);break;default:Mk(this,this._t0,n=HM(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=n}}};function qW(e){this._context=new KW(e)}(qW.prototype=Object.create(Wb.prototype)).point=function(e,r){Wb.prototype.point.call(this,r,e)};function KW(e){this._context=e}KW.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,n,a,s,i){this._context.bezierCurveTo(r,e,a,n,i,s)}};function Nye(e){return new Wb(e)}function Cye(e){return new qW(e)}function GW(e){this._context=e}GW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),n===2)this._context.lineTo(e[1],r[1]);else for(var a=KM(e),s=KM(r),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[o],r[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function KM(e){var r,n=e.length-1,a,s=new Array(n),i=new Array(n),o=new Array(n);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],r=1;r<n-1;++r)s[r]=1,i[r]=4,o[r]=4*e[r]+2*e[r+1];for(s[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],r=1;r<n;++r)a=s[r]/i[r-1],i[r]-=a,o[r]-=a*o[r-1];for(s[n-1]=o[n-1]/i[n-1],r=n-2;r>=0;--r)s[r]=(o[r]-s[r+1])/i[r];for(i[n-1]=(e[n]+s[n-1])/2,r=0;r<n-1;++r)i[r]=2*e[r+1]-s[r+1];return[s,i]}function Eye(e){return new GW(e)}function yS(e,r){this._context=e,this._t=r}yS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,r)}break}}this._x=e,this._y=r}};function Tye(e){return new yS(e,.5)}function Aye(e){return new yS(e,0)}function Oye(e){return new yS(e,1)}function Hm(e,r){if((o=e.length)>1)for(var n=1,a,s,i=e[r[0]],o,c=i.length;n<o;++n)for(s=i,i=e[r[n]],a=0;a<c;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function IC(e){for(var r=e.length,n=new Array(r);--r>=0;)n[r]=r;return n}function Pye(e,r){return e[r]}function Dye(e){const r=[];return r.key=e,r}function Rye(){var e=Rr([]),r=IC,n=Hm,a=Pye;function s(i){var o=Array.from(e.apply(this,arguments),Dye),c,u=o.length,d=-1,f;for(const h of i)for(c=0,++d;c<u;++c)(o[c][d]=[0,+a(h,o[c].key,d,i)]).data=h;for(c=0,f=LO(r(o));c<u;++c)o[f[c]].index=c;return n(o,f),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Rr(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:Rr(+i),s):a},s.order=function(i){return arguments.length?(r=i==null?IC:typeof i=="function"?i:Rr(Array.from(i)),s):r},s.offset=function(i){return arguments.length?(n=i??Hm,s):n},s}function Iye(e,r){if((a=e.length)>0){for(var n,a,s=0,i=e[0].length,o;s<i;++s){for(o=n=0;n<a;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<a;++n)e[n][s][1]/=o}Hm(e,r)}}function Mye(e,r){if((s=e.length)>0){for(var n=0,a=e[r[0]],s,i=a.length;n<i;++n){for(var o=0,c=0;o<s;++o)c+=e[o][n][1]||0;a[n][1]+=a[n][0]=-c/2}Hm(e,r)}}function Fye(e,r){if(!(!((o=e.length)>0)||!((i=(s=e[r[0]]).length)>0))){for(var n=0,a=1,s,i,o;a<i;++a){for(var c=0,u=0,d=0;c<o;++c){for(var f=e[r[c]],h=f[a][1]||0,m=f[a-1][1]||0,p=(h-m)/2,g=0;g<c;++g){var v=e[r[g]],x=v[a][1]||0,w=v[a-1][1]||0;p+=x-w}u+=h,d+=p*h}s[a-1][1]+=s[a-1][0]=n,u&&(n-=d/u)}s[a-1][1]+=s[a-1][0]=n,Hm(e,r)}}function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hv(e)}var Lye=["type","size","sizeType"];function MC(){return MC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},MC.apply(this,arguments)}function GM(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function YM(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?GM(Object(n),!0).forEach(function(a){$ye(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function $ye(e,r,n){return r=Bye(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Bye(e){var r=Uye(e,"string");return hv(r)=="symbol"?r:r+""}function Uye(e,r){if(hv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(hv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Vye(e,r){if(e==null)return{};var n=zye(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function zye(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}var YW={symbolCircle:$O,symbolCross:uye,symbolDiamond:fye,symbolSquare:hye,symbolStar:vye,symbolTriangle:xye,symbolWye:bye},Wye=Math.PI/180,Hye=function(r){var n="symbol".concat(gS(r));return YW[n]||$O},qye=function(r,n,a){if(n==="area")return r;switch(a){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var s=18*Wye;return 1.25*r*r*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},Kye=function(r,n){YW["symbol".concat(gS(r))]=n},BO=function(r){var n=r.type,a=n===void 0?"circle":n,s=r.size,i=s===void 0?64:s,o=r.sizeType,c=o===void 0?"area":o,u=Vye(r,Lye),d=YM(YM({},u),{},{type:a,size:i,sizeType:c}),f=function(){var x=Hye(a),w=wye().type(x).size(qye(i,c,a));return w()},h=d.className,m=d.cx,p=d.cy,g=Ct(d,!0);return m===+m&&p===+p&&i===+i?ne.createElement("path",MC({},g,{className:Ut("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(p,")"),d:f()})):null};BO.registerSymbol=Kye;function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qm(e)}function FC(){return FC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},FC.apply(this,arguments)}function XM(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Gye(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?XM(Object(n),!0).forEach(function(a){mv(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Yye(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Xye(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,JW(a.key),a)}}function Jye(e,r,n){return r&&Xye(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qye(e,r,n){return r=Hb(r),Zye(e,XW()?Reflect.construct(r,n||[],Hb(e).constructor):r.apply(e,n))}function Zye(e,r){if(r&&(qm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e1e(e)}function e1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XW=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hb(e)}function t1e(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&LC(e,r)}function LC(e,r){return LC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},LC(e,r)}function mv(e,r,n){return r=JW(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function JW(e){var r=r1e(e,"string");return qm(r)=="symbol"?r:r+""}function r1e(e,r){if(qm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(qm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ki=32,UO=function(e){function r(){return Yye(this,r),Qye(this,r,arguments)}return t1e(r,e),Jye(r,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=ki/2,o=ki/6,c=ki/3,u=a.inactive?s:a.color;if(a.type==="plainline")return ne.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:ki,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return ne.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(ki,"M").concat(2*c,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return ne.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(ki/8,"h").concat(ki,"v").concat(ki*3/4,"h").concat(-ki,"z"),className:"recharts-legend-icon"});if(ne.isValidElement(a.legendIcon)){var d=Gye({},a);return delete d.legendIcon,ne.cloneElement(a.legendIcon,d)}return ne.createElement(BO,{fill:u,cx:i,cy:i,size:ki,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,o=s.iconSize,c=s.layout,u=s.formatter,d=s.inactiveColor,f={x:0,y:0,width:ki,height:ki},h={display:c==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var v=p.formatter||u,x=Ut(mv(mv({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=Dt(p.value)?null:p.value;No(!Dt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?d:p.color;return ne.createElement("li",FC({className:x,style:h,key:"legend-item-".concat(g)},_f(a.props,p,g)),ne.createElement(EC,{width:o,height:o,viewBox:f,style:m},a.renderIcon(p)),ne.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},v?v(w,p,g):w))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,o=a.align;if(!s||!s.length)return null;var c={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ne.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(y.PureComponent);mv(UO,"displayName","Legend");mv(UO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var n1e=nS;function a1e(){this.__data__=new n1e,this.size=0}var s1e=a1e;function i1e(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}var o1e=i1e;function l1e(e){return this.__data__.get(e)}var c1e=l1e;function u1e(e){return this.__data__.has(e)}var d1e=u1e,f1e=nS,h1e=EO,m1e=TO,p1e=200;function g1e(e,r){var n=this.__data__;if(n instanceof f1e){var a=n.__data__;if(!h1e||a.length<p1e-1)return a.push([e,r]),this.size=++n.size,this;n=this.__data__=new m1e(a)}return n.set(e,r),this.size=n.size,this}var v1e=g1e,x1e=nS,y1e=s1e,b1e=o1e,w1e=c1e,_1e=d1e,S1e=v1e;function Yp(e){var r=this.__data__=new x1e(e);this.size=r.size}Yp.prototype.clear=y1e;Yp.prototype.delete=b1e;Yp.prototype.get=w1e;Yp.prototype.has=_1e;Yp.prototype.set=S1e;var QW=Yp,j1e="__lodash_hash_undefined__";function k1e(e){return this.__data__.set(e,j1e),this}var N1e=k1e;function C1e(e){return this.__data__.has(e)}var E1e=C1e,T1e=TO,A1e=N1e,O1e=E1e;function qb(e){var r=-1,n=e==null?0:e.length;for(this.__data__=new T1e;++r<n;)this.add(e[r])}qb.prototype.add=qb.prototype.push=A1e;qb.prototype.has=O1e;var ZW=qb;function P1e(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}var eH=P1e;function D1e(e,r){return e.has(r)}var tH=D1e,R1e=ZW,I1e=eH,M1e=tH,F1e=1,L1e=2;function $1e(e,r,n,a,s,i){var o=n&F1e,c=e.length,u=r.length;if(c!=u&&!(o&&u>c))return!1;var d=i.get(e),f=i.get(r);if(d&&f)return d==r&&f==e;var h=-1,m=!0,p=n&L1e?new R1e:void 0;for(i.set(e,r),i.set(r,e);++h<c;){var g=e[h],v=r[h];if(a)var x=o?a(v,g,h,r,e,i):a(g,v,h,e,r,i);if(x!==void 0){if(x)continue;m=!1;break}if(p){if(!I1e(r,function(w,b){if(!M1e(p,b)&&(g===w||s(g,w,n,a,i)))return p.push(b)})){m=!1;break}}else if(!(g===v||s(g,v,n,a,i))){m=!1;break}}return i.delete(e),i.delete(r),m}var rH=$1e,B1e=Dl,U1e=B1e.Uint8Array,V1e=U1e;function z1e(e){var r=-1,n=Array(e.size);return e.forEach(function(a,s){n[++r]=[s,a]}),n}var W1e=z1e;function H1e(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}var VO=H1e,JM=Px,QM=V1e,q1e=CO,K1e=rH,G1e=W1e,Y1e=VO,X1e=1,J1e=2,Q1e="[object Boolean]",Z1e="[object Date]",ebe="[object Error]",tbe="[object Map]",rbe="[object Number]",nbe="[object RegExp]",abe="[object Set]",sbe="[object String]",ibe="[object Symbol]",obe="[object ArrayBuffer]",lbe="[object DataView]",ZM=JM?JM.prototype:void 0,Fk=ZM?ZM.valueOf:void 0;function cbe(e,r,n,a,s,i,o){switch(n){case lbe:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case obe:return!(e.byteLength!=r.byteLength||!i(new QM(e),new QM(r)));case Q1e:case Z1e:case rbe:return q1e(+e,+r);case ebe:return e.name==r.name&&e.message==r.message;case nbe:case sbe:return e==r+"";case tbe:var c=G1e;case abe:var u=a&X1e;if(c||(c=Y1e),e.size!=r.size&&!u)return!1;var d=o.get(e);if(d)return d==r;a|=J1e,o.set(e,r);var f=K1e(c(e),c(r),a,s,i,o);return o.delete(e),f;case ibe:if(Fk)return Fk.call(e)==Fk.call(r)}return!1}var ube=cbe;function dbe(e,r){for(var n=-1,a=r.length,s=e.length;++n<a;)e[s+n]=r[n];return e}var nH=dbe,fbe=nH,hbe=Hs;function mbe(e,r,n){var a=r(e);return hbe(e)?a:fbe(a,n(e))}var pbe=mbe;function gbe(e,r){for(var n=-1,a=e==null?0:e.length,s=0,i=[];++n<a;){var o=e[n];r(o,n,e)&&(i[s++]=o)}return i}var vbe=gbe;function xbe(){return[]}var ybe=xbe,bbe=vbe,wbe=ybe,_be=Object.prototype,Sbe=_be.propertyIsEnumerable,eF=Object.getOwnPropertySymbols,jbe=eF?function(e){return e==null?[]:(e=Object(e),bbe(eF(e),function(r){return Sbe.call(e,r)}))}:wbe,kbe=jbe;function Nbe(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}var Cbe=Nbe,Ebe=Ac,Tbe=Oc,Abe="[object Arguments]";function Obe(e){return Tbe(e)&&Ebe(e)==Abe}var Pbe=Obe,tF=Pbe,Dbe=Oc,aH=Object.prototype,Rbe=aH.hasOwnProperty,Ibe=aH.propertyIsEnumerable,Mbe=tF(function(){return arguments}())?tF:function(e){return Dbe(e)&&Rbe.call(e,"callee")&&!Ibe.call(e,"callee")},zO=Mbe,Kb={exports:{}};function Fbe(){return!1}var Lbe=Fbe;Kb.exports;(function(e,r){var n=Dl,a=Lbe,s=r&&!r.nodeType&&r,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,c=o?n.Buffer:void 0,u=c?c.isBuffer:void 0,d=u||a;e.exports=d})(Kb,Kb.exports);var sH=Kb.exports,$be=9007199254740991,Bbe=/^(?:0|[1-9]\d*)$/;function Ube(e,r){var n=typeof e;return r=r??$be,!!r&&(n=="number"||n!="symbol"&&Bbe.test(e))&&e>-1&&e%1==0&&e<r}var WO=Ube,Vbe=9007199254740991;function zbe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Vbe}var HO=zbe,Wbe=Ac,Hbe=HO,qbe=Oc,Kbe="[object Arguments]",Gbe="[object Array]",Ybe="[object Boolean]",Xbe="[object Date]",Jbe="[object Error]",Qbe="[object Function]",Zbe="[object Map]",ewe="[object Number]",twe="[object Object]",rwe="[object RegExp]",nwe="[object Set]",awe="[object String]",swe="[object WeakMap]",iwe="[object ArrayBuffer]",owe="[object DataView]",lwe="[object Float32Array]",cwe="[object Float64Array]",uwe="[object Int8Array]",dwe="[object Int16Array]",fwe="[object Int32Array]",hwe="[object Uint8Array]",mwe="[object Uint8ClampedArray]",pwe="[object Uint16Array]",gwe="[object Uint32Array]",Vr={};Vr[lwe]=Vr[cwe]=Vr[uwe]=Vr[dwe]=Vr[fwe]=Vr[hwe]=Vr[mwe]=Vr[pwe]=Vr[gwe]=!0;Vr[Kbe]=Vr[Gbe]=Vr[iwe]=Vr[Ybe]=Vr[owe]=Vr[Xbe]=Vr[Jbe]=Vr[Qbe]=Vr[Zbe]=Vr[ewe]=Vr[twe]=Vr[rwe]=Vr[nwe]=Vr[awe]=Vr[swe]=!1;function vwe(e){return qbe(e)&&Hbe(e.length)&&!!Vr[Wbe(e)]}var xwe=vwe;function ywe(e){return function(r){return e(r)}}var iH=ywe,Gb={exports:{}};Gb.exports;(function(e,r){var n=mW,a=r&&!r.nodeType&&r,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,o=i&&n.process,c=function(){try{var u=s&&s.require&&s.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=c})(Gb,Gb.exports);var bwe=Gb.exports,wwe=xwe,_we=iH,rF=bwe,nF=rF&&rF.isTypedArray,Swe=nF?_we(nF):wwe,oH=Swe,jwe=Cbe,kwe=zO,Nwe=Hs,Cwe=sH,Ewe=WO,Twe=oH,Awe=Object.prototype,Owe=Awe.hasOwnProperty;function Pwe(e,r){var n=Nwe(e),a=!n&&kwe(e),s=!n&&!a&&Cwe(e),i=!n&&!a&&!s&&Twe(e),o=n||a||s||i,c=o?jwe(e.length,String):[],u=c.length;for(var d in e)(r||Owe.call(e,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Ewe(d,u)))&&c.push(d);return c}var Dwe=Pwe,Rwe=Object.prototype;function Iwe(e){var r=e&&e.constructor,n=typeof r=="function"&&r.prototype||Rwe;return e===n}var Mwe=Iwe;function Fwe(e,r){return function(n){return e(r(n))}}var lH=Fwe,Lwe=lH,$we=Lwe(Object.keys,Object),Bwe=$we,Uwe=Mwe,Vwe=Bwe,zwe=Object.prototype,Wwe=zwe.hasOwnProperty;function Hwe(e){if(!Uwe(e))return Vwe(e);var r=[];for(var n in Object(e))Wwe.call(e,n)&&n!="constructor"&&r.push(n);return r}var qwe=Hwe,Kwe=NO,Gwe=HO;function Ywe(e){return e!=null&&Gwe(e.length)&&!Kwe(e)}var Rx=Ywe,Xwe=Dwe,Jwe=qwe,Qwe=Rx;function Zwe(e){return Qwe(e)?Xwe(e):Jwe(e)}var bS=Zwe,e_e=pbe,t_e=kbe,r_e=bS;function n_e(e){return e_e(e,r_e,t_e)}var a_e=n_e,aF=a_e,s_e=1,i_e=Object.prototype,o_e=i_e.hasOwnProperty;function l_e(e,r,n,a,s,i){var o=n&s_e,c=aF(e),u=c.length,d=aF(r),f=d.length;if(u!=f&&!o)return!1;for(var h=u;h--;){var m=c[h];if(!(o?m in r:o_e.call(r,m)))return!1}var p=i.get(e),g=i.get(r);if(p&&g)return p==r&&g==e;var v=!0;i.set(e,r),i.set(r,e);for(var x=o;++h<u;){m=c[h];var w=e[m],b=r[m];if(a)var _=o?a(b,w,m,r,e,i):a(w,b,m,e,r,i);if(!(_===void 0?w===b||s(w,b,n,a,i):_)){v=!1;break}x||(x=m=="constructor")}if(v&&!x){var S=e.constructor,j=r.constructor;S!=j&&"constructor"in e&&"constructor"in r&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(v=!1)}return i.delete(e),i.delete(r),v}var c_e=l_e,u_e=Uf,d_e=Dl,f_e=u_e(d_e,"DataView"),h_e=f_e,m_e=Uf,p_e=Dl,g_e=m_e(p_e,"Promise"),v_e=g_e,x_e=Uf,y_e=Dl,b_e=x_e(y_e,"Set"),cH=b_e,w_e=Uf,__e=Dl,S_e=w_e(__e,"WeakMap"),j_e=S_e,$C=h_e,BC=EO,UC=v_e,VC=cH,zC=j_e,uH=Ac,Xp=gW,sF="[object Map]",k_e="[object Object]",iF="[object Promise]",oF="[object Set]",lF="[object WeakMap]",cF="[object DataView]",N_e=Xp($C),C_e=Xp(BC),E_e=Xp(UC),T_e=Xp(VC),A_e=Xp(zC),bd=uH;($C&&bd(new $C(new ArrayBuffer(1)))!=cF||BC&&bd(new BC)!=sF||UC&&bd(UC.resolve())!=iF||VC&&bd(new VC)!=oF||zC&&bd(new zC)!=lF)&&(bd=function(e){var r=uH(e),n=r==k_e?e.constructor:void 0,a=n?Xp(n):"";if(a)switch(a){case N_e:return cF;case C_e:return sF;case E_e:return iF;case T_e:return oF;case A_e:return lF}return r});var O_e=bd,Lk=QW,P_e=rH,D_e=ube,R_e=c_e,uF=O_e,dF=Hs,fF=sH,I_e=oH,M_e=1,hF="[object Arguments]",mF="[object Array]",Gy="[object Object]",F_e=Object.prototype,pF=F_e.hasOwnProperty;function L_e(e,r,n,a,s,i){var o=dF(e),c=dF(r),u=o?mF:uF(e),d=c?mF:uF(r);u=u==hF?Gy:u,d=d==hF?Gy:d;var f=u==Gy,h=d==Gy,m=u==d;if(m&&fF(e)){if(!fF(r))return!1;o=!0,f=!1}if(m&&!f)return i||(i=new Lk),o||I_e(e)?P_e(e,r,n,a,s,i):D_e(e,r,u,n,a,s,i);if(!(n&M_e)){var p=f&&pF.call(e,"__wrapped__"),g=h&&pF.call(r,"__wrapped__");if(p||g){var v=p?e.value():e,x=g?r.value():r;return i||(i=new Lk),s(v,x,n,a,i)}}return m?(i||(i=new Lk),R_e(e,r,n,a,s,i)):!1}var $_e=L_e,B_e=$_e,gF=Oc;function dH(e,r,n,a,s){return e===r?!0:e==null||r==null||!gF(e)&&!gF(r)?e!==e&&r!==r:B_e(e,r,n,a,dH,s)}var qO=dH,U_e=QW,V_e=qO,z_e=1,W_e=2;function H_e(e,r,n,a){var s=n.length,i=s,o=!a;if(e==null)return!i;for(e=Object(e);s--;){var c=n[s];if(o&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<i;){c=n[s];var u=c[0],d=e[u],f=c[1];if(o&&c[2]){if(d===void 0&&!(u in e))return!1}else{var h=new U_e;if(a)var m=a(d,f,u,e,r,h);if(!(m===void 0?V_e(f,d,z_e|W_e,a,h):m))return!1}}return!0}var q_e=H_e,K_e=rd;function G_e(e){return e===e&&!K_e(e)}var fH=G_e,Y_e=fH,X_e=bS;function J_e(e){for(var r=X_e(e),n=r.length;n--;){var a=r[n],s=e[a];r[n]=[a,s,Y_e(s)]}return r}var Q_e=J_e;function Z_e(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}var hH=Z_e,eSe=q_e,tSe=Q_e,rSe=hH;function nSe(e){var r=tSe(e);return r.length==1&&r[0][2]?rSe(r[0][0],r[0][1]):function(n){return n===e||eSe(n,e,r)}}var aSe=nSe;function sSe(e,r){return e!=null&&r in Object(e)}var iSe=sSe,oSe=wW,lSe=zO,cSe=Hs,uSe=WO,dSe=HO,fSe=sS;function hSe(e,r,n){r=oSe(r,e);for(var a=-1,s=r.length,i=!1;++a<s;){var o=fSe(r[a]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++a!=s?i:(s=e==null?0:e.length,!!s&&dSe(s)&&uSe(o,s)&&(cSe(e)||lSe(e)))}var mSe=hSe,pSe=iSe,gSe=mSe;function vSe(e,r){return e!=null&&gSe(e,r,pSe)}var xSe=vSe,ySe=qO,bSe=_W,wSe=xSe,_Se=kO,SSe=fH,jSe=hH,kSe=sS,NSe=1,CSe=2;function ESe(e,r){return _Se(e)&&SSe(r)?jSe(kSe(e),r):function(n){var a=bSe(n,e);return a===void 0&&a===r?wSe(n,e):ySe(r,a,NSe|CSe)}}var TSe=ESe;function ASe(e){return e}var Jp=ASe;function OSe(e){return function(r){return r==null?void 0:r[e]}}var PSe=OSe,DSe=PO;function RSe(e){return function(r){return DSe(r,e)}}var ISe=RSe,MSe=PSe,FSe=ISe,LSe=kO,$Se=sS;function BSe(e){return LSe(e)?MSe($Se(e)):FSe(e)}var USe=BSe,VSe=aSe,zSe=TSe,WSe=Jp,HSe=Hs,qSe=USe;function KSe(e){return typeof e=="function"?e:e==null?WSe:typeof e=="object"?HSe(e)?zSe(e[0],e[1]):VSe(e):qSe(e)}var Rl=KSe;function GSe(e,r,n,a){for(var s=e.length,i=n+(a?1:-1);a?i--:++i<s;)if(r(e[i],i,e))return i;return-1}var mH=GSe;function YSe(e){return e!==e}var XSe=YSe;function JSe(e,r,n){for(var a=n-1,s=e.length;++a<s;)if(e[a]===r)return a;return-1}var QSe=JSe,ZSe=mH,eje=XSe,tje=QSe;function rje(e,r,n){return r===r?tje(e,r,n):ZSe(e,eje,n)}var nje=rje,aje=nje;function sje(e,r){var n=e==null?0:e.length;return!!n&&aje(e,r,0)>-1}var ije=sje;function oje(e,r,n){for(var a=-1,s=e==null?0:e.length;++a<s;)if(n(r,e[a]))return!0;return!1}var lje=oje;function cje(){}var uje=cje,$k=cH,dje=uje,fje=VO,hje=1/0,mje=$k&&1/fje(new $k([,-0]))[1]==hje?function(e){return new $k(e)}:dje,pje=mje,gje=ZW,vje=ije,xje=lje,yje=tH,bje=pje,wje=VO,_je=200;function Sje(e,r,n){var a=-1,s=vje,i=e.length,o=!0,c=[],u=c;if(n)o=!1,s=xje;else if(i>=_je){var d=r?null:bje(e);if(d)return wje(d);o=!1,s=yje,u=new gje}else u=r?[]:c;e:for(;++a<i;){var f=e[a],h=r?r(f):f;if(f=n||f!==0?f:0,o&&h===h){for(var m=u.length;m--;)if(u[m]===h)continue e;r&&u.push(h),c.push(f)}else s(u,h,n)||(u!==c&&u.push(h),c.push(f))}return c}var jje=Sje,kje=Rl,Nje=jje;function Cje(e,r){return e&&e.length?Nje(e,kje(r)):[]}var Eje=Cje;const vF=vr(Eje);function pH(e,r,n){return r===!0?vF(e,n):Dt(r)?vF(e,r):e}function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Km(e)}var Tje=["ref"];function xF(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ul(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?xF(Object(n),!0).forEach(function(a){wS(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xF(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Aje(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function yF(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,vH(a.key),a)}}function Oje(e,r,n){return r&&yF(e.prototype,r),n&&yF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pje(e,r,n){return r=Yb(r),Dje(e,gH()?Reflect.construct(r,n||[],Yb(e).constructor):r.apply(e,n))}function Dje(e,r){if(r&&(Km(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rje(e)}function Rje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gH=function(){return!!e})()}function Yb(e){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yb(e)}function Ije(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&WC(e,r)}function WC(e,r){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},WC(e,r)}function wS(e,r,n){return r=vH(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function vH(e){var r=Mje(e,"string");return Km(r)=="symbol"?r:r+""}function Mje(e,r){if(Km(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Km(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Fje(e,r){if(e==null)return{};var n=Lje(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Lje(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function $je(e){return e.value}function Bje(e,r){if(ne.isValidElement(e))return ne.cloneElement(e,r);if(typeof e=="function")return ne.createElement(e,r);r.ref;var n=Fje(r,Tje);return ne.createElement(UO,n)}var bF=1,oc=function(e){function r(){var n;Aje(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=Pje(this,r,[].concat(s)),wS(n,"lastBoundingBox",{width:-1,height:-1}),n}return Ije(r,e),Oje(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>bF||Math.abs(s.height-this.lastBoundingBox.height)>bF)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ul({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,o=s.align,c=s.verticalAlign,u=s.margin,d=s.chartWidth,f=s.chartHeight,h,m;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();h={left:((d||0)-p.width)/2}}else h=o==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(c==="middle"){var g=this.getBBoxSnapshot();m={top:((f||0)-g.height)/2}}else m=c==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Ul(Ul({},h),m)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,o=s.width,c=s.height,u=s.wrapperStyle,d=s.payloadUniqBy,f=s.payload,h=Ul(Ul({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(u)),u);return ne.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){a.wrapperNode=p}},Bje(i,Ul(Ul({},this.props),{},{payload:pH(f,d,$je)})))}}],[{key:"getWithHeight",value:function(a,s){var i=Ul(Ul({},this.defaultProps),a.props),o=i.layout;return o==="vertical"&&Qe(a.props.height)?{height:a.props.height}:o==="horizontal"?{width:a.props.width||s}:null}}])}(y.PureComponent);wS(oc,"displayName","Legend");wS(oc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var wF=Px,Uje=zO,Vje=Hs,_F=wF?wF.isConcatSpreadable:void 0;function zje(e){return Vje(e)||Uje(e)||!!(_F&&e&&e[_F])}var Wje=zje,Hje=nH,qje=Wje;function xH(e,r,n,a,s){var i=-1,o=e.length;for(n||(n=qje),s||(s=[]);++i<o;){var c=e[i];r>0&&n(c)?r>1?xH(c,r-1,n,a,s):Hje(s,c):a||(s[s.length]=c)}return s}var yH=xH;function Kje(e){return function(r,n,a){for(var s=-1,i=Object(r),o=a(r),c=o.length;c--;){var u=o[e?c:++s];if(n(i[u],u,i)===!1)break}return r}}var Gje=Kje,Yje=Gje,Xje=Yje(),Jje=Xje,Qje=Jje,Zje=bS;function eke(e,r){return e&&Qje(e,r,Zje)}var bH=eke,tke=Rx;function rke(e,r){return function(n,a){if(n==null)return n;if(!tke(n))return e(n,a);for(var s=n.length,i=r?s:-1,o=Object(n);(r?i--:++i<s)&&a(o[i],i,o)!==!1;);return n}}var nke=rke,ake=bH,ske=nke,ike=ske(ake),KO=ike,oke=KO,lke=Rx;function cke(e,r){var n=-1,a=lke(e)?Array(e.length):[];return oke(e,function(s,i,o){a[++n]=r(s,i,o)}),a}var wH=cke;function uke(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}var dke=uke,SF=zp;function fke(e,r){if(e!==r){var n=e!==void 0,a=e===null,s=e===e,i=SF(e),o=r!==void 0,c=r===null,u=r===r,d=SF(r);if(!c&&!d&&!i&&e>r||i&&o&&u&&!c&&!d||a&&o&&u||!n&&u||!s)return 1;if(!a&&!i&&!d&&e<r||d&&n&&s&&!a&&!i||c&&n&&s||!o&&s||!u)return-1}return 0}var hke=fke,mke=hke;function pke(e,r,n){for(var a=-1,s=e.criteria,i=r.criteria,o=s.length,c=n.length;++a<o;){var u=mke(s[a],i[a]);if(u){if(a>=c)return u;var d=n[a];return u*(d=="desc"?-1:1)}}return e.index-r.index}var gke=pke,Bk=OO,vke=PO,xke=Rl,yke=wH,bke=dke,wke=iH,_ke=gke,Ske=Jp,jke=Hs;function kke(e,r,n){r.length?r=Bk(r,function(i){return jke(i)?function(o){return vke(o,i.length===1?i[0]:i)}:i}):r=[Ske];var a=-1;r=Bk(r,wke(xke));var s=yke(e,function(i,o,c){var u=Bk(r,function(d){return d(i)});return{criteria:u,index:++a,value:i}});return bke(s,function(i,o){return _ke(i,o,n)})}var Nke=kke;function Cke(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}var Eke=Cke,Tke=Eke,jF=Math.max;function Ake(e,r,n){return r=jF(r===void 0?e.length-1:r,0),function(){for(var a=arguments,s=-1,i=jF(a.length-r,0),o=Array(i);++s<i;)o[s]=a[r+s];s=-1;for(var c=Array(r+1);++s<r;)c[s]=a[s];return c[r]=n(o),Tke(e,this,c)}}var Oke=Ake;function Pke(e){return function(){return e}}var Dke=Pke,Rke=Uf,Ike=function(){try{var e=Rke(Object,"defineProperty");return e({},"",{}),e}catch{}}(),_H=Ike,Mke=Dke,kF=_H,Fke=Jp,Lke=kF?function(e,r){return kF(e,"toString",{configurable:!0,enumerable:!1,value:Mke(r),writable:!0})}:Fke,$ke=Lke,Bke=800,Uke=16,Vke=Date.now;function zke(e){var r=0,n=0;return function(){var a=Vke(),s=Uke-(a-n);if(n=a,s>0){if(++r>=Bke)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var Wke=zke,Hke=$ke,qke=Wke,Kke=qke(Hke),Gke=Kke,Yke=Jp,Xke=Oke,Jke=Gke;function Qke(e,r){return Jke(Xke(e,r,Yke),e+"")}var Zke=Qke,eNe=CO,tNe=Rx,rNe=WO,nNe=rd;function aNe(e,r,n){if(!nNe(n))return!1;var a=typeof r;return(a=="number"?tNe(n)&&rNe(r,n.length):a=="string"&&r in n)?eNe(n[r],e):!1}var _S=aNe,sNe=yH,iNe=Nke,oNe=Zke,NF=_S,lNe=oNe(function(e,r){if(e==null)return[];var n=r.length;return n>1&&NF(e,r[0],r[1])?r=[]:n>2&&NF(r[0],r[1],r[2])&&(r=[r[0]]),iNe(e,sNe(r,1),[])}),cNe=lNe;const GO=vr(cNe);function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pv(e)}function HC(){return HC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},HC.apply(this,arguments)}function uNe(e,r){return mNe(e)||hNe(e,r)||fNe(e,r)||dNe()}function dNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fNe(e,r){if(e){if(typeof e=="string")return CF(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CF(e,r)}}function CF(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function hNe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function mNe(e){if(Array.isArray(e))return e}function EF(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Uk(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?EF(Object(n),!0).forEach(function(a){pNe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EF(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function pNe(e,r,n){return r=gNe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function gNe(e){var r=vNe(e,"string");return pv(r)=="symbol"?r:r+""}function vNe(e,r){if(pv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(pv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function xNe(e){return Array.isArray(e)&&Hn(e[0])&&Hn(e[1])?e.join(" ~ "):e}var yNe=function(r){var n=r.separator,a=n===void 0?" : ":n,s=r.contentStyle,i=s===void 0?{}:s,o=r.itemStyle,c=o===void 0?{}:o,u=r.labelStyle,d=u===void 0?{}:u,f=r.payload,h=r.formatter,m=r.itemSorter,p=r.wrapperClassName,g=r.labelClassName,v=r.label,x=r.labelFormatter,w=r.accessibilityLayer,b=w===void 0?!1:w,_=function(){if(f&&f.length){var T={padding:0,margin:0},W=(m?GO(f,m):f).map(function(q,L){if(q.type==="none")return null;var I=Uk({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},c),z=q.formatter||h||xNe,F=q.value,M=q.name,X=F,ee=M;if(z&&X!=null&&ee!=null){var P=z(F,M,q,L,f);if(Array.isArray(P)){var J=uNe(P,2);X=J[0],ee=J[1]}else X=P}return ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:I},Hn(ee)?ne.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Hn(ee)?ne.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,ne.createElement("span",{className:"recharts-tooltip-item-value"},X),ne.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return ne.createElement("ul",{className:"recharts-tooltip-item-list",style:T},W)}return null},S=Uk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=Uk({margin:0},d),N=!Bt(v),k=N?v:"",E=Ut("recharts-default-tooltip",p),C=Ut("recharts-tooltip-label",g);N&&x&&f!==void 0&&f!==null&&(k=x(v,f));var A=b?{role:"status","aria-live":"assertive"}:{};return ne.createElement("div",HC({className:E,style:S},A),ne.createElement("p",{className:C,style:j},ne.isValidElement(k)?k:"".concat(k)),_())};function gv(e){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gv(e)}function Yy(e,r,n){return r=bNe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function bNe(e){var r=wNe(e,"string");return gv(r)=="symbol"?r:r+""}function wNe(e,r){if(gv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(gv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var j0="recharts-tooltip-wrapper",_Ne={visibility:"hidden"};function SNe(e){var r=e.coordinate,n=e.translateX,a=e.translateY;return Ut(j0,Yy(Yy(Yy(Yy({},"".concat(j0,"-right"),Qe(n)&&r&&Qe(r.x)&&n>=r.x),"".concat(j0,"-left"),Qe(n)&&r&&Qe(r.x)&&n<r.x),"".concat(j0,"-bottom"),Qe(a)&&r&&Qe(r.y)&&a>=r.y),"".concat(j0,"-top"),Qe(a)&&r&&Qe(r.y)&&a<r.y))}function TF(e){var r=e.allowEscapeViewBox,n=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,c=e.tooltipDimension,u=e.viewBox,d=e.viewBoxDimension;if(i&&Qe(i[a]))return i[a];var f=n[a]-c-s,h=n[a]+s;if(r[a])return o[a]?f:h;if(o[a]){var m=f,p=u[a];return m<p?Math.max(h,u[a]):Math.max(f,u[a])}var g=h+c,v=u[a]+d;return g>v?Math.max(f,u[a]):Math.max(h,u[a])}function jNe(e){var r=e.translateX,n=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(r,"px, ").concat(n,"px, 0)"):"translate(".concat(r,"px, ").concat(n,"px)")}}function kNe(e){var r=e.allowEscapeViewBox,n=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox,d,f,h;return o.height>0&&o.width>0&&n?(f=TF({allowEscapeViewBox:r,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),h=TF({allowEscapeViewBox:r,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=jNe({translateX:f,translateY:h,useTranslate3d:c})):d=_Ne,{cssProperties:d,cssClasses:SNe({translateX:f,translateY:h,coordinate:n})}}function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gm(e)}function AF(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function OF(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?AF(Object(n),!0).forEach(function(a){KC(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AF(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function NNe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function CNe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,jH(a.key),a)}}function ENe(e,r,n){return r&&CNe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TNe(e,r,n){return r=Xb(r),ANe(e,SH()?Reflect.construct(r,n||[],Xb(e).constructor):r.apply(e,n))}function ANe(e,r){if(r&&(Gm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ONe(e)}function ONe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SH=function(){return!!e})()}function Xb(e){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xb(e)}function PNe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&qC(e,r)}function qC(e,r){return qC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},qC(e,r)}function KC(e,r,n){return r=jH(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function jH(e){var r=DNe(e,"string");return Gm(r)=="symbol"?r:r+""}function DNe(e,r){if(Gm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Gm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var PF=1,RNe=function(e){function r(){var n;NNe(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=TNe(this,r,[].concat(s)),KC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),KC(n,"handleKeyDown",function(o){if(o.key==="Escape"){var c,u,d,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&c!==void 0?c:0,y:(d=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&d!==void 0?d:0}})}}),n}return PNe(r,e),ENe(r,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>PF||Math.abs(a.height-this.state.lastBoundingBox.height)>PF)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,c=s.animationDuration,u=s.animationEasing,d=s.children,f=s.coordinate,h=s.hasPayload,m=s.isAnimationActive,p=s.offset,g=s.position,v=s.reverseDirection,x=s.useTranslate3d,w=s.viewBox,b=s.wrapperStyle,_=kNe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:g,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:w}),S=_.cssClasses,j=_.cssProperties,N=OF(OF({transition:m&&i?"transform ".concat(c,"ms ").concat(u):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},b);return ne.createElement("div",{tabIndex:-1,className:S,style:N,ref:function(E){a.wrapperNode=E}},d)}}])}(y.PureComponent),INe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gl={isSsr:INe(),get:function(r){return gl[r]},set:function(r,n){if(typeof r=="string")gl[r]=n;else{var a=Object.keys(r);a&&a.length&&a.forEach(function(s){gl[s]=r[s]})}}};function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ym(e)}function DF(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function RF(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?DF(Object(n),!0).forEach(function(a){YO(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DF(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function MNe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function FNe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,NH(a.key),a)}}function LNe(e,r,n){return r&&FNe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ne(e,r,n){return r=Jb(r),BNe(e,kH()?Reflect.construct(r,n||[],Jb(e).constructor):r.apply(e,n))}function BNe(e,r){if(r&&(Ym(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UNe(e)}function UNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kH=function(){return!!e})()}function Jb(e){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jb(e)}function VNe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&GC(e,r)}function GC(e,r){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},GC(e,r)}function YO(e,r,n){return r=NH(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function NH(e){var r=zNe(e,"string");return Ym(r)=="symbol"?r:r+""}function zNe(e,r){if(Ym(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Ym(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function WNe(e){return e.dataKey}function HNe(e,r){return ne.isValidElement(e)?ne.cloneElement(e,r):typeof e=="function"?ne.createElement(e,r):ne.createElement(yNe,r)}var Qs=function(e){function r(){return MNe(this,r),$Ne(this,r,arguments)}return VNe(r,e),LNe(r,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,c=s.animationDuration,u=s.animationEasing,d=s.content,f=s.coordinate,h=s.filterNull,m=s.isAnimationActive,p=s.offset,g=s.payload,v=s.payloadUniqBy,x=s.position,w=s.reverseDirection,b=s.useTranslate3d,_=s.viewBox,S=s.wrapperStyle,j=g??[];h&&j.length&&(j=pH(g.filter(function(k){return k.value!=null&&(k.hide!==!0||a.props.includeHidden)}),v,WNe));var N=j.length>0;return ne.createElement(RNe,{allowEscapeViewBox:o,animationDuration:c,animationEasing:u,isAnimationActive:m,active:i,coordinate:f,hasPayload:N,offset:p,position:x,reverseDirection:w,useTranslate3d:b,viewBox:_,wrapperStyle:S},HNe(d,RF(RF({},this.props),{},{payload:j})))}}])}(y.PureComponent);YO(Qs,"displayName","Tooltip");YO(Qs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var qNe=Dl,KNe=function(){return qNe.Date.now()},GNe=KNe,YNe=/\s/;function XNe(e){for(var r=e.length;r--&&YNe.test(e.charAt(r)););return r}var JNe=XNe,QNe=JNe,ZNe=/^\s+/;function e2e(e){return e&&e.slice(0,QNe(e)+1).replace(ZNe,"")}var t2e=e2e,r2e=t2e,IF=rd,n2e=zp,MF=NaN,a2e=/^[-+]0x[0-9a-f]+$/i,s2e=/^0b[01]+$/i,i2e=/^0o[0-7]+$/i,o2e=parseInt;function l2e(e){if(typeof e=="number")return e;if(n2e(e))return MF;if(IF(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=IF(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=r2e(e);var n=s2e.test(e);return n||i2e.test(e)?o2e(e.slice(2),n?2:8):a2e.test(e)?MF:+e}var CH=l2e,c2e=rd,Vk=GNe,FF=CH,u2e="Expected a function",d2e=Math.max,f2e=Math.min;function h2e(e,r,n){var a,s,i,o,c,u,d=0,f=!1,h=!1,m=!0;if(typeof e!="function")throw new TypeError(u2e);r=FF(r)||0,c2e(n)&&(f=!!n.leading,h="maxWait"in n,i=h?d2e(FF(n.maxWait)||0,r):i,m="trailing"in n?!!n.trailing:m);function p(N){var k=a,E=s;return a=s=void 0,d=N,o=e.apply(E,k),o}function g(N){return d=N,c=setTimeout(w,r),f?p(N):o}function v(N){var k=N-u,E=N-d,C=r-k;return h?f2e(C,i-E):C}function x(N){var k=N-u,E=N-d;return u===void 0||k>=r||k<0||h&&E>=i}function w(){var N=Vk();if(x(N))return b(N);c=setTimeout(w,v(N))}function b(N){return c=void 0,m&&a?p(N):(a=s=void 0,o)}function _(){c!==void 0&&clearTimeout(c),d=0,a=u=s=c=void 0}function S(){return c===void 0?o:b(Vk())}function j(){var N=Vk(),k=x(N);if(a=arguments,s=this,u=N,k){if(c===void 0)return g(u);if(h)return clearTimeout(c),c=setTimeout(w,r),p(u)}return c===void 0&&(c=setTimeout(w,r)),o}return j.cancel=_,j.flush=S,j}var m2e=h2e,p2e=m2e,g2e=rd,v2e="Expected a function";function x2e(e,r,n){var a=!0,s=!0;if(typeof e!="function")throw new TypeError(v2e);return g2e(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),p2e(e,r,{leading:a,maxWait:r,trailing:s})}var y2e=x2e;const EH=vr(y2e);function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vv(e)}function LF(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Xy(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?LF(Object(n),!0).forEach(function(a){b2e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LF(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function b2e(e,r,n){return r=w2e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function w2e(e){var r=_2e(e,"string");return vv(r)=="symbol"?r:r+""}function _2e(e,r){if(vv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(vv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function S2e(e,r){return C2e(e)||N2e(e,r)||k2e(e,r)||j2e()}function j2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k2e(e,r){if(e){if(typeof e=="string")return $F(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $F(e,r)}}function $F(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function N2e(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function C2e(e){if(Array.isArray(e))return e}var SS=y.forwardRef(function(e,r){var n=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,o=i===void 0?"100%":i,c=e.height,u=c===void 0?"100%":c,d=e.minWidth,f=d===void 0?0:d,h=e.minHeight,m=e.maxHeight,p=e.children,g=e.debounce,v=g===void 0?0:g,x=e.id,w=e.className,b=e.onResize,_=e.style,S=_===void 0?{}:_,j=y.useRef(null),N=y.useRef();N.current=b,y.useImperativeHandle(r,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var k=y.useState({containerWidth:s.width,containerHeight:s.height}),E=S2e(k,2),C=E[0],A=E[1],D=y.useCallback(function(W,q){A(function(L){var I=Math.round(W),z=Math.round(q);return L.containerWidth===I&&L.containerHeight===z?L:{containerWidth:I,containerHeight:z}})},[]);y.useEffect(function(){var W=function(M){var X,ee=M[0].contentRect,P=ee.width,J=ee.height;D(P,J),(X=N.current)===null||X===void 0||X.call(N,P,J)};v>0&&(W=EH(W,v,{trailing:!0,leading:!1}));var q=new ResizeObserver(W),L=j.current.getBoundingClientRect(),I=L.width,z=L.height;return D(I,z),q.observe(j.current),function(){q.disconnect()}},[D,v]);var T=y.useMemo(function(){var W=C.containerWidth,q=C.containerHeight;if(W<0||q<0)return null;No(Fd(o)||Fd(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),No(!n||n>0,"The aspect(%s) must be greater than zero.",n);var L=Fd(o)?W:o,I=Fd(u)?q:u;n&&n>0&&(L?I=L/n:I&&(L=I*n),m&&I>m&&(I=m)),No(L>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,I,o,u,f,h,n);var z=!Array.isArray(p)&&ic(p.type).endsWith("Chart");return ne.Children.map(p,function(F){return ne.isValidElement(F)?y.cloneElement(F,Xy({width:L,height:I},z?{style:Xy({height:"100%",width:"100%",maxHeight:I,maxWidth:L},F.props.style)}:{})):F})},[n,p,u,m,h,f,C,o]);return ne.createElement("div",{id:x?"".concat(x):void 0,className:Ut("recharts-responsive-container",w),style:Xy(Xy({},S),{},{width:o,height:u,minWidth:f,minHeight:h,maxHeight:m}),ref:j},T)}),il=function(r){return null};il.displayName="Cell";function xv(e){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xv(e)}function BF(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function YC(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?BF(Object(n),!0).forEach(function(a){E2e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BF(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function E2e(e,r,n){return r=T2e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function T2e(e){var r=A2e(e,"string");return xv(r)=="symbol"?r:r+""}function A2e(e,r){if(xv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(xv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var fh={widthCache:{},cacheCount:0},O2e=2e3,P2e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},UF="recharts_measurement_span";function D2e(e){var r=YC({},e);return Object.keys(r).forEach(function(n){r[n]||delete r[n]}),r}var vg=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||gl.isSsr)return{width:0,height:0};var a=D2e(n),s=JSON.stringify({text:r,copyStyle:a});if(fh.widthCache[s])return fh.widthCache[s];try{var i=document.getElementById(UF);i||(i=document.createElement("span"),i.setAttribute("id",UF),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=YC(YC({},P2e),a);Object.assign(i.style,o),i.textContent="".concat(r);var c=i.getBoundingClientRect(),u={width:c.width,height:c.height};return fh.widthCache[s]=u,++fh.cacheCount>O2e&&(fh.cacheCount=0,fh.widthCache={}),u}catch{return{width:0,height:0}}},R2e=function(r){return{top:r.top+window.scrollY-document.documentElement.clientTop,left:r.left+window.scrollX-document.documentElement.clientLeft}};function yv(e){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yv(e)}function Qb(e,r){return L2e(e)||F2e(e,r)||M2e(e,r)||I2e()}function I2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M2e(e,r){if(e){if(typeof e=="string")return VF(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VF(e,r)}}function VF(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function F2e(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function L2e(e){if(Array.isArray(e))return e}function $2e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zF(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,U2e(a.key),a)}}function B2e(e,r,n){return r&&zF(e.prototype,r),n&&zF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function U2e(e){var r=V2e(e,"string");return yv(r)=="symbol"?r:r+""}function V2e(e,r){if(yv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(yv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,z2e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,W2e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,TH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},H2e=Object.keys(TH),Vh="NaN";function q2e(e,r){return e*TH[r]}var Jy=function(){function e(r,n){$2e(this,e),this.num=r,this.unit=n,this.num=r,this.unit=n,Number.isNaN(r)&&(this.unit=""),n!==""&&!z2e.test(n)&&(this.num=NaN,this.unit=""),H2e.includes(n)&&(this.num=q2e(r,n),this.unit="px")}return B2e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var a,s=(a=W2e.exec(n))!==null&&a!==void 0?a:[],i=Qb(s,3),o=i[1],c=i[2];return new e(parseFloat(o),c??"")}}])}();function AH(e){if(e.includes(Vh))return Vh;for(var r=e;r.includes("*")||r.includes("/");){var n,a=(n=WF.exec(r))!==null&&n!==void 0?n:[],s=Qb(a,4),i=s[1],o=s[2],c=s[3],u=Jy.parse(i??""),d=Jy.parse(c??""),f=o==="*"?u.multiply(d):u.divide(d);if(f.isNaN())return Vh;r=r.replace(WF,f.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var h,m=(h=HF.exec(r))!==null&&h!==void 0?h:[],p=Qb(m,4),g=p[1],v=p[2],x=p[3],w=Jy.parse(g??""),b=Jy.parse(x??""),_=v==="+"?w.add(b):w.subtract(b);if(_.isNaN())return Vh;r=r.replace(HF,_.toString())}return r}var qF=/\(([^()]*)\)/;function K2e(e){for(var r=e;r.includes("(");){var n=qF.exec(r),a=Qb(n,2),s=a[1];r=r.replace(qF,AH(s))}return r}function G2e(e){var r=e.replace(/\s+/g,"");return r=K2e(r),r=AH(r),r}function Y2e(e){try{return G2e(e)}catch{return Vh}}function zk(e){var r=Y2e(e.slice(5,-1));return r===Vh?"":r}var X2e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],J2e=["dx","dy","angle","className","breakAll"];function XC(){return XC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},XC.apply(this,arguments)}function KF(e,r){if(e==null)return{};var n=Q2e(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Q2e(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function GF(e,r){return rCe(e)||tCe(e,r)||eCe(e,r)||Z2e()}function Z2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eCe(e,r){if(e){if(typeof e=="string")return YF(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YF(e,r)}}function YF(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function tCe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function rCe(e){if(Array.isArray(e))return e}var OH=/[ \f\n\r\t\v\u2028\u2029]+/,PH=function(r){var n=r.children,a=r.breakAll,s=r.style;try{var i=[];Bt(n)||(a?i=n.toString().split(""):i=n.toString().split(OH));var o=i.map(function(u){return{word:u,width:vg(u,s).width}}),c=a?0:vg("",s).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},nCe=function(r,n,a,s,i){var o=r.maxLines,c=r.children,u=r.style,d=r.breakAll,f=Qe(o),h=c,m=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(I,z){var F=z.word,M=z.width,X=I[I.length-1];if(X&&(s==null||i||X.width+M+a<Number(s)))X.words.push(F),X.width+=M+a;else{var ee={words:[F],width:M};I.push(ee)}return I},[])},p=m(n),g=function(L){return L.reduce(function(I,z){return I.width>z.width?I:z})};if(!f)return p;for(var v="",x=function(L){var I=h.slice(0,L),z=PH({breakAll:d,style:u,children:I+v}).wordsWithComputedWidth,F=m(z),M=F.length>o||g(F).width>Number(s);return[M,F]},w=0,b=h.length-1,_=0,S;w<=b&&_<=h.length-1;){var j=Math.floor((w+b)/2),N=j-1,k=x(N),E=GF(k,2),C=E[0],A=E[1],D=x(j),T=GF(D,1),W=T[0];if(!C&&!W&&(w=j+1),C&&W&&(b=j-1),!C&&W){S=A;break}_++}return S||p},XF=function(r){var n=Bt(r)?[]:r.toString().split(OH);return[{words:n}]},aCe=function(r){var n=r.width,a=r.scaleToFit,s=r.children,i=r.style,o=r.breakAll,c=r.maxLines;if((n||a)&&!gl.isSsr){var u,d,f=PH({breakAll:o,children:s,style:i});if(f){var h=f.wordsWithComputedWidth,m=f.spaceWidth;u=h,d=m}else return XF(s);return nCe({breakAll:o,children:s,maxLines:c,style:i},u,d,n,a)}return XF(s)},JF="#808080",Sf=function(r){var n=r.x,a=n===void 0?0:n,s=r.y,i=s===void 0?0:s,o=r.lineHeight,c=o===void 0?"1em":o,u=r.capHeight,d=u===void 0?"0.71em":u,f=r.scaleToFit,h=f===void 0?!1:f,m=r.textAnchor,p=m===void 0?"start":m,g=r.verticalAnchor,v=g===void 0?"end":g,x=r.fill,w=x===void 0?JF:x,b=KF(r,X2e),_=y.useMemo(function(){return aCe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:h,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,h,b.style,b.width]),S=b.dx,j=b.dy,N=b.angle,k=b.className,E=b.breakAll,C=KF(b,J2e);if(!Hn(a)||!Hn(i))return null;var A=a+(Qe(S)?S:0),D=i+(Qe(j)?j:0),T;switch(v){case"start":T=zk("calc(".concat(d,")"));break;case"middle":T=zk("calc(".concat((_.length-1)/2," * -").concat(c," + (").concat(d," / 2))"));break;default:T=zk("calc(".concat(_.length-1," * -").concat(c,")"));break}var W=[];if(h){var q=_[0].width,L=b.width;W.push("scale(".concat((Qe(L)?L/q:1)/q,")"))}return N&&W.push("rotate(".concat(N,", ").concat(A,", ").concat(D,")")),W.length&&(C.transform=W.join(" ")),ne.createElement("text",XC({},Ct(C,!0),{x:A,y:D,className:Ut("recharts-text",k),textAnchor:p,fill:w.includes("url")?JF:w}),_.map(function(I,z){var F=I.words.join(E?"":" ");return ne.createElement("tspan",{x:A,dy:z===0?T:c,key:"".concat(F,"-").concat(z)},F)}))};function Pu(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function sCe(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function XO(e){let r,n,a;e.length!==2?(r=Pu,n=(c,u)=>Pu(e(c),u),a=(c,u)=>e(c)-u):(r=e===Pu||e===sCe?e:iCe,n=e,a=e);function s(c,u,d=0,f=c.length){if(d<f){if(r(u,u)!==0)return f;do{const h=d+f>>>1;n(c[h],u)<0?d=h+1:f=h}while(d<f)}return d}function i(c,u,d=0,f=c.length){if(d<f){if(r(u,u)!==0)return f;do{const h=d+f>>>1;n(c[h],u)<=0?d=h+1:f=h}while(d<f)}return d}function o(c,u,d=0,f=c.length){const h=s(c,u,d,f-1);return h>d&&a(c[h-1],u)>-a(c[h],u)?h-1:h}return{left:s,center:o,right:i}}function iCe(){return 0}function DH(e){return e===null?NaN:+e}function*oCe(e,r){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const lCe=XO(Pu),Ix=lCe.right;XO(DH).center;class QF extends Map{constructor(r,n=dCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(const[a,s]of r)this.set(a,s)}get(r){return super.get(ZF(this,r))}has(r){return super.has(ZF(this,r))}set(r,n){return super.set(cCe(this,r),n)}delete(r){return super.delete(uCe(this,r))}}function ZF({_intern:e,_key:r},n){const a=r(n);return e.has(a)?e.get(a):n}function cCe({_intern:e,_key:r},n){const a=r(n);return e.has(a)?e.get(a):(e.set(a,n),n)}function uCe({_intern:e,_key:r},n){const a=r(n);return e.has(a)&&(n=e.get(a),e.delete(a)),n}function dCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fCe(e=Pu){if(e===Pu)return RH;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,n)=>{const a=e(r,n);return a||a===0?a:(e(n,n)===0)-(e(r,r)===0)}}function RH(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}const hCe=Math.sqrt(50),mCe=Math.sqrt(10),pCe=Math.sqrt(2);function Zb(e,r,n){const a=(r-e)/Math.max(0,n),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),o=i>=hCe?10:i>=mCe?5:i>=pCe?2:1;let c,u,d;return s<0?(d=Math.pow(10,-s)/o,c=Math.round(e*d),u=Math.round(r*d),c/d<e&&++c,u/d>r&&--u,d=-d):(d=Math.pow(10,s)*o,c=Math.round(e/d),u=Math.round(r/d),c*d<e&&++c,u*d>r&&--u),u<c&&.5<=n&&n<2?Zb(e,r,n*2):[c,u,d]}function JC(e,r,n){if(r=+r,e=+e,n=+n,!(n>0))return[];if(e===r)return[e];const a=r<e,[s,i,o]=a?Zb(r,e,n):Zb(e,r,n);if(!(i>=s))return[];const c=i-s+1,u=new Array(c);if(a)if(o<0)for(let d=0;d<c;++d)u[d]=(i-d)/-o;else for(let d=0;d<c;++d)u[d]=(i-d)*o;else if(o<0)for(let d=0;d<c;++d)u[d]=(s+d)/-o;else for(let d=0;d<c;++d)u[d]=(s+d)*o;return u}function QC(e,r,n){return r=+r,e=+e,n=+n,Zb(e,r,n)[2]}function ZC(e,r,n){r=+r,e=+e,n=+n;const a=r<e,s=a?QC(r,e,n):QC(e,r,n);return(a?-1:1)*(s<0?1/-s:s)}function e3(e,r){let n;for(const a of e)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function t3(e,r){let n;for(const a of e)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function IH(e,r,n=0,a=1/0,s){if(r=Math.floor(r),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=r&&r<=a))return e;for(s=s===void 0?RH:fCe(s);a>n;){if(a-n>600){const u=a-n+1,d=r-n+1,f=Math.log(u),h=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*h*(u-h)/u)*(d-u/2<0?-1:1),p=Math.max(n,Math.floor(r-d*h/u+m)),g=Math.min(a,Math.floor(r+(u-d)*h/u+m));IH(e,r,p,g,s)}const i=e[r];let o=n,c=a;for(k0(e,n,r),s(e[a],i)>0&&k0(e,n,a);o<c;){for(k0(e,o,c),++o,--c;s(e[o],i)<0;)++o;for(;s(e[c],i)>0;)--c}s(e[n],i)===0?k0(e,n,c):(++c,k0(e,c,a)),c<=r&&(n=c+1),r<=c&&(a=c-1)}return e}function k0(e,r,n){const a=e[r];e[r]=e[n],e[n]=a}function gCe(e,r,n){if(e=Float64Array.from(oCe(e)),!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return t3(e);if(r>=1)return e3(e);var a,s=(a-1)*r,i=Math.floor(s),o=e3(IH(e,i).subarray(0,i+1)),c=t3(e.subarray(i+1));return o+(c-o)*(s-i)}}function vCe(e,r,n=DH){if(!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return+n(e[0],0,e);if(r>=1)return+n(e[a-1],a-1,e);var a,s=(a-1)*r,i=Math.floor(s),o=+n(e[i],i,e),c=+n(e[i+1],i+1,e);return o+(c-o)*(s-i)}}function xCe(e,r,n){e=+e,r=+r,n=(s=arguments.length)<2?(r=e,e=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((r-e)/n))|0,i=new Array(s);++a<s;)i[a]=e+a*n;return i}function Ki(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function Pc(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const eE=Symbol("implicit");function JO(){var e=new QF,r=[],n=[],a=eE;function s(i){let o=e.get(i);if(o===void 0){if(a!==eE)return a;e.set(i,o=r.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return r.slice();r=[],e=new QF;for(const o of i)e.has(o)||e.set(o,r.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return JO(r,n).unknown(a)},Ki.apply(s,arguments),s}function bv(){var e=JO().unknown(void 0),r=e.domain,n=e.range,a=0,s=1,i,o,c=!1,u=0,d=0,f=.5;delete e.unknown;function h(){var m=r().length,p=s<a,g=p?s:a,v=p?a:s;i=(v-g)/Math.max(1,m-u+d*2),c&&(i=Math.floor(i)),g+=(v-g-i*(m-u))*f,o=i*(1-u),c&&(g=Math.round(g),o=Math.round(o));var x=xCe(m).map(function(w){return g+i*w});return n(p?x.reverse():x)}return e.domain=function(m){return arguments.length?(r(m),h()):r()},e.range=function(m){return arguments.length?([a,s]=m,a=+a,s=+s,h()):[a,s]},e.rangeRound=function(m){return[a,s]=m,a=+a,s=+s,c=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(c=!!m,h()):c},e.padding=function(m){return arguments.length?(u=Math.min(1,d=+m),h()):u},e.paddingInner=function(m){return arguments.length?(u=Math.min(1,m),h()):u},e.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},e.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),h()):f},e.copy=function(){return bv(r(),[a,s]).round(c).paddingInner(u).paddingOuter(d).align(f)},Ki.apply(h(),arguments)}function MH(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return MH(r())},e}function xg(){return MH(bv.apply(null,arguments).paddingInner(1))}function QO(e,r,n){e.prototype=r.prototype=n,n.constructor=e}function FH(e,r){var n=Object.create(e.prototype);for(var a in r)n[a]=r[a];return n}function Mx(){}var wv=.7,ew=1/wv,lm="\\s*([+-]?\\d+)\\s*",_v="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yCe=/^#([0-9a-f]{3,8})$/,bCe=new RegExp(`^rgb\\(${lm},${lm},${lm}\\)$`),wCe=new RegExp(`^rgb\\(${vl},${vl},${vl}\\)$`),_Ce=new RegExp(`^rgba\\(${lm},${lm},${lm},${_v}\\)$`),SCe=new RegExp(`^rgba\\(${vl},${vl},${vl},${_v}\\)$`),jCe=new RegExp(`^hsl\\(${_v},${vl},${vl}\\)$`),kCe=new RegExp(`^hsla\\(${_v},${vl},${vl},${_v}\\)$`),r3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};QO(Mx,Sv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:n3,formatHex:n3,formatHex8:NCe,formatHsl:CCe,formatRgb:a3,toString:a3});function n3(){return this.rgb().formatHex()}function NCe(){return this.rgb().formatHex8()}function CCe(){return LH(this).formatHsl()}function a3(){return this.rgb().formatRgb()}function Sv(e){var r,n;return e=(e+"").trim().toLowerCase(),(r=yCe.exec(e))?(n=r[1].length,r=parseInt(r[1],16),n===6?s3(r):n===3?new Ns(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?Qy(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?Qy(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=bCe.exec(e))?new Ns(r[1],r[2],r[3],1):(r=wCe.exec(e))?new Ns(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=_Ce.exec(e))?Qy(r[1],r[2],r[3],r[4]):(r=SCe.exec(e))?Qy(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=jCe.exec(e))?l3(r[1],r[2]/100,r[3]/100,1):(r=kCe.exec(e))?l3(r[1],r[2]/100,r[3]/100,r[4]):r3.hasOwnProperty(e)?s3(r3[e]):e==="transparent"?new Ns(NaN,NaN,NaN,0):null}function s3(e){return new Ns(e>>16&255,e>>8&255,e&255,1)}function Qy(e,r,n,a){return a<=0&&(e=r=n=NaN),new Ns(e,r,n,a)}function ECe(e){return e instanceof Mx||(e=Sv(e)),e?(e=e.rgb(),new Ns(e.r,e.g,e.b,e.opacity)):new Ns}function tE(e,r,n,a){return arguments.length===1?ECe(e):new Ns(e,r,n,a??1)}function Ns(e,r,n,a){this.r=+e,this.g=+r,this.b=+n,this.opacity=+a}QO(Ns,tE,FH(Mx,{brighter(e){return e=e==null?ew:Math.pow(ew,e),new Ns(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wv:Math.pow(wv,e),new Ns(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ns(rf(this.r),rf(this.g),rf(this.b),tw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i3,formatHex:i3,formatHex8:TCe,formatRgb:o3,toString:o3}));function i3(){return`#${Ld(this.r)}${Ld(this.g)}${Ld(this.b)}`}function TCe(){return`#${Ld(this.r)}${Ld(this.g)}${Ld(this.b)}${Ld((isNaN(this.opacity)?1:this.opacity)*255)}`}function o3(){const e=tw(this.opacity);return`${e===1?"rgb(":"rgba("}${rf(this.r)}, ${rf(this.g)}, ${rf(this.b)}${e===1?")":`, ${e})`}`}function tw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function rf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ld(e){return e=rf(e),(e<16?"0":"")+e.toString(16)}function l3(e,r,n,a){return a<=0?e=r=n=NaN:n<=0||n>=1?e=r=NaN:r<=0&&(e=NaN),new xo(e,r,n,a)}function LH(e){if(e instanceof xo)return new xo(e.h,e.s,e.l,e.opacity);if(e instanceof Mx||(e=Sv(e)),!e)return new xo;if(e instanceof xo)return e;e=e.rgb();var r=e.r/255,n=e.g/255,a=e.b/255,s=Math.min(r,n,a),i=Math.max(r,n,a),o=NaN,c=i-s,u=(i+s)/2;return c?(r===i?o=(n-a)/c+(n<a)*6:n===i?o=(a-r)/c+2:o=(r-n)/c+4,c/=u<.5?i+s:2-i-s,o*=60):c=u>0&&u<1?0:o,new xo(o,c,u,e.opacity)}function ACe(e,r,n,a){return arguments.length===1?LH(e):new xo(e,r,n,a??1)}function xo(e,r,n,a){this.h=+e,this.s=+r,this.l=+n,this.opacity=+a}QO(xo,ACe,FH(Mx,{brighter(e){return e=e==null?ew:Math.pow(ew,e),new xo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wv:Math.pow(wv,e),new xo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*r,s=2*n-a;return new Ns(Wk(e>=240?e-240:e+120,s,a),Wk(e,s,a),Wk(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new xo(c3(this.h),Zy(this.s),Zy(this.l),tw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=tw(this.opacity);return`${e===1?"hsl(":"hsla("}${c3(this.h)}, ${Zy(this.s)*100}%, ${Zy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function c3(e){return e=(e||0)%360,e<0?e+360:e}function Zy(e){return Math.max(0,Math.min(1,e||0))}function Wk(e,r,n){return(e<60?r+(n-r)*e/60:e<180?n:e<240?r+(n-r)*(240-e)/60:r)*255}const ZO=e=>()=>e;function OCe(e,r){return function(n){return e+n*r}}function PCe(e,r,n){return e=Math.pow(e,n),r=Math.pow(r,n)-e,n=1/n,function(a){return Math.pow(e+a*r,n)}}function DCe(e){return(e=+e)==1?$H:function(r,n){return n-r?PCe(r,n,e):ZO(isNaN(r)?n:r)}}function $H(e,r){var n=r-e;return n?OCe(e,n):ZO(isNaN(e)?r:e)}const u3=function e(r){var n=DCe(r);function a(s,i){var o=n((s=tE(s)).r,(i=tE(i)).r),c=n(s.g,i.g),u=n(s.b,i.b),d=$H(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=c(f),s.b=u(f),s.opacity=d(f),s+""}}return a.gamma=e,a}(1);function RCe(e,r){r||(r=[]);var n=e?Math.min(r.length,e.length):0,a=r.slice(),s;return function(i){for(s=0;s<n;++s)a[s]=e[s]*(1-i)+r[s]*i;return a}}function ICe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function MCe(e,r){var n=r?r.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),i=new Array(n),o;for(o=0;o<a;++o)s[o]=Qp(e[o],r[o]);for(;o<n;++o)i[o]=r[o];return function(c){for(o=0;o<a;++o)i[o]=s[o](c);return i}}function FCe(e,r){var n=new Date;return e=+e,r=+r,function(a){return n.setTime(e*(1-a)+r*a),n}}function rw(e,r){return e=+e,r=+r,function(n){return e*(1-n)+r*n}}function LCe(e,r){var n={},a={},s;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(s in r)s in e?n[s]=Qp(e[s],r[s]):a[s]=r[s];return function(i){for(s in n)a[s]=n[s](i);return a}}var rE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hk=new RegExp(rE.source,"g");function $Ce(e){return function(){return e}}function BCe(e){return function(r){return e(r)+""}}function UCe(e,r){var n=rE.lastIndex=Hk.lastIndex=0,a,s,i,o=-1,c=[],u=[];for(e=e+"",r=r+"";(a=rE.exec(e))&&(s=Hk.exec(r));)(i=s.index)>n&&(i=r.slice(n,i),c[o]?c[o]+=i:c[++o]=i),(a=a[0])===(s=s[0])?c[o]?c[o]+=s:c[++o]=s:(c[++o]=null,u.push({i:o,x:rw(a,s)})),n=Hk.lastIndex;return n<r.length&&(i=r.slice(n),c[o]?c[o]+=i:c[++o]=i),c.length<2?u[0]?BCe(u[0].x):$Ce(r):(r=u.length,function(d){for(var f=0,h;f<r;++f)c[(h=u[f]).i]=h.x(d);return c.join("")})}function Qp(e,r){var n=typeof r,a;return r==null||n==="boolean"?ZO(r):(n==="number"?rw:n==="string"?(a=Sv(r))?(r=a,u3):UCe:r instanceof Sv?u3:r instanceof Date?FCe:ICe(r)?RCe:Array.isArray(r)?MCe:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?LCe:rw)(e,r)}function eP(e,r){return e=+e,r=+r,function(n){return Math.round(e*(1-n)+r*n)}}function VCe(e,r){r===void 0&&(r=e,e=Qp);for(var n=0,a=r.length-1,s=r[0],i=new Array(a<0?0:a);n<a;)i[n]=e(s,s=r[++n]);return function(o){var c=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[c](o-c)}}function zCe(e){return function(){return e}}function nw(e){return+e}var d3=[0,1];function cs(e){return e}function nE(e,r){return(r-=e=+e)?function(n){return(n-e)/r}:zCe(isNaN(r)?NaN:.5)}function WCe(e,r){var n;return e>r&&(n=e,e=r,r=n),function(a){return Math.max(e,Math.min(r,a))}}function HCe(e,r,n){var a=e[0],s=e[1],i=r[0],o=r[1];return s<a?(a=nE(s,a),i=n(o,i)):(a=nE(a,s),i=n(i,o)),function(c){return i(a(c))}}function qCe(e,r,n){var a=Math.min(e.length,r.length)-1,s=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++o<a;)s[o]=nE(e[o],e[o+1]),i[o]=n(r[o],r[o+1]);return function(c){var u=Ix(e,c,1,a)-1;return i[u](s[u](c))}}function Fx(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jS(){var e=d3,r=d3,n=Qp,a,s,i,o=cs,c,u,d;function f(){var m=Math.min(e.length,r.length);return o!==cs&&(o=WCe(e[0],e[m-1])),c=m>2?qCe:HCe,u=d=null,h}function h(m){return m==null||isNaN(m=+m)?i:(u||(u=c(e.map(a),r,n)))(a(o(m)))}return h.invert=function(m){return o(s((d||(d=c(r,e.map(a),rw)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,nw),f()):e.slice()},h.range=function(m){return arguments.length?(r=Array.from(m),f()):r.slice()},h.rangeRound=function(m){return r=Array.from(m),n=eP,f()},h.clamp=function(m){return arguments.length?(o=m?!0:cs,f()):o!==cs},h.interpolate=function(m){return arguments.length?(n=m,f()):n},h.unknown=function(m){return arguments.length?(i=m,h):i},function(m,p){return a=m,s=p,f()}}function tP(){return jS()(cs,cs)}function KCe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function aw(e,r){if((n=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function Xm(e){return e=aw(Math.abs(e)),e?e[1]:NaN}function GCe(e,r){return function(n,a){for(var s=n.length,i=[],o=0,c=e[0],u=0;s>0&&c>0&&(u+c+1>a&&(c=Math.max(1,a-u)),i.push(n.substring(s-=c,s+c)),!((u+=c+1)>a));)c=e[o=(o+1)%e.length];return i.reverse().join(r)}}function YCe(e){return function(r){return r.replace(/[0-9]/g,function(n){return e[+n]})}}var XCe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jv(e){if(!(r=XCe.exec(e)))throw new Error("invalid format: "+e);var r;return new rP({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}jv.prototype=rP.prototype;function rP(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}rP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JCe(e){e:for(var r=e.length,n=1,a=-1,s;n<r;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var BH;function QCe(e,r){var n=aw(e,r);if(!n)return e+"";var a=n[0],s=n[1],i=s-(BH=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+aw(e,Math.max(0,r+i-1))[0]}function f3(e,r){var n=aw(e,r);if(!n)return e+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const h3={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:KCe,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>f3(e*100,r),r:f3,s:QCe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function m3(e){return e}var p3=Array.prototype.map,g3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ZCe(e){var r=e.grouping===void 0||e.thousands===void 0?m3:GCe(p3.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?m3:YCe(p3.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(h){h=jv(h);var m=h.fill,p=h.align,g=h.sign,v=h.symbol,x=h.zero,w=h.width,b=h.comma,_=h.precision,S=h.trim,j=h.type;j==="n"?(b=!0,j="g"):h3[j]||(_===void 0&&(_=12),S=!0,j="g"),(x||m==="0"&&p==="=")&&(x=!0,m="0",p="=");var N=v==="$"?n:v==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",k=v==="$"?a:/[%p]/.test(j)?o:"",E=h3[j],C=/[defgprs%]/.test(j);_=_===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function A(D){var T=N,W=k,q,L,I;if(j==="c")W=E(D)+W,D="";else{D=+D;var z=D<0||1/D<0;if(D=isNaN(D)?u:E(Math.abs(D),_),S&&(D=JCe(D)),z&&+D==0&&g!=="+"&&(z=!1),T=(z?g==="("?g:c:g==="-"||g==="("?"":g)+T,W=(j==="s"?g3[8+BH/3]:"")+W+(z&&g==="("?")":""),C){for(q=-1,L=D.length;++q<L;)if(I=D.charCodeAt(q),48>I||I>57){W=(I===46?s+D.slice(q+1):D.slice(q))+W,D=D.slice(0,q);break}}}b&&!x&&(D=r(D,1/0));var F=T.length+D.length+W.length,M=F<w?new Array(w-F+1).join(m):"";switch(b&&x&&(D=r(M+D,M.length?w-W.length:1/0),M=""),p){case"<":D=T+D+W+M;break;case"=":D=T+M+D+W;break;case"^":D=M.slice(0,F=M.length>>1)+T+D+W+M.slice(F);break;default:D=M+T+D+W;break}return i(D)}return A.toString=function(){return h+""},A}function f(h,m){var p=d((h=jv(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(Xm(m)/3)))*3,v=Math.pow(10,-g),x=g3[8+g/3];return function(w){return p(v*w)+x}}return{format:d,formatPrefix:f}}var e1,nP,UH;eEe({thousands:",",grouping:[3],currency:["$",""]});function eEe(e){return e1=ZCe(e),nP=e1.format,UH=e1.formatPrefix,e1}function tEe(e){return Math.max(0,-Xm(Math.abs(e)))}function rEe(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xm(r)/3)))*3-Xm(Math.abs(e)))}function nEe(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,Xm(r)-Xm(e))+1}function VH(e,r,n,a){var s=ZC(e,r,n),i;switch(a=jv(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(r));return a.precision==null&&!isNaN(i=rEe(s,o))&&(a.precision=i),UH(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=nEe(s,Math.max(Math.abs(e),Math.abs(r))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=tEe(s))&&(a.precision=i-(a.type==="%")*2);break}}return nP(a)}function nd(e){var r=e.domain;return e.ticks=function(n){var a=r();return JC(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var s=r();return VH(s[0],s[s.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a=r(),s=0,i=a.length-1,o=a[s],c=a[i],u,d,f=10;for(c<o&&(d=o,o=c,c=d,d=s,s=i,i=d);f-- >0;){if(d=QC(o,c,n),d===u)return a[s]=o,a[i]=c,r(a);if(d>0)o=Math.floor(o/d)*d,c=Math.ceil(c/d)*d;else if(d<0)o=Math.ceil(o*d)/d,c=Math.floor(c*d)/d;else break;u=d}return e},e}function sw(){var e=tP();return e.copy=function(){return Fx(e,sw())},Ki.apply(e,arguments),nd(e)}function zH(e){var r;function n(a){return a==null||isNaN(a=+a)?r:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(e=Array.from(a,nw),n):e.slice()},n.unknown=function(a){return arguments.length?(r=a,n):r},n.copy=function(){return zH(e).unknown(r)},e=arguments.length?Array.from(e,nw):[0,1],nd(n)}function WH(e,r){e=e.slice();var n=0,a=e.length-1,s=e[n],i=e[a],o;return i<s&&(o=n,n=a,a=o,o=s,s=i,i=o),e[n]=r.floor(s),e[a]=r.ceil(i),e}function v3(e){return Math.log(e)}function x3(e){return Math.exp(e)}function aEe(e){return-Math.log(-e)}function sEe(e){return-Math.exp(-e)}function iEe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oEe(e){return e===10?iEe:e===Math.E?Math.exp:r=>Math.pow(e,r)}function lEe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function y3(e){return(r,n)=>-e(-r,n)}function aP(e){const r=e(v3,x3),n=r.domain;let a=10,s,i;function o(){return s=lEe(a),i=oEe(a),n()[0]<0?(s=y3(s),i=y3(i),e(aEe,sEe)):e(v3,x3),r}return r.base=function(c){return arguments.length?(a=+c,o()):a},r.domain=function(c){return arguments.length?(n(c),o()):n()},r.ticks=c=>{const u=n();let d=u[0],f=u[u.length-1];const h=f<d;h&&([d,f]=[f,d]);let m=s(d),p=s(f),g,v;const x=c==null?10:+c;let w=[];if(!(a%1)&&p-m<x){if(m=Math.floor(m),p=Math.ceil(p),d>0){for(;m<=p;++m)for(g=1;g<a;++g)if(v=m<0?g/i(-m):g*i(m),!(v<d)){if(v>f)break;w.push(v)}}else for(;m<=p;++m)for(g=a-1;g>=1;--g)if(v=m>0?g/i(-m):g*i(m),!(v<d)){if(v>f)break;w.push(v)}w.length*2<x&&(w=JC(d,f,x))}else w=JC(m,p,Math.min(p-m,x)).map(i);return h?w.reverse():w},r.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=jv(u)).precision==null&&(u.trim=!0),u=nP(u)),c===1/0)return u;const d=Math.max(1,a*c/r.ticks().length);return f=>{let h=f/i(Math.round(s(f)));return h*a<a-.5&&(h*=a),h<=d?u(f):""}},r.nice=()=>n(WH(n(),{floor:c=>i(Math.floor(s(c))),ceil:c=>i(Math.ceil(s(c)))})),r}function HH(){const e=aP(jS()).domain([1,10]);return e.copy=()=>Fx(e,HH()).base(e.base()),Ki.apply(e,arguments),e}function b3(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function w3(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function sP(e){var r=1,n=e(b3(r),w3(r));return n.constant=function(a){return arguments.length?e(b3(r=+a),w3(r)):r},nd(n)}function qH(){var e=sP(jS());return e.copy=function(){return Fx(e,qH()).constant(e.constant())},Ki.apply(e,arguments)}function _3(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function cEe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uEe(e){return e<0?-e*e:e*e}function iP(e){var r=e(cs,cs),n=1;function a(){return n===1?e(cs,cs):n===.5?e(cEe,uEe):e(_3(n),_3(1/n))}return r.exponent=function(s){return arguments.length?(n=+s,a()):n},nd(r)}function oP(){var e=iP(jS());return e.copy=function(){return Fx(e,oP()).exponent(e.exponent())},Ki.apply(e,arguments),e}function dEe(){return oP.apply(null,arguments).exponent(.5)}function S3(e){return Math.sign(e)*e*e}function fEe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function KH(){var e=tP(),r=[0,1],n=!1,a;function s(i){var o=fEe(e(i));return isNaN(o)?a:n?Math.round(o):o}return s.invert=function(i){return e.invert(S3(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((r=Array.from(i,nw)).map(S3)),s):r.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return KH(e.domain(),r).round(n).clamp(e.clamp()).unknown(a)},Ki.apply(s,arguments),nd(s)}function GH(){var e=[],r=[],n=[],a;function s(){var o=0,c=Math.max(1,r.length);for(n=new Array(c-1);++o<c;)n[o-1]=vCe(e,o/c);return i}function i(o){return o==null||isNaN(o=+o)?a:r[Ix(n,o)]}return i.invertExtent=function(o){var c=r.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Pu),s()},i.range=function(o){return arguments.length?(r=Array.from(o),s()):r.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return n.slice()},i.copy=function(){return GH().domain(e).range(r).unknown(a)},Ki.apply(i,arguments)}function YH(){var e=0,r=1,n=1,a=[.5],s=[0,1],i;function o(u){return u!=null&&u<=u?s[Ix(a,u,0,n)]:i}function c(){var u=-1;for(a=new Array(n);++u<n;)a[u]=((u+1)*r-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,r]=u,e=+e,r=+r,c()):[e,r]},o.range=function(u){return arguments.length?(n=(s=Array.from(u)).length-1,c()):s.slice()},o.invertExtent=function(u){var d=s.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=n?[a[n-1],r]:[a[d-1],a[d]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return a.slice()},o.copy=function(){return YH().domain([e,r]).range(s).unknown(i)},Ki.apply(nd(o),arguments)}function XH(){var e=[.5],r=[0,1],n,a=1;function s(i){return i!=null&&i<=i?r[Ix(e,i,0,a)]:n}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,r.length-1),s):e.slice()},s.range=function(i){return arguments.length?(r=Array.from(i),a=Math.min(e.length,r.length-1),s):r.slice()},s.invertExtent=function(i){var o=r.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return XH().domain(e).range(r).unknown(n)},Ki.apply(s,arguments)}const qk=new Date,Kk=new Date;function Gn(e,r,n,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),r(i,1),e(i),i),s.round=i=>{const o=s(i),c=s.ceil(i);return i-o<c-i?o:c},s.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,c)=>{const u=[];if(i=s.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return u;let d;do u.push(d=new Date(+i)),r(i,c),e(i);while(d<i&&i<o);return u},s.filter=i=>Gn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;r(o,-1),!i(o););else for(;--c>=0;)for(;r(o,1),!i(o););}),n&&(s.count=(i,o)=>(qk.setTime(+i),Kk.setTime(+o),e(qk),e(Kk),Math.floor(n(qk,Kk))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?o=>a(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const iw=Gn(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);iw.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Gn(r=>{r.setTime(Math.floor(r/e)*e)},(r,n)=>{r.setTime(+r+n*e)},(r,n)=>(n-r)/e):iw);iw.range;const tc=1e3,Fi=tc*60,rc=Fi*60,_c=rc*24,lP=_c*7,j3=_c*30,Gk=_c*365,$d=Gn(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*tc)},(e,r)=>(r-e)/tc,e=>e.getUTCSeconds());$d.range;const cP=Gn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tc)},(e,r)=>{e.setTime(+e+r*Fi)},(e,r)=>(r-e)/Fi,e=>e.getMinutes());cP.range;const uP=Gn(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*Fi)},(e,r)=>(r-e)/Fi,e=>e.getUTCMinutes());uP.range;const dP=Gn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tc-e.getMinutes()*Fi)},(e,r)=>{e.setTime(+e+r*rc)},(e,r)=>(r-e)/rc,e=>e.getHours());dP.range;const fP=Gn(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*rc)},(e,r)=>(r-e)/rc,e=>e.getUTCHours());fP.range;const Lx=Gn(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Fi)/_c,e=>e.getDate()-1);Lx.range;const kS=Gn(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/_c,e=>e.getUTCDate()-1);kS.range;const JH=Gn(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/_c,e=>Math.floor(e/_c));JH.range;function Vf(e){return Gn(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,n)=>{r.setDate(r.getDate()+n*7)},(r,n)=>(n-r-(n.getTimezoneOffset()-r.getTimezoneOffset())*Fi)/lP)}const NS=Vf(0),ow=Vf(1),hEe=Vf(2),mEe=Vf(3),Jm=Vf(4),pEe=Vf(5),gEe=Vf(6);NS.range;ow.range;hEe.range;mEe.range;Jm.range;pEe.range;gEe.range;function zf(e){return Gn(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCDate(r.getUTCDate()+n*7)},(r,n)=>(n-r)/lP)}const CS=zf(0),lw=zf(1),vEe=zf(2),xEe=zf(3),Qm=zf(4),yEe=zf(5),bEe=zf(6);CS.range;lw.range;vEe.range;xEe.range;Qm.range;yEe.range;bEe.range;const hP=Gn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());hP.range;const mP=Gn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mP.range;const Sc=Gn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());Sc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gn(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,n)=>{r.setFullYear(r.getFullYear()+n*e)});Sc.range;const jc=Gn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());jc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gn(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCFullYear(r.getUTCFullYear()+n*e)});jc.range;function QH(e,r,n,a,s,i){const o=[[$d,1,tc],[$d,5,5*tc],[$d,15,15*tc],[$d,30,30*tc],[i,1,Fi],[i,5,5*Fi],[i,15,15*Fi],[i,30,30*Fi],[s,1,rc],[s,3,3*rc],[s,6,6*rc],[s,12,12*rc],[a,1,_c],[a,2,2*_c],[n,1,lP],[r,1,j3],[r,3,3*j3],[e,1,Gk]];function c(d,f,h){const m=f<d;m&&([d,f]=[f,d]);const p=h&&typeof h.range=="function"?h:u(d,f,h),g=p?p.range(d,+f+1):[];return m?g.reverse():g}function u(d,f,h){const m=Math.abs(f-d)/h,p=XO(([,,x])=>x).right(o,m);if(p===o.length)return e.every(ZC(d/Gk,f/Gk,h));if(p===0)return iw.every(Math.max(ZC(d,f,h),1));const[g,v]=o[m/o[p-1][2]<o[p][2]/m?p-1:p];return g.every(v)}return[c,u]}const[wEe,_Ee]=QH(jc,mP,CS,JH,fP,uP),[SEe,jEe]=QH(Sc,hP,NS,Lx,dP,cP);function Yk(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Xk(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function N0(e,r,n){return{y:e,m:r,d:n,H:0,M:0,S:0,L:0}}function kEe(e){var r=e.dateTime,n=e.date,a=e.time,s=e.periods,i=e.days,o=e.shortDays,c=e.months,u=e.shortMonths,d=C0(s),f=E0(s),h=C0(i),m=E0(i),p=C0(o),g=E0(o),v=C0(c),x=E0(c),w=C0(u),b=E0(u),_={a:z,A:F,b:M,B:X,c:null,d:A3,e:A3,f:GEe,g:aTe,G:iTe,H:HEe,I:qEe,j:KEe,L:ZH,m:YEe,M:XEe,p:ee,q:P,Q:D3,s:R3,S:JEe,u:QEe,U:ZEe,V:eTe,w:tTe,W:rTe,x:null,X:null,y:nTe,Y:sTe,Z:oTe,"%":P3},S={a:J,A:V,b:K,B:ie,c:null,d:O3,e:O3,f:dTe,g:wTe,G:STe,H:lTe,I:cTe,j:uTe,L:tq,m:fTe,M:hTe,p:oe,q:ye,Q:D3,s:R3,S:mTe,u:pTe,U:gTe,V:vTe,w:xTe,W:yTe,x:null,X:null,y:bTe,Y:_Te,Z:jTe,"%":P3},j={a:A,A:D,b:T,B:W,c:q,d:E3,e:E3,f:UEe,g:C3,G:N3,H:T3,I:T3,j:FEe,L:BEe,m:MEe,M:LEe,p:C,q:IEe,Q:zEe,s:WEe,S:$Ee,u:AEe,U:OEe,V:PEe,w:TEe,W:DEe,x:L,X:I,y:C3,Y:N3,Z:REe,"%":VEe};_.x=N(n,_),_.X=N(a,_),_.c=N(r,_),S.x=N(n,S),S.X=N(a,S),S.c=N(r,S);function N(ae,Q){return function(fe){var O=[],Le=-1,$e=0,Me=ae.length,He,Pe,bt;for(fe instanceof Date||(fe=new Date(+fe));++Le<Me;)ae.charCodeAt(Le)===37&&(O.push(ae.slice($e,Le)),(Pe=k3[He=ae.charAt(++Le)])!=null?He=ae.charAt(++Le):Pe=He==="e"?" ":"0",(bt=Q[He])&&(He=bt(fe,Pe)),O.push(He),$e=Le+1);return O.push(ae.slice($e,Le)),O.join("")}}function k(ae,Q){return function(fe){var O=N0(1900,void 0,1),Le=E(O,ae,fe+="",0),$e,Me;if(Le!=fe.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(Q&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?($e=Xk(N0(O.y,0,1)),Me=$e.getUTCDay(),$e=Me>4||Me===0?lw.ceil($e):lw($e),$e=kS.offset($e,(O.V-1)*7),O.y=$e.getUTCFullYear(),O.m=$e.getUTCMonth(),O.d=$e.getUTCDate()+(O.w+6)%7):($e=Yk(N0(O.y,0,1)),Me=$e.getDay(),$e=Me>4||Me===0?ow.ceil($e):ow($e),$e=Lx.offset($e,(O.V-1)*7),O.y=$e.getFullYear(),O.m=$e.getMonth(),O.d=$e.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),Me="Z"in O?Xk(N0(O.y,0,1)).getUTCDay():Yk(N0(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(Me+5)%7:O.w+O.U*7-(Me+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,Xk(O)):Yk(O)}}function E(ae,Q,fe,O){for(var Le=0,$e=Q.length,Me=fe.length,He,Pe;Le<$e;){if(O>=Me)return-1;if(He=Q.charCodeAt(Le++),He===37){if(He=Q.charAt(Le++),Pe=j[He in k3?Q.charAt(Le++):He],!Pe||(O=Pe(ae,fe,O))<0)return-1}else if(He!=fe.charCodeAt(O++))return-1}return O}function C(ae,Q,fe){var O=d.exec(Q.slice(fe));return O?(ae.p=f.get(O[0].toLowerCase()),fe+O[0].length):-1}function A(ae,Q,fe){var O=p.exec(Q.slice(fe));return O?(ae.w=g.get(O[0].toLowerCase()),fe+O[0].length):-1}function D(ae,Q,fe){var O=h.exec(Q.slice(fe));return O?(ae.w=m.get(O[0].toLowerCase()),fe+O[0].length):-1}function T(ae,Q,fe){var O=w.exec(Q.slice(fe));return O?(ae.m=b.get(O[0].toLowerCase()),fe+O[0].length):-1}function W(ae,Q,fe){var O=v.exec(Q.slice(fe));return O?(ae.m=x.get(O[0].toLowerCase()),fe+O[0].length):-1}function q(ae,Q,fe){return E(ae,r,Q,fe)}function L(ae,Q,fe){return E(ae,n,Q,fe)}function I(ae,Q,fe){return E(ae,a,Q,fe)}function z(ae){return o[ae.getDay()]}function F(ae){return i[ae.getDay()]}function M(ae){return u[ae.getMonth()]}function X(ae){return c[ae.getMonth()]}function ee(ae){return s[+(ae.getHours()>=12)]}function P(ae){return 1+~~(ae.getMonth()/3)}function J(ae){return o[ae.getUTCDay()]}function V(ae){return i[ae.getUTCDay()]}function K(ae){return u[ae.getUTCMonth()]}function ie(ae){return c[ae.getUTCMonth()]}function oe(ae){return s[+(ae.getUTCHours()>=12)]}function ye(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Q=N(ae+="",_);return Q.toString=function(){return ae},Q},parse:function(ae){var Q=k(ae+="",!1);return Q.toString=function(){return ae},Q},utcFormat:function(ae){var Q=N(ae+="",S);return Q.toString=function(){return ae},Q},utcParse:function(ae){var Q=k(ae+="",!0);return Q.toString=function(){return ae},Q}}}var k3={"-":"",_:" ",0:"0"},na=/^\s*\d+/,NEe=/^%/,CEe=/[\\^$*+?|[\]().{}]/g;function hr(e,r,n){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<n?new Array(n-i+1).join(r)+s:s)}function EEe(e){return e.replace(CEe,"\\$&")}function C0(e){return new RegExp("^(?:"+e.map(EEe).join("|")+")","i")}function E0(e){return new Map(e.map((r,n)=>[r.toLowerCase(),n]))}function TEe(e,r,n){var a=na.exec(r.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function AEe(e,r,n){var a=na.exec(r.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function OEe(e,r,n){var a=na.exec(r.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function PEe(e,r,n){var a=na.exec(r.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function DEe(e,r,n){var a=na.exec(r.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function N3(e,r,n){var a=na.exec(r.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function C3(e,r,n){var a=na.exec(r.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function REe(e,r,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function IEe(e,r,n){var a=na.exec(r.slice(n,n+1));return a?(e.q=a[0]*3-3,n+a[0].length):-1}function MEe(e,r,n){var a=na.exec(r.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function E3(e,r,n){var a=na.exec(r.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function FEe(e,r,n){var a=na.exec(r.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function T3(e,r,n){var a=na.exec(r.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function LEe(e,r,n){var a=na.exec(r.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function $Ee(e,r,n){var a=na.exec(r.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function BEe(e,r,n){var a=na.exec(r.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function UEe(e,r,n){var a=na.exec(r.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function VEe(e,r,n){var a=NEe.exec(r.slice(n,n+1));return a?n+a[0].length:-1}function zEe(e,r,n){var a=na.exec(r.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function WEe(e,r,n){var a=na.exec(r.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function A3(e,r){return hr(e.getDate(),r,2)}function HEe(e,r){return hr(e.getHours(),r,2)}function qEe(e,r){return hr(e.getHours()%12||12,r,2)}function KEe(e,r){return hr(1+Lx.count(Sc(e),e),r,3)}function ZH(e,r){return hr(e.getMilliseconds(),r,3)}function GEe(e,r){return ZH(e,r)+"000"}function YEe(e,r){return hr(e.getMonth()+1,r,2)}function XEe(e,r){return hr(e.getMinutes(),r,2)}function JEe(e,r){return hr(e.getSeconds(),r,2)}function QEe(e){var r=e.getDay();return r===0?7:r}function ZEe(e,r){return hr(NS.count(Sc(e)-1,e),r,2)}function eq(e){var r=e.getDay();return r>=4||r===0?Jm(e):Jm.ceil(e)}function eTe(e,r){return e=eq(e),hr(Jm.count(Sc(e),e)+(Sc(e).getDay()===4),r,2)}function tTe(e){return e.getDay()}function rTe(e,r){return hr(ow.count(Sc(e)-1,e),r,2)}function nTe(e,r){return hr(e.getFullYear()%100,r,2)}function aTe(e,r){return e=eq(e),hr(e.getFullYear()%100,r,2)}function sTe(e,r){return hr(e.getFullYear()%1e4,r,4)}function iTe(e,r){var n=e.getDay();return e=n>=4||n===0?Jm(e):Jm.ceil(e),hr(e.getFullYear()%1e4,r,4)}function oTe(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+hr(r/60|0,"0",2)+hr(r%60,"0",2)}function O3(e,r){return hr(e.getUTCDate(),r,2)}function lTe(e,r){return hr(e.getUTCHours(),r,2)}function cTe(e,r){return hr(e.getUTCHours()%12||12,r,2)}function uTe(e,r){return hr(1+kS.count(jc(e),e),r,3)}function tq(e,r){return hr(e.getUTCMilliseconds(),r,3)}function dTe(e,r){return tq(e,r)+"000"}function fTe(e,r){return hr(e.getUTCMonth()+1,r,2)}function hTe(e,r){return hr(e.getUTCMinutes(),r,2)}function mTe(e,r){return hr(e.getUTCSeconds(),r,2)}function pTe(e){var r=e.getUTCDay();return r===0?7:r}function gTe(e,r){return hr(CS.count(jc(e)-1,e),r,2)}function rq(e){var r=e.getUTCDay();return r>=4||r===0?Qm(e):Qm.ceil(e)}function vTe(e,r){return e=rq(e),hr(Qm.count(jc(e),e)+(jc(e).getUTCDay()===4),r,2)}function xTe(e){return e.getUTCDay()}function yTe(e,r){return hr(lw.count(jc(e)-1,e),r,2)}function bTe(e,r){return hr(e.getUTCFullYear()%100,r,2)}function wTe(e,r){return e=rq(e),hr(e.getUTCFullYear()%100,r,2)}function _Te(e,r){return hr(e.getUTCFullYear()%1e4,r,4)}function STe(e,r){var n=e.getUTCDay();return e=n>=4||n===0?Qm(e):Qm.ceil(e),hr(e.getUTCFullYear()%1e4,r,4)}function jTe(){return"+0000"}function P3(){return"%"}function D3(e){return+e}function R3(e){return Math.floor(+e/1e3)}var hh,nq,aq;kTe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kTe(e){return hh=kEe(e),nq=hh.format,hh.parse,aq=hh.utcFormat,hh.utcParse,hh}function NTe(e){return new Date(e)}function CTe(e){return e instanceof Date?+e:+new Date(+e)}function pP(e,r,n,a,s,i,o,c,u,d){var f=tP(),h=f.invert,m=f.domain,p=d(".%L"),g=d(":%S"),v=d("%I:%M"),x=d("%I %p"),w=d("%a %d"),b=d("%b %d"),_=d("%B"),S=d("%Y");function j(N){return(u(N)<N?p:c(N)<N?g:o(N)<N?v:i(N)<N?x:a(N)<N?s(N)<N?w:b:n(N)<N?_:S)(N)}return f.invert=function(N){return new Date(h(N))},f.domain=function(N){return arguments.length?m(Array.from(N,CTe)):m().map(NTe)},f.ticks=function(N){var k=m();return e(k[0],k[k.length-1],N??10)},f.tickFormat=function(N,k){return k==null?j:d(k)},f.nice=function(N){var k=m();return(!N||typeof N.range!="function")&&(N=r(k[0],k[k.length-1],N??10)),N?m(WH(k,N)):f},f.copy=function(){return Fx(f,pP(e,r,n,a,s,i,o,c,u,d))},f}function ETe(){return Ki.apply(pP(SEe,jEe,Sc,hP,NS,Lx,dP,cP,$d,nq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function TTe(){return Ki.apply(pP(wEe,_Ee,jc,mP,CS,kS,fP,uP,$d,aq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ES(){var e=0,r=1,n,a,s,i,o=cs,c=!1,u;function d(h){return h==null||isNaN(h=+h)?u:o(s===0?.5:(h=(i(h)-n)*s,c?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,r]=h,n=i(e=+e),a=i(r=+r),s=n===a?0:1/(a-n),d):[e,r]},d.clamp=function(h){return arguments.length?(c=!!h,d):c},d.interpolator=function(h){return arguments.length?(o=h,d):o};function f(h){return function(m){var p,g;return arguments.length?([p,g]=m,o=h(p,g),d):[o(0),o(1)]}}return d.range=f(Qp),d.rangeRound=f(eP),d.unknown=function(h){return arguments.length?(u=h,d):u},function(h){return i=h,n=h(e),a=h(r),s=n===a?0:1/(a-n),d}}function ad(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sq(){var e=nd(ES()(cs));return e.copy=function(){return ad(e,sq())},Pc.apply(e,arguments)}function iq(){var e=aP(ES()).domain([1,10]);return e.copy=function(){return ad(e,iq()).base(e.base())},Pc.apply(e,arguments)}function oq(){var e=sP(ES());return e.copy=function(){return ad(e,oq()).constant(e.constant())},Pc.apply(e,arguments)}function gP(){var e=iP(ES());return e.copy=function(){return ad(e,gP()).exponent(e.exponent())},Pc.apply(e,arguments)}function ATe(){return gP.apply(null,arguments).exponent(.5)}function lq(){var e=[],r=cs;function n(a){if(a!=null&&!isNaN(a=+a))return r((Ix(e,a,1)-1)/(e.length-1))}return n.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Pu),n},n.interpolator=function(a){return arguments.length?(r=a,n):r},n.range=function(){return e.map((a,s)=>r(s/(e.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,i)=>gCe(e,i/a))},n.copy=function(){return lq(r).domain(e)},Pc.apply(n,arguments)}function TS(){var e=0,r=.5,n=1,a=1,s,i,o,c,u,d=cs,f,h=!1,m;function p(v){return isNaN(v=+v)?m:(v=.5+((v=+f(v))-i)*(a*v<a*i?c:u),d(h?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,r,n]=v,s=f(e=+e),i=f(r=+r),o=f(n=+n),c=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),a=i<s?-1:1,p):[e,r,n]},p.clamp=function(v){return arguments.length?(h=!!v,p):h},p.interpolator=function(v){return arguments.length?(d=v,p):d};function g(v){return function(x){var w,b,_;return arguments.length?([w,b,_]=x,d=VCe(v,[w,b,_]),p):[d(0),d(.5),d(1)]}}return p.range=g(Qp),p.rangeRound=g(eP),p.unknown=function(v){return arguments.length?(m=v,p):m},function(v){return f=v,s=v(e),i=v(r),o=v(n),c=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),a=i<s?-1:1,p}}function cq(){var e=nd(TS()(cs));return e.copy=function(){return ad(e,cq())},Pc.apply(e,arguments)}function uq(){var e=aP(TS()).domain([.1,1,10]);return e.copy=function(){return ad(e,uq()).base(e.base())},Pc.apply(e,arguments)}function dq(){var e=sP(TS());return e.copy=function(){return ad(e,dq()).constant(e.constant())},Pc.apply(e,arguments)}function vP(){var e=iP(TS());return e.copy=function(){return ad(e,vP()).exponent(e.exponent())},Pc.apply(e,arguments)}function OTe(){return vP.apply(null,arguments).exponent(.5)}const I3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bv,scaleDiverging:cq,scaleDivergingLog:uq,scaleDivergingPow:vP,scaleDivergingSqrt:OTe,scaleDivergingSymlog:dq,scaleIdentity:zH,scaleImplicit:eE,scaleLinear:sw,scaleLog:HH,scaleOrdinal:JO,scalePoint:xg,scalePow:oP,scaleQuantile:GH,scaleQuantize:YH,scaleRadial:KH,scaleSequential:sq,scaleSequentialLog:iq,scaleSequentialPow:gP,scaleSequentialQuantile:lq,scaleSequentialSqrt:ATe,scaleSequentialSymlog:oq,scaleSqrt:dEe,scaleSymlog:qH,scaleThreshold:XH,scaleTime:ETe,scaleUtc:TTe,tickFormat:VH},Symbol.toStringTag,{value:"Module"}));var PTe=zp;function DTe(e,r,n){for(var a=-1,s=e.length;++a<s;){var i=e[a],o=r(i);if(o!=null&&(c===void 0?o===o&&!PTe(o):n(o,c)))var c=o,u=i}return u}var AS=DTe;function RTe(e,r){return e>r}var fq=RTe,ITe=AS,MTe=fq,FTe=Jp;function LTe(e){return e&&e.length?ITe(e,FTe,MTe):void 0}var $Te=LTe;const OS=vr($Te);function BTe(e,r){return e<r}var hq=BTe,UTe=AS,VTe=hq,zTe=Jp;function WTe(e){return e&&e.length?UTe(e,zTe,VTe):void 0}var HTe=WTe;const PS=vr(HTe);var qTe=OO,KTe=Rl,GTe=wH,YTe=Hs;function XTe(e,r){var n=YTe(e)?qTe:GTe;return n(e,KTe(r))}var JTe=XTe,QTe=yH,ZTe=JTe;function eAe(e,r){return QTe(ZTe(e,r),1)}var tAe=eAe;const rAe=vr(tAe);var nAe=qO;function aAe(e,r){return nAe(e,r)}var sAe=aAe;const $x=vr(sAe);var Zp=1e9,iAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yP,Yr=!0,Wi="[DecimalError] ",nf=Wi+"Invalid argument: ",xP=Wi+"Exponent out of range: ",e0=Math.floor,wd=Math.pow,oAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oi,Xn=1e7,zr=7,mq=9007199254740991,cw=e0(mq/zr),ut={};ut.absoluteValue=ut.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ut.comparedTo=ut.cmp=function(e){var r,n,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,r=0,n=a<s?a:s;r<n;++r)if(i.d[r]!==e.d[r])return i.d[r]>e.d[r]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};ut.decimalPlaces=ut.dp=function(){var e=this,r=e.d.length-1,n=(r-e.e)*zr;if(r=e.d[r],r)for(;r%10==0;r/=10)n--;return n<0?0:n};ut.dividedBy=ut.div=function(e){return lc(this,new this.constructor(e))};ut.dividedToIntegerBy=ut.idiv=function(e){var r=this,n=r.constructor;return Er(lc(r,new n(e),0,1),n.precision)};ut.equals=ut.eq=function(e){return!this.cmp(e)};ut.exponent=function(){return Dn(this)};ut.greaterThan=ut.gt=function(e){return this.cmp(e)>0};ut.greaterThanOrEqualTo=ut.gte=function(e){return this.cmp(e)>=0};ut.isInteger=ut.isint=function(){return this.e>this.d.length-2};ut.isNegative=ut.isneg=function(){return this.s<0};ut.isPositive=ut.ispos=function(){return this.s>0};ut.isZero=function(){return this.s===0};ut.lessThan=ut.lt=function(e){return this.cmp(e)<0};ut.lessThanOrEqualTo=ut.lte=function(e){return this.cmp(e)<1};ut.logarithm=ut.log=function(e){var r,n=this,a=n.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(oi))throw Error(Wi+"NaN");if(n.s<1)throw Error(Wi+(n.s?"NaN":"-Infinity"));return n.eq(oi)?new a(0):(Yr=!1,r=lc(kv(n,i),kv(e,i),i),Yr=!0,Er(r,s))};ut.minus=ut.sub=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?vq(r,e):pq(r,(e.s=-e.s,e))};ut.modulo=ut.mod=function(e){var r,n=this,a=n.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Wi+"NaN");return n.s?(Yr=!1,r=lc(n,e,0,1).times(e),Yr=!0,n.minus(r)):Er(new a(n),s)};ut.naturalExponential=ut.exp=function(){return gq(this)};ut.naturalLogarithm=ut.ln=function(){return kv(this)};ut.negated=ut.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ut.plus=ut.add=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?pq(r,e):vq(r,(e.s=-e.s,e))};ut.precision=ut.sd=function(e){var r,n,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(nf+e);if(r=Dn(s)+1,a=s.d.length-1,n=a*zr+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return e&&r>n?r:n};ut.squareRoot=ut.sqrt=function(){var e,r,n,a,s,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(Wi+"NaN")}for(e=Dn(c),Yr=!1,s=Math.sqrt(+c),s==0||s==1/0?(r=dl(c.d),(r.length+e)%2==0&&(r+="0"),s=Math.sqrt(r),e=e0((e+1)/2)-(e<0||e%2),s==1/0?r="5e"+e:(r=s.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),a=new u(r)):a=new u(s.toString()),n=u.precision,s=o=n+3;;)if(i=a,a=i.plus(lc(c,i,o+2)).times(.5),dl(i.d).slice(0,o)===(r=dl(a.d)).slice(0,o)){if(r=r.slice(o-3,o+1),s==o&&r=="4999"){if(Er(i,n+1,0),i.times(i).eq(c)){a=i;break}}else if(r!="9999")break;o+=4}return Yr=!0,Er(a,n)};ut.times=ut.mul=function(e){var r,n,a,s,i,o,c,u,d,f=this,h=f.constructor,m=f.d,p=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,n=f.e+e.e,u=m.length,d=p.length,u<d&&(i=m,m=p,p=i,o=u,u=d,d=o),i=[],o=u+d,a=o;a--;)i.push(0);for(a=d;--a>=0;){for(r=0,s=u+a;s>a;)c=i[s]+p[a]*m[s-a-1]+r,i[s--]=c%Xn|0,r=c/Xn|0;i[s]=(i[s]+r)%Xn|0}for(;!i[--o];)i.pop();return r?++n:i.shift(),e.d=i,e.e=n,Yr?Er(e,h.precision):e};ut.toDecimalPlaces=ut.todp=function(e,r){var n=this,a=n.constructor;return n=new a(n),e===void 0?n:(kl(e,0,Zp),r===void 0?r=a.rounding:kl(r,0,8),Er(n,e+Dn(n)+1,r))};ut.toExponential=function(e,r){var n,a=this,s=a.constructor;return e===void 0?n=jf(a,!0):(kl(e,0,Zp),r===void 0?r=s.rounding:kl(r,0,8),a=Er(new s(a),e+1,r),n=jf(a,!0,e+1)),n};ut.toFixed=function(e,r){var n,a,s=this,i=s.constructor;return e===void 0?jf(s):(kl(e,0,Zp),r===void 0?r=i.rounding:kl(r,0,8),a=Er(new i(s),e+Dn(s)+1,r),n=jf(a.abs(),!1,e+Dn(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};ut.toInteger=ut.toint=function(){var e=this,r=e.constructor;return Er(new r(e),Dn(e)+1,r.rounding)};ut.toNumber=function(){return+this};ut.toPower=ut.pow=function(e){var r,n,a,s,i,o,c=this,u=c.constructor,d=12,f=+(e=new u(e));if(!e.s)return new u(oi);if(c=new u(c),!c.s){if(e.s<1)throw Error(Wi+"Infinity");return c}if(c.eq(oi))return c;if(a=u.precision,e.eq(oi))return Er(c,a);if(r=e.e,n=e.d.length-1,o=r>=n,i=c.s,o){if((n=f<0?-f:f)<=mq){for(s=new u(oi),r=Math.ceil(a/zr+4),Yr=!1;n%2&&(s=s.times(c),F3(s.d,r)),n=e0(n/2),n!==0;)c=c.times(c),F3(c.d,r);return Yr=!0,e.s<0?new u(oi).div(s):Er(s,a)}}else if(i<0)throw Error(Wi+"NaN");return i=i<0&&e.d[Math.max(r,n)]&1?-1:1,c.s=1,Yr=!1,s=e.times(kv(c,a+d)),Yr=!0,s=gq(s),s.s=i,s};ut.toPrecision=function(e,r){var n,a,s=this,i=s.constructor;return e===void 0?(n=Dn(s),a=jf(s,n<=i.toExpNeg||n>=i.toExpPos)):(kl(e,1,Zp),r===void 0?r=i.rounding:kl(r,0,8),s=Er(new i(s),e,r),n=Dn(s),a=jf(s,e<=n||n<=i.toExpNeg,e)),a};ut.toSignificantDigits=ut.tosd=function(e,r){var n=this,a=n.constructor;return e===void 0?(e=a.precision,r=a.rounding):(kl(e,1,Zp),r===void 0?r=a.rounding:kl(r,0,8)),Er(new a(n),e,r)};ut.toString=ut.valueOf=ut.val=ut.toJSON=ut[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,r=Dn(e),n=e.constructor;return jf(e,r<=n.toExpNeg||r>=n.toExpPos)};function pq(e,r){var n,a,s,i,o,c,u,d,f=e.constructor,h=f.precision;if(!e.s||!r.s)return r.s||(r=new f(e)),Yr?Er(r,h):r;if(u=e.d,d=r.d,o=e.e,s=r.e,u=u.slice(),i=o-s,i){for(i<0?(a=u,i=-i,c=d.length):(a=d,s=o,c=u.length),o=Math.ceil(h/zr),c=o>c?o+1:c+1,i>c&&(i=c,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(c=u.length,i=d.length,c-i<0&&(i=c,a=d,d=u,u=a),n=0;i;)n=(u[--i]=u[i]+d[i]+n)/Xn|0,u[i]%=Xn;for(n&&(u.unshift(n),++s),c=u.length;u[--c]==0;)u.pop();return r.d=u,r.e=s,Yr?Er(r,h):r}function kl(e,r,n){if(e!==~~e||e<r||e>n)throw Error(nf+e)}function dl(e){var r,n,a,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,r=1;r<s;r++)a=e[r]+"",n=zr-a.length,n&&(i+=Xc(n)),i+=a;o=e[r],a=o+"",n=zr-a.length,n&&(i+=Xc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var lc=function(){function e(a,s){var i,o=0,c=a.length;for(a=a.slice();c--;)i=a[c]*s+o,a[c]=i%Xn|0,o=i/Xn|0;return o&&a.unshift(o),a}function r(a,s,i,o){var c,u;if(i!=o)u=i>o?1:-1;else for(c=u=0;c<i;c++)if(a[c]!=s[c]){u=a[c]>s[c]?1:-1;break}return u}function n(a,s,i){for(var o=0;i--;)a[i]-=o,o=a[i]<s[i]?1:0,a[i]=o*Xn+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,o){var c,u,d,f,h,m,p,g,v,x,w,b,_,S,j,N,k,E,C=a.constructor,A=a.s==s.s?1:-1,D=a.d,T=s.d;if(!a.s)return new C(a);if(!s.s)throw Error(Wi+"Division by zero");for(u=a.e-s.e,k=T.length,j=D.length,p=new C(A),g=p.d=[],d=0;T[d]==(D[d]||0);)++d;if(T[d]>(D[d]||0)&&--u,i==null?b=i=C.precision:o?b=i+(Dn(a)-Dn(s))+1:b=i,b<0)return new C(0);if(b=b/zr+2|0,d=0,k==1)for(f=0,T=T[0],b++;(d<j||f)&&b--;d++)_=f*Xn+(D[d]||0),g[d]=_/T|0,f=_%T|0;else{for(f=Xn/(T[0]+1)|0,f>1&&(T=e(T,f),D=e(D,f),k=T.length,j=D.length),S=k,v=D.slice(0,k),x=v.length;x<k;)v[x++]=0;E=T.slice(),E.unshift(0),N=T[0],T[1]>=Xn/2&&++N;do f=0,c=r(T,v,k,x),c<0?(w=v[0],k!=x&&(w=w*Xn+(v[1]||0)),f=w/N|0,f>1?(f>=Xn&&(f=Xn-1),h=e(T,f),m=h.length,x=v.length,c=r(h,v,m,x),c==1&&(f--,n(h,k<m?E:T,m))):(f==0&&(c=f=1),h=T.slice()),m=h.length,m<x&&h.unshift(0),n(v,h,x),c==-1&&(x=v.length,c=r(T,v,k,x),c<1&&(f++,n(v,k<x?E:T,x))),x=v.length):c===0&&(f++,v=[0]),g[d++]=f,c&&v[0]?v[x++]=D[S]||0:(v=[D[S]],x=1);while((S++<j||v[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=u,Er(p,o?i+Dn(p)+1:i)}}();function gq(e,r){var n,a,s,i,o,c,u=0,d=0,f=e.constructor,h=f.precision;if(Dn(e)>16)throw Error(xP+Dn(e));if(!e.s)return new f(oi);for(r==null?(Yr=!1,c=h):c=r,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(a=Math.log(wd(2,d))/Math.LN10*2+5|0,c+=a,n=s=i=new f(oi),f.precision=c;;){if(s=Er(s.times(e),c),n=n.times(++u),o=i.plus(lc(s,n,c)),dl(o.d).slice(0,c)===dl(i.d).slice(0,c)){for(;d--;)i=Er(i.times(i),c);return f.precision=h,r==null?(Yr=!0,Er(i,h)):i}i=o}}function Dn(e){for(var r=e.e*zr,n=e.d[0];n>=10;n/=10)r++;return r}function Jk(e,r,n){if(r>e.LN10.sd())throw Yr=!0,n&&(e.precision=n),Error(Wi+"LN10 precision limit exceeded");return Er(new e(e.LN10),r)}function Xc(e){for(var r="";e--;)r+="0";return r}function kv(e,r){var n,a,s,i,o,c,u,d,f,h=1,m=10,p=e,g=p.d,v=p.constructor,x=v.precision;if(p.s<1)throw Error(Wi+(p.s?"NaN":"-Infinity"));if(p.eq(oi))return new v(0);if(r==null?(Yr=!1,d=x):d=r,p.eq(10))return r==null&&(Yr=!0),Jk(v,d);if(d+=m,v.precision=d,n=dl(g),a=n.charAt(0),i=Dn(p),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)p=p.times(e),n=dl(p.d),a=n.charAt(0),h++;i=Dn(p),a>1?(p=new v("0."+n),i++):p=new v(a+"."+n.slice(1))}else return u=Jk(v,d+2,x).times(i+""),p=kv(new v(a+"."+n.slice(1)),d-m).plus(u),v.precision=x,r==null?(Yr=!0,Er(p,x)):p;for(c=o=p=lc(p.minus(oi),p.plus(oi),d),f=Er(p.times(p),d),s=3;;){if(o=Er(o.times(f),d),u=c.plus(lc(o,new v(s),d)),dl(u.d).slice(0,d)===dl(c.d).slice(0,d))return c=c.times(2),i!==0&&(c=c.plus(Jk(v,d+2,x).times(i+""))),c=lc(c,new v(h),d),v.precision=x,r==null?(Yr=!0,Er(c,x)):c;c=u,s+=2}}function M3(e,r){var n,a,s;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(n<0&&(n=a),n+=+r.slice(a+1),r=r.substring(0,a)):n<0&&(n=r.length),a=0;r.charCodeAt(a)===48;)++a;for(s=r.length;r.charCodeAt(s-1)===48;)--s;if(r=r.slice(a,s),r){if(s-=a,n=n-a-1,e.e=e0(n/zr),e.d=[],a=(n+1)%zr,n<0&&(a+=zr),a<s){for(a&&e.d.push(+r.slice(0,a)),s-=zr;a<s;)e.d.push(+r.slice(a,a+=zr));r=r.slice(a),a=zr-r.length}else a-=s;for(;a--;)r+="0";if(e.d.push(+r),Yr&&(e.e>cw||e.e<-cw))throw Error(xP+n)}else e.s=0,e.e=0,e.d=[0];return e}function Er(e,r,n){var a,s,i,o,c,u,d,f,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(a=r-o,a<0)a+=zr,s=r,d=h[f=0];else{if(f=Math.ceil((a+1)/zr),i=h.length,f>=i)return e;for(d=i=h[f],o=1;i>=10;i/=10)o++;a%=zr,s=a-zr+o}if(n!==void 0&&(i=wd(10,o-s-1),c=d/i%10|0,u=r<0||h[f+1]!==void 0||d%i,u=n<4?(c||u)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||u||n==6&&(a>0?s>0?d/wd(10,o-s):0:h[f-1])%10&1||n==(e.s<0?8:7))),r<1||!h[0])return u?(i=Dn(e),h.length=1,r=r-i-1,h[0]=wd(10,(zr-r%zr)%zr),e.e=e0(-r/zr)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(a==0?(h.length=f,i=1,f--):(h.length=f+1,i=wd(10,zr-a),h[f]=s>0?(d/wd(10,o-s)%wd(10,s)|0)*i:0),u)for(;;)if(f==0){(h[0]+=i)==Xn&&(h[0]=1,++e.e);break}else{if(h[f]+=i,h[f]!=Xn)break;h[f--]=0,i=1}for(a=h.length;h[--a]===0;)h.pop();if(Yr&&(e.e>cw||e.e<-cw))throw Error(xP+Dn(e));return e}function vq(e,r){var n,a,s,i,o,c,u,d,f,h,m=e.constructor,p=m.precision;if(!e.s||!r.s)return r.s?r.s=-r.s:r=new m(e),Yr?Er(r,p):r;if(u=e.d,h=r.d,a=r.e,d=e.e,u=u.slice(),o=d-a,o){for(f=o<0,f?(n=u,o=-o,c=h.length):(n=h,a=d,c=u.length),s=Math.max(Math.ceil(p/zr),c)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=u.length,c=h.length,f=s<c,f&&(c=s),s=0;s<c;s++)if(u[s]!=h[s]){f=u[s]<h[s];break}o=0}for(f&&(n=u,u=h,h=n,r.s=-r.s),c=u.length,s=h.length-c;s>0;--s)u[c++]=0;for(s=h.length;s>o;){if(u[--s]<h[s]){for(i=s;i&&u[--i]===0;)u[i]=Xn-1;--u[i],u[s]+=Xn}u[s]-=h[s]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(r.d=u,r.e=a,Yr?Er(r,p):r):new m(0)}function jf(e,r,n){var a,s=Dn(e),i=dl(e.d),o=i.length;return r?(n&&(a=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Xc(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Xc(-s-1)+i,n&&(a=n-o)>0&&(i+=Xc(a))):s>=o?(i+=Xc(s+1-o),n&&(a=n-s-1)>0&&(i=i+"."+Xc(a))):((a=s+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),n&&(a=n-o)>0&&(s+1===o&&(i+="."),i+=Xc(a))),e.s<0?"-"+i:i}function F3(e,r){if(e.length>r)return e.length=r,!0}function xq(e){var r,n,a;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(nf+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return M3(o,i.toString())}else if(typeof i!="string")throw Error(nf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,oAe.test(i))M3(o,i);else throw Error(nf+i)}if(s.prototype=ut,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=xq,s.config=s.set=lAe,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)e.hasOwnProperty(n=a[r++])||(e[n]=this[n]);return s.config(e),s}function lAe(e){if(!e||typeof e!="object")throw Error(Wi+"Object expected");var r,n,a,s=["precision",1,Zp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<s.length;r+=3)if((a=e[n=s[r]])!==void 0)if(e0(a)===a&&a>=s[r+1]&&a<=s[r+2])this[n]=a;else throw Error(nf+n+": "+a);if((a=e[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(nf+n+": "+a);return this}var yP=xq(iAe);oi=new yP(1);const Nr=yP;function cAe(e){return hAe(e)||fAe(e)||dAe(e)||uAe()}function uAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dAe(e,r){if(e){if(typeof e=="string")return aE(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aE(e,r)}}function fAe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function hAe(e){if(Array.isArray(e))return aE(e)}function aE(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}var mAe=function(r){return r},yq={"@@functional/placeholder":!0},bq=function(r){return r===yq},L3=function(r){return function n(){return arguments.length===0||arguments.length===1&&bq(arguments.length<=0?void 0:arguments[0])?n:r.apply(void 0,arguments)}},pAe=function e(r,n){return r===1?n:L3(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var o=s.filter(function(c){return c!==yq}).length;return o>=r?n.apply(void 0,s):e(r-o,L3(function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];var f=s.map(function(h){return bq(h)?u.shift():h});return n.apply(void 0,cAe(f).concat(u))}))})},DS=function(r){return pAe(r.length,r)},sE=function(r,n){for(var a=[],s=r;s<n;++s)a[s-r]=s;return a},gAe=DS(function(e,r){return Array.isArray(r)?r.map(e):Object.keys(r).map(function(n){return r[n]}).map(e)}),vAe=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];if(!n.length)return mAe;var s=n.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(c,u){return u(c)},i.apply(void 0,arguments))}},iE=function(r){return Array.isArray(r)?r.reverse():r.split("").reverse.join("")},wq=function(r){var n=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n&&i.every(function(c,u){return c===n[u]})||(n=i,a=r.apply(void 0,i)),a}};function xAe(e){var r;return e===0?r=1:r=Math.floor(new Nr(e).abs().log(10).toNumber())+1,r}function yAe(e,r,n){for(var a=new Nr(e),s=0,i=[];a.lt(r)&&s<1e5;)i.push(a.toNumber()),a=a.add(n),s++;return i}var bAe=DS(function(e,r,n){var a=+e,s=+r;return a+n*(s-a)}),wAe=DS(function(e,r,n){var a=r-+e;return a=a||1/0,(n-e)/a}),_Ae=DS(function(e,r,n){var a=r-+e;return a=a||1/0,Math.max(0,Math.min(1,(n-e)/a))});const RS={rangeStep:yAe,getDigitCount:xAe,interpolateNumber:bAe,uninterpolateNumber:wAe,uninterpolateTruncation:_Ae};function oE(e){return kAe(e)||jAe(e)||_q(e)||SAe()}function SAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jAe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function kAe(e){if(Array.isArray(e))return lE(e)}function Nv(e,r){return EAe(e)||CAe(e,r)||_q(e,r)||NAe()}function NAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _q(e,r){if(e){if(typeof e=="string")return lE(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lE(e,r)}}function lE(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function CAe(e,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],a=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),c;!(a=(c=o.next()).done)&&(n.push(c.value),!(r&&n.length===r));a=!0);}catch(u){s=!0,i=u}finally{try{!a&&o.return!=null&&o.return()}finally{if(s)throw i}}return n}}function EAe(e){if(Array.isArray(e))return e}function Sq(e){var r=Nv(e,2),n=r[0],a=r[1],s=n,i=a;return n>a&&(s=a,i=n),[s,i]}function jq(e,r,n){if(e.lte(0))return new Nr(0);var a=RS.getDigitCount(e.toNumber()),s=new Nr(10).pow(a),i=e.div(s),o=a!==1?.05:.1,c=new Nr(Math.ceil(i.div(o).toNumber())).add(n).mul(o),u=c.mul(s);return r?u:new Nr(Math.ceil(u))}function TAe(e,r,n){var a=1,s=new Nr(e);if(!s.isint()&&n){var i=Math.abs(e);i<1?(a=new Nr(10).pow(RS.getDigitCount(e)-1),s=new Nr(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new Nr(Math.floor(e)))}else e===0?s=new Nr(Math.floor((r-1)/2)):n||(s=new Nr(Math.floor(e)));var o=Math.floor((r-1)/2),c=vAe(gAe(function(u){return s.add(new Nr(u-o).mul(a)).toNumber()}),sE);return c(0,r)}function kq(e,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Nr(0),tickMin:new Nr(0),tickMax:new Nr(0)};var i=jq(new Nr(r).sub(e).div(n-1),a,s),o;e<=0&&r>=0?o=new Nr(0):(o=new Nr(e).add(r).div(2),o=o.sub(new Nr(o).mod(i)));var c=Math.ceil(o.sub(e).div(i).toNumber()),u=Math.ceil(new Nr(r).sub(o).div(i).toNumber()),d=c+u+1;return d>n?kq(e,r,n,a,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:i,tickMin:o.sub(new Nr(c).mul(i)),tickMax:o.add(new Nr(u).mul(i))})}function AAe(e){var r=Nv(e,2),n=r[0],a=r[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),c=Sq([n,a]),u=Nv(c,2),d=u[0],f=u[1];if(d===-1/0||f===1/0){var h=f===1/0?[d].concat(oE(sE(0,s-1).map(function(){return 1/0}))):[].concat(oE(sE(0,s-1).map(function(){return-1/0})),[f]);return n>a?iE(h):h}if(d===f)return TAe(d,s,i);var m=kq(d,f,o,i),p=m.step,g=m.tickMin,v=m.tickMax,x=RS.rangeStep(g,v.add(new Nr(.1).mul(p)),p);return n>a?iE(x):x}function OAe(e,r){var n=Nv(e,2),a=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Sq([a,s]),c=Nv(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0)return[a,s];if(u===d)return[u];var f=Math.max(r,2),h=jq(new Nr(d).sub(u).div(f-1),i,0),m=[].concat(oE(RS.rangeStep(new Nr(u),new Nr(d).sub(new Nr(.99).mul(h)),h)),[d]);return a>s?iE(m):m}var PAe=wq(AAe),DAe=wq(OAe),RAe="Invariant failed";function kf(e,r){throw new Error(RAe)}var IAe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zm(e)}function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},uw.apply(this,arguments)}function MAe(e,r){return BAe(e)||$Ae(e,r)||LAe(e,r)||FAe()}function FAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LAe(e,r){if(e){if(typeof e=="string")return $3(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $3(e,r)}}function $3(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function $Ae(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function BAe(e){if(Array.isArray(e))return e}function UAe(e,r){if(e==null)return{};var n=VAe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function VAe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function zAe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function WAe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Eq(a.key),a)}}function HAe(e,r,n){return r&&WAe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qAe(e,r,n){return r=dw(r),KAe(e,Nq()?Reflect.construct(r,n||[],dw(e).constructor):r.apply(e,n))}function KAe(e,r){if(r&&(Zm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GAe(e)}function GAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nq=function(){return!!e})()}function dw(e){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dw(e)}function YAe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&cE(e,r)}function cE(e,r){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},cE(e,r)}function Cq(e,r,n){return r=Eq(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Eq(e){var r=XAe(e,"string");return Zm(r)=="symbol"?r:r+""}function XAe(e,r){if(Zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Zm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Bx=function(e){function r(){return zAe(this,r),qAe(this,r,arguments)}return YAe(r,e),HAe(r,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,o=a.width,c=a.dataKey,u=a.data,d=a.dataPointFormatter,f=a.xAxis,h=a.yAxis,m=UAe(a,IAe),p=Ct(m,!1);this.props.direction==="x"&&f.type!=="number"&&kf();var g=u.map(function(v){var x=d(v,c),w=x.x,b=x.y,_=x.value,S=x.errorVal;if(!S)return null;var j=[],N,k;if(Array.isArray(S)){var E=MAe(S,2);N=E[0],k=E[1]}else N=k=S;if(i==="vertical"){var C=f.scale,A=b+s,D=A+o,T=A-o,W=C(_-N),q=C(_+k);j.push({x1:q,y1:D,x2:q,y2:T}),j.push({x1:W,y1:A,x2:q,y2:A}),j.push({x1:W,y1:D,x2:W,y2:T})}else if(i==="horizontal"){var L=h.scale,I=w+s,z=I-o,F=I+o,M=L(_-N),X=L(_+k);j.push({x1:z,y1:X,x2:F,y2:X}),j.push({x1:I,y1:M,x2:I,y2:X}),j.push({x1:z,y1:M,x2:F,y2:M})}return ne.createElement(fr,uw({className:"recharts-errorBar",key:"bar-".concat(j.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),j.map(function(ee){return ne.createElement("line",uw({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return ne.createElement(fr,{className:"recharts-errorBars"},g)}}])}(ne.Component);Cq(Bx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Cq(Bx,"displayName","ErrorBar");function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Cv(e)}function B3(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function fd(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?B3(Object(n),!0).forEach(function(a){JAe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function JAe(e,r,n){return r=QAe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function QAe(e){var r=ZAe(e,"string");return Cv(r)=="symbol"?r:r+""}function ZAe(e,r){if(Cv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Cv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Tq=function(r){var n=r.children,a=r.formattedGraphicalItems,s=r.legendWidth,i=r.legendContent,o=Js(n,oc);if(!o)return null;var c=oc.defaultProps,u=c!==void 0?fd(fd({},c),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(a||[]).reduce(function(f,h){var m=h.item,p=h.props,g=p.sectors||p.data||[];return f.concat(g.map(function(v){return{type:o.props.iconType||m.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):d=(a||[]).map(function(f){var h=f.item,m=h.type.defaultProps,p=m!==void 0?fd(fd({},m),h.props):{},g=p.dataKey,v=p.name,x=p.legendType,w=p.hide;return{inactive:w,dataKey:g,type:u.iconType||x||"square",color:bP(h),value:v||g,payload:p}}),fd(fd(fd({},u),oc.getWithHeight(o,s)),{},{payload:d,item:o})};function Ev(e){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ev(e)}function U3(e){return nOe(e)||rOe(e)||tOe(e)||eOe()}function eOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tOe(e,r){if(e){if(typeof e=="string")return uE(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uE(e,r)}}function rOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nOe(e){if(Array.isArray(e))return uE(e)}function uE(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function V3(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ln(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?V3(Object(n),!0).forEach(function(a){cm(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function cm(e,r,n){return r=aOe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function aOe(e){var r=sOe(e,"string");return Ev(r)=="symbol"?r:r+""}function sOe(e,r){if(Ev(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Ev(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function zn(e,r,n){return Bt(e)||Bt(r)?n:Hn(r)?hi(e,r,n):Dt(r)?r(e):n}function yg(e,r,n,a){var s=rAe(e,function(c){return zn(c,r)});if(n==="number"){var i=s.filter(function(c){return Qe(c)||parseFloat(c)});return i.length?[PS(i),OS(i)]:[1/0,-1/0]}var o=a?s.filter(function(c){return!Bt(c)}):s;return o.map(function(c){return Hn(c)||c instanceof Date?c:""})}var iOe=function(r){var n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,c=(n=a==null?void 0:a.length)!==null&&n!==void 0?n:0;if(c<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var u=i.range,d=0;d<c;d++){var f=d>0?s[d-1].coordinate:s[c-1].coordinate,h=s[d].coordinate,m=d>=c-1?s[0].coordinate:s[d+1].coordinate,p=void 0;if(os(h-f)!==os(m-h)){var g=[];if(os(m-h)===os(u[1]-u[0])){p=m;var v=h+u[1]-u[0];g[0]=Math.min(v,(v+f)/2),g[1]=Math.max(v,(v+f)/2)}else{p=f;var x=m+u[1]-u[0];g[0]=Math.min(h,(x+h)/2),g[1]=Math.max(h,(x+h)/2)}var w=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(r>w[0]&&r<=w[1]||r>=g[0]&&r<=g[1]){o=s[d].index;break}}else{var b=Math.min(f,m),_=Math.max(f,m);if(r>(b+h)/2&&r<=(_+h)/2){o=s[d].index;break}}}else for(var S=0;S<c;S++)if(S===0&&r<=(a[S].coordinate+a[S+1].coordinate)/2||S>0&&S<c-1&&r>(a[S].coordinate+a[S-1].coordinate)/2&&r<=(a[S].coordinate+a[S+1].coordinate)/2||S===c-1&&r>(a[S].coordinate+a[S-1].coordinate)/2){o=a[S].index;break}return o},bP=function(r){var n,a=r,s=a.type.displayName,i=(n=r.type)!==null&&n!==void 0&&n.defaultProps?ln(ln({},r.type.defaultProps),r.props):r.props,o=i.stroke,c=i.fill,u;switch(s){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:c;break;default:u=c;break}return u},oOe=function(r){var n=r.barSize,a=r.totalSize,s=r.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},c=Object.keys(i),u=0,d=c.length;u<d;u++)for(var f=i[c[u]].stackGroups,h=Object.keys(f),m=0,p=h.length;m<p;m++){var g=f[h[m]],v=g.items,x=g.cateAxisId,w=v.filter(function(k){return ic(k.type).indexOf("Bar")>=0});if(w&&w.length){var b=w[0].type.defaultProps,_=b!==void 0?ln(ln({},b),w[0].props):w[0].props,S=_.barSize,j=_[x];o[j]||(o[j]=[]);var N=Bt(S)?n:S;o[j].push({item:w[0],stackList:w.slice(1),barSize:Bt(N)?void 0:ls(N,a,0)})}}return o},lOe=function(r){var n=r.barGap,a=r.barCategoryGap,s=r.bandSize,i=r.sizeList,o=i===void 0?[]:i,c=r.maxBarSize,u=o.length;if(u<1)return null;var d=ls(n,s,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var m=!1,p=s/u,g=o.reduce(function(S,j){return S+j.barSize||0},0);g+=(u-1)*d,g>=s&&(g-=(u-1)*d,d=0),g>=s&&p>0&&(m=!0,p*=.9,g=u*p);var v=(s-g)/2>>0,x={offset:v-d,size:0};f=o.reduce(function(S,j){var N={item:j.item,position:{offset:x.offset+x.size+d,size:m?p:j.barSize}},k=[].concat(U3(S),[N]);return x=k[k.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(E){k.push({item:E,position:x})}),k},h)}else{var w=ls(a,s,0,!0);s-2*w-(u-1)*d<=0&&(d=0);var b=(s-2*w-(u-1)*d)/u;b>1&&(b>>=0);var _=c===+c?Math.min(b,c):b;f=o.reduce(function(S,j,N){var k=[].concat(U3(S),[{item:j.item,position:{offset:w+(b+d)*N+(b-_)/2,size:_}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(E){k.push({item:E,position:k[k.length-1].position})}),k},h)}return f},cOe=function(r,n,a,s){var i=a.children,o=a.width,c=a.margin,u=o-(c.left||0)-(c.right||0),d=Tq({children:i,legendWidth:u});if(d){var f=s||{},h=f.width,m=f.height,p=d.align,g=d.verticalAlign,v=d.layout;if((v==="vertical"||v==="horizontal"&&g==="middle")&&p!=="center"&&Qe(r[p]))return ln(ln({},r),{},cm({},p,r[p]+(h||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&g!=="middle"&&Qe(r[g]))return ln(ln({},r),{},cm({},g,r[g]+(m||0)))}return r},uOe=function(r,n,a){return Bt(n)?!0:r==="horizontal"?n==="yAxis":r==="vertical"||a==="x"?n==="xAxis":a==="y"?n==="yAxis":!0},Aq=function(r,n,a,s,i){var o=n.props.children,c=mi(o,Bx).filter(function(d){return uOe(s,i,d.props.direction)});if(c&&c.length){var u=c.map(function(d){return d.props.dataKey});return r.reduce(function(d,f){var h=zn(f,a);if(Bt(h))return d;var m=Array.isArray(h)?[PS(h),OS(h)]:[h,h],p=u.reduce(function(g,v){var x=zn(f,v,0),w=m[0]-Math.abs(Array.isArray(x)?x[0]:x),b=m[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(w,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],d[0]),Math.max(p[1],d[1])]},[1/0,-1/0])}return null},dOe=function(r,n,a,s,i){var o=n.map(function(c){return Aq(r,c,a,i,s)}).filter(function(c){return!Bt(c)});return o&&o.length?o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]):null},Oq=function(r,n,a,s,i){var o=n.map(function(u){var d=u.props.dataKey;return a==="number"&&d&&Aq(r,u,d,s)||yg(r,d,a,i)});if(a==="number")return o.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);var c={};return o.reduce(function(u,d){for(var f=0,h=d.length;f<h;f++)c[d[f]]||(c[d[f]]=!0,u.push(d[f]));return u},[])},Pq=function(r,n){return r==="horizontal"&&n==="xAxis"||r==="vertical"&&n==="yAxis"||r==="centric"&&n==="angleAxis"||r==="radial"&&n==="radiusAxis"},Dq=function(r,n,a,s){if(s)return r.map(function(u){return u.coordinate});var i,o,c=r.map(function(u){return u.coordinate===n&&(i=!0),u.coordinate===a&&(o=!0),u.coordinate});return i||c.push(n),o||c.push(a),c},nc=function(r,n,a){if(!r)return null;var s=r.scale,i=r.duplicateDomain,o=r.type,c=r.range,u=r.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(n||a)&&o==="category"&&s.bandwidth?s.bandwidth()/u:0;if(d=r.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?os(c[0]-c[1])*2*d:d,n&&(r.ticks||r.niceTicks)){var f=(r.ticks||r.niceTicks).map(function(h){var m=i?i.indexOf(h):h;return{coordinate:s(m)+d,value:h,offset:d}});return f.filter(function(h){return!Dx(h.coordinate)})}return r.isCategorical&&r.categoricalDomain?r.categoricalDomain.map(function(h,m){return{coordinate:s(h)+d,value:h,index:m,offset:d}}):s.ticks&&!a?s.ticks(r.tickCount).map(function(h){return{coordinate:s(h)+d,value:h,offset:d}}):s.domain().map(function(h,m){return{coordinate:s(h)+d,value:i?i[h]:h,index:m,offset:d}})},Qk=new WeakMap,t1=function(r,n){if(typeof n!="function")return r;Qk.has(r)||Qk.set(r,new WeakMap);var a=Qk.get(r);if(a.has(n))return a.get(n);var s=function(){r.apply(void 0,arguments),n.apply(void 0,arguments)};return a.set(n,s),s},Rq=function(r,n,a){var s=r.scale,i=r.type,o=r.layout,c=r.axisType;if(s==="auto")return o==="radial"&&c==="radiusAxis"?{scale:bv(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:sw(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!a)?{scale:xg(),realScaleType:"point"}:i==="category"?{scale:bv(),realScaleType:"band"}:{scale:sw(),realScaleType:"linear"};if(wf(s)){var u="scale".concat(gS(s));return{scale:(I3[u]||xg)(),realScaleType:I3[u]?u:"point"}}return Dt(s)?{scale:s}:{scale:xg(),realScaleType:"point"}},z3=1e-4,Iq=function(r){var n=r.domain();if(!(!n||n.length<=2)){var a=n.length,s=r.range(),i=Math.min(s[0],s[1])-z3,o=Math.max(s[0],s[1])+z3,c=r(n[0]),u=r(n[a-1]);(c<i||c>o||u<i||u>o)&&r.domain([n[0],n[a-1]])}},fOe=function(r,n){if(!r)return null;for(var a=0,s=r.length;a<s;a++)if(r[a].item===n)return r[a].position;return null},hOe=function(r,n){if(!n||n.length!==2||!Qe(n[0])||!Qe(n[1]))return r;var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[r[0],r[1]];return(!Qe(r[0])||r[0]<a)&&(i[0]=a),(!Qe(r[1])||r[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},mOe=function(r){var n=r.length;if(!(n<=0))for(var a=0,s=r[0].length;a<s;++a)for(var i=0,o=0,c=0;c<n;++c){var u=Dx(r[c][a][1])?r[c][a][0]:r[c][a][1];u>=0?(r[c][a][0]=i,r[c][a][1]=i+u,i=r[c][a][1]):(r[c][a][0]=o,r[c][a][1]=o+u,o=r[c][a][1])}},pOe=function(r){var n=r.length;if(!(n<=0))for(var a=0,s=r[0].length;a<s;++a)for(var i=0,o=0;o<n;++o){var c=Dx(r[o][a][1])?r[o][a][0]:r[o][a][1];c>=0?(r[o][a][0]=i,r[o][a][1]=i+c,i=r[o][a][1]):(r[o][a][0]=0,r[o][a][1]=0)}},gOe={sign:mOe,expand:Iye,none:Hm,silhouette:Mye,wiggle:Fye,positive:pOe},vOe=function(r,n,a){var s=n.map(function(c){return c.props.dataKey}),i=gOe[a],o=Rye().keys(s).value(function(c,u){return+zn(c,u,0)}).order(IC).offset(i);return o(r)},xOe=function(r,n,a,s,i,o){if(!r)return null;var c=o?n.reverse():n,u={},d=c.reduce(function(h,m){var p,g=(p=m.type)!==null&&p!==void 0&&p.defaultProps?ln(ln({},m.type.defaultProps),m.props):m.props,v=g.stackId,x=g.hide;if(x)return h;var w=g[a],b=h[w]||{hasStack:!1,stackGroups:{}};if(Hn(v)){var _=b.stackGroups[v]||{numericAxisId:a,cateAxisId:s,items:[]};_.items.push(m),b.hasStack=!0,b.stackGroups[v]=_}else b.stackGroups[Gp("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[m]};return ln(ln({},h),{},cm({},w,b))},u),f={};return Object.keys(d).reduce(function(h,m){var p=d[m];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,x){var w=p.stackGroups[x];return ln(ln({},v),{},cm({},x,{numericAxisId:a,cateAxisId:s,items:w.items,stackedData:vOe(r,w.items,i)}))},g)}return ln(ln({},h),{},cm({},m,p))},f)},Mq=function(r,n){var a=n.realScaleType,s=n.type,i=n.tickCount,o=n.originalDomain,c=n.allowDecimals,u=a||n.scale;if(u!=="auto"&&u!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=r.domain();if(!d.length)return null;var f=PAe(d,i,c);return r.domain([PS(f),OS(f)]),{niceTicks:f}}if(i&&s==="number"){var h=r.domain(),m=DAe(h,i,c);return{niceTicks:m}}return null};function W3(e){var r=e.axis,n=e.ticks,a=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Bt(s[r.dataKey])){var c=Lb(n,"value",s[r.dataKey]);if(c)return c.coordinate+a/2}return n[i]?n[i].coordinate+a/2:null}var u=zn(s,Bt(o)?r.dataKey:o);return Bt(u)?null:r.scale(u)}var H3=function(r){var n=r.axis,a=r.ticks,s=r.offset,i=r.bandSize,o=r.entry,c=r.index;if(n.type==="category")return a[c]?a[c].coordinate+s:null;var u=zn(o,n.dataKey,n.domain[c]);return Bt(u)?null:n.scale(u)-i/2+s},yOe=function(r){var n=r.numericAxis,a=n.scale.domain();if(n.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},bOe=function(r,n){var a,s=(a=r.type)!==null&&a!==void 0&&a.defaultProps?ln(ln({},r.type.defaultProps),r.props):r.props,i=s.stackId;if(Hn(i)){var o=n[i];if(o){var c=o.items.indexOf(r);return c>=0?o.stackedData[c]:null}}return null},wOe=function(r){return r.reduce(function(n,a){return[PS(a.concat([n[0]]).filter(Qe)),OS(a.concat([n[1]]).filter(Qe))]},[1/0,-1/0])},Fq=function(r,n,a){return Object.keys(r).reduce(function(s,i){var o=r[i],c=o.stackedData,u=c.reduce(function(d,f){var h=wOe(f.slice(n,a+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(u[0],s[0]),Math.max(u[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},q3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,K3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dE=function(r,n,a){if(Dt(r))return r(n,a);if(!Array.isArray(r))return n;var s=[];if(Qe(r[0]))s[0]=a?r[0]:Math.min(r[0],n[0]);else if(q3.test(r[0])){var i=+q3.exec(r[0])[1];s[0]=n[0]-i}else Dt(r[0])?s[0]=r[0](n[0]):s[0]=n[0];if(Qe(r[1]))s[1]=a?r[1]:Math.max(r[1],n[1]);else if(K3.test(r[1])){var o=+K3.exec(r[1])[1];s[1]=n[1]+o}else Dt(r[1])?s[1]=r[1](n[1]):s[1]=n[1];return s},fw=function(r,n,a){if(r&&r.scale&&r.scale.bandwidth){var s=r.scale.bandwidth();if(!a||s>0)return s}if(r&&n&&n.length>=2){for(var i=GO(n,function(h){return h.coordinate}),o=1/0,c=1,u=i.length;c<u;c++){var d=i[c],f=i[c-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0},G3=function(r,n,a){return!r||!r.length||$x(r,hi(a,"type.defaultProps.domain"))?n:r},Lq=function(r,n){var a=r.type.defaultProps?ln(ln({},r.type.defaultProps),r.props):r.props,s=a.dataKey,i=a.name,o=a.unit,c=a.formatter,u=a.tooltipType,d=a.chartType,f=a.hide;return ln(ln({},Ct(r,!1)),{},{dataKey:s,unit:o,formatter:c,name:i||s,color:bP(r),value:zn(n,s),type:u,payload:n,chartType:d,hide:f})};function Tv(e){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Tv(e)}function Y3(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Kl(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Y3(Object(n),!0).forEach(function(a){$q(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function $q(e,r,n){return r=_Oe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function _Oe(e){var r=SOe(e,"string");return Tv(r)=="symbol"?r:r+""}function SOe(e,r){if(Tv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Tv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function jOe(e,r){return EOe(e)||COe(e,r)||NOe(e,r)||kOe()}function kOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NOe(e,r){if(e){if(typeof e=="string")return X3(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X3(e,r)}}function X3(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function COe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function EOe(e){if(Array.isArray(e))return e}var hw=Math.PI/180,TOe=function(r){return r*180/Math.PI},Mr=function(r,n,a,s){return{x:r+Math.cos(-hw*s)*a,y:n+Math.sin(-hw*s)*a}},Bq=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},AOe=function(r,n,a,s,i){var o=r.width,c=r.height,u=r.startAngle,d=r.endAngle,f=ls(r.cx,o,o/2),h=ls(r.cy,c,c/2),m=Bq(o,c,a),p=ls(r.innerRadius,m,0),g=ls(r.outerRadius,m,m*.8),v=Object.keys(n);return v.reduce(function(x,w){var b=n[w],_=b.domain,S=b.reversed,j;if(Bt(b.range))s==="angleAxis"?j=[u,d]:s==="radiusAxis"&&(j=[p,g]),S&&(j=[j[1],j[0]]);else{j=b.range;var N=j,k=jOe(N,2);u=k[0],d=k[1]}var E=Rq(b,i),C=E.realScaleType,A=E.scale;A.domain(_).range(j),Iq(A);var D=Mq(A,Kl(Kl({},b),{},{realScaleType:C})),T=Kl(Kl(Kl({},b),D),{},{range:j,radius:g,realScaleType:C,scale:A,cx:f,cy:h,innerRadius:p,outerRadius:g,startAngle:u,endAngle:d});return Kl(Kl({},x),{},$q({},w,T))},{})},OOe=function(r,n){var a=r.x,s=r.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-o,2))},POe=function(r,n){var a=r.x,s=r.y,i=n.cx,o=n.cy,c=OOe({x:a,y:s},{x:i,y:o});if(c<=0)return{radius:c};var u=(a-i)/c,d=Math.acos(u);return s>o&&(d=2*Math.PI-d),{radius:c,angle:TOe(d),angleInRadian:d}},DOe=function(r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),o=Math.min(s,i);return{startAngle:n-o*360,endAngle:a-o*360}},ROe=function(r,n){var a=n.startAngle,s=n.endAngle,i=Math.floor(a/360),o=Math.floor(s/360),c=Math.min(i,o);return r+c*360},J3=function(r,n){var a=r.x,s=r.y,i=POe({x:a,y:s},n),o=i.radius,c=i.angle,u=n.innerRadius,d=n.outerRadius;if(o<u||o>d)return!1;if(o===0)return!0;var f=DOe(n),h=f.startAngle,m=f.endAngle,p=c,g;if(h<=m){for(;p>m;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=m}else{for(;p>h;)p-=360;for(;p<m;)p+=360;g=p>=m&&p<=h}return g?Kl(Kl({},n),{},{radius:o,angle:ROe(p,n)}):null},Uq=function(r){return!y.isValidElement(r)&&!Dt(r)&&typeof r!="boolean"?r.className:""};function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Av(e)}var IOe=["offset"];function MOe(e){return BOe(e)||$Oe(e)||LOe(e)||FOe()}function FOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LOe(e,r){if(e){if(typeof e=="string")return fE(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fE(e,r)}}function $Oe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BOe(e){if(Array.isArray(e))return fE(e)}function fE(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function UOe(e,r){if(e==null)return{};var n=VOe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function VOe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Q3(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Fn(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Q3(Object(n),!0).forEach(function(a){zOe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function zOe(e,r,n){return r=WOe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function WOe(e){var r=HOe(e,"string");return Av(r)=="symbol"?r:r+""}function HOe(e,r){if(Av(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Av(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ov(){return Ov=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ov.apply(this,arguments)}var qOe=function(r){var n=r.value,a=r.formatter,s=Bt(r.children)?n:r.children;return Dt(a)?a(s):s},KOe=function(r,n){var a=os(n-r),s=Math.min(Math.abs(n-r),360);return a*s},GOe=function(r,n,a){var s=r.position,i=r.viewBox,o=r.offset,c=r.className,u=i,d=u.cx,f=u.cy,h=u.innerRadius,m=u.outerRadius,p=u.startAngle,g=u.endAngle,v=u.clockWise,x=(h+m)/2,w=KOe(p,g),b=w>=0?1:-1,_,S;s==="insideStart"?(_=p+b*o,S=v):s==="insideEnd"?(_=g-b*o,S=!v):s==="end"&&(_=g+b*o,S=v),S=w<=0?S:!S;var j=Mr(d,f,x,_),N=Mr(d,f,x,_+(S?1:-1)*359),k="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(N.x,",").concat(N.y),E=Bt(r.id)?Gp("recharts-radial-line-"):r.id;return ne.createElement("text",Ov({},a,{dominantBaseline:"central",className:Ut("recharts-radial-bar-label",c)}),ne.createElement("defs",null,ne.createElement("path",{id:E,d:k})),ne.createElement("textPath",{xlinkHref:"#".concat(E)},n))},YOe=function(r){var n=r.viewBox,a=r.offset,s=r.position,i=n,o=i.cx,c=i.cy,u=i.innerRadius,d=i.outerRadius,f=i.startAngle,h=i.endAngle,m=(f+h)/2;if(s==="outside"){var p=Mr(o,c,d+a,m),g=p.x,v=p.y;return{x:g,y:v,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var x=(u+d)/2,w=Mr(o,c,x,m),b=w.x,_=w.y;return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},XOe=function(r){var n=r.viewBox,a=r.parentViewBox,s=r.offset,i=r.position,o=n,c=o.x,u=o.y,d=o.width,f=o.height,h=f>=0?1:-1,m=h*s,p=h>0?"end":"start",g=h>0?"start":"end",v=d>=0?1:-1,x=v*s,w=v>0?"end":"start",b=v>0?"start":"end";if(i==="top"){var _={x:c+d/2,y:u-h*s,textAnchor:"middle",verticalAnchor:p};return Fn(Fn({},_),a?{height:Math.max(u-a.y,0),width:d}:{})}if(i==="bottom"){var S={x:c+d/2,y:u+f+m,textAnchor:"middle",verticalAnchor:g};return Fn(Fn({},S),a?{height:Math.max(a.y+a.height-(u+f),0),width:d}:{})}if(i==="left"){var j={x:c-x,y:u+f/2,textAnchor:w,verticalAnchor:"middle"};return Fn(Fn({},j),a?{width:Math.max(j.x-a.x,0),height:f}:{})}if(i==="right"){var N={x:c+d+x,y:u+f/2,textAnchor:b,verticalAnchor:"middle"};return Fn(Fn({},N),a?{width:Math.max(a.x+a.width-N.x,0),height:f}:{})}var k=a?{width:d,height:f}:{};return i==="insideLeft"?Fn({x:c+x,y:u+f/2,textAnchor:b,verticalAnchor:"middle"},k):i==="insideRight"?Fn({x:c+d-x,y:u+f/2,textAnchor:w,verticalAnchor:"middle"},k):i==="insideTop"?Fn({x:c+d/2,y:u+m,textAnchor:"middle",verticalAnchor:g},k):i==="insideBottom"?Fn({x:c+d/2,y:u+f-m,textAnchor:"middle",verticalAnchor:p},k):i==="insideTopLeft"?Fn({x:c+x,y:u+m,textAnchor:b,verticalAnchor:g},k):i==="insideTopRight"?Fn({x:c+d-x,y:u+m,textAnchor:w,verticalAnchor:g},k):i==="insideBottomLeft"?Fn({x:c+x,y:u+f-m,textAnchor:b,verticalAnchor:p},k):i==="insideBottomRight"?Fn({x:c+d-x,y:u+f-m,textAnchor:w,verticalAnchor:p},k):Wp(i)&&(Qe(i.x)||Fd(i.x))&&(Qe(i.y)||Fd(i.y))?Fn({x:c+ls(i.x,d),y:u+ls(i.y,f),textAnchor:"end",verticalAnchor:"end"},k):Fn({x:c+d/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},k)},JOe=function(r){return"cx"in r&&Qe(r.cx)};function Zn(e){var r=e.offset,n=r===void 0?5:r,a=UOe(e,IOe),s=Fn({offset:n},a),i=s.viewBox,o=s.position,c=s.value,u=s.children,d=s.content,f=s.className,h=f===void 0?"":f,m=s.textBreakAll;if(!i||Bt(c)&&Bt(u)&&!y.isValidElement(d)&&!Dt(d))return null;if(y.isValidElement(d))return y.cloneElement(d,s);var p;if(Dt(d)){if(p=y.createElement(d,s),y.isValidElement(p))return p}else p=qOe(s);var g=JOe(i),v=Ct(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return GOe(s,p,v);var x=g?YOe(s):XOe(s);return ne.createElement(Sf,Ov({className:Ut("recharts-label",h)},v,x,{breakAll:m}),p)}Zn.displayName="Label";var Vq=function(r){var n=r.cx,a=r.cy,s=r.angle,i=r.startAngle,o=r.endAngle,c=r.r,u=r.radius,d=r.innerRadius,f=r.outerRadius,h=r.x,m=r.y,p=r.top,g=r.left,v=r.width,x=r.height,w=r.clockWise,b=r.labelViewBox;if(b)return b;if(Qe(v)&&Qe(x)){if(Qe(h)&&Qe(m))return{x:h,y:m,width:v,height:x};if(Qe(p)&&Qe(g))return{x:p,y:g,width:v,height:x}}return Qe(h)&&Qe(m)?{x:h,y:m,width:0,height:0}:Qe(n)&&Qe(a)?{cx:n,cy:a,startAngle:i||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:f||u||c||0,clockWise:w}:r.viewBox?r.viewBox:{}},QOe=function(r,n){return r?r===!0?ne.createElement(Zn,{key:"label-implicit",viewBox:n}):Hn(r)?ne.createElement(Zn,{key:"label-implicit",viewBox:n,value:r}):y.isValidElement(r)?r.type===Zn?y.cloneElement(r,{key:"label-implicit",viewBox:n}):ne.createElement(Zn,{key:"label-implicit",content:r,viewBox:n}):Dt(r)?ne.createElement(Zn,{key:"label-implicit",content:r,viewBox:n}):Wp(r)?ne.createElement(Zn,Ov({viewBox:n},r,{key:"label-implicit"})):null:null},ZOe=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&a&&!r.label)return null;var s=r.children,i=Vq(r),o=mi(s,Zn).map(function(u,d){return y.cloneElement(u,{viewBox:n||i,key:"label-".concat(d)})});if(!a)return o;var c=QOe(r.label,n||i);return[c].concat(MOe(o))};Zn.parseViewBox=Vq;Zn.renderCallByParent=ZOe;function ePe(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var tPe=ePe;const rPe=vr(tPe);function Pv(e){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pv(e)}var nPe=["valueAccessor"],aPe=["data","dataKey","clockWise","id","textBreakAll"];function sPe(e){return cPe(e)||lPe(e)||oPe(e)||iPe()}function iPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oPe(e,r){if(e){if(typeof e=="string")return hE(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hE(e,r)}}function lPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cPe(e){if(Array.isArray(e))return hE(e)}function hE(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mw.apply(this,arguments)}function Z3(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function eL(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Z3(Object(n),!0).forEach(function(a){uPe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function uPe(e,r,n){return r=dPe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function dPe(e){var r=fPe(e,"string");return Pv(r)=="symbol"?r:r+""}function fPe(e,r){if(Pv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Pv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function tL(e,r){if(e==null)return{};var n=hPe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function hPe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}var mPe=function(r){return Array.isArray(r.value)?rPe(r.value):r.value};function cc(e){var r=e.valueAccessor,n=r===void 0?mPe:r,a=tL(e,nPe),s=a.data,i=a.dataKey,o=a.clockWise,c=a.id,u=a.textBreakAll,d=tL(a,aPe);return!s||!s.length?null:ne.createElement(fr,{className:"recharts-label-list"},s.map(function(f,h){var m=Bt(i)?n(f,h):zn(f&&f.payload,i),p=Bt(c)?{}:{id:"".concat(c,"-").concat(h)};return ne.createElement(Zn,mw({},Ct(f,!0),d,p,{parentViewBox:f.parentViewBox,value:m,textBreakAll:u,viewBox:Zn.parseViewBox(Bt(o)?f:eL(eL({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}cc.displayName="LabelList";function pPe(e,r){return e?e===!0?ne.createElement(cc,{key:"labelList-implicit",data:r}):ne.isValidElement(e)||Dt(e)?ne.createElement(cc,{key:"labelList-implicit",data:r,content:e}):Wp(e)?ne.createElement(cc,mw({data:r},e,{key:"labelList-implicit"})):null:null}function gPe(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=mi(a,cc).map(function(o,c){return y.cloneElement(o,{data:r,key:"labelList-".concat(c)})});if(!n)return s;var i=pPe(e.label,r);return[i].concat(sPe(s))}cc.renderCallByParent=gPe;function Dv(e){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Dv(e)}function mE(){return mE=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mE.apply(this,arguments)}function rL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function nL(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?rL(Object(n),!0).forEach(function(a){vPe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function vPe(e,r,n){return r=xPe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function xPe(e){var r=yPe(e,"string");return Dv(r)=="symbol"?r:r+""}function yPe(e,r){if(Dv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Dv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var bPe=function(r,n){var a=os(n-r),s=Math.min(Math.abs(n-r),359.999);return a*s},r1=function(r){var n=r.cx,a=r.cy,s=r.radius,i=r.angle,o=r.sign,c=r.isExternal,u=r.cornerRadius,d=r.cornerIsExternal,f=u*(c?1:-1)+s,h=Math.asin(u/f)/hw,m=d?i:i+o*h,p=Mr(n,a,f,m),g=Mr(n,a,s,m),v=d?i-o*h:i,x=Mr(n,a,f*Math.cos(h*hw),v);return{center:p,circleTangency:g,lineTangency:x,theta:h}},zq=function(r){var n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,o=r.startAngle,c=r.endAngle,u=bPe(o,c),d=o+u,f=Mr(n,a,i,o),h=Mr(n,a,i,d),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var p=Mr(n,a,s,o),g=Mr(n,a,s,d);m+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(n,",").concat(a," Z");return m},wPe=function(r){var n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=os(f-d),m=r1({cx:n,cy:a,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:u}),p=m.circleTangency,g=m.lineTangency,v=m.theta,x=r1({cx:n,cy:a,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:u}),w=x.circleTangency,b=x.lineTangency,_=x.theta,S=u?Math.abs(d-f):Math.abs(d-f)-v-_;if(S<0)return c?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):zq({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var N=r1({cx:n,cy:a,radius:s,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),k=N.circleTangency,E=N.lineTangency,C=N.theta,A=r1({cx:n,cy:a,radius:s,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),D=A.circleTangency,T=A.lineTangency,W=A.theta,q=u?Math.abs(d-f):Math.abs(d-f)-C-W;if(q<0&&o===0)return"".concat(j,"L").concat(n,",").concat(a,"Z");j+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(q>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,"Z")}else j+="L".concat(n,",").concat(a,"Z");return j},_Pe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Wq=function(r){var n=nL(nL({},_Pe),r),a=n.cx,s=n.cy,i=n.innerRadius,o=n.outerRadius,c=n.cornerRadius,u=n.forceCornerRadius,d=n.cornerIsExternal,f=n.startAngle,h=n.endAngle,m=n.className;if(o<i||f===h)return null;var p=Ut("recharts-sector",m),g=o-i,v=ls(c,g,0,!0),x;return v>0&&Math.abs(f-h)<360?x=wPe({cx:a,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(v,g/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h}):x=zq({cx:a,cy:s,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),ne.createElement("path",mE({},Ct(n,!0),{className:p,d:x,role:"img"}))};function Rv(e){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Rv(e)}function pE(){return pE=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pE.apply(this,arguments)}function aL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function sL(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?aL(Object(n),!0).forEach(function(a){SPe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function SPe(e,r,n){return r=jPe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function jPe(e){var r=kPe(e,"string");return Rv(r)=="symbol"?r:r+""}function kPe(e,r){if(Rv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Rv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var iL={curveBasisClosed:Sye,curveBasisOpen:jye,curveBasis:_ye,curveBumpX:lye,curveBumpY:cye,curveLinearClosed:kye,curveLinear:xS,curveMonotoneX:Nye,curveMonotoneY:Cye,curveNatural:Eye,curveStep:Tye,curveStepAfter:Oye,curveStepBefore:Aye},n1=function(r){return r.x===+r.x&&r.y===+r.y},T0=function(r){return r.x},A0=function(r){return r.y},NPe=function(r,n){if(Dt(r))return r;var a="curve".concat(gS(r));return(a==="curveMonotone"||a==="curveBump")&&n?iL["".concat(a).concat(n==="vertical"?"Y":"X")]:iL[a]||xS},CPe=function(r){var n=r.type,a=n===void 0?"linear":n,s=r.points,i=s===void 0?[]:s,o=r.baseLine,c=r.layout,u=r.connectNulls,d=u===void 0?!1:u,f=NPe(a,c),h=d?i.filter(function(v){return n1(v)}):i,m;if(Array.isArray(o)){var p=d?o.filter(function(v){return n1(v)}):o,g=h.map(function(v,x){return sL(sL({},v),{},{base:p[x]})});return c==="vertical"?m=Ky().y(A0).x1(T0).x0(function(v){return v.base.x}):m=Ky().x(T0).y1(A0).y0(function(v){return v.base.y}),m.defined(n1).curve(f),m(g)}return c==="vertical"&&Qe(o)?m=Ky().y(A0).x1(T0).x0(o):Qe(o)?m=Ky().x(T0).y1(A0).y0(o):m=LW().x(T0).y(A0),m.defined(n1).curve(f),m(h)},pw=function(r){var n=r.className,a=r.points,s=r.path,i=r.pathRef;if((!a||!a.length)&&!s)return null;var o=a&&a.length?CPe(r):s;return y.createElement("path",pE({},Ct(r,!1),$b(r),{className:Ut("recharts-curve",n),d:o,ref:i}))},Hq={exports:{}},EPe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",TPe=EPe,APe=TPe;function qq(){}function Kq(){}Kq.resetWarningCache=qq;var OPe=function(){function e(a,s,i,o,c,u){if(u!==APe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function r(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:Kq,resetWarningCache:qq};return n.PropTypes=n,n};Hq.exports=OPe();var PPe=Hq.exports;const pr=vr(PPe);var DPe=Object.getOwnPropertyNames,RPe=Object.getOwnPropertySymbols,IPe=Object.prototype.hasOwnProperty;function oL(e,r){return function(a,s,i){return e(a,s,i)&&r(a,s,i)}}function a1(e){return function(n,a,s){if(!n||!a||typeof n!="object"||typeof a!="object")return e(n,a,s);var i=s.cache,o=i.get(n),c=i.get(a);if(o&&c)return o===a&&c===n;i.set(n,a),i.set(a,n);var u=e(n,a,s);return i.delete(n),i.delete(a),u}}function lL(e){return DPe(e).concat(RPe(e))}var MPe=Object.hasOwn||function(e,r){return IPe.call(e,r)};function Wf(e,r){return e===r||!e&&!r&&e!==e&&r!==r}var FPe="__v",LPe="__o",$Pe="_owner",cL=Object.getOwnPropertyDescriptor,uL=Object.keys;function BPe(e,r,n){var a=e.length;if(r.length!==a)return!1;for(;a-- >0;)if(!n.equals(e[a],r[a],a,a,e,r,n))return!1;return!0}function UPe(e,r){return Wf(e.getTime(),r.getTime())}function VPe(e,r){return e.name===r.name&&e.message===r.message&&e.cause===r.cause&&e.stack===r.stack}function zPe(e,r){return e===r}function dL(e,r,n){var a=e.size;if(a!==r.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.entries(),o,c,u=0;(o=i.next())&&!o.done;){for(var d=r.entries(),f=!1,h=0;(c=d.next())&&!c.done;){if(s[h]){h++;continue}var m=o.value,p=c.value;if(n.equals(m[0],p[0],u,h,e,r,n)&&n.equals(m[1],p[1],m[0],p[0],e,r,n)){f=s[h]=!0;break}h++}if(!f)return!1;u++}return!0}var WPe=Wf;function HPe(e,r,n){var a=uL(e),s=a.length;if(uL(r).length!==s)return!1;for(;s-- >0;)if(!Gq(e,r,n,a[s]))return!1;return!0}function O0(e,r,n){var a=lL(e),s=a.length;if(lL(r).length!==s)return!1;for(var i,o,c;s-- >0;)if(i=a[s],!Gq(e,r,n,i)||(o=cL(e,i),c=cL(r,i),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function qPe(e,r){return Wf(e.valueOf(),r.valueOf())}function KPe(e,r){return e.source===r.source&&e.flags===r.flags}function fL(e,r,n){var a=e.size;if(a!==r.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.values(),o,c;(o=i.next())&&!o.done;){for(var u=r.values(),d=!1,f=0;(c=u.next())&&!c.done;){if(!s[f]&&n.equals(o.value,c.value,o.value,c.value,e,r,n)){d=s[f]=!0;break}f++}if(!d)return!1}return!0}function GPe(e,r){var n=e.length;if(r.length!==n)return!1;for(;n-- >0;)if(e[n]!==r[n])return!1;return!0}function YPe(e,r){return e.hostname===r.hostname&&e.pathname===r.pathname&&e.protocol===r.protocol&&e.port===r.port&&e.hash===r.hash&&e.username===r.username&&e.password===r.password}function Gq(e,r,n,a){return(a===$Pe||a===LPe||a===FPe)&&(e.$$typeof||r.$$typeof)?!0:MPe(r,a)&&n.equals(e[a],r[a],a,a,e,r,n)}var XPe="[object Arguments]",JPe="[object Boolean]",QPe="[object Date]",ZPe="[object Error]",e4e="[object Map]",t4e="[object Number]",r4e="[object Object]",n4e="[object RegExp]",a4e="[object Set]",s4e="[object String]",i4e="[object URL]",o4e=Array.isArray,hL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,mL=Object.assign,l4e=Object.prototype.toString.call.bind(Object.prototype.toString);function c4e(e){var r=e.areArraysEqual,n=e.areDatesEqual,a=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,c=e.areObjectsEqual,u=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,f=e.areSetsEqual,h=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(g,v,x){if(g===v)return!0;if(g==null||v==null)return!1;var w=typeof g;if(w!==typeof v)return!1;if(w!=="object")return w==="number"?o(g,v,x):w==="function"?s(g,v,x):!1;var b=g.constructor;if(b!==v.constructor)return!1;if(b===Object)return c(g,v,x);if(o4e(g))return r(g,v,x);if(hL!=null&&hL(g))return h(g,v,x);if(b===Date)return n(g,v,x);if(b===RegExp)return d(g,v,x);if(b===Map)return i(g,v,x);if(b===Set)return f(g,v,x);var _=l4e(g);return _===QPe?n(g,v,x):_===n4e?d(g,v,x):_===e4e?i(g,v,x):_===a4e?f(g,v,x):_===r4e?typeof g.then!="function"&&typeof v.then!="function"&&c(g,v,x):_===i4e?m(g,v,x):_===ZPe?a(g,v,x):_===XPe?c(g,v,x):_===JPe||_===t4e||_===s4e?u(g,v,x):!1}}function u4e(e){var r=e.circular,n=e.createCustomConfig,a=e.strict,s={areArraysEqual:a?O0:BPe,areDatesEqual:UPe,areErrorsEqual:VPe,areFunctionsEqual:zPe,areMapsEqual:a?oL(dL,O0):dL,areNumbersEqual:WPe,areObjectsEqual:a?O0:HPe,arePrimitiveWrappersEqual:qPe,areRegExpsEqual:KPe,areSetsEqual:a?oL(fL,O0):fL,areTypedArraysEqual:a?O0:GPe,areUrlsEqual:YPe};if(n&&(s=mL({},s,n(s))),r){var i=a1(s.areArraysEqual),o=a1(s.areMapsEqual),c=a1(s.areObjectsEqual),u=a1(s.areSetsEqual);s=mL({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:u})}return s}function d4e(e){return function(r,n,a,s,i,o,c){return e(r,n,c)}}function f4e(e){var r=e.circular,n=e.comparator,a=e.createState,s=e.equals,i=e.strict;if(a)return function(u,d){var f=a(),h=f.cache,m=h===void 0?r?new WeakMap:void 0:h,p=f.meta;return n(u,d,{cache:m,equals:s,meta:p,strict:i})};if(r)return function(u,d){return n(u,d,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(u,d){return n(u,d,o)}}var h4e=sd();sd({strict:!0});sd({circular:!0});sd({circular:!0,strict:!0});sd({createInternalComparator:function(){return Wf}});sd({strict:!0,createInternalComparator:function(){return Wf}});sd({circular:!0,createInternalComparator:function(){return Wf}});sd({circular:!0,createInternalComparator:function(){return Wf},strict:!0});function sd(e){e===void 0&&(e={});var r=e.circular,n=r===void 0?!1:r,a=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,c=u4e(e),u=c4e(c),d=a?a(u):d4e(u);return f4e({circular:n,comparator:u,createState:s,equals:d,strict:o})}function m4e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function pL(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,a=function s(i){n<0&&(n=i),i-n>r?(e(i),n=-1):m4e(s)};requestAnimationFrame(a)}function gE(e){"@babel/helpers - typeof";return gE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gE(e)}function p4e(e){return y4e(e)||x4e(e)||v4e(e)||g4e()}function g4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v4e(e,r){if(e){if(typeof e=="string")return gL(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gL(e,r)}}function gL(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function x4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function y4e(e){if(Array.isArray(e))return e}function b4e(){var e={},r=function(){return null},n=!1,a=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,c=p4e(o),u=c[0],d=c.slice(1);if(typeof u=="number"){pL(s.bind(null,d),u);return}s(u),pL(s.bind(null,d));return}gE(i)==="object"&&(e=i,r(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,a(i)},subscribe:function(i){return r=i,function(){r=function(){return null}}}}}function Iv(e){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Iv(e)}function vL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function xL(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?vL(Object(n),!0).forEach(function(a){Yq(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Yq(e,r,n){return r=w4e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function w4e(e){var r=_4e(e,"string");return Iv(r)==="symbol"?r:String(r)}function _4e(e,r){if(Iv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Iv(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var S4e=function(r,n){return[Object.keys(r),Object.keys(n)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},j4e=function(r){return r},k4e=function(r){return r.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},bg=function(r,n){return Object.keys(n).reduce(function(a,s){return xL(xL({},a),{},Yq({},s,r(s,n[s])))},{})},yL=function(r,n,a){return r.map(function(s){return"".concat(k4e(s)," ").concat(n,"ms ").concat(a)}).join(",")};function N4e(e,r){return T4e(e)||E4e(e,r)||Xq(e,r)||C4e()}function C4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E4e(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function T4e(e){if(Array.isArray(e))return e}function A4e(e){return D4e(e)||P4e(e)||Xq(e)||O4e()}function O4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xq(e,r){if(e){if(typeof e=="string")return vE(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vE(e,r)}}function P4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function D4e(e){if(Array.isArray(e))return vE(e)}function vE(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}var gw=1e-4,Jq=function(r,n){return[0,3*r,3*n-6*r,3*r-3*n+1]},Qq=function(r,n){return r.map(function(a,s){return a*Math.pow(n,s)}).reduce(function(a,s){return a+s})},bL=function(r,n){return function(a){var s=Jq(r,n);return Qq(s,a)}},R4e=function(r,n){return function(a){var s=Jq(r,n),i=[].concat(A4e(s.map(function(o,c){return o*c}).slice(1)),[0]);return Qq(i,a)}},wL=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n[0],i=n[1],o=n[2],c=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,o=1,c=1;break;case"ease":s=.25,i=.1,o=.25,c=1;break;case"ease-in":s=.42,i=0,o=1,c=1;break;case"ease-out":s=.42,i=0,o=.58,c=1;break;case"ease-in-out":s=0,i=0,o=.58,c=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var d=u[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),f=N4e(d,4);s=f[0],i=f[1],o=f[2],c=f[3]}}}var h=bL(s,o),m=bL(i,c),p=R4e(s,o),g=function(w){return w>1?1:w<0?0:w},v=function(w){for(var b=w>1?1:w,_=b,S=0;S<8;++S){var j=h(_)-b,N=p(_);if(Math.abs(j-b)<gw||N<gw)return m(_);_=g(_-j/N)}return m(_)};return v.isStepper=!1,v},I4e=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.stiff,a=n===void 0?100:n,s=r.damping,i=s===void 0?8:s,o=r.dt,c=o===void 0?17:o,u=function(f,h,m){var p=-(f-h)*a,g=m*i,v=m+(p-g)*c/1e3,x=m*c/1e3+f;return Math.abs(x-h)<gw&&Math.abs(v)<gw?[h,0]:[x,v]};return u.isStepper=!0,u.dt=c,u},M4e=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wL(s);case"spring":return I4e();default:if(s.split("(")[0]==="cubic-bezier")return wL(s)}return typeof s=="function"?s:null};function Mv(e){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mv(e)}function _L(e){return $4e(e)||L4e(e)||Zq(e)||F4e()}function F4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $4e(e){if(Array.isArray(e))return yE(e)}function SL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function oa(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?SL(Object(n),!0).forEach(function(a){xE(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function xE(e,r,n){return r=B4e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function B4e(e){var r=U4e(e,"string");return Mv(r)==="symbol"?r:String(r)}function U4e(e,r){if(Mv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Mv(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function V4e(e,r){return H4e(e)||W4e(e,r)||Zq(e,r)||z4e()}function z4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zq(e,r){if(e){if(typeof e=="string")return yE(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yE(e,r)}}function yE(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function W4e(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function H4e(e){if(Array.isArray(e))return e}var vw=function(r,n,a){return r+(n-r)*a},bE=function(r){var n=r.from,a=r.to;return n!==a},q4e=function e(r,n,a){var s=bg(function(i,o){if(bE(o)){var c=r(o.from,o.to,o.velocity),u=V4e(c,2),d=u[0],f=u[1];return oa(oa({},o),{},{from:d,velocity:f})}return o},n);return a<1?bg(function(i,o){return bE(o)?oa(oa({},o),{},{velocity:vw(o.velocity,s[i].velocity,a),from:vw(o.from,s[i].from,a)}):o},n):e(r,s,a-1)};const K4e=function(e,r,n,a,s){var i=S4e(e,r),o=i.reduce(function(x,w){return oa(oa({},x),{},xE({},w,[e[w],r[w]]))},{}),c=i.reduce(function(x,w){return oa(oa({},x),{},xE({},w,{from:e[w],velocity:0,to:r[w]}))},{}),u=-1,d,f,h=function(){return null},m=function(){return bg(function(w,b){return b.from},c)},p=function(){return!Object.values(c).filter(bE).length},g=function(w){d||(d=w);var b=w-d,_=b/n.dt;c=q4e(n,c,_),s(oa(oa(oa({},e),r),m())),d=w,p()||(u=requestAnimationFrame(h))},v=function(w){f||(f=w);var b=(w-f)/a,_=bg(function(j,N){return vw.apply(void 0,_L(N).concat([n(b)]))},o);if(s(oa(oa(oa({},e),r),_)),b<1)u=requestAnimationFrame(h);else{var S=bg(function(j,N){return vw.apply(void 0,_L(N).concat([n(1)]))},o);s(oa(oa(oa({},e),r),S))}};return h=n.isStepper?g:v,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(u)}}};function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ep(e)}var G4e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Y4e(e,r){if(e==null)return{};var n=X4e(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function X4e(e,r){if(e==null)return{};var n={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(r.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Zk(e){return eDe(e)||Z4e(e)||Q4e(e)||J4e()}function J4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q4e(e,r){if(e){if(typeof e=="string")return wE(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wE(e,r)}}function Z4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eDe(e){if(Array.isArray(e))return wE(e)}function wE(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function jL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function eo(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?jL(Object(n),!0).forEach(function(a){K0(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function K0(e,r,n){return r=eK(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function tDe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function rDe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,eK(a.key),a)}}function nDe(e,r,n){return r&&rDe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eK(e){var r=aDe(e,"string");return ep(r)==="symbol"?r:String(r)}function aDe(e,r){if(ep(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(ep(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function sDe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&_E(e,r)}function _E(e,r){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},_E(e,r)}function iDe(e){var r=oDe();return function(){var a=xw(e),s;if(r){var i=xw(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return SE(this,s)}}function SE(e,r){if(r&&(ep(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jE(e)}function jE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xw(e){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xw(e)}var Nl=function(e){sDe(n,e);var r=iDe(n);function n(a,s){var i;tDe(this,n),i=r.call(this,a,s);var o=i.props,c=o.isActive,u=o.attributeName,d=o.from,f=o.to,h=o.steps,m=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(jE(i)),i.changeStyle=i.changeStyle.bind(jE(i)),!c||p<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:f}),SE(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof m=="function")return i.state={style:d},SE(i);i.state={style:u?K0({},u,d):d}}else i.state={style:{}};return i}return nDe(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,c=i.canBegin,u=i.attributeName,d=i.shouldReAnimate,f=i.to,h=i.from,m=this.state.style;if(c){if(!o){var p={style:u?K0({},u,f):f};this.state&&m&&(u&&m[u]!==f||!u&&m!==f)&&this.setState(p);return}if(!(h4e(s.to,f)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||d?h:s.to;if(this.state&&m){var x={style:u?K0({},u,v):v};(u&&m[u]!==v||!u&&m!==v)&&this.setState(x)}this.runAnimation(eo(eo({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,c=s.to,u=s.duration,d=s.easing,f=s.begin,h=s.onAnimationEnd,m=s.onAnimationStart,p=K4e(o,c,M4e(d),u,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([m,f,g,u,h])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,c=s.begin,u=s.onAnimationStart,d=o[0],f=d.style,h=d.duration,m=h===void 0?0:h,p=function(v,x,w){if(w===0)return v;var b=x.duration,_=x.easing,S=_===void 0?"ease":_,j=x.style,N=x.properties,k=x.onAnimationEnd,E=w>0?o[w-1]:x,C=N||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(Zk(v),[i.runJSAnimation.bind(i,{from:E.style,to:j,duration:b,easing:S}),b]);var A=yL(C,b,S),D=eo(eo(eo({},E.style),j),{},{transition:A});return[].concat(Zk(v),[D,b,k]).filter(j4e)};return this.manager.start([u].concat(Zk(o.reduce(p,[f,Math.max(m,c)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=b4e());var i=s.begin,o=s.duration,c=s.attributeName,u=s.to,d=s.easing,f=s.onAnimationStart,h=s.onAnimationEnd,m=s.steps,p=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof d=="function"||typeof p=="function"||d==="spring"){this.runJSAnimation(s);return}if(m.length>1){this.runStepAnimation(s);return}var v=c?K0({},c,u):u,x=yL(Object.keys(v),o,d);g.start([f,i,eo(eo({},v),{},{transition:x}),o,h])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var c=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var u=Y4e(s,G4e),d=y.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!c||d===0||o<=0)return i;var h=function(p){var g=p.props,v=g.style,x=v===void 0?{}:v,w=g.className,b=y.cloneElement(p,eo(eo({},u),{},{style:eo(eo({},x),f),className:w}));return b};return d===1?h(y.Children.only(i)):ne.createElement("div",null,y.Children.map(i,function(m){return h(m)}))}}]),n}(y.PureComponent);Nl.displayName="Animate";Nl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Nl.propTypes={from:pr.oneOfType([pr.object,pr.string]),to:pr.oneOfType([pr.object,pr.string]),attributeName:pr.string,duration:pr.number,begin:pr.number,easing:pr.oneOfType([pr.string,pr.func]),steps:pr.arrayOf(pr.shape({duration:pr.number.isRequired,style:pr.object.isRequired,easing:pr.oneOfType([pr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),pr.func]),properties:pr.arrayOf("string"),onAnimationEnd:pr.func})),children:pr.oneOfType([pr.node,pr.func]),isActive:pr.bool,canBegin:pr.bool,onAnimationEnd:pr.func,shouldReAnimate:pr.bool,onAnimationStart:pr.func,onAnimationReStart:pr.func};function Fv(e){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fv(e)}function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},yw.apply(this,arguments)}function lDe(e,r){return fDe(e)||dDe(e,r)||uDe(e,r)||cDe()}function cDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uDe(e,r){if(e){if(typeof e=="string")return kL(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kL(e,r)}}function kL(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function dDe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function fDe(e){if(Array.isArray(e))return e}function NL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function CL(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?NL(Object(n),!0).forEach(function(a){hDe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function hDe(e,r,n){return r=mDe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function mDe(e){var r=pDe(e,"string");return Fv(r)=="symbol"?r:r+""}function pDe(e,r){if(Fv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Fv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var EL=function(r,n,a,s,i){var o=Math.min(Math.abs(a)/2,Math.abs(s)/2),c=s>=0?1:-1,u=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];f="M".concat(r,",").concat(n+c*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(r+u*h[0],",").concat(n)),f+="L ".concat(r+a-u*h[1],",").concat(n),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(r+a,",").concat(n+c*h[1])),f+="L ".concat(r+a,",").concat(n+s-c*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(r+a-u*h[2],",").concat(n+s)),f+="L ".concat(r+u*h[3],",").concat(n+s),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(r,",").concat(n+s-c*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);f="M ".concat(r,",").concat(n+c*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(r+u*g,",").concat(n,`
            L `).concat(r+a-u*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(r+a,",").concat(n+c*g,`
            L `).concat(r+a,",").concat(n+s-c*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(r+a-u*g,",").concat(n+s,`
            L `).concat(r+u*g,",").concat(n+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(r,",").concat(n+s-c*g," Z")}else f="M ".concat(r,",").concat(n," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return f},gDe=function(r,n){if(!r||!n)return!1;var a=r.x,s=r.y,i=n.x,o=n.y,c=n.width,u=n.height;if(Math.abs(c)>0&&Math.abs(u)>0){var d=Math.min(i,i+c),f=Math.max(i,i+c),h=Math.min(o,o+u),m=Math.max(o,o+u);return a>=d&&a<=f&&s>=h&&s<=m}return!1},vDe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wP=function(r){var n=CL(CL({},vDe),r),a=y.useRef(),s=y.useState(-1),i=lDe(s,2),o=i[0],c=i[1];y.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&c(S)}catch{}},[]);var u=n.x,d=n.y,f=n.width,h=n.height,m=n.radius,p=n.className,g=n.animationEasing,v=n.animationDuration,x=n.animationBegin,w=n.isAnimationActive,b=n.isUpdateAnimationActive;if(u!==+u||d!==+d||f!==+f||h!==+h||f===0||h===0)return null;var _=Ut("recharts-rectangle",p);return b?ne.createElement(Nl,{canBegin:o>0,from:{width:f,height:h,x:u,y:d},to:{width:f,height:h,x:u,y:d},duration:v,animationEasing:g,isActive:b},function(S){var j=S.width,N=S.height,k=S.x,E=S.y;return ne.createElement(Nl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:w,easing:g},ne.createElement("path",yw({},Ct(n,!0),{className:_,d:EL(k,E,j,N,m),ref:a})))}):ne.createElement("path",yw({},Ct(n,!0),{className:_,d:EL(u,d,f,h,m)}))},xDe=["points","className","baseLinePoints","connectNulls"];function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zh.apply(this,arguments)}function yDe(e,r){if(e==null)return{};var n=bDe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function bDe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function TL(e){return jDe(e)||SDe(e)||_De(e)||wDe()}function wDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _De(e,r){if(e){if(typeof e=="string")return kE(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kE(e,r)}}function SDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jDe(e){if(Array.isArray(e))return kE(e)}function kE(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}var AL=function(r){return r&&r.x===+r.x&&r.y===+r.y},kDe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return r.forEach(function(a){AL(a)?n[n.length-1].push(a):n[n.length-1].length>0&&n.push([])}),AL(r[0])&&n[n.length-1].push(r[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},wg=function(r,n){var a=kDe(r);n&&(a=[a.reduce(function(i,o){return[].concat(TL(i),TL(o))},[])]);var s=a.map(function(i){return i.reduce(function(o,c,u){return"".concat(o).concat(u===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},NDe=function(r,n,a){var s=wg(r,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(wg(n.reverse(),a).slice(1))},CDe=function(r){var n=r.points,a=r.className,s=r.baseLinePoints,i=r.connectNulls,o=yDe(r,xDe);if(!n||!n.length)return null;var c=Ut("recharts-polygon",a);if(s&&s.length){var u=o.stroke&&o.stroke!=="none",d=NDe(n,s,i);return ne.createElement("g",{className:c},ne.createElement("path",zh({},Ct(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),u?ne.createElement("path",zh({},Ct(o,!0),{fill:"none",d:wg(n,i)})):null,u?ne.createElement("path",zh({},Ct(o,!0),{fill:"none",d:wg(s,i)})):null)}var f=wg(n,i);return ne.createElement("path",zh({},Ct(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:c,d:f}))};function NE(){return NE=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},NE.apply(this,arguments)}var IS=function(r){var n=r.cx,a=r.cy,s=r.r,i=r.className,o=Ut("recharts-dot",i);return n===+n&&a===+a&&s===+s?y.createElement("circle",NE({},Ct(r,!1),$b(r),{className:o,cx:n,cy:a,r:s})):null};function Lv(e){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Lv(e)}var EDe=["x","y","top","left","width","height","className"];function CE(){return CE=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},CE.apply(this,arguments)}function OL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function TDe(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?OL(Object(n),!0).forEach(function(a){ADe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function ADe(e,r,n){return r=ODe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function ODe(e){var r=PDe(e,"string");return Lv(r)=="symbol"?r:r+""}function PDe(e,r){if(Lv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Lv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function DDe(e,r){if(e==null)return{};var n=RDe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function RDe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}var IDe=function(r,n,a,s,i,o){return"M".concat(r,",").concat(i,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(a)},MDe=function(r){var n=r.x,a=n===void 0?0:n,s=r.y,i=s===void 0?0:s,o=r.top,c=o===void 0?0:o,u=r.left,d=u===void 0?0:u,f=r.width,h=f===void 0?0:f,m=r.height,p=m===void 0?0:m,g=r.className,v=DDe(r,EDe),x=TDe({x:a,y:i,top:c,left:d,width:h,height:p},v);return!Qe(a)||!Qe(i)||!Qe(h)||!Qe(p)||!Qe(c)||!Qe(d)?null:ne.createElement("path",CE({},Ct(x,!0),{className:Ut("recharts-cross",g),d:IDe(a,i,h,p,c,d)}))},FDe=AS,LDe=fq,$De=Rl;function BDe(e,r){return e&&e.length?FDe(e,$De(r),LDe):void 0}var UDe=BDe;const VDe=vr(UDe);var zDe=AS,WDe=Rl,HDe=hq;function qDe(e,r){return e&&e.length?zDe(e,WDe(r),HDe):void 0}var KDe=qDe;const GDe=vr(KDe);var YDe=["cx","cy","angle","ticks","axisLine"],XDe=["ticks","tick","angle","tickFormatter","stroke"];function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tp(e)}function _g(){return _g=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_g.apply(this,arguments)}function PL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function hd(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?PL(Object(n),!0).forEach(function(a){MS(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function DL(e,r){if(e==null)return{};var n=JDe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function JDe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function QDe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function RL(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,rK(a.key),a)}}function ZDe(e,r,n){return r&&RL(e.prototype,r),n&&RL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function eRe(e,r,n){return r=bw(r),tRe(e,tK()?Reflect.construct(r,n||[],bw(e).constructor):r.apply(e,n))}function tRe(e,r){if(r&&(tp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rRe(e)}function rRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tK=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bw(e)}function nRe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&EE(e,r)}function EE(e,r){return EE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},EE(e,r)}function MS(e,r,n){return r=rK(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function rK(e){var r=aRe(e,"string");return tp(r)=="symbol"?r:r+""}function aRe(e,r){if(tp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(tp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var FS=function(e){function r(){return QDe(this,r),eRe(this,r,arguments)}return nRe(r,e),ZDe(r,[{key:"getTickValueCoord",value:function(a){var s=a.coordinate,i=this.props,o=i.angle,c=i.cx,u=i.cy;return Mr(c,u,s,o)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,s;switch(a){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.angle,c=a.ticks,u=VDe(c,function(f){return f.coordinate||0}),d=GDe(c,function(f){return f.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.angle,c=a.ticks,u=a.axisLine,d=DL(a,YDe),f=c.reduce(function(g,v){return[Math.min(g[0],v.coordinate),Math.max(g[1],v.coordinate)]},[1/0,-1/0]),h=Mr(s,i,f[0],o),m=Mr(s,i,f[1],o),p=hd(hd(hd({},Ct(d,!1)),{},{fill:"none"},Ct(u,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return ne.createElement("line",_g({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,o=s.tick,c=s.angle,u=s.tickFormatter,d=s.stroke,f=DL(s,XDe),h=this.getTickTextAnchor(),m=Ct(f,!1),p=Ct(o,!1),g=i.map(function(v,x){var w=a.getTickValueCoord(v),b=hd(hd(hd(hd({textAnchor:h,transform:"rotate(".concat(90-c,", ").concat(w.x,", ").concat(w.y,")")},m),{},{stroke:"none",fill:d},p),{},{index:x},w),{},{payload:v});return ne.createElement(fr,_g({className:Ut("recharts-polar-radius-axis-tick",Uq(o)),key:"tick-".concat(v.coordinate)},_f(a.props,v,x)),r.renderTickItem(o,b,u?u(v.value,x):v.value))});return ne.createElement(fr,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.axisLine,o=a.tick;return!s||!s.length?null:ne.createElement(fr,{className:Ut("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Zn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,s,i){var o;return ne.isValidElement(a)?o=ne.cloneElement(a,s):Dt(a)?o=a(s):o=ne.createElement(Sf,_g({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(y.PureComponent);MS(FS,"displayName","PolarRadiusAxis");MS(FS,"axisType","radiusAxis");MS(FS,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rp(e)}function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Cd.apply(this,arguments)}function IL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function md(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?IL(Object(n),!0).forEach(function(a){LS(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function sRe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ML(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,aK(a.key),a)}}function iRe(e,r,n){return r&&ML(e.prototype,r),n&&ML(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oRe(e,r,n){return r=ww(r),lRe(e,nK()?Reflect.construct(r,n||[],ww(e).constructor):r.apply(e,n))}function lRe(e,r){if(r&&(rp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cRe(e)}function cRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nK=function(){return!!e})()}function ww(e){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ww(e)}function uRe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&TE(e,r)}function TE(e,r){return TE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},TE(e,r)}function LS(e,r,n){return r=aK(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function aK(e){var r=dRe(e,"string");return rp(r)=="symbol"?r:r+""}function dRe(e,r){if(rp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(rp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var fRe=Math.PI/180,FL=1e-5,$S=function(e){function r(){return sRe(this,r),oRe(this,r,arguments)}return uRe(r,e),iRe(r,[{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.cx,o=s.cy,c=s.radius,u=s.orientation,d=s.tickSize,f=d||8,h=Mr(i,o,c,a.coordinate),m=Mr(i,o,c+(u==="inner"?-1:1)*f,a.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(a){var s=this.props.orientation,i=Math.cos(-a.coordinate*fRe),o;return i>FL?o=s==="outer"?"start":"end":i<-FL?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.radius,c=a.axisLine,u=a.axisLineType,d=md(md({},Ct(this.props,!1)),{},{fill:"none"},Ct(c,!1));if(u==="circle")return ne.createElement(IS,Cd({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:i,r:o}));var f=this.props.ticks,h=f.map(function(m){return Mr(s,i,o,m.coordinate)});return ne.createElement(CDe,Cd({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,o=s.tick,c=s.tickLine,u=s.tickFormatter,d=s.stroke,f=Ct(this.props,!1),h=Ct(o,!1),m=md(md({},f),{},{fill:"none"},Ct(c,!1)),p=i.map(function(g,v){var x=a.getTickLineCoord(g),w=a.getTickTextAnchor(g),b=md(md(md({textAnchor:w},f),{},{stroke:"none",fill:d},h),{},{index:v,payload:g,x:x.x2,y:x.y2});return ne.createElement(fr,Cd({className:Ut("recharts-polar-angle-axis-tick",Uq(o)),key:"tick-".concat(g.coordinate)},_f(a.props,g,v)),c&&ne.createElement("line",Cd({className:"recharts-polar-angle-axis-tick-line"},m,x)),o&&r.renderTickItem(o,b,u?u(g.value,v):g.value))});return ne.createElement(fr,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.radius,o=a.axisLine;return i<=0||!s||!s.length?null:ne.createElement(fr,{className:Ut("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,s,i){var o;return ne.isValidElement(a)?o=ne.cloneElement(a,s):Dt(a)?o=a(s):o=ne.createElement(Sf,Cd({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(y.PureComponent);LS($S,"displayName","PolarAngleAxis");LS($S,"axisType","angleAxis");LS($S,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var hRe=lH,mRe=hRe(Object.getPrototypeOf,Object),pRe=mRe,gRe=Ac,vRe=pRe,xRe=Oc,yRe="[object Object]",bRe=Function.prototype,wRe=Object.prototype,sK=bRe.toString,_Re=wRe.hasOwnProperty,SRe=sK.call(Object);function jRe(e){if(!xRe(e)||gRe(e)!=yRe)return!1;var r=vRe(e);if(r===null)return!0;var n=_Re.call(r,"constructor")&&r.constructor;return typeof n=="function"&&n instanceof n&&sK.call(n)==SRe}var kRe=jRe;const NRe=vr(kRe);var CRe=Ac,ERe=Oc,TRe="[object Boolean]";function ARe(e){return e===!0||e===!1||ERe(e)&&CRe(e)==TRe}var ORe=ARe;const PRe=vr(ORe);function $v(e){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$v(e)}function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_w.apply(this,arguments)}function DRe(e,r){return FRe(e)||MRe(e,r)||IRe(e,r)||RRe()}function RRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IRe(e,r){if(e){if(typeof e=="string")return LL(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LL(e,r)}}function LL(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function MRe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function FRe(e){if(Array.isArray(e))return e}function $L(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function BL(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?$L(Object(n),!0).forEach(function(a){LRe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function LRe(e,r,n){return r=$Re(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function $Re(e){var r=BRe(e,"string");return $v(r)=="symbol"?r:r+""}function BRe(e,r){if($v(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if($v(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var UL=function(r,n,a,s,i){var o=a-s,c;return c="M ".concat(r,",").concat(n),c+="L ".concat(r+a,",").concat(n),c+="L ".concat(r+a-o/2,",").concat(n+i),c+="L ".concat(r+a-o/2-s,",").concat(n+i),c+="L ".concat(r,",").concat(n," Z"),c},URe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VRe=function(r){var n=BL(BL({},URe),r),a=y.useRef(),s=y.useState(-1),i=DRe(s,2),o=i[0],c=i[1];y.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var _=a.current.getTotalLength();_&&c(_)}catch{}},[]);var u=n.x,d=n.y,f=n.upperWidth,h=n.lowerWidth,m=n.height,p=n.className,g=n.animationEasing,v=n.animationDuration,x=n.animationBegin,w=n.isUpdateAnimationActive;if(u!==+u||d!==+d||f!==+f||h!==+h||m!==+m||f===0&&h===0||m===0)return null;var b=Ut("recharts-trapezoid",p);return w?ne.createElement(Nl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:u,y:d},to:{upperWidth:f,lowerWidth:h,height:m,x:u,y:d},duration:v,animationEasing:g,isActive:w},function(_){var S=_.upperWidth,j=_.lowerWidth,N=_.height,k=_.x,E=_.y;return ne.createElement(Nl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:g},ne.createElement("path",_w({},Ct(n,!0),{className:b,d:UL(k,E,S,j,N),ref:a})))}):ne.createElement("g",null,ne.createElement("path",_w({},Ct(n,!0),{className:b,d:UL(u,d,f,h,m)})))},zRe=["option","shapeType","propTransformer","activeClassName","isActive"];function Bv(e){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bv(e)}function WRe(e,r){if(e==null)return{};var n=HRe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function HRe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function VL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Sw(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?VL(Object(n),!0).forEach(function(a){qRe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function qRe(e,r,n){return r=KRe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function KRe(e){var r=GRe(e,"string");return Bv(r)=="symbol"?r:r+""}function GRe(e,r){if(Bv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Bv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function YRe(e,r){return Sw(Sw({},r),e)}function XRe(e,r){return e==="symbols"}function zL(e){var r=e.shapeType,n=e.elementProps;switch(r){case"rectangle":return ne.createElement(wP,n);case"trapezoid":return ne.createElement(VRe,n);case"sector":return ne.createElement(Wq,n);case"symbols":if(XRe(r))return ne.createElement(BO,n);break;default:return null}}function JRe(e){return y.isValidElement(e)?e.props:e}function iK(e){var r=e.option,n=e.shapeType,a=e.propTransformer,s=a===void 0?YRe:a,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,c=e.isActive,u=WRe(e,zRe),d;if(y.isValidElement(r))d=y.cloneElement(r,Sw(Sw({},u),JRe(r)));else if(Dt(r))d=r(u);else if(NRe(r)&&!PRe(r)){var f=s(r,u);d=ne.createElement(zL,{shapeType:n,elementProps:f})}else{var h=u;d=ne.createElement(zL,{shapeType:n,elementProps:h})}return c?ne.createElement(fr,{className:o},d):d}function BS(e,r){return r!=null&&"trapezoids"in e.props}function US(e,r){return r!=null&&"sectors"in e.props}function Uv(e,r){return r!=null&&"points"in e.props}function QRe(e,r){var n,a,s=e.x===(r==null||(n=r.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===r.x,i=e.y===(r==null||(a=r.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===r.y;return s&&i}function ZRe(e,r){var n=e.endAngle===r.endAngle,a=e.startAngle===r.startAngle;return n&&a}function eIe(e,r){var n=e.x===r.x,a=e.y===r.y,s=e.z===r.z;return n&&a&&s}function tIe(e,r){var n;return BS(e,r)?n=QRe:US(e,r)?n=ZRe:Uv(e,r)&&(n=eIe),n}function rIe(e,r){var n;return BS(e,r)?n="trapezoids":US(e,r)?n="sectors":Uv(e,r)&&(n="points"),n}function nIe(e,r){if(BS(e,r)){var n;return(n=r.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(US(e,r)){var a;return(a=r.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Uv(e,r)?r.payload:{}}function aIe(e){var r=e.activeTooltipItem,n=e.graphicalItem,a=e.itemData,s=rIe(n,r),i=nIe(n,r),o=a.filter(function(u,d){var f=$x(i,u),h=n.props[s].filter(function(g){var v=tIe(n,r);return v(g,r)}),m=n.props[s].indexOf(h[h.length-1]),p=d===m;return f&&p}),c=a.indexOf(o[o.length-1]);return c}var B1;function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},np(e)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wh.apply(this,arguments)}function WL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Dr(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?WL(Object(n),!0).forEach(function(a){Ii(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function sIe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function HL(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,lK(a.key),a)}}function iIe(e,r,n){return r&&HL(e.prototype,r),n&&HL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oIe(e,r,n){return r=jw(r),lIe(e,oK()?Reflect.construct(r,n||[],jw(e).constructor):r.apply(e,n))}function lIe(e,r){if(r&&(np(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cIe(e)}function cIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oK=function(){return!!e})()}function jw(e){return jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jw(e)}function uIe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&AE(e,r)}function AE(e,r){return AE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},AE(e,r)}function Ii(e,r,n){return r=lK(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function lK(e){var r=dIe(e,"string");return np(r)=="symbol"?r:r+""}function dIe(e,r){if(np(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(np(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ss=function(e){function r(n){var a;return sIe(this,r),a=oIe(this,r,[n]),Ii(a,"pieRef",null),Ii(a,"sectorRefs",[]),Ii(a,"id",Gp("recharts-pie-")),Ii(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Dt(s)&&s()}),Ii(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Dt(s)&&s()}),a.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},a}return uIe(r,e),iIe(r,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,c=i.labelLine,u=i.dataKey,d=i.valueKey,f=Ct(this.props,!1),h=Ct(o,!1),m=Ct(c,!1),p=o&&o.offsetRadius||20,g=a.map(function(v,x){var w=(v.startAngle+v.endAngle)/2,b=Mr(v.cx,v.cy,v.outerRadius+p,w),_=Dr(Dr(Dr(Dr({},f),v),{},{stroke:"none"},h),{},{index:x,textAnchor:r.getTextAnchor(b.x,v.cx)},b),S=Dr(Dr(Dr(Dr({},f),v),{},{fill:"none",stroke:v.fill},m),{},{index:x,points:[Mr(v.cx,v.cy,v.outerRadius,w),b]}),j=u;return Bt(u)&&Bt(d)?j="value":Bt(u)&&(j=d),ne.createElement(fr,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(x)},c&&r.renderLabelLineItem(c,S,"line"),r.renderLabelItem(o,_,zn(v,j)))});return ne.createElement(fr,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(a){var s=this,i=this.props,o=i.activeShape,c=i.blendStroke,u=i.inactiveShape;return a.map(function(d,f){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&a.length!==1)return null;var h=s.isActiveIndex(f),m=u&&s.hasActiveIndex()?u:null,p=h?o:m,g=Dr(Dr({},d),{},{stroke:c?d.fill:d.stroke,tabIndex:-1});return ne.createElement(fr,Wh({ref:function(x){x&&!s.sectorRefs.includes(x)&&s.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},_f(s.props,d,f),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(f)}),ne.createElement(iK,Wh({option:p,isActive:h,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,i=s.sectors,o=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state,m=h.prevSectors,p=h.prevIsAnimationActive;return ne.createElement(Nl,{begin:c,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var v=g.t,x=[],w=i&&i[0],b=w.startAngle;return i.forEach(function(_,S){var j=m&&m[S],N=S>0?hi(_,"paddingAngle",0):0;if(j){var k=ri(j.endAngle-j.startAngle,_.endAngle-_.startAngle),E=Dr(Dr({},_),{},{startAngle:b+N,endAngle:b+k(v)+N});x.push(E),b=E.endAngle}else{var C=_.endAngle,A=_.startAngle,D=ri(0,C-A),T=D(v),W=Dr(Dr({},_),{},{startAngle:b+N,endAngle:b+T+N});x.push(W),b=W.endAngle}}),ne.createElement(fr,null,a.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var c=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[c].focus(),s.setState({sectorToFocus:c});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,i=a.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!$x(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,i=s.hide,o=s.sectors,c=s.className,u=s.label,d=s.cx,f=s.cy,h=s.innerRadius,m=s.outerRadius,p=s.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!Qe(d)||!Qe(f)||!Qe(h)||!Qe(m))return null;var v=Ut("recharts-pie",c);return ne.createElement(fr,{tabIndex:this.props.rootTabIndex,className:v,ref:function(w){a.pieRef=w}},this.renderSectors(),u&&this.renderLabels(o),Zn.renderCallByParent(this.props,null,!1),(!p||g)&&cc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,i){if(ne.isValidElement(a))return ne.cloneElement(a,s);if(Dt(a))return a(s);var o=Ut("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return ne.createElement(pw,Wh({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(a,s,i){if(ne.isValidElement(a))return ne.cloneElement(a,s);var o=i;if(Dt(a)&&(o=a(s),ne.isValidElement(o)))return o;var c=Ut("recharts-pie-label-text",typeof a!="boolean"&&!Dt(a)?a.className:"");return ne.createElement(Sf,Wh({},s,{alignmentBaseline:"middle",className:c}),o)}}])}(y.PureComponent);B1=ss;Ii(ss,"displayName","Pie");Ii(ss,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!gl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ii(ss,"parseDeltaAngle",function(e,r){var n=os(r-e),a=Math.min(Math.abs(r-e),360);return n*a});Ii(ss,"getRealPieData",function(e){var r=e.data,n=e.children,a=Ct(e,!1),s=mi(n,il);return r&&r.length?r.map(function(i,o){return Dr(Dr(Dr({payload:i},a),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Dr(Dr({},a),i.props)}):[]});Ii(ss,"parseCoordinateOfPie",function(e,r){var n=r.top,a=r.left,s=r.width,i=r.height,o=Bq(s,i),c=a+ls(e.cx,s,s/2),u=n+ls(e.cy,i,i/2),d=ls(e.innerRadius,o,0),f=ls(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}});Ii(ss,"getComposedData",function(e){var r=e.item,n=e.offset,a=r.type.defaultProps!==void 0?Dr(Dr({},r.type.defaultProps),r.props):r.props,s=B1.getRealPieData(a);if(!s||!s.length)return null;var i=a.cornerRadius,o=a.startAngle,c=a.endAngle,u=a.paddingAngle,d=a.dataKey,f=a.nameKey,h=a.valueKey,m=a.tooltipType,p=Math.abs(a.minAngle),g=B1.parseCoordinateOfPie(a,n),v=B1.parseDeltaAngle(o,c),x=Math.abs(v),w=d;Bt(d)&&Bt(h)?(No(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Bt(d)&&(No(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=h);var b=s.filter(function(E){return zn(E,w,0)!==0}).length,_=(x>=360?b:b-1)*u,S=x-b*p-_,j=s.reduce(function(E,C){var A=zn(C,w,0);return E+(Qe(A)?A:0)},0),N;if(j>0){var k;N=s.map(function(E,C){var A=zn(E,w,0),D=zn(E,f,C),T=(Qe(A)?A:0)/j,W;C?W=k.endAngle+os(v)*u*(A!==0?1:0):W=o;var q=W+os(v)*((A!==0?p:0)+T*S),L=(W+q)/2,I=(g.innerRadius+g.outerRadius)/2,z=[{name:D,value:A,payload:E,dataKey:w,type:m}],F=Mr(g.cx,g.cy,I,L);return k=Dr(Dr(Dr({percent:T,cornerRadius:i,name:D,tooltipPayload:z,midAngle:L,middleRadius:I,tooltipPosition:F},E),g),{},{value:zn(E,w),startAngle:W,endAngle:q,payload:E,paddingAngle:os(v)*u}),k})}return Dr(Dr({},g),{},{sectors:N,data:s})});var fIe=Math.ceil,hIe=Math.max;function mIe(e,r,n,a){for(var s=-1,i=hIe(fIe((r-e)/(n||1)),0),o=Array(i);i--;)o[a?i:++s]=e,e+=n;return o}var pIe=mIe,gIe=CH,qL=1/0,vIe=17976931348623157e292;function xIe(e){if(!e)return e===0?e:0;if(e=gIe(e),e===qL||e===-qL){var r=e<0?-1:1;return r*vIe}return e===e?e:0}var cK=xIe,yIe=pIe,bIe=_S,eN=cK;function wIe(e){return function(r,n,a){return a&&typeof a!="number"&&bIe(r,n,a)&&(n=a=void 0),r=eN(r),n===void 0?(n=r,r=0):n=eN(n),a=a===void 0?r<n?1:-1:eN(a),yIe(r,n,a,e)}}var _Ie=wIe,SIe=_Ie,jIe=SIe(),kIe=jIe;const kw=vr(kIe);function Vv(e){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vv(e)}function KL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function GL(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?KL(Object(n),!0).forEach(function(a){uK(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function uK(e,r,n){return r=NIe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function NIe(e){var r=CIe(e,"string");return Vv(r)=="symbol"?r:r+""}function CIe(e,r){if(Vv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Vv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var EIe=["Webkit","Moz","O","ms"],TIe=function(r,n){var a=r.replace(/(\w)/,function(i){return i.toUpperCase()}),s=EIe.reduce(function(i,o){return GL(GL({},i),{},uK({},o+a,n))},{});return s[r]=n,s};function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ap(e)}function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Nw.apply(this,arguments)}function YL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function tN(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?YL(Object(n),!0).forEach(function(a){Ys(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function AIe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function XL(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,fK(a.key),a)}}function OIe(e,r,n){return r&&XL(e.prototype,r),n&&XL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function PIe(e,r,n){return r=Cw(r),DIe(e,dK()?Reflect.construct(r,n||[],Cw(e).constructor):r.apply(e,n))}function DIe(e,r){if(r&&(ap(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RIe(e)}function RIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dK=function(){return!!e})()}function Cw(e){return Cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cw(e)}function IIe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&OE(e,r)}function OE(e,r){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},OE(e,r)}function Ys(e,r,n){return r=fK(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function fK(e){var r=MIe(e,"string");return ap(r)=="symbol"?r:r+""}function MIe(e,r){if(ap(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(ap(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var FIe=function(r){var n=r.data,a=r.startIndex,s=r.endIndex,i=r.x,o=r.width,c=r.travellerWidth;if(!n||!n.length)return{};var u=n.length,d=xg().domain(kw(0,u)).range([i,i+o-c]),f=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(a),endX:d(s),scale:d,scaleValues:f}},JL=function(r){return r.changedTouches&&!!r.changedTouches.length},sp=function(e){function r(n){var a;return AIe(this,r),a=PIe(this,r,[n]),Ys(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),Ys(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),Ys(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,o=s.onDragEnd,c=s.startIndex;o==null||o({endIndex:i,startIndex:c})}),a.detachDragEndListener()}),Ys(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Ys(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Ys(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Ys(a,"handleSlideDragStart",function(s){var i=JL(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return IIe(r,e),OIe(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,o=this.state.scaleValues,c=this.props,u=c.gap,d=c.data,f=d.length-1,h=Math.min(s,i),m=Math.max(s,i),p=r.getIndexInRange(o,h),g=r.getIndexInRange(o,m);return{startIndex:p-p%u,endIndex:g===f?f:g-g%u}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,o=s.tickFormatter,c=s.dataKey,u=zn(i[a],c,a);return Dt(o)?o(u,a):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,o=s.startX,c=s.endX,u=this.props,d=u.x,f=u.width,h=u.travellerWidth,m=u.startIndex,p=u.endIndex,g=u.onChange,v=a.pageX-i;v>0?v=Math.min(v,d+f-h-c,d+f-h-o):v<0&&(v=Math.max(v,d-o,d-c));var x=this.getIndex({startX:o+v,endX:c+v});(x.startIndex!==m||x.endIndex!==p)&&g&&g(x),this.setState({startX:o+v,endX:c+v,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=JL(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,c=s.endX,u=s.startX,d=this.state[o],f=this.props,h=f.x,m=f.width,p=f.travellerWidth,g=f.onChange,v=f.gap,x=f.data,w={startX:this.state.startX,endX:this.state.endX},b=a.pageX-i;b>0?b=Math.min(b,h+m-p-d):b<0&&(b=Math.max(b,h-d)),w[o]=d+b;var _=this.getIndex(w),S=_.startIndex,j=_.endIndex,N=function(){var E=x.length-1;return o==="startX"&&(c>u?S%v===0:j%v===0)||c<u&&j===E||o==="endX"&&(c>u?j%v===0:S%v===0)||c>u&&j===E};this.setState(Ys(Ys({},o,d+b),"brushMoveStartX",a.pageX),function(){g&&N()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,o=this.state,c=o.scaleValues,u=o.startX,d=o.endX,f=this.state[s],h=c.indexOf(f);if(h!==-1){var m=h+a;if(!(m===-1||m>=c.length)){var p=c[m];s==="startX"&&p>=d||s==="endX"&&p<=u||this.setState(Ys({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,c=a.height,u=a.fill,d=a.stroke;return ne.createElement("rect",{stroke:d,fill:u,x:s,y:i,width:o,height:c})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,c=a.height,u=a.data,d=a.children,f=a.padding,h=y.Children.only(d);return h?ne.cloneElement(h,{x:s,y:i,width:o,height:c,margin:f,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,o,c=this,u=this.props,d=u.y,f=u.travellerWidth,h=u.height,m=u.traveller,p=u.ariaLabel,g=u.data,v=u.startIndex,x=u.endIndex,w=Math.max(a,this.props.x),b=tN(tN({},Ct(this.props,!1)),{},{x:w,y:d,width:f,height:h}),_=p||"Min value: ".concat((i=g[v])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return ne.createElement(fr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),c.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},r.renderTraveller(m,b))}},{key:"renderSlide",value:function(a,s){var i=this.props,o=i.y,c=i.height,u=i.stroke,d=i.travellerWidth,f=Math.min(a,s)+d,h=Math.max(Math.abs(s-a)-d,0);return ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:f,y:o,width:h,height:c})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,o=a.y,c=a.height,u=a.travellerWidth,d=a.stroke,f=this.state,h=f.startX,m=f.endX,p=5,g={pointerEvents:"none",fill:d};return ne.createElement(fr,{className:"recharts-brush-texts"},ne.createElement(Sf,Nw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-p,y:o+c/2},g),this.getTextOfTick(s)),ne.createElement(Sf,Nw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+u+p,y:o+c/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,o=a.children,c=a.x,u=a.y,d=a.width,f=a.height,h=a.alwaysShowText,m=this.state,p=m.startX,g=m.endX,v=m.isTextActive,x=m.isSlideMoving,w=m.isTravellerMoving,b=m.isTravellerFocused;if(!s||!s.length||!Qe(c)||!Qe(u)||!Qe(d)||!Qe(f)||d<=0||f<=0)return null;var _=Ut("recharts-brush",i),S=ne.Children.count(o)===1,j=TIe("userSelect","none");return ne.createElement(fr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(v||x||w||b||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,o=a.width,c=a.height,u=a.stroke,d=Math.floor(i+c/2)-1;return ne.createElement(ne.Fragment,null,ne.createElement("rect",{x:s,y:i,width:o,height:c,fill:u,stroke:"none"}),ne.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),ne.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return ne.isValidElement(a)?i=ne.cloneElement(a,s):Dt(a)?i=a(s):i=r.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,o=a.width,c=a.x,u=a.travellerWidth,d=a.updateId,f=a.startIndex,h=a.endIndex;if(i!==s.prevData||d!==s.prevUpdateId)return tN({prevData:i,prevTravellerWidth:u,prevUpdateId:d,prevX:c,prevWidth:o},i&&i.length?FIe({data:i,width:o,x:c,travellerWidth:u,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||c!==s.prevX||u!==s.prevTravellerWidth)){s.scale.range([c,c+o-u]);var m=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:u,prevUpdateId:d,prevX:c,prevWidth:o,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,o=0,c=i-1;c-o>1;){var u=Math.floor((o+c)/2);a[u]>s?c=u:o=u}return s>=a[c]?c:o}}])}(y.PureComponent);Ys(sp,"displayName","Brush");Ys(sp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var LIe=KO;function $Ie(e,r){var n;return LIe(e,function(a,s,i){return n=r(a,s,i),!n}),!!n}var BIe=$Ie,UIe=eH,VIe=Rl,zIe=BIe,WIe=Hs,HIe=_S;function qIe(e,r,n){var a=WIe(e)?UIe:zIe;return n&&HIe(e,r,n)&&(r=void 0),a(e,VIe(r))}var KIe=qIe;const GIe=vr(KIe);var xl=function(r,n){var a=r.alwaysShow,s=r.ifOverflow;return a&&(s="extendDomain"),s===n},QL=_H;function YIe(e,r,n){r=="__proto__"&&QL?QL(e,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[r]=n}var XIe=YIe,JIe=XIe,QIe=bH,ZIe=Rl;function eMe(e,r){var n={};return r=ZIe(r),QIe(e,function(a,s,i){JIe(n,s,r(a,s,i))}),n}var tMe=eMe;const rMe=vr(tMe);function nMe(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}var aMe=nMe,sMe=KO;function iMe(e,r){var n=!0;return sMe(e,function(a,s,i){return n=!!r(a,s,i),n}),n}var oMe=iMe,lMe=aMe,cMe=oMe,uMe=Rl,dMe=Hs,fMe=_S;function hMe(e,r,n){var a=dMe(e)?lMe:cMe;return n&&fMe(e,r,n)&&(r=void 0),a(e,uMe(r))}var mMe=hMe;const hK=vr(mMe);var pMe=["x","y"];function zv(e){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zv(e)}function PE(){return PE=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},PE.apply(this,arguments)}function ZL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function P0(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ZL(Object(n),!0).forEach(function(a){gMe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function gMe(e,r,n){return r=vMe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function vMe(e){var r=xMe(e,"string");return zv(r)=="symbol"?r:r+""}function xMe(e,r){if(zv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(zv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function yMe(e,r){if(e==null)return{};var n=bMe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function bMe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function wMe(e,r){var n=e.x,a=e.y,s=yMe(e,pMe),i="".concat(n),o=parseInt(i,10),c="".concat(a),u=parseInt(c,10),d="".concat(r.height||s.height),f=parseInt(d,10),h="".concat(r.width||s.width),m=parseInt(h,10);return P0(P0(P0(P0(P0({},r),s),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:m,name:r.name,radius:r.radius})}function e$(e){return ne.createElement(iK,PE({shapeType:"rectangle",propTransformer:wMe,activeClassName:"recharts-active-bar"},e))}var _Me=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof r=="number")return r;var i=Qe(a)||Kve(a);return i?r(a,s):(i||kf(),n)}},SMe=["value","background"],mK;function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ip(e)}function jMe(e,r){if(e==null)return{};var n=kMe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function kMe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ew.apply(this,arguments)}function t$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Nn(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?t$(Object(n),!0).forEach(function(a){xu(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function NMe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r$(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,gK(a.key),a)}}function CMe(e,r,n){return r&&r$(e.prototype,r),n&&r$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function EMe(e,r,n){return r=Tw(r),TMe(e,pK()?Reflect.construct(r,n||[],Tw(e).constructor):r.apply(e,n))}function TMe(e,r){if(r&&(ip(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AMe(e)}function AMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pK=function(){return!!e})()}function Tw(e){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tw(e)}function OMe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&DE(e,r)}function DE(e,r){return DE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},DE(e,r)}function xu(e,r,n){return r=gK(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function gK(e){var r=PMe(e,"string");return ip(r)=="symbol"?r:r+""}function PMe(e,r){if(ip(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(ip(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Ux=function(e){function r(){var n;NMe(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=EMe(this,r,[].concat(s)),xu(n,"state",{isAnimationFinished:!1}),xu(n,"id",Gp("recharts-bar-")),xu(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),xu(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return OMe(r,e),CMe(r,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,o=i.shape,c=i.dataKey,u=i.activeIndex,d=i.activeBar,f=Ct(this.props,!1);return a&&a.map(function(h,m){var p=m===u,g=p?d:o,v=Nn(Nn(Nn({},f),h),{},{isActive:p,option:g,index:m,dataKey:c,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return ne.createElement(fr,Ew({className:"recharts-bar-rectangle"},_f(s.props,h,m),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(m)}),ne.createElement(e$,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,o=s.layout,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,f=s.animationEasing,h=s.animationId,m=this.state.prevData;return ne.createElement(Nl,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,v=i.map(function(x,w){var b=m&&m[w];if(b){var _=ri(b.x,x.x),S=ri(b.y,x.y),j=ri(b.width,x.width),N=ri(b.height,x.height);return Nn(Nn({},x),{},{x:_(g),y:S(g),width:j(g),height:N(g)})}if(o==="horizontal"){var k=ri(0,x.height),E=k(g);return Nn(Nn({},x),{},{y:x.y+x.height-E,height:E})}var C=ri(0,x.width),A=C(g);return Nn(Nn({},x),{},{width:A})});return ne.createElement(fr,null,a.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!$x(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,o=s.dataKey,c=s.activeIndex,u=Ct(this.props.background,!1);return i.map(function(d,f){d.value;var h=d.background,m=jMe(d,SMe);if(!h)return null;var p=Nn(Nn(Nn(Nn(Nn({},m),{},{fill:"#eee"},h),u),_f(a.props,d,f)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return ne.createElement(e$,Ew({key:"background-bar-".concat(f),option:a.props.background,isActive:f===c},p))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,c=i.xAxis,u=i.yAxis,d=i.layout,f=i.children,h=mi(f,Bx);if(!h)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,p=function(x,w){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:zn(x,w)}},g={clipPath:a?"url(#clipPath-".concat(s,")"):null};return ne.createElement(fr,g,h.map(function(v){return ne.cloneElement(v,{key:"error-bar-".concat(s,"-").concat(v.props.dataKey),data:o,xAxis:c,yAxis:u,layout:d,offset:m,dataPointFormatter:p})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,o=a.className,c=a.xAxis,u=a.yAxis,d=a.left,f=a.top,h=a.width,m=a.height,p=a.isAnimationActive,g=a.background,v=a.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,w=Ut("recharts-bar",o),b=c&&c.allowDataOverflow,_=u&&u.allowDataOverflow,S=b||_,j=Bt(v)?this.id:v;return ne.createElement(fr,{className:w},b||_?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(j)},ne.createElement("rect",{x:b?d:d-h/2,y:_?f:f-m/2,width:b?h:h*2,height:_?m:m*2}))):null,ne.createElement(fr,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!p||x)&&cc.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])}(y.PureComponent);mK=Ux;xu(Ux,"displayName","Bar");xu(Ux,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xu(Ux,"getComposedData",function(e){var r=e.props,n=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,c=e.xAxisTicks,u=e.yAxisTicks,d=e.stackedData,f=e.dataStartIndex,h=e.displayedData,m=e.offset,p=fOe(a,n);if(!p)return null;var g=r.layout,v=n.type.defaultProps,x=v!==void 0?Nn(Nn({},v),n.props):n.props,w=x.dataKey,b=x.children,_=x.minPointSize,S=g==="horizontal"?o:i,j=d?S.scale.domain():null,N=yOe({numericAxis:S}),k=mi(b,il),E=h.map(function(C,A){var D,T,W,q,L,I;d?D=hOe(d[f+A],j):(D=zn(C,w),Array.isArray(D)||(D=[N,D]));var z=_Me(_,mK.defaultProps.minPointSize)(D[1],A);if(g==="horizontal"){var F,M=[o.scale(D[0]),o.scale(D[1])],X=M[0],ee=M[1];T=H3({axis:i,ticks:c,bandSize:s,offset:p.offset,entry:C,index:A}),W=(F=ee??X)!==null&&F!==void 0?F:void 0,q=p.size;var P=X-ee;if(L=Number.isNaN(P)?0:P,I={x:T,y:o.y,width:q,height:o.height},Math.abs(z)>0&&Math.abs(L)<Math.abs(z)){var J=os(L||z)*(Math.abs(z)-Math.abs(L));W-=J,L+=J}}else{var V=[i.scale(D[0]),i.scale(D[1])],K=V[0],ie=V[1];if(T=K,W=H3({axis:o,ticks:u,bandSize:s,offset:p.offset,entry:C,index:A}),q=ie-K,L=p.size,I={x:i.x,y:W,width:i.width,height:L},Math.abs(z)>0&&Math.abs(q)<Math.abs(z)){var oe=os(q||z)*(Math.abs(z)-Math.abs(q));q+=oe}}return Nn(Nn(Nn({},C),{},{x:T,y:W,width:q,height:L,value:d?D:D[1],payload:C,background:I},k&&k[A]&&k[A].props),{},{tooltipPayload:[Lq(n,C)],tooltipPosition:{x:T+q/2,y:W+L/2}})});return Nn({data:E,layout:g},m)});function Wv(e){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wv(e)}function DMe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function n$(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,vK(a.key),a)}}function RMe(e,r,n){return r&&n$(e.prototype,r),n&&n$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ho(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?a$(Object(n),!0).forEach(function(a){VS(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function VS(e,r,n){return r=vK(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function vK(e){var r=IMe(e,"string");return Wv(r)=="symbol"?r:r+""}function IMe(e,r){if(Wv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Wv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var MMe=function(r,n,a,s,i){var o=r.width,c=r.height,u=r.layout,d=r.children,f=Object.keys(n),h={left:a.left,leftMirror:a.left,right:o-a.right,rightMirror:o-a.right,top:a.top,topMirror:a.top,bottom:c-a.bottom,bottomMirror:c-a.bottom},m=!!Js(d,Ux);return f.reduce(function(p,g){var v=n[g],x=v.orientation,w=v.domain,b=v.padding,_=b===void 0?{}:b,S=v.mirror,j=v.reversed,N="".concat(x).concat(S?"Mirror":""),k,E,C,A,D;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var T=w[1]-w[0],W=1/0,q=v.categoricalDomain.sort(Xve);if(q.forEach(function(V,K){K>0&&(W=Math.min((V||0)-(q[K-1]||0),W))}),Number.isFinite(W)){var L=W/T,I=v.layout==="vertical"?a.height:a.width;if(v.padding==="gap"&&(k=L*I/2),v.padding==="no-gap"){var z=ls(r.barCategoryGap,L*I),F=L*I/2;k=F-z-(F-z)/I*z}}}s==="xAxis"?E=[a.left+(_.left||0)+(k||0),a.left+a.width-(_.right||0)-(k||0)]:s==="yAxis"?E=u==="horizontal"?[a.top+a.height-(_.bottom||0),a.top+(_.top||0)]:[a.top+(_.top||0)+(k||0),a.top+a.height-(_.bottom||0)-(k||0)]:E=v.range,j&&(E=[E[1],E[0]]);var M=Rq(v,i,m),X=M.scale,ee=M.realScaleType;X.domain(w).range(E),Iq(X);var P=Mq(X,ho(ho({},v),{},{realScaleType:ee}));s==="xAxis"?(D=x==="top"&&!S||x==="bottom"&&S,C=a.left,A=h[N]-D*v.height):s==="yAxis"&&(D=x==="left"&&!S||x==="right"&&S,C=h[N]-D*v.width,A=a.top);var J=ho(ho(ho({},v),P),{},{realScaleType:ee,x:C,y:A,scale:X,width:s==="xAxis"?a.width:v.width,height:s==="yAxis"?a.height:v.height});return J.bandSize=fw(J,P),!v.hide&&s==="xAxis"?h[N]+=(D?-1:1)*J.height:v.hide||(h[N]+=(D?-1:1)*J.width),ho(ho({},p),{},VS({},g,J))},{})},xK=function(r,n){var a=r.x,s=r.y,i=n.x,o=n.y;return{x:Math.min(a,i),y:Math.min(s,o),width:Math.abs(i-a),height:Math.abs(o-s)}},FMe=function(r){var n=r.x1,a=r.y1,s=r.x2,i=r.y2;return xK({x:n,y:a},{x:s,y:i})},yK=function(){function e(r){DMe(this,e),this.scale=r}return RMe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(n)+c}default:return this.scale(n)}if(s){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])}();VS(yK,"EPS",1e-4);var _P=function(r){var n=Object.keys(r).reduce(function(a,s){return ho(ho({},a),{},VS({},s,yK.create(r[s])))},{});return ho(ho({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,c=i.position;return rMe(s,function(u,d){return n[d].apply(u,{bandAware:o,position:c})})},isInRange:function(s){return hK(s,function(i,o){return n[o].isInRange(i)})}})};function LMe(e){return(e%180+180)%180}var $Me=function(r){var n=r.width,a=r.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=LMe(s),o=i*Math.PI/180,c=Math.atan(a/n),u=o>c&&o<Math.PI-c?a/Math.sin(o):n/Math.cos(o);return Math.abs(u)},BMe=Rl,UMe=Rx,VMe=bS;function zMe(e){return function(r,n,a){var s=Object(r);if(!UMe(r)){var i=BMe(n);r=VMe(r),n=function(c){return i(s[c],c,s)}}var o=e(r,n,a);return o>-1?s[i?r[o]:o]:void 0}}var WMe=zMe,HMe=cK;function qMe(e){var r=HMe(e),n=r%1;return r===r?n?r-n:r:0}var KMe=qMe,GMe=mH,YMe=Rl,XMe=KMe,JMe=Math.max;function QMe(e,r,n){var a=e==null?0:e.length;if(!a)return-1;var s=n==null?0:XMe(n);return s<0&&(s=JMe(a+s,0)),GMe(e,YMe(r),s)}var ZMe=QMe,eFe=WMe,tFe=ZMe,rFe=eFe(tFe),nFe=rFe;const aFe=vr(nFe);var sFe=Jge(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),SP=y.createContext(void 0),jP=y.createContext(void 0),bK=y.createContext(void 0),wK=y.createContext({}),_K=y.createContext(void 0),SK=y.createContext(0),jK=y.createContext(0),s$=function(r){var n=r.state,a=n.xAxisMap,s=n.yAxisMap,i=n.offset,o=r.clipPathId,c=r.children,u=r.width,d=r.height,f=sFe(i);return ne.createElement(SP.Provider,{value:a},ne.createElement(jP.Provider,{value:s},ne.createElement(wK.Provider,{value:i},ne.createElement(bK.Provider,{value:f},ne.createElement(_K.Provider,{value:o},ne.createElement(SK.Provider,{value:d},ne.createElement(jK.Provider,{value:u},c)))))))},iFe=function(){return y.useContext(_K)},kK=function(r){var n=y.useContext(SP);n==null&&kf();var a=n[r];return a==null&&kf(),a},oFe=function(){var r=y.useContext(SP);return ru(r)},lFe=function(){var r=y.useContext(jP),n=aFe(r,function(a){return hK(a.domain,Number.isFinite)});return n||ru(r)},NK=function(r){var n=y.useContext(jP);n==null&&kf();var a=n[r];return a==null&&kf(),a},cFe=function(){var r=y.useContext(bK);return r},uFe=function(){return y.useContext(wK)},kP=function(){return y.useContext(jK)},NP=function(){return y.useContext(SK)};function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},op(e)}function dFe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fFe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,EK(a.key),a)}}function hFe(e,r,n){return r&&fFe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mFe(e,r,n){return r=Aw(r),pFe(e,CK()?Reflect.construct(r,n||[],Aw(e).constructor):r.apply(e,n))}function pFe(e,r){if(r&&(op(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gFe(e)}function gFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CK=function(){return!!e})()}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Aw(e)}function vFe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&RE(e,r)}function RE(e,r){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},RE(e,r)}function i$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function o$(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?i$(Object(n),!0).forEach(function(a){CP(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function CP(e,r,n){return r=EK(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function EK(e){var r=xFe(e,"string");return op(r)=="symbol"?r:r+""}function xFe(e,r){if(op(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(op(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function yFe(e,r){return SFe(e)||_Fe(e,r)||wFe(e,r)||bFe()}function bFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wFe(e,r){if(e){if(typeof e=="string")return l$(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l$(e,r)}}function l$(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function _Fe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function SFe(e){if(Array.isArray(e))return e}function IE(){return IE=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},IE.apply(this,arguments)}var jFe=function(r,n){var a;return ne.isValidElement(r)?a=ne.cloneElement(r,n):Dt(r)?a=r(n):a=ne.createElement("line",IE({},n,{className:"recharts-reference-line-line"})),a},kFe=function(r,n,a,s,i,o,c,u,d){var f=i.x,h=i.y,m=i.width,p=i.height;if(a){var g=d.y,v=r.y.apply(g,{position:o});if(xl(d,"discard")&&!r.y.isInRange(v))return null;var x=[{x:f+m,y:v},{x:f,y:v}];return u==="left"?x.reverse():x}if(n){var w=d.x,b=r.x.apply(w,{position:o});if(xl(d,"discard")&&!r.x.isInRange(b))return null;var _=[{x:b,y:h+p},{x:b,y:h}];return c==="top"?_.reverse():_}if(s){var S=d.segment,j=S.map(function(N){return r.apply(N,{position:o})});return xl(d,"discard")&&GIe(j,function(N){return!r.isInRange(N)})?null:j}return null};function NFe(e){var r=e.x,n=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,c=e.className,u=e.alwaysShow,d=iFe(),f=kK(s),h=NK(i),m=cFe();if(!d||!m)return null;No(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=_P({x:f.scale,y:h.scale}),g=Hn(r),v=Hn(n),x=a&&a.length===2,w=kFe(p,g,v,x,m,e.position,f.orientation,h.orientation,e);if(!w)return null;var b=yFe(w,2),_=b[0],S=_.x,j=_.y,N=b[1],k=N.x,E=N.y,C=xl(e,"hidden")?"url(#".concat(d,")"):void 0,A=o$(o$({clipPath:C},Ct(e,!0)),{},{x1:S,y1:j,x2:k,y2:E});return ne.createElement(fr,{className:Ut("recharts-reference-line",c)},jFe(o,A),Zn.renderCallByParent(e,FMe({x1:S,y1:j,x2:k,y2:E})))}var EP=function(e){function r(){return dFe(this,r),mFe(this,r,arguments)}return vFe(r,e),hFe(r,[{key:"render",value:function(){return ne.createElement(NFe,this.props)}}])}(ne.Component);CP(EP,"displayName","ReferenceLine");CP(EP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ME(){return ME=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ME.apply(this,arguments)}function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},lp(e)}function c$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function u$(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?c$(Object(n),!0).forEach(function(a){zS(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function CFe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function EFe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,AK(a.key),a)}}function TFe(e,r,n){return r&&EFe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AFe(e,r,n){return r=Ow(r),OFe(e,TK()?Reflect.construct(r,n||[],Ow(e).constructor):r.apply(e,n))}function OFe(e,r){if(r&&(lp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PFe(e)}function PFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TK=function(){return!!e})()}function Ow(e){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ow(e)}function DFe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&FE(e,r)}function FE(e,r){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},FE(e,r)}function zS(e,r,n){return r=AK(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function AK(e){var r=RFe(e,"string");return lp(r)=="symbol"?r:r+""}function RFe(e,r){if(lp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(lp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var IFe=function(r){var n=r.x,a=r.y,s=r.xAxis,i=r.yAxis,o=_P({x:s.scale,y:i.scale}),c=o.apply({x:n,y:a},{bandAware:!0});return xl(r,"discard")&&!o.isInRange(c)?null:c},WS=function(e){function r(){return CFe(this,r),AFe(this,r,arguments)}return DFe(r,e),TFe(r,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,o=a.r,c=a.alwaysShow,u=a.clipPathId,d=Hn(s),f=Hn(i);if(No(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!f)return null;var h=IFe(this.props);if(!h)return null;var m=h.x,p=h.y,g=this.props,v=g.shape,x=g.className,w=xl(this.props,"hidden")?"url(#".concat(u,")"):void 0,b=u$(u$({clipPath:w},Ct(this.props,!0)),{},{cx:m,cy:p});return ne.createElement(fr,{className:Ut("recharts-reference-dot",x)},r.renderDot(v,b),Zn.renderCallByParent(this.props,{x:m-o,y:p-o,width:2*o,height:2*o}))}}])}(ne.Component);zS(WS,"displayName","ReferenceDot");zS(WS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});zS(WS,"renderDot",function(e,r){var n;return ne.isValidElement(e)?n=ne.cloneElement(e,r):Dt(e)?n=e(r):n=ne.createElement(IS,ME({},r,{cx:r.cx,cy:r.cy,className:"recharts-reference-dot-dot"})),n});function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},LE.apply(this,arguments)}function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cp(e)}function d$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function f$(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?d$(Object(n),!0).forEach(function(a){HS(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function MFe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function FFe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,PK(a.key),a)}}function LFe(e,r,n){return r&&FFe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Fe(e,r,n){return r=Pw(r),BFe(e,OK()?Reflect.construct(r,n||[],Pw(e).constructor):r.apply(e,n))}function BFe(e,r){if(r&&(cp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UFe(e)}function UFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OK=function(){return!!e})()}function Pw(e){return Pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pw(e)}function VFe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&$E(e,r)}function $E(e,r){return $E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},$E(e,r)}function HS(e,r,n){return r=PK(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function PK(e){var r=zFe(e,"string");return cp(r)=="symbol"?r:r+""}function zFe(e,r){if(cp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(cp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var WFe=function(r,n,a,s,i){var o=i.x1,c=i.x2,u=i.y1,d=i.y2,f=i.xAxis,h=i.yAxis;if(!f||!h)return null;var m=_P({x:f.scale,y:h.scale}),p={x:r?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:a?m.y.apply(u,{position:"start"}):m.y.rangeMin},g={x:n?m.x.apply(c,{position:"end"}):m.x.rangeMax,y:s?m.y.apply(d,{position:"end"}):m.y.rangeMax};return xl(i,"discard")&&(!m.isInRange(p)||!m.isInRange(g))?null:xK(p,g)},qS=function(e){function r(){return MFe(this,r),$Fe(this,r,arguments)}return VFe(r,e),LFe(r,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,o=a.y1,c=a.y2,u=a.className,d=a.alwaysShow,f=a.clipPathId;No(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Hn(s),m=Hn(i),p=Hn(o),g=Hn(c),v=this.props.shape;if(!h&&!m&&!p&&!g&&!v)return null;var x=WFe(h,m,p,g,this.props);if(!x&&!v)return null;var w=xl(this.props,"hidden")?"url(#".concat(f,")"):void 0;return ne.createElement(fr,{className:Ut("recharts-reference-area",u)},r.renderRect(v,f$(f$({clipPath:w},Ct(this.props,!0)),x)),Zn.renderCallByParent(this.props,x))}}])}(ne.Component);HS(qS,"displayName","ReferenceArea");HS(qS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});HS(qS,"renderRect",function(e,r){var n;return ne.isValidElement(e)?n=ne.cloneElement(e,r):Dt(e)?n=e(r):n=ne.createElement(wP,LE({},r,{className:"recharts-reference-area-rect"})),n});function DK(e,r,n){if(r<1)return[];if(r===1&&n===void 0)return e;for(var a=[],s=0;s<e.length;s+=r)a.push(e[s]);return a}function HFe(e,r,n){var a={width:e.width+r.width,height:e.height+r.height};return $Me(a,n)}function qFe(e,r,n){var a=n==="width",s=e.x,i=e.y,o=e.width,c=e.height;return r===1?{start:a?s:i,end:a?s+o:i+c}:{start:a?s+o:i+c,end:a?s:i}}function Dw(e,r,n,a,s){if(e*r<e*a||e*r>e*s)return!1;var i=n();return e*(r-e*i/2-a)>=0&&e*(r+e*i/2-s)<=0}function KFe(e,r){return DK(e,r+1)}function GFe(e,r,n,a,s){for(var i=(a||[]).slice(),o=r.start,c=r.end,u=0,d=1,f=o,h=function(){var g=a==null?void 0:a[u];if(g===void 0)return{v:DK(a,d)};var v=u,x,w=function(){return x===void 0&&(x=n(g,v)),x},b=g.coordinate,_=u===0||Dw(e,b,w,f,c);_||(u=0,f=o,d+=1),_&&(f=b+e*(w()/2+s),u+=d)},m;d<=i.length;)if(m=h(),m)return m.v;return[]}function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hv(e)}function h$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Oa(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?h$(Object(n),!0).forEach(function(a){YFe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function YFe(e,r,n){return r=XFe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function XFe(e){var r=JFe(e,"string");return Hv(r)=="symbol"?r:r+""}function JFe(e,r){if(Hv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Hv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function QFe(e,r,n,a,s){for(var i=(a||[]).slice(),o=i.length,c=r.start,u=r.end,d=function(m){var p=i[m],g,v=function(){return g===void 0&&(g=n(p,m)),g};if(m===o-1){var x=e*(p.coordinate+e*v()/2-u);i[m]=p=Oa(Oa({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[m]=p=Oa(Oa({},p),{},{tickCoord:p.coordinate});var w=Dw(e,p.tickCoord,v,c,u);w&&(u=p.tickCoord-e*(v()/2+s),i[m]=Oa(Oa({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)d(f);return i}function ZFe(e,r,n,a,s,i){var o=(a||[]).slice(),c=o.length,u=r.start,d=r.end;if(i){var f=a[c-1],h=n(f,c-1),m=e*(f.coordinate+e*h/2-d);o[c-1]=f=Oa(Oa({},f),{},{tickCoord:m>0?f.coordinate-m*e:f.coordinate});var p=Dw(e,f.tickCoord,function(){return h},u,d);p&&(d=f.tickCoord-e*(h/2+s),o[c-1]=Oa(Oa({},f),{},{isShow:!0}))}for(var g=i?c-1:c,v=function(b){var _=o[b],S,j=function(){return S===void 0&&(S=n(_,b)),S};if(b===0){var N=e*(_.coordinate-e*j()/2-u);o[b]=_=Oa(Oa({},_),{},{tickCoord:N<0?_.coordinate-N*e:_.coordinate})}else o[b]=_=Oa(Oa({},_),{},{tickCoord:_.coordinate});var k=Dw(e,_.tickCoord,j,u,d);k&&(u=_.tickCoord+e*(j()/2+s),o[b]=Oa(Oa({},_),{},{isShow:!0}))},x=0;x<g;x++)v(x);return o}function TP(e,r,n){var a=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,c=e.orientation,u=e.interval,d=e.tickFormatter,f=e.unit,h=e.angle;if(!s||!s.length||!a)return[];if(Qe(u)||gl.isSsr)return KFe(s,typeof u=="number"&&Qe(u)?u:0);var m=[],p=c==="top"||c==="bottom"?"width":"height",g=f&&p==="width"?vg(f,{fontSize:r,letterSpacing:n}):{width:0,height:0},v=function(_,S){var j=Dt(d)?d(_.value,S):_.value;return p==="width"?HFe(vg(j,{fontSize:r,letterSpacing:n}),g,h):vg(j,{fontSize:r,letterSpacing:n})[p]},x=s.length>=2?os(s[1].coordinate-s[0].coordinate):1,w=qFe(i,x,p);return u==="equidistantPreserveStart"?GFe(x,w,v,s,o):(u==="preserveStart"||u==="preserveStartEnd"?m=ZFe(x,w,v,s,o,u==="preserveStartEnd"):m=QFe(x,w,v,s,o),m.filter(function(b){return b.isShow}))}var e3e=["viewBox"],t3e=["viewBox"],r3e=["ticks"];function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},up(e)}function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hh.apply(this,arguments)}function m$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Mn(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?m$(Object(n),!0).forEach(function(a){AP(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function rN(e,r){if(e==null)return{};var n=n3e(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function n3e(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function a3e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function p$(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,IK(a.key),a)}}function s3e(e,r,n){return r&&p$(e.prototype,r),n&&p$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function i3e(e,r,n){return r=Rw(r),o3e(e,RK()?Reflect.construct(r,n||[],Rw(e).constructor):r.apply(e,n))}function o3e(e,r){if(r&&(up(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l3e(e)}function l3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RK=function(){return!!e})()}function Rw(e){return Rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rw(e)}function c3e(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&BE(e,r)}function BE(e,r){return BE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},BE(e,r)}function AP(e,r,n){return r=IK(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function IK(e){var r=u3e(e,"string");return up(r)=="symbol"?r:r+""}function u3e(e,r){if(up(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(up(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var t0=function(e){function r(n){var a;return a3e(this,r),a=i3e(this,r,[n]),a.state={fontSize:"",letterSpacing:""},a}return c3e(r,e),s3e(r,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,o=rN(a,e3e),c=this.props,u=c.viewBox,d=rN(c,t3e);return!om(i,u)||!om(o,d)||!om(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,o=s.y,c=s.width,u=s.height,d=s.orientation,f=s.tickSize,h=s.mirror,m=s.tickMargin,p,g,v,x,w,b,_=h?-1:1,S=a.tickSize||f,j=Qe(a.tickCoord)?a.tickCoord:a.coordinate;switch(d){case"top":p=g=a.coordinate,x=o+ +!h*u,v=x-_*S,b=v-_*m,w=j;break;case"left":v=x=a.coordinate,g=i+ +!h*c,p=g-_*S,w=p-_*m,b=j;break;case"right":v=x=a.coordinate,g=i+ +h*c,p=g+_*S,w=p+_*m,b=j;break;default:p=g=a.coordinate,x=o+ +h*u,v=x+_*S,b=v+_*m,w=j;break}return{line:{x1:p,y1:v,x2:g,y2:x},tick:{x:w,y:b}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,c=a.height,u=a.orientation,d=a.mirror,f=a.axisLine,h=Mn(Mn(Mn({},Ct(this.props,!1)),Ct(f,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var m=+(u==="top"&&!d||u==="bottom"&&d);h=Mn(Mn({},h),{},{x1:s,y1:i+m*c,x2:s+o,y2:i+m*c})}else{var p=+(u==="left"&&!d||u==="right"&&d);h=Mn(Mn({},h),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+c})}return ne.createElement("line",Hh({},h,{className:Ut("recharts-cartesian-axis-line",hi(f,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var o=this,c=this.props,u=c.tickLine,d=c.stroke,f=c.tick,h=c.tickFormatter,m=c.unit,p=TP(Mn(Mn({},this.props),{},{ticks:a}),s,i),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=Ct(this.props,!1),w=Ct(f,!1),b=Mn(Mn({},x),{},{fill:"none"},Ct(u,!1)),_=p.map(function(S,j){var N=o.getTickLineCoord(S),k=N.line,E=N.tick,C=Mn(Mn(Mn(Mn({textAnchor:g,verticalAnchor:v},x),{},{stroke:"none",fill:d},w),E),{},{index:j,payload:S,visibleTicksCount:p.length,tickFormatter:h});return ne.createElement(fr,Hh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},_f(o.props,S,j)),u&&ne.createElement("line",Hh({},b,k,{className:Ut("recharts-cartesian-axis-tick-line",hi(u,"className"))})),f&&r.renderTickItem(f,C,"".concat(Dt(h)?h(S.value,j):S.value).concat(m||"")))});return ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,o=s.width,c=s.height,u=s.ticksGenerator,d=s.className,f=s.hide;if(f)return null;var h=this.props,m=h.ticks,p=rN(h,r3e),g=m;return Dt(u)&&(g=m&&m.length>0?u(this.props):u(p)),o<=0||c<=0||!g||!g.length?null:ne.createElement(fr,{className:Ut("recharts-cartesian-axis",d),ref:function(x){a.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Zn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var o,c=Ut(s.className,"recharts-cartesian-axis-tick-value");return ne.isValidElement(a)?o=ne.cloneElement(a,Mn(Mn({},s),{},{className:c})):Dt(a)?o=a(Mn(Mn({},s),{},{className:c})):o=ne.createElement(Sf,Hh({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(y.Component);AP(t0,"displayName","CartesianAxis");AP(t0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var d3e=["x1","y1","x2","y2","key"],f3e=["offset"];function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Nf(e)}function g$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ra(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?g$(Object(n),!0).forEach(function(a){h3e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function h3e(e,r,n){return r=m3e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function m3e(e){var r=p3e(e,"string");return Nf(r)=="symbol"?r:r+""}function p3e(e,r){if(Nf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Nf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bd.apply(this,arguments)}function v$(e,r){if(e==null)return{};var n=g3e(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function g3e(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}var v3e=function(r){var n=r.fill;if(!n||n==="none")return null;var a=r.fillOpacity,s=r.x,i=r.y,o=r.width,c=r.height,u=r.ry;return ne.createElement("rect",{x:s,y:i,ry:u,width:o,height:c,stroke:"none",fill:n,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function MK(e,r){var n;if(ne.isValidElement(e))n=ne.cloneElement(e,r);else if(Dt(e))n=e(r);else{var a=r.x1,s=r.y1,i=r.x2,o=r.y2,c=r.key,u=v$(r,d3e),d=Ct(u,!1);d.offset;var f=v$(d,f3e);n=ne.createElement("line",Bd({},f,{x1:a,y1:s,x2:i,y2:o,fill:"none",key:c}))}return n}function x3e(e){var r=e.x,n=e.width,a=e.horizontal,s=a===void 0?!0:a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(c,u){var d=Ra(Ra({},e),{},{x1:r,y1:c,x2:r+n,y2:c,key:"line-".concat(u),index:u});return MK(s,d)});return ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function y3e(e){var r=e.y,n=e.height,a=e.vertical,s=a===void 0?!0:a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(c,u){var d=Ra(Ra({},e),{},{x1:c,y1:r,x2:c,y2:r+n,key:"line-".concat(u),index:u});return MK(s,d)});return ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function b3e(e){var r=e.horizontalFill,n=e.fillOpacity,a=e.x,s=e.y,i=e.width,o=e.height,c=e.horizontalPoints,u=e.horizontal,d=u===void 0?!0:u;if(!d||!r||!r.length)return null;var f=c.map(function(m){return Math.round(m+s-s)}).sort(function(m,p){return m-p});s!==f[0]&&f.unshift(0);var h=f.map(function(m,p){var g=!f[p+1],v=g?s+o-m:f[p+1]-m;if(v<=0)return null;var x=p%r.length;return ne.createElement("rect",{key:"react-".concat(p),y:m,x:a,height:v,width:i,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function w3e(e){var r=e.vertical,n=r===void 0?!0:r,a=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,c=e.width,u=e.height,d=e.verticalPoints;if(!n||!a||!a.length)return null;var f=d.map(function(m){return Math.round(m+i-i)}).sort(function(m,p){return m-p});i!==f[0]&&f.unshift(0);var h=f.map(function(m,p){var g=!f[p+1],v=g?i+c-m:f[p+1]-m;if(v<=0)return null;var x=p%a.length;return ne.createElement("rect",{key:"react-".concat(p),x:m,y:o,width:v,height:u,stroke:"none",fill:a[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var _3e=function(r,n){var a=r.xAxis,s=r.width,i=r.height,o=r.offset;return Dq(TP(Ra(Ra(Ra({},t0.defaultProps),a),{},{ticks:nc(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,n)},S3e=function(r,n){var a=r.yAxis,s=r.width,i=r.height,o=r.offset;return Dq(TP(Ra(Ra(Ra({},t0.defaultProps),a),{},{ticks:nc(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,n)},mh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function KS(e){var r,n,a,s,i,o,c=kP(),u=NP(),d=uFe(),f=Ra(Ra({},e),{},{stroke:(r=e.stroke)!==null&&r!==void 0?r:mh.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:mh.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:mh.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:mh.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:mh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:mh.verticalFill,x:Qe(e.x)?e.x:d.left,y:Qe(e.y)?e.y:d.top,width:Qe(e.width)?e.width:d.width,height:Qe(e.height)?e.height:d.height}),h=f.x,m=f.y,p=f.width,g=f.height,v=f.syncWithTicks,x=f.horizontalValues,w=f.verticalValues,b=oFe(),_=lFe();if(!Qe(p)||p<=0||!Qe(g)||g<=0||!Qe(h)||h!==+h||!Qe(m)||m!==+m)return null;var S=f.verticalCoordinatesGenerator||_3e,j=f.horizontalCoordinatesGenerator||S3e,N=f.horizontalPoints,k=f.verticalPoints;if((!N||!N.length)&&Dt(j)){var E=x&&x.length,C=j({yAxis:_?Ra(Ra({},_),{},{ticks:E?x:_.ticks}):void 0,width:c,height:u,offset:d},E?!0:v);No(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Nf(C),"]")),Array.isArray(C)&&(N=C)}if((!k||!k.length)&&Dt(S)){var A=w&&w.length,D=S({xAxis:b?Ra(Ra({},b),{},{ticks:A?w:b.ticks}):void 0,width:c,height:u,offset:d},A?!0:v);No(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Nf(D),"]")),Array.isArray(D)&&(k=D)}return ne.createElement("g",{className:"recharts-cartesian-grid"},ne.createElement(v3e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),ne.createElement(x3e,Bd({},f,{offset:d,horizontalPoints:N,xAxis:b,yAxis:_})),ne.createElement(y3e,Bd({},f,{offset:d,verticalPoints:k,xAxis:b,yAxis:_})),ne.createElement(b3e,Bd({},f,{horizontalPoints:N})),ne.createElement(w3e,Bd({},f,{verticalPoints:k})))}KS.displayName="CartesianGrid";var j3e=["type","layout","connectNulls","ref"],k3e=["key"];function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dp(e)}function x$(e,r){if(e==null)return{};var n=N3e(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function N3e(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Sg.apply(this,arguments)}function y$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Gs(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?y$(Object(n),!0).forEach(function(a){mo(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function ph(e){return A3e(e)||T3e(e)||E3e(e)||C3e()}function C3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E3e(e,r){if(e){if(typeof e=="string")return UE(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UE(e,r)}}function T3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function A3e(e){if(Array.isArray(e))return UE(e)}function UE(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function O3e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function b$(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,LK(a.key),a)}}function P3e(e,r,n){return r&&b$(e.prototype,r),n&&b$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function D3e(e,r,n){return r=Iw(r),R3e(e,FK()?Reflect.construct(r,n||[],Iw(e).constructor):r.apply(e,n))}function R3e(e,r){if(r&&(dp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I3e(e)}function I3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FK=function(){return!!e})()}function Iw(e){return Iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iw(e)}function M3e(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&VE(e,r)}function VE(e,r){return VE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},VE(e,r)}function mo(e,r,n){return r=LK(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function LK(e){var r=F3e(e,"string");return dp(r)=="symbol"?r:r+""}function F3e(e,r){if(dp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(dp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Hf=function(e){function r(){var n;O3e(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=D3e(this,r,[].concat(s)),mo(n,"state",{isAnimationFinished:!0,totalLength:0}),mo(n,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),mo(n,"getStrokeDasharray",function(o,c,u){var d=u.reduce(function(w,b){return w+b});if(!d)return n.generateSimpleStrokeDasharray(c,o);for(var f=Math.floor(o/d),h=o%d,m=c-o,p=[],g=0,v=0;g<u.length;v+=u[g],++g)if(v+u[g]>h){p=[].concat(ph(u.slice(0,g)),[h-v]);break}var x=p.length%2===0?[0,m]:[m];return[].concat(ph(r.repeat(u,f)),ph(p),x).map(function(w){return"".concat(w,"px")}).join(", ")}),mo(n,"id",Gp("recharts-line-")),mo(n,"pathRef",function(o){n.mainCurve=o}),mo(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),mo(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return M3e(r,e),P3e(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,c=i.xAxis,u=i.yAxis,d=i.layout,f=i.children,h=mi(f,Bx);if(!h)return null;var m=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:zn(v.payload,x)}},p={clipPath:a?"url(#clipPath-".concat(s,")"):null};return ne.createElement(fr,p,h.map(function(g){return ne.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:c,yAxis:u,layout:d,dataPointFormatter:m})}))}},{key:"renderDots",value:function(a,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Ct(this.props,!1),m=Ct(u,!0),p=d.map(function(v,x){var w=Gs(Gs(Gs({key:"dot-".concat(x),r:3},h),m),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:d});return r.renderDotItem(u,w)}),g={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return ne.createElement(fr,Sg({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(a,s,i,o){var c=this.props,u=c.type,d=c.layout,f=c.connectNulls;c.ref;var h=x$(c,j3e),m=Gs(Gs(Gs({},Ct(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:a},o),{},{type:u,layout:d,connectNulls:f});return ne.createElement(pw,Sg({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var i=this,o=this.props,c=o.points,u=o.strokeDasharray,d=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,m=o.animationEasing,p=o.animationId,g=o.animateNewValues,v=o.width,x=o.height,w=this.state,b=w.prevPoints,_=w.totalLength;return ne.createElement(Nl,{begin:f,duration:h,isActive:d,easing:m,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var j=S.t;if(b){var N=b.length/c.length,k=c.map(function(T,W){var q=Math.floor(W*N);if(b[q]){var L=b[q],I=ri(L.x,T.x),z=ri(L.y,T.y);return Gs(Gs({},T),{},{x:I(j),y:z(j)})}if(g){var F=ri(v*2,T.x),M=ri(x/2,T.y);return Gs(Gs({},T),{},{x:F(j),y:M(j)})}return Gs(Gs({},T),{},{x:T.x,y:T.y})});return i.renderCurveStatically(k,a,s)}var E=ri(0,_),C=E(j),A;if(u){var D="".concat(u).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});A=i.getStrokeDasharray(C,_,D)}else A=i.generateSimpleStrokeDasharray(_,C);return i.renderCurveStatically(c,a,s,{strokeDasharray:A})})}},{key:"renderCurve",value:function(a,s){var i=this.props,o=i.points,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.totalLength;return c&&o&&o.length&&(!d&&f>0||!$x(d,o))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(o,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,o=s.dot,c=s.points,u=s.className,d=s.xAxis,f=s.yAxis,h=s.top,m=s.left,p=s.width,g=s.height,v=s.isAnimationActive,x=s.id;if(i||!c||!c.length)return null;var w=this.state.isAnimationFinished,b=c.length===1,_=Ut("recharts-line",u),S=d&&d.allowDataOverflow,j=f&&f.allowDataOverflow,N=S||j,k=Bt(x)?this.id:x,E=(a=Ct(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},C=E.r,A=C===void 0?3:C,D=E.strokeWidth,T=D===void 0?2:D,W=sxe(o)?o:{},q=W.clipDot,L=q===void 0?!0:q,I=A*2+T;return ne.createElement(fr,{className:_},S||j?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(k)},ne.createElement("rect",{x:S?m:m-p/2,y:j?h:h-g/2,width:S?p:p*2,height:j?g:g*2})),!L&&ne.createElement("clipPath",{id:"clipPath-dots-".concat(k)},ne.createElement("rect",{x:m-I/2,y:h-I/2,width:p+I,height:g+I}))):null,!b&&this.renderCurve(N,k),this.renderErrorBar(N,k),(b||o)&&this.renderDots(N,L,k),(!v||w)&&cc.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var i=a.length%2!==0?[].concat(ph(a),[0]):a,o=[],c=0;c<s;++c)o=[].concat(ph(o),ph(i));return o}},{key:"renderDotItem",value:function(a,s){var i;if(ne.isValidElement(a))i=ne.cloneElement(a,s);else if(Dt(a))i=a(s);else{var o=s.key,c=x$(s,k3e),u=Ut("recharts-line-dot",typeof a!="boolean"?a.className:"");i=ne.createElement(IS,Sg({key:o},c,{className:u}))}return i}}])}(y.PureComponent);mo(Hf,"displayName","Line");mo(Hf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});mo(Hf,"getComposedData",function(e){var r=e.props,n=e.xAxis,a=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,c=e.bandSize,u=e.displayedData,d=e.offset,f=r.layout,h=u.map(function(m,p){var g=zn(m,o);return f==="horizontal"?{x:W3({axis:n,ticks:s,bandSize:c,entry:m,index:p}),y:Bt(g)?null:a.scale(g),value:g,payload:m}:{x:Bt(g)?null:n.scale(g),y:W3({axis:a,ticks:i,bandSize:c,entry:m,index:p}),value:g,payload:m}});return Gs({points:h,layout:f},d)});function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fp(e)}function L3e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $3e(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,UK(a.key),a)}}function B3e(e,r,n){return r&&$3e(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function U3e(e,r,n){return r=Mw(r),V3e(e,$K()?Reflect.construct(r,n||[],Mw(e).constructor):r.apply(e,n))}function V3e(e,r){if(r&&(fp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z3e(e)}function z3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($K=function(){return!!e})()}function Mw(e){return Mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mw(e)}function W3e(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&zE(e,r)}function zE(e,r){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},zE(e,r)}function BK(e,r,n){return r=UK(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function UK(e){var r=H3e(e,"string");return fp(r)=="symbol"?r:r+""}function H3e(e,r){if(fp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(fp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function WE(){return WE=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},WE.apply(this,arguments)}function q3e(e){var r=e.xAxisId,n=kP(),a=NP(),s=kK(r);return s==null?null:y.createElement(t0,WE({},s,{className:Ut("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return nc(o,!0)}}))}var r0=function(e){function r(){return L3e(this,r),U3e(this,r,arguments)}return W3e(r,e),B3e(r,[{key:"render",value:function(){return y.createElement(q3e,this.props)}}])}(y.Component);BK(r0,"displayName","XAxis");BK(r0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hp(e)}function K3e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function G3e(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,WK(a.key),a)}}function Y3e(e,r,n){return r&&G3e(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function X3e(e,r,n){return r=Fw(r),J3e(e,VK()?Reflect.construct(r,n||[],Fw(e).constructor):r.apply(e,n))}function J3e(e,r){if(r&&(hp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q3e(e)}function Q3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VK=function(){return!!e})()}function Fw(e){return Fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fw(e)}function Z3e(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&HE(e,r)}function HE(e,r){return HE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},HE(e,r)}function zK(e,r,n){return r=WK(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function WK(e){var r=eLe(e,"string");return hp(r)=="symbol"?r:r+""}function eLe(e,r){if(hp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(hp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function qE(){return qE=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qE.apply(this,arguments)}var tLe=function(r){var n=r.yAxisId,a=kP(),s=NP(),i=NK(n);return i==null?null:y.createElement(t0,qE({},i,{className:Ut("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(c){return nc(c,!0)}}))},n0=function(e){function r(){return K3e(this,r),X3e(this,r,arguments)}return Z3e(r,e),Y3e(r,[{key:"render",value:function(){return y.createElement(tLe,this.props)}}])}(y.Component);zK(n0,"displayName","YAxis");zK(n0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function w$(e){return sLe(e)||aLe(e)||nLe(e)||rLe()}function rLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nLe(e,r){if(e){if(typeof e=="string")return KE(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KE(e,r)}}function aLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sLe(e){if(Array.isArray(e))return KE(e)}function KE(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}var GE=function(r,n,a,s,i){var o=mi(r,EP),c=mi(r,WS),u=[].concat(w$(o),w$(c)),d=mi(r,qS),f="".concat(s,"Id"),h=s[0],m=n;if(u.length&&(m=u.reduce(function(v,x){if(x.props[f]===a&&xl(x.props,"extendDomain")&&Qe(x.props[h])){var w=x.props[h];return[Math.min(v[0],w),Math.max(v[1],w)]}return v},m)),d.length){var p="".concat(h,"1"),g="".concat(h,"2");m=d.reduce(function(v,x){if(x.props[f]===a&&xl(x.props,"extendDomain")&&Qe(x.props[p])&&Qe(x.props[g])){var w=x.props[p],b=x.props[g];return[Math.min(v[0],w,b),Math.max(v[1],w,b)]}return v},m)}return i&&i.length&&(m=i.reduce(function(v,x){return Qe(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},m)),m},HK={exports:{}};(function(e){var r=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function i(u,d,f,h,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new s(f,h||u,m),g=n?n+d:d;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],p]:u._events[g].push(p):(u._events[g]=p,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new a:delete u._events[d]}function c(){this._events=new a,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],f,h;if(this._eventsCount===0)return d;for(h in f=this._events)r.call(f,h)&&d.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},c.prototype.listeners=function(d){var f=n?n+d:d,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,p=h.length,g=new Array(p);m<p;m++)g[m]=h[m].fn;return g},c.prototype.listenerCount=function(d){var f=n?n+d:d,h=this._events[f];return h?h.fn?1:h.length:0},c.prototype.emit=function(d,f,h,m,p,g){var v=n?n+d:d;if(!this._events[v])return!1;var x=this._events[v],w=arguments.length,b,_;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,h),!0;case 4:return x.fn.call(x.context,f,h,m),!0;case 5:return x.fn.call(x.context,f,h,m,p),!0;case 6:return x.fn.call(x.context,f,h,m,p,g),!0}for(_=1,b=new Array(w-1);_<w;_++)b[_-1]=arguments[_];x.fn.apply(x.context,b)}else{var S=x.length,j;for(_=0;_<S;_++)switch(x[_].once&&this.removeListener(d,x[_].fn,void 0,!0),w){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,f);break;case 3:x[_].fn.call(x[_].context,f,h);break;case 4:x[_].fn.call(x[_].context,f,h,m);break;default:if(!b)for(j=1,b=new Array(w-1);j<w;j++)b[j-1]=arguments[j];x[_].fn.apply(x[_].context,b)}}return!0},c.prototype.on=function(d,f,h){return i(this,d,f,h,!1)},c.prototype.once=function(d,f,h){return i(this,d,f,h,!0)},c.prototype.removeListener=function(d,f,h,m){var p=n?n+d:d;if(!this._events[p])return this;if(!f)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===f&&(!m||g.once)&&(!h||g.context===h)&&o(this,p);else{for(var v=0,x=[],w=g.length;v<w;v++)(g[v].fn!==f||m&&!g[v].once||h&&g[v].context!==h)&&x.push(g[v]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},c.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&o(this,f)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(HK);var iLe=HK.exports;const oLe=vr(iLe);var nN=new oLe,aN="recharts.syncMouseEvents";function qv(e){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qv(e)}function lLe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cLe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,qK(a.key),a)}}function uLe(e,r,n){return r&&cLe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sN(e,r,n){return r=qK(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function qK(e){var r=dLe(e,"string");return qv(r)=="symbol"?r:r+""}function dLe(e,r){if(qv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(qv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fLe=function(){function e(){lLe(this,e),sN(this,"activeIndex",0),sN(this,"coordinateList",[]),sN(this,"layout","horizontal")}return uLe(e,[{key:"setDetails",value:function(n){var a,s=n.coordinateList,i=s===void 0?null:s,o=n.container,c=o===void 0?null:o,u=n.layout,d=u===void 0?null:u,f=n.offset,h=f===void 0?null:f,m=n.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=c??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,c=s.height,u=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((a=window)===null||a===void 0?void 0:a.scrollY)||0,h=i+u+d,m=o+this.offset.top+c/2+f;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])}();function hLe(e,r,n){if(n==="number"&&r===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],s=e==null?void 0:e[1];if(a&&s&&Qe(a)&&Qe(s))return!0}return!1}function mLe(e,r,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?r.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:r.y-s,width:e==="horizontal"?a:n.width-1,height:e==="horizontal"?n.height-1:a}}function KK(e){var r=e.cx,n=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,o=Mr(r,n,a,s),c=Mr(r,n,a,i);return{points:[o,c],cx:r,cy:n,radius:a,startAngle:s,endAngle:i}}function pLe(e,r,n){var a,s,i,o;if(e==="horizontal")a=r.x,i=a,s=n.top,o=n.top+n.height;else if(e==="vertical")s=r.y,o=s,a=n.left,i=n.left+n.width;else if(r.cx!=null&&r.cy!=null)if(e==="centric"){var c=r.cx,u=r.cy,d=r.innerRadius,f=r.outerRadius,h=r.angle,m=Mr(c,u,d,h),p=Mr(c,u,f,h);a=m.x,s=m.y,i=p.x,o=p.y}else return KK(r);return[{x:a,y:s},{x:i,y:o}]}function Kv(e){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Kv(e)}function _$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function s1(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?_$(Object(n),!0).forEach(function(a){gLe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function gLe(e,r,n){return r=vLe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function vLe(e){var r=xLe(e,"string");return Kv(r)=="symbol"?r:r+""}function xLe(e,r){if(Kv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Kv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function yLe(e){var r,n,a=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,f=e.tooltipAxisBandSize,h=e.layout,m=e.chartName,p=(r=a.props.cursor)!==null&&r!==void 0?r:(n=a.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!a||!p||!i||!o||m!=="ScatterChart"&&s!=="axis")return null;var g,v=pw;if(m==="ScatterChart")g=o,v=MDe;else if(m==="BarChart")g=mLe(h,o,u,f),v=wP;else if(h==="radial"){var x=KK(o),w=x.cx,b=x.cy,_=x.radius,S=x.startAngle,j=x.endAngle;g={cx:w,cy:b,startAngle:S,endAngle:j,innerRadius:_,outerRadius:_},v=Wq}else g={points:pLe(h,o,u)},v=pw;var N=s1(s1(s1(s1({stroke:"#ccc",pointerEvents:"none"},u),g),Ct(p,!1)),{},{payload:c,payloadIndex:d,className:Ut("recharts-tooltip-cursor",p.className)});return y.isValidElement(p)?y.cloneElement(p,N):y.createElement(v,N)}var bLe=["item"],wLe=["children","className","width","height","style","compact","title","desc"];function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mp(e)}function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qh.apply(this,arguments)}function S$(e,r){return jLe(e)||SLe(e,r)||YK(e,r)||_Le()}function _Le(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SLe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function jLe(e){if(Array.isArray(e))return e}function j$(e,r){if(e==null)return{};var n=kLe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function kLe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function NLe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function CLe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,XK(a.key),a)}}function ELe(e,r,n){return r&&CLe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TLe(e,r,n){return r=Lw(r),ALe(e,GK()?Reflect.construct(r,n||[],Lw(e).constructor):r.apply(e,n))}function ALe(e,r){if(r&&(mp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OLe(e)}function OLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GK=function(){return!!e})()}function Lw(e){return Lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lw(e)}function PLe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&YE(e,r)}function YE(e,r){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},YE(e,r)}function pp(e){return ILe(e)||RLe(e)||YK(e)||DLe()}function DLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YK(e,r){if(e){if(typeof e=="string")return XE(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XE(e,r)}}function RLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ILe(e){if(Array.isArray(e))return XE(e)}function XE(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function k$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function De(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?k$(Object(n),!0).forEach(function(a){Et(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Et(e,r,n){return r=XK(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function XK(e){var r=MLe(e,"string");return mp(r)=="symbol"?r:r+""}function MLe(e,r){if(mp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(mp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var FLe={xAxis:["bottom","top"],yAxis:["left","right"]},LLe={width:"100%",height:"100%"},JK={x:0,y:0};function i1(e){return e}var $Le=function(r,n){return n==="horizontal"?r.x:n==="vertical"?r.y:n==="centric"?r.angle:r.radius},BLe=function(r,n,a,s){var i=n.find(function(f){return f&&f.index===a});if(i){if(r==="horizontal")return{x:i.coordinate,y:s.y};if(r==="vertical")return{x:s.x,y:i.coordinate};if(r==="centric"){var o=i.coordinate,c=s.radius;return De(De(De({},s),Mr(s.cx,s.cy,c,o)),{},{angle:o,radius:c})}var u=i.coordinate,d=s.angle;return De(De(De({},s),Mr(s.cx,s.cy,u,d)),{},{angle:d,radius:u})}return JK},GS=function(r,n){var a=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,o=(a??[]).reduce(function(c,u){var d=u.props.data;return d&&d.length?[].concat(pp(c),pp(d)):c},[]);return o.length>0?o:r&&r.length&&Qe(s)&&Qe(i)?r.slice(s,i+1):[]};function QK(e){return e==="number"?[0,"auto"]:void 0}var JE=function(r,n,a,s){var i=r.graphicalItems,o=r.tooltipAxis,c=GS(n,r);return a<0||!i||!i.length||a>=c.length?null:i.reduce(function(u,d){var f,h=(f=d.props.data)!==null&&f!==void 0?f:n;h&&r.dataStartIndex+r.dataEndIndex!==0&&r.dataEndIndex-r.dataStartIndex>=a&&(h=h.slice(r.dataStartIndex,r.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?c:h;m=Lb(p,o.dataKey,s)}else m=h&&h[a]||c[a];return m?[].concat(pp(u),[Lq(d,m)]):u},[])},N$=function(r,n,a,s){var i=s||{x:r.chartX,y:r.chartY},o=$Le(i,a),c=r.orderedTooltipTicks,u=r.tooltipAxis,d=r.tooltipTicks,f=iOe(o,c,d,u);if(f>=0&&d){var h=d[f]&&d[f].value,m=JE(r,n,f,h),p=BLe(a,c,f,i);return{activeTooltipIndex:f,activeLabel:h,activePayload:m,activeCoordinate:p}}return null},ULe=function(r,n){var a=n.axes,s=n.graphicalItems,i=n.axisType,o=n.axisIdKey,c=n.stackGroups,u=n.dataStartIndex,d=n.dataEndIndex,f=r.layout,h=r.children,m=r.stackOffset,p=Pq(f,i);return a.reduce(function(g,v){var x,w=v.type.defaultProps!==void 0?De(De({},v.type.defaultProps),v.props):v.props,b=w.type,_=w.dataKey,S=w.allowDataOverflow,j=w.allowDuplicatedCategory,N=w.scale,k=w.ticks,E=w.includeHidden,C=w[o];if(g[C])return g;var A=GS(r.data,{graphicalItems:s.filter(function(P){var J,V=o in P.props?P.props[o]:(J=P.type.defaultProps)===null||J===void 0?void 0:J[o];return V===C}),dataStartIndex:u,dataEndIndex:d}),D=A.length,T,W,q;hLe(w.domain,S,b)&&(T=dE(w.domain,null,S),p&&(b==="number"||N!=="auto")&&(q=yg(A,_,"category")));var L=QK(b);if(!T||T.length===0){var I,z=(I=w.domain)!==null&&I!==void 0?I:L;if(_){if(T=yg(A,_,b),b==="category"&&p){var F=Yve(T);j&&F?(W=T,T=kw(0,D)):j||(T=G3(z,T,v).reduce(function(P,J){return P.indexOf(J)>=0?P:[].concat(pp(P),[J])},[]))}else if(b==="category")j?T=T.filter(function(P){return P!==""&&!Bt(P)}):T=G3(z,T,v).reduce(function(P,J){return P.indexOf(J)>=0||J===""||Bt(J)?P:[].concat(pp(P),[J])},[]);else if(b==="number"){var M=dOe(A,s.filter(function(P){var J,V,K=o in P.props?P.props[o]:(J=P.type.defaultProps)===null||J===void 0?void 0:J[o],ie="hide"in P.props?P.props.hide:(V=P.type.defaultProps)===null||V===void 0?void 0:V.hide;return K===C&&(E||!ie)}),_,i,f);M&&(T=M)}p&&(b==="number"||N!=="auto")&&(q=yg(A,_,"category"))}else p?T=kw(0,D):c&&c[C]&&c[C].hasStack&&b==="number"?T=m==="expand"?[0,1]:Fq(c[C].stackGroups,u,d):T=Oq(A,s.filter(function(P){var J=o in P.props?P.props[o]:P.type.defaultProps[o],V="hide"in P.props?P.props.hide:P.type.defaultProps.hide;return J===C&&(E||!V)}),b,f,!0);if(b==="number")T=GE(h,T,C,i,k),z&&(T=dE(z,T,S));else if(b==="category"&&z){var X=z,ee=T.every(function(P){return X.indexOf(P)>=0});ee&&(T=X)}}return De(De({},g),{},Et({},C,De(De({},w),{},{axisType:i,domain:T,categoricalDomain:q,duplicateDomain:W,originalDomain:(x=w.domain)!==null&&x!==void 0?x:L,isCategorical:p,layout:f})))},{})},VLe=function(r,n){var a=n.graphicalItems,s=n.Axis,i=n.axisType,o=n.axisIdKey,c=n.stackGroups,u=n.dataStartIndex,d=n.dataEndIndex,f=r.layout,h=r.children,m=GS(r.data,{graphicalItems:a,dataStartIndex:u,dataEndIndex:d}),p=m.length,g=Pq(f,i),v=-1;return a.reduce(function(x,w){var b=w.type.defaultProps!==void 0?De(De({},w.type.defaultProps),w.props):w.props,_=b[o],S=QK("number");if(!x[_]){v++;var j;return g?j=kw(0,p):c&&c[_]&&c[_].hasStack?(j=Fq(c[_].stackGroups,u,d),j=GE(h,j,_,i)):(j=dE(S,Oq(m,a.filter(function(N){var k,E,C=o in N.props?N.props[o]:(k=N.type.defaultProps)===null||k===void 0?void 0:k[o],A="hide"in N.props?N.props.hide:(E=N.type.defaultProps)===null||E===void 0?void 0:E.hide;return C===_&&!A}),"number",f),s.defaultProps.allowDataOverflow),j=GE(h,j,_,i)),De(De({},x),{},Et({},_,De(De({axisType:i},s.defaultProps),{},{hide:!0,orientation:hi(FLe,"".concat(i,".").concat(v%2),null),domain:j,originalDomain:S,isCategorical:g,layout:f})))}return x},{})},zLe=function(r,n){var a=n.axisType,s=a===void 0?"xAxis":a,i=n.AxisComp,o=n.graphicalItems,c=n.stackGroups,u=n.dataStartIndex,d=n.dataEndIndex,f=r.children,h="".concat(s,"Id"),m=mi(f,i),p={};return m&&m.length?p=ULe(r,{axes:m,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:c,dataStartIndex:u,dataEndIndex:d}):o&&o.length&&(p=VLe(r,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:c,dataStartIndex:u,dataEndIndex:d})),p},WLe=function(r){var n=ru(r),a=nc(n,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:GO(a,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:fw(n,a)}},C$=function(r){var n=r.children,a=r.defaultShowTooltip,s=Js(n,sp),i=0,o=0;return r.data&&r.data.length!==0&&(o=r.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!a}},HLe=function(r){return!r||!r.length?!1:r.some(function(n){var a=ic(n&&n.type);return a&&a.indexOf("Bar")>=0})},E$=function(r){return r==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:r==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:r==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},qLe=function(r,n){var a=r.props,s=r.graphicalItems,i=r.xAxisMap,o=i===void 0?{}:i,c=r.yAxisMap,u=c===void 0?{}:c,d=a.width,f=a.height,h=a.children,m=a.margin||{},p=Js(h,sp),g=Js(h,oc),v=Object.keys(u).reduce(function(j,N){var k=u[N],E=k.orientation;return!k.mirror&&!k.hide?De(De({},j),{},Et({},E,j[E]+k.width)):j},{left:m.left||0,right:m.right||0}),x=Object.keys(o).reduce(function(j,N){var k=o[N],E=k.orientation;return!k.mirror&&!k.hide?De(De({},j),{},Et({},E,hi(j,"".concat(E))+k.height)):j},{top:m.top||0,bottom:m.bottom||0}),w=De(De({},x),v),b=w.bottom;p&&(w.bottom+=p.props.height||sp.defaultProps.height),g&&n&&(w=cOe(w,s,a,n));var _=d-w.left-w.right,S=f-w.top-w.bottom;return De(De({brushBottom:b},w),{},{width:Math.max(_,0),height:Math.max(S,0)})},KLe=function(r,n){if(n==="xAxis")return r[n].width;if(n==="yAxis")return r[n].height},ZK=function(r){var n=r.chartName,a=r.GraphicalChild,s=r.defaultTooltipEventType,i=s===void 0?"axis":s,o=r.validateTooltipEventTypes,c=o===void 0?["axis"]:o,u=r.axisComponents,d=r.legendContent,f=r.formatAxisMap,h=r.defaultProps,m=function(w,b){var _=b.graphicalItems,S=b.stackGroups,j=b.offset,N=b.updateId,k=b.dataStartIndex,E=b.dataEndIndex,C=w.barSize,A=w.layout,D=w.barGap,T=w.barCategoryGap,W=w.maxBarSize,q=E$(A),L=q.numericAxisName,I=q.cateAxisName,z=HLe(_),F=[];return _.forEach(function(M,X){var ee=GS(w.data,{graphicalItems:[M],dataStartIndex:k,dataEndIndex:E}),P=M.type.defaultProps!==void 0?De(De({},M.type.defaultProps),M.props):M.props,J=P.dataKey,V=P.maxBarSize,K=P["".concat(L,"Id")],ie=P["".concat(I,"Id")],oe={},ye=u.reduce(function(he,B){var ue=b["".concat(B.axisType,"Map")],be=P["".concat(B.axisType,"Id")];ue&&ue[be]||B.axisType==="zAxis"||kf();var ve=ue[be];return De(De({},he),{},Et(Et({},B.axisType,ve),"".concat(B.axisType,"Ticks"),nc(ve)))},oe),ae=ye[I],Q=ye["".concat(I,"Ticks")],fe=S&&S[K]&&S[K].hasStack&&bOe(M,S[K].stackGroups),O=ic(M.type).indexOf("Bar")>=0,Le=fw(ae,Q),$e=[],Me=z&&oOe({barSize:C,stackGroups:S,totalSize:KLe(ye,I)});if(O){var He,Pe,bt=Bt(V)?W:V,pt=(He=(Pe=fw(ae,Q,!0))!==null&&Pe!==void 0?Pe:bt)!==null&&He!==void 0?He:0;$e=lOe({barGap:D,barCategoryGap:T,bandSize:pt!==Le?pt:Le,sizeList:Me[ie],maxBarSize:bt}),pt!==Le&&($e=$e.map(function(he){return De(De({},he),{},{position:De(De({},he.position),{},{offset:he.position.offset-pt/2})})}))}var se=M&&M.type&&M.type.getComposedData;se&&F.push({props:De(De({},se(De(De({},ye),{},{displayedData:ee,props:w,dataKey:J,item:M,bandSize:Le,barPosition:$e,offset:j,stackedData:fe,layout:A,dataStartIndex:k,dataEndIndex:E}))),{},Et(Et(Et({key:M.key||"item-".concat(X)},L,ye[L]),I,ye[I]),"animationId",N)),childIndex:lxe(M,w.children),item:M})}),F},p=function(w,b){var _=w.props,S=w.dataStartIndex,j=w.dataEndIndex,N=w.updateId;if(!UM({props:_}))return null;var k=_.children,E=_.layout,C=_.stackOffset,A=_.data,D=_.reverseStackOrder,T=E$(E),W=T.numericAxisName,q=T.cateAxisName,L=mi(k,a),I=xOe(A,L,"".concat(W,"Id"),"".concat(q,"Id"),C,D),z=u.reduce(function(P,J){var V="".concat(J.axisType,"Map");return De(De({},P),{},Et({},V,zLe(_,De(De({},J),{},{graphicalItems:L,stackGroups:J.axisType===W&&I,dataStartIndex:S,dataEndIndex:j}))))},{}),F=qLe(De(De({},z),{},{props:_,graphicalItems:L}),b==null?void 0:b.legendBBox);Object.keys(z).forEach(function(P){z[P]=f(_,z[P],F,P.replace("Map",""),n)});var M=z["".concat(q,"Map")],X=WLe(M),ee=m(_,De(De({},z),{},{dataStartIndex:S,dataEndIndex:j,updateId:N,graphicalItems:L,stackGroups:I,offset:F}));return De(De({formattedGraphicalItems:ee,graphicalItems:L,offset:F,stackGroups:I},X),z)},g=function(x){function w(b){var _,S,j;return NLe(this,w),j=TLe(this,w,[b]),Et(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Et(j,"accessibilityManager",new fLe),Et(j,"handleLegendBBoxUpdate",function(N){if(N){var k=j.state,E=k.dataStartIndex,C=k.dataEndIndex,A=k.updateId;j.setState(De({legendBBox:N},p({props:j.props,dataStartIndex:E,dataEndIndex:C,updateId:A},De(De({},j.state),{},{legendBBox:N}))))}}),Et(j,"handleReceiveSyncEvent",function(N,k,E){if(j.props.syncId===N){if(E===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(k)}}),Et(j,"handleBrushChange",function(N){var k=N.startIndex,E=N.endIndex;if(k!==j.state.dataStartIndex||E!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return De({dataStartIndex:k,dataEndIndex:E},p({props:j.props,dataStartIndex:k,dataEndIndex:E,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:k,dataEndIndex:E})}}),Et(j,"handleMouseEnter",function(N){var k=j.getMouseInfo(N);if(k){var E=De(De({},k),{},{isTooltipActive:!0});j.setState(E),j.triggerSyncEvent(E);var C=j.props.onMouseEnter;Dt(C)&&C(E,N)}}),Et(j,"triggeredAfterMouseMove",function(N){var k=j.getMouseInfo(N),E=k?De(De({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(E),j.triggerSyncEvent(E);var C=j.props.onMouseMove;Dt(C)&&C(E,N)}),Et(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Et(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Et(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),Et(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var E=j.props.onMouseLeave;Dt(E)&&E(k,N)}),Et(j,"handleOuterEvent",function(N){var k=oxe(N),E=hi(j.props,"".concat(k));if(k&&Dt(E)){var C,A;/.*touch.*/i.test(k)?A=j.getMouseInfo(N.changedTouches[0]):A=j.getMouseInfo(N),E((C=A)!==null&&C!==void 0?C:{},N)}}),Et(j,"handleClick",function(N){var k=j.getMouseInfo(N);if(k){var E=De(De({},k),{},{isTooltipActive:!0});j.setState(E),j.triggerSyncEvent(E);var C=j.props.onClick;Dt(C)&&C(E,N)}}),Et(j,"handleMouseDown",function(N){var k=j.props.onMouseDown;if(Dt(k)){var E=j.getMouseInfo(N);k(E,N)}}),Et(j,"handleMouseUp",function(N){var k=j.props.onMouseUp;if(Dt(k)){var E=j.getMouseInfo(N);k(E,N)}}),Et(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Et(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),Et(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),Et(j,"handleDoubleClick",function(N){var k=j.props.onDoubleClick;if(Dt(k)){var E=j.getMouseInfo(N);k(E,N)}}),Et(j,"handleContextMenu",function(N){var k=j.props.onContextMenu;if(Dt(k)){var E=j.getMouseInfo(N);k(E,N)}}),Et(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&nN.emit(aN,j.props.syncId,N,j.eventEmitterSymbol)}),Et(j,"applySyncEvent",function(N){var k=j.props,E=k.layout,C=k.syncMethod,A=j.state.updateId,D=N.dataStartIndex,T=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(De({dataStartIndex:D,dataEndIndex:T},p({props:j.props,dataStartIndex:D,dataEndIndex:T,updateId:A},j.state)));else if(N.activeTooltipIndex!==void 0){var W=N.chartX,q=N.chartY,L=N.activeTooltipIndex,I=j.state,z=I.offset,F=I.tooltipTicks;if(!z)return;if(typeof C=="function")L=C(F,N);else if(C==="value"){L=-1;for(var M=0;M<F.length;M++)if(F[M].value===N.activeLabel){L=M;break}}var X=De(De({},z),{},{x:z.left,y:z.top}),ee=Math.min(W,X.x+X.width),P=Math.min(q,X.y+X.height),J=F[L]&&F[L].value,V=JE(j.state,j.props.data,L),K=F[L]?{x:E==="horizontal"?F[L].coordinate:ee,y:E==="horizontal"?P:F[L].coordinate}:JK;j.setState(De(De({},N),{},{activeLabel:J,activeCoordinate:K,activePayload:V,activeTooltipIndex:L}))}else j.setState(N)}),Et(j,"renderCursor",function(N){var k,E=j.state,C=E.isTooltipActive,A=E.activeCoordinate,D=E.activePayload,T=E.offset,W=E.activeTooltipIndex,q=E.tooltipAxisBandSize,L=j.getTooltipEventType(),I=(k=N.props.active)!==null&&k!==void 0?k:C,z=j.props.layout,F=N.key||"_recharts-cursor";return ne.createElement(yLe,{key:F,activeCoordinate:A,activePayload:D,activeTooltipIndex:W,chartName:n,element:N,isActive:I,layout:z,offset:T,tooltipAxisBandSize:q,tooltipEventType:L})}),Et(j,"renderPolarAxis",function(N,k,E){var C=hi(N,"type.axisType"),A=hi(j.state,"".concat(C,"Map")),D=N.type.defaultProps,T=D!==void 0?De(De({},D),N.props):N.props,W=A&&A[T["".concat(C,"Id")]];return y.cloneElement(N,De(De({},W),{},{className:Ut(C,W.className),key:N.key||"".concat(k,"-").concat(E),ticks:nc(W,!0)}))}),Et(j,"renderPolarGrid",function(N){var k=N.props,E=k.radialLines,C=k.polarAngles,A=k.polarRadius,D=j.state,T=D.radiusAxisMap,W=D.angleAxisMap,q=ru(T),L=ru(W),I=L.cx,z=L.cy,F=L.innerRadius,M=L.outerRadius;return y.cloneElement(N,{polarAngles:Array.isArray(C)?C:nc(L,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(A)?A:nc(q,!0).map(function(X){return X.coordinate}),cx:I,cy:z,innerRadius:F,outerRadius:M,key:N.key||"polar-grid",radialLines:E})}),Et(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,k=j.props,E=k.children,C=k.width,A=k.height,D=j.props.margin||{},T=C-(D.left||0)-(D.right||0),W=Tq({children:E,formattedGraphicalItems:N,legendWidth:T,legendContent:d});if(!W)return null;var q=W.item,L=j$(W,bLe);return y.cloneElement(q,De(De({},L),{},{chartWidth:C,chartHeight:A,margin:D,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Et(j,"renderTooltip",function(){var N,k=j.props,E=k.children,C=k.accessibilityLayer,A=Js(E,Qs);if(!A)return null;var D=j.state,T=D.isTooltipActive,W=D.activeCoordinate,q=D.activePayload,L=D.activeLabel,I=D.offset,z=(N=A.props.active)!==null&&N!==void 0?N:T;return y.cloneElement(A,{viewBox:De(De({},I),{},{x:I.left,y:I.top}),active:z,label:L,payload:z?q:[],coordinate:W,accessibilityLayer:C})}),Et(j,"renderBrush",function(N){var k=j.props,E=k.margin,C=k.data,A=j.state,D=A.offset,T=A.dataStartIndex,W=A.dataEndIndex,q=A.updateId;return y.cloneElement(N,{key:N.key||"_recharts-brush",onChange:t1(j.handleBrushChange,N.props.onChange),data:C,x:Qe(N.props.x)?N.props.x:D.left,y:Qe(N.props.y)?N.props.y:D.top+D.height+D.brushBottom-(E.bottom||0),width:Qe(N.props.width)?N.props.width:D.width,startIndex:T,endIndex:W,updateId:"brush-".concat(q)})}),Et(j,"renderReferenceElement",function(N,k,E){if(!N)return null;var C=j,A=C.clipPathId,D=j.state,T=D.xAxisMap,W=D.yAxisMap,q=D.offset,L=N.type.defaultProps||{},I=N.props,z=I.xAxisId,F=z===void 0?L.xAxisId:z,M=I.yAxisId,X=M===void 0?L.yAxisId:M;return y.cloneElement(N,{key:N.key||"".concat(k,"-").concat(E),xAxis:T[F],yAxis:W[X],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:A})}),Et(j,"renderActivePoints",function(N){var k=N.item,E=N.activePoint,C=N.basePoint,A=N.childIndex,D=N.isRange,T=[],W=k.props.key,q=k.item.type.defaultProps!==void 0?De(De({},k.item.type.defaultProps),k.item.props):k.item.props,L=q.activeDot,I=q.dataKey,z=De(De({index:A,dataKey:I,cx:E.x,cy:E.y,r:4,fill:bP(k.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Ct(L,!1)),$b(L));return T.push(w.renderActiveDot(L,z,"".concat(W,"-activePoint-").concat(A))),C?T.push(w.renderActiveDot(L,De(De({},z),{},{cx:C.x,cy:C.y}),"".concat(W,"-basePoint-").concat(A))):D&&T.push(null),T}),Et(j,"renderGraphicChild",function(N,k,E){var C=j.filterFormatItem(N,k,E);if(!C)return null;var A=j.getTooltipEventType(),D=j.state,T=D.isTooltipActive,W=D.tooltipAxis,q=D.activeTooltipIndex,L=D.activeLabel,I=j.props.children,z=Js(I,Qs),F=C.props,M=F.points,X=F.isRange,ee=F.baseLine,P=C.item.type.defaultProps!==void 0?De(De({},C.item.type.defaultProps),C.item.props):C.item.props,J=P.activeDot,V=P.hide,K=P.activeBar,ie=P.activeShape,oe=!!(!V&&T&&z&&(J||K||ie)),ye={};A!=="axis"&&z&&z.props.trigger==="click"?ye={onClick:t1(j.handleItemMouseEnter,N.props.onClick)}:A!=="axis"&&(ye={onMouseLeave:t1(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:t1(j.handleItemMouseEnter,N.props.onMouseEnter)});var ae=y.cloneElement(N,De(De({},C.props),ye));function Q(B){return typeof W.dataKey=="function"?W.dataKey(B.payload):null}if(oe)if(q>=0){var fe,O;if(W.dataKey&&!W.allowDuplicatedCategory){var Le=typeof W.dataKey=="function"?Q:"payload.".concat(W.dataKey.toString());fe=Lb(M,Le,L),O=X&&ee&&Lb(ee,Le,L)}else fe=M==null?void 0:M[q],O=X&&ee&&ee[q];if(ie||K){var $e=N.props.activeIndex!==void 0?N.props.activeIndex:q;return[y.cloneElement(N,De(De(De({},C.props),ye),{},{activeIndex:$e})),null,null]}if(!Bt(fe))return[ae].concat(pp(j.renderActivePoints({item:C,activePoint:fe,basePoint:O,childIndex:q,isRange:X})))}else{var Me,He=(Me=j.getItemByXY(j.state.activeCoordinate))!==null&&Me!==void 0?Me:{graphicalItem:ae},Pe=He.graphicalItem,bt=Pe.item,pt=bt===void 0?N:bt,se=Pe.childIndex,he=De(De(De({},C.props),ye),{},{activeIndex:se});return[y.cloneElement(pt,he),null,null]}return X?[ae,null,null]:[ae,null]}),Et(j,"renderCustomized",function(N,k,E){return y.cloneElement(N,De(De({key:"recharts-customized-".concat(E)},j.props),j.state))}),Et(j,"renderMap",{CartesianGrid:{handler:i1,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:i1},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:i1},YAxis:{handler:i1},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((_=b.id)!==null&&_!==void 0?_:Gp("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=EH(j.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return PLe(w,x),ELe(w,[{key:"componentDidMount",value:function(){var _,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,S=_.children,j=_.data,N=_.height,k=_.layout,E=Js(S,Qs);if(E){var C=E.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,D=JE(this.state,j,C,A),T=this.state.tooltipTicks[C].coordinate,W=(this.state.offset.top+N)/2,q=k==="horizontal",L=q?{x:T,y:W}:{y:T,x:W},I=this.state.formattedGraphicalItems.find(function(F){var M=F.item;return M.type.name==="Scatter"});I&&(L=De(De({},L),I.props.points[C].tooltipPosition),D=I.props.points[C].tooltipPayload);var z={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:A,activePayload:D,activeCoordinate:L};this.setState(z),this.renderCursor(E),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(_){NC([Js(_.children,Qs)],[Js(this.props.children,Qs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Js(this.props.children,Qs);if(_&&typeof _.props.shared=="boolean"){var S=_.props.shared?"axis":"item";return c.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),N=R2e(j),k={chartX:Math.round(_.pageX-N.left),chartY:Math.round(_.pageY-N.top)},E=j.width/S.offsetWidth||1,C=this.inRange(k.chartX,k.chartY,E);if(!C)return null;var A=this.state,D=A.xAxisMap,T=A.yAxisMap,W=this.getTooltipEventType(),q=N$(this.state,this.props.data,this.props.layout,C);if(W!=="axis"&&D&&T){var L=ru(D).scale,I=ru(T).scale,z=L&&L.invert?L.invert(k.chartX):null,F=I&&I.invert?I.invert(k.chartY):null;return De(De({},k),{},{xValue:z,yValue:F},q)}return q?De(De({},k),q):null}},{key:"inRange",value:function(_,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,k=_/j,E=S/j;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,A=k>=C.left&&k<=C.left+C.width&&E>=C.top&&E<=C.top+C.height;return A?{x:k,y:E}:null}var D=this.state,T=D.angleAxisMap,W=D.radiusAxisMap;if(T&&W){var q=ru(T);return J3({x:k,y:E},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,S=this.getTooltipEventType(),j=Js(_,Qs),N={};j&&S==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=$b(this.props,this.handleOuterEvent);return De(De({},k),N)}},{key:"addListener",value:function(){nN.on(aN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){nN.removeListener(aN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,S,j){for(var N=this.state.formattedGraphicalItems,k=0,E=N.length;k<E;k++){var C=N[k];if(C.item===_||C.props.key===_.key||S===ic(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,S=this.state.offset,j=S.left,N=S.top,k=S.height,E=S.width;return ne.createElement("defs",null,ne.createElement("clipPath",{id:_},ne.createElement("rect",{x:j,y:N,height:k,width:E})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(S,j){var N=S$(j,2),k=N[0],E=N[1];return De(De({},S),{},Et({},k,E.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(S,j){var N=S$(j,2),k=N[0],E=N[1];return De(De({},S),{},Et({},k,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(_){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(_){var S=this.state,j=S.formattedGraphicalItems,N=S.activeItem;if(j&&j.length)for(var k=0,E=j.length;k<E;k++){var C=j[k],A=C.props,D=C.item,T=D.type.defaultProps!==void 0?De(De({},D.type.defaultProps),D.props):D.props,W=ic(D.type);if(W==="Bar"){var q=(A.data||[]).find(function(F){return gDe(_,F)});if(q)return{graphicalItem:C,payload:q}}else if(W==="RadialBar"){var L=(A.data||[]).find(function(F){return J3(_,F)});if(L)return{graphicalItem:C,payload:L}}else if(BS(C,N)||US(C,N)||Uv(C,N)){var I=aIe({graphicalItem:C,activeTooltipItem:N,itemData:T.data}),z=T.activeIndex===void 0?I:T.activeIndex;return{graphicalItem:De(De({},C),{},{childIndex:z}),payload:Uv(C,N)?T.data[I]:C.props.data[I]}}}return null}},{key:"render",value:function(){var _=this;if(!UM(this))return null;var S=this.props,j=S.children,N=S.className,k=S.width,E=S.height,C=S.style,A=S.compact,D=S.title,T=S.desc,W=j$(S,wLe),q=Ct(W,!1);if(A)return ne.createElement(s$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement(EC,qh({},q,{width:k,height:E,title:D,desc:T}),this.renderClipPath(),zM(j,this.renderMap)));if(this.props.accessibilityLayer){var L,I;q.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,q.role=(I=this.props.role)!==null&&I!==void 0?I:"application",q.onKeyDown=function(F){_.accessibilityManager.keyboardEvent(F)},q.onFocus=function(){_.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return ne.createElement(s$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement("div",qh({className:Ut("recharts-wrapper",N),style:De({position:"relative",cursor:"default",width:k,height:E},C)},z,{ref:function(M){_.container=M}}),ne.createElement(EC,qh({},q,{width:k,height:E,title:D,desc:T,style:LLe}),this.renderClipPath(),zM(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);Et(g,"displayName",n),Et(g,"defaultProps",De({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Et(g,"getDerivedStateFromProps",function(x,w){var b=x.dataKey,_=x.data,S=x.children,j=x.width,N=x.height,k=x.layout,E=x.stackOffset,C=x.margin,A=w.dataStartIndex,D=w.dataEndIndex;if(w.updateId===void 0){var T=C$(x);return De(De(De({},T),{},{updateId:0},p(De(De({props:x},T),{},{updateId:0}),w)),{},{prevDataKey:b,prevData:_,prevWidth:j,prevHeight:N,prevLayout:k,prevStackOffset:E,prevMargin:C,prevChildren:S})}if(b!==w.prevDataKey||_!==w.prevData||j!==w.prevWidth||N!==w.prevHeight||k!==w.prevLayout||E!==w.prevStackOffset||!om(C,w.prevMargin)){var W=C$(x),q={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},L=De(De({},N$(w,_,k)),{},{updateId:w.updateId+1}),I=De(De(De({},W),q),L);return De(De(De({},I),p(De({props:x},I),w)),{},{prevDataKey:b,prevData:_,prevWidth:j,prevHeight:N,prevLayout:k,prevStackOffset:E,prevMargin:C,prevChildren:S})}if(!NC(S,w.prevChildren)){var z,F,M,X,ee=Js(S,sp),P=ee&&(z=(F=ee.props)===null||F===void 0?void 0:F.startIndex)!==null&&z!==void 0?z:A,J=ee&&(M=(X=ee.props)===null||X===void 0?void 0:X.endIndex)!==null&&M!==void 0?M:D,V=P!==A||J!==D,K=!Bt(_),ie=K&&!V?w.updateId:w.updateId+1;return De(De({updateId:ie},p(De(De({props:x},w),{},{updateId:ie,dataStartIndex:P,dataEndIndex:J}),w)),{},{prevChildren:S,dataStartIndex:P,dataEndIndex:J})}return null}),Et(g,"renderActiveDot",function(x,w,b){var _;return y.isValidElement(x)?_=y.cloneElement(x,w):Dt(x)?_=x(w):_=ne.createElement(IS,w),ne.createElement(fr,{className:"recharts-active-dot",key:b},_)});var v=y.forwardRef(function(w,b){return ne.createElement(g,qh({},w,{ref:b}))});return v.displayName=g.displayName,v},OP=ZK({chartName:"LineChart",GraphicalChild:Hf,axisComponents:[{axisType:"xAxis",AxisComp:r0},{axisType:"yAxis",AxisComp:n0}],formatAxisMap:MMe}),Ed=ZK({chartName:"PieChart",GraphicalChild:ss,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:$S},{axisType:"radiusAxis",AxisComp:FS}],formatAxisMap:AOe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const T$=({projects:e,clients:r,users:n,leads:a,surveys:s,loadData:i,isRTL:o,t:c,counts:u,mleadsChartData:d})=>{var S;const{user:f}=xr(),h=u.projects,m=0,p=u.projects,g=0,v=u.clients,x=u.users,w=u.leads,b=u.surveys,_=[...e].sort((j,N)=>new Date(N.created_at||"").getTime()-new Date(j.created_at||"").getTime()).slice(0,5);return l.jsxs("div",{className:"space-y-8",dir:o?"rtl":"ltr",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:c("dashboard.title")}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:c("dashboard.subtitle")})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsx(hW,{})})]}),l.jsxs(lt,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[l.jsx(Xt,{className:"border-b border-slate-200 dark:border-slate-700",children:l.jsxs(_r,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[l.jsx(Vn,{className:"h-6 w-6 text-primary"}),c("employeeDashboard.employeeInfo")]})}),l.jsx(xt,{className:"pt-6",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:c("employeeDashboard.name")}),l.jsx("p",{className:"font-medium",children:Te(f.profile||{},"user_name")||f.name||"N/A"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:c("employeeDashboard.email")}),l.jsx("p",{className:"font-medium",children:f.email})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:c("employeeDashboard.role")}),l.jsx(ft,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:f.permissions_permissions_Name||f.role||"Unknown"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:c("employeeDashboard.memberSince")}),l.jsx("p",{className:"font-medium",children:(S=f.profile)!=null&&S.created_at?new Date(f.profile.created_at).toLocaleDateString():"N/A"})]})]})})]}),l.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[l.jsx(ni,{title:c("dashboard.totalProjects"),value:h,subtext:`${m} ${c("dashboard.completed")}`,icon:Lie,isRTL:o}),l.jsx(ni,{title:c("dashboard.inProgress"),value:p,subtext:c("dashboard.activeProjects"),icon:Fa,isRTL:o}),l.jsx(ni,{title:c("dashboard.clients"),value:v,subtext:c("dashboard.totalClients"),icon:un,isRTL:o}),l.jsx(ni,{title:c("dashboard.teamMembers"),value:x,subtext:c("dashboard.activeUsers"),icon:Fa,isRTL:o}),l.jsx(ni,{title:c("dashboard.leads"),value:w,subtext:c("dashboard.totalLeads"),icon:av,isRTL:o}),l.jsx(ni,{title:c("dashboard.surveys"),value:b,subtext:c("dashboard.totalSurveys"),icon:ei,isRTL:o})]}),l.jsxs(lt,{className:"border-0 shadow-md",children:[l.jsx(Xt,{children:l.jsxs(_r,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[l.jsx(av,{className:"h-6 w-6 text-primary"}),c("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),l.jsx(xt,{children:l.jsx("div",{className:"w-full h-[400px]",children:l.jsx(SS,{width:"100%",height:"100%",children:l.jsxs(OP,{data:d,margin:{top:5,right:o?0:30,left:o?30:0,bottom:5},children:[l.jsx(KS,{strokeDasharray:"3 3"}),l.jsx(r0,{dataKey:"date",angle:o?45:-45,textAnchor:o?"start":"end",height:80,tick:{fontSize:12},reversed:o}),l.jsx(n0,{label:{value:"Number of Leads",angle:o?90:-90,position:o?"insideRight":"insideLeft"}}),l.jsx(Qs,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:j=>[`${j} leads`,"Total"]}),l.jsx(oc,{}),l.jsx(Hf,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),l.jsxs("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2",children:[l.jsxs(lt,{className:"border-0 shadow-md",children:[l.jsx(Xt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:l.jsx(_r,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:c("dashboard.recentProjects")})}),l.jsx(xt,{className:"space-y-2 pt-4",children:_.length>0?_.map(j=>l.jsx(YLe,{project:j,clientName:j.company_name||c("dashboard.noClient"),isRTL:o},j.project_id)):l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:c("dashboard.noProjectsYet")})})]}),l.jsxs(lt,{className:"border-0 shadow-md",children:[l.jsx(Xt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:l.jsx(_r,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:c("dashboard.projectStatus")})}),l.jsxs(xt,{className:"space-y-2 pt-4",children:[l.jsx(iN,{color:"bg-emerald-500",label:c("dashboard.completedStatus"),value:m,isRTL:o}),l.jsx(iN,{color:"bg-blue-500",label:c("dashboard.inProgressStatus"),value:p,isRTL:o}),l.jsx(iN,{color:"bg-slate-400",label:c("dashboard.notStartedStatus"),value:g,isRTL:o})]})]})]})]})},GLe=({user:e,myTasks:r,myProjects:n,leads:a,surveys:s,isRTL:i,t:o,counts:c})=>{var m;const u=r.filter(p=>p.task_status==="completed").length,d=r.filter(p=>p.task_status==="in_progress").length,f=c.projects,h=[...r].sort((p,g)=>new Date(g.created_at||"").getTime()-new Date(p.created_at||"").getTime()).slice(0,5);return l.jsxs("div",{className:"space-y-8",dir:i?"rtl":"ltr",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:o("employeeDashboard.title")}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:o("employeeDashboard.subtitle",{name:Te(e.profile||{},"user.name")||e.email})})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsx(hW,{})})]}),l.jsxs(lt,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[l.jsx(Xt,{className:"border-b border-slate-200 dark:border-slate-700",children:l.jsxs(_r,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[l.jsx(Vn,{className:"h-6 w-6 text-primary"}),o("employeeDashboard.employeeInfo")]})}),l.jsx(xt,{className:"pt-6",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[l.jsx(oN,{label:o("employeeDashboard.name"),value:Te(e.profile||{},"user_name")||"N/A",isRTL:i}),l.jsx(oN,{label:o("employeeDashboard.email"),value:e.email,isRTL:i}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:o("employeeDashboard.role")}),l.jsx(ft,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:e.permissions_permissions_Name||e.role||"Unknown"})]}),l.jsx(oN,{label:o("employeeDashboard.memberSince"),value:(m=e.profile)!=null&&m.created_at?new Date(e.profile.created_at).toLocaleDateString():"N/A",isRTL:i})]})})]}),l.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[l.jsx(ni,{title:o("employeeDashboard.myProjects"),value:c.projects,subtext:`${f} ${o("employeeDashboard.active")}`,icon:tf,isRTL:i}),l.jsx(ni,{title:o("employeeDashboard.myTasks"),value:c.myTasks,subtext:`${u} ${o("employeeDashboard.completed")}`,icon:av,isRTL:i}),l.jsx(ni,{title:o("employeeDashboard.inProgress"),value:d,subtext:o("employeeDashboard.activeTasks"),icon:Rd,isRTL:i}),l.jsx(ni,{title:o("employeeDashboard.completedTasks"),value:u,subtext:o("employeeDashboard.finishedTasks"),icon:cl,isRTL:i}),l.jsx(ni,{title:o("employeeDashboard.leads"),value:c.leads,subtext:o("employeeDashboard.totalLeads"),icon:av,isRTL:i}),l.jsx(ni,{title:o("employeeDashboard.surveys"),value:c.surveys,subtext:o("employeeDashboard.totalSurveys"),icon:ei,isRTL:i})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxs(lt,{className:"border-0 shadow-md",children:[l.jsx(Xt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:l.jsx(_r,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:o("employeeDashboard.myProjects")})}),l.jsx(xt,{className:"space-y-2 pt-4",children:n.length>0?n.slice(0,5).map(p=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[l.jsxs("div",{className:"space-y-1 flex-1",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:p.company_name}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:p.contract_code||o("employeeDashboard.noDescription")})]}),l.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:p.contract_code})]},p.project_id)):l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:o("employeeDashboard.noProjectsAssigned")})})]}),l.jsxs(lt,{className:"border-0 shadow-md",children:[l.jsx(Xt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:l.jsx(_r,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:o("employeeDashboard.recentTasks")})}),l.jsx(xt,{className:"space-y-2 pt-4",children:h.length>0?h.map(p=>{var g;return l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[l.jsxs("div",{className:"space-y-1 flex-1",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:p.task_name}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:p.description||o("employeeDashboard.noDescription")})]}),l.jsx(ft,{variant:p.task_status==="completed"?"default":p.task_status==="in_progress"?"secondary":"outline",className:"text-xs whitespace-nowrap",children:(g=p.task_status)==null?void 0:g.replace("_"," ")})]},p.task_id)}):l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:o("employeeDashboard.noTasksAssigned")})})]})]})]})},ni=({title:e,value:r,subtext:n,icon:a,isRTL:s})=>l.jsxs(lt,{className:"border-0 shadow-md hover:shadow-lg transition-shadow duration-300 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",dir:s?"rtl":"ltr",children:[l.jsxs(Xt,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[l.jsx(_r,{className:"text-xs sm:text-sm font-semibold text-slate-700 dark:text-slate-300",children:e}),l.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:l.jsx(a,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})})]}),l.jsxs(xt,{children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-slate-900 dark:text-white",children:r}),l.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 mt-1",children:n})]})]}),YLe=({project:e,clientName:r,isRTL:n})=>l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",dir:n?"rtl":"ltr",children:[l.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[l.jsx("p",{className:"text-sm sm:text-base font-semibold text-slate-900 dark:text-white leading-none truncate",children:e.company_name}),l.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 truncate",children:r||t("dashboard.noClient")})]}),l.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:e.contract_code})]}),iN=({color:e,label:r,value:n,isRTL:a})=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-900 transition-colors duration-200",dir:a?"rtl":"ltr",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-3 h-3 sm:w-4 sm:h-4 rounded-full ${e} shadow-sm`}),l.jsx("span",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300",children:r})]}),l.jsx("span",{className:"text-sm sm:text-base font-bold text-slate-900 dark:text-white",children:n})]}),oN=({label:e,value:r,isRTL:n})=>l.jsxs("div",{dir:n?"rtl":"ltr",children:[l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium mb-2",children:e}),l.jsx("p",{className:"text-base font-semibold text-slate-900 dark:text-white",children:r})]});function XLe(){const{t:e}=Kt(),{currentLanguage:r,isRTL:n}=Wa();wn();const{user:a,loading:s}=xr(),[i,o]=y.useState({projects:[],clients:[],users:[],leads:[],surveys:[],myTasks:[],counts:{projects:0,clients:0,users:0,leads:0,surveys:0,myTasks:0}}),[c,u]=y.useState([]),[d,f]=y.useState(!0),[h,m]=y.useState(null),[p,g]=y.useState(new Map),v=i.projects.filter(_=>{var S;return _.created_by===(a==null?void 0:a.id)||_.created_by===((S=a==null?void 0:a.profile)==null?void 0:S.userid)}),x=async()=>{try{const _={pageSize:1e3,select_fields:"leads_id,created_at"},j=(await G.mLeads.list(_)).data||[],N=new Map;j.forEach(C=>{const A=new Date(C.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});N.set(A,(N.get(A)||0)+1)});const E=Array.from(N.entries()).sort((C,A)=>new Date(C[0]).getTime()-new Date(A[0]).getTime()).map(([C,A])=>({date:C,count:A}));u(E)}catch(_){console.error("[Dashboard] Failed to load MLeads chart data:",_)}};y.useEffect(()=>{a&&!s&&(b(),w(),x())},[a,s]);const w=async()=>{try{const _=await RA(),S=new Map;_.forEach(j=>{S.set(j.permissions_ID,j.permissions_Name)}),g(S)}catch(_){console.error("Failed to load permission names:",_)}},b=async()=>{var _,S,j,N,k,E,C;try{f(!0),m(null);const A=((_=a==null?void 0:a.profile)==null?void 0:_.userid)||(a==null?void 0:a.id);try{const[D,T,W]=await Promise.all([G.getAggregates(["m_projects","clients","users","m_leads","surveys","tasks"]),Ak.getAll({pageSize:5,sort:"created_at",order:"DESC"}).catch(()=>[]),ec.getAll({exact_filters:{assigned_to:A},pageSize:10,sort:"created_at",order:"DESC"}).catch(()=>[])]),q=((S=D.m_projects)==null?void 0:S.Count)||0,L=((j=D.clients)==null?void 0:j.Count)||0,I=((N=D.users)==null?void 0:N.Count)||0,z=((k=D.m_leads)==null?void 0:k.Count)||0,F=((E=D.surveys)==null?void 0:E.Count)||0,M=((C=D.tasks)==null?void 0:C.Count)||0,X=W.length;o({projects:T,clients:[],users:[],leads:[],surveys:[],myTasks:W,counts:{projects:q,clients:L,users:I,leads:z,surveys:F,myTasks:X}})}catch(D){console.warn("[Dashboard] Aggregates API failed, falling back to individual calls:",D);const[T,W,q,L,I,z,F,M,X,ee,P]=await Promise.all([Ak.getCount().catch(()=>0),Fb.getCount().catch(()=>0),dn.getCount().catch(()=>0),CM.getCount().catch(()=>0),Md.getCount().catch(()=>0),Ak.getAll({pageSize:5,sort:"created_at",order:"DESC"}).catch(()=>[]),Fb.getAll().catch(()=>[]),dn.getAll().catch(()=>[]),CM.getAll().catch(()=>[]),Md.getAll().catch(()=>[]),ec.getAll().catch(()=>[])]),J=P.filter(K=>K.assigned_to===A),V=J.length;o({projects:z,clients:F,users:M,leads:X,surveys:ee,myTasks:J,counts:{projects:T,clients:W,users:q,leads:L,surveys:I,myTasks:V}})}}catch(A){console.error("[Dashboard] Failed to load data:",A),m(A.message||"Failed to load data")}finally{f(!1)}};return d||s||!a?l.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",dir:n?"rtl":"ltr",children:l.jsx(zi,{message:e("common.loading"),size:"2xl"})}):h?l.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",dir:n?"rtl":"ltr",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-red-600",children:e("common.error")}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:h}),l.jsx(le,{onClick:b,className:"mt-4",children:e("common.retry","Retry")})]})}):a.role==="client"?l.jsx(D1,{to:"/client-portal",replace:!0}):a.role==="admin"?l.jsx(T$,{projects:i.projects,clients:i.clients,users:i.users,leads:i.leads,surveys:i.surveys,loadData:b,isRTL:n,t:e,counts:i.counts,mleadsChartData:c}):["employee","manager","team_leader"].includes(a.role)?l.jsx(GLe,{user:a,myTasks:i.myTasks,myProjects:v,leads:i.leads,surveys:i.surveys,isRTL:n,t:e,counts:i.counts}):["partner_employee","partner_leader"].includes(a.role)?l.jsxs("div",{className:"space-y-8",dir:n?"rtl":"ltr",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:e("partnerEmployeeDashboard.title","Partner Employee Dashboard")}),l.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("partnerEmployeeDashboard.subtitle","Welcome to your partner employee portal")})]})}),l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:l.jsx(ni,{title:"",value:0,subtext:"",icon:tf,isRTL:n})}),l.jsx("h2",{className:"text-2xl font-semibold",children:e("common.comingSoon","Coming Soon")}),l.jsx("p",{className:"text-muted-foreground max-w-md",children:e("partnerEmployeeDashboard.comingSoonMessage","We're working hard to bring you an amazing partner employee experience.")})]})})]}):l.jsx(T$,{projects:i.projects,clients:i.clients,users:i.users,leads:i.leads,surveys:i.surveys,loadData:b,isRTL:n,t:e,counts:i.counts})}var YS="Popover",[eG,jXe]=vs(YS,[Mp]),Vx=Mp(),[JLe,id]=eG(YS),tG=e=>{const{__scopePopover:r,children:n,open:a,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,c=Vx(r),u=y.useRef(null),[d,f]=y.useState(!1),[h,m]=bc({prop:a,defaultProp:s??!1,onChange:i,caller:YS});return l.jsx(JA,{...c,children:l.jsx(JLe,{scope:r,contentId:ha(),triggerRef:u,open:h,onOpenChange:m,onOpenToggle:y.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:y.useCallback(()=>f(!0),[]),onCustomAnchorRemove:y.useCallback(()=>f(!1),[]),modal:o,children:n})})};tG.displayName=YS;var rG="PopoverAnchor",QLe=y.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=id(rG,n),i=Vx(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=s;return y.useEffect(()=>(o(),()=>c()),[o,c]),l.jsx(L_,{...i,...a,ref:r})});QLe.displayName=rG;var nG="PopoverTrigger",aG=y.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=id(nG,n),i=Vx(n),o=qt(r,s.triggerRef),c=l.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":cG(s.open),...a,ref:o,onClick:rt(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:l.jsx(L_,{asChild:!0,...i,children:c})});aG.displayName=nG;var PP="PopoverPortal",[ZLe,e$e]=eG(PP,{forceMount:void 0}),sG=e=>{const{__scopePopover:r,forceMount:n,children:a,container:s}=e,i=id(PP,r);return l.jsx(ZLe,{scope:r,forceMount:n,children:l.jsx(Ha,{present:n||i.open,children:l.jsx(Sx,{asChild:!0,container:s,children:a})})})};sG.displayName=PP;var gp="PopoverContent",iG=y.forwardRef((e,r)=>{const n=e$e(gp,e.__scopePopover),{forceMount:a=n.forceMount,...s}=e,i=id(gp,e.__scopePopover);return l.jsx(Ha,{present:a||i.open,children:i.modal?l.jsx(r$e,{...s,ref:r}):l.jsx(n$e,{...s,ref:r})})});iG.displayName=gp;var t$e=$u("PopoverContent.RemoveScroll"),r$e=y.forwardRef((e,r)=>{const n=id(gp,e.__scopePopover),a=y.useRef(null),s=qt(r,a),i=y.useRef(!1);return y.useEffect(()=>{const o=a.current;if(o)return $_(o)},[]),l.jsx(jx,{as:t$e,allowPinchZoom:!0,children:l.jsx(oG,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),i.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:rt(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:rt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),n$e=y.forwardRef((e,r)=>{const n=id(gp,e.__scopePopover),a=y.useRef(!1),s=y.useRef(!1);return l.jsx(oG,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var u,d;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),oG=y.forwardRef((e,r)=>{const{__scopePopover:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,...h}=e,m=id(gp,n),p=Vx(n);return R_(),l.jsx(wx,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(bx,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:l.jsx(QA,{"data-state":cG(m.open),role:"dialog",id:m.contentId,...p,...h,ref:r,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),lG="PopoverClose",a$e=y.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=id(lG,n);return l.jsx(mt.button,{type:"button",...a,ref:r,onClick:rt(e.onClick,()=>s.onOpenChange(!1))})});a$e.displayName=lG;var s$e="PopoverArrow",i$e=y.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=Vx(n);return l.jsx(ZA,{...s,...a,ref:r})});i$e.displayName=s$e;function cG(e){return e?"open":"closed"}var o$e=tG,l$e=aG,c$e=sG,uG=iG;const Sa=o$e,ja=l$e,ia=y.forwardRef(({className:e,align:r="center",sideOffset:n=4,...a},s)=>l.jsx(c$e,{children:l.jsx(uG,{ref:s,align:r,sideOffset:n,className:ge("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));ia.displayName=uG.displayName;const u$e={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},d$e=(e,r,n)=>{const a=u$e[e];let s;return typeof a=="string"?s=a:r===1?s=a.one:r===2?s=a.two:r<=10?s=a.threeToTen.replace("{{count}}",String(r)):s=a.other.replace("{{count}}",String(r)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?" "+s:" "+s:s},f$e={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},h$e={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},m$e={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},p$e={date:em({formats:f$e,defaultWidth:"full"}),time:em({formats:h$e,defaultWidth:"full"}),dateTime:em({formats:m$e,defaultWidth:"full"})},g$e={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},v$e=e=>g$e[e],x$e={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},y$e={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},b$e={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},w$e={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},_$e={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},S$e={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},j$e=e=>String(e),k$e={ordinalNumber:j$e,era:al({values:x$e,defaultWidth:"wide"}),quarter:al({values:y$e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:al({values:b$e,defaultWidth:"wide"}),day:al({values:w$e,defaultWidth:"wide"}),dayPeriod:al({values:_$e,defaultWidth:"wide",formattingValues:S$e,defaultFormattingWidth:"wide"})},N$e=/^(\d+)(th|st|nd|rd)?/i,C$e=/\d+/i,E$e={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},T$e={any:[//,//]},A$e={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},O$e={any:[/1/i,/2/i,/3/i,/4/i]},P$e={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},D$e={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},R$e={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},I$e={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},M$e={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},F$e={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},L$e={ordinalNumber:BU({matchPattern:N$e,parsePattern:C$e,valueCallback:e=>parseInt(e,10)}),era:sl({matchPatterns:E$e,defaultMatchWidth:"wide",parsePatterns:T$e,defaultParseWidth:"any"}),quarter:sl({matchPatterns:A$e,defaultMatchWidth:"wide",parsePatterns:O$e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:sl({matchPatterns:P$e,defaultMatchWidth:"wide",parsePatterns:D$e,defaultParseWidth:"any"}),day:sl({matchPatterns:R$e,defaultMatchWidth:"wide",parsePatterns:I$e,defaultParseWidth:"any"}),dayPeriod:sl({matchPatterns:M$e,defaultMatchWidth:"any",parsePatterns:F$e,defaultParseWidth:"any"})},$$e={code:"ar",formatDistance:d$e,formatLong:p$e,formatRelative:v$e,localize:k$e,match:L$e,options:{weekStartsOn:6,firstWeekContainsDate:1}};var Ot=function(){return Ot=Object.assign||function(r){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Ot.apply(this,arguments)};function B$e(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function dG(e,r,n){for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}function zx(e){return e.mode==="multiple"}function Wx(e){return e.mode==="range"}function XS(e){return e.mode==="single"}var U$e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function V$e(e,r){return fs(e,"LLLL y",r)}function z$e(e,r){return fs(e,"d",r)}function W$e(e,r){return fs(e,"LLLL",r)}function H$e(e){return"".concat(e)}function q$e(e,r){return fs(e,"cccccc",r)}function K$e(e,r){return fs(e,"yyyy",r)}var G$e=Object.freeze({__proto__:null,formatCaption:V$e,formatDay:z$e,formatMonthCaption:W$e,formatWeekNumber:H$e,formatWeekdayName:q$e,formatYearCaption:K$e}),Y$e=function(e,r,n){return fs(e,"do MMMM (EEEE)",n)},X$e=function(){return"Month: "},J$e=function(){return"Go to next month"},Q$e=function(){return"Go to previous month"},Z$e=function(e,r){return fs(e,"cccc",r)},e5e=function(e){return"Week n. ".concat(e)},t5e=function(){return"Year: "},r5e=Object.freeze({__proto__:null,labelDay:Y$e,labelMonthDropdown:X$e,labelNext:J$e,labelPrevious:Q$e,labelWeekNumber:e5e,labelWeekday:Z$e,labelYearDropdown:t5e});function n5e(){var e="buttons",r=U$e,n=PA,a={},s={},i=1,o={},c=new Date;return{captionLayout:e,classNames:r,formatters:G$e,labels:r5e,locale:n,modifiersClassNames:a,modifiers:s,numberOfMonths:i,styles:o,today:c,mode:"default"}}function a5e(e){var r=e.fromYear,n=e.toYear,a=e.fromMonth,s=e.toMonth,i=e.fromDate,o=e.toDate;return a?i=As(a):r&&(i=new Date(r,0,1)),s?o=T_(s):n&&(o=new Date(n,11,31)),{fromDate:i?Rm(i):void 0,toDate:o?Rm(o):void 0}}var fG=y.createContext(void 0);function s5e(e){var r,n=e.initialProps,a=n5e(),s=a5e(n),i=s.fromDate,o=s.toDate,c=(r=n.captionLayout)!==null&&r!==void 0?r:a.captionLayout;c!=="buttons"&&(!i||!o)&&(c="buttons");var u;(XS(n)||zx(n)||Wx(n))&&(u=n.onSelect);var d=Ot(Ot(Ot({},a),n),{captionLayout:c,classNames:Ot(Ot({},a.classNames),n.classNames),components:Ot({},n.components),formatters:Ot(Ot({},a.formatters),n.formatters),fromDate:i,labels:Ot(Ot({},a.labels),n.labels),mode:n.mode||a.mode,modifiers:Ot(Ot({},a.modifiers),n.modifiers),modifiersClassNames:Ot(Ot({},a.modifiersClassNames),n.modifiersClassNames),onSelect:u,styles:Ot(Ot({},a.styles),n.styles),toDate:o});return l.jsx(fG.Provider,{value:d,children:e.children})}function Lr(){var e=y.useContext(fG);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function hG(e){var r=Lr(),n=r.locale,a=r.classNames,s=r.styles,i=r.formatters.formatCaption;return l.jsx("div",{className:a.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function i5e(e){return l.jsx("svg",Ot({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function mG(e){var r,n,a=e.onChange,s=e.value,i=e.children,o=e.caption,c=e.className,u=e.style,d=Lr(),f=(n=(r=d.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&n!==void 0?n:i5e;return l.jsxs("div",{className:c,style:u,children:[l.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:s,onChange:a,children:i}),l.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,l.jsx(f,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function o5e(e){var r,n=Lr(),a=n.fromDate,s=n.toDate,i=n.styles,o=n.locale,c=n.formatters.formatMonthCaption,u=n.classNames,d=n.components,f=n.labels.labelMonthDropdown;if(!a)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});var h=[];if(Jse(a,s))for(var m=As(a),p=a.getMonth();p<=s.getMonth();p++)h.push(ik(m,p));else for(var m=As(new Date),p=0;p<=11;p++)h.push(ik(m,p));var g=function(x){var w=Number(x.target.value),b=ik(As(e.displayMonth),w);e.onChange(b)},v=(r=d==null?void 0:d.Dropdown)!==null&&r!==void 0?r:mG;return l.jsx(v,{name:"months","aria-label":f(),className:u.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:c(e.displayMonth,{locale:o}),children:h.map(function(x){return l.jsx("option",{value:x.getMonth(),children:c(x,{locale:o})},x.getMonth())})})}function l5e(e){var r,n=e.displayMonth,a=Lr(),s=a.fromDate,i=a.toDate,o=a.locale,c=a.styles,u=a.classNames,d=a.components,f=a.formatters.formatYearCaption,h=a.labels.labelYearDropdown,m=[];if(!s)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});for(var p=s.getFullYear(),g=i.getFullYear(),v=p;v<=g;v++)m.push(fI(LU(new Date),v));var x=function(b){var _=fI(As(n),Number(b.target.value));e.onChange(_)},w=(r=d==null?void 0:d.Dropdown)!==null&&r!==void 0?r:mG;return l.jsx(w,{name:"years","aria-label":h(),className:u.dropdown_year,style:c.dropdown_year,onChange:x,value:n.getFullYear(),caption:f(n,{locale:o}),children:m.map(function(b){return l.jsx("option",{value:b.getFullYear(),children:f(b,{locale:o})},b.getFullYear())})})}function c5e(e,r){var n=y.useState(e),a=n[0],s=n[1],i=r===void 0?a:r;return[i,s]}function u5e(e){var r=e.month,n=e.defaultMonth,a=e.today,s=r||n||a||new Date,i=e.toDate,o=e.fromDate,c=e.numberOfMonths,u=c===void 0?1:c;if(i&&Mm(i,s)<0){var d=-1*(u-1);s=To(i,d)}return o&&Mm(s,o)<0&&(s=o),As(s)}function d5e(){var e=Lr(),r=u5e(e),n=c5e(r,e.month),a=n[0],s=n[1],i=function(o){var c;if(!e.disableNavigation){var u=As(o);s(u),(c=e.onMonthChange)===null||c===void 0||c.call(e,u)}};return[a,i]}function f5e(e,r){for(var n=r.reverseMonths,a=r.numberOfMonths,s=As(e),i=As(To(s,a)),o=Mm(i,s),c=[],u=0;u<o;u++){var d=To(s,u);c.push(d)}return n&&(c=c.reverse()),c}function h5e(e,r){if(!r.disableNavigation){var n=r.toDate,a=r.pagedNavigation,s=r.numberOfMonths,i=s===void 0?1:s,o=a?i:1,c=As(e);if(!n)return To(c,o);var u=Mm(n,e);if(!(u<i))return To(c,o)}}function m5e(e,r){if(!r.disableNavigation){var n=r.fromDate,a=r.pagedNavigation,s=r.numberOfMonths,i=s===void 0?1:s,o=a?i:1,c=As(e);if(!n)return To(c,-o);var u=Mm(c,n);if(!(u<=0))return To(c,-o)}}var pG=y.createContext(void 0);function p5e(e){var r=Lr(),n=d5e(),a=n[0],s=n[1],i=f5e(a,r),o=h5e(a,r),c=m5e(a,r),u=function(h){return i.some(function(m){return DA(h,m)})},d=function(h,m){u(h)||(m&&HU(h,m)?s(To(h,1+r.numberOfMonths*-1)):s(h))},f={currentMonth:a,displayMonths:i,goToMonth:s,goToDate:d,previousMonth:c,nextMonth:o,isDateDisplayed:u};return l.jsx(pG.Provider,{value:f,children:e.children})}function Hx(){var e=y.useContext(pG);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function A$(e){var r,n=Lr(),a=n.classNames,s=n.styles,i=n.components,o=Hx().goToMonth,c=function(f){o(To(f,e.displayIndex?-e.displayIndex:0))},u=(r=i==null?void 0:i.CaptionLabel)!==null&&r!==void 0?r:hG,d=l.jsx(u,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:a.caption_dropdowns,style:s.caption_dropdowns,children:[l.jsx("div",{className:a.vhidden,children:d}),l.jsx(o5e,{onChange:c,displayMonth:e.displayMonth}),l.jsx(l5e,{onChange:c,displayMonth:e.displayMonth})]})}function g5e(e){return l.jsx("svg",Ot({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function v5e(e){return l.jsx("svg",Ot({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var $w=y.forwardRef(function(e,r){var n=Lr(),a=n.classNames,s=n.styles,i=[a.button_reset,a.button];e.className&&i.push(e.className);var o=i.join(" "),c=Ot(Ot({},s.button_reset),s.button);return e.style&&Object.assign(c,e.style),l.jsx("button",Ot({},e,{ref:r,type:"button",className:o,style:c}))});function x5e(e){var r,n,a=Lr(),s=a.dir,i=a.locale,o=a.classNames,c=a.styles,u=a.labels,d=u.labelPrevious,f=u.labelNext,h=a.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var m=d(e.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),g=f(e.nextMonth,{locale:i}),v=[o.nav_button,o.nav_button_next].join(" "),x=(r=h==null?void 0:h.IconRight)!==null&&r!==void 0?r:v5e,w=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:g5e;return l.jsxs("div",{className:o.nav,style:c.nav,children:[!e.hidePrevious&&l.jsx($w,{name:"previous-month","aria-label":m,className:p,style:c.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?l.jsx(x,{className:o.nav_icon,style:c.nav_icon}):l.jsx(w,{className:o.nav_icon,style:c.nav_icon})}),!e.hideNext&&l.jsx($w,{name:"next-month","aria-label":g,className:v,style:c.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?l.jsx(w,{className:o.nav_icon,style:c.nav_icon}):l.jsx(x,{className:o.nav_icon,style:c.nav_icon})})]})}function O$(e){var r=Lr().numberOfMonths,n=Hx(),a=n.previousMonth,s=n.nextMonth,i=n.goToMonth,o=n.displayMonths,c=o.findIndex(function(g){return DA(e.displayMonth,g)}),u=c===0,d=c===o.length-1,f=r>1&&(u||!d),h=r>1&&(d||!u),m=function(){a&&i(a)},p=function(){s&&i(s)};return l.jsx(x5e,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:h,nextMonth:s,previousMonth:a,onPreviousClick:m,onNextClick:p})}function y5e(e){var r,n=Lr(),a=n.classNames,s=n.disableNavigation,i=n.styles,o=n.captionLayout,c=n.components,u=(r=c==null?void 0:c.CaptionLabel)!==null&&r!==void 0?r:hG,d;return s?d=l.jsx(u,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=l.jsx(A$,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=l.jsxs(l.Fragment,{children:[l.jsx(A$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(O$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=l.jsxs(l.Fragment,{children:[l.jsx(u,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(O$,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:a.caption,style:i.caption,children:d})}function b5e(e){var r=Lr(),n=r.footer,a=r.styles,s=r.classNames.tfoot;return n?l.jsx("tfoot",{className:s,style:a.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:n})})}):l.jsx(l.Fragment,{})}function w5e(e,r,n){for(var a=n?gf(new Date):wl(new Date,{locale:e,weekStartsOn:r}),s=[],i=0;i<7;i++){var o=es(a,i);s.push(o)}return s}function _5e(){var e=Lr(),r=e.classNames,n=e.styles,a=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,o=e.ISOWeek,c=e.formatters.formatWeekdayName,u=e.labels.labelWeekday,d=w5e(s,i,o);return l.jsxs("tr",{style:n.head_row,className:r.head_row,children:[a&&l.jsx("td",{style:n.head_cell,className:r.head_cell}),d.map(function(f,h){return l.jsx("th",{scope:"col",className:r.head_cell,style:n.head_cell,"aria-label":u(f,{locale:s}),children:c(f,{locale:s})},h)})]})}function S5e(){var e,r=Lr(),n=r.classNames,a=r.styles,s=r.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:_5e;return l.jsx("thead",{style:a.head,className:n.head,children:l.jsx(i,{})})}function j5e(e){var r=Lr(),n=r.locale,a=r.formatters.formatDay;return l.jsx(l.Fragment,{children:a(e.date,{locale:n})})}var DP=y.createContext(void 0);function k5e(e){if(!zx(e.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return l.jsx(DP.Provider,{value:r,children:e.children})}return l.jsx(N5e,{initialProps:e.initialProps,children:e.children})}function N5e(e){var r=e.initialProps,n=e.children,a=r.selected,s=r.min,i=r.max,o=function(d,f,h){var m,p;(m=r.onDayClick)===null||m===void 0||m.call(r,d,f,h);var g=!!(f.selected&&s&&(a==null?void 0:a.length)===s);if(!g){var v=!!(!f.selected&&i&&(a==null?void 0:a.length)===i);if(!v){var x=a?dG([],a):[];if(f.selected){var w=x.findIndex(function(b){return ks(d,b)});x.splice(w,1)}else x.push(d);(p=r.onSelect)===null||p===void 0||p.call(r,x,d,f,h)}}},c={disabled:[]};a&&c.disabled.push(function(d){var f=i&&a.length>i-1,h=a.some(function(m){return ks(m,d)});return!!(f&&!h)});var u={selected:a,onDayClick:o,modifiers:c};return l.jsx(DP.Provider,{value:u,children:n})}function RP(){var e=y.useContext(DP);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function C5e(e,r){var n=r||{},a=n.from,s=n.to;return a&&s?ks(s,e)&&ks(a,e)?void 0:ks(s,e)?{from:s,to:void 0}:ks(a,e)?void 0:W2(a,e)?{from:e,to:s}:{from:a,to:e}:s?W2(e,s)?{from:s,to:e}:{from:e,to:s}:a?HU(e,a)?{from:e,to:a}:{from:a,to:e}:{from:e,to:void 0}}var IP=y.createContext(void 0);function E5e(e){if(!Wx(e.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(IP.Provider,{value:r,children:e.children})}return l.jsx(T5e,{initialProps:e.initialProps,children:e.children})}function T5e(e){var r=e.initialProps,n=e.children,a=r.selected,s=a||{},i=s.from,o=s.to,c=r.min,u=r.max,d=function(p,g,v){var x,w;(x=r.onDayClick)===null||x===void 0||x.call(r,p,g,v);var b=C5e(p,a);(w=r.onSelect)===null||w===void 0||w.call(r,b,p,g,v)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(f.range_start=[i],o?(f.range_end=[o],ks(i,o)||(f.range_middle=[{after:i,before:o}])):f.range_end=[i]):o&&(f.range_start=[o],f.range_end=[o]),c&&(i&&!o&&f.disabled.push({after:sk(i,c-1),before:es(i,c-1)}),i&&o&&f.disabled.push({after:i,before:es(i,c-1)}),!i&&o&&f.disabled.push({after:sk(o,c-1),before:es(o,c-1)})),u){if(i&&!o&&(f.disabled.push({before:es(i,-u+1)}),f.disabled.push({after:es(i,u-1)})),i&&o){var h=ll(o,i)+1,m=u-h;f.disabled.push({before:sk(i,m)}),f.disabled.push({after:es(o,m)})}!i&&o&&(f.disabled.push({before:es(o,-u+1)}),f.disabled.push({after:es(o,u-1)}))}return l.jsx(IP.Provider,{value:{selected:a,onDayClick:d,modifiers:f},children:n})}function MP(){var e=y.useContext(IP);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function U1(e){return Array.isArray(e)?dG([],e):e!==void 0?[e]:[]}function A5e(e){var r={};return Object.entries(e).forEach(function(n){var a=n[0],s=n[1];r[a]=U1(s)}),r}var Fo;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Fo||(Fo={}));var O5e=Fo.Selected,Vl=Fo.Disabled,P5e=Fo.Hidden,D5e=Fo.Today,lN=Fo.RangeEnd,cN=Fo.RangeMiddle,uN=Fo.RangeStart,R5e=Fo.Outside;function I5e(e,r,n){var a,s=(a={},a[O5e]=U1(e.selected),a[Vl]=U1(e.disabled),a[P5e]=U1(e.hidden),a[D5e]=[e.today],a[lN]=[],a[cN]=[],a[uN]=[],a[R5e]=[],a);return e.fromDate&&s[Vl].push({before:e.fromDate}),e.toDate&&s[Vl].push({after:e.toDate}),zx(e)?s[Vl]=s[Vl].concat(r.modifiers[Vl]):Wx(e)&&(s[Vl]=s[Vl].concat(n.modifiers[Vl]),s[uN]=n.modifiers[uN],s[cN]=n.modifiers[cN],s[lN]=n.modifiers[lN]),s}var gG=y.createContext(void 0);function M5e(e){var r=Lr(),n=RP(),a=MP(),s=I5e(r,n,a),i=A5e(r.modifiers),o=Ot(Ot({},s),i);return l.jsx(gG.Provider,{value:o,children:e.children})}function vG(){var e=y.useContext(gG);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function F5e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function L5e(e){return!!(e&&typeof e=="object"&&"from"in e)}function $5e(e){return!!(e&&typeof e=="object"&&"after"in e)}function B5e(e){return!!(e&&typeof e=="object"&&"before"in e)}function U5e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function V5e(e,r){var n,a=r.from,s=r.to;if(a&&s){var i=ll(s,a)<0;i&&(n=[s,a],a=n[0],s=n[1]);var o=ll(e,a)>=0&&ll(s,e)>=0;return o}return s?ks(s,e):a?ks(a,e):!1}function z5e(e){return AA(e)}function W5e(e){return Array.isArray(e)&&e.every(AA)}function H5e(e,r){return r.some(function(n){if(typeof n=="boolean")return n;if(z5e(n))return ks(e,n);if(W5e(n))return n.includes(e);if(L5e(n))return V5e(e,n);if(U5e(n))return n.dayOfWeek.includes(e.getDay());if(F5e(n)){var a=ll(n.before,e),s=ll(n.after,e),i=a>0,o=s<0,c=W2(n.before,n.after);return c?o&&i:i||o}return $5e(n)?ll(e,n.after)>0:B5e(n)?ll(n.before,e)>0:typeof n=="function"?n(e):!1})}function FP(e,r,n){var a=Object.keys(r).reduce(function(i,o){var c=r[o];return H5e(e,c)&&i.push(o),i},[]),s={};return a.forEach(function(i){return s[i]=!0}),n&&!DA(e,n)&&(s.outside=!0),s}function q5e(e,r){for(var n=As(e[0]),a=T_(e[e.length-1]),s,i,o=n;o<=a;){var c=FP(o,r),u=!c.disabled&&!c.hidden;if(!u){o=es(o,1);continue}if(c.selected)return o;c.today&&!i&&(i=o),s||(s=o),o=es(o,1)}return i||s}var K5e=365;function xG(e,r){var n=r.moveBy,a=r.direction,s=r.context,i=r.modifiers,o=r.retry,c=o===void 0?{count:0,lastFocused:e}:o,u=s.weekStartsOn,d=s.fromDate,f=s.toDate,h=s.locale,m={day:es,week:z2,month:To,year:$ae,startOfWeek:function(x){return s.ISOWeek?gf(x):wl(x,{locale:h,weekStartsOn:u})},endOfWeek:function(x){return s.ISOWeek?$U(x):OA(x,{locale:h,weekStartsOn:u})}},p=m[n](e,a==="after"?1:-1);a==="before"&&d?p=Bae([d,p]):a==="after"&&f&&(p=Uae([f,p]));var g=!0;if(i){var v=FP(p,i);g=!v.disabled&&!v.hidden}return g?p:c.count>K5e?c.lastFocused:xG(p,{moveBy:n,direction:a,context:s,modifiers:i,retry:Ot(Ot({},c),{count:c.count+1})})}var yG=y.createContext(void 0);function G5e(e){var r=Hx(),n=vG(),a=y.useState(),s=a[0],i=a[1],o=y.useState(),c=o[0],u=o[1],d=q5e(r.displayMonths,n),f=s??(c&&r.isDateDisplayed(c))?c:d,h=function(){u(s),i(void 0)},m=function(x){i(x)},p=Lr(),g=function(x,w){if(s){var b=xG(s,{moveBy:x,direction:w,context:p,modifiers:n});ks(s,b)||(r.goToDate(b,s),m(b))}},v={focusedDay:s,focusTarget:f,blur:h,focus:m,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return l.jsx(yG.Provider,{value:v,children:e.children})}function LP(){var e=y.useContext(yG);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Y5e(e,r){var n=vG(),a=FP(e,n,r);return a}var $P=y.createContext(void 0);function X5e(e){if(!XS(e.initialProps)){var r={selected:void 0};return l.jsx($P.Provider,{value:r,children:e.children})}return l.jsx(J5e,{initialProps:e.initialProps,children:e.children})}function J5e(e){var r=e.initialProps,n=e.children,a=function(i,o,c){var u,d,f;if((u=r.onDayClick)===null||u===void 0||u.call(r,i,o,c),o.selected&&!r.required){(d=r.onSelect)===null||d===void 0||d.call(r,void 0,i,o,c);return}(f=r.onSelect)===null||f===void 0||f.call(r,i,i,o,c)},s={selected:r.selected,onDayClick:a};return l.jsx($P.Provider,{value:s,children:n})}function bG(){var e=y.useContext($P);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Q5e(e,r){var n=Lr(),a=bG(),s=RP(),i=MP(),o=LP(),c=o.focusDayAfter,u=o.focusDayBefore,d=o.focusWeekAfter,f=o.focusWeekBefore,h=o.blur,m=o.focus,p=o.focusMonthBefore,g=o.focusMonthAfter,v=o.focusYearBefore,x=o.focusYearAfter,w=o.focusStartOfWeek,b=o.focusEndOfWeek,_=function(z){var F,M,X,ee;XS(n)?(F=a.onDayClick)===null||F===void 0||F.call(a,e,r,z):zx(n)?(M=s.onDayClick)===null||M===void 0||M.call(s,e,r,z):Wx(n)?(X=i.onDayClick)===null||X===void 0||X.call(i,e,r,z):(ee=n.onDayClick)===null||ee===void 0||ee.call(n,e,r,z)},S=function(z){var F;m(e),(F=n.onDayFocus)===null||F===void 0||F.call(n,e,r,z)},j=function(z){var F;h(),(F=n.onDayBlur)===null||F===void 0||F.call(n,e,r,z)},N=function(z){var F;(F=n.onDayMouseEnter)===null||F===void 0||F.call(n,e,r,z)},k=function(z){var F;(F=n.onDayMouseLeave)===null||F===void 0||F.call(n,e,r,z)},E=function(z){var F;(F=n.onDayPointerEnter)===null||F===void 0||F.call(n,e,r,z)},C=function(z){var F;(F=n.onDayPointerLeave)===null||F===void 0||F.call(n,e,r,z)},A=function(z){var F;(F=n.onDayTouchCancel)===null||F===void 0||F.call(n,e,r,z)},D=function(z){var F;(F=n.onDayTouchEnd)===null||F===void 0||F.call(n,e,r,z)},T=function(z){var F;(F=n.onDayTouchMove)===null||F===void 0||F.call(n,e,r,z)},W=function(z){var F;(F=n.onDayTouchStart)===null||F===void 0||F.call(n,e,r,z)},q=function(z){var F;(F=n.onDayKeyUp)===null||F===void 0||F.call(n,e,r,z)},L=function(z){var F;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?c():u();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?u():c();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),d();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),f();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?v():p();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?x():g();break;case"Home":z.preventDefault(),z.stopPropagation(),w();break;case"End":z.preventDefault(),z.stopPropagation(),b();break}(F=n.onDayKeyDown)===null||F===void 0||F.call(n,e,r,z)},I={onClick:_,onFocus:S,onBlur:j,onKeyDown:L,onKeyUp:q,onMouseEnter:N,onMouseLeave:k,onPointerEnter:E,onPointerLeave:C,onTouchCancel:A,onTouchEnd:D,onTouchMove:T,onTouchStart:W};return I}function Z5e(){var e=Lr(),r=bG(),n=RP(),a=MP(),s=XS(e)?r.selected:zx(e)?n.selected:Wx(e)?a.selected:void 0;return s}function e8e(e){return Object.values(Fo).includes(e)}function t8e(e,r){var n=[e.classNames.day];return Object.keys(r).forEach(function(a){var s=e.modifiersClassNames[a];if(s)n.push(s);else if(e8e(a)){var i=e.classNames["day_".concat(a)];i&&n.push(i)}}),n}function r8e(e,r){var n=Ot({},e.styles.day);return Object.keys(r).forEach(function(a){var s;n=Ot(Ot({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[a])}),n}function n8e(e,r,n){var a,s,i,o=Lr(),c=LP(),u=Y5e(e,r),d=Q5e(e,u),f=Z5e(),h=!!(o.onDayClick||o.mode!=="default");y.useEffect(function(){var N;u.outside||c.focusedDay&&h&&ks(c.focusedDay,e)&&((N=n.current)===null||N===void 0||N.focus())},[c.focusedDay,e,n,h,u.outside]);var m=t8e(o,u).join(" "),p=r8e(o,u),g=!!(u.outside&&!o.showOutsideDays||u.hidden),v=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:j5e,x=l.jsx(v,{date:e,displayMonth:r,activeModifiers:u}),w={style:p,className:m,children:x,role:"gridcell"},b=c.focusTarget&&ks(c.focusTarget,e)&&!u.outside,_=c.focusedDay&&ks(c.focusedDay,e),S=Ot(Ot(Ot({},w),(a={disabled:u.disabled,role:"gridcell"},a["aria-selected"]=u.selected,a.tabIndex=_||b?0:-1,a)),d),j={isButton:h,isHidden:g,activeModifiers:u,selectedDays:f,buttonProps:S,divProps:w};return j}function a8e(e){var r=y.useRef(null),n=n8e(e.date,e.displayMonth,r);return n.isHidden?l.jsx("div",{role:"gridcell"}):n.isButton?l.jsx($w,Ot({name:"day",ref:r},n.buttonProps)):l.jsx("div",Ot({},n.divProps))}function s8e(e){var r=e.number,n=e.dates,a=Lr(),s=a.onWeekNumberClick,i=a.styles,o=a.classNames,c=a.locale,u=a.labels.labelWeekNumber,d=a.formatters.formatWeekNumber,f=d(Number(r),{locale:c});if(!s)return l.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:f});var h=u(Number(r),{locale:c}),m=function(p){s(r,n,p)};return l.jsx($w,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:m,children:f})}function i8e(e){var r,n,a=Lr(),s=a.styles,i=a.classNames,o=a.showWeekNumber,c=a.components,u=(r=c==null?void 0:c.Day)!==null&&r!==void 0?r:a8e,d=(n=c==null?void 0:c.WeekNumber)!==null&&n!==void 0?n:s8e,f;return o&&(f=l.jsx("td",{className:i.cell,style:s.cell,children:l.jsx(d,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:i.row,style:s.row,children:[f,e.dates.map(function(h){return l.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:l.jsx(u,{displayMonth:e.displayMonth,date:h})},Gse(h))})]})}function P$(e,r,n){for(var a=n!=null&&n.ISOWeek?$U(r):OA(r,n),s=n!=null&&n.ISOWeek?gf(e):wl(e,n),i=ll(a,s),o=[],c=0;c<=i;c++)o.push(es(s,c));var u=o.reduce(function(d,f){var h=n!=null&&n.ISOWeek?UU(f):zU(f,n),m=d.find(function(p){return p.weekNumber===h});return m?(m.dates.push(f),d):(d.push({weekNumber:h,dates:[f]}),d)},[]);return u}function o8e(e,r){var n=P$(As(e),T_(e),r);if(r!=null&&r.useFixedWeeks){var a=Xse(e,r);if(a<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],o=z2(i,6-a),c=P$(z2(i,1),o,r);n.push.apply(n,c)}}return n}function l8e(e){var r,n,a,s=Lr(),i=s.locale,o=s.classNames,c=s.styles,u=s.hideHead,d=s.fixedWeeks,f=s.components,h=s.weekStartsOn,m=s.firstWeekContainsDate,p=s.ISOWeek,g=o8e(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:i,weekStartsOn:h,firstWeekContainsDate:m}),v=(r=f==null?void 0:f.Head)!==null&&r!==void 0?r:S5e,x=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:i8e,w=(a=f==null?void 0:f.Footer)!==null&&a!==void 0?a:b5e;return l.jsxs("table",{id:e.id,className:o.table,style:c.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!u&&l.jsx(v,{}),l.jsx("tbody",{className:o.tbody,style:c.tbody,children:g.map(function(b){return l.jsx(x,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),l.jsx(w,{displayMonth:e.displayMonth})]})}function c8e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var u8e=c8e()?y.useLayoutEffect:y.useEffect,dN=!1,d8e=0;function D$(){return"react-day-picker-".concat(++d8e)}function f8e(e){var r,n=e??(dN?D$():null),a=y.useState(n),s=a[0],i=a[1];return u8e(function(){s===null&&i(D$())},[]),y.useEffect(function(){dN===!1&&(dN=!0)},[]),(r=e??s)!==null&&r!==void 0?r:void 0}function h8e(e){var r,n,a=Lr(),s=a.dir,i=a.classNames,o=a.styles,c=a.components,u=Hx().displayMonths,d=f8e(a.id?"".concat(a.id,"-").concat(e.displayIndex):void 0),f=a.id?"".concat(a.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],m=o.month,p=e.displayIndex===0,g=e.displayIndex===u.length-1,v=!p&&!g;s==="rtl"&&(r=[p,g],g=r[0],p=r[1]),p&&(h.push(i.caption_start),m=Ot(Ot({},m),o.caption_start)),g&&(h.push(i.caption_end),m=Ot(Ot({},m),o.caption_end)),v&&(h.push(i.caption_between),m=Ot(Ot({},m),o.caption_between));var x=(n=c==null?void 0:c.Caption)!==null&&n!==void 0?n:y5e;return l.jsxs("div",{className:h.join(" "),style:m,children:[l.jsx(x,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(l8e,{id:f,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function m8e(e){var r=Lr(),n=r.classNames,a=r.styles;return l.jsx("div",{className:n.months,style:a.months,children:e.children})}function p8e(e){var r,n,a=e.initialProps,s=Lr(),i=LP(),o=Hx(),c=y.useState(!1),u=c[0],d=c[1];y.useEffect(function(){s.initialFocus&&i.focusTarget&&(u||(i.focus(i.focusTarget),d(!0)))},[s.initialFocus,u,i.focus,i.focusTarget,i]);var f=[s.classNames.root,s.className];s.numberOfMonths>1&&f.push(s.classNames.multiple_months),s.showWeekNumber&&f.push(s.classNames.with_weeknumber);var h=Ot(Ot({},s.styles.root),s.style),m=Object.keys(a).filter(function(g){return g.startsWith("data-")}).reduce(function(g,v){var x;return Ot(Ot({},g),(x={},x[v]=a[v],x))},{}),p=(n=(r=a.components)===null||r===void 0?void 0:r.Months)!==null&&n!==void 0?n:m8e;return l.jsx("div",Ot({className:f.join(" "),style:h,dir:s.dir,id:s.id,nonce:a.nonce,title:a.title,lang:a.lang},m,{children:l.jsx(p,{children:o.displayMonths.map(function(g,v){return l.jsx(h8e,{displayIndex:v,displayMonth:g},v)})})}))}function g8e(e){var r=e.children,n=B$e(e,["children"]);return l.jsx(s5e,{initialProps:n,children:l.jsx(p5e,{children:l.jsx(X5e,{initialProps:n,children:l.jsx(k5e,{initialProps:n,children:l.jsx(E5e,{initialProps:n,children:l.jsx(M5e,{children:l.jsx(G5e,{children:r})})})})})})})}function v8e(e){return l.jsx(g8e,Ot({},e,{children:l.jsx(p8e,{initialProps:e})}))}function wG({className:e,classNames:r,showOutsideDays:n=!0,...a}){return l.jsx(v8e,{showOutsideDays:n,className:ge("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ge($m({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ge($m({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:({...s})=>l.jsx(bie,{className:"h-4 w-4"}),IconRight:({...s})=>l.jsx(O_,{className:"h-4 w-4"})},...a})}wG.displayName="Calendar";function BP({onSearch:e,onFilterStatus:r,onFilterAssignee:n,onFilterDateRange:a,users:s=[],statuses:i=[],placeholder:o,className:c}){const{t:u}=Kt(),{currentLanguage:d}=Wa(),[f,h]=y.useState(""),[m,p]=y.useState({from:void 0,to:void 0}),g=d==="ar"?$$e:void 0;y.useEffect(()=>{const w=setTimeout(()=>{e(f)},300);return()=>clearTimeout(w)},[f,e]);const v=w=>{p(w),a&&a(w)},x=()=>{h(""),p({from:void 0,to:void 0}),r&&r("all"),n&&n("all"),a&&a({from:void 0,to:void 0})};return l.jsxs("div",{className:ge("flex flex-col sm:flex-row gap-3 mb-6",c),children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Ws,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground rtl:right-2.5 rtl:left-auto"}),l.jsx(We,{placeholder:o||u("common.search","Search..."),value:f,onChange:w=>h(w.target.value),className:"pl-9 rtl:pr-9 rtl:pl-3"})]}),l.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:[r&&i.length>0&&l.jsxs(kt,{onValueChange:r,children:[l.jsxs(St,{className:"w-[140px]",children:[l.jsx(Cie,{className:"mr-2 h-4 w-4"}),l.jsx(Nt,{placeholder:u("common.status","Status")})]}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"all",children:u("common.all","All")}),i.map(w=>l.jsx(Oe,{value:w.value,children:w.label},w.value))]})]}),n&&s.length>0&&l.jsxs(kt,{onValueChange:n,children:[l.jsxs(St,{className:"w-[140px]",children:[l.jsx(x8e,{className:"mr-2 h-4 w-4"}),l.jsx(Nt,{placeholder:u("common.assignee","Assignee")})]}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"all",children:u("common.all","All")}),s.filter(w=>["employee","admin","manager","team_leader"].includes(w.user_role)).map(w=>l.jsx(Oe,{value:w.user_id.toString(),children:Te(w,"user_name")},w.user_id))]})]}),a&&l.jsxs(Sa,{children:[l.jsx(ja,{asChild:!0,children:l.jsxs(le,{variant:"outline",className:ge("w-[240px] justify-start text-left font-normal",!m.from&&"text-muted-foreground"),children:[l.jsx(Ao,{className:"mr-2 h-4 w-4"}),m.from?m.to?l.jsxs(l.Fragment,{children:[fs(m.from,"LLL dd, y",{locale:g})," -"," ",fs(m.to,"LLL dd, y",{locale:g})]}):fs(m.from,"LLL dd, y",{locale:g}):l.jsx("span",{children:u("common.pickDate","Pick a date")})]})}),l.jsx(ia,{className:"w-auto p-0",align:"start",children:l.jsx(wG,{initialFocus:!0,mode:"range",defaultMonth:m.from,selected:m,onSelect:v,numberOfMonths:2})})]}),l.jsx(le,{variant:"ghost",size:"icon",onClick:x,title:u("common.clearFilters","Clear filters"),children:l.jsx(Po,{className:"h-4 w-4"})})]})]})}function x8e(e){return l.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),l.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}var _G="AlertDialog",[y8e,kXe]=vs(_G,[mz]),Dc=mz(),SG=e=>{const{__scopeAlertDialog:r,...n}=e,a=Dc(r);return l.jsx(J_,{...a,...n,modal:!0})};SG.displayName=_G;var b8e="AlertDialogTrigger",jG=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=Dc(n);return l.jsx(gO,{...s,...a,ref:r})});jG.displayName=b8e;var w8e="AlertDialogPortal",kG=e=>{const{__scopeAlertDialog:r,...n}=e,a=Dc(r);return l.jsx(Q_,{...a,...n})};kG.displayName=w8e;var _8e="AlertDialogOverlay",NG=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=Dc(n);return l.jsx(Lp,{...s,...a,ref:r})});NG.displayName=_8e;var um="AlertDialogContent",[S8e,j8e]=y8e(um),k8e=Soe("AlertDialogContent"),CG=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,children:a,...s}=e,i=Dc(n),o=y.useRef(null),c=qt(r,o),u=y.useRef(null);return l.jsx(Rfe,{contentName:um,titleName:EG,docsSlug:"alert-dialog",children:l.jsx(S8e,{scope:n,cancelRef:u,children:l.jsxs($p,{role:"alertdialog",...i,...s,ref:c,onOpenAutoFocus:rt(s.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=u.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[l.jsx(k8e,{children:a}),l.jsx(C8e,{contentRef:o})]})})})});CG.displayName=um;var EG="AlertDialogTitle",TG=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=Dc(n);return l.jsx(Ex,{...s,...a,ref:r})});TG.displayName=EG;var AG="AlertDialogDescription",OG=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=Dc(n);return l.jsx(Tx,{...s,...a,ref:r})});OG.displayName=AG;var N8e="AlertDialogAction",PG=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=Dc(n);return l.jsx(Z_,{...s,...a,ref:r})});PG.displayName=N8e;var DG="AlertDialogCancel",RG=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,{cancelRef:s}=j8e(DG,n),i=Dc(n),o=qt(r,s);return l.jsx(Z_,{...i,...a,ref:o})});RG.displayName=DG;var C8e=({contentRef:e})=>{const r=`\`${um}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${um}\` by passing a \`${AG}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${um}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},E8e=SG,T8e=jG,A8e=kG,IG=NG,MG=CG,FG=PG,LG=RG,$G=TG,BG=OG;const gi=E8e,Cf=T8e,O8e=A8e,UG=y.forwardRef(({className:e,...r},n)=>l.jsx(IG,{className:ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:n}));UG.displayName=IG.displayName;const Ms=y.forwardRef(({className:e,...r},n)=>l.jsxs(O8e,{children:[l.jsx(UG,{}),l.jsx(MG,{ref:n,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r})]}));Ms.displayName=MG.displayName;const Fs=({className:e,...r})=>l.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",e),...r});Fs.displayName="AlertDialogHeader";const Ls=({className:e,...r})=>l.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});Ls.displayName="AlertDialogFooter";const $s=y.forwardRef(({className:e,...r},n)=>l.jsx($G,{ref:n,className:ge("text-lg font-semibold",e),...r}));$s.displayName=$G.displayName;const Bs=y.forwardRef(({className:e,...r},n)=>l.jsx(BG,{ref:n,className:ge("text-sm text-muted-foreground",e),...r}));Bs.displayName=BG.displayName;const Us=y.forwardRef(({className:e,...r},n)=>l.jsx(FG,{ref:n,className:ge($m(),e),...r}));Us.displayName=FG.displayName;const Vs=y.forwardRef(({className:e,...r},n)=>l.jsx(LG,{ref:n,className:ge($m({variant:"outline"}),"mt-2 sm:mt-0",e),...r}));Vs.displayName=LG.displayName;const ma=y.forwardRef(({className:e,...r},n)=>l.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ma.displayName="Textarea";function qx({stages:e,currentStageId:r,onStageChange:n,children:a}){const s=wn(),i=y.useRef(null),o=e.find(c=>c.id===r)??e[0];return y.useEffect(()=>{s&&i.current&&i.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[o==null?void 0:o.id,s]),s?l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-20 shadow-sm",children:l.jsx("div",{className:"w-full overflow-x-auto scrollbar-hide",dir:nr()?"ltr":"rtl",children:l.jsx("div",{className:"flex gap-2 p-3 min-w-max rtl:flex-row-reverse",children:[...e].sort((c,u)=>(nr(),c.id-u.id)).map(c=>{const u=c.id===o.id;return l.jsxs("button",{ref:u?i:null,onClick:()=>n(c.id),className:ge("inline-flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all font-medium text-sm border-2 flex-shrink-0",u?"bg-primary text-primary-foreground shadow-md border-primary":"bg-card text-muted-foreground hover:bg-accent hover:text-accent-foreground border-border"),children:[l.jsx("span",{className:"truncate max-w-[140px]",children:c.name}),l.jsx(ft,{variant:"secondary",className:ge("h-5 min-w-5 px-1.5 text-xs font-semibold",u?"bg-primary-foreground/20 text-primary-foreground border-primary-foreground/30":"bg-muted"),children:c.count})]},c.id)})})})}),l.jsx("div",{className:"flex-1 overflow-auto scrollbar-hide",children:l.jsx("div",{className:"p-2",children:a})})]}):l.jsx(l.Fragment,{children:a})}var JS="Tabs",[P8e,NXe]=vs(JS,[H_]),VG=H_(),[D8e,UP]=P8e(JS),zG=y.forwardRef((e,r)=>{const{__scopeTabs:n,value:a,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:c,activationMode:u="automatic",...d}=e,f=yx(c),[h,m]=bc({prop:a,onChange:s,defaultProp:i??"",caller:JS});return l.jsx(D8e,{scope:n,baseId:ha(),value:h,onValueChange:m,orientation:o,dir:f,activationMode:u,children:l.jsx(mt.div,{dir:f,"data-orientation":o,...d,ref:r})})});zG.displayName=JS;var WG="TabsList",HG=y.forwardRef((e,r)=>{const{__scopeTabs:n,loop:a=!0,...s}=e,i=UP(WG,n),o=VG(n);return l.jsx(xV,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:l.jsx(mt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:r})})});HG.displayName=WG;var qG="TabsTrigger",KG=y.forwardRef((e,r)=>{const{__scopeTabs:n,value:a,disabled:s=!1,...i}=e,o=UP(qG,n),c=VG(n),u=XG(o.baseId,a),d=JG(o.baseId,a),f=a===o.value;return l.jsx(yV,{asChild:!0,...c,focusable:!s,active:f,children:l.jsx(mt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:r,onMouseDown:rt(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(a):h.preventDefault()}),onKeyDown:rt(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(a)}),onFocus:rt(e.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!s&&h&&o.onValueChange(a)})})})});KG.displayName=qG;var GG="TabsContent",YG=y.forwardRef((e,r)=>{const{__scopeTabs:n,value:a,forceMount:s,children:i,...o}=e,c=UP(GG,n),u=XG(c.baseId,a),d=JG(c.baseId,a),f=a===c.value,h=y.useRef(f);return y.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),l.jsx(Ha,{present:s||f,children:({present:m})=>l.jsx(mt.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!m,id:d,tabIndex:0,...o,ref:r,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});YG.displayName=GG;function XG(e,r){return`${e}-trigger-${r}`}function JG(e,r){return`${e}-content-${r}`}var R8e=zG,QG=HG,ZG=KG,eY=YG;const Cl=R8e,Lo=y.forwardRef(({className:e,...r},n)=>l.jsx(QG,{ref:n,className:ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));Lo.displayName=QG.displayName;const tn=y.forwardRef(({className:e,...r},n)=>l.jsx(ZG,{ref:n,className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...r}));tn.displayName=ZG.displayName;const Pn=y.forwardRef(({className:e,...r},n)=>l.jsx(eY,{ref:n,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));Pn.displayName=eY.displayName;function VP({relatedType:e,relatedId:r,notes:n,onNotesChange:a}){const{t:s}=Kt(),{user:i}=xr(),[o,c]=y.useState(""),[u,d]=y.useState(null),[f,h]=y.useState(""),[m,p]=y.useState(null),[g,v]=y.useState(!1),x=async()=>{if(!(!o.trim()||!(i!=null&&i.id))){v(!0);try{await im.create({content:o.trim(),related_to_type:e,related_to_id:r,created_by:i.id}),c(""),a()}catch(S){console.error("Failed to create note:",S)}finally{v(!1)}}},w=async S=>{if(f.trim()){v(!0);try{await im.update(S,f.trim()),d(null),h(""),a()}catch(j){console.error("Failed to update note:",j)}finally{v(!1)}}},b=async()=>{if(m){v(!0);try{await im.delete(m),p(null),a()}catch(S){console.error("Failed to delete note:",S)}finally{v(!1)}}},_=S=>{if(!S)return"";try{return qse(new Date(S),{addSuffix:!0})}catch{return S}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ma,{value:o,onChange:S=>c(S.target.value),placeholder:s("notes.placeholder"),rows:3,className:"resize-none"}),l.jsxs(le,{onClick:x,disabled:!o.trim()||g,className:"w-full",children:[l.jsx(Oo,{className:"h-4 w-4 mr-2"}),s("notes.save")]})]}),l.jsx("div",{className:"space-y-3",children:n.length===0?l.jsx("p",{className:"text-center text-muted-foreground py-8",children:s("notes.noNotes")}):n.map(S=>{var k;const j=u===S.note_id,N=S.created_by===(i==null?void 0:i.id);return l.jsxs("div",{className:"border rounded-lg p-4 space-y-2 bg-card",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[(k=S.user)!=null&&k.avatar?l.jsx("img",{src:S.user.avatar,alt:Te(S.user,"user_name"),className:"h-8 w-8 rounded-full flex-shrink-0"}):l.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-xs font-semibold text-primary",children:S.user?Te(S.user,"user_name")[0]:"?"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:S.user?Te(S.user,"user_name"):s("notes.unknown")}),l.jsx("p",{className:"text-xs text-muted-foreground",children:_(S.created_at)})]})]}),N&&!j&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{d(S.note_id),h(S.content)},children:l.jsx(Vi,{className:"h-3.5 w-3.5"})}),l.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive",onClick:()=>p(S.note_id),children:l.jsx(wr,{className:"h-3.5 w-3.5"})})]})]}),j?l.jsxs("div",{className:"space-y-2",children:[l.jsx(ma,{value:f,onChange:E=>h(E.target.value),rows:3,className:"resize-none"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(le,{size:"sm",onClick:()=>w(S.note_id),disabled:!f.trim()||g,children:[l.jsx(Oo,{className:"h-3.5 w-3.5 mr-1"}),s("notes.save")]}),l.jsxs(le,{size:"sm",variant:"outline",onClick:()=>{d(null),h("")},children:[l.jsx(Po,{className:"h-3.5 w-3.5 mr-1"}),s("buttons.cancel")]})]})]}):l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:S.content})]},S.note_id)})}),l.jsx(gi,{open:!!m,onOpenChange:()=>p(null),children:l.jsxs(Ms,{children:[l.jsxs(Fs,{children:[l.jsx($s,{children:s("notes.delete")}),l.jsx(Bs,{children:s("notes.deleteConfirmation")})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:s("buttons.cancel")}),l.jsx(Us,{onClick:b,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:s("buttons.delete")})]})]})})]})}function tY({priority:e=3,size:r="sm",showCount:n=!1,className:a}){const s=e||3,i={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return l.jsxs("div",{className:ge("flex items-center gap-0.5",a),children:[[1,2,3,4,5].map(o=>l.jsx(r9,{className:ge(i[r],o<=s?"fill-yellow-400 text-yellow-400":"fill-none text-gray-300 dark:text-gray-600")},o)),n&&l.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",s,"/5)"]})]})}function I8e({leadId:e}){const{t:r}=Kt(),{isRTL:n}=Wa(),{user:a}=xr(),[s,i]=y.useState(null),[o,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),[m,p]=y.useState(""),[g,v]=y.useState([]),[x,w]=y.useState(!0),[b,_]=y.useState(!1),[S,j]=y.useState([]),[N,k]=y.useState([]),[E,C]=y.useState([]),[A,D]=y.useState({lead_name:"",lead_description:"",client_user_id:"",stage:"",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});y.useEffect(()=>{W(),T()},[e]);const T=async()=>{try{const X=await dn.getAll().then(ee=>ee.filter(P=>P.user_role==="client"));C(X)}catch(X){console.error("Failed to load clients:",X)}},W=async()=>{var X,ee,P;try{w(!0);const[J,V,K]=await Promise.all([Nd.getById(e),is.getByType("leads"),dn.getAll()]);if(i(J),j(V),k(K),!J)return;if(D({lead_name:J.lead_name||"",lead_description:J.lead_description||"",client_user_id:J.client_user_id||"",stage:((X=J.stage)==null?void 0:X.toString())||"",assigned_to:J.assigned_to||"",value:((ee=J.value)==null?void 0:ee.toString())||"",currency:J.currency||"SAR",priority:((P=J.priority)==null?void 0:P.toString())||"3",expected_close_date:J.expected_close_date||""}),J.client_user_id){const ie=await dn.getByAuthId(J.client_user_id);c(ie)}if(J.created_by){const ie=K.find(oe=>oe.auth_user_id===J.created_by)||null;d(ie)}if(J.assigned_to){const ie=K.find(oe=>oe.auth_user_id===J.assigned_to)||null;h(ie)}if(J.stage){const ie=V.find(oe=>oe.stage_id===J.stage);ie&&p(Te(ie,"stage_name"))}q()}catch(J){console.error("Failed to load lead data:",J)}finally{w(!1)}},q=async()=>{try{const X=await im.getByRelated("lead",e);v(X)}catch(X){console.error("Failed to load notes:",X)}},L=async()=>{if(s)try{const X=A.assigned_to&&A.assigned_to!=="unassigned"?A.assigned_to:null,ee=bl({lead_name:A.lead_name,lead_description:A.lead_description||null,client_user_id:A.client_user_id||null,stage:parseInt(A.stage),assigned_to:X,value:A.value?parseFloat(A.value):null,currency:A.currency,priority:parseInt(A.priority),expected_close_date:A.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description"});await Nd.update(s.lead_id,ee);const P={...s,...ee};if(i(P),A.client_user_id){const V=E.find(K=>K.auth_user_id===A.client_user_id)||null;c(V)}if(X){const V=N.find(K=>K.auth_user_id===X)||null;h(V)}const J=S.find(V=>V.stage_id===parseInt(A.stage));J&&p(Te(J,"stage_name")),_(!1)}catch(X){console.error("Failed to update lead:",X)}},I=()=>{var X,ee,P;s&&D({lead_name:s.lead_name||"",lead_description:s.lead_description||"",client_user_id:s.client_user_id||"",stage:((X=s.stage)==null?void 0:X.toString())||"",assigned_to:s.assigned_to||"",value:((ee=s.value)==null?void 0:ee.toString())||"",currency:s.currency||"SAR",priority:((P=s.priority)==null?void 0:P.toString())||"3",expected_close_date:s.expected_close_date||""}),_(!1)},z=(X,ee)=>{if(X===null)return"-";const P=ee||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:P==="SAR"?"SAR":P}).format(X)},F=X=>X?new Date(X).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-";if(x)return l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})});if(!s)return l.jsx("div",{className:"text-center py-12 text-muted-foreground",children:r("leads.notFound")});const M=(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="manager";return l.jsxs("div",{className:"w-full",dir:n?"rtl":"ltr",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:r("leads.leadDetails")}),M&&!b&&l.jsxs(le,{onClick:()=>_(!0),variant:"outline",size:"sm",children:[l.jsx(Vi,{className:"h-4 w-4 mr-2"}),r("buttons.edit")]}),b&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(le,{onClick:I,variant:"outline",size:"sm",children:[l.jsx(Po,{className:"h-4 w-4 mr-2"}),r("buttons.cancel")]}),l.jsxs(le,{onClick:L,size:"sm",children:[l.jsx(Oo,{className:"h-4 w-4 mr-2"}),r("buttons.save")]})]})]}),l.jsxs(Cl,{defaultValue:"overview",className:"w-full",children:[l.jsxs(Lo,{className:"grid w-full grid-cols-2",children:[l.jsx(tn,{value:"overview",children:r("common.overview")}),l.jsx(tn,{value:"notes",children:r("notes.title")})]}),l.jsx(Pn,{value:"overview",className:"space-y-4 mt-4",children:b?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"lead_name",children:[r("leads.leadName")," *"]}),l.jsx(We,{id:"lead_name",value:A.lead_name,onChange:X=>D(ee=>({...ee,lead_name:X.target.value})),placeholder:r("leads.leadName")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"lead_description",children:r("leads.description")}),l.jsx(ma,{id:"lead_description",value:A.lead_description,onChange:X=>D(ee=>({...ee,lead_description:X.target.value})),placeholder:r("leads.description"),rows:3})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("leads.client")}),l.jsxs(kt,{value:A.client_user_id,onValueChange:X=>D(ee=>({...ee,client_user_id:X})),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:r("leads.selectClient")})}),l.jsx(jt,{children:E.filter(X=>X.auth_user_id).map(X=>l.jsx(Oe,{value:X.auth_user_id,children:Te(X,"user_name")},X.user_id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("common.stage")}),l.jsxs(kt,{value:A.stage,onValueChange:X=>D(ee=>({...ee,stage:X})),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:r("leads.selectStage")})}),l.jsx(jt,{children:S.map(X=>l.jsx(Oe,{value:X.stage_id.toString(),children:Te(X,"stage_name")},X.stage_id))})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("leads.value")}),l.jsx(We,{type:"number",min:"0",step:"0.01",value:A.value,onChange:X=>D(ee=>({...ee,value:X.target.value})),placeholder:"0.00"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("leads.currency")}),l.jsxs(kt,{value:A.currency,onValueChange:X=>D(ee=>({...ee,currency:X})),children:[l.jsx(St,{children:l.jsx(Nt,{})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"SAR",children:"SAR (.)"}),l.jsx(Oe,{value:"USD",children:"USD ($)"}),l.jsx(Oe,{value:"EUR",children:"EUR ()"}),l.jsx(Oe,{value:"GBP",children:"GBP ()"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("common.priority")}),l.jsxs(kt,{value:A.priority,onValueChange:X=>D(ee=>({...ee,priority:X})),children:[l.jsx(St,{children:l.jsx(Nt,{})}),l.jsxs(jt,{children:[l.jsxs(Oe,{value:"1",children:[" ",r("common.veryLow")]}),l.jsxs(Oe,{value:"2",children:[" ",r("common.low")]}),l.jsxs(Oe,{value:"3",children:[" ",r("common.medium")]}),l.jsxs(Oe,{value:"4",children:[" ",r("common.high")]}),l.jsxs(Oe,{value:"5",children:[" ",r("common.veryHigh")]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("leads.expectedCloseDate")}),l.jsx(We,{type:"date",value:A.expected_close_date,onChange:X=>D(ee=>({...ee,expected_close_date:X.target.value}))})]})]}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="manager")&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("leads.assignToEmployee")}),l.jsxs(kt,{value:A.assigned_to,onValueChange:X=>D(ee=>({...ee,assigned_to:X})),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:r("leads.selectAssignee")})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"unassigned",children:r("common.unassigned")}),N.filter(X=>["employee","admin","manager","team_leader"].includes(X.user_role)&&X.auth_user_id).map(X=>l.jsx(Oe,{value:X.auth_user_id,children:Te(X,"user_name")},X.user_id))]})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold",children:Te(s,"lead_name")}),Te(s,"lead_description")&&l.jsx("p",{className:"text-muted-foreground mt-1",children:Te(s,"lead_description")})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(bI,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r("common.priority")}),l.jsx(tY,{priority:s.priority,size:"sm"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[l.jsx(dg,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r("leads.value")}),l.jsx("p",{className:"text-lg font-semibold",children:z(s.value,s.currency)})]})]}),o&&l.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[l.jsx(un,{className:"h-5 w-5 text-primary mt-0.5"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r("leads.client")}),l.jsx("p",{className:"font-medium truncate",children:Te(o,"user_name")}),o.user_email&&l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:o.user_email})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(bI,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r("common.stage")}),l.jsx(ft,{variant:"secondary",children:m||"-"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Vn,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r("leads.assignedTo")}),l.jsx("p",{className:"font-medium",children:f?Te(f,"user_name"):r("common.unassigned")})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"p-3 rounded-lg border",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(Ao,{className:"h-3.5 w-3.5"}),r("common.created")]}),l.jsx("p",{className:"text-sm font-medium mt-1",children:F(s.created_date)})]}),u&&l.jsxs("div",{className:"p-3 rounded-lg border",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r("leads.createdBy")}),l.jsx("p",{className:"text-sm font-medium mt-1 truncate",children:Te(u,"user_name")})]})]})]})}),l.jsx(Pn,{value:"notes",className:"mt-4",children:l.jsx(VP,{relatedType:"lead",relatedId:e,notes:g,onNotesChange:q})})]})]})}function Kx({title:e,description:r,icon:n,actions:a,stats:s,className:i=""}){Kt();const o=wn();return l.jsxs("div",{className:ge("mb-6",i),children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[n&&l.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center flex-shrink-0 border border-primary/10 ring-4 ring-primary/5",children:typeof n=="function"?ne.createElement(n):n}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight text-foreground",children:e}),r&&l.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl text-sm",children:r})]})]}),a&&l.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:a})]}),s&&s.length>0&&!o&&l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mt-6",children:s.map((c,u)=>l.jsx(lt,{className:"p-2 md:p-3 hover:shadow-md transition-all hover:-translate-y-0.5 border-border/50",children:l.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[c.icon&&l.jsx("div",{className:"h-7 w-7 md:h-9 md:w-9 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:typeof c.icon=="function"?ne.createElement(c.icon):c.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:c.label}),l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsx("p",{className:"text-lg md:text-xl font-bold text-foreground truncate",children:c.value}),c.trend&&l.jsxs("span",{className:ge("text-xs font-medium",c.trend.isPositive?"text-green-600":"text-red-600"),children:[c.trend.isPositive?"+":"",c.trend.value,"%"]})]})]})]})},u))})]})}function uc({icon:e,title:r,description:n,action:a,className:s=""}){return l.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-4 ${s}`,children:[e&&l.jsx("div",{className:"h-24 w-24 rounded-full bg-muted/50 flex items-center justify-center mb-6 ring-4 ring-muted/20",children:typeof e=="function"?ne.createElement(e):e}),l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2 text-center",children:r}),l.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:n}),a]})}const zP=y.forwardRef(({className:e,...r},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:ge("w-full caption-bottom text-sm",e),...r})}));zP.displayName="Table";const WP=y.forwardRef(({className:e,...r},n)=>l.jsx("thead",{ref:n,className:ge("[&_tr]:border-b",e),...r}));WP.displayName="TableHeader";const HP=y.forwardRef(({className:e,...r},n)=>l.jsx("tbody",{ref:n,className:ge("[&_tr:last-child]:border-0",e),...r}));HP.displayName="TableBody";const M8e=y.forwardRef(({className:e,...r},n)=>l.jsx("tfoot",{ref:n,className:ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r}));M8e.displayName="TableFooter";const Gv=y.forwardRef(({className:e,...r},n)=>l.jsx("tr",{ref:n,className:ge("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...r}));Gv.displayName="TableRow";const po=y.forwardRef(({className:e,...r},n)=>l.jsx("th",{ref:n,className:ge("h-12 py-4 align-middle font-medium text-muted-foreground",nr()?"text-right px-2 [&:has([role=checkbox])]:px-4":"text-left px-4 [&:has([role=checkbox])]:px-6",e),...r}));po.displayName="TableHead";const go=y.forwardRef(({className:e,...r},n)=>l.jsx("td",{ref:n,className:ge("py-4 align-middle",nr()?"px-2 [&:has([role=checkbox])]:px-4":"px-4 [&:has([role=checkbox])]:px-6",e),...r}));go.displayName="TableCell";const F8e=y.forwardRef(({className:e,...r},n)=>l.jsx("caption",{ref:n,className:ge("mt-4 text-sm text-muted-foreground",e),...r}));F8e.displayName="TableCaption";var QS="Checkbox",[L8e,CXe]=vs(QS),[$8e,qP]=L8e(QS);function B8e(e){const{__scopeCheckbox:r,checked:n,children:a,defaultChecked:s,disabled:i,form:o,name:c,onCheckedChange:u,required:d,value:f="on",internal_do_not_use_render:h}=e,[m,p]=bc({prop:n,defaultProp:s??!1,onChange:u,caller:QS}),[g,v]=y.useState(null),[x,w]=y.useState(null),b=y.useRef(!1),_=g?!!o||!!g.closest("form"):!0,S={checked:m,disabled:i,setChecked:p,control:g,setControl:v,name:c,form:o,value:f,hasConsumerStoppedPropagationRef:b,required:d,defaultChecked:Du(s)?!1:s,isFormControl:_,bubbleInput:x,setBubbleInput:w};return l.jsx($8e,{scope:r,...S,children:U8e(h)?h(S):a})}var rY="CheckboxTrigger",nY=y.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:n,...a},s)=>{const{control:i,value:o,disabled:c,checked:u,required:d,setControl:f,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:g}=qP(rY,e),v=qt(s,f),x=y.useRef(u);return y.useEffect(()=>{const w=i==null?void 0:i.form;if(w){const b=()=>h(x.current);return w.addEventListener("reset",b),()=>w.removeEventListener("reset",b)}},[i,h]),l.jsx(mt.button,{type:"button",role:"checkbox","aria-checked":Du(u)?"mixed":u,"aria-required":d,"data-state":lY(u),"data-disabled":c?"":void 0,disabled:c,value:o,...a,ref:v,onKeyDown:rt(r,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:rt(n,w=>{h(b=>Du(b)?!0:!b),g&&p&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})})});nY.displayName=rY;var KP=y.forwardRef((e,r)=>{const{__scopeCheckbox:n,name:a,checked:s,defaultChecked:i,required:o,disabled:c,value:u,onCheckedChange:d,form:f,...h}=e;return l.jsx(B8e,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:c,required:o,onCheckedChange:d,name:a,form:f,value:u,internal_do_not_use_render:({isFormControl:m})=>l.jsxs(l.Fragment,{children:[l.jsx(nY,{...h,ref:r,__scopeCheckbox:n}),m&&l.jsx(oY,{__scopeCheckbox:n})]})})});KP.displayName=QS;var aY="CheckboxIndicator",sY=y.forwardRef((e,r)=>{const{__scopeCheckbox:n,forceMount:a,...s}=e,i=qP(aY,n);return l.jsx(Ha,{present:a||Du(i.checked)||i.checked===!0,children:l.jsx(mt.span,{"data-state":lY(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:r,style:{pointerEvents:"none",...e.style}})})});sY.displayName=aY;var iY="CheckboxBubbleInput",oY=y.forwardRef(({__scopeCheckbox:e,...r},n)=>{const{control:a,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:c,disabled:u,name:d,value:f,form:h,bubbleInput:m,setBubbleInput:p}=qP(iY,e),g=qt(n,p),v=eO(i),x=GA(a);y.useEffect(()=>{const b=m;if(!b)return;const _=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(_,"checked").set,N=!s.current;if(v!==i&&j){const k=new Event("click",{bubbles:N});b.indeterminate=Du(i),j.call(b,Du(i)?!1:i),b.dispatchEvent(k)}},[m,v,i,s]);const w=y.useRef(Du(i)?!1:i);return l.jsx(mt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:c,disabled:u,name:d,value:f,form:h,...r,tabIndex:-1,ref:g,style:{...r.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});oY.displayName=iY;function U8e(e){return typeof e=="function"}function Du(e){return e==="indeterminate"}function lY(e){return Du(e)?"indeterminate":e?"checked":"unchecked"}const Bw=y.forwardRef(({className:e,indeterminate:r,...n},a)=>l.jsx(KP,{ref:a,className:ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r&&"bg-primary text-primary-foreground",e),...n,children:l.jsx(sY,{className:ge("flex items-center justify-center text-current"),children:r?l.jsx(Pie,{className:"h-4 w-4"}):l.jsx(FA,{className:"h-4 w-4"})})}));Bw.displayName=KP.displayName;function kc({data:e,columns:r,actions:n=[],bulkActions:a=[],keyExtractor:s,onRowClick:i,emptyState:o,mobileCardRender:c,className:u,enableBulkSelect:d=!1,rowHeight:f}){const h=wn(),{t:m}=Kt(),[p,g]=y.useState(new Set),v=k=>{const E=new Set(p);E.has(k)?E.delete(k):E.add(k),g(E)},x=()=>{p.size===e.length?g(new Set):g(new Set(e.map(s)))},w=()=>{g(new Set)},b=()=>e.filter(k=>p.has(s(k))),_=k=>{const E=n.filter(C=>!C.show||C.show(k));return E.length===0?null:l.jsxs(dO,{children:[l.jsx(fO,{asChild:!0,onClick:C=>C.stopPropagation(),children:l.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(jie,{className:"h-4 w-4"})})}),l.jsx(Y_,{align:"end",children:E.map((C,A)=>l.jsxs(Xl,{onClick:D=>{D.stopPropagation(),C.onClick(k)},className:ge(C.variant==="destructive"&&"text-destructive focus:text-destructive"),children:[C.icon&&l.jsx("span",{className:"mr-2",children:C.icon}),C.label]},A))})]})};if(e.length===0)return o||l.jsx("div",{className:"text-center py-12 text-muted-foreground",children:m("common.noData","No data available")});if(h)return l.jsx("div",{className:ge("space-y-3 w-full overflow-hidden",u),children:e.map((k,E)=>c?l.jsx("div",{onClick:()=>i==null?void 0:i(k),className:"w-full",children:c(k,_(k))},s(k)):l.jsx(lt,{className:ge("w-full overflow-hidden transition-all",i&&"cursor-pointer hover:shadow-md active:scale-[0.99]"),onClick:()=>i==null?void 0:i(k),children:l.jsx(xt,{className:"p-4 w-full",children:l.jsxs("div",{className:"space-y-3 w-full",children:[r.filter(C=>!C.hideOnMobile).map((C,A)=>l.jsxs("div",{className:"flex items-start justify-between gap-2 w-full min-w-0",children:[l.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide flex-shrink-0",children:C.header}),l.jsx("div",{className:"text-sm text-right flex-shrink-0 max-w-[60%]",children:C.render(k,E)})]},C.key)),n.length>0&&l.jsx("div",{className:"pt-2 border-t flex justify-end",children:_(k)})]})})},s(k)))});const S=p.size,j=S===e.length&&e.length>0,N=S>0&&S<e.length;return l.jsxs("div",{className:"space-y-4",children:[d&&S>0&&l.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in slide-in-from-top-2",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-sm font-medium",children:[S," ",S===1?m("common.item","item"):m("common.items","items")," ",m("common.selected","selected")]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[a.map((k,E)=>l.jsxs(le,{variant:k.variant==="destructive"?"destructive":"outline",size:"sm",onClick:()=>k.onClick(b()),className:ge(k.variant==="destructive"&&"hover:bg-destructive/90"),children:[k.icon&&l.jsx("span",{className:"mr-2",children:k.icon}),k.label]},E)),l.jsx(le,{variant:"ghost",size:"sm",onClick:w,className:"text-muted-foreground hover:text-foreground",children:l.jsx(Po,{className:"h-4 w-4"})})]})]}),l.jsx(lt,{className:ge("overflow-hidden",u),children:l.jsx(xt,{className:"p-0",children:l.jsxs(zP,{children:[l.jsx(WP,{children:l.jsxs(Gv,{className:"bg-muted/50 hover:bg-muted/50 sticky top-0 z-20 shadow-sm",children:[d&&l.jsx(po,{className:"w-12",children:l.jsx(Bw,{checked:j,indeterminate:N,onCheckedChange:x,"aria-label":m("common.selectAll","Select all")})}),r.map(k=>l.jsx(po,{className:ge("font-semibold",k.className),children:k.header},k.key)),n.length>0&&l.jsx(po,{className:"w-[100px] text-right",children:m("common.actions")})]})}),l.jsx(HP,{children:e.map((k,E)=>{const C=s(k),A=p.has(C);return l.jsxs(Gv,{className:ge("group transition-colors",A&&"bg-primary/5",i&&"cursor-pointer hover:bg-muted/50",f),onClick:()=>i==null?void 0:i(k),children:[d&&l.jsx(go,{onClick:D=>D.stopPropagation(),children:l.jsx(Bw,{checked:A,onCheckedChange:()=>v(C),"aria-label":m("common.selectItem","Select item")})}),r.map(D=>l.jsx(go,{className:ge(D.className,"overflow-hidden"),children:D.render(k,E)},D.key)),n.length>0&&l.jsx(go,{className:"text-right",children:l.jsx("div",{children:_(k)})})]},C)})})]})})})]})}function cY({children:e,variant:r="secondary"}){return l.jsx(ft,{variant:r,className:"text-xs font-medium",children:e})}function vp({name:e,fallback:r="Unassigned"}){return l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Vn,{className:"h-3.5 w-3.5 text-muted-foreground"}),l.jsx("span",{className:ge(!e&&"text-muted-foreground"),children:e||r})]})}function Vu({date:e,fallback:r="Not set"}){return e?l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Ao,{className:"h-3.5 w-3.5 text-muted-foreground"}),l.jsx("span",{children:new Date(e).toLocaleDateString()})]}):l.jsx("span",{className:"text-muted-foreground",children:r})}function Nc({title:e,subtitle:r,icon:n}){return l.jsxs("div",{className:"flex items-center gap-2 min-w-0 w-full",children:[n&&(typeof n=="function"?ne.createElement(n):n),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"font-medium truncate text-sm break-words",children:e}),r&&l.jsx("div",{className:"text-xs text-muted-foreground truncate break-words",children:r})]})]})}function V8e({value:e,currency:r="SAR"}){return e==null?l.jsx("span",{className:"text-muted-foreground",children:"-"}):l.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(e)})}function z8e({lead:e,client:r,creator:n,assignedUser:a,userRole:s,users:i=[],onDelete:o,onEdit:c,onAssign:u,onClick:d,onDragStart:f,isDragging:h=!1}){const{t:m}=Kt(),p=wn(),g=x=>x?new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):m("leads.unknown"),v=(x,w)=>{if(x===null)return"-";const b=w||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:b}).format(x)};return l.jsxs(lt,{className:ge("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",p?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",h&&"opacity-50 rotate-2 scale-105"),onClick:d,draggable:!!f,onDragStart:x=>{f&&(x.dataTransfer.effectAllowed="move",x.dataTransfer.setData("text/plain",e.lead_id.toString()),f(e.lead_id))},children:[l.jsxs(Xt,{className:"pb-3 px-4 pt-4",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Te(e,"lead_name")}),Te(e,"lead_description")&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Te(e,"lead_description")})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[c&&(s==="admin"||s==="manager")&&l.jsx(le,{variant:"ghost",size:"sm",className:ge("h-8 w-8 p-0 text-muted-foreground hover:text-primary hover:bg-primary/10",p?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),onClick:x=>{x.stopPropagation(),c()},children:l.jsx(Vi,{className:"h-4 w-4"})}),o&&l.jsxs(gi,{children:[l.jsx(Cf,{asChild:!0,onClick:x=>x.stopPropagation(),children:l.jsx(le,{variant:"ghost",size:"sm",className:ge("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",p?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:l.jsx(wr,{className:"h-4 w-4"})})}),l.jsxs(Ms,{onClick:x=>x.stopPropagation(),children:[l.jsxs(Fs,{children:[l.jsx($s,{children:m("leads.deleteLead")}),l.jsx(Bs,{children:m("leads.deleteConfirmation",{name:Te(e,"lead_name")})})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:m("buttons.cancel")}),l.jsx(Us,{onClick:x=>{x.stopPropagation(),o(e.lead_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:m("buttons.delete")})]})]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between gap-2 mt-2",children:[l.jsx(tY,{priority:e.priority,size:"sm"}),e.expected_close_date&&l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(Ao,{className:"h-3 w-3"}),l.jsx("span",{children:g(e.expected_close_date)})]})]})]}),l.jsxs(xt,{className:"px-4 pb-4 space-y-3",children:[e.value!==null&&e.value!==void 0&&e.value>0&&l.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border border-green-200 dark:border-green-800/50",children:[l.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:l.jsx(dg,{className:"h-4 w-4 text-green-600 dark:text-green-500"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] uppercase tracking-wide text-green-700/70 dark:text-green-400/70 font-medium",children:m("leads.value")}),l.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-400 truncate",children:v(e.value,e.currency)})]})]}),r&&l.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors border border-border/50",children:[l.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(un,{className:"h-4 w-4 text-primary"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] uppercase tracking-wide text-muted-foreground font-medium",children:m("leads.client")}),l.jsx("p",{className:"text-sm font-semibold truncate",children:Te(r,"user_name")})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n&&l.jsxs("div",{className:"flex items-start gap-1.5",children:[l.jsx(Vn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] text-muted-foreground",children:m("leads.createdBy")}),l.jsx("p",{className:"text-xs font-medium truncate",children:Te(n,"user_name")})]})]}),l.jsxs("div",{className:"flex items-start gap-1.5",children:[l.jsx(Vn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] text-muted-foreground",children:m("leads.assignedTo")}),l.jsx("p",{className:"text-xs font-medium truncate",children:a?Te(a,"user_name"):m("common.all","Unassigned")})]})]})]}),l.jsx("div",{className:"pt-1",children:l.jsxs(kt,{value:e.assigned_to||"unassigned",onValueChange:x=>u&&u(e.lead_id,x==="unassigned"?"":x),children:[l.jsx(St,{className:"h-7 text-xs",children:l.jsx(Nt,{placeholder:m("leads.selectAssignee","Select assignee")})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"unassigned",children:m("common.all","Unassigned")}),i.map(x=>l.jsx(Oe,{value:(x.userid||x.userid||"").toString(),children:Te(x,"user_name")},x.userid))]})]})})]}),l.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[l.jsx(Ao,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:g(e.created_date)})]}),l.jsx(ft,{variant:"secondary",className:"text-xs",children:m("leads.lead")})]})]})]})}function W8e(){var pt,se,he;zs();const{hasRole:e,user:r}=xr(),n=wn(),{t:a}=Kt(),{setBreadcrumbs:s}=px();y.useEffect(()=>{s([{label:a("navigation.dashboard"),href:"/dashboard"},{label:a("navigation.leads")}])},[a,s]);const[i,o]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState([]),[h,m]=y.useState([]),[p,g]=y.useState(!0);y.useState(!1),y.useState("");const[v,x]=y.useState(null),[w,b]=y.useState(""),[_,S]=y.useState(null),[j,N]=y.useState(null),[k,E]=y.useState(!1),[C,A]=y.useState(null),[D,T]=y.useState("kanban"),[W,q]=y.useState(null),[L,I]=y.useState(""),[z,F]=y.useState("all"),[M,X]=y.useState("all"),[ee,P]=y.useState({from:void 0,to:void 0}),J=y.useMemo(()=>i.filter(B=>{const ue=(B.lead_name||"").toLowerCase().includes(L.toLowerCase())||(B.lead_description||"").toLowerCase().includes(L.toLowerCase())||(B.client_name||"").toLowerCase().includes(L.toLowerCase()),be=M==="all"||B.assigned_to&&B.assigned_to===M;let ve=!0;if(ee.from&&B.created_date){const Be=new Date(B.created_date),je=new Date(ee.from);je.setHours(0,0,0,0);const ke=new Date(Be);if(ke.setHours(0,0,0,0),ve=ke>=je,ve&&ee.to){const me=new Date(ee.to);me.setHours(23,59,59,999),ve=ke<=me}}else ee.from&&!B.created_date&&(ve=!1);return ue&&be&&ve}),[i,L,z,M,ee]),[V,K]=y.useState({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});y.useEffect(()=>{ie()},[]),y.useEffect(()=>{if(h.length>0&&C===null){const B=h.find(ue=>ue.stage_id===1);B&&A(B.stage_id)}},[h,C]);const ie=async()=>{try{g(!0);const[B,ue,be,ve]=await Promise.all([Nd.getAll(),dn.getAll(),Fb.getAll(),is.getByType("leads")]);console.log("[Leads] Loaded data:",{leads:B.length,clients:be.length,users:ue.length,stages:ve.length}),console.log("[Leads] Leads data:",B),console.log("[Leads] Stages data:",ve),o(B),u(be),f(ue),m(ve)}catch(B){console.error("Failed to load data:",B)}finally{g(!1)}},oe=async B=>{if(w.trim())try{await is.update(B,{stage_name:w.trim()}),m(h.map(ue=>ue.stage_id===B?{...ue,stage_name:w.trim()}:ue)),x(null),b("")}catch(ue){console.error("Failed to update stage:",ue)}},ye=async B=>{if(i.filter(be=>be.stage===B).length>0){S(B);return}try{await is.delete(B),m(h.filter(be=>be.stage_id!==B))}catch(be){console.error("Failed to delete stage:",be)}},ae=async()=>{if(_)try{await is.delete(_),m(h.filter(B=>B.stage_id!==_)),S(null),ie()}catch(B){console.error("Failed to delete stage:",B)}},Q=B=>{N(B)},fe=B=>{B.preventDefault(),B.dataTransfer.dropEffect="move"},O=async B=>{if(!j)return;const ue=i.find(be=>be.lead_id===j);if(ue&&ue.stage!==B)try{await Nd.update(j,{stage:B}),o(i.map(be=>be.lead_id===j?{...be,stage:B}:be))}catch(be){console.error("Failed to update lead stage:",be)}N(null)},Le=async B=>{try{await Nd.delete(B),o(i.filter(ue=>ue.lead_id!==B))}catch(ue){console.error("Failed to delete lead:",ue)}},$e=async(B,ue)=>{const be=ue||null,ve=be?new Date().toISOString():null,Be=i.find(je=>je.lead_id===B);if(Be){o(i.map(je=>je.lead_id===B?{...je,assigned_to:be,assigned_at:ve}:je));try{await Nd.update(B,{assigned_to:be,assigned_at:ve})}catch(je){console.error("Failed to assign lead:",je),o(i.map(ke=>ke.lead_id===B?{...ke,assigned_to:Be.assigned_to,assigned_at:Be.assigned_at}:ke))}}},Me=B=>{K(ue=>({...ue,stage:B.toString()})),E(!0)},He=async()=>{if(V.lead_name.trim())try{const B=V.assigned_to&&V.assigned_to!=="unassigned"?V.assigned_to:null,ue=B?new Date().toISOString():null,be=bl({lead_name:V.lead_name.trim(),lead_description:V.lead_description.trim()||null,client_name:V.client_name.trim()||null,client_user_id:V.client_user_id||null,created_by:(r==null?void 0:r.id)||null,stage:parseInt(V.stage),assigned_to:B,assigned_at:ue,value:V.value?parseFloat(V.value):null,currency:V.currency||"SAR",priority:V.priority?parseInt(V.priority):3,expected_close_date:V.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description",client_name:"client_name"}),ve=await Nd.create(be);o([...i,ve]),K({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""}),E(!1)}catch(B){console.error("Failed to create lead:",B)}},Pe=h.filter(B=>B.stage_type==="leads").sort((B,ue)=>{const be=B.stager_order_index??0,ve=ue.stager_order_index??0;return be-ve}),bt=Pe.map(B=>({id:B.stage_id,name:Te(B,"stage_name"),color:B.color,count:J.filter(ue=>ue.stage===B.stage_id).length}));return p?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})}):l.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:nr()?"rtl":"ltr",children:[l.jsx(Kx,{title:a("leads.title"),description:a("leads.description","Manage and track all your sales leads"),icon:l.jsx(Fa,{className:"h-6 w-6 text-primary"}),actions:l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[l.jsx(le,{variant:D==="kanban"?"default":"ghost",size:"sm",onClick:()=>T("kanban"),className:"h-8 w-8 p-0",children:l.jsx(D_,{className:"h-4 w-4"})}),l.jsx(le,{variant:D==="list"?"default":"ghost",size:"sm",onClick:()=>T("list"),className:"h-8 w-8 p-0",children:l.jsx(Fm,{className:"h-4 w-4"})})]}),l.jsxs(le,{onClick:()=>E(!0),children:[l.jsx(lr,{className:"mr-2 h-4 w-4"})," ",a("leads.newLead")]})]}),stats:[{label:a("leads.totalLeads","Total Leads"),value:i.length,icon:l.jsx(Fa,{className:"h-5 w-5 text-primary"})},{label:a("leads.thisMonth","This Month"),value:i.filter(B=>{const ue=new Date(B.created_date),be=new Date;return ue.getMonth()===be.getMonth()&&ue.getFullYear()===be.getFullYear()}).length,icon:l.jsx(Ao,{className:"h-5 w-5 text-green-500"})},{label:a("leads.totalValue","Total Value"),value:`SAR ${i.reduce((B,ue)=>B+(ue.value||0),0).toLocaleString()}`,icon:l.jsx(dg,{className:"h-5 w-5 text-green-600"})},{label:a("leads.avgValue","Avg Value"),value:i.length>0?`SAR ${Math.round(i.reduce((B,ue)=>B+(ue.value||0),0)/i.length).toLocaleString()}`:"SAR 0",icon:l.jsx(dg,{className:"h-5 w-5 text-blue-500"})}]}),l.jsx(BP,{onSearch:I,onFilterAssignee:X,onFilterDateRange:P,users:d}),D==="kanban"?l.jsxs(qx,{stages:bt,currentStageId:C||((pt=bt[0])==null?void 0:pt.id),onStageChange:A,children:[l.jsx(On,{open:k,onOpenChange:E,children:l.jsxs(gn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(vn,{children:[l.jsx(xn,{children:a("leads.createLead")}),l.jsx(Va,{children:a("leads.createLeadDesc")})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium",children:[a("leads.leadName")," *"]}),l.jsx(We,{value:V.lead_name,onChange:B=>K(ue=>({...ue,lead_name:B.target.value})),placeholder:a("leads.leadNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.description")}),l.jsx(ma,{value:V.lead_description,onChange:B=>K(ue=>({...ue,lead_description:B.target.value})),placeholder:a("leads.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.clientName")}),l.jsx(We,{value:V.client_name,onChange:B=>K(ue=>({...ue,client_name:B.target.value})),placeholder:a("leads.clientNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.client")}),l.jsxs(kt,{value:V.client_user_id,onValueChange:B=>K(ue=>({...ue,client_user_id:B})),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:a("leads.selectClient")})}),l.jsx(jt,{children:c.filter(B=>B.userid||B.userid).map(B=>l.jsx(Oe,{value:(B.userid||B.userid||"").toString(),children:Te(B,"user_name")},B.userid))})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.value")}),l.jsx(We,{type:"number",min:"0",step:"0.01",value:V.value,onChange:B=>K(ue=>({...ue,value:B.target.value})),placeholder:"0.00"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.currency")}),l.jsxs(kt,{value:V.currency,onValueChange:B=>K(ue=>({...ue,currency:B})),children:[l.jsx(St,{children:l.jsx(Nt,{})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"SAR",children:"SAR (.)"}),l.jsx(Oe,{value:"USD",children:"USD ($)"}),l.jsx(Oe,{value:"EUR",children:"EUR ()"}),l.jsx(Oe,{value:"GBP",children:"GBP ()"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("common.priority")}),l.jsxs(kt,{value:V.priority,onValueChange:B=>K(ue=>({...ue,priority:B})),children:[l.jsx(St,{children:l.jsx(Nt,{})}),l.jsxs(jt,{children:[l.jsxs(Oe,{value:"1",children:[" ",a("common.veryLow")]}),l.jsxs(Oe,{value:"2",children:[" ",a("common.low")]}),l.jsxs(Oe,{value:"3",children:[" ",a("common.medium")]}),l.jsxs(Oe,{value:"4",children:[" ",a("common.high")]}),l.jsxs(Oe,{value:"5",children:[" ",a("common.veryHigh")]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.expectedCloseDate")}),l.jsx(We,{type:"date",value:V.expected_close_date,onChange:B=>K(ue=>({...ue,expected_close_date:B.target.value}))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.assignToEmployee")}),l.jsxs(kt,{value:V.assigned_to,onValueChange:B=>K(ue=>({...ue,assigned_to:B})),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:a("leads.selectAssignee","Select assignee")})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"unassigned",children:a("common.all","Unassigned")}),d.map(B=>l.jsx(Oe,{value:String(B.userid),children:Te(B,"user_name")},B.userid))]})]})]})]}),l.jsxs(Ua,{children:[l.jsx(le,{variant:"outline",onClick:()=>E(!1),children:a("buttons.cancel")}),l.jsxs(le,{onClick:He,disabled:!((se=V.lead_name)!=null&&se.trim()),children:[l.jsx(Oo,{className:"h-4 w-4 mr-2"}),a("leads.createLead")]})]})]})}),l.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0 flex-1",children:Pe.filter(B=>{var ue;return n?B.stage_id===(C||((ue=bt[0])==null?void 0:ue.id)):!0}).map((B,ue)=>{var me,Ee,Ie;const be=J.filter(Ue=>Ue.stage===B.stage_id),ve=be.reduce((Ue,Ve)=>Ue+(Ve.value||0),0),Be=new Set(be.filter(Ue=>Ue.value!==null&&Ue.currency).map(Ue=>Ue.currency)),je=Be.size===1?Array.from(Be)[0]:((me=be.find(Ue=>Ue.currency))==null?void 0:me.currency)||"SAR",ke=(Ue,Ve)=>new Intl.NumberFormat("en-US",{style:"currency",currency:Ve}).format(Ue);return console.log(`[Leads] Stage ${B.stage_name} (${B.stage_id}): ${be.length} leads`),console.log("[Leads] Stage leads:",be),l.jsxs("div",{className:ge("flex-shrink-0 animate-fade-in h-full flex flex-col",n?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${ue*.1}s`},onDragOver:fe,onDrop:()=>O(B.stage_id),children:[l.jsx("div",{className:ge("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft","sticky top-0 z-10",B.color||"border-l-4 border-primary/50","hidden md:block"),children:l.jsx("div",{className:"flex items-center justify-between mb-2 rtl:flex-row-reverse",children:v===B.stage_id?l.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[l.jsx(We,{value:w,onChange:Ue=>b(Ue.target.value),onKeyDown:Ue=>{Ue.key==="Enter"&&oe(B.stage_id),Ue.key==="Escape"&&(x(null),b(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),l.jsx(le,{size:"sm",variant:"ghost",onClick:()=>oe(B.stage_id),className:"h-8 w-8 p-0",children:""})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("h2",{className:"font-bold text-base",children:Te(B,"stage_name")})}),l.jsxs("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:[l.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm border",children:be.length}),l.jsxs(l.Fragment,{children:[l.jsx(le,{size:"sm",variant:"ghost",onClick:()=>Me(B.stage_id),className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary",title:a("leads.addLead"),children:l.jsx(lr,{className:"h-4 w-4"})}),l.jsx(le,{size:"sm",variant:"ghost",onClick:()=>{x(B.stage_id),b(Te(B,"stage_name"))},className:"h-6 w-6 p-0",title:a("buttons.edit"),children:l.jsx(Vi,{className:"h-3 w-3"})}),l.jsx(le,{size:"sm",variant:"ghost",onClick:()=>ye(B.stage_id),className:"h-6 w-6 p-0 text-destructive",title:a("buttons.delete"),children:l.jsx(wr,{className:"h-3 w-3"})})]})]})]})})}),l.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto pr-2 rtl:pr-0 rtl:pl-2 scrollbar-hide",children:[((Ee=h.sort((Ue,Ve)=>(Ue.stager_order_index||0)-(Ve.stager_order_index||0))[0])==null?void 0:Ee.stage_id)===B.stage_id&&l.jsx("div",{className:"mb-4",children:l.jsx(lt,{className:ge("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",n?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>Me(B.stage_id),children:l.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[l.jsx(lr,{className:"h-8 w-8"}),l.jsx("span",{className:"text-sm font-medium",children:a("leads.addNewLeadCard")})]})})}),be.map(Ue=>{const Ve=c.find(rr=>{var kr,$r;return((kr=rr.userid||rr.userid)==null?void 0:kr.toString())===(($r=Ue.client_user_id)==null?void 0:$r.toString())}),ht=d.find(rr=>{var kr,$r;return((kr=rr.userid||rr.userid)==null?void 0:kr.toString())===(($r=Ue.created_by)==null?void 0:$r.toString())}),Qt=d.find(rr=>{var kr,$r;return((kr=rr.userid||rr.userid)==null?void 0:kr.toString())===(($r=Ue.assigned_to)==null?void 0:$r.toString())});return l.jsx("div",{children:l.jsx(z8e,{lead:Ue,client:Ve||null,creator:ht||null,assignedUser:Qt||null,userRole:r==null?void 0:r.role,users:d,onDelete:()=>Le(Ue.lead_id),onEdit:()=>q(Ue.lead_id),onAssign:$e,onClick:()=>q(Ue.lead_id),onDragStart:Q,isDragging:j===Ue.lead_id})},Ue.lead_id)}),((Ie=h.sort((Ue,Ve)=>(Ue.stager_order_index||0)-(Ve.stager_order_index||0))[0])==null?void 0:Ie.stage_id)!==B.stage_id&&l.jsx("div",{className:"mt-2",children:l.jsxs(le,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>Me(B.stage_id),children:[l.jsx(lr,{className:"h-4 w-4 mr-2"}),a("leads.addLead")]})})]}),l.jsx("div",{className:ge("rounded-xl bg-muted/30 backdrop-blur p-3 mt-2 shadow-soft","sticky bottom-0 z-10","border-t-4 border-t-primary/30","hidden md:block"),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(dg,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:a("leads.stageTotal",{amount:""}).replace(":","").trim()})]}),l.jsx("span",{className:"text-lg font-bold text-primary",children:ke(ve,je)})]})})]},B.stage_id)})}),l.jsx(gi,{open:!!_,onOpenChange:()=>S(null),children:l.jsxs(Ms,{children:[l.jsxs(Fs,{children:[l.jsx($s,{children:a("leads.deleteStage")}),l.jsx(Bs,{children:a("leads.deleteStageConfirmation",{count:i.filter(B=>B.stage===_).length})})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:a("buttons.cancel")}),l.jsx(Us,{onClick:ae,className:"bg-destructive text-destructive-foreground",children:a("buttons.delete")})]})]})})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h2",{className:"text-lg font-semibold",children:[a("leads.title")," (",i.length,")"]}),l.jsx(On,{open:k,onOpenChange:E,children:l.jsxs(gn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(vn,{children:[l.jsx(xn,{children:a("leads.createLead")}),l.jsx(Va,{children:a("leads.createLeadDesc")})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium",children:[a("leads.leadName")," *"]}),l.jsx(We,{value:V.lead_name,onChange:B=>K(ue=>({...ue,lead_name:B.target.value})),placeholder:a("leads.leadNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.description")}),l.jsx(ma,{value:V.lead_description,onChange:B=>K(ue=>({...ue,lead_description:B.target.value})),placeholder:a("leads.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.clientName")}),l.jsx(We,{value:V.client_name,onChange:B=>K(ue=>({...ue,client_name:B.target.value})),placeholder:a("leads.clientNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.client")}),l.jsxs(kt,{value:V.client_user_id,onValueChange:B=>K(ue=>({...ue,client_user_id:B})),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:a("leads.selectClient")})}),l.jsx(jt,{children:c.filter(B=>B.userid).map(B=>l.jsx(Oe,{value:String(B.userid),children:Te(B,"user_name")},B.userid))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.assignToEmployee")}),l.jsxs(kt,{value:V.assigned_to,onValueChange:B=>K(ue=>({...ue,assigned_to:B})),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:a("leads.selectAssignee","Select assignee")})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"unassigned",children:a("common.all","Unassigned")}),d.map(B=>l.jsx(Oe,{value:String(B.userid),children:Te(B,"user_name")},B.userid))]})]})]})]}),l.jsxs(Ua,{children:[l.jsx(le,{variant:"outline",onClick:()=>E(!1),children:a("buttons.cancel")}),l.jsxs(le,{onClick:He,disabled:!((he=V.lead_name)!=null&&he.trim()),children:[l.jsx(Oo,{className:"h-4 w-4 mr-2"}),a("leads.createLead")]})]})]})})]}),(()=>{const B=[{key:"lead",header:a("leads.leadName"),render:ve=>l.jsx(Nc,{title:Te(ve,"lead_name"),subtitle:Te(ve,"lead_description")})},{key:"value",header:a("leads.value","Value"),render:ve=>l.jsx(V8e,{value:ve.value,currency:ve.currency||"SAR"})},{key:"client",header:a("leads.client"),hideOnMobile:!0,render:ve=>{const Be=c.find(je=>String(je.userid)===ve.client_user_id);return Be?Te(Be,"user_name"):a("leads.unknown")}},{key:"creator",header:a("leads.createdBy"),hideOnMobile:!0,render:ve=>{const Be=d.find(je=>String(je.userid)===ve.created_by);return l.jsx(vp,{name:Be?Te(Be,"user_name"):null,fallback:a("leads.unknown")})}},{key:"assignee",header:a("leads.assignedTo"),hideOnMobile:!0,render:ve=>{const Be=d.find(je=>String(je.userid)===ve.assigned_to);return l.jsx(vp,{name:Be?Te(Be,"user_name"):null,fallback:a("common.all","Unassigned")})}},{key:"stage",header:a("tasks.stage"),hideOnMobile:!0,render:ve=>{const Be=h.find(je=>je.stage_id===ve.stage);return Be?Te(Be,"stage_name"):a("leads.unknown")}},{key:"created",header:a("common.created"),hideOnMobile:!0,render:ve=>l.jsx(Vu,{date:ve.created_date,fallback:a("leads.notSet")})}],ue=[{label:a("common.view"),icon:l.jsx(ui,{className:"h-4 w-4"}),onClick:ve=>q(ve.lead_id)},{label:a("buttons.delete","Delete"),icon:l.jsx(wr,{className:"h-4 w-4"}),onClick:ve=>Le(ve.lead_id),variant:"destructive",show:()=>!0}],be=[{label:a("buttons.delete","Delete"),icon:l.jsx(wr,{className:"h-4 w-4"}),onClick:ve=>{ve.forEach(Be=>Le(Be.lead_id))},variant:"destructive"}];return l.jsx(kc,{data:J,columns:B,actions:ue,bulkActions:be,keyExtractor:ve=>ve.lead_id,onRowClick:ve=>q(ve.lead_id),enableBulkSelect:!0,emptyState:l.jsx(uc,{icon:l.jsx(Fa,{className:"h-12 w-12 text-muted-foreground/50"}),title:a("leads.noLeadsYet"),description:a("leads.createFirst","Create a lead to get started"),action:l.jsxs(le,{onClick:()=>E(!0),children:[l.jsx(lr,{className:"h-4 w-4 mr-2"}),a("leads.addLead")]})})})})()]}),l.jsx(Sl,{open:!!W,onOpenChange:()=>q(null),children:l.jsxs(Mo,{className:"w-full sm:max-w-[540px] overflow-y-auto",side:nr()?"left":"right",children:[l.jsxs(wc,{children:[l.jsx(jl,{children:a("leads.leadDetails")}),l.jsx(Ox,{children:a("leads.leadDetailsDesc")})]}),l.jsx("div",{className:"mt-6",children:W&&l.jsx(I8e,{leadId:W})})]})})]})}const GP={users:["users"],projects:["projects"],tasks:["tasks"],stages:["stages"],globalStages:["stages","global"],clients:["clients"],teams:["teams"],teamMembers:["teams","members"],tickets:["tickets"],projectUsers:e=>["projects",e,"users"],comments:e=>["tasks",e,"comments"],rooms:e=>["rooms",e],messages:e=>["messages",e],userProjects:e=>["users",e,"projects"]},H8e=()=>SA({queryKey:GP.users,queryFn:dn.getAll}),q8e=()=>SA({queryKey:GP.tasks,queryFn:ec.getAll,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),K8e=e=>SA({queryKey:[...GP.stages,"type",e],queryFn:()=>is.getByType(e)});function YP({message:e="Loading...",className:r=""}){return l.jsxs("div",{className:`flex flex-col items-center justify-center py-16 ${r}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(gx,{className:"h-16 w-16 text-primary animate-spin"}),l.jsx("div",{className:"absolute inset-0 h-16 w-16 rounded-full border-4 border-muted opacity-25"})]}),l.jsx("p",{className:"mt-6 text-sm text-muted-foreground animate-pulse font-medium",children:e})]})}function a0({title:e="Something went wrong",message:r,onRetry:n,className:a=""}){return l.jsxs("div",{className:`flex flex-col items-center justify-center py-12 ${a}`,children:[l.jsx("div",{className:"h-20 w-20 rounded-full bg-destructive/10 flex items-center justify-center mb-6 ring-4 ring-destructive/5",children:l.jsx(P_,{className:"h-10 w-10 text-destructive"})}),l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e}),l.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:r}),n&&l.jsxs(le,{onClick:n,variant:"outline",className:"gap-2",children:[l.jsx(nv,{className:"h-4 w-4"}),"Try Again"]})]})}function G8e({task:e,assignedUser:r,stages:n=[],onDelete:a,onClick:s,onDragStart:i,onStageChange:o,isDragging:c=!1}){var v,x;const{t:u}=Kt(),d=wn(),f=w=>w?new Date(w).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set",h=w=>{switch(w){case"done":return l.jsx(cl,{className:"h-3 w-3 text-green-500"});case"in_progress":return l.jsx(Rd,{className:"h-3 w-3 text-blue-500"});case"todo":default:return l.jsx(P_,{className:"h-3 w-3 text-gray-500"})}},m=w=>{switch(w){case"done":return"border-l-green-500 rtl:border-r-green-500";case"in_progress":return"border-l-blue-500 rtl:border-r-blue-500";case"todo":default:return"border-l-gray-500 rtl:border-r-gray-500"}},p=w=>{if(!w)return null;const b=new Date,S=(new Date(w).getTime()-b.getTime())/(1e3*60*60);return S<0?"overdue":S<24?"urgent":S<72?"soon":null},g=w=>{switch(p(w)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return l.jsxs(lt,{className:ge("group relative hover:shadow-lg transition-all duration-200","border-l-4 rtl:border-l-0 rtl:border-r-4",d?"w-full":"w-[280px] h-[180px]",m(e.task_status),g(e.due_date),c&&"opacity-50 rotate-2 scale-105"),draggable:!!i,onDragStart:w=>{i&&(w.dataTransfer.effectAllowed="move",w.dataTransfer.setData("text/plain",e.task_id.toString()),i(e.task_id))},children:[l.jsx(Xt,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:s,children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:e.task_name}),e.description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),a&&l.jsxs(gi,{children:[l.jsx(Cf,{asChild:!0,onClick:w=>w.stopPropagation(),children:l.jsx(le,{variant:"ghost",size:"sm",className:ge("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:l.jsx(wr,{className:"h-4 w-4"})})}),l.jsxs(Ms,{onClick:w=>w.stopPropagation(),children:[l.jsxs(Fs,{children:[l.jsx($s,{children:"Delete Task"}),l.jsxs(Bs,{children:['Are you sure you want to delete "',e.task_name,'"?']})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:"Cancel"}),l.jsx(Us,{onClick:w=>{w.stopPropagation(),a(e.task_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})}),l.jsxs(xt,{className:"px-4 pb-3 space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Vn,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),l.jsx("p",{className:"text-xs font-medium truncate",children:r?Te(r,"user_name"):u("common.all","Unassigned")})]})}),l.jsx("div",{children:l.jsxs("div",{className:"flex items-center gap-1",children:[h(e.task_status),l.jsx("span",{className:"text-xs font-medium capitalize",children:((v=e.task_status)==null?void 0:v.replace("_"," "))||"Todo"})]})})]}),d&&o&&l.jsx("div",{className:"pt-1",children:l.jsxs(kt,{value:((x=e.stage_id)==null?void 0:x.toString())||"",onValueChange:w=>o(e.task_id,parseInt(w)),children:[l.jsx(St,{className:"h-7 text-xs",children:l.jsx(Nt,{placeholder:u("tasks.selectStage","Select stage")})}),l.jsx(jt,{children:n.map(w=>{var b;return l.jsx(Oe,{value:((b=w.stage_id)==null?void 0:b.toString())||"",children:Te(w,"stage_name")},w.stage_id)})})]})}),e.due_date&&l.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:[l.jsx(Ao,{className:"h-3 w-3 flex-shrink-0"}),l.jsxs("span",{children:["Due: ",f(e.due_date)]})]})]})]})}function Y8e(){var ae;zs();const{hasRole:e,user:r,loading:n}=xr(),{t:a}=Kt(),s=wn(),[i,o]=y.useState(null),[c,u]=y.useState("kanban");y.useState(!1);const d=Q=>{switch(Q==null?void 0:Q.toLowerCase()){case"done":case"completed":return"default";case"in_progress":return"secondary";case"pending":case"todo":return"outline";default:return"secondary"}};y.useState(""),y.useState(null),y.useState(""),y.useState(null);const[f,h]=y.useState(null),[m,p]=y.useState(!1),[g,v]=y.useState({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),[x,w]=y.useState(""),[b,_]=y.useState("all"),[S,j]=y.useState("all"),[N,k]=y.useState({from:void 0,to:void 0}),{data:E=[],isLoading:C,error:A}=q8e(),{data:D=[],isLoading:T,error:W}=H8e(),{data:q=[],isLoading:L,error:I}=K8e("tasks"),z=y.useMemo(()=>E.filter(Q=>{const fe=Q.task_name.toLowerCase().includes(x.toLowerCase())||Q.description&&Q.description.toLowerCase().includes(x.toLowerCase()),O=b==="all"||Q.task_status===b,Le=S==="all"||Q.assigned_to&&Q.assigned_to.toString()===S;let $e=!0;if(N.from&&Q.due_date){const Me=new Date(Q.due_date),He=new Date(N.from);He.setHours(0,0,0,0);const Pe=new Date(Me);if(Pe.setHours(0,0,0,0),$e=Pe>=He,$e&&N.to){const bt=new Date(N.to);bt.setHours(23,59,59,999),$e=Pe<=bt}}else N.from&&!Q.due_date&&($e=!1);return fe&&O&&Le&&$e}),[E,x,b,S,N]),F=q.sort((Q,fe)=>{const O=Q.stager_order_index??0,Le=fe.stager_order_index??0;return O-Le}).map(Q=>({id:Q.stage_id,name:Te(Q,"stage_name"),color:Q.color,count:z.filter(fe=>fe.stage_id===Q.stage_id).length})),M=C||T||L||n,X=(A==null?void 0:A.message)||(W==null?void 0:W.message)||(I==null?void 0:I.message)||null;console.log("[Tasks] Rendering. Auth state:",{user:r?{id:r.id,email:r.email,role:r.role}:null,authLoading:n,hasUser:!!r,loading:M,data:{tasks:E.length,users:D.length,stages:q.length}});const ee=()=>{},P=async Q=>{try{await ec.delete(Q),ee()}catch(fe){console.error("Failed to delete task:",fe)}},J=Q=>{h(Q)},V=Q=>{Q.preventDefault(),Q.dataTransfer.dropEffect="move"},K=async Q=>{if(!f)return;const fe=E.find(O=>O.task_id===f);if(fe&&fe.stage_id!==Q)try{await ec.update(f,{stage_id:Q}),ee()}catch(O){console.error("Failed to update task stage:",O)}h(null)},ie=async(Q,fe)=>{const O=E.find(Le=>Le.task_id===Q);if(O&&O.stage_id!==fe)try{await ec.update(Q,{stage_id:fe}),ee()}catch(Le){console.error("Failed to update task stage:",Le)}},oe=async()=>{if(g.task_name.trim())try{const Q=bl({task_name:g.task_name.trim(),stage_id:g.stage_id?parseInt(g.stage_id):null,assigned_to:g.assigned_to?parseInt(g.assigned_to):null,task_status:g.task_status,due_date:g.due_date?new Date(g.due_date).toISOString():null,description:g.description.trim()||null,userid:(r==null?void 0:r.id)||null},{task_name:"task_name",description:"description"});await ec.create(Q),ee(),v({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),p(!1)}catch(Q){console.error("Failed to create task:",Q)}},ye=!0;return y.useEffect(()=>{if(q.length>0&&i===null){const Q=q.sort((fe,O)=>(fe.stager_order_index??0)-(O.stager_order_index??0));Q.length>0&&o(Q[0].stage_id)}},[q,i]),M||n||!r?l.jsx(YP,{message:a("tasks.loading","Loading tasks...")}):X?l.jsx(a0,{message:X}):l.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:nr()?"rtl":"ltr",children:[l.jsx(Kx,{title:a("tasks.title"),description:a("tasks.description","Manage and track all your tasks"),icon:l.jsx(fg,{className:"h-5 w-5 text-primary"}),breadcrumbs:[{label:a("navigation.dashboard"),href:"/dashboard"},{label:a("navigation.tasks")}],actions:l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[l.jsx(le,{variant:c==="kanban"?"default":"ghost",size:"sm",onClick:()=>u("kanban"),className:"h-8 w-8 p-0",children:l.jsx(D_,{className:"h-4 w-4"})}),l.jsx(le,{variant:c==="list"?"default":"ghost",size:"sm",onClick:()=>u("list"),className:"h-8 w-8 p-0",children:l.jsx(Fm,{className:"h-4 w-4"})})]}),l.jsxs(le,{onClick:()=>p(!0),children:[l.jsx(lr,{className:"mr-2 h-4 w-4"})," ",a("tasks.addNewTask")]})]}),stats:[{label:a("tasks.totalTasks"),value:E.length,icon:l.jsx(fg,{className:"h-4 w-4 text-primary"})},{label:a("tasks.todo","To Do"),value:E.filter(Q=>Q.task_status==="todo").length,icon:l.jsx(P_,{className:"h-4 w-4 text-gray-500"})},{label:a("tasks.inProgress","In Progress"),value:E.filter(Q=>Q.task_status==="in_progress").length,icon:l.jsx(Rd,{className:"h-4 w-4 text-blue-500"})},{label:a("tasks.done","Done"),value:E.filter(Q=>Q.task_status==="done").length,icon:l.jsx(cl,{className:"h-4 w-4 text-green-500"})}]}),l.jsx(BP,{onSearch:w,onFilterStatus:_,onFilterAssignee:j,onFilterDateRange:k,users:D,statuses:[{value:"todo",label:a("tasks.todo")},{value:"in_progress",label:a("tasks.inProgress")},{value:"done",label:a("tasks.done")}]}),c==="kanban"?l.jsxs(qx,{stages:F,currentStageId:i||((ae=F[0])==null?void 0:ae.id),onStageChange:o,children:[l.jsx(On,{open:m,onOpenChange:p,children:l.jsxs(gn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(vn,{children:[l.jsx(xn,{children:a("tasks.createTask")}),l.jsx(Va,{children:a("tasks.createTaskDesc")})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium",children:[a("tasks.taskName")," *"]}),l.jsx(We,{value:g.task_name,onChange:Q=>v(fe=>({...fe,task_name:Q.target.value})),placeholder:a("tasks.taskNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.description")}),l.jsx(ma,{value:g.description,onChange:Q=>v(fe=>({...fe,description:Q.target.value})),placeholder:a("tasks.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.selectUser")}),l.jsxs(kt,{value:g.assigned_to,onValueChange:Q=>v(fe=>({...fe,assigned_to:Q})),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:a("tasks.selectUser")})}),l.jsx(jt,{children:D.map(Q=>{var fe;return l.jsx(Oe,{value:((fe=Q.user_id)==null?void 0:fe.toString())||"",children:Te(Q,"user_name")},Q.user_id)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.selectStage")}),l.jsxs(kt,{value:g.stage_id,onValueChange:Q=>v(fe=>({...fe,stage_id:Q})),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:a("tasks.selectStage")})}),l.jsx(jt,{children:q.map(Q=>{var fe;return l.jsx(Oe,{value:((fe=Q.stage_id)==null?void 0:fe.toString())||"",children:Te(Q,"stage_name")},Q.stage_id)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.selectStatus")}),l.jsxs(kt,{value:g.task_status,onValueChange:Q=>v(fe=>({...fe,task_status:Q})),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:a("tasks.selectStatus")})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"todo",children:a("tasks.todo")}),l.jsx(Oe,{value:"in_progress",children:a("tasks.inProgress")}),l.jsx(Oe,{value:"done",children:a("tasks.done")})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.dueDate")}),l.jsx(We,{type:"date",value:g.due_date,onChange:Q=>v(fe=>({...fe,due_date:Q.target.value}))})]})]}),l.jsxs(Ua,{children:[l.jsx(le,{variant:"outline",onClick:()=>p(!1),children:a("buttons.cancel")}),l.jsxs(le,{onClick:oe,disabled:!g.task_name.trim(),children:[l.jsx(Oo,{className:"h-4 w-4 mr-2"}),a("tasks.createTask")]})]})]})}),l.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:q.sort((Q,fe)=>{const O=Q.stager_order_index??0,Le=fe.stager_order_index??0;return O-Le}).filter(Q=>{var fe;return s?Q.stage_id===(i||((fe=F[0])==null?void 0:fe.id)):!0}).map((Q,fe)=>{var Le,$e;const O=z.filter(Me=>Me.stage_id===Q.stage_id);return l.jsxs("div",{className:ge("flex-shrink-0 animate-fade-in",s?"w-full":"w-[300px]"),style:{animationDelay:`${fe*.1}s`},onDragOver:V,onDrop:()=>K(Q.stage_id),children:[l.jsx("div",{className:ge("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft hidden md:block",Q.color||"border-l-4 border-primary/50"),children:l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Zo,{className:"h-4 w-4 text-muted-foreground cursor-move"}),l.jsx("h2",{className:"font-bold text-base",children:Te(Q,"stage_name")})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:O.length})})]})}),l.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 custom-scrollbar",children:[((Le=q.sort((Me,He)=>(Me.stager_order_index||0)-(He.stager_order_index||0))[0])==null?void 0:Le.stage_id)===Q.stage_id&&l.jsx("div",{className:"mb-4",children:l.jsx(lt,{className:ge("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",s?"w-full h-[100px]":"w-[280px] h-[120px]"),onClick:()=>p(!0),children:l.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[l.jsx(lr,{className:"h-8 w-8"}),l.jsx("span",{className:"text-sm font-medium",children:a("tasks.addNewTask")})]})})}),O.map(Me=>{const He=D.find(Pe=>Pe.user_id===Me.assigned_to);return l.jsx("div",{draggable:ye,onDragStart:()=>J(Me.task_id),className:"cursor-move",children:l.jsx(G8e,{task:Me,assignedUser:He||null,stages:q,onDelete:()=>P(Me.task_id),onClick:()=>{console.log("Task clicked:",Me.task_id)},onDragStart:J,onStageChange:ie,isDragging:f===Me.task_id})},Me.task_id)}),(($e=q.sort((Me,He)=>(Me.stager_order_index||0)-(He.stager_order_index||0))[0])==null?void 0:$e.stage_id)!==Q.stage_id&&l.jsx("div",{className:"mt-2",children:l.jsxs(le,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>p(!0),children:[l.jsx(lr,{className:"h-4 w-4 mr-2"}),a("tasks.addTask")]})})]})]},Q.stage_id)})})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h2",{className:"text-lg font-semibold",children:[a("tasks.allTasks")," (",E.length,")"]}),l.jsx(On,{open:m,onOpenChange:p,children:l.jsxs(gn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(vn,{children:[l.jsx(xn,{children:a("tasks.createTask")}),l.jsx(Va,{children:a("tasks.createTaskDesc")})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium",children:[a("tasks.taskName")," *"]}),l.jsx(We,{value:g.task_name,onChange:Q=>v(fe=>({...fe,task_name:Q.target.value})),placeholder:a("tasks.taskNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.description")}),l.jsx(ma,{value:g.description,onChange:Q=>v(fe=>({...fe,description:Q.target.value})),placeholder:a("tasks.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.selectUser")}),l.jsxs(kt,{value:g.assigned_to,onValueChange:Q=>v(fe=>({...fe,assigned_to:Q})),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:a("tasks.selectUser")})}),l.jsx(jt,{children:D.map(Q=>{var fe;return l.jsx(Oe,{value:((fe=Q.user_id)==null?void 0:fe.toString())||"",children:Te(Q,"user_name")},Q.user_id)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.selectStage")}),l.jsxs(kt,{value:g.stage_id,onValueChange:Q=>v(fe=>({...fe,stage_id:Q})),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:a("tasks.selectStage")})}),l.jsx(jt,{children:q.map(Q=>{var fe;return l.jsx(Oe,{value:((fe=Q.stage_id)==null?void 0:fe.toString())||"",children:Te(Q,"stage_name")},Q.stage_id)})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.selectStatus")}),l.jsxs(kt,{value:g.task_status,onValueChange:Q=>v(fe=>({...fe,task_status:Q})),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:a("tasks.selectStatus")})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"todo",children:a("tasks.todo")}),l.jsx(Oe,{value:"in_progress",children:a("tasks.inProgress")}),l.jsx(Oe,{value:"done",children:a("tasks.done")})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.dueDate")}),l.jsx(We,{type:"date",value:g.due_date,onChange:Q=>v(fe=>({...fe,due_date:Q.target.value}))})]})]})]}),l.jsxs(Ua,{children:[l.jsx(le,{variant:"outline",onClick:()=>p(!1),children:a("buttons.cancel")}),l.jsxs(le,{onClick:oe,disabled:!g.task_name.trim(),children:[l.jsx(Oo,{className:"h-4 w-4 mr-2"}),a("tasks.createTask")]})]})]})})]}),(()=>{const Q=[{key:"task",header:a("tasks.taskName"),render:O=>l.jsx(Nc,{title:O.task_name,subtitle:O.description})},{key:"assignee",header:a("tasks.assignedTo"),hideOnMobile:!0,render:O=>{const Le=D.find($e=>$e.user_id===O.assigned_to);return l.jsx(vp,{name:Le?Te(Le,"user_name"):null,fallback:a("common.all","Unassigned")})}},{key:"status",header:a("tasks.status"),render:O=>l.jsx(cY,{variant:d(O.task_status),children:O.task_status||a("leads.unknown")})},{key:"due_date",header:a("tasks.dueDate"),hideOnMobile:!0,render:O=>l.jsx(Vu,{date:O.due_date,fallback:a("leads.notSet")})},{key:"stage",header:a("tasks.stage"),hideOnMobile:!0,render:O=>{const Le=q.find($e=>$e.stage_id===O.stage_id);return Le?Te(Le,"stage_name"):a("leads.unknown")}}],fe=[{label:a("common.view"),icon:l.jsx(ui,{className:"h-4 w-4"}),onClick:O=>console.log("View task:",O.task_id)},{label:a("buttons.delete","Delete"),icon:l.jsx(wr,{className:"h-4 w-4"}),onClick:O=>P(O.task_id),variant:"destructive"}];return l.jsx(kc,{data:z,columns:Q,actions:fe,keyExtractor:O=>O.task_id,emptyState:l.jsx(uc,{icon:l.jsx(fg,{className:"h-12 w-12 text-muted-foreground/50"}),title:a("tasks.noTasksYet"),description:a("tasks.createFirst","Create a task to get started"),action:l.jsxs(le,{onClick:()=>p(!0),children:[l.jsx(lr,{className:"h-4 w-4 mr-2"}),a("tasks.addNewTask")]})})})})()]})]})}function R$(e){const[r,n]=y.useState(e),a=y.useCallback((i,o)=>{n(c=>({...c,[i]:o}))},[]),s=y.useCallback(i=>{n(i??e)},[e]);return{values:r,setValues:n,setField:a,reset:s}}const QE=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}},X8e=(e,r)=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):r,J8e=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return l.jsx(K2,{className:"h-3 w-3 text-red-500"});case"high":return l.jsx(K2,{className:"h-3 w-3 text-orange-500"});default:return null}};function I$({ticket:e,assignedUser:r,userRole:n,onDelete:a,onClick:s,onDragStart:i,onDragEnd:o,isDragging:c=!1,stageName:u}){const{t:d}=Kt(),f=wn();return l.jsxs(lt,{className:ge("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",f?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",c&&"opacity-50 rotate-2 scale-105"),onClick:s,draggable:!!i,onDragStart:h=>{i&&(h.dataTransfer.effectAllowed="move",h.dataTransfer.setData("text/plain",e.ticket_id.toString()),i(e.ticket_id))},onDragEnd:()=>{o&&o()},children:[l.jsx(Xt,{className:"pb-3 px-4 pt-4",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",e.ticket_id]}),J8e(e.priority)]}),l.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:e.subject||d("tickets.noSubject","No Subject")}),e.description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description})]}),a&&n==="admin"&&l.jsxs(gi,{children:[l.jsx(Cf,{asChild:!0,onClick:h=>h.stopPropagation(),children:l.jsx(le,{variant:"ghost",size:"sm",className:ge("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",f?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:l.jsx(wr,{className:"h-4 w-4"})})}),l.jsxs(Ms,{onClick:h=>h.stopPropagation(),children:[l.jsxs(Fs,{children:[l.jsx($s,{children:d("tickets.deleteTicket","Delete Ticket")}),l.jsx(Bs,{children:d("tickets.deleteConfirmation",{name:e.subject||"this ticket"})})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:d("buttons.cancel")}),l.jsx(Us,{onClick:h=>{h.stopPropagation(),a(e.ticket_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:d("buttons.delete")})]})]})]})]})}),l.jsxs(xt,{className:"px-4 pb-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u&&l.jsx(ft,{variant:"outline",className:"text-xs",children:u}),l.jsx(ft,{variant:QE(e.priority),className:"text-xs",children:e.priority||d("leads.unknown")}),e.ticket_type&&l.jsx(ft,{variant:"outline",className:"text-xs",children:e.ticket_type})]}),r&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vn,{className:"h-3.5 w-3.5 text-muted-foreground"}),l.jsx("span",{className:"text-sm text-muted-foreground truncate",children:Te(r,"user_name")})]}),l.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:l.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[l.jsx(Ao,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:X8e(e.created_date,d("leads.unknown"))})]})})]})]})}function Q8e(){const[e,r]=y.useState([]),[n,a]=y.useState([]),[s,i]=y.useState([]),[o,c]=y.useState(!0),[u,d]=y.useState(null),[f,h]=y.useState(""),[m,p]=y.useState("all"),[g,v]=y.useState("all"),[x,w]=y.useState("all"),[b,_]=y.useState(!1),[S,j]=y.useState(null),[N,k]=y.useState(!1),[E,C]=y.useState(!1),A=y.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"",stage_id:""}),[]),D=y.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"unassigned",stage_id:""}),[]),{values:T,setField:W,reset:q,setValues:L}=R$(A),{values:I,setField:z,reset:F,setValues:M}=R$(D),[X,ee]=y.useState(null),[P,J]=y.useState(null),[V,K]=y.useState("kanban"),[ie,oe]=y.useState(""),[ye,ae]=y.useState(!1),{user:Q,loading:fe}=xr(),{t:O}=Kt(),Le=wn();y.useEffect(()=>{Q&&!fe&&$e()},[Q,fe]),y.useEffect(()=>{if(s.length>0&&P===null){const me=s.filter(Ee=>Ee.stage_type==="tickets");me.length>0&&J(me[0].stage_id)}},[s,P]);const $e=async()=>{try{c(!0),d(null);const[me,Ee,Ie]=await Promise.all([_0.getAll().catch(Ue=>(console.error("[Tickets] Error fetching tickets:",Ue),[])),dn.getAll().catch(Ue=>(console.error("[Tickets] Error fetching users:",Ue),[])),is.getByType("tickets").catch(Ue=>(console.error("[Tickets] Error fetching stages:",Ue),[]))]);if(r(me),a(Ee),i(Ie),Ie.length>0){const Ue=[...Ie].sort((Ve,ht)=>(Ve.stager_order_index||0)-(ht.stager_order_index||0));L(Ve=>{var ht;return{...Ve,stage_id:Ve.stage_id||((ht=Ue[0].stage_id)==null?void 0:ht.toString())||""}})}}catch(me){console.error("[Tickets] Failed to load data:",me),d(me.message||O("common.error"))}finally{c(!1)}},Me=me=>me&&n.find(Ee=>Ee.user_id===me)||null,He=async me=>{var Ee,Ie;if(me.preventDefault(),!(ye||!Q)){oe(""),ae(!0);try{const Ue=T.assigned_to?parseInt(T.assigned_to):null,Ve=n.find(kr=>kr.user_id===Ue),ht={subject:T.subject,description:T.description||null,priority:T.priority,ticket_type:T.ticket_type,stage_id:T.stage_id?parseInt(T.stage_id):null,created_by:((Ee=Q.profile)==null?void 0:Ee.user_id)||null,assigned_to:Ue,resolved_date:null,closed_at:null,closed_by:null,room_id:null,task_id:null,status:"open"},Qt=await _0.create(ht);r([Qt,...e]);const rr=s.length>0&&((Ie=[...s].sort((kr,$r)=>(kr.stager_order_index||0)-($r.stager_order_index||0))[0].stage_id)==null?void 0:Ie.toString())||"";q({...A,stage_id:rr}),_(!1)}catch(Ue){oe(Ue.message||O("tickets.createError"))}finally{ae(!1)}}},Pe=me=>{var Ee,Ie;j(me),C(!1),M({...D,subject:me.subject||"",description:me.description||"",priority:me.priority||"medium",ticket_type:me.ticket_type||"request",assigned_to:((Ee=me.assigned_to)==null?void 0:Ee.toString())||"unassigned",stage_id:((Ie=me.stage_id)==null?void 0:Ie.toString())||""}),k(!0)},bt=async()=>{if(!(!S||ye)){oe(""),ae(!0);try{const me=I.assigned_to&&I.assigned_to!=="unassigned"?parseInt(I.assigned_to):null,Ee=n.find(Ie=>Ie.user_id===me);await _0.update(S.ticket_id,{subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:me,stage_id:I.stage_id?parseInt(I.stage_id):null}),r(e.map(Ie=>Ie.ticket_id===S.ticket_id?{...Ie,subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:me,stage_id:I.stage_id?parseInt(I.stage_id):null}:Ie)),j(Ie=>Ie?{...Ie,subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:me,stage_id:I.stage_id?parseInt(I.stage_id):null}:null),C(!1)}catch(me){oe(me.message||O("tickets.updateError","Failed to update ticket"))}finally{ae(!1)}}},pt=async me=>{try{await _0.delete(me),r(e.filter(Ee=>Ee.ticket_id!==me))}catch(Ee){console.error("[Tickets] Failed to delete ticket:",Ee)}},se=me=>{ee(me)},he=()=>{ee(null)},B=me=>{me.preventDefault(),me.dataTransfer.dropEffect="move"},ue=async me=>{if(!X)return;const Ee=e.find(Ie=>Ie.ticket_id===X);if(Ee&&Ee.stage_id!==me){r(Ie=>Ie.map(Ue=>Ue.ticket_id===X?{...Ue,stage_id:me}:Ue));try{await _0.moveToStage(X,me)}catch(Ie){console.error("Failed to update ticket stage:",Ie),r(Ue=>Ue.map(Ve=>Ve.ticket_id===X?{...Ve,stage_id:Ee.stage_id}:Ve))}}ee(null)},be=y.useMemo(()=>e.filter(me=>{var ht,Qt,rr;const Ee=((ht=me.subject)==null?void 0:ht.toLowerCase().includes(f.toLowerCase()))||((Qt=me.description)==null?void 0:Qt.toLowerCase().includes(f.toLowerCase())),Ie=m==="all"||me.priority===m,Ue=g==="all"||me.ticket_type===g,Ve=x==="all"||((rr=me.stage_id)==null?void 0:rr.toString())===x;return Ee&&Ie&&Ue&&Ve}),[e,f,m,g,x]),ve=y.useMemo(()=>s.filter(me=>me.stage_type==="tickets").sort((me,Ee)=>{const Ie=me.stager_order_index??0,Ue=Ee.stager_order_index??0;return Ie-Ue}),[s]),Be=y.useMemo(()=>ve.map(me=>({id:me.stage_id,name:Te(me,"stage_name"),color:me.color,count:be.filter(Ee=>Ee.stage_id===me.stage_id).length})),[ve,be]),je=()=>{var me;return ve.length===0?l.jsx(uc,{icon:l.jsx(xh,{className:"h-12 w-12 text-muted-foreground/50"}),title:O("tickets.noStages","No ticket stages found"),description:O("tickets.noStagesDesc","Create ticket stages in the database to enable Kanban view")}):l.jsxs(qx,{stages:Be,currentStageId:P||((me=Be[0])==null?void 0:me.id),onStageChange:J,children:[l.jsx("div",{className:ge("flex gap-4 pb-4 overflow-x-auto",Le?"hidden":"flex"),children:ve.map(Ee=>{const Ie=be.filter(ht=>ht.stage_id===Ee.stage_id),Ue=Ee.color||"border-l-4 border-gray-400",Ve=Te(Ee,"stage_name");return l.jsxs("div",{className:"flex-shrink-0 w-[320px] flex flex-col h-[calc(100vh-280px)]",onDragOver:B,onDrop:()=>ue(Ee.stage_id),children:[l.jsx("div",{className:ge("bg-muted/50 backdrop-blur rounded-t-lg p-3 sticky top-0 z-10",Ue),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"font-semibold text-sm",children:Te(Ee,"stage_name")}),l.jsx(ft,{variant:"secondary",className:"text-xs",children:Ie.length})]}),l.jsx(le,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>{L(ht=>{var Qt;return{...ht,stage_id:((Qt=Ee.stage_id)==null?void 0:Qt.toString())||""}}),_(!0)},children:l.jsx(lr,{className:"h-4 w-4"})})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto bg-muted/30 rounded-b-lg p-3",children:l.jsxs("div",{className:"space-y-3",children:[Ie.map(ht=>l.jsx(I$,{ticket:ht,assignedUser:Me(ht.assigned_to),userRole:Q==null?void 0:Q.role,onDelete:pt,onClick:()=>Pe(ht),onDragStart:se,onDragEnd:he,isDragging:X===ht.ticket_id,stageName:Ve},ht.ticket_id)),Ie.length===0&&l.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:O("tickets.noTicketsInStage","No tickets in this stage")})]})})]},Ee.stage_id)})}),Le&&P&&l.jsxs("div",{className:"space-y-3 p-2",children:[be.filter(Ee=>Ee.stage_id===P).map(Ee=>{var Ie;return l.jsx(I$,{ticket:Ee,assignedUser:Me(Ee.assigned_to),userRole:Q==null?void 0:Q.role,onDelete:pt,onClick:()=>Pe(Ee),onDragStart:se,onDragEnd:he,isDragging:X===Ee.ticket_id,stageName:((Ie=Be.find(Ue=>Ue.id===P))==null?void 0:Ie.name)||null},Ee.ticket_id)}),be.filter(Ee=>Ee.stage_id===P).length===0&&l.jsx(uc,{icon:l.jsx(xh,{className:"h-12 w-12 text-muted-foreground/50"}),title:O("tickets.noTicketsInStage","No tickets in this stage"),description:O("tickets.createFirst","Create a ticket to get started"),action:l.jsxs(le,{onClick:()=>{L(Ee=>({...Ee,stage_id:(P==null?void 0:P.toString())||""})),_(!0)},children:[l.jsx(lr,{className:"h-4 w-4 mr-2"}),O("tickets.newTicket")]})})]})]})},ke=()=>{const me=[{key:"ticket",header:O("tickets.subject","Subject"),render:Ie=>l.jsx(Nc,{title:Ie.subject||O("tickets.noSubject","No Subject"),subtitle:Ie.description})},{key:"priority",header:O("tickets.priority","Priority"),render:Ie=>l.jsx(cY,{variant:QE(Ie.priority),children:Ie.priority||O("leads.unknown")})},{key:"type",header:O("tickets.ticketType","Type"),hideOnMobile:!0,render:Ie=>l.jsx(ft,{variant:"outline",className:"text-xs",children:Ie.ticket_type||O("leads.unknown")})},{key:"assignee",header:O("tickets.assignedTo","Assigned To"),hideOnMobile:!0,render:Ie=>{const Ue=Me(Ie.assigned_to);return l.jsx(vp,{name:Ue?Te(Ue,"user_name"):null,fallback:O("tickets.unassigned","Unassigned")})}},{key:"stage",header:O("tickets.stage","Stage"),hideOnMobile:!0,render:Ie=>{const Ue=ve.find(Ve=>Ve.stage_id===Ie.stage_id);return Ue?Te(Ue,"stage_name"):O("tickets.noStage","No stage")}},{key:"created",header:O("tickets.createdDate","Created"),hideOnMobile:!0,render:Ie=>l.jsx(Vu,{date:Ie.created_date,fallback:O("leads.notSet","Not set")})}],Ee=[{label:O("common.view","View"),icon:l.jsx(ui,{className:"h-4 w-4"}),onClick:Pe},{label:O("buttons.delete","Delete"),icon:l.jsx(wr,{className:"h-4 w-4"}),onClick:Ie=>pt(Ie.ticket_id),variant:"destructive",show:()=>!0}];return l.jsx(kc,{data:be,columns:me,actions:Ee,keyExtractor:Ie=>Ie.ticket_id,onRowClick:Pe,emptyState:l.jsx(uc,{icon:l.jsx(xh,{className:"h-12 w-12 text-muted-foreground/50"}),title:O("tickets.noTicketsInPage"),description:O("tickets.noTicketsFoundDesc","Try adjusting your filters"),action:l.jsxs(le,{onClick:()=>_(!0),children:[l.jsx(lr,{className:"h-4 w-4 mr-2"}),O("tickets.newTicket","New Ticket")]})})})};return o||fe||!Q?l.jsx(YP,{message:O("tickets.loading","Loading tickets...")}):u?l.jsx(a0,{title:O("tickets.errorTitle","Error loading tickets"),message:u,onRetry:$e}):l.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:nr()?"rtl":"ltr",children:[l.jsx(Kx,{title:O("tickets.title"),description:O("tickets.description","Manage and track support tickets"),icon:l.jsx(xh,{className:"h-5 w-5 text-primary"}),actions:l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[l.jsx(le,{variant:V==="kanban"?"default":"ghost",size:"sm",onClick:()=>K("kanban"),className:"h-8 w-8 p-0",children:l.jsx(D_,{className:"h-4 w-4"})}),l.jsx(le,{variant:V==="list"?"default":"ghost",size:"sm",onClick:()=>K("list"),className:"h-8 w-8 p-0",children:l.jsx(Fm,{className:"h-4 w-4"})})]}),l.jsxs(le,{onClick:()=>_(!0),children:[l.jsx(lr,{className:"h-4 w-4 mr-2"}),O("tickets.newTicket")]})]}),stats:[{label:O("tickets.total","Total Tickets"),value:e.length,icon:l.jsx(xh,{className:"h-4 w-4 text-primary"})},...ve.map(me=>({label:Te(me,"stage_name"),value:e.filter(Ee=>Ee.stage_id===me.stage_id).length,icon:l.jsx(Zo,{className:"h-4 w-4 text-muted-foreground"})}))]}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[l.jsxs("div",{className:"relative flex-1 max-w-sm",children:[l.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(We,{placeholder:O("tickets.searchPlaceholder","Search tickets..."),value:f,onChange:me=>h(me.target.value),className:"pl-10 h-9"})]}),l.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[l.jsxs(kt,{value:x,onValueChange:w,children:[l.jsx(St,{className:"w-[130px] h-9",children:l.jsx(Nt,{placeholder:O("tickets.allStages","All Stages")})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"all",children:O("tickets.allStages","All Stages")}),ve.map(me=>{var Ee;return l.jsx(Oe,{value:((Ee=me.stage_id)==null?void 0:Ee.toString())||"",children:Te(me,"stage_name")},me.stage_id)})]})]}),l.jsxs(kt,{value:g,onValueChange:v,children:[l.jsx(St,{className:"w-[130px] h-9",children:l.jsx(Nt,{placeholder:O("tickets.allTypes")})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"all",children:O("tickets.allTypes","All Types")}),l.jsx(Oe,{value:"issue",children:O("tickets.typeIssue","Issue")}),l.jsx(Oe,{value:"request",children:O("tickets.typeRequest","Request")}),l.jsx(Oe,{value:"follow_up",children:O("tickets.typeFollowUp","Follow Up")}),l.jsx(Oe,{value:"internal_task",children:O("tickets.typeInternalTask","Internal Task")})]})]}),l.jsxs(kt,{value:m,onValueChange:p,children:[l.jsx(St,{className:"w-[130px] h-9",children:l.jsx(Nt,{placeholder:O("tickets.allPriorities")})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"all",children:O("tickets.allPriorities","All Priorities")}),l.jsx(Oe,{value:"low",children:O("tickets.priorityLow","Low")}),l.jsx(Oe,{value:"medium",children:O("tickets.priorityMedium","Medium")}),l.jsx(Oe,{value:"high",children:O("tickets.priorityHigh","High")}),l.jsx(Oe,{value:"urgent",children:O("tickets.priorityUrgent","Urgent")})]})]})]})]}),l.jsx("div",{className:"flex-1 overflow-auto",children:V==="kanban"?je():ke()}),l.jsx(On,{open:b,onOpenChange:_,children:l.jsxs(gn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsxs(vn,{children:[l.jsx(xn,{children:O("tickets.createNewTicket")}),l.jsx(Va,{children:O("tickets.createTicketDesc")})]}),l.jsxs("form",{onSubmit:He,className:"space-y-4",children:[ie&&l.jsx(Vm,{variant:"destructive",children:l.jsx(zm,{children:ie})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"subject",children:[O("tickets.subject")," *"]}),l.jsx(We,{id:"subject",value:T.subject,onChange:me=>W("subject",me.target.value),placeholder:O("tickets.subjectPlaceholder"),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"description",children:O("tickets.description")}),l.jsx(ma,{id:"description",value:T.description,onChange:me=>W("description",me.target.value),placeholder:O("tickets.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"stage",children:O("tickets.stage","Stage")}),l.jsxs(kt,{value:T.stage_id,onValueChange:me=>W("stage_id",me),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:O("tickets.selectStage","Select stage")})}),l.jsx(jt,{children:ve.map(me=>{var Ee;return l.jsx(Oe,{value:((Ee=me.stage_id)==null?void 0:Ee.toString())||"",children:Te(me,"stage_name")},me.stage_id)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"priority",children:[O("tickets.priority")," *"]}),l.jsxs(kt,{value:T.priority,onValueChange:me=>W("priority",me),children:[l.jsx(St,{children:l.jsx(Nt,{})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"low",children:O("tickets.priorityLow")}),l.jsx(Oe,{value:"medium",children:O("tickets.priorityMedium")}),l.jsx(Oe,{value:"high",children:O("tickets.priorityHigh")}),l.jsx(Oe,{value:"urgent",children:O("tickets.priorityUrgent")})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"ticket_type",children:[O("tickets.ticketType")," *"]}),l.jsxs(kt,{value:T.ticket_type,onValueChange:me=>W("ticket_type",me),children:[l.jsx(St,{children:l.jsx(Nt,{})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"request",children:O("tickets.typeRequest")}),l.jsx(Oe,{value:"follow_up",children:O("tickets.typeFollowUp")}),l.jsx(Oe,{value:"issue",children:O("tickets.typeIssue")}),l.jsx(Oe,{value:"internal_task",children:O("tickets.typeInternalTask")})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"assigned_to",children:O("tickets.assignTo")}),l.jsxs(kt,{value:T.assigned_to,onValueChange:me=>W("assigned_to",me),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:O("tickets.selectAssignee")})}),l.jsx(jt,{children:n.map(me=>{var Ee;return l.jsx(Oe,{value:((Ee=me.user_id)==null?void 0:Ee.toString())||"",children:Te(me,"user_name")},me.user_id)})})]})]})]}),l.jsxs(Ua,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[l.jsx(le,{type:"button",variant:"outline",onClick:()=>_(!1),className:"w-full sm:w-auto",children:O("buttons.cancel")}),l.jsx(le,{type:"submit",disabled:ye||!T.subject.trim(),className:"w-full sm:w-auto",children:O(ye?"tickets.creatingTicket":"tickets.createTicket")})]})]})]})}),l.jsx(On,{open:N,onOpenChange:k,children:l.jsxs(gn,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[l.jsxs(vn,{children:[l.jsx(xn,{className:"text-lg sm:text-xl leading-tight",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[l.jsx("span",{className:"break-words",children:S==null?void 0:S.subject}),l.jsx(ft,{variant:"secondary",className:"self-start sm:self-center shrink-0",children:(S==null?void 0:S.status)||O("leads.unknown")})]})}),l.jsxs(Va,{className:"text-sm",children:[O("tickets.ticketId"),": #",S==null?void 0:S.ticket_id]})]}),S&&l.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[ie&&l.jsx(Vm,{variant:"destructive",children:l.jsx(zm,{children:ie})}),E?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"edit-subject",children:[O("tickets.subject")," *"]}),l.jsx(We,{id:"edit-subject",value:I.subject,onChange:me=>z("subject",me.target.value),placeholder:O("tickets.subjectPlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"edit-description",children:O("tickets.description")}),l.jsx(ma,{id:"edit-description",value:I.description,onChange:me=>z("description",me.target.value),rows:3})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:O("tickets.stage","Stage")}),l.jsxs(kt,{value:I.stage_id,onValueChange:me=>z("stage_id",me),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:O("tickets.selectStage","Select stage")})}),l.jsx(jt,{children:ve.map(me=>{var Ee;return l.jsx(Oe,{value:((Ee=me.stage_id)==null?void 0:Ee.toString())||"",children:Te(me,"stage_name")},me.stage_id)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:O("tickets.priority")}),l.jsxs(kt,{value:I.priority,onValueChange:me=>z("priority",me),children:[l.jsx(St,{children:l.jsx(Nt,{})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"low",children:O("tickets.priorityLow")}),l.jsx(Oe,{value:"medium",children:O("tickets.priorityMedium")}),l.jsx(Oe,{value:"high",children:O("tickets.priorityHigh")}),l.jsx(Oe,{value:"urgent",children:O("tickets.priorityUrgent")})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:O("tickets.ticketType")}),l.jsxs(kt,{value:I.ticket_type,onValueChange:me=>z("ticket_type",me),children:[l.jsx(St,{children:l.jsx(Nt,{})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"request",children:O("tickets.typeRequest")}),l.jsx(Oe,{value:"follow_up",children:O("tickets.typeFollowUp")}),l.jsx(Oe,{value:"issue",children:O("tickets.typeIssue")}),l.jsx(Oe,{value:"internal_task",children:O("tickets.typeInternalTask")})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:O("tickets.assignTo")}),l.jsxs(kt,{value:I.assigned_to,onValueChange:me=>z("assigned_to",me),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:O("tickets.selectAssignee")})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"unassigned",children:O("tickets.unassigned","Unassigned")}),n.map(me=>{var Ee;return l.jsx(Oe,{value:((Ee=me.user_id)==null?void 0:Ee.toString())||"",children:Te(me,"user_name")},me.user_id)})]})]})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:O("tickets.priority")}),l.jsx("div",{className:"mt-1",children:l.jsx(ft,{variant:QE(S.priority),className:"text-xs",children:S.priority||O("leads.unknown")})})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:O("tickets.ticketType")}),l.jsx("div",{className:"mt-1",children:l.jsx(ft,{variant:"outline",className:"text-xs",children:S.ticket_type||O("leads.unknown")})})]})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:O("tickets.stage","Stage")}),l.jsx("div",{className:"mt-1 text-sm",children:ve.find(me=>me.stage_id===S.stage_id)?Te(ve.find(me=>me.stage_id===S.stage_id),"stage_name"):O("tickets.noStage","No stage")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:O("tickets.assignedTo")}),l.jsx("div",{className:"mt-1 text-sm break-words",children:Me(S.assigned_to)?Te(Me(S.assigned_to),"user_name"):O("tickets.unassigned","Unassigned")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:O("tickets.createdDate")}),l.jsx("div",{className:"mt-1 text-sm",children:S.created_date?new Date(S.created_date).toLocaleString():"N/A"})]})]}),S.description&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:O("tickets.description")}),l.jsx("div",{className:"mt-2 p-3 bg-muted rounded-md text-sm whitespace-pre-wrap break-words",children:S.description})]})]}),l.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:O("tickets.createdBy")}),l.jsx("div",{className:"mt-1 text-sm break-words",children:Me(S.created_by)?Te(Me(S.created_by),"user_name"):O("leads.unknown")})]}),S.resolved_date&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:O("tickets.resolvedDate")}),l.jsx("div",{className:"mt-1 text-sm",children:new Date(S.resolved_date).toLocaleString()})]}),S.closed_at&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:O("tickets.closedDate")}),l.jsx("div",{className:"mt-1 text-sm",children:new Date(S.closed_at).toLocaleString()})]})]})]}),l.jsx(Ua,{className:"flex flex-col-reverse sm:flex-row gap-2 pt-4",children:E?l.jsxs(l.Fragment,{children:[l.jsx(le,{variant:"outline",onClick:()=>C(!1),className:"w-full sm:w-auto",children:O("buttons.cancel")}),l.jsxs(le,{onClick:bt,disabled:ye||!I.subject.trim(),className:"w-full sm:w-auto",children:[l.jsx(Oo,{className:"h-4 w-4 mr-2"}),ye?O("buttons.saving","Saving..."):O("buttons.save","Save")]})]}):l.jsxs(l.Fragment,{children:[l.jsx(le,{variant:"outline",onClick:()=>k(!1),className:"w-full sm:w-auto",children:O("buttons.close","Close")}),l.jsxs(le,{onClick:()=>C(!0),className:"w-full sm:w-auto",children:[l.jsx(Vi,{className:"h-4 w-4 mr-2"}),O("buttons.edit","Edit")]})]})})]})})]})}var XP="Progress",JP=100,[Z8e,EXe]=vs(XP),[e6e,t6e]=Z8e(XP),uY=y.forwardRef((e,r)=>{const{__scopeProgress:n,value:a=null,max:s,getValueLabel:i=r6e,...o}=e;(s||s===0)&&!M$(s)&&console.error(n6e(`${s}`,"Progress"));const c=M$(s)?s:JP;a!==null&&!F$(a,c)&&console.error(a6e(`${a}`,"Progress"));const u=F$(a,c)?a:null,d=Uw(u)?i(u,c):void 0;return l.jsx(e6e,{scope:n,value:u,max:c,children:l.jsx(mt.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Uw(u)?u:void 0,"aria-valuetext":d,role:"progressbar","data-state":hY(u,c),"data-value":u??void 0,"data-max":c,...o,ref:r})})});uY.displayName=XP;var dY="ProgressIndicator",fY=y.forwardRef((e,r)=>{const{__scopeProgress:n,...a}=e,s=t6e(dY,n);return l.jsx(mt.div,{"data-state":hY(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:r})});fY.displayName=dY;function r6e(e,r){return`${Math.round(e/r*100)}%`}function hY(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function Uw(e){return typeof e=="number"}function M$(e){return Uw(e)&&!isNaN(e)&&e>0}function F$(e,r){return Uw(e)&&!isNaN(e)&&e<=r&&e>=0}function n6e(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${JP}\`.`}function a6e(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${JP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var mY=uY,s6e=fY;const Ef=y.forwardRef(({className:e,value:r,...n},a)=>l.jsx(mY,{ref:a,className:ge("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:l.jsx(s6e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));Ef.displayName=mY.displayName;function i6e({projectId:e,onClose:r}){const{id:n}=uae(),a=zs(),{user:s}=xr(),[i,o]=y.useState([]),[c,u]=y.useState(""),[d,f]=y.useState(!0),[h,m]=y.useState(null),[p,g]=y.useState(null),[v,x]=y.useState(null),[w,b]=y.useState(null),[_,S]=y.useState([]),[j,N]=y.useState([]),k=e||(n?parseInt(n):null),E=!!e;y.useEffect(()=>{(async()=>{!k||!s||m(!0)})()},[k,s]),y.useEffect(()=>{k&&h&&C()},[k,h]);const C=async()=>{if(k)try{f(!0);const L=await Yc.getById(k);if(g(L),L){if(L.created_by)try{const I=await dn.getByAuthId(L.created_by.toString());x(I)}catch(I){console.error("Failed to fetch client:",I)}if(L.created_by)try{const I=await dn.getByAuthId(L.created_by.toString());b(I)}catch(I){console.error("Failed to fetch manager:",I)}try{const z=(await hpe.getProjectUsers(k)).map(M=>M.userid),F=await Promise.all(z.map(M=>M?dn.getByAuthId(M.toString()).catch(()=>null):null));S(F.filter(M=>M!==null))}catch(I){console.error("Failed to fetch project users:",I)}try{const F=(await is.getAll()).filter(ee=>ee.project_id===k).map(ee=>ee.stage_id),X=(await Promise.all(F.map(ee=>ec.getByStage(ee)))).flat();N(X)}catch(I){console.error("Failed to fetch tasks:",I)}}}catch(L){console.error("Failed to load project data:",L)}finally{f(!1)}};y.useEffect(()=>{k&&p&&j.length>0&&A()},[k,p,j]);const A=async()=>{if(!(!k||!p||j.length===0))try{const L=[];for(const I of j){const z=await SC.getByTask(I.task_id);L.push(...z)}o(L)}catch(L){console.error("Failed to load comments:",L)}},D=async L=>{if(!(!c.trim()||!s))try{const I=await SC.create({task_id:L,userid:s.id.toString(),message:c.trim()});o(z=>[...z,I]),u("")}catch(I){console.error("Failed to add comment:",I)}},T=()=>{r?r():a("/projects")},W=({children:L})=>E?l.jsx("div",{className:"h-full overflow-y-auto p-1",children:L}):l.jsx(_C,{children:L});if(h===!1)return l.jsx(W,{children:l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have permission to view this project."}),l.jsx(le,{onClick:T,children:"Back to Projects"})]})})});if(h===null||!p||!v||!w)return d?l.jsx(W,{children:l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):l.jsx(W,{children:l.jsx("div",{children:"Project not found"})});const q={todo:"bg-slate-200 text-slate-700",in_progress:"bg-blue-200 text-blue-700",done:"bg-green-200 text-green-700"};return l.jsx(W,{children:l.jsxs("div",{className:"space-y-6 pb-10",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(le,{variant:"ghost",size:"icon",onClick:T,children:l.jsx(JU,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:Te(p,"project_name")}),l.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:Te(v,"company_name")})]})]}),l.jsx(le,{variant:"outline",className:"self-start sm:self-auto",children:"Settings"})]}),l.jsx(lt,{children:l.jsxs(xt,{className:"pt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),l.jsxs("span",{className:"text-sm font-bold",children:[p.progress||0,"%"]})]}),l.jsx(Ef,{value:p.progress||0,className:"h-3"})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[l.jsx("div",{className:"lg:col-span-2 space-y-4 lg:space-y-6",children:l.jsxs(Cl,{defaultValue:"tasks",children:[l.jsxs(Lo,{className:"w-full sm:w-auto",children:[l.jsx(tn,{value:"tasks",className:"flex-1 sm:flex-none",children:"Tasks"}),l.jsx(tn,{value:"images",className:"flex-1 sm:flex-none",children:"Images"}),l.jsx(tn,{value:"comments",className:"flex-1 sm:flex-none",children:"Comments"})]}),l.jsxs(Pn,{value:"tasks",className:"space-y-3",children:[j.map(L=>{var z;const I=_.find(F=>F.user_id===L.assigned_to);return l.jsx(lt,{children:l.jsx(xt,{className:"pt-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold",children:Te(L,"task_name")}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Te(L,"description")}),l.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[l.jsx(ft,{className:ge("text-xs",q[L.task_status]),children:((z=L.task_status)==null?void 0:z.replace("_"," "))||"todo"}),L.due_date&&l.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(Ao,{className:"h-3 w-3"}),"Due: ",new Date(L.due_date).toLocaleDateString()]})]})]}),I&&l.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[l.jsx("div",{className:"text-2xl mb-1",children:""}),Te(I,"user_name")]})]})})},L.task_id)}),l.jsx(le,{variant:"outline",className:"w-full",children:"+ Add New Task"})]}),l.jsx(Pn,{value:"images",children:l.jsx(lt,{children:l.jsxs(xt,{className:"pt-6",children:[l.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(L=>l.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-4xl",children:""})},L))}),l.jsxs(le,{variant:"outline",className:"w-full mt-4",children:[l.jsx(sv,{className:"h-4 w-4 mr-2"}),"Upload Images"]})]})})}),l.jsxs(Pn,{value:"comments",className:"space-y-3",children:[i.map(L=>{const I=[..._,v,w].find(z=>{var F,M,X,ee;return z&&(((F=z.userid)==null?void 0:F.toString())===((M=L.userid)==null?void 0:M.toString())||((X=z.user_id)==null?void 0:X.toString())===((ee=L.userid)==null?void 0:ee.toString()))});return l.jsx(lt,{children:l.jsx(xt,{className:"pt-6",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"text-2xl",children:(I==null?void 0:I.avatar)||""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold text-sm",children:I?Te(I,"user_name"):"Unknown"}),l.jsx("p",{className:"text-sm mt-1",children:L.message}),l.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:new Date(L.created_date||"").toLocaleString()})]})]})})},L.comment_id)}),j.length>0&&l.jsx(lt,{children:l.jsx(xt,{className:"pt-6",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(We,{placeholder:"Add a comment...",value:c,onChange:L=>u(L.target.value),onKeyDown:L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),D(j[0].task_id))}}),l.jsx(le,{size:"icon",onClick:()=>D(j[0].task_id),children:l.jsx(vx,{className:"h-4 w-4"})})]})})})]})]})}),l.jsxs("div",{className:"space-y-4 lg:order-last",children:[l.jsxs(lt,{children:[l.jsx(Xt,{children:l.jsx(_r,{className:"text-base sm:text-lg",children:"Project Summary"})}),l.jsxs(xt,{className:"space-y-3 sm:space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-1",children:"Client"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:v.avatar}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold",children:Te(v,"user_name")}),l.jsx("div",{className:"text-xs text-muted-foreground",children:Te(v,"company_name")})]})]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-1",children:"Project Manager"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:w.avatar}),l.jsx("div",{className:"text-sm",children:Te(w,"user_name")})]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-2",children:"Team"}),l.jsx("div",{className:"space-y-2",children:_.map(L=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:L.avatar||""}),l.jsx("div",{className:"text-sm",children:Te(L,"user_name")})]},L.user_id))})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-1",children:"Timeline"}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Start: ",p.created_date?new Date(p.created_date).toLocaleDateString():"Not set",p.end_date&&l.jsxs("div",{children:["End: ",new Date(p.end_date).toLocaleDateString()]})]})]})]})]}),l.jsxs(lt,{children:[l.jsx(Xt,{children:l.jsx(_r,{className:"text-base sm:text-lg",children:"Recent Activity"})}),l.jsx(xt,{children:l.jsxs("div",{className:"space-y-3 text-xs",children:[l.jsxs("div",{className:"pb-2 border-b",children:[l.jsx("div",{className:"font-medium",children:"Task completed"}),l.jsx("div",{className:"text-muted-foreground",children:"2 hours ago"})]}),l.jsxs("div",{className:"pb-2 border-b",children:[l.jsx("div",{className:"font-medium",children:"New comment added"}),l.jsx("div",{className:"text-muted-foreground",children:"5 hours ago"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Images uploaded"}),l.jsx("div",{className:"text-muted-foreground",children:"1 day ago"})]})]})})]})]})]})]})})}function o6e({project:e,client:r,manager:n,stages:a,onDelete:s,onClick:i,onDragStart:o,onStageChange:c,isDragging:u=!1}){const{t:d}=Kt(),f=wn(),h=e.progress||0,m=v=>v?new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):d("leads.notSet","Not set"),p=v=>{if(!v)return null;const x=new Date,b=(new Date(v).getTime()-x.getTime())/(1e3*60*60);return b<0?"overdue":b<24?"urgent":b<72?"soon":null},g=v=>{switch(p(v)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return l.jsxs(lt,{className:ge("group relative hover:shadow-lg transition-all duration-200",f?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px] border-l-4 rtl:border-l-0 rtl:border-r-4",!f&&(h===100?"border-l-green-500 rtl:border-r-green-500":"border-l-blue-500 rtl:border-r-blue-500"),g(e.end_date),u&&"opacity-50 rotate-2 scale-105"),draggable:!!o,onDragStart:v=>{o&&(v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",e.project_id.toString()),o(e.project_id))},children:[l.jsx(Xt,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:i,children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Te(e,"project_name")}),Te(e,"project_description")&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Te(e,"project_description")})]}),s&&l.jsxs(gi,{children:[l.jsx(Cf,{asChild:!0,onClick:v=>v.stopPropagation(),children:l.jsx(le,{variant:"ghost",size:"sm",className:ge("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",f?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:l.jsx(wr,{className:"h-4 w-4"})})}),l.jsxs(Ms,{onClick:v=>v.stopPropagation(),children:[l.jsxs(Fs,{children:[l.jsx($s,{children:d("projects.deleteProject")}),l.jsx(Bs,{children:d("projects.deleteConfirmation",{name:Te(e,"project_name")})})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:d("buttons.cancel")}),l.jsx(Us,{onClick:v=>{v.stopPropagation(),s(e.project_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:d("buttons.delete")})]})]})]})]})}),l.jsxs(xt,{className:"px-4 pb-4 space-y-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:d("projects.progress")}),l.jsxs("span",{className:"font-medium",children:[h,"%"]})]}),l.jsx(Ef,{value:h,className:"h-2"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r&&l.jsxs("div",{className:"flex items-start gap-1.5",children:[l.jsx(un,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Client"}),l.jsx("p",{className:"text-xs font-medium truncate",children:r.user_name})]})]}),l.jsxs("div",{className:"flex items-start gap-1.5",children:[l.jsx(Vn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Manager"}),l.jsx("p",{className:"text-xs font-medium truncate",children:n?n.user_name:d("common.all","Unassigned")})]})]})]}),f&&c&&l.jsx("div",{className:"pt-1",children:l.jsxs(kt,{value:e.stage.toString(),onValueChange:v=>c(e.project_id,parseInt(v)),children:[l.jsx(St,{className:"h-7 text-xs",children:l.jsx(Nt,{placeholder:d("projects.selectStage","Select stage")})}),l.jsx(jt,{children:a.filter(v=>["New","In Progress","Overdue","Completed"].includes(v.stage_name)).map(v=>l.jsx(Oe,{value:v.stage_id.toString(),children:Te(v,"stage_name")},v.stage_id))})]})}),l.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[l.jsx(Ao,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:m(e.created_date)})]}),h===100?l.jsx(ft,{variant:"default",className:"bg-green-500 text-xs",children:"Completed"}):h>0?l.jsx(ft,{variant:"default",className:"text-xs",children:"In Progress"}):l.jsx(ft,{variant:"secondary",className:"text-xs",children:"Not Started"})]})]})]})}function l6e(){var ve,Be;zs();const{hasRole:e,user:r}=xr();Wa();const{t:n}=Kt(),a=wn(),[s,i]=y.useState([]),[o,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,p]=y.useState(!0),[g,v]=y.useState(null);y.useState(!1),y.useState("");const[x,w]=y.useState(null),[b,_]=y.useState(""),[S,j]=y.useState(null),[N,k]=y.useState(null),[E,C]=y.useState(!1),[A,D]=y.useState(null),[T,W]=y.useState({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),[q,L]=y.useState(!1),[I,z]=y.useState({project_name:"",project_description:"",client_id:""}),[F,M]=y.useState("kanban"),[X,ee]=y.useState(null),[P,J]=y.useState(""),[V,K]=y.useState("all"),[ie,oe]=y.useState("all"),[ye,ae]=y.useState({from:void 0,to:void 0}),Q=y.useMemo(()=>s.filter(je=>{const ke=(je.project_name||"").toLowerCase().includes(P.toLowerCase())||(je.project_description||"").toLowerCase().includes(P.toLowerCase());let me=!0;V==="todo"?me=(je.progress||0)===0:V==="in_progress"?me=(je.progress||0)>0&&(je.progress||0)<100:V==="done"&&(me=(je.progress||0)===100);const Ee=ie==="all"||je.created_by&&je.created_by.toString()===ie;let Ie=!0;if(ye.from&&je.end_date){const Ue=new Date(je.end_date),Ve=new Date(ye.from);Ve.setHours(0,0,0,0);const ht=new Date(Ue);if(ht.setHours(0,0,0,0),Ie=ht>=Ve,Ie&&ye.to){const Qt=new Date(ye.to);Qt.setHours(23,59,59,999),Ie=ht<=Qt}}else ye.from&&!je.end_date&&(Ie=!1);return ke&&me&&Ee&&Ie}),[s,P,V,ie,ye]);y.useEffect(()=>{fe()},[]),y.useEffect(()=>{if(f.length>0&&A===null){const je=f.find(ke=>ke.stage_id===5);je&&D(je.stage_id)}},[f,A]);const fe=async()=>{try{p(!0),v(null);const[je,ke,me,Ee]=await Promise.all([Yc.getAll(),Fb.getAll(),dn.getAll(),is.getByType("projects")]);console.log("[Projects] Loaded data:",{projects:je.length,clients:ke.length,users:me.length,stages:Ee.length}),console.log("[Projects] Projects data:",je),console.log("[Projects] Stages data:",Ee),i(je),c(ke),d(me),h(Ee)}catch(je){console.error("Failed to load data:",je),v(n("projects.loadError","Failed to load projects. Please try again."))}finally{p(!1)}},O=async je=>{if(b.trim())try{await is.update(je,{stage_name:b.trim()}),h(f.map(ke=>ke.stage_id===je?{...ke,stage_name:b.trim()}:ke)),w(null),_("")}catch(ke){console.error("Failed to update stage:",ke)}},Le=async je=>{if(s.filter(me=>me.stage===je).length>0){j(je);return}try{await is.delete(je),h(f.filter(me=>me.stage_id!==je))}catch(me){console.error("Failed to delete stage:",me)}},$e=je=>{k(je)},Me=je=>{je.preventDefault(),je.dataTransfer.dropEffect="move"},He=async je=>{if(!N)return;const ke=s.find(me=>me.project_id===N);if(ke&&ke.stage!==je)try{await Yc.update(N,{stage:je}),i(s.map(me=>me.project_id===N?{...me,stage:je}:me))}catch(me){console.error("Failed to update project stage:",me)}k(null)},Pe=async(je,ke)=>{const me=s.find(Ee=>Ee.project_id===je);if(me&&me.stage!==ke)try{await Yc.update(je,{stage:ke}),i(s.map(Ee=>Ee.project_id===je?{...Ee,stage:ke}:Ee))}catch(Ee){console.error("Failed to update project stage:",Ee)}},bt=async je=>{try{await Yc.delete(je),i(s.filter(ke=>ke.project_id!==je))}catch(ke){console.error("Failed to delete project:",ke)}},pt=je=>{W(ke=>({...ke,stage:je.toString()})),C(!0)},se=async()=>{var je;if(T.project_name.trim())try{const ke=bl({project_name:T.project_name.trim(),project_description:T.project_description.trim()||null,created_by:((je=r==null?void 0:r.profile)==null?void 0:je.user_id)||1,progress:T.progress,stage:parseInt(T.stage),end_date:null,userid:(r==null?void 0:r.id)||null},{project_name:"project_name",project_description:"project_description"}),me=await Yc.create(ke);i([...s,me]),W({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),C(!1)}catch(ke){console.error("Failed to create project:",ke)}},he=async()=>{var je;if(I.project_name.trim())try{const ke=bl({project_name:I.project_name.trim(),project_description:I.project_description.trim()||null,created_by:((je=r==null?void 0:r.profile)==null?void 0:je.user_id)||1,progress:0,stage:1,end_date:null,userid:(r==null?void 0:r.id)||null},{project_name:"project_name",project_description:"project_description"}),me=await Yc.create(ke);i([...s,me]),z({project_name:"",project_description:"",client_id:""}),L(!1)}catch(ke){console.error("Failed to create lead:",ke)}},B=f.filter(je=>je.stage_type==="projects").sort((je,ke)=>{const me=je.stager_order_index??0,Ee=ke.stager_order_index??0;return nr()?Ee-me:me-Ee}),ue=B.map(je=>({id:je.stage_id,name:Te(je,"stage_name"),color:je.color,count:Q.filter(ke=>ke.stage===je.stage_id).length})),be=()=>{var je;return m?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})}):g?l.jsx(a0,{title:n("projects.errorTitle","Error loading projects"),message:g,onRetry:fe}):s.length===0&&!P&&V==="all"&&ie==="all"?l.jsx(uc,{title:n("projects.emptyTitle","No projects found"),description:n("projects.emptyDescription","Get started by creating your first project."),icon:l.jsx(tf,{className:"h-10 w-10 text-muted-foreground"}),action:l.jsxs(le,{onClick:()=>L(!0),children:[l.jsx(lr,{className:"mr-2 h-4 w-4"})," ",n("projects.createProject")]})}):l.jsxs(l.Fragment,{children:[l.jsx(BP,{onSearch:J,onFilterStatus:K,onFilterAssignee:oe,onFilterDateRange:ae,users:u,statuses:[{value:"todo",label:n("mprojects.notStarted")},{value:"in_progress",label:n("mprojects.inProgress")},{value:"done",label:n("mprojects.completed")}]}),F==="kanban"?l.jsx(l.Fragment,{children:l.jsx(qx,{stages:ue,currentStageId:A||((je=ue[0])==null?void 0:je.id),onStageChange:D,children:l.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:B.sort((ke,me)=>ke.stage_id-me.stage_id).filter(ke=>{var Ee;return window.innerWidth<1024?ke.stage_id===(A||((Ee=ue[0])==null?void 0:Ee.id)):!0}).map((ke,me)=>{var Ie,Ue;const Ee=Q.filter(Ve=>Ve.stage===ke.stage_id);return console.log(`[Projects] Stage ${ke.stage_name} (${ke.stage_id}): ${Ee.length} projects`),console.log("[Projects] Stage projects:",Ee),l.jsxs("div",{className:ge("flex-shrink-0 animate-fade-in h-[calc(100vh-300px)]",a?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${me*.1}s`},onDragOver:Me,onDrop:()=>He(ke.stage_id),children:[!a&&l.jsx("div",{className:ge("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft",ke.color||"border-l-4 border-primary/50"),children:l.jsx("div",{className:"flex items-center justify-between mb-2",children:x===ke.stage_id?l.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[l.jsx(We,{value:b,onChange:Ve=>_(Ve.target.value),onKeyDown:Ve=>{Ve.key==="Enter"&&O(ke.stage_id),Ve.key==="Escape"&&(w(null),_(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),l.jsx(le,{size:"sm",variant:"ghost",onClick:()=>O(ke.stage_id),className:"h-8 w-8 p-0",children:""})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Zo,{className:"h-4 w-4 text-muted-foreground cursor-move"}),l.jsx("h2",{className:"font-bold text-base",children:Te(ke,"stage_name")})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:Ee.length}),l.jsxs(l.Fragment,{children:[l.jsx(le,{size:"sm",variant:"ghost",onClick:()=>{w(ke.stage_id),_(Te(ke,"stage_name"))},className:"h-6 w-6 p-0",title:n("buttons.edit"),children:l.jsx(Vi,{className:"h-3 w-3"})}),l.jsx(le,{size:"sm",variant:"ghost",onClick:()=>Le(ke.stage_id),className:"h-6 w-6 p-0 text-destructive",title:n("buttons.delete"),children:l.jsx(wr,{className:"h-3 w-3"})})]})]})]})})}),l.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto scrollbar-hide",children:[((Ie=f.sort((Ve,ht)=>(Ve.stager_order_index||0)-(ht.stager_order_index||0))[0])==null?void 0:Ie.stage_id)===ke.stage_id&&l.jsx("div",{className:"mb-4",children:l.jsx(lt,{className:ge("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",a?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>pt(ke.stage_id),children:l.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[l.jsx(lr,{className:"h-8 w-8"}),l.jsx("span",{className:"text-sm font-medium",children:n("projects.addNewProjectCard")})]})})}),Ee.map(Ve=>{const ht=u.find(Qt=>Qt.userid===Number(Ve.created_by)||Qt.user_id===Number(Ve.created_by));return l.jsx(o6e,{project:Ve,client:o.find(Qt=>{var rr,kr;return((rr=Qt.user_id)==null?void 0:rr.toString())===((kr=Ve.client_id)==null?void 0:kr.toString())})||null,manager:ht||null,stages:f,onDelete:bt,onClick:()=>ee(Ve.project_id),onDragStart:$e,onStageChange:Pe,isDragging:N===Ve.project_id},Ve.project_id)}),((Ue=f.sort((Ve,ht)=>(Ve.stager_order_index||0)-(ht.stager_order_index||0))[0])==null?void 0:Ue.stage_id)!==ke.stage_id&&l.jsx("div",{className:"mt-2",children:l.jsxs(le,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>pt(ke.stage_id),children:[l.jsx(lr,{className:"h-4 w-4 mr-2"}),n("projects.addProject")]})})]})]},ke.stage_id)})})})}):l.jsx("div",{className:"bg-card rounded-lg border shadow-sm",children:l.jsxs(zP,{children:[l.jsx(WP,{children:l.jsxs(Gv,{children:[l.jsx(po,{children:n("projects.projectName")}),l.jsx(po,{children:n("projects.client")}),l.jsx(po,{children:n("projects.manager")}),l.jsx(po,{children:n("projects.stage")}),l.jsx(po,{children:n("projects.progress")}),l.jsx(po,{children:n("projects.dueDate")}),l.jsx(po,{className:"w-[50px]"})]})}),l.jsx(HP,{children:Q.map(ke=>{const me=u.find(Ue=>Ue.userid===Number(ke.created_by)||Ue.user_id===Number(ke.created_by)),Ee=o.find(Ue=>{var Ve,ht;return((Ve=Ue.user_id)==null?void 0:Ve.toString())===((ht=ke.client_id)==null?void 0:ht.toString())}),Ie=f.find(Ue=>Ue.stage_id===ke.stage);return l.jsxs(Gv,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>ee(ke.project_id),children:[l.jsx(go,{className:"font-medium",children:Te(ke,"project_name")}),l.jsx(go,{children:Ee?Te(Ee,"user_name"):"-"}),l.jsx(go,{children:me?Te(me,"user_name"):"-"}),l.jsx(go,{children:l.jsx(ft,{variant:"outline",className:"bg-background",children:Ie?Te(Ie,"stage_name"):"-"})}),l.jsx(go,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ef,{value:ke.progress||0,className:"w-16 h-2"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[ke.progress,"%"]})]})}),l.jsx(go,{className:"text-muted-foreground text-sm",children:ke.end_date?new Date(ke.end_date).toLocaleDateString():"-"}),l.jsx(go,{children:l.jsx(le,{variant:"ghost",size:"icon",onClick:Ue=>{Ue.stopPropagation(),bt(ke.project_id)},className:"h-8 w-8 text-muted-foreground hover:text-destructive",children:l.jsx(wr,{className:"h-4 w-4"})})})]},ke.project_id)})})]})})]})};return l.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:nr()?"rtl":"ltr",children:[l.jsx(Kx,{title:n("projects.title"),description:n("projects.subtitle"),icon:l.jsx(tf,{className:"h-5 w-5 text-primary"}),actions:l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[l.jsx(le,{variant:F==="kanban"?"default":"ghost",size:"sm",onClick:()=>M("kanban"),className:"h-8 w-8 p-0",children:l.jsx(D_,{className:"h-4 w-4"})}),l.jsx(le,{variant:F==="list"?"default":"ghost",size:"sm",onClick:()=>M("list"),className:"h-8 w-8 p-0",children:l.jsx(Fm,{className:"h-4 w-4"})})]}),l.jsxs(le,{onClick:()=>L(!0),children:[l.jsx(lr,{className:"mr-2 h-4 w-4"})," ",n("projects.newProject")]})]}),stats:[{label:n("projects.total","Total Projects"),value:s.length,icon:l.jsx(tf,{className:"h-4 w-4 text-primary"})},{label:n("projects.inProgress","In Progress"),value:s.filter(je=>(je.progress||0)>0&&(je.progress||0)<100).length,icon:l.jsx(Ao,{className:"h-4 w-4 text-blue-500"})},{label:n("projects.completed","Completed"),value:s.filter(je=>(je.progress||0)===100).length,icon:l.jsx(un,{className:"h-4 w-4 text-green-600"})},{label:n("projects.avgProgress","Avg Progress"),value:s.length>0?`${Math.round(s.reduce((je,ke)=>je+(ke.progress||0),0)/s.length)}%`:"0%",icon:l.jsx(Ef,{className:"h-4 w-4 text-blue-500"})}]}),be(),l.jsx(On,{open:E,onOpenChange:C,children:l.jsxs(gn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(vn,{children:[l.jsx(xn,{children:n("projects.createProject")}),l.jsx(Va,{children:n("projects.createProjectDesc")})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium",children:[n("projects.projectName")," *"]}),l.jsx(We,{value:T.project_name,onChange:je=>W(ke=>({...ke,project_name:je.target.value})),placeholder:n("projects.projectNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:n("projects.description")}),l.jsx(ma,{value:T.project_description,onChange:je=>W(ke=>({...ke,project_description:je.target.value})),placeholder:n("projects.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:n("projects.client")}),l.jsxs(kt,{value:T.client_id,onValueChange:je=>W(ke=>({...ke,client_id:je})),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:n("projects.selectClient")})}),l.jsx(jt,{children:o.map(je=>{var ke;return l.jsx(Oe,{value:((ke=je.user_id)==null?void 0:ke.toString())||"",children:Te(je,"user_name")},je.user_id)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:n("projects.initialProgress")}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"range",min:"0",max:"100",value:T.progress,onChange:je=>W(ke=>({...ke,progress:parseInt(je.target.value)})),className:"w-full h-1.5"}),l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:"0%"}),l.jsxs("span",{children:[T.progress,"%"]}),l.jsx("span",{children:"100%"})]})]})]})]}),l.jsxs(Ua,{children:[l.jsx(le,{variant:"outline",onClick:()=>C(!1),children:n("buttons.cancel")}),l.jsxs(le,{onClick:se,disabled:!((ve=T.project_name)!=null&&ve.trim()),children:[l.jsx(Oo,{className:"h-4 w-4 mr-2"}),n("projects.createProject")]})]})]})}),l.jsx(On,{open:q,onOpenChange:L,children:l.jsxs(gn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(vn,{children:[l.jsx(xn,{children:n("projects.createProject")}),l.jsx(Va,{children:n("projects.createProjectDesc")})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium",children:[n("projects.projectName")," *"]}),l.jsx(We,{value:I.project_name,onChange:je=>z(ke=>({...ke,project_name:je.target.value})),placeholder:n("projects.projectNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:n("projects.description")}),l.jsx(ma,{value:I.project_description,onChange:je=>z(ke=>({...ke,project_description:je.target.value})),placeholder:n("projects.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:n("projects.client")}),l.jsxs(kt,{value:I.client_id,onValueChange:je=>z(ke=>({...ke,client_id:je})),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:n("projects.selectClient")})}),l.jsx(jt,{children:o.map(je=>{var ke;return l.jsx(Oe,{value:((ke=je.user_id)==null?void 0:ke.toString())||"",children:Te(je,"user_name")},je.user_id)})})]})]})]}),l.jsxs(Ua,{children:[l.jsx(le,{variant:"outline",onClick:()=>L(!1),children:n("buttons.cancel")}),l.jsxs(le,{onClick:he,disabled:!((Be=I.project_name)!=null&&Be.trim()),children:[l.jsx(Oo,{className:"h-4 w-4 mr-2"}),n("projects.createProject")]})]})]})}),l.jsx(Sl,{open:!!X,onOpenChange:je=>!je&&ee(null),children:l.jsxs(Mo,{side:nr()?"left":"right",className:"w-full sm:max-w-2xl p-0 overflow-hidden sm:w-[800px]",children:[l.jsxs(wc,{className:"sr-only",children:[l.jsx(jl,{children:"Project Details"}),l.jsx(Ox,{children:"View and manage project information"})]}),X&&l.jsx(i6e,{projectId:X,onClose:()=>ee(null)})]})})]})}function c6e(e,r){return y.useReducer((n,a)=>r[n][a]??n,e)}var QP="ScrollArea",[pY,TXe]=vs(QP),[u6e,Gi]=pY(QP),gY=y.forwardRef((e,r)=>{const{__scopeScrollArea:n,type:a="hover",dir:s,scrollHideDelay:i=600,...o}=e,[c,u]=y.useState(null),[d,f]=y.useState(null),[h,m]=y.useState(null),[p,g]=y.useState(null),[v,x]=y.useState(null),[w,b]=y.useState(0),[_,S]=y.useState(0),[j,N]=y.useState(!1),[k,E]=y.useState(!1),C=qt(r,D=>u(D)),A=yx(s);return l.jsx(u6e,{scope:n,type:a,dir:A,scrollHideDelay:i,scrollArea:c,viewport:d,onViewportChange:f,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:N,scrollbarY:v,onScrollbarYChange:x,scrollbarYEnabled:k,onScrollbarYEnabledChange:E,onCornerWidthChange:b,onCornerHeightChange:S,children:l.jsx(mt.div,{dir:A,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});gY.displayName=QP;var vY="ScrollAreaViewport",xY=y.forwardRef((e,r)=>{const{__scopeScrollArea:n,children:a,nonce:s,...i}=e,o=Gi(vY,n),c=y.useRef(null),u=qt(r,c,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(mt.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});xY.displayName=vY;var Il="ScrollAreaScrollbar",ZP=y.forwardRef((e,r)=>{const{forceMount:n,...a}=e,s=Gi(Il,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,c=e.orientation==="horizontal";return y.useEffect(()=>(c?i(!0):o(!0),()=>{c?i(!1):o(!1)}),[c,i,o]),s.type==="hover"?l.jsx(d6e,{...a,ref:r,forceMount:n}):s.type==="scroll"?l.jsx(f6e,{...a,ref:r,forceMount:n}):s.type==="auto"?l.jsx(yY,{...a,ref:r,forceMount:n}):s.type==="always"?l.jsx(e4,{...a,ref:r}):null});ZP.displayName=Il;var d6e=y.forwardRef((e,r)=>{const{forceMount:n,...a}=e,s=Gi(Il,e.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const c=s.scrollArea;let u=0;if(c){const d=()=>{window.clearTimeout(u),o(!0)},f=()=>{u=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",d),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",d),c.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(Ha,{present:n||i,children:l.jsx(yY,{"data-state":i?"visible":"hidden",...a,ref:r})})}),f6e=y.forwardRef((e,r)=>{const{forceMount:n,...a}=e,s=Gi(Il,e.__scopeScrollArea),i=e.orientation==="horizontal",o=ej(()=>u("SCROLL_END"),100),[c,u]=c6e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(c==="idle"){const d=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[c,s.scrollHideDelay,u]),y.useEffect(()=>{const d=s.viewport,f=i?"scrollLeft":"scrollTop";if(d){let h=d[f];const m=()=>{const p=d[f];h!==p&&(u("SCROLL"),o()),h=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,i,u,o]),l.jsx(Ha,{present:n||c!=="hidden",children:l.jsx(e4,{"data-state":c==="hidden"?"hidden":"visible",...a,ref:r,onPointerEnter:rt(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:rt(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),yY=y.forwardRef((e,r)=>{const n=Gi(Il,e.__scopeScrollArea),{forceMount:a,...s}=e,[i,o]=y.useState(!1),c=e.orientation==="horizontal",u=ej(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(c?d:f)}},10);return xp(n.viewport,u),xp(n.content,u),l.jsx(Ha,{present:a||i,children:l.jsx(e4,{"data-state":i?"visible":"hidden",...s,ref:r})})}),e4=y.forwardRef((e,r)=>{const{orientation:n="vertical",...a}=e,s=Gi(Il,e.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[c,u]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=jY(c.viewport,c.content),f={...a,sizes:c,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,p){return x6e(m,o.current,c,p)}return n==="horizontal"?l.jsx(h6e,{...f,ref:r,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollLeft,p=L$(m,c,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=h(m,s.dir))}}):n==="vertical"?l.jsx(m6e,{...f,ref:r,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollTop,p=L$(m,c);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=h(m))}}):null}),h6e=y.forwardRef((e,r)=>{const{sizes:n,onSizesChange:a,...s}=e,i=Gi(Il,e.__scopeScrollArea),[o,c]=y.useState(),u=y.useRef(null),d=qt(r,u,i.onScrollbarXChange);return y.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),l.jsx(wY,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ZS(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(i.viewport){const m=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(m),NY(m,h)&&f.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:zw(o.paddingLeft),paddingEnd:zw(o.paddingRight)}})}})}),m6e=y.forwardRef((e,r)=>{const{sizes:n,onSizesChange:a,...s}=e,i=Gi(Il,e.__scopeScrollArea),[o,c]=y.useState(),u=y.useRef(null),d=qt(r,u,i.onScrollbarYChange);return y.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),l.jsx(wY,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ZS(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(i.viewport){const m=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(m),NY(m,h)&&f.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:zw(o.paddingTop),paddingEnd:zw(o.paddingBottom)}})}})}),[p6e,bY]=pY(Il),wY=y.forwardRef((e,r)=>{const{__scopeScrollArea:n,sizes:a,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:f,onResize:h,...m}=e,p=Gi(Il,n),[g,v]=y.useState(null),x=qt(r,C=>v(C)),w=y.useRef(null),b=y.useRef(""),_=p.viewport,S=a.content-a.viewport,j=ea(f),N=ea(u),k=ej(h,10);function E(C){if(w.current){const A=C.clientX-w.current.left,D=C.clientY-w.current.top;d({x:A,y:D})}}return y.useEffect(()=>{const C=A=>{const D=A.target;(g==null?void 0:g.contains(D))&&j(A,S)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[_,g,S,j]),y.useEffect(N,[a,N]),xp(g,k),xp(p.content,k),l.jsx(p6e,{scope:n,scrollbar:g,hasThumb:s,onThumbChange:ea(i),onThumbPointerUp:ea(o),onThumbPositionChange:N,onThumbPointerDown:ea(c),children:l.jsx(mt.div,{...m,ref:x,style:{position:"absolute",...m.style},onPointerDown:rt(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),w.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(C))}),onPointerMove:rt(e.onPointerMove,E),onPointerUp:rt(e.onPointerUp,C=>{const A=C.target;A.hasPointerCapture(C.pointerId)&&A.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),Vw="ScrollAreaThumb",_Y=y.forwardRef((e,r)=>{const{forceMount:n,...a}=e,s=bY(Vw,e.__scopeScrollArea);return l.jsx(Ha,{present:n||s.hasThumb,children:l.jsx(g6e,{ref:r,...a})})}),g6e=y.forwardRef((e,r)=>{const{__scopeScrollArea:n,style:a,...s}=e,i=Gi(Vw,n),o=bY(Vw,n),{onThumbPositionChange:c}=o,u=qt(r,h=>o.onThumbChange(h)),d=y.useRef(void 0),f=ej(()=>{d.current&&(d.current(),d.current=void 0)},100);return y.useEffect(()=>{const h=i.viewport;if(h){const m=()=>{if(f(),!d.current){const p=y6e(h,c);d.current=p,c()}};return c(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[i.viewport,f,c]),l.jsx(mt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:rt(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),g=h.clientX-p.left,v=h.clientY-p.top;o.onThumbPointerDown({x:g,y:v})}),onPointerUp:rt(e.onPointerUp,o.onThumbPointerUp)})});_Y.displayName=Vw;var t4="ScrollAreaCorner",SY=y.forwardRef((e,r)=>{const n=Gi(t4,e.__scopeScrollArea),a=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&a?l.jsx(v6e,{...e,ref:r}):null});SY.displayName=t4;var v6e=y.forwardRef((e,r)=>{const{__scopeScrollArea:n,...a}=e,s=Gi(t4,n),[i,o]=y.useState(0),[c,u]=y.useState(0),d=!!(i&&c);return xp(s.scrollbarX,()=>{var h;const f=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(f),u(f)}),xp(s.scrollbarY,()=>{var h;const f=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(f),o(f)}),d?l.jsx(mt.div,{...a,ref:r,style:{width:i,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function zw(e){return e?parseInt(e,10):0}function jY(e,r){const n=e/r;return isNaN(n)?0:n}function ZS(e){const r=jY(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-n)*r;return Math.max(a,18)}function x6e(e,r,n,a="ltr"){const s=ZS(n),i=s/2,o=r||i,c=s-o,u=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-c,f=n.content-n.viewport,h=a==="ltr"?[0,f]:[f*-1,0];return kY([u,d],h)(e)}function L$(e,r,n="ltr"){const a=ZS(r),s=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-s,o=r.content-r.viewport,c=i-a,u=n==="ltr"?[0,o]:[o*-1,0],d=Y2(e,u);return kY([0,o],[0,c])(d)}function kY(e,r){return n=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(n-e[0])}}function NY(e,r){return e>0&&e<r}var y6e=(e,r=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},a=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,c=n.top!==i.top;(o||c)&&r(),n=i,a=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(a)};function ej(e,r){const n=ea(e),a=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(a.current),[]),y.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(n,r)},[n,r])}function xp(e,r){const n=ea(r);Rn(()=>{let a=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(a),s.unobserve(e)}}},[e,n])}var CY=gY,b6e=xY,w6e=SY;const da=y.forwardRef(({className:e,children:r,...n},a)=>l.jsxs(CY,{ref:a,className:ge("relative overflow-hidden",e),...n,children:[l.jsx(b6e,{className:"h-full w-full rounded-[inherit]",children:r}),l.jsx(EY,{}),l.jsx(w6e,{})]}));da.displayName=CY.displayName;const EY=y.forwardRef(({className:e,orientation:r="vertical",...n},a)=>l.jsx(ZP,{ref:a,orientation:r,className:ge("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(_Y,{className:"relative flex-1 rounded-full bg-border"})}));EY.displayName=ZP.displayName;const V1={async createApplication(e){return await G.partnerApply.create(e)},async getApplications(){return(await G.partnerApply.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async updateStatus(e,r){await G.partnerApply.update(e,{status:r})}},_6e=async e=>{const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(a)).map(o=>o.toString(16).padStart(2,"0")).join("")};function S6e(){const{user:e}=xr(),{currentLanguage:r,isRTL:n}=Wa();wn();const{t:a}=Kt(),[s,i]=y.useState([]),[o,c]=y.useState([]),[u,d]=y.useState(!0),[f,h]=y.useState(""),[m,p]=y.useState(!1),[g,v]=y.useState(""),[x,w]=y.useState(""),[b,_]=y.useState(""),[S,j]=y.useState("employee"),[N,k]=y.useState(""),[E,C]=y.useState(!1),[A,D]=y.useState(null),[T,W]=y.useState("all"),[q,L]=y.useState("employees"),[I,z]=y.useState(!1),[F,M]=y.useState(null),[X,ee]=y.useState(!1),[P,J]=y.useState({name:"",Email:"",mobile:"",permissions:""}),[V,K]=y.useState(!1),[ie,oe]=y.useState(""),[ye,ae]=y.useState(new Map);y.useEffect(()=>{fe(),Q()},[]);const Q=async()=>{try{const B=await RA(),ue=new Map;B.forEach(be=>{ue.set(be.permissions_ID,be.permissions_Name)}),ae(ue)}catch(B){console.error("Failed to load permission names:",B)}},fe=async()=>{try{d(!0);const[B,ue]=await Promise.all([dn.getAll(),V1.getApplications()]);i(B),c(ue)}catch(B){console.error("Failed to load users:",B)}finally{d(!1)}},O=s.filter(B=>{var Ee,Ie;const ue=q==="employees",be=q==="clients",ve=q==="partners";if(ue&&![1,2,3,4].includes(Number(B.permissions))||ve&&![5,6].includes(Number(B.permissions)))return!1;const Be=((Ee=B.name)==null?void 0:Ee.toLowerCase())||"",je=((Ie=B.Email)==null?void 0:Ie.toLowerCase())||"",ke=String(B.permissions||""),me=f.toLowerCase();return Be.includes(me)||je.includes(me)||ke.includes(me)}),Le=B=>{const ue=["destructive","default","secondary","outline","default","secondary"];return B&&B>=1&&B<=ue.length?ue[B-1]:"secondary"},$e=B=>{if(!B)return"User";const ue=ye.get(B);return ue||{1:"Admin",2:"Manager",3:"Employee",4:"Team Leader",5:"Partner Employee",6:"Partner Leader"}[B]||`Permission ${B}`},Me=async B=>{if(B.preventDefault(),!E){k(""),C(!0);try{const ue=await _6e(b),be={name:g,Email:x,user_pasword:ue,permissions:S==="admin"?1:S==="manager"||S==="employee"?2:S==="team_leader"?4:2},ve=await G.Users.create(be);A&&(await V1.updateStatus(A,"approved"),D(null)),p(!1),v(""),w(""),_(""),j("employee"),fe()}catch(ue){k(ue.message||a("users.addUserError"))}finally{C(!1)}}},He=B=>{v(B.full_name),w(B.email),j("employee"),_(""),D(B.apply_id),p(!0),L("employees")},Pe=async B=>{if(confirm(a("users.rejectConfirmation")))try{await V1.updateStatus(B,"rejected"),fe()}catch(ue){console.error("Failed to reject application:",ue)}},bt=async(B,ue)=>{if(confirm(a("users.deleteConfirmation",{name:ue})))try{await G.Users.delete(B),fe()}catch(be){alert(`${a("users.deleteError")}: ${be.message}`)}},pt=async(B,ue)=>{try{const be=ue==="1"?1:2;await G.Users.update(B,{permissions:be}),fe()}catch(be){alert(`${a("users.updateRoleError")}: ${be.message}`)}},se=async B=>{var ue;if(B.preventDefault(),!(V||!F)){oe(""),K(!0);try{const be={};P.name!==Te(F,"name")&&(be.name=P.name),P.Email!==F.Email&&(be.Email=P.Email),P.mobile!==((ue=F.mobile)==null?void 0:ue.toString())&&(be.mobile=P.mobile?parseInt(P.mobile):null),P.permissions!==F.permissions&&(be.permissions=P.permissions),Object.keys(be).length>0?(await G.Users.update(F.userid,be),ee(!1),fe()):ee(!1)}catch(be){oe(be.message||a("users.updateUserError"))}finally{K(!1)}}},he=B=>{var ue;M(B),J({name:B.name||"",Email:B.Email||"",mobile:((ue=B.mobile)==null?void 0:ue.toString())||"",permissions:B.permissions||""}),ee(!1),oe(""),z(!0)};return u?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:n?"rtl":"ltr",children:[l.jsxs("div",{className:"flex items-center justify-between md:justify-start gap-4",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:a("users.title")}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Fa,{className:"h-5 w-5"}),l.jsxs("span",{className:"text-sm font-medium",children:[s.length," ",a("users.totalUsers")]})]}),l.jsx("p",{className:"hidden md:block text-muted-foreground",children:a("users.subtitle")})]}),l.jsxs("div",{className:"flex flex-row items-center border rounded-lg p-1 bg-muted/50 w-fit",children:[l.jsxs(le,{variant:q==="employees"?"default":"ghost",size:"sm",onClick:()=>L("employees"),className:"h-8 px-3",children:[l.jsx(wI,{className:"h-4 w-4 mr-2"}),a("users.employees")]}),l.jsxs(le,{variant:q==="clients"?"default":"ghost",size:"sm",onClick:()=>L("clients"),className:"h-8 px-3",children:[l.jsx(Vn,{className:"h-4 w-4 mr-2"}),a("users.clients")]}),l.jsxs(le,{variant:q==="partners"?"default":"ghost",size:"sm",onClick:()=>L("partners"),className:"h-8 px-3",children:[l.jsx(Fa,{className:"h-4 w-4 mr-2"}),a("users.partners")]})]}),q==="employees"&&l.jsxs("div",{className:"space-y-6",children:[(e==null?void 0:e.role)!=="manager"&&l.jsxs(On,{open:m,onOpenChange:p,children:[l.jsx(Uh,{asChild:!0,children:l.jsxs(le,{className:"w-full",children:[l.jsx(lr,{className:"h-4 w-4 mr-2"}),a("users.addUser")]})}),l.jsxs(gn,{children:[l.jsxs(vn,{children:[l.jsx(xn,{children:a("users.addNewUser")}),l.jsx(Va,{children:a("users.addUserDescription")})]}),l.jsxs("form",{onSubmit:Me,className:"space-y-4",children:[N&&l.jsx(Vm,{variant:"destructive",children:l.jsx(zm,{children:N})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"formName",children:a("users.fullName")}),l.jsx(We,{id:"formName",value:g,onChange:B=>v(B.target.value),placeholder:a("users.fullName"),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"formEmail",children:a("users.email")}),l.jsx(We,{id:"formEmail",type:"email",value:x,onChange:B=>w(B.target.value),placeholder:a("users.email"),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"formPassword",children:a("users.password")}),l.jsx(We,{id:"formPassword",type:"password",value:b,onChange:B=>_(B.target.value),placeholder:a("users.password"),required:!0,minLength:6})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"formRole",children:a("users.role")}),l.jsxs(kt,{value:S,onValueChange:B=>j(B),children:[l.jsx(St,{children:l.jsx(Nt,{})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"employee",children:a("users.employee")}),l.jsx(Oe,{value:"manager",children:a("users.manager")}),l.jsx(Oe,{value:"admin",children:a("users.admin")}),l.jsx(Oe,{value:"team_leader",children:a("users.team_leader")})]})]})]}),l.jsx(le,{type:"submit",className:"w-full",disabled:E,children:a(E?"users.addingUser":"users.addUser")})]})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(We,{placeholder:a("users.searchPlaceholder"),value:f,onChange:B=>h(B.target.value),className:"pl-10"})]}),l.jsxs(da,{className:"flex-1",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(B=>l.jsxs(lt,{className:"hover:shadow-md transition-shadow",children:[l.jsx(Xt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(_r,{className:"text-lg truncate",children:Te(B,"name")}),l.jsx(ft,{variant:Le(B.permissions),className:"mt-1",children:$e(B.permissions)})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>he(B),children:l.jsx(ui,{className:"h-4 w-4"})}),l.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>bt(B.userid,Te(B,"name")),children:l.jsx(wr,{className:"h-4 w-4"})})]})]})}),l.jsxs(xt,{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(_d,{className:"h-4 w-4"}),l.jsx("span",{className:"truncate",children:B.Email})]}),B.mobile&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(tm,{className:"h-4 w-4"}),l.jsx("span",{children:B.mobile})]}),(B.permissions===2||B.permissions===1)&&!0&&l.jsxs("div",{className:"pt-2 border-t",children:[l.jsx("div",{className:"text-xs font-medium mb-1",children:a("users.changeRole")}),l.jsxs(kt,{value:String(B.permissions),onValueChange:ue=>pt(B.userid,ue),children:[l.jsx(St,{className:"w-full h-8",children:l.jsx(Nt,{})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"2",children:a("users.employee")}),l.jsx(Oe,{value:"1",children:a("users.manager")})]})]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[a("users.joined")," ",B.created_at?new Date(B.created_at).toLocaleDateString():"-"]})]})]},B.userid))}),O.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Fa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:a("users.noUsersFound")}),l.jsx("p",{className:"text-muted-foreground",children:a(f?"users.noUsersFoundDesc":"users.noUsersAvailable")})]})]})]}),q==="clients"&&l.jsx("div",{className:"space-y-6",children:l.jsxs(da,{className:"flex-1",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(B=>l.jsxs(lt,{className:"hover:shadow-md transition-shadow",children:[l.jsx(Xt,{className:"pb-3",children:l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(_r,{className:"text-lg truncate",children:Te(B,"name")}),l.jsx(ft,{variant:"outline",className:"mt-1",children:a("users.client")})]})})}),l.jsxs(xt,{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(_d,{className:"h-4 w-4"}),l.jsx("span",{className:"truncate",children:B.Email})]}),B.mobile&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(tm,{className:"h-4 w-4"}),l.jsx("span",{children:B.mobile})]}),l.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[a("users.joined")," ",B.created_at?new Date(B.created_at).toLocaleDateString():"-"]})]})]},B.userid))}),O.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Vn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:a("clients.noClientsFound")}),l.jsx("p",{className:"text-muted-foreground",children:a("clients.noClientsYet")})]})]})}),q==="partners"&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-[calc(100vh-280px)]",children:[l.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(wI,{className:"h-5 w-5"}),a("users.partnerUsers"),l.jsx(ft,{variant:"secondary",className:"ml-auto",children:s.filter(B=>[5,6].includes(Number(B.permissions))).length})]}),l.jsx(da,{className:"flex-1 pr-4",children:l.jsx("div",{className:"space-y-3",children:s.filter(B=>[5,6].includes(Number(B.permissions))).length>0?s.filter(B=>[5,6].includes(Number(B.permissions))).map(B=>l.jsx(lt,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>he(B),children:l.jsxs(xt,{className:"p-4 flex items-center gap-3",children:[l.jsxs(Rs,{children:[l.jsx(Do,{src:B.avatar||""}),l.jsx(Is,{children:Te(B,"name").charAt(0).toUpperCase()})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium truncate",children:Te(B,"name")}),l.jsx("div",{className:"text-xs text-muted-foreground truncate",children:B.Email}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(ft,{variant:"outline",className:"text-xs py-0 h-5",children:B.permissions===5?a("users.partner_leader"):a("users.partner_employee")}),B.company_name&&l.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(xie,{className:"h-3 w-3"}),B.company_name]})]})]})]})},B.userid)):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Fa,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:a("users.noPartnerUsersFound")})]})})})]}),l.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx(_d,{className:"h-5 w-5"}),a("users.partnerApplications"),l.jsx(ft,{variant:"secondary",children:o.length})]}),l.jsx("div",{className:"w-[140px]",children:l.jsxs(kt,{value:T,onValueChange:B=>W(B),children:[l.jsx(St,{className:"h-8",children:l.jsx(Nt,{placeholder:a("common.filter")})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"all",children:a("common.all")}),l.jsx(Oe,{value:"pending",children:a("status.pending")}),l.jsx(Oe,{value:"approved",children:a("status.approved")}),l.jsx(Oe,{value:"rejected",children:a("status.rejected")})]})]})})]}),l.jsx(da,{className:"flex-1 pr-4",children:l.jsx("div",{className:"space-y-3",children:o.filter(B=>T==="all"||B.status===T).length>0?o.filter(B=>T==="all"||B.status===T).map(B=>l.jsx(lt,{children:l.jsxs(xt,{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2",children:[l.jsx("div",{className:"font-medium",children:B.company_name||B.full_name}),l.jsx(ft,{variant:B.status==="pending"?"outline":B.status==="approved"?"default":"destructive",className:"capitalize",children:a(`status.${B.status}`)})]}),l.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vn,{className:"h-3 w-3"}),B.full_name]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_d,{className:"h-3 w-3"}),B.email]}),B.phone&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(tm,{className:"h-3 w-3"}),B.phone]})]}),B.status==="pending"&&l.jsxs("div",{className:"mt-3 flex gap-2 justify-end pt-3 border-t",children:[l.jsx(le,{size:"sm",variant:"ghost",className:"h-7 text-xs text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>Pe(B.apply_id),children:a("users.reject")}),l.jsx(le,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>He(B),children:a("users.approve")})]})]})},B.apply_id)):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(_d,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:a("users.noApplicationsFound")})]})})})]})]}),l.jsx(On,{open:I,onOpenChange:z,children:l.jsxs(gn,{className:"max-w-2xl max-h-[80vh]",children:[l.jsxs(vn,{children:[l.jsx(xn,{children:a("users.userDetails")}),l.jsx(Va,{children:a("users.userDetailsDescription")})]}),F&&l.jsx(da,{className:"max-h-[60vh] pr-4",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold",children:Te(F,"name")}),l.jsx(ft,{variant:Le(F.permissions),className:"mt-1",children:$e(F.permissions)})]})}),X?l.jsxs("form",{onSubmit:se,className:"space-y-4",children:[ie&&l.jsx(Vm,{variant:"destructive",children:l.jsx(zm,{children:ie})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"editName",children:a("users.fullName")}),l.jsx(We,{id:"editName",value:P.name,onChange:B=>J(ue=>({...ue,name:B.target.value})),placeholder:a("users.fullName")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"editEmail",children:a("users.email")}),l.jsx(We,{id:"editEmail",type:"email",value:P.Email,onChange:B=>J(ue=>({...ue,Email:B.target.value})),placeholder:a("users.email")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"editRole",children:a("users.role")}),l.jsxs(kt,{value:String(P.permissions),onValueChange:B=>J(ue=>({...ue,permissions:Number(B)})),children:[l.jsx(St,{children:l.jsx(Nt,{})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"2",children:a("users.employee")}),l.jsx(Oe,{value:"1",children:a("users.manager")}),l.jsx(Oe,{value:"3",children:a("users.client")}),l.jsx(Oe,{value:"4",children:a("users.partner")}),l.jsx(Oe,{value:"5",children:a("users.partner_employee")})]})]})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx(Ge,{className:"text-sm font-medium",children:a("users.joined")}),l.jsx("p",{className:"text-sm",children:new Date(F.created_at).toLocaleDateString()})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx(Ge,{className:"text-sm font-medium",children:a("users.updated")}),l.jsx("p",{className:"text-sm",children:F.updated_at?new Date(F.updated_at).toLocaleDateString():"-"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"editPhone",children:a("users.phone")}),l.jsx(We,{id:"editPhone",type:"tel",value:P.mobile,onChange:B=>J(ue=>({...ue,mobile:B.target.value})),placeholder:a("users.phone")})]}),F.client_contact&&l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx(Ge,{className:"text-sm font-medium",children:a("users.contact")}),l.jsx("p",{className:"text-sm",children:F.client_contact})]}),F.company_name&&l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx(Ge,{className:"text-sm font-medium",children:a("users.company")}),l.jsx("p",{className:"text-sm",children:Te(F,"company_name")})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx(Ge,{className:"text-sm font-medium",children:a("users.userId")}),l.jsx("p",{className:"text-sm font-mono text-xs",children:F.userid})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(le,{type:"button",variant:"outline",onClick:()=>ee(!1),children:a("buttons.cancel")}),l.jsx(le,{type:"submit",disabled:V,children:a(V?"buttons.saving":"buttons.save")})]})]}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:a("users.fullName")}),l.jsx("p",{className:"text-sm",children:Te(F,"name")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:a("users.email")}),l.jsx("p",{className:"text-sm",children:F.Email||a("common.na")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:a("users.role")}),l.jsx("p",{className:"text-sm",children:a(`users.${F.permissions===1?"admin":F.permissions===2?"employee":F.permissions===3?"client":"user"}`)})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:a("users.joined")}),l.jsx("p",{className:"text-sm",children:new Date(F.created_at).toLocaleDateString()})]}),F.updated_at&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:a("users.updated")}),l.jsx("p",{className:"text-sm",children:new Date(F.updated_at).toLocaleDateString()})]})]}),l.jsxs("div",{className:"space-y-3",children:[F.user_phone&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:a("users.phone")}),l.jsx("p",{className:"text-sm",children:F.mobile})]}),F.client_contact&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:a("users.contact")}),l.jsx("p",{className:"text-sm",children:F.client_contact})]}),F.company_name&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:a("users.company")}),l.jsx("p",{className:"text-sm",children:Te(F,"company_name")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:a("users.userId")}),l.jsx("p",{className:"text-sm font-mono text-xs",children:F.userid})]})]})]}),F.userid&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:a("users.authId","Auth ID")}),l.jsx("p",{className:"text-sm font-mono text-xs break-all",children:F.userid})]})]})}),l.jsxs(Ua,{children:[!X&&!0&&l.jsx(le,{variant:"outline",onClick:()=>ee(!0),children:a("buttons.edit")}),l.jsx(le,{onClick:()=>z(!1),children:a("buttons.close")})]})]})})]})}function j6e(){xr();const{t:e}=Kt(),{isRTL:r}=Wa();wn();const n=zs();console.log("Teams Page - isRTL:",r);const[a,s]=y.useState([]),[i,o]=y.useState([]),[c,u]=y.useState({}),[d,f]=y.useState(!0),[h,m]=y.useState(""),[p,g]=y.useState(!1),[v,x]=y.useState(""),[w,b]=y.useState(""),[_,S]=y.useState(null),j=!0;y.useEffect(()=>{k(),E()},[]);const N=L=>{n("/chats",{state:{teamId:L}})},k=async()=>{try{f(!0);const L=await dh.getAll(),I=await dh.getAllTeamMembers();s(L),u(I)}catch(L){console.error("Failed to load teams:",L)}finally{f(!1)}},E=async()=>{try{const L=await dn.getAll();o(L)}catch(L){console.error("Failed to load users:",L)}},C=async()=>{if(v.trim())try{const L=bl({team_name:v.trim(),team_leader_id:(w==null?void 0:w.toString())||null,partner_id:null,auth_user_id:null},{team_name:"team_name"});await dh.create(L),x(""),b(""),g(!1),await k()}catch(L){console.error("Failed to create team:",L)}},A=async(L,I)=>{try{await dh.addMember(L,I),await k()}catch(z){console.error("Failed to add team member:",z)}},D=async(L,I)=>{try{await dh.removeMember(L,I),await k()}catch(z){console.error("Failed to remove team member:",z)}},T=async L=>{try{await dh.delete(L),s(I=>I.filter(z=>z.team_id!==L)),u(I=>{const z={...I};return delete z[L],z}),S(null)}catch(I){console.error("Failed to delete team:",I)}},W=a.filter(L=>(Te(L,"team_name")||"").toLowerCase().includes(h.toLowerCase())),q=i;return d?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})}):l.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:r?"rtl":"ltr",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:e("teams.title")}),l.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("teams.subtitle")})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Fa,{className:"h-5 w-5"}),l.jsx("span",{className:"text-sm font-medium",children:e("teams.memberCount_plural",{count:a.length})})]}),l.jsxs(On,{open:p,onOpenChange:g,children:[l.jsx(Uh,{asChild:!0,children:l.jsxs(le,{children:[l.jsx(lr,{className:"h-4 w-4 mr-2"}),e("teams.createTeam")]})}),l.jsxs(gn,{className:"sm:max-w-[425px]",children:[l.jsxs(vn,{children:[l.jsx(xn,{children:e("teams.createTeamTitle")}),l.jsx(Va,{children:e("teams.createTeamDesc")})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(Ge,{htmlFor:"team-name",className:"text-right rtl:text-left",children:e("teams.teamName")}),l.jsx(We,{id:"team-name",value:v,onChange:L=>x(L.target.value),className:"col-span-3",placeholder:e("teams.teamNamePlaceholder")})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(Ge,{htmlFor:"team-leader",className:"text-right rtl:text-left",children:e("teams.teamLeader")}),l.jsxs(kt,{value:w,onValueChange:b,children:[l.jsx(St,{className:"col-span-3",children:l.jsx(Nt,{placeholder:e("teams.selectTeamLeader")})}),l.jsx(jt,{children:q.map(L=>l.jsx(Oe,{value:L.userid.toString(),children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:L.name})]})},L.userid))})]})]})]}),l.jsx(Ua,{children:l.jsx(le,{type:"submit",onClick:C,disabled:!v.trim(),children:e("teams.createTeam")})})]})]})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(We,{placeholder:e("teams.searchPlaceholder"),value:h,onChange:L=>m(L.target.value),className:"pl-10"})]}),l.jsxs(da,{className:"flex-1",dir:r?"rtl":"ltr",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",dir:r?"rtl":"ltr",children:W.map(L=>{const I=c[L.team_id]||[];return l.jsxs(lt,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(Xt,{className:"pb-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(_r,{className:"text-lg",children:Te(L,"team_name")}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",onClick:()=>N(L.team_id),title:e("teams.chat","Chat"),children:l.jsx(Lu,{className:"h-4 w-4"})}),l.jsx(ft,{variant:"outline",children:e("teams.memberCount_plural",{count:I.length})}),l.jsxs(gi,{children:[l.jsx(Cf,{asChild:!0,children:l.jsx(le,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:z=>{z.stopPropagation(),S(L.team_id)},children:l.jsx(wr,{className:"h-3 w-3"})})}),l.jsxs(Ms,{onClick:z=>z.stopPropagation(),children:[l.jsxs(Fs,{children:[l.jsx($s,{children:e("teams.deleteTeam")}),l.jsx(Bs,{children:e("teams.deleteConfirmation",{name:Te(L,"team_name")})})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:e("buttons.cancel")}),l.jsx(Us,{onClick:z=>{z.stopPropagation(),T(L.team_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]}),L.team_leader_id_name&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsxs("span",{children:[e("teams.teamLeader"),":"]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{children:""}),l.jsx("span",{children:L.team_leader_id_name})]})]})]}),l.jsxs(xt,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-2",children:e("teams.members")}),l.jsxs("div",{className:"space-y-2",children:[I.slice(0,4).map(z=>l.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-2 rounded",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Rs,{className:"h-6 w-6",children:[l.jsx(Do,{src:""}),l.jsx(Is,{className:"text-xs",children:(z.name||"").charAt(0).toUpperCase()})]}),l.jsx("span",{className:"text-sm",children:z.name})]}),l.jsx(le,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:()=>{var F;return D(L.team_id,((F=z.userid)==null?void 0:F.toString())||"")},children:l.jsx(Bie,{className:"h-3 w-3"})})]},z.userid)),I.length>4&&l.jsx("div",{className:"text-xs text-muted-foreground text-center",children:e("teams.moreMembers",{count:I.length-4})}),I.length===0&&l.jsx("div",{className:"text-xs text-muted-foreground text-center py-2",children:e("teams.noMembersYet")})]})]}),l.jsx("div",{children:l.jsxs(kt,{onValueChange:z=>{z&&A(L.team_id,z)},children:[l.jsx(St,{className:"w-full",children:l.jsx(Nt,{placeholder:e("teams.addMember")})}),l.jsx(jt,{children:i.filter(z=>!I.some(F=>F.userid.toString()===z.userid.toString())).map(z=>l.jsx(Oe,{value:z.userid.toString(),children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:z.name})]})},z.userid))})]})}),l.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[e("teams.created")," ",L.created_at?new Date(L.created_at).toLocaleDateString():"N/A"]})]})]},L.team_id)})}),W.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Fa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:e(h?"teams.noTeamsFound":"teams.noTeamsYet")}),l.jsx("p",{className:"text-muted-foreground mb-4",children:e(h?"tickets.noTicketsFoundDesc":"teams.createFirstTeam")}),!h&&j&&l.jsxs(le,{onClick:()=>g(!0),children:[l.jsx(lr,{className:"h-4 w-4 mr-2"}),e("teams.createFirstTeam")]})]})]})]})}function k6e({rooms:e,selectedRoom:r,onSelectRoom:n,currentUser:a,onNewChannel:s,onNewDM:i,className:o}){const{t:c}=Kt(),[u,d]=y.useState(""),f=e.filter(v=>{const x=v.is_private&&Te(v.other_user||{},"user_name")||v.room_name;return x==null?void 0:x.toLowerCase().includes(u.toLowerCase())}),h=f.filter(v=>!v.is_private&&!v.team_id),m=f.filter(v=>v.is_private),p=f.filter(v=>v.team_id),g=v=>{var j;const x=(r==null?void 0:r.room_id)===v.room_id,w=v.is_private,b=w&&Te(v.other_user||{},"user_name")||v.room_name,_=w?(j=v.other_user)==null?void 0:j.avatar:null,S=(b==null?void 0:b.charAt(0).toUpperCase())||"?";return l.jsxs("button",{onClick:()=>n(v),className:ge("w-full flex items-center gap-2 px-2 py-1.5 rounded-md transition-colors text-sm mb-0.5",x?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[l.jsxs("div",{className:"relative flex-shrink-0",children:[w?l.jsxs(Rs,{className:"h-6 w-6",children:[l.jsx(Do,{src:_}),l.jsx(Is,{className:"text-[10px]",children:S})]}):v.team_id?l.jsx("div",{className:"h-6 w-6 rounded bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:l.jsx(Fa,{className:"h-3.5 w-3.5"})}):l.jsx("div",{className:"h-6 w-6 rounded bg-muted flex items-center justify-center",children:l.jsx(ZU,{className:"h-3.5 w-3.5"})}),w&&l.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 h-2 w-2 rounded-full bg-green-500 border-2 border-background"})]}),l.jsx("span",{className:"truncate flex-1 text-left",children:b}),v.unreadCount&&v.unreadCount>0?l.jsx(ft,{variant:"destructive",className:"h-5 min-w-[1.25rem] px-1 flex items-center justify-center text-[10px]",children:v.unreadCount}):null]},v.room_id)};return l.jsxs("div",{className:ge("flex flex-col h-full bg-background border-r",o),children:[l.jsxs("div",{className:"flex-shrink-0 p-3 border-b",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h2",{className:"font-semibold text-lg",children:c("chat.title","Messages")}),l.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8",children:l.jsx(QU,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Ws,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(We,{placeholder:c("common.search","Jump to..."),value:u,onChange:v=>d(v.target.value),className:"pl-9 h-8 bg-muted/50 border-0"})]})]}),l.jsxs(da,{className:"flex-1 px-2 py-3 overflow-hidden",children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[l.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:c("chat.channels","Channels")}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="manager")&&l.jsx(le,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-muted",onClick:s,title:c("chat.createChannel","Create Channel"),children:l.jsx(lr,{className:"h-3 w-3"})})]}),l.jsxs("div",{className:"space-y-0.5",children:[h.map(g),h.length===0&&l.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:c("chat.noChannels","No channels")})]})]}),p.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"flex items-center justify-between px-2 mb-1",children:l.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:c("chat.teams","Teams")})}),l.jsx("div",{className:"space-y-0.5",children:p.map(g)})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[l.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:c("chat.directMessages","Direct Messages")}),l.jsx(le,{variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity",onClick:i,children:l.jsx(lr,{className:"h-3 w-3"})})]}),l.jsxs("div",{className:"space-y-0.5",children:[m.map(g),m.length===0&&l.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:c("chat.noMessages","No messages")})]})]})]})]})}function N6e({room:e,messages:r,currentUser:n,onSendMessage:a,onBack:s,loading:i,onLoadMore:o,hasMoreMessages:c,isLoadingMore:u,onEditMessage:d,onDeleteMessage:f,className:h}){var J;const{t:m}=Kt(),[p,g]=y.useState(""),v=y.useRef(null),[x,w]=y.useState(!1),[b,_]=y.useState(null),[S,j]=y.useState(""),[N,k]=y.useState(!1),E=y.useRef(null);y.useEffect(()=>{if(v.current&&!u){const V=v.current.querySelector("[data-radix-scroll-area-viewport]");V&&(V.scrollTop=V.scrollHeight)}},[r,u]);const C=V=>{const K=V.target;if(!K)return;const oe=K.scrollTop<100;w(oe),oe&&c&&o&&!u&&o()};y.useEffect(()=>{var K;const V=(K=v.current)==null?void 0:K.querySelector("[data-radix-scroll-area-viewport]");if(V)return V.addEventListener("scroll",C),()=>V.removeEventListener("scroll",C)},[c,u,o]);const A=V=>{_(V.message_id),j(V.content)},D=()=>{_(null),j("")},T=()=>{b&&S.trim()&&d&&(d(b,S),_(null),j(""))},W=()=>{p.trim()&&(a(p),g(""))},q=V=>{V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),W())},L=async V=>{var ie;const K=(ie=V.target.files)==null?void 0:ie[0];if(!(!K||!a))try{k(!0);const oe=await messageService.uploadAttachment(K),ae=K.type.startsWith("image/")?`![${K.name}](${oe})`:`[${K.name}](${oe})`;a(ae)}catch(oe){console.error("Failed to upload file:",oe),alert(m("chat.uploadError","Failed to upload file"))}finally{k(!1),E.current&&(E.current.value="")}},I=()=>{var V;(V=E.current)==null||V.click()},z=V=>{const K=/!\[(.*?)\]\((.*?)\)/g,ie=/\[(.*?)\]\((.*?)\)/g,oe=K.exec(V);if(oe)return l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("img",{src:oe[2],alt:oe[1],className:"max-w-full rounded-lg max-h-[300px] object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(oe[2],"_blank")}),V.replace(oe[0],"").trim()&&l.jsx("span",{children:V.replace(oe[0],"").trim()})]});const ye=ie.exec(V);return ye?l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("a",{href:ye[2],target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-500 hover:underline bg-background/50 p-2 rounded",children:[l.jsx(xI,{className:"h-4 w-4"}),ye[1]]}),V.replace(ye[0],"").trim()&&l.jsx("span",{children:V.replace(ye[0],"").trim()})]}):V};if(i)return l.jsx("div",{className:ge("flex items-center justify-center h-full bg-background",h),children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!e)return l.jsxs("div",{className:ge("flex flex-col items-center justify-center h-full bg-background text-muted-foreground p-4 text-center",h),children:[l.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center mb-4",children:l.jsx(Lu,{className:"h-8 w-8"})}),l.jsx("h3",{className:"font-semibold text-lg mb-2",children:m("chat.welcome","Welcome to Chat")}),l.jsx("p",{className:"max-w-xs",children:m("chat.selectRoomDesc","Select a channel or direct message to start chatting.")})]});const F=e.is_private,M=F&&Te(e.other_user||{},"user_name")||e.room_name,X=F?(J=e.other_user)==null?void 0:J.avatar:null,ee=(M==null?void 0:M.charAt(0).toUpperCase())||"?",P=r.reduce((V,K)=>{const ie=new Date(K.created_at).toLocaleDateString();return V[ie]||(V[ie]=[]),V[ie].push(K),V},{});return l.jsxs("div",{className:ge("flex flex-col h-full bg-background overflow-x-hidden",h),children:[l.jsxs("div",{className:"flex-shrink-0 h-16 border-b flex items-center justify-between px-4 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[s&&l.jsx(le,{variant:"ghost",size:"icon",className:"md:hidden -ml-2",onClick:s,children:l.jsx(JU,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex items-center gap-3",children:[F?l.jsxs(Rs,{className:"h-9 w-9",children:[l.jsx(Do,{src:X}),l.jsx(Is,{children:ee})]}):l.jsx("div",{className:"h-9 w-9 rounded-md bg-muted flex items-center justify-center",children:e.team_id?l.jsx(Fa,{className:"h-5 w-5"}):l.jsx(ZU,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsxs("h2",{className:"font-semibold text-sm flex items-center gap-2",children:[M,F&&l.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})]}),!F&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[m("chat.membersCount",{count:3})," "]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(le,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:l.jsx(tm,{className:"h-5 w-5"})}),l.jsx(le,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:l.jsx(Vie,{className:"h-5 w-5"})}),l.jsx(le,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:l.jsx(Eie,{className:"h-5 w-5"})})]})]}),l.jsx(da,{className:"flex-1 p-4 overflow-hidden",ref:v,children:l.jsxs("div",{className:"space-y-6 pb-4",children:[u&&l.jsx("div",{className:"flex justify-center py-4",children:l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}),!c&&r.length>10&&l.jsx("div",{className:"text-center py-4",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:m("chat.beginningOfConversation","Beginning of conversation")})}),Object.entries(P).map(([V,K])=>l.jsxs("div",{children:[l.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("span",{className:"w-full border-t"})}),l.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:l.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:V===new Date().toLocaleDateString()?m("common.today","Today"):V})})]}),l.jsx("div",{className:"space-y-4",children:K.map((ie,oe)=>{var O;const ye=ie.auth_user_id===(n==null?void 0:n.id),ae=oe===0||K[oe-1].auth_user_id!==ie.auth_user_id,Q=ie.sender,fe=b===ie.message_id;return l.jsxs("div",{className:ge("flex gap-3 group",ye?"flex-row-reverse":""),children:[ae?l.jsxs(Rs,{className:"h-8 w-8 mt-0.5 flex-shrink-0",children:[l.jsx(Do,{src:Q==null?void 0:Q.avatar}),l.jsx(Is,{children:((O=Q==null?void 0:Q.user_name)==null?void 0:O.charAt(0))||"?"})]}):l.jsx("div",{className:"w-8 flex-shrink-0"}),l.jsxs("div",{className:ge("flex flex-col max-w-[75%]",ye?"items-end":"items-start"),children:[ae&&l.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[l.jsx("span",{className:"text-sm font-semibold",children:Q==null?void 0:Q.user_name}),l.jsx("span",{className:"text-[10px] text-muted-foreground",children:fs(new Date(ie.created_at),"h:mm a")})]}),l.jsx("div",{className:ge("px-4 py-2 rounded-2xl text-sm shadow-sm relative group",ye?"bg-primary text-primary-foreground rounded-tr-none":"bg-muted text-foreground rounded-tl-none",fe?"w-full min-w-[200px]":""),children:fe?l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("textarea",{value:S,onChange:Le=>j(Le.target.value),className:"w-full bg-transparent border rounded p-1 text-foreground min-h-[60px]",autoFocus:!0}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(le,{size:"sm",variant:"ghost",onClick:D,className:"h-6 px-2 text-xs",children:m("common.cancel","Cancel")}),l.jsx(le,{size:"sm",variant:"secondary",onClick:T,className:"h-6 px-2 text-xs",children:m("common.save","Save")})]})]}):l.jsxs(l.Fragment,{children:[z(ie.content),ye&&!fe&&l.jsxs("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 bg-background rounded-md shadow-sm border p-0.5",children:[l.jsxs(le,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-primary",onClick:()=>A(ie),children:[l.jsx("span",{className:"sr-only",children:"Edit"}),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:[l.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),l.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]})]}),l.jsxs(le,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-destructive",onClick:()=>f&&f(ie.message_id),children:[l.jsx("span",{className:"sr-only",children:"Delete"}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:l.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})]})]})]})})]})]},ie.message_id)})})]},V))]})}),l.jsxs("div",{className:"flex-shrink-0 p-4 bg-background border-t",children:[l.jsxs("div",{className:"flex items-end gap-2 bg-muted/50 p-2 rounded-xl border focus-within:border-primary/50 focus-within:ring-1 focus-within:ring-primary/20 transition-all",children:[l.jsx(le,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-primary flex-shrink-0",onClick:I,disabled:N,children:N?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):l.jsx(xI,{className:"h-5 w-5"})}),l.jsx("input",{type:"file",ref:E,className:"hidden",onChange:L,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"}),l.jsx("textarea",{value:p,onChange:V=>g(V.target.value),onKeyDown:q,placeholder:m("chat.typeMessage","Type a message..."),className:"flex-1 bg-transparent border-0 focus:ring-0 resize-none max-h-32 min-h-[36px] py-2 text-sm",rows:1,style:{height:"auto",minHeight:"36px"},onInput:V=>{const K=V.target;K.style.height="auto",K.style.height=`${Math.min(K.scrollHeight,128)}px`}}),l.jsxs("div",{className:"flex items-center gap-1 pb-1",children:[l.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hidden sm:flex",children:l.jsx(Iie,{className:"h-5 w-5"})}),l.jsx(le,{size:"icon",className:ge("h-8 w-8 transition-all",p.trim()?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),onClick:W,disabled:!p.trim()&&!N,children:l.jsx(vx,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"flex justify-between items-center mt-2 px-1",children:l.jsx("p",{className:"text-[10px] text-muted-foreground"})})]})]})}function C6e({open:e,onOpenChange:r,onSelectUser:n,currentUserId:a}){const{t:s}=Kt(),[i,o]=y.useState([]),[c,u]=y.useState(""),[d,f]=y.useState(!1);y.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{f(!0);const p=await dn.getAll();o(p.filter(g=>g.auth_user_id!==a))}catch(p){console.error("Failed to load users:",p)}finally{f(!1)}},m=i.filter(p=>{var g,v;return((g=p.user_name)==null?void 0:g.toLowerCase().includes(c.toLowerCase()))||((v=p.user_email)==null?void 0:v.toLowerCase().includes(c.toLowerCase()))});return l.jsx(On,{open:e,onOpenChange:r,children:l.jsxs(gn,{className:"sm:max-w-[425px]",children:[l.jsx(vn,{children:l.jsx(xn,{children:s("chat.newDirectMessage","New Direct Message")})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ws,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(We,{placeholder:s("chat.searchUsers","Search users..."),value:c,onChange:p=>u(p.target.value),className:"pl-8"})]}),l.jsx(da,{className:"h-[300px]",children:d?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):m.length===0?l.jsx("div",{className:"text-center text-muted-foreground py-8",children:s("chat.noUsersFound","No users found")}):l.jsx("div",{className:"space-y-1",children:m.map(p=>{var g;return l.jsxs("button",{onClick:()=>{n(p),r(!1)},className:"w-full flex items-center gap-3 p-2 hover:bg-muted rounded-md transition-colors text-left",children:[l.jsxs(Rs,{children:[l.jsx(Do,{src:p.avatar}),l.jsx(Is,{children:((g=p.user_name)==null?void 0:g.charAt(0))||"?"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:p.user_name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:p.user_email})]})]},p.user_id)})})})]})]})})}var tj="Switch",[E6e,AXe]=vs(tj),[T6e,A6e]=E6e(tj),TY=y.forwardRef((e,r)=>{const{__scopeSwitch:n,name:a,checked:s,defaultChecked:i,required:o,disabled:c,value:u="on",onCheckedChange:d,form:f,...h}=e,[m,p]=y.useState(null),g=qt(r,_=>p(_)),v=y.useRef(!1),x=m?f||!!m.closest("form"):!0,[w,b]=bc({prop:s,defaultProp:i??!1,onChange:d,caller:tj});return l.jsxs(T6e,{scope:n,checked:w,disabled:c,children:[l.jsx(mt.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":DY(w),"data-disabled":c?"":void 0,disabled:c,value:u,...h,ref:g,onClick:rt(e.onClick,_=>{b(S=>!S),x&&(v.current=_.isPropagationStopped(),v.current||_.stopPropagation())})}),x&&l.jsx(PY,{control:m,bubbles:!v.current,name:a,value:u,checked:w,required:o,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});TY.displayName=tj;var AY="SwitchThumb",OY=y.forwardRef((e,r)=>{const{__scopeSwitch:n,...a}=e,s=A6e(AY,n);return l.jsx(mt.span,{"data-state":DY(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:r})});OY.displayName=AY;var O6e="SwitchBubbleInput",PY=y.forwardRef(({__scopeSwitch:e,control:r,checked:n,bubbles:a=!0,...s},i)=>{const o=y.useRef(null),c=qt(o,i),u=eO(n),d=GA(r);return y.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(u!==n&&p){const g=new Event("click",{bubbles:a});p.call(f,n),f.dispatchEvent(g)}},[u,n,a]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});PY.displayName=O6e;function DY(e){return e?"checked":"unchecked"}var RY=TY,P6e=OY;const IY=y.forwardRef(({className:e,...r},n)=>l.jsx(RY,{className:ge("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...r,ref:n,children:l.jsx(P6e,{className:ge("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));IY.displayName=RY.displayName;function D6e({open:e,onOpenChange:r,onCreate:n}){const{t:a}=Kt(),[s,i]=y.useState(""),[o,c]=y.useState(!1),[u,d]=y.useState(!1),f=async h=>{if(h.preventDefault(),!!s.trim())try{d(!0),await n(s,o),r(!1),i(""),c(!1)}catch(m){console.error("Failed to create channel:",m)}finally{d(!1)}};return l.jsx(On,{open:e,onOpenChange:r,children:l.jsxs(gn,{children:[l.jsx(vn,{children:l.jsx(xn,{children:a("chat.createRoomTitle","Create New Room")})}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"name",children:a("chat.roomName","Room Name")}),l.jsx(We,{id:"name",value:s,onChange:h=>i(h.target.value),placeholder:a("chat.roomNamePlaceholder","Enter room name"),disabled:u})]}),l.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[l.jsxs(Ge,{htmlFor:"private",className:"flex flex-col space-y-1",children:[l.jsx("span",{children:a("chat.privateRoom","Private Room")}),l.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:a("chat.privateRoomDesc","Only invited members can view this room.")})]}),l.jsx(IY,{id:"private",checked:o,onCheckedChange:c,disabled:u})]}),l.jsxs(Ua,{children:[l.jsx(le,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:u,children:a("common.cancel","Cancel")}),l.jsx(le,{type:"submit",disabled:!s.trim()||u,children:u?a("common.creating","Creating..."):a("chat.createRoom","Create Room")})]})]})]})})}function R6e(){var F;const{user:e}=xr(),{t:r}=Kt(),{isRTL:n}=Wa(),[a,s]=y.useState([]),[i,o]=y.useState(null),[c,u]=y.useState([]),[d,f]=y.useState(!0),[h,m]=y.useState(!1),[p,g]=y.useState(!0),[v,x]=y.useState(!0),[w,b]=y.useState(!1);y.useState([]);const[_,S]=y.useState(!1),[j,N]=y.useState(!1),k=y.useRef(!1),E=y.useRef(null);y.useRef(null),y.useRef(null),y.useEffect(()=>{const M=()=>{const X=window.innerWidth<768;m(X),X||g(!0)};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),y.useEffect(()=>{e&&!k.current&&D()},[e]),y.useEffect(()=>{var X;const M=(X=window.history.state)==null?void 0:X.usr;if(M!=null&&M.teamId&&a.length>0){const ee=a.find(P=>P.team_id===M.teamId);ee&&o(ee)}},[a]),y.useEffect(()=>{i&&(E.current!==i.room_id&&(x(!0),b(!1),T(i.room_id),e&&(Jo.markAsRead(i.room_id,e.id.toString()),s(M=>M.map(X=>X.room_id===i.room_id?{...X,unreadCount:0}:X)))),h&&g(!1))},[i,h,e]),y.useEffect(()=>{var P;if(!e||!i)return;let M=((P=c[0])==null?void 0:P.message_id)||0;const X=async()=>{try{const J=await kd.getByRoom(i.room_id.toString(),{limit:5});if(J.length>0){const V=J[0];V.message_id>M&&(console.log("New message detected, refreshing..."),await T(i.room_id.toString()),M=V.message_id)}}catch(J){console.warn("Failed to poll for new messages:",J)}},ee=setInterval(X,2e3);return X(),()=>{clearInterval(ee)}},[e,i,c]);const C=async(M,X)=>{try{await kd.update(M,X)}catch(ee){console.error("Failed to edit message:",ee)}},A=async M=>{if(confirm(r("chat.deleteConfirm","Are you sure you want to delete this message?")))try{await kd.delete(M)}catch(X){console.error("Failed to delete message:",X)}},D=async()=>{try{f(!0);const M=await Jo.getUserRooms(e==null?void 0:e.id.toString()),X=await Promise.all(M.map(async ee=>{if(ee.is_private){const J=(await Jo.getRoomMembers(ee.room_id)).find(V=>{var K;return((K=V.userid)==null?void 0:K.toString())!==(e==null?void 0:e.id.toString())});return{...ee,other_user:J}}return ee}));s(X),k.current=!0}catch(M){console.error("Failed to load rooms:",M)}finally{f(!1)}},T=async(M,X=!1)=>{try{X&&b(!0);const ee=10,P=X&&c.length>0?c[0].created_at:void 0,J=await kd.getByRoom(M,{limit:ee,before:P});X?(u(V=>[...J,...V]),x(J.length===ee)):(u(J),x(J.length===ee),E.current=M)}catch(ee){console.error("Failed to load messages:",ee)}finally{X&&b(!1)}},W=async()=>{!i||w||!v||await T(i.room_id,!0)},q=async M=>{if(!(!i||!e))try{const X={message_id:Date.now(),room_id:i.room_id,user_id:parseInt(e.id.toString()),content:M,metadata:null,created_at:new Date().toISOString(),sender:e.profile};u(ee=>[...ee,X]),await kd.create({room_id:i.room_id,user_id:parseInt(e.id.toString()),content:M,metadata:null}),setTimeout(()=>{T(i.room_id.toString())},500)}catch(X){console.error("Failed to send message:",X),u(ee=>ee.filter(P=>P.message_id!==Date.now()))}},L=()=>{g(!0)},I=async(M,X)=>{if(e)try{const ee=await Jo.createRoom({name:M,is_private:X,created_by:e.profile.user_id||0,userid:e.id.toString()});await Jo.addMember(ee.room_id,e.id.toString()),await D();const P={...ee};o(P)}catch(ee){console.error("Failed to create channel:",ee)}},z=async M=>{if(!e)return;const X=a.find(ee=>{var P;return ee.is_private&&((P=ee.other_user)==null?void 0:P.userid)===M.userid});if(X){o(X);return}try{const ee=await Jo.createRoom({name:"DM",is_private:!0,created_by:e.profile.user_id||0,userid:e.id.toString()});await Jo.addMember(ee.room_id,e.id.toString()),await Jo.addMember(ee.room_id,(M.userid||M.user_id||"").toString()),await D();const P={...ee,other_user:M};o(P)}catch(ee){console.error("Failed to create DM:",ee)}};return l.jsxs("div",{className:"flex w-full h-full overflow-hidden bg-background",dir:n?"rtl":"ltr",children:[l.jsx("div",{className:ge("w-full md:w-80 flex-shrink-0 transition-all duration-300 ease-in-out absolute md:relative z-20 h-full bg-background border-r overflow-hidden",p?"translate-x-0":"-translate-x-full md:translate-x-0",h&&!p&&"hidden"),children:l.jsx(k6e,{rooms:a,selectedRoom:i,onSelectRoom:o,currentUser:e,onNewChannel:()=>S(!0),onNewDM:()=>N(!0)})}),l.jsx("div",{className:ge("flex-1 flex flex-col min-w-0 bg-background transition-all duration-300 h-full overflow-hidden",h&&p?"hidden":"flex"),children:l.jsx(N6e,{room:i,messages:c,currentUser:e,onSendMessage:q,onBack:L,loading:d,onLoadMore:W,hasMoreMessages:v,isLoadingMore:w,onEditMessage:C,onDeleteMessage:A})}),l.jsx(D6e,{open:_,onOpenChange:S,onCreate:I}),l.jsx(C6e,{open:j,onOpenChange:N,onSelectUser:z,currentUserId:(F=e==null?void 0:e.id)==null?void 0:F.toString()})]})}function MY(e,r){return function(){return e.apply(r,arguments)}}const{toString:I6e}=Object.prototype,{getPrototypeOf:r4}=Object,{iterator:rj,toStringTag:FY}=Symbol,nj=(e=>r=>{const n=I6e.call(r);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Uo=e=>(e=e.toLowerCase(),r=>nj(r)===e),aj=e=>r=>typeof r===e,{isArray:s0}=Array,yp=aj("undefined");function Gx(e){return e!==null&&!yp(e)&&e.constructor!==null&&!yp(e.constructor)&&Os(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const LY=Uo("ArrayBuffer");function M6e(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&LY(e.buffer),r}const F6e=aj("string"),Os=aj("function"),$Y=aj("number"),Yx=e=>e!==null&&typeof e=="object",L6e=e=>e===!0||e===!1,z1=e=>{if(nj(e)!=="object")return!1;const r=r4(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(FY in e)&&!(rj in e)},$6e=e=>{if(!Yx(e)||Gx(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},B6e=Uo("Date"),U6e=Uo("File"),V6e=Uo("Blob"),z6e=Uo("FileList"),W6e=e=>Yx(e)&&Os(e.pipe),H6e=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||Os(e.append)&&((r=nj(e))==="formdata"||r==="object"&&Os(e.toString)&&e.toString()==="[object FormData]"))},q6e=Uo("URLSearchParams"),[K6e,G6e,Y6e,X6e]=["ReadableStream","Request","Response","Headers"].map(Uo),J6e=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xx(e,r,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),s0(e))for(a=0,s=e.length;a<s;a++)r.call(null,e[a],a,e);else{if(Gx(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(a=0;a<o;a++)c=i[a],r.call(null,e[c],c,e)}}function BY(e,r){if(Gx(e))return null;r=r.toLowerCase();const n=Object.keys(e);let a=n.length,s;for(;a-- >0;)if(s=n[a],r===s.toLowerCase())return s;return null}const Ud=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,UY=e=>!yp(e)&&e!==Ud;function ZE(){const{caseless:e,skipUndefined:r}=UY(this)&&this||{},n={},a=(s,i)=>{const o=e&&BY(n,i)||i;z1(n[o])&&z1(s)?n[o]=ZE(n[o],s):z1(s)?n[o]=ZE({},s):s0(s)?n[o]=s.slice():(!r||!yp(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Xx(arguments[s],a);return n}const Q6e=(e,r,n,{allOwnKeys:a}={})=>(Xx(r,(s,i)=>{n&&Os(s)?e[i]=MY(s,n):e[i]=s},{allOwnKeys:a}),e),Z6e=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),eBe=(e,r,n,a)=>{e.prototype=Object.create(r.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),n&&Object.assign(e.prototype,n)},tBe=(e,r,n,a)=>{let s,i,o;const c={};if(r=r||{},e==null)return r;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!a||a(o,e,r))&&!c[o]&&(r[o]=e[o],c[o]=!0);e=n!==!1&&r4(e)}while(e&&(!n||n(e,r))&&e!==Object.prototype);return r},rBe=(e,r,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=r.length;const a=e.indexOf(r,n);return a!==-1&&a===n},nBe=e=>{if(!e)return null;if(s0(e))return e;let r=e.length;if(!$Y(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=e[r];return n},aBe=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&r4(Uint8Array)),sBe=(e,r)=>{const a=(e&&e[rj]).call(e);let s;for(;(s=a.next())&&!s.done;){const i=s.value;r.call(e,i[0],i[1])}},iBe=(e,r)=>{let n;const a=[];for(;(n=e.exec(r))!==null;)a.push(n);return a},oBe=Uo("HTMLFormElement"),lBe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,s){return a.toUpperCase()+s}),$$=(({hasOwnProperty:e})=>(r,n)=>e.call(r,n))(Object.prototype),cBe=Uo("RegExp"),VY=(e,r)=>{const n=Object.getOwnPropertyDescriptors(e),a={};Xx(n,(s,i)=>{let o;(o=r(s,i,e))!==!1&&(a[i]=o||s)}),Object.defineProperties(e,a)},uBe=e=>{VY(e,(r,n)=>{if(Os(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=e[n];if(Os(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},dBe=(e,r)=>{const n={},a=s=>{s.forEach(i=>{n[i]=!0})};return s0(e)?a(e):a(String(e).split(r)),n},fBe=()=>{},hBe=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function mBe(e){return!!(e&&Os(e.append)&&e[FY]==="FormData"&&e[rj])}const pBe=e=>{const r=new Array(10),n=(a,s)=>{if(Yx(a)){if(r.indexOf(a)>=0)return;if(Gx(a))return a;if(!("toJSON"in a)){r[s]=a;const i=s0(a)?[]:{};return Xx(a,(o,c)=>{const u=n(o,s+1);!yp(u)&&(i[c]=u)}),r[s]=void 0,i}}return a};return n(e,0)},gBe=Uo("AsyncFunction"),vBe=e=>e&&(Yx(e)||Os(e))&&Os(e.then)&&Os(e.catch),zY=((e,r)=>e?setImmediate:r?((n,a)=>(Ud.addEventListener("message",({source:s,data:i})=>{s===Ud&&i===n&&a.length&&a.shift()()},!1),s=>{a.push(s),Ud.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Os(Ud.postMessage)),xBe=typeof queueMicrotask<"u"?queueMicrotask.bind(Ud):typeof process<"u"&&process.nextTick||zY,yBe=e=>e!=null&&Os(e[rj]),Ae={isArray:s0,isArrayBuffer:LY,isBuffer:Gx,isFormData:H6e,isArrayBufferView:M6e,isString:F6e,isNumber:$Y,isBoolean:L6e,isObject:Yx,isPlainObject:z1,isEmptyObject:$6e,isReadableStream:K6e,isRequest:G6e,isResponse:Y6e,isHeaders:X6e,isUndefined:yp,isDate:B6e,isFile:U6e,isBlob:V6e,isRegExp:cBe,isFunction:Os,isStream:W6e,isURLSearchParams:q6e,isTypedArray:aBe,isFileList:z6e,forEach:Xx,merge:ZE,extend:Q6e,trim:J6e,stripBOM:Z6e,inherits:eBe,toFlatObject:tBe,kindOf:nj,kindOfTest:Uo,endsWith:rBe,toArray:nBe,forEachEntry:sBe,matchAll:iBe,isHTMLForm:oBe,hasOwnProperty:$$,hasOwnProp:$$,reduceDescriptors:VY,freezeMethods:uBe,toObjectSet:dBe,toCamelCase:lBe,noop:fBe,toFiniteNumber:hBe,findKey:BY,global:Ud,isContextDefined:UY,isSpecCompliantForm:mBe,toJSONObject:pBe,isAsyncFn:gBe,isThenable:vBe,setImmediate:zY,asap:xBe,isIterable:yBe};function Wt(e,r,n,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}Ae.inherits(Wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ae.toJSONObject(this.config),code:this.code,status:this.status}}});const WY=Wt.prototype,HY={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{HY[e]={value:e}});Object.defineProperties(Wt,HY);Object.defineProperty(WY,"isAxiosError",{value:!0});Wt.from=(e,r,n,a,s,i)=>{const o=Object.create(WY);Ae.toFlatObject(e,o,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const c=e&&e.message?e.message:"Error",u=r==null&&e?e.code:r;return Wt.call(o,c,u,n,a,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const bBe=null;function eT(e){return Ae.isPlainObject(e)||Ae.isArray(e)}function qY(e){return Ae.endsWith(e,"[]")?e.slice(0,-2):e}function B$(e,r,n){return e?e.concat(r).map(function(s,i){return s=qY(s),!n&&i?"["+s+"]":s}).join(n?".":""):r}function wBe(e){return Ae.isArray(e)&&!e.some(eT)}const _Be=Ae.toFlatObject(Ae,{},null,function(r){return/^is[A-Z]/.test(r)});function sj(e,r,n){if(!Ae.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,n=Ae.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,x){return!Ae.isUndefined(x[v])});const a=n.metaTokens,s=n.visitor||f,i=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&Ae.isSpecCompliantForm(r);if(!Ae.isFunction(s))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(Ae.isDate(g))return g.toISOString();if(Ae.isBoolean(g))return g.toString();if(!u&&Ae.isBlob(g))throw new Wt("Blob is not supported. Use a Buffer instead.");return Ae.isArrayBuffer(g)||Ae.isTypedArray(g)?u&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function f(g,v,x){let w=g;if(g&&!x&&typeof g=="object"){if(Ae.endsWith(v,"{}"))v=a?v:v.slice(0,-2),g=JSON.stringify(g);else if(Ae.isArray(g)&&wBe(g)||(Ae.isFileList(g)||Ae.endsWith(v,"[]"))&&(w=Ae.toArray(g)))return v=qY(v),w.forEach(function(_,S){!(Ae.isUndefined(_)||_===null)&&r.append(o===!0?B$([v],S,i):o===null?v:v+"[]",d(_))}),!1}return eT(g)?!0:(r.append(B$(x,v,i),d(g)),!1)}const h=[],m=Object.assign(_Be,{defaultVisitor:f,convertValue:d,isVisitable:eT});function p(g,v){if(!Ae.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(g),Ae.forEach(g,function(w,b){(!(Ae.isUndefined(w)||w===null)&&s.call(r,w,Ae.isString(b)?b.trim():b,v,m))===!0&&p(w,v?v.concat(b):[b])}),h.pop()}}if(!Ae.isObject(e))throw new TypeError("data must be an object");return p(e),r}function U$(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function n4(e,r){this._pairs=[],e&&sj(e,this,r)}const KY=n4.prototype;KY.append=function(r,n){this._pairs.push([r,n])};KY.toString=function(r){const n=r?function(a){return r.call(this,a,U$)}:U$;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function SBe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function GY(e,r,n){if(!r)return e;const a=n&&n.encode||SBe;Ae.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(r,n):i=Ae.isURLSearchParams(r)?r.toString():new n4(r,n).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class V${constructor(){this.handlers=[]}use(r,n,a){return this.handlers.push({fulfilled:r,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Ae.forEach(this.handlers,function(a){a!==null&&r(a)})}}const YY={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jBe=typeof URLSearchParams<"u"?URLSearchParams:n4,kBe=typeof FormData<"u"?FormData:null,NBe=typeof Blob<"u"?Blob:null,CBe={isBrowser:!0,classes:{URLSearchParams:jBe,FormData:kBe,Blob:NBe},protocols:["http","https","file","blob","url","data"]},a4=typeof window<"u"&&typeof document<"u",tT=typeof navigator=="object"&&navigator||void 0,EBe=a4&&(!tT||["ReactNative","NativeScript","NS"].indexOf(tT.product)<0),TBe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ABe=a4&&window.location.href||"http://localhost",OBe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:a4,hasStandardBrowserEnv:EBe,hasStandardBrowserWebWorkerEnv:TBe,navigator:tT,origin:ABe},Symbol.toStringTag,{value:"Module"})),Ia={...OBe,...CBe};function PBe(e,r){return sj(e,new Ia.classes.URLSearchParams,{visitor:function(n,a,s,i){return Ia.isNode&&Ae.isBuffer(n)?(this.append(a,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function DBe(e){return Ae.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function RBe(e){const r={},n=Object.keys(e);let a;const s=n.length;let i;for(a=0;a<s;a++)i=n[a],r[i]=e[i];return r}function XY(e){function r(n,a,s,i){let o=n[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),u=i>=n.length;return o=!o&&Ae.isArray(s)?s.length:o,u?(Ae.hasOwnProp(s,o)?s[o]=[s[o],a]:s[o]=a,!c):((!s[o]||!Ae.isObject(s[o]))&&(s[o]=[]),r(n,a,s[o],i)&&Ae.isArray(s[o])&&(s[o]=RBe(s[o])),!c)}if(Ae.isFormData(e)&&Ae.isFunction(e.entries)){const n={};return Ae.forEachEntry(e,(a,s)=>{r(DBe(a),s,n,0)}),n}return null}function IBe(e,r,n){if(Ae.isString(e))try{return(r||JSON.parse)(e),Ae.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(0,JSON.stringify)(e)}const Jx={transitional:YY,adapter:["xhr","http","fetch"],transformRequest:[function(r,n){const a=n.getContentType()||"",s=a.indexOf("application/json")>-1,i=Ae.isObject(r);if(i&&Ae.isHTMLForm(r)&&(r=new FormData(r)),Ae.isFormData(r))return s?JSON.stringify(XY(r)):r;if(Ae.isArrayBuffer(r)||Ae.isBuffer(r)||Ae.isStream(r)||Ae.isFile(r)||Ae.isBlob(r)||Ae.isReadableStream(r))return r;if(Ae.isArrayBufferView(r))return r.buffer;if(Ae.isURLSearchParams(r))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let c;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return PBe(r,this.formSerializer).toString();if((c=Ae.isFileList(r))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return sj(c?{"files[]":r}:r,u&&new u,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),IBe(r)):r}],transformResponse:[function(r){const n=this.transitional||Jx.transitional,a=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Ae.isResponse(r)||Ae.isReadableStream(r))return r;if(r&&Ae.isString(r)&&(a&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(r,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?Wt.from(c,Wt.ERR_BAD_RESPONSE,this,null,this.response):c}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ia.classes.FormData,Blob:Ia.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ae.forEach(["delete","get","head","post","put","patch"],e=>{Jx.headers[e]={}});const MBe=Ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FBe=e=>{const r={};let n,a,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),a=o.substring(s+1).trim(),!(!n||r[n]&&MBe[n])&&(n==="set-cookie"?r[n]?r[n].push(a):r[n]=[a]:r[n]=r[n]?r[n]+", "+a:a)}),r},z$=Symbol("internals");function D0(e){return e&&String(e).trim().toLowerCase()}function W1(e){return e===!1||e==null?e:Ae.isArray(e)?e.map(W1):String(e)}function LBe(e){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)r[a[1]]=a[2];return r}const $Be=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function fN(e,r,n,a,s){if(Ae.isFunction(a))return a.call(this,r,n);if(s&&(r=n),!!Ae.isString(r)){if(Ae.isString(a))return r.indexOf(a)!==-1;if(Ae.isRegExp(a))return a.test(r)}}function BBe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,a)=>n.toUpperCase()+a)}function UBe(e,r){const n=Ae.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(s,i,o){return this[a].call(this,r,s,i,o)},configurable:!0})})}class Ps{constructor(r){r&&this.set(r)}set(r,n,a){const s=this;function i(c,u,d){const f=D0(u);if(!f)throw new Error("header name must be a non-empty string");const h=Ae.findKey(s,f);(!h||s[h]===void 0||d===!0||d===void 0&&s[h]!==!1)&&(s[h||u]=W1(c))}const o=(c,u)=>Ae.forEach(c,(d,f)=>i(d,f,u));if(Ae.isPlainObject(r)||r instanceof this.constructor)o(r,n);else if(Ae.isString(r)&&(r=r.trim())&&!$Be(r))o(FBe(r),n);else if(Ae.isObject(r)&&Ae.isIterable(r)){let c={},u,d;for(const f of r){if(!Ae.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[d=f[0]]=(u=c[d])?Ae.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(c,n)}else r!=null&&i(n,r,a);return this}get(r,n){if(r=D0(r),r){const a=Ae.findKey(this,r);if(a){const s=this[a];if(!n)return s;if(n===!0)return LBe(s);if(Ae.isFunction(n))return n.call(this,s,a);if(Ae.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=D0(r),r){const a=Ae.findKey(this,r);return!!(a&&this[a]!==void 0&&(!n||fN(this,this[a],a,n)))}return!1}delete(r,n){const a=this;let s=!1;function i(o){if(o=D0(o),o){const c=Ae.findKey(a,o);c&&(!n||fN(a,a[c],c,n))&&(delete a[c],s=!0)}}return Ae.isArray(r)?r.forEach(i):i(r),s}clear(r){const n=Object.keys(this);let a=n.length,s=!1;for(;a--;){const i=n[a];(!r||fN(this,this[i],i,r,!0))&&(delete this[i],s=!0)}return s}normalize(r){const n=this,a={};return Ae.forEach(this,(s,i)=>{const o=Ae.findKey(a,i);if(o){n[o]=W1(s),delete n[i];return}const c=r?BBe(i):String(i).trim();c!==i&&delete n[i],n[c]=W1(s),a[c]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return Ae.forEach(this,(a,s)=>{a!=null&&a!==!1&&(n[s]=r&&Ae.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const a=new this(r);return n.forEach(s=>a.set(s)),a}static accessor(r){const a=(this[z$]=this[z$]={accessors:{}}).accessors,s=this.prototype;function i(o){const c=D0(o);a[c]||(UBe(s,o),a[c]=!0)}return Ae.isArray(r)?r.forEach(i):i(r),this}}Ps.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ae.reduceDescriptors(Ps.prototype,({value:e},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(a){this[n]=a}}});Ae.freezeMethods(Ps);function hN(e,r){const n=this||Jx,a=r||n,s=Ps.from(a.headers);let i=a.data;return Ae.forEach(e,function(c){i=c.call(n,i,s.normalize(),r?r.status:void 0)}),s.normalize(),i}function JY(e){return!!(e&&e.__CANCEL__)}function i0(e,r,n){Wt.call(this,e??"canceled",Wt.ERR_CANCELED,r,n),this.name="CanceledError"}Ae.inherits(i0,Wt,{__CANCEL__:!0});function QY(e,r,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):r(new Wt("Request failed with status code "+n.status,[Wt.ERR_BAD_REQUEST,Wt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function VBe(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function zBe(e,r){e=e||10;const n=new Array(e),a=new Array(e);let s=0,i=0,o;return r=r!==void 0?r:1e3,function(u){const d=Date.now(),f=a[i];o||(o=d),n[s]=u,a[s]=d;let h=i,m=0;for(;h!==s;)m+=n[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-o<r)return;const p=f&&d-f;return p?Math.round(m*1e3/p):void 0}}function WBe(e,r){let n=0,a=1e3/r,s,i;const o=(d,f=Date.now())=>{n=f,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const f=Date.now(),h=f-n;h>=a?o(d,f):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},a-h)))},()=>s&&o(s)]}const Ww=(e,r,n=3)=>{let a=0;const s=zBe(50,250);return WBe(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,u=o-a,d=s(u),f=o<=c;a=o;const h={loaded:o,total:c,progress:c?o/c:void 0,bytes:u,rate:d||void 0,estimated:d&&c&&f?(c-o)/d:void 0,event:i,lengthComputable:c!=null,[r?"download":"upload"]:!0};e(h)},n)},W$=(e,r)=>{const n=e!=null;return[a=>r[0]({lengthComputable:n,total:e,loaded:a}),r[1]]},H$=e=>(...r)=>Ae.asap(()=>e(...r)),HBe=Ia.hasStandardBrowserEnv?((e,r)=>n=>(n=new URL(n,Ia.origin),e.protocol===n.protocol&&e.host===n.host&&(r||e.port===n.port)))(new URL(Ia.origin),Ia.navigator&&/(msie|trident)/i.test(Ia.navigator.userAgent)):()=>!0,qBe=Ia.hasStandardBrowserEnv?{write(e,r,n,a,s,i,o){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(r)}`];Ae.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),Ae.isString(a)&&c.push(`path=${a}`),Ae.isString(s)&&c.push(`domain=${s}`),i===!0&&c.push("secure"),Ae.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function KBe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function GBe(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function ZY(e,r,n){let a=!KBe(r);return e&&(a||n==!1)?GBe(e,r):r}const q$=e=>e instanceof Ps?{...e}:e;function Tf(e,r){r=r||{};const n={};function a(d,f,h,m){return Ae.isPlainObject(d)&&Ae.isPlainObject(f)?Ae.merge.call({caseless:m},d,f):Ae.isPlainObject(f)?Ae.merge({},f):Ae.isArray(f)?f.slice():f}function s(d,f,h,m){if(Ae.isUndefined(f)){if(!Ae.isUndefined(d))return a(void 0,d,h,m)}else return a(d,f,h,m)}function i(d,f){if(!Ae.isUndefined(f))return a(void 0,f)}function o(d,f){if(Ae.isUndefined(f)){if(!Ae.isUndefined(d))return a(void 0,d)}else return a(void 0,f)}function c(d,f,h){if(h in r)return a(d,f);if(h in e)return a(void 0,d)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(d,f,h)=>s(q$(d),q$(f),h,!0)};return Ae.forEach(Object.keys({...e,...r}),function(f){const h=u[f]||s,m=h(e[f],r[f],f);Ae.isUndefined(m)&&h!==c||(n[f]=m)}),n}const eX=e=>{const r=Tf({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:c}=r;if(r.headers=o=Ps.from(o),r.url=GY(ZY(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Ae.isFormData(n)){if(Ia.hasStandardBrowserEnv||Ia.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ae.isFunction(n.getHeaders)){const u=n.getHeaders(),d=["content-type","content-length"];Object.entries(u).forEach(([f,h])=>{d.includes(f.toLowerCase())&&o.set(f,h)})}}if(Ia.hasStandardBrowserEnv&&(a&&Ae.isFunction(a)&&(a=a(r)),a||a!==!1&&HBe(r.url))){const u=s&&i&&qBe.read(i);u&&o.set(s,u)}return r},YBe=typeof XMLHttpRequest<"u",XBe=YBe&&function(e){return new Promise(function(n,a){const s=eX(e);let i=s.data;const o=Ps.from(s.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:d}=s,f,h,m,p,g;function v(){p&&p(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function w(){if(!x)return;const _=Ps.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),j={data:!c||c==="text"||c==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:_,config:e,request:x};QY(function(k){n(k),v()},function(k){a(k),v()},j),x=null}"onloadend"in x?x.onloadend=w:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(w)},x.onabort=function(){x&&(a(new Wt("Request aborted",Wt.ECONNABORTED,e,x)),x=null)},x.onerror=function(S){const j=S&&S.message?S.message:"Network Error",N=new Wt(j,Wt.ERR_NETWORK,e,x);N.event=S||null,a(N),x=null},x.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||YY;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),a(new Wt(S,j.clarifyTimeoutError?Wt.ETIMEDOUT:Wt.ECONNABORTED,e,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&Ae.forEach(o.toJSON(),function(S,j){x.setRequestHeader(j,S)}),Ae.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),c&&c!=="json"&&(x.responseType=s.responseType),d&&([m,g]=Ww(d,!0),x.addEventListener("progress",m)),u&&x.upload&&([h,p]=Ww(u),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(f=_=>{x&&(a(!_||_.type?new i0(null,e,x):_),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const b=VBe(s.url);if(b&&Ia.protocols.indexOf(b)===-1){a(new Wt("Unsupported protocol "+b+":",Wt.ERR_BAD_REQUEST,e));return}x.send(i||null)})},JBe=(e,r)=>{const{length:n}=e=e?e.filter(Boolean):[];if(r||n){let a=new AbortController,s;const i=function(d){if(!s){s=!0,c();const f=d instanceof Error?d:this.reason;a.abort(f instanceof Wt?f:new i0(f instanceof Error?f.message:f))}};let o=r&&setTimeout(()=>{o=null,i(new Wt(`timeout ${r} of ms exceeded`,Wt.ETIMEDOUT))},r);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:u}=a;return u.unsubscribe=()=>Ae.asap(c),u}},QBe=function*(e,r){let n=e.byteLength;if(n<r){yield e;return}let a=0,s;for(;a<n;)s=a+r,yield e.slice(a,s),a=s},ZBe=async function*(e,r){for await(const n of eUe(e))yield*QBe(n,r)},eUe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:n,value:a}=await r.read();if(n)break;yield a}}finally{await r.cancel()}},K$=(e,r,n,a)=>{const s=ZBe(e,r);let i=0,o,c=u=>{o||(o=!0,a&&a(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await s.next();if(d){c(),u.close();return}let h=f.byteLength;if(n){let m=i+=h;n(m)}u.enqueue(new Uint8Array(f))}catch(d){throw c(d),d}},cancel(u){return c(u),s.return()}},{highWaterMark:2})},G$=64*1024,{isFunction:o1}=Ae,tUe=(({Request:e,Response:r})=>({Request:e,Response:r}))(Ae.global),{ReadableStream:Y$,TextEncoder:X$}=Ae.global,J$=(e,...r)=>{try{return!!e(...r)}catch{return!1}},rUe=e=>{e=Ae.merge.call({skipUndefined:!0},tUe,e);const{fetch:r,Request:n,Response:a}=e,s=r?o1(r):typeof fetch=="function",i=o1(n),o=o1(a);if(!s)return!1;const c=s&&o1(Y$),u=s&&(typeof X$=="function"?(g=>v=>g.encode(v))(new X$):async g=>new Uint8Array(await new n(g).arrayBuffer())),d=i&&c&&J$(()=>{let g=!1;const v=new n(Ia.origin,{body:new Y$,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!v}),f=o&&c&&J$(()=>Ae.isReadableStream(new a("").body)),h={stream:f&&(g=>g.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(v,x)=>{let w=v&&v[g];if(w)return w.call(v);throw new Wt(`Response type '${g}' is not supported`,Wt.ERR_NOT_SUPPORT,x)})});const m=async g=>{if(g==null)return 0;if(Ae.isBlob(g))return g.size;if(Ae.isSpecCompliantForm(g))return(await new n(Ia.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Ae.isArrayBufferView(g)||Ae.isArrayBuffer(g))return g.byteLength;if(Ae.isURLSearchParams(g)&&(g=g+""),Ae.isString(g))return(await u(g)).byteLength},p=async(g,v)=>{const x=Ae.toFiniteNumber(g.getContentLength());return x??m(v)};return async g=>{let{url:v,method:x,data:w,signal:b,cancelToken:_,timeout:S,onDownloadProgress:j,onUploadProgress:N,responseType:k,headers:E,withCredentials:C="same-origin",fetchOptions:A}=eX(g),D=r||fetch;k=k?(k+"").toLowerCase():"text";let T=JBe([b,_&&_.toAbortSignal()],S),W=null;const q=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let L;try{if(N&&d&&x!=="get"&&x!=="head"&&(L=await p(E,w))!==0){let ee=new n(v,{method:"POST",body:w,duplex:"half"}),P;if(Ae.isFormData(w)&&(P=ee.headers.get("content-type"))&&E.setContentType(P),ee.body){const[J,V]=W$(L,Ww(H$(N)));w=K$(ee.body,G$,J,V)}}Ae.isString(C)||(C=C?"include":"omit");const I=i&&"credentials"in n.prototype,z={...A,signal:T,method:x.toUpperCase(),headers:E.normalize().toJSON(),body:w,duplex:"half",credentials:I?C:void 0};W=i&&new n(v,z);let F=await(i?D(W,A):D(v,z));const M=f&&(k==="stream"||k==="response");if(f&&(j||M&&q)){const ee={};["status","statusText","headers"].forEach(K=>{ee[K]=F[K]});const P=Ae.toFiniteNumber(F.headers.get("content-length")),[J,V]=j&&W$(P,Ww(H$(j),!0))||[];F=new a(K$(F.body,G$,J,()=>{V&&V(),q&&q()}),ee)}k=k||"text";let X=await h[Ae.findKey(h,k)||"text"](F,g);return!M&&q&&q(),await new Promise((ee,P)=>{QY(ee,P,{data:X,headers:Ps.from(F.headers),status:F.status,statusText:F.statusText,config:g,request:W})})}catch(I){throw q&&q(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new Wt("Network Error",Wt.ERR_NETWORK,g,W),{cause:I.cause||I}):Wt.from(I,I&&I.code,g,W)}}},nUe=new Map,tX=e=>{let r=e&&e.env||{};const{fetch:n,Request:a,Response:s}=r,i=[a,s,n];let o=i.length,c=o,u,d,f=nUe;for(;c--;)u=i[c],d=f.get(u),d===void 0&&f.set(u,d=c?new Map:rUe(r)),f=d;return d};tX();const s4={http:bBe,xhr:XBe,fetch:{get:tX}};Ae.forEach(s4,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const Q$=e=>`- ${e}`,aUe=e=>Ae.isFunction(e)||e===null||e===!1;function sUe(e,r){e=Ae.isArray(e)?e:[e];const{length:n}=e;let a,s;const i={};for(let o=0;o<n;o++){a=e[o];let c;if(s=a,!aUe(a)&&(s=s4[(c=String(a)).toLowerCase()],s===void 0))throw new Wt(`Unknown adapter '${c}'`);if(s&&(Ae.isFunction(s)||(s=s.get(r))))break;i[c||"#"+o]=s}if(!s){const o=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=n?o.length>1?`since :
`+o.map(Q$).join(`
`):" "+Q$(o[0]):"as no adapter specified";throw new Wt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s}const rX={getAdapter:sUe,adapters:s4};function mN(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new i0(null,e)}function Z$(e){return mN(e),e.headers=Ps.from(e.headers),e.data=hN.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),rX.getAdapter(e.adapter||Jx.adapter,e)(e).then(function(a){return mN(e),a.data=hN.call(e,e.transformResponse,a),a.headers=Ps.from(a.headers),a},function(a){return JY(a)||(mN(e),a&&a.response&&(a.response.data=hN.call(e,e.transformResponse,a.response),a.response.headers=Ps.from(a.response.headers))),Promise.reject(a)})}const nX="1.13.2",ij={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{ij[e]=function(a){return typeof a===e||"a"+(r<1?"n ":" ")+e}});const e5={};ij.transitional=function(r,n,a){function s(i,o){return"[Axios v"+nX+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,c)=>{if(r===!1)throw new Wt(s(o," has been removed"+(n?" in "+n:"")),Wt.ERR_DEPRECATED);return n&&!e5[o]&&(e5[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(i,o,c):!0}};ij.spelling=function(r){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function iUe(e,r,n){if(typeof e!="object")throw new Wt("options must be an object",Wt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const i=a[s],o=r[i];if(o){const c=e[i],u=c===void 0||o(c,i,e);if(u!==!0)throw new Wt("option "+i+" must be "+u,Wt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Wt("Unknown option "+i,Wt.ERR_BAD_OPTION)}}const H1={assertOptions:iUe,validators:ij},Wo=H1.validators;class af{constructor(r){this.defaults=r||{},this.interceptors={request:new V$,response:new V$}}async request(r,n){try{return await this._request(r,n)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=Tf(this.defaults,n);const{transitional:a,paramsSerializer:s,headers:i}=n;a!==void 0&&H1.assertOptions(a,{silentJSONParsing:Wo.transitional(Wo.boolean),forcedJSONParsing:Wo.transitional(Wo.boolean),clarifyTimeoutError:Wo.transitional(Wo.boolean)},!1),s!=null&&(Ae.isFunction(s)?n.paramsSerializer={serialize:s}:H1.assertOptions(s,{encode:Wo.function,serialize:Wo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),H1.assertOptions(n,{baseUrl:Wo.spelling("baseURL"),withXsrfToken:Wo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&Ae.merge(i.common,i[n.method]);i&&Ae.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=Ps.concat(o,i);const c=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(u=u&&v.synchronous,c.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let f,h=0,m;if(!u){const g=[Z$.bind(this),void 0];for(g.unshift(...c),g.push(...d),m=g.length,f=Promise.resolve(n);h<m;)f=f.then(g[h++],g[h++]);return f}m=c.length;let p=n;for(;h<m;){const g=c[h++],v=c[h++];try{p=g(p)}catch(x){v.call(this,x);break}}try{f=Z$.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,m=d.length;h<m;)f=f.then(d[h++],d[h++]);return f}getUri(r){r=Tf(this.defaults,r);const n=ZY(r.baseURL,r.url,r.allowAbsoluteUrls);return GY(n,r.params,r.paramsSerializer)}}Ae.forEach(["delete","get","head","options"],function(r){af.prototype[r]=function(n,a){return this.request(Tf(a||{},{method:r,url:n,data:(a||{}).data}))}});Ae.forEach(["post","put","patch"],function(r){function n(a){return function(i,o,c){return this.request(Tf(c||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}af.prototype[r]=n(),af.prototype[r+"Form"]=n(!0)});class i4{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const a=this;this.promise.then(s=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](s);a._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(c=>{a.subscribe(c),i=c}).then(s);return o.cancel=function(){a.unsubscribe(i)},o},r(function(i,o,c){a.reason||(a.reason=new i0(i,o,c),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const r=new AbortController,n=a=>{r.abort(a)};return this.subscribe(n),r.signal.unsubscribe=()=>this.unsubscribe(n),r.signal}static source(){let r;return{token:new i4(function(s){r=s}),cancel:r}}}function oUe(e){return function(n){return e.apply(null,n)}}function lUe(e){return Ae.isObject(e)&&e.isAxiosError===!0}const rT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(rT).forEach(([e,r])=>{rT[r]=e});function aX(e){const r=new af(e),n=MY(af.prototype.request,r);return Ae.extend(n,af.prototype,r,{allOwnKeys:!0}),Ae.extend(n,r,null,{allOwnKeys:!0}),n.create=function(s){return aX(Tf(e,s))},n}const Gr=aX(Jx);Gr.Axios=af;Gr.CanceledError=i0;Gr.CancelToken=i4;Gr.isCancel=JY;Gr.VERSION=nX;Gr.toFormData=sj;Gr.AxiosError=Wt;Gr.Cancel=Gr.CanceledError;Gr.all=function(r){return Promise.all(r)};Gr.spread=oUe;Gr.isAxiosError=lUe;Gr.mergeConfig=Tf;Gr.AxiosHeaders=Ps;Gr.formToJSON=e=>XY(Ae.isHTMLForm(e)?new FormData(e):e);Gr.getAdapter=rX.getAdapter;Gr.HttpStatusCode=rT;Gr.default=Gr;const R0="https://app.chatwoot.com",Ho="pMLFqLKix7PAnMnWJDorh2ne",qo="144075",l1={async getConversations(e="open",r=1){var n;try{const s=(await Gr.get(`${R0}/api/v1/accounts/${qo}/conversations`,{headers:{api_access_token:Ho},params:{status:e,page:r}})).data;return(n=s==null?void 0:s.data)!=null&&n.payload?s.data.payload:s!=null&&s.payload?s.payload:[]}catch(a){return console.error("[Chatwoot] Failed to fetch conversations:",a),[]}},async getMessages(e){try{return(await Gr.get(`${R0}/api/v1/accounts/${qo}/conversations/${e}/messages`,{headers:{api_access_token:Ho}})).data.payload||[]}catch(r){return console.error(`[Chatwoot] Failed to fetch messages for conversation ${e}:`,r),[]}},async sendMessage(e,r,n=!1){try{return(await Gr.post(`${R0}/api/v1/accounts/${qo}/conversations/${e}/messages`,{content:r,message_type:n?"private":"outgoing",private:n},{headers:{api_access_token:Ho}})).data}catch(a){throw console.error(`[Chatwoot] Failed to send message to ${e}:`,a),a}},async toggleStatus(e,r){try{await Gr.post(`${R0}/api/v1/accounts/${qo}/conversations/${e}/toggle_status`,{status:r},{headers:{api_access_token:Ho}})}catch(n){throw console.error(`[Chatwoot] Failed to toggle status for ${e}:`,n),n}},async getInboxes(){try{return(await Gr.get(`${R0}/api/v1/accounts/${qo}/inboxes`,{headers:{api_access_token:Ho}})).data.payload||[]}catch(e){return console.error("[Chatwoot] Failed to fetch inboxes:",e),[]}}};function cUe(){const{t:e}=Kt();xr(),Ol();const[r,n]=y.useState([]),[a,s]=y.useState(null),[i,o]=y.useState([]),[c,u]=y.useState(!0),[d,f]=y.useState(!1),[h,m]=y.useState(!1),[p,g]=y.useState(""),[v,x]=y.useState("open"),w=y.useRef(null);y.useEffect(()=>{b(v);const E=setInterval(()=>{b(v,!0)},3e4);return()=>clearInterval(E)},[v]),y.useEffect(()=>{if(a){_(a.id);const E=setInterval(()=>_(a.id),1e4);return()=>clearInterval(E)}},[a]),y.useEffect(()=>{w.current&&(w.current.scrollTop=w.current.scrollHeight)},[i]);const b=async(E,C=!1)=>{C||u(!0);try{const A=await l1.getConversations(E);n(A||[])}catch(A){console.error("Failed to load conversations:",A),C||console.error("User notification skipped for load error")}finally{C||u(!1)}},_=async E=>{i.length===0&&f(!0);try{const C=await l1.getMessages(E);o(C)}catch(C){console.error("Failed to load messages",C)}finally{f(!1)}},S=async()=>{if(!(!p.trim()||!a)){m(!0);try{const E=await l1.sendMessage(a.id,p);E&&(o(C=>[...C,E]),g(""))}catch(E){console.error("Failed to send message",E)}finally{m(!1)}}},j=async E=>{try{const C=v==="open"?"resolved":"open";await l1.toggleStatus(E,C),v!=="all"?(n(A=>A.filter(D=>D.id!==E)),(a==null?void 0:a.id)===E&&(s(null),o([]))):(n(A=>A.map(D=>D.id===E?{...D,status:C}:D)),b(v))}catch(C){console.error("Failed to toggle status",C)}},N=E=>E!=null&&E.includes("email")?l.jsx(_d,{className:"h-4 w-4"}):E!=null&&E.includes("whatsapp")?l.jsx(tm,{className:"h-4 w-4"}):l.jsx(Lu,{className:"h-4 w-4"}),k=E=>new Date(E*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return l.jsxs("div",{className:"flex flex-1 overflow-hidden bg-background border rounded-lg shadow-sm",dir:nr()?"rtl":"ltr",children:[l.jsxs("div",{className:"w-80 border-r flex flex-col bg-muted/10",children:[l.jsxs("div",{className:"p-4 border-b space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"font-semibold text-lg",children:e("navigation.chats")}),l.jsx(le,{variant:"ghost",size:"icon",onClick:()=>b(v),disabled:c,children:l.jsx(nv,{className:`h-4 w-4 ${c?"animate-spin":""}`})})]}),l.jsx(Cl,{defaultValue:"open",onValueChange:E=>x(E),className:"w-full",children:l.jsxs(Lo,{className:"grid w-full grid-cols-3",children:[l.jsx(tn,{value:"open",children:e("status.open")}),l.jsx(tn,{value:"resolved",children:e("status.closed")}),l.jsx(tn,{value:"all",children:e("common.all")})]})}),l.jsxs("div",{className:"relative",children:[l.jsx(Ws,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(We,{placeholder:e("common.search"),className:"pl-8 bg-background"})]})]}),l.jsx(da,{className:"flex-1",children:r.length===0&&!c?l.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:e("common.noRecordsFound")}):l.jsx("div",{className:"divide-y",children:r.map(E=>l.jsxs("div",{className:`p-4 cursor-pointer hover:bg-accent/50 transition-colors ${(a==null?void 0:a.id)===E.id?"bg-accent/80 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}`,onClick:()=>s(E),children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Rs,{className:"h-8 w-8",children:[l.jsx(Do,{src:E.meta.sender.thumbnail}),l.jsx(Is,{children:E.meta.sender.name.charAt(0)})]}),l.jsx("span",{className:"font-medium text-sm truncate max-w-[120px]",children:E.meta.sender.name})]}),l.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:k(E.timestamp)})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[N(E.meta.channel),l.jsx("span",{className:"capitalize",children:E.meta.channel.split(".")[1]||"Web"}),E.status==="resolved"&&l.jsx(ft,{variant:"outline",className:"text-[10px] h-4 px-1 ml-auto",children:e("chats.resolved")})]}),l.jsx("p",{className:"text-sm text-muted-foreground truncate line-clamp-1",children:E.messages&&E.messages.length>0?E.messages[E.messages.length-1].content:e("common.noMessages")||"No messages"})]},E.id))})})]}),l.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:a?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-card",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(Rs,{children:[l.jsx(Do,{src:a.meta.sender.thumbnail}),l.jsx(Is,{children:a.meta.sender.name.charAt(0)})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:a.meta.sender.name}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.meta.sender.email&&l.jsx("span",{children:a.meta.sender.email}),a.meta.sender.phone_number&&l.jsxs("span",{children:[" ",a.meta.sender.phone_number]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(le,{variant:a.status==="resolved"?"outline":"default",size:"sm",onClick:()=>j(a.id),children:a.status==="resolved"?l.jsxs(l.Fragment,{children:[l.jsx(nv,{className:"mr-2 h-4 w-4"})," ",e("status.reopen")]}):l.jsxs(l.Fragment,{children:[l.jsx(vI,{className:"mr-2 h-4 w-4"})," ",e("status.resolve")]})}),l.jsxs(dO,{children:[l.jsx(fO,{asChild:!0,children:l.jsx(le,{variant:"ghost",size:"icon",children:l.jsx(QU,{className:"h-4 w-4"})})}),l.jsxs(Y_,{align:"end",children:[l.jsx(Xl,{children:e("chats.viewContactDetails")}),l.jsx(Xl,{className:"text-red-500",children:e("chats.deleteConversation")})]})]})]})]}),l.jsx("div",{ref:w,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-muted/5 scroll-smooth",children:d?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):i.map(E=>{const C=E.message_type==="outgoing"||E.sender&&E.sender.type==="user",A=E.private;return l.jsx("div",{className:`flex w-full ${C?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 shadow-sm ${A?"bg-yellow-50 border border-yellow-200":C?"bg-primary text-primary-foreground":"bg-white border text-foreground"}`,children:[A&&l.jsxs("div",{className:"text-[10px] uppercase font-bold text-yellow-600 mb-1 flex items-center gap-1",children:[l.jsx(hie,{className:"h-3 w-3"})," ",e("chats.note")]}),l.jsx("div",{className:"text-sm whitespace-pre-wrap",children:E.content}),l.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${C?"text-primary-foreground/70":"text-muted-foreground"}`,children:[k(E.created_at),C&&l.jsx(vI,{className:"h-3 w-3"})]})]})},E.id)})}),l.jsxs("div",{className:"p-4 border-t bg-background",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(We,{placeholder:e("chats.typeMessage"),value:p,onChange:E=>g(E.target.value),onKeyDown:E=>E.key==="Enter"&&!E.shiftKey&&S(),disabled:h||a.status==="resolved",className:"flex-1"}),l.jsx(le,{onClick:S,disabled:h||!p.trim()||a.status==="resolved",children:h?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):l.jsx(vx,{className:"h-4 w-4"})})]}),a.status==="resolved"&&l.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:e("chats.resolvedMessage")})]})]}):l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground",children:[l.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mb-4",children:l.jsx(Lu,{className:"h-8 w-8 text-muted-foreground/50"})}),l.jsx("h3",{className:"text-lg font-semibold mb-1",children:e("chats.selectConversation")}),l.jsx("p",{className:"max-w-xs text-center text-sm",children:e("chats.connectDescription")})]})})]})}const nT={async signUpStaff(e,r,n){console.log("[authService] Creating staff user:",{email:e,userData:n});try{const{data:a,error:s}=await supabase.auth.signUp({email:e,password:r});if(s)throw s;if(!a.user)throw new Error("No user data returned from sign up");console.log("[authService] Auth user created:",a.user.id);const i=await G.users.create({name:n.name,Email:e,permissions:n.role==="admin"?1:2,IsActive:1,Employee:1,userid:a.user.id});return console.log("[authService] User profile created in MySQL:",i),console.log("[authService] User profile created:",i),{id:a.user.id,email:e,role:n.role,profile:{userid:i.userid,name:i.name||n.name,Email:i.Email||e,permissions:i.permissions||(n.role==="admin"?1:2),IsActive:i.IsActive||1,Employee:i.Employee||1,AccountNumber:i.AccountNumber||null,mobile:i.mobile||null,user_pasword:i.user_pasword||null,pin:i.pin||null,Owner:i.Owner||0,Email_v:i.Email_v||0,isAllBranches:i.isAllBranches||0,Safe:i.Safe||1,created_at:i.created_at||new Date().toISOString(),updated_at:i.updated_at||new Date().toISOString()}}}catch(a){throw console.error("[authService] Error in signUpStaff:",a),a}},async createStaffUser(e,r,n){console.log("[authService] Creating staff user via custom API:",{email:e,userData:n});try{const s=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",s),c=Array.from(new Uint8Array(i)).map(d=>d.toString(16).padStart(2,"0")).join(""),u=await G.Users.create({name:n.name,Email:e,user_pasword:c,permissions:n.role==="admin"?1:(n.role==="manager",2),IsActive:1,Employee:1,userid:`staff_${Date.now()}_${Math.random().toString(36).substr(2,9)}`});return console.log("[authService] Staff user created successfully:",u),{id:u.userid,email:e,role:n.role,profile:{userid:u.userid,name:u.name||n.name,Email:u.Email||e,permissions:u.permissions||(n.role==="admin"?1:2),IsActive:u.IsActive||1,Employee:u.Employee||1,AccountNumber:u.AccountNumber||null,mobile:u.mobile||null,user_pasword:u.user_pasword||null,pin:u.pin||null,Owner:u.Owner||0,Email_v:u.Email_v||0,isAllBranches:u.isAllBranches||0,Safe:u.Safe||1,created_at:u.created_at||new Date().toISOString(),updated_at:u.updated_at||new Date().toISOString()}}}catch(a){throw console.error("[authService] Error in createStaffUser:",a),a}},async updateUserRole(e,r){console.log("[authService] Updating user role:",{targetUserId:e,newRole:r});try{const n=r==="admin"?1:2;await G.Users.update(e,{permissions:n}),console.log("[authService] User role updated successfully")}catch(n){throw console.error("[authService] Error in updateUserRole:",n),n}},async updateUser(e,r){console.log("[authService] Updating user details:",{targetUserId:e,userData:r});try{await G.Users.update(e,r),console.log("[authService] User details updated successfully")}catch(n){throw console.error("[authService] Error in updateUser:",n),n}},async deleteUser(e){console.log("[authService] Deleting user:",e);try{await G.Users.delete(e),console.log("[authService] User deleted successfully")}catch(r){throw console.error("[authService] Error in deleteUser:",r),r}},async signUpClient(e,r,n){console.log("[authService] Signing up client:",{email:e,...n});const{data:a,error:s}=await supabase.auth.signUp({email:e,password:r});if(s)throw s;if(!a.user)throw new Error("User creation failed");console.log("[authService] Auth user created:",a.user.id);const i=await G.users.create({name:n.name,Email:e,permissions:3,IsActive:1,Employee:0,mobile:n.contact?String(n.contact):null,userid:a.user.id});return console.log("[authService] User profile created in MySQL:",i),{id:a.user.id,email:e,role:"client",profile:{userid:i.userid,name:i.name||n.name,Email:i.Email||e,permissions:3,mobile:i.mobile||(n.contact?String(n.contact):null),IsActive:1,Employee:0,AccountNumber:null,user_pasword:null,pin:null,Owner:0,Email_v:0,isAllBranches:0,Safe:1,created_at:i.created_at||new Date().toISOString(),updated_at:i.updated_at||new Date().toISOString()}}},async signIn(e,r){var n;console.log("[authService] Signing in with email:",e);try{const{data:a,error:s}=await supabase.auth.signInWithPassword({email:e,password:r});if(s)throw console.error("[authService] Authentication error:",s),s;if(!a.user)throw new Error("Sign in failed: No user data returned");console.log("[authService] User authenticated, fetching profile...");const o=(n=(await G.users.list({exact_filters:{userid:a.user.id}})).data)==null?void 0:n[0];if(!o)throw console.error("[authService] User profile not found in MySQL for user:",a.user.id),new Error("User profile not found");return console.log("[authService] User profile found in MySQL:",o),{id:a.user.id,email:a.user.email,role:o.permissions===1?"admin":"client",profile:{...o}}}catch(a){throw console.error("[authService] Error in signIn:",a),a}},async signOut(){console.log("[authService] Signing out...");try{const{data:{session:e}}=await supabase.auth.getSession();if(!e){console.warn("[authService] No active session found  skipping signOut()");return}const{error:r}=await supabase.auth.signOut();if(r)throw console.error("[authService] Error signing out:",r),r;console.log("[authService] Sign out successful")}catch(e){throw console.error("[authService] Error in signOut:",e),e}},async signInWithGoogle(e="client"){console.log("[authService] Starting Google OAuth sign-in with role:",e);try{localStorage.setItem("oauth_intended_role",e);const{data:r,error:n}=await supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,data:{intended_role:e},queryParams:{access_type:"offline",prompt:"consent select_account"}}});if(n)throw console.error("[authService] Google OAuth error:",n),localStorage.removeItem("oauth_intended_role"),n;console.log("[authService] Google OAuth initiated successfully with role:",e)}catch(r){throw console.error("[authService] Error in Google sign-in:",r),localStorage.removeItem("oauth_intended_role"),r}},async getFreshJwt(){const{data:{session:e},error:r}=await supabase.auth.getSession();if(r)throw r;if(!(e!=null&&e.access_token))throw new Error("No access token available");return e.access_token},async getCurrentUser(e){var r;try{let n;if(e)n={id:e,email:""};else{const{data:{user:i},error:o}=await supabase.auth.getUser();if(o||!i)return null;n=i}console.log("[authService] Fetching profile for:",n.id);const s=(r=(await G.users.list({exact_filters:{userid:n.id}})).data)==null?void 0:r[0];return s?{id:n.id,email:s.Email||n.email||"",role:s.permissions===1?"admin":"client",profile:s}:(console.warn("[authService] User not found in Users table, returning minimal profile"),{id:n.id,email:n.email||"",role:"client",profile:{userid:0,name:"User",Email:n.email||"",permissions:3,IsActive:1,Employee:0,AccountNumber:null,mobile:null,user_pasword:null,pin:null,Owner:0,Email_v:0,isAllBranches:0,Safe:1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}})}catch(n){return console.error("[authService] Error in getCurrentUser:",n),null}},onAuthStateChange(e){let r=null;const{data:{subscription:n}}=supabase.auth.onAuthStateChange(async(a,s)=>{if(console.log("[authService] Auth event:",a),s!=null&&s.user){const i=await this.getCurrentUser(s.user.id);JSON.stringify(i)!==JSON.stringify(r)&&(r=i,e(i))}else r!==null&&(r=null,e(null))});return{data:{subscription:n}}}};function uUe(){const{user:e}=xr(),{t:r}=Kt(),[n,a]=y.useState([]),[s,i]=y.useState(null),[o,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState(""),[m,p]=y.useState(!0),[g,v]=y.useState(!1),[x,w]=y.useState(null),[b,_]=y.useState(null),[S,j]=y.useState(!1),[N,k]=y.useState(!0),E=y.useRef(!1),C=y.useRef(null),A=y.useRef(null);y.useEffect(()=>{e&&!E.current&&D()},[e]),y.useEffect(()=>{s&&(A.current!==s.room_id&&W(),C.current!==s.room_id&&T())},[s]),y.useEffect(()=>{s&&(async()=>{try{await Zr.realtime.setAuth(await nT.getFreshJwt());const z=`room:${s.room_id}:messages`,F=Zr.channel(z,{config:{broadcast:{self:!0,ack:!0},private:!0}});return F.on("broadcast",{event:"*"},M=>{var ee;const X=(ee=M.payload)==null?void 0:ee.record;X&&X.message_id&&c(P=>P.some(V=>V.message_id===X.message_id)?P:[...P.filter(V=>!(V.message_id.startsWith("temp-")&&V.userid===X.userid&&V.content===X.content)),X])}),await F.subscribe(),()=>{F.unsubscribe()}}catch(z){console.error("Failed to setup realtime:",z)}})()},[s]),y.useEffect(()=>{v(!1),w(null),_(null),E.current=!1,C.current=null,A.current=null},[e]);const D=async()=>{if(!E.current)try{p(!0);const I=await Jo.getUserRooms((e==null?void 0:e.id)||"");a(I),I.length>0&&i(I[0]),v(!0),E.current=!0}catch(I){console.error("Failed to load rooms:",I)}finally{p(!1)}},T=async()=>{if(!(!s||C.current===s.room_id))try{const I=await kd.getByRoom(s.room_id);c(I),w(s.room_id),C.current=s.room_id}catch(I){console.error("Failed to load messages:",I)}},W=async()=>{if(!(!s||A.current===s.room_id))try{const I=await Jo.getRoomMembers(s.room_id);d(I),_(s.room_id),A.current=s.room_id}catch(I){console.error("Failed to load room members:",I)}},q=async()=>{if(!f.trim()||!s||!e)return;const I=f.trim(),z={message_id:`temp-${Date.now()}`,room_id:s.room_id,userid:e.id.toString(),content:I,created_at:new Date().toISOString(),metadata:null};c(F=>[...F,z]),h("");try{await kd.create({room_id:s.room_id,userid:e.id.toString(),content:I,metadata:null})}catch(F){console.error("Failed to send message:",F),c(M=>M.filter(X=>X.message_id!==z.message_id)),h(I)}},L=I=>new Date(I).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return m?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})}):l.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-120px)] gap-4 sm:gap-6 pb-6",children:[l.jsxs("div",{className:`flex-col border rounded-lg ${N?"flex w-80":"hidden"} lg:flex lg:w-80`,children:[l.jsx("div",{className:"p-4 border-b",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h2",{className:"text-xl font-semibold",children:r("chats.myChatRooms")})})}),l.jsx(da,{className:"flex-1 p-4",children:l.jsx("div",{className:"space-y-2",children:n.map(I=>l.jsx(lt,{className:`cursor-pointer transition-colors ${(s==null?void 0:s.room_id)===I.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>i(I),children:l.jsx(xt,{className:"p-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ay,{className:"h-5 w-5 text-muted-foreground"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium truncate",children:I.room_name||`Room ${I.room_id.slice(0,8)}`}),l.jsx("p",{className:"text-xs text-muted-foreground",children:I.is_private?r("chats.private"):r("chats.publicRoom")})]})]})})},I.room_id))})})]}),s&&l.jsx("div",{className:"md:hidden mb-4",children:l.jsxs(Sl,{open:S,onOpenChange:j,children:[l.jsx(dW,{asChild:!0,children:l.jsxs(le,{variant:"outline",className:"w-full justify-between",children:[l.jsx("span",{className:"truncate",children:s.room_name||`Room ${s.room_id.slice(0,8)}`}),l.jsx(Ay,{className:"h-4 w-4 ml-2"})]})}),l.jsx(Mo,{side:"left",className:"w-80 p-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-bold",children:r("chats.myChatRooms")}),l.jsx(da,{className:"h-[60vh]",children:l.jsx("div",{className:"space-y-2",children:n.map(I=>l.jsx(lt,{className:`cursor-pointer transition-colors ${(s==null?void 0:s.room_id)===I.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>{i(I),j(!1)},children:l.jsx(xt,{className:"p-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ay,{className:"h-5 w-5 text-muted-foreground"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium truncate",children:I.room_name||`Room ${I.room_id.slice(0,8)}`}),l.jsx("p",{className:"text-xs text-muted-foreground",children:I.is_private?r("chats.private"):r("chats.publicRoom")})]})]})})},I.room_id))})})]})})]})}),l.jsx("div",{className:"flex-1 flex flex-col",children:s?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:s.room_name||`Room ${s.room_id.slice(0,8)}`}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(Fa,{className:"h-4 w-4"}),l.jsxs("span",{children:[u.length," ",r("chats.members")]}),s.is_private&&l.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:r("chats.private")})]})]}),l.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all",onClick:()=>k(!N),children:l.jsx(Rie,{className:"h-4 w-4"})})]}),l.jsx(da,{className:"flex-1 mb-4",children:l.jsx("div",{className:"space-y-4 p-4",children:b===s.room_id&&o.map(I=>{var F,M,X,ee,P;let z;return I.userid===((F=e==null?void 0:e.id)==null?void 0:F.toString())?z={userid:e.id.toString(),user_name:((M=e.profile)==null?void 0:M.user_name)||e.email||r("chats.you"),avatar:(X=e.profile)==null?void 0:X.avatar,user_id:((ee=e.profile)==null?void 0:ee.user_id)||0,user_email:e.email}:z=u.find(J=>J.userid===I.userid),z||(z={userid:I.userid,user_name:r("chats.unknownUser"),avatar:"",user_id:0}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs(Rs,{className:"h-8 w-8",children:[l.jsx(Do,{src:z.avatar||""}),l.jsx(Is,{children:((P=z.user_name)==null?void 0:P.charAt(0))||"?"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"font-medium text-sm",children:z.user_name}),l.jsx("span",{className:"text-xs text-muted-foreground",children:L(I.created_at)})]}),l.jsx("p",{className:"text-sm",children:I.content})]})]},I.message_id)})})}),l.jsxs("div",{className:"flex gap-2 p-4 border-t",children:[l.jsx(We,{value:f,onChange:I=>h(I.target.value),placeholder:r("chats.typeMessage"),onKeyPress:I=>I.key==="Enter"&&q(),className:"flex-1"}),l.jsx(le,{onClick:q,disabled:!f.trim(),children:l.jsx(vx,{className:"h-4 w-4"})})]})]}):l.jsx("div",{className:"flex-1 flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(Ay,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:r("chats.selectRoom")})]})})})]})}function dUe(){const{isRTL:e}=Wa();wn();const[r,n]=y.useState(null),[a,s]=y.useState([]),[i,o]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState(!0),{user:h,signOut:m}=xr();y.useEffect(()=>{(async()=>{if(h!=null&&h.id)try{f(!0);const v=await Yc.getByUserAuthId(h.id);s(v)}catch(v){console.error("Failed to fetch user projects:",v)}finally{f(!1)}})()},[h==null?void 0:h.id]),y.useEffect(()=>{(async()=>{if(r)try{const[v,x]=await Promise.all([ec.getAll(),SC.getByTask(0)]),w=v.filter(b=>!0);o(w),u(x)}catch(v){console.error("Failed to fetch project data:",v)}})()},[r]);const p=r?a.find(g=>g.project_id===r):null;return l.jsxs("div",{className:"space-y-6",dir:e?"rtl":"ltr",children:[l.jsx("header",{className:"border-b bg-card",children:l.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsx("h1",{className:"text-xl font-bold",children:"Client Portal"})]}),l.jsxs(le,{variant:"ghost",size:"sm",children:[l.jsx(Aie,{className:"h-4 w-4 mr-2"}),"Logout"]})]})}),l.jsxs("div",{className:"container mx-auto px-6 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold",children:["Hello, ",Te((h==null?void 0:h.profile)||{},"user_name"),"! "]}),l.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Here's your project progress"})]}),p?l.jsxs("div",{children:[l.jsx(le,{variant:"ghost",className:"mb-4",onClick:()=>n(null),children:" Back to Projects"}),l.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs(lt,{children:[l.jsx(Xt,{children:l.jsx(_r,{children:p.project_name})}),l.jsxs(xt,{children:[l.jsx("p",{className:"text-muted-foreground",children:p.project_description||"No description available"}),l.jsxs("div",{className:"mt-4",children:[l.jsx(Ef,{value:p.progress||0,className:"h-3"}),l.jsxs("div",{className:"text-right mt-2 text-sm font-semibold",children:[p.progress||0,"% Complete"]})]})]})]}),l.jsxs(Cl,{defaultValue:"tasks",children:[l.jsxs(Lo,{children:[l.jsx(tn,{value:"tasks",children:"Tasks"}),l.jsx(tn,{value:"images",children:"Gallery"}),l.jsx(tn,{value:"comments",children:"Comments"})]}),l.jsx(Pn,{value:"tasks",className:"space-y-3",children:i.filter(g=>g.stage_id!==null).map(g=>{var v;return l.jsx(lt,{children:l.jsx(xt,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:g.task_name}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.description||"No description"})]}),l.jsxs(ft,{variant:g.task_status==="completed"?"default":"secondary",children:[g.task_status==="completed"?"":""," ",((v=g.task_status)==null?void 0:v.replace("_"," "))||"pending"]})]})})},g.task_id)})}),l.jsx(Pn,{value:"images",children:l.jsx(lt,{children:l.jsx(xt,{className:"pt-6",children:l.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(g=>l.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-4xl",children:""})},g))})})})}),l.jsx(Pn,{value:"comments",children:l.jsx(lt,{children:l.jsxs(xt,{className:"pt-6 space-y-4",children:[c.map(g=>l.jsxs("div",{className:"flex gap-3 pb-4 border-b last:border-0",children:[l.jsx("div",{className:"text-2xl",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold text-sm",children:"Team Member"}),l.jsx("p",{className:"text-sm mt-1",children:g.message||"No message"}),l.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:g.created_date?new Date(g.created_date).toLocaleString():"Unknown date"})]})]},g.comment_id)),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsx(We,{placeholder:"Add a comment..."}),l.jsx(le,{children:l.jsx(Lu,{className:"h-4 w-4"})})]})]})})})]})]}),l.jsx("div",{children:l.jsxs(lt,{children:[l.jsx(Xt,{children:l.jsx(_r,{className:"text-lg",children:"Timeline"})}),l.jsxs(xt,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:"Created Date"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:p.created_date?new Date(p.created_date).toLocaleDateString():"N/A"})]}),p.end_date&&l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:"End Date"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(p.end_date).toLocaleDateString()})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-2",children:"Milestones"}),l.jsxs("div",{className:"space-y-2 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-green-500",children:""}),l.jsx("span",{children:"Project Kickoff"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-green-500",children:""}),l.jsx("span",{children:"Design Phase"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-blue-500",children:""}),l.jsx("span",{children:"Development Phase"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-muted-foreground",children:""}),l.jsx("span",{children:"Testing & Launch"})]})]})]})]})]})})]})]}):d?l.jsx(zi,{size:"xl"}):a.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Projects Found"}),l.jsx("p",{className:"text-muted-foreground",children:"You don't have any projects assigned yet."})]}):l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(g=>l.jsxs(lt,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>n(g.project_id),children:[l.jsxs(Xt,{children:[l.jsx(_r,{className:"text-lg",children:g.project_name}),l.jsxs(ft,{className:"w-fit mt-2",variant:"secondary",children:["Stage ",g.stage||"N/A"]})]}),l.jsx(xt,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Progress"}),l.jsxs("span",{className:"font-semibold",children:[g.progress||0,"%"]})]}),l.jsx(Ef,{value:g.progress||0,className:"h-2"})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Created: ",g.created_date?new Date(g.created_date).toLocaleDateString():"N/A"]}),l.jsx(le,{className:"w-full",variant:"outline",children:"View Details "})]})})]},g.project_id))})]})]})}const fUe=()=>{const e=zs(),{t:r}=Kt(),{toast:n}=Ol(),{companyName:a}=v9(),s=[{icon:l.jsx(tf,{className:"h-6 w-6"}),title:r("landing.features.projectManagement.title"),description:r("landing.features.projectManagement.description")},{icon:l.jsx(Fa,{className:"h-6 w-6"}),title:r("landing.features.leadManagement.title"),description:r("landing.features.leadManagement.description")},{icon:l.jsx(yie,{className:"h-6 w-6"}),title:r("landing.features.analytics.title"),description:r("landing.features.analytics.description")},{icon:l.jsx(Lu,{className:"h-6 w-6"}),title:r("landing.features.communication.title"),description:r("landing.features.communication.description")},{icon:l.jsx(fg,{className:"h-6 w-6"}),title:r("landing.features.taskManagement.title"),description:r("landing.features.taskManagement.description")},{icon:l.jsx(jb,{className:"h-6 w-6"}),title:r("landing.features.security.title"),description:r("landing.features.security.description")}];return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[l.jsx("header",{className:"relative z-10 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between py-4 sm:py-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:(a==null?void 0:a.charAt(0))||"M"})}),l.jsx("span",{className:"text-xl font-bold text-gray-900",children:a})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(fV,{}),l.jsx(le,{onClick:()=>e("/login"),className:"shadow-lg hover:shadow-xl transition-all duration-200",children:r("buttons.login")})]})]})}),l.jsxs("section",{className:"relative px-4 sm:px-6 lg:px-8 pb-12 sm:pb-16 lg:pb-20",children:[l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"text-center",children:[l.jsxs(ft,{variant:"secondary",className:"mb-4 px-3 py-1 text-sm font-medium",children:[l.jsx(r9,{className:"h-3 w-3 mr-1"}),r("landing.badge")]}),l.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:[r("landing.hero.title.line1"),l.jsx("span",{className:"text-primary block",children:r("landing.hero.title.line2")})]}),l.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:r("landing.hero.description")}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[l.jsxs(le,{size:"lg",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group",children:[r("landing.hero.cta.primary"),l.jsx(pie,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),l.jsx(le,{variant:"outline",size:"lg",className:"px-8 py-3 text-lg",children:r("landing.hero.cta.secondary")})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 max-w-2xl mx-auto",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:r("landing.stats.users")}),l.jsx("div",{className:"text-sm text-gray-600",children:r("landing.stats.usersLabel")})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:r("landing.stats.projects")}),l.jsx("div",{className:"text-sm text-gray-600",children:r("landing.stats.projectsLabel")})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:r("landing.stats.uptime")}),l.jsx("div",{className:"text-sm text-gray-600",children:r("landing.stats.uptimeLabel")})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:r("landing.stats.support")}),l.jsx("div",{className:"text-sm text-gray-600",children:r("landing.stats.supportLabel")})]})]})]})}),l.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[l.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-400/10 rounded-full blur-3xl"})]})]}),l.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20 bg-white/50 backdrop-blur-sm",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:r("landing.features.title")}),l.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:r("landing.features.subtitle")})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:s.map((i,o)=>l.jsx(lt,{className:"group hover:shadow-lg transition-all duration-200 border-0 shadow-md bg-white/80 backdrop-blur-sm",children:l.jsxs(xt,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:i.icon}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i.title})]}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.description})]})},o))})]})}),l.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch",children:[l.jsx(lt,{className:"bg-gradient-to-r from-primary to-blue-600 text-white border-0 shadow-2xl flex flex-col justify-center",children:l.jsxs(xt,{className:"p-8 sm:p-12 text-center",children:[l.jsx(n9,{className:"h-12 w-12 mx-auto mb-6 text-primary-foreground/80"}),l.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:r("landing.cta.title")}),l.jsx("p",{className:"text-lg mb-8 text-primary-foreground/90 max-w-2xl mx-auto",children:r("landing.cta.description")}),l.jsxs(le,{size:"lg",variant:"secondary",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group w-full sm:w-auto",children:[r("landing.cta.button"),l.jsx(av,{className:"ml-2 h-5 w-5 group-hover:scale-110 transition-transform"})]})]})}),l.jsx(lt,{className:"border-0 shadow-2xl bg-white/80 backdrop-blur-sm",children:l.jsxs(xt,{className:"p-8 sm:p-12",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:r("landing.partner.title")}),l.jsx("p",{className:"text-gray-600",children:r("landing.partner.subtitle")})]}),l.jsxs("form",{className:"space-y-4",onSubmit:async i=>{i.preventDefault();const o=i.target,c=new FormData(o);try{await V1.createApplication({company_name:c.get("company_name"),full_name:c.get("full_name"),email:c.get("email"),phone:c.get("phone")}),n({title:r("landing.partner.success"),description:r("landing.partner.successMessage")}),o.reset()}catch{n({title:"Error",description:"Failed to submit application. Please try again.",variant:"destructive"})}},children:[l.jsx("div",{className:"space-y-2",children:l.jsx(We,{name:"company_name",placeholder:r("landing.partner.companyName"),required:!0,className:"bg-white"})}),l.jsx("div",{className:"space-y-2",children:l.jsx(We,{name:"full_name",placeholder:r("landing.partner.fullName"),required:!0,className:"bg-white"})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(We,{name:"email",type:"email",placeholder:r("landing.partner.email"),required:!0,className:"bg-white"}),l.jsx(We,{name:"phone",type:"tel",placeholder:r("landing.partner.phone"),required:!0,className:"bg-white"})]}),l.jsx(le,{type:"submit",className:"w-full text-lg h-12",children:r("landing.partner.submit")})]})]})})]})})}),l.jsx("footer",{className:"px-4 sm:px-6 lg:px-8 py-8 border-t border-gray-200 bg-white/50 backdrop-blur-sm",children:l.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[l.jsx("div",{className:"h-6 w-6 rounded bg-primary flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:(a==null?void 0:a.charAt(0))||"M"})}),l.jsxs("span",{className:"font-semibold text-gray-900",children:[a," CRM"]})]}),l.jsx("p",{className:"text-sm text-gray-600",children:r("landing.footer.copyright",{brand:r("landing.brandName")})})]})})]})},hUe=()=>{const[e,r]=y.useState("loading"),[n,a]=y.useState("Processing authentication..."),s=zs(),{user:i}=xr();return y.useEffect(()=>{let o;return(async()=>{try{if(console.log("[AuthCallback] Handling OAuth callback"),i){console.log("[AuthCallback] User already authenticated by auth context:",i.role),r("success"),a("Authentication successful! Redirecting..."),setTimeout(()=>{i.role==="client"?s("/client-portal"):i.role==="employee"||i.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}console.log("[AuthCallback] Waiting for OAuth session to establish...");let u=0;const d=20,f=async()=>{u++,console.log(`[AuthCallback] Checking session and profile (attempt ${u}/${d})`);try{const{data:{user:h},error:m}=await Zr.auth.getUser();if(m&&console.error("[AuthCallback] User error:",m),h){console.log("[AuthCallback] Found authenticated user:",h.id);const{data:v}=await Zr.from("Users").select("userid").eq("userid",h.id).maybeSingle();if(v){console.log("[AuthCallback] User profile exists, fetching user data...");const x=await nT.getCurrentUser(h.id);if(x){localStorage.removeItem("oauth_intended_role"),r("success"),a("Authentication successful! Redirecting..."),setTimeout(()=>{x.role==="client"?s("/client-portal"):x.role==="employee"||x.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}}else console.log("[AuthCallback] Profile not yet created by trigger, waiting...")}const{data:{session:p},error:g}=await Zr.auth.getSession();if(g&&console.error("[AuthCallback] Session error:",g),p!=null&&p.user){console.log("[AuthCallback] Found session user:",p.user.id);const{data:v}=await Zr.from("Users").select("userid").eq("userid",p.user.id).maybeSingle();if(v){console.log("[AuthCallback] User profile exists, fetching user data...");const x=await nT.getCurrentUser(p.user.id);if(x){localStorage.removeItem("oauth_intended_role"),r("success"),a("Authentication successful! Redirecting..."),setTimeout(()=>{x.role==="client"?s("/client-portal"):x.role==="employee"||x.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}}else console.log("[AuthCallback] Profile not yet created by trigger, waiting...")}u<d?(console.log("[AuthCallback] No session or profile found, waiting and retrying..."),o=setTimeout(f,1e3)):(console.error("[AuthCallback] No session or profile found after maximum attempts"),r("error"),a("Authentication session not established. Please try signing in again."),setTimeout(()=>s("/login"),3e3))}catch(h){console.error("[AuthCallback] Error checking session and profile:",h),u<d?o=setTimeout(f,1e3):(r("error"),a("Authentication failed. Please try again."),setTimeout(()=>s("/login"),3e3))}};f()}catch(u){console.error("[AuthCallback] Error handling callback:",u),r("error"),a("Authentication failed. Please try again."),setTimeout(()=>s("/login"),3e3)}})(),()=>{o&&clearTimeout(o)}},[i,s]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center max-w-md",children:[e==="loading"&&l.jsxs(l.Fragment,{children:[l.jsx(zi,{size:"xl",message:n}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Completing Sign In"}),l.jsx("p",{className:"text-gray-600",children:n})]}),e==="success"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-xl font-semibold mb-2 text-green-600",children:"Success!"}),l.jsx("p",{className:"text-gray-600",children:n})]}),e==="error"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"Authentication Failed"}),l.jsx("p",{className:"text-gray-600",children:n})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var sX=1252,mUe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],o4={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},l4=function(e){mUe.indexOf(e)!=-1&&(sX=o4[0]=e)};function pUe(){l4(1252)}var _o=function(e){l4(e)};function iX(){_o(1200),pUe()}function t5(e){for(var r=[],n=0,a=e.length;n<a;++n)r[n]=e.charCodeAt(n);return r}function gUe(e){for(var r=[],n=0;n<e.length>>1;++n)r[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return r.join("")}function oX(e){for(var r=[],n=0;n<e.length>>1;++n)r[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return r.join("")}var G0=function(e){var r=e.charCodeAt(0),n=e.charCodeAt(1);return r==255&&n==254?gUe(e.slice(2)):r==254&&n==255?oX(e.slice(2)):r==65279?e.slice(1):e},c1=function(r){return String.fromCharCode(r)},r5=function(r){return String.fromCharCode(r)},nu,yu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n5(e){for(var r="",n=0,a=0,s=0,i=0,o=0,c=0,u=0,d=0;d<e.length;)n=e.charCodeAt(d++),i=n>>2,a=e.charCodeAt(d++),o=(n&3)<<4|a>>4,s=e.charCodeAt(d++),c=(a&15)<<2|s>>6,u=s&63,isNaN(a)?c=u=64:isNaN(s)&&(u=64),r+=yu.charAt(i)+yu.charAt(o)+yu.charAt(c)+yu.charAt(u);return r}function vi(e){var r="",n=0,a=0,s=0,i=0,o=0,c=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=yu.indexOf(e.charAt(d++)),o=yu.indexOf(e.charAt(d++)),n=i<<2|o>>4,r+=String.fromCharCode(n),c=yu.indexOf(e.charAt(d++)),a=(o&15)<<4|c>>2,c!==64&&(r+=String.fromCharCode(a)),u=yu.indexOf(e.charAt(d++)),s=(c&3)<<6|u,u!==64&&(r+=String.fromCharCode(s));return r}var tr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),qf=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(r,n){return n?new Buffer(r,n):new Buffer(r)}:Buffer.from.bind(Buffer)}return function(){}}();function zu(e){return tr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function a5(e){return tr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var yo=function(r){return tr?qf(r,"binary"):r.split("").map(function(n){return n.charCodeAt(0)&255})};function Kf(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var r=[],n=0;n<e.length;++n)r[n]=String.fromCharCode(e[n]);return r.join("")}function c4(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return c4(new Uint8Array(e));for(var r=new Array(e.length),n=0;n<e.length;++n)r[n]=e[n];return r}var au=tr?function(e){return Buffer.concat(e.map(function(r){return Buffer.isBuffer(r)?r:qf(r)}))}:function(e){if(typeof Uint8Array<"u"){var r=0,n=0;for(r=0;r<e.length;++r)n+=e[r].length;var a=new Uint8Array(n),s=0;for(r=0,n=0;r<e.length;n+=s,++r)if(s=e[r].length,e[r]instanceof Uint8Array)a.set(e[r],n);else{if(typeof e[r]=="string")throw"wtf";a.set(new Uint8Array(e[r]),n)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function vUe(e){for(var r=[],n=0,a=e.length+250,s=zu(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)s[n++]=o;else if(o<2048)s[n++]=192|o>>6&31,s[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=e.charCodeAt(++i)&1023;s[n++]=240|o>>8&7,s[n++]=128|o>>2&63,s[n++]=128|c>>6&15|(o&3)<<4,s[n++]=128|c&63}else s[n++]=224|o>>12&15,s[n++]=128|o>>6&63,s[n++]=128|o&63;n>a&&(r.push(s.slice(0,n)),n=0,s=zu(65535),a=65530)}return r.push(s.slice(0,n)),au(r)}var hs=/\u0000/g,Y0=/[\u0001-\u0006]/g;function dm(e){for(var r="",n=e.length-1;n>=0;)r+=e.charAt(n--);return r}function So(e,r){var n=""+e;return n.length>=r?n:cn("0",r-n.length)+n}function u4(e,r){var n=""+e;return n.length>=r?n:cn(" ",r-n.length)+n}function Hw(e,r){var n=""+e;return n.length>=r?n:n+cn(" ",r-n.length)}function xUe(e,r){var n=""+Math.round(e);return n.length>=r?n:cn("0",r-n.length)+n}function yUe(e,r){var n=""+e;return n.length>=r?n:cn("0",r-n.length)+n}var s5=Math.pow(2,32);function gh(e,r){if(e>s5||e<-s5)return xUe(e,r);var n=Math.round(e);return yUe(n,r)}function qw(e,r){return r=r||0,e.length>=7+r&&(e.charCodeAt(r)|32)===103&&(e.charCodeAt(r+1)|32)===101&&(e.charCodeAt(r+2)|32)===110&&(e.charCodeAt(r+3)|32)===101&&(e.charCodeAt(r+4)|32)===114&&(e.charCodeAt(r+5)|32)===97&&(e.charCodeAt(r+6)|32)===108}var i5=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],pN=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function bUe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var zt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},o5={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},wUe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Kw(e,r,n){for(var a=e<0?-1:1,s=e*a,i=0,o=1,c=0,u=1,d=0,f=0,h=Math.floor(s);d<r&&(h=Math.floor(s),c=h*o+i,f=h*d+u,!(s-h<5e-8));)s=1/(s-h),i=o,o=c,u=d,d=f;if(f>r&&(d>r?(f=u,c=i):(f=d,c=o)),!n)return[0,a*c,f];var m=Math.floor(a*c/f);return[m,a*c-m*f,f]}function Vd(e,r,n){if(e>2958465||e<0)return null;var a=e|0,s=Math.floor(86400*(e-a)),i=0,o=[],c={D:a,T:s,u:86400*(e-a)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),r&&r.date1904&&(a+=1462),c.u>.9999&&(c.u=0,++s==86400&&(c.T=s=0,++a,++c.D)),a===60)o=n?[1317,10,29]:[1900,2,29],i=3;else if(a===0)o=n?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var u=new Date(1900,0,1);u.setDate(u.getDate()+a-1),o=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),a<60&&(i=(i+6)%7),n&&(i=CUe(u,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=s%60,s=Math.floor(s/60),c.M=s%60,s=Math.floor(s/60),c.H=s,c.q=i,c}var lX=new Date(1899,11,31,0,0,0),_Ue=lX.getTime(),SUe=new Date(1900,2,1,0,0,0);function cX(e,r){var n=e.getTime();return r?n-=1461*24*60*60*1e3:e>=SUe&&(n+=24*60*60*1e3),(n-(_Ue+(e.getTimezoneOffset()-lX.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function d4(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function jUe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function kUe(e){var r=e<0?12:11,n=d4(e.toFixed(12));return n.length<=r||(n=e.toPrecision(10),n.length<=r)?n:e.toExponential(5)}function NUe(e){var r=d4(e.toFixed(11));return r.length>(e<0?12:11)||r==="0"||r==="-0"?e.toPrecision(6):r}function Yv(e){var r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return r>=-4&&r<=-1?n=e.toPrecision(10+r):Math.abs(r)<=9?n=kUe(e):r===10?n=e.toFixed(10).substr(0,12):n=NUe(e),d4(jUe(n.toUpperCase()))}function Af(e,r){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Yv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Hi(14,cX(e,r&&r.date1904),r)}throw new Error("unsupported value in General format: "+e)}function CUe(e,r){r[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function EUe(e,r,n,a){var s="",i=0,o=0,c=n.y,u,d=0;switch(e){case 98:c=n.y+543;case 121:switch(r.length){case 1:case 2:u=c%100,d=2;break;default:u=c%1e4,d=4;break}break;case 109:switch(r.length){case 1:case 2:u=n.m,d=r.length;break;case 3:return pN[n.m-1][1];case 5:return pN[n.m-1][0];default:return pN[n.m-1][2]}break;case 100:switch(r.length){case 1:case 2:u=n.d,d=r.length;break;case 3:return i5[n.q][0];default:return i5[n.q][1]}break;case 104:switch(r.length){case 1:case 2:u=1+(n.H+11)%12,d=r.length;break;default:throw"bad hour format: "+r}break;case 72:switch(r.length){case 1:case 2:u=n.H,d=r.length;break;default:throw"bad hour format: "+r}break;case 77:switch(r.length){case 1:case 2:u=n.M,d=r.length;break;default:throw"bad minute format: "+r}break;case 115:if(r!="s"&&r!="ss"&&r!=".0"&&r!=".00"&&r!=".000")throw"bad second format: "+r;return n.u===0&&(r=="s"||r=="ss")?So(n.S,r.length):(a>=2?o=a===3?1e3:100:o=a===1?10:1,i=Math.round(o*(n.S+n.u)),i>=60*o&&(i=0),r==="s"?i===0?"0":""+i/o:(s=So(i,2+a),r==="ss"?s.substr(0,2):"."+s.substr(2,r.length-1)));case 90:switch(r){case"[h]":case"[hh]":u=n.D*24+n.H;break;case"[m]":case"[mm]":u=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":u=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+r}d=r.length===3?1:2;break;case 101:u=c,d=1;break}var f=d>0?So(u,d):"";return f}function bu(e){var r=3;if(e.length<=r)return e;for(var n=e.length%r,a=e.substr(0,n);n!=e.length;n+=r)a+=(a.length>0?",":"")+e.substr(n,r);return a}var uX=/%/g;function TUe(e,r,n){var a=r.replace(uX,""),s=r.length-a.length;return dc(e,a,n*Math.pow(10,2*s))+cn("%",s)}function AUe(e,r,n){for(var a=r.length-1;r.charCodeAt(a-1)===44;)--a;return dc(e,r.substr(0,a),n/Math.pow(10,3*(r.length-a)))}function dX(e,r){var n,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+dX(e,-r);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(r)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(r/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),n.indexOf("e")===-1){var o=Math.floor(Math.log(r)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,s)+"."+n.substr(2+s),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,d,f){return u+d+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else n=r.toExponential(a);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var fX=/# (\?+)( ?)\/( ?)(\d+)/;function OUe(e,r,n){var a=parseInt(e[4],10),s=Math.round(r*a),i=Math.floor(s/a),o=s-i*a,c=a;return n+(i===0?"":""+i)+" "+(o===0?cn(" ",e[1].length+1+e[4].length):u4(o,e[1].length)+e[2]+"/"+e[3]+So(c,e[4].length))}function PUe(e,r,n){return n+(r===0?"":""+r)+cn(" ",e[1].length+2+e[4].length)}var hX=/^#*0*\.([0#]+)/,mX=/\).*[0#]/,pX=/\(###\) ###\\?-####/;function ts(e){for(var r="",n,a=0;a!=e.length;++a)switch(n=e.charCodeAt(a)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(n)}return r}function l5(e,r){var n=Math.pow(10,r);return""+Math.round(e*n)/n}function c5(e,r){var n=e-Math.floor(e),a=Math.pow(10,r);return r<(""+Math.round(n*a)).length?0:Math.round(n*a)}function DUe(e,r){return r<(""+Math.round((e-Math.floor(e))*Math.pow(10,r))).length?1:0}function RUe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ei(e,r,n){if(e.charCodeAt(0)===40&&!r.match(mX)){var a=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ei("n",a,n):"("+Ei("n",a,-n)+")"}if(r.charCodeAt(r.length-1)===44)return AUe(e,r,n);if(r.indexOf("%")!==-1)return TUe(e,r,n);if(r.indexOf("E")!==-1)return dX(r,n);if(r.charCodeAt(0)===36)return"$"+Ei(e,r.substr(r.charAt(1)==" "?2:1),n);var s,i,o,c,u=Math.abs(n),d=n<0?"-":"";if(r.match(/^00+$/))return d+gh(u,r.length);if(r.match(/^[#?]+$/))return s=gh(n,0),s==="0"&&(s=""),s.length>r.length?s:ts(r.substr(0,r.length-s.length))+s;if(i=r.match(fX))return OUe(i,u,d);if(r.match(/^#+0+$/))return d+gh(u,r.length-r.indexOf("0"));if(i=r.match(hX))return s=l5(n,i[1].length).replace(/^([^\.]+)$/,"$1."+ts(i[1])).replace(/\.$/,"."+ts(i[1])).replace(/\.(\d*)$/,function(g,v){return"."+v+cn("0",ts(i[1]).length-v.length)}),r.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),i=r.match(/^(0*)\.(#*)$/))return d+l5(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=r.match(/^#{1,3},##0(\.?)$/))return d+bu(gh(u,0));if(i=r.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ei(e,r,-n):bu(""+(Math.floor(n)+DUe(n,i[1].length)))+"."+So(c5(n,i[1].length),i[1].length);if(i=r.match(/^#,#*,#0/))return Ei(e,r.replace(/^#,#*,/,""),n);if(i=r.match(/^([0#]+)(\\?-([0#]+))+$/))return s=dm(Ei(e,r.replace(/[\\-]/g,""),n)),o=0,dm(dm(r.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<s.length?s.charAt(o++):g==="0"?"0":""}));if(r.match(pX))return s=Ei(e,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=Kw(u,Math.pow(10,o)-1,!1),s=""+d,f=dc("n",i[1],c[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=Hw(c[2],o),f.length<i[4].length&&(f=ts(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=Kw(u,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?u4(c[1],o)+i[2]+"/"+i[3]+Hw(c[2],o):cn(" ",2*o+1+i[2].length+i[3].length));if(i=r.match(/^[#0?]+$/))return s=gh(n,0),r.length<=s.length?s:ts(r.substr(0,r.length-s.length))+s;if(i=r.match(/^([#0?]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var h=r.indexOf(".")-o,m=r.length-s.length-h;return ts(r.substr(0,h)+s+r.substr(r.length-m))}if(i=r.match(/^00,000\.([#0]*0)$/))return o=c5(n,i[1].length),n<0?"-"+Ei(e,r,-n):bu(RUe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?So(0,3-g.length):"")+g})+"."+So(o,i[1].length);switch(r){case"###,##0.00":return Ei(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=bu(gh(u,0));return p!=="0"?d+p:"";case"###,###.00":return Ei(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Ei(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+r+"|")}function IUe(e,r,n){for(var a=r.length-1;r.charCodeAt(a-1)===44;)--a;return dc(e,r.substr(0,a),n/Math.pow(10,3*(r.length-a)))}function MUe(e,r,n){var a=r.replace(uX,""),s=r.length-a.length;return dc(e,a,n*Math.pow(10,2*s))+cn("%",s)}function gX(e,r){var n,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+gX(e,-r);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(r)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(r/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),!n.match(/[Ee]/)){var o=Math.floor(Math.log(r)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,d,f){return u+d+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else n=r.toExponential(a);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Yo(e,r,n){if(e.charCodeAt(0)===40&&!r.match(mX)){var a=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Yo("n",a,n):"("+Yo("n",a,-n)+")"}if(r.charCodeAt(r.length-1)===44)return IUe(e,r,n);if(r.indexOf("%")!==-1)return MUe(e,r,n);if(r.indexOf("E")!==-1)return gX(r,n);if(r.charCodeAt(0)===36)return"$"+Yo(e,r.substr(r.charAt(1)==" "?2:1),n);var s,i,o,c,u=Math.abs(n),d=n<0?"-":"";if(r.match(/^00+$/))return d+So(u,r.length);if(r.match(/^[#?]+$/))return s=""+n,n===0&&(s=""),s.length>r.length?s:ts(r.substr(0,r.length-s.length))+s;if(i=r.match(fX))return PUe(i,u,d);if(r.match(/^#+0+$/))return d+So(u,r.length-r.indexOf("0"));if(i=r.match(hX))return s=(""+n).replace(/^([^\.]+)$/,"$1."+ts(i[1])).replace(/\.$/,"."+ts(i[1])),s=s.replace(/\.(\d*)$/,function(g,v){return"."+v+cn("0",ts(i[1]).length-v.length)}),r.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),i=r.match(/^(0*)\.(#*)$/))return d+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=r.match(/^#{1,3},##0(\.?)$/))return d+bu(""+u);if(i=r.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Yo(e,r,-n):bu(""+n)+"."+cn("0",i[1].length);if(i=r.match(/^#,#*,#0/))return Yo(e,r.replace(/^#,#*,/,""),n);if(i=r.match(/^([0#]+)(\\?-([0#]+))+$/))return s=dm(Yo(e,r.replace(/[\\-]/g,""),n)),o=0,dm(dm(r.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<s.length?s.charAt(o++):g==="0"?"0":""}));if(r.match(pX))return s=Yo(e,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=Kw(u,Math.pow(10,o)-1,!1),s=""+d,f=dc("n",i[1],c[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=Hw(c[2],o),f.length<i[4].length&&(f=ts(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=Kw(u,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?u4(c[1],o)+i[2]+"/"+i[3]+Hw(c[2],o):cn(" ",2*o+1+i[2].length+i[3].length));if(i=r.match(/^[#0?]+$/))return s=""+n,r.length<=s.length?s:ts(r.substr(0,r.length-s.length))+s;if(i=r.match(/^([#0]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var h=r.indexOf(".")-o,m=r.length-s.length-h;return ts(r.substr(0,h)+s+r.substr(r.length-m))}if(i=r.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Yo(e,r,-n):bu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?So(0,3-g.length):"")+g})+"."+So(0,i[1].length);switch(r){case"###,###":case"##,###":case"#,###":var p=bu(""+u);return p!=="0"?d+p:"";default:if(r.match(/\.[0#?]*$/))return Yo(e,r.slice(0,r.lastIndexOf(".")),n)+ts(r.slice(r.lastIndexOf(".")))}throw new Error("unsupported format |"+r+"|")}function dc(e,r,n){return(n|0)===n?Yo(e,r,n):Ei(e,r,n)}function FUe(e){for(var r=[],n=!1,a=0,s=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:n=!n;break;case 95:case 42:case 92:++a;break;case 59:r[r.length]=e.substr(s,a-s),s=a+1}if(r[r.length]=e.substr(s),n===!0)throw new Error("Format |"+e+"| unterminated string ");return r}var vX=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function o0(e){for(var r=0,n="",a="";r<e.length;)switch(n=e.charAt(r)){case"G":qw(e,r)&&(r+=6),r++;break;case'"':for(;e.charCodeAt(++r)!==34&&r<e.length;);++r;break;case"\\":r+=2;break;case"_":r+=2;break;case"@":++r;break;case"B":case"b":if(e.charAt(r+1)==="1"||e.charAt(r+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(r,3).toUpperCase()==="A/P"||e.substr(r,5).toUpperCase()==="AM/PM"||e.substr(r,5).toUpperCase()==="/")return!0;++r;break;case"[":for(a=n;e.charAt(r++)!=="]"&&r<e.length;)a+=e.charAt(r);if(a.match(vX))return!0;break;case".":case"0":case"#":for(;r<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++r))>-1||n=="\\"&&e.charAt(r+1)=="-"&&"0#".indexOf(e.charAt(r+2))>-1););break;case"?":for(;e.charAt(++r)===n;);break;case"*":++r,(e.charAt(r)==" "||e.charAt(r)=="*")&&++r;break;case"(":case")":++r;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;r<e.length&&"0123456789".indexOf(e.charAt(++r))>-1;);break;case" ":++r;break;default:++r;break}return!1}function LUe(e,r,n,a){for(var s=[],i="",o=0,c="",u="t",d,f,h,m="H";o<e.length;)switch(c=e.charAt(o)){case"G":if(!qw(e,o))throw new Error("unrecognized character "+c+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(h=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(h);s[s.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),g=p==="("||p===")"?p:"t";s[s.length]={t:g,v:p},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:r},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=Vd(r,n,e.charAt(o+1)==="2"),d==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},u=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(r<0||d==null&&(d=Vd(r,n),d==null))return"";for(i=c;++o<e.length&&e.charAt(o).toLowerCase()===c;)i+=c;c==="m"&&u.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=m),s[s.length]={t:c,v:i},u=c;break;case"A":case"a":case"":var v={t:c,v:c};if(d==null&&(d=Vd(r,n)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(v.v=d.H>=12?"P":"A"),v.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(v.v=d.H>=12?"PM":"AM"),v.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(d!=null&&(v.v=d.H>=12?"":""),v.t="T",o+=5,m="h"):(v.t="t",++o),d==null&&v.t==="T")return"";s[s.length]=v,u=c;break;case"[":for(i=c;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(vX)){if(d==null&&(d=Vd(r,n),d==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",o0(e)||(s[s.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=c;++o<e.length&&(c=e.charAt(o))==="0";)i+=c;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=c;++o<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(o))>-1;)i+=c;s[s.length]={t:"n",v:i};break;case"?":for(i=c;e.charAt(++o)===c;)i+=c;s[s.length]={t:c,v:i},u=c;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:a===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=c;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:c,v:c},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+e);s[s.length]={t:"t",v:c},++o;break}var x=0,w=0,b;for(o=s.length-1,u="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=m,u="h",x<1&&(x=1);break;case"s":(b=s[o].v.match(/\.0+$/))&&(w=Math.max(w,b[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":u=s[o].t;break;case"m":u==="s"&&(s[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&s[o].v.match(/[Hh]/)&&(x=1),x<2&&s[o].v.match(/[Mm]/)&&(x=2),x<3&&s[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var _="",S;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=EUe(s[o].t.charCodeAt(0),s[o].v,d,w),s[o].t="t";break;case"n":case"?":for(S=o+1;s[S]!=null&&((c=s[S].t)==="?"||c==="D"||(c===" "||c==="t")&&s[S+1]!=null&&(s[S+1].t==="?"||s[S+1].t==="t"&&s[S+1].v==="/")||s[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(s[S].v==="/"||s[S].v===" "&&s[S+1]!=null&&s[S+1].t=="?"));)s[o].v+=s[S].v,s[S]={v:"",t:";"},++S;_+=s[o].v,o=S-1;break;case"G":s[o].t="t",s[o].v=Af(r,n);break}var j="",N,k;if(_.length>0){_.charCodeAt(0)==40?(N=r<0&&_.charCodeAt(0)===45?-r:r,k=dc("n",_,N)):(N=r<0&&a>1?-r:r,k=dc("n",_,N),N<0&&s[0]&&s[0].t=="t"&&(k=k.substr(1),s[0].v="-"+s[0].v)),S=k.length-1;var E=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){E=o;break}var C=s.length;if(E===s.length&&k.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(S>=s[o].v.length-1?(S-=s[o].v.length,s[o].v=k.substr(S+1,s[o].v.length)):S<0?s[o].v="":(s[o].v=k.substr(0,S+1),S=-1),s[o].t="t",C=o);S>=0&&C<s.length&&(s[C].v=k.substr(0,S+1)+s[C].v)}else if(E!==s.length&&k.indexOf("E")===-1){for(S=k.indexOf(".")-1,o=E;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(f=s[o].v.indexOf(".")>-1&&o===E?s[o].v.indexOf(".")-1:s[o].v.length-1,j=s[o].v.substr(f+1);f>=0;--f)S>=0&&(s[o].v.charAt(f)==="0"||s[o].v.charAt(f)==="#")&&(j=k.charAt(S--)+j);s[o].v=j,s[o].t="t",C=o}for(S>=0&&C<s.length&&(s[C].v=k.substr(0,S+1)+s[C].v),S=k.indexOf(".")+1,o=E;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==E)){for(f=s[o].v.indexOf(".")>-1&&o===E?s[o].v.indexOf(".")+1:0,j=s[o].v.substr(0,f);f<s[o].v.length;++f)S<k.length&&(j+=k.charAt(S++));s[o].v=j,s[o].t="t",C=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(N=a>1&&r<0&&o>0&&s[o-1].v==="-"?-r:r,s[o].v=dc(s[o].t,s[o].v,N),s[o].t="t");var A="";for(o=0;o!==s.length;++o)s[o]!=null&&(A+=s[o].v);return A}var u5=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function d5(e,r){if(r==null)return!1;var n=parseFloat(r[2]);switch(r[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function $Ue(e,r){var n=FUe(e),a=n.length,s=n[a-1].indexOf("@");if(a<4&&s>-1&&--a,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof r!="number")return[4,n.length===4||s>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=s>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=s>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=s>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var i=r>0?n[0]:r<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[a,i];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(u5),c=n[1].match(u5);return d5(r,o)?[a,n[0]]:d5(r,c)?[a,n[1]]:[a,n[o!=null&&c!=null?2:1]]}return[a,i]}function Hi(e,r,n){n==null&&(n={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?a=n.dateNF:a=e;break;case"number":e==14&&n.dateNF?a=n.dateNF:a=(n.table!=null?n.table:zt)[e],a==null&&(a=n.table&&n.table[o5[e]]||zt[o5[e]]),a==null&&(a=wUe[e]||"General");break}if(qw(a,0))return Af(r,n);r instanceof Date&&(r=cX(r,n.date1904));var s=$Ue(a,r);if(qw(s[1]))return Af(r,n);if(r===!0)r="TRUE";else if(r===!1)r="FALSE";else if(r===""||r==null)return"";return LUe(s[1],r,n,s[0])}function sf(e,r){if(typeof r!="number"){r=+r||-1;for(var n=0;n<392;++n){if(zt[n]==null){r<0&&(r=n);continue}if(zt[n]==e){r=n;break}}r<0&&(r=391)}return zt[r]=e,r}function xX(){zt=bUe()}var BUe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},yX=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function UUe(e){var r=typeof e=="number"?zt[e]:e;return r=r.replace(yX,"(\\d+)"),new RegExp("^"+r+"$")}function VUe(e,r,n){var a=-1,s=-1,i=-1,o=-1,c=-1,u=-1;(r.match(yX)||[]).forEach(function(h,m){var p=parseInt(n[m+1],10);switch(h.toLowerCase().charAt(0)){case"y":a=p;break;case"d":i=p;break;case"h":o=p;break;case"s":u=p;break;case"m":o>=0?c=p:s=p;break}}),u>=0&&c==-1&&s>=0&&(c=s,s=-1);var d=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return o==-1&&c==-1&&u==-1?d:a==-1&&s==-1&&i==-1?f:d+"T"+f}var zUe=function(){var e={};e.version="1.2.0";function r(){for(var k=0,E=new Array(256),C=0;C!=256;++C)k=C,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,E[C]=k;return typeof Int32Array<"u"?new Int32Array(E):E}var n=r();function a(k){var E=0,C=0,A=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(A=0;A!=256;++A)D[A]=k[A];for(A=0;A!=256;++A)for(C=k[A],E=256+A;E<4096;E+=256)C=D[E]=C>>>8^k[C&255];var T=[];for(A=1;A!=16;++A)T[A-1]=typeof Int32Array<"u"?D.subarray(A*256,A*256+256):D.slice(A*256,A*256+256);return T}var s=a(n),i=s[0],o=s[1],c=s[2],u=s[3],d=s[4],f=s[5],h=s[6],m=s[7],p=s[8],g=s[9],v=s[10],x=s[11],w=s[12],b=s[13],_=s[14];function S(k,E){for(var C=E^-1,A=0,D=k.length;A<D;)C=C>>>8^n[(C^k.charCodeAt(A++))&255];return~C}function j(k,E){for(var C=E^-1,A=k.length-15,D=0;D<A;)C=_[k[D++]^C&255]^b[k[D++]^C>>8&255]^w[k[D++]^C>>16&255]^x[k[D++]^C>>>24]^v[k[D++]]^g[k[D++]]^p[k[D++]]^m[k[D++]]^h[k[D++]]^f[k[D++]]^d[k[D++]]^u[k[D++]]^c[k[D++]]^o[k[D++]]^i[k[D++]]^n[k[D++]];for(A+=15;D<A;)C=C>>>8^n[(C^k[D++])&255];return~C}function N(k,E){for(var C=E^-1,A=0,D=k.length,T=0,W=0;A<D;)T=k.charCodeAt(A++),T<128?C=C>>>8^n[(C^T)&255]:T<2048?(C=C>>>8^n[(C^(192|T>>6&31))&255],C=C>>>8^n[(C^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,W=k.charCodeAt(A++)&1023,C=C>>>8^n[(C^(240|T>>8&7))&255],C=C>>>8^n[(C^(128|T>>2&63))&255],C=C>>>8^n[(C^(128|W>>6&15|(T&3)<<4))&255],C=C>>>8^n[(C^(128|W&63))&255]):(C=C>>>8^n[(C^(224|T>>12&15))&255],C=C>>>8^n[(C^(128|T>>6&63))&255],C=C>>>8^n[(C^(128|T&63))&255]);return~C}return e.table=n,e.bstr=S,e.buf=j,e.str=N,e}(),ar=function(){var r={};r.version="1.2.1";function n(H,re){for(var Z=H.split("/"),te=re.split("/"),R=0,Y=0,ce=Math.min(Z.length,te.length);R<ce;++R){if(Y=Z[R].length-te[R].length)return Y;if(Z[R]!=te[R])return Z[R]<te[R]?-1:1}return Z.length-te.length}function a(H){if(H.charAt(H.length-1)=="/")return H.slice(0,-1).indexOf("/")===-1?H:a(H.slice(0,-1));var re=H.lastIndexOf("/");return re===-1?H:H.slice(0,re+1)}function s(H){if(H.charAt(H.length-1)=="/")return s(H.slice(0,-1));var re=H.lastIndexOf("/");return re===-1?H:H.slice(re+1)}function i(H,re){typeof re=="string"&&(re=new Date(re));var Z=re.getHours();Z=Z<<6|re.getMinutes(),Z=Z<<5|re.getSeconds()>>>1,H.write_shift(2,Z);var te=re.getFullYear()-1980;te=te<<4|re.getMonth()+1,te=te<<5|re.getDate(),H.write_shift(2,te)}function o(H){var re=H.read_shift(2)&65535,Z=H.read_shift(2)&65535,te=new Date,R=Z&31;Z>>>=5;var Y=Z&15;Z>>>=4,te.setMilliseconds(0),te.setFullYear(Z+1980),te.setMonth(Y-1),te.setDate(R);var ce=re&31;re>>>=5;var Ne=re&63;return re>>>=6,te.setHours(re),te.setMinutes(Ne),te.setSeconds(ce<<1),te}function c(H){ca(H,0);for(var re={},Z=0;H.l<=H.length-4;){var te=H.read_shift(2),R=H.read_shift(2),Y=H.l+R,ce={};switch(te){case 21589:Z=H.read_shift(1),Z&1&&(ce.mtime=H.read_shift(4)),R>5&&(Z&2&&(ce.atime=H.read_shift(4)),Z&4&&(ce.ctime=H.read_shift(4))),ce.mtime&&(ce.mt=new Date(ce.mtime*1e3));break}H.l=Y,re[te]=ce}return re}var u;function d(){return u||(u={})}function f(H,re){if(H[0]==80&&H[1]==75)return wi(H,re);if((H[0]|32)==109&&(H[1]|32)==105)return nt(H,re);if(H.length<512)throw new Error("CFB file size "+H.length+" < 512");var Z=3,te=512,R=0,Y=0,ce=0,Ne=0,we=0,Se=[],Ce=H.slice(0,512);ca(Ce,0);var ze=h(Ce);switch(Z=ze[0],Z){case 3:te=512;break;case 4:te=4096;break;case 0:if(ze[1]==0)return wi(H,re);default:throw new Error("Major Version: Expected 3 or 4 saw "+Z)}te!==512&&(Ce=H.slice(0,te),ca(Ce,28));var et=H.slice(0,te);m(Ce,Z);var st=Ce.read_shift(4,"i");if(Z===3&&st!==0)throw new Error("# Directory Sectors: Expected 0 saw "+st);Ce.l+=4,ce=Ce.read_shift(4,"i"),Ce.l+=4,Ce.chk("00100000","Mini Stream Cutoff Size: "),Ne=Ce.read_shift(4,"i"),R=Ce.read_shift(4,"i"),we=Ce.read_shift(4,"i"),Y=Ce.read_shift(4,"i");for(var Ye=-1,at=0;at<109&&(Ye=Ce.read_shift(4,"i"),!(Ye<0));++at)Se[at]=Ye;var Rt=p(H,te);x(we,Y,Rt,te,Se);var Tr=b(Rt,ce,Se,te);Tr[ce].name="!Directory",R>0&&Ne!==W&&(Tr[Ne].name="!MiniFAT"),Tr[Se[0]].name="!FAT",Tr.fat_addrs=Se,Tr.ssz=te;var Ar={},In=[],Ic=[],Mc=[];_(ce,Tr,Rt,In,R,Ar,Ic,Ne),g(Ic,Mc,In),In.shift();var Fc={FileIndex:Ic,FullPaths:Mc};return re&&re.raw&&(Fc.raw={header:et,sectors:Rt}),Fc}function h(H){if(H[H.l]==80&&H[H.l+1]==75)return[0,0];H.chk(q,"Header Signature: "),H.l+=16;var re=H.read_shift(2,"u");return[H.read_shift(2,"u"),re]}function m(H,re){var Z=9;switch(H.l+=2,Z=H.read_shift(2)){case 9:if(re!=3)throw new Error("Sector Shift: Expected 9 saw "+Z);break;case 12:if(re!=4)throw new Error("Sector Shift: Expected 12 saw "+Z);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Z)}H.chk("0600","Mini Sector Shift: "),H.chk("000000000000","Reserved: ")}function p(H,re){for(var Z=Math.ceil(H.length/re)-1,te=[],R=1;R<Z;++R)te[R-1]=H.slice(R*re,(R+1)*re);return te[Z-1]=H.slice(Z*re),te}function g(H,re,Z){for(var te=0,R=0,Y=0,ce=0,Ne=0,we=Z.length,Se=[],Ce=[];te<we;++te)Se[te]=Ce[te]=te,re[te]=Z[te];for(;Ne<Ce.length;++Ne)te=Ce[Ne],R=H[te].L,Y=H[te].R,ce=H[te].C,Se[te]===te&&(R!==-1&&Se[R]!==R&&(Se[te]=Se[R]),Y!==-1&&Se[Y]!==Y&&(Se[te]=Se[Y])),ce!==-1&&(Se[ce]=te),R!==-1&&te!=Se[te]&&(Se[R]=Se[te],Ce.lastIndexOf(R)<Ne&&Ce.push(R)),Y!==-1&&te!=Se[te]&&(Se[Y]=Se[te],Ce.lastIndexOf(Y)<Ne&&Ce.push(Y));for(te=1;te<we;++te)Se[te]===te&&(Y!==-1&&Se[Y]!==Y?Se[te]=Se[Y]:R!==-1&&Se[R]!==R&&(Se[te]=Se[R]));for(te=1;te<we;++te)if(H[te].type!==0){if(Ne=te,Ne!=Se[Ne])do Ne=Se[Ne],re[te]=re[Ne]+"/"+re[te];while(Ne!==0&&Se[Ne]!==-1&&Ne!=Se[Ne]);Se[te]=-1}for(re[0]+="/",te=1;te<we;++te)H[te].type!==2&&(re[te]+="/")}function v(H,re,Z){for(var te=H.start,R=H.size,Y=[],ce=te;Z&&R>0&&ce>=0;)Y.push(re.slice(ce*T,ce*T+T)),R-=T,ce=Td(Z,ce*4);return Y.length===0?Bn(0):au(Y).slice(0,H.size)}function x(H,re,Z,te,R){var Y=W;if(H===W){if(re!==0)throw new Error("DIFAT chain shorter than expected")}else if(H!==-1){var ce=Z[H],Ne=(te>>>2)-1;if(!ce)return;for(var we=0;we<Ne&&(Y=Td(ce,we*4))!==W;++we)R.push(Y);x(Td(ce,te-4),re-1,Z,te,R)}}function w(H,re,Z,te,R){var Y=[],ce=[];R||(R=[]);var Ne=te-1,we=0,Se=0;for(we=re;we>=0;){R[we]=!0,Y[Y.length]=we,ce.push(H[we]);var Ce=Z[Math.floor(we*4/te)];if(Se=we*4&Ne,te<4+Se)throw new Error("FAT boundary crossed: "+we+" 4 "+te);if(!H[Ce])break;we=Td(H[Ce],Se)}return{nodes:Y,data:w5([ce])}}function b(H,re,Z,te){var R=H.length,Y=[],ce=[],Ne=[],we=[],Se=te-1,Ce=0,ze=0,et=0,st=0;for(Ce=0;Ce<R;++Ce)if(Ne=[],et=Ce+re,et>=R&&(et-=R),!ce[et]){we=[];var Ye=[];for(ze=et;ze>=0;){Ye[ze]=!0,ce[ze]=!0,Ne[Ne.length]=ze,we.push(H[ze]);var at=Z[Math.floor(ze*4/te)];if(st=ze*4&Se,te<4+st)throw new Error("FAT boundary crossed: "+ze+" 4 "+te);if(!H[at]||(ze=Td(H[at],st),Ye[ze]))break}Y[et]={nodes:Ne,data:w5([we])}}return Y}function _(H,re,Z,te,R,Y,ce,Ne){for(var we=0,Se=te.length?2:0,Ce=re[H].data,ze=0,et=0,st;ze<Ce.length;ze+=128){var Ye=Ce.slice(ze,ze+128);ca(Ye,64),et=Ye.read_shift(2),st=g4(Ye,0,et-Se),te.push(st);var at={name:st,type:Ye.read_shift(1),color:Ye.read_shift(1),L:Ye.read_shift(4,"i"),R:Ye.read_shift(4,"i"),C:Ye.read_shift(4,"i"),clsid:Ye.read_shift(16),state:Ye.read_shift(4,"i"),start:0,size:0},Rt=Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2);Rt!==0&&(at.ct=S(Ye,Ye.l-8));var Tr=Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2);Tr!==0&&(at.mt=S(Ye,Ye.l-8)),at.start=Ye.read_shift(4,"i"),at.size=Ye.read_shift(4,"i"),at.size<0&&at.start<0&&(at.size=at.type=0,at.start=W,at.name=""),at.type===5?(we=at.start,R>0&&we!==W&&(re[we].name="!StreamData")):at.size>=4096?(at.storage="fat",re[at.start]===void 0&&(re[at.start]=w(Z,at.start,re.fat_addrs,re.ssz)),re[at.start].name=at.name,at.content=re[at.start].data.slice(0,at.size)):(at.storage="minifat",at.size<0?at.size=0:we!==W&&at.start!==W&&re[we]&&(at.content=v(at,re[we].data,(re[Ne]||{}).data))),at.content&&ca(at.content,0),Y[st]=at,ce.push(at)}}function S(H,re){return new Date((ai(H,re+4)/1e7*Math.pow(2,32)+ai(H,re)/1e7-11644473600)*1e3)}function j(H,re){return d(),f(u.readFileSync(H),re)}function N(H,re){var Z=re&&re.type;switch(Z||tr&&Buffer.isBuffer(H)&&(Z="buffer"),Z||"base64"){case"file":return j(H,re);case"base64":return f(yo(vi(H)),re);case"binary":return f(yo(H),re)}return f(H,re)}function k(H,re){var Z=re||{},te=Z.root||"Root Entry";if(H.FullPaths||(H.FullPaths=[]),H.FileIndex||(H.FileIndex=[]),H.FullPaths.length!==H.FileIndex.length)throw new Error("inconsistent CFB structure");H.FullPaths.length===0&&(H.FullPaths[0]=te+"/",H.FileIndex[0]={name:te,type:5}),Z.CLSID&&(H.FileIndex[0].clsid=Z.CLSID),E(H)}function E(H){var re="Sh33tJ5";if(!ar.find(H,"/"+re)){var Z=Bn(4);Z[0]=55,Z[1]=Z[3]=50,Z[2]=54,H.FileIndex.push({name:re,type:2,content:Z,size:4,L:69,R:69,C:69}),H.FullPaths.push(H.FullPaths[0]+re),C(H)}}function C(H,re){k(H);for(var Z=!1,te=!1,R=H.FullPaths.length-1;R>=0;--R){var Y=H.FileIndex[R];switch(Y.type){case 0:te?Z=!0:(H.FileIndex.pop(),H.FullPaths.pop());break;case 1:case 2:case 5:te=!0,isNaN(Y.R*Y.L*Y.C)&&(Z=!0),Y.R>-1&&Y.L>-1&&Y.R==Y.L&&(Z=!0);break;default:Z=!0;break}}if(!(!Z&&!re)){var ce=new Date(1987,1,19),Ne=0,we=Object.create?Object.create(null):{},Se=[];for(R=0;R<H.FullPaths.length;++R)we[H.FullPaths[R]]=!0,H.FileIndex[R].type!==0&&Se.push([H.FullPaths[R],H.FileIndex[R]]);for(R=0;R<Se.length;++R){var Ce=a(Se[R][0]);te=we[Ce],te||(Se.push([Ce,{name:s(Ce).replace("/",""),type:1,clsid:I,ct:ce,mt:ce,content:null}]),we[Ce]=!0)}for(Se.sort(function(st,Ye){return n(st[0],Ye[0])}),H.FullPaths=[],H.FileIndex=[],R=0;R<Se.length;++R)H.FullPaths[R]=Se[R][0],H.FileIndex[R]=Se[R][1];for(R=0;R<Se.length;++R){var ze=H.FileIndex[R],et=H.FullPaths[R];if(ze.name=s(et).replace("/",""),ze.L=ze.R=ze.C=-(ze.color=1),ze.size=ze.content?ze.content.length:0,ze.start=0,ze.clsid=ze.clsid||I,R===0)ze.C=Se.length>1?1:-1,ze.size=0,ze.type=5;else if(et.slice(-1)=="/"){for(Ne=R+1;Ne<Se.length&&a(H.FullPaths[Ne])!=et;++Ne);for(ze.C=Ne>=Se.length?-1:Ne,Ne=R+1;Ne<Se.length&&a(H.FullPaths[Ne])!=a(et);++Ne);ze.R=Ne>=Se.length?-1:Ne,ze.type=1}else a(H.FullPaths[R+1]||"")==a(et)&&(ze.R=R+1),ze.type=2}}}function A(H,re){var Z=re||{};if(Z.fileType=="mad")return ot(H,Z);switch(C(H),Z.fileType){case"zip":return de(H,Z)}var te=function(st){for(var Ye=0,at=0,Rt=0;Rt<st.FileIndex.length;++Rt){var Tr=st.FileIndex[Rt];if(Tr.content){var Ar=Tr.content.length;Ar>0&&(Ar<4096?Ye+=Ar+63>>6:at+=Ar+511>>9)}}for(var In=st.FullPaths.length+3>>2,Ic=Ye+7>>3,Mc=Ye+127>>7,Fc=Ic+at+In+Mc,Vo=Fc+127>>7,Qf=Vo<=109?0:Math.ceil((Vo-109)/127);Fc+Vo+Qf+127>>7>Vo;)Qf=++Vo<=109?0:Math.ceil((Vo-109)/127);var _i=[1,Qf,Vo,Mc,In,at,Ye,0];return st.FileIndex[0].size=Ye<<6,_i[7]=(st.FileIndex[0].start=_i[0]+_i[1]+_i[2]+_i[3]+_i[4]+_i[5])+(_i[6]+7>>3),_i}(H),R=Bn(te[7]<<9),Y=0,ce=0;{for(Y=0;Y<8;++Y)R.write_shift(1,L[Y]);for(Y=0;Y<8;++Y)R.write_shift(2,0);for(R.write_shift(2,62),R.write_shift(2,3),R.write_shift(2,65534),R.write_shift(2,9),R.write_shift(2,6),Y=0;Y<3;++Y)R.write_shift(2,0);for(R.write_shift(4,0),R.write_shift(4,te[2]),R.write_shift(4,te[0]+te[1]+te[2]+te[3]-1),R.write_shift(4,0),R.write_shift(4,4096),R.write_shift(4,te[3]?te[0]+te[1]+te[2]-1:W),R.write_shift(4,te[3]),R.write_shift(-4,te[1]?te[0]-1:W),R.write_shift(4,te[1]),Y=0;Y<109;++Y)R.write_shift(-4,Y<te[2]?te[1]+Y:-1)}if(te[1])for(ce=0;ce<te[1];++ce){for(;Y<236+ce*127;++Y)R.write_shift(-4,Y<te[2]?te[1]+Y:-1);R.write_shift(-4,ce===te[1]-1?W:ce+1)}var Ne=function(st){for(ce+=st;Y<ce-1;++Y)R.write_shift(-4,Y+1);st&&(++Y,R.write_shift(-4,W))};for(ce=Y=0,ce+=te[1];Y<ce;++Y)R.write_shift(-4,z.DIFSECT);for(ce+=te[2];Y<ce;++Y)R.write_shift(-4,z.FATSECT);Ne(te[3]),Ne(te[4]);for(var we=0,Se=0,Ce=H.FileIndex[0];we<H.FileIndex.length;++we)Ce=H.FileIndex[we],Ce.content&&(Se=Ce.content.length,!(Se<4096)&&(Ce.start=ce,Ne(Se+511>>9)));for(Ne(te[6]+7>>3);R.l&511;)R.write_shift(-4,z.ENDOFCHAIN);for(ce=Y=0,we=0;we<H.FileIndex.length;++we)Ce=H.FileIndex[we],Ce.content&&(Se=Ce.content.length,!(!Se||Se>=4096)&&(Ce.start=ce,Ne(Se+63>>6)));for(;R.l&511;)R.write_shift(-4,z.ENDOFCHAIN);for(Y=0;Y<te[4]<<2;++Y){var ze=H.FullPaths[Y];if(!ze||ze.length===0){for(we=0;we<17;++we)R.write_shift(4,0);for(we=0;we<3;++we)R.write_shift(4,-1);for(we=0;we<12;++we)R.write_shift(4,0);continue}Ce=H.FileIndex[Y],Y===0&&(Ce.start=Ce.size?Ce.start-1:W);var et=Y===0&&Z.root||Ce.name;if(Se=2*(et.length+1),R.write_shift(64,et,"utf16le"),R.write_shift(2,Se),R.write_shift(1,Ce.type),R.write_shift(1,Ce.color),R.write_shift(-4,Ce.L),R.write_shift(-4,Ce.R),R.write_shift(-4,Ce.C),Ce.clsid)R.write_shift(16,Ce.clsid,"hex");else for(we=0;we<4;++we)R.write_shift(4,0);R.write_shift(4,Ce.state||0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,Ce.start),R.write_shift(4,Ce.size),R.write_shift(4,0)}for(Y=1;Y<H.FileIndex.length;++Y)if(Ce=H.FileIndex[Y],Ce.size>=4096)if(R.l=Ce.start+1<<9,tr&&Buffer.isBuffer(Ce.content))Ce.content.copy(R,R.l,0,Ce.size),R.l+=Ce.size+511&-512;else{for(we=0;we<Ce.size;++we)R.write_shift(1,Ce.content[we]);for(;we&511;++we)R.write_shift(1,0)}for(Y=1;Y<H.FileIndex.length;++Y)if(Ce=H.FileIndex[Y],Ce.size>0&&Ce.size<4096)if(tr&&Buffer.isBuffer(Ce.content))Ce.content.copy(R,R.l,0,Ce.size),R.l+=Ce.size+63&-64;else{for(we=0;we<Ce.size;++we)R.write_shift(1,Ce.content[we]);for(;we&63;++we)R.write_shift(1,0)}if(tr)R.l=R.length;else for(;R.l<R.length;)R.write_shift(1,0);return R}function D(H,re){var Z=H.FullPaths.map(function(we){return we.toUpperCase()}),te=Z.map(function(we){var Se=we.split("/");return Se[Se.length-(we.slice(-1)=="/"?2:1)]}),R=!1;re.charCodeAt(0)===47?(R=!0,re=Z[0].slice(0,-1)+re):R=re.indexOf("/")!==-1;var Y=re.toUpperCase(),ce=R===!0?Z.indexOf(Y):te.indexOf(Y);if(ce!==-1)return H.FileIndex[ce];var Ne=!Y.match(Y0);for(Y=Y.replace(hs,""),Ne&&(Y=Y.replace(Y0,"!")),ce=0;ce<Z.length;++ce)if((Ne?Z[ce].replace(Y0,"!"):Z[ce]).replace(hs,"")==Y||(Ne?te[ce].replace(Y0,"!"):te[ce]).replace(hs,"")==Y)return H.FileIndex[ce];return null}var T=64,W=-2,q="d0cf11e0a1b11ae1",L=[208,207,17,224,161,177,26,225],I="00000000000000000000000000000000",z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:W,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:I,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function F(H,re,Z){d();var te=A(H,Z);u.writeFileSync(re,te)}function M(H){for(var re=new Array(H.length),Z=0;Z<H.length;++Z)re[Z]=String.fromCharCode(H[Z]);return re.join("")}function X(H,re){var Z=A(H,re);switch(re&&re.type||"buffer"){case"file":return d(),u.writeFileSync(re.filename,Z),Z;case"binary":return typeof Z=="string"?Z:M(Z);case"base64":return n5(typeof Z=="string"?Z:M(Z));case"buffer":if(tr)return Buffer.isBuffer(Z)?Z:qf(Z);case"array":return typeof Z=="string"?yo(Z):Z}return Z}var ee;function P(H){try{var re=H.InflateRaw,Z=new re;if(Z._processChunk(new Uint8Array([3,0]),Z._finishFlushFlag),Z.bytesRead)ee=H;else throw new Error("zlib does not expose bytesRead")}catch(te){console.error("cannot use native zlib: "+(te.message||te))}}function J(H,re){if(!ee)return $r(H,re);var Z=ee.InflateRaw,te=new Z,R=te._processChunk(H.slice(H.l),te._finishFlushFlag);return H.l+=te.bytesRead,R}function V(H){return ee?ee.deflateRawSync(H):Ee(H)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ye(H){var re=(H<<1|H<<11)&139536|(H<<5|H<<15)&558144;return(re>>16|re>>8|re)&255}for(var ae=typeof Uint8Array<"u",Q=ae?new Uint8Array(256):[],fe=0;fe<256;++fe)Q[fe]=ye(fe);function O(H,re){var Z=Q[H&255];return re<=8?Z>>>8-re:(Z=Z<<8|Q[H>>8&255],re<=16?Z>>>16-re:(Z=Z<<8|Q[H>>16&255],Z>>>24-re))}function Le(H,re){var Z=re&7,te=re>>>3;return(H[te]|(Z<=6?0:H[te+1]<<8))>>>Z&3}function $e(H,re){var Z=re&7,te=re>>>3;return(H[te]|(Z<=5?0:H[te+1]<<8))>>>Z&7}function Me(H,re){var Z=re&7,te=re>>>3;return(H[te]|(Z<=4?0:H[te+1]<<8))>>>Z&15}function He(H,re){var Z=re&7,te=re>>>3;return(H[te]|(Z<=3?0:H[te+1]<<8))>>>Z&31}function Pe(H,re){var Z=re&7,te=re>>>3;return(H[te]|(Z<=1?0:H[te+1]<<8))>>>Z&127}function bt(H,re,Z){var te=re&7,R=re>>>3,Y=(1<<Z)-1,ce=H[R]>>>te;return Z<8-te||(ce|=H[R+1]<<8-te,Z<16-te)||(ce|=H[R+2]<<16-te,Z<24-te)||(ce|=H[R+3]<<24-te),ce&Y}function pt(H,re,Z){var te=re&7,R=re>>>3;return te<=5?H[R]|=(Z&7)<<te:(H[R]|=Z<<te&255,H[R+1]=(Z&7)>>8-te),re+3}function se(H,re,Z){var te=re&7,R=re>>>3;return Z=(Z&1)<<te,H[R]|=Z,re+1}function he(H,re,Z){var te=re&7,R=re>>>3;return Z<<=te,H[R]|=Z&255,Z>>>=8,H[R+1]=Z,re+8}function B(H,re,Z){var te=re&7,R=re>>>3;return Z<<=te,H[R]|=Z&255,Z>>>=8,H[R+1]=Z&255,H[R+2]=Z>>>8,re+16}function ue(H,re){var Z=H.length,te=2*Z>re?2*Z:re+5,R=0;if(Z>=re)return H;if(tr){var Y=a5(te);if(H.copy)H.copy(Y);else for(;R<H.length;++R)Y[R]=H[R];return Y}else if(ae){var ce=new Uint8Array(te);if(ce.set)ce.set(H);else for(;R<Z;++R)ce[R]=H[R];return ce}return H.length=te,H}function be(H){for(var re=new Array(H),Z=0;Z<H;++Z)re[Z]=0;return re}function ve(H,re,Z){var te=1,R=0,Y=0,ce=0,Ne=0,we=H.length,Se=ae?new Uint16Array(32):be(32);for(Y=0;Y<32;++Y)Se[Y]=0;for(Y=we;Y<Z;++Y)H[Y]=0;we=H.length;var Ce=ae?new Uint16Array(we):be(we);for(Y=0;Y<we;++Y)Se[R=H[Y]]++,te<R&&(te=R),Ce[Y]=0;for(Se[0]=0,Y=1;Y<=te;++Y)Se[Y+16]=Ne=Ne+Se[Y-1]<<1;for(Y=0;Y<we;++Y)Ne=H[Y],Ne!=0&&(Ce[Y]=Se[Ne+16]++);var ze=0;for(Y=0;Y<we;++Y)if(ze=H[Y],ze!=0)for(Ne=O(Ce[Y],te)>>te-ze,ce=(1<<te+4-ze)-1;ce>=0;--ce)re[Ne|ce<<ze]=ze&15|Y<<4;return te}var Be=ae?new Uint16Array(512):be(512),je=ae?new Uint16Array(32):be(32);if(!ae){for(var ke=0;ke<512;++ke)Be[ke]=0;for(ke=0;ke<32;++ke)je[ke]=0}(function(){for(var H=[],re=0;re<32;re++)H.push(5);ve(H,je,32);var Z=[];for(re=0;re<=143;re++)Z.push(8);for(;re<=255;re++)Z.push(9);for(;re<=279;re++)Z.push(7);for(;re<=287;re++)Z.push(8);ve(Z,Be,288)})();var me=function(){for(var re=ae?new Uint8Array(32768):[],Z=0,te=0;Z<oe.length-1;++Z)for(;te<oe[Z+1];++te)re[te]=Z;for(;te<32768;++te)re[te]=29;var R=ae?new Uint8Array(259):[];for(Z=0,te=0;Z<ie.length-1;++Z)for(;te<ie[Z+1];++te)R[te]=Z;function Y(Ne,we){for(var Se=0;Se<Ne.length;){var Ce=Math.min(65535,Ne.length-Se),ze=Se+Ce==Ne.length;for(we.write_shift(1,+ze),we.write_shift(2,Ce),we.write_shift(2,~Ce&65535);Ce-- >0;)we[we.l++]=Ne[Se++]}return we.l}function ce(Ne,we){for(var Se=0,Ce=0,ze=ae?new Uint16Array(32768):[];Ce<Ne.length;){var et=Math.min(65535,Ne.length-Ce);if(et<10){for(Se=pt(we,Se,+(Ce+et==Ne.length)),Se&7&&(Se+=8-(Se&7)),we.l=Se/8|0,we.write_shift(2,et),we.write_shift(2,~et&65535);et-- >0;)we[we.l++]=Ne[Ce++];Se=we.l*8;continue}Se=pt(we,Se,+(Ce+et==Ne.length)+2);for(var st=0;et-- >0;){var Ye=Ne[Ce];st=(st<<5^Ye)&32767;var at=-1,Rt=0;if((at=ze[st])&&(at|=Ce&-32768,at>Ce&&(at-=32768),at<Ce))for(;Ne[at+Rt]==Ne[Ce+Rt]&&Rt<250;)++Rt;if(Rt>2){Ye=R[Rt],Ye<=22?Se=he(we,Se,Q[Ye+1]>>1)-1:(he(we,Se,3),Se+=5,he(we,Se,Q[Ye-23]>>5),Se+=3);var Tr=Ye<8?0:Ye-4>>2;Tr>0&&(B(we,Se,Rt-ie[Ye]),Se+=Tr),Ye=re[Ce-at],Se=he(we,Se,Q[Ye]>>3),Se-=3;var Ar=Ye<4?0:Ye-2>>1;Ar>0&&(B(we,Se,Ce-at-oe[Ye]),Se+=Ar);for(var In=0;In<Rt;++In)ze[st]=Ce&32767,st=(st<<5^Ne[Ce])&32767,++Ce;et-=Rt-1}else Ye<=143?Ye=Ye+48:Se=se(we,Se,1),Se=he(we,Se,Q[Ye]),ze[st]=Ce&32767,++Ce}Se=he(we,Se,0)-1}return we.l=(Se+7)/8|0,we.l}return function(we,Se){return we.length<8?Y(we,Se):ce(we,Se)}}();function Ee(H){var re=Bn(50+Math.floor(H.length*1.1)),Z=me(H,re);return re.slice(0,Z)}var Ie=ae?new Uint16Array(32768):be(32768),Ue=ae?new Uint16Array(32768):be(32768),Ve=ae?new Uint16Array(128):be(128),ht=1,Qt=1;function rr(H,re){var Z=He(H,re)+257;re+=5;var te=He(H,re)+1;re+=5;var R=Me(H,re)+4;re+=4;for(var Y=0,ce=ae?new Uint8Array(19):be(19),Ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],we=1,Se=ae?new Uint8Array(8):be(8),Ce=ae?new Uint8Array(8):be(8),ze=ce.length,et=0;et<R;++et)ce[K[et]]=Y=$e(H,re),we<Y&&(we=Y),Se[Y]++,re+=3;var st=0;for(Se[0]=0,et=1;et<=we;++et)Ce[et]=st=st+Se[et-1]<<1;for(et=0;et<ze;++et)(st=ce[et])!=0&&(Ne[et]=Ce[st]++);var Ye=0;for(et=0;et<ze;++et)if(Ye=ce[et],Ye!=0){st=Q[Ne[et]]>>8-Ye;for(var at=(1<<7-Ye)-1;at>=0;--at)Ve[st|at<<Ye]=Ye&7|et<<3}var Rt=[];for(we=1;Rt.length<Z+te;)switch(st=Ve[Pe(H,re)],re+=st&7,st>>>=3){case 16:for(Y=3+Le(H,re),re+=2,st=Rt[Rt.length-1];Y-- >0;)Rt.push(st);break;case 17:for(Y=3+$e(H,re),re+=3;Y-- >0;)Rt.push(0);break;case 18:for(Y=11+Pe(H,re),re+=7;Y-- >0;)Rt.push(0);break;default:Rt.push(st),we<st&&(we=st);break}var Tr=Rt.slice(0,Z),Ar=Rt.slice(Z);for(et=Z;et<286;++et)Tr[et]=0;for(et=te;et<30;++et)Ar[et]=0;return ht=ve(Tr,Ie,286),Qt=ve(Ar,Ue,30),re}function kr(H,re){if(H[0]==3&&!(H[1]&3))return[zu(re),2];for(var Z=0,te=0,R=a5(re||1<<18),Y=0,ce=R.length>>>0,Ne=0,we=0;!(te&1);){if(te=$e(H,Z),Z+=3,te>>>1)te>>1==1?(Ne=9,we=5):(Z=rr(H,Z),Ne=ht,we=Qt);else{Z&7&&(Z+=8-(Z&7));var Se=H[Z>>>3]|H[(Z>>>3)+1]<<8;if(Z+=32,Se>0)for(!re&&ce<Y+Se&&(R=ue(R,Y+Se),ce=R.length);Se-- >0;)R[Y++]=H[Z>>>3],Z+=8;continue}for(;;){!re&&ce<Y+32767&&(R=ue(R,Y+32767),ce=R.length);var Ce=bt(H,Z,Ne),ze=te>>>1==1?Be[Ce]:Ie[Ce];if(Z+=ze&15,ze>>>=4,!(ze>>>8&255))R[Y++]=ze;else{if(ze==256)break;ze-=257;var et=ze<8?0:ze-4>>2;et>5&&(et=0);var st=Y+ie[ze];et>0&&(st+=bt(H,Z,et),Z+=et),Ce=bt(H,Z,we),ze=te>>>1==1?je[Ce]:Ue[Ce],Z+=ze&15,ze>>>=4;var Ye=ze<4?0:ze-2>>1,at=oe[ze];for(Ye>0&&(at+=bt(H,Z,Ye),Z+=Ye),!re&&ce<st&&(R=ue(R,st+100),ce=R.length);Y<st;)R[Y]=R[Y-at],++Y}}}return re?[R,Z+7>>>3]:[R.slice(0,Y),Z+7>>>3]}function $r(H,re){var Z=H.slice(H.l||0),te=kr(Z,re);return H.l+=te[1],te[0]}function _n(H,re){if(H)typeof console<"u"&&console.error(re);else throw new Error(re)}function wi(H,re){var Z=H;ca(Z,0);var te=[],R=[],Y={FileIndex:te,FullPaths:R};k(Y,{root:re.root});for(var ce=Z.length-4;(Z[ce]!=80||Z[ce+1]!=75||Z[ce+2]!=5||Z[ce+3]!=6)&&ce>=0;)--ce;Z.l=ce+4,Z.l+=4;var Ne=Z.read_shift(2);Z.l+=6;var we=Z.read_shift(4);for(Z.l=we,ce=0;ce<Ne;++ce){Z.l+=20;var Se=Z.read_shift(4),Ce=Z.read_shift(4),ze=Z.read_shift(2),et=Z.read_shift(2),st=Z.read_shift(2);Z.l+=8;var Ye=Z.read_shift(4),at=c(Z.slice(Z.l+ze,Z.l+ze+et));Z.l+=ze+et+st;var Rt=Z.l;Z.l=Ye+4,aa(Z,Se,Ce,Y,at),Z.l=Rt}return Y}function aa(H,re,Z,te,R){H.l+=2;var Y=H.read_shift(2),ce=H.read_shift(2),Ne=o(H);if(Y&8257)throw new Error("Unsupported ZIP encryption");for(var we=H.read_shift(4),Se=H.read_shift(4),Ce=H.read_shift(4),ze=H.read_shift(2),et=H.read_shift(2),st="",Ye=0;Ye<ze;++Ye)st+=String.fromCharCode(H[H.l++]);if(et){var at=c(H.slice(H.l,H.l+et));(at[21589]||{}).mt&&(Ne=at[21589].mt),((R||{})[21589]||{}).mt&&(Ne=R[21589].mt)}H.l+=et;var Rt=H.slice(H.l,H.l+Se);switch(ce){case 8:Rt=J(H,Ce);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var Tr=!1;Y&8&&(we=H.read_shift(4),we==134695760&&(we=H.read_shift(4),Tr=!0),Se=H.read_shift(4),Ce=H.read_shift(4)),Se!=re&&_n(Tr,"Bad compressed size: "+re+" != "+Se),Ce!=Z&&_n(Tr,"Bad uncompressed size: "+Z+" != "+Ce),sa(te,st,Rt,{unsafe:!0,mt:Ne})}function de(H,re){var Z=re||{},te=[],R=[],Y=Bn(1),ce=Z.compression?8:0,Ne=0,we=0,Se=0,Ce=0,ze=0,et=H.FullPaths[0],st=et,Ye=H.FileIndex[0],at=[],Rt=0;for(we=1;we<H.FullPaths.length;++we)if(st=H.FullPaths[we].slice(et.length),Ye=H.FileIndex[we],!(!Ye.size||!Ye.content||st=="Sh33tJ5")){var Tr=Ce,Ar=Bn(st.length);for(Se=0;Se<st.length;++Se)Ar.write_shift(1,st.charCodeAt(Se)&127);Ar=Ar.slice(0,Ar.l),at[ze]=zUe.buf(Ye.content,0);var In=Ye.content;ce==8&&(In=V(In)),Y=Bn(30),Y.write_shift(4,67324752),Y.write_shift(2,20),Y.write_shift(2,Ne),Y.write_shift(2,ce),Ye.mt?i(Y,Ye.mt):Y.write_shift(4,0),Y.write_shift(-4,at[ze]),Y.write_shift(4,In.length),Y.write_shift(4,Ye.content.length),Y.write_shift(2,Ar.length),Y.write_shift(2,0),Ce+=Y.length,te.push(Y),Ce+=Ar.length,te.push(Ar),Ce+=In.length,te.push(In),Y=Bn(46),Y.write_shift(4,33639248),Y.write_shift(2,0),Y.write_shift(2,20),Y.write_shift(2,Ne),Y.write_shift(2,ce),Y.write_shift(4,0),Y.write_shift(-4,at[ze]),Y.write_shift(4,In.length),Y.write_shift(4,Ye.content.length),Y.write_shift(2,Ar.length),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(4,0),Y.write_shift(4,Tr),Rt+=Y.l,R.push(Y),Rt+=Ar.length,R.push(Ar),++ze}return Y=Bn(22),Y.write_shift(4,101010256),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,ze),Y.write_shift(2,ze),Y.write_shift(4,Rt),Y.write_shift(4,Ce),Y.write_shift(2,0),au([au(te),au(R),Y])}var _e={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Re(H,re){if(H.ctype)return H.ctype;var Z=H.name||"",te=Z.match(/\.([^\.]+)$/);return te&&_e[te[1]]||re&&(te=(Z=re).match(/[\.\\]([^\.\\])+$/),te&&_e[te[1]])?_e[te[1]]:"application/octet-stream"}function Fe(H){for(var re=n5(H),Z=[],te=0;te<re.length;te+=76)Z.push(re.slice(te,te+76));return Z.join(`\r
`)+`\r
`}function Xe(H){var re=H.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Se){var Ce=Se.charCodeAt(0).toString(16).toUpperCase();return"="+(Ce.length==1?"0"+Ce:Ce)});re=re.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),re.charAt(0)==`
`&&(re="=0D"+re.slice(1)),re=re.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Z=[],te=re.split(`\r
`),R=0;R<te.length;++R){var Y=te[R];if(Y.length==0){Z.push("");continue}for(var ce=0;ce<Y.length;){var Ne=76,we=Y.slice(ce,ce+Ne);we.charAt(Ne-1)=="="?Ne--:we.charAt(Ne-2)=="="?Ne-=2:we.charAt(Ne-3)=="="&&(Ne-=3),we=Y.slice(ce,ce+Ne),ce+=Ne,ce<Y.length&&(we+="="),Z.push(we)}}return Z.join(`\r
`)}function Vt(H){for(var re=[],Z=0;Z<H.length;++Z){for(var te=H[Z];Z<=H.length&&te.charAt(te.length-1)=="=";)te=te.slice(0,te.length-1)+H[++Z];re.push(te)}for(var R=0;R<re.length;++R)re[R]=re[R].replace(/[=][0-9A-Fa-f]{2}/g,function(Y){return String.fromCharCode(parseInt(Y.slice(1),16))});return yo(re.join(`\r
`))}function Xr(H,re,Z){for(var te="",R="",Y="",ce,Ne=0;Ne<10;++Ne){var we=re[Ne];if(!we||we.match(/^\s*$/))break;var Se=we.match(/^(.*?):\s*([^\s].*)$/);if(Se)switch(Se[1].toLowerCase()){case"content-location":te=Se[2].trim();break;case"content-type":Y=Se[2].trim();break;case"content-transfer-encoding":R=Se[2].trim();break}}switch(++Ne,R.toLowerCase()){case"base64":ce=yo(vi(re.slice(Ne).join("")));break;case"quoted-printable":ce=Vt(re.slice(Ne));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+R)}var Ce=sa(H,te.slice(Z.length),ce,{unsafe:!0});Y&&(Ce.ctype=Y)}function nt(H,re){if(M(H.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Z=re&&re.root||"",te=(tr&&Buffer.isBuffer(H)?H.toString("binary"):M(H)).split(`\r
`),R=0,Y="";for(R=0;R<te.length;++R)if(Y=te[R],!!/^Content-Location:/i.test(Y)&&(Y=Y.slice(Y.indexOf("file")),Z||(Z=Y.slice(0,Y.lastIndexOf("/")+1)),Y.slice(0,Z.length)!=Z))for(;Z.length>0&&(Z=Z.slice(0,Z.length-1),Z=Z.slice(0,Z.lastIndexOf("/")+1),Y.slice(0,Z.length)!=Z););var ce=(te[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var Ne="--"+(ce[1]||""),we=[],Se=[],Ce={FileIndex:we,FullPaths:Se};k(Ce);var ze,et=0;for(R=0;R<te.length;++R){var st=te[R];st!==Ne&&st!==Ne+"--"||(et++&&Xr(Ce,te.slice(ze,R),Z),ze=R)}return Ce}function ot(H,re){var Z=re||{},te=Z.boundary||"SheetJS";te="------="+te;for(var R=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+te.slice(2)+'"',"","",""],Y=H.FullPaths[0],ce=Y,Ne=H.FileIndex[0],we=1;we<H.FullPaths.length;++we)if(ce=H.FullPaths[we].slice(Y.length),Ne=H.FileIndex[we],!(!Ne.size||!Ne.content||ce=="Sh33tJ5")){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Rt){return"_x"+Rt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Rt){return"_u"+Rt.charCodeAt(0).toString(16)+"_"});for(var Se=Ne.content,Ce=tr&&Buffer.isBuffer(Se)?Se.toString("binary"):M(Se),ze=0,et=Math.min(1024,Ce.length),st=0,Ye=0;Ye<=et;++Ye)(st=Ce.charCodeAt(Ye))>=32&&st<128&&++ze;var at=ze>=et*4/5;R.push(te),R.push("Content-Location: "+(Z.root||"file:///C:/SheetJS/")+ce),R.push("Content-Transfer-Encoding: "+(at?"quoted-printable":"base64")),R.push("Content-Type: "+Re(Ne,ce)),R.push(""),R.push(at?Xe(Ce):Fe(Ce))}return R.push(te+`--\r
`),R.join(`\r
`)}function Yn(H){var re={};return k(re,H),re}function sa(H,re,Z,te){var R=te&&te.unsafe;R||k(H);var Y=!R&&ar.find(H,re);if(!Y){var ce=H.FullPaths[0];re.slice(0,ce.length)==ce?ce=re:(ce.slice(-1)!="/"&&(ce+="/"),ce=(ce+re).replace("//","/")),Y={name:s(re),type:2},H.FileIndex.push(Y),H.FullPaths.push(ce),R||ar.utils.cfb_gc(H)}return Y.content=Z,Y.size=Z?Z.length:0,te&&(te.CLSID&&(Y.clsid=te.CLSID),te.mt&&(Y.mt=te.mt),te.ct&&(Y.ct=te.ct)),Y}function Gt(H,re){k(H);var Z=ar.find(H,re);if(Z){for(var te=0;te<H.FileIndex.length;++te)if(H.FileIndex[te]==Z)return H.FileIndex.splice(te,1),H.FullPaths.splice(te,1),!0}return!1}function Ji(H,re,Z){k(H);var te=ar.find(H,re);if(te){for(var R=0;R<H.FileIndex.length;++R)if(H.FileIndex[R]==te)return H.FileIndex[R].name=s(Z),H.FullPaths[R]=Z,!0}return!1}function Ll(H){C(H,!0)}return r.find=D,r.read=N,r.parse=f,r.write=X,r.writeFile=F,r.utils={cfb_new:Yn,cfb_add:sa,cfb_del:Gt,cfb_mov:Ji,cfb_gc:Ll,ReadShift:jg,CheckField:UX,prep_blob:ca,bconcat:au,use_zlib:P,_deflateRaw:Ee,_inflateRaw:$r,consts:z},r}();function WUe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var r=File(e);r.open("r"),r.encoding="binary";var n=r.read();return r.close(),n}catch(a){if(!a.message||!a.message.match(/onstruct/))throw a}throw new Error("Cannot access file "+e)}function El(e){for(var r=Object.keys(e),n=[],a=0;a<r.length;++a)Object.prototype.hasOwnProperty.call(e,r[a])&&n.push(r[a]);return n}function f4(e){for(var r=[],n=El(e),a=0;a!==n.length;++a)r[e[n[a]]]=n[a];return r}var Gw=new Date(1899,11,30,0,0,0);function ms(e,r){var n=e.getTime(),a=Gw.getTime()+(e.getTimezoneOffset()-Gw.getTimezoneOffset())*6e4;return(n-a)/(24*60*60*1e3)}var bX=new Date,HUe=Gw.getTime()+(bX.getTimezoneOffset()-Gw.getTimezoneOffset())*6e4,f5=bX.getTimezoneOffset();function oj(e){var r=new Date;return r.setTime(e*24*60*60*1e3+HUe),r.getTimezoneOffset()!==f5&&r.setTime(r.getTime()+(r.getTimezoneOffset()-f5)*6e4),r}function qUe(e){var r=0,n=0,a=!1,s=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=s.length;++i)if(s[i]){switch(n=1,i>3&&(a=!0),s[i].slice(s[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[i].slice(s[i].length-1));case"D":n*=24;case"H":n*=60;case"M":if(a)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}r+=n*parseInt(s[i],10)}return r}var h5=new Date("2017-02-19T19:06:09.000Z"),wX=isNaN(h5.getFullYear())?new Date("2/19/17"):h5,KUe=wX.getFullYear()==2017;function ra(e,r){var n=new Date(e);if(KUe)return r>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):r<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(wX.getFullYear()==1917&&!isNaN(n.getFullYear())){var a=n.getFullYear();return e.indexOf(""+a)>-1||n.setFullYear(n.getFullYear()+100),n}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Of(e,r){if(tr&&Buffer.isBuffer(e)){if(r){if(e[0]==255&&e[1]==254)return J0(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return J0(oX(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(r){if(e[0]==255&&e[1]==254)return J0(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return J0(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return n[i]||i})}catch{}for(var a=[],s=0;s!=e.length;++s)a.push(String.fromCharCode(e[s]));return a.join("")}function pa(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=pa(e[n]));return r}function cn(e,r){for(var n="";n.length<r;)n+=e;return n}function Co(e){var r=Number(e);if(!isNaN(r))return isFinite(r)?r:NaN;if(!/\d/.test(e))return r;var n=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(r=Number(a))||(a=a.replace(/[(](.*)[)]/,function(s,i){return n=-n,i}),!isNaN(r=Number(a)))?r/n:r}var GUe=["january","february","march","april","may","june","july","august","september","october","november","december"];function bp(e){var r=new Date(e),n=new Date(NaN),a=r.getYear(),s=r.getMonth(),i=r.getDate();if(isNaN(i))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&GUe.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return a<0||a>8099?n:(s>0||i>1)&&a!=101?r:e.match(/[^-0-9:,\/\\]/)?n:r}var YUe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,a,s){if(e||typeof a=="string")return n.split(a);for(var i=n.split(a),o=[i[0]],c=1;c<i.length;++c)o.push(s),o.push(i[c]);return o}}();function _X(e){return e?e.content&&e.type?Of(e.content,!0):e.data?G0(e.data):e.asNodeBuffer&&tr?G0(e.asNodeBuffer().toString("binary")):e.asBinary?G0(e.asBinary()):e._data&&e._data.getContent?G0(Of(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function SX(e){if(!e)return null;if(e.data)return t5(e.data);if(e.asNodeBuffer&&tr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var r=e._data.getContent();return typeof r=="string"?t5(r):Array.prototype.slice.call(r)}return e.content&&e.type?e.content:null}function XUe(e){return e&&e.name.slice(-4)===".bin"?SX(e):_X(e)}function Ti(e,r){for(var n=e.FullPaths||El(e.files),a=r.toLowerCase().replace(/[\/]/g,"\\"),s=a.replace(/\\/g,"/"),i=0;i<n.length;++i){var o=n[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==o||s==o)return e.files?e.files[n[i]]:e.FileIndex[i]}return null}function h4(e,r){var n=Ti(e,r);if(n==null)throw new Error("Cannot find file "+r+" in zip");return n}function Cn(e,r,n){if(!n)return XUe(h4(e,r));if(!r)return null;try{return Cn(e,r)}catch{return null}}function li(e,r,n){if(!n)return _X(h4(e,r));if(!r)return null;try{return li(e,r)}catch{return null}}function JUe(e,r,n){return SX(h4(e,r))}function m5(e){for(var r=e.FullPaths||El(e.files),n=[],a=0;a<r.length;++a)r[a].slice(-1)!="/"&&n.push(r[a].replace(/^Root Entry[\/]/,""));return n.sort()}function QUe(e,r,n){if(e.FullPaths){if(typeof n=="string"){var a;return tr?a=qf(n):a=vUe(n),ar.utils.cfb_add(e,r,a)}ar.utils.cfb_add(e,r,n)}else e.file(r,n)}function jX(e,r){switch(r.type){case"base64":return ar.read(e,{type:"base64"});case"binary":return ar.read(e,{type:"binary"});case"buffer":case"array":return ar.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+r.type)}function X0(e,r){if(e.charAt(0)=="/")return e.slice(1);var n=r.split("/");r.slice(-1)!="/"&&n.pop();for(var a=e.split("/");a.length!==0;){var s=a.shift();s===".."?n.pop():s!=="."&&n.push(s)}return n.join("/")}var kX=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,ZUe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,p5=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,e9e=/<[^>]*>/g,qa=kX.match(p5)?p5:e9e,t9e=/<\w*:/,r9e=/<(\/?)\w+:/;function Pt(e,r,n){for(var a={},s=0,i=0;s!==e.length&&!((i=e.charCodeAt(s))===32||i===10||i===13);++s);if(r||(a[0]=e.slice(0,s)),s===e.length)return a;var o=e.match(ZUe),c=0,u="",d=0,f="",h="",m=1;if(o)for(d=0;d!=o.length;++d){for(h=o[d],i=0;i!=h.length&&h.charCodeAt(i)!==61;++i);for(f=h.slice(0,i).trim();h.charCodeAt(i+1)==32;)++i;for(m=(s=h.charCodeAt(i+1))==34||s==39?1:0,u=h.slice(i+1+m,h.length-m),c=0;c!=f.length&&f.charCodeAt(c)!==58;++c);if(c===f.length)f.indexOf("_")>0&&(f=f.slice(0,f.indexOf("_"))),a[f]=u,a[f.toLowerCase()]=u;else{var p=(c===5&&f.slice(0,5)==="xmlns"?"xmlns":"")+f.slice(c+1);if(a[p]&&f.slice(c-3,c)=="ext")continue;a[p]=u,a[p.toLowerCase()]=u}}return a}function Ml(e){return e.replace(r9e,"<$1")}var NX={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},n9e=f4(NX),cr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,r=/_x([\da-fA-F]{4})_/ig;return function n(a){var s=a+"",i=s.indexOf("<![CDATA[");if(i==-1)return s.replace(e,function(c,u){return NX[c]||String.fromCharCode(parseInt(u,c.indexOf("x")>-1?16:10))||c}).replace(r,function(c,u){return String.fromCharCode(parseInt(u,16))});var o=s.indexOf("]]>");return n(s.slice(0,i))+s.slice(i+9,o)+n(s.slice(o+3))}}(),a9e=/[&<>'"]/g,s9e=/[\u0000-\u001f]/g;function m4(e){var r=e+"";return r.replace(a9e,function(n){return n9e[n]}).replace(/\n/g,"<br/>").replace(s9e,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var g5=function(){var e=/&#(\d+);/g;function r(n,a){return String.fromCharCode(parseInt(a,10))}return function(a){return a.replace(e,r)}}();function qr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function gN(e){for(var r="",n=0,a=0,s=0,i=0,o=0,c=0;n<e.length;){if(a=e.charCodeAt(n++),a<128){r+=String.fromCharCode(a);continue}if(s=e.charCodeAt(n++),a>191&&a<224){o=(a&31)<<6,o|=s&63,r+=String.fromCharCode(o);continue}if(i=e.charCodeAt(n++),a<240){r+=String.fromCharCode((a&15)<<12|(s&63)<<6|i&63);continue}o=e.charCodeAt(n++),c=((a&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,r+=String.fromCharCode(55296+(c>>>10&1023)),r+=String.fromCharCode(56320+(c&1023))}return r}function v5(e){var r=zu(2*e.length),n,a,s=1,i=0,o=0,c;for(a=0;a<e.length;a+=s)s=1,(c=e.charCodeAt(a))<128?n=c:c<224?(n=(c&31)*64+(e.charCodeAt(a+1)&63),s=2):c<240?(n=(c&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),s=3):(s=4,n=(c&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(r[i++]=o&255,r[i++]=o>>>8,o=0),r[i++]=n%256,r[i++]=n>>>8;return r.slice(0,i).toString("ucs2")}function x5(e){return qf(e,"binary").toString("utf8")}var u1="foo bar baz",Fr=tr&&(x5(u1)==gN(u1)&&x5||v5(u1)==gN(u1)&&v5)||gN,J0=tr?function(e){return qf(e,"utf8").toString("binary")}:function(e){for(var r=[],n=0,a=0,s=0;n<e.length;)switch(a=e.charCodeAt(n++),!0){case a<128:r.push(String.fromCharCode(a));break;case a<2048:r.push(String.fromCharCode(192+(a>>6))),r.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,s=e.charCodeAt(n++)-56320+(a<<10),r.push(String.fromCharCode(240+(s>>18&7))),r.push(String.fromCharCode(144+(s>>12&63))),r.push(String.fromCharCode(128+(s>>6&63))),r.push(String.fromCharCode(128+(s&63)));break;default:r.push(String.fromCharCode(224+(a>>12))),r.push(String.fromCharCode(128+(a>>6&63))),r.push(String.fromCharCode(128+(a&63)))}return r.join("")},Xv=function(){var e={};return function(n,a){var s=n+"|"+(a||"");return e[s]?e[s]:e[s]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",a||"")}}(),CX=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(r){return[new RegExp("&"+r[0]+";","ig"),r[1]]});return function(n){for(var a=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)a=a.replace(e[s][0],e[s][1]);return a}}(),i9e=function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}}(),o9e=/<\/?(?:vt:)?variant>/g,l9e=/<(?:vt:)([^>]*)>([\s\S]*)</;function y5(e,r){var n=Pt(e),a=e.match(i9e(n.baseType))||[],s=[];if(a.length!=n.size){if(r.WTF)throw new Error("unexpected vector length "+a.length+" != "+n.size);return s}return a.forEach(function(i){var o=i.replace(o9e,"").match(l9e);o&&s.push({v:Fr(o[2]),t:o[1]})}),s}var c9e=/(^\s|\s$|\n)/;function u9e(e){return El(e).map(function(r){return" "+r+'="'+e[r]+'"'}).join("")}function d9e(e,r,n){return"<"+e+(n!=null?u9e(n):"")+(r!=null?(r.match(c9e)?' xml:space="preserve"':"")+">"+r+"</"+e:"/")+">"}function p4(e){if(tr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Fr(Kf(c4(e)));throw new Error("Bad input format: expected Buffer or string")}var Jv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,f9e={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},h9e=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function m9e(e,r){for(var n=1-2*(e[r+7]>>>7),a=((e[r+7]&127)<<4)+(e[r+6]>>>4&15),s=e[r+6]&15,i=5;i>=0;--i)s=s*256+e[r+i];return a==2047?s==0?n*(1/0):NaN:(a==0?a=-1022:(a-=1023,s+=Math.pow(2,52)),n*Math.pow(2,a-52)*s)}function p9e(e,r,n){var a=(r<0||1/r==-1/0?1:0)<<7,s=0,i=0,o=a?-r:r;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(r)?26985:0);for(var c=0;c<=5;++c,i/=256)e[n+c]=i&255;e[n+6]=(s&15)<<4|i&15,e[n+7]=s>>4|a}var b5=function(e){for(var r=[],n=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var s=0,i=e[0][a].length;s<i;s+=n)r.push.apply(r,e[0][a].slice(s,s+n));return r},w5=tr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(r){return Buffer.isBuffer(r)?r:qf(r)})):b5(e)}:b5,_5=function(e,r,n){for(var a=[],s=r;s<n;s+=2)a.push(String.fromCharCode(ac(e,s)));return a.join("").replace(hs,"")},g4=tr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf16le",r,n).replace(hs,""):_5(e,r,n)}:_5,S5=function(e,r,n){for(var a=[],s=r;s<r+n;++s)a.push(("0"+e[s].toString(16)).slice(-2));return a.join("")},EX=tr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("hex",r,r+n):S5(e,r,n)}:S5,j5=function(e,r,n){for(var a=[],s=r;s<n;s++)a.push(String.fromCharCode(wh(e,s)));return a.join("")},Qx=tr?function(r,n,a){return Buffer.isBuffer(r)?r.toString("utf8",n,a):j5(r,n,a)}:j5,TX=function(e,r){var n=ai(e,r);return n>0?Qx(e,r+4,r+4+n-1):""},AX=TX,OX=function(e,r){var n=ai(e,r);return n>0?Qx(e,r+4,r+4+n-1):""},PX=OX,DX=function(e,r){var n=2*ai(e,r);return n>0?Qx(e,r+4,r+4+n-1):""},RX=DX,IX=function(r,n){var a=ai(r,n);return a>0?g4(r,n+4,n+4+a):""},MX=IX,FX=function(e,r){var n=ai(e,r);return n>0?Qx(e,r+4,r+4+n):""},LX=FX,$X=function(e,r){return m9e(e,r)},Yw=$X,BX=function(r){return Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array};tr&&(AX=function(r,n){if(!Buffer.isBuffer(r))return TX(r,n);var a=r.readUInt32LE(n);return a>0?r.toString("utf8",n+4,n+4+a-1):""},PX=function(r,n){if(!Buffer.isBuffer(r))return OX(r,n);var a=r.readUInt32LE(n);return a>0?r.toString("utf8",n+4,n+4+a-1):""},RX=function(r,n){if(!Buffer.isBuffer(r))return DX(r,n);var a=2*r.readUInt32LE(n);return r.toString("utf16le",n+4,n+4+a-1)},MX=function(r,n){if(!Buffer.isBuffer(r))return IX(r,n);var a=r.readUInt32LE(n);return r.toString("utf16le",n+4,n+4+a)},LX=function(r,n){if(!Buffer.isBuffer(r))return FX(r,n);var a=r.readUInt32LE(n);return r.toString("utf8",n+4,n+4+a)},Yw=function(r,n){return Buffer.isBuffer(r)?r.readDoubleLE(n):$X(r,n)},BX=function(r){return Buffer.isBuffer(r)||Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array});var wh=function(e,r){return e[r]},ac=function(e,r){return e[r+1]*256+e[r]},g9e=function(e,r){var n=e[r+1]*256+e[r];return n<32768?n:(65535-n+1)*-1},ai=function(e,r){return e[r+3]*(1<<24)+(e[r+2]<<16)+(e[r+1]<<8)+e[r]},Td=function(e,r){return e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]},v9e=function(e,r){return e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]};function jg(e,r){var n="",a,s,i=[],o,c,u,d;switch(r){case"dbcs":if(d=this.l,tr&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)n+=String.fromCharCode(ac(this,d)),d+=2;e*=2;break;case"utf8":n=Qx(this,this.l,this.l+e);break;case"utf16le":e*=2,n=g4(this,this.l,this.l+e);break;case"wstr":return jg.call(this,e,"dbcs");case"lpstr-ansi":n=AX(this,this.l),e=4+ai(this,this.l);break;case"lpstr-cp":n=PX(this,this.l),e=4+ai(this,this.l);break;case"lpwstr":n=RX(this,this.l),e=4+2*ai(this,this.l);break;case"lpp4":e=4+ai(this,this.l),n=MX(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ai(this,this.l),n=LX(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=wh(this,this.l+e++))!==0;)i.push(c1(o));n=i.join("");break;case"_wstr":for(e=0,n="";(o=ac(this,this.l+e))!==0;)i.push(c1(o)),e+=2;e+=2,n=i.join("");break;case"dbcs-cont":for(n="",d=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return o=wh(this,d),this.l=d+1,c=jg.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(c1(ac(this,d))),d+=2}n=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",d=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return o=wh(this,d),this.l=d+1,c=jg.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(c1(wh(this,d))),d+=1}n=i.join("");break;default:switch(e){case 1:return a=wh(this,this.l),this.l++,a;case 2:return a=(r==="i"?g9e:ac)(this,this.l),this.l+=2,a;case 4:case-4:return r==="i"||!(this[this.l+3]&128)?(a=(e>0?Td:v9e)(this,this.l),this.l+=4,a):(s=ai(this,this.l),this.l+=4,s);case 8:case-8:if(r==="f")return e==8?s=Yw(this,this.l):s=Yw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:n=EX(this,this.l,e);break}}return this.l+=e,n}var x9e=function(e,r,n){e[n]=r&255,e[n+1]=r>>>8&255,e[n+2]=r>>>16&255,e[n+3]=r>>>24&255},y9e=function(e,r,n){e[n]=r&255,e[n+1]=r>>8&255,e[n+2]=r>>16&255,e[n+3]=r>>24&255},b9e=function(e,r,n){e[n]=r&255,e[n+1]=r>>>8&255};function w9e(e,r,n){var a=0,s=0;if(n==="dbcs"){for(s=0;s!=r.length;++s)b9e(this,r.charCodeAt(s),this.l+2*s);a=2*r.length}else if(n==="sbcs"){for(r=r.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=r.length;++s)this[this.l+s]=r.charCodeAt(s)&255;a=r.length}else if(n==="hex"){for(;s<e;++s)this[this.l++]=parseInt(r.slice(2*s,2*s+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(r.length,e);++s){var o=r.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=r&255;break;case 2:a=2,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255;break;case 3:a=3,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255,r>>>=8,this[this.l+2]=r&255;break;case 4:a=4,x9e(this,r,this.l);break;case 8:if(a=8,n==="f"){p9e(this,r,this.l);break}case 16:break;case-4:a=4,y9e(this,r,this.l);break}return this.l+=a,this}function UX(e,r){var n=EX(this,this.l,e.length>>1);if(n!==e)throw new Error(r+"Expected "+e+" saw "+n);this.l+=e.length>>1}function ca(e,r){e.l=r,e.read_shift=jg,e.chk=UX,e.write_shift=w9e}function za(e,r){e.l+=r}function Bn(e){var r=zu(e);return ca(r,0),r}function Rc(e,r,n){if(e){var a,s,i;ca(e,e.l||0);for(var o=e.length,c=0,u=0;e.l<o;){c=e.read_shift(1),c&128&&(c=(c&127)+((e.read_shift(1)&127)<<7));var d=t_[c]||t_[65535];for(a=e.read_shift(1),i=a&127,s=1;s<4&&a&128;++s)i+=((a=e.read_shift(1))&127)<<7*s;u=e.l+i;var f=d.f&&d.f(e,i,n);if(e.l=u,r(f,d,c))return}}}function aT(){var e=[],r=tr?256:2048,n=function(d){var f=Bn(d);return ca(f,0),f},a=n(r),s=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(d){return a&&d<a.length-a.l?a:(s(),a=n(Math.max(d+1,r)))},o=function(){return s(),au(e)},c=function(d){s(),a=d,a.l==null&&(a.l=a.length),i(r)};return{next:i,push:c,end:o,_bufs:e}}function kg(e,r,n){var a=pa(e);if(r.s?(a.cRel&&(a.c+=r.s.c),a.rRel&&(a.r+=r.s.r)):(a.cRel&&(a.c+=r.c),a.rRel&&(a.r+=r.r)),!n||n.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function k5(e,r,n){var a=pa(e);return a.s=kg(a.s,r.s,n),a.e=kg(a.e,r.s,n),a}function Ng(e,r){if(e.cRel&&e.c<0)for(e=pa(e);e.c<0;)e.c+=r>8?16384:256;if(e.rRel&&e.r<0)for(e=pa(e);e.r<0;)e.r+=r>8?1048576:r>5?65536:16384;var n=Ft(e);return!e.cRel&&e.cRel!=null&&(n=j9e(n)),!e.rRel&&e.rRel!=null&&(n=_9e(n)),n}function vN(e,r){return e.s.r==0&&!e.s.rRel&&e.e.r==(r.biff>=12?1048575:r.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+qn(e.s.c)+":"+(e.e.cRel?"":"$")+qn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(r.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ga(e.s.r)+":"+(e.e.rRel?"":"$")+ga(e.e.r):Ng(e.s,r.biff)+":"+Ng(e.e,r.biff)}function v4(e){return parseInt(S9e(e),10)-1}function ga(e){return""+(e+1)}function _9e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function S9e(e){return e.replace(/\$(\d+)$/,"$1")}function x4(e){for(var r=k9e(e),n=0,a=0;a!==r.length;++a)n=26*n+r.charCodeAt(a)-64;return n-1}function qn(e){if(e<0)throw new Error("invalid column "+e);var r="";for(++e;e;e=Math.floor((e-1)/26))r=String.fromCharCode((e-1)%26+65)+r;return r}function j9e(e){return e.replace(/^([A-Z])/,"$$$1")}function k9e(e){return e.replace(/^\$([A-Z])/,"$1")}function N9e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function us(e){for(var r=0,n=0,a=0;a<e.length;++a){var s=e.charCodeAt(a);s>=48&&s<=57?r=10*r+(s-48):s>=65&&s<=90&&(n=26*n+(s-64))}return{c:n-1,r:r-1}}function Ft(e){for(var r=e.c+1,n="";r;r=(r-1)/26|0)n=String.fromCharCode((r-1)%26+65)+n;return n+(e.r+1)}function l0(e){var r=e.indexOf(":");return r==-1?{s:us(e),e:us(e)}:{s:us(e.slice(0,r)),e:us(e.slice(r+1))}}function sr(e,r){return typeof r>"u"||typeof r=="number"?sr(e.s,e.e):(typeof e!="string"&&(e=Ft(e)),typeof r!="string"&&(r=Ft(r)),e==r?e:e+":"+r)}function fn(e){var r={s:{c:0,r:0},e:{c:0,r:0}},n=0,a=0,s=0,i=e.length;for(n=0;a<i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)n=26*n+s;for(r.s.c=--n,n=0;a<i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)n=10*n+s;if(r.s.r=--n,a===i||s!=10)return r.e.c=r.s.c,r.e.r=r.s.r,r;for(++a,n=0;a!=i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)n=26*n+s;for(r.e.c=--n,n=0;a!=i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)n=10*n+s;return r.e.r=--n,r}function N5(e,r){var n=e.t=="d"&&r instanceof Date;if(e.z!=null)try{return e.w=Hi(e.z,n?ms(r):r)}catch{}try{return e.w=Hi((e.XF||{}).numFmtId||(n?14:0),n?ms(r):r)}catch{return""+r}}function Cc(e,r,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?Xf[e.v]||e.v:r==null?N5(e,e.v):N5(e,r))}function od(e,r){var n=r&&r.sheet?r.sheet:"Sheet1",a={};return a[n]=e,{SheetNames:[n],Sheets:a}}function VX(e,r,n){var a=n||{},s=e?Array.isArray(e):a.dense,i=e||(s?[]:{}),o=0,c=0;if(i&&a.origin!=null){if(typeof a.origin=="number")o=a.origin;else{var u=typeof a.origin=="string"?us(a.origin):a.origin;o=u.r,c=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=fn(i["!ref"]);d.s.c=f.s.c,d.s.r=f.s.r,d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(d.e.r=o=f.e.r+1)}for(var h=0;h!=r.length;++h)if(r[h]){if(!Array.isArray(r[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=r[h].length;++m)if(!(typeof r[h][m]>"u")){var p={v:r[h][m]},g=o+h,v=c+m;if(d.s.r>g&&(d.s.r=g),d.s.c>v&&(d.s.c=v),d.e.r<g&&(d.e.r=g),d.e.c<v&&(d.e.c=v),r[h][m]&&typeof r[h][m]=="object"&&!Array.isArray(r[h][m])&&!(r[h][m]instanceof Date))p=r[h][m];else if(Array.isArray(p.v)&&(p.f=r[h][m][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(a.nullError)p.t="e",p.v=0;else if(a.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=a.dateNF||zt[14],a.cellDates?(p.t="d",p.w=Hi(p.z,ms(p.v))):(p.t="n",p.v=ms(p.v),p.w=Hi(p.z,p.v))):p.t="s";if(s)i[g]||(i[g]=[]),i[g][v]&&i[g][v].z&&(p.z=i[g][v].z),i[g][v]=p;else{var x=Ft({c:v,r:g});i[x]&&i[x].z&&(p.z=i[x].z),i[x]=p}}}return d.s.c<1e7&&(i["!ref"]=sr(d)),i}function c0(e,r){return VX(null,e,r)}function C9e(e){return e.read_shift(4,"i")}function $a(e){var r=e.read_shift(4);return r===0?"":e.read_shift(r,"dbcs")}function E9e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function y4(e,r){var n=e.l,a=e.read_shift(1),s=$a(e),i=[],o={t:s,h:s};if(a&1){for(var c=e.read_shift(4),u=0;u!=c;++u)i.push(E9e(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=n+r,o}var T9e=y4;function Yi(e){var r=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:r,iStyleRef:n}}function Gf(e){var r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:r}}var A9e=$a;function b4(e){var r=e.read_shift(4);return r===0||r===4294967295?"":e.read_shift(r,"dbcs")}var O9e=$a,sT=b4;function w4(e){var r=e.slice(e.l,e.l+4),n=r[0]&1,a=r[0]&2;e.l+=4;var s=a===0?Yw([0,0,0,0,r[0]&252,r[1],r[2],r[3]],0):Td(r,0)>>2;return n?s/100:s}function zX(e){var r={s:{},e:{}};return r.s.r=e.read_shift(4),r.e.r=e.read_shift(4),r.s.c=e.read_shift(4),r.e.c=e.read_shift(4),r}var Yf=zX;function Ma(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function P9e(e){var r={},n=e.read_shift(1),a=n>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),c=e.read_shift(1),u=e.read_shift(1);switch(e.l++,a){case 0:r.auto=1;break;case 1:r.index=s;var d=of[s];d&&(r.rgb=Zv(d));break;case 2:r.rgb=Zv([o,c,u]);break;case 3:r.theme=s;break}return i!=0&&(r.tint=i>0?i/32767:i/32768),r}function D9e(e){var r=e.read_shift(1);e.l++;var n={fBold:r&1,fItalic:r&2,fUnderline:r&4,fStrikeout:r&8,fOutline:r&16,fShadow:r&32,fCondense:r&64,fExtend:r&128};return n}function WX(e,r){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},a=e.read_shift(4);switch(a){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));return e.l-=4,e.read_shift(0,r==1?"lpstr":"lpwstr")}function R9e(e){return WX(e,1)}function I9e(e){return WX(e,2)}var _4=2,ws=3,d1=11,C5=12,Xw=19,f1=64,M9e=65,F9e=71,L9e=4108,$9e=4126,Jn=80,HX=81,B9e=[Jn,HX],U9e={1:{n:"CodePage",t:_4},2:{n:"Category",t:Jn},3:{n:"PresentationFormat",t:Jn},4:{n:"ByteCount",t:ws},5:{n:"LineCount",t:ws},6:{n:"ParagraphCount",t:ws},7:{n:"SlideCount",t:ws},8:{n:"NoteCount",t:ws},9:{n:"HiddenCount",t:ws},10:{n:"MultimediaClipCount",t:ws},11:{n:"ScaleCrop",t:d1},12:{n:"HeadingPairs",t:L9e},13:{n:"TitlesOfParts",t:$9e},14:{n:"Manager",t:Jn},15:{n:"Company",t:Jn},16:{n:"LinksUpToDate",t:d1},17:{n:"CharacterCount",t:ws},19:{n:"SharedDoc",t:d1},22:{n:"HyperlinksChanged",t:d1},23:{n:"AppVersion",t:ws,p:"version"},24:{n:"DigSig",t:M9e},26:{n:"ContentType",t:Jn},27:{n:"ContentStatus",t:Jn},28:{n:"Language",t:Jn},29:{n:"Version",t:Jn},255:{},2147483648:{n:"Locale",t:Xw},2147483651:{n:"Behavior",t:Xw},1919054434:{}},V9e={1:{n:"CodePage",t:_4},2:{n:"Title",t:Jn},3:{n:"Subject",t:Jn},4:{n:"Author",t:Jn},5:{n:"Keywords",t:Jn},6:{n:"Comments",t:Jn},7:{n:"Template",t:Jn},8:{n:"LastAuthor",t:Jn},9:{n:"RevNumber",t:Jn},10:{n:"EditTime",t:f1},11:{n:"LastPrinted",t:f1},12:{n:"CreatedDate",t:f1},13:{n:"ModifiedDate",t:f1},14:{n:"PageCount",t:ws},15:{n:"WordCount",t:ws},16:{n:"CharCount",t:ws},17:{n:"Thumbnail",t:F9e},18:{n:"Application",t:Jn},19:{n:"DocSecurity",t:ws},255:{},2147483648:{n:"Locale",t:Xw},2147483651:{n:"Behavior",t:Xw},1919054434:{}},E5={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},z9e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function W9e(e){return e.map(function(r){return[r>>16&255,r>>8&255,r&255]})}var H9e=W9e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),of=pa(H9e),Xf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},qX={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},T5={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function q9e(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function K9e(e){var r=q9e();if(!e||!e.match)return r;var n={};if((e.match(qa)||[]).forEach(function(a){var s=Pt(a);switch(s[0].replace(t9e,"<")){case"<?xml":break;case"<Types":r.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[s.Extension]=s.ContentType;break;case"<Override":r[T5[s.ContentType]]!==void 0&&r[T5[s.ContentType]].push(s.PartName);break}}),r.xmlns!==f9e.CT)throw new Error("Unknown Namespace: "+r.xmlns);return r.calcchain=r.calcchains.length>0?r.calcchains[0]:"",r.sst=r.strs.length>0?r.strs[0]:"",r.style=r.styles.length>0?r.styles[0]:"",r.defaults=n,delete r.calcchains,r}var Kh={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function iT(e){var r=e.lastIndexOf("/");return e.slice(0,r+1)+"_rels/"+e.slice(r+1)+".rels"}function Cg(e,r){var n={"!id":{}};if(!e)return n;r.charAt(0)!=="/"&&(r="/"+r);var a={};return(e.match(qa)||[]).forEach(function(s){var i=Pt(s);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var c=i.TargetMode==="External"?i.Target:X0(i.Target,r);n[c]=o,a[i.Id]=o}}),n["!id"]=a,n}var G9e="application/vnd.oasis.opendocument.spreadsheet";function Y9e(e,r){for(var n=p4(e),a,s;a=Jv.exec(n);)switch(a[3]){case"manifest":break;case"file-entry":if(s=Pt(a[0],!1),s.path=="/"&&s.type!==G9e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(r&&r.WTF)throw a}}var Eg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],X9e=function(){for(var e=new Array(Eg.length),r=0;r<Eg.length;++r){var n=Eg[r],a="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[r]=new RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return e}();function KX(e){var r={};e=Fr(e);for(var n=0;n<Eg.length;++n){var a=Eg[n],s=e.match(X9e[n]);s!=null&&s.length>0&&(r[a[1]]=cr(s[1])),a[2]==="date"&&r[a[1]]&&(r[a[1]]=ra(r[a[1]]))}return r}var J9e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function GX(e,r,n,a){var s=[];if(typeof e=="string")s=y5(e,a);else for(var i=0;i<e.length;++i)s=s.concat(e[i].map(function(f){return{v:f}}));var o=typeof r=="string"?y5(r,a).map(function(f){return f.v}):r,c=0,u=0;if(o.length>0)for(var d=0;d!==s.length;d+=2){switch(u=+s[d+1].v,s[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=u,n.SheetNames=o.slice(c,c+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=u,n.DefinedNames=o.slice(c,c+u);break;case"Charts":case"Diagramme":n.Chartsheets=u,n.ChartNames=o.slice(c,c+u);break}c+=u}}function Q9e(e,r,n){var a={};return r||(r={}),e=Fr(e),J9e.forEach(function(s){var i=(e.match(Xv(s[0]))||[])[1];switch(s[2]){case"string":i&&(r[s[1]]=cr(i));break;case"bool":r[s[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));o&&o.length>0&&(a[s[1]]=o[1]);break}}),a.HeadingPairs&&a.TitlesOfParts&&GX(a.HeadingPairs,a.TitlesOfParts,r,n),r}var Z9e=/<[^>]+>[^<]*/g;function e7e(e,r){var n={},a="",s=e.match(Z9e);if(s)for(var i=0;i!=s.length;++i){var o=s[i],c=Pt(o);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":a=cr(c.name);break;case"</property>":a=null;break;default:if(o.indexOf("<vt:")===0){var u=o.split(">"),d=u[0].slice(4),f=u[1];switch(d){case"lpstr":case"bstr":case"lpwstr":n[a]=cr(f);break;case"bool":n[a]=qr(f);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[a]=parseInt(f,10);break;case"r4":case"r8":case"decimal":n[a]=parseFloat(f);break;case"filetime":case"date":n[a]=ra(f);break;case"cy":case"error":n[a]=cr(f);break;default:if(d.slice(-1)=="/")break;r.WTF&&typeof console<"u"&&console.warn("Unexpected",o,d,u)}}else if(o.slice(0,2)!=="</"){if(r.WTF)throw new Error(o)}}}return n}var t7e={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},xN;function r7e(e,r,n){xN||(xN=f4(t7e)),r=xN[r]||r,e[r]=n}function S4(e){var r=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+r/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function YX(e,r,n){var a=e.l,s=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-a&3;)++e.l;return s}function XX(e,r,n){var a=e.read_shift(0,"lpwstr");return a}function JX(e,r,n){return r===31?XX(e):YX(e,r,n)}function oT(e,r,n){return JX(e,r,n===!1?0:4)}function n7e(e,r){if(!r)throw new Error("VtUnalignedString must have positive length");return JX(e,r,0)}function a7e(e){for(var r=e.read_shift(4),n=[],a=0;a!=r;++a){var s=e.l;n[a]=e.read_shift(0,"lpwstr").replace(hs,""),e.l-s&2&&(e.l+=2)}return n}function s7e(e){for(var r=e.read_shift(4),n=[],a=0;a!=r;++a)n[a]=e.read_shift(0,"lpstr-cp").replace(hs,"");return n}function i7e(e){var r=e.l,n=Jw(e,HX);e[e.l]==0&&e[e.l+1]==0&&e.l-r&2&&(e.l+=2);var a=Jw(e,ws);return[n,a]}function o7e(e){for(var r=e.read_shift(4),n=[],a=0;a<r/2;++a)n.push(i7e(e));return n}function A5(e,r){for(var n=e.read_shift(4),a={},s=0;s!=n;++s){var i=e.read_shift(4),o=e.read_shift(4);a[i]=e.read_shift(o,r===1200?"utf16le":"utf8").replace(hs,"").replace(Y0,"!"),r===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),a}function QX(e){var r=e.read_shift(4),n=e.slice(e.l,e.l+r);return e.l+=r,(r&3)>0&&(e.l+=4-(r&3)&3),n}function l7e(e){var r={};return r.Size=e.read_shift(4),e.l+=r.Size+3-(r.Size-1)%4,r}function Jw(e,r,n){var a=e.read_shift(2),s,i=n||{};if(e.l+=2,r!==C5&&a!==r&&B9e.indexOf(r)===-1&&!((r&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+r+" saw "+a);switch(r===C5?a:r){case 2:return s=e.read_shift(2,"i"),i.raw||(e.l+=2),s;case 3:return s=e.read_shift(4,"i"),s;case 11:return e.read_shift(4)!==0;case 19:return s=e.read_shift(4),s;case 30:return YX(e,a,4).replace(hs,"");case 31:return XX(e);case 64:return S4(e);case 65:return QX(e);case 71:return l7e(e);case 80:return oT(e,a,!i.raw).replace(hs,"");case 81:return n7e(e,a).replace(hs,"");case 4108:return o7e(e);case 4126:case 4127:return a==4127?a7e(e):s7e(e);default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+a)}}function O5(e,r){var n=e.l,a=e.read_shift(4),s=e.read_shift(4),i=[],o=0,c=0,u=-1,d={};for(o=0;o!=s;++o){var f=e.read_shift(4),h=e.read_shift(4);i[o]=[f,h+n]}i.sort(function(b,_){return b[1]-_[1]});var m={};for(o=0;o!=s;++o){if(e.l!==i[o][1]){var p=!0;if(o>0&&r)switch(r[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break}if((!r||o==0)&&e.l<=i[o][1]&&(p=!1,e.l=i[o][1]),p)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(r){var g=r[i[o][0]];if(m[g.n]=Jw(e,g.t,{raw:!0}),g.p==="version"&&(m[g.n]=String(m[g.n]>>16)+"."+("0000"+String(m[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(m[g.n]){case 0:m[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:_o(c=m[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[g.n])}}else if(i[o][0]===1){if(c=m.CodePage=Jw(e,_4),_o(c),u!==-1){var v=e.l;e.l=i[u][1],d=A5(e,c),e.l=v}}else if(i[o][0]===0){if(c===0){u=o,e.l=i[o+1][1];continue}d=A5(e,c)}else{var x=d[i[o][0]],w;switch(e[e.l]){case 65:e.l+=4,w=QX(e);break;case 30:e.l+=4,w=oT(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,w=oT(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,w=e.read_shift(4,"i");break;case 19:e.l+=4,w=e.read_shift(4);break;case 5:e.l+=4,w=e.read_shift(8,"f");break;case 11:e.l+=4,w=hn(e,4);break;case 64:e.l+=4,w=ra(S4(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[x]=w}}return e.l=n+a,m}function P5(e,r,n){var a=e.content;if(!a)return{};ca(a,0);var s,i,o,c,u=0;a.chk("feff","Byte Order: "),a.read_shift(2);var d=a.read_shift(4),f=a.read_shift(16);if(f!==ar.utils.consts.HEADER_CLSID&&f!==n)throw new Error("Bad PropertySet CLSID "+f);if(s=a.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(i=a.read_shift(16),c=a.read_shift(4),s===1&&c!==a.l)throw new Error("Length mismatch: "+c+" !== "+a.l);s===2&&(o=a.read_shift(16),u=a.read_shift(4));var h=O5(a,r),m={SystemIdentifier:d};for(var p in h)m[p]=h[p];if(m.FMTID=i,s===1)return m;if(u-a.l==2&&(a.l+=2),a.l!==u)throw new Error("Length mismatch 2: "+a.l+" !== "+u);var g;try{g=O5(a,null)}catch{}for(p in g)m[p]=g[p];return m.FMTID=[i,o],m}function Wc(e,r){return e.read_shift(r),null}function c7e(e,r,n){for(var a=[],s=e.l+r;e.l<s;)a.push(n(e,s-e.l));if(s!==e.l)throw new Error("Slurp error");return a}function hn(e,r){return e.read_shift(r)===1}function En(e){return e.read_shift(2,"u")}function ZX(e,r){return c7e(e,r,En)}function u7e(e){var r=e.read_shift(1),n=e.read_shift(1);return n===1?r:r===1}function Zx(e,r,n){var a=e.read_shift(n&&n.biff>=12?2:1),s="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else n.biff==12&&(s="wstr");n.biff>=2&&n.biff<=5&&(s="cpstr");var o=a?e.read_shift(a,s):"";return o}function d7e(e){var r=e.read_shift(2),n=e.read_shift(1),a=n&4,s=n&8,i=1+(n&1),o=0,c,u={};s&&(o=e.read_shift(2)),a&&(c=e.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",f=r===0?"":e.read_shift(r,d);return s&&(e.l+=4*o),a&&(e.l+=c),u.t=f,s||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function Pf(e,r,n){var a;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(r,"cpstr");if(n.biff>=12)return e.read_shift(r,"dbcs-cont")}var s=e.read_shift(1);return s===0?a=e.read_shift(r,"sbcs-cont"):a=e.read_shift(r,"dbcs-cont"),a}function ey(e,r,n){var a=e.read_shift(n&&n.biff==2?1:2);return a===0?(e.l++,""):Pf(e,a,n)}function Jf(e,r,n){if(n.biff>5)return ey(e,r,n);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function f7e(e){var r=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[r,n]}function h7e(e){var r=e.read_shift(4),n=e.l,a=!1;r>24&&(e.l+=r-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(a=!0),e.l=n);var s=e.read_shift((a?r-24:r)>>1,"utf16le").replace(hs,"");return a&&(e.l+=24),s}function m7e(e){for(var r=e.read_shift(2),n="";r-- >0;)n+="../";var a=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=e.read_shift(4);if(s===0)return n+a.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(hs,"");return n+o}function p7e(e,r){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return h7e(e);case"0303000000000000c000000000000046":return m7e(e);default:throw new Error("Unsupported Moniker "+n)}}function h1(e){var r=e.read_shift(4),n=r>0?e.read_shift(r,"utf16le").replace(hs,""):"";return n}function g7e(e,r){var n=e.l+r,a=e.read_shift(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var s=e.read_shift(2);e.l+=2;var i,o,c,u,d="",f,h;s&16&&(i=h1(e,n-e.l)),s&128&&(o=h1(e,n-e.l)),(s&257)===257&&(c=h1(e,n-e.l)),(s&257)===1&&(u=p7e(e,n-e.l)),s&8&&(d=h1(e,n-e.l)),s&32&&(f=e.read_shift(16)),s&64&&(h=S4(e)),e.l=n;var m=o||c||u||"";m&&d&&(m+="#"+d),m||(m="#"+d),s&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var p={Target:m};return f&&(p.guid=f),h&&(p.time=h),i&&(p.Tooltip=i),p}function eJ(e){var r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1),s=e.read_shift(1);return[r,n,a,s]}function tJ(e,r){var n=eJ(e);return n[3]=0,n}function Fl(e){var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{r,c:n,ixfe:a}}function v7e(e){var r=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:r,flags:n}}function x7e(e,r,n){return r===0?"":Jf(e,r,n)}function y7e(e,r,n){var a=n.biff>8?4:2,s=e.read_shift(a),i=e.read_shift(a,"i"),o=e.read_shift(a,"i");return[s,i,o]}function rJ(e){var r=e.read_shift(2),n=w4(e);return[r,n]}function b7e(e,r,n){e.l+=4,r-=4;var a=e.l+r,s=Zx(e,r,n),i=e.read_shift(2);if(a-=e.l,i!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+i);return e.l+=i,s}function lj(e){var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);return{s:{c:a,r},e:{c:s,r:n}}}function nJ(e){var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(1),s=e.read_shift(1);return{s:{c:a,r},e:{c:s,r:n}}}var w7e=nJ;function aJ(e){e.l+=4;var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return e.l+=12,[n,r,a]}function _7e(e){var r={};return e.l+=4,e.l+=16,r.fSharedNote=e.read_shift(2),e.l+=4,r}function S7e(e){var r={};return e.l+=4,e.cf=e.read_shift(2),r}function _a(e){e.l+=2,e.l+=e.read_shift(2)}var j7e={0:_a,4:_a,5:_a,6:_a,7:S7e,8:_a,9:_a,10:_a,11:_a,12:_a,13:_7e,14:_a,15:_a,16:_a,17:_a,18:_a,19:_a,20:_a,21:aJ};function k7e(e,r){for(var n=e.l+r,a=[];e.l<n;){var s=e.read_shift(2);e.l-=2;try{a.push(j7e[s](e,n-e.l))}catch{return e.l=n,a}}return e.l!=n&&(e.l=n),a}function m1(e,r){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),r-=2,r>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(r>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(r),n}function N7e(e,r){return r===0||e.read_shift(2),1200}function C7e(e,r,n){if(n.enc)return e.l+=r,"";var a=e.l,s=Jf(e,0,n);return e.read_shift(r+a-e.l),s}function E7e(e,r,n){var a=n&&n.biff==8||r==2?e.read_shift(2):(e.l+=r,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function T7e(e,r,n){var a=e.read_shift(4),s=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=Zx(e,0,n);return o.length===0&&(o="Sheet1"),{pos:a,hs:s,dt:i,name:o}}function A7e(e,r){for(var n=e.l+r,a=e.read_shift(4),s=e.read_shift(4),i=[],o=0;o!=s&&e.l<n;++o)i.push(d7e(e));return i.Count=a,i.Unique=s,i}function O7e(e,r){var n={};return n.dsst=e.read_shift(2),e.l+=r-2,n}function P7e(e){var r={};r.r=e.read_shift(2),r.c=e.read_shift(2),r.cnt=e.read_shift(2)-r.c;var n=e.read_shift(2);e.l+=4;var a=e.read_shift(1);return e.l+=3,a&7&&(r.level=a&7),a&32&&(r.hidden=!0),a&64&&(r.hpt=n/20),r}function D7e(e){var r=v7e(e);if(r.type!=2211)throw new Error("Invalid Future Record "+r.type);var n=e.read_shift(4);return n!==0}function R7e(e){return e.read_shift(2),e.read_shift(4)}function D5(e,r,n){var a=0;n&&n.biff==2||(a=e.read_shift(2));var s=e.read_shift(2);n&&n.biff==2&&(a=1-(s>>15),s&=32767);var i={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[i,s]}function I7e(e){var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2),d=e.read_shift(2);return{Pos:[r,n],Dim:[a,s],Flags:i,CurTab:o,FirstTab:c,Selected:u,TabRatio:d}}function M7e(e,r,n){if(n&&n.biff>=2&&n.biff<5)return{};var a=e.read_shift(2);return{RTL:a&64}}function F7e(){}function L7e(e,r,n){var a={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return a.name=Zx(e,0,n),a}function $7e(e){var r=Fl(e);return r.isst=e.read_shift(4),r}function B7e(e,r,n){n.biffguess&&n.biff==2&&(n.biff=5);var a=e.l+r,s=Fl(e);n.biff==2&&e.l++;var i=ey(e,a-e.l,n);return s.val=i,s}function U7e(e,r,n){var a=e.read_shift(2),s=Jf(e,0,n);return[a,s]}var V7e=Jf;function R5(e,r,n){var a=e.l+r,s=n.biff==8||!n.biff?4:2,i=e.read_shift(s),o=e.read_shift(s),c=e.read_shift(2),u=e.read_shift(2);return e.l=a,{s:{r:i,c},e:{r:o,c:u}}}function z7e(e){var r=e.read_shift(2),n=e.read_shift(2),a=rJ(e);return{r,c:n,ixfe:a[0],rknum:a[1]}}function W7e(e,r){for(var n=e.l+r-2,a=e.read_shift(2),s=e.read_shift(2),i=[];e.l<n;)i.push(rJ(e));if(e.l!==n)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-s+1)throw new Error("MulRK length mismatch");return{r:a,c:s,C:o,rkrec:i}}function H7e(e,r){for(var n=e.l+r-2,a=e.read_shift(2),s=e.read_shift(2),i=[];e.l<n;)i.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-s+1)throw new Error("MulBlank length mismatch");return{r:a,c:s,C:o,ixfe:i}}function q7e(e,r,n,a){var s={},i=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(4),u=e.read_shift(2);return s.patternType=z9e[c>>26],a.cellStyles&&(s.alc=i&7,s.fWrap=i>>3&1,s.alcV=i>>4&7,s.fJustLast=i>>7&1,s.trot=i>>8&255,s.cIndent=i>>16&15,s.fShrinkToFit=i>>20&1,s.iReadOrder=i>>22&2,s.fAtrNum=i>>26&1,s.fAtrFnt=i>>27&1,s.fAtrAlc=i>>28&1,s.fAtrBdr=i>>29&1,s.fAtrPat=i>>30&1,s.fAtrProt=i>>31&1,s.dgLeft=o&15,s.dgRight=o>>4&15,s.dgTop=o>>8&15,s.dgBottom=o>>12&15,s.icvLeft=o>>16&127,s.icvRight=o>>23&127,s.grbitDiag=o>>30&3,s.icvTop=c&127,s.icvBottom=c>>7&127,s.icvDiag=c>>14&127,s.dgDiag=c>>21&15,s.icvFore=u&127,s.icvBack=u>>7&127,s.fsxButton=u>>14&1),s}function K7e(e,r,n){var a={};return a.ifnt=e.read_shift(2),a.numFmtId=e.read_shift(2),a.flags=e.read_shift(2),a.fStyle=a.flags>>2&1,r-=6,a.data=q7e(e,r,a.fStyle,n),a}function G7e(e){e.l+=4;var r=[e.read_shift(2),e.read_shift(2)];if(r[0]!==0&&r[0]--,r[1]!==0&&r[1]--,r[0]>7||r[1]>7)throw new Error("Bad Gutters: "+r.join("|"));return r}function I5(e,r,n){var a=Fl(e);(n.biff==2||r==9)&&++e.l;var s=u7e(e);return a.val=s,a.t=s===!0||s===!1?"b":"e",a}function Y7e(e,r,n){n.biffguess&&n.biff==2&&(n.biff=5);var a=Fl(e),s=Ma(e);return a.val=s,a}var M5=x7e;function X7e(e,r,n){var a=e.l+r,s=e.read_shift(2),i=e.read_shift(2);if(n.sbcch=i,i==1025||i==14849)return[i,s];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=Pf(e,i),c=[];a>e.l;)c.push(ey(e));return[i,s,o,c]}function F5(e,r,n){var a=e.read_shift(2),s,i={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return n.sbcch===14849&&(s=b7e(e,r-2,n)),i.body=s||e.read_shift(r-2),typeof s=="string"&&(i.Name=s),i}var J7e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function L5(e,r,n){var a=e.l+r,s=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(n&&n.biff==2?1:2),u=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),u=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var d=Pf(e,o,n);s&32&&(d=J7e[d.charCodeAt(0)]);var f=a-e.l;n&&n.biff==2&&--f;var h=a==e.l||c===0||!(f>0)?[]:PHe(e,f,n,c);return{chKey:i,Name:d,itab:u,rgce:h}}function sJ(e,r,n){if(n.biff<8)return Q7e(e,r,n);for(var a=[],s=e.l+r,i=e.read_shift(n.biff>8?4:2);i--!==0;)a.push(y7e(e,n.biff>8?12:6,n));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return a}function Q7e(e,r,n){e[e.l+1]==3&&e[e.l]++;var a=Zx(e,r,n);return a.charCodeAt(0)==3?a.slice(1):a}function Z7e(e,r,n){if(n.biff<8){e.l+=r;return}var a=e.read_shift(2),s=e.read_shift(2),i=Pf(e,a,n),o=Pf(e,s,n);return[i,o]}function eVe(e,r,n){var a=nJ(e);e.l++;var s=e.read_shift(1);return r-=8,[DHe(e,r,n),s,a]}function $5(e,r,n){var a=w7e(e);switch(n.biff){case 2:e.l++,r-=7;break;case 3:case 4:e.l+=2,r-=8;break;default:e.l+=6,r-=12}return[a,AHe(e,r,n)]}function tVe(e){var r=e.read_shift(4)!==0,n=e.read_shift(4)!==0,a=e.read_shift(4);return[r,n,a]}function rVe(e,r,n){if(!(n.biff<8)){var a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),c=Jf(e,0,n);return n.biff<8&&e.read_shift(1),[{r:a,c:s},c,o,i]}}function nVe(e,r,n){return rVe(e,r,n)}function aVe(e,r){for(var n=[],a=e.read_shift(2);a--;)n.push(lj(e));return n}function sVe(e,r,n){if(n&&n.biff<8)return oVe(e,r,n);var a=aJ(e),s=k7e(e,r-22,a[1]);return{cmo:a,ft:s}}var iVe={8:function(e,r){var n=e.l+r;e.l+=10;var a=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var s=e.read_shift(1);return e.l+=s,e.l=n,{fmt:a}}};function oVe(e,r,n){e.l+=4;var a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,r-=36;var o=[];return o.push((iVe[a]||za)(e,r,n)),{cmo:[s,a,i],ft:o}}function lVe(e,r,n){var a=e.l,s="";try{e.l+=4;var i=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=f7e(e,6,n);var c=e.read_shift(2);e.read_shift(2),En(e,2);var u=e.read_shift(2);e.l+=u;for(var d=1;d<e.lens.length-1;++d){if(e.l-a!=e.lens[d])throw new Error("TxO: bad continue record");var f=e[e.l],h=Pf(e,e.lens[d+1]-e.lens[d]-1);if(s+=h,s.length>=(f?c:2*c))break}if(s.length!==c&&s.length!==c*2)throw new Error("cchText: "+c+" != "+s.length);return e.l=a+r,{t:s}}catch{return e.l=a+r,{t:s}}}function cVe(e,r){var n=lj(e);e.l+=16;var a=g7e(e,r-24);return[n,a]}function uVe(e,r){e.read_shift(2);var n=lj(e),a=e.read_shift((r-10)/2,"dbcs-cont");return a=a.replace(hs,""),[n,a]}function dVe(e){var r=[0,0],n;return n=e.read_shift(2),r[0]=E5[n]||n,n=e.read_shift(2),r[1]=E5[n]||n,r}function fVe(e){for(var r=e.read_shift(2),n=[];r-- >0;)n.push(tJ(e));return n}function hVe(e){for(var r=e.read_shift(2),n=[];r-- >0;)n.push(tJ(e));return n}function mVe(e){e.l+=2;var r={cxfs:0,crc:0};return r.cxfs=e.read_shift(2),r.crc=e.read_shift(4),r}function iJ(e,r,n){if(!n.cellStyles)return za(e,r);var a=n&&n.biff>=12?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(a),c=e.read_shift(a),u=e.read_shift(2);a==2&&(e.l+=2);var d={s,e:i,w:o,ixfe:c,flags:u};return(n.biff>=5||!n.biff)&&(d.level=u>>8&7),d}function pVe(e,r){var n={};return r<32||(e.l+=16,n.header=Ma(e),n.footer=Ma(e),e.l+=2),n}function gVe(e,r,n){var a={area:!1};if(n.biff!=5)return e.l+=r,a;var s=e.read_shift(1);return e.l+=3,s&16&&(a.area=!0),a}var vVe=Fl,xVe=ZX,yVe=ey;function bVe(e){var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(4),s={fmt:r,env:n,len:a,data:e.slice(e.l,e.l+a)};return e.l+=a,s}function wVe(e,r,n){n.biffguess&&n.biff==5&&(n.biff=2);var a=Fl(e);++e.l;var s=Jf(e,r-7,n);return a.t="str",a.val=s,a}function _Ve(e){var r=Fl(e);++e.l;var n=Ma(e);return r.t="n",r.val=n,r}function SVe(e){var r=Fl(e);++e.l;var n=e.read_shift(2);return r.t="n",r.val=n,r}function jVe(e){var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,"sbcs-cont")}function kVe(e,r){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=r-13}function NVe(e,r,n){var a=e.l+r,s=Fl(e),i=e.read_shift(2),o=Pf(e,i,n);return e.l=a,s.t="str",s.val=o,s}var CVe=[2,3,48,49,131,139,140,245],B5=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},r=f4({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,u){var d=[],f=zu(1);switch(u.type){case"base64":f=yo(vi(c));break;case"binary":f=yo(c);break;case"buffer":case"array":f=c;break}ca(f,0);var h=f.read_shift(1),m=!!(h&136),p=!1,g=!1;switch(h){case 2:break;case 3:break;case 48:p=!0,m=!0;break;case 49:p=!0,m=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var v=0,x=521;h==2&&(v=f.read_shift(2)),f.l+=3,h!=2&&(v=f.read_shift(4)),v>1048576&&(v=1e6),h!=2&&(x=f.read_shift(2));var w=f.read_shift(2),b=u.codepage||1252;h!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(b=e[f[f.l]]),f.l+=1,f.l+=2),g&&(f.l+=36);for(var _=[],S={},j=Math.min(f.length,h==2?521:x-10-(p?264:0)),N=g?32:11;f.l<j&&f[f.l]!=13;)switch(S={},S.name=nu.utils.decode(b,f.slice(f.l,f.l+N)).replace(/[\u0000\r\n].*$/g,""),f.l+=N,S.type=String.fromCharCode(f.read_shift(1)),h!=2&&!g&&(S.offset=f.read_shift(4)),S.len=f.read_shift(1),h==2&&(S.offset=f.read_shift(2)),S.dec=f.read_shift(1),S.name.length&&_.push(S),h!=2&&(f.l+=g?13:14),S.type){case"B":(!p||S.len!=8)&&u.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(f[f.l]!==13&&(f.l=x-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=x;var k=0,E=0;for(d[0]=[],E=0;E!=_.length;++E)d[0][E]=_[E].name;for(;v-- >0;){if(f[f.l]===42){f.l+=w;continue}for(++f.l,d[++k]=[],E=0,E=0;E!=_.length;++E){var C=f.slice(f.l,f.l+_[E].len);f.l+=_[E].len,ca(C,0);var A=nu.utils.decode(b,C);switch(_[E].type){case"C":A.trim().length&&(d[k][E]=A.replace(/\s+$/,""));break;case"D":A.length===8?d[k][E]=new Date(+A.slice(0,4),+A.slice(4,6)-1,+A.slice(6,8)):d[k][E]=A;break;case"F":d[k][E]=parseFloat(A.trim());break;case"+":case"I":d[k][E]=g?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(A.trim().toUpperCase()){case"Y":case"T":d[k][E]=!0;break;case"N":case"F":d[k][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+A+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));d[k][E]="##MEMO##"+(g?parseInt(A.trim(),10):C.read_shift(4));break;case"N":A=A.replace(/\u0000/g,"").trim(),A&&A!="."&&(d[k][E]=+A||0);break;case"@":d[k][E]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":d[k][E]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":d[k][E]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[k][E]=-C.read_shift(-8,"f");break;case"B":if(p&&_[E].len==8){d[k][E]=C.read_shift(8,"f");break}case"G":case"P":C.l+=_[E].len;break;case"0":if(_[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[E].type)}}}if(h!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return u&&u.sheetRows&&(d=d.slice(0,u.sheetRows)),u.DBF=_,d}function a(c,u){var d=u||{};d.dateNF||(d.dateNF="yyyymmdd");var f=c0(n(c,d),d);return f["!cols"]=d.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete d.DBF,f}function s(c,u){try{return od(a(c,u),u)}catch(d){if(u&&u.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,u){var d=u||{};if(+d.codepage>=0&&_o(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var f=aT(),h=mT(c,{header:1,raw:!0,cellDates:!0}),m=h[0],p=h.slice(1),g=c["!cols"]||[],v=0,x=0,w=0,b=1;for(v=0;v<m.length;++v){if(((g[v]||{}).DBF||{}).name){m[v]=g[v].DBF.name,++w;continue}if(m[v]!=null){if(++w,typeof m[v]=="number"&&(m[v]=m[v].toString(10)),typeof m[v]!="string")throw new Error("DBF Invalid column name "+m[v]+" |"+typeof m[v]+"|");if(m.indexOf(m[v])!==v){for(x=0;x<1024;++x)if(m.indexOf(m[v]+"_"+x)==-1){m[v]+="_"+x;break}}}}var _=fn(c["!ref"]),S=[],j=[],N=[];for(v=0;v<=_.e.c-_.s.c;++v){var k="",E="",C=0,A=[];for(x=0;x<p.length;++x)p[x][v]!=null&&A.push(p[x][v]);if(A.length==0||m[v]==null){S[v]="?";continue}for(x=0;x<A.length;++x){switch(typeof A[x]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=A[x]instanceof Date?"D":"C";break;default:E="C"}C=Math.max(C,String(A[x]).length),k=k&&k!=E?"C":E}C>250&&(C=250),E=((g[v]||{}).DBF||{}).type,E=="C"&&g[v].DBF.len>C&&(C=g[v].DBF.len),k=="B"&&E=="N"&&(k="N",N[v]=g[v].DBF.dec,C=g[v].DBF.len),j[v]=k=="C"||E=="N"?C:i[k]||0,b+=j[v],S[v]=k}var D=f.next(32);for(D.write_shift(4,318902576),D.write_shift(4,p.length),D.write_shift(2,296+32*w),D.write_shift(2,b),v=0;v<4;++v)D.write_shift(4,0);for(D.write_shift(4,0|(+r[sX]||3)<<8),v=0,x=0;v<m.length;++v)if(m[v]!=null){var T=f.next(32),W=(m[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,W,"sbcs"),T.write_shift(1,S[v]=="?"?"C":S[v],"sbcs"),T.write_shift(4,x),T.write_shift(1,j[v]||i[S[v]]||0),T.write_shift(1,N[v]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),x+=j[v]||i[S[v]]||0}var q=f.next(264);for(q.write_shift(4,13),v=0;v<65;++v)q.write_shift(4,0);for(v=0;v<p.length;++v){var L=f.next(b);for(L.write_shift(1,0),x=0;x<m.length;++x)if(m[x]!=null)switch(S[x]){case"L":L.write_shift(1,p[v][x]==null?63:p[v][x]?84:70);break;case"B":L.write_shift(8,p[v][x]||0,"f");break;case"N":var I="0";for(typeof p[v][x]=="number"&&(I=p[v][x].toFixed(N[x]||0)),w=0;w<j[x]-I.length;++w)L.write_shift(1,32);L.write_shift(1,I,"sbcs");break;case"D":p[v][x]?(L.write_shift(4,("0000"+p[v][x].getFullYear()).slice(-4),"sbcs"),L.write_shift(2,("00"+(p[v][x].getMonth()+1)).slice(-2),"sbcs"),L.write_shift(2,("00"+p[v][x].getDate()).slice(-2),"sbcs")):L.write_shift(8,"00000000","sbcs");break;case"C":var z=String(p[v][x]!=null?p[v][x]:"").slice(0,j[x]);for(L.write_shift(1,z,"sbcs"),w=0;w<j[x]-z.length;++w)L.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:s,to_sheet:a,from_sheet:o}}(),EVe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},r=new RegExp("\x1BN("+El(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(m,p){var g=e[p];return typeof g=="number"?r5(g):g},a=function(m,p,g){var v=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return v==59?m:r5(v)};e["|"]=254;function s(m,p){switch(p.type){case"base64":return i(vi(m),p);case"binary":return i(m,p);case"buffer":return i(tr&&Buffer.isBuffer(m)?m.toString("binary"):Kf(m),p);case"array":return i(Of(m),p)}throw new Error("Unrecognized type "+p.type)}function i(m,p){var g=m.split(/[\n\r]+/),v=-1,x=-1,w=0,b=0,_=[],S=[],j=null,N={},k=[],E=[],C=[],A=0,D;for(+p.codepage>=0&&_o(+p.codepage);w!==g.length;++w){A=0;var T=g[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(r,n),W=T.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),q=W[0],L;if(T.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":W[1].charAt(0)=="P"&&S.push(T.slice(3).replace(/;;/g,";"));break;case"C":var I=!1,z=!1,F=!1,M=!1,X=-1,ee=-1;for(b=1;b<W.length;++b)switch(W[b].charAt(0)){case"A":break;case"X":x=parseInt(W[b].slice(1))-1,z=!0;break;case"Y":for(v=parseInt(W[b].slice(1))-1,z||(x=0),D=_.length;D<=v;++D)_[D]=[];break;case"K":L=W[b].slice(1),L.charAt(0)==='"'?L=L.slice(1,L.length-1):L==="TRUE"?L=!0:L==="FALSE"?L=!1:isNaN(Co(L))?isNaN(bp(L).getDate())||(L=ra(L)):(L=Co(L),j!==null&&o0(j)&&(L=oj(L))),I=!0;break;case"E":M=!0;var P=fm(W[b].slice(1),{r:v,c:x});_[v][x]=[_[v][x],P];break;case"S":F=!0,_[v][x]=[_[v][x],"S5S"];break;case"G":break;case"R":X=parseInt(W[b].slice(1))-1;break;case"C":ee=parseInt(W[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}if(I&&(_[v][x]&&_[v][x].length==2?_[v][x][0]=L:_[v][x]=L,j=null),F){if(M)throw new Error("SYLK shared formula cannot have own formula");var J=X>-1&&_[X][ee];if(!J||!J[1])throw new Error("SYLK shared formula cannot find base");_[v][x][1]=gJ(J[1],{r:v-X,c:x-ee})}break;case"F":var V=0;for(b=1;b<W.length;++b)switch(W[b].charAt(0)){case"X":x=parseInt(W[b].slice(1))-1,++V;break;case"Y":for(v=parseInt(W[b].slice(1))-1,D=_.length;D<=v;++D)_[D]=[];break;case"M":A=parseInt(W[b].slice(1))/20;break;case"F":break;case"G":break;case"P":j=S[parseInt(W[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=W[b].slice(1).split(" "),D=parseInt(C[0],10);D<=parseInt(C[1],10);++D)A=parseInt(C[2],10),E[D-1]=A===0?{hidden:!0}:{wch:A},wp(E[D-1]);break;case"C":x=parseInt(W[b].slice(1))-1,E[x]||(E[x]={});break;case"R":v=parseInt(W[b].slice(1))-1,k[v]||(k[v]={}),A>0?(k[v].hpt=A,k[v].hpx=ex(A)):A===0&&(k[v].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}V<1&&(j=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}}return k.length>0&&(N["!rows"]=k),E.length>0&&(N["!cols"]=E),p&&p.sheetRows&&(_=_.slice(0,p.sheetRows)),[_,N]}function o(m,p){var g=s(m,p),v=g[0],x=g[1],w=c0(v,p);return El(x).forEach(function(b){w[b]=x[b]}),w}function c(m,p){return od(o(m,p),p)}function u(m,p,g,v){var x="C;Y"+(g+1)+";X"+(v+1)+";K";switch(m.t){case"n":x+=m.v||0,m.f&&!m.F&&(x+=";E"+mWe(m.f,{r:g,c:v}));break;case"b":x+=m.v?"TRUE":"FALSE";break;case"e":x+=m.w||m.v;break;case"d":x+='"'+(m.w||m.v)+'"';break;case"s":x+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function d(m,p){p.forEach(function(g,v){var x="F;W"+(v+1)+" "+(v+1)+" ";g.hidden?x+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Zw(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=e_(g.wpx)),typeof g.wch=="number"&&(x+=Math.round(g.wch))),x.charAt(x.length-1)!=" "&&m.push(x)})}function f(m,p){p.forEach(function(g,v){var x="F;";g.hidden?x+="M0;":g.hpt?x+="M"+20*g.hpt+";":g.hpx&&(x+="M"+20*hJ(g.hpx)+";"),x.length>2&&m.push(x+"R"+(v+1))})}function h(m,p){var g=["ID;PWXL;N;E"],v=[],x=fn(m["!ref"]),w,b=Array.isArray(m),_=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),m["!cols"]&&d(g,m["!cols"]),m["!rows"]&&f(g,m["!rows"]),g.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var S=x.s.r;S<=x.e.r;++S)for(var j=x.s.c;j<=x.e.c;++j){var N=Ft({r:S,c:j});w=b?(m[S]||[])[j]:m[N],!(!w||w.v==null&&(!w.f||w.F))&&v.push(u(w,m,S,j))}return g.join(_)+_+v.join(_)+_+"E"+_}return{to_workbook:c,to_sheet:o,from_sheet:h}}(),TVe=function(){function e(i,o){switch(o.type){case"base64":return r(vi(i),o);case"binary":return r(i,o);case"buffer":return r(tr&&Buffer.isBuffer(i)?i.toString("binary"):Kf(i),o);case"array":return r(Of(i),o)}throw new Error("Unrecognized type "+o.type)}function r(i,o){for(var c=i.split(`
`),u=-1,d=-1,f=0,h=[];f!==c.length;++f){if(c[f].trim()==="BOT"){h[++u]=[],d=0;continue}if(!(u<0)){var m=c[f].trim().split(","),p=m[0],g=m[1];++f;for(var v=c[f]||"";(v.match(/["]/g)||[]).length&1&&f<c.length-1;)v+=`
`+c[++f];switch(v=v.trim(),+p){case-1:if(v==="BOT"){h[++u]=[],d=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?h[u][d]=!0:v==="FALSE"?h[u][d]=!1:isNaN(Co(g))?isNaN(bp(g).getDate())?h[u][d]=g:h[u][d]=ra(g):h[u][d]=Co(g),++d;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),h[u][d++]=v!==""?v:null;break}if(v==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function n(i,o){return c0(e(i,o),o)}function a(i,o){return od(n(i,o),o)}var s=function(){var i=function(u,d,f,h,m){u.push(d),u.push(f+","+h),u.push('"'+m.replace(/"/g,'""')+'"')},o=function(u,d,f,h){u.push(d+","+f),u.push(d==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(u){var d=[],f=fn(u["!ref"]),h,m=Array.isArray(u);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,f.e.r-f.s.r+1,""),i(d,"TUPLES",0,f.e.c-f.s.c+1,""),i(d,"DATA",0,0,"");for(var p=f.s.r;p<=f.e.r;++p){o(d,-1,0,"BOT");for(var g=f.s.c;g<=f.e.c;++g){var v=Ft({r:p,c:g});if(h=m?(u[p]||[])[g]:u[v],!h){o(d,1,0,"");continue}switch(h.t){case"n":var x=h.w;!x&&h.v!=null&&(x=h.v),x==null?h.f&&!h.F?o(d,1,0,"="+h.f):o(d,1,0,""):o(d,0,x,"V");break;case"b":o(d,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Hi(h.z||zt[14],ms(ra(h.v)))),o(d,0,h.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var w=`\r
`,b=d.join(w);return b}}();return{to_workbook:a,to_sheet:n,from_sheet:s}}(),AVe=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function r(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(h,m){for(var p=h.split(`
`),g=-1,v=-1,x=0,w=[];x!==p.length;++x){var b=p[x].trim().split(":");if(b[0]==="cell"){var _=us(b[1]);if(w.length<=_.r)for(g=w.length;g<=_.r;++g)w[g]||(w[g]=[]);switch(g=_.r,v=_.c,b[2]){case"t":w[g][v]=e(b[3]);break;case"v":w[g][v]=+b[3];break;case"vtf":var S=b[b.length-1];case"vtc":switch(b[3]){case"nl":w[g][v]=!!+b[4];break;default:w[g][v]=+b[4];break}b[2]=="vtf"&&(w[g][v]=[w[g][v],S])}}}return m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),w}function a(h,m){return c0(n(h,m),m)}function s(h,m){return od(a(h,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function d(h){if(!h||!h["!ref"])return"";for(var m=[],p=[],g,v="",x=l0(h["!ref"]),w=Array.isArray(h),b=x.s.r;b<=x.e.r;++b)for(var _=x.s.c;_<=x.e.c;++_)if(v=Ft({r:b,c:_}),g=w?(h[b]||[])[_]:h[v],!(!g||g.v==null||g.t==="z")){switch(p=["cell",v,"t"],g.t){case"s":case"str":p.push(r(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=r(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=r(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var S=ms(ra(g.v));p[2]="vtc",p[3]="nd",p[4]=""+S,p[5]=g.w||Hi(g.z||zt[14],S);break;case"e":continue}m.push(p.join(":"))}return m.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function f(h){return[i,o,c,o,d(h),u].join(`
`)}return{to_workbook:s,to_sheet:a,from_sheet:f}}(),Qv=function(){function e(f,h,m,p,g){g.raw?h[m][p]=f:f===""||(f==="TRUE"?h[m][p]=!0:f==="FALSE"?h[m][p]=!1:isNaN(Co(f))?isNaN(bp(f).getDate())?h[m][p]=f:h[m][p]=ra(f):h[m][p]=Co(f))}function r(f,h){var m=h||{},p=[];if(!f||f.length===0)return p;for(var g=f.split(/[\r\n]/),v=g.length-1;v>=0&&g[v].length===0;)--v;for(var x=10,w=0,b=0;b<=v;++b)w=g[b].indexOf(" "),w==-1?w=g[b].length:w++,x=Math.max(x,w);for(b=0;b<=v;++b){p[b]=[];var _=0;for(e(g[b].slice(0,x).trim(),p,b,_,m),_=1;_<=(g[b].length-x)/10+1;++_)e(g[b].slice(x+(_-1)*10,x+_*10).trim(),p,b,_,m)}return m.sheetRows&&(p=p.slice(0,m.sheetRows)),p}var n={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function s(f){for(var h={},m=!1,p=0,g=0;p<f.length;++p)(g=f.charCodeAt(p))==34?m=!m:!m&&g in n&&(h[g]=(h[g]||0)+1);g=[];for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&g.push([h[p],p]);if(!g.length){h=a;for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&g.push([h[p],p])}return g.sort(function(v,x){return v[0]-x[0]||a[v[1]]-a[x[1]]}),n[g.pop()[1]]||44}function i(f,h){var m=h||{},p="",g=m.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(p=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(p=f.charAt(4),f=f.slice(6)):p=s(f.slice(0,1024)):m&&m.FS?p=m.FS:p=s(f.slice(0,1024));var x=0,w=0,b=0,_=0,S=0,j=p.charCodeAt(0),N=!1,k=0,E=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var C=m.dateNF!=null?UUe(m.dateNF):null;function A(){var D=f.slice(_,S),T={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)T.t="z";else if(m.raw)T.t="s",T.v=D;else if(D.trim().length===0)T.t="s",T.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(T.t="s",T.v=D.slice(2,-1).replace(/""/g,'"')):gWe(D)?(T.t="n",T.f=D.slice(1)):(T.t="s",T.v=D);else if(D=="TRUE")T.t="b",T.v=!0;else if(D=="FALSE")T.t="b",T.v=!1;else if(!isNaN(b=Co(D)))T.t="n",m.cellText!==!1&&(T.w=D),T.v=b;else if(!isNaN(bp(D).getDate())||C&&D.match(C)){T.z=m.dateNF||zt[14];var W=0;C&&D.match(C)&&(D=VUe(D,m.dateNF,D.match(C)||[]),W=1),m.cellDates?(T.t="d",T.v=ra(D,W)):(T.t="n",T.v=ms(ra(D,W))),m.cellText!==!1&&(T.w=Hi(T.z,T.v instanceof Date?ms(T.v):T.v)),m.cellNF||delete T.z}else T.t="s",T.v=D;if(T.t=="z"||(m.dense?(g[x]||(g[x]=[]),g[x][w]=T):g[Ft({c:w,r:x})]=T),_=S+1,E=f.charCodeAt(_),v.e.c<w&&(v.e.c=w),v.e.r<x&&(v.e.r=x),k==j)++w;else if(w=0,++x,m.sheetRows&&m.sheetRows<=x)return!0}e:for(;S<f.length;++S)switch(k=f.charCodeAt(S)){case 34:E===34&&(N=!N);break;case j:case 10:case 13:if(!N&&A())break e;break}return S-_>0&&A(),g["!ref"]=sr(v),g}function o(f,h){return!(h&&h.PRN)||h.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,h):c0(r(f,h),h)}function c(f,h){var m="",p=h.type=="string"?[0,0,0,0]:O4(f,h);switch(h.type){case"base64":m=vi(f);break;case"binary":m=f;break;case"buffer":h.codepage==65001?m=f.toString("utf8"):h.codepage&&typeof nu<"u"?m=nu.utils.decode(h.codepage,f):m=tr&&Buffer.isBuffer(f)?f.toString("binary"):Kf(f);break;case"array":m=Of(f);break;case"string":m=f;break;default:throw new Error("Unrecognized type "+h.type)}return p[0]==239&&p[1]==187&&p[2]==191?m=Fr(m.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?m=Fr(m):h.type=="binary"&&typeof nu<"u"&&h.codepage&&(m=nu.utils.decode(h.codepage,nu.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?AVe.to_sheet(h.type=="string"?m:Fr(m),h):o(m,h)}function u(f,h){return od(c(f,h),h)}function d(f){for(var h=[],m=fn(f["!ref"]),p,g=Array.isArray(f),v=m.s.r;v<=m.e.r;++v){for(var x=[],w=m.s.c;w<=m.e.c;++w){var b=Ft({r:v,c:w});if(p=g?(f[v]||[])[w]:f[b],!p||p.v==null){x.push("          ");continue}for(var _=(p.w||(Cc(p),p.w)||"").slice(0,10);_.length<10;)_+=" ";x.push(_+(w===0?" ":""))}h.push(x.join(""))}return h.join(`
`)}return{to_workbook:u,to_sheet:c,from_sheet:d}}();function OVe(e,r){var n=r||{},a=!!n.WTF;n.WTF=!0;try{var s=EVe.to_workbook(e,n);return n.WTF=a,s}catch(i){if(n.WTF=a,!i.message.match(/SYLK bad record ID/)&&a)throw i;return Qv.to_workbook(e,r)}}var Tg=function(){function e(P,J,V){if(P){ca(P,P.l||0);for(var K=V.Enum||X;P.l<P.length;){var ie=P.read_shift(2),oe=K[ie]||K[65535],ye=P.read_shift(2),ae=P.l+ye,Q=oe.f&&oe.f(P,ye,V);if(P.l=ae,J(Q,oe,ie))return}}}function r(P,J){switch(J.type){case"base64":return n(yo(vi(P)),J);case"binary":return n(yo(P),J);case"buffer":case"array":return n(P,J)}throw"Unsupported type "+J.type}function n(P,J){if(!P)return P;var V=J||{},K=V.dense?[]:{},ie="Sheet1",oe="",ye=0,ae={},Q=[],fe=[],O={s:{r:0,c:0},e:{r:0,c:0}},Le=V.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)V.Enum=X,e(P,function(Pe,bt,pt){switch(pt){case 0:V.vers=Pe,Pe>=4096&&(V.qpro=!0);break;case 6:O=Pe;break;case 204:Pe&&(oe=Pe);break;case 222:oe=Pe;break;case 15:case 51:V.qpro||(Pe[1].v=Pe[1].v.slice(1));case 13:case 14:case 16:pt==14&&(Pe[2]&112)==112&&(Pe[2]&15)>1&&(Pe[2]&15)<15&&(Pe[1].z=V.dateNF||zt[14],V.cellDates&&(Pe[1].t="d",Pe[1].v=oj(Pe[1].v))),V.qpro&&Pe[3]>ye&&(K["!ref"]=sr(O),ae[ie]=K,Q.push(ie),K=V.dense?[]:{},O={s:{r:0,c:0},e:{r:0,c:0}},ye=Pe[3],ie=oe||"Sheet"+(ye+1),oe="");var se=V.dense?(K[Pe[0].r]||[])[Pe[0].c]:K[Ft(Pe[0])];if(se){se.t=Pe[1].t,se.v=Pe[1].v,Pe[1].z!=null&&(se.z=Pe[1].z),Pe[1].f!=null&&(se.f=Pe[1].f);break}V.dense?(K[Pe[0].r]||(K[Pe[0].r]=[]),K[Pe[0].r][Pe[0].c]=Pe[1]):K[Ft(Pe[0])]=Pe[1];break}},V);else if(P[2]==26||P[2]==14)V.Enum=ee,P[2]==14&&(V.qpro=!0,P.l=0),e(P,function(Pe,bt,pt){switch(pt){case 204:ie=Pe;break;case 22:Pe[1].v=Pe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Pe[3]>ye&&(K["!ref"]=sr(O),ae[ie]=K,Q.push(ie),K=V.dense?[]:{},O={s:{r:0,c:0},e:{r:0,c:0}},ye=Pe[3],ie="Sheet"+(ye+1)),Le>0&&Pe[0].r>=Le)break;V.dense?(K[Pe[0].r]||(K[Pe[0].r]=[]),K[Pe[0].r][Pe[0].c]=Pe[1]):K[Ft(Pe[0])]=Pe[1],O.e.c<Pe[0].c&&(O.e.c=Pe[0].c),O.e.r<Pe[0].r&&(O.e.r=Pe[0].r);break;case 27:Pe[14e3]&&(fe[Pe[14e3][0]]=Pe[14e3][1]);break;case 1537:fe[Pe[0]]=Pe[1],Pe[0]==ye&&(ie=Pe[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(K["!ref"]=sr(O),ae[oe||ie]=K,Q.push(oe||ie),!fe.length)return{SheetNames:Q,Sheets:ae};for(var $e={},Me=[],He=0;He<fe.length;++He)ae[Q[He]]?(Me.push(fe[He]||Q[He]),$e[fe[He]]=ae[fe[He]]||ae[Q[He]]):(Me.push(fe[He]),$e[fe[He]]={"!ref":"A1"});return{SheetNames:Me,Sheets:$e}}function a(P,J){var V=J||{};if(+V.codepage>=0&&_o(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var K=aT(),ie=fn(P["!ref"]),oe=Array.isArray(P),ye=[];ro(K,0,i(1030)),ro(K,6,u(ie));for(var ae=Math.min(ie.e.r,8191),Q=ie.s.r;Q<=ae;++Q)for(var fe=ga(Q),O=ie.s.c;O<=ie.e.c;++O){Q===ie.s.r&&(ye[O]=qn(O));var Le=ye[O]+fe,$e=oe?(P[Q]||[])[O]:P[Le];if(!(!$e||$e.t=="z"))if($e.t=="n")($e.v|0)==$e.v&&$e.v>=-32768&&$e.v<=32767?ro(K,13,p(Q,O,$e.v)):ro(K,14,v(Q,O,$e.v));else{var Me=Cc($e);ro(K,15,h(Q,O,Me.slice(0,239)))}}return ro(K,1),K.end()}function s(P,J){var V=J||{};if(+V.codepage>=0&&_o(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var K=aT();ro(K,0,o(P));for(var ie=0,oe=0;ie<P.SheetNames.length;++ie)(P.Sheets[P.SheetNames[ie]]||{})["!ref"]&&ro(K,27,M(P.SheetNames[ie],oe++));var ye=0;for(ie=0;ie<P.SheetNames.length;++ie){var ae=P.Sheets[P.SheetNames[ie]];if(!(!ae||!ae["!ref"])){for(var Q=fn(ae["!ref"]),fe=Array.isArray(ae),O=[],Le=Math.min(Q.e.r,8191),$e=Q.s.r;$e<=Le;++$e)for(var Me=ga($e),He=Q.s.c;He<=Q.e.c;++He){$e===Q.s.r&&(O[He]=qn(He));var Pe=O[He]+Me,bt=fe?(ae[$e]||[])[He]:ae[Pe];if(!(!bt||bt.t=="z"))if(bt.t=="n")ro(K,23,A($e,He,ye,bt.v));else{var pt=Cc(bt);ro(K,22,k($e,He,ye,pt.slice(0,239)))}}++ye}}return ro(K,1),K.end()}function i(P){var J=Bn(2);return J.write_shift(2,P),J}function o(P){var J=Bn(26);J.write_shift(2,4096),J.write_shift(2,4),J.write_shift(4,0);for(var V=0,K=0,ie=0,oe=0;oe<P.SheetNames.length;++oe){var ye=P.SheetNames[oe],ae=P.Sheets[ye];if(!(!ae||!ae["!ref"])){++ie;var Q=l0(ae["!ref"]);V<Q.e.r&&(V=Q.e.r),K<Q.e.c&&(K=Q.e.c)}}return V>8191&&(V=8191),J.write_shift(2,V),J.write_shift(1,ie),J.write_shift(1,K),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(1,1),J.write_shift(1,2),J.write_shift(4,0),J.write_shift(4,0),J}function c(P,J,V){var K={s:{c:0,r:0},e:{c:0,r:0}};return J==8&&V.qpro?(K.s.c=P.read_shift(1),P.l++,K.s.r=P.read_shift(2),K.e.c=P.read_shift(1),P.l++,K.e.r=P.read_shift(2),K):(K.s.c=P.read_shift(2),K.s.r=P.read_shift(2),J==12&&V.qpro&&(P.l+=2),K.e.c=P.read_shift(2),K.e.r=P.read_shift(2),J==12&&V.qpro&&(P.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function u(P){var J=Bn(8);return J.write_shift(2,P.s.c),J.write_shift(2,P.s.r),J.write_shift(2,P.e.c),J.write_shift(2,P.e.r),J}function d(P,J,V){var K=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(K[0].c=P.read_shift(1),K[3]=P.read_shift(1),K[0].r=P.read_shift(2),P.l+=2):(K[2]=P.read_shift(1),K[0].c=P.read_shift(2),K[0].r=P.read_shift(2)),K}function f(P,J,V){var K=P.l+J,ie=d(P,J,V);if(ie[1].t="s",V.vers==20768){P.l++;var oe=P.read_shift(1);return ie[1].v=P.read_shift(oe,"utf8"),ie}return V.qpro&&P.l++,ie[1].v=P.read_shift(K-P.l,"cstr"),ie}function h(P,J,V){var K=Bn(7+V.length);K.write_shift(1,255),K.write_shift(2,J),K.write_shift(2,P),K.write_shift(1,39);for(var ie=0;ie<K.length;++ie){var oe=V.charCodeAt(ie);K.write_shift(1,oe>=128?95:oe)}return K.write_shift(1,0),K}function m(P,J,V){var K=d(P,J,V);return K[1].v=P.read_shift(2,"i"),K}function p(P,J,V){var K=Bn(7);return K.write_shift(1,255),K.write_shift(2,J),K.write_shift(2,P),K.write_shift(2,V,"i"),K}function g(P,J,V){var K=d(P,J,V);return K[1].v=P.read_shift(8,"f"),K}function v(P,J,V){var K=Bn(13);return K.write_shift(1,255),K.write_shift(2,J),K.write_shift(2,P),K.write_shift(8,V,"f"),K}function x(P,J,V){var K=P.l+J,ie=d(P,J,V);if(ie[1].v=P.read_shift(8,"f"),V.qpro)P.l=K;else{var oe=P.read_shift(2);S(P.slice(P.l,P.l+oe),ie),P.l+=oe}return ie}function w(P,J,V){var K=J&32768;return J&=-32769,J=(K?P:0)+(J>=8192?J-16384:J),(K?"":"$")+(V?qn(J):ga(J))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(P,J){ca(P,0);for(var V=[],K=0,ie="",oe="",ye="",ae="";P.l<P.length;){var Q=P[P.l++];switch(Q){case 0:V.push(P.read_shift(8,"f"));break;case 1:oe=w(J[0].c,P.read_shift(2),!0),ie=w(J[0].r,P.read_shift(2),!1),V.push(oe+ie);break;case 2:{var fe=w(J[0].c,P.read_shift(2),!0),O=w(J[0].r,P.read_shift(2),!1);oe=w(J[0].c,P.read_shift(2),!0),ie=w(J[0].r,P.read_shift(2),!1),V.push(fe+O+":"+oe+ie)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(P.read_shift(2));break;case 6:{for(var Le="";Q=P[P.l++];)Le+=String.fromCharCode(Q);V.push('"'+Le.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:ae=V.pop(),ye=V.pop(),V.push(["AND","OR"][Q-20]+"("+ye+","+ae+")");break;default:if(Q<32&&_[Q])ae=V.pop(),ye=V.pop(),V.push(ye+_[Q]+ae);else if(b[Q]){if(K=b[Q][1],K==69&&(K=P[P.l++]),K>V.length){console.error("WK1 bad formula parse 0x"+Q.toString(16)+":|"+V.join("|")+"|");return}var $e=V.slice(-K);V.length-=K,V.push(b[Q][0]+"("+$e.join(",")+")")}else return Q<=7?console.error("WK1 invalid opcode "+Q.toString(16)):Q<=24?console.error("WK1 unsupported op "+Q.toString(16)):Q<=30?console.error("WK1 invalid opcode "+Q.toString(16)):Q<=115?console.error("WK1 unsupported function opcode "+Q.toString(16)):console.error("WK1 unrecognized opcode "+Q.toString(16))}}V.length==1?J[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function j(P){var J=[{c:0,r:0},{t:"n",v:0},0];return J[0].r=P.read_shift(2),J[3]=P[P.l++],J[0].c=P[P.l++],J}function N(P,J){var V=j(P);return V[1].t="s",V[1].v=P.read_shift(J-4,"cstr"),V}function k(P,J,V,K){var ie=Bn(6+K.length);ie.write_shift(2,P),ie.write_shift(1,V),ie.write_shift(1,J),ie.write_shift(1,39);for(var oe=0;oe<K.length;++oe){var ye=K.charCodeAt(oe);ie.write_shift(1,ye>=128?95:ye)}return ie.write_shift(1,0),ie}function E(P,J){var V=j(P);V[1].v=P.read_shift(2);var K=V[1].v>>1;if(V[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return V[1].v=K,V}function C(P,J){var V=j(P),K=P.read_shift(4),ie=P.read_shift(4),oe=P.read_shift(2);if(oe==65535)return K===0&&ie===3221225472?(V[1].t="e",V[1].v=15):K===0&&ie===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var ye=oe&32768;return oe=(oe&32767)-16446,V[1].v=(1-ye*2)*(ie*Math.pow(2,oe+32)+K*Math.pow(2,oe)),V}function A(P,J,V,K){var ie=Bn(14);if(ie.write_shift(2,P),ie.write_shift(1,V),ie.write_shift(1,J),K==0)return ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(2,65535),ie;var oe=0,ye=0,ae=0,Q=0;return K<0&&(oe=1,K=-K),ye=Math.log2(K)|0,K/=Math.pow(2,ye-31),Q=K>>>0,Q&2147483648||(K/=2,++ye,Q=K>>>0),K-=Q,Q|=2147483648,Q>>>=0,K*=Math.pow(2,32),ae=K>>>0,ie.write_shift(4,ae),ie.write_shift(4,Q),ye+=16383+(oe?32768:0),ie.write_shift(2,ye),ie}function D(P,J){var V=C(P);return P.l+=J-14,V}function T(P,J){var V=j(P),K=P.read_shift(4);return V[1].v=K>>6,V}function W(P,J){var V=j(P),K=P.read_shift(8,"f");return V[1].v=K,V}function q(P,J){var V=W(P);return P.l+=J-10,V}function L(P,J){return P[P.l+J-1]==0?P.read_shift(J,"cstr"):""}function I(P,J){var V=P[P.l++];V>J-1&&(V=J-1);for(var K="";K.length<V;)K+=String.fromCharCode(P[P.l++]);return K}function z(P,J,V){if(!(!V.qpro||J<21)){var K=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var ie=P.read_shift(J-21,"cstr");return[K,ie]}}function F(P,J){for(var V={},K=P.l+J;P.l<K;){var ie=P.read_shift(2);if(ie==14e3){for(V[ie]=[0,""],V[ie][0]=P.read_shift(2);P[P.l];)V[ie][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return V}function M(P,J){var V=Bn(5+P.length);V.write_shift(2,14e3),V.write_shift(2,J);for(var K=0;K<P.length;++K){var ie=P.charCodeAt(K);V[V.l++]=ie>127?95:ie}return V[V.l++]=0,V}var X={0:{n:"BOF",f:En},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:g},15:{n:"LABEL",f},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:L},222:{n:"SHEETNAMELP",f:I},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:F},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:L},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:s,to_workbook:r}}();function PVe(e){var r={},n=e.match(qa),a=0,s=!1;if(n)for(;a!=n.length;++a){var i=Pt(n[a]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":r.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;r.cp=o4[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":r.outline=1;break;case"</outline>":break;case"<rFont":r.name=i.val;break;case"<sz":r.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":r.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":r.uval="double";break;case"singleAccounting":r.uval="single-accounting";break;case"doubleAccounting":r.uval="double-accounting";break}case"<u>":case"<u/>":r.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":r.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":r.i=1;break;case"</i>":break;case"<color":i.rgb&&(r.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":r.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":r.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+i[0])}}return r}var DVe=function(){var e=Xv("t"),r=Xv("rPr");function n(i){var o=i.match(e);if(!o)return{t:"s",v:""};var c={t:"s",v:cr(o[1])},u=i.match(r);return u&&(c.s=PVe(u[1])),c}var a=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(o){return o.replace(a,"").split(s).map(n).filter(function(c){return c.v})}}(),RVe=function(){var r=/(\r\n|\n)/g;function n(s,i,o){var c=[];s.u&&c.push("text-decoration: underline;"),s.uval&&c.push("text-underline-style:"+s.uval+";"),s.sz&&c.push("font-size:"+s.sz+"pt;"),s.outline&&c.push("text-effect: outline;"),s.shadow&&c.push("text-shadow: auto;"),i.push('<span style="'+c.join("")+'">'),s.b&&(i.push("<b>"),o.push("</b>")),s.i&&(i.push("<i>"),o.push("</i>")),s.strike&&(i.push("<s>"),o.push("</s>"));var u=s.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(i.push("<"+u+">"),o.push("</"+u+">")),o.push("</span>"),s}function a(s){var i=[[],s.v,[]];return s.v?(s.s&&n(s.s,i[0],i[2]),i[0].join("")+i[1].replace(r,"<br/>")+i[2].join("")):""}return function(i){return i.map(a).join("")}}(),IVe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,MVe=/<(?:\w+:)?r>/,FVe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function j4(e,r){var n=r?r.cellHTML:!0,a={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=cr(Fr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),a.r=Fr(e),n&&(a.h=m4(a.t))):e.match(MVe)&&(a.r=Fr(e),a.t=cr(Fr((e.replace(FVe,"").match(IVe)||[]).join("").replace(qa,""))),n&&(a.h=RVe(DVe(a.r)))),a):{t:""}}var LVe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,$Ve=/<(?:\w+:)?(?:si|sstItem)>/g,BVe=/<\/(?:\w+:)?(?:si|sstItem)>/;function UVe(e,r){var n=[],a="";if(!e)return n;var s=e.match(LVe);if(s){a=s[2].replace($Ve,"").split(BVe);for(var i=0;i!=a.length;++i){var o=j4(a[i].trim(),r);o!=null&&(n[n.length]=o)}s=Pt(s[1]),n.Count=s.count,n.Unique=s.uniqueCount}return n}function VVe(e){return[e.read_shift(4),e.read_shift(4)]}function zVe(e,r){var n=[],a=!1;return Rc(e,function(i,o,c){switch(c){case 159:n.Count=i[0],n.Unique=i[1];break;case 19:n.push(i);break;case 160:return!0;case 35:a=!0;break;case 36:a=!1;break;default:if(o.T,!a||r.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}function oJ(e){for(var r=[],n=e.split(""),a=0;a<n.length;++a)r[a]=n[a].charCodeAt(0);return r}function fc(e,r){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),r>=4&&(e.l+=r-4),n}function WVe(e){var r={};return r.id=e.read_shift(0,"lpp4"),r.R=fc(e,4),r.U=fc(e,4),r.W=fc(e,4),r}function HVe(e){for(var r=e.read_shift(4),n=e.l+r-4,a={},s=e.read_shift(4),i=[];s-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(a.name=e.read_shift(0,"lpp4"),a.comps=i,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return a}function qVe(e){var r=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)r.push(HVe(e));return r}function KVe(e){var r=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)r.push(e.read_shift(0,"lpp4"));return r}function GVe(e){var r={};return e.read_shift(4),e.l+=4,r.id=e.read_shift(0,"lpp4"),r.name=e.read_shift(0,"lpp4"),r.R=fc(e,4),r.U=fc(e,4),r.W=fc(e,4),r}function YVe(e){var r=GVe(e);if(r.ename=e.read_shift(0,"8lpp4"),r.blksz=e.read_shift(4),r.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return r}function lJ(e,r){var n=e.l+r,a={};a.Flags=e.read_shift(4)&63,e.l+=4,a.AlgID=e.read_shift(4);var s=!1;switch(a.AlgID){case 26126:case 26127:case 26128:s=a.Flags==36;break;case 26625:s=a.Flags==4;break;case 0:s=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=e.read_shift(4),a.KeySize=e.read_shift(4),a.ProviderType=e.read_shift(4),e.l+=8,a.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,a}function cJ(e,r){var n={},a=e.l+r;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,a),e.l=a,n}function XVe(e){var r=fc(e);switch(r.Minor){case 2:return[r.Minor,JVe(e)];case 3:return[r.Minor,QVe()];case 4:return[r.Minor,ZVe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+r.Minor)}function JVe(e){var r=e.read_shift(4);if((r&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),a=lJ(e,n),s=cJ(e,e.length-e.l);return{t:"Std",h:a,v:s}}function QVe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function ZVe(e){var r=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),a={};return n.replace(qa,function(i){var o=Pt(i);switch(Ml(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":r.forEach(function(c){a[c]=o[c]});break;case"<dataIntegrity":a.encryptedHmacKey=o.encryptedHmacKey,a.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(o);break;default:throw o[0]}}),a}function eze(e,r){var n={},a=n.EncryptionVersionInfo=fc(e,4);if(r-=4,a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);n.Flags=e.read_shift(4),r-=4;var s=e.read_shift(4);return r-=4,n.EncryptionHeader=lJ(e,s),r-=s,n.EncryptionVerifier=cJ(e,r),n}function tze(e){var r={},n=r.EncryptionVersionInfo=fc(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return r.Salt=e.read_shift(16),r.EncryptedVerifier=e.read_shift(16),r.EncryptedVerifierHash=e.read_shift(16),r}function rze(e){var r=0,n,a=oJ(e),s=a.length+1,i,o,c,u,d;for(n=zu(s),n[0]=a.length,i=1;i!=s;++i)n[i]=a[i-1];for(i=s-1;i>=0;--i)o=n[i],c=r&16384?1:0,u=r<<1&32767,d=c|u,r=d^o;return r^52811}var uJ=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],r=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],a=function(o){return(o/2|o*128)&255},s=function(o,c){return a(o^c)},i=function(o){for(var c=r[o.length-1],u=104,d=o.length-1;d>=0;--d)for(var f=o[d],h=0;h!=7;++h)f&64&&(c^=n[u]),f*=2,--u;return c};return function(o){for(var c=oJ(o),u=i(c),d=c.length,f=zu(16),h=0;h!=16;++h)f[h]=0;var m,p,g;for((d&1)===1&&(m=u>>8,f[d]=s(e[0],m),--d,m=u&255,p=c[c.length-1],f[d]=s(p,m));d>0;)--d,m=u>>8,f[d]=s(c[d],m),--d,m=u&255,f[d]=s(c[d],m);for(d=15,g=15-c.length;g>0;)m=u>>8,f[d]=s(e[g],m),--d,--g,m=u&255,f[d]=s(c[d],m),--d,--g;return f}}(),nze=function(e,r,n,a,s){s||(s=r),a||(a=uJ(e));var i,o;for(i=0;i!=r.length;++i)o=r[i],o^=a[n],o=(o>>5|o<<3)&255,s[i]=o,++n;return[s,n,a]},aze=function(e){var r=0,n=uJ(e);return function(a){var s=nze("",a,r,n);return r=s[1],s[0]}};function sze(e,r,n,a){var s={key:En(e),verificationBytes:En(e)};return n.password&&(s.verifier=rze(n.password)),a.valid=s.verificationBytes===s.verifier,a.valid&&(a.insitu=aze(n.password)),s}function ize(e,r,n){var a=n||{};return a.Info=e.read_shift(2),e.l-=2,a.Info===1?a.Data=tze(e):a.Data=eze(e,r),a}function oze(e,r,n){var a={Type:n.biff>=8?e.read_shift(2):0};return a.Type?ize(e,r-2,a):sze(e,n.biff>=8?r:r-2,n,a),a}var lze=function(){function e(s,i){switch(i.type){case"base64":return r(vi(s),i);case"binary":return r(s,i);case"buffer":return r(tr&&Buffer.isBuffer(s)?s.toString("binary"):Kf(s),i);case"array":return r(Of(s),i)}throw new Error("Unrecognized type "+i.type)}function r(s,i){var o=i||{},c=o.dense?[]:{},u=s.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(f,h){Array.isArray(c)&&(c[h]=[]);for(var m=/\\\w+\b/g,p=0,g,v=-1;g=m.exec(f);){switch(g[0]){case"\\cell":var x=f.slice(p,m.lastIndex-g[0].length);if(x[0]==" "&&(x=x.slice(1)),++v,x.length){var w={v:x,t:"s"};Array.isArray(c)?c[h][v]=w:c[Ft({r:h,c:v})]=w}break}p=m.lastIndex}v>d.e.c&&(d.e.c=v)}),c["!ref"]=sr(d),c}function n(s,i){return od(e(s,i),i)}function a(s){for(var i=["{\\rtf1\\ansi"],o=fn(s["!ref"]),c,u=Array.isArray(s),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var h=Ft({r:d,c:f});c=u?(s[d]||[])[f]:s[h],!(!c||c.v==null&&(!c.f||c.F))&&(i.push(" "+(c.w||(Cc(c),c.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:a}}();function cze(e){var r=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(r.slice(0,2),16),parseInt(r.slice(2,4),16),parseInt(r.slice(4,6),16)]}function Zv(e){for(var r=0,n=1;r!=3;++r)n=n*256+(e[r]>255?255:e[r]<0?0:e[r]);return n.toString(16).toUpperCase().slice(1)}function uze(e){var r=e[0]/255,n=e[1]/255,a=e[2]/255,s=Math.max(r,n,a),i=Math.min(r,n,a),o=s-i;if(o===0)return[0,0,r];var c=0,u=0,d=s+i;switch(u=o/(d>1?2-d:d),s){case r:c=((n-a)/o+6)%6;break;case n:c=(a-r)/o+2;break;case a:c=(r-n)/o+4;break}return[c/6,u,d/2]}function dze(e){var r=e[0],n=e[1],a=e[2],s=n*2*(a<.5?a:1-a),i=a-s/2,o=[i,i,i],c=6*r,u;if(n!==0)switch(c|0){case 0:case 6:u=s*c,o[0]+=s,o[1]+=u;break;case 1:u=s*(2-c),o[0]+=u,o[1]+=s;break;case 2:u=s*(c-2),o[1]+=s,o[2]+=u;break;case 3:u=s*(4-c),o[1]+=u,o[2]+=s;break;case 4:u=s*(c-4),o[2]+=s,o[0]+=u;break;case 5:u=s*(6-c),o[2]+=u,o[0]+=s;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function Qw(e,r){if(r===0)return e;var n=uze(cze(e));return r<0?n[2]=n[2]*(1+r):n[2]=1-(1-n[2])*(1-r),Zv(dze(n))}var dJ=6,fze=15,hze=1,as=dJ;function Zw(e){return Math.floor((e+Math.round(128/as)/256)*as)}function e_(e){return Math.floor((e-5)/as*100+.5)/100}function lT(e){return Math.round((e*as+5)/as*256)/256}function yN(e){return lT(e_(Zw(e)))}function k4(e){var r=Math.abs(e-yN(e)),n=as;if(r>.005)for(as=hze;as<fze;++as)Math.abs(e-yN(e))<=r&&(r=Math.abs(e-yN(e)),n=as);as=n}function wp(e){e.width?(e.wpx=Zw(e.width),e.wch=e_(e.wpx),e.MDW=as):e.wpx?(e.wch=e_(e.wpx),e.width=lT(e.wch),e.MDW=as):typeof e.wch=="number"&&(e.width=lT(e.wch),e.wpx=Zw(e.width),e.MDW=as),e.customWidth&&delete e.customWidth}var mze=96,fJ=mze;function hJ(e){return e*96/fJ}function ex(e){return e*fJ/96}var pze={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function gze(e,r,n,a){r.Borders=[];var s={},i=!1;(e[0].match(qa)||[]).forEach(function(o){var c=Pt(o);switch(Ml(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},c.diagonalUp&&(s.diagonalUp=qr(c.diagonalUp)),c.diagonalDown&&(s.diagonalDown=qr(c.diagonalDown)),r.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+c[0]+" in borders")}})}function vze(e,r,n,a){r.Fills=[];var s={},i=!1;(e[0].match(qa)||[]).forEach(function(o){var c=Pt(o);switch(Ml(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},r.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":r.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":c.patternType&&(s.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),c.indexed&&(s.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(s.bgColor.theme=parseInt(c.theme,10)),c.tint&&(s.bgColor.tint=parseFloat(c.tint)),c.rgb&&(s.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),c.theme&&(s.fgColor.theme=parseInt(c.theme,10)),c.tint&&(s.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(s.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+c[0]+" in fills")}})}function xze(e,r,n,a){r.Fonts=[];var s={},i=!1;(e[0].match(qa)||[]).forEach(function(o){var c=Pt(o);switch(Ml(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":r.Fonts.push(s),s={};break;case"<name":c.val&&(s.name=Fr(c.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=c.val?qr(c.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=c.val?qr(c.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(c.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=c.val?qr(c.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=c.val?qr(c.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=c.val?qr(c.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=c.val?qr(c.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=c.val?qr(c.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":c.val&&(s.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(s.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(s.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(s.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=o4[parseInt(c.val,10)];break;case"<color":if(s.color||(s.color={}),c.auto&&(s.color.auto=qr(c.auto)),c.rgb)s.color.rgb=c.rgb.slice(-6);else if(c.indexed){s.color.index=parseInt(c.indexed,10);var u=of[s.color.index];s.color.index==81&&(u=of[1]),u||(u=of[1]),s.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else c.theme&&(s.color.theme=parseInt(c.theme,10),c.tint&&(s.color.tint=parseFloat(c.tint)),c.theme&&n.themeElements&&n.themeElements.clrScheme&&(s.color.rgb=Qw(n.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+c[0]+" in fonts")}})}function yze(e,r,n){r.NumberFmt=[];for(var a=El(zt),s=0;s<a.length;++s)r.NumberFmt[a[s]]=zt[a[s]];var i=e[0].match(qa);if(i)for(s=0;s<i.length;++s){var o=Pt(i[s]);switch(Ml(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=cr(Fr(o.formatCode)),u=parseInt(o.numFmtId,10);if(r.NumberFmt[u]=c,u>0){if(u>392){for(u=392;u>60&&r.NumberFmt[u]!=null;--u);r.NumberFmt[u]=c}sf(c,u)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var p1=["numFmtId","fillId","fontId","borderId","xfId"],g1=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function bze(e,r,n){r.CellXf=[];var a,s=!1;(e[0].match(qa)||[]).forEach(function(i){var o=Pt(i),c=0;switch(Ml(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(a=o,delete a[0],c=0;c<p1.length;++c)a[p1[c]]&&(a[p1[c]]=parseInt(a[p1[c]],10));for(c=0;c<g1.length;++c)a[g1[c]]&&(a[g1[c]]=qr(a[g1[c]]));if(r.NumberFmt&&a.numFmtId>392){for(c=392;c>60;--c)if(r.NumberFmt[a.numFmtId]==r.NumberFmt[c]){a.numFmtId=c;break}}r.CellXf.push(a);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};o.vertical&&(u.vertical=o.vertical),o.horizontal&&(u.horizontal=o.horizontal),o.textRotation!=null&&(u.textRotation=o.textRotation),o.indent&&(u.indent=o.indent),o.wrapText&&(u.wrapText=qr(o.wrapText)),a.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var wze=function(){var r=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,a=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,u,d){var f={};if(!c)return f;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=c.match(r))&&yze(h,f,d),(h=c.match(s))&&xze(h,f,u,d),(h=c.match(a))&&vze(h,f,u,d),(h=c.match(i))&&gze(h,f,u,d),(h=c.match(n))&&bze(h,f,d),f}}();function _ze(e,r){var n=e.read_shift(2),a=$a(e);return[n,a]}function Sze(e,r,n){var a={};a.sz=e.read_shift(2)/20;var s=D9e(e);s.fItalic&&(a.italic=1),s.fCondense&&(a.condense=1),s.fExtend&&(a.extend=1),s.fShadow&&(a.shadow=1),s.fOutline&&(a.outline=1),s.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(a.underline=o);var c=e.read_shift(1);c>0&&(a.family=c);var u=e.read_shift(1);switch(u>0&&(a.charset=u),e.l++,a.color=P9e(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=$a(e),a}var jze=za;function kze(e,r){var n=e.l+r,a=e.read_shift(2),s=e.read_shift(2);return e.l=n,{ixfe:a,numFmtId:s}}var Nze=za;function Cze(e,r,n){var a={};a.NumberFmt=[];for(var s in zt)a.NumberFmt[s]=zt[s];a.CellXf=[],a.Fonts=[];var i=[],o=!1;return Rc(e,function(u,d,f){switch(f){case 44:a.NumberFmt[u[0]]=u[1],sf(u[1],u[0]);break;case 43:a.Fonts.push(u),u.color.theme!=null&&r&&r.themeElements&&r.themeElements.clrScheme&&(u.color.rgb=Qw(r.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&a.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(f),o=!0;break;case 38:i.pop(),o=!1;break;default:if(d.T>0)i.push(f);else if(d.T<0)i.pop();else if(!o||n.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+f.toString(16))}}),a}var Eze=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Tze(e,r,n){r.themeElements.clrScheme=[];var a={};(e[0].match(qa)||[]).forEach(function(s){var i=Pt(s);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=i.val;break;case"<a:sysClr":a.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(r.themeElements.clrScheme[Eze.indexOf(i[0])]=a,a={}):a.name=i[0].slice(3,i[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Aze(){}function Oze(){}var Pze=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Dze=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Rze=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Ize(e,r,n){r.themeElements={};var a;[["clrScheme",Pze,Tze],["fontScheme",Dze,Aze],["fmtScheme",Rze,Oze]].forEach(function(s){if(!(a=e.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](a,r,n)})}var Mze=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function mJ(e,r){(!e||e.length===0)&&(e=Fze());var n,a={};if(!(n=e.match(Mze)))throw new Error("themeElements not found in theme");return Ize(n[0],a,r),a.raw=e,a}function Fze(e,r){var n=[kX];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function Lze(e,r,n){var a=e.l+r,s=e.read_shift(4);if(s!==124226){if(!n.cellStyles){e.l=a;return}var i=e.slice(e.l);e.l=a;var o;try{o=jX(i,{type:"array"})}catch{return}var c=li(o,"theme/theme/theme1.xml",!0);if(c)return mJ(c,n)}}function $ze(e){return e.read_shift(4)}function Bze(e){var r={};switch(r.xclrType=e.read_shift(2),r.nTintShade=e.read_shift(2),r.xclrType){case 0:e.l+=4;break;case 1:r.xclrValue=Uze(e,4);break;case 2:r.xclrValue=eJ(e);break;case 3:r.xclrValue=$ze(e);break;case 4:e.l+=4;break}return e.l+=8,r}function Uze(e,r){return za(e,r)}function Vze(e,r){return za(e,r)}function zze(e){var r=e.read_shift(2),n=e.read_shift(2)-4,a=[r];switch(r){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=Bze(e);break;case 6:a[1]=Vze(e,n);break;case 14:case 15:a[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+r+" "+n)}return a}function Wze(e,r){var n=e.l+r;e.l+=2;var a=e.read_shift(2);e.l+=2;for(var s=e.read_shift(2),i=[];s-- >0;)i.push(zze(e,n-e.l));return{ixfe:a,ext:i}}function Hze(e,r){r.forEach(function(n){switch(n[0]){}})}function qze(e,r){return{flags:e.read_shift(4),version:e.read_shift(4),name:$a(e)}}function Kze(e){for(var r=[],n=e.read_shift(4);n-- >0;)r.push([e.read_shift(4),e.read_shift(4)]);return r}function Gze(e){return e.l+=4,e.read_shift(4)!=0}function Yze(e,r,n){var a={Types:[],Cell:[],Value:[]},s=n||{},i=[],o=!1,c=2;return Rc(e,function(u,d,f){switch(f){case 335:a.Types.push({name:u.name});break;case 51:u.forEach(function(h){c==1?a.Cell.push({type:a.Types[h[0]-1].name,index:h[1]}):c==0&&a.Value.push({type:a.Types[h[0]-1].name,index:h[1]})});break;case 337:c=u?1:0;break;case 338:c=2;break;case 35:i.push(f),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!d.T){if(!o||s.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}}),a}function Xze(e,r,n){var a={Types:[],Cell:[],Value:[]};if(!e)return a;var s=!1,i=2,o;return e.replace(qa,function(c){var u=Pt(c);switch(Ml(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<a.Types.length;++d)a.Types[d].name==u.name&&(o=a.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?a.Cell.push({type:a.Types[u.t-1].name,index:+u.v}):i==0&&a.Value.push({type:a.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+u.i);break;default:if(!s&&n.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return c}),a}function Jze(e){var r=[];if(!e)return r;var n=1;return(e.match(qa)||[]).forEach(function(a){var s=Pt(a);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?n=s.i:s.i=n,r.push(s);break}}),r}function Qze(e){var r={};r.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),r.r=Ft(n);var a=e.read_shift(1);return a&2&&(r.l="1"),a&8&&(r.a="1"),r}function Zze(e,r,n){var a=[];return Rc(e,function(i,o,c){switch(c){case 63:a.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),a}function eWe(e,r,n,a){if(!e)return e;var s=a||{},i=!1;Rc(e,function(c,u,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!u.T){if(!i||s.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},s)}function tWe(e,r){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return r["!id"][n].Target}function U5(e,r,n,a){var s=Array.isArray(e),i;r.forEach(function(o){var c=us(o.ref);if(s?(e[c.r]||(e[c.r]=[]),i=e[c.r][c.c]):i=e[o.ref],!i){i={t:"z"},s?e[c.r][c.c]=i:e[o.ref]=i;var u=fn(e["!ref"]||"BDWGO1000001:A1");u.s.r>c.r&&(u.s.r=c.r),u.e.r<c.r&&(u.e.r=c.r),u.s.c>c.c&&(u.s.c=c.c),u.e.c<c.c&&(u.e.c=c.c);var d=sr(u);d!==e["!ref"]&&(e["!ref"]=d)}i.c||(i.c=[]);var f={a:o.author,t:o.t,r:o.r,T:n};o.h&&(f.h=o.h);for(var h=i.c.length-1;h>=0;--h){if(!n&&i.c[h].T)return;n&&!i.c[h].T&&i.c.splice(h,1)}if(n&&a){for(h=0;h<a.length;++h)if(f.a==a[h].id){f.a=a[h].name||f.a;break}}i.c.push(f)})}function rWe(e,r){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],a=[],s=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&n.push(c[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?comment[^>]*>/);if(c){var u=Pt(c[0]),d={author:u.authorId&&n[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},f=us(u.ref);if(!(r.sheetRows&&r.sheetRows<=f.r)){var h=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!h&&!!h[1]&&j4(h[1])||{r:"",t:"",h:""};d.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),d.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.cellHTML&&(d.h=m.h),a.push(d)}}}}),a}function nWe(e,r){var n=[],a=!1,s={},i=0;return e.replace(qa,function(c,u){var d=Pt(c);switch(Ml(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":s.t!=null&&n.push(s);break;case"<text>":case"<text":i=u+c.length;break;case"</text>":s.t=e.slice(i,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":a=!0;break;case"</mentions>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&r.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return c}),n}function aWe(e,r){var n=[],a=!1;return e.replace(qa,function(i){var o=Pt(i);switch(Ml(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&r.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),n}function sWe(e){var r={};r.iauthor=e.read_shift(4);var n=Yf(e);return r.rfx=n.s,r.ref=Ft(n.s),e.l+=16,r}var iWe=$a;function oWe(e,r){var n=[],a=[],s={},i=!1;return Rc(e,function(c,u,d){switch(d){case 632:a.push(c);break;case 635:s=c;break;case 637:s.t=c.t,s.h=c.h,s.r=c.r;break;case 636:if(s.author=a[s.iauthor],delete s.iauthor,r.sheetRows&&s.rfx&&r.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,n.push(s);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!i||r.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}var lWe="application/vnd.ms-office.vbaProject";function cWe(e){var r=ar.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,a){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var s=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");ar.utils.cfb_add(r,s,e.FileIndex[a].content)}}),ar.write(r)}function uWe(){return{"!type":"dialog"}}function dWe(){return{"!type":"dialog"}}function fWe(){return{"!type":"macro"}}function hWe(){return{"!type":"macro"}}var fm=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,r={r:0,c:0};function n(a,s,i,o){var c=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return c?f+=r.c:--f,u?d+=r.r:--d,s+(c?"":"$")+qn(f)+(u?"":"$")+ga(d)}return function(s,i){return r=i,s.replace(e,n)}}(),pJ=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,mWe=function(){return function(r,n){return r.replace(pJ,function(a,s,i,o,c,u){var d=x4(o)-(i?0:n.c),f=v4(u)-(c?0:n.r),h=f==0?"":c?f+1:"["+f+"]",m=d==0?"":i?d+1:"["+d+"]";return s+"R"+h+"C"+m})}}();function gJ(e,r){return e.replace(pJ,function(n,a,s,i,o,c){return a+(s=="$"?s+i:qn(x4(i)+r.c))+(o=="$"?o+c:ga(v4(c)+r.r))})}function pWe(e,r,n){var a=l0(r),s=a.s,i=us(n),o={r:i.r-s.r,c:i.c-s.c};return gJ(e,o)}function gWe(e){return e.length!=1}function V5(e){return e.replace(/_xlfn\./g,"")}function jn(e){e.l+=1}function Wu(e,r){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function vJ(e,r,n){var a=2;if(n){if(n.biff>=2&&n.biff<=5)return xJ(e);n.biff==12&&(a=4)}var s=e.read_shift(a),i=e.read_shift(a),o=Wu(e),c=Wu(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function xJ(e){var r=Wu(e),n=Wu(e),a=e.read_shift(1),s=e.read_shift(1);return{s:{r:r[0],c:a,cRel:r[1],rRel:r[2]},e:{r:n[0],c:s,cRel:n[1],rRel:n[2]}}}function vWe(e,r,n){if(n.biff<8)return xJ(e);var a=e.read_shift(n.biff==12?4:2),s=e.read_shift(n.biff==12?4:2),i=Wu(e),o=Wu(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function yJ(e,r,n){if(n&&n.biff>=2&&n.biff<=5)return xWe(e);var a=e.read_shift(n&&n.biff==12?4:2),s=Wu(e);return{r:a,c:s[0],cRel:s[1],rRel:s[2]}}function xWe(e){var r=Wu(e),n=e.read_shift(1);return{r:r[0],c:n,cRel:r[1],rRel:r[2]}}function yWe(e){var r=e.read_shift(2),n=e.read_shift(2);return{r,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function bWe(e,r,n){var a=n&&n.biff?n.biff:8;if(a>=2&&a<=5)return wWe(e);var s=e.read_shift(a>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,c=(i&32768)>>15;if(i&=16383,c==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:c}}function wWe(e){var r=e.read_shift(2),n=e.read_shift(1),a=(r&32768)>>15,s=(r&16384)>>14;return r&=16383,a==1&&r>=8192&&(r=r-16384),s==1&&n>=128&&(n=n-256),{r,c:n,cRel:s,rRel:a}}function _We(e,r,n){var a=(e[e.l++]&96)>>5,s=vJ(e,n.biff>=2&&n.biff<=5?6:8,n);return[a,s]}function SWe(e,r,n){var a=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=vJ(e,i,n);return[a,s,o]}function jWe(e,r,n){var a=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[a]}function kWe(e,r,n){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,s]}function NWe(e,r,n){var a=(e[e.l++]&96)>>5,s=vWe(e,r-1,n);return[a,s]}function CWe(e,r,n){var a=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[a]}function z5(e){var r=e[e.l+1]&1,n=1;return e.l+=4,[r,n]}function EWe(e,r,n){e.l+=2;for(var a=e.read_shift(n&&n.biff==2?1:2),s=[],i=0;i<=a;++i)s.push(e.read_shift(n&&n.biff==2?1:2));return s}function TWe(e,r,n){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(n&&n.biff==2?1:2)]}function AWe(e,r,n){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(n&&n.biff==2?1:2)]}function OWe(e){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(2)]}function PWe(e,r,n){var a=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[a]}function bJ(e){var r=e.read_shift(1),n=e.read_shift(1);return[r,n]}function DWe(e){return e.read_shift(2),bJ(e)}function RWe(e){return e.read_shift(2),bJ(e)}function IWe(e,r,n){var a=(e[e.l]&96)>>5;e.l+=1;var s=yJ(e,0,n);return[a,s]}function MWe(e,r,n){var a=(e[e.l]&96)>>5;e.l+=1;var s=bWe(e,0,n);return[a,s]}function FWe(e,r,n){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var i=yJ(e,0,n);return[a,s,i]}function LWe(e,r,n){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(n&&n.biff<=3?1:2);return[$He[s],SJ[s],a]}function $We(e,r,n){var a=e[e.l++],s=e.read_shift(1),i=n&&n.biff<=3?[a==88?-1:0,e.read_shift(1)]:BWe(e);return[s,(i[0]===0?SJ:LHe)[i[1]]]}function BWe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function UWe(e,r,n){e.l+=n&&n.biff==2?3:4}function VWe(e,r,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),s=e.read_shift(n&&n.biff==2?1:2);return[a,s]}function zWe(e){return e.l++,Xf[e.read_shift(1)]}function WWe(e){return e.l++,e.read_shift(2)}function HWe(e){return e.l++,e.read_shift(1)!==0}function qWe(e){return e.l++,Ma(e)}function KWe(e,r,n){return e.l++,Zx(e,r-1,n)}function GWe(e,r){var n=[e.read_shift(1)];if(r==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=hn(e,1)?"TRUE":"FALSE",r!=12&&(e.l+=7);break;case 37:case 16:n[1]=Xf[e[e.l]],e.l+=r==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Ma(e);break;case 2:n[1]=Jf(e,0,{biff:r>0&&r<8?2:r});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function YWe(e,r,n){for(var a=e.read_shift(n.biff==12?4:2),s=[],i=0;i!=a;++i)s.push((n.biff==12?Yf:lj)(e));return s}function XWe(e,r,n){var a=0,s=0;n.biff==12?(a=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),a=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--a,--s==0&&(s=256));for(var i=0,o=[];i!=a&&(o[i]=[]);++i)for(var c=0;c!=s;++c)o[i][c]=GWe(e,n.biff);return o}function JWe(e,r,n){var a=e.read_shift(1)>>>5&3,s=!n||n.biff>=8?4:2,i=e.read_shift(s);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function QWe(e,r,n){if(n.biff==5)return ZWe(e);var a=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[a,s,i]}function ZWe(e){var r=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[r,n,a]}function eHe(e,r,n){var a=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var s=e.read_shift(n&&n.biff==2?1:2);return[a,s]}function tHe(e,r,n){var a=e.read_shift(1)>>>5&3,s=e.read_shift(n&&n.biff==2?1:2);return[a,s]}function rHe(e,r,n){var a=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[a]}function nHe(e,r,n){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,s]}var aHe=za,sHe=za,iHe=za;function ty(e,r,n){return e.l+=2,[yWe(e)]}function N4(e){return e.l+=6,[]}var oHe=ty,lHe=N4,cHe=N4,uHe=ty;function wJ(e){return e.l+=2,[En(e),e.read_shift(2)&1]}var dHe=ty,fHe=wJ,hHe=N4,mHe=ty,pHe=ty,gHe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function vHe(e){e.l+=2;var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),o=gHe[n>>2&31];return{ixti:r,coltype:n&3,rt:o,idx:a,c:s,C:i}}function xHe(e){return e.l+=2,[e.read_shift(4)]}function yHe(e,r,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function bHe(e,r,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function wHe(e){var r=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[r,n]}function _He(e){var r=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[r,n]}function SHe(e){return e.l+=4,[0,0]}var W5={1:{n:"PtgExp",f:VWe},2:{n:"PtgTbl",f:iHe},3:{n:"PtgAdd",f:jn},4:{n:"PtgSub",f:jn},5:{n:"PtgMul",f:jn},6:{n:"PtgDiv",f:jn},7:{n:"PtgPower",f:jn},8:{n:"PtgConcat",f:jn},9:{n:"PtgLt",f:jn},10:{n:"PtgLe",f:jn},11:{n:"PtgEq",f:jn},12:{n:"PtgGe",f:jn},13:{n:"PtgGt",f:jn},14:{n:"PtgNe",f:jn},15:{n:"PtgIsect",f:jn},16:{n:"PtgUnion",f:jn},17:{n:"PtgRange",f:jn},18:{n:"PtgUplus",f:jn},19:{n:"PtgUminus",f:jn},20:{n:"PtgPercent",f:jn},21:{n:"PtgParen",f:jn},22:{n:"PtgMissArg",f:jn},23:{n:"PtgStr",f:KWe},26:{n:"PtgSheet",f:yHe},27:{n:"PtgEndSheet",f:bHe},28:{n:"PtgErr",f:zWe},29:{n:"PtgBool",f:HWe},30:{n:"PtgInt",f:WWe},31:{n:"PtgNum",f:qWe},32:{n:"PtgArray",f:CWe},33:{n:"PtgFunc",f:LWe},34:{n:"PtgFuncVar",f:$We},35:{n:"PtgName",f:JWe},36:{n:"PtgRef",f:IWe},37:{n:"PtgArea",f:_We},38:{n:"PtgMemArea",f:eHe},39:{n:"PtgMemErr",f:aHe},40:{n:"PtgMemNoMem",f:sHe},41:{n:"PtgMemFunc",f:tHe},42:{n:"PtgRefErr",f:rHe},43:{n:"PtgAreaErr",f:jWe},44:{n:"PtgRefN",f:MWe},45:{n:"PtgAreaN",f:NWe},46:{n:"PtgMemAreaN",f:wHe},47:{n:"PtgMemNoMemN",f:_He},57:{n:"PtgNameX",f:QWe},58:{n:"PtgRef3d",f:FWe},59:{n:"PtgArea3d",f:SWe},60:{n:"PtgRefErr3d",f:nHe},61:{n:"PtgAreaErr3d",f:kWe},255:{}},jHe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},kHe={1:{n:"PtgElfLel",f:wJ},2:{n:"PtgElfRw",f:mHe},3:{n:"PtgElfCol",f:oHe},6:{n:"PtgElfRwV",f:pHe},7:{n:"PtgElfColV",f:uHe},10:{n:"PtgElfRadical",f:dHe},11:{n:"PtgElfRadicalS",f:hHe},13:{n:"PtgElfColS",f:lHe},15:{n:"PtgElfColSV",f:cHe},16:{n:"PtgElfRadicalLel",f:fHe},25:{n:"PtgList",f:vHe},29:{n:"PtgSxName",f:xHe},255:{}},NHe={0:{n:"PtgAttrNoop",f:SHe},1:{n:"PtgAttrSemi",f:PWe},2:{n:"PtgAttrIf",f:AWe},4:{n:"PtgAttrChoose",f:EWe},8:{n:"PtgAttrGoto",f:TWe},16:{n:"PtgAttrSum",f:UWe},32:{n:"PtgAttrBaxcel",f:z5},33:{n:"PtgAttrBaxcel",f:z5},64:{n:"PtgAttrSpace",f:DWe},65:{n:"PtgAttrSpaceSemi",f:RWe},128:{n:"PtgAttrIfError",f:OWe},255:{}};function ry(e,r,n,a){if(a.biff<8)return za(e,r);for(var s=e.l+r,i=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=XWe(e,0,a),i.push(n[o][1]);break;case"PtgMemArea":n[o][2]=YWe(e,n[o][1],a),i.push(n[o][2]);break;case"PtgExp":a&&a.biff==12&&(n[o][1][1]=e.read_shift(4),i.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return r=s-e.l,r!==0&&i.push(za(e,r)),i}function ny(e,r,n){for(var a=e.l+r,s,i,o=[];a!=e.l;)r=a-e.l,i=e[e.l],s=W5[i]||W5[jHe[i]],(i===24||i===25)&&(s=(i===24?kHe:NHe)[e[e.l+1]]),!s||!s.f?za(e,r):o.push([s.n,s.f(e,r,n)]);return o}function CHe(e){for(var r=[],n=0;n<e.length;++n){for(var a=e[n],s=[],i=0;i<a.length;++i){var o=a[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}r.push(s.join(","))}return r.join(";")}var EHe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function THe(e,r){if(!e&&!(r&&r.biff<=5&&r.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function _J(e,r,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[r]))return e.SheetNames[r];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[r];if(n.biff<8)return r>1e4&&(r-=65536),r<0&&(r=-r),r==0?"":e.XTI[r-1];if(!a)return"SH33TJSERR1";var s="";if(n.biff>8)switch(e[a[0]][0]){case 357:return s=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return s=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(s=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?s:s+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function H5(e,r,n){var a=_J(e,r,n);return a=="#REF"?a:THe(a,n)}function Pa(e,r,n,a,s){var i=s&&s.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},c=[],u,d,f,h=0,m=0,p,g="";if(!e[0]||!e[0][0])return"";for(var v=-1,x="",w=0,b=e[0].length;w<b;++w){var _=e[0][w];switch(_[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=c.pop(),d=c.pop(),v>=0){switch(e[0][v][1][0]){case 0:x=cn(" ",e[0][v][1][1]);break;case 1:x=cn("\r",e[0][v][1][1]);break;default:if(x="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}d=d+x,v=-1}c.push(d+EHe[_[0]]+u);break;case"PtgIsect":u=c.pop(),d=c.pop(),c.push(d+" "+u);break;case"PtgUnion":u=c.pop(),d=c.pop(),c.push(d+","+u);break;case"PtgRange":u=c.pop(),d=c.pop(),c.push(d+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=kg(_[1][1],o,s),c.push(Ng(f,i));break;case"PtgRefN":f=n?kg(_[1][1],n,s):_[1][1],c.push(Ng(f,i));break;case"PtgRef3d":h=_[1][1],f=kg(_[1][2],o,s),g=H5(a,h,s),c.push(g+"!"+Ng(f,i));break;case"PtgFunc":case"PtgFuncVar":var S=_[1][0],j=_[1][1];S||(S=0),S&=127;var N=S==0?[]:c.slice(-S);c.length-=S,j==="User"&&(j=N.shift()),c.push(j+"("+N.join(",")+")");break;case"PtgBool":c.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(_[1]);break;case"PtgNum":c.push(String(_[1]));break;case"PtgStr":c.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(_[1]);break;case"PtgAreaN":p=k5(_[1][1],n?{s:n}:o,s),c.push(vN(p,s));break;case"PtgArea":p=k5(_[1][1],o,s),c.push(vN(p,s));break;case"PtgArea3d":h=_[1][1],p=_[1][2],g=H5(a,h,s),c.push(g+"!"+vN(p,s));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=_[1][2];var k=(a.names||[])[m-1]||(a[0]||[])[m],E=k?k.Name:"SH33TJSNAME"+String(m);E&&E.slice(0,6)=="_xlfn."&&!s.xlfn&&(E=E.slice(6)),c.push(E);break;case"PtgNameX":var C=_[1][1];m=_[1][2];var A;if(s.biff<=5)C<0&&(C=-C),a[C]&&(A=a[C][m]);else{var D="";if(((a[C]||[])[0]||[])[0]==14849||(((a[C]||[])[0]||[])[0]==1025?a[C][m]&&a[C][m].itab>0&&(D=a.SheetNames[a[C][m].itab-1]+"!"):D=a.SheetNames[m-1]+"!"),a[C]&&a[C][m])D+=a[C][m].Name;else if(a[0]&&a[0][m])D+=a[0][m].Name;else{var T=(_J(a,C,s)||"").split(";;");T[m-1]?D=T[m-1]:D+="SH33TJSERRX"}c.push(D);break}A||(A={Name:"SH33TJSERRY"}),c.push(A.Name);break;case"PtgParen":var W="(",q=")";if(v>=0){switch(x="",e[0][v][1][0]){case 2:W=cn(" ",e[0][v][1][1])+W;break;case 3:W=cn("\r",e[0][v][1][1])+W;break;case 4:q=cn(" ",e[0][v][1][1])+q;break;case 5:q=cn("\r",e[0][v][1][1])+q;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}c.push(W+c.pop()+q);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":f={c:_[1][1],r:_[1][0]};var L={c:n.c,r:n.r};if(a.sharedf[Ft(f)]){var I=a.sharedf[Ft(f)];c.push(Pa(I,o,L,a,s))}else{var z=!1;for(u=0;u!=a.arrayf.length;++u)if(d=a.arrayf[u],!(f.c<d[0].s.c||f.c>d[0].e.c)&&!(f.r<d[0].s.r||f.r>d[0].e.r)){c.push(Pa(d[1],o,L,a,s)),z=!0;break}z||c.push(_[1])}break;case"PtgArray":c.push("{"+CHe(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var F=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&v>=0&&F.indexOf(e[0][w][0])==-1){_=e[0][v];var M=!0;switch(_[1][0]){case 4:M=!1;case 0:x=cn(" ",_[1][1]);break;case 5:M=!1;case 1:x=cn("\r",_[1][1]);break;default:if(x="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}c.push((M?x:"")+c.pop()+(M?"":x)),v=-1}}if(c.length>1&&s.WTF)throw new Error("bad formula stack");return c[0]}function AHe(e,r,n){var a=e.l+r,s=n.biff==2?1:2,i,o=e.read_shift(s);if(o==65535)return[[],za(e,r-2)];var c=ny(e,o,n);return r!==o+s&&(i=ry(e,r-o-s,c,n)),e.l=a,[c,i]}function OHe(e,r,n){var a=e.l+r,s=n.biff==2?1:2,i,o=e.read_shift(s);if(o==65535)return[[],za(e,r-2)];var c=ny(e,o,n);return r!==o+s&&(i=ry(e,r-o-s,c,n)),e.l=a,[c,i]}function PHe(e,r,n,a){var s=e.l+r,i=ny(e,a,n),o;return s!==e.l&&(o=ry(e,s-e.l,i,n)),[i,o]}function DHe(e,r,n){var a=e.l+r,s,i=e.read_shift(2),o=ny(e,i,n);return i==65535?[[],za(e,r-2)]:(r!==i+2&&(s=ry(e,a-i-2,o,n)),[o,s])}function RHe(e){var r;if(ac(e,e.l+6)!==65535)return[Ma(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return r=e[e.l+2]===1,e.l+=8,[r,"b"];case 2:return r=e[e.l+2],e.l+=8,[r,"e"];case 3:return e.l+=8,["","s"]}return[]}function bN(e,r,n){var a=e.l+r,s=Fl(e);n.biff==2&&++e.l;var i=RHe(e),o=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var c=OHe(e,a-e.l,n);return{cell:s,val:i[0],formula:c,shared:o>>3&1,tt:i[1]}}function cj(e,r,n){var a=e.read_shift(4),s=ny(e,a,n),i=e.read_shift(4),o=i>0?ry(e,i,s,n):null;return[s,o]}var IHe=cj,uj=cj,MHe=cj,FHe=cj,LHe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},SJ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},$He={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function q5(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(r,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function wN(e){var r=e.split(":"),n=r[0].split(".")[0];return[n,r[0].split(".")[1]+(r.length>1?":"+(r[1].split(".")[1]||r[1].split(".")[0]):"")]}var Ag={},hm={};function Og(e,r){if(e){var n=[.7,.7,.75,.75,.3,.3];r=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function jJ(e,r,n,a,s,i){try{a.cellNF&&(e.z=zt[r])}catch(c){if(a.WTF)throw c}if(!(e.t==="z"&&!a.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ra(e.v)),(!a||a.cellText!==!1)&&e.t!=="z")try{if(zt[r]==null&&sf(BUe[r]||"General",r),e.t==="e")e.w=e.w||Xf[e.v];else if(r===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Yv(e.v);else if(e.t==="d"){var o=ms(e.v);(o|0)===o?e.w=o.toString(10):e.w=Yv(o)}else{if(e.v===void 0)return"";e.w=Af(e.v,hm)}else e.t==="d"?e.w=Hi(r,ms(e.v),hm):e.w=Hi(r,e.v,hm)}catch(c){if(a.WTF)throw c}if(a.cellStyles&&n!=null)try{e.s=i.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Qw(s.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),a.WTF&&(e.s.fgColor.raw_rgb=s.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Qw(s.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),a.WTF&&(e.s.bgColor.raw_rgb=s.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(c){if(a.WTF&&i.Fills)throw c}}}function BHe(e,r){var n=fn(r);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=sr(n))}var UHe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,VHe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,zHe=/<(?:\w:)?hyperlink [^>]*>/mg,WHe=/"(\w*:\w*)"/,HHe=/<(?:\w:)?col\b[^>]*[\/]?>/g,qHe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,KHe=/<(?:\w:)?pageMargins[^>]*\/>/g,kJ=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,GHe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,YHe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function XHe(e,r,n,a,s,i,o){if(!e)return e;a||(a={"!id":{}});var c=r.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",f="",h=e.match(VHe);h?(d=e.slice(0,h.index),f=e.slice(h.index+h[0].length)):d=f=e;var m=d.match(kJ);m?C4(m[0],c,s,n):(m=d.match(GHe))&&JHe(m[0],m[1]||"",c,s,n);var p=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var g=d.slice(p,p+50).match(WHe);g&&BHe(c,g[1])}var v=d.match(YHe);v&&v[1]&&nqe(v[1],s);var x=[];if(r.cellStyles){var w=d.match(HHe);w&&eqe(x,w)}h&&aqe(h[1],c,r,u,i,o);var b=f.match(qHe);b&&(c["!autofilter"]=tqe(b[0]));var _=[],S=f.match(UHe);if(S)for(p=0;p!=S.length;++p)_[p]=fn(S[p].slice(S[p].indexOf('"')+1));var j=f.match(zHe);j&&QHe(c,j,a);var N=f.match(KHe);if(N&&(c["!margins"]=ZHe(Pt(N[0]))),!c["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(c["!ref"]=sr(u)),r.sheetRows>0&&c["!ref"]){var k=fn(c["!ref"]);r.sheetRows<=+k.e.r&&(k.e.r=r.sheetRows-1,k.e.r>u.e.r&&(k.e.r=u.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>u.e.c&&(k.e.c=u.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),c["!fullref"]=c["!ref"],c["!ref"]=sr(k))}return x.length>0&&(c["!cols"]=x),_.length>0&&(c["!merges"]=_),c}function C4(e,r,n,a){var s=Pt(e);n.Sheets[a]||(n.Sheets[a]={}),s.codeName&&(n.Sheets[a].CodeName=cr(Fr(s.codeName)))}function JHe(e,r,n,a,s){C4(e.slice(0,e.indexOf(">")),n,a,s)}function QHe(e,r,n){for(var a=Array.isArray(e),s=0;s!=r.length;++s){var i=Pt(Fr(r[s]),!0);if(!i.ref)return;var o=((n||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+cr(i.location))):(i.Target="#"+cr(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var c=fn(i.ref),u=c.s.r;u<=c.e.r;++u)for(var d=c.s.c;d<=c.e.c;++d){var f=Ft({c:d,r:u});a?(e[u]||(e[u]=[]),e[u][d]||(e[u][d]={t:"z",v:void 0}),e[u][d].l=i):(e[f]||(e[f]={t:"z",v:void 0}),e[f].l=i)}}}function ZHe(e){var r={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(r[n]=parseFloat(e[n]))}),r}function eqe(e,r){for(var n=!1,a=0;a!=r.length;++a){var s=Pt(r[a],!0);s.hidden&&(s.hidden=qr(s.hidden));var i=parseInt(s.min,10)-1,o=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!n&&s.width&&(n=!0,k4(s.width)),wp(s);i<=o;)e[i++]=pa(s)}}function tqe(e){var r={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return r}var rqe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function nqe(e,r){r.Views||(r.Views=[{}]),(e.match(rqe)||[]).forEach(function(n,a){var s=Pt(n);r.Views[a]||(r.Views[a]={}),+s.zoomScale&&(r.Views[a].zoom=+s.zoomScale),qr(s.rightToLeft)&&(r.Views[a].RTL=!0)})}var aqe=function(){var e=/<(?:\w+:)?c[ \/>]/,r=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,a=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,i=Xv("v"),o=Xv("f");return function(u,d,f,h,m,p){for(var g=0,v="",x=[],w=[],b=0,_=0,S=0,j="",N,k,E=0,C=0,A,D,T=0,W=0,q=Array.isArray(p.CellXf),L,I=[],z=[],F=Array.isArray(d),M=[],X={},ee=!1,P=!!f.sheetStubs,J=u.split(r),V=0,K=J.length;V!=K;++V){v=J[V].trim();var ie=v.length;if(ie!==0){var oe=0;e:for(g=0;g<ie;++g)switch(v[g]){case">":if(v[g-1]!="/"){++g;break e}if(f&&f.cellStyles){if(k=Pt(v.slice(oe,g),!0),E=k.r!=null?parseInt(k.r,10):E+1,C=-1,f.sheetRows&&f.sheetRows<E)continue;X={},ee=!1,k.ht&&(ee=!0,X.hpt=parseFloat(k.ht),X.hpx=ex(X.hpt)),k.hidden=="1"&&(ee=!0,X.hidden=!0),k.outlineLevel!=null&&(ee=!0,X.level=+k.outlineLevel),ee&&(M[E-1]=X)}break;case"<":oe=g;break}if(oe>=g)break;if(k=Pt(v.slice(oe,g),!0),E=k.r!=null?parseInt(k.r,10):E+1,C=-1,!(f.sheetRows&&f.sheetRows<E)){h.s.r>E-1&&(h.s.r=E-1),h.e.r<E-1&&(h.e.r=E-1),f&&f.cellStyles&&(X={},ee=!1,k.ht&&(ee=!0,X.hpt=parseFloat(k.ht),X.hpx=ex(X.hpt)),k.hidden=="1"&&(ee=!0,X.hidden=!0),k.outlineLevel!=null&&(ee=!0,X.level=+k.outlineLevel),ee&&(M[E-1]=X)),x=v.slice(g).split(e);for(var ye=0;ye!=x.length&&x[ye].trim().charAt(0)=="<";++ye);for(x=x.slice(ye),g=0;g!=x.length;++g)if(v=x[g].trim(),v.length!==0){if(w=v.match(n),b=g,_=0,S=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,w!=null&&w.length===2){for(b=0,j=w[1],_=0;_!=j.length&&!((S=j.charCodeAt(_)-64)<1||S>26);++_)b=26*b+S;--b,C=b}else++C;for(_=0;_!=v.length&&v.charCodeAt(_)!==62;++_);if(++_,k=Pt(v.slice(0,_),!0),k.r||(k.r=Ft({r:E-1,c:C})),j=v.slice(_),N={t:""},(w=j.match(i))!=null&&w[1]!==""&&(N.v=cr(w[1])),f.cellFormula){if((w=j.match(o))!=null&&w[1]!==""){if(N.f=cr(Fr(w[1])).replace(/\r\n/g,`
`),f.xlfn||(N.f=V5(N.f)),w[0].indexOf('t="array"')>-1)N.F=(j.match(s)||[])[1],N.F.indexOf(":")>-1&&I.push([fn(N.F),N.F]);else if(w[0].indexOf('t="shared"')>-1){D=Pt(w[0]);var ae=cr(Fr(w[1]));f.xlfn||(ae=V5(ae)),z[parseInt(D.si,10)]=[D,ae,k.r]}}else(w=j.match(/<f[^>]*\/>/))&&(D=Pt(w[0]),z[D.si]&&(N.f=pWe(z[D.si][1],z[D.si][2],k.r)));var Q=us(k.r);for(_=0;_<I.length;++_)Q.r>=I[_][0].s.r&&Q.r<=I[_][0].e.r&&Q.c>=I[_][0].s.c&&Q.c<=I[_][0].e.c&&(N.F=I[_][1])}if(k.t==null&&N.v===void 0)if(N.f||N.F)N.v=0,N.t="n";else if(P)N.t="z";else continue;else N.t=k.t||"n";switch(h.s.c>C&&(h.s.c=C),h.e.c<C&&(h.e.c=C),N.t){case"n":if(N.v==""||N.v==null){if(!P)continue;N.t="z"}else N.v=parseFloat(N.v);break;case"s":if(typeof N.v>"u"){if(!P)continue;N.t="z"}else A=Ag[parseInt(N.v,10)],N.v=A.t,N.r=A.r,f.cellHTML&&(N.h=A.h);break;case"str":N.t="s",N.v=N.v!=null?Fr(N.v):"",f.cellHTML&&(N.h=m4(N.v));break;case"inlineStr":w=j.match(a),N.t="s",w!=null&&(A=j4(w[1]))?(N.v=A.t,f.cellHTML&&(N.h=A.h)):N.v="";break;case"b":N.v=qr(N.v);break;case"d":f.cellDates?N.v=ra(N.v,1):(N.v=ms(ra(N.v,1)),N.t="n");break;case"e":(!f||f.cellText!==!1)&&(N.w=N.v),N.v=qX[N.v];break}if(T=W=0,L=null,q&&k.s!==void 0&&(L=p.CellXf[k.s],L!=null&&(L.numFmtId!=null&&(T=L.numFmtId),f.cellStyles&&L.fillId!=null&&(W=L.fillId))),jJ(N,T,W,f,m,p),f.cellDates&&q&&N.t=="n"&&o0(zt[T])&&(N.t="d",N.v=oj(N.v)),k.cm&&f.xlmeta){var fe=(f.xlmeta.Cell||[])[+k.cm-1];fe&&fe.type=="XLDAPR"&&(N.D=!0)}if(F){var O=us(k.r);d[O.r]||(d[O.r]=[]),d[O.r][O.c]=N}else d[k.r]=N}}}}M.length>0&&(d["!rows"]=M)}}();function sqe(e,r){var n={},a=e.l+r;n.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(n.level=i&7),i&16&&(n.hidden=!0),i&32&&(n.hpt=s/20),n}var iqe=Yf;function oqe(){}function lqe(e,r){var n={},a=e[e.l];return++e.l,n.above=!(a&64),n.left=!(a&128),e.l+=18,n.name=A9e(e),n}function cqe(e){var r=Yi(e);return[r]}function uqe(e){var r=Gf(e);return[r]}function dqe(e){var r=Yi(e),n=e.read_shift(1);return[r,n,"b"]}function fqe(e){var r=Gf(e),n=e.read_shift(1);return[r,n,"b"]}function hqe(e){var r=Yi(e),n=e.read_shift(1);return[r,n,"e"]}function mqe(e){var r=Gf(e),n=e.read_shift(1);return[r,n,"e"]}function pqe(e){var r=Yi(e),n=e.read_shift(4);return[r,n,"s"]}function gqe(e){var r=Gf(e),n=e.read_shift(4);return[r,n,"s"]}function vqe(e){var r=Yi(e),n=Ma(e);return[r,n,"n"]}function NJ(e){var r=Gf(e),n=Ma(e);return[r,n,"n"]}function xqe(e){var r=Yi(e),n=w4(e);return[r,n,"n"]}function yqe(e){var r=Gf(e),n=w4(e);return[r,n,"n"]}function bqe(e){var r=Yi(e),n=y4(e);return[r,n,"is"]}function wqe(e){var r=Yi(e),n=$a(e);return[r,n,"str"]}function _qe(e){var r=Gf(e),n=$a(e);return[r,n,"str"]}function Sqe(e,r,n){var a=e.l+r,s=Yi(e);s.r=n["!row"];var i=e.read_shift(1),o=[s,i,"b"];if(n.cellFormula){e.l+=2;var c=uj(e,a-e.l,n);o[3]=Pa(c,null,s,n.supbooks,n)}else e.l=a;return o}function jqe(e,r,n){var a=e.l+r,s=Yi(e);s.r=n["!row"];var i=e.read_shift(1),o=[s,i,"e"];if(n.cellFormula){e.l+=2;var c=uj(e,a-e.l,n);o[3]=Pa(c,null,s,n.supbooks,n)}else e.l=a;return o}function kqe(e,r,n){var a=e.l+r,s=Yi(e);s.r=n["!row"];var i=Ma(e),o=[s,i,"n"];if(n.cellFormula){e.l+=2;var c=uj(e,a-e.l,n);o[3]=Pa(c,null,s,n.supbooks,n)}else e.l=a;return o}function Nqe(e,r,n){var a=e.l+r,s=Yi(e);s.r=n["!row"];var i=$a(e),o=[s,i,"str"];if(n.cellFormula){e.l+=2;var c=uj(e,a-e.l,n);o[3]=Pa(c,null,s,n.supbooks,n)}else e.l=a;return o}var Cqe=Yf;function Eqe(e,r){var n=e.l+r,a=Yf(e),s=b4(e),i=$a(e),o=$a(e),c=$a(e);e.l=n;var u={rfx:a,relId:s,loc:i,display:c};return o&&(u.Tooltip=o),u}function Tqe(){}function Aqe(e,r,n){var a=e.l+r,s=zX(e),i=e.read_shift(1),o=[s];if(o[2]=i,n.cellFormula){var c=IHe(e,a-e.l,n);o[1]=c}else e.l=a;return o}function Oqe(e,r,n){var a=e.l+r,s=Yf(e),i=[s];if(n.cellFormula){var o=FHe(e,a-e.l,n);i[1]=o,e.l=a}else e.l=a;return i}var Pqe=["left","right","top","bottom","header","footer"];function Dqe(e){var r={};return Pqe.forEach(function(n){r[n]=Ma(e)}),r}function Rqe(e){var r=e.read_shift(2);return e.l+=28,{RTL:r&32}}function Iqe(){}function Mqe(){}function Fqe(e,r,n,a,s,i,o){if(!e)return e;var c=r||{};a||(a={"!id":{}});var u=c.dense?[]:{},d,f={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,m=!1,p,g,v,x,w,b,_,S,j,N=[];c.biff=12,c["!row"]=0;var k=0,E=!1,C=[],A={},D=c.supbooks||s.supbooks||[[]];if(D.sharedf=A,D.arrayf=C,D.SheetNames=s.SheetNames||s.Sheets.map(function(F){return F.name}),!c.supbooks&&(c.supbooks=D,s.Names))for(var T=0;T<s.Names.length;++T)D[0][T+1]=s.Names[T];var W=[],q=[],L=!1;t_[16]={n:"BrtShortReal",f:NJ};var I;if(Rc(e,function(M,X,ee){if(!m)switch(ee){case 148:d=M;break;case 0:p=M,c.sheetRows&&c.sheetRows<=p.r&&(m=!0),S=ga(x=p.r),c["!row"]=p.r,(M.hidden||M.hpt||M.level!=null)&&(M.hpt&&(M.hpx=ex(M.hpt)),q[M.r]=M);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:M[2]},M[2]){case"n":g.v=M[1];break;case"s":_=Ag[M[1]],g.v=_.t,g.r=_.r;break;case"b":g.v=!!M[1];break;case"e":g.v=M[1],c.cellText!==!1&&(g.w=Xf[g.v]);break;case"str":g.t="s",g.v=M[1];break;case"is":g.t="s",g.v=M[1].t;break}if((v=o.CellXf[M[0].iStyleRef])&&jJ(g,v.numFmtId,null,c,i,o),w=M[0].c==-1?w+1:M[0].c,c.dense?(u[x]||(u[x]=[]),u[x][w]=g):u[qn(w)+S]=g,c.cellFormula){for(E=!1,k=0;k<C.length;++k){var P=C[k];p.r>=P[0].s.r&&p.r<=P[0].e.r&&w>=P[0].s.c&&w<=P[0].e.c&&(g.F=sr(P[0]),E=!0)}!E&&M.length>3&&(g.f=M[3])}if(f.s.r>p.r&&(f.s.r=p.r),f.s.c>w&&(f.s.c=w),f.e.r<p.r&&(f.e.r=p.r),f.e.c<w&&(f.e.c=w),c.cellDates&&v&&g.t=="n"&&o0(zt[v.numFmtId])){var J=Vd(g.v);J&&(g.t="d",g.v=new Date(J.y,J.m-1,J.d,J.H,J.M,J.S,J.u))}I&&(I.type=="XLDAPR"&&(g.D=!0),I=void 0);break;case 1:case 12:if(!c.sheetStubs||h)break;g={t:"z",v:void 0},w=M[0].c==-1?w+1:M[0].c,c.dense?(u[x]||(u[x]=[]),u[x][w]=g):u[qn(w)+S]=g,f.s.r>p.r&&(f.s.r=p.r),f.s.c>w&&(f.s.c=w),f.e.r<p.r&&(f.e.r=p.r),f.e.c<w&&(f.e.c=w),I&&(I.type=="XLDAPR"&&(g.D=!0),I=void 0);break;case 176:N.push(M);break;case 49:I=((c.xlmeta||{}).Cell||[])[M-1];break;case 494:var V=a["!id"][M.relId];for(V?(M.Target=V.Target,M.loc&&(M.Target+="#"+M.loc),M.Rel=V):M.relId==""&&(M.Target="#"+M.loc),x=M.rfx.s.r;x<=M.rfx.e.r;++x)for(w=M.rfx.s.c;w<=M.rfx.e.c;++w)c.dense?(u[x]||(u[x]=[]),u[x][w]||(u[x][w]={t:"z",v:void 0}),u[x][w].l=M):(b=Ft({c:w,r:x}),u[b]||(u[b]={t:"z",v:void 0}),u[b].l=M);break;case 426:if(!c.cellFormula)break;C.push(M),j=c.dense?u[x][w]:u[qn(w)+S],j.f=Pa(M[1],f,{r:p.r,c:w},D,c),j.F=sr(M[0]);break;case 427:if(!c.cellFormula)break;A[Ft(M[0].s)]=M[1],j=c.dense?u[x][w]:u[qn(w)+S],j.f=Pa(M[1],f,{r:p.r,c:w},D,c);break;case 60:if(!c.cellStyles)break;for(;M.e>=M.s;)W[M.e--]={width:M.w/256,hidden:!!(M.flags&1),level:M.level},L||(L=!0,k4(M.w/256)),wp(W[M.e+1]);break;case 161:u["!autofilter"]={ref:sr(M)};break;case 476:u["!margins"]=M;break;case 147:s.Sheets[n]||(s.Sheets[n]={}),M.name&&(s.Sheets[n].CodeName=M.name),(M.above||M.left)&&(u["!outline"]={above:M.above,left:M.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),M.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!X.T){if(!h||c.WTF)throw new Error("Unexpected record 0x"+ee.toString(16))}}},c),delete c.supbooks,delete c["!row"],!u["!ref"]&&(f.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(u["!ref"]=sr(d||f)),c.sheetRows&&u["!ref"]){var z=fn(u["!ref"]);c.sheetRows<=+z.e.r&&(z.e.r=c.sheetRows-1,z.e.r>f.e.r&&(z.e.r=f.e.r),z.e.r<z.s.r&&(z.s.r=z.e.r),z.e.c>f.e.c&&(z.e.c=f.e.c),z.e.c<z.s.c&&(z.s.c=z.e.c),u["!fullref"]=u["!ref"],u["!ref"]=sr(z))}return N.length>0&&(u["!merges"]=N),W.length>0&&(u["!cols"]=W),q.length>0&&(u["!rows"]=q),u}function Lqe(e){var r=[],n=e.match(/^<c:numCache>/),a;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(r[+o[1]]=n?+o[2]:o[2])});var s=cr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){a=i.replace(/<.*?>/g,"")}),[r,s,a]}function $qe(e,r,n,a,s,i){var o=i||{"!type":"chart"};if(!e)return i;var c=0,u=0,d="A",f={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var m=Lqe(h);f.s.r=f.s.c=0,f.e.c=c,d=qn(c),m[0].forEach(function(p,g){o[d+ga(g)]={t:"n",v:p,z:m[1]},u=g}),f.e.r<u&&(f.e.r=u),++c}),c>0&&(o["!ref"]=sr(f)),o}function Bqe(e,r,n,a,s){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,c=e.match(kJ);return c&&C4(c[0],i,s,n),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}function Uqe(e,r){e.l+=10;var n=$a(e);return{name:n}}function Vqe(e,r,n,a,s){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Rc(e,function(u,d,f){switch(f){case 550:i["!rel"]=u;break;case 651:s.Sheets[n]||(s.Sheets[n]={}),u.name&&(s.Sheets[n].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||r.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}},r),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}var CJ=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],zqe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Wqe=[],Hqe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function K5(e,r){for(var n=0;n!=e.length;++n)for(var a=e[n],s=0;s!=r.length;++s){var i=r[s];if(a[i[0]]==null)a[i[0]]=i[1];else switch(i[2]){case"bool":typeof a[i[0]]=="string"&&(a[i[0]]=qr(a[i[0]]));break;case"int":typeof a[i[0]]=="string"&&(a[i[0]]=parseInt(a[i[0]],10));break}}}function G5(e,r){for(var n=0;n!=r.length;++n){var a=r[n];if(e[a[0]]==null)e[a[0]]=a[1];else switch(a[2]){case"bool":typeof e[a[0]]=="string"&&(e[a[0]]=qr(e[a[0]]));break;case"int":typeof e[a[0]]=="string"&&(e[a[0]]=parseInt(e[a[0]],10));break}}}function EJ(e){G5(e.WBProps,CJ),G5(e.CalcPr,Hqe),K5(e.WBView,zqe),K5(e.Sheets,Wqe),hm.date1904=qr(e.WBProps.date1904)}var qqe="][*?/\\".split("");function Kqe(e,r){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return qqe.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var Gqe=/<\w+:workbook/;function Yqe(e,r){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,s="xmlns",i={},o=0;if(e.replace(qa,function(u,d){var f=Pt(u);switch(Ml(f[0])){case"<?xml":break;case"<workbook":u.match(Gqe)&&(s="xmlns"+u.match(/<(\w+):/)[1]),n.xmlns=f[s];break;case"</workbook>":break;case"<fileVersion":delete f[0],n.AppVersion=f;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":CJ.forEach(function(h){if(f[h[0]]!=null)switch(h[2]){case"bool":n.WBProps[h[0]]=qr(f[h[0]]);break;case"int":n.WBProps[h[0]]=parseInt(f[h[0]],10);break;default:n.WBProps[h[0]]=f[h[0]]}}),f.codeName&&(n.WBProps.CodeName=Fr(f.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete f[0],n.WBView.push(f);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(f.state){case"hidden":f.Hidden=1;break;case"veryHidden":f.Hidden=2;break;default:f.Hidden=0}delete f.state,f.name=cr(Fr(f.name)),delete f[0],n.Sheets.push(f);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":a=!0;break;case"</definedNames>":a=!1;break;case"<definedName":i={},i.Name=Fr(f.name),f.comment&&(i.Comment=f.comment),f.localSheetId&&(i.Sheet=+f.localSheetId),qr(f.hidden||"0")&&(i.Hidden=!0),o=d+u.length;break;case"</definedName>":i.Ref=cr(Fr(e.slice(o,d))),n.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete f[0],n.CalcPr=f;break;case"<calcPr/>":delete f[0],n.CalcPr=f;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<revisionPtr":break;default:if(!a&&r.WTF)throw new Error("unrecognized "+f[0]+" in workbook")}return u}),h9e.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return EJ(n),n}function Xqe(e,r){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=sT(e),n.name=$a(e),n}function Jqe(e,r){var n={},a=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var s=r>8?$a(e):"";return s.length>0&&(n.CodeName=s),n.autoCompressPictures=!!(a&65536),n.backupFile=!!(a&64),n.checkCompatibility=!!(a&4096),n.date1904=!!(a&1),n.filterPrivacy=!!(a&8),n.hidePivotFieldList=!!(a&1024),n.promptedSolutions=!!(a&16),n.publishItems=!!(a&2048),n.refreshAllConnections=!!(a&262144),n.saveExternalLinkValues=!!(a&128),n.showBorderUnselectedTables=!!(a&4),n.showInkAnnotation=!!(a&32),n.showObjects=["all","placeholders","none"][a>>13&3],n.showPivotChartFilter=!!(a&32768),n.updateLinks=["userSet","never","always"][a>>8&3],n}function Qqe(e,r){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=r-8,n}function Zqe(e,r,n){var a=e.l+r;e.l+=4,e.l+=1;var s=e.read_shift(4),i=O9e(e),o=MHe(e,0,n),c=b4(e);e.l=a;var u={Name:i,Ptg:o};return s<268435455&&(u.Sheet=s),c&&(u.Comment=c),u}function eKe(e,r){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},a=[],s=!1;r||(r={}),r.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],t_[16]={n:"BrtFRTArchID$",f:Qqe},Rc(e,function(u,d,f){switch(f){case 156:o.SheetNames.push(u.name),n.Sheets.push(u);break;case 153:n.WBProps=u;break;case 39:u.Sheet!=null&&(r.SID=u.Sheet),u.Ref=Pa(u.Ptg,null,null,o,r),delete r.SID,delete u.Ptg,i.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([f,u]):o[0]=[f,u],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(u),o.XTI=o.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:a.push(f),s=!0;break;case 36:a.pop(),s=!1;break;case 37:a.push(f),s=!0;break;case 38:a.pop(),s=!1;break;case 16:break;default:if(!d.T){if(!s||r.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}},r),EJ(n),n.Names=i,n.supbooks=o,n}function tKe(e,r,n){return r.slice(-4)===".bin"?eKe(e,n):Yqe(e,n)}function rKe(e,r,n,a,s,i,o,c){return r.slice(-4)===".bin"?Fqe(e,a,n,s,i,o,c):XHe(e,a,n,s,i,o,c)}function nKe(e,r,n,a,s,i,o,c){return r.slice(-4)===".bin"?Vqe(e,a,n,s,i):Bqe(e,a,n,s,i)}function aKe(e,r,n,a,s,i,o,c){return r.slice(-4)===".bin"?fWe():hWe()}function sKe(e,r,n,a,s,i,o,c){return r.slice(-4)===".bin"?uWe():dWe()}function iKe(e,r,n,a){return r.slice(-4)===".bin"?Cze(e,n,a):wze(e,n,a)}function oKe(e,r,n){return mJ(e,n)}function lKe(e,r,n){return r.slice(-4)===".bin"?zVe(e,n):UVe(e,n)}function cKe(e,r,n){return r.slice(-4)===".bin"?oWe(e,n):rWe(e,n)}function uKe(e,r,n){return r.slice(-4)===".bin"?Zze(e):Jze(e)}function dKe(e,r,n,a){return n.slice(-4)===".bin"?eWe(e,r,n,a):void 0}function fKe(e,r,n){return r.slice(-4)===".bin"?Yze(e,r,n):Xze(e,r,n)}var TJ=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,AJ=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function to(e,r){var n=e.split(/\s+/),a=[];if(a[0]=n[0],n.length===1)return a;var s=e.match(TJ),i,o,c,u;if(s)for(u=0;u!=s.length;++u)i=s[u].match(AJ),(o=i[1].indexOf(":"))===-1?a[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?c="xmlns"+i[1].slice(6):c=i[1].slice(o+1),a[c]=i[2].slice(1,i[2].length-1));return a}function hKe(e){var r=e.split(/\s+/),n={};if(r.length===1)return n;var a=e.match(TJ),s,i,o,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(AJ),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),n[o]=s[2].slice(1,s[2].length-1));return n}var Pg;function mKe(e,r){var n=Pg[e]||cr(e);return n==="General"?Af(r):Hi(n,r)}function pKe(e,r,n,a){var s=a;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=qr(a);break;case"i2":case"int":s=parseInt(a,10);break;case"r4":case"float":s=parseFloat(a);break;case"date":case"dateTime.tz":s=ra(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[cr(r)]=s}function gKe(e,r,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||Xf[e.v]:r==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Yv(e.v):e.w=Af(e.v):e.w=mKe(r||"General",e.v)}catch(i){if(n.WTF)throw i}try{var a=Pg[r]||r||"General";if(n.cellNF&&(e.z=a),n.cellDates&&e.t=="n"&&o0(a)){var s=Vd(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(i){if(n.WTF)throw i}}}function vKe(e,r,n){if(n.cellStyles&&r.Interior){var a=r.Interior;a.Pattern&&(a.patternType=pze[a.Pattern]||a.Pattern)}e[r.ID]=r}function xKe(e,r,n,a,s,i,o,c,u,d){var f="General",h=a.StyleID,m={};d=d||{};var p=[],g=0;for(h===void 0&&c&&(h=c.StyleID),h===void 0&&o&&(h=o.StyleID);i[h]!==void 0&&(i[h].nf&&(f=i[h].nf),i[h].Interior&&p.push(i[h].Interior),!!i[h].Parent);)h=i[h].Parent;switch(n.Type){case"Boolean":a.t="b",a.v=qr(e);break;case"String":a.t="s",a.r=g5(cr(e)),a.v=e.indexOf("<")>-1?cr(r||e).replace(/<.*?>/g,""):a.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),a.v=(ra(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),a.v!==a.v?a.v=cr(e):a.v<60&&(a.v=a.v-1),(!f||f=="General")&&(f="yyyy-mm-dd");case"Number":a.v===void 0&&(a.v=+e),a.t||(a.t="n");break;case"Error":a.t="e",a.v=qX[e],d.cellText!==!1&&(a.w=e);break;default:e==""&&r==""?a.t="z":(a.t="s",a.v=g5(r||e));break}if(gKe(a,f,d),d.cellFormula!==!1)if(a.Formula){var v=cr(a.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),a.f=fm(v,s),delete a.Formula,a.ArrayRange=="RC"?a.F=fm("RC:RC",s):a.ArrayRange&&(a.F=fm(a.ArrayRange,s),u.push([fn(a.F),a.F]))}else for(g=0;g<u.length;++g)s.r>=u[g][0].s.r&&s.r<=u[g][0].e.r&&s.c>=u[g][0].s.c&&s.c<=u[g][0].e.c&&(a.F=u[g][1]);d.cellStyles&&(p.forEach(function(x){!m.patternType&&x.patternType&&(m.patternType=x.patternType)}),a.s=m),a.StyleID!==void 0&&(a.ixfe=a.StyleID)}function yKe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function _N(e,r){var n=r||{};xX();var a=G0(p4(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(a=Fr(a));var s=a.slice(0,1024).toLowerCase(),i=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var o=pa(n);return o.type="string",Qv.to_workbook(a,o)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(bt){s.indexOf("<"+bt)>=0&&(i=!0)}),i)return EKe(a,n);Pg={"General Number":"General","General Date":zt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":zt[15],"Short Date":zt[14],"Long Time":zt[19],"Medium Time":zt[18],"Short Time":zt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:zt[2],Standard:zt[4],Percent:zt[10],Scientific:zt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,u=[],d,f={},h=[],m=n.dense?[]:{},p="",g={},v={},x=to('<Data ss:Type="String">'),w=0,b=0,_=0,S={s:{r:2e6,c:2e6},e:{r:0,c:0}},j={},N={},k="",E=0,C=[],A={},D={},T=0,W=[],q=[],L={},I=[],z,F=!1,M=[],X=[],ee={},P=0,J=0,V={Sheets:[],WBProps:{date1904:!1}},K={};Jv.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"");for(var ie="";c=Jv.exec(a);)switch(c[3]=(ie=c[3]).toLowerCase()){case"data":if(ie=="data"){if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&u.push([c[3],!0]);break}if(u[u.length-1][1])break;c[1]==="/"?xKe(a.slice(w,c.index),k,x,u[u.length-1][0]=="comment"?L:g,{c:b,r:_},j,I[b],v,M,n):(k="",x=to(c[0]),w=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(q.length>0&&(g.c=q),(!n.sheetRows||n.sheetRows>_)&&g.v!==void 0&&(n.dense?(m[_]||(m[_]=[]),m[_][b]=g):m[qn(b)+ga(_)]=g),g.HRef&&(g.l={Target:cr(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(P=b+(parseInt(g.MergeAcross,10)|0),J=_+(parseInt(g.MergeDown,10)|0),C.push({s:{c:b,r:_},e:{c:P,r:J}})),!n.sheetStubs)g.MergeAcross?b=P+1:++b;else if(g.MergeAcross||g.MergeDown){for(var oe=b;oe<=P;++oe)for(var ye=_;ye<=J;++ye)(oe>b||ye>_)&&(n.dense?(m[ye]||(m[ye]=[]),m[ye][oe]={t:"z"}):m[qn(oe)+ga(ye)]={t:"z"});b=P+1}else++b;else g=hKe(c[0]),g.Index&&(b=+g.Index-1),b<S.s.c&&(S.s.c=b),b>S.e.c&&(S.e.c=b),c[0].slice(-2)==="/>"&&++b,q=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(_<S.s.r&&(S.s.r=_),_>S.e.r&&(S.e.r=_),c[0].slice(-2)==="/>"&&(v=to(c[0]),v.Index&&(_=+v.Index-1)),b=0,++_):(v=to(c[0]),v.Index&&(_=+v.Index-1),ee={},(v.AutoFitHeight=="0"||v.Height)&&(ee.hpx=parseInt(v.Height,10),ee.hpt=hJ(ee.hpx),X[_]=ee),v.Hidden=="1"&&(ee.hidden=!0,X[_]=ee));break;case"worksheet":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));h.push(p),S.s.r<=S.e.r&&S.s.c<=S.e.c&&(m["!ref"]=sr(S),n.sheetRows&&n.sheetRows<=S.e.r&&(m["!fullref"]=m["!ref"],S.e.r=n.sheetRows-1,m["!ref"]=sr(S))),C.length&&(m["!merges"]=C),I.length>0&&(m["!cols"]=I),X.length>0&&(m["!rows"]=X),f[p]=m}else S={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=b=0,u.push([c[3],!1]),d=to(c[0]),p=cr(d.Name),m=n.dense?[]:{},C=[],M=[],X=[],K={name:p,Hidden:0},V.Sheets.push(K);break;case"table":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else{if(c[0].slice(-2)=="/>")break;u.push([c[3],!1]),I=[],F=!1}break;case"style":c[1]==="/"?vKe(j,N,n):N=to(c[0]);break;case"numberformat":N.nf=cr(to(c[0]).Format||"General"),Pg[N.nf]&&(N.nf=Pg[N.nf]);for(var ae=0;ae!=392&&zt[ae]!=N.nf;++ae);if(ae==392){for(ae=57;ae!=392;++ae)if(zt[ae]==null){sf(N.nf,ae);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(z=to(c[0]),z.Hidden&&(z.hidden=!0,delete z.Hidden),z.Width&&(z.wpx=parseInt(z.Width,10)),!F&&z.wpx>10){F=!0,as=dJ;for(var Q=0;Q<I.length;++Q)I[Q]&&wp(I[Q])}F&&wp(z),I[z.Index-1||I.length]=z;for(var fe=0;fe<+z.Span;++fe)I[I.length]=pa(z);break;case"namedrange":if(c[1]==="/")break;V.Names||(V.Names=[]);var O=Pt(c[0]),Le={Name:O.Name,Ref:fm(O.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(Le.Sheet=V.Sheets.length-1),V.Names.push(Le);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?k+=a.slice(E,c.index):E=c.index+c[0].length;break;case"interior":if(!n.cellStyles)break;N.Interior=to(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?r7e(A,ie,a.slice(T,c.index)):T=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else u.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));yKe(L),q.push(L)}else u.push([c[3],!1]),d=to(c[0]),L={a:d.Author};break;case"autofilter":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var $e=to(c[0]);m["!autofilter"]={ref:fm($e.Range).replace(/\$/g,"")},u.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&u.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&u.push([c[3],!0]);break;case"null":break;default:if(u.length==0&&c[3]=="document"||u.length==0&&c[3]=="uof")return e8(a,n);var Me=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Me=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Me=!1}break;case"excelworkbook":switch(c[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Me=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:Me=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(a.slice(T,c.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2;break}else T=c.index+c[0].length;break;case"header":m["!margins"]||Og(m["!margins"]={},"xlml"),isNaN(+Pt(c[0]).Margin)||(m["!margins"].header=+Pt(c[0]).Margin);break;case"footer":m["!margins"]||Og(m["!margins"]={},"xlml"),isNaN(+Pt(c[0]).Margin)||(m["!margins"].footer=+Pt(c[0]).Margin);break;case"pagemargins":var He=Pt(c[0]);m["!margins"]||Og(m["!margins"]={},"xlml"),isNaN(+He.Top)||(m["!margins"].top=+He.Top),isNaN(+He.Left)||(m["!margins"].left=+He.Left),isNaN(+He.Right)||(m["!margins"].right=+He.Right),isNaN(+He.Bottom)||(m["!margins"].bottom=+He.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Me=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Me=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Me=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Me=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Me=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Me=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Me=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Me=!1}break;case"smarttags":break;default:Me=!1;break}if(Me||c[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?pKe(D,ie,W,a.slice(T,c.index)):(W=c,T=c.index+c[0].length);break}if(n.WTF)throw"Unrecognized tag: "+c[3]+"|"+u.join("|")}var Pe={};return!n.bookSheets&&!n.bookProps&&(Pe.Sheets=f),Pe.SheetNames=h,Pe.Workbook=V,Pe.SSF=pa(zt),Pe.Props=A,Pe.Custprops=D,Pe}function cT(e,r){switch(A4(r=r||{}),r.type||"base64"){case"base64":return _N(vi(e),r);case"binary":case"buffer":case"file":return _N(e,r);case"array":return _N(Kf(e),r)}}function bKe(e){var r={},n=e.content;if(n.l=28,r.AnsiUserType=n.read_shift(0,"lpstr-ansi"),r.AnsiClipboardFormat=R9e(n),n.length-n.l<=4)return r;var a=n.read_shift(4);if(a==0||a>40||(n.l-=4,r.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(a=n.read_shift(4),a!==1907505652)||(r.UnicodeClipboardFormat=I9e(n),a=n.read_shift(4),a==0||a>40))return r;n.l-=4,r.Reserved2=n.read_shift(0,"lpwstr")}var wKe=[60,1084,2066,2165,2175];function _Ke(e,r,n,a,s){var i=a,o=[],c=n.slice(n.l,n.l+i);if(s&&s.enc&&s.enc.insitu&&c.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(c)}o.push(c),n.l+=i;for(var u=ac(n,n.l),d=uT[u],f=0;d!=null&&wKe.indexOf(u)>-1;)i=ac(n,n.l+2),f=n.l+4,u==2066?f+=4:(u==2165||u==2175)&&(f+=12),c=n.slice(f,n.l+4+i),o.push(c),n.l+=4+i,d=uT[u=ac(n,n.l)];var h=au(o);ca(h,0);var m=0;h.lens=[];for(var p=0;p<o.length;++p)h.lens.push(m),m+=o[p].length;if(h.length<a)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+a;return r.f(h,h.length,s)}function Ko(e,r,n){if(e.t!=="z"&&e.XF){var a=0;try{a=e.z||e.XF.numFmtId||0,r.cellNF&&(e.z=zt[a])}catch(i){if(r.WTF)throw i}if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Xf[e.v]:a===0||a=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Yv(e.v):e.w=Af(e.v):e.w=Hi(a,e.v,{date1904:!!n,dateNF:r&&r.dateNF})}catch(i){if(r.WTF)throw i}if(r.cellDates&&a&&e.t=="n"&&o0(zt[a]||String(a))){var s=Vd(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function v1(e,r,n){return{v:e,ixfe:r,t:n}}function SKe(e,r){var n={opts:{}},a={},s=r.dense?[]:{},i={},o={},c=null,u=[],d="",f={},h,m="",p,g,v,x,w={},b=[],_,S,j=[],N=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},E={},C=function(Ee){return Ee<8?of[Ee]:Ee<64&&N[Ee-8]||of[Ee]},A=function(Ee,Ie,Ue){var Ve=Ie.XF.data;if(!(!Ve||!Ve.patternType||!Ue||!Ue.cellStyles)){Ie.s={},Ie.s.patternType=Ve.patternType;var ht;(ht=Zv(C(Ve.icvFore)))&&(Ie.s.fgColor={rgb:ht}),(ht=Zv(C(Ve.icvBack)))&&(Ie.s.bgColor={rgb:ht})}},D=function(Ee,Ie,Ue){if(!(ee>1)&&!(Ue.sheetRows&&Ee.r>=Ue.sheetRows)){if(Ue.cellStyles&&Ie.XF&&Ie.XF.data&&A(Ee,Ie,Ue),delete Ie.ixfe,delete Ie.XF,h=Ee,m=Ft(Ee),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Ee.r<o.s.r&&(o.s.r=Ee.r),Ee.c<o.s.c&&(o.s.c=Ee.c),Ee.r+1>o.e.r&&(o.e.r=Ee.r+1),Ee.c+1>o.e.c&&(o.e.c=Ee.c+1),Ue.cellFormula&&Ie.f){for(var Ve=0;Ve<b.length;++Ve)if(!(b[Ve][0].s.c>Ee.c||b[Ve][0].s.r>Ee.r)&&!(b[Ve][0].e.c<Ee.c||b[Ve][0].e.r<Ee.r)){Ie.F=sr(b[Ve][0]),(b[Ve][0].s.c!=Ee.c||b[Ve][0].s.r!=Ee.r)&&delete Ie.f,Ie.f&&(Ie.f=""+Pa(b[Ve][1],o,Ee,M,T));break}}Ue.dense?(s[Ee.r]||(s[Ee.r]=[]),s[Ee.r][Ee.c]=Ie):s[m]=Ie}},T={enc:!1,sbcch:0,snames:[],sharedf:w,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!r&&!!r.cellStyles,WTF:!!r&&!!r.wtf};r.password&&(T.password=r.password);var W,q=[],L=[],I=[],z=[],F=!1,M=[];M.SheetNames=T.snames,M.sharedf=T.sharedf,M.arrayf=T.arrayf,M.names=[],M.XTI=[];var X=0,ee=0,P=0,J=[],V=[],K;T.codepage=1200,_o(1200);for(var ie=!1;e.l<e.length-1;){var oe=e.l,ye=e.read_shift(2);if(ye===0&&X===10)break;var ae=e.l===e.length?0:e.read_shift(2),Q=uT[ye];if(Q&&Q.f){if(r.bookSheets&&X===133&&ye!==133)break;if(X=ye,Q.r===2||Q.r==12){var fe=e.read_shift(2);if(ae-=2,!T.enc&&fe!==ye&&((fe&255)<<8|fe>>8)!==ye)throw new Error("rt mismatch: "+fe+"!="+ye);Q.r==12&&(e.l+=10,ae-=10)}var O={};if(ye===10?O=Q.f(e,ae,T):O=_Ke(ye,Q,e,ae,T),ee==0&&[9,521,1033,2057].indexOf(X)===-1)continue;switch(ye){case 34:n.opts.Date1904=k.WBProps.date1904=O;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=O,!r.password)throw new Error("File is password-protected");if(O.valid==null)throw new Error("Encryption scheme unsupported");if(!O.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=O;break;case 66:var Le=Number(O);switch(Le){case 21010:Le=1200;break;case 32768:Le=1e4;break;case 32769:Le=1252;break}_o(T.codepage=Le),ie=!0;break;case 317:T.rrtabid=O;break;case 25:T.winlocked=O;break;case 439:n.opts.RefreshAll=O;break;case 12:n.opts.CalcCount=O;break;case 16:n.opts.CalcDelta=O;break;case 17:n.opts.CalcIter=O;break;case 13:n.opts.CalcMode=O;break;case 14:n.opts.CalcPrecision=O;break;case 95:n.opts.CalcSaveRecalc=O;break;case 15:T.CalcRefMode=O;break;case 2211:n.opts.FullCalc=O;break;case 129:O.fDialog&&(s["!type"]="dialog"),O.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),O.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:j.push(O);break;case 430:M.push([O]),M[M.length-1].XTI=[];break;case 35:case 547:M[M.length-1].push(O);break;case 24:case 536:K={Name:O.Name,Ref:Pa(O.rgce,o,null,M,T)},O.itab>0&&(K.Sheet=O.itab-1),M.names.push(K),M[0]||(M[0]=[],M[0].XTI=[]),M[M.length-1].push(O),O.Name=="_xlnm._FilterDatabase"&&O.itab>0&&O.rgce&&O.rgce[0]&&O.rgce[0][0]&&O.rgce[0][0][0]=="PtgArea3d"&&(V[O.itab-1]={ref:sr(O.rgce[0][0][1][2])});break;case 22:T.ExternCount=O;break;case 23:M.length==0&&(M[0]=[],M[0].XTI=[]),M[M.length-1].XTI=M[M.length-1].XTI.concat(O),M.XTI=M.XTI.concat(O);break;case 2196:if(T.biff<8)break;K!=null&&(K.Comment=O[1]);break;case 18:s["!protect"]=O;break;case 19:O!==0&&T.WTF&&console.error("Password verifier: "+O);break;case 133:i[O.pos]=O,T.snames.push(O.name);break;case 10:{if(--ee)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,s["!ref"]=sr(o),r.sheetRows&&r.sheetRows<=o.e.r){var $e=o.e.r;o.e.r=r.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=sr(o),o.e.r=$e}o.e.r++,o.e.c++}q.length>0&&(s["!merges"]=q),L.length>0&&(s["!objects"]=L),I.length>0&&(s["!cols"]=I),z.length>0&&(s["!rows"]=z),k.Sheets.push(E)}d===""?f=s:a[d]=s,s=r.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(T.biff===8&&(T.biff={9:2,521:3,1033:4}[ye]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[O.BIFFVer]||8),T.biffguess=O.BIFFVer==0,O.BIFFVer==0&&O.dt==4096&&(T.biff=5,ie=!0,_o(T.codepage=28591)),T.biff==8&&O.BIFFVer==0&&O.dt==16&&(T.biff=2),ee++)break;if(s=r.dense?[]:{},T.biff<8&&!ie&&(ie=!0,_o(T.codepage=r.codepage||1252)),T.biff<5||O.BIFFVer==0&&O.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Me={pos:e.l-ae,name:d};i[Me.pos]=Me,T.snames.push(d)}else d=(i[oe]||{name:""}).name;O.dt==32&&(s["!type"]="chart"),O.dt==64&&(s["!type"]="macro"),q=[],L=[],T.arrayf=b=[],I=[],z=[],F=!1,E={Hidden:(i[oe]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(r.dense?(s[O.r]||[])[O.c]:s[Ft({c:O.c,r:O.r})])&&++O.c,_={ixfe:O.ixfe,XF:j[O.ixfe]||{},v:O.val,t:"n"},P>0&&(_.z=J[_.ixfe>>8&63]),Ko(_,r,n.opts.Date1904),D({c:O.c,r:O.r},_,r);break;case 5:case 517:_={ixfe:O.ixfe,XF:j[O.ixfe],v:O.val,t:O.t},P>0&&(_.z=J[_.ixfe>>8&63]),Ko(_,r,n.opts.Date1904),D({c:O.c,r:O.r},_,r);break;case 638:_={ixfe:O.ixfe,XF:j[O.ixfe],v:O.rknum,t:"n"},P>0&&(_.z=J[_.ixfe>>8&63]),Ko(_,r,n.opts.Date1904),D({c:O.c,r:O.r},_,r);break;case 189:for(var He=O.c;He<=O.C;++He){var Pe=O.rkrec[He-O.c][0];_={ixfe:Pe,XF:j[Pe],v:O.rkrec[He-O.c][1],t:"n"},P>0&&(_.z=J[_.ixfe>>8&63]),Ko(_,r,n.opts.Date1904),D({c:He,r:O.r},_,r)}break;case 6:case 518:case 1030:{if(O.val=="String"){c=O;break}if(_=v1(O.val,O.cell.ixfe,O.tt),_.XF=j[_.ixfe],r.cellFormula){var bt=O.formula;if(bt&&bt[0]&&bt[0][0]&&bt[0][0][0]=="PtgExp"){var pt=bt[0][0][1][0],se=bt[0][0][1][1],he=Ft({r:pt,c:se});w[he]?_.f=""+Pa(O.formula,o,O.cell,M,T):_.F=((r.dense?(s[pt]||[])[se]:s[he])||{}).F}else _.f=""+Pa(O.formula,o,O.cell,M,T)}P>0&&(_.z=J[_.ixfe>>8&63]),Ko(_,r,n.opts.Date1904),D(O.cell,_,r),c=O}break;case 7:case 519:if(c)c.val=O,_=v1(O,c.cell.ixfe,"s"),_.XF=j[_.ixfe],r.cellFormula&&(_.f=""+Pa(c.formula,o,c.cell,M,T)),P>0&&(_.z=J[_.ixfe>>8&63]),Ko(_,r,n.opts.Date1904),D(c.cell,_,r),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(O);var B=Ft(O[0].s);if(p=r.dense?(s[O[0].s.r]||[])[O[0].s.c]:s[B],r.cellFormula&&p){if(!c||!B||!p)break;p.f=""+Pa(O[1],o,O[0],M,T),p.F=sr(O[0])}}break;case 1212:{if(!r.cellFormula)break;if(m){if(!c)break;w[Ft(c.cell)]=O[0],p=r.dense?(s[c.cell.r]||[])[c.cell.c]:s[Ft(c.cell)],(p||{}).f=""+Pa(O[0],o,h,M,T)}}break;case 253:_=v1(u[O.isst].t,O.ixfe,"s"),u[O.isst].h&&(_.h=u[O.isst].h),_.XF=j[_.ixfe],P>0&&(_.z=J[_.ixfe>>8&63]),Ko(_,r,n.opts.Date1904),D({c:O.c,r:O.r},_,r);break;case 513:r.sheetStubs&&(_={ixfe:O.ixfe,XF:j[O.ixfe],t:"z"},P>0&&(_.z=J[_.ixfe>>8&63]),Ko(_,r,n.opts.Date1904),D({c:O.c,r:O.r},_,r));break;case 190:if(r.sheetStubs)for(var ue=O.c;ue<=O.C;++ue){var be=O.ixfe[ue-O.c];_={ixfe:be,XF:j[be],t:"z"},P>0&&(_.z=J[_.ixfe>>8&63]),Ko(_,r,n.opts.Date1904),D({c:ue,r:O.r},_,r)}break;case 214:case 516:case 4:_=v1(O.val,O.ixfe,"s"),_.XF=j[_.ixfe],P>0&&(_.z=J[_.ixfe>>8&63]),Ko(_,r,n.opts.Date1904),D({c:O.c,r:O.r},_,r);break;case 0:case 512:ee===1&&(o=O);break;case 252:u=O;break;case 1054:if(T.biff==4){J[P++]=O[1];for(var ve=0;ve<P+163&&zt[ve]!=O[1];++ve);ve>=163&&sf(O[1],P+163)}else sf(O[1],O[0]);break;case 30:{J[P++]=O;for(var Be=0;Be<P+163&&zt[Be]!=O;++Be);Be>=163&&sf(O,P+163)}break;case 229:q=q.concat(O);break;case 93:L[O.cmo[0]]=T.lastobj=O;break;case 438:T.lastobj.TxO=O;break;case 127:T.lastobj.ImData=O;break;case 440:for(x=O[0].s.r;x<=O[0].e.r;++x)for(v=O[0].s.c;v<=O[0].e.c;++v)p=r.dense?(s[x]||[])[v]:s[Ft({c:v,r:x})],p&&(p.l=O[1]);break;case 2048:for(x=O[0].s.r;x<=O[0].e.r;++x)for(v=O[0].s.c;v<=O[0].e.c;++v)p=r.dense?(s[x]||[])[v]:s[Ft({c:v,r:x})],p&&p.l&&(p.l.Tooltip=O[1]);break;case 28:{if(T.biff<=5&&T.biff>=2)break;p=r.dense?(s[O[0].r]||[])[O[0].c]:s[Ft(O[0])];var je=L[O[2]];p||(r.dense?(s[O[0].r]||(s[O[0].r]=[]),p=s[O[0].r][O[0].c]={t:"z"}):p=s[Ft(O[0])]={t:"z"},o.e.r=Math.max(o.e.r,O[0].r),o.s.r=Math.min(o.s.r,O[0].r),o.e.c=Math.max(o.e.c,O[0].c),o.s.c=Math.min(o.s.c,O[0].c)),p.c||(p.c=[]),g={a:O[1],t:je.TxO.t},p.c.push(g)}break;case 2173:Hze(j[O.ixfe],O.ext);break;case 125:{if(!T.cellStyles)break;for(;O.e>=O.s;)I[O.e--]={width:O.w/256,level:O.level||0,hidden:!!(O.flags&1)},F||(F=!0,k4(O.w/256)),wp(I[O.e+1])}break;case 520:{var ke={};O.level!=null&&(z[O.r]=ke,ke.level=O.level),O.hidden&&(z[O.r]=ke,ke.hidden=!0),O.hpt&&(z[O.r]=ke,ke.hpt=O.hpt,ke.hpx=ex(O.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||Og(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ye]]=O;break;case 161:s["!margins"]||Og(s["!margins"]={}),s["!margins"].header=O.header,s["!margins"].footer=O.footer;break;case 574:O.RTL&&(k.Views[0].RTL=!0);break;case 146:N=O;break;case 2198:W=O;break;case 140:S=O;break;case 442:d?E.CodeName=O||E.name:k.WBProps.CodeName=O||"ThisWorkbook";break}}else Q||console.error("Missing Info for XLS Record 0x"+ye.toString(16)),e.l+=ae}return n.SheetNames=El(i).sort(function(me,Ee){return Number(me)-Number(Ee)}).map(function(me){return i[me].name}),r.bookSheets||(n.Sheets=a),!n.SheetNames.length&&f["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=f)):n.Preamble=f,n.Sheets&&V.forEach(function(me,Ee){n.Sheets[n.SheetNames[Ee]]["!autofilter"]=me}),n.Strings=u,n.SSF=pa(zt),T.enc&&(n.Encryption=T.enc),W&&(n.Themes=W),n.Metadata={},S!==void 0&&(n.Metadata.Country=S),M.names.length>0&&(k.Names=M.names),n.Workbook=k,n}var Y5={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function jKe(e,r,n){var a=ar.find(e,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var s=P5(a,U9e,Y5.DSI);for(var i in s)r[i]=s[i]}catch(d){if(n.WTF)throw d}var o=ar.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var c=P5(o,V9e,Y5.SI);for(var u in c)r[u]==null&&(r[u]=c[u])}catch(d){if(n.WTF)throw d}r.HeadingPairs&&r.TitlesOfParts&&(GX(r.HeadingPairs,r.TitlesOfParts,r,n),delete r.HeadingPairs,delete r.TitlesOfParts)}function OJ(e,r){r||(r={}),A4(r),iX(),r.codepage&&l4(r.codepage);var n,a;if(e.FullPaths){if(ar.find(e,"/encryption"))throw new Error("File is password-protected");n=ar.find(e,"!CompObj"),a=ar.find(e,"/Workbook")||ar.find(e,"/Book")}else{switch(r.type){case"base64":e=yo(vi(e));break;case"binary":e=yo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ca(e,0),a={content:e}}var s,i;if(n&&bKe(n),r.bookProps&&!r.bookSheets)s={};else{var o=tr?"buffer":"array";if(a&&a.content)s=SKe(a.content,r);else if((i=ar.find(e,"PerfectOffice_MAIN"))&&i.content)s=Tg.to_workbook(i.content,(r.type=o,r));else if((i=ar.find(e,"NativeContent_MAIN"))&&i.content)s=Tg.to_workbook(i.content,(r.type=o,r));else throw(i=ar.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");r.bookVBA&&e.FullPaths&&ar.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=cWe(e))}var c={};return e.FullPaths&&jKe(e,c,r),s.Props=s.Custprops=c,r.bookFiles&&(s.cfb=e),s}var t_={0:{f:sqe},1:{f:cqe},2:{f:xqe},3:{f:hqe},4:{f:dqe},5:{f:vqe},6:{f:wqe},7:{f:pqe},8:{f:Nqe},9:{f:kqe},10:{f:Sqe},11:{f:jqe},12:{f:uqe},13:{f:yqe},14:{f:mqe},15:{f:fqe},16:{f:NJ},17:{f:_qe},18:{f:gqe},19:{f:y4},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Zqe},40:{},42:{},43:{f:Sze},44:{f:_ze},45:{f:jze},46:{f:Nze},47:{f:kze},48:{},49:{f:C9e},50:{},51:{f:Kze},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:iJ},62:{f:bqe},63:{f:Qze},64:{f:Iqe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:za,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Rqe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:lqe},148:{f:iqe,p:16},151:{f:Tqe},152:{},153:{f:Jqe},154:{},155:{},156:{f:Xqe},157:{},158:{},159:{T:1,f:VVe},160:{T:-1},161:{T:1,f:Yf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Cqe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:qze},336:{T:-1},337:{f:Gze,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:sT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:sJ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Aqe},427:{f:Oqe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Dqe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:oqe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Eqe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:sT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:iWe},633:{T:1},634:{T:-1},635:{T:1,f:sWe},636:{T:-1},637:{f:T9e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Uqe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Mqe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},uT={6:{f:bN},10:{f:Wc},12:{f:En},13:{f:En},14:{f:hn},15:{f:hn},16:{f:Ma},17:{f:hn},18:{f:hn},19:{f:En},20:{f:M5},21:{f:M5},23:{f:sJ},24:{f:L5},25:{f:hn},26:{},27:{},28:{f:nVe},29:{},34:{f:hn},35:{f:F5},38:{f:Ma},39:{f:Ma},40:{f:Ma},41:{f:Ma},42:{f:hn},43:{f:hn},47:{f:oze},49:{f:L7e},51:{f:En},60:{},61:{f:I7e},64:{f:hn},65:{f:F7e},66:{f:En},77:{},80:{},81:{},82:{},85:{f:En},89:{},90:{},91:{},92:{f:C7e},93:{f:sVe},94:{},95:{f:hn},96:{},97:{},99:{f:hn},125:{f:iJ},128:{f:G7e},129:{f:E7e},130:{f:En},131:{f:hn},132:{f:hn},133:{f:T7e},134:{},140:{f:dVe},141:{f:En},144:{},146:{f:hVe},151:{},152:{},153:{},154:{},155:{},156:{f:En},157:{},158:{},160:{f:xVe},161:{f:pVe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:W7e},190:{f:H7e},193:{f:Wc},197:{},198:{},199:{},200:{},201:{},202:{f:hn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:En},220:{},221:{f:hn},222:{},224:{f:K7e},225:{f:N7e},226:{f:Wc},227:{},229:{f:aVe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:A7e},253:{f:$7e},255:{f:O7e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:ZX},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:hn},353:{f:Wc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:X7e},431:{f:hn},432:{},433:{},434:{},437:{},438:{f:lVe},439:{f:hn},440:{f:cVe},441:{},442:{f:ey},443:{},444:{f:En},445:{},446:{},448:{f:Wc},449:{f:R7e,r:2},450:{f:Wc},512:{f:R5},513:{f:vVe},515:{f:Y7e},516:{f:B7e},517:{f:I5},519:{f:yVe},520:{f:P7e},523:{},545:{f:$5},549:{f:D5},566:{},574:{f:M7e},638:{f:z7e},659:{},1048:{},1054:{f:U7e},1084:{},1212:{f:eVe},2048:{f:uVe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:m1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Wc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:mVe,r:12},2173:{f:Wze,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:hn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Z7e,r:12},2197:{},2198:{f:Lze,r:12},2199:{},2200:{},2201:{},2202:{f:tVe,r:12},2203:{f:Wc},2204:{},2205:{},2206:{},2207:{},2211:{f:D7e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:En},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:gVe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:fVe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:R5},1:{},2:{f:SVe},3:{f:_Ve},4:{f:wVe},5:{f:I5},7:{f:jVe},8:{},9:{f:m1},11:{},22:{f:En},30:{f:V7e},31:{},32:{},33:{f:$5},36:{},37:{f:D5},50:{f:kVe},62:{},52:{},67:{},68:{f:En},69:{},86:{},126:{},127:{f:bVe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:NVe},223:{},234:{},354:{},421:{},518:{f:bN},521:{f:m1},536:{f:L5},547:{f:F5},561:{},579:{},1030:{f:bN},1033:{f:m1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ro(e,r,n,a){var s=r;if(!isNaN(s)){var i=(n||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&BX(n)&&e.push(n)}}function X5(e,r){var n=r||{},a=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var s=e.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=s.index,c=i&&i.index||e.length,u=YUe(e.slice(o,c),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,f=0,h=0,m=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(o=0;o<u.length;++o){var v=u[o].trim(),x=v.slice(0,3).toLowerCase();if(x=="<tr"){if(++d,n.sheetRows&&n.sheetRows<=d){--d;break}f=0;continue}if(!(x!="<td"&&x!="<th")){var w=v.split(/<\/t[dh]>/i);for(c=0;c<w.length;++c){var b=w[c].trim();if(b.match(/<t[dh]/i)){for(var _=b,S=0;_.charAt(0)=="<"&&(S=_.indexOf(">"))>-1;)_=_.slice(S+1);for(var j=0;j<g.length;++j){var N=g[j];N.s.c==f&&N.s.r<d&&d<=N.e.r&&(f=N.e.c+1,j=-1)}var k=Pt(b.slice(0,b.indexOf(">")));m=k.colspan?+k.colspan:1,((h=+k.rowspan)>1||m>1)&&g.push({s:{r:d,c:f},e:{r:d+(h||1)-1,c:f+m-1}});var E=k.t||k["data-t"]||"";if(!_.length){f+=m;continue}if(_=CX(_),p.s.r>d&&(p.s.r=d),p.e.r<d&&(p.e.r=d),p.s.c>f&&(p.s.c=f),p.e.c<f&&(p.e.c=f),!_.length){f+=m;continue}var C={t:"s",v:_};n.raw||!_.trim().length||E=="s"||(_==="TRUE"?C={t:"b",v:!0}:_==="FALSE"?C={t:"b",v:!1}:isNaN(Co(_))?isNaN(bp(_).getDate())||(C={t:"d",v:ra(_)},n.cellDates||(C={t:"n",v:ms(C.v)}),C.z=n.dateNF||zt[14]):C={t:"n",v:Co(_)}),n.dense?(a[d]||(a[d]=[]),a[d][f]=C):a[Ft({r:d,c:f})]=C,f+=m}}}}return a["!ref"]=sr(p),g.length&&(a["!merges"]=g),a}function kKe(e,r,n,a){for(var s=e["!merges"]||[],i=[],o=r.s.c;o<=r.e.c;++o){for(var c=0,u=0,d=0;d<s.length;++d)if(!(s[d].s.r>n||s[d].s.c>o)&&!(s[d].e.r<n||s[d].e.c<o)){if(s[d].s.r<n||s[d].s.c<o){c=-1;break}c=s[d].e.r-s[d].s.r+1,u=s[d].e.c-s[d].s.c+1;break}if(!(c<0)){var f=Ft({r:n,c:o}),h=a.dense?(e[n]||[])[o]:e[f],m=h&&h.v!=null&&(h.h||m4(h.w||(Cc(h),h.w)||""))||"",p={};c>1&&(p.rowspan=c),u>1&&(p.colspan=u),a.editable?m='<span contenteditable="true">'+m+"</span>":h&&(p["data-t"]=h&&h.t||"z",h.v!=null&&(p["data-v"]=h.v),h.z!=null&&(p["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+h.l.Target+'">'+m+"</a>")),p.id=(a.id||"sjs")+"-"+f,i.push(d9e("td",m,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var NKe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',CKe="</body></html>";function EKe(e,r){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return od(X5(n[0],r),r);var a=P4();return n.forEach(function(s,i){D4(a,X5(s,r),"Sheet"+(i+1))}),a}function TKe(e,r,n){var a=[];return a.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function AKe(e,r){var n=r||{},a=n.header!=null?n.header:NKe,s=n.footer!=null?n.footer:CKe,i=[a],o=l0(e["!ref"]);n.dense=Array.isArray(e),i.push(TKe(e,o,n));for(var c=o.s.r;c<=o.e.r;++c)i.push(kKe(e,o,c,n));return i.push("</table>"+s),i.join("")}function PJ(e,r,n){var a=n||{},s=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")s=a.origin;else{var o=typeof a.origin=="string"?us(a.origin):a.origin;s=o.r,i=o.c}var c=r.getElementsByTagName("tr"),u=Math.min(a.sheetRows||1e7,c.length),d={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var f=l0(e["!ref"]);d.s.r=Math.min(d.s.r,f.s.r),d.s.c=Math.min(d.s.c,f.s.c),d.e.r=Math.max(d.e.r,f.e.r),d.e.c=Math.max(d.e.c,f.e.c),s==-1&&(d.e.r=s=f.e.r+1)}var h=[],m=0,p=e["!rows"]||(e["!rows"]=[]),g=0,v=0,x=0,w=0,b=0,_=0;for(e["!cols"]||(e["!cols"]=[]);g<c.length&&v<u;++g){var S=c[g];if(J5(S)){if(a.display)continue;p[v]={hidden:!0}}var j=S.children;for(x=w=0;x<j.length;++x){var N=j[x];if(!(a.display&&J5(N))){var k=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):CX(N.innerHTML),E=N.getAttribute("data-z")||N.getAttribute("z");for(m=0;m<h.length;++m){var C=h[m];C.s.c==w+i&&C.s.r<v+s&&v+s<=C.e.r&&(w=C.e.c+1-i,m=-1)}_=+N.getAttribute("colspan")||1,((b=+N.getAttribute("rowspan")||1)>1||_>1)&&h.push({s:{r:v+s,c:w+i},e:{r:v+s+(b||1)-1,c:w+i+(_||1)-1}});var A={t:"s",v:k},D=N.getAttribute("data-t")||N.getAttribute("t")||"";k!=null&&(k.length==0?A.t=D||"z":a.raw||k.trim().length==0||D=="s"||(k==="TRUE"?A={t:"b",v:!0}:k==="FALSE"?A={t:"b",v:!1}:isNaN(Co(k))?isNaN(bp(k).getDate())||(A={t:"d",v:ra(k)},a.cellDates||(A={t:"n",v:ms(A.v)}),A.z=a.dateNF||zt[14]):A={t:"n",v:Co(k)})),A.z===void 0&&E!=null&&(A.z=E);var T="",W=N.getElementsByTagName("A");if(W&&W.length)for(var q=0;q<W.length&&!(W[q].hasAttribute("href")&&(T=W[q].getAttribute("href"),T.charAt(0)!="#"));++q);T&&T.charAt(0)!="#"&&(A.l={Target:T}),a.dense?(e[v+s]||(e[v+s]=[]),e[v+s][w+i]=A):e[Ft({c:w+i,r:v+s})]=A,d.e.c<w+i&&(d.e.c=w+i),w+=_}}++v}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),d.e.r=Math.max(d.e.r,v-1+s),e["!ref"]=sr(d),v>=u&&(e["!fullref"]=sr((d.e.r=c.length-g+v-1+s,d))),e}function DJ(e,r){var n=r||{},a=n.dense?[]:{};return PJ(a,e,r)}function OKe(e,r){return od(DJ(e,r),r)}function J5(e){var r="",n=PKe(e);return n&&(r=n(e).getPropertyValue("display")),r||(r=e.style&&e.style.display),r==="none"}function PKe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function DKe(e){var r=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(a,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=cr(r.replace(/<[^>]*>/g,""));return[n]}var Q5={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function RJ(e,r){var n=r||{},a=p4(e),s=[],i,o,c={name:""},u="",d=0,f,h,m={},p=[],g=n.dense?[]:{},v,x,w={value:""},b="",_=0,S=[],j=-1,N=-1,k={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,C={},A=[],D={},T=0,W=0,q=[],L=1,I=1,z=[],F={Names:[]},M={},X=["",""],ee=[],P={},J="",V=0,K=!1,ie=!1,oe=0;for(Jv.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=Jv.exec(a);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(k.e.c>=k.s.c&&k.e.r>=k.s.r?g["!ref"]=sr(k):g["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=k.e.r&&(g["!fullref"]=g["!ref"],k.e.r=n.sheetRows-1,g["!ref"]=sr(k)),A.length&&(g["!merges"]=A),q.length&&(g["!rows"]=q),f.name=f.||f.name,typeof JSON<"u"&&JSON.stringify(f),p.push(f.name),m[f.name]=g,ie=!1):v[0].charAt(v[0].length-2)!=="/"&&(f=Pt(v[0],!1),j=N=-1,k.s.r=k.s.c=1e7,k.e.r=k.e.c=0,g=n.dense?[]:{},A=[],q=[],ie=!0);break;case"table-row-group":v[1]==="/"?--E:++E;break;case"table-row":case"":if(v[1]==="/"){j+=L,L=1;break}if(h=Pt(v[0],!1),h.?j=h.-1:j==-1&&(j=0),L=+h["number-rows-repeated"]||1,L<10)for(oe=0;oe<L;++oe)E>0&&(q[j+oe]={level:E});N=-1;break;case"covered-table-cell":v[1]!=="/"&&++N,n.sheetStubs&&(n.dense?(g[j]||(g[j]=[]),g[j][N]={t:"z"}):g[Ft({r:j,c:N})]={t:"z"}),b="",S=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++N,w=Pt(v[0],!1),I=parseInt(w["number-columns-repeated"]||"1",10),x={t:"z",v:null},w.formula&&n.cellFormula!=!1&&(x.f=q5(cr(w.formula))),(w.||w["value-type"])=="string"&&(x.t="s",x.v=cr(w["string-value"]||""),n.dense?(g[j]||(g[j]=[]),g[j][N]=x):g[Ft({r:j,c:N})]=x),N+=I-1;else if(v[1]!=="/"){++N,b="",_=0,S=[],I=1;var ye=L?j+L-1:j;if(N>k.e.c&&(k.e.c=N),N<k.s.c&&(k.s.c=N),j<k.s.r&&(k.s.r=j),ye>k.e.r&&(k.e.r=ye),w=Pt(v[0],!1),ee=[],P={},x={t:w.||w["value-type"],v:null},n.cellFormula)if(w.formula&&(w.formula=cr(w.formula)),w["number-matrix-columns-spanned"]&&w["number-matrix-rows-spanned"]&&(T=parseInt(w["number-matrix-rows-spanned"],10)||0,W=parseInt(w["number-matrix-columns-spanned"],10)||0,D={s:{r:j,c:N},e:{r:j+T-1,c:N+W-1}},x.F=sr(D),z.push([D,x.F])),w.formula)x.f=q5(w.formula);else for(oe=0;oe<z.length;++oe)j>=z[oe][0].s.r&&j<=z[oe][0].e.r&&N>=z[oe][0].s.c&&N<=z[oe][0].e.c&&(x.F=z[oe][1]);switch((w["number-columns-spanned"]||w["number-rows-spanned"])&&(T=parseInt(w["number-rows-spanned"],10)||0,W=parseInt(w["number-columns-spanned"],10)||0,D={s:{r:j,c:N},e:{r:j+T-1,c:N+W-1}},A.push(D)),w["number-columns-repeated"]&&(I=parseInt(w["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=qr(w["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(w.value);break;case"percentage":x.t="n",x.v=parseFloat(w.value);break;case"currency":x.t="n",x.v=parseFloat(w.value);break;case"date":x.t="d",x.v=ra(w["date-value"]),n.cellDates||(x.t="n",x.v=ms(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=qUe(w["time-value"])/86400,n.cellDates&&(x.t="d",x.v=oj(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(w.);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",w["string-value"]!=null&&(b=cr(w["string-value"]),S=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(K=!1,x.t==="s"&&(x.v=b||"",S.length&&(x.R=S),K=_==0),M.Target&&(x.l=M),ee.length>0&&(x.c=ee,ee=[]),b&&n.cellText!==!1&&(x.w=b),K&&(x.t="z",delete x.v),(!K||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=j))for(var ae=0;ae<L;++ae){if(I=parseInt(w["number-columns-repeated"]||"1",10),n.dense)for(g[j+ae]||(g[j+ae]=[]),g[j+ae][N]=ae==0?x:pa(x);--I>0;)g[j+ae][N+I]=pa(x);else for(g[Ft({r:j+ae,c:N})]=x;--I>0;)g[Ft({r:j+ae,c:N+I})]=pa(x);k.e.c<=N&&(k.e.c=N)}I=parseInt(w["number-columns-repeated"]||"1",10),N+=I-1,I=0,x={},b="",S=[]}M={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((i=s.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&s.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((i=s.pop())[0]!==v[3])throw"Bad state: "+i;P.t=b,S.length&&(P.R=S),P.a=J,ee.push(P)}else v[0].charAt(v[0].length-2)!=="/"&&s.push([v[3],!1]);J="",V=0,b="",_=0,S=[];break;case"creator":v[1]==="/"?J=a.slice(V,v.index):V=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((i=s.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&s.push([v[3],!1]);b="",_=0,S=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(C[c.name]=u,(i=s.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&(u="",c=Pt(v[0],!1),s.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":o=Pt(v[0],!1),u+=Q5[v[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":o=Pt(v[0],!1),u+=Q5[v[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":u+=a.slice(d,v.index);break}else d=v.index+v[0].length;break;case"named-range":o=Pt(v[0],!1),X=wN(o["cell-range-address"]);var Q={Name:o.name,Ref:X[0]+"!"+X[1]};ie&&(Q.Sheet=p.length),F.Names.push(Q);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(v[1]==="/"&&(!w||!w["string-value"])){var fe=DKe(a.slice(_,v.index));b=(b.length>0?b+`
`:"")+fe[0]}else Pt(v[0],!1),_=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{X=wN(Pt(v[0])["target-range-address"]),m[X[0]]["!autofilter"]={ref:X[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(M=Pt(v[0],!1),!M.href)break;M.Target=cr(M.href),delete M.href,M.Target.charAt(0)=="#"&&M.Target.indexOf(".")>-1?(X=wN(M.Target.slice(1)),M.Target="#"+X[0]+"!"+X[1]):M.Target.match(/^\.\.[\\\/]/)&&(M.Target=M.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(v)}}var O={Sheets:m,SheetNames:p,Workbook:F};return n.bookSheets&&delete O.Sheets,O}function Z5(e,r){r=r||{},Ti(e,"META-INF/manifest.xml")&&Y9e(Cn(e,"META-INF/manifest.xml"),r);var n=li(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var a=RJ(Fr(n),r);return Ti(e,"meta.xml")&&(a.Props=KX(Cn(e,"meta.xml"))),a}function e8(e,r){return RJ(e,r)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function E4(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function dT(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Fr(Kf(e))}function fT(e){var r=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(r),a=0;return e.forEach(function(s){n.set(s,a),a+=s.length}),n}function t8(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function RKe(e,r){for(var n=(e[r+15]&127)<<7|e[r+14]>>1,a=e[r+14]&1,s=r+13;s>=r;--s)a=a*256+e[s];return(e[r+15]&128?-a:a)*Math.pow(10,n-6176)}function tx(e,r){var n=r?r[0]:0,a=e[n]&127;e:if(e[n++]>=128&&(a|=(e[n]&127)<<7,e[n++]<128||(a|=(e[n]&127)<<14,e[n++]<128)||(a|=(e[n]&127)<<21,e[n++]<128)||(a+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(a+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(a+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return r&&(r[0]=n),a}function Kn(e){var r=0,n=e[r]&127;e:if(e[r++]>=128){if(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128))break e;n|=(e[r]&127)<<28}return n}function La(e){for(var r=[],n=[0];n[0]<e.length;){var a=n[0],s=tx(e,n),i=s&7;s=Math.floor(s/8);var o=0,c;if(s==0)break;switch(i){case 0:{for(var u=n[0];e[n[0]++]>=128;);c=e.slice(u,n[0])}break;case 5:o=4,c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=tx(e,n),c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(a))}var d={data:c,type:i};r[s]==null?r[s]=[d]:r[s].push(d)}return r}function T4(e,r){return(e==null?void 0:e.map(function(n){return r(n.data)}))||[]}function IKe(e){for(var r,n=[],a=[0];a[0]<e.length;){var s=tx(e,a),i=La(e.slice(a[0],a[0]+s));a[0]+=s;var o={id:Kn(i[1][0].data),messages:[]};i[2].forEach(function(c){var u=La(c.data),d=Kn(u[3][0].data);o.messages.push({meta:u,data:e.slice(a[0],a[0]+d)}),a[0]+=d}),(r=i[3])!=null&&r[0]&&(o.merge=Kn(i[3][0].data)>>>0>0),n.push(o)}return n}function MKe(e,r){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],a=tx(r,n),s=[];n[0]<r.length;){var i=r[n[0]]&3;if(i==0){var o=r[n[0]++]>>2;if(o<60)++o;else{var c=o-59;o=r[n[0]],c>1&&(o|=r[n[0]+1]<<8),c>2&&(o|=r[n[0]+2]<<16),c>3&&(o|=r[n[0]+3]<<24),o>>>=0,o++,n[0]+=c}s.push(r.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var u=0,d=0;if(i==1?(d=(r[n[0]]>>2&7)+4,u=(r[n[0]++]&224)<<3,u|=r[n[0]++]):(d=(r[n[0]++]>>2)+1,i==2?(u=r[n[0]]|r[n[0]+1]<<8,n[0]+=2):(u=(r[n[0]]|r[n[0]+1]<<8|r[n[0]+2]<<16|r[n[0]+3]<<24)>>>0,n[0]+=4)),s=[fT(s)],u==0)throw new Error("Invalid offset 0");if(u>s[0].length)throw new Error("Invalid offset beyond length");if(d>=u)for(s.push(s[0].slice(-u)),d-=u;d>=s[s.length-1].length;)s.push(s[s.length-1]),d-=s[s.length-1].length;s.push(s[0].slice(-u,-u+d))}}var f=fT(s);if(f.length!=a)throw new Error("Unexpected length: ".concat(f.length," != ").concat(a));return f}function FKe(e){for(var r=[],n=0;n<e.length;){var a=e[n++],s=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,r.push(MKe(a,e.slice(n,n+s))),n+=s}if(n!==e.length)throw new Error("data is not a valid framed stream!");return fT(r)}function LKe(e,r,n,a){var s=E4(e),i=s.getUint32(4,!0),o=(a>1?12:8)+t8(i&(a>1?3470:398))*4,c=-1,u=-1,d=NaN,f=new Date(2001,0,1);i&512&&(c=s.getUint32(o,!0),o+=4),o+=t8(i&(a>1?12288:4096))*4,i&16&&(u=s.getUint32(o,!0),o+=4),i&32&&(d=s.getFloat64(o,!0),o+=8),i&64&&(f.setTime(f.getTime()+s.getFloat64(o,!0)*1e3),o+=8);var h;switch(e[2]){case 0:break;case 2:h={t:"n",v:d};break;case 3:h={t:"s",v:r[u]};break;case 5:h={t:"d",v:f};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(c>-1)h={t:"s",v:n[c]};else if(u>-1)h={t:"s",v:r[u]};else if(!isNaN(d))h={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return h}function $Ke(e,r,n){var a=E4(e),s=a.getUint32(8,!0),i=12,o=-1,c=-1,u=NaN,d=NaN,f=new Date(2001,0,1);s&1&&(u=RKe(e,i),i+=16),s&2&&(d=a.getFloat64(i,!0),i+=8),s&4&&(f.setTime(f.getTime()+a.getFloat64(i,!0)*1e3),i+=8),s&8&&(c=a.getUint32(i,!0),i+=4),s&16&&(o=a.getUint32(i,!0),i+=4);var h;switch(e[1]){case 0:break;case 2:h={t:"n",v:u};break;case 3:h={t:"s",v:r[c]};break;case 5:h={t:"d",v:f};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)));break;case 10:h={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)))}return h}function BKe(e,r,n){switch(e[0]){case 0:case 1:case 2:case 3:return LKe(e,r,n,e[0]);case 5:return $Ke(e,r,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Ru(e){var r=La(e);return tx(r[1][0].data)}function r8(e,r){var n=La(r.data),a=Kn(n[1][0].data),s=n[3],i=[];return(s||[]).forEach(function(o){var c=La(o.data),u=Kn(c[1][0].data)>>>0;switch(a){case 1:i[u]=dT(c[3][0].data);break;case 8:{var d=e[Ru(c[9][0].data)][0],f=La(d.data),h=e[Ru(f[1][0].data)][0],m=Kn(h.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var p=La(h.data);i[u]=p[3].map(function(g){return dT(g.data)}).join("")}break}}),i}function UKe(e,r){var n,a,s,i,o,c,u,d,f,h,m,p,g,v,x=La(e),w=Kn(x[1][0].data)>>>0,b=Kn(x[2][0].data)>>>0,_=((a=(n=x[8])==null?void 0:n[0])==null?void 0:a.data)&&Kn(x[8][0].data)>0||!1,S,j;if((i=(s=x[7])==null?void 0:s[0])!=null&&i.data&&r!=0)S=(c=(o=x[7])==null?void 0:o[0])==null?void 0:c.data,j=(d=(u=x[6])==null?void 0:u[0])==null?void 0:d.data;else if((h=(f=x[4])==null?void 0:f[0])!=null&&h.data&&r!=1)S=(p=(m=x[4])==null?void 0:m[0])==null?void 0:p.data,j=(v=(g=x[3])==null?void 0:g[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(r," cell storage");for(var N=_?4:1,k=E4(S),E=[],C=0;C<S.length/2;++C){var A=k.getUint16(C*2,!0);A<65535&&E.push([C,A])}if(E.length!=b)throw"Expected ".concat(b," cells, found ").concat(E.length);var D=[];for(C=0;C<E.length-1;++C)D[E[C][0]]=j.subarray(E[C][1]*N,E[C+1][1]*N);return E.length>=1&&(D[E[E.length-1][0]]=j.subarray(E[E.length-1][1]*N)),{R:w,cells:D}}function VKe(e,r){var n,a=La(r.data),s=(n=a==null?void 0:a[7])!=null&&n[0]?Kn(a[7][0].data)>>>0>0?1:0:-1,i=T4(a[5],function(o){return UKe(o,s)});return{nrows:Kn(a[4][0].data)>>>0,data:i.reduce(function(o,c){return o[c.R]||(o[c.R]=[]),c.cells.forEach(function(u,d){if(o[c.R][d])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(d));o[c.R][d]=u}),o},[])}}function zKe(e,r,n){var a,s=La(r.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Kn(s[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(i.e.c=(Kn(s[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));n["!ref"]=sr(i);var o=La(s[4][0].data),c=r8(e,e[Ru(o[4][0].data)][0]),u=(a=o[17])!=null&&a[0]?r8(e,e[Ru(o[17][0].data)][0]):[],d=La(o[3][0].data),f=0;d[1].forEach(function(h){var m=La(h.data),p=e[Ru(m[2][0].data)][0],g=Kn(p.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var v=VKe(e,p);v.data.forEach(function(x,w){x.forEach(function(b,_){var S=Ft({r:f+w,c:_}),j=BKe(b,c,u);j&&(n[S]=j)})}),f+=v.nrows})}function WKe(e,r){var n=La(r.data),a={"!ref":"A1"},s=e[Ru(n[2][0].data)],i=Kn(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return zKe(e,s[0],a),a}function HKe(e,r){var n,a=La(r.data),s={name:(n=a[1])!=null&&n[0]?dT(a[1][0].data):"",sheets:[]},i=T4(a[2],Ru);return i.forEach(function(o){e[o].forEach(function(c){var u=Kn(c.meta[1][0].data);u==6e3&&s.sheets.push(WKe(e,c))})}),s}function qKe(e,r){var n=P4(),a=La(r.data),s=T4(a[1],Ru);if(s.forEach(function(i){e[i].forEach(function(o){var c=Kn(o.meta[1][0].data);if(c==2){var u=HKe(e,o);u.sheets.forEach(function(d,f){D4(n,d,f==0?u.name:u.name+"_"+f,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function SN(e){var r,n,a,s,i={},o=[];if(e.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var d;try{d=FKe(u.content)}catch(h){return console.log("?? "+u.content.length+" "+(h.message||h))}var f;try{f=IKe(d)}catch(h){return console.log("## "+(h.message||h))}f.forEach(function(h){i[h.id]=h.messages,o.push(h.id)})}}),!o.length)throw new Error("File has no messages");var c=((s=(a=(n=(r=i==null?void 0:i[1])==null?void 0:r[0])==null?void 0:n.meta)==null?void 0:a[1])==null?void 0:s[0].data)&&Kn(i[1][0].meta[1][0].data)==1&&i[1][0];if(c||o.forEach(function(u){i[u].forEach(function(d){var f=Kn(d.meta[1][0].data)>>>0;if(f==1)if(!c)c=d;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return qKe(i,c)}function KKe(e){return function(n){for(var a=0;a!=e.length;++a){var s=e[a];n[s[0]]===void 0&&(n[s[0]]=s[1]),s[2]==="n"&&(n[s[0]]=Number(n[s[0]]))}}}function A4(e){KKe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function GKe(e){return Kh.WS.indexOf(e)>-1?"sheet":e==Kh.CS?"chart":e==Kh.DS?"dialog":e==Kh.MS?"macro":e&&e.length?e:"sheet"}function YKe(e,r){if(!e)return 0;try{e=r.map(function(a){return a.id||(a.id=a.strRelID),[a.name,e["!id"][a.id].Target,GKe(e["!id"][a.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function XKe(e,r,n,a,s,i,o,c,u,d,f,h){try{i[a]=Cg(li(e,n,!0),r);var m=Cn(e,r),p;switch(c){case"sheet":p=rKe(m,r,s,u,i[a],d,f,h);break;case"chart":if(p=nKe(m,r,s,u,i[a],d,f,h),!p||!p["!drawel"])break;var g=X0(p["!drawel"].Target,r),v=iT(g),x=tWe(li(e,g,!0),Cg(li(e,v,!0),g)),w=X0(x,g),b=iT(w);p=$qe(li(e,w,!0),w,u,Cg(li(e,b,!0),w),d,p);break;case"macro":p=aKe(m,r,s,u,i[a],d,f,h);break;case"dialog":p=sKe(m,r,s,u,i[a],d,f,h);break;default:throw new Error("Unrecognized sheet type "+c)}o[a]=p;var _=[];i&&i[a]&&El(i[a]).forEach(function(S){var j="";if(i[a][S].Type==Kh.CMNT){j=X0(i[a][S].Target,r);var N=cKe(Cn(e,j,!0),j,u);if(!N||!N.length)return;U5(p,N,!1)}i[a][S].Type==Kh.TCMNT&&(j=X0(i[a][S].Target,r),_=_.concat(nWe(Cn(e,j,!0),u)))}),_&&_.length&&U5(p,_,!0,u.people||[])}catch(S){if(u.WTF)throw S}}function Ni(e){return e.charAt(0)=="/"?e.slice(1):e}function JKe(e,r){if(xX(),r=r||{},A4(r),Ti(e,"META-INF/manifest.xml")||Ti(e,"objectdata.xml"))return Z5(e,r);if(Ti(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof SN<"u"){if(e.FileIndex)return SN(e);var n=ar.utils.cfb_new();return m5(e).forEach(function(q){QUe(n,q,JUe(e,q))}),SN(n)}throw new Error("Unsupported NUMBERS file")}if(!Ti(e,"[Content_Types].xml"))throw Ti(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ti(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var a=m5(e),s=K9e(li(e,"[Content_Types].xml")),i=!1,o,c;if(s.workbooks.length===0&&(c="xl/workbook.xml",Cn(e,c,!0)&&s.workbooks.push(c)),s.workbooks.length===0){if(c="xl/workbook.bin",!Cn(e,c,!0))throw new Error("Could not find workbook");s.workbooks.push(c),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var u={},d={};if(!r.bookSheets&&!r.bookProps){if(Ag=[],s.sst)try{Ag=lKe(Cn(e,Ni(s.sst)),s.sst,r)}catch(q){if(r.WTF)throw q}r.cellStyles&&s.themes.length&&(u=oKe(li(e,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],r)),s.style&&(d=iKe(Cn(e,Ni(s.style)),s.style,u,r))}s.links.map(function(q){try{var L=Cg(li(e,iT(Ni(q))),q);return dKe(Cn(e,Ni(q)),L,q,r)}catch{}});var f=tKe(Cn(e,Ni(s.workbooks[0])),s.workbooks[0],r),h={},m="";s.coreprops.length&&(m=Cn(e,Ni(s.coreprops[0]),!0),m&&(h=KX(m)),s.extprops.length!==0&&(m=Cn(e,Ni(s.extprops[0]),!0),m&&Q9e(m,h,r)));var p={};(!r.bookSheets||r.bookProps)&&s.custprops.length!==0&&(m=li(e,Ni(s.custprops[0]),!0),m&&(p=e7e(m,r)));var g={};if((r.bookSheets||r.bookProps)&&(f.Sheets?o=f.Sheets.map(function(L){return L.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),r.bookProps&&(g.Props=h,g.Custprops=p),r.bookSheets&&typeof o<"u"&&(g.SheetNames=o),r.bookSheets?g.SheetNames:r.bookProps))return g;o={};var v={};r.bookDeps&&s.calcchain&&(v=uKe(Cn(e,Ni(s.calcchain)),s.calcchain));var x=0,w={},b,_;{var S=f.Sheets;h.Worksheets=S.length,h.SheetNames=[];for(var j=0;j!=S.length;++j)h.SheetNames[j]=S[j].name}var N=i?"bin":"xml",k=s.workbooks[0].lastIndexOf("/"),E=(s.workbooks[0].slice(0,k+1)+"_rels/"+s.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");Ti(e,E)||(E="xl/_rels/workbook."+N+".rels");var C=Cg(li(e,E,!0),E.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(r.xlmeta=fKe(Cn(e,Ni(s.metadata[0])),s.metadata[0],r)),(s.people||[]).length>=1&&(r.people=aWe(Cn(e,Ni(s.people[0])),r)),C&&(C=YKe(C,f.Sheets));var A=Cn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=h.Worksheets;++x){var D="sheet";if(C&&C[x]?(b="xl/"+C[x][1].replace(/[\/]?xl\//,""),Ti(e,b)||(b=C[x][1]),Ti(e,b)||(b=E.replace(/_rels\/.*$/,"")+C[x][1]),D=C[x][2]):(b="xl/worksheets/sheet"+(x+1-A)+"."+N,b=b.replace(/sheet0\./,"sheet.")),_=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),r&&r.sheets!=null)switch(typeof r.sheets){case"number":if(x!=r.sheets)continue e;break;case"string":if(h.SheetNames[x].toLowerCase()!=r.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(r.sheets)){for(var T=!1,W=0;W!=r.sheets.length;++W)typeof r.sheets[W]=="number"&&r.sheets[W]==x&&(T=1),typeof r.sheets[W]=="string"&&r.sheets[W].toLowerCase()==h.SheetNames[x].toLowerCase()&&(T=1);if(!T)continue e}}XKe(e,b,_,h.SheetNames[x],x,w,o,D,r,f,u,d)}return g={Directory:s,Workbook:f,Props:h,Custprops:p,Deps:v,Sheets:o,SheetNames:h.SheetNames,Strings:Ag,Styles:d,Themes:u,SSF:pa(zt)},r&&r.bookFiles&&(e.files?(g.keys=a,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(q,L){q=q.replace(/^Root Entry[\/]/,""),g.keys.push(q),g.files[q]=e.FileIndex[L]}))),r&&r.bookVBA&&(s.vba.length>0?g.vbaraw=Cn(e,Ni(s.vba[0]),!0):s.defaults&&s.defaults.bin===lWe&&(g.vbaraw=Cn(e,"xl/vbaProject.bin",!0))),g}function QKe(e,r){var n=r||{},a="Workbook",s=ar.find(e,a);try{if(a="/!DataSpaces/Version",s=ar.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(WVe(s.content),a="/!DataSpaces/DataSpaceMap",s=ar.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var i=qVe(s.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=ar.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var o=KVe(s.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=ar.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);YVe(s.content)}catch{}if(a="/EncryptionInfo",s=ar.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var c=XVe(s.content);if(a="/EncryptedPackage",s=ar.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],s.content,n.password||"",n);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],s.content,n.password||"",n);throw new Error("File is password-protected")}function O4(e,r){var n="";switch((r||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=vi(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(r&&r.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function ZKe(e,r){return ar.find(e,"EncryptedPackage")?QKe(e,r):OJ(e,r)}function eGe(e,r){var n,a=e,s=r||{};return s.type||(s.type=tr&&Buffer.isBuffer(e)?"buffer":"base64"),n=jX(a,s),JKe(n,s)}function IJ(e,r){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return cT(e.slice(n),r);default:break e}return Qv.to_workbook(e,r)}function tGe(e,r){var n="",a=O4(e,r);switch(r.type){case"base64":n=vi(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=Of(e);break;default:throw new Error("Unrecognized type "+r.type)}return a[0]==239&&a[1]==187&&a[2]==191&&(n=Fr(n)),r.type="binary",IJ(n,r)}function rGe(e,r){var n=e;return r.type=="base64"&&(n=vi(n)),n=nu.utils.decode(1200,n.slice(2),"str"),r.type="binary",IJ(n,r)}function nGe(e){return e.match(/[^\x00-\x7F]/)?J0(e):e}function jN(e,r,n,a){return a?(n.type="string",Qv.to_workbook(e,n)):Qv.to_workbook(r,n)}function hT(e,r){iX();var n=r||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return hT(new Uint8Array(e),(n=pa(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var a=e,s=[0,0,0,0],i=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),hm={},n.dateNF&&(hm.dateNF=n.dateNF),n.type||(n.type=tr&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=tr?"buffer":"binary",a=WUe(e),typeof Uint8Array<"u"&&!tr&&(n.type="array")),n.type=="string"&&(i=!0,n.type="binary",n.codepage=65001,a=nGe(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),c=new Uint8Array(o);if(c.foo="bar",!c.foo)return n=pa(n),n.type="array",hT(c4(a),n)}switch((s=O4(a,n))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return ZKe(ar.read(a,n),n);break;case 9:if(s[1]<=8)return OJ(a,n);break;case 60:return cT(a,n);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return OVe(a,n);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return TVe.to_workbook(a,n);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?eGe(a,n):jN(e,a,n,i);case 239:return s[3]===60?cT(a,n):jN(e,a,n,i);case 255:if(s[1]===254)return rGe(a,n);if(s[1]===0&&s[2]===2&&s[3]===0)return Tg.to_workbook(a,n);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return Tg.to_workbook(a,n);break;case 3:case 131:case 139:case 140:return B5.to_workbook(a,n);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return lze.to_workbook(a,n);break;case 10:case 13:case 32:return tGe(a,n);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return CVe.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?B5.to_workbook(a,n):jN(e,a,n,i)}function aGe(e,r,n,a,s,i,o,c){var u=ga(n),d=c.defval,f=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),h=!0,m=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:n,enumerable:!1})}catch{m.__rowNum__=n}else m.__rowNum__=n;if(!o||e[n])for(var p=r.s.c;p<=r.e.c;++p){var g=o?e[n][p]:e[a[p]+u];if(g===void 0||g.t===void 0){if(d===void 0)continue;i[p]!=null&&(m[i[p]]=d);continue}var v=g.v;switch(g.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(v==null)if(g.t=="e"&&v===null)m[i[p]]=null;else if(d!==void 0)m[i[p]]=d;else if(f&&v===null)m[i[p]]=null;else continue;else m[i[p]]=f&&(g.t!=="n"||g.t==="n"&&c.rawNumbers!==!1)?v:Cc(g,v,c);v!=null&&(h=!1)}}return{row:m,isempty:h}}function mT(e,r){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},a=0,s=1,i=[],o=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},d=r||{},f=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)?a=3:d.header==null&&(a=0),typeof f){case"string":u=fn(f);break;case"number":u=fn(e["!ref"]),u.s.r=f;break;default:u=f}a>0&&(s=0);var h=ga(u.s.r),m=[],p=[],g=0,v=0,x=Array.isArray(e),w=u.s.r,b=0,_={};x&&!e[w]&&(e[w]=[]);var S=d.skipHidden&&e["!cols"]||[],j=d.skipHidden&&e["!rows"]||[];for(b=u.s.c;b<=u.e.c;++b)if(!(S[b]||{}).hidden)switch(m[b]=qn(b),n=x?e[w][b]:e[m[b]+h],a){case 1:i[b]=b-u.s.c;break;case 2:i[b]=m[b];break;case 3:i[b]=d.header[b-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=o=Cc(n,null,d),v=_[o]||0,!v)_[o]=1;else{do c=o+"_"+v++;while(_[c]);_[o]=v,_[c]=1}i[b]=c}for(w=u.s.r+s;w<=u.e.r;++w)if(!(j[w]||{}).hidden){var N=aGe(e,u,w,m,a,i,x,d);(N.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows))&&(p[g++]=N.row)}return p.length=g,p}var n8=/"/g;function sGe(e,r,n,a,s,i,o,c){for(var u=!0,d=[],f="",h=ga(n),m=r.s.c;m<=r.e.c;++m)if(a[m]){var p=c.dense?(e[n]||[])[m]:e[a[m]+h];if(p==null)f="";else if(p.v!=null){u=!1,f=""+(c.rawNumbers&&p.t=="n"?p.v:Cc(p,null,c));for(var g=0,v=0;g!==f.length;++g)if((v=f.charCodeAt(g))===s||v===i||v===34||c.forceQuotes){f='"'+f.replace(n8,'""')+'"';break}f=="ID"&&(f='"ID"')}else p.f!=null&&!p.F?(u=!1,f="="+p.f,f.indexOf(",")>=0&&(f='"'+f.replace(n8,'""')+'"')):f="";d.push(f)}return c.blankrows===!1&&u?null:d.join(o)}function MJ(e,r){var n=[],a=r??{};if(e==null||e["!ref"]==null)return"";var s=fn(e["!ref"]),i=a.FS!==void 0?a.FS:",",o=i.charCodeAt(0),c=a.RS!==void 0?a.RS:`
`,u=c.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),f="",h=[];a.dense=Array.isArray(e);for(var m=a.skipHidden&&e["!cols"]||[],p=a.skipHidden&&e["!rows"]||[],g=s.s.c;g<=s.e.c;++g)(m[g]||{}).hidden||(h[g]=qn(g));for(var v=0,x=s.s.r;x<=s.e.r;++x)(p[x]||{}).hidden||(f=sGe(e,s,x,h,o,u,i,a),f!=null&&(a.strip&&(f=f.replace(d,"")),(f||a.blankrows!==!1)&&n.push((v++?c:"")+f)));return delete a.dense,n.join("")}function iGe(e,r){r||(r={}),r.FS="	",r.RS=`
`;var n=MJ(e,r);return n}function oGe(e){var r="",n,a="";if(e==null||e["!ref"]==null)return[];var s=fn(e["!ref"]),i="",o=[],c,u=[],d=Array.isArray(e);for(c=s.s.c;c<=s.e.c;++c)o[c]=qn(c);for(var f=s.s.r;f<=s.e.r;++f)for(i=ga(f),c=s.s.c;c<=s.e.c;++c)if(r=o[c]+i,n=d?(e[f]||[])[c]:e[r],a="",n!==void 0){if(n.F!=null){if(r=n.F,!n.f)continue;a=n.f,r.indexOf(":")==-1&&(r=r+":"+r)}if(n.f!=null)a=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)a=""+n.v;else if(n.t=="b")a=n.v?"TRUE":"FALSE";else if(n.w!==void 0)a="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?a="'"+n.v:a=""+n.v}}u[u.length]=r+"="+a}return u}function FJ(e,r,n){var a=n||{},s=+!a.skipHeader,i=e||{},o=0,c=0;if(i&&a.origin!=null)if(typeof a.origin=="number")o=a.origin;else{var u=typeof a.origin=="string"?us(a.origin):a.origin;o=u.r,c=u.c}var d,f={s:{c:0,r:0},e:{c,r:o+r.length-1+s}};if(i["!ref"]){var h=fn(i["!ref"]);f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),o==-1&&(o=h.e.r+1,f.e.r=o+r.length-1+s)}else o==-1&&(o=0,f.e.r=r.length-1+s);var m=a.header||[],p=0;r.forEach(function(v,x){El(v).forEach(function(w){(p=m.indexOf(w))==-1&&(m[p=m.length]=w);var b=v[w],_="z",S="",j=Ft({c:c+p,r:o+x+s});d=rx(i,j),b&&typeof b=="object"&&!(b instanceof Date)?i[j]=b:(typeof b=="number"?_="n":typeof b=="boolean"?_="b":typeof b=="string"?_="s":b instanceof Date?(_="d",a.cellDates||(_="n",b=ms(b)),S=a.dateNF||zt[14]):b===null&&a.nullError&&(_="e",b=0),d?(d.t=_,d.v=b,delete d.w,delete d.R,S&&(d.z=S)):i[j]=d={t:_,v:b},S&&(d.z=S))})}),f.e.c=Math.max(f.e.c,c+m.length-1);var g=ga(o);if(s)for(p=0;p<m.length;++p)i[qn(p+c)+g]={t:"s",v:m[p]};return i["!ref"]=sr(f),i}function lGe(e,r){return FJ(null,e,r)}function rx(e,r,n){if(typeof r=="string"){if(Array.isArray(e)){var a=us(r);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[r]||(e[r]={t:"z"})}return typeof r!="number"?rx(e,Ft(r)):rx(e,Ft({r,c:n||0}))}function cGe(e,r){if(typeof r=="number"){if(r>=0&&e.SheetNames.length>r)return r;throw new Error("Cannot find sheet # "+r)}else if(typeof r=="string"){var n=e.SheetNames.indexOf(r);if(n>-1)return n;throw new Error("Cannot find sheet name |"+r+"|")}else throw new Error("Cannot find sheet |"+r+"|")}function P4(){return{SheetNames:[],Sheets:{}}}function D4(e,r,n,a){var s=1;if(!n)for(;s<=65535&&e.SheetNames.indexOf(n="Sheet"+s)!=-1;++s,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||n;for(++s;s<=65535&&e.SheetNames.indexOf(n=o+s)!=-1;++s);}if(Kqe(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=r,n}function uGe(e,r,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=cGe(e,r);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[a].Hidden=n}function dGe(e,r){return e.z=r,e}function LJ(e,r,n){return r?(e.l={Target:r},n&&(e.l.Tooltip=n)):delete e.l,e}function fGe(e,r,n){return LJ(e,"#"+r,n)}function hGe(e,r,n){e.c||(e.c=[]),e.c.push({t:r,a:n||"SheetJS"})}function mGe(e,r,n,a){for(var s=typeof r!="string"?r:fn(r),i=typeof r=="string"?r:sr(r),o=s.s.r;o<=s.e.r;++o)for(var c=s.s.c;c<=s.e.c;++c){var u=rx(e,o,c);u.t="n",u.F=i,delete u.v,o==s.s.r&&c==s.s.c&&(u.f=n,a&&(u.D=!0))}return e}var pGe={encode_col:qn,encode_row:ga,encode_cell:Ft,encode_range:sr,decode_col:x4,decode_row:v4,split_cell:N9e,decode_cell:us,decode_range:l0,format_cell:Cc,sheet_add_aoa:VX,sheet_add_json:FJ,sheet_add_dom:PJ,aoa_to_sheet:c0,json_to_sheet:lGe,table_to_sheet:DJ,table_to_book:OKe,sheet_to_csv:MJ,sheet_to_txt:iGe,sheet_to_json:mT,sheet_to_html:AKe,sheet_to_formulae:oGe,sheet_to_row_object_array:mT,sheet_get_cell:rx,book_new:P4,book_append_sheet:D4,book_set_sheet_visibility:uGe,cell_set_number_format:dGe,cell_set_hyperlink:LJ,cell_set_internal_link:fGe,cell_add_comment:hGe,sheet_set_array_formula:mGe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function gGe({templates:e,templateFields:r,onImportComplete:n,onClose:a}){var A,D;const{t:s}=Kt(),{user:i}=xr(),{toast:o}=Ol(),[c,u]=y.useState("template"),[d,f]=y.useState(null),[h,m]=y.useState([]),[p,g]=y.useState({}),[v,x]=y.useState([]),[w,b]=y.useState(!1),[_,S]=y.useState(0),j=async T=>{var q;const W=(q=T.target.files)==null?void 0:q[0];if(W)try{const L=await W.arrayBuffer(),I=hT(L,{type:"array"}),z=I.Sheets[I.SheetNames[0]],F=pGe.sheet_to_json(z);if(F.length===0){o({title:s("common.error"),description:s("surveys.fileEmpty"),variant:"destructive"});return}m(F),N(F),u("preview")}catch(L){console.error("Error parsing file:",L),o({title:s("common.error"),description:s("surveys.fileParseError"),variant:"destructive"})}},N=T=>{if(!d)return;const W=r[d.template_id]||[],q=Object.keys(T[0]||{}),L=[],I={};for(const z of W){const F=z.field_label||"",M=q.find(X=>X.toLowerCase().trim()===F.toLowerCase().trim());M?I[F]=M:z.is_required&&L.push(s("surveys.requiredFieldNotFound",{field:`"${F}"`}))}g(I),x(L)},k=()=>h.slice(0,5),E=async()=>{if(!d||!i)return;const T=r[d.template_id]||[],W=[];for(const q of T)q.is_required&&!p[q.field_label||""]&&W.push(s("surveys.requiredFieldNotMapped",{field:`"${q.field_label}"`}));if(W.length>0){x(W);return}u("importing"),b(!0);try{const q=h.length,L=[];for(let z=0;z<h.length;z++){const F=h[z],M={};for(const ee of T){const P=ee.field_label||"",J=p[P];J&&F[J]!==void 0&&F[J]!==null&&F[J]!==""&&(M[P]=F[J])}const X={template_id:d.template_id,survey_name:F.survey_name||F["Survey Name"]||`Bulk Import ${z+1}`,survey_description:F.survey_description||F["Survey Description"]||null,client_name:F.client_name||F["Client Name"]||`Client ${z+1}`,client_name_ar:F.client_name_ar||F["Client Name AR"]||null,client_contact:F.client_contact||F["Client Contact"]||null,client_email:F.client_email||F["Client Email"]||null,client_address:F.client_address||F["Client Address"]||null,client_company:F.client_company||F["Client Company"]||null,client_company_ar:F.client_company_ar||F["Client Company AR"]||null,survey_responses:M,location_latitude:parseFloat(F.location_latitude||F.Latitude||"0"),location_longitude:parseFloat(F.location_longitude||F.Longitude||"0"),location_accuracy:F.location_accuracy?parseFloat(F.location_accuracy):null,location_address:F.location_address||F["Location Address"]||null,created_by:i.id,status:"collected",lead_id:null,converted_to_lead_at:null,device_info:null,completion_time_seconds:null,notes:F.notes||null,notes_ar:F.notes_ar||null,updated_by:null,reviewed_by:null,reviewed_at:null};L.push(X),S(Math.round((z+1)/q*50))}S(50);const I=await Md.createBatch(L);S(100),o({title:s("common.success"),description:s("surveys.importSuccess",{count:I.length})}),n(I),C()}catch(q){console.error("Error importing surveys:",q),o({title:s("common.error"),description:q.message||s("surveys.importFailed"),variant:"destructive"}),u("preview")}finally{b(!1)}},C=()=>{u("template"),f(null),m([]),g({}),x([]),S(0),a()};return l.jsxs(l.Fragment,{children:[l.jsxs(vn,{children:[l.jsx(xn,{children:s("surveys.bulkImport")}),l.jsxs(Va,{children:[c==="template"&&s("surveys.selectTemplateForImport"),c==="upload"&&s("surveys.uploadFile"),c==="preview"&&s("surveys.reviewData"),c==="importing"&&s("surveys.importingData")]})]}),l.jsxs("div",{className:"space-y-6 py-4",children:[c==="template"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ge,{className:"text-base font-medium",children:s("surveys.selectTemplate")}),l.jsx("div",{className:"grid gap-3 grid-cols-1 md:grid-cols-2",children:e.filter(T=>T.is_active).map(T=>l.jsx(lt,{className:`cursor-pointer transition-all ${(d==null?void 0:d.template_id)===T.template_id?"ring-2 ring-primary":"hover:shadow-md"}`,onClick:()=>f(T),children:l.jsxs(xt,{className:"p-4",children:[l.jsx("h4",{className:"font-medium text-sm",children:T.template_name}),T.template_description&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:T.template_description}),T.category&&l.jsx(ft,{variant:"outline",className:"mt-2 text-xs",children:T.category})]})},T.template_id))})]}),c==="upload"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx(P_,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[l.jsx("p",{className:"font-medium mb-1",children:s("surveys.importInstructions")}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[l.jsx("li",{children:s("surveys.importInstruction1")}),l.jsx("li",{children:s("surveys.importInstruction2")}),l.jsx("li",{children:s("surveys.importInstruction3")})]})]})]})}),l.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[l.jsx(sv,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),l.jsx(Ge,{className:"block text-sm font-medium mb-2",children:s("surveys.dragDropFile")}),l.jsx(We,{type:"file",accept:".xlsx,.xls,.csv",onChange:j,className:"hidden",id:"file-upload"}),l.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:l.jsx(le,{variant:"outline",asChild:!0,children:l.jsx("span",{children:s("surveys.selectFile")})})})]})]}),c==="preview"&&l.jsxs("div",{className:"space-y-4",children:[v.length>0&&l.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx(K2,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300",children:[l.jsx("p",{className:"font-medium mb-2",children:s("surveys.validationErrors")}),l.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs",children:v.map((T,W)=>l.jsx("li",{children:T},W))})]})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-medium text-sm",children:s("surveys.columnMapping")}),l.jsxs(ft,{variant:"secondary",children:[Object.keys(p).length," / ",d&&((A=r[d.template_id])==null?void 0:A.length)||0]})]}),l.jsx("div",{className:"grid gap-2 max-h-48 overflow-y-auto",children:d?(D=r[d.template_id])==null?void 0:D.map(T=>l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:T.field_label}),T.is_required&&l.jsx(ft,{variant:"destructive",className:"text-xs mt-1",children:s("surveys.required")})]}),p[T.field_label||""]?l.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[l.jsx(cl,{className:"h-4 w-4"}),l.jsx("span",{className:"text-xs font-medium",children:p[T.field_label||""]})]}):l.jsx("div",{className:"text-xs text-muted-foreground",children:T.is_required?l.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:s("surveys.notMapped")}):l.jsx("span",{children:s("surveys.optional")})})]},T.field_id)):l.jsx("div",{className:"text-center text-muted-foreground py-4",children:s("surveys.noTemplateSelected")})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium text-sm",children:s("surveys.previewFirstRows",{count:5})}),l.jsx("div",{className:"border rounded-lg overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-muted border-b",children:l.jsx("tr",{children:Object.keys(k()[0]||{}).map(T=>l.jsx("th",{className:"px-3 py-2 text-left font-medium text-xs",children:T},T))})}),l.jsx("tbody",{children:k().map((T,W)=>l.jsx("tr",{className:"border-b hover:bg-muted/50",children:Object.entries(T).map(([q,L],I)=>l.jsx("td",{className:"px-3 py-2 text-xs",children:typeof L=="boolean"?q.toLowerCase().includes("is_default")?L?l.jsx(cl,{className:"h-4 w-4 text-green-600"}):l.jsx("span",{className:"text-transparent",children:"-"}):L?l.jsx(cl,{className:"h-4 w-4 text-green-600"}):l.jsx(_ie,{className:"h-4 w-4 text-gray-400"}):String(L||"")},I))},W))})]})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:s("surveys.showingRows",{shown:Math.min(5,h.length),total:h.length})})]})]}),c==="importing"&&l.jsx("div",{className:"space-y-4",children:l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx(gx,{className:"h-12 w-12 mx-auto animate-spin text-primary mb-4"}),l.jsx("p",{className:"font-medium mb-2",children:s("surveys.importingData")}),l.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[s("surveys.processingRows",{progress:_}),"%"]}),l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${_}%`}})})]})})})]}),l.jsxs(Ua,{children:[l.jsx(le,{variant:"outline",onClick:C,disabled:w,children:s("buttons.cancel")}),c==="template"&&l.jsx(le,{onClick:()=>u("upload"),disabled:!d,children:s("common.next")}),c==="upload"&&l.jsx(le,{onClick:()=>u("template"),variant:"outline",children:s("common.back")}),c==="preview"&&l.jsxs(l.Fragment,{children:[l.jsx(le,{onClick:()=>u("upload"),variant:"outline",children:"Back"}),l.jsx(le,{onClick:E,disabled:v.length>0||w,children:s("surveys.startImport")})]})]})]})}function vGe(){var aa;const{t:e}=Kt(),{user:r}=xr(),{isRTL:n}=Wa(),{toast:a}=Ol(),[s,i]=y.useState([]),[o,c]=y.useState([]),[u,d]=y.useState({}),[f,h]=y.useState(!0),[m,p]=y.useState(""),[g,v]=y.useState(null),[x,w]=y.useState(null),[b,_]=y.useState([]);y.useState(!1);const[S,j]=y.useState(!1),[N,k]=y.useState(null),[E,C]=y.useState({}),[A,D]=y.useState({}),[T,W]=y.useState([]),[q,L]=y.useState(!1),[I,z]=y.useState(null),[F,M]=y.useState(null),[X,ee]=y.useState(null),[P,J]=y.useState("list"),[V,K]=y.useState("list"),[ie,oe]=y.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),[ye,ae]=y.useState([]);y.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});const[Q,fe]=y.useState({}),[O,Le]=y.useState(!1),[$e,Me]=y.useState(!1);y.useState(new Set),y.useState(!1),y.useEffect(()=>{He()},[]);const He=async()=>{try{h(!0);const[de,_e,Re]=await Promise.all([Md.getAll().catch(nt=>(console.error("[Surveys] Error fetching surveys:",nt),[])),Ks.getAll().catch(nt=>(console.error("[Surveys] Error fetching templates:",nt),[])),dn.getAll().catch(nt=>(console.error("[Surveys] Error fetching users:",nt),[]))]),Fe=_e.map(async nt=>{try{const ot=await Ks.getFields(nt.template_id);return{templateId:nt.template_id,fields:ot}}catch(ot){return console.error(`[Surveys] Error fetching fields for template ${nt.template_id}:`,ot),{templateId:nt.template_id,fields:[]}}}),Xe=await Promise.all(Fe),Vt={};Xe.forEach(nt=>{Vt[nt.templateId]=nt.fields});const Xr=de.map(nt=>{try{let ot=nt.survey_responses;return typeof nt.survey_responses=="string"&&(ot=JSON.parse(nt.survey_responses)),{...nt,survey_responses:ot}}catch(ot){return console.error(`[Surveys] Error parsing survey_responses for survey ${nt.survey_id}:`,ot),nt}});i(Xr),c(_e),W(Re),d(Vt)}catch(de){console.error("Failed to load surveys data:",de)}finally{h(!1)}},Pe=s.filter(de=>{var _e,Re;return de.client_name.toLowerCase().includes(m.toLowerCase())||((_e=de.client_company)==null?void 0:_e.toLowerCase().includes(m.toLowerCase()))||((Re=de.survey_name)==null?void 0:Re.toLowerCase().includes(m.toLowerCase()))}),bt=o.filter(de=>{var _e;return Te(de,"template_name").toLowerCase().includes(m.toLowerCase())||((_e=de.category)==null?void 0:_e.toLowerCase().includes(m.toLowerCase()))}),pt=de=>{if(!de)return e("surveys.unknownCreator");const _e=T.find(Re=>{var Fe,Xe;return((Fe=Re.userid)==null?void 0:Fe.toString())===de||((Xe=Re.user_id)==null?void 0:Xe.toString())===de});return _e?Te(_e,"user_name"):e("surveys.unknownCreator")},se=de=>{switch(de.toLowerCase()){case"completed":return l.jsxs(ft,{variant:"default",className:"bg-green-500",children:[l.jsx(cl,{className:"h-3 w-3 me-1"}),e("surveys.completed")]});case"in_progress":return l.jsxs(ft,{variant:"secondary",children:[l.jsx(Rd,{className:"h-3 w-3 me-1"}),e("surveys.inProgress")]});case"pending":return l.jsxs(ft,{variant:"outline",children:[l.jsx(Rd,{className:"h-3 w-3 me-1"}),e("surveys.pending")]});default:return l.jsx(ft,{variant:"outline",children:de})}},he=de=>{i([...de,...s])},B=async de=>{if(w(de),u[de.template_id])_(u[de.template_id]);else try{const _e=await Ks.getFields(de.template_id);d(Re=>({...Re,[de.template_id]:_e})),_(_e)}catch(_e){console.error("Failed to load template fields:",_e),_([])}},ue=()=>{const de={field_type:"text",field_label:"",is_required:!1,field_options:null,validation_rules:null,conditional_logic:null};ae(_e=>[..._e,de])},be=de=>{ae(_e=>_e.filter((Re,Fe)=>Fe!==de))},ve=(de,_e)=>{ae(Re=>Re.map((Fe,Xe)=>Xe===de?{...Fe,..._e}:Fe))},Be=(de,_e)=>{ae(Re=>{const Fe=[...Re],[Xe]=Fe.splice(de,1);return Fe.splice(_e,0,Xe),Fe})},je=()=>{oe({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),ae([]),z(null)},ke=async de=>{oe({template_name:de.template_name||"",template_name_ar:de.template_name_ar||"",template_description:de.template_description||"",template_description_ar:de.template_description_ar||"",category:de.category||"",is_active:de.is_active,is_default:de.is_default||!1});const Re=(u[de.template_id]||[]).map(Fe=>({field_type:Fe.field_type,field_label:Fe.field_label||"",field_label_ar:Fe.field_label_ar||"",help_text:Fe.help_text||"",help_text_ar:Fe.help_text_ar||"",is_required:Fe.is_required||!1,field_options:Fe.field_options,validation_rules:Fe.validation_rules,default_value:Fe.default_value,conditional_logic:Fe.conditional_logic,image_path:Fe.image_path}));ae(Re),z(de.template_id),L(!0)},me=()=>{const de={};return ie.template_name.trim()||(de.template_name=e("surveys.templateNameRequired")),ye.length===0?de.fields=e("surveys.atLeastOneFieldRequired"):ye.forEach((_e,Re)=>{_e.field_label.trim()||(de[`field_${Re}`]=e("surveys.fieldLabelRequired",{number:Re+1}))}),fe(de),Object.keys(de).length===0},Ee=async()=>{if(!me()){a({title:e("common.error"),description:e("surveys.templateValidationFailed"),variant:"destructive"});return}Le(!0);try{if(I){await Ks.update(I,ie);const de=u[I]||[];for(const _e of de)_e.field_id&&await Ks.deleteField(_e.field_id);for(let _e=0;_e<ye.length;_e++){const Re=ye[_e];await Ks.createField({template_id:I,field_order:_e+1,field_type:Re.field_type,field_label:Re.field_label,field_label_ar:Re.field_label_ar||"",help_text:Re.help_text||null,help_text_ar:Re.help_text_ar||null,is_required:Re.is_required,field_options:Re.field_options,validation_rules:Re.validation_rules,default_value:Re.default_value||null,conditional_logic:Re.conditional_logic,image_path:Re.image_path||null})}a({title:e("common.success"),description:e("surveys.templateUpdated")})}else{const de={...ie,created_by:r==null?void 0:r.id},_e=await Ks.create(de);for(let Re=0;Re<ye.length;Re++){const Fe=ye[Re];await Ks.createField({template_id:_e.template_id,field_order:Re+1,field_type:Fe.field_type,field_label:Fe.field_label,field_label_ar:Fe.field_label_ar||"",help_text:Fe.help_text||null,help_text_ar:Fe.help_text_ar||null,is_required:Fe.is_required,field_options:Fe.field_options,validation_rules:Fe.validation_rules,default_value:Fe.default_value||null,conditional_logic:Fe.conditional_logic,image_path:Fe.image_path||null})}a({title:e("common.success"),description:e("surveys.templateCreated")})}je(),L(!1),He()}catch(de){console.error("Failed to save template:",de),a({title:e("common.error"),description:e("surveys.templateSaveError",{action:e(I?"surveys.updateTemplate":"surveys.createTemplate")}),variant:"destructive"})}finally{Le(!1)}},Ie=async de=>{if(k(de),!u[de.template_id])try{const Fe=await Ks.getFields(de.template_id);d(Xe=>({...Xe,[de.template_id]:Fe}))}catch(Fe){console.error("Failed to load template fields:",Fe)}const _e={};(u[de.template_id]||[]).forEach(Fe=>{Fe.default_value!==null&&Fe.default_value!==void 0&&(_e[Fe.field_id.toString()]=Fe.default_value)}),C(_e)},Ue=async de=>{try{await Ks.delete(de),c(_e=>_e.filter(Re=>Re.template_id!==de)),M(null),d(_e=>{const Re={..._e};return delete Re[de],Re})}catch(_e){console.error("Failed to delete template:",_e),alert("Failed to delete template. Please try again.")}},Ve=async de=>{try{await Md.delete(de),i(_e=>_e.filter(Re=>Re.survey_id!==de)),ee(null)}catch(_e){console.error("Failed to delete survey:",_e),alert("Failed to delete survey. Please try again.")}},ht=async de=>{try{const _e=o.filter(Re=>Re.is_default&&Re.template_id!==de);for(const Re of _e)await Ks.update(Re.template_id,{is_default:!1});await Ks.update(de,{is_default:!0}),c(Re=>Re.map(Fe=>({...Fe,is_default:Fe.template_id===de}))),a({title:e("common.success"),description:e("surveys.templateSetAsDefault")})}catch(_e){console.error("Failed to set default template:",_e),a({title:e("common.error"),description:e("surveys.templateSetDefaultError"),variant:"destructive"})}},Qt=()=>new Promise((de,_e)=>{if(!navigator.geolocation){_e(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(Re=>{de({latitude:Re.coords.latitude,longitude:Re.coords.longitude,accuracy:Re.coords.accuracy})},Re=>{_e(Re)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}),rr=async()=>{var de;if(!(!N||!r))try{let _e={latitude:0,longitude:0,accuracy:0};try{_e=await Qt()}catch(re){console.warn("Could not get location:",re)}const Re=u[N.template_id]||[],Fe=new Map(Re.map(re=>[re.field_id.toString(),re.field_label])),Xe={};for(const[re,Z]of Object.entries(E)){const te=Fe.get(re)||re;Xe[te]=Z}const Vt=Xe["Customer Name"]||Xe["Client Name"]||Xe.client_name||Xe.customer_name||"Anonymous",Xr=Xe["Customer Company"]||Xe["Client Company"]||Xe.Company||Xe.company||Xe.client_company||null,nt=Xe["Contact Number"]||Xe["Contact Email"]||Xe.Contact||Xe.contact||Xe.phone||null,ot=Xe["Contact Email"]||Xe.Email||Xe.email||Xe.client_email||null,Yn=Xe.Address||Xe.address||Xe.client_address||null,sa=Xe["Additional Notes"]||Xe.Notes||Xe.notes||null,Gt={},Ji=Object.keys(A);for(const[re,Z]of Object.entries(E))Ji.includes(re)||(Gt[re]=Array.isArray(Z)?Z.join(", "):Z);const Ll={template_id:N.template_id,survey_name:`${Te(N,"template_name")} - ${new Date().toLocaleDateString()}`,survey_description:Te(N,"template_description")||null,client_name:Vt,client_name_ar:null,client_contact:nt,client_email:ot,client_address:Yn,client_company:Xr,client_company_ar:null,survey_responses:Gt,location_latitude:_e.latitude,location_longitude:_e.longitude,location_accuracy:_e.accuracy,location_address:Yn,status:"collected",created_by:r.id,lead_id:null,converted_to_lead_at:null,device_info:navigator.userAgent,completion_time_seconds:null,notes:sa,notes_ar:null,updated_by:null,reviewed_by:null,reviewed_at:null},H=await Md.create(Ll);if(Object.keys(A).length>0){const re={...Gt};for(const[te,R]of Object.entries(A)){const Y=(de=R.name.split(".").pop())==null?void 0:de.toLowerCase(),ce=`${te.replace(/[^a-zA-Z0-9]/g,"_")}_${Date.now()}.${Y}`,Ne=`surveys/survey_${H.survey_id}/${ce}`,{data:we,error:Se}=await Zr.storage.from("survey-uploads").upload(Ne,R);if(Se)throw Se;const{data:{publicUrl:Ce}}=Zr.storage.from("survey-uploads").getPublicUrl(Ne);re[te]={bucket:"survey-uploads",path:Ne,url:Ce}}const Z=Object.entries(re).reduce((te,[R,Y])=>(te[R]=Array.isArray(Y)?Y.join(", "):Y,te),{});await Md.update(H.survey_id,{survey_responses:Z}),H.survey_responses=Z}i([H,...s]),k(null),C({}),D({}),j(!1)}catch(_e){console.error("[Survey] Failed to create survey:",_e),alert(`Failed to create survey: ${_e.message}`)}},kr=de=>de.is_required===1||de.is_required===!0,$r=de=>{const _e=de.field_id.toString(),Re=E[_e]||"";switch(de.field_type.toLowerCase()){case"text":return l.jsx(We,{id:_e,value:Re,onChange:nt=>C(ot=>({...ot,[_e]:nt.target.value})),placeholder:Te(de,"help_text")||de.field_label,required:de.is_required});case"textarea":return l.jsx(ma,{id:_e,value:Re,onChange:nt=>C(ot=>({...ot,[_e]:nt.target.value})),placeholder:Te(de,"help_text")||de.field_label,required:de.is_required,rows:3});case"number":return l.jsx(We,{id:_e,type:"number",value:Re,onChange:nt=>C(ot=>({...ot,[_e]:nt.target.value})),placeholder:Te(de,"help_text")||de.field_label,required:de.is_required});case"email":return l.jsx(We,{id:_e,type:"email",value:Re,onChange:nt=>C(ot=>({...ot,[_e]:nt.target.value})),placeholder:Te(de,"help_text")||de.field_label,required:de.is_required});case"date":return l.jsx(We,{id:_e,type:"date",value:Re,onChange:nt=>C(ot=>({...ot,[_e]:nt.target.value})),required:de.is_required});case"select":let Fe=de.field_options;if(typeof Fe=="string")try{Fe=JSON.parse(Fe)}catch(nt){console.error("Failed to parse field_options:",nt),Fe=null}if(Fe&&typeof Fe=="object"&&!Array.isArray(Fe)&&"options"in Fe&&Array.isArray(Fe.options)){const nt=Fe.options.filter(ot=>typeof ot=="string");return l.jsxs(kt,{value:Re,onValueChange:ot=>C(Yn=>({...Yn,[_e]:ot})),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:Te(de,"help_text")||`${e("common.select")} ${Te(de,"field_label")}`})}),l.jsx(jt,{children:nt.map((ot,Yn)=>l.jsx(Oe,{value:ot,children:ot},Yn))})]})}return l.jsx(We,{id:_e,value:Re,onChange:nt=>C(ot=>({...ot,[_e]:nt.target.value})),placeholder:Te(de,"help_text")||de.field_label,required:de.is_required});case"radio":let Xe=de.field_options;if(typeof Xe=="string")try{Xe=JSON.parse(Xe)}catch(nt){console.error("Failed to parse field_options:",nt),Xe=null}if(Xe&&typeof Xe=="object"&&!Array.isArray(Xe)&&"options"in Xe&&Array.isArray(Xe.options)){const nt=Xe.options.filter(ot=>typeof ot=="string");return l.jsx("div",{className:"space-y-2",children:nt.map((ot,Yn)=>l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"radio",name:_e,value:ot,checked:Re===ot,onChange:sa=>C(Gt=>({...Gt,[_e]:sa.target.value}))}),l.jsx("span",{className:"text-sm",children:ot})]},Yn))})}return l.jsx(We,{id:_e,value:Re,onChange:nt=>C(ot=>({...ot,[_e]:nt.target.value})),placeholder:Te(de,"help_text")||de.field_label,required:de.is_required});case"multiselect":case"checkbox":let Vt=de.field_options;if(typeof Vt=="string")try{Vt=JSON.parse(Vt)}catch(nt){console.error("Failed to parse field_options:",nt),Vt=null}if(Vt&&typeof Vt=="object"&&!Array.isArray(Vt)&&"options"in Vt&&Array.isArray(Vt.options)){const nt=Vt.options.filter(ot=>typeof ot=="string");return l.jsx("div",{className:"space-y-2",children:nt.map((ot,Yn)=>l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:Array.isArray(Re)?Re.includes(ot):!1,onChange:sa=>{const Gt=Array.isArray(Re)?Re:[];sa.target.checked?C(Ji=>({...Ji,[_e]:[...Gt,ot]})):C(Ji=>({...Ji,[_e]:Gt.filter(Ll=>Ll!==ot)}))}}),l.jsx("span",{className:"text-sm",children:ot})]},Yn))})}return l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:!!Re,onChange:nt=>C(ot=>({...ot,[_e]:nt.target.checked}))}),l.jsx("span",{className:"text-sm",children:Te(de,"field_label")})]});case"image":const Xr=E[_e];return l.jsxs("div",{className:"space-y-2",children:[l.jsx(We,{id:_e,type:"file",accept:"image/*",onChange:nt=>{var Yn;const ot=(Yn=nt.target.files)==null?void 0:Yn[0];ot&&(D(sa=>({...sa,[_e]:ot})),C(sa=>({...sa,[_e]:{preview:URL.createObjectURL(ot),filename:ot.name}})))},required:de.is_required}),(Xr==null?void 0:Xr.preview)&&l.jsxs("div",{className:"relative w-full",children:[l.jsx("img",{src:Xr.preview,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border"}),l.jsx(le,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>{D(nt=>{const ot={...nt};return delete ot[_e],ot}),C(nt=>{const ot={...nt};return delete ot[_e],ot})},children:l.jsx(wr,{className:"h-4 w-4"})})]})]});default:return l.jsx(We,{id:_e,value:Re,onChange:nt=>C(ot=>({...ot,[_e]:nt.target.value})),placeholder:Te(de,"help_text")||de.field_label,required:de.is_required})}},_n=()=>{const de=[{key:"survey_name",header:e("surveys.surveyName"),className:"w-1/4 min-w-[200px]",render:Re=>l.jsx(Nc,{title:Re.survey_name||`${e("surveys.survey")} #${Re.survey_id}`,subtitle:Te(Re,"client_name"),icon:l.jsx(ei,{className:"h-4 w-4"})})},{key:"client_name",header:e("surveys.clientName"),className:"w-1/6 min-w-[120px]",render:Re=>l.jsx("span",{className:"text-sm text-foreground",children:Re.client_name||"-"})},{key:"status",header:e("surveys.status"),className:"w-1/6 min-w-[120px]",render:Re=>l.jsx(ft,{variant:"outline",className:"text-xs truncate",children:Re.status==="completed"?l.jsx(ft,{variant:"default",className:"bg-green-500",children:e("surveys.completed")}):Re.status==="in_progress"?l.jsx(ft,{variant:"default",className:"bg-blue-500",children:e("surveys.inProgress")}):l.jsx(ft,{variant:"outline",children:e("surveys.pending")})})},{key:"created_by",header:e("surveys.createdBy"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:Re=>l.jsx("div",{className:"truncate",children:l.jsx(vp,{name:pt(Re.created_by),fallback:e("surveys.unknownCreator")})})},{key:"created_at",header:e("surveys.createdDate"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:Re=>l.jsx(Vu,{date:Re.created_at,fallback:e("leads.notSet")})}];e("common.view"),Edit2,e("common.edit"),e("common.delete");const _e=[{label:e("buttons.delete"),icon:l.jsx(wr,{className:"h-4 w-4"}),onClick:Re=>{window.confirm(`Delete ${Re.length} surveys?`)&&handleBulkDelete(Re.map(Fe=>Fe.survey_id))},variant:"destructive"}];return l.jsx(kc,{data:Pe,columns:de,actions:listActions,bulkActions:_e,enableBulkSelect:!0,keyExtractor:Re=>Re.survey_id.toString(),onRowClick:Re=>handleViewSurvey(Re),rowHeight:"h-26"})},wi=()=>{const de=[{key:"template",header:e("surveys.templateName"),render:Fe=>l.jsx(Nc,{title:Te(Fe,"template_name"),subtitle:Te(Fe,"template_description")})},{key:"category",header:e("surveys.category"),render:Fe=>Fe.category||e("surveys.noCategory")},{key:"status",header:e("surveys.status"),render:Fe=>l.jsxs("div",{className:"flex items-center gap-2",children:[Fe.is_active?l.jsx(ft,{variant:"default",className:"bg-green-500",children:e("surveys.active")}):l.jsx(ft,{variant:"secondary",children:e("surveys.inactive")}),Fe.is_default&&l.jsx(ft,{variant:"default",children:e("surveys.default")})]})},{key:"created",header:e("surveys.createdDate"),hideOnMobile:!0,render:Fe=>l.jsx(Vu,{date:Fe.created_at,fallback:e("leads.notSet")})}],_e=[{label:e("common.view"),icon:l.jsx(ui,{className:"h-4 w-4"}),onClick:Fe=>B(Fe)},{label:e("surveys.setAsDefault"),icon:l.jsx(cl,{className:"h-4 w-4"}),onClick:Fe=>ht(Fe.template_id),show:Fe=>!Fe.is_default},{label:e("buttons.edit"),icon:l.jsx(q2,{className:"h-4 w-4"}),onClick:Fe=>ke(Fe)},{label:e("buttons.delete"),icon:l.jsx(wr,{className:"h-4 w-4"}),onClick:Fe=>M(Fe.template_id),variant:"destructive"}],Re=[{label:e("buttons.delete"),icon:l.jsx(wr,{className:"h-4 w-4"}),onClick:async Fe=>{if(window.confirm(e("surveys.bulkDeleteConfirm",{count:Fe.length})))try{await Promise.all(Fe.map(Xe=>Ks.delete(Xe.template_id))),await He(),a({title:e("common.success"),description:e("surveys.bulkDeleteSuccess",{count:Fe.length})})}catch(Xe){console.error("Failed to bulk delete templates:",Xe),a({title:e("common.error"),description:e("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}];return l.jsx(kc,{data:bt,columns:de,actions:_e,bulkActions:Re,enableBulkSelect:!0,keyExtractor:Fe=>Fe.template_id.toString(),onRowClick:Fe=>B(Fe),rowHeight:"h-26",emptyState:l.jsx(uc,{icon:l.jsx(ei,{className:"h-12 w-12 text-muted-foreground/50"}),title:e("surveys.noTemplatesFound"),description:e(m?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})})};return f?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})}):l.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:n?"rtl":"ltr",children:[l.jsxs("div",{className:"relative",dir:n?"rtl":"ltr",children:[l.jsx(Ws,{className:`absolute ${n?"right-3":"left-3"} top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4`}),l.jsx(We,{placeholder:e("surveys.searchPlaceholder"),value:m,onChange:de=>p(de.target.value),className:n?"pr-10 pl-3":"pl-10 pr-3"})]}),l.jsxs(Cl,{defaultValue:"surveys",className:"w-full flex-1 flex flex-col",dir:n?"rtl":"ltr",children:[l.jsxs(Lo,{className:"grid w-full grid-cols-2",children:[l.jsxs(tn,{value:"surveys",children:[e("surveys.surveys")," (",Pe.length,")"]}),l.jsxs(tn,{value:"templates",children:[e("surveys.templates")," (",bt.length,")"]})]}),l.jsxs(Pn,{value:"surveys",className:"space-y-4 flex-1 flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[l.jsx(le,{variant:P==="list"?"default":"ghost",size:"sm",onClick:()=>J("list"),className:"h-8 w-8 p-0",children:l.jsx(Fm,{className:"h-4 w-4"})}),l.jsx(le,{variant:P==="card"?"default":"ghost",size:"sm",onClick:()=>J("card"),className:"h-8 w-8 p-0",children:l.jsx(ei,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex flex-row items-center gap-2 overflow-x-auto pb-1 scrollbar-hide min-w-0 flex-1 justify-end",children:[l.jsxs(On,{open:S,onOpenChange:j,children:[l.jsx(Uh,{asChild:!0,children:l.jsxs(le,{size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[l.jsx(lr,{className:"h-4 w-4 me-2"}),e("surveys.newSurvey")]})}),l.jsxs(gn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[l.jsx(vn,{children:l.jsx(xn,{children:e("surveys.createNewSurvey")})}),l.jsx("div",{className:"space-y-6 py-4",children:N?l.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium",children:Te(N,"template_name")}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e("surveys.fillSurveyDetails")})]}),l.jsx(le,{variant:"outline",size:"sm",onClick:()=>{k(null),C({})},children:e("surveys.changeTemplate")})]}),l.jsx("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:(aa=u[N.template_id])==null?void 0:aa.map(de=>l.jsxs("div",{className:"space-y-2",dir:n?"rtl":"ltr",children:[l.jsxs(Ge,{className:"text-sm font-medium mb-1.5 block",children:[Te(de,"field_label"),kr(de)&&l.jsx("span",{className:"text-red-500 ms-1",children:"*"})]}),$r(de),Te(de,"help_text")&&l.jsx("p",{className:"text-xs text-muted-foreground",children:Te(de,"help_text")})]},de.field_id))}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",dir:n?"rtl":"ltr",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",dir:n?"rtl":"ltr",children:[l.jsx(Lm,{className:"h-4 w-4"}),l.jsx("span",{children:e("surveys.locationWillBeCaptured")})]})})]}):l.jsxs("div",{children:[l.jsx(Ge,{className:"text-base font-medium mb-4 block",children:e("surveys.selectTemplate")}),l.jsx("div",{className:"w-full max-w-full grid gap-4 grid-cols-1 md:grid-cols-2",children:o.filter(de=>de.is_active).map(de=>l.jsx(lt,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(N==null?void 0:N.template_id)===de.template_id?"ring-2 ring-primary":""}`,onClick:()=>Ie(de),children:l.jsx(xt,{className:"p-4",dir:n?"rtl":"ltr",children:l.jsx("div",{className:"flex items-start gap-3",dir:n?"rtl":"ltr",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-medium text-sm truncate",children:Te(de,"template_name")}),de.category&&l.jsx(ft,{variant:"outline",className:"mt-1 text-xs",children:de.category}),Te(de,"template_description")&&l.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:Te(de,"template_description")})]})})})},de.template_id))})]})}),l.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2",dir:n?"rtl":"ltr",children:[l.jsx(le,{variant:"outline",onClick:()=>{j(!1),k(null),C({})},className:"w-full sm:w-auto",children:e("buttons.cancel")}),N&&l.jsx(le,{onClick:rr,disabled:!N,className:"w-full sm:w-auto",children:e("surveys.submitSurvey")})]})]})]}),l.jsxs(On,{open:$e,onOpenChange:Me,children:[l.jsx(Uh,{asChild:!0,children:l.jsxs(le,{variant:"outline",size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all border-primary/20 hover:bg-primary/5 px-4 h-9",children:[l.jsx(sv,{className:"h-4 w-4 me-2 text-primary"}),e("surveys.bulkImport")]})}),l.jsx(gn,{className:"w-[95vw] sm:w-full sm:max-w-4xl max-h-[85vh] overflow-y-auto",children:l.jsx(gGe,{templates:o,templateFields:u,onImportComplete:he,onClose:()=>Me(!1)})})]})]})]}),l.jsx(da,{className:"flex-1",dir:n?"rtl":"ltr",children:Pe.length===0?l.jsx(lt,{children:l.jsxs(xt,{className:"text-center py-12",children:[l.jsx(ei,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("surveys.noSurveysFound")}),l.jsx("p",{className:"text-muted-foreground",children:e(m?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})]})}):P==="card"?l.jsx("div",{className:"w-full max-w-full grid gap-4 md:grid-cols-2 lg:grid-cols-3 overflow-y-auto",children:Pe.map(de=>l.jsxs(lt,{className:"w-full overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer",children:[l.jsx(Xt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-base truncate",children:de.survey_name||`${e("surveys.survey")} #${de.survey_id}`}),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:Te(de,"client_name")})]}),se(de.status)]})}),l.jsxs(xt,{className:"pt-0 space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(un,{className:"h-4 w-4"}),l.jsx("span",{className:"truncate",children:de.client_company||e("surveys.noCompany")})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(Lm,{className:"h-4 w-4"}),l.jsx("span",{className:"truncate",children:de.location_address||(de.location_latitude&&de.location_longitude?`${de.location_latitude.toFixed(4)}, ${de.location_longitude.toFixed(4)}`:e("surveys.noLocation"))})]}),l.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(Vn,{className:"h-4 w-4"}),l.jsxs("span",{children:[e("surveys.createdBy"),": ",pt(de.created_by)]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(Rd,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:new Date(de.created_at).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(On,{children:[l.jsx(Uh,{asChild:!0,children:l.jsxs(le,{size:"sm",variant:"outline",className:"h-8 px-2 flex items-center gap-1 hover:bg-primary hover:text-primary-foreground border-primary/20",onClick:()=>v(de),children:[l.jsx(ui,{className:"h-4 w-4 me-1"}),l.jsx("span",{className:"text-xs",children:e("common.view")})]})}),l.jsxs(gn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[l.jsx(vn,{children:l.jsx(xn,{children:de.survey_name||`${e("surveys.survey")} #${de.survey_id}`})}),g&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.clientName")}),l.jsx("p",{className:"text-sm",children:Te(g,"client_name")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.clientCompany")}),l.jsx("p",{className:"text-sm",children:g.client_company||e("surveys.noCompany")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.contact")}),l.jsx("p",{className:"text-sm",children:g.client_contact||e("surveys.noContact")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.email")}),l.jsx("p",{className:"text-sm",children:g.client_email||e("surveys.noEmail")})]})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.location")}),l.jsx("p",{className:"text-sm",children:l.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${g.location_latitude},${g.location_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:["https://www.google.com/maps/place/",g.location_address||`${g.location_latitude.toFixed(6)}, ${g.location_longitude.toFixed(6)}`]})})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.responses")}),l.jsx("div",{className:"mt-2 space-y-2",children:g.survey_responses&&Object.keys(g.survey_responses).length>0?(()=>{const _e=u[g.template_id]||[],Re=new Map(_e.map(Fe=>[Fe.field_id.toString(),Fe.field_label]));return Object.entries(g.survey_responses).map(([Fe,Xe])=>{const Vt=Re.get(Fe)||Fe,Xr=typeof Xe=="object"&&Xe!==null&&"bucket"in Xe&&"path"in Xe&&"url"in Xe;return l.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-muted/30 rounded-lg",children:[l.jsxs("div",{className:"font-medium text-sm text-primary",children:[Vt,":"]}),Xr?l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:Xe.url,alt:Vt,className:"w-full max-w-md h-auto rounded-lg border object-cover"})}):l.jsx("div",{className:"text-sm text-muted-foreground break-words",children:(()=>{if(Xe==null)return"N/A";if(Array.isArray(Xe))return Xe.join(", ");if(typeof Xe=="object"){if("bucket"in Xe&&"path"in Xe&&"url"in Xe)return"Image";try{const nt=JSON.stringify(Xe,null,2);return l.jsx("pre",{className:"bg-slate-100 dark:bg-slate-800 p-2 rounded text-xs overflow-x-auto",children:nt})}catch{return String(Xe)}}if(typeof Xe=="string"){if(Xe.trim().startsWith("{")||Xe.trim().startsWith("["))try{const nt=JSON.parse(Xe),ot=JSON.stringify(nt,null,2);return l.jsx("pre",{className:"bg-slate-100 dark:bg-slate-800 p-2 rounded text-xs overflow-x-auto",children:ot})}catch{return Xe}return Xe}return String(Xe)})()})]},Fe)})})():l.jsx("div",{className:"text-sm text-muted-foreground italic p-3 bg-muted/30 rounded-lg",children:"No responses recorded"})})]})]})]})]}),l.jsxs(gi,{children:[l.jsx(Cf,{asChild:!0,children:l.jsx(le,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:_e=>{_e.stopPropagation(),ee(de.survey_id)},children:l.jsx(wr,{className:"h-4 w-4"})})}),l.jsxs(Ms,{onClick:_e=>_e.stopPropagation(),children:[l.jsxs(Fs,{children:[l.jsx($s,{children:e("surveys.deleteSurvey")}),l.jsx(Bs,{children:e("surveys.deleteSurveyConfirmation",{name:de.survey_name||`${e("surveys.survey")} #${de.survey_id}`})})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:e("buttons.cancel")}),l.jsx(Us,{onClick:_e=>{_e.stopPropagation(),Ve(de.survey_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]})]})]})]},de.survey_id))}):l.jsx("div",{className:"w-full overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:_n()})})]}),l.jsxs(Pn,{value:"templates",className:"space-y-4 flex-1 flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between",dir:n?"rtl":"ltr",children:[l.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[l.jsx(le,{variant:V==="list"?"default":"ghost",size:"sm",onClick:()=>K("list"),className:"h-8 w-8 p-0",children:l.jsx(Fm,{className:"h-4 w-4"})}),l.jsx(le,{variant:V==="card"?"default":"ghost",size:"sm",onClick:()=>K("card"),className:"h-8 w-8 p-0",children:l.jsx(ei,{className:"h-4 w-4"})})]}),l.jsxs(le,{onClick:()=>{je(),L(!0)},size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[l.jsx(lr,{className:"h-4 w-4 me-2"}),e("surveys.createTemplate")]})]}),l.jsx(da,{className:"flex-1",children:bt.length===0?l.jsx(lt,{children:l.jsxs(xt,{className:"text-center py-12",children:[l.jsx(ei,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("surveys.noTemplatesFound")}),l.jsx("p",{className:"text-muted-foreground",children:e(m?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})]})}):V==="card"?l.jsx("div",{className:"w-full max-w-full grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:bt.map(de=>l.jsxs(lt,{className:"w-full overflow-hidden hover:shadow-lg transition-all duration-200",children:[l.jsx(Xt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-base truncate",children:Te(de,"template_name")}),de.category&&l.jsx(ft,{variant:"outline",className:"mt-1 text-xs",children:de.category})]}),l.jsx("div",{className:"flex items-center gap-1",children:de.is_default?l.jsx(cl,{className:"h-4 w-4 text-green-500"}):l.jsx("div",{children:""})})]})}),l.jsxs(xt,{className:"pt-0 space-y-3",children:[Te(de,"template_description")&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Te(de,"template_description")}),l.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(Rd,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:new Date(de.created_at).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs(On,{children:[l.jsx(Uh,{asChild:!0,children:l.jsxs(le,{variant:"outline",size:"sm",onClick:()=>B(de),children:[l.jsx(ui,{className:"h-4 w-4 mr-1"}),e("common.view")]})}),l.jsxs(gn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[l.jsx(vn,{children:l.jsx(xn,{children:Te(x||de,"template_name")})}),x&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.category")}),l.jsx("p",{className:"text-sm",children:x.category||e("surveys.noCategory")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.status")}),l.jsxs("div",{className:"flex items-center gap-2",children:[x.is_active?l.jsx(ft,{variant:"default",className:"bg-green-500",children:e("surveys.active")}):l.jsx(ft,{variant:"secondary",children:e("surveys.inactive")}),x.is_default&&l.jsx(ft,{variant:"default",children:e("surveys.default")})]})]})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.description")}),l.jsx("p",{className:"text-sm mt-1",children:Te(x,"template_description")||e("surveys.noDescription")})]}),l.jsxs("div",{children:[l.jsxs(Ge,{className:"text-sm font-medium",children:[e("surveys.fields")," (",b.length,")"]}),l.jsx("div",{className:"mt-2 space-y-2",children:b.length===0?l.jsx("p",{className:"text-sm text-muted-foreground",children:e("surveys.noFields")}):b.sort((_e,Re)=>_e.field_order-Re.field_order).map(_e=>l.jsx("div",{className:"border rounded-lg p-3 bg-muted/30",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(ft,{variant:"outline",className:"text-xs",children:_e.field_type}),l.jsx("span",{className:"text-sm font-medium",children:Te(_e,"field_label")}),kr(_e)&&l.jsx("span",{className:"text-red-500 text-sm",children:"*"})]}),Te(_e,"help_text")&&l.jsx("p",{className:"text-xs text-muted-foreground",children:Te(_e,"help_text")})]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["#",_e.field_order]})]})},_e.field_id))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.created")}),l.jsx("p",{children:new Date(x.created_at).toLocaleString()})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.updated")}),l.jsx("p",{children:new Date(x.updated_at).toLocaleString()})]})]})]})]})]}),!de.is_default&&l.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-green-50 shrink-0",onClick:_e=>{_e.stopPropagation(),ht(de.template_id)},title:e("surveys.setAsDefault"),children:l.jsx(cl,{className:"h-4 w-4 text-green-500"})}),l.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-50 shrink-0",onClick:_e=>{_e.stopPropagation(),ke(de)},children:l.jsx(q2,{className:"h-4 w-4"})}),l.jsxs(gi,{children:[l.jsx(Cf,{asChild:!0,children:l.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50 shrink-0",onClick:_e=>{_e.stopPropagation(),M(de.template_id)},children:l.jsx(wr,{className:"h-4 w-4"})})}),l.jsxs(Ms,{onClick:_e=>_e.stopPropagation(),children:[l.jsxs(Fs,{children:[l.jsx($s,{children:e("surveys.deleteTemplate")}),l.jsx(Bs,{children:e("surveys.deleteTemplateConfirmation",{name:Te(de,"template_name")})})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:e("buttons.cancel")}),l.jsx(Us,{onClick:_e=>{_e.stopPropagation(),Ue(de.template_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]})]})]},de.template_id))}):l.jsx("div",{className:"w-full overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:wi()})})]})]}),l.jsx(On,{open:q,onOpenChange:L,children:l.jsxs(gn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[l.jsxs(vn,{children:[l.jsx(xn,{children:e(I?"surveys.editTemplateTitle":"surveys.createTemplateTitle")}),l.jsx(Va,{children:e("surveys.createTemplateDesc")})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"template_name",children:[e("surveys.templateName")," *"]}),l.jsx(We,{id:"template_name",value:ie.template_name,onChange:de=>oe(_e=>({..._e,template_name:de.target.value})),placeholder:e("surveys.templateName"),className:Q.template_name?"border-red-500":""}),Q.template_name&&l.jsx("p",{className:"text-sm text-red-500",children:Q.template_name})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"category",children:e("surveys.category")}),l.jsxs(kt,{value:ie.category,onValueChange:de=>oe(_e=>({..._e,category:de})),children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:e("surveys.selectCategory")})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"customer_satisfaction",children:e("surveys.customerSatisfaction")}),l.jsx(Oe,{value:"product_feedback",children:e("surveys.productFeedback")}),l.jsx(Oe,{value:"service_quality",children:e("surveys.serviceQuality")}),l.jsx(Oe,{value:"general",children:e("surveys.general")})]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"template_description",children:e("surveys.description")}),l.jsx(ma,{id:"template_description",value:ie.template_description,onChange:de=>oe(_e=>({..._e,template_description:de.target.value})),placeholder:e("surveys.description"),rows:3})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"is_active",checked:ie.is_active,onChange:de=>oe(_e=>({..._e,is_active:de.target.checked})),className:"rounded"}),l.jsx(Ge,{htmlFor:"is_active",children:e("surveys.isActive")})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h3",{className:"text-lg font-semibold",children:e("surveys.fields")})}),Q.fields&&l.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-sm text-red-600",children:Q.fields})}),l.jsx("div",{className:"space-y-3",children:ye.map((de,_e)=>{var Re,Fe,Xe;return l.jsx(lt,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>Be(_e,Math.max(0,_e-1)),disabled:_e===0,children:l.jsx(gie,{className:"h-4 w-4"})}),l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>Be(_e,Math.min(ye.length-1,_e+1)),disabled:_e===ye.length-1,children:l.jsx(mie,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{children:[e("surveys.fieldLabel")," *"]}),l.jsx(We,{value:de.field_label,onChange:Vt=>ve(_e,{field_label:Vt.target.value}),placeholder:e("surveys.fieldLabel"),className:Q[`field_${_e}`]?"border-red-500":""}),Q[`field_${_e}`]&&l.jsx("p",{className:"text-sm text-red-500",children:Q[`field_${_e}`]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{children:[e("surveys.fieldType")," *"]}),l.jsxs(kt,{value:de.field_type,onValueChange:Vt=>ve(_e,{field_type:Vt}),children:[l.jsx(St,{children:l.jsx(Nt,{})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"text",children:e("surveys.text")}),l.jsx(Oe,{value:"textarea",children:e("surveys.textarea")}),l.jsx(Oe,{value:"email",children:e("surveys.email")}),l.jsx(Oe,{value:"date",children:e("surveys.date")}),l.jsx(Oe,{value:"select",children:e("surveys.select")}),l.jsx(Oe,{value:"multiselect",children:e("surveys.multiselect")}),l.jsx(Oe,{value:"radio",children:e("surveys.radio")}),l.jsx(Oe,{value:"checkbox",children:e("surveys.checkbox")}),l.jsx(Oe,{value:"image",children:e("surveys.image")})]})]})]})]}),(de.field_type==="select"||de.field_type==="multiselect"||de.field_type==="radio")&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:e("surveys.options")}),l.jsx(ma,{defaultValue:((Fe=(Re=de.field_options)==null?void 0:Re.options)==null?void 0:Fe.join(`
`))||"",onBlur:Vt=>{const Xr=Vt.target.value.split(/[\n\s]+/).filter(nt=>nt.trim()).map(nt=>nt.trim());ve(_e,{field_options:{options:Xr,allow_multiple:de.field_type==="multiselect"}})},placeholder:"Enter options separated by spaces or new lines (e.g., POS CRM ERP)",rows:3}),((Xe=de.field_options)==null?void 0:Xe.options)&&de.field_options.options.length>0&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[de.field_options.options.length," option(s): ",de.field_options.options.join(", ")]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:`required-${_e}`,checked:de.is_required,onChange:Vt=>ve(_e,{is_required:Vt.target.checked}),className:"rounded"}),l.jsx(Ge,{htmlFor:`required-${_e}`,children:e("surveys.isRequired")})]})]}),l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>be(_e),className:"text-red-500 hover:text-red-700",children:l.jsx(wr,{className:"h-4 w-4"})})]})},_e)})}),l.jsx("div",{className:"flex justify-center pt-4",children:l.jsxs(le,{onClick:ue,size:"sm",className:"bg-primary hover:bg-primary/90 text-white",children:[l.jsx(lr,{className:"h-4 w-4 me-2"}),e("surveys.addField")]})})]})]}),l.jsxs(Ua,{children:[l.jsx(le,{variant:"outline",onClick:()=>L(!1),disabled:O,children:e("buttons.cancel")}),l.jsx(le,{onClick:Ee,disabled:!ie.template_name.trim()||O,children:e(O?"buttons.saving":I?"surveys.updateTemplate":"surveys.createTemplate")})]})]})})]})}function xGe(){const{t:e}=Kt();xr();const{isRTL:r}=Wa(),n=wn(),[a,s]=y.useState([]),[i,o]=y.useState(!0),[c,u]=y.useState(null),[d,f]=y.useState(""),[h,m]=y.useState(null),[p,g]=y.useState(!1),[v,x]=y.useState("leads"),[w,b]=y.useState(""),[_,S]=y.useState("");y.useEffect(()=>{j()},[]);const j=async()=>{try{o(!0);const D=await is.getAll();s(D)}catch(D){console.error("Failed to load stages:",D)}finally{o(!1)}},N=D=>a.filter(T=>T.stage_type===D).sort((T,W)=>(T.stager_order_index??0)-(W.stager_order_index??0)),k=async()=>{if(w.trim())try{const D=N(v),T=D.length>0?Math.max(...D.map(q=>q.stager_order_index||0)):-1,W={stage_name:w.trim(),stage_name_ar:_.trim()||null,stage_type:v,stager_order_index:T+1,color:"border-l-4 border-gray-400",color_var:"--gray-400"};await is.create(W),await j(),b(""),S(""),g(!1)}catch(D){console.error("Failed to create stage:",D)}},E=async(D,T)=>{try{await is.update(D.stage_id,T),await j(),u(null),f("")}catch(W){console.error("Failed to update stage:",W)}},C=async D=>{try{await is.delete(D),await j(),m(null)}catch(T){console.error("Failed to delete stage:",T)}},A=D=>{const T=N(D);return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 rtl:flex-row-reverse",children:[l.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:e(`settings.${D}`)}),l.jsxs(le,{size:n?"default":"sm",onClick:()=>{x(D),g(!0)},className:"w-full sm:w-auto",children:[l.jsx(lr,{className:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),e("settings.addStage")]})]}),T.length===0?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("settings.noStages")}):l.jsx("div",{className:"space-y-2",children:T.map((W,q)=>l.jsx(lt,{className:"p-3 md:p-4",children:l.jsxs("div",{className:ge("flex gap-2 md:gap-3 rtl:flex-row-reverse",n?"flex-col":"items-center"),children:[!n&&l.jsx(Zo,{className:"h-5 w-5 text-muted-foreground cursor-move flex-shrink-0"}),(c==null?void 0:c.stage_id)===W.stage_id?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(We,{value:c.stage_name,onChange:L=>u({...c,stage_name:L.target.value}),placeholder:e("settings.englishName"),autoFocus:!0,className:"text-left rtl:text-right"}),l.jsx(We,{value:d,onChange:L=>f(L.target.value),placeholder:e("settings.arabicName"),dir:"rtl",className:"text-right"})]}),l.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[l.jsx(le,{size:"sm",variant:"ghost",onClick:()=>E(W,{stage_name:c.stage_name,stage_name_ar:d||null}),className:"flex-1 sm:flex-initial",children:l.jsx(Oo,{className:"h-4 w-4"})}),l.jsx(le,{size:"sm",variant:"ghost",onClick:()=>{u(null),f("")},className:"flex-1 sm:flex-initial",children:l.jsx(Po,{className:"h-4 w-4"})})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:Te(W,"stage_name")}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("settings.order"),": ",W.stager_order_index]})]}),l.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[l.jsx(le,{size:"sm",variant:"ghost",onClick:()=>{u(W),f(W.stage_name_ar||"")},className:"flex-1 sm:flex-initial",children:l.jsx(Vi,{className:"h-4 w-4"})}),l.jsx(le,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive flex-1 sm:flex-initial",onClick:()=>m(W.stage_id),children:l.jsx(wr,{className:"h-4 w-4"})})]})]})]})},W.stage_id))})]})};return i?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-4 md:space-y-6 bg-background p-4 rounded-md",dir:r?"rtl":"ltr",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:e("settings.title")}),l.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:e("settings.description")})]}),l.jsxs(Cl,{defaultValue:"stages",className:"space-y-6",children:[l.jsx(Lo,{className:"bg-muted/50 p-1 w-full sm:w-auto overflow-x-auto overflow-y-hidden",dir:r?"rtl":"ltr",children:l.jsx(tn,{value:"stages",className:"px-6",children:e("settings.stageManagement")})}),l.jsx(Pn,{value:"stages",className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",dir:r?"rtl":"ltr",children:[l.jsxs(lt,{className:"border-none shadow-soft overflow-hidden",children:[l.jsx(Xt,{className:"bg-muted/30 pb-3",dir:r?"rtl":"ltr",children:l.jsxs(_r,{className:"text-lg flex items-center gap-2",children:[l.jsx(Zo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.leads")]})}),l.jsx(xt,{className:"p-4 md:p-6",children:A("leads")})]}),l.jsxs(lt,{className:"border-none shadow-soft overflow-hidden",children:[l.jsx(Xt,{className:"bg-muted/30 pb-3",dir:r?"rtl":"ltr",children:l.jsxs(_r,{className:"text-lg flex items-center gap-2",children:[l.jsx(Zo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.projects")]})}),l.jsx(xt,{className:"p-4 md:p-6",children:A("projects")})]}),l.jsxs(lt,{className:"border-none shadow-soft overflow-hidden",children:[l.jsx(Xt,{className:"bg-muted/30 pb-3",dir:r?"rtl":"ltr",children:l.jsxs(_r,{className:"text-lg flex items-center gap-2",children:[l.jsx(Zo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tasks")]})}),l.jsx(xt,{className:"p-4 md:p-6",children:A("tasks")})]}),l.jsxs(lt,{className:"border-none shadow-soft overflow-hidden",children:[l.jsx(Xt,{className:"bg-muted/30 pb-3",dir:r?"rtl":"ltr",children:l.jsxs(_r,{className:"text-lg flex items-center gap-2",children:[l.jsx(Zo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tickets")]})}),l.jsx(xt,{className:"p-4 md:p-6",children:A("tickets")})]}),l.jsxs(lt,{className:"border-none shadow-soft overflow-hidden",children:[l.jsx(Xt,{className:"bg-muted/30 pb-3",dir:r?"rtl":"ltr",children:l.jsxs(_r,{className:"text-lg flex items-center gap-2",children:[l.jsx(Zo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mleads")]})}),l.jsx(xt,{className:"p-4 md:p-6",children:A("mleads")})]}),l.jsxs(lt,{className:"border-none shadow-soft overflow-hidden",children:[l.jsx(Xt,{className:"bg-muted/30 pb-3",dir:r?"rtl":"ltr",children:l.jsxs(_r,{className:"text-lg flex items-center gap-2",children:[l.jsx(Zo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mprojects")]})}),l.jsx(xt,{className:"p-4 md:p-6",children:A("mprojects")})]})]})})]}),l.jsx(On,{open:p,onOpenChange:g,children:l.jsxs(gn,{className:"w-[95vw] sm:max-w-[425px]",children:[l.jsxs(vn,{children:[l.jsx(xn,{children:e("settings.addStage")}),l.jsx(Va,{children:e("settings.addStageDesc",{type:e(`settings.${v}`)})})]}),l.jsxs("div",{className:"space-y-4 py-4",dir:r?"rtl":"ltr",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"stage-name",className:"text-left rtl:text-right",children:e("settings.englishName")}),l.jsx(We,{id:"stage-name",value:w,onChange:D=>b(D.target.value),placeholder:e("settings.stageNamePlaceholder"),className:"text-left rtl:text-right"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"stage-name-ar",className:"text-left rtl:text-right",children:e("settings.arabicName")}),l.jsx(We,{id:"stage-name-ar",value:_,onChange:D=>S(D.target.value),placeholder:e("settings.stageNamePlaceholder"),dir:"rtl",className:"text-right"})]})]}),l.jsxs(Ua,{className:"flex-col sm:flex-row gap-2",dir:r?"rtl":"ltr",children:[l.jsx(le,{variant:"outline",onClick:()=>g(!1),className:"w-full sm:w-auto",children:e("buttons.cancel")}),l.jsx(le,{onClick:k,disabled:!w.trim(),className:"w-full sm:w-auto",children:e("buttons.create")})]})]})}),l.jsx(gi,{open:!!h,onOpenChange:D=>!D&&m(null),children:l.jsxs(Ms,{children:[l.jsxs(Fs,{children:[l.jsx($s,{children:e("settings.deleteStage")}),l.jsx(Bs,{children:e("settings.deleteStageConfirmation")})]}),l.jsxs(Ls,{dir:r?"rtl":"ltr",children:[l.jsx(Vs,{children:e("buttons.cancel")}),l.jsx(Us,{onClick:()=>h&&C(h),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})})]})}const R4=({className:e,...r})=>l.jsx("nav",{role:"navigation","aria-label":"pagination",className:ge("mx-auto flex w-full justify-center",e),...r});R4.displayName="Pagination";const I4=y.forwardRef(({className:e,...r},n)=>l.jsx("ul",{ref:n,className:ge("flex flex-row items-center gap-1",e),...r}));I4.displayName="PaginationContent";const lf=y.forwardRef(({className:e,...r},n)=>l.jsx("li",{ref:n,className:ge("",e),...r}));lf.displayName="PaginationItem";const M4=({className:e,isActive:r,size:n="icon",...a})=>l.jsx("a",{"aria-current":r?"page":void 0,className:ge($m({variant:r?"outline":"ghost",size:n}),e),...a});M4.displayName="PaginationLink";const F4=({className:e,children:r,...n})=>l.jsx(M4,{"aria-label":"Go to previous page",size:"default",className:ge("gap-1 pl-2.5",e),...n,children:l.jsx("span",{children:r||"Previous"})});F4.displayName="PaginationPrevious";const L4=({className:e,children:r,...n})=>l.jsx(M4,{"aria-label":"Go to next page",size:"default",className:ge("gap-1 pr-2.5",e),...n,children:l.jsx("span",{children:r||"Next"})});L4.displayName="PaginationNext";var a8=1,yGe=.9,bGe=.8,wGe=.17,kN=.1,NN=.999,_Ge=.9999,SGe=.99,jGe=/[\\\/_+.#"@\[\(\{&]/,kGe=/[\\\/_+.#"@\[\(\{&]/g,NGe=/[\s-]/,$J=/[\s-]/g;function pT(e,r,n,a,s,i,o){if(i===r.length)return s===e.length?a8:SGe;var c=`${s},${i}`;if(o[c]!==void 0)return o[c];for(var u=a.charAt(i),d=n.indexOf(u,s),f=0,h,m,p,g;d>=0;)h=pT(e,r,n,a,d+1,i+1,o),h>f&&(d===s?h*=a8:jGe.test(e.charAt(d-1))?(h*=bGe,p=e.slice(s,d-1).match(kGe),p&&s>0&&(h*=Math.pow(NN,p.length))):NGe.test(e.charAt(d-1))?(h*=yGe,g=e.slice(s,d-1).match($J),g&&s>0&&(h*=Math.pow(NN,g.length))):(h*=wGe,s>0&&(h*=Math.pow(NN,d-s))),e.charAt(d)!==r.charAt(i)&&(h*=_Ge)),(h<kN&&n.charAt(d-1)===a.charAt(i+1)||a.charAt(i+1)===a.charAt(i)&&n.charAt(d-1)!==a.charAt(i))&&(m=pT(e,r,n,a,d+1,i+2,o),m*kN>h&&(h=m*kN)),h>f&&(f=h),d=n.indexOf(u,d+1);return o[c]=f,f}function s8(e){return e.toLowerCase().replace($J," ")}function CGe(e,r,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,pT(e,r,s8(e),s8(r),0,0,{})}var I0='[cmdk-group=""]',CN='[cmdk-group-items=""]',EGe='[cmdk-group-heading=""]',BJ='[cmdk-item=""]',i8=`${BJ}:not([aria-disabled="true"])`,gT="cmdk-item-select",_h="data-value",TGe=(e,r,n)=>CGe(e,r,n),UJ=y.createContext(void 0),ay=()=>y.useContext(UJ),VJ=y.createContext(void 0),$4=()=>y.useContext(VJ),zJ=y.createContext(void 0),WJ=y.forwardRef((e,r)=>{let n=Sh(()=>{var P,J;return{search:"",value:(J=(P=e.value)!=null?P:e.defaultValue)!=null?J:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=Sh(()=>new Set),s=Sh(()=>new Map),i=Sh(()=>new Map),o=Sh(()=>new Set),c=HJ(e),{label:u,children:d,value:f,onValueChange:h,filter:m,shouldFilter:p,loop:g,disablePointerSelection:v=!1,vimBindings:x=!0,...w}=e,b=ha(),_=ha(),S=ha(),j=y.useRef(null),N=BGe();Df(()=>{if(f!==void 0){let P=f.trim();n.current.value=P,k.emit()}},[f]),Df(()=>{N(6,W)},[]);let k=y.useMemo(()=>({subscribe:P=>(o.current.add(P),()=>o.current.delete(P)),snapshot:()=>n.current,setState:(P,J,V)=>{var K,ie,oe,ye;if(!Object.is(n.current[P],J)){if(n.current[P]=J,P==="search")T(),A(),N(1,D);else if(P==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ae=document.getElementById(S);ae?ae.focus():(K=document.getElementById(b))==null||K.focus()}if(N(7,()=>{var ae;n.current.selectedItemId=(ae=q())==null?void 0:ae.id,k.emit()}),V||N(5,W),((ie=c.current)==null?void 0:ie.value)!==void 0){let ae=J??"";(ye=(oe=c.current).onValueChange)==null||ye.call(oe,ae);return}}k.emit()}},emit:()=>{o.current.forEach(P=>P())}}),[]),E=y.useMemo(()=>({value:(P,J,V)=>{var K;J!==((K=i.current.get(P))==null?void 0:K.value)&&(i.current.set(P,{value:J,keywords:V}),n.current.filtered.items.set(P,C(J,V)),N(2,()=>{A(),k.emit()}))},item:(P,J)=>(a.current.add(P),J&&(s.current.has(J)?s.current.get(J).add(P):s.current.set(J,new Set([P]))),N(3,()=>{T(),A(),n.current.value||D(),k.emit()}),()=>{i.current.delete(P),a.current.delete(P),n.current.filtered.items.delete(P);let V=q();N(4,()=>{T(),(V==null?void 0:V.getAttribute("id"))===P&&D(),k.emit()})}),group:P=>(s.current.has(P)||s.current.set(P,new Set),()=>{i.current.delete(P),s.current.delete(P)}),filter:()=>c.current.shouldFilter,label:u||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:b,inputId:S,labelId:_,listInnerRef:j}),[]);function C(P,J){var V,K;let ie=(K=(V=c.current)==null?void 0:V.filter)!=null?K:TGe;return P?ie(P,n.current.search,J):0}function A(){if(!n.current.search||c.current.shouldFilter===!1)return;let P=n.current.filtered.items,J=[];n.current.filtered.groups.forEach(K=>{let ie=s.current.get(K),oe=0;ie.forEach(ye=>{let ae=P.get(ye);oe=Math.max(ae,oe)}),J.push([K,oe])});let V=j.current;L().sort((K,ie)=>{var oe,ye;let ae=K.getAttribute("id"),Q=ie.getAttribute("id");return((oe=P.get(Q))!=null?oe:0)-((ye=P.get(ae))!=null?ye:0)}).forEach(K=>{let ie=K.closest(CN);ie?ie.appendChild(K.parentElement===ie?K:K.closest(`${CN} > *`)):V.appendChild(K.parentElement===V?K:K.closest(`${CN} > *`))}),J.sort((K,ie)=>ie[1]-K[1]).forEach(K=>{var ie;let oe=(ie=j.current)==null?void 0:ie.querySelector(`${I0}[${_h}="${encodeURIComponent(K[0])}"]`);oe==null||oe.parentElement.appendChild(oe)})}function D(){let P=L().find(V=>V.getAttribute("aria-disabled")!=="true"),J=P==null?void 0:P.getAttribute(_h);k.setState("value",J||void 0)}function T(){var P,J,V,K;if(!n.current.search||c.current.shouldFilter===!1){n.current.filtered.count=a.current.size;return}n.current.filtered.groups=new Set;let ie=0;for(let oe of a.current){let ye=(J=(P=i.current.get(oe))==null?void 0:P.value)!=null?J:"",ae=(K=(V=i.current.get(oe))==null?void 0:V.keywords)!=null?K:[],Q=C(ye,ae);n.current.filtered.items.set(oe,Q),Q>0&&ie++}for(let[oe,ye]of s.current)for(let ae of ye)if(n.current.filtered.items.get(ae)>0){n.current.filtered.groups.add(oe);break}n.current.filtered.count=ie}function W(){var P,J,V;let K=q();K&&(((P=K.parentElement)==null?void 0:P.firstChild)===K&&((V=(J=K.closest(I0))==null?void 0:J.querySelector(EGe))==null||V.scrollIntoView({block:"nearest"})),K.scrollIntoView({block:"nearest"}))}function q(){var P;return(P=j.current)==null?void 0:P.querySelector(`${BJ}[aria-selected="true"]`)}function L(){var P;return Array.from(((P=j.current)==null?void 0:P.querySelectorAll(i8))||[])}function I(P){let J=L()[P];J&&k.setState("value",J.getAttribute(_h))}function z(P){var J;let V=q(),K=L(),ie=K.findIndex(ye=>ye===V),oe=K[ie+P];(J=c.current)!=null&&J.loop&&(oe=ie+P<0?K[K.length-1]:ie+P===K.length?K[0]:K[ie+P]),oe&&k.setState("value",oe.getAttribute(_h))}function F(P){let J=q(),V=J==null?void 0:J.closest(I0),K;for(;V&&!K;)V=P>0?LGe(V,I0):$Ge(V,I0),K=V==null?void 0:V.querySelector(i8);K?k.setState("value",K.getAttribute(_h)):z(P)}let M=()=>I(L().length-1),X=P=>{P.preventDefault(),P.metaKey?M():P.altKey?F(1):z(1)},ee=P=>{P.preventDefault(),P.metaKey?I(0):P.altKey?F(-1):z(-1)};return y.createElement(mt.div,{ref:r,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:P=>{var J;(J=w.onKeyDown)==null||J.call(w,P);let V=P.nativeEvent.isComposing||P.keyCode===229;if(!(P.defaultPrevented||V))switch(P.key){case"n":case"j":{x&&P.ctrlKey&&X(P);break}case"ArrowDown":{X(P);break}case"p":case"k":{x&&P.ctrlKey&&ee(P);break}case"ArrowUp":{ee(P);break}case"Home":{P.preventDefault(),I(0);break}case"End":{P.preventDefault(),M();break}case"Enter":{P.preventDefault();let K=q();if(K){let ie=new Event(gT);K.dispatchEvent(ie)}}}}},y.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:VGe},u),dj(e,P=>y.createElement(VJ.Provider,{value:k},y.createElement(UJ.Provider,{value:E},P))))}),AGe=y.forwardRef((e,r)=>{var n,a;let s=ha(),i=y.useRef(null),o=y.useContext(zJ),c=ay(),u=HJ(e),d=(a=(n=u.current)==null?void 0:n.forceMount)!=null?a:o==null?void 0:o.forceMount;Df(()=>{if(!d)return c.item(s,o==null?void 0:o.id)},[d]);let f=qJ(s,i,[e.value,e.children,i],e.keywords),h=$4(),m=Hu(N=>N.value&&N.value===f.current),p=Hu(N=>d||c.filter()===!1?!0:N.search?N.filtered.items.get(s)>0:!0);y.useEffect(()=>{let N=i.current;if(!(!N||e.disabled))return N.addEventListener(gT,g),()=>N.removeEventListener(gT,g)},[p,e.onSelect,e.disabled]);function g(){var N,k;v(),(k=(N=u.current).onSelect)==null||k.call(N,f.current)}function v(){h.setState("value",f.current,!0)}if(!p)return null;let{disabled:x,value:w,onSelect:b,forceMount:_,keywords:S,...j}=e;return y.createElement(mt.div,{ref:vc(i,r),...j,id:s,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!m,"data-disabled":!!x,"data-selected":!!m,onPointerMove:x||c.getDisablePointerSelection()?void 0:v,onClick:x?void 0:g},e.children)}),OGe=y.forwardRef((e,r)=>{let{heading:n,children:a,forceMount:s,...i}=e,o=ha(),c=y.useRef(null),u=y.useRef(null),d=ha(),f=ay(),h=Hu(p=>s||f.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);Df(()=>f.group(o),[]),qJ(o,c,[e.value,e.heading,u]);let m=y.useMemo(()=>({id:o,forceMount:s}),[s]);return y.createElement(mt.div,{ref:vc(c,r),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},n&&y.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),dj(e,p=>y.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},y.createElement(zJ.Provider,{value:m},p))))}),PGe=y.forwardRef((e,r)=>{let{alwaysRender:n,...a}=e,s=y.useRef(null),i=Hu(o=>!o.search);return!n&&!i?null:y.createElement(mt.div,{ref:vc(s,r),...a,"cmdk-separator":"",role:"separator"})}),DGe=y.forwardRef((e,r)=>{let{onValueChange:n,...a}=e,s=e.value!=null,i=$4(),o=Hu(d=>d.search),c=Hu(d=>d.selectedItemId),u=ay();return y.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),y.createElement(mt.input,{ref:r,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":c,id:u.inputId,type:"text",value:s?e.value:o,onChange:d=>{s||i.setState("search",d.target.value),n==null||n(d.target.value)}})}),RGe=y.forwardRef((e,r)=>{let{children:n,label:a="Suggestions",...s}=e,i=y.useRef(null),o=y.useRef(null),c=Hu(d=>d.selectedItemId),u=ay();return y.useEffect(()=>{if(o.current&&i.current){let d=o.current,f=i.current,h,m=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let p=d.offsetHeight;f.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(d),()=>{cancelAnimationFrame(h),m.unobserve(d)}}},[]),y.createElement(mt.div,{ref:vc(i,r),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":a,id:u.listId},dj(e,d=>y.createElement("div",{ref:vc(o,u.listInnerRef),"cmdk-list-sizer":""},d)))}),IGe=y.forwardRef((e,r)=>{let{open:n,onOpenChange:a,overlayClassName:s,contentClassName:i,container:o,...c}=e;return y.createElement(J_,{open:n,onOpenChange:a},y.createElement(Q_,{container:o},y.createElement(Lp,{"cmdk-overlay":"",className:s}),y.createElement($p,{"aria-label":e.label,"cmdk-dialog":"",className:i},y.createElement(WJ,{ref:r,...c}))))}),MGe=y.forwardRef((e,r)=>Hu(n=>n.filtered.count===0)?y.createElement(mt.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),FGe=y.forwardRef((e,r)=>{let{progress:n,children:a,label:s="Loading...",...i}=e;return y.createElement(mt.div,{ref:r,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},dj(e,o=>y.createElement("div",{"aria-hidden":!0},o)))}),qs=Object.assign(WJ,{List:RGe,Item:AGe,Input:DGe,Group:OGe,Separator:PGe,Dialog:IGe,Empty:MGe,Loading:FGe});function LGe(e,r){let n=e.nextElementSibling;for(;n;){if(n.matches(r))return n;n=n.nextElementSibling}}function $Ge(e,r){let n=e.previousElementSibling;for(;n;){if(n.matches(r))return n;n=n.previousElementSibling}}function HJ(e){let r=y.useRef(e);return Df(()=>{r.current=e}),r}var Df=typeof window>"u"?y.useEffect:y.useLayoutEffect;function Sh(e){let r=y.useRef();return r.current===void 0&&(r.current=e()),r}function Hu(e){let r=$4(),n=()=>e(r.snapshot());return y.useSyncExternalStore(r.subscribe,n,n)}function qJ(e,r,n,a=[]){let s=y.useRef(),i=ay();return Df(()=>{var o;let c=(()=>{var d;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(d=f.current.textContent)==null?void 0:d.trim():s.current}})(),u=a.map(d=>d.trim());i.value(e,c,u),(o=r.current)==null||o.setAttribute(_h,c),s.current=c}),s}var BGe=()=>{let[e,r]=y.useState(),n=Sh(()=>new Map);return Df(()=>{n.current.forEach(a=>a()),n.current=new Map},[e]),(a,s)=>{n.current.set(a,s),r({})}};function UGe(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function dj({asChild:e,children:r},n){return e&&y.isValidElement(r)?y.cloneElement(UGe(r),{ref:r.ref},n(r.props.children)):n(r)}var VGe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ka=y.forwardRef(({className:e,...r},n)=>l.jsx(qs,{ref:n,className:ge("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...r}));ka.displayName=qs.displayName;const Na=y.forwardRef(({className:e,...r},n)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(Ws,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(qs.Input,{ref:n,className:ge("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...r})]}));Na.displayName=qs.Input.displayName;const Ca=y.forwardRef(({className:e,...r},n)=>l.jsx(qs.List,{ref:n,className:ge("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...r}));Ca.displayName=qs.List.displayName;const Ea=y.forwardRef((e,r)=>l.jsx(qs.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));Ea.displayName=qs.Empty.displayName;const Ta=y.forwardRef(({className:e,...r},n)=>l.jsx(qs.Group,{ref:n,className:ge("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...r}));Ta.displayName=qs.Group.displayName;const zGe=y.forwardRef(({className:e,...r},n)=>l.jsx(qs.Separator,{ref:n,className:ge("-mx-1 h-px bg-border",e),...r}));zGe.displayName=qs.Separator.displayName;const Hr=y.forwardRef(({className:e,...r},n)=>l.jsx(qs.Item,{ref:n,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...r}));Hr.displayName=qs.Item.displayName;const WGe={light:"",dark:".dark"},KJ=y.createContext(null);function GJ(){const e=y.useContext(KJ);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const su=y.forwardRef(({id:e,className:r,children:n,config:a,...s},i)=>{const o=y.useId(),c=`chart-${e||o.replace(/:/g,"")}`;return l.jsx(KJ.Provider,{value:{config:a},children:l.jsxs("div",{"data-chart":c,ref:i,className:ge("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",r),...s,children:[l.jsx(HGe,{id:c,config:a}),l.jsx(SS,{children:n})]})})});su.displayName="Chart";const HGe=({id:e,config:r})=>{const n=Object.entries(r).filter(([a,s])=>s.theme||s.color);return n.length?l.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(WGe).map(([a,s])=>`
${s} [data-chart=${e}] {
${n.map(([i,o])=>{var u;const c=((u=o.theme)==null?void 0:u[a])||o.color;return c?`  --color-${i}: ${c};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Ad=Qs,iu=y.forwardRef(({active:e,payload:r,className:n,indicator:a="dot",hideLabel:s=!1,hideIndicator:i=!1,label:o,labelFormatter:c,labelClassName:u,formatter:d,color:f,nameKey:h,labelKey:m},p)=>{const{config:g}=GJ(),v=y.useMemo(()=>{var j;if(s||!(r!=null&&r.length))return null;const[w]=r,b=`${m||w.dataKey||w.name||"value"}`,_=vT(g,w,b),S=!m&&typeof o=="string"?((j=g[o])==null?void 0:j.label)||o:_==null?void 0:_.label;return c?l.jsx("div",{className:ge("font-medium",u),children:c(S,r)}):S?l.jsx("div",{className:ge("font-medium",u),children:S}):null},[o,c,r,s,u,g,m]);if(!e||!(r!=null&&r.length))return null;const x=r.length===1&&a!=="dot";return l.jsxs("div",{ref:p,className:ge("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[x?null:v,l.jsx("div",{className:"grid gap-1.5",children:r.map((w,b)=>{const _=`${h||w.name||w.dataKey||"value"}`,S=vT(g,w,_),j=f||w.payload.fill||w.color;return l.jsx("div",{className:ge("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",a==="dot"&&"items-center"),children:d&&(w==null?void 0:w.value)!==void 0&&w.name?d(w.value,w.name,w,b,w.payload):l.jsxs(l.Fragment,{children:[S!=null&&S.icon?l.jsx(S.icon,{}):!i&&l.jsx("div",{className:ge("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":a==="dot","w-1":a==="line","w-0 border-[1.5px] border-dashed bg-transparent":a==="dashed","my-0.5":x&&a==="dashed"}),style:{"--color-bg":j,"--color-border":j}}),l.jsxs("div",{className:ge("flex flex-1 justify-between leading-none",x?"items-end":"items-center"),children:[l.jsxs("div",{className:"grid gap-1.5",children:[x?v:null,l.jsx("span",{className:"text-muted-foreground",children:(S==null?void 0:S.label)||w.name})]}),w.value&&l.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:w.value.toLocaleString()})]})]})},w.dataKey)})})]})});iu.displayName="ChartTooltip";const qGe=y.forwardRef(({className:e,hideIcon:r=!1,payload:n,verticalAlign:a="bottom",nameKey:s},i)=>{const{config:o}=GJ();return n!=null&&n.length?l.jsx("div",{ref:i,className:ge("flex items-center justify-center gap-4",a==="top"?"pb-3":"pt-3",e),children:n.map(c=>{const u=`${s||c.dataKey||"value"}`,d=vT(o,c,u);return l.jsxs("div",{className:ge("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[d!=null&&d.icon&&!r?l.jsx(d.icon,{}):l.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:c.color}}),d==null?void 0:d.label]},c.value)})}):null});qGe.displayName="ChartLegend";function vT(e,r,n){if(typeof r!="object"||r===null)return;const a="payload"in r&&typeof r.payload=="object"&&r.payload!==null?r.payload:void 0;let s=n;return n in r&&typeof r[n]=="string"?s=r[n]:a&&n in a&&typeof a[n]=="string"&&(s=a[n]),s in e?e[s]:e[n]}function KGe(){var dD,fD,hD,mD,pD,gD,vD;const{t:e}=Kt(),{user:r}=xr(),{currentLanguage:n}=Wa(),{toast:a}=Ol(),s=wn(),{setBreadcrumbs:i}=px();zs();const[o,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,p]=y.useState([]),[g,v]=y.useState([]),[x,w]=y.useState([]),[b,_]=y.useState([]),[S,j]=y.useState([]),[N,k]=y.useState([]),[E,C]=y.useState([]),[A,D]=y.useState([]),[T,W]=y.useState([]),[q,L]=y.useState(!0),[I,z]=y.useState(null),[F,M]=y.useState(""),[X,ee]=y.useState(""),[P,J]=y.useState(!1),[V,K]=y.useState(1),[ie]=y.useState(10),[oe,ye]=y.useState(0),[ae,Q]=y.useState(0),[fe,O]=y.useState(""),[Le,$e]=y.useState(""),[Me,He]=y.useState(""),[Pe,bt]=y.useState(""),[pt,se]=y.useState(""),[he,B]=y.useState(""),[ue,be]=y.useState(null),[ve,Be]=y.useState(null),[je,ke]=y.useState(!1),[me,Ee]=y.useState(!1),[Ie,Ue]=y.useState({city_name_en:"",city_name_ar:"",country_id:null}),[Ve,ht]=y.useState(!1),[Qt,rr]=y.useState({system_name_en:"",system_name_ar:""}),[kr,$r]=y.useState(!1),[_n,wi]=y.useState({activity_name_en:"",activity_name_ar:""}),[aa,de]=y.useState(!1),[_e,Re]=y.useState({status_name_en:"",status_name_ar:""}),[Fe,Xe]=y.useState([]),[Vt,Xr]=y.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[nt,ot]=y.useState(!1),[Yn,sa]=y.useState(null),[Gt,Ji]=y.useState(null),[Ll,H]=y.useState(!1),[re,Z]=y.useState([]),[te,R]=y.useState(!1),[Y,ce]=y.useState("list"),[Ne,we]=y.useState(null),[Se,Ce]=y.useState(!1),[ze,et]=y.useState(!1),[st,Ye]=y.useState(!1),[at,Rt]=y.useState(!1),[Tr,Ar]=y.useState(!1),[In,Ic]=y.useState(!1),[Mc,Fc]=y.useState(!1),[Vo,Qf]=y.useState(!1),[_i,G4]=y.useState(!1),[iy,Y4]=y.useState(null),[X4,hQ]=y.useState(null),[J4,pj]=y.useState(!1),[Q4,gj]=y.useState(!1),[Z4,vj]=y.useState(!1),[eD,xj]=y.useState(!1),[tD,yj]=y.useState(!1),[rD,bj]=y.useState(!1),[ir,Ka]=y.useState({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null});y.useEffect(()=>{i([{label:e("navigation.dashboard"),href:"/"},{label:"Master Leads",href:"/mleads"}])},[i,e]),y.useEffect(()=>{aD()},[]),y.useEffect(()=>{const U=setTimeout(()=>{ee(F)},500);return()=>clearTimeout(U)},[F]);const nD=y.useMemo(()=>!!(fe||Le||Me||Pe||pt||he),[fe,Le,Me,Pe,pt,he]),Lc=y.useMemo(()=>nD||!!X,[nD,X]);y.useEffect(()=>{u0(X!=="")},[V,X,fe,Le,Me,Pe,pt,he,n]),y.useEffect(()=>{te&&mQ()},[te,X,fe,Le,Me,Pe,pt,he,n]);const aD=async()=>{try{L(!0),z(null);const[U,xe,qe,wt,Or,Ga,Qi,$l,Sn]=await Promise.all([G.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:200,select_fields:"city_id,city_name_en,city_name_ar"}),G.mActivity.list({sort_by:"activity_name_en",sort_order:"asc",pageSize:200,select_fields:"activity_id,activity_name_en,activity_name_ar"}),G.mStatus.list({sort_by:"status_name_en",sort_order:"asc",pageSize:200,select_fields:"status_id,status_name_en,status_name_ar"}),G.mSystem.list({sort_by:"system_name_en",sort_order:"asc",pageSize:200,select_fields:"system_id,system_name_en,system_name_ar"}),G.stages.list({exact_filters:{stage_type:"mleads"},sort_by:"stager_order_index",sort_order:"asc",pageSize:200,select_fields:"stage_id,stage_name,stage_name_ar,stage_type,stager_order_index"}),G.mContacts.list({select_fields:"contact_id,contact_name,leads_id",sort_by:"contact_name",sort_order:"asc",pageSize:200}),G.Users.list({sort_by:"name",sort_order:"asc",pageSize:200,select_fields:"name,Employee,userid,user_id,permissions,permissions_permissions_Name"}),G.mCountry.list({sort_by:"country_name_en",sort_order:"asc",pageSize:200,select_fields:"country_id,country_name_en,country_name_ar"}),G.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc",pageSize:200,select_fields:"jobtitle_id,jobtitle_name_en,jobtitle_name_ar"})]),ya=cd=>Array.isArray(cd)?cd:cd!=null&&cd.data&&Array.isArray(cd.data)?cd.data:[];h(ya(U)),p(ya(xe)),v(ya(qe)),w(ya(wt)),_(ya(Or)),j(ya(Ga)),C(ya(Qi)),D(ya($l)),W(ya(Sn))}catch(U){const xe=U instanceof Error?U.message:"Failed to load data";z(xe),a({title:"Error",description:xe,variant:"destructive"})}finally{L(!1)}},u0=async(U=!1)=>{try{U?J(!0):L(!0),z(null);const xe={};fe&&(xe.city_id=parseInt(fe)),Me&&(xe.system_id=parseInt(Me)),Pe&&(xe.status_id=parseInt(Pe)),pt&&(xe.activity_id=parseInt(pt)),he&&(xe.assigned_to=parseInt(he)),Le&&(xe.m_city_country_id=parseInt(Le));const $l=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation","decision_maker",n==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",n==="ar"?"m_city_city_name_ar":"m_city_city_name_en",n==="ar"?"m_system_system_name_ar":"m_system_system_name_en",n==="ar"?"m_status_status_name_ar":"m_status_status_name_en",n==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),Sn={page:Lc?0:V-1,pageSize:Lc?1e3:ie,sort_by:"created_at",sort_order:"desc",exact_filters:xe,select_fields:$l};X&&(Sn.search_fields="company_name",Sn.search=X);const ya=await G.mLeads.list(Sn);c(ya.data||[]),Q(ya.total||0)}catch(xe){const qe=xe instanceof Error?xe.message:"Failed to load data";z(qe),a({title:"Error",description:qe,variant:"destructive"})}finally{L(!1),J(!1)}},mQ=async()=>{try{const U={};fe&&(U.city_id=parseInt(fe)),Me&&(U.system_id=parseInt(Me)),Pe&&(U.status_id=parseInt(Pe)),pt&&(U.activity_id=parseInt(pt)),he&&(U.assigned_to=parseInt(he)),Le&&(U.m_city_country_id=parseInt(Le));const Qi=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation",n==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",n==="ar"?"m_city_city_name_ar":"m_city_city_name_en",n==="ar"?"m_system_system_name_ar":"m_system_system_name_en",n==="ar"?"m_status_status_name_ar":"m_status_status_name_en",n==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),$l={pageSize:1e3,exact_filters:U,select_fields:Qi};X&&($l.search=X);const Sn=await G.mLeads.list($l);d(Sn.data||[])}catch(U){console.error("Failed to load all filtered leads:",U)}},sD=y.useMemo(()=>{if(!Lc)return o;const U=Sn=>Sn?parseInt(Sn,10):void 0,xe=U(Pe),qe=U(pt),wt=U(Me),Or=U(fe),Ga=U(Le),Qi=U(he),$l=X.trim().toLowerCase();return o.filter(Sn=>{if(xe!==void 0&&Sn.status_id!==xe||qe!==void 0&&Sn.activity_id!==qe||wt!==void 0&&Sn.system_id!==wt||Or!==void 0&&Sn.city_id!==Or)return!1;if(Ga!==void 0){const ya=Sn.m_city_country_id??null;if(ya===null||ya!==Ga)return!1}return!(Qi!==void 0&&(Sn.assigned_to===null||Sn.assigned_to===void 0||Sn.assigned_to!==Qi)||$l&&!(Sn.company_name||"").toLowerCase().includes($l))})},[Lc,o,Pe,pt,Me,fe,Le,he,X]),xa=y.useMemo(()=>te?u:sD,[te,u,sD]),pQ=y.useMemo(()=>{if(te){const U=(V-1)*ie,xe=U+ie;return xa.slice(U,xe)}if(Lc){const U=(V-1)*ie,xe=U+ie;return xa.slice(U,xe)}return o},[te,Lc,xa,o,V,ie]),ld=y.useMemo(()=>Math.max(1,Math.ceil(oe/ie)),[oe,ie]);y.useEffect(()=>{ye(Lc?xa.length:ae)},[xa,Lc,ae]),y.useEffect(()=>{V>ld&&K(ld)},[V,ld]);const mr=(U,xe,qe)=>{if(!U)return"-";let wt=n==="ar"&&(U==null?void 0:U[qe])||(U==null?void 0:U[xe]);if(!wt){const Or=xe.replace(/_en$/,""),Ga=qe.replace(/_ar$/,"");wt=n==="ar"&&(U==null?void 0:U[Ga])||(U==null?void 0:U[Or])}return wt||(U==null?void 0:U.name)||(U==null?void 0:U.label)||(U==null?void 0:U.title)||"-"},wj=U=>U&&(n==="ar"?U.m_city_city_name_ar||U.m_city_city_name_en:U.m_city_city_name_en||U.m_city_city_name_ar)||"-",_j=U=>U&&(n==="ar"?U.m_activity_activity_name_ar||U.m_activity_activity_name_en:U.m_activity_activity_name_en||U.m_activity_activity_name_ar)||"-",Sj=U=>U&&(n==="ar"?U.m_status_status_name_ar||U.m_status_status_name_en:U.m_status_status_name_en||U.m_status_status_name_ar)||"-",jj=U=>U&&(n==="ar"?U.m_system_system_name_ar||U.m_system_system_name_en:U.m_system_system_name_en||U.m_system_system_name_ar)||"-",iD=U=>U&&(n==="ar"?U.stages_stage_name_ar||U.stages_stage_name:U.stages_stage_name||U.stages_stage_name_ar)||"-",oy=U=>{if(!U)return"-";const xe=E.find(qe=>{var wt,Or;return((wt=qe.userid)==null?void 0:wt.toString())===U||((Or=qe.user_id)==null?void 0:Or.toString())===U});return(xe==null?void 0:xe.name)||(xe==null?void 0:xe.user_name)||(xe==null?void 0:xe.display_name)||"-"},gQ=U=>{if(U==null||U==="")return"";const xe=Number(U),qe=f.find(wt=>Number(wt.city_id)===xe);return mr(qe,"city_name_en","city_name_ar")},vQ=U=>{if(U==null||U==="")return"";const xe=Number(U),qe=m.find(wt=>Number(wt.activity_id)===xe);return mr(qe,"activity_name_en","activity_name_ar")},xQ=U=>{if(U==null||U==="")return"";const xe=Number(U),qe=g.find(wt=>Number(wt.status_id)===xe);return mr(qe,"status_name_en","status_name_ar")},yQ=U=>{if(U==null||U==="")return"";const xe=Number(U),qe=x.find(wt=>Number(wt.system_id)===xe);return mr(qe,"system_name_en","system_name_ar")},bQ=U=>{if(!U)return"";const xe=b.find(qe=>Number(qe.stage_id)===Number(U));return mr(xe,"stage_name","stage_name_ar")},kj=U=>{const qe={2:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},4:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"},5:{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"},1:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"},6:{bg:"bg-white-100",text:"text-white-800",border:"border-white-200"},3:{bg:"bg-orange-100",text:"text-orange-800",border:"border-orange-200"}}[U]||{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"};return`${qe.bg} ${qe.text} ${qe.border}`},wQ=async(U,xe)=>{const qe=U.name.split(".").pop(),Or=`leads-quotation/${`${xe}/${Math.random().toString(36).substring(2)}.${qe}`}`,{error:Ga}=await Zr.storage.from("leads-quotation").upload(Or,U);if(Ga)throw Ga;const{data:{publicUrl:Qi}}=Zr.storage.from("leads-quotation").getPublicUrl(Or);return{file_key:Or,public_url:Qi,name:U.name,size:U.size,content_type:U.type,uploaded_at:new Date().toISOString(),uploaded_by:r==null?void 0:r.id}},_Q=async()=>{try{let U;if(ve)await G.mLeads.update(ve,ir),U=ve,a({title:e("common.success"),description:e("mleads.leadUpdatedSuccessfully")});else{const xe={...ir,created_by:r==null?void 0:r.id},qe=await G.mLeads.create(xe);if(qe&&qe.leads_id)U=qe.leads_id;else if(U=qe.id||qe.leads_id,!U)throw new Error("Failed to create lead");a({title:e("common.success"),description:e("mleads.leadCreatedSuccessfully")})}if(ve){await Nj(ve);const xe=N.filter(qe=>qe.leads_id===ve);for(const qe of xe)await G.mContacts.delete(qe.contact_id);Fe.length>0&&await uD(U)}else Fe.length>0&&await uD(U);if(Ne&&ir.status_id===7){Ce(!0);try{const xe=await wQ(Ne,U);await G.mLeads.update(U,{lead_quotation:xe})}catch(xe){console.error("File upload failed:",xe),a({title:"Warning",description:"Lead saved but file upload failed",variant:"destructive"})}finally{Ce(!1),we(null)}}ke(!1),Be(null),Ka({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),Xe([]),await u0()}catch(U){const xe=U instanceof Error?U.message:"Failed to save";a({title:"Error",description:xe,variant:"destructive"})}},SQ=async U=>{try{await G.mLeads.delete(U),a({title:e("common.success"),description:e("mleads.leadDeletedSuccessfully")}),be(null),await u0()}catch(xe){const qe=xe instanceof Error?xe.message:"Failed to delete";a({title:"Error",description:qe,variant:"destructive"})}},oD=U=>{Ji(U),lD(U.leads_id),Nj(U.leads_id),H(!0)},lD=async U=>{try{const xe=await im.getByRelated("mlead",U);Z(xe)}catch(xe){console.error("Failed to load notes:",xe),Z([])}},Nj=async U=>{try{const xe=await G.mContacts.list({exact_filters:{leads_id:U},select_fields:"contact_id,contact_name,contact_mobile,contact_email,jobtitle_id,leads_id",sort_by:"contact_name",sort_order:"asc"});k(xe.data||[])}catch(xe){console.error("Failed to load contacts:",xe),k([])}},cD=async U=>{Be(U.leads_id),Ka(U),await Nj(U.leads_id);const xe=N.filter(qe=>qe.leads_id===U.leads_id);Xe(xe.map(qe=>{var wt;return{contact_name:qe.contact_name||"",contact_email:qe.contact_email||"",contact_mobile:((wt=qe.contact_mobile)==null?void 0:wt.toString())||"",jobtitle_id:qe.jobtitle_id}})),ke(!0)},jQ=async U=>{try{await Promise.all(U.map(xe=>G.mLeads.delete(xe))),a({title:e("common.success"),description:e("mleads.leadsDeletedSuccessfully")}),await u0()}catch(xe){const qe=xe instanceof Error?xe.message:"Failed to delete";a({title:"Error",description:qe,variant:"destructive"})}},kQ=async()=>{try{if(!Ie.city_name_en&&!Ie.city_name_ar){a({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const U=await G.mCity.create(Ie);U&&(h([...f,U]),Ka({...ir,city_id:U.city_id}),Ee(!1),Ue({city_name_en:"",city_name_ar:"",country_id:null}),a({title:e("common.success"),description:e("mleads.cityCreatedSuccessfully")}))}catch(U){const xe=U instanceof Error?U.message:"Failed to create city";a({title:"Error",description:xe,variant:"destructive"})}},NQ=async()=>{try{if(!Qt.system_name_en&&!Qt.system_name_ar){a({title:"Error",description:"Please enter at least one system name",variant:"destructive"});return}const U=await G.mSystem.create(Qt);U&&(w([...x,U]),Ka({...ir,system_id:U.system_id}),ht(!1),rr({system_name_en:"",system_name_ar:""}),a({title:e("common.success"),description:e("mleads.systemCreatedSuccessfully")}))}catch(U){const xe=U instanceof Error?U.message:"Failed to create system";a({title:"Error",description:xe,variant:"destructive"})}},CQ=async()=>{try{if(!_n.activity_name_en&&!_n.activity_name_ar){a({title:"Error",description:"Please enter at least one activity name",variant:"destructive"});return}const U=await G.mActivity.create(_n);U&&(p([...m,U]),Ka({...ir,activity_id:U.activity_id}),$r(!1),wi({activity_name_en:"",activity_name_ar:""}),a({title:e("common.success"),description:e("mleads.activityCreatedSuccessfully")}))}catch(U){const xe=U instanceof Error?U.message:"Failed to create activity";a({title:"Error",description:xe,variant:"destructive"})}},EQ=async()=>{try{if(!_e.status_name_en&&!_e.status_name_ar){a({title:"Error",description:"Please enter at least one status name",variant:"destructive"});return}const U=await G.mStatus.create(_e);U&&(v([...g,U]),Ka({...ir,status_id:U.status_id}),de(!1),Re({status_name_en:"",status_name_ar:""}),a({title:e("common.success"),description:e("mleads.statusCreatedSuccessfully")}))}catch(U){const xe=U instanceof Error?U.message:"Failed to create status";a({title:"Error",description:xe,variant:"destructive"})}},TQ=()=>{if(!Vt.contact_name.trim()){a({title:"Error",description:"Please enter contact name",variant:"destructive"});return}Xe([...Fe,{...Vt}]),Xr({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),ot(!1)},AQ=U=>{Xe(Fe.filter((xe,qe)=>qe!==U))},uD=async U=>{try{const xe=Fe.map(qe=>({...qe,leads_id:U,contact_mobile:qe.contact_mobile?parseInt(qe.contact_mobile):null}));if(xe.length>0)for(const qe of xe)await G.mContacts.create(qe)}catch(xe){const qe=xe instanceof Error?xe.message:"Failed to save contacts";a({title:"Error",description:qe,variant:"destructive"})}},OQ=U=>{Y4(U)},PQ=U=>{U.preventDefault(),U.dataTransfer.dropEffect="move"},DQ=async U=>{if(!iy)return;const xe=o.find(qe=>qe.leads_id===iy);if(xe&&xe.stage_id!==U)try{await G.mLeads.update(iy,{stage_id:U}),a({title:e("common.success"),description:"Lead stage updated successfully"}),await u0()}catch(qe){console.error("Failed to update lead stage:",qe),a({title:"Error",description:"Failed to update lead stage",variant:"destructive"})}Y4(null)};if(q)return l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})});if(I)return l.jsx(a0,{message:I,onRetry:aD});const RQ=[{label:e("common.delete"),icon:l.jsx(wr,{}),onClick:U=>{window.confirm(`Delete ${U.length} leads?`)&&jQ(U.map(xe=>xe.leads_id))},variant:"destructive"}],IQ=[{key:"company_name",header:e("mleads.company"),className:"w-1/4 min-w-[200px]",render:U=>l.jsx(Nc,{title:U.company_name||"-",subtitle:U.address||"",icon:l.jsx(un,{className:"h-4 w-4"})})},{key:"city_id",header:e("mleads.city"),className:"w-1/6 min-w-[120px]",render:U=>l.jsx("span",{className:"text-sm text-foreground",children:wj(U)})},{key:"activity_id",header:e("mleads.activity"),className:"w-1/6 min-w-[120px]",render:U=>l.jsx(ft,{variant:"outline",className:"text-xs truncate",children:_j(U)})},{key:"status_id",header:e("mleads.status"),className:"w-1/6 min-w-[120px]",render:U=>{const xe=Sj(U);return l.jsx(ft,{variant:"outline",className:`text-xs truncate ${kj(U.status_id)}`,children:xe})}},{key:"stage_id",header:e("mleads.stage"),className:"w-1/6 min-w-[120px]",render:U=>l.jsx(ft,{variant:"outline",className:"text-xs truncate bg-blue-50 text-blue-700 border-blue-200",children:iD(U)})},{key:"system_id",header:e("mleads.system"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:U=>l.jsx("div",{className:"text-sm text-muted-foreground truncate",children:jj(U)})},{key:"created_by",header:e("mleads.createdBy"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:U=>l.jsx("div",{className:"truncate",children:l.jsx(vp,{name:U.created_by_name||"-"})})},{key:"decision_maker",header:e("mleads.decisionMaker"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:U=>l.jsx("div",{className:"truncate",children:l.jsx("span",{className:"text-sm",children:U.decision_maker||"-"})})},{key:"created_at",header:e("mleads.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:U=>l.jsx(Vu,{date:U.created_at})}],MQ=[{icon:l.jsx(Vi,{}),label:e("common.edit"),onClick:U=>cD(U)},{icon:l.jsx(wr,{}),label:e("common.delete"),onClick:U=>be(U.leads_id),variant:"destructive"}];return l.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:nr()?"rtl":"ltr",children:[l.jsx("div",{className:"flex-shrink-0 pb-3",children:l.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[l.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[l.jsxs(le,{variant:"outline",size:"default",onClick:()=>ce(Y==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[Y==="list"?l.jsx(ui,{className:"h-4 w-4"}):l.jsx(un,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:e(Y==="list"?"mleads.kanbanView":"mleads.listView")})]}),l.jsxs(le,{variant:te?"default":"outline",size:"default",onClick:()=>R(!te),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[l.jsx(ui,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:e("mleads.showChart")}),l.jsx(A_,{className:`h-4 w-4 transition-transform ${te?"rotate-180":""}`})]}),l.jsxs("div",{className:"flex-1 min-w-[200px] relative",dir:nr()?"rtl":"ltr",children:[l.jsx(Ws,{className:`absolute ${nr()?"right-3":"left-3"} top-3 h-4 w-4 text-muted-foreground`}),l.jsx(We,{placeholder:e("mleads.searchPlaceholder"),value:F,onChange:U=>{M(U.target.value),K(1)},className:`${nr()?"pr-10 pl-3":"pl-10 pr-3"} h-10 bg-background border-input`})]})]}),l.jsxs(le,{size:"default",onClick:()=>{Be(null),Ka({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),Xe([]),sa(null),Ee(!1),ht(!1),$r(!1),de(!1),Ue({city_name_en:"",city_name_ar:"",country_id:null}),rr({system_name_en:"",system_name_ar:""}),wi({activity_name_en:"",activity_name_ar:""}),Re({status_name_en:"",status_name_ar:""}),we(null),ke(!0)},variant:"outline",className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:nr()?"rtl":"ltr",children:[l.jsx(lr,{className:`w-4 h-4 ${nr()?"order-2":"order-1"}`}),l.jsx("span",{className:`${nr()?"order-1":"order-2"}`,children:e("common.add")})]})]})})}),l.jsx("div",{className:"flex-shrink-0 pb-4",children:l.jsxs("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")}),(fe||Le||Me||Pe||pt||he)&&l.jsxs(le,{variant:"outline",size:"default",onClick:()=>{O(""),$e(""),He(""),bt(""),se(""),B(""),K(1)},title:e("mleads.clearFilters"),className:"h-8 px-3 hover:bg-destructive/10 hover:border-destructive/30 hover:text-destructive transition-colors",children:[l.jsx(Po,{className:`h-3 w-3 ${nr()?"ml-2":"mr-2"}`}),e("mleads.clearFilters")]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3",children:[l.jsxs(Sa,{open:J4,onOpenChange:pj,children:[l.jsx(ja,{asChild:!0,children:l.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":J4,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[l.jsx("span",{className:"truncate",children:Pe?mr(g.find(U=>U.status_id.toString()===Pe),"status_name_en","status_name_ar"):e("mleads.allStatuses")}),l.jsx(Ya,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(ia,{className:"w-full p-0",children:l.jsxs(ka,{children:[l.jsx(Na,{placeholder:e("mleads.searchStatus")}),l.jsxs(Ca,{children:[l.jsx(Ea,{children:e("common.noResults")}),l.jsxs(Ta,{children:[l.jsx(Hr,{value:e("mleads.allStatuses"),onSelect:()=>{bt(""),K(1),pj(!1)},children:e("mleads.allStatuses")},"all-statuses"),g.map(U=>l.jsx(Hr,{value:U.status_id.toString(),onSelect:()=>{bt(U.status_id.toString()),K(1),pj(!1)},children:mr(U,"status_name_en","status_name_ar")},U.status_id))]})]})]})})]}),l.jsxs(Sa,{open:Q4,onOpenChange:gj,children:[l.jsx(ja,{asChild:!0,children:l.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":Q4,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[l.jsx("span",{className:"truncate",children:pt?mr(m.find(U=>U.activity_id.toString()===pt),"activity_name_en","activity_name_ar"):e("mleads.allActivities")}),l.jsx(Ya,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(ia,{className:"w-full p-0",children:l.jsxs(ka,{children:[l.jsx(Na,{placeholder:e("mleads.searchActivity")}),l.jsxs(Ca,{children:[l.jsx(Ea,{children:e("common.noResults")}),l.jsxs(Ta,{children:[l.jsx(Hr,{value:e("mleads.allActivities"),onSelect:()=>{se(""),K(1),gj(!1)},children:e("mleads.allActivities")},"all-activities"),m.map(U=>l.jsx(Hr,{value:U.activity_id.toString(),onSelect:()=>{se(U.activity_id.toString()),K(1),gj(!1)},children:mr(U,"activity_name_en","activity_name_ar")},U.activity_id))]})]})]})})]}),l.jsxs(Sa,{open:Z4,onOpenChange:vj,children:[l.jsx(ja,{asChild:!0,children:l.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":Z4,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[l.jsx("span",{className:"truncate",children:Me?mr(x.find(U=>U.system_id.toString()===Me),"system_name_en","system_name_ar"):e("mleads.allSystems")}),l.jsx(Ya,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(ia,{className:"w-full p-0",children:l.jsxs(ka,{children:[l.jsx(Na,{placeholder:e("mleads.searchSystem")}),l.jsxs(Ca,{children:[l.jsx(Ea,{children:e("common.noResults")}),l.jsxs(Ta,{children:[l.jsx(Hr,{value:e("mleads.allSystems"),onSelect:()=>{He(""),K(1),vj(!1)},children:e("mleads.allSystems")},"all-systems"),x.map(U=>l.jsx(Hr,{value:U.system_id.toString(),onSelect:()=>{He(U.system_id.toString()),K(1),vj(!1)},children:mr(U,"system_name_en","system_name_ar")},U.system_id))]})]})]})})]}),l.jsxs(Sa,{open:eD,onOpenChange:xj,children:[l.jsx(ja,{asChild:!0,children:l.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":eD,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[l.jsx("span",{className:"truncate",children:Le?mr(A.find(U=>U.country_id.toString()===Le),"country_name_en","country_name_ar"):e("mleads.allCountries")}),l.jsx(Ya,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(ia,{className:"w-full p-0",children:l.jsxs(ka,{children:[l.jsx(Na,{placeholder:e("mleads.searchCountry")}),l.jsxs(Ca,{children:[l.jsx(Ea,{children:e("common.noResults")}),l.jsxs(Ta,{children:[l.jsx(Hr,{value:e("mleads.allCountries"),onSelect:()=>{$e(""),K(1),xj(!1)},children:e("mleads.allCountries")},"all-countries"),A.map(U=>l.jsx(Hr,{value:U.country_id.toString(),onSelect:()=>{$e(U.country_id.toString()),K(1),xj(!1)},children:mr(U,"country_name_en","country_name_ar")},U.country_id))]})]})]})})]}),l.jsxs(Sa,{open:tD,onOpenChange:yj,children:[l.jsx(ja,{asChild:!0,children:l.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":tD,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[l.jsx("span",{className:"truncate",children:fe?mr(f.find(U=>U.city_id.toString()===fe),"city_name_en","city_name_ar"):e("mleads.allCities")}),l.jsx(Ya,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(ia,{className:"w-full p-0",children:l.jsxs(ka,{children:[l.jsx(Na,{placeholder:e("mleads.searchCity")}),l.jsxs(Ca,{children:[l.jsx(Ea,{children:e("common.noResults")}),l.jsxs(Ta,{children:[l.jsx(Hr,{value:e("mleads.allCities"),onSelect:()=>{O(""),K(1),yj(!1)},children:e("mleads.allCities")},"all-cities"),f.map(U=>l.jsx(Hr,{value:U.city_id.toString(),onSelect:()=>{O(U.city_id.toString()),K(1),yj(!1)},children:mr(U,"city_name_en","city_name_ar")},U.city_id))]})]})]})})]}),l.jsxs(Sa,{open:rD,onOpenChange:bj,children:[l.jsx(ja,{asChild:!0,children:l.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":rD,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[l.jsx("span",{className:"truncate",children:he?oy(he):e("mleads.allUsers")}),l.jsx(Ya,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(ia,{className:"w-full p-0",children:l.jsxs(ka,{children:[l.jsx(Na,{placeholder:e("mleads.searchUser")}),l.jsxs(Ca,{children:[l.jsx(Ea,{children:e("common.noResults")}),l.jsxs(Ta,{children:[l.jsx(Hr,{value:e("mleads.allUsers"),onSelect:()=>{B(""),K(1),bj(!1)},children:e("mleads.allUsers")},"all-users"),E.map(U=>{var wt;const xe=(wt=U.userid||U.user_id||U.id)==null?void 0:wt.toString(),qe=U.name||U.user_name||U.display_name||"-";return l.jsx(Hr,{value:xe,onSelect:()=>{B(xe),K(1),bj(!1)},children:qe},xe)})]})]})]})})]})]})]})}),l.jsx(Sl,{open:je,onOpenChange:ke,children:l.jsxs(Mo,{className:"w-full sm:max-w-[540px] flex flex-col h-full",children:[l.jsx(wc,{children:l.jsx(jl,{children:e(ve?"mleads.editLead":"mleads.createNewLead")})}),l.jsxs("div",{className:"mt-6 space-y-4 px-4 flex-1 overflow-y-auto",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.companyName")}),l.jsx(We,{value:ir.company_name||"",onChange:U=>Ka({...ir,company_name:U.target.value}),placeholder:e("mleads.companyName")})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.address")}),l.jsx(ma,{value:ir.address||"",onChange:U=>Ka({...ir,address:U.target.value}),placeholder:e("mleads.address")})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.contacts")}),l.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>ot(!nt),className:"h-6 px-2 text-xs",children:e(nt?"mleads.cancel":"mleads.addContact")})]}),Fe.length>0&&l.jsx("div",{className:"space-y-2 mb-3",children:Fe.map((U,xe)=>l.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium",children:U.contact_name}),l.jsxs("div",{className:"text-muted-foreground",children:[U.contact_email&&`${U.contact_email}  `,U.contact_mobile&&`${U.contact_mobile}`]})]}),l.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>AQ(xe),className:"h-6 w-6 p-0",children:l.jsx(Po,{className:"h-3 w-3"})})]},xe))}),nt&&l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[l.jsx(We,{placeholder:e("mleads.contactName"),value:Vt.contact_name,onChange:U=>Xr({...Vt,contact_name:U.target.value})}),l.jsx(We,{placeholder:e("mleads.email"),type:"email",value:Vt.contact_email,onChange:U=>Xr({...Vt,contact_email:U.target.value})}),l.jsx(We,{placeholder:e("mleads.mobile"),value:Vt.contact_mobile,onChange:U=>Xr({...Vt,contact_mobile:U.target.value})}),l.jsxs(Sa,{open:Vo,onOpenChange:Qf,children:[l.jsx(ja,{asChild:!0,children:l.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":Vo,className:"w-full justify-between",children:[Vt.jobtitle_id?(dD=T.find(U=>U.jobtitle_id===Vt.jobtitle_id))==null?void 0:dD.jobtitle_name_en:e("mleads.selectJobTitle"),l.jsx(Ya,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(ia,{className:"w-full p-0",children:l.jsxs(ka,{children:[l.jsx(Na,{placeholder:e("mleads.searchJobTitle")}),l.jsxs(Ca,{children:[l.jsx(Ea,{children:e("common.noResults")}),l.jsx(Ta,{children:T&&T.length>0?T.map(U=>l.jsx(Hr,{value:mr(U,"jobtitle_name_en","jobtitle_name_ar")||U.jobtitle_name_en||"Unknown",onSelect:()=>{Xr(xe=>({...xe,jobtitle_id:U.jobtitle_id})),Qf(!1)},children:mr(U,"jobtitle_name_en","jobtitle_name_ar")||U.jobtitle_name_en||"Unknown"},U.jobtitle_id)):l.jsx(Hr,{disabled:!0,children:"No job titles available"})})]})]})})]}),l.jsx(le,{type:"button",onClick:TQ,className:"w-full",children:e("mleads.addContactTitle")})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.city")}),l.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ee(!me),className:"h-6 px-2 text-xs",children:e(me?"mleads.cancel":"mleads.addNew")})]}),me?l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[l.jsx(We,{placeholder:e("mleads.cityNameEn"),value:Ie.city_name_en,onChange:U=>Ue({...Ie,city_name_en:U.target.value})}),l.jsx(We,{placeholder:e("mleads.cityNameAr"),value:Ie.city_name_ar,onChange:U=>Ue({...Ie,city_name_ar:U.target.value})}),l.jsxs(Sa,{open:_i,onOpenChange:G4,children:[l.jsx(ja,{asChild:!0,children:l.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":_i,className:"w-full justify-between",children:[Ie.country_id?(fD=A.find(U=>U.country_id===Ie.country_id))==null?void 0:fD.country_name_en:e("mleads.selectCountry"),l.jsx(Ya,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(ia,{className:"w-full p-0",children:l.jsxs(ka,{children:[l.jsx(Na,{placeholder:e("mleads.searchCountry")}),l.jsxs(Ca,{children:[l.jsx(Ea,{children:e("common.noResults")}),l.jsx(Ta,{children:A.map(U=>l.jsx(Hr,{value:mr(U,"country_name_en","country_name_ar"),onSelect:()=>{Ue({...Ie,country_id:U.country_id}),G4(!1)},children:mr(U,"country_name_en","country_name_ar")},U.country_id))})]})]})})]}),l.jsx(le,{type:"button",onClick:kQ,className:"w-full",children:e("mleads.createCity")})]}):l.jsxs(Sa,{open:ze,onOpenChange:et,children:[l.jsx(ja,{asChild:!0,children:l.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":ze,className:"w-full justify-between",children:[ir.city_id?gQ(ir.city_id):e("mleads.city"),l.jsx(Ya,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(ia,{className:"w-full p-0",children:l.jsxs(ka,{children:[l.jsx(Na,{placeholder:e("mleads.searchCity")}),l.jsxs(Ca,{children:[l.jsx(Ea,{children:e("common.noResults")}),l.jsx(Ta,{children:f.map(U=>l.jsx(Hr,{value:mr(U,"city_name_en","city_name_ar"),onSelect:()=>{Ka({...ir,city_id:U.city_id}),et(!1)},children:mr(U,"city_name_en","city_name_ar")},U.city_id))})]})]})})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.activity")}),l.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>$r(!kr),className:"h-6 px-2 text-xs",children:e(kr?"mleads.cancel":"mleads.addNew")})]}),kr?l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[l.jsx(We,{placeholder:e("mleads.activityNameEn"),value:_n.activity_name_en,onChange:U=>wi({..._n,activity_name_en:U.target.value})}),l.jsx(We,{placeholder:e("mleads.activityNameAr"),value:_n.activity_name_ar,onChange:U=>wi({..._n,activity_name_ar:U.target.value})}),l.jsx(le,{type:"button",onClick:CQ,className:"w-full",children:e("mleads.createActivity")})]}):l.jsxs(Sa,{open:st,onOpenChange:Ye,children:[l.jsx(ja,{asChild:!0,children:l.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":st,className:"w-full justify-between",children:[ir.activity_id?vQ(ir.activity_id):e("mleads.selectActivity"),l.jsx(Ya,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(ia,{className:"w-full p-0",children:l.jsxs(ka,{children:[l.jsx(Na,{placeholder:e("mleads.searchActivity")}),l.jsxs(Ca,{children:[l.jsx(Ea,{children:e("common.noResults")}),l.jsx(Ta,{children:m.map(U=>l.jsx(Hr,{value:mr(U,"activity_name_en","activity_name_ar"),onSelect:()=>{Ka({...ir,activity_id:U.activity_id}),Ye(!1)},children:mr(U,"activity_name_en","activity_name_ar")},U.activity_id))})]})]})})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.system")}),l.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>ht(!Ve),className:"h-6 px-2 text-xs",children:e(Ve?"mleads.cancel":"mleads.addNew")})]}),Ve?l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[l.jsx(We,{placeholder:e("mleads.systemNameEn"),value:Qt.system_name_en,onChange:U=>rr({...Qt,system_name_en:U.target.value})}),l.jsx(We,{placeholder:e("mleads.systemNameAr"),value:Qt.system_name_ar,onChange:U=>rr({...Qt,system_name_ar:U.target.value})}),l.jsx(le,{type:"button",onClick:NQ,className:"w-full",children:e("mleads.createSystem")})]}):l.jsxs(Sa,{open:at,onOpenChange:Rt,children:[l.jsx(ja,{asChild:!0,children:l.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":at,className:"w-full justify-between",children:[ir.system_id?yQ(ir.system_id):e("mleads.selectSystem"),l.jsx(Ya,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(ia,{className:"w-full p-0",children:l.jsxs(ka,{children:[l.jsx(Na,{placeholder:e("mleads.searchSystem")}),l.jsxs(Ca,{children:[l.jsx(Ea,{children:e("common.noResults")}),l.jsx(Ta,{children:x.map(U=>l.jsx(Hr,{value:mr(U,"system_name_en","system_name_ar"),onSelect:()=>{Ka({...ir,system_id:U.system_id}),Rt(!1)},children:mr(U,"system_name_en","system_name_ar")},U.system_id))})]})]})})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.status")}),l.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>de(!aa),className:"h-6 px-2 text-xs",children:e(aa?"mleads.cancel":"mleads.addNew")})]}),aa?l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[l.jsx(We,{placeholder:e("mleads.statusNameEn"),value:_e.status_name_en,onChange:U=>Re({..._e,status_name_en:U.target.value})}),l.jsx(We,{placeholder:e("mleads.statusNameAr"),value:_e.status_name_ar,onChange:U=>Re({..._e,status_name_ar:U.target.value})}),l.jsx(le,{type:"button",onClick:EQ,className:"w-full",children:e("mleads.createStatus")})]}):l.jsxs(Sa,{open:Tr,onOpenChange:Ar,children:[l.jsx(ja,{asChild:!0,children:l.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":Tr,className:"w-full justify-between",children:[ir.status_id?xQ(ir.status_id):e("mleads.selectStatus"),l.jsx(Ya,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(ia,{className:"w-full p-0",children:l.jsxs(ka,{children:[l.jsx(Na,{placeholder:e("mleads.searchStatus")}),l.jsxs(Ca,{children:[l.jsx(Ea,{children:e("common.noResults")}),l.jsx(Ta,{children:g.map(U=>l.jsx(Hr,{value:mr(U,"status_name_en","status_name_ar"),onSelect:()=>{Ka({...ir,status_id:U.status_id}),Ar(!1)},children:mr(U,"status_name_en","status_name_ar")},U.status_id))})]})]})})]})]}),ir.status_id===7&&l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[l.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(sv,{className:"h-4 w-4 text-yellow-600"}),e("mleads.uploadQuotation")]}),l.jsx(We,{type:"file",onChange:U=>{var qe;const xe=(qe=U.target.files)==null?void 0:qe[0];xe&&we(xe)},className:"cursor-pointer"}),ir.lead_quotation&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Current file:",l.jsx("a",{href:(hD=ir.lead_quotation)==null?void 0:hD.public_url,target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-blue-600 hover:underline font-medium",children:(mD=ir.lead_quotation)==null?void 0:mD.name})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.stage")}),l.jsxs(Sa,{open:In,onOpenChange:Ic,children:[l.jsx(ja,{asChild:!0,children:l.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":In,className:"w-full justify-between",children:[ir.stage_id?bQ(ir.stage_id):e("mleads.selectStage"),l.jsx(Ya,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(ia,{className:"w-full p-0",children:l.jsxs(ka,{children:[l.jsx(Na,{placeholder:e("mleads.searchStage")}),l.jsxs(Ca,{children:[l.jsx(Ea,{children:e("common.noResults")}),l.jsx(Ta,{children:b.map(U=>l.jsx(Hr,{value:U.stage_name,onSelect:()=>{Ka({...ir,stage_id:U.stage_id}),Ic(!1)},children:U.stage_name},U.stage_id))})]})]})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.assignedTo")}),l.jsxs(Sa,{open:Mc,onOpenChange:Fc,children:[l.jsx(ja,{asChild:!0,children:l.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":Mc,className:"w-full justify-between",children:[ir.assigned_to?oy(ir.assigned_to):e("mleads.selectUser"),l.jsx(Ya,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(ia,{className:"w-full p-0",children:l.jsxs(ka,{children:[l.jsx(Na,{placeholder:e("mleads.searchUser")}),l.jsxs(Ca,{children:[l.jsx(Ea,{children:e("common.noResults")}),l.jsx(Ta,{children:E.map(U=>l.jsx(Hr,{value:U.user_name,onSelect:()=>{Ka({...ir,assigned_to:U.userid}),Fc(!1)},children:U.user_name},U.user_id))})]})]})})]})]}),l.jsxs("div",{className:"flex gap-2 pt-4 border-t mt-4",children:[l.jsx(le,{variant:"outline",onClick:()=>ke(!1),children:e("common.cancel")}),l.jsx(le,{onClick:_Q,children:e("common.save")})]})]})}),te&&l.jsx("div",{className:"flex-shrink-0 px-4 pb-4",children:l.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lead Analytics"}),l.jsxs(Cl,{defaultValue:"pie",className:"w-full",children:[l.jsxs(Lo,{className:`flex w-full ${nr()?"flex-row-reverse":""}`,children:[l.jsx(tn,{value:"pie",className:"flex-1",children:e("mleads.distributionCharts")}),l.jsx(tn,{value:"timeline",className:"flex-1",children:e("mleads.timeline")})]}),l.jsx(Pn,{value:"pie",className:"mt-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Status"}),l.jsx(su,{config:{},className:"h-[350px]",children:l.jsxs(Ed,{children:[l.jsx(ss,{data:(()=>{const U=g.map(xe=>({name:mr(xe,"status_name_en","status_name_ar"),value:xa.filter(qe=>qe.status_id===xe.status_id).length})).filter(xe=>xe.value>0);return U.length>0?U:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:U,value:xe})=>`${U}: ${xe}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((U,xe)=>l.jsx(il,{fill:U},`cell-${xe}`))}),l.jsx(Ad,{content:l.jsx(iu,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By System"}),l.jsx(su,{config:{},className:"h-[350px]",children:l.jsxs(Ed,{children:[l.jsx(ss,{data:(()=>{const U=x.map(xe=>({name:mr(xe,"system_name_en","system_name_ar"),value:xa.filter(qe=>qe.system_id===xe.system_id).length})).filter(xe=>xe.value>0);return U.length>0?U:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:U,value:xe})=>`${U}: ${xe}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((U,xe)=>l.jsx(il,{fill:U},`cell-${xe}`))}),l.jsx(Ad,{content:l.jsx(iu,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Activity"}),l.jsx(su,{config:{},className:"h-[350px]",children:l.jsxs(Ed,{children:[l.jsx(ss,{data:(()=>{const U=m.map(xe=>({name:mr(xe,"activity_name_en","activity_name_ar"),value:xa.filter(qe=>qe.activity_id===xe.activity_id).length})).filter(xe=>xe.value>0);return U.length>0?U:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:U,value:xe})=>`${U}: ${xe}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((U,xe)=>l.jsx(il,{fill:U},`cell-${xe}`))}),l.jsx(Ad,{content:l.jsx(iu,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),l.jsx(su,{config:{},className:"h-[350px]",children:l.jsxs(Ed,{children:[l.jsx(ss,{data:(()=>{const U=f.map(xe=>({name:mr(xe,"city_name_en","city_name_ar"),value:xa.filter(qe=>qe.city_id===xe.city_id).length})).filter(xe=>xe.value>0);return U.length>0?U:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:U,value:xe})=>`${U}: ${xe}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((U,xe)=>l.jsx(il,{fill:U},`cell-${xe}`))}),l.jsx(Ad,{content:l.jsx(iu,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Assigned User"}),l.jsx(su,{config:{},className:"h-[350px]",children:l.jsxs(Ed,{children:[l.jsx(ss,{data:(()=>{const U=E.map(xe=>({name:xe.user_name,value:xa.filter(qe=>qe.assigned_to===xe.userid).length})).filter(xe=>xe.value>0);return U.length>0?U:[{name:"Unassigned",value:xa.filter(xe=>!xe.assigned_to).length||1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:U,value:xe})=>`${U}: ${xe}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((U,xe)=>l.jsx(il,{fill:U},`cell-${xe}`))}),l.jsx(Ad,{content:l.jsx(iu,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Leads"}),l.jsx("div",{className:"text-5xl font-bold text-primary",children:xa.length}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),l.jsx(Pn,{value:"timeline",className:"mt-4",children:l.jsx("div",{className:"w-full h-[400px]",children:l.jsx(SS,{width:"100%",height:"100%",children:l.jsxs(OP,{data:(()=>{const U=new Map;return xa.forEach(qe=>{const wt=new Date(qe.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});U.set(wt,(U.get(wt)||0)+1)}),Array.from(U.entries()).sort((qe,wt)=>new Date(qe[0]).getTime()-new Date(wt[0]).getTime()).map(([qe,wt])=>({date:qe,count:wt}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[l.jsx(KS,{strokeDasharray:"3 3"}),l.jsx(r0,{dataKey:"date",angle:nr()?45:-45,textAnchor:nr()?"start":"end",height:80,tick:{fontSize:12},reversed:nr()}),l.jsx(n0,{label:{value:"Number of Leads",angle:nr()?90:-90,position:"insideLeft"}}),l.jsx(Qs,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:U=>[`${U} leads`,"Total"]}),l.jsx(oc,{}),l.jsx(Hf,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]})]})}),l.jsx(lt,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:l.jsx(xt,{className:"h-full flex flex-col p-0 overflow-hidden",children:Y==="kanban"?l.jsx(qx,{stages:b.map(U=>({id:U.stage_id,name:U.stage_name,count:xa.filter(xe=>xe.stage_id===U.stage_id).length})),currentStageId:X4||((pD=b[0])==null?void 0:pD.stage_id),onStageChange:hQ,children:l.jsx("div",{className:"space-y-4 h-full flex flex-col",children:l.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto pt-4 scrollbar-hide flex-1 min-h-0",children:b.filter(U=>{var xe;return!s||U.stage_id===(X4||((xe=b[0])==null?void 0:xe.stage_id))}).map((U,xe)=>{const qe=xa.filter(wt=>wt.stage_id===U.stage_id);return l.jsxs("div",{className:ge("flex-shrink-0 animate-fade-in h-full flex flex-col",s?"w-full":"w-[300px]"),style:{animationDelay:`${xe*.1}s`},onDragOver:PQ,onDrop:()=>DQ(U.stage_id),children:[!s&&l.jsx("div",{className:"rounded-xl bg-muted/30 backdrop-blur p-4 mb-5 shadow-soft border-l-4 border-primary/50 flex-shrink-0",children:l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h2",{className:"font-bold text-base",children:U.stage_name}),l.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:qe.length})]})}),l.jsx("div",{className:"space-y-4 overflow-y-auto pr-2 custom-scrollbar flex-1 min-h-0",children:qe.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-40 border-2 border-dashed rounded-xl border-muted-foreground/20 text-muted-foreground",children:[l.jsx(un,{className:"h-8 w-8 mb-2 opacity-20"}),l.jsx("p",{className:"text-sm",children:e("common.noLeads")})]}):qe.map(wt=>l.jsxs(lt,{className:ge("group relative hover:shadow-lg transition-all duration-200 cursor-pointer border-l-4 border-l-blue-500",s?"w-full":"w-[300px]","min-h-[160px]",iy===wt.leads_id&&"opacity-50 rotate-2 scale-105"),onClick:()=>oD(wt),draggable:!0,onDragStart:Or=>{Or.dataTransfer.effectAllowed="move",Or.dataTransfer.setData("text/plain",wt.leads_id.toString()),OQ(wt.leads_id)},children:[l.jsx(Xt,{className:"pb-2 px-4 pt-3",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-sm truncate group-hover:text-primary transition-colors",children:wt.company_name||"No Company"}),wt.address&&l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:wt.address})]})})}),l.jsxs(xt,{className:"px-4 pb-3 space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Lm,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),l.jsx("p",{className:"text-xs font-medium truncate",children:wj(wt)})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(gI,{className:"h-3.5 w-3.5 text-muted-foreground"}),l.jsx("p",{className:"text-xs truncate",children:_j(wt)})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(un,{className:"h-3.5 w-3.5 text-muted-foreground"}),l.jsx("p",{className:"text-xs truncate text-muted-foreground",children:jj(wt)})]})]}),l.jsx("div",{children:l.jsx(ft,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${kj(wt.status_id)}`,children:Sj(wt)})})]}),(()=>{const Or=S.filter(Ga=>Number(Ga.leads_id)===Number(wt.leads_id));return Or.length===0?null:l.jsxs("div",{className:"pt-2 border-t mt-2 flex flex-col gap-1",children:[l.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wider",children:e("mleads.contacts")}),Or.slice(0,1).map((Ga,Qi)=>l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Vn,{className:"h-3 w-3 text-muted-foreground"}),l.jsx("p",{className:"text-[11px] truncate",children:Ga.contact_name})]},Qi)),Or.length>1&&l.jsxs("p",{className:"text-[10px] text-muted-foreground pl-4",children:["+",Or.length-1," more"]})]})})(),l.jsxs("div",{className:"pt-2 border-t flex flex-col gap-1.5",children:[l.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[l.jsx(Vn,{className:"h-2.5 w-2.5 flex-shrink-0"}),l.jsxs("span",{className:"truncate",children:["Assign: ",oy(wt.assigned_to)]})]}),l.jsx("div",{className:"flex items-center gap-1 min-w-0",children:l.jsxs("span",{className:"truncate opacity-70",children:["By: ",oy(wt.created_by_name)]})})]}),l.jsx("div",{className:"text-[10px] text-muted-foreground italic opacity-60",children:new Date(wt.created_at).toLocaleDateString()})]})]})]},wt.leads_id))})]},U.stage_id)})})})}):l.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[l.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:xa.length===0?l.jsx(uc,{title:e("mleads.noLeadsFound"),description:e("mleads.createNewLeadToGetStarted"),icon:l.jsx(un,{className:"h-12 w-12"})}):l.jsx(kc,{data:pQ,columns:["kanban","timeline"].includes(Y)?[]:IQ,actions:MQ,bulkActions:RQ,enableBulkSelect:!0,keyExtractor:U=>U.leads_id.toString(),onRowClick:U=>oD(U),rowHeight:"h-26"},`leads-${Pe}-${pt}-${Me}-${fe}-${Le}-${he}-${F}-${V}`)}),l.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:ld>0&&l.jsx("div",{className:"flex justify-center",children:l.jsx(R4,{children:l.jsxs(I4,{children:[l.jsx(lf,{children:l.jsx(F4,{onClick:()=>K(Math.max(1,V-1)),className:V===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),l.jsx(lf,{children:l.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",V," ",e("common.of")," ",ld]})}),l.jsx(lf,{children:l.jsx(L4,{onClick:()=>K(Math.min(ld,V+1)),className:V===ld?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})})]})})}),l.jsx(gi,{open:ue!==null,onOpenChange:()=>be(null),children:l.jsxs(Ms,{children:[l.jsxs(Fs,{children:[l.jsx($s,{children:e("mleads.deleteLead")}),l.jsx(Bs,{children:e("mleads.deleteLeadConfirmation")})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:e("common.cancel")}),l.jsx(Us,{onClick:()=>ue&&SQ(ue),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),l.jsx(Sl,{open:Ll,onOpenChange:H,children:l.jsxs(Mo,{side:nr()?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[l.jsx(wc,{children:l.jsxs(jl,{className:"flex items-center gap-2 min-w-0",children:[l.jsx(un,{className:"h-5 w-5 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:Gt==null?void 0:Gt.company_name})]})}),Gt&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:e("mleads.leadDetails")}),l.jsxs(le,{onClick:()=>{cD(Gt),H(!1)},variant:"outline",size:"sm",children:[l.jsx(Vi,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),l.jsxs(Cl,{defaultValue:"overview",className:"w-full",children:[l.jsxs(Lo,{className:`flex w-full ${nr()?"flex-row-reverse":""}`,children:[l.jsx(tn,{value:"overview",className:"flex-1",children:e("common.overview")}),l.jsx(tn,{value:"notes",className:"flex-1",children:e("notes.title")})]}),l.jsxs(Pn,{value:"overview",className:"space-y-4 mt-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold",children:Gt.company_name||"-"}),Gt.address&&l.jsx("p",{className:"text-muted-foreground mt-1",children:Gt.address})]}),Gt.lead_quotation&&l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-blue-50/50 dark:bg-blue-900/10",children:[l.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:l.jsx(sv,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.quotation")}),l.jsx("a",{href:(gD=Gt.lead_quotation)==null?void 0:gD.public_url,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-600 hover:underline truncate block",children:(vD=Gt.lead_quotation)==null?void 0:vD.name})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Lm,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.city")}),l.jsx("p",{className:"font-medium",children:wj(Gt)})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(gI,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.activity")}),l.jsx("p",{className:"font-medium",children:_j(Gt)})]})]}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.status")}),l.jsx(ft,{variant:"outline",className:`text-xs ${kj(Gt.status_id)}`,children:Sj(Gt)})]})}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.stage")}),l.jsx(ft,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:iD(Gt)})]})}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(un,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.system")}),l.jsx("p",{className:"font-medium",children:jj(Gt)})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Vn,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.createdBy")}),l.jsx("p",{className:"font-medium",children:Gt.created_by_name||"-"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Vn,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.assignedTo")}),l.jsx("p",{className:"text-sm font-medium",children:Gt.Users_name||"-"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Vn,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.decisionMaker")}),l.jsx("p",{className:"text-sm font-medium",children:Gt.decision_maker||"-"})]})]}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.created")}),l.jsx("p",{className:"text-sm font-medium",children:new Date(Gt.created_at).toLocaleDateString()})]})}),l.jsx("div",{className:"flex items-start gap-2 p-3 rounded-lg border",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.notes")}),l.jsx("p",{className:"text-sm mt-1",children:Gt.notes||"-"})]})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mleads.contacts")}),(()=>{const U=N.length>0?N:[];return U.length>0?l.jsx("div",{className:"space-y-2",children:U.map((xe,qe)=>{var wt;return l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:xe.contact_name||"-"}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[xe.contact_email&&`${xe.contact_email}  `,xe.contact_mobile&&`${xe.contact_mobile}`]})]}),l.jsx(ft,{variant:"outline",className:"text-xs",children:((wt=T.find(Or=>Or.jobtitle_id===xe.jobtitle_id))==null?void 0:wt.jobtitle_name_en)||"-"})]},xe.contact_id||qe)})}):l.jsx("p",{className:"text-sm text-muted-foreground",children:e("mleads.noContactsFound")})})()]})]}),l.jsx(Pn,{value:"notes",className:"mt-4",children:l.jsx(VP,{relatedType:"mlead",relatedId:Gt.leads_id,notes:re,onNotesChange:()=>lD(Gt.leads_id)})})]})]})]})})]})}function GGe(e){const r=e.lastIndexOf("."),n=r!==-1?e.slice(r):"";return`contract-${crypto.randomUUID()}${n}`}async function YGe(e,r,n={}){const a=n.bucket||"projects",s=!!n.publicBucket;if(!e)throw new Error("No file provided");if(!r)throw new Error("projectId is required");const i=GGe(e.name),o=`projects/${r}/${i}`,{data:c,error:u}=await Zr.storage.from(a).upload(o,e,{cacheControl:"3600",upsert:!1});if(u)throw u;let d=null;if(s){const{data:p}=Zr.storage.from(a).getPublicUrl(o);d=(p==null?void 0:p.publicUrl)||null}else{const{data:g,error:v}=await Zr.storage.from(a).createSignedUrl(o,3600);if(v){const{data:x}=Zr.storage.from(a).getPublicUrl(o);if(d=(x==null?void 0:x.publicUrl)||null,!d)throw v}else d=(g==null?void 0:g.signedUrl)||null}const{data:{user:f}}=await Zr.auth.getUser(),h={bucket:a,path:o,url:d,name:e.name,filename:i,mime:e.type||null,size:e.size||null,uploaded_by:(f==null?void 0:f.id)||null,uploaded_at:new Date().toISOString()},{error:m}=await Zr.from("m_projects").update({contract_document:h}).eq("project_id",r);if(m){try{await Zr.storage.from(a).remove([o])}catch(p){console.error("Failed to delete uploaded file after DB update error:",p)}throw m}return h}async function XGe(e){try{const{data:r,error:n}=await Zr.from("m_projects").select("contract_document").eq("project_id",e).single();if(n)throw n;if(r!=null&&r.contract_document){const a=r.contract_document,{error:s}=await Zr.storage.from(a.bucket).remove([a.path]);s&&console.error("Failed to delete file from storage:",s);const{error:i}=await Zr.from("m_projects").update({contract_document:null}).eq("project_id",e);if(i)throw i}}catch(r){throw console.error("Error deleting contract document:",r),r}}function JGe(){var re,Z,te;const{t:e}=Kt(),{user:r}=xr(),{currentLanguage:n,isRTL:a}=Wa(),{toast:s}=Ol();wn();const{setBreadcrumbs:i}=px();zs();const[o,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,p]=y.useState([]),[g,v]=y.useState([]),[x,w]=y.useState([]),[b,_]=y.useState([]),[S,j]=y.useState(!0),[N,k]=y.useState(null),[E,C]=y.useState(""),[A,D]=y.useState(0),[T]=y.useState(9),[W,q]=y.useState(0),[L,I]=y.useState(""),[z,F]=y.useState(""),[M,X]=y.useState(null),[ee,P]=y.useState(null),[J,V]=y.useState(!1),[K,ie]=y.useState(!1),[oe,ye]=y.useState({city_name_en:"",city_name_ar:"",country_id:null});y.useState(null);const[ae,Q]=y.useState(null),[fe,O]=y.useState(!1),[Le,$e]=y.useState([]),[Me,He]=y.useState(!1),[Pe,bt]=y.useState("list"),[pt,se]=y.useState(null),[he,B]=y.useState(""),[ue,be]=y.useState([]),[ve,Be]=y.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[je,ke]=y.useState(!1),[me,Ee]=y.useState(!1);y.useState(!1),y.useState(!1),y.useState(!1);const[Ie,Ue]=y.useState(!1),[Ve,ht]=y.useState({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""});y.useEffect(()=>{i([{label:e("navigation.dashboard"),href:"/"},{label:e("mprojects.masterProjects"),href:"/mprojects"}])},[i,e]),y.useEffect(()=>{Qt()},[]),y.useEffect(()=>{rr()},[A,E,L,z,f]),y.useEffect(()=>{Me&&kr()},[Me,E,L,z,f]);const Qt=async()=>{try{j(!0),k(null);const[R,Y,ce,Ne,we]=await Promise.all([G.mCity.list({sort_by:"city_name_en",sort_order:"asc"}),G.mContacts.list({sort_by:"contact_name",sort_order:"asc"}),G.users.list({sort_by:"user_name",sort_order:"asc"}),G.mCountry.list({sort_by:"country_name_en",sort_order:"asc"}),G.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc"})]),Se=Ce=>Array.isArray(Ce)?Ce:Ce!=null&&Ce.data&&Array.isArray(Ce.data)?Ce.data:[];h(Se(R)),p(Se(Y)),v(Se(ce)),w(Se(Ne)),_(Se(we))}catch(R){const Y=R instanceof Error?R.message:"Failed to load data";k(Y),s({title:"Error",description:Y,variant:"destructive"})}finally{j(!1)}},rr=async()=>{try{j(!0),k(null);const R={};if(L&&(R.city_id=L),z){const Ne=f.filter(we=>{var Se;return((Se=we.country_id)==null?void 0:Se.toString())===z}).map(we=>we.city_id);Ne.length>0?R.city_id=Ne:R.city_id=-1}const Y={page:A,limit:T,sort_by:"created_at",sort_order:"desc",exact_filters:R};E&&(Y.search=E);const ce=await G.mProjects.list(Y);c(ce.data||[]),q(ce.total||0)}catch(R){const Y=R instanceof Error?R.message:"Failed to load data";k(Y),s({title:"Error",description:Y,variant:"destructive"})}finally{j(!1)}},kr=async()=>{try{const R={};if(L&&(R.city_id=L),z){const Ne=f.filter(we=>{var Se;return((Se=we.country_id)==null?void 0:Se.toString())===z}).map(we=>we.city_id);Ne.length>0?R.city_id=Ne:R.city_id=-1}const Y={limit:1e3,exact_filters:R};E&&(Y.search=E);const ce=await G.mProjects.list(Y);d(ce.data||[])}catch(R){console.error("Failed to load all filtered projects:",R)}},$r=async()=>{try{const R=await G.mContacts.list({sort_by:"contact_name",sort_order:"asc"});p(R.data||[])}catch(R){console.error("Failed to load contacts:",R)}},_n=y.useMemo(()=>Me?u:o,[Me,u,o]),wi=y.useMemo(()=>{if(Me){const R=A*T,Y=R+T;return _n.slice(R,Y)}else return o},[Me,_n,o,A,T]),aa=Math.ceil(W/T);y.useEffect(()=>{A>=aa&&aa>0&&D(aa-1)},[A,aa]);const de=(R,Y,ce)=>{if(!R)return"-";let Ne=n==="ar"&&(R==null?void 0:R[ce])||(R==null?void 0:R[Y]);if(!Ne){const we=Y.replace(/_en$/,""),Se=ce.replace(/_ar$/,"");Ne=n==="ar"&&(R==null?void 0:R[Se])||(R==null?void 0:R[we])}return Ne||(R==null?void 0:R.name)||(R==null?void 0:R.label)||(R==null?void 0:R.title)||"-"},_e=R=>{if(R==null||R==="")return"-";const Y=Number(R),ce=f.find(Ne=>Number(Ne.city_id)===Y||Number(Ne.id)===Y);return de(ce,"city_name_en","city_name_ar")},Re=async()=>{if(!me){Ee(!0);try{let R;if(ee)await G.mProjects.update(ee,Ve),R=ee,s({title:e("common.success"),description:e("mprojects.projectUpdatedSuccessfully")});else{const Y={...Ve,created_by:r==null?void 0:r.id},ce=await G.mProjects.create(Y);if(R=ce.id||ce.project_id,!R)throw new Error("Failed to create project");s({title:e("common.success"),description:e("mprojects.projectCreatedSuccessfully")})}if(ee){const Y=m.filter(ce=>ce.project_id===ee);for(const ce of Y)await G.mContacts.delete(ce.contact_id);ue.length>0&&await Gt(R)}else ue.length>0&&await Gt(R);if(pt){B("Uploading contract document...");try{await YGe(pt,R,{bucket:"projects",publicBucket:!1}),B("Document uploaded successfully"),s({title:e("common.success"),description:"Contract document uploaded successfully"})}catch(Y){console.error("File upload failed:",Y),B("Document upload failed"),s({title:"Warning",description:"Project saved but document upload failed",variant:"destructive"})}}V(!1),P(null),ht({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),be([]),se(null),B(""),await rr(),await $r()}catch(R){const Y=R instanceof Error?R.message:"Failed to save";s({title:"Error",description:Y,variant:"destructive"})}finally{Ee(!1)}}},Fe=async R=>{try{await G.mProjects.delete(R),s({title:e("common.success"),description:e("mprojects.projectDeletedSuccessfully")}),X(null),await rr()}catch(Y){const ce=Y instanceof Error?Y.message:"Failed to delete";s({title:"Error",description:ce,variant:"destructive"})}},Xe=R=>{Q(R),Vt(R.project_id),$r(),O(!0)},Vt=async R=>{try{const Y=await im.getByRelated("mlead",R);$e(Y)}catch(Y){console.error("Failed to load notes:",Y),$e([])}},Xr=R=>{P(R.project_id),ht(R);const Y=m.filter(ce=>ce.project_id===R.project_id);be(Y.map(ce=>{var Ne;return{contact_name:ce.contact_name||"",contact_email:ce.contact_email||"",contact_mobile:((Ne=ce.contact_mobile)==null?void 0:Ne.toString())||"",jobtitle_id:ce.jobtitle_id}})),V(!0)},nt=async R=>{try{await Promise.all(R.map(Y=>G.mProjects.delete(Y))),s({title:e("common.success"),description:e("mprojects.projectsDeletedSuccessfully")}),await rr()}catch(Y){const ce=Y instanceof Error?Y.message:"Failed to delete";s({title:"Error",description:ce,variant:"destructive"})}},ot=async()=>{try{if(!oe.city_name_en&&!oe.city_name_ar){s({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const R=await G.mCity.create(oe);R&&(h([...f,R]),ht({...Ve,city_id:R.city_id}),ie(!1),ye({city_name_en:"",city_name_ar:"",country_id:null}),s({title:e("common.success"),description:e("mprojects.cityCreatedSuccessfully")}))}catch(R){const Y=R instanceof Error?R.message:"Failed to create city";s({title:"Error",description:Y,variant:"destructive"})}},Yn=()=>{if(!ve.contact_name.trim()){s({title:"Error",description:"Please enter contact name",variant:"destructive"});return}if(ue.some(Y=>Y.contact_name===ve.contact_name&&Y.contact_email===ve.contact_email&&Y.contact_mobile===ve.contact_mobile)){s({title:"Warning",description:"This contact already exists",variant:"destructive"});return}be([...ue,{...ve}]),Be({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),ke(!1)},sa=R=>{be(ue.filter((Y,ce)=>ce!==R))},Gt=async R=>{try{const Y=ue.map(ce=>({contact_name:ce.contact_name,contact_email:ce.contact_email,contact_mobile:ce.contact_mobile?parseInt(ce.contact_mobile):null,jobtitle_id:ce.jobtitle_id,project_id:R}));if(Y.length>0)for(const ce of Y)await G.mContacts.create(ce)}catch(Y){const ce=Y instanceof Error?Y.message:"Failed to save contacts";s({title:"Error",description:ce,variant:"destructive"})}};if(S)return l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})});if(N)return l.jsx(a0,{message:N,onRetry:Qt});const Ji=[{label:e("common.delete"),icon:l.jsx(wr,{}),onClick:R=>{window.confirm(`Delete ${R.length} projects?`)&&nt(R.map(Y=>Y.project_id))},variant:"destructive"}],Ll=[{key:"company_name",header:e("mprojects.company"),className:"w-1/4 min-w-[200px]",render:R=>l.jsx(Nc,{title:R.company_name||"-",subtitle:R.contract_code||"",icon:l.jsx(un,{className:"h-4 w-4"})})},{key:"city_id",header:e("mprojects.city"),className:"w-1/6 min-w-[120px]",render:R=>l.jsx("span",{className:"text-sm text-foreground",children:_e(R.city_id)})},{key:"contract_amount",header:e("mprojects.contractAmount"),className:"w-1/6 min-w-[120px]",render:R=>l.jsx(ft,{variant:"outline",className:"text-xs",children:R.contract_amount?`$${R.contract_amount.toLocaleString()}`:"-"})},{key:"cont_start_date",header:e("mprojects.startDate"),className:"w-1/6 min-w-[120px]",render:R=>l.jsx("span",{className:"text-sm text-muted-foreground",children:R.cont_start_date?new Date(R.cont_start_date).toLocaleDateString():"-"})},{key:"cont_end_date",header:e("mprojects.endDate"),className:"w-1/6 min-w-[120px]",render:R=>l.jsx("span",{className:"text-sm text-muted-foreground",children:R.cont_end_date?new Date(R.cont_end_date).toLocaleDateString():"-"})},{key:"created_at",header:e("mprojects.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:R=>l.jsx(Vu,{date:R.created_at})}],H=[{icon:l.jsx(Vi,{}),label:e("common.edit"),onClick:R=>Xr(R)},{icon:l.jsx(wr,{}),label:e("common.delete"),onClick:R=>X(R.project_id),variant:"destructive"}];return l.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:a?"rtl":"ltr",children:[l.jsxs("div",{className:"flex-shrink-0 pb-3",children:[l.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[l.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[l.jsxs(le,{variant:"outline",size:"default",onClick:()=>bt(Pe==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[Pe==="list"?l.jsx(ui,{className:"h-4 w-4"}):l.jsx(un,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:e(Pe==="list"?"mprojects.kanbanView":"mprojects.listView")})]}),l.jsxs(le,{variant:Me?"default":"outline",size:"default",onClick:()=>He(!Me),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[l.jsx(ui,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:e("mprojects.showChart")}),l.jsx(A_,{className:`h-4 w-4 transition-transform ${Me?"rotate-180":""}`})]}),l.jsxs("div",{className:"flex-1 min-w-[200px] relative",dir:a?"rtl":"ltr",children:[l.jsx(Ws,{className:`absolute ${a?"right-3":"left-3"} top-3 h-4 w-4 text-muted-foreground`}),l.jsx(We,{placeholder:e("mprojects.searchPlaceholder"),value:E,onChange:R=>{C(R.target.value),D(1)},className:`${a?"pr-10 pl-3":"pl-10 pr-3"} h-10 bg-background border-input`})]})]}),l.jsxs(Sl,{open:J,onOpenChange:V,children:[l.jsx(dW,{asChild:!0,children:l.jsxs(le,{size:"default",onClick:()=>{P(null),ht({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),be([]),se(null),B(""),ie(!1),ke(!1),ye({city_name_en:"",city_name_ar:"",country_id:null}),Be({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),V(!0)},className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:a?"rtl":"ltr",children:[l.jsx(lr,{className:`w-4 h-4 ${a?"order-2":"order-1"}`}),l.jsx("span",{className:`${a?"order-1":"order-2"}`,children:e("common.add")})]})}),l.jsxs(Mo,{side:a?"left":"right",className:"w-full sm:max-w-[540px] flex flex-col h-full p-0",children:[l.jsx(wc,{className:"p-6 pb-0",children:l.jsx(jl,{children:e(ee?"mprojects.editProject":"mprojects.createNewProject")})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.companyName")," & ",e("mprojects.contractCode")]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.companyName")}),l.jsx(We,{value:Ve.company_name||"",onChange:R=>ht({...Ve,company_name:R.target.value}),placeholder:e("mprojects.companyName"),className:"h-10"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractCode")}),l.jsx(We,{value:Ve.contract_code||"",onChange:R=>ht({...Ve,contract_code:R.target.value}),placeholder:e("mprojects.contractCode"),className:"h-10"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.contractAmount")," & ",e("mprojects.startDate")]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractAmount")}),l.jsx(We,{type:"number",value:Ve.contract_amount||"",onChange:R=>ht({...Ve,contract_amount:parseFloat(R.target.value)||null}),placeholder:e("mprojects.contractAmount"),className:"h-10"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.startDate")}),l.jsx(We,{type:"date",value:Ve.cont_start_date||"",onChange:R=>ht({...Ve,cont_start_date:R.target.value}),className:"h-10"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.endDate")}),l.jsx(We,{type:"date",value:Ve.cont_end_date||"",onChange:R=>ht({...Ve,cont_end_date:R.target.value}),className:"h-10"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.city")}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.city")}),l.jsxs(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>ie(!K),className:"h-7 px-3 text-xs hover:bg-primary/10",children:[l.jsx(lr,{className:"h-3 w-3 mr-1"}),e(K?"mprojects.cancel":"mprojects.addCity")]})]}),K?l.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[l.jsx(We,{placeholder:"City Name (English)",value:oe.city_name_en,onChange:R=>ye({...oe,city_name_en:R.target.value}),className:"h-9"}),l.jsx(We,{placeholder:"City Name (Arabic)",value:oe.city_name_ar,onChange:R=>ye({...oe,city_name_ar:R.target.value}),className:"h-9"}),l.jsxs(kt,{value:((re=oe.country_id)==null?void 0:re.toString())||"",onValueChange:R=>ye({...oe,country_id:parseInt(R)}),children:[l.jsx(St,{className:"h-9",children:l.jsx(Nt,{placeholder:"Select Country"})}),l.jsx(jt,{children:x.map(R=>l.jsx(Oe,{value:R.country_id.toString(),children:de(R,"country_name_en","country_name_ar")},R.country_id))})]}),l.jsxs(le,{onClick:ot,size:"sm",className:"w-full h-9",children:[l.jsx(lr,{className:"h-4 w-4 mr-2"}),e("mprojects.createCity")]})]}):l.jsxs(kt,{value:((Z=Ve.city_id)==null?void 0:Z.toString())||"",onValueChange:R=>ht({...Ve,city_id:parseInt(R)||null}),children:[l.jsx(St,{className:"h-10",children:l.jsx(Nt,{placeholder:e("mprojects.selectCity")})}),l.jsx(jt,{children:f.map(R=>l.jsx(Oe,{value:R.city_id.toString(),children:de(R,"city_name_en","city_name_ar")},R.city_id))})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contacts")}),l.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>ke(!je),className:"h-6 px-2 text-xs",children:e(je?"mprojects.cancel":"mprojects.addContact")})]}),ue.length>0&&l.jsx("div",{className:"space-y-2 mb-3",children:ue.map((R,Y)=>l.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium",children:R.contact_name}),l.jsxs("div",{className:"text-muted-foreground",children:[R.contact_email&&`${R.contact_email}  `,R.contact_mobile&&`${R.contact_mobile}`]})]}),l.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>sa(Y),className:"h-6 w-6 p-0",children:l.jsx(Po,{className:"h-3 w-3"})})]},Y))}),je&&l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[l.jsx(We,{placeholder:e("mprojects.contactName"),value:ve.contact_name,onChange:R=>Be({...ve,contact_name:R.target.value})}),l.jsx(We,{placeholder:e("mprojects.email"),type:"email",value:ve.contact_email,onChange:R=>Be({...ve,contact_email:R.target.value})}),l.jsx(We,{placeholder:e("mprojects.mobile"),value:ve.contact_mobile,onChange:R=>Be({...ve,contact_mobile:R.target.value})}),l.jsxs(Sa,{open:Ie,onOpenChange:Ue,children:[l.jsx(ja,{asChild:!0,children:l.jsxs(le,{variant:"outline",role:"combobox","aria-expanded":Ie,className:"w-full justify-between",children:[ve.jobtitle_id?(te=b.find(R=>R.jobtitle_id===ve.jobtitle_id))==null?void 0:te.jobtitle_name_en:e("mprojects.selectJobTitle"),l.jsx(Ya,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(ia,{className:"w-full p-0",children:l.jsxs(ka,{children:[l.jsx(Na,{placeholder:e("mprojects.searchJobTitle")}),l.jsxs(Ca,{children:[l.jsx(Ea,{children:e("common.noResults")}),l.jsx(Ta,{children:b&&b.length>0?b.map(R=>l.jsx(Hr,{value:de(R,"jobtitle_name_en","jobtitle_name_ar")||R.jobtitle_name_en||"Unknown",onSelect:()=>{Be(Y=>({...Y,jobtitle_id:R.jobtitle_id})),Ue(!1)},children:de(R,"jobtitle_name_en","jobtitle_name_ar")||R.jobtitle_name_en||"Unknown"},R.jobtitle_id)):l.jsx(Hr,{disabled:!0,children:"No job titles available"})})]})]})})]}),l.jsx(le,{type:"button",onClick:Yn,className:"w-full",children:e("mprojects.addContactTitle")})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.contractDocument")}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.uploadContractDocument")}),l.jsx(We,{type:"file",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png",onChange:R=>{var ce;const Y=(ce=R.target.files)==null?void 0:ce[0];se(Y||null)},className:"file:hidden cursor-pointer"}),l.jsxs(le,{type:"button",variant:"outline",className:"w-full flex items-center justify-center gap-2",onClick:()=>{const R=document.querySelector('input[type="file"]');R==null||R.click()},children:[l.jsx(lr,{className:"h-4 w-4"}),e("common.add")]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("mprojects.supportedFormats"),": PDF, DOC, DOCX, TXT, JPG, JPEG, PNG"]})]}),pt&&l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[l.jsx(ei,{className:"h-5 w-5 text-primary flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:pt.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[(pt.size/1024/1024).toFixed(2)," MB"]})]}),l.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>se(null),className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",children:l.jsx(Po,{className:"h-4 w-4"})})]}),he&&l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[l.jsx(zi,{size:"sm"}),l.jsx("span",{className:"text-sm text-blue-700",children:he})]})]})]})]}),l.jsx("div",{className:"p-6 border-t bg-muted/20",children:l.jsx(le,{onClick:Re,className:"w-full",disabled:me||!Ve.company_name,children:e(me?"common.saving":ee?"common.save":"common.create")})})]})]})]})}),l.jsxs("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")||"Filters"}),(L||z||E)&&l.jsx(le,{variant:"outline",size:"sm",onClick:()=>{I(""),F(""),C(""),D(1)},children:e("mprojects.clearFilters")})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs(kt,{value:z||"all",onValueChange:R=>{F(R==="all"?"":R),D(1)},children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:e("mprojects.country")})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"all",children:e("mprojects.allCountries")}),x.map(R=>l.jsx(Oe,{value:R.country_id.toString(),children:de(R,"country_name_en","country_name_ar")},R.country_id))]})]}),l.jsxs(kt,{value:L||"all",onValueChange:R=>{I(R==="all"?"":R),D(1)},children:[l.jsx(St,{children:l.jsx(Nt,{placeholder:e("mprojects.city")})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"all",children:e("mprojects.allCities")}),f.map(R=>l.jsx(Oe,{value:R.city_id.toString(),children:de(R,"city_name_en","city_name_ar")},R.city_id))]})]})]})]})]}),Me&&l.jsxs(lt,{children:[l.jsx(Xt,{children:l.jsx(_r,{children:e("mprojects.analytics")})}),l.jsx(xt,{children:l.jsxs(Cl,{defaultValue:"overview",className:"w-full",children:[l.jsxs(Lo,{className:"grid w-full grid-cols-2",children:[l.jsx(tn,{value:"overview",children:"Overview"}),l.jsx(tn,{value:"timeline",children:"Timeline"})]}),l.jsx(Pn,{value:"overview",className:"mt-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Contract Amount Range"}),l.jsx(su,{config:{},className:"h-[350px]",children:l.jsxs(Ed,{children:[l.jsx(ss,{data:[{name:"< $10K",min:0,max:1e4},{name:"$10K - $50K",min:1e4,max:5e4},{name:"$50K - $100K",min:5e4,max:1e5},{name:"> $100K",min:1e5,max:1/0}].map(ce=>({name:ce.name,value:_n.filter(Ne=>Ne.contract_amount&&Ne.contract_amount>=ce.min&&Ne.contract_amount<ce.max).length})).filter(ce=>ce.value>0),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,value:Y})=>`${R}: ${Y}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((R,Y)=>l.jsx(il,{fill:R},`cell-${Y}`))}),l.jsx(Ad,{content:l.jsx(iu,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),l.jsx(su,{config:{},className:"h-[350px]",children:l.jsxs(Ed,{children:[l.jsx(ss,{data:(()=>{const R=f.map(Y=>({name:de(Y,"city_name_en","city_name_ar"),value:_n.filter(ce=>ce.city_id===Y.city_id).length})).filter(Y=>Y.value>0);return R.length>0?R:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,value:Y})=>`${R}: ${Y}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((R,Y)=>l.jsx(il,{fill:R},`cell-${Y}`))}),l.jsx(Ad,{content:l.jsx(iu,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Projects"}),l.jsx("div",{className:"text-5xl font-bold text-primary",children:_n.length}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),l.jsx(Pn,{value:"timeline",className:"mt-4",children:l.jsx("div",{className:"w-full h-[400px]",children:l.jsx(SS,{width:"100%",height:"100%",children:l.jsxs(OP,{data:(()=>{const R=new Map;return _n.forEach(ce=>{const Ne=new Date(ce.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});R.set(Ne,(R.get(Ne)||0)+1)}),Array.from(R.entries()).sort((ce,Ne)=>new Date(ce[0]).getTime()-new Date(Ne[0]).getTime()).map(([ce,Ne])=>({date:ce,count:Ne}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[l.jsx(KS,{strokeDasharray:"3 3"}),l.jsx(r0,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),l.jsx(n0,{label:{value:"Number of Projects",angle:-90,position:"insideLeft"}}),l.jsx(Qs,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:R=>[`${R} projects`,"Total"]}),l.jsx(oc,{}),l.jsx(Hf,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Projects"})]})})})})]})})]}),l.jsx(lt,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:l.jsx(xt,{className:"h-full flex flex-col p-0",children:l.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 p-4",children:Pe==="kanban"?l.jsx("div",{className:"space-y-4",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pt-4",children:wi.map(R=>{var Y;return l.jsxs(lt,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>Xe(R),children:[l.jsx(Xt,{className:"pb-2 px-4 pt-3",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-sm truncate",children:R.company_name||"No Company"}),R.contract_code&&l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:R.contract_code})]})})}),l.jsxs(xt,{className:"px-4 pb-3 space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Lm,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),l.jsx("p",{className:"text-xs font-medium truncate",children:_e(R.city_id)})]})}),l.jsx("div",{children:l.jsxs(ft,{variant:"outline",className:"text-xs",children:["$",((Y=R.contract_amount)==null?void 0:Y.toLocaleString())||"0"]})})]}),l.jsx("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("span",{children:["Created: ",new Date(R.created_at).toLocaleDateString()]})})})]})]},R.project_id)})})}):l.jsx(l.Fragment,{children:_n.length===0?l.jsx(uc,{title:e("mprojects.noProjectsFound"),description:e("mprojects.createNewProjectToGetStarted"),icon:l.jsx(un,{className:"h-12 w-12"})}):l.jsx(kc,{data:wi,columns:Ll,actions:H,bulkActions:Ji,enableBulkSelect:!0,keyExtractor:R=>R.project_id.toString(),onRowClick:R=>Xe(R),rowHeight:"h-26"})})})})}),l.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:aa>0&&l.jsx("div",{className:"flex justify-center",children:l.jsx(R4,{children:l.jsxs(I4,{children:[l.jsx(lf,{children:l.jsx(F4,{onClick:()=>D(Math.max(0,A-1)),className:A===0?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),l.jsx(lf,{children:l.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",A+1," ",e("common.of")," ",aa]})}),l.jsx(lf,{children:l.jsx(L4,{onClick:()=>D(Math.min(aa-1,A+1)),className:A===aa-1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})}),l.jsx(gi,{open:M!==null,onOpenChange:()=>X(null),children:l.jsxs(Ms,{children:[l.jsxs(Fs,{children:[l.jsx($s,{children:e("mprojects.deleteProject")}),l.jsx(Bs,{children:e("mprojects.deleteProjectConfirmation")})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:e("common.cancel")}),l.jsx(Us,{onClick:()=>M&&Fe(M),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),l.jsx(Sl,{open:fe,onOpenChange:O,children:l.jsxs(Mo,{side:a?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[l.jsx(wc,{children:l.jsxs(jl,{className:"flex items-center gap-2 min-w-0",children:[l.jsx(un,{className:"h-5 w-5 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:ae==null?void 0:ae.company_name})]})}),ae&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:e("mprojects.projectDetails")}),l.jsxs(le,{onClick:()=>{Xr(ae),O(!1)},variant:"outline",size:"sm",children:[l.jsx(Vi,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),l.jsxs(Cl,{defaultValue:"overview",className:"w-full",children:[l.jsxs(Lo,{className:"grid w-full grid-cols-2",children:[l.jsx(tn,{value:"overview",children:e("common.overview")}),l.jsx(tn,{value:"notes",children:e("notes.title")})]}),l.jsxs(Pn,{value:"overview",className:"space-y-4 mt-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold",children:ae.company_name||"-"}),ae.contract_code&&l.jsxs("p",{className:"text-muted-foreground mt-1",children:["Contract: ",ae.contract_code]})]}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractAmount")}),l.jsx("p",{className:"font-medium",children:ae.contract_amount?`$${ae.contract_amount.toLocaleString()}`:"-"})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.startDate")}),l.jsx("p",{className:"font-medium",children:ae.cont_start_date?new Date(ae.cont_start_date).toLocaleDateString():"-"})]})}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.endDate")}),l.jsx("p",{className:"font-medium",children:ae.cont_end_date?new Date(ae.cont_end_date).toLocaleDateString():"-"})]})})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Lm,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.city")}),l.jsx("p",{className:"font-medium",children:_e(ae.city_id)})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mprojects.contacts")}),(()=>{const R=m.filter(Y=>Y.project_id===ae.project_id);return R.length>0?l.jsx("div",{className:"space-y-2",children:R.map((Y,ce)=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:Y.contact_name||"-"}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[Y.contact_email&&`${Y.contact_email}  `,Y.contact_mobile&&`${Y.contact_mobile}`]})]}),l.jsx(ft,{variant:"outline",className:"text-xs",children:b.find(Ne=>Ne.jobtitle_id===Y.jobtitle_id)?de(b.find(Ne=>Ne.jobtitle_id===Y.jobtitle_id),"jobtitle_name_en","jobtitle_name_ar"):"-"})]},Y.contact_id||ce))}):l.jsx("p",{className:"text-sm text-muted-foreground",children:e("mprojects.noContactsFound")})})()]}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.created")}),l.jsx("p",{className:"text-sm font-medium",children:new Date(ae.created_at).toLocaleDateString()})]})}),ae.contract_document&&(()=>{const R=ae.contract_document;return l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(ei,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractDocument")}),l.jsx("p",{className:"text-sm font-medium truncate",children:R.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[R.size&&`${(R.size/1024/1024).toFixed(2)} MB`,"  ",new Date(R.uploaded_at).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex gap-1",children:[R.url&&l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>window.open(R.url,"_blank"),className:"h-8 w-8 p-0",children:l.jsx(kie,{className:"h-4 w-4"})}),l.jsx(le,{variant:"ghost",size:"sm",onClick:async()=>{try{await XGe(ae.project_id),s({title:e("common.success"),description:"Contract document deleted successfully"}),await rr(),O(!1)}catch{s({title:"Error",description:"Failed to delete contract document",variant:"destructive"})}},className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:l.jsx(wr,{className:"h-4 w-4"})})]})]})})()]}),l.jsx(Pn,{value:"notes",className:"mt-4",children:l.jsx(VP,{relatedType:"mlead",relatedId:ae.project_id,notes:Le,onNotesChange:()=>Vt(ae.project_id)})})]})]})]})})]})}const x1={async getRequests(){return(await G.requests.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async getRequestById(e){return await G.requests.get(e)},async createRequest(e){return await G.requests.create(e)},async updateRequest(e,r){return await G.requests.update(e,r)},async deleteRequest(e){await G.requests.delete(e)}};var sy=e=>e.type==="checkbox",zd=e=>e instanceof Date,rs=e=>e==null;const YJ=e=>typeof e=="object";var bn=e=>!rs(e)&&!Array.isArray(e)&&YJ(e)&&!zd(e),XJ=e=>bn(e)&&e.target?sy(e.target)?e.target.checked:e.target.value:e,QGe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,JJ=(e,r)=>e.has(QGe(r)),ZGe=e=>{const r=e.constructor&&e.constructor.prototype;return bn(r)&&r.hasOwnProperty("isPrototypeOf")},B4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $n(e){let r;const n=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(B4&&(e instanceof Blob||a))&&(n||bn(e)))if(r=n?[]:{},!n&&!ZGe(e))r=e;else for(const s in e)e.hasOwnProperty(s)&&(r[s]=$n(e[s]));else return e;return r}var fj=e=>/^\w*$/.test(e),mn=e=>e===void 0,U4=e=>Array.isArray(e)?e.filter(Boolean):[],V4=e=>U4(e.replace(/["|']|\]/g,"").split(/\.|\[/)),tt=(e,r,n)=>{if(!r||!bn(e))return n;const a=(fj(r)?[r]:V4(r)).reduce((s,i)=>rs(s)?s:s[i],e);return mn(a)||a===e?mn(e[r])?n:e[r]:a},Zs=e=>typeof e=="boolean",yr=(e,r,n)=>{let a=-1;const s=fj(r)?[r]:V4(r),i=s.length,o=i-1;for(;++a<i;){const c=s[a];let u=n;if(a!==o){const d=e[c];u=bn(d)||Array.isArray(d)?d:isNaN(+s[a+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=u,e=e[c]}};const r_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},bo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},z4=ne.createContext(null);z4.displayName="HookFormContext";const hj=()=>ne.useContext(z4),eYe=e=>{const{children:r,...n}=e;return ne.createElement(z4.Provider,{value:n},r)};var QJ=(e,r,n,a=!0)=>{const s={defaultValues:r._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return r._proxyFormState[o]!==bo.all&&(r._proxyFormState[o]=!a||bo.all),n&&(n[o]=!0),e[o]}});return s};const W4=typeof window<"u"?ne.useLayoutEffect:ne.useEffect;function tYe(e){const r=hj(),{control:n=r.control,disabled:a,name:s,exact:i}=e||{},[o,c]=ne.useState(n._formState),u=ne.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return W4(()=>n._subscribe({name:s,formState:u.current,exact:i,callback:d=>{!a&&c({...n._formState,...d})}}),[s,a,i]),ne.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),ne.useMemo(()=>QJ(o,n,u.current,!1),[o,n])}var fl=e=>typeof e=="string",ZJ=(e,r,n,a,s)=>fl(e)?(a&&r.watch.add(e),tt(n,e,s)):Array.isArray(e)?e.map(i=>(a&&r.watch.add(i),tt(n,i))):(a&&(r.watchAll=!0),n),xT=e=>rs(e)||!YJ(e);function Jl(e,r,n=new WeakSet){if(xT(e)||xT(r))return e===r;if(zd(e)&&zd(r))return e.getTime()===r.getTime();const a=Object.keys(e),s=Object.keys(r);if(a.length!==s.length)return!1;if(n.has(e)||n.has(r))return!0;n.add(e),n.add(r);for(const i of a){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const c=r[i];if(zd(o)&&zd(c)||bn(o)&&bn(c)||Array.isArray(o)&&Array.isArray(c)?!Jl(o,c,n):o!==c)return!1}}return!0}function rYe(e){const r=hj(),{control:n=r.control,name:a,defaultValue:s,disabled:i,exact:o,compute:c}=e||{},u=ne.useRef(s),d=ne.useRef(c),f=ne.useRef(void 0);d.current=c;const h=ne.useMemo(()=>n._getWatch(a,u.current),[n,a]),[m,p]=ne.useState(d.current?d.current(h):h);return W4(()=>n._subscribe({name:a,formState:{values:!0},exact:o,callback:g=>{if(!i){const v=ZJ(a,n._names,g.values||n._formValues,!1,u.current);if(d.current){const x=d.current(v);Jl(x,f.current)||(p(x),f.current=x)}else p(v)}}}),[n,i,a,o]),ne.useEffect(()=>n._removeUnmounted()),m}function nYe(e){const r=hj(),{name:n,disabled:a,control:s=r.control,shouldUnregister:i,defaultValue:o}=e,c=JJ(s._names.array,n),u=ne.useMemo(()=>tt(s._formValues,n,tt(s._defaultValues,n,o)),[s,n,o]),d=rYe({control:s,name:n,defaultValue:u,exact:!0}),f=tYe({control:s,name:n,exact:!0}),h=ne.useRef(e),m=ne.useRef(s.register(n,{...e.rules,value:d,...Zs(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const p=ne.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!tt(f.errors,n)},isDirty:{enumerable:!0,get:()=>!!tt(f.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!tt(f.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!tt(f.validatingFields,n)},error:{enumerable:!0,get:()=>tt(f.errors,n)}}),[f,n]),g=ne.useCallback(b=>m.current.onChange({target:{value:XJ(b),name:n},type:r_.CHANGE}),[n]),v=ne.useCallback(()=>m.current.onBlur({target:{value:tt(s._formValues,n),name:n},type:r_.BLUR}),[n,s._formValues]),x=ne.useCallback(b=>{const _=tt(s._fields,n);_&&b&&(_._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:S=>b.setCustomValidity(S),reportValidity:()=>b.reportValidity()})},[s._fields,n]),w=ne.useMemo(()=>({name:n,value:d,...Zs(a)||f.disabled?{disabled:f.disabled||a}:{},onChange:g,onBlur:v,ref:x}),[n,a,f.disabled,g,v,x,d]);return ne.useEffect(()=>{const b=s._options.shouldUnregister||i;s.register(n,{...h.current.rules,...Zs(h.current.disabled)?{disabled:h.current.disabled}:{}});const _=(S,j)=>{const N=tt(s._fields,S);N&&N._f&&(N._f.mount=j)};if(_(n,!0),b){const S=$n(tt(s._options.defaultValues,n));yr(s._defaultValues,n,S),mn(tt(s._formValues,n))&&yr(s._formValues,n,S)}return!c&&s.register(n),()=>{(c?b&&!s._state.action:b)?s.unregister(n):_(n,!1)}},[n,s,c,i]),ne.useEffect(()=>{s._setDisabledField({disabled:a,name:n})},[a,n,s]),ne.useMemo(()=>({field:w,formState:f,fieldState:p}),[w,f,p])}const aYe=e=>e.render(nYe(e));var eQ=(e,r,n,a,s)=>r?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[a]:s||!0}}:{},Dg=e=>Array.isArray(e)?e:[e],o8=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},bs=e=>bn(e)&&!Object.keys(e).length,H4=e=>e.type==="file",wo=e=>typeof e=="function",n_=e=>{if(!B4)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},tQ=e=>e.type==="select-multiple",q4=e=>e.type==="radio",sYe=e=>q4(e)||sy(e),EN=e=>n_(e)&&e.isConnected;function iYe(e,r){const n=r.slice(0,-1).length;let a=0;for(;a<n;)e=mn(e)?a++:e[r[a++]];return e}function oYe(e){for(const r in e)if(e.hasOwnProperty(r)&&!mn(e[r]))return!1;return!0}function kn(e,r){const n=Array.isArray(r)?r:fj(r)?[r]:V4(r),a=n.length===1?e:iYe(e,n),s=n.length-1,i=n[s];return a&&delete a[i],s!==0&&(bn(a)&&bs(a)||Array.isArray(a)&&oYe(a))&&kn(e,n.slice(0,-1)),e}var rQ=e=>{for(const r in e)if(wo(e[r]))return!0;return!1};function a_(e,r={}){const n=Array.isArray(e);if(bn(e)||n)for(const a in e)Array.isArray(e[a])||bn(e[a])&&!rQ(e[a])?(r[a]=Array.isArray(e[a])?[]:{},a_(e[a],r[a])):rs(e[a])||(r[a]=!0);return r}function nQ(e,r,n){const a=Array.isArray(e);if(bn(e)||a)for(const s in e)Array.isArray(e[s])||bn(e[s])&&!rQ(e[s])?mn(r)||xT(n[s])?n[s]=Array.isArray(e[s])?a_(e[s],[]):{...a_(e[s])}:nQ(e[s],rs(r)?{}:r[s],n[s]):n[s]=!Jl(e[s],r[s]);return n}var M0=(e,r)=>nQ(e,r,a_(r));const l8={value:!1,isValid:!1},c8={value:!0,isValid:!0};var aQ=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!mn(e[0].attributes.value)?mn(e[0].value)||e[0].value===""?c8:{value:e[0].value,isValid:!0}:c8:l8}return l8},sQ=(e,{valueAsNumber:r,valueAsDate:n,setValueAs:a})=>mn(e)?e:r?e===""?NaN:e&&+e:n&&fl(e)?new Date(e):a?a(e):e;const u8={isValid:!1,value:null};var iQ=e=>Array.isArray(e)?e.reduce((r,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:r,u8):u8;function d8(e){const r=e.ref;return H4(r)?r.files:q4(r)?iQ(e.refs).value:tQ(r)?[...r.selectedOptions].map(({value:n})=>n):sy(r)?aQ(e.refs).value:sQ(mn(r.value)?e.ref.value:r.value,e)}var lYe=(e,r,n,a)=>{const s={};for(const i of e){const o=tt(r,i);o&&yr(s,i,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:a}},s_=e=>e instanceof RegExp,F0=e=>mn(e)?e:s_(e)?e.source:bn(e)?s_(e.value)?e.value.source:e.value:e,f8=e=>({isOnSubmit:!e||e===bo.onSubmit,isOnBlur:e===bo.onBlur,isOnChange:e===bo.onChange,isOnAll:e===bo.all,isOnTouch:e===bo.onTouched});const h8="AsyncFunction";var cYe=e=>!!e&&!!e.validate&&!!(wo(e.validate)&&e.validate.constructor.name===h8||bn(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===h8)),uYe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),m8=(e,r,n)=>!n&&(r.watchAll||r.watch.has(e)||[...r.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const Rg=(e,r,n,a)=>{for(const s of n||Object.keys(e)){const i=tt(e,s);if(i){const{_f:o,...c}=i;if(o){if(o.refs&&o.refs[0]&&r(o.refs[0],s)&&!a)return!0;if(o.ref&&r(o.ref,o.name)&&!a)return!0;if(Rg(c,r))break}else if(bn(c)&&Rg(c,r))break}}};function p8(e,r,n){const a=tt(e,n);if(a||fj(n))return{error:a,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=tt(r,i),c=tt(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(c&&c.type)return{name:i,error:c};if(c&&c.root&&c.root.type)return{name:`${i}.root`,error:c.root};s.pop()}return{name:n}}var dYe=(e,r,n,a)=>{n(e);const{name:s,...i}=e;return bs(i)||Object.keys(i).length>=Object.keys(r).length||Object.keys(i).find(o=>r[o]===(!a||bo.all))},fYe=(e,r,n)=>!e||!r||e===r||Dg(e).some(a=>a&&(n?a===r:a.startsWith(r)||r.startsWith(a))),hYe=(e,r,n,a,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(r||e):(n?a.isOnBlur:s.isOnBlur)?!e:(n?a.isOnChange:s.isOnChange)?e:!0,mYe=(e,r)=>!U4(tt(e,r)).length&&kn(e,r),pYe=(e,r,n)=>{const a=Dg(tt(e,n));return yr(a,"root",r[n]),yr(e,n,a),e},q1=e=>fl(e);function g8(e,r,n="validate"){if(q1(e)||Array.isArray(e)&&e.every(q1)||Zs(e)&&!e)return{type:n,message:q1(e)?e:"",ref:r}}var vh=e=>bn(e)&&!s_(e)?e:{value:e,message:""},v8=async(e,r,n,a,s,i)=>{const{ref:o,refs:c,required:u,maxLength:d,minLength:f,min:h,max:m,pattern:p,validate:g,name:v,valueAsNumber:x,mount:w}=e._f,b=tt(n,v);if(!w||r.has(v))return{};const _=c?c[0]:o,S=T=>{s&&_.reportValidity&&(_.setCustomValidity(Zs(T)?"":T||""),_.reportValidity())},j={},N=q4(o),k=sy(o),E=N||k,C=(x||H4(o))&&mn(o.value)&&mn(b)||n_(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,A=eQ.bind(null,v,a,j),D=(T,W,q,L=zl.maxLength,I=zl.minLength)=>{const z=T?W:q;j[v]={type:T?L:I,message:z,ref:o,...A(T?L:I,z)}};if(i?!Array.isArray(b)||!b.length:u&&(!E&&(C||rs(b))||Zs(b)&&!b||k&&!aQ(c).isValid||N&&!iQ(c).isValid)){const{value:T,message:W}=q1(u)?{value:!!u,message:u}:vh(u);if(T&&(j[v]={type:zl.required,message:W,ref:_,...A(zl.required,W)},!a))return S(W),j}if(!C&&(!rs(h)||!rs(m))){let T,W;const q=vh(m),L=vh(h);if(!rs(b)&&!isNaN(b)){const I=o.valueAsNumber||b&&+b;rs(q.value)||(T=I>q.value),rs(L.value)||(W=I<L.value)}else{const I=o.valueAsDate||new Date(b),z=X=>new Date(new Date().toDateString()+" "+X),F=o.type=="time",M=o.type=="week";fl(q.value)&&b&&(T=F?z(b)>z(q.value):M?b>q.value:I>new Date(q.value)),fl(L.value)&&b&&(W=F?z(b)<z(L.value):M?b<L.value:I<new Date(L.value))}if((T||W)&&(D(!!T,q.message,L.message,zl.max,zl.min),!a))return S(j[v].message),j}if((d||f)&&!C&&(fl(b)||i&&Array.isArray(b))){const T=vh(d),W=vh(f),q=!rs(T.value)&&b.length>+T.value,L=!rs(W.value)&&b.length<+W.value;if((q||L)&&(D(q,T.message,W.message),!a))return S(j[v].message),j}if(p&&!C&&fl(b)){const{value:T,message:W}=vh(p);if(s_(T)&&!b.match(T)&&(j[v]={type:zl.pattern,message:W,ref:o,...A(zl.pattern,W)},!a))return S(W),j}if(g){if(wo(g)){const T=await g(b,n),W=g8(T,_);if(W&&(j[v]={...W,...A(zl.validate,W.message)},!a))return S(W.message),j}else if(bn(g)){let T={};for(const W in g){if(!bs(T)&&!a)break;const q=g8(await g[W](b,n),_,W);q&&(T={...q,...A(W,q.message)},S(q.message),a&&(j[v]=T))}if(!bs(T)&&(j[v]={ref:_,...T},!a))return j}}return S(!0),j};const gYe={mode:bo.onSubmit,reValidateMode:bo.onChange,shouldFocusError:!0};function vYe(e={}){let r={...gYe,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:wo(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},a={},s=bn(r.defaultValues)||bn(r.values)?$n(r.defaultValues||r.values)||{}:{},i=r.shouldUnregister?{}:$n(s),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...f};const m={array:o8(),state:o8()},p=r.criteriaMode===bo.all,g=se=>he=>{clearTimeout(d),d=setTimeout(se,he)},v=async se=>{if(!r.disabled&&(f.isValid||h.isValid||se)){const he=r.resolver?bs((await k()).errors):await C(a,!0);he!==n.isValid&&m.state.next({isValid:he})}},x=(se,he)=>{!r.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((se||Array.from(c.mount)).forEach(B=>{B&&(he?yr(n.validatingFields,B,he):kn(n.validatingFields,B))}),m.state.next({validatingFields:n.validatingFields,isValidating:!bs(n.validatingFields)}))},w=(se,he=[],B,ue,be=!0,ve=!0)=>{if(ue&&B&&!r.disabled){if(o.action=!0,ve&&Array.isArray(tt(a,se))){const Be=B(tt(a,se),ue.argA,ue.argB);be&&yr(a,se,Be)}if(ve&&Array.isArray(tt(n.errors,se))){const Be=B(tt(n.errors,se),ue.argA,ue.argB);be&&yr(n.errors,se,Be),mYe(n.errors,se)}if((f.touchedFields||h.touchedFields)&&ve&&Array.isArray(tt(n.touchedFields,se))){const Be=B(tt(n.touchedFields,se),ue.argA,ue.argB);be&&yr(n.touchedFields,se,Be)}(f.dirtyFields||h.dirtyFields)&&(n.dirtyFields=M0(s,i)),m.state.next({name:se,isDirty:D(se,he),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else yr(i,se,he)},b=(se,he)=>{yr(n.errors,se,he),m.state.next({errors:n.errors})},_=se=>{n.errors=se,m.state.next({errors:n.errors,isValid:!1})},S=(se,he,B,ue)=>{const be=tt(a,se);if(be){const ve=tt(i,se,mn(B)?tt(s,se):B);mn(ve)||ue&&ue.defaultChecked||he?yr(i,se,he?ve:d8(be._f)):q(se,ve),o.mount&&v()}},j=(se,he,B,ue,be)=>{let ve=!1,Be=!1;const je={name:se};if(!r.disabled){if(!B||ue){(f.isDirty||h.isDirty)&&(Be=n.isDirty,n.isDirty=je.isDirty=D(),ve=Be!==je.isDirty);const ke=Jl(tt(s,se),he);Be=!!tt(n.dirtyFields,se),ke?kn(n.dirtyFields,se):yr(n.dirtyFields,se,!0),je.dirtyFields=n.dirtyFields,ve=ve||(f.dirtyFields||h.dirtyFields)&&Be!==!ke}if(B){const ke=tt(n.touchedFields,se);ke||(yr(n.touchedFields,se,B),je.touchedFields=n.touchedFields,ve=ve||(f.touchedFields||h.touchedFields)&&ke!==B)}ve&&be&&m.state.next(je)}return ve?je:{}},N=(se,he,B,ue)=>{const be=tt(n.errors,se),ve=(f.isValid||h.isValid)&&Zs(he)&&n.isValid!==he;if(r.delayError&&B?(u=g(()=>b(se,B)),u(r.delayError)):(clearTimeout(d),u=null,B?yr(n.errors,se,B):kn(n.errors,se)),(B?!Jl(be,B):be)||!bs(ue)||ve){const Be={...ue,...ve&&Zs(he)?{isValid:he}:{},errors:n.errors,name:se};n={...n,...Be},m.state.next(Be)}},k=async se=>{x(se,!0);const he=await r.resolver(i,r.context,lYe(se||c.mount,a,r.criteriaMode,r.shouldUseNativeValidation));return x(se),he},E=async se=>{const{errors:he}=await k(se);if(se)for(const B of se){const ue=tt(he,B);ue?yr(n.errors,B,ue):kn(n.errors,B)}else n.errors=he;return he},C=async(se,he,B={valid:!0})=>{for(const ue in se){const be=se[ue];if(be){const{_f:ve,...Be}=be;if(ve){const je=c.array.has(ve.name),ke=be._f&&cYe(be._f);ke&&f.validatingFields&&x([ue],!0);const me=await v8(be,c.disabled,i,p,r.shouldUseNativeValidation&&!he,je);if(ke&&f.validatingFields&&x([ue]),me[ve.name]&&(B.valid=!1,he))break;!he&&(tt(me,ve.name)?je?pYe(n.errors,me,ve.name):yr(n.errors,ve.name,me[ve.name]):kn(n.errors,ve.name))}!bs(Be)&&await C(Be,he,B)}}return B.valid},A=()=>{for(const se of c.unMount){const he=tt(a,se);he&&(he._f.refs?he._f.refs.every(B=>!EN(B)):!EN(he._f.ref))&&oe(se)}c.unMount=new Set},D=(se,he)=>!r.disabled&&(se&&he&&yr(i,se,he),!Jl(X(),s)),T=(se,he,B)=>ZJ(se,c,{...o.mount?i:mn(he)?s:fl(se)?{[se]:he}:he},B,he),W=se=>U4(tt(o.mount?i:s,se,r.shouldUnregister?tt(s,se,[]):[])),q=(se,he,B={})=>{const ue=tt(a,se);let be=he;if(ue){const ve=ue._f;ve&&(!ve.disabled&&yr(i,se,sQ(he,ve)),be=n_(ve.ref)&&rs(he)?"":he,tQ(ve.ref)?[...ve.ref.options].forEach(Be=>Be.selected=be.includes(Be.value)):ve.refs?sy(ve.ref)?ve.refs.forEach(Be=>{(!Be.defaultChecked||!Be.disabled)&&(Array.isArray(be)?Be.checked=!!be.find(je=>je===Be.value):Be.checked=be===Be.value||!!be)}):ve.refs.forEach(Be=>Be.checked=Be.value===be):H4(ve.ref)?ve.ref.value="":(ve.ref.value=be,ve.ref.type||m.state.next({name:se,values:$n(i)})))}(B.shouldDirty||B.shouldTouch)&&j(se,be,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&M(se)},L=(se,he,B)=>{for(const ue in he){if(!he.hasOwnProperty(ue))return;const be=he[ue],ve=se+"."+ue,Be=tt(a,ve);(c.array.has(se)||bn(be)||Be&&!Be._f)&&!zd(be)?L(ve,be,B):q(ve,be,B)}},I=(se,he,B={})=>{const ue=tt(a,se),be=c.array.has(se),ve=$n(he);yr(i,se,ve),be?(m.array.next({name:se,values:$n(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&B.shouldDirty&&m.state.next({name:se,dirtyFields:M0(s,i),isDirty:D(se,ve)})):ue&&!ue._f&&!rs(ve)?L(se,ve,B):q(se,ve,B),m8(se,c)&&m.state.next({...n,name:se}),m.state.next({name:o.mount?se:void 0,values:$n(i)})},z=async se=>{o.mount=!0;const he=se.target;let B=he.name,ue=!0;const be=tt(a,B),ve=ke=>{ue=Number.isNaN(ke)||zd(ke)&&isNaN(ke.getTime())||Jl(ke,tt(i,B,ke))},Be=f8(r.mode),je=f8(r.reValidateMode);if(be){let ke,me;const Ee=he.type?d8(be._f):XJ(se),Ie=se.type===r_.BLUR||se.type===r_.FOCUS_OUT,Ue=!uYe(be._f)&&!r.resolver&&!tt(n.errors,B)&&!be._f.deps||hYe(Ie,tt(n.touchedFields,B),n.isSubmitted,je,Be),Ve=m8(B,c,Ie);yr(i,B,Ee),Ie?(be._f.onBlur&&be._f.onBlur(se),u&&u(0)):be._f.onChange&&be._f.onChange(se);const ht=j(B,Ee,Ie),Qt=!bs(ht)||Ve;if(!Ie&&m.state.next({name:B,type:se.type,values:$n(i)}),Ue)return(f.isValid||h.isValid)&&(r.mode==="onBlur"?Ie&&v():Ie||v()),Qt&&m.state.next({name:B,...Ve?{}:ht});if(!Ie&&Ve&&m.state.next({...n}),r.resolver){const{errors:rr}=await k([B]);if(ve(Ee),ue){const kr=p8(n.errors,a,B),$r=p8(rr,a,kr.name||B);ke=$r.error,B=$r.name,me=bs(rr)}}else x([B],!0),ke=(await v8(be,c.disabled,i,p,r.shouldUseNativeValidation))[B],x([B]),ve(Ee),ue&&(ke?me=!1:(f.isValid||h.isValid)&&(me=await C(a,!0)));ue&&(be._f.deps&&M(be._f.deps),N(B,me,ke,ht))}},F=(se,he)=>{if(tt(n.errors,he)&&se.focus)return se.focus(),1},M=async(se,he={})=>{let B,ue;const be=Dg(se);if(r.resolver){const ve=await E(mn(se)?se:be);B=bs(ve),ue=se?!be.some(Be=>tt(ve,Be)):B}else se?(ue=(await Promise.all(be.map(async ve=>{const Be=tt(a,ve);return await C(Be&&Be._f?{[ve]:Be}:Be)}))).every(Boolean),!(!ue&&!n.isValid)&&v()):ue=B=await C(a);return m.state.next({...!fl(se)||(f.isValid||h.isValid)&&B!==n.isValid?{}:{name:se},...r.resolver||!se?{isValid:B}:{},errors:n.errors}),he.shouldFocus&&!ue&&Rg(a,F,se?be:c.mount),ue},X=se=>{const he={...o.mount?i:s};return mn(se)?he:fl(se)?tt(he,se):se.map(B=>tt(he,B))},ee=(se,he)=>({invalid:!!tt((he||n).errors,se),isDirty:!!tt((he||n).dirtyFields,se),error:tt((he||n).errors,se),isValidating:!!tt(n.validatingFields,se),isTouched:!!tt((he||n).touchedFields,se)}),P=se=>{se&&Dg(se).forEach(he=>kn(n.errors,he)),m.state.next({errors:se?n.errors:{}})},J=(se,he,B)=>{const ue=(tt(a,se,{_f:{}})._f||{}).ref,be=tt(n.errors,se)||{},{ref:ve,message:Be,type:je,...ke}=be;yr(n.errors,se,{...ke,...he,ref:ue}),m.state.next({name:se,errors:n.errors,isValid:!1}),B&&B.shouldFocus&&ue&&ue.focus&&ue.focus()},V=(se,he)=>wo(se)?m.state.subscribe({next:B=>"values"in B&&se(T(void 0,he),B)}):T(se,he,!0),K=se=>m.state.subscribe({next:he=>{fYe(se.name,he.name,se.exact)&&dYe(he,se.formState||f,Pe,se.reRenderRoot)&&se.callback({values:{...i},...n,...he,defaultValues:s})}}).unsubscribe,ie=se=>(o.mount=!0,h={...h,...se.formState},K({...se,formState:h})),oe=(se,he={})=>{for(const B of se?Dg(se):c.mount)c.mount.delete(B),c.array.delete(B),he.keepValue||(kn(a,B),kn(i,B)),!he.keepError&&kn(n.errors,B),!he.keepDirty&&kn(n.dirtyFields,B),!he.keepTouched&&kn(n.touchedFields,B),!he.keepIsValidating&&kn(n.validatingFields,B),!r.shouldUnregister&&!he.keepDefaultValue&&kn(s,B);m.state.next({values:$n(i)}),m.state.next({...n,...he.keepDirty?{isDirty:D()}:{}}),!he.keepIsValid&&v()},ye=({disabled:se,name:he})=>{(Zs(se)&&o.mount||se||c.disabled.has(he))&&(se?c.disabled.add(he):c.disabled.delete(he))},ae=(se,he={})=>{let B=tt(a,se);const ue=Zs(he.disabled)||Zs(r.disabled);return yr(a,se,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:se}},name:se,mount:!0,...he}}),c.mount.add(se),B?ye({disabled:Zs(he.disabled)?he.disabled:r.disabled,name:se}):S(se,!0,he.value),{...ue?{disabled:he.disabled||r.disabled}:{},...r.progressive?{required:!!he.required,min:F0(he.min),max:F0(he.max),minLength:F0(he.minLength),maxLength:F0(he.maxLength),pattern:F0(he.pattern)}:{},name:se,onChange:z,onBlur:z,ref:be=>{if(be){ae(se,he),B=tt(a,se);const ve=mn(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,Be=sYe(ve),je=B._f.refs||[];if(Be?je.find(ke=>ke===ve):ve===B._f.ref)return;yr(a,se,{_f:{...B._f,...Be?{refs:[...je.filter(EN),ve,...Array.isArray(tt(s,se))?[{}]:[]],ref:{type:ve.type,name:se}}:{ref:ve}}}),S(se,!1,void 0,ve)}else B=tt(a,se,{}),B._f&&(B._f.mount=!1),(r.shouldUnregister||he.shouldUnregister)&&!(JJ(c.array,se)&&o.action)&&c.unMount.add(se)}}},Q=()=>r.shouldFocusError&&Rg(a,F,c.mount),fe=se=>{Zs(se)&&(m.state.next({disabled:se}),Rg(a,(he,B)=>{const ue=tt(a,B);ue&&(he.disabled=ue._f.disabled||se,Array.isArray(ue._f.refs)&&ue._f.refs.forEach(be=>{be.disabled=ue._f.disabled||se}))},0,!1))},O=(se,he)=>async B=>{let ue;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let be=$n(i);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:ve,values:Be}=await k();n.errors=ve,be=$n(Be)}else await C(a);if(c.disabled.size)for(const ve of c.disabled)kn(be,ve);if(kn(n.errors,"root"),bs(n.errors)){m.state.next({errors:{}});try{await se(be,B)}catch(ve){ue=ve}}else he&&await he({...n.errors},B),Q(),setTimeout(Q);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:bs(n.errors)&&!ue,submitCount:n.submitCount+1,errors:n.errors}),ue)throw ue},Le=(se,he={})=>{tt(a,se)&&(mn(he.defaultValue)?I(se,$n(tt(s,se))):(I(se,he.defaultValue),yr(s,se,$n(he.defaultValue))),he.keepTouched||kn(n.touchedFields,se),he.keepDirty||(kn(n.dirtyFields,se),n.isDirty=he.defaultValue?D(se,$n(tt(s,se))):D()),he.keepError||(kn(n.errors,se),f.isValid&&v()),m.state.next({...n}))},$e=(se,he={})=>{const B=se?$n(se):s,ue=$n(B),be=bs(se),ve=be?s:ue;if(he.keepDefaultValues||(s=B),!he.keepValues){if(he.keepDirtyValues){const Be=new Set([...c.mount,...Object.keys(M0(s,i))]);for(const je of Array.from(Be))tt(n.dirtyFields,je)?yr(ve,je,tt(i,je)):I(je,tt(ve,je))}else{if(B4&&mn(se))for(const Be of c.mount){const je=tt(a,Be);if(je&&je._f){const ke=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(n_(ke)){const me=ke.closest("form");if(me){me.reset();break}}}}if(he.keepFieldsRef)for(const Be of c.mount)I(Be,tt(ve,Be));else a={}}i=r.shouldUnregister?he.keepDefaultValues?$n(s):{}:$n(ve),m.array.next({values:{...ve}}),m.state.next({values:{...ve}})}c={mount:he.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!he.keepIsValid||!!he.keepDirtyValues,o.watch=!!r.shouldUnregister,m.state.next({submitCount:he.keepSubmitCount?n.submitCount:0,isDirty:be?!1:he.keepDirty?n.isDirty:!!(he.keepDefaultValues&&!Jl(se,s)),isSubmitted:he.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:be?{}:he.keepDirtyValues?he.keepDefaultValues&&i?M0(s,i):n.dirtyFields:he.keepDefaultValues&&se?M0(s,se):he.keepDirty?n.dirtyFields:{},touchedFields:he.keepTouched?n.touchedFields:{},errors:he.keepErrors?n.errors:{},isSubmitSuccessful:he.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Me=(se,he)=>$e(wo(se)?se(i):se,he),He=(se,he={})=>{const B=tt(a,se),ue=B&&B._f;if(ue){const be=ue.refs?ue.refs[0]:ue.ref;be.focus&&(be.focus(),he.shouldSelect&&wo(be.select)&&be.select())}},Pe=se=>{n={...n,...se}},pt={control:{register:ae,unregister:oe,getFieldState:ee,handleSubmit:O,setError:J,_subscribe:K,_runSchema:k,_focusError:Q,_getWatch:T,_getDirty:D,_setValid:v,_setFieldArray:w,_setDisabledField:ye,_setErrors:_,_getFieldArray:W,_reset:$e,_resetDefaultValues:()=>wo(r.defaultValues)&&r.defaultValues().then(se=>{Me(se,r.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:fe,_subjects:m,_proxyFormState:f,get _fields(){return a},get _formValues(){return i},get _state(){return o},set _state(se){o=se},get _defaultValues(){return s},get _names(){return c},set _names(se){c=se},get _formState(){return n},get _options(){return r},set _options(se){r={...r,...se}}},subscribe:ie,trigger:M,register:ae,handleSubmit:O,watch:V,setValue:I,getValues:X,reset:Me,resetField:Le,clearErrors:P,unregister:oe,setError:J,setFocus:He,getFieldState:ee};return{...pt,formControl:pt}}function xYe(e={}){const r=ne.useRef(void 0),n=ne.useRef(void 0),[a,s]=ne.useState({isDirty:!1,isValidating:!1,isLoading:wo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:wo(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:a},e.defaultValues&&!wo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...c}=vYe(e);r.current={...c,formState:a}}const i=r.current.control;return i._options=e,W4(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(c=>({...c,isReady:!0})),i._formState.isReady=!0,o},[i]),ne.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ne.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ne.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ne.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ne.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==a.isDirty&&i._subjects.state.next({isDirty:o})}},[i,a.isDirty]),ne.useEffect(()=>{e.values&&!Jl(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),ne.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),r.current.formState=QJ(a,i),r.current}const x8=(e,r,n)=>{if(e&&"reportValidity"in e){const a=tt(n,r);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},oQ=(e,r)=>{for(const n in r.fields){const a=r.fields[n];a&&a.ref&&"reportValidity"in a.ref?x8(a.ref,n,e):a.refs&&a.refs.forEach(s=>x8(s,n,e))}},yYe=(e,r)=>{r.shouldUseNativeValidation&&oQ(e,r);const n={};for(const a in e){const s=tt(r.fields,a),i=Object.assign(e[a]||{},{ref:s&&s.ref});if(bYe(r.names||Object.keys(e),a)){const o=Object.assign({},tt(n,a));yr(o,"root",i),yr(n,a,o)}else yr(n,a,i)}return n},bYe=(e,r)=>e.some(n=>n.startsWith(r+"."));var wYe=function(e,r){for(var n={};e.length;){var a=e[0],s=a.code,i=a.message,o=a.path.join(".");if(!n[o])if("unionErrors"in a){var c=a.unionErrors[0].errors[0];n[o]={message:c.message,type:c.code}}else n[o]={message:i,type:s};if("unionErrors"in a&&a.unionErrors.forEach(function(f){return f.errors.forEach(function(h){return e.push(h)})}),r){var u=n[o].types,d=u&&u[a.code];n[o]=eQ(o,r,n,s,d?[].concat(d,a.message):a.message)}e.shift()}return n},_Ye=function(e,r,n){return n===void 0&&(n={}),function(a,s,i){try{return Promise.resolve(function(o,c){try{var u=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](a,r)).then(function(d){return i.shouldUseNativeValidation&&oQ({},i),{errors:{},values:n.raw?a:d}})}catch(d){return c(d)}return u&&u.then?u.then(void 0,c):u}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:yYe(wYe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},dr;(function(e){e.assertEqual=s=>{};function r(s){}e.assertIs=r;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),o={};for(const c of i)o[c]=s[c];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function a(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=a,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(dr||(dr={}));var y8;(function(e){e.mergeShapes=(r,n)=>({...r,...n})})(y8||(y8={}));const gt=dr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Jc=e=>{switch(typeof e){case"undefined":return gt.undefined;case"string":return gt.string;case"number":return Number.isNaN(e)?gt.nan:gt.number;case"boolean":return gt.boolean;case"function":return gt.function;case"bigint":return gt.bigint;case"symbol":return gt.symbol;case"object":return Array.isArray(e)?gt.array:e===null?gt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?gt.promise:typeof Map<"u"&&e instanceof Map?gt.map:typeof Set<"u"&&e instanceof Set?gt.set:typeof Date<"u"&&e instanceof Date?gt.date:gt.object;default:return gt.unknown}},Je=dr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ec extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=r}format(r){const n=r||function(i){return i.message},a={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)a._errors.push(n(o));else{let c=a,u=0;for(;u<o.path.length;){const d=o.path[u];u===o.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(n(o))):c[d]=c[d]||{_errors:[]},c=c[d],u++}}};return s(this),a}static assert(r){if(!(r instanceof Ec))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=n=>n.message){const n={},a=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(r(s))}else a.push(r(s));return{formErrors:a,fieldErrors:n}}get formErrors(){return this.flatten()}}Ec.create=e=>new Ec(e);const yT=(e,r)=>{let n;switch(e.code){case Je.invalid_type:e.received===gt.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Je.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,dr.jsonStringifyReplacer)}`;break;case Je.unrecognized_keys:n=`Unrecognized key(s) in object: ${dr.joinValues(e.keys,", ")}`;break;case Je.invalid_union:n="Invalid input";break;case Je.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${dr.joinValues(e.options)}`;break;case Je.invalid_enum_value:n=`Invalid enum value. Expected ${dr.joinValues(e.options)}, received '${e.received}'`;break;case Je.invalid_arguments:n="Invalid function arguments";break;case Je.invalid_return_type:n="Invalid function return type";break;case Je.invalid_date:n="Invalid date";break;case Je.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:dr.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Je.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Je.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Je.custom:n="Invalid input";break;case Je.invalid_intersection_types:n="Intersection results could not be merged";break;case Je.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Je.not_finite:n="Number must be finite";break;default:n=r.defaultError,dr.assertNever(e)}return{message:n}};let SYe=yT;function jYe(){return SYe}const kYe=e=>{const{data:r,path:n,errorMaps:a,issueData:s}=e,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let c="";const u=a.filter(d=>!!d).slice().reverse();for(const d of u)c=d(o,{data:r,defaultError:c}).message;return{...s,path:i,message:c}};function it(e,r){const n=jYe(),a=kYe({issueData:r,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===yT?void 0:yT].filter(s=>!!s)});e.common.issues.push(a)}class xi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,n){const a=[];for(const s of n){if(s.status==="aborted")return Lt;s.status==="dirty"&&r.dirty(),a.push(s.value)}return{status:r.value,value:a}}static async mergeObjectAsync(r,n){const a=[];for(const s of n){const i=await s.key,o=await s.value;a.push({key:i,value:o})}return xi.mergeObjectSync(r,a)}static mergeObjectSync(r,n){const a={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Lt;i.status==="dirty"&&r.dirty(),o.status==="dirty"&&r.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(a[i.value]=o.value)}return{status:r.value,value:a}}}const Lt=Object.freeze({status:"aborted"}),Q0=e=>({status:"dirty",value:e}),Xi=e=>({status:"valid",value:e}),b8=e=>e.status==="aborted",w8=e=>e.status==="dirty",_p=e=>e.status==="valid",i_=e=>typeof Promise<"u"&&e instanceof Promise;var yt;(function(e){e.errToObj=r=>typeof r=="string"?{message:r}:r||{},e.toString=r=>typeof r=="string"?r:r==null?void 0:r.message})(yt||(yt={}));class qu{constructor(r,n,a,s){this._cachedPath=[],this.parent=r,this.data=n,this._path=a,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _8=(e,r)=>{if(_p(r))return{success:!0,data:r.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ec(e.common.issues);return this._error=n,this._error}}};function Yt(e){if(!e)return{};const{errorMap:r,invalid_type_error:n,required_error:a,description:s}=e;if(r&&(n||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:s}:{errorMap:(o,c)=>{const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:u??a??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:u??n??c.defaultError}},description:s}}class ur{get description(){return this._def.description}_getType(r){return Jc(r.data)}_getOrReturnCtx(r,n){return n||{common:r.parent.common,data:r.data,parsedType:Jc(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new xi,ctx:{common:r.parent.common,data:r.data,parsedType:Jc(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const n=this._parse(r);if(i_(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(r){const n=this._parse(r);return Promise.resolve(n)}parse(r,n){const a=this.safeParse(r,n);if(a.success)return a.data;throw a.error}safeParse(r,n){const a={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Jc(r)},s=this._parseSync({data:r,path:a.path,parent:a});return _8(a,s)}"~validate"(r){var a,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Jc(r)};if(!this["~standard"].async)try{const i=this._parseSync({data:r,path:[],parent:n});return _p(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(a=i==null?void 0:i.message)==null?void 0:a.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:n}).then(i=>_p(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(r,n){const a=await this.safeParseAsync(r,n);if(a.success)return a.data;throw a.error}async safeParseAsync(r,n){const a={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Jc(r)},s=this._parse({data:r,path:a.path,parent:a}),i=await(i_(s)?s:Promise.resolve(s));return _8(a,i)}refine(r,n){const a=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=r(s),c=()=>i.addIssue({code:Je.custom,...a(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(r,n){return this._refinement((a,s)=>r(a)?!0:(s.addIssue(typeof n=="function"?n(a,s):n),!1))}_refinement(r){return new kp({schema:this,typeName:$t.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Iu.create(this,this._def)}nullable(){return Np.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yl.create(this)}promise(){return u_.create(this,this._def)}or(r){return l_.create([this,r],this._def)}and(r){return c_.create(this,r,this._def)}transform(r){return new kp({...Yt(this._def),schema:this,typeName:$t.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const n=typeof r=="function"?r:()=>r;return new wT({...Yt(this._def),innerType:this,defaultValue:n,typeName:$t.ZodDefault})}brand(){return new GYe({typeName:$t.ZodBranded,type:this,...Yt(this._def)})}catch(r){const n=typeof r=="function"?r:()=>r;return new _T({...Yt(this._def),innerType:this,catchValue:n,typeName:$t.ZodCatch})}describe(r){const n=this.constructor;return new n({...this._def,description:r})}pipe(r){return K4.create(this,r)}readonly(){return ST.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const NYe=/^c[^\s-]{8,}$/i,CYe=/^[0-9a-z]+$/,EYe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,TYe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,AYe=/^[a-z0-9_-]{21}$/i,OYe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,PYe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,DYe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,RYe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let TN;const IYe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,MYe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,FYe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,LYe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$Ye=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,BYe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,lQ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",UYe=new RegExp(`^${lQ}$`);function cQ(e){let r="[0-5]\\d";e.precision?r=`${r}\\.\\d{${e.precision}}`:e.precision==null&&(r=`${r}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${r})${n}`}function VYe(e){return new RegExp(`^${cQ(e)}$`)}function zYe(e){let r=`${lQ}T${cQ(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${n.join("|")})`,new RegExp(`^${r}$`)}function WYe(e,r){return!!((r==="v4"||!r)&&IYe.test(e)||(r==="v6"||!r)&&FYe.test(e))}function HYe(e,r){if(!OYe.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const a=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(a));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||r&&s.alg!==r)}catch{return!1}}function qYe(e,r){return!!((r==="v4"||!r)&&MYe.test(e)||(r==="v6"||!r)&&LYe.test(e))}class wu extends ur{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==gt.string){const i=this._getOrReturnCtx(r);return it(i,{code:Je.invalid_type,expected:gt.string,received:i.parsedType}),Lt}const a=new xi;let s;for(const i of this._def.checks)if(i.kind==="min")r.data.length<i.value&&(s=this._getOrReturnCtx(r,s),it(s,{code:Je.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")r.data.length>i.value&&(s=this._getOrReturnCtx(r,s),it(s,{code:Je.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){const o=r.data.length>i.value,c=r.data.length<i.value;(o||c)&&(s=this._getOrReturnCtx(r,s),o?it(s,{code:Je.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&it(s,{code:Je.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")DYe.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"email",code:Je.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")TN||(TN=new RegExp(RYe,"u")),TN.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"emoji",code:Je.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")TYe.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"uuid",code:Je.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")AYe.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"nanoid",code:Je.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")NYe.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"cuid",code:Je.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")CYe.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"cuid2",code:Je.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")EYe.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"ulid",code:Je.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(r.data)}catch{s=this._getOrReturnCtx(r,s),it(s,{validation:"url",code:Je.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"regex",code:Je.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?r.data=r.data.trim():i.kind==="includes"?r.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(r,s),it(s,{code:Je.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?r.data=r.data.toLowerCase():i.kind==="toUpperCase"?r.data=r.data.toUpperCase():i.kind==="startsWith"?r.data.startsWith(i.value)||(s=this._getOrReturnCtx(r,s),it(s,{code:Je.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?r.data.endsWith(i.value)||(s=this._getOrReturnCtx(r,s),it(s,{code:Je.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?zYe(i).test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{code:Je.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?UYe.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{code:Je.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?VYe(i).test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{code:Je.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?PYe.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"duration",code:Je.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?WYe(r.data,i.version)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"ip",code:Je.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?HYe(r.data,i.alg)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"jwt",code:Je.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?qYe(r.data,i.version)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"cidr",code:Je.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?$Ye.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"base64",code:Je.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?BYe.test(r.data)||(s=this._getOrReturnCtx(r,s),it(s,{validation:"base64url",code:Je.invalid_string,message:i.message}),a.dirty()):dr.assertNever(i);return{status:a.value,value:r.data}}_regex(r,n,a){return this.refinement(s=>r.test(s),{validation:n,code:Je.invalid_string,...yt.errToObj(a)})}_addCheck(r){return new wu({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...yt.errToObj(r)})}url(r){return this._addCheck({kind:"url",...yt.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...yt.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...yt.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...yt.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...yt.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...yt.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...yt.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...yt.errToObj(r)})}base64url(r){return this._addCheck({kind:"base64url",...yt.errToObj(r)})}jwt(r){return this._addCheck({kind:"jwt",...yt.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...yt.errToObj(r)})}cidr(r){return this._addCheck({kind:"cidr",...yt.errToObj(r)})}datetime(r){return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,offset:(r==null?void 0:r.offset)??!1,local:(r==null?void 0:r.local)??!1,...yt.errToObj(r==null?void 0:r.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,...yt.errToObj(r==null?void 0:r.message)})}duration(r){return this._addCheck({kind:"duration",...yt.errToObj(r)})}regex(r,n){return this._addCheck({kind:"regex",regex:r,...yt.errToObj(n)})}includes(r,n){return this._addCheck({kind:"includes",value:r,position:n==null?void 0:n.position,...yt.errToObj(n==null?void 0:n.message)})}startsWith(r,n){return this._addCheck({kind:"startsWith",value:r,...yt.errToObj(n)})}endsWith(r,n){return this._addCheck({kind:"endsWith",value:r,...yt.errToObj(n)})}min(r,n){return this._addCheck({kind:"min",value:r,...yt.errToObj(n)})}max(r,n){return this._addCheck({kind:"max",value:r,...yt.errToObj(n)})}length(r,n){return this._addCheck({kind:"length",value:r,...yt.errToObj(n)})}nonempty(r){return this.min(1,yt.errToObj(r))}trim(){return new wu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new wu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new wu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxLength(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}}wu.create=e=>new wu({checks:[],typeName:$t.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Yt(e)});function KYe(e,r){const n=(e.toString().split(".")[1]||"").length,a=(r.toString().split(".")[1]||"").length,s=n>a?n:a,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(r.toFixed(s).replace(".",""));return i%o/10**s}class Sp extends ur{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==gt.number){const i=this._getOrReturnCtx(r);return it(i,{code:Je.invalid_type,expected:gt.number,received:i.parsedType}),Lt}let a;const s=new xi;for(const i of this._def.checks)i.kind==="int"?dr.isInteger(r.data)||(a=this._getOrReturnCtx(r,a),it(a,{code:Je.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(a=this._getOrReturnCtx(r,a),it(a,{code:Je.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(a=this._getOrReturnCtx(r,a),it(a,{code:Je.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?KYe(r.data,i.value)!==0&&(a=this._getOrReturnCtx(r,a),it(a,{code:Je.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(r.data)||(a=this._getOrReturnCtx(r,a),it(a,{code:Je.not_finite,message:i.message}),s.dirty()):dr.assertNever(i);return{status:s.value,value:r.data}}gte(r,n){return this.setLimit("min",r,!0,yt.toString(n))}gt(r,n){return this.setLimit("min",r,!1,yt.toString(n))}lte(r,n){return this.setLimit("max",r,!0,yt.toString(n))}lt(r,n){return this.setLimit("max",r,!1,yt.toString(n))}setLimit(r,n,a,s){return new Sp({...this._def,checks:[...this._def.checks,{kind:r,value:n,inclusive:a,message:yt.toString(s)}]})}_addCheck(r){return new Sp({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:yt.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:yt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:yt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:yt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:yt.toString(r)})}multipleOf(r,n){return this._addCheck({kind:"multipleOf",value:r,message:yt.toString(n)})}finite(r){return this._addCheck({kind:"finite",message:yt.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:yt.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:yt.toString(r)})}get minValue(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxValue(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&dr.isInteger(r.value))}get isFinite(){let r=null,n=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(n===null||a.value>n)&&(n=a.value):a.kind==="max"&&(r===null||a.value<r)&&(r=a.value)}return Number.isFinite(n)&&Number.isFinite(r)}}Sp.create=e=>new Sp({checks:[],typeName:$t.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Yt(e)});class nx extends ur{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce)try{r.data=BigInt(r.data)}catch{return this._getInvalidInput(r)}if(this._getType(r)!==gt.bigint)return this._getInvalidInput(r);let a;const s=new xi;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(a=this._getOrReturnCtx(r,a),it(a,{code:Je.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(a=this._getOrReturnCtx(r,a),it(a,{code:Je.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?r.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(r,a),it(a,{code:Je.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):dr.assertNever(i);return{status:s.value,value:r.data}}_getInvalidInput(r){const n=this._getOrReturnCtx(r);return it(n,{code:Je.invalid_type,expected:gt.bigint,received:n.parsedType}),Lt}gte(r,n){return this.setLimit("min",r,!0,yt.toString(n))}gt(r,n){return this.setLimit("min",r,!1,yt.toString(n))}lte(r,n){return this.setLimit("max",r,!0,yt.toString(n))}lt(r,n){return this.setLimit("max",r,!1,yt.toString(n))}setLimit(r,n,a,s){return new nx({...this._def,checks:[...this._def.checks,{kind:r,value:n,inclusive:a,message:yt.toString(s)}]})}_addCheck(r){return new nx({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:yt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:yt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:yt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:yt.toString(r)})}multipleOf(r,n){return this._addCheck({kind:"multipleOf",value:r,message:yt.toString(n)})}get minValue(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxValue(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}}nx.create=e=>new nx({checks:[],typeName:$t.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Yt(e)});class S8 extends ur{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==gt.boolean){const a=this._getOrReturnCtx(r);return it(a,{code:Je.invalid_type,expected:gt.boolean,received:a.parsedType}),Lt}return Xi(r.data)}}S8.create=e=>new S8({typeName:$t.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Yt(e)});class o_ extends ur{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==gt.date){const i=this._getOrReturnCtx(r);return it(i,{code:Je.invalid_type,expected:gt.date,received:i.parsedType}),Lt}if(Number.isNaN(r.data.getTime())){const i=this._getOrReturnCtx(r);return it(i,{code:Je.invalid_date}),Lt}const a=new xi;let s;for(const i of this._def.checks)i.kind==="min"?r.data.getTime()<i.value&&(s=this._getOrReturnCtx(r,s),it(s,{code:Je.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?r.data.getTime()>i.value&&(s=this._getOrReturnCtx(r,s),it(s,{code:Je.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):dr.assertNever(i);return{status:a.value,value:new Date(r.data.getTime())}}_addCheck(r){return new o_({...this._def,checks:[...this._def.checks,r]})}min(r,n){return this._addCheck({kind:"min",value:r.getTime(),message:yt.toString(n)})}max(r,n){return this._addCheck({kind:"max",value:r.getTime(),message:yt.toString(n)})}get minDate(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r!=null?new Date(r):null}}o_.create=e=>new o_({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:$t.ZodDate,...Yt(e)});class j8 extends ur{_parse(r){if(this._getType(r)!==gt.symbol){const a=this._getOrReturnCtx(r);return it(a,{code:Je.invalid_type,expected:gt.symbol,received:a.parsedType}),Lt}return Xi(r.data)}}j8.create=e=>new j8({typeName:$t.ZodSymbol,...Yt(e)});class k8 extends ur{_parse(r){if(this._getType(r)!==gt.undefined){const a=this._getOrReturnCtx(r);return it(a,{code:Je.invalid_type,expected:gt.undefined,received:a.parsedType}),Lt}return Xi(r.data)}}k8.create=e=>new k8({typeName:$t.ZodUndefined,...Yt(e)});class N8 extends ur{_parse(r){if(this._getType(r)!==gt.null){const a=this._getOrReturnCtx(r);return it(a,{code:Je.invalid_type,expected:gt.null,received:a.parsedType}),Lt}return Xi(r.data)}}N8.create=e=>new N8({typeName:$t.ZodNull,...Yt(e)});class C8 extends ur{constructor(){super(...arguments),this._any=!0}_parse(r){return Xi(r.data)}}C8.create=e=>new C8({typeName:$t.ZodAny,...Yt(e)});class E8 extends ur{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Xi(r.data)}}E8.create=e=>new E8({typeName:$t.ZodUnknown,...Yt(e)});class Ku extends ur{_parse(r){const n=this._getOrReturnCtx(r);return it(n,{code:Je.invalid_type,expected:gt.never,received:n.parsedType}),Lt}}Ku.create=e=>new Ku({typeName:$t.ZodNever,...Yt(e)});class T8 extends ur{_parse(r){if(this._getType(r)!==gt.undefined){const a=this._getOrReturnCtx(r);return it(a,{code:Je.invalid_type,expected:gt.void,received:a.parsedType}),Lt}return Xi(r.data)}}T8.create=e=>new T8({typeName:$t.ZodVoid,...Yt(e)});class yl extends ur{_parse(r){const{ctx:n,status:a}=this._processInputParams(r),s=this._def;if(n.parsedType!==gt.array)return it(n,{code:Je.invalid_type,expected:gt.array,received:n.parsedType}),Lt;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(o||c)&&(it(n,{code:o?Je.too_big:Je.too_small,minimum:c?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),a.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(it(n,{code:Je.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),a.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(it(n,{code:Je.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),a.dirty()),n.common.async)return Promise.all([...n.data].map((o,c)=>s.type._parseAsync(new qu(n,o,n.path,c)))).then(o=>xi.mergeArray(a,o));const i=[...n.data].map((o,c)=>s.type._parseSync(new qu(n,o,n.path,c)));return xi.mergeArray(a,i)}get element(){return this._def.type}min(r,n){return new yl({...this._def,minLength:{value:r,message:yt.toString(n)}})}max(r,n){return new yl({...this._def,maxLength:{value:r,message:yt.toString(n)}})}length(r,n){return new yl({...this._def,exactLength:{value:r,message:yt.toString(n)}})}nonempty(r){return this.min(1,r)}}yl.create=(e,r)=>new yl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:$t.ZodArray,...Yt(r)});function jh(e){if(e instanceof sn){const r={};for(const n in e.shape){const a=e.shape[n];r[n]=Iu.create(jh(a))}return new sn({...e._def,shape:()=>r})}else return e instanceof yl?new yl({...e._def,type:jh(e.element)}):e instanceof Iu?Iu.create(jh(e.unwrap())):e instanceof Np?Np.create(jh(e.unwrap())):e instanceof Rf?Rf.create(e.items.map(r=>jh(r))):e}class sn extends ur{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),n=dr.objectKeys(r);return this._cached={shape:r,keys:n},this._cached}_parse(r){if(this._getType(r)!==gt.object){const d=this._getOrReturnCtx(r);return it(d,{code:Je.invalid_type,expected:gt.object,received:d.parsedType}),Lt}const{status:a,ctx:s}=this._processInputParams(r),{shape:i,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof Ku&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||c.push(d);const u=[];for(const d of o){const f=i[d],h=s.data[d];u.push({key:{status:"valid",value:d},value:f._parse(new qu(s,h,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Ku){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of c)u.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(d==="strict")c.length>0&&(it(s,{code:Je.unrecognized_keys,keys:c}),a.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of c){const h=s.data[f];u.push({key:{status:"valid",value:f},value:d._parse(new qu(s,h,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of u){const h=await f.key,m=await f.value;d.push({key:h,value:m,alwaysSet:f.alwaysSet})}return d}).then(d=>xi.mergeObjectSync(a,d)):xi.mergeObjectSync(a,u)}get shape(){return this._def.shape()}strict(r){return yt.errToObj,new sn({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(n,a)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,a).message)??a.defaultError;return n.code==="unrecognized_keys"?{message:yt.errToObj(r).message??s}:{message:s}}}:{}})}strip(){return new sn({...this._def,unknownKeys:"strip"})}passthrough(){return new sn({...this._def,unknownKeys:"passthrough"})}extend(r){return new sn({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new sn({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:$t.ZodObject})}setKey(r,n){return this.augment({[r]:n})}catchall(r){return new sn({...this._def,catchall:r})}pick(r){const n={};for(const a of dr.objectKeys(r))r[a]&&this.shape[a]&&(n[a]=this.shape[a]);return new sn({...this._def,shape:()=>n})}omit(r){const n={};for(const a of dr.objectKeys(this.shape))r[a]||(n[a]=this.shape[a]);return new sn({...this._def,shape:()=>n})}deepPartial(){return jh(this)}partial(r){const n={};for(const a of dr.objectKeys(this.shape)){const s=this.shape[a];r&&!r[a]?n[a]=s:n[a]=s.optional()}return new sn({...this._def,shape:()=>n})}required(r){const n={};for(const a of dr.objectKeys(this.shape))if(r&&!r[a])n[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof Iu;)i=i._def.innerType;n[a]=i}return new sn({...this._def,shape:()=>n})}keyof(){return uQ(dr.objectKeys(this.shape))}}sn.create=(e,r)=>new sn({shape:()=>e,unknownKeys:"strip",catchall:Ku.create(),typeName:$t.ZodObject,...Yt(r)});sn.strictCreate=(e,r)=>new sn({shape:()=>e,unknownKeys:"strict",catchall:Ku.create(),typeName:$t.ZodObject,...Yt(r)});sn.lazycreate=(e,r)=>new sn({shape:e,unknownKeys:"strip",catchall:Ku.create(),typeName:$t.ZodObject,...Yt(r)});class l_ extends ur{_parse(r){const{ctx:n}=this._processInputParams(r),a=this._def.options;function s(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const o=i.map(c=>new Ec(c.ctx.common.issues));return it(n,{code:Je.invalid_union,unionErrors:o}),Lt}if(n.common.async)return Promise.all(a.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const u of a){const d={...n,common:{...n.common,issues:[]},parent:null},f=u._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const c=o.map(u=>new Ec(u));return it(n,{code:Je.invalid_union,unionErrors:c}),Lt}}get options(){return this._def.options}}l_.create=(e,r)=>new l_({options:e,typeName:$t.ZodUnion,...Yt(r)});function bT(e,r){const n=Jc(e),a=Jc(r);if(e===r)return{valid:!0,data:e};if(n===gt.object&&a===gt.object){const s=dr.objectKeys(r),i=dr.objectKeys(e).filter(c=>s.indexOf(c)!==-1),o={...e,...r};for(const c of i){const u=bT(e[c],r[c]);if(!u.valid)return{valid:!1};o[c]=u.data}return{valid:!0,data:o}}else if(n===gt.array&&a===gt.array){if(e.length!==r.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],c=r[i],u=bT(o,c);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===gt.date&&a===gt.date&&+e==+r?{valid:!0,data:e}:{valid:!1}}class c_ extends ur{_parse(r){const{status:n,ctx:a}=this._processInputParams(r),s=(i,o)=>{if(b8(i)||b8(o))return Lt;const c=bT(i.value,o.value);return c.valid?((w8(i)||w8(o))&&n.dirty(),{status:n.value,value:c.data}):(it(a,{code:Je.invalid_intersection_types}),Lt)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}c_.create=(e,r,n)=>new c_({left:e,right:r,typeName:$t.ZodIntersection,...Yt(n)});class Rf extends ur{_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==gt.array)return it(a,{code:Je.invalid_type,expected:gt.array,received:a.parsedType}),Lt;if(a.data.length<this._def.items.length)return it(a,{code:Je.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Lt;!this._def.rest&&a.data.length>this._def.items.length&&(it(a,{code:Je.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...a.data].map((o,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new qu(a,o,a.path,c)):null}).filter(o=>!!o);return a.common.async?Promise.all(i).then(o=>xi.mergeArray(n,o)):xi.mergeArray(n,i)}get items(){return this._def.items}rest(r){return new Rf({...this._def,rest:r})}}Rf.create=(e,r)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Rf({items:e,typeName:$t.ZodTuple,rest:null,...Yt(r)})};class A8 extends ur{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==gt.map)return it(a,{code:Je.invalid_type,expected:gt.map,received:a.parsedType}),Lt;const s=this._def.keyType,i=this._def.valueType,o=[...a.data.entries()].map(([c,u],d)=>({key:s._parse(new qu(a,c,a.path,[d,"key"])),value:i._parse(new qu(a,u,a.path,[d,"value"]))}));if(a.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of o){const d=await u.key,f=await u.value;if(d.status==="aborted"||f.status==="aborted")return Lt;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(d.value,f.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const u of o){const d=u.key,f=u.value;if(d.status==="aborted"||f.status==="aborted")return Lt;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(d.value,f.value)}return{status:n.value,value:c}}}}A8.create=(e,r,n)=>new A8({valueType:r,keyType:e,typeName:$t.ZodMap,...Yt(n)});class ax extends ur{_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==gt.set)return it(a,{code:Je.invalid_type,expected:gt.set,received:a.parsedType}),Lt;const s=this._def;s.minSize!==null&&a.data.size<s.minSize.value&&(it(a,{code:Je.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&a.data.size>s.maxSize.value&&(it(a,{code:Je.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(u){const d=new Set;for(const f of u){if(f.status==="aborted")return Lt;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const c=[...a.data.values()].map((u,d)=>i._parse(new qu(a,u,a.path,d)));return a.common.async?Promise.all(c).then(u=>o(u)):o(c)}min(r,n){return new ax({...this._def,minSize:{value:r,message:yt.toString(n)}})}max(r,n){return new ax({...this._def,maxSize:{value:r,message:yt.toString(n)}})}size(r,n){return this.min(r,n).max(r,n)}nonempty(r){return this.min(1,r)}}ax.create=(e,r)=>new ax({valueType:e,minSize:null,maxSize:null,typeName:$t.ZodSet,...Yt(r)});class O8 extends ur{get schema(){return this._def.getter()}_parse(r){const{ctx:n}=this._processInputParams(r);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}O8.create=(e,r)=>new O8({getter:e,typeName:$t.ZodLazy,...Yt(r)});class P8 extends ur{_parse(r){if(r.data!==this._def.value){const n=this._getOrReturnCtx(r);return it(n,{received:n.data,code:Je.invalid_literal,expected:this._def.value}),Lt}return{status:"valid",value:r.data}}get value(){return this._def.value}}P8.create=(e,r)=>new P8({value:e,typeName:$t.ZodLiteral,...Yt(r)});function uQ(e,r){return new jp({values:e,typeName:$t.ZodEnum,...Yt(r)})}class jp extends ur{_parse(r){if(typeof r.data!="string"){const n=this._getOrReturnCtx(r),a=this._def.values;return it(n,{expected:dr.joinValues(a),received:n.parsedType,code:Je.invalid_type}),Lt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(r.data)){const n=this._getOrReturnCtx(r),a=this._def.values;return it(n,{received:n.data,code:Je.invalid_enum_value,options:a}),Lt}return Xi(r.data)}get options(){return this._def.values}get enum(){const r={};for(const n of this._def.values)r[n]=n;return r}get Values(){const r={};for(const n of this._def.values)r[n]=n;return r}get Enum(){const r={};for(const n of this._def.values)r[n]=n;return r}extract(r,n=this._def){return jp.create(r,{...this._def,...n})}exclude(r,n=this._def){return jp.create(this.options.filter(a=>!r.includes(a)),{...this._def,...n})}}jp.create=uQ;class D8 extends ur{_parse(r){const n=dr.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(r);if(a.parsedType!==gt.string&&a.parsedType!==gt.number){const s=dr.objectValues(n);return it(a,{expected:dr.joinValues(s),received:a.parsedType,code:Je.invalid_type}),Lt}if(this._cache||(this._cache=new Set(dr.getValidEnumValues(this._def.values))),!this._cache.has(r.data)){const s=dr.objectValues(n);return it(a,{received:a.data,code:Je.invalid_enum_value,options:s}),Lt}return Xi(r.data)}get enum(){return this._def.values}}D8.create=(e,r)=>new D8({values:e,typeName:$t.ZodNativeEnum,...Yt(r)});class u_ extends ur{unwrap(){return this._def.type}_parse(r){const{ctx:n}=this._processInputParams(r);if(n.parsedType!==gt.promise&&n.common.async===!1)return it(n,{code:Je.invalid_type,expected:gt.promise,received:n.parsedType}),Lt;const a=n.parsedType===gt.promise?n.data:Promise.resolve(n.data);return Xi(a.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}u_.create=(e,r)=>new u_({type:e,typeName:$t.ZodPromise,...Yt(r)});class kp extends ur{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$t.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:n,ctx:a}=this._processInputParams(r),s=this._def.effect||null,i={addIssue:o=>{it(a,o),o.fatal?n.abort():n.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(a.data,i);if(a.common.async)return Promise.resolve(o).then(async c=>{if(n.value==="aborted")return Lt;const u=await this._def.schema._parseAsync({data:c,path:a.path,parent:a});return u.status==="aborted"?Lt:u.status==="dirty"||n.value==="dirty"?Q0(u.value):u});{if(n.value==="aborted")return Lt;const c=this._def.schema._parseSync({data:o,path:a.path,parent:a});return c.status==="aborted"?Lt:c.status==="dirty"||n.value==="dirty"?Q0(c.value):c}}if(s.type==="refinement"){const o=c=>{const u=s.refinement(c,i);if(a.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(a.common.async===!1){const c=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return c.status==="aborted"?Lt:(c.status==="dirty"&&n.dirty(),o(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(c=>c.status==="aborted"?Lt:(c.status==="dirty"&&n.dirty(),o(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!_p(o))return Lt;const c=s.transform(o.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>_p(o)?Promise.resolve(s.transform(o.value,i)).then(c=>({status:n.value,value:c})):Lt);dr.assertNever(s)}}kp.create=(e,r,n)=>new kp({schema:e,typeName:$t.ZodEffects,effect:r,...Yt(n)});kp.createWithPreprocess=(e,r,n)=>new kp({schema:r,effect:{type:"preprocess",transform:e},typeName:$t.ZodEffects,...Yt(n)});class Iu extends ur{_parse(r){return this._getType(r)===gt.undefined?Xi(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Iu.create=(e,r)=>new Iu({innerType:e,typeName:$t.ZodOptional,...Yt(r)});class Np extends ur{_parse(r){return this._getType(r)===gt.null?Xi(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Np.create=(e,r)=>new Np({innerType:e,typeName:$t.ZodNullable,...Yt(r)});class wT extends ur{_parse(r){const{ctx:n}=this._processInputParams(r);let a=n.data;return n.parsedType===gt.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}wT.create=(e,r)=>new wT({innerType:e,typeName:$t.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...Yt(r)});class _T extends ur{_parse(r){const{ctx:n}=this._processInputParams(r),a={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return i_(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ec(a.common.issues)},input:a.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ec(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}_T.create=(e,r)=>new _T({innerType:e,typeName:$t.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...Yt(r)});class R8 extends ur{_parse(r){if(this._getType(r)!==gt.nan){const a=this._getOrReturnCtx(r);return it(a,{code:Je.invalid_type,expected:gt.nan,received:a.parsedType}),Lt}return{status:"valid",value:r.data}}}R8.create=e=>new R8({typeName:$t.ZodNaN,...Yt(e)});class GYe extends ur{_parse(r){const{ctx:n}=this._processInputParams(r),a=n.data;return this._def.type._parse({data:a,path:n.path,parent:n})}unwrap(){return this._def.type}}class K4 extends ur{_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?Lt:i.status==="dirty"?(n.dirty(),Q0(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})})();{const s=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?Lt:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:a.path,parent:a})}}static create(r,n){return new K4({in:r,out:n,typeName:$t.ZodPipeline})}}class ST extends ur{_parse(r){const n=this._def.innerType._parse(r),a=s=>(_p(s)&&(s.value=Object.freeze(s.value)),s);return i_(n)?n.then(s=>a(s)):a(n)}unwrap(){return this._def.innerType}}ST.create=(e,r)=>new ST({innerType:e,typeName:$t.ZodReadonly,...Yt(r)});sn.lazycreate;var $t;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})($t||($t={}));const y1=wu.create,YYe=Sp.create;Ku.create;yl.create;const XYe=sn.create;sn.strictCreate;l_.create;c_.create;Rf.create;jp.create;u_.create;Iu.create;Np.create;const JYe=eYe,dQ=y.createContext({}),L0=({...e})=>l.jsx(dQ.Provider,{value:{name:e.name},children:l.jsx(aYe,{...e})}),mj=()=>{const e=y.useContext(dQ),r=y.useContext(fQ),{getFieldState:n,formState:a}=hj(),s=n(e.name,a);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=r;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},fQ=y.createContext({}),kh=y.forwardRef(({className:e,...r},n)=>{const a=y.useId();return l.jsx(fQ.Provider,{value:{id:a},children:l.jsx("div",{ref:n,className:ge("space-y-2",e),...r})})});kh.displayName="FormItem";const Nh=y.forwardRef(({className:e,...r},n)=>{const{error:a,formItemId:s}=mj();return l.jsx(Ge,{ref:n,className:ge(a&&"text-destructive",e),htmlFor:s,...r})});Nh.displayName="FormLabel";const Ch=y.forwardRef(({...e},r)=>{const{error:n,formItemId:a,formDescriptionId:s,formMessageId:i}=mj();return l.jsx(u9,{ref:r,id:a,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...e})});Ch.displayName="FormControl";const QYe=y.forwardRef(({className:e,...r},n)=>{const{formDescriptionId:a}=mj();return l.jsx("p",{ref:n,id:a,className:ge("text-sm text-muted-foreground",e),...r})});QYe.displayName="FormDescription";const Eh=y.forwardRef(({className:e,children:r,...n},a)=>{const{error:s,formMessageId:i}=mj(),o=s?String(s==null?void 0:s.message):r;return o?l.jsx("p",{ref:a,id:i,className:ge("text-sm font-medium text-destructive",e),...n,children:o}):null});Eh.displayName="FormMessage";const ZYe=XYe({request_title:y1().min(1,"Title is required"),request_description:y1().optional(),request_type:y1().optional(),priority:YYe().optional(),status:y1().optional()});function eXe({open:e,onOpenChange:r,onSubmit:n,initialData:a}){const{t:s}=Kt(),{user:i}=xr(),o=(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="manager",c=xYe({resolver:_Ye(ZYe),defaultValues:{request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"}});y.useEffect(()=>{a?c.reset({request_title:a.request_title,request_description:a.request_description||"",request_type:a.request_type||"internal_task",priority:a.priority||1,status:a.status||"pending"}):c.reset({request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"})},[a,c,e]);const u=async d=>{await n(d),r(!1),c.reset()};return l.jsx(Sl,{open:e,onOpenChange:r,children:l.jsxs(Mo,{side:nr()?"left":"right",className:"sm:max-w-md overflow-y-auto",children:[l.jsx(wc,{children:l.jsx(jl,{children:s(a?"requests.editRequest":"requests.createRequest")})}),l.jsx("div",{className:"py-4",children:l.jsx(JYe,{...c,children:l.jsxs("form",{onSubmit:c.handleSubmit(u),className:"space-y-4",children:[l.jsx(L0,{control:c.control,name:"request_title",render:({field:d})=>l.jsxs(kh,{children:[l.jsx(Nh,{children:s("requests.title")}),l.jsx(Ch,{children:l.jsx(We,{placeholder:s("requests.titlePlaceholder"),...d})}),l.jsx(Eh,{})]})}),l.jsx(L0,{control:c.control,name:"request_description",render:({field:d})=>l.jsxs(kh,{children:[l.jsx(Nh,{children:s("requests.description")}),l.jsx(Ch,{children:l.jsx(ma,{placeholder:s("requests.descriptionPlaceholder"),className:"resize-none min-h-[100px]",...d})}),l.jsx(Eh,{})]})}),o&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(L0,{control:c.control,name:"request_type",render:({field:d})=>l.jsxs(kh,{children:[l.jsx(Nh,{children:s("requests.type")}),l.jsxs(kt,{onValueChange:d.onChange,defaultValue:d.value,value:d.value,children:[l.jsx(Ch,{children:l.jsx(St,{children:l.jsx(Nt,{placeholder:"Select type"})})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"internal_task",children:s("requests.types.internalTask")}),l.jsx(Oe,{value:"support",children:s("requests.types.support")}),l.jsx(Oe,{value:"feature",children:s("requests.types.feature")})]})]}),l.jsx(Eh,{})]})}),l.jsx(L0,{control:c.control,name:"priority",render:({field:d})=>{var f,h;return l.jsxs(kh,{children:[l.jsx(Nh,{children:s("requests.priority")}),l.jsxs(kt,{onValueChange:m=>d.onChange(parseInt(m)),defaultValue:(f=d.value)==null?void 0:f.toString(),value:(h=d.value)==null?void 0:h.toString(),children:[l.jsx(Ch,{children:l.jsx(St,{children:l.jsx(Nt,{placeholder:"Select priority"})})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"0",children:s("requests.priorities.low")}),l.jsx(Oe,{value:"1",children:s("requests.priorities.medium")}),l.jsx(Oe,{value:"2",children:s("requests.priorities.high")})]})]}),l.jsx(Eh,{})]})}})]}),l.jsx(L0,{control:c.control,name:"status",render:({field:d})=>l.jsxs(kh,{children:[l.jsx(Nh,{children:s("requests.status")}),l.jsxs(kt,{onValueChange:d.onChange,defaultValue:d.value,value:d.value,children:[l.jsx(Ch,{children:l.jsx(St,{children:l.jsx(Nt,{placeholder:"Select status"})})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"pending",children:s("status.pending")}),l.jsx(Oe,{value:"in_progress",children:s("status.in_progress")}),l.jsx(Oe,{value:"completed",children:s("status.completed")}),l.jsx(Oe,{value:"approved",children:s("status.approved")}),l.jsx(Oe,{value:"rejected",children:s("status.rejected")})]})]}),l.jsx(Eh,{})]})})]}),l.jsx("div",{className:"flex justify-end pt-4 gap-2",children:l.jsx(le,{type:"submit",children:s(a?"common.save":"common.create")})})]})})})]})})}function tXe(){const{t:e}=Kt(),{toast:r}=Ol(),{user:n}=xr();wn();const[a,s]=y.useState([]),[i,o]=y.useState(!0),[c,u]=y.useState(""),[d,f]=y.useState(!1),[h,m]=y.useState(null),[p,g]=y.useState(null),[v,x]=y.useState("all"),[w,b]=y.useState("all"),_=async()=>{try{o(!0);const T=await x1.getRequests();s(T)}catch(T){console.error("Failed to fetch requests:",T),r({title:e("common.error"),description:"Failed to load requests",variant:"destructive"})}finally{o(!1)}};y.useEffect(()=>{_()},[]);const S=()=>{m(null),f(!0)},j=T=>{m(T),f(!0)},N=async()=>{if(p)try{await x1.deleteRequest(p),r({title:e("common.success"),description:e("requests.deleteSuccess")}),_()}catch(T){console.error("Failed to delete request:",T),r({title:e("common.error"),description:"Failed to delete request",variant:"destructive"})}finally{g(null)}},k=async T=>{try{if(!(n!=null&&n.id)){r({title:"Error",description:"You must be logged in to perform this action",variant:"destructive"});return}h?(await x1.updateRequest(h.request_id,T),r({title:e("common.success"),description:e("requests.updateSuccess")})):(await x1.createRequest({...T,requested_by_auth:n.id,related_entity_id:null,related_entity_type:null,metadata:{},assigned_to:null}),r({title:e("common.success"),description:e("requests.createSuccess")})),_()}catch(W){console.error("Failed to save request:",W),r({title:e("common.error"),description:"Failed to save request",variant:"destructive"})}},E=a.filter(T=>{var I;const W=T.request_title.toLowerCase().includes(c.toLowerCase()),q=v==="all"||T.status===v,L=w==="all"||((I=T.priority)==null?void 0:I.toString())===w;return W&&q&&L}),C=T=>{switch(T){case"completed":case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"pending":default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"}},A=T=>{switch(T){case 2:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case 1:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case 0:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},D=T=>{switch(T){case 2:return e("requests.priorities.high");case 1:return e("requests.priorities.medium");case 0:return e("requests.priorities.low");default:return e("requests.priorities.medium")}};return l.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:nr()?"rtl":"ltr",children:[l.jsx(Kx,{title:e("requests.title"),description:e("requests.subtitle"),icon:l.jsx(ei,{className:"h-5 w-5 text-primary"}),actions:l.jsxs(le,{onClick:S,children:[l.jsx(lr,{className:"mr-2 h-4 w-4"}),e("requests.createRequest")]})}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[l.jsxs("div",{className:"relative flex-1 max-w-sm",children:[l.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(We,{placeholder:e("requests.searchPlaceholder"),className:"pl-10 h-9",value:c,onChange:T=>u(T.target.value)})]}),l.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[l.jsxs(kt,{value:w,onValueChange:b,children:[l.jsx(St,{className:"w-[130px] h-9",children:l.jsx(Nt,{placeholder:e("requests.priority")})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"all",children:e("common.all")}),l.jsx(Oe,{value:"0",children:e("requests.priorities.low")}),l.jsx(Oe,{value:"1",children:e("requests.priorities.medium")}),l.jsx(Oe,{value:"2",children:e("requests.priorities.high")})]})]}),l.jsxs(kt,{value:v,onValueChange:x,children:[l.jsx(St,{className:"w-[130px] h-9",children:l.jsx(Nt,{placeholder:e("requests.status")})}),l.jsxs(jt,{children:[l.jsx(Oe,{value:"all",children:e("common.all")}),l.jsx(Oe,{value:"pending",children:e("status.pending")}),l.jsx(Oe,{value:"approved",children:e("status.approved")}),l.jsx(Oe,{value:"rejected",children:e("status.rejected")}),l.jsx(Oe,{value:"in_progress",children:e("status.in_progress")}),l.jsx(Oe,{value:"completed",children:e("status.completed")})]})]})]})]}),(()=>{const T=[{key:"title",header:e("requests.requestTitle"),render:q=>{var L;return l.jsx(Nc,{title:q.request_title,subtitle:(L=q.request_type)==null?void 0:L.replace("_"," ")})}},{key:"priority",header:e("requests.priority"),render:q=>l.jsx(ft,{variant:"outline",className:A(q.priority),children:D(q.priority)})},{key:"status",header:e("requests.status"),render:q=>l.jsx(ft,{variant:"secondary",className:`capitalize ${C(q.status)}`,children:q.status?e(`status.${q.status}`):e("status.pending")})},{key:"created",header:e("requests.createdDate"),hideOnMobile:!0,render:q=>l.jsx(Vu,{date:q.created_at})}],W=[{icon:l.jsx(q2,{}),label:e("common.edit"),onClick:j},{icon:l.jsx(wr,{}),label:e("common.delete"),onClick:q=>g(q.request_id),variant:"destructive"}];return l.jsx(kc,{data:E,columns:T,actions:W,loading:i,keyExtractor:q=>q.request_id,onRowClick:j})})(),l.jsx(eXe,{open:d,onOpenChange:f,onSubmit:k,initialData:h}),l.jsx(gi,{open:!!p,onOpenChange:T=>!T&&g(null),children:l.jsxs(Ms,{children:[l.jsxs(Fs,{children:[l.jsx($s,{children:e("common.confirmDelete")}),l.jsx(Bs,{children:e("requests.deleteConfirmation")})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:e("common.cancel")}),l.jsx(Us,{className:"bg-red-500 hover:bg-red-600",onClick:N,children:e("common.delete")})]})]})})]})}const Z0="https://api.middar.com",rXe="default",nXe="",I8={async getConversations(){return(await G.whatsappConversations.list()).data},async getMessages(e){return(await G.whatsappMessages.getByConversation(e)).data},async sendMessage(e,r){try{const n={"Content-Type":"application/json",accept:"application/json"},a=e.includes("@")?e:`${e.replace(/\D/g,"")}@c.us`,s=await fetch(`${Z0}/api/v1/whatsapp/sendText`,{method:"POST",headers:n,body:JSON.stringify({session:rXe,chatId:a,text:r})}),i=await s.json();if(!s.ok)throw new Error(i.error||"Failed to send message via WAHA");const c=(await G.whatsappConversations.list({exact_filters:{phone:e}})).data[0];if(c){const u=c.id;await G.whatsappMessages.create({conversation_id:u,phone:e,message:r,direction:"outbound",created_at:new Date().toISOString()}),await G.whatsappConversations.update(u,{last_message_at:new Date().toISOString()})}return i}catch(n){throw console.error("Error sending WhatsApp message:",n),n}},async createConversation(e,r){const n=await G.whatsappConversations.list({exact_filters:{phone:e}});return n.data.length>0?n.data[0]:await G.whatsappConversations.create({phone:e,lead_id:r,last_message_at:new Date().toISOString()})}};function aXe(){Kt();const{toast:e}=Ol();wn();const[r,n]=y.useState([]),[a,s]=y.useState(null),[i,o]=y.useState([]),[c,u]=y.useState(""),[d,f]=y.useState(!0),[h,m]=y.useState(!1),p=y.useRef(null);y.useEffect(()=>{g();const b=setInterval(g,1e4);return()=>{clearInterval(b)}},[]),y.useEffect(()=>{let b;return a&&(v(a.id),b=window.setInterval(()=>v(a.id),3e3)),()=>{b&&window.clearInterval(b)}},[a]);const g=async()=>{try{const b=await I8.getConversations();n(b),d&&f(!1)}catch(b){console.error(b),e({variant:"destructive",title:"Error",description:"Failed to load conversations"})}},v=async b=>{try{const _=await I8.getMessages(b);o(_),setTimeout(()=>x(),100)}catch(_){console.error(_)}},x=()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},w=async b=>{if(b==null||b.preventDefault(),!(!c.trim()||!a)){e({variant:"destructive",title:"Missing WUZ token",description:"Set VITE_WUZ_API_TOKEN in your environment to send messages."});return}};return l.jsxs("div",{className:"flex flex-1 overflow-hidden bg-background border rounded-lg",dir:nr()?"rtl":"ltr",children:[l.jsxs("div",{className:"w-80 border-r bg-muted/10 flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b bg-background/50 backdrop-blur",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center justify-between",children:[l.jsx("span",{children:"WhatsApp"}),l.jsx(le,{variant:"ghost",size:"icon",onClick:g,children:l.jsx(yI,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Ws,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(We,{placeholder:"Search...",className:"pl-9"})]})]}),l.jsx(da,{className:"flex-1",children:l.jsxs("div",{className:"flex flex-col gap-1 p-2",children:[r.map(b=>l.jsxs("button",{onClick:()=>s(b),className:`flex items-center gap-3 p-3 rounded-lg text-left transition-colors ${(a==null?void 0:a.id)===b.id?"bg-primary/10 hover:bg-primary/15":"hover:bg-muted"}`,children:[l.jsx(Rs,{children:l.jsx(Is,{className:"bg-green-100 text-green-700",children:l.jsx(Vn,{className:"h-4 w-4"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"font-medium truncate",children:b.phone}),l.jsx("span",{className:"text-xs text-muted-foreground",children:b.last_message_at&&fs(new Date(b.last_message_at),"MMM d")})]}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Tap to view messages"})]})]},b.id)),r.length===0&&!d&&l.jsx("div",{className:"text-center p-8 text-muted-foreground text-sm",children:"No conversations yet."})]})})]}),l.jsx("div",{className:"flex-1 flex flex-col bg-background relative",children:a?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"p-4 border-b flex items-center justify-between bg-background z-10",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Rs,{className:"h-10 w-10",children:l.jsx(Is,{className:"bg-green-600 text-white",children:"WA"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:a.phone}),l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"WhatsApp Business"]})]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-900/50",ref:p,children:i.map(b=>l.jsx("div",{className:`flex ${b.direction==="outbound"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 shadow-sm ${b.direction==="outbound"?"bg-green-600 text-white rounded-br-none":"bg-white dark:bg-slate-800 border rounded-bl-none"}`,children:[b.media_url&&l.jsx("div",{className:"mb-2",children:b.media_type==="image"||b.media_type==="sticker"?l.jsx("img",{src:`${Z0}${b.media_url}`,alt:"WhatsApp media",className:"rounded-lg max-w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(`${Z0}${b.media_url}`,"_blank")}):b.media_type==="video"?l.jsx("video",{controls:!0,className:"rounded-lg max-w-full",children:l.jsx("source",{src:`${Z0}${b.media_url}`})}):l.jsxs("a",{href:`${Z0}${b.media_url}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-2 bg-muted/50 rounded hover:bg-muted transition-colors text-xs",children:[l.jsx(yI,{className:"h-4 w-4"}),l.jsxs("span",{children:["Download ",b.media_type||"File"]})]})}),b.message&&l.jsx("p",{className:"text-sm",children:b.message}),l.jsx("p",{className:`text-[10px] mt-1 text-right ${b.direction==="outbound"?"text-green-100":"text-muted-foreground"}`,children:fs(new Date(b.created_at),"HH:mm")})]})},b.id))}),l.jsx("div",{className:"p-4 border-t bg-background",children:l.jsxs("form",{onSubmit:w,className:"flex gap-2",children:[l.jsx(We,{value:c,onChange:b=>u(b.target.value),placeholder:"Type a message...",className:"flex-1",disabled:h}),l.jsx(le,{type:"submit",size:"icon",disabled:h||!c.trim(),children:l.jsx(vx,{className:"h-4 w-4"})})]})})]}):l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground p-8",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:l.jsx(tm,{className:"h-8 w-8 text-green-600"})}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a conversation"}),l.jsx("p",{className:"max-w-xs text-center text-sm",children:"Choose a conversation from the sidebar to start messaging via WhatsApp."})]})})]})}function sXe(){const{t:e}=Kt(),{isRTL:r}=Wa();wn();const{setBreadcrumbs:n}=px(),{toast:a}=Ol(),[s,i]=y.useState([]),[o,c]=y.useState(!0),[u,d]=y.useState(null),[f,h]=y.useState(null),[m,p]=y.useState(!1),[g,v]=y.useState(!1),[x,w]=y.useState({});y.useEffect(()=>{n([{label:e("navigation.dashboard"),href:"/"},{label:"Permissions",href:"/permissions"}]),b()},[]);const b=async()=>{try{c(!0);const C=await G.permissions.list();i(C.data||[]),d(null)}catch(C){d(C.message||"Failed to load permissions")}finally{c(!1)}},_=C=>{h(C),w({...C}),v(!0),p(!0)},S=()=>{h(null),w({permissions_Name:"",is_offline_mode:0,can_edit:0,can_update:0,can_delete:0,can_view_system_settings:0,can_view_delete_button:0}),v(!1),p(!0)},j=async()=>{try{if(!x.permissions_Name){a({title:"Error",description:"Permission name is required",variant:"destructive"});return}f?(await G.permissions.update(f.permissions_ID,x),a({title:"Success",description:"Permission updated"})):(await G.permissions.create(x),a({title:"Success",description:"Permission created"})),p(!1),b()}catch(C){a({title:"Error",description:C.message,variant:"destructive"})}},N=[{key:"permissions_Name",header:"Role Name",render:C=>l.jsx(Nc,{title:C.permissions_Name||"Unnamed Role",icon:l.jsx(jb,{className:"h-4 w-4 text-primary"})})},{key:"permissions_ID",header:"ID",render:C=>l.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:["#",C.permissions_ID]})}],k=[{icon:l.jsx(Vi,{}),label:"Edit",onClick:C=>_(C)}],E=()=>{const C=Object.keys(x).filter(A=>A!=="permissions_ID"&&A!=="permissions_Name"&&A!=="created_at"&&A!=="updated_at");return l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:C.map(A=>l.jsxs("div",{className:"flex items-center gap-2 border p-3 rounded-md",children:[l.jsx(Bw,{id:A,checked:!!x[A],onCheckedChange:D=>{w(T=>({...T,[A]:D?1:0}))}}),l.jsx(Ge,{htmlFor:A,className:"cursor-pointer flex-1 capitalize",children:A.replace(/_/g," ")})]},A))})};return o?l.jsx(YP,{}):u?l.jsx(a0,{message:u,onRetry:b}):l.jsxs("div",{className:"space-y-4 p-4",dir:r?"rtl":"ltr",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Permissions"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage user roles and access rights"})]}),l.jsxs(le,{onClick:S,children:[l.jsx(lr,{className:"mr-2 h-4 w-4"})," Add Role"]})]}),l.jsx(kc,{data:s,columns:N,actions:k,keyExtractor:C=>C.permissions_ID.toString()}),l.jsx(Sl,{open:m,onOpenChange:p,children:l.jsxs(Mo,{side:r?"left":"right",className:"w-full sm:max-w-[850px] overflow-y-auto",dir:r?"rtl":"ltr",children:[l.jsxs(wc,{children:[l.jsx(jl,{children:f?"Edit Role":"New Role"}),l.jsx(Ox,{children:"Configure access permissions for this role."})]}),l.jsxs("div",{className:"py-4 space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"roleName",children:"Role Name"}),l.jsx(We,{id:"roleName",value:x.permissions_Name||"",onChange:C=>w(A=>({...A,permissions_Name:C.target.value}))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Access Rights"}),E(),Object.keys(x).filter(C=>C!=="permissions_ID"&&C!=="permissions_Name").length===0&&l.jsxs("p",{className:"text-sm text-muted-foreground italic",children:["No permission flags detected.",s.length===0&&" Add your first permission to define the schema or ensure backend migration."]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[l.jsx(le,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),l.jsx(le,{onClick:j,children:"Save Changes"})]})]})})]})}const Ci={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},Go={primary:"text-primary",secondary:"text-muted-foreground",success:"text-green-600",warning:"text-yellow-600",destructive:"text-red-600"},b1={primary:"bg-primary",secondary:"bg-muted-foreground",success:"bg-green-600",warning:"bg-yellow-600",destructive:"bg-red-600"};function Qc({size:e="md",variant:r="default",className:n,color:a="primary"}){const s=ge(Ci[e],Go[a],n);switch(r){case"dots":return l.jsxs("div",{className:ge("flex space-x-1",n),children:[l.jsx("div",{className:ge("animate-bounce",Ci[e],Go[a]),children:l.jsx("div",{className:"h-full w-full rounded-full bg-current"})}),l.jsx("div",{className:ge("animate-bounce",Ci[e],Go[a],"animation-delay-100"),children:l.jsx("div",{className:"h-full w-full rounded-full bg-current"})}),l.jsx("div",{className:ge("animate-bounce",Ci[e],Go[a],"animation-delay-200"),children:l.jsx("div",{className:"h-full w-full rounded-full bg-current"})})]});case"pulse":return l.jsxs("div",{className:ge("relative",Ci[e],n),children:[l.jsx("div",{className:ge("h-full w-full rounded-full border-2 border-current opacity-20")}),l.jsx("div",{className:ge("absolute inset-0 h-full w-full rounded-full border-2 border-t-current animate-spin")})]});case"bounce":return l.jsxs("div",{className:ge("flex space-x-1",n),children:[l.jsx("div",{className:ge("animate-bounce",Ci[e],Go[a]),children:l.jsx(Mie,{className:"h-full w-full"})}),l.jsx("div",{className:ge("animate-bounce",Ci[e],Go[a],"animation-delay-100"),children:l.jsx(n9,{className:"h-full w-full"})}),l.jsx("div",{className:ge("animate-bounce",Ci[e],Go[a],"animation-delay-200"),children:l.jsx(nv,{className:"h-full w-full animate-spin"})})]});case"rotate":return l.jsx("div",{className:ge("relative",Ci[e],n),children:l.jsx(nv,{className:ge("h-full w-full animate-spin",Go[a])})});case"rings":return l.jsxs("div",{className:ge("relative",Ci[e],n),children:[l.jsx("div",{className:ge("absolute inset-0 h-full w-full rounded-full border-2 border-current opacity-20 animate-ping")}),l.jsx("div",{className:ge("absolute inset-2 h-full w-full rounded-full border-2 border-current opacity-40 animate-ping","animation-delay-100")}),l.jsx("div",{className:ge("absolute inset-4 h-full w-full rounded-full border-2 border-current animate-spin")})]});case"bars":return l.jsx("div",{className:ge("flex items-end space-x-1",n),children:[0,1,2,3,4].map(i=>l.jsx("div",{className:ge("w-1 bg-current rounded-full animate-pulse",e==="sm"?"h-4":e==="md"?"h-6":e==="lg"?"h-8":"h-12",Go[a],i===0&&"animation-delay-0",i===1&&"animation-delay-100",i===2&&"animation-delay-200",i===3&&"animation-delay-300",i===4&&"animation-delay-400"),style:{animationDelay:`${i*100}ms`,animation:"pulse 1.4s cubic-bezier(0.4, 0, 0.6, 1) infinite"}},i))});case"wave":return l.jsx("div",{className:ge("flex space-x-1",n),children:[0,1,2,3,4].map(i=>l.jsx("div",{className:ge("rounded-full bg-current animate-bounce",e==="sm"?"h-2 w-2":e==="md"?"h-3 w-3":e==="lg"?"h-4 w-4":"h-6 w-6",Go[a]),style:{animationDelay:`${i*100}ms`}},i))});case"orbit":return l.jsxs("div",{className:ge("relative",Ci[e],n),children:[l.jsxs("div",{className:ge("absolute inset-0 h-full w-full animate-spin"),children:[l.jsx("div",{className:ge("absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full",b1[a])}),l.jsx("div",{className:ge("absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 w-2 h-2 rounded-full opacity-60",b1[a])}),l.jsx("div",{className:ge("absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1/2 w-2 h-2 rounded-full opacity-40",b1[a])}),l.jsx("div",{className:ge("absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-1/2 w-2 h-2 rounded-full opacity-80",b1[a])})]}),l.jsx("div",{className:ge("absolute inset-2 h-full w-full rounded-full border border-current opacity-20")})]});case"morph":return l.jsx("div",{className:ge("relative",Ci[e],n),children:l.jsx("div",{className:ge("h-full w-full bg-current rounded-full animate-morph")})});default:return l.jsx(gx,{className:ge("animate-spin",s)})}}function M8({message:e="Loading...",size:r="lg",variant:n="default",showProgress:a=!1,progress:s=0,className:i}){return l.jsxs("div",{className:ge("flex flex-col items-center justify-center py-8 space-y-4",i),children:[l.jsxs("div",{className:"relative",children:[l.jsx(Qc,{size:r,variant:n}),a&&l.jsx("div",{className:"absolute -bottom-6 left-0 right-0",children:l.jsx("div",{className:"w-24 h-1 bg-muted rounded-full overflow-hidden mx-auto",children:l.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${s}%`}})})})]}),e&&l.jsx("p",{className:"text-sm text-muted-foreground animate-pulse font-medium text-center max-w-xs",children:e})]})}function iXe({message:e="Loading...",fullScreen:r=!1,variant:n="bounce",className:a}){const s=l.jsxs("div",{className:ge("flex flex-col items-center justify-center space-y-6",r?"min-h-screen":"py-16",a),children:[l.jsxs("div",{className:"relative",children:[l.jsx(Qc,{size:"xl",variant:n}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"h-32 w-32 rounded-full border-4 border-muted/20 animate-ping"})})]}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("p",{className:"text-lg font-medium text-foreground animate-pulse",children:e}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while we prepare your content..."})]})]});return r?l.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:s}):s}function oXe(){const[e,r]=y.useState(!1),[n,a]=y.useState(0),s=()=>{a(0),r(!0);const u=setInterval(()=>{a(d=>d>=100?(clearInterval(u),setTimeout(()=>r(!1),500),100):d+10)},200)},i=["default","dots","pulse","bounce","rotate","rings","bars","wave","orbit","morph"],o=["sm","md","lg","xl"],c=["primary","secondary","success","warning","destructive"];return l.jsxs("div",{className:"min-h-screen bg-background p-8 space-y-8",children:[l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"text-center space-y-4 mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold",children:"Custom Loading Spinners"}),l.jsx("p",{className:"text-muted-foreground text-lg",children:"Showcase of different spinner variants and configurations"}),l.jsx(le,{onClick:s,className:"mt-4",children:"Show Page Loader with Progress"})]}),l.jsxs(lt,{children:[l.jsx(Xt,{children:l.jsx(_r,{children:"Spinner Variants"})}),l.jsx(xt,{children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:i.map(u=>l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"h-20 flex items-center justify-center",children:l.jsx(Qc,{variant:u,size:"lg"})}),l.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:u})]},u))})})]}),l.jsxs(lt,{children:[l.jsx(Xt,{children:l.jsx(_r,{children:"Spinner Sizes"})}),l.jsx(xt,{children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:o.map(u=>l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"h-20 flex items-center justify-center",children:l.jsx(Qc,{variant:"bounce",size:u})}),l.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:u})]},u))})})]}),l.jsxs(lt,{children:[l.jsx(Xt,{children:l.jsx(_r,{children:"Spinner Colors"})}),l.jsx(xt,{children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:c.map(u=>l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"h-20 flex items-center justify-center",children:l.jsx(Qc,{variant:"default",size:"lg",color:u})}),l.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:u})]},u))})})]}),l.jsxs(lt,{children:[l.jsx(Xt,{children:l.jsx(_r,{children:"Loading Spinner with Messages"})}),l.jsx(xt,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"Basic Loading"}),l.jsx(M8,{message:"Loading dashboard data...",variant:"dots",size:"md"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"With Progress"}),l.jsx(M8,{message:"Processing files...",variant:"pulse",size:"lg",showProgress:!0,progress:65})]})]})})]}),l.jsxs(lt,{children:[l.jsx(Xt,{children:l.jsx(_r,{children:"Combined Examples"})}),l.jsx(xt,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[l.jsx(Qc,{variant:"bounce",size:"xl",color:"success"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Success State"})]}),l.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[l.jsx(Qc,{variant:"rotate",size:"xl",color:"warning"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing"})]}),l.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[l.jsx(Qc,{variant:"dots",size:"xl",color:"destructive"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Error State"})]})]})})]})]}),e&&l.jsx(iXe,{message:"Loading amazing content...",variant:"bounce",fullScreen:!0})]})}const lXe=()=>l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Unauthorized Access"}),l.jsx("p",{className:"mb-4",children:"You don't have permission to view this page."}),l.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Go Back"})]})}),cXe=()=>{const{user:e}=xr();return(e==null?void 0:e.role)==="client"?l.jsx(uUe,{}):l.jsx(R6e,{})},F8=({children:e})=>l.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-indigo-400/20 to-blue-400/20 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-primary/5 to-blue-400/5 rounded-full blur-3xl"})]}),l.jsx("div",{className:"relative z-10 w-full px-4 py-8",children:e})]});function uXe(){return l.jsx(Pae,{children:l.jsx(YU,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:l.jsx($oe,{children:l.jsx(tie,{children:l.jsx(Zse,{children:l.jsx(rie,{children:l.jsx(dXe,{})})})})})})})}function dXe(){const{isRTL:e}=Wa(),r=Al(),{t:n}=Kt();return y.useEffect(()=>{document.documentElement.dir=e?"rtl":"ltr"},[e]),y.useEffect(()=>{const a=r.pathname.split("/").filter(u=>u),s="Middar CRM";if(a.length===0){document.title=s;return}const i=a[a.length-1],o={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee",permissions:"navigation.permissions"};let c="";if(o[i])c=n(o[i]);else if(/^\d+$/.test(i)||i.length>20)if(a.length>1){const u=a[a.length-2];o[u]?c=`${n(o[u])} - ${i}`:c=i}else c=i;else c=i.split("-").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" ");document.title=`${c} | ${s}`},[r,n]),l.jsxs(kae,{children:[l.jsx(Cr,{path:"/login",element:l.jsx(F8,{children:l.jsx(Moe,{})})}),l.jsx(Cr,{path:"/signup",element:l.jsx(F8,{children:l.jsx(Foe,{})})}),l.jsx(Cr,{path:"/unauthorized",element:l.jsx(lXe,{})}),l.jsx(Cr,{path:"/auth/callback",element:l.jsx(hUe,{})}),l.jsx(Cr,{path:"/",element:l.jsx(fUe,{})}),l.jsxs(Cr,{element:l.jsx(Oy,{children:l.jsx(_C,{children:l.jsx(nI,{})})}),children:[l.jsx(Cr,{path:"/dashboard",element:l.jsx(XLe,{})}),l.jsx(Cr,{path:"/leads",element:l.jsx(W8e,{})}),l.jsx(Cr,{path:"/projects",element:l.jsx(l6e,{})}),l.jsx(Cr,{path:"/tasks",element:l.jsx(Y8e,{})}),l.jsx(Cr,{path:"/tickets",element:l.jsx(Q8e,{})}),l.jsx(Cr,{path:"/users",element:l.jsx(Oy,{denyPermissionIds:[3,4,5,6],children:l.jsx(S6e,{})})}),l.jsx(Cr,{path:"/teams",element:l.jsx(j6e,{})}),l.jsx(Cr,{path:"/chats",element:l.jsx(cXe,{})}),l.jsx(Cr,{path:"/all-chats",element:l.jsx(cUe,{})}),l.jsx(Cr,{path:"/whatsapp",element:l.jsx(aXe,{})}),l.jsx(Cr,{path:"/requests",element:l.jsx(tXe,{})}),l.jsx(Cr,{path:"/client-portal",element:l.jsx(dUe,{})}),l.jsx(Cr,{path:"/surveys",element:l.jsx(vGe,{})}),l.jsx(Cr,{path:"/mleads",element:l.jsx(KGe,{})}),l.jsx(Cr,{path:"/mprojects",element:l.jsx(JGe,{})}),l.jsx(Cr,{path:"/permissions",element:l.jsx(Oy,{denyPermissionIds:[3,4,5,6],children:l.jsx(sXe,{})})}),l.jsx(Cr,{path:"/settings",element:l.jsx(Oy,{denyPermissionIds:[3,4,5,6],children:l.jsx(xGe,{})})}),l.jsx(Cr,{path:"/spinner-demo",element:l.jsx(oXe,{})})]}),l.jsx(Cr,{element:l.jsx(_C,{children:l.jsx(nI,{})})}),l.jsx(Cr,{path:"*",element:l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("h1",{children:"404 - Page Not Found"})})})]})}const fXe=new Nte({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3}}});oU(document.getElementById("root")).render(l.jsx(Rre,{i18n:en,children:l.jsx(Ote,{client:fXe,children:l.jsx(YU,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:l.jsx(uXe,{})})})}));
