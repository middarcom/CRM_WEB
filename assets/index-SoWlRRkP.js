var mD=e=>{throw TypeError(e)};var Pj=(e,t,r)=>t.has(e)||mD("Cannot "+r);var ve=(e,t,r)=>(Pj(e,t,"read from private field"),r?r.call(e):t.get(e)),_t=(e,t,r)=>t.has(e)?mD("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),nt=(e,t,r,n)=>(Pj(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Vt=(e,t,r)=>(Pj(e,t,"access private method"),r);var py=(e,t,r,n)=>({set _(a){nt(e,t,a,r)},get _(){return ve(e,t,n)}});function V8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function W8(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var H8={exports:{}},v_={},q8={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px=Symbol.for("react.element"),OQ=Symbol.for("react.portal"),PQ=Symbol.for("react.fragment"),DQ=Symbol.for("react.strict_mode"),RQ=Symbol.for("react.profiler"),IQ=Symbol.for("react.provider"),MQ=Symbol.for("react.context"),FQ=Symbol.for("react.forward_ref"),LQ=Symbol.for("react.suspense"),$Q=Symbol.for("react.memo"),BQ=Symbol.for("react.lazy"),pD=Symbol.iterator;function UQ(e){return e===null||typeof e!="object"?null:(e=pD&&e[pD]||e["@@iterator"],typeof e=="function"?e:null)}var K8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G8=Object.assign,Y8={};function Pp(e,t,r){this.props=e,this.context=t,this.refs=Y8,this.updater=r||K8}Pp.prototype.isReactComponent={};Pp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function X8(){}X8.prototype=Pp.prototype;function ET(e,t,r){this.props=e,this.context=t,this.refs=Y8,this.updater=r||K8}var TT=ET.prototype=new X8;TT.constructor=ET;G8(TT,Pp.prototype);TT.isPureReactComponent=!0;var gD=Array.isArray,J8=Object.prototype.hasOwnProperty,AT={current:null},Q8={key:!0,ref:!0,__self:!0,__source:!0};function Z8(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)J8.call(t,n)&&!Q8.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:px,type:e,key:s,ref:i,props:a,_owner:AT.current}}function zQ(e,t){return{$$typeof:px,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function OT(e){return typeof e=="object"&&e!==null&&e.$$typeof===px}function VQ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var vD=/\/+/g;function Dj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VQ(""+e.key):t.toString(36)}function Cb(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case px:case OQ:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Dj(i,0):n,gD(a)?(r="",e!=null&&(r=e.replace(vD,"$&/")+"/"),Cb(a,t,r,"",function(u){return u})):a!=null&&(OT(a)&&(a=zQ(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(vD,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",gD(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Dj(s,l);i+=Cb(s,t,r,c,a)}else if(c=UQ(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Dj(s,l++),i+=Cb(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function vy(e,t,r){if(e==null)return e;var n=[],a=0;return Cb(e,n,"","",function(s){return t.call(r,s,a++)}),n}function WQ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hs={current:null},Eb={transition:null},HQ={ReactCurrentDispatcher:hs,ReactCurrentBatchConfig:Eb,ReactCurrentOwner:AT};function e6(){throw Error("act(...) is not supported in production builds of React.")}zt.Children={map:vy,forEach:function(e,t,r){vy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return vy(e,function(){t++}),t},toArray:function(e){return vy(e,function(t){return t})||[]},only:function(e){if(!OT(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};zt.Component=Pp;zt.Fragment=PQ;zt.Profiler=RQ;zt.PureComponent=ET;zt.StrictMode=DQ;zt.Suspense=LQ;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HQ;zt.act=e6;zt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=G8({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=AT.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)J8.call(t,c)&&!Q8.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:px,type:e.type,key:a,ref:s,props:n,_owner:i}};zt.createContext=function(e){return e={$$typeof:MQ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:IQ,_context:e},e.Consumer=e};zt.createElement=Z8;zt.createFactory=function(e){var t=Z8.bind(null,e);return t.type=e,t};zt.createRef=function(){return{current:null}};zt.forwardRef=function(e){return{$$typeof:FQ,render:e}};zt.isValidElement=OT;zt.lazy=function(e){return{$$typeof:BQ,_payload:{_status:-1,_result:e},_init:WQ}};zt.memo=function(e,t){return{$$typeof:$Q,type:e,compare:t===void 0?null:t}};zt.startTransition=function(e){var t=Eb.transition;Eb.transition={};try{e()}finally{Eb.transition=t}};zt.unstable_act=e6;zt.useCallback=function(e,t){return hs.current.useCallback(e,t)};zt.useContext=function(e){return hs.current.useContext(e)};zt.useDebugValue=function(){};zt.useDeferredValue=function(e){return hs.current.useDeferredValue(e)};zt.useEffect=function(e,t){return hs.current.useEffect(e,t)};zt.useId=function(){return hs.current.useId()};zt.useImperativeHandle=function(e,t,r){return hs.current.useImperativeHandle(e,t,r)};zt.useInsertionEffect=function(e,t){return hs.current.useInsertionEffect(e,t)};zt.useLayoutEffect=function(e,t){return hs.current.useLayoutEffect(e,t)};zt.useMemo=function(e,t){return hs.current.useMemo(e,t)};zt.useReducer=function(e,t,r){return hs.current.useReducer(e,t,r)};zt.useRef=function(e){return hs.current.useRef(e)};zt.useState=function(e){return hs.current.useState(e)};zt.useSyncExternalStore=function(e,t,r){return hs.current.useSyncExternalStore(e,t,r)};zt.useTransition=function(){return hs.current.useTransition()};zt.version="18.3.1";q8.exports=zt;var x=q8.exports;const ie=fr(x),PT=V8({__proto__:null,default:ie},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qQ=x,KQ=Symbol.for("react.element"),GQ=Symbol.for("react.fragment"),YQ=Object.prototype.hasOwnProperty,XQ=qQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JQ={key:!0,ref:!0,__self:!0,__source:!0};function t6(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)YQ.call(t,n)&&!JQ.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:KQ,type:e,key:s,ref:i,props:a,_owner:XQ.current}}v_.Fragment=GQ;v_.jsx=t6;v_.jsxs=t6;H8.exports=v_;var o=H8.exports,r6={exports:{}},gi={},n6={exports:{}},a6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,M){var G=F.length;F.push(M);e:for(;0<G;){var Q=G-1>>>1,E=F[Q];if(0<a(E,M))F[Q]=M,F[G]=E,G=Q;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var M=F[0],G=F.pop();if(G!==M){F[0]=G;e:for(var Q=0,E=F.length,B=E>>>1;Q<B;){var U=2*(Q+1)-1,q=F[U],ee=U+1,oe=F[ee];if(0>a(q,G))ee<E&&0>a(oe,q)?(F[Q]=oe,F[ee]=G,Q=ee):(F[Q]=q,F[U]=G,Q=U);else if(ee<E&&0>a(oe,G))F[Q]=oe,F[ee]=G,Q=ee;else break e}}return M}function a(F,M){var G=F.sortIndex-M.sortIndex;return G!==0?G:F.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=F)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function _(F){if(g=!1,w(F),!p)if(r(c)!==null)p=!0,I(S);else{var M=r(u);M!==null&&W(_,M.startTime-F)}}function S(F,M){p=!1,g&&(g=!1,y(N),N=-1),m=!0;var G=h;try{for(w(M),f=r(c);f!==null&&(!(f.expirationTime>M)||F&&!D());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var E=Q(f.expirationTime<=M);M=e.unstable_now(),typeof E=="function"?f.callback=E:f===r(c)&&n(c),w(M)}else n(c);f=r(c)}if(f!==null)var B=!0;else{var U=r(u);U!==null&&W(_,U.startTime-M),B=!1}return B}finally{f=null,h=G,m=!1}}var k=!1,j=null,N=-1,C=5,T=-1;function D(){return!(e.unstable_now()-T<C)}function A(){if(j!==null){var F=e.unstable_now();T=F;var M=!0;try{M=j(!0,F)}finally{M?H():(k=!1,j=null)}}else k=!1}var H;if(typeof b=="function")H=function(){b(A)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,L=X.port2;X.port1.onmessage=A,H=function(){L.postMessage(null)}}else H=function(){v(A,0)};function I(F){j=F,k||(k=!0,H())}function W(F,M){N=v(function(){F(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,I(S))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var G=h;h=M;try{return F()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,M){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=h;h=F;try{return M()}finally{h=G}},e.unstable_scheduleCallback=function(F,M,G){var Q=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Q+G:Q):G=Q,F){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=G+E,F={id:d++,callback:M,priorityLevel:F,startTime:G,expirationTime:E,sortIndex:-1},G>Q?(F.sortIndex=G,t(u,F),r(c)===null&&F===r(u)&&(g?(y(N),N=-1):g=!0,W(_,G-Q))):(F.sortIndex=E,t(c,F),p||m||(p=!0,I(S))),F},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(F){var M=h;return function(){var G=h;h=M;try{return F.apply(this,arguments)}finally{h=G}}}})(a6);n6.exports=a6;var QQ=n6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZQ=x,fi=QQ;function Ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s6=new Set,zg={};function Ff(e,t){Tm(e,t),Tm(e+"Capture",t)}function Tm(e,t){for(zg[e]=t,e=0;e<t.length;e++)s6.add(t[e])}var fc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),RN=Object.prototype.hasOwnProperty,eZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xD={},yD={};function tZ(e){return RN.call(yD,e)?!0:RN.call(xD,e)?!1:eZ.test(e)?yD[e]=!0:(xD[e]=!0,!1)}function rZ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nZ(e,t,r,n){if(t===null||typeof t>"u"||rZ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ms(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var ca={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ca[e]=new ms(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ca[t]=new ms(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ca[e]=new ms(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ca[e]=new ms(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ca[e]=new ms(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ca[e]=new ms(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ca[e]=new ms(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ca[e]=new ms(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ca[e]=new ms(e,5,!1,e.toLowerCase(),null,!1,!1)});var DT=/[\-:]([a-z])/g;function RT(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(DT,RT);ca[t]=new ms(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(DT,RT);ca[t]=new ms(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(DT,RT);ca[t]=new ms(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ca[e]=new ms(e,1,!1,e.toLowerCase(),null,!1,!1)});ca.xlinkHref=new ms("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ca[e]=new ms(e,1,!1,e.toLowerCase(),null,!0,!0)});function IT(e,t,r,n){var a=ca.hasOwnProperty(t)?ca[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nZ(t,r,a,n)&&(r=null),n||a===null?tZ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ec=ZQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xy=Symbol.for("react.element"),Rh=Symbol.for("react.portal"),Ih=Symbol.for("react.fragment"),MT=Symbol.for("react.strict_mode"),IN=Symbol.for("react.profiler"),i6=Symbol.for("react.provider"),o6=Symbol.for("react.context"),FT=Symbol.for("react.forward_ref"),MN=Symbol.for("react.suspense"),FN=Symbol.for("react.suspense_list"),LT=Symbol.for("react.memo"),Hc=Symbol.for("react.lazy"),l6=Symbol.for("react.offscreen"),bD=Symbol.iterator;function x0(e){return e===null||typeof e!="object"?null:(e=bD&&e[bD]||e["@@iterator"],typeof e=="function"?e:null)}var Kr=Object.assign,Rj;function K0(e){if(Rj===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Rj=t&&t[1]||""}return`
`+Rj+e}var Ij=!1;function Mj(e,t){if(!e||Ij)return"";Ij=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Ij=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?K0(e):""}function aZ(e){switch(e.tag){case 5:return K0(e.type);case 16:return K0("Lazy");case 13:return K0("Suspense");case 19:return K0("SuspenseList");case 0:case 2:case 15:return e=Mj(e.type,!1),e;case 11:return e=Mj(e.type.render,!1),e;case 1:return e=Mj(e.type,!0),e;default:return""}}function LN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ih:return"Fragment";case Rh:return"Portal";case IN:return"Profiler";case MT:return"StrictMode";case MN:return"Suspense";case FN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case o6:return(e.displayName||"Context")+".Consumer";case i6:return(e._context.displayName||"Context")+".Provider";case FT:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case LT:return t=e.displayName||null,t!==null?t:LN(e.type)||"Memo";case Hc:t=e._payload,e=e._init;try{return LN(e(t))}catch{}}return null}function sZ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return LN(t);case 8:return t===MT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function c6(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iZ(e){var t=c6(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yy(e){e._valueTracker||(e._valueTracker=iZ(e))}function u6(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=c6(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Zb(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $N(e,t){var r=t.checked;return Kr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function wD(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Fu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function d6(e,t){t=t.checked,t!=null&&IT(e,"checked",t,!1)}function BN(e,t){d6(e,t);var r=Fu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?UN(e,t.type,r):t.hasOwnProperty("defaultValue")&&UN(e,t.type,Fu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _D(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function UN(e,t,r){(t!=="number"||Zb(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var G0=Array.isArray;function Qh(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Fu(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function zN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return Kr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function SD(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ve(92));if(G0(r)){if(1<r.length)throw Error(Ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Fu(r)}}function f6(e,t){var r=Fu(t.value),n=Fu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function jD(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function h6(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function VN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?h6(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var by,m6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(by=by||document.createElement("div"),by.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=by.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var og={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oZ=["Webkit","ms","Moz","O"];Object.keys(og).forEach(function(e){oZ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),og[t]=og[e]})});function p6(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||og.hasOwnProperty(e)&&og[e]?(""+t).trim():t+"px"}function g6(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=p6(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var lZ=Kr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function WN(e,t){if(t){if(lZ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ve(62))}}function HN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qN=null;function $T(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var KN=null,Zh=null,em=null;function kD(e){if(e=xx(e)){if(typeof KN!="function")throw Error(Ve(280));var t=e.stateNode;t&&(t=__(t),KN(e.stateNode,e.type,t))}}function v6(e){Zh?em?em.push(e):em=[e]:Zh=e}function x6(){if(Zh){var e=Zh,t=em;if(em=Zh=null,kD(e),t)for(e=0;e<t.length;e++)kD(t[e])}}function y6(e,t){return e(t)}function b6(){}var Fj=!1;function w6(e,t,r){if(Fj)return e(t,r);Fj=!0;try{return y6(e,t,r)}finally{Fj=!1,(Zh!==null||em!==null)&&(b6(),x6())}}function Wg(e,t){var r=e.stateNode;if(r===null)return null;var n=__(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ve(231,t,typeof r));return r}var GN=!1;if(fc)try{var y0={};Object.defineProperty(y0,"passive",{get:function(){GN=!0}}),window.addEventListener("test",y0,y0),window.removeEventListener("test",y0,y0)}catch{GN=!1}function cZ(e,t,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var lg=!1,e1=null,t1=!1,YN=null,uZ={onError:function(e){lg=!0,e1=e}};function dZ(e,t,r,n,a,s,i,l,c){lg=!1,e1=null,cZ.apply(uZ,arguments)}function fZ(e,t,r,n,a,s,i,l,c){if(dZ.apply(this,arguments),lg){if(lg){var u=e1;lg=!1,e1=null}else throw Error(Ve(198));t1||(t1=!0,YN=u)}}function Lf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _6(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ND(e){if(Lf(e)!==e)throw Error(Ve(188))}function hZ(e){var t=e.alternate;if(!t){if(t=Lf(e),t===null)throw Error(Ve(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return ND(a),e;if(s===n)return ND(a),t;s=s.sibling}throw Error(Ve(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(Ve(189))}}if(r.alternate!==n)throw Error(Ve(190))}if(r.tag!==3)throw Error(Ve(188));return r.stateNode.current===r?e:t}function S6(e){return e=hZ(e),e!==null?j6(e):null}function j6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=j6(e);if(t!==null)return t;e=e.sibling}return null}var k6=fi.unstable_scheduleCallback,CD=fi.unstable_cancelCallback,mZ=fi.unstable_shouldYield,pZ=fi.unstable_requestPaint,nn=fi.unstable_now,gZ=fi.unstable_getCurrentPriorityLevel,BT=fi.unstable_ImmediatePriority,N6=fi.unstable_UserBlockingPriority,r1=fi.unstable_NormalPriority,vZ=fi.unstable_LowPriority,C6=fi.unstable_IdlePriority,x_=null,dl=null;function xZ(e){if(dl&&typeof dl.onCommitFiberRoot=="function")try{dl.onCommitFiberRoot(x_,e,void 0,(e.current.flags&128)===128)}catch{}}var ko=Math.clz32?Math.clz32:wZ,yZ=Math.log,bZ=Math.LN2;function wZ(e){return e>>>=0,e===0?32:31-(yZ(e)/bZ|0)|0}var wy=64,_y=4194304;function Y0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function n1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=Y0(l):(s&=i,s!==0&&(n=Y0(s)))}else i=r&~a,i!==0?n=Y0(i):s!==0&&(n=Y0(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ko(t),a=1<<r,n|=e[r],t&=~a;return n}function _Z(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SZ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-ko(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=_Z(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function XN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function E6(){var e=wy;return wy<<=1,!(wy&4194240)&&(wy=64),e}function Lj(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gx(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ko(t),e[t]=r}function jZ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ko(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function UT(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ko(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var gr=0;function T6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var A6,zT,O6,P6,D6,JN=!1,Sy=[],Su=null,ju=null,ku=null,Hg=new Map,qg=new Map,Jc=[],kZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ED(e,t){switch(e){case"focusin":case"focusout":Su=null;break;case"dragenter":case"dragleave":ju=null;break;case"mouseover":case"mouseout":ku=null;break;case"pointerover":case"pointerout":Hg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qg.delete(t.pointerId)}}function b0(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=xx(t),t!==null&&zT(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function NZ(e,t,r,n,a){switch(t){case"focusin":return Su=b0(Su,e,t,r,n,a),!0;case"dragenter":return ju=b0(ju,e,t,r,n,a),!0;case"mouseover":return ku=b0(ku,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Hg.set(s,b0(Hg.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,qg.set(s,b0(qg.get(s)||null,e,t,r,n,a)),!0}return!1}function R6(e){var t=Dd(e.target);if(t!==null){var r=Lf(t);if(r!==null){if(t=r.tag,t===13){if(t=_6(r),t!==null){e.blockedOn=t,D6(e.priority,function(){O6(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=QN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);qN=n,r.target.dispatchEvent(n),qN=null}else return t=xx(r),t!==null&&zT(t),e.blockedOn=r,!1;t.shift()}return!0}function TD(e,t,r){Tb(e)&&r.delete(t)}function CZ(){JN=!1,Su!==null&&Tb(Su)&&(Su=null),ju!==null&&Tb(ju)&&(ju=null),ku!==null&&Tb(ku)&&(ku=null),Hg.forEach(TD),qg.forEach(TD)}function w0(e,t){e.blockedOn===t&&(e.blockedOn=null,JN||(JN=!0,fi.unstable_scheduleCallback(fi.unstable_NormalPriority,CZ)))}function Kg(e){function t(a){return w0(a,e)}if(0<Sy.length){w0(Sy[0],e);for(var r=1;r<Sy.length;r++){var n=Sy[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Su!==null&&w0(Su,e),ju!==null&&w0(ju,e),ku!==null&&w0(ku,e),Hg.forEach(t),qg.forEach(t),r=0;r<Jc.length;r++)n=Jc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Jc.length&&(r=Jc[0],r.blockedOn===null);)R6(r),r.blockedOn===null&&Jc.shift()}var tm=Ec.ReactCurrentBatchConfig,a1=!0;function EZ(e,t,r,n){var a=gr,s=tm.transition;tm.transition=null;try{gr=1,VT(e,t,r,n)}finally{gr=a,tm.transition=s}}function TZ(e,t,r,n){var a=gr,s=tm.transition;tm.transition=null;try{gr=4,VT(e,t,r,n)}finally{gr=a,tm.transition=s}}function VT(e,t,r,n){if(a1){var a=QN(e,t,r,n);if(a===null)Gj(e,t,n,s1,r),ED(e,n);else if(NZ(a,e,t,r,n))n.stopPropagation();else if(ED(e,n),t&4&&-1<kZ.indexOf(e)){for(;a!==null;){var s=xx(a);if(s!==null&&A6(s),s=QN(e,t,r,n),s===null&&Gj(e,t,n,s1,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Gj(e,t,n,null,r)}}var s1=null;function QN(e,t,r,n){if(s1=null,e=$T(n),e=Dd(e),e!==null)if(t=Lf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_6(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return s1=e,null}function I6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gZ()){case BT:return 1;case N6:return 4;case r1:case vZ:return 16;case C6:return 536870912;default:return 16}default:return 16}}var mu=null,WT=null,Ab=null;function M6(){if(Ab)return Ab;var e,t=WT,r=t.length,n,a="value"in mu?mu.value:mu.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return Ab=a.slice(e,1<n?1-n:void 0)}function Ob(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jy(){return!0}function AD(){return!1}function vi(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jy:AD,this.isPropagationStopped=AD,this}return Kr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jy)},persist:function(){},isPersistent:jy}),t}var Dp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},HT=vi(Dp),vx=Kr({},Dp,{view:0,detail:0}),AZ=vi(vx),$j,Bj,_0,y_=Kr({},vx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_0&&(_0&&e.type==="mousemove"?($j=e.screenX-_0.screenX,Bj=e.screenY-_0.screenY):Bj=$j=0,_0=e),$j)},movementY:function(e){return"movementY"in e?e.movementY:Bj}}),OD=vi(y_),OZ=Kr({},y_,{dataTransfer:0}),PZ=vi(OZ),DZ=Kr({},vx,{relatedTarget:0}),Uj=vi(DZ),RZ=Kr({},Dp,{animationName:0,elapsedTime:0,pseudoElement:0}),IZ=vi(RZ),MZ=Kr({},Dp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FZ=vi(MZ),LZ=Kr({},Dp,{data:0}),PD=vi(LZ),$Z={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zZ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UZ[e])?!!t[e]:!1}function qT(){return zZ}var VZ=Kr({},vx,{key:function(e){if(e.key){var t=$Z[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ob(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qT,charCode:function(e){return e.type==="keypress"?Ob(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ob(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),WZ=vi(VZ),HZ=Kr({},y_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DD=vi(HZ),qZ=Kr({},vx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qT}),KZ=vi(qZ),GZ=Kr({},Dp,{propertyName:0,elapsedTime:0,pseudoElement:0}),YZ=vi(GZ),XZ=Kr({},y_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),JZ=vi(XZ),QZ=[9,13,27,32],KT=fc&&"CompositionEvent"in window,cg=null;fc&&"documentMode"in document&&(cg=document.documentMode);var ZZ=fc&&"TextEvent"in window&&!cg,F6=fc&&(!KT||cg&&8<cg&&11>=cg),RD=" ",ID=!1;function L6(e,t){switch(e){case"keyup":return QZ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mh=!1;function eee(e,t){switch(e){case"compositionend":return $6(t);case"keypress":return t.which!==32?null:(ID=!0,RD);case"textInput":return e=t.data,e===RD&&ID?null:e;default:return null}}function tee(e,t){if(Mh)return e==="compositionend"||!KT&&L6(e,t)?(e=M6(),Ab=WT=mu=null,Mh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return F6&&t.locale!=="ko"?null:t.data;default:return null}}var ree={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ree[e.type]:t==="textarea"}function B6(e,t,r,n){v6(n),t=i1(t,"onChange"),0<t.length&&(r=new HT("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ug=null,Gg=null;function nee(e){J6(e,0)}function b_(e){var t=$h(e);if(u6(t))return e}function aee(e,t){if(e==="change")return t}var U6=!1;if(fc){var zj;if(fc){var Vj="oninput"in document;if(!Vj){var FD=document.createElement("div");FD.setAttribute("oninput","return;"),Vj=typeof FD.oninput=="function"}zj=Vj}else zj=!1;U6=zj&&(!document.documentMode||9<document.documentMode)}function LD(){ug&&(ug.detachEvent("onpropertychange",z6),Gg=ug=null)}function z6(e){if(e.propertyName==="value"&&b_(Gg)){var t=[];B6(t,Gg,e,$T(e)),w6(nee,t)}}function see(e,t,r){e==="focusin"?(LD(),ug=t,Gg=r,ug.attachEvent("onpropertychange",z6)):e==="focusout"&&LD()}function iee(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return b_(Gg)}function oee(e,t){if(e==="click")return b_(t)}function lee(e,t){if(e==="input"||e==="change")return b_(t)}function cee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ao=typeof Object.is=="function"?Object.is:cee;function Yg(e,t){if(Ao(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!RN.call(t,a)||!Ao(e[a],t[a]))return!1}return!0}function $D(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function BD(e,t){var r=$D(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$D(r)}}function V6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?V6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function W6(){for(var e=window,t=Zb();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Zb(e.document)}return t}function GT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uee(e){var t=W6(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&V6(r.ownerDocument.documentElement,r)){if(n!==null&&GT(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=BD(r,s);var i=BD(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dee=fc&&"documentMode"in document&&11>=document.documentMode,Fh=null,ZN=null,dg=null,e2=!1;function UD(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;e2||Fh==null||Fh!==Zb(n)||(n=Fh,"selectionStart"in n&&GT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),dg&&Yg(dg,n)||(dg=n,n=i1(ZN,"onSelect"),0<n.length&&(t=new HT("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fh)))}function ky(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Lh={animationend:ky("Animation","AnimationEnd"),animationiteration:ky("Animation","AnimationIteration"),animationstart:ky("Animation","AnimationStart"),transitionend:ky("Transition","TransitionEnd")},Wj={},H6={};fc&&(H6=document.createElement("div").style,"AnimationEvent"in window||(delete Lh.animationend.animation,delete Lh.animationiteration.animation,delete Lh.animationstart.animation),"TransitionEvent"in window||delete Lh.transitionend.transition);function w_(e){if(Wj[e])return Wj[e];if(!Lh[e])return e;var t=Lh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in H6)return Wj[e]=t[r];return e}var q6=w_("animationend"),K6=w_("animationiteration"),G6=w_("animationstart"),Y6=w_("transitionend"),X6=new Map,zD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gu(e,t){X6.set(e,t),Ff(t,[e])}for(var Hj=0;Hj<zD.length;Hj++){var qj=zD[Hj],fee=qj.toLowerCase(),hee=qj[0].toUpperCase()+qj.slice(1);Gu(fee,"on"+hee)}Gu(q6,"onAnimationEnd");Gu(K6,"onAnimationIteration");Gu(G6,"onAnimationStart");Gu("dblclick","onDoubleClick");Gu("focusin","onFocus");Gu("focusout","onBlur");Gu(Y6,"onTransitionEnd");Tm("onMouseEnter",["mouseout","mouseover"]);Tm("onMouseLeave",["mouseout","mouseover"]);Tm("onPointerEnter",["pointerout","pointerover"]);Tm("onPointerLeave",["pointerout","pointerover"]);Ff("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ff("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ff("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ff("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ff("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ff("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var X0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mee=new Set("cancel close invalid load scroll toggle".split(" ").concat(X0));function VD(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,fZ(n,t,void 0,e),e.currentTarget=null}function J6(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;VD(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;VD(a,l,u),s=c}}}if(t1)throw e=YN,t1=!1,YN=null,e}function Or(e,t){var r=t[s2];r===void 0&&(r=t[s2]=new Set);var n=e+"__bubble";r.has(n)||(Q6(t,e,2,!1),r.add(n))}function Kj(e,t,r){var n=0;t&&(n|=4),Q6(r,e,n,t)}var Ny="_reactListening"+Math.random().toString(36).slice(2);function Xg(e){if(!e[Ny]){e[Ny]=!0,s6.forEach(function(r){r!=="selectionchange"&&(mee.has(r)||Kj(r,!1,e),Kj(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ny]||(t[Ny]=!0,Kj("selectionchange",!1,t))}}function Q6(e,t,r,n){switch(I6(t)){case 1:var a=EZ;break;case 4:a=TZ;break;default:a=VT}r=a.bind(null,t,r,e),a=void 0,!GN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Gj(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Dd(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}w6(function(){var u=s,d=$T(r),f=[];e:{var h=X6.get(e);if(h!==void 0){var m=HT,p=e;switch(e){case"keypress":if(Ob(r)===0)break e;case"keydown":case"keyup":m=WZ;break;case"focusin":p="focus",m=Uj;break;case"focusout":p="blur",m=Uj;break;case"beforeblur":case"afterblur":m=Uj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=OD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=PZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=KZ;break;case q6:case K6:case G6:m=IZ;break;case Y6:m=YZ;break;case"scroll":m=AZ;break;case"wheel":m=JZ;break;case"copy":case"cut":case"paste":m=FZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=DD}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var b=u,w;b!==null;){w=b;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=Wg(b,y),_!=null&&g.push(Jg(b,_,w)))),v)break;b=b.return}0<g.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==qN&&(p=r.relatedTarget||r.fromElement)&&(Dd(p)||p[hc]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?Dd(p):null,p!==null&&(v=Lf(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(g=OD,_="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=DD,_="onPointerLeave",y="onPointerEnter",b="pointer"),v=m==null?h:$h(m),w=p==null?h:$h(p),h=new g(_,b+"leave",m,r,d),h.target=v,h.relatedTarget=w,_=null,Dd(d)===u&&(g=new g(y,b+"enter",p,r,d),g.target=w,g.relatedTarget=v,_=g),v=_,m&&p)t:{for(g=m,y=p,b=0,w=g;w;w=rh(w))b++;for(w=0,_=y;_;_=rh(_))w++;for(;0<b-w;)g=rh(g),b--;for(;0<w-b;)y=rh(y),w--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=rh(g),y=rh(y)}g=null}else g=null;m!==null&&WD(f,h,m,g,!1),p!==null&&v!==null&&WD(f,v,p,g,!0)}}e:{if(h=u?$h(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=aee;else if(MD(h))if(U6)S=lee;else{S=iee;var k=see}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=oee);if(S&&(S=S(e,u))){B6(f,S,r,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&UN(h,"number",h.value)}switch(k=u?$h(u):window,e){case"focusin":(MD(k)||k.contentEditable==="true")&&(Fh=k,ZN=u,dg=null);break;case"focusout":dg=ZN=Fh=null;break;case"mousedown":e2=!0;break;case"contextmenu":case"mouseup":case"dragend":e2=!1,UD(f,r,d);break;case"selectionchange":if(dee)break;case"keydown":case"keyup":UD(f,r,d)}var j;if(KT)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Mh?L6(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(F6&&r.locale!=="ko"&&(Mh||N!=="onCompositionStart"?N==="onCompositionEnd"&&Mh&&(j=M6()):(mu=d,WT="value"in mu?mu.value:mu.textContent,Mh=!0)),k=i1(u,N),0<k.length&&(N=new PD(N,e,null,r,d),f.push({event:N,listeners:k}),j?N.data=j:(j=$6(r),j!==null&&(N.data=j)))),(j=ZZ?eee(e,r):tee(e,r))&&(u=i1(u,"onBeforeInput"),0<u.length&&(d=new PD("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}J6(f,t)})}function Jg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function i1(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Wg(e,r),s!=null&&n.unshift(Jg(e,s,a)),s=Wg(e,t),s!=null&&n.push(Jg(e,s,a))),e=e.return}return n}function rh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function WD(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Wg(r,s),c!=null&&i.unshift(Jg(r,c,l))):a||(c=Wg(r,s),c!=null&&i.push(Jg(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var pee=/\r\n?/g,gee=/\u0000|\uFFFD/g;function HD(e){return(typeof e=="string"?e:""+e).replace(pee,`
`).replace(gee,"")}function Cy(e,t,r){if(t=HD(t),HD(e)!==t&&r)throw Error(Ve(425))}function o1(){}var t2=null,r2=null;function n2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var a2=typeof setTimeout=="function"?setTimeout:void 0,vee=typeof clearTimeout=="function"?clearTimeout:void 0,qD=typeof Promise=="function"?Promise:void 0,xee=typeof queueMicrotask=="function"?queueMicrotask:typeof qD<"u"?function(e){return qD.resolve(null).then(e).catch(yee)}:a2;function yee(e){setTimeout(function(){throw e})}function Yj(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Kg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Kg(t)}function Nu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function KD(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Rp=Math.random().toString(36).slice(2),rl="__reactFiber$"+Rp,Qg="__reactProps$"+Rp,hc="__reactContainer$"+Rp,s2="__reactEvents$"+Rp,bee="__reactListeners$"+Rp,wee="__reactHandles$"+Rp;function Dd(e){var t=e[rl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[hc]||r[rl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=KD(e);e!==null;){if(r=e[rl])return r;e=KD(e)}return t}e=r,r=e.parentNode}return null}function xx(e){return e=e[rl]||e[hc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $h(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ve(33))}function __(e){return e[Qg]||null}var i2=[],Bh=-1;function Yu(e){return{current:e}}function Rr(e){0>Bh||(e.current=i2[Bh],i2[Bh]=null,Bh--)}function Nr(e,t){Bh++,i2[Bh]=e.current,e.current=t}var Lu={},Ra=Yu(Lu),Ns=Yu(!1),ff=Lu;function Am(e,t){var r=e.type.contextTypes;if(!r)return Lu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Cs(e){return e=e.childContextTypes,e!=null}function l1(){Rr(Ns),Rr(Ra)}function GD(e,t,r){if(Ra.current!==Lu)throw Error(Ve(168));Nr(Ra,t),Nr(Ns,r)}function Z6(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ve(108,sZ(e)||"Unknown",a));return Kr({},r,n)}function c1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lu,ff=Ra.current,Nr(Ra,e),Nr(Ns,Ns.current),!0}function YD(e,t,r){var n=e.stateNode;if(!n)throw Error(Ve(169));r?(e=Z6(e,t,ff),n.__reactInternalMemoizedMergedChildContext=e,Rr(Ns),Rr(Ra),Nr(Ra,e)):Rr(Ns),Nr(Ns,r)}var Yl=null,S_=!1,Xj=!1;function eB(e){Yl===null?Yl=[e]:Yl.push(e)}function _ee(e){S_=!0,eB(e)}function Xu(){if(!Xj&&Yl!==null){Xj=!0;var e=0,t=gr;try{var r=Yl;for(gr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Yl=null,S_=!1}catch(a){throw Yl!==null&&(Yl=Yl.slice(e+1)),k6(BT,Xu),a}finally{gr=t,Xj=!1}}return null}var Uh=[],zh=0,u1=null,d1=0,Oi=[],Pi=0,hf=null,Zl=1,ec="";function yd(e,t){Uh[zh++]=d1,Uh[zh++]=u1,u1=e,d1=t}function tB(e,t,r){Oi[Pi++]=Zl,Oi[Pi++]=ec,Oi[Pi++]=hf,hf=e;var n=Zl;e=ec;var a=32-ko(n)-1;n&=~(1<<a),r+=1;var s=32-ko(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Zl=1<<32-ko(t)+a|r<<a|n,ec=s+e}else Zl=1<<s|r<<a|n,ec=e}function YT(e){e.return!==null&&(yd(e,1),tB(e,1,0))}function XT(e){for(;e===u1;)u1=Uh[--zh],Uh[zh]=null,d1=Uh[--zh],Uh[zh]=null;for(;e===hf;)hf=Oi[--Pi],Oi[Pi]=null,ec=Oi[--Pi],Oi[Pi]=null,Zl=Oi[--Pi],Oi[Pi]=null}var li=null,ii=null,Lr=!1,xo=null;function rB(e,t){var r=Mi(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function XD(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,li=e,ii=Nu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,li=e,ii=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=hf!==null?{id:Zl,overflow:ec}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Mi(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,li=e,ii=null,!0):!1;default:return!1}}function o2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function l2(e){if(Lr){var t=ii;if(t){var r=t;if(!XD(e,t)){if(o2(e))throw Error(Ve(418));t=Nu(r.nextSibling);var n=li;t&&XD(e,t)?rB(n,r):(e.flags=e.flags&-4097|2,Lr=!1,li=e)}}else{if(o2(e))throw Error(Ve(418));e.flags=e.flags&-4097|2,Lr=!1,li=e}}}function JD(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;li=e}function Ey(e){if(e!==li)return!1;if(!Lr)return JD(e),Lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!n2(e.type,e.memoizedProps)),t&&(t=ii)){if(o2(e))throw nB(),Error(Ve(418));for(;t;)rB(e,t),t=Nu(t.nextSibling)}if(JD(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ii=Nu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ii=null}}else ii=li?Nu(e.stateNode.nextSibling):null;return!0}function nB(){for(var e=ii;e;)e=Nu(e.nextSibling)}function Om(){ii=li=null,Lr=!1}function JT(e){xo===null?xo=[e]:xo.push(e)}var See=Ec.ReactCurrentBatchConfig;function S0(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ve(309));var n=r.stateNode}if(!n)throw Error(Ve(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ve(284));if(!r._owner)throw Error(Ve(290,e))}return e}function Ty(e,t){throw e=Object.prototype.toString.call(t),Error(Ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function QD(e){var t=e._init;return t(e._payload)}function aB(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=Au(y,b),y.index=0,y.sibling=null,y}function s(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,w,_){return b===null||b.tag!==6?(b=nk(w,y.mode,_),b.return=y,b):(b=a(b,w),b.return=y,b)}function c(y,b,w,_){var S=w.type;return S===Ih?d(y,b,w.props.children,_,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Hc&&QD(S)===b.type)?(_=a(b,w.props),_.ref=S0(y,b,w),_.return=y,_):(_=Lb(w.type,w.key,w.props,null,y.mode,_),_.ref=S0(y,b,w),_.return=y,_)}function u(y,b,w,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=ak(w,y.mode,_),b.return=y,b):(b=a(b,w.children||[]),b.return=y,b)}function d(y,b,w,_,S){return b===null||b.tag!==7?(b=rf(w,y.mode,_,S),b.return=y,b):(b=a(b,w),b.return=y,b)}function f(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=nk(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xy:return w=Lb(b.type,b.key,b.props,null,y.mode,w),w.ref=S0(y,null,b),w.return=y,w;case Rh:return b=ak(b,y.mode,w),b.return=y,b;case Hc:var _=b._init;return f(y,_(b._payload),w)}if(G0(b)||x0(b))return b=rf(b,y.mode,w,null),b.return=y,b;Ty(y,b)}return null}function h(y,b,w,_){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(y,b,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xy:return w.key===S?c(y,b,w,_):null;case Rh:return w.key===S?u(y,b,w,_):null;case Hc:return S=w._init,h(y,b,S(w._payload),_)}if(G0(w)||x0(w))return S!==null?null:d(y,b,w,_,null);Ty(y,w)}return null}function m(y,b,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,l(b,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case xy:return y=y.get(_.key===null?w:_.key)||null,c(b,y,_,S);case Rh:return y=y.get(_.key===null?w:_.key)||null,u(b,y,_,S);case Hc:var k=_._init;return m(y,b,w,k(_._payload),S)}if(G0(_)||x0(_))return y=y.get(w)||null,d(b,y,_,S,null);Ty(b,_)}return null}function p(y,b,w,_){for(var S=null,k=null,j=b,N=b=0,C=null;j!==null&&N<w.length;N++){j.index>N?(C=j,j=null):C=j.sibling;var T=h(y,j,w[N],_);if(T===null){j===null&&(j=C);break}e&&j&&T.alternate===null&&t(y,j),b=s(T,b,N),k===null?S=T:k.sibling=T,k=T,j=C}if(N===w.length)return r(y,j),Lr&&yd(y,N),S;if(j===null){for(;N<w.length;N++)j=f(y,w[N],_),j!==null&&(b=s(j,b,N),k===null?S=j:k.sibling=j,k=j);return Lr&&yd(y,N),S}for(j=n(y,j);N<w.length;N++)C=m(j,y,N,w[N],_),C!==null&&(e&&C.alternate!==null&&j.delete(C.key===null?N:C.key),b=s(C,b,N),k===null?S=C:k.sibling=C,k=C);return e&&j.forEach(function(D){return t(y,D)}),Lr&&yd(y,N),S}function g(y,b,w,_){var S=x0(w);if(typeof S!="function")throw Error(Ve(150));if(w=S.call(w),w==null)throw Error(Ve(151));for(var k=S=null,j=b,N=b=0,C=null,T=w.next();j!==null&&!T.done;N++,T=w.next()){j.index>N?(C=j,j=null):C=j.sibling;var D=h(y,j,T.value,_);if(D===null){j===null&&(j=C);break}e&&j&&D.alternate===null&&t(y,j),b=s(D,b,N),k===null?S=D:k.sibling=D,k=D,j=C}if(T.done)return r(y,j),Lr&&yd(y,N),S;if(j===null){for(;!T.done;N++,T=w.next())T=f(y,T.value,_),T!==null&&(b=s(T,b,N),k===null?S=T:k.sibling=T,k=T);return Lr&&yd(y,N),S}for(j=n(y,j);!T.done;N++,T=w.next())T=m(j,y,N,T.value,_),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?N:T.key),b=s(T,b,N),k===null?S=T:k.sibling=T,k=T);return e&&j.forEach(function(A){return t(y,A)}),Lr&&yd(y,N),S}function v(y,b,w,_){if(typeof w=="object"&&w!==null&&w.type===Ih&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case xy:e:{for(var S=w.key,k=b;k!==null;){if(k.key===S){if(S=w.type,S===Ih){if(k.tag===7){r(y,k.sibling),b=a(k,w.props.children),b.return=y,y=b;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Hc&&QD(S)===k.type){r(y,k.sibling),b=a(k,w.props),b.ref=S0(y,k,w),b.return=y,y=b;break e}r(y,k);break}else t(y,k);k=k.sibling}w.type===Ih?(b=rf(w.props.children,y.mode,_,w.key),b.return=y,y=b):(_=Lb(w.type,w.key,w.props,null,y.mode,_),_.ref=S0(y,b,w),_.return=y,y=_)}return i(y);case Rh:e:{for(k=w.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(y,b.sibling),b=a(b,w.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=ak(w,y.mode,_),b.return=y,y=b}return i(y);case Hc:return k=w._init,v(y,b,k(w._payload),_)}if(G0(w))return p(y,b,w,_);if(x0(w))return g(y,b,w,_);Ty(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,w),b.return=y,y=b):(r(y,b),b=nk(w,y.mode,_),b.return=y,y=b),i(y)):r(y,b)}return v}var Pm=aB(!0),sB=aB(!1),f1=Yu(null),h1=null,Vh=null,QT=null;function ZT(){QT=Vh=h1=null}function eA(e){var t=f1.current;Rr(f1),e._currentValue=t}function c2(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function rm(e,t){h1=e,QT=Vh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ss=!0),e.firstContext=null)}function Bi(e){var t=e._currentValue;if(QT!==e)if(e={context:e,memoizedValue:t,next:null},Vh===null){if(h1===null)throw Error(Ve(308));Vh=e,h1.dependencies={lanes:0,firstContext:e}}else Vh=Vh.next=e;return t}var Rd=null;function tA(e){Rd===null?Rd=[e]:Rd.push(e)}function iB(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,tA(t)):(r.next=a.next,a.next=r),t.interleaved=r,mc(e,n)}function mc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var qc=!1;function rA(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oB(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Jt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,mc(e,r)}return a=n.interleaved,a===null?(t.next=t,tA(n)):(t.next=a.next,a.next=t),n.interleaved=t,mc(e,r)}function Pb(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,UT(e,r)}}function ZD(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function m1(e,t,r,n){var a=e.updateQueue;qc=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(h=t,m=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Kr({},f,h);break e;case 2:qc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);pf|=i,e.lanes=i,e.memoizedState=f}}function eR(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ve(191,a));a.call(n)}}}var yx={},fl=Yu(yx),Zg=Yu(yx),ev=Yu(yx);function Id(e){if(e===yx)throw Error(Ve(174));return e}function nA(e,t){switch(Nr(ev,t),Nr(Zg,e),Nr(fl,yx),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:VN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=VN(t,e)}Rr(fl),Nr(fl,t)}function Dm(){Rr(fl),Rr(Zg),Rr(ev)}function lB(e){Id(ev.current);var t=Id(fl.current),r=VN(t,e.type);t!==r&&(Nr(Zg,e),Nr(fl,r))}function aA(e){Zg.current===e&&(Rr(fl),Rr(Zg))}var zr=Yu(0);function p1(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jj=[];function sA(){for(var e=0;e<Jj.length;e++)Jj[e]._workInProgressVersionPrimary=null;Jj.length=0}var Db=Ec.ReactCurrentDispatcher,Qj=Ec.ReactCurrentBatchConfig,mf=0,qr=null,Dn=null,Hn=null,g1=!1,fg=!1,tv=0,jee=0;function ma(){throw Error(Ve(321))}function iA(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ao(e[r],t[r]))return!1;return!0}function oA(e,t,r,n,a,s){if(mf=s,qr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Db.current=e===null||e.memoizedState===null?Eee:Tee,e=r(n,a),fg){s=0;do{if(fg=!1,tv=0,25<=s)throw Error(Ve(301));s+=1,Hn=Dn=null,t.updateQueue=null,Db.current=Aee,e=r(n,a)}while(fg)}if(Db.current=v1,t=Dn!==null&&Dn.next!==null,mf=0,Hn=Dn=qr=null,g1=!1,t)throw Error(Ve(300));return e}function lA(){var e=tv!==0;return tv=0,e}function Jo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?qr.memoizedState=Hn=e:Hn=Hn.next=e,Hn}function Ui(){if(Dn===null){var e=qr.alternate;e=e!==null?e.memoizedState:null}else e=Dn.next;var t=Hn===null?qr.memoizedState:Hn.next;if(t!==null)Hn=t,Dn=e;else{if(e===null)throw Error(Ve(310));Dn=e,e={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Hn===null?qr.memoizedState=Hn=e:Hn=Hn.next=e}return Hn}function rv(e,t){return typeof t=="function"?t(e):t}function Zj(e){var t=Ui(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=Dn,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((mf&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,qr.lanes|=d,pf|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,Ao(n,t.memoizedState)||(Ss=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,qr.lanes|=s,pf|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ek(e){var t=Ui(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);Ao(s,t.memoizedState)||(Ss=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function cB(){}function uB(e,t){var r=qr,n=Ui(),a=t(),s=!Ao(n.memoizedState,a);if(s&&(n.memoizedState=a,Ss=!0),n=n.queue,cA(hB.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Hn!==null&&Hn.memoizedState.tag&1){if(r.flags|=2048,nv(9,fB.bind(null,r,n,a,t),void 0,null),Gn===null)throw Error(Ve(349));mf&30||dB(r,t,a)}return a}function dB(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=qr.updateQueue,t===null?(t={lastEffect:null,stores:null},qr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function fB(e,t,r,n){t.value=r,t.getSnapshot=n,mB(t)&&pB(e)}function hB(e,t,r){return r(function(){mB(t)&&pB(e)})}function mB(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ao(e,r)}catch{return!0}}function pB(e){var t=mc(e,1);t!==null&&No(t,e,1,-1)}function tR(e){var t=Jo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rv,lastRenderedState:e},t.queue=e,e=e.dispatch=Cee.bind(null,qr,e),[t.memoizedState,e]}function nv(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=qr.updateQueue,t===null?(t={lastEffect:null,stores:null},qr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function gB(){return Ui().memoizedState}function Rb(e,t,r,n){var a=Jo();qr.flags|=e,a.memoizedState=nv(1|t,r,void 0,n===void 0?null:n)}function j_(e,t,r,n){var a=Ui();n=n===void 0?null:n;var s=void 0;if(Dn!==null){var i=Dn.memoizedState;if(s=i.destroy,n!==null&&iA(n,i.deps)){a.memoizedState=nv(t,r,s,n);return}}qr.flags|=e,a.memoizedState=nv(1|t,r,s,n)}function rR(e,t){return Rb(8390656,8,e,t)}function cA(e,t){return j_(2048,8,e,t)}function vB(e,t){return j_(4,2,e,t)}function xB(e,t){return j_(4,4,e,t)}function yB(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bB(e,t,r){return r=r!=null?r.concat([e]):null,j_(4,4,yB.bind(null,t,e),r)}function uA(){}function wB(e,t){var r=Ui();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&iA(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function _B(e,t){var r=Ui();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&iA(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function SB(e,t,r){return mf&21?(Ao(r,t)||(r=E6(),qr.lanes|=r,pf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ss=!0),e.memoizedState=r)}function kee(e,t){var r=gr;gr=r!==0&&4>r?r:4,e(!0);var n=Qj.transition;Qj.transition={};try{e(!1),t()}finally{gr=r,Qj.transition=n}}function jB(){return Ui().memoizedState}function Nee(e,t,r){var n=Tu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},kB(e))NB(t,r);else if(r=iB(e,t,r,n),r!==null){var a=cs();No(r,e,n,a),CB(r,t,n)}}function Cee(e,t,r){var n=Tu(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(kB(e))NB(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,Ao(l,i)){var c=t.interleaved;c===null?(a.next=a,tA(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=iB(e,t,a,n),r!==null&&(a=cs(),No(r,e,n,a),CB(r,t,n))}}function kB(e){var t=e.alternate;return e===qr||t!==null&&t===qr}function NB(e,t){fg=g1=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function CB(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,UT(e,r)}}var v1={readContext:Bi,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useInsertionEffect:ma,useLayoutEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useMutableSource:ma,useSyncExternalStore:ma,useId:ma,unstable_isNewReconciler:!1},Eee={readContext:Bi,useCallback:function(e,t){return Jo().memoizedState=[e,t===void 0?null:t],e},useContext:Bi,useEffect:rR,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Rb(4194308,4,yB.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Rb(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rb(4,2,e,t)},useMemo:function(e,t){var r=Jo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Jo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Nee.bind(null,qr,e),[n.memoizedState,e]},useRef:function(e){var t=Jo();return e={current:e},t.memoizedState=e},useState:tR,useDebugValue:uA,useDeferredValue:function(e){return Jo().memoizedState=e},useTransition:function(){var e=tR(!1),t=e[0];return e=kee.bind(null,e[1]),Jo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=qr,a=Jo();if(Lr){if(r===void 0)throw Error(Ve(407));r=r()}else{if(r=t(),Gn===null)throw Error(Ve(349));mf&30||dB(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,rR(hB.bind(null,n,s,e),[e]),n.flags|=2048,nv(9,fB.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Jo(),t=Gn.identifierPrefix;if(Lr){var r=ec,n=Zl;r=(n&~(1<<32-ko(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=tv++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=jee++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Tee={readContext:Bi,useCallback:wB,useContext:Bi,useEffect:cA,useImperativeHandle:bB,useInsertionEffect:vB,useLayoutEffect:xB,useMemo:_B,useReducer:Zj,useRef:gB,useState:function(){return Zj(rv)},useDebugValue:uA,useDeferredValue:function(e){var t=Ui();return SB(t,Dn.memoizedState,e)},useTransition:function(){var e=Zj(rv)[0],t=Ui().memoizedState;return[e,t]},useMutableSource:cB,useSyncExternalStore:uB,useId:jB,unstable_isNewReconciler:!1},Aee={readContext:Bi,useCallback:wB,useContext:Bi,useEffect:cA,useImperativeHandle:bB,useInsertionEffect:vB,useLayoutEffect:xB,useMemo:_B,useReducer:ek,useRef:gB,useState:function(){return ek(rv)},useDebugValue:uA,useDeferredValue:function(e){var t=Ui();return Dn===null?t.memoizedState=e:SB(t,Dn.memoizedState,e)},useTransition:function(){var e=ek(rv)[0],t=Ui().memoizedState;return[e,t]},useMutableSource:cB,useSyncExternalStore:uB,useId:jB,unstable_isNewReconciler:!1};function io(e,t){if(e&&e.defaultProps){t=Kr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function u2(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Kr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var k_={isMounted:function(e){return(e=e._reactInternals)?Lf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=cs(),a=Tu(e),s=sc(n,a);s.payload=t,r!=null&&(s.callback=r),t=Cu(e,s,a),t!==null&&(No(t,e,a,n),Pb(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=cs(),a=Tu(e),s=sc(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Cu(e,s,a),t!==null&&(No(t,e,a,n),Pb(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=cs(),n=Tu(e),a=sc(r,n);a.tag=2,t!=null&&(a.callback=t),t=Cu(e,a,n),t!==null&&(No(t,e,n,r),Pb(t,e,n))}};function nR(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!Yg(r,n)||!Yg(a,s):!0}function EB(e,t,r){var n=!1,a=Lu,s=t.contextType;return typeof s=="object"&&s!==null?s=Bi(s):(a=Cs(t)?ff:Ra.current,n=t.contextTypes,s=(n=n!=null)?Am(e,a):Lu),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=k_,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function aR(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&k_.enqueueReplaceState(t,t.state,null)}function d2(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},rA(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Bi(s):(s=Cs(t)?ff:Ra.current,a.context=Am(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(u2(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&k_.enqueueReplaceState(a,a.state,null),m1(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Rm(e,t){try{var r="",n=t;do r+=aZ(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function tk(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function f2(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Oee=typeof WeakMap=="function"?WeakMap:Map;function TB(e,t,r){r=sc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){y1||(y1=!0,_2=n),f2(e,t)},r}function AB(e,t,r){r=sc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){f2(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){f2(e,t),typeof n!="function"&&(Eu===null?Eu=new Set([this]):Eu.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function sR(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Oee;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Hee.bind(null,e,t,r),t.then(e,e))}function iR(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function oR(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=sc(-1,1),t.tag=2,Cu(r,t,1))),r.lanes|=1),e)}var Pee=Ec.ReactCurrentOwner,Ss=!1;function Ga(e,t,r,n){t.child=e===null?sB(t,null,r,n):Pm(t,e.child,r,n)}function lR(e,t,r,n,a){r=r.render;var s=t.ref;return rm(t,a),n=oA(e,t,r,n,s,a),r=lA(),e!==null&&!Ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,pc(e,t,a)):(Lr&&r&&YT(t),t.flags|=1,Ga(e,t,n,a),t.child)}function cR(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!xA(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,OB(e,t,s,n,a)):(e=Lb(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Yg,r(i,n)&&e.ref===t.ref)return pc(e,t,a)}return t.flags|=1,e=Au(s,n),e.ref=t.ref,e.return=t,t.child=e}function OB(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Yg(s,n)&&e.ref===t.ref)if(Ss=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Ss=!0);else return t.lanes=e.lanes,pc(e,t,a)}return h2(e,t,r,n,a)}function PB(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(Hh,Ys),Ys|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nr(Hh,Ys),Ys|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Nr(Hh,Ys),Ys|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Nr(Hh,Ys),Ys|=n;return Ga(e,t,a,r),t.child}function DB(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function h2(e,t,r,n,a){var s=Cs(r)?ff:Ra.current;return s=Am(t,s),rm(t,a),r=oA(e,t,r,n,s,a),n=lA(),e!==null&&!Ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,pc(e,t,a)):(Lr&&n&&YT(t),t.flags|=1,Ga(e,t,r,a),t.child)}function uR(e,t,r,n,a){if(Cs(r)){var s=!0;c1(t)}else s=!1;if(rm(t,a),t.stateNode===null)Ib(e,t),EB(t,r,n),d2(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Bi(u):(u=Cs(r)?ff:Ra.current,u=Am(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&aR(t,i,n,u),qc=!1;var h=t.memoizedState;i.state=h,m1(t,n,i,a),c=t.memoizedState,l!==n||h!==c||Ns.current||qc?(typeof d=="function"&&(u2(t,r,d,n),c=t.memoizedState),(l=qc||nR(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,oB(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:io(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Bi(c):(c=Cs(r)?ff:Ra.current,c=Am(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&aR(t,i,n,c),qc=!1,h=t.memoizedState,i.state=h,m1(t,n,i,a);var p=t.memoizedState;l!==f||h!==p||Ns.current||qc?(typeof m=="function"&&(u2(t,r,m,n),p=t.memoizedState),(u=qc||nR(t,r,u,n,h,p,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,p,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,p,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return m2(e,t,r,n,s,a)}function m2(e,t,r,n,a,s){DB(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&YD(t,r,!1),pc(e,t,s);n=t.stateNode,Pee.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Pm(t,e.child,null,s),t.child=Pm(t,null,l,s)):Ga(e,t,l,s),t.memoizedState=n.state,a&&YD(t,r,!0),t.child}function RB(e){var t=e.stateNode;t.pendingContext?GD(e,t.pendingContext,t.pendingContext!==t.context):t.context&&GD(e,t.context,!1),nA(e,t.containerInfo)}function dR(e,t,r,n,a){return Om(),JT(a),t.flags|=256,Ga(e,t,r,n),t.child}var p2={dehydrated:null,treeContext:null,retryLane:0};function g2(e){return{baseLanes:e,cachePool:null,transitions:null}}function IB(e,t,r){var n=t.pendingProps,a=zr.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Nr(zr,a&1),e===null)return l2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=E_(i,n,0,null),e=rf(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=g2(r),t.memoizedState=p2,e):dA(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Dee(e,t,i,n,l,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Au(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Au(l,s):(s=rf(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?g2(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=p2,n}return s=e.child,e=s.sibling,n=Au(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function dA(e,t){return t=E_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ay(e,t,r,n){return n!==null&&JT(n),Pm(t,e.child,null,r),e=dA(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dee(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=tk(Error(Ve(422))),Ay(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=E_({mode:"visible",children:n.children},a,0,null),s=rf(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Pm(t,e.child,null,i),t.child.memoizedState=g2(i),t.memoizedState=p2,s);if(!(t.mode&1))return Ay(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Ve(419)),n=tk(s,n,void 0),Ay(e,t,i,n)}if(l=(i&e.childLanes)!==0,Ss||l){if(n=Gn,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,mc(e,a),No(n,e,a,-1))}return vA(),n=tk(Error(Ve(421))),Ay(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=qee.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ii=Nu(a.nextSibling),li=t,Lr=!0,xo=null,e!==null&&(Oi[Pi++]=Zl,Oi[Pi++]=ec,Oi[Pi++]=hf,Zl=e.id,ec=e.overflow,hf=t),t=dA(t,n.children),t.flags|=4096,t)}function fR(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),c2(e.return,t,r)}function rk(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function MB(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Ga(e,t,n.children,r),n=zr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fR(e,r,t);else if(e.tag===19)fR(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Nr(zr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&p1(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),rk(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&p1(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}rk(t,!0,r,null,s);break;case"together":rk(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ib(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),pf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ve(153));if(t.child!==null){for(e=t.child,r=Au(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Au(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ree(e,t,r){switch(t.tag){case 3:RB(t),Om();break;case 5:lB(t);break;case 1:Cs(t.type)&&c1(t);break;case 4:nA(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Nr(f1,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Nr(zr,zr.current&1),t.flags|=128,null):r&t.child.childLanes?IB(e,t,r):(Nr(zr,zr.current&1),e=pc(e,t,r),e!==null?e.sibling:null);Nr(zr,zr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return MB(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Nr(zr,zr.current),n)break;return null;case 22:case 23:return t.lanes=0,PB(e,t,r)}return pc(e,t,r)}var FB,v2,LB,$B;FB=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};v2=function(){};LB=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Id(fl.current);var s=null;switch(r){case"input":a=$N(e,a),n=$N(e,n),s=[];break;case"select":a=Kr({},a,{value:void 0}),n=Kr({},n,{value:void 0}),s=[];break;case"textarea":a=zN(e,a),n=zN(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=o1)}WN(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zg.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zg.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Or("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};$B=function(e,t,r,n){r!==n&&(t.flags|=4)};function j0(e,t){if(!Lr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pa(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Iee(e,t,r){var n=t.pendingProps;switch(XT(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pa(t),null;case 1:return Cs(t.type)&&l1(),pa(t),null;case 3:return n=t.stateNode,Dm(),Rr(Ns),Rr(Ra),sA(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ey(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xo!==null&&(k2(xo),xo=null))),v2(e,t),pa(t),null;case 5:aA(t);var a=Id(ev.current);if(r=t.type,e!==null&&t.stateNode!=null)LB(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ve(166));return pa(t),null}if(e=Id(fl.current),Ey(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[rl]=t,n[Qg]=s,e=(t.mode&1)!==0,r){case"dialog":Or("cancel",n),Or("close",n);break;case"iframe":case"object":case"embed":Or("load",n);break;case"video":case"audio":for(a=0;a<X0.length;a++)Or(X0[a],n);break;case"source":Or("error",n);break;case"img":case"image":case"link":Or("error",n),Or("load",n);break;case"details":Or("toggle",n);break;case"input":wD(n,s),Or("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Or("invalid",n);break;case"textarea":SD(n,s),Or("invalid",n)}WN(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Cy(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Cy(n.textContent,l,e),a=["children",""+l]):zg.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Or("scroll",n)}switch(r){case"input":yy(n),_D(n,s,!0);break;case"textarea":yy(n),jD(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=o1)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=h6(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[rl]=t,e[Qg]=n,FB(e,t,!1,!1),t.stateNode=e;e:{switch(i=HN(r,n),r){case"dialog":Or("cancel",e),Or("close",e),a=n;break;case"iframe":case"object":case"embed":Or("load",e),a=n;break;case"video":case"audio":for(a=0;a<X0.length;a++)Or(X0[a],e);a=n;break;case"source":Or("error",e),a=n;break;case"img":case"image":case"link":Or("error",e),Or("load",e),a=n;break;case"details":Or("toggle",e),a=n;break;case"input":wD(e,n),a=$N(e,n),Or("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Kr({},n,{value:void 0}),Or("invalid",e);break;case"textarea":SD(e,n),a=zN(e,n),Or("invalid",e);break;default:a=n}WN(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?g6(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&m6(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Vg(e,c):typeof c=="number"&&Vg(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zg.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Or("scroll",e):c!=null&&IT(e,s,c,i))}switch(r){case"input":yy(e),_D(e,n,!1);break;case"textarea":yy(e),jD(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Fu(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Qh(e,!!n.multiple,s,!1):n.defaultValue!=null&&Qh(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=o1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pa(t),null;case 6:if(e&&t.stateNode!=null)$B(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ve(166));if(r=Id(ev.current),Id(fl.current),Ey(t)){if(n=t.stateNode,r=t.memoizedProps,n[rl]=t,(s=n.nodeValue!==r)&&(e=li,e!==null))switch(e.tag){case 3:Cy(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cy(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[rl]=t,t.stateNode=n}return pa(t),null;case 13:if(Rr(zr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Lr&&ii!==null&&t.mode&1&&!(t.flags&128))nB(),Om(),t.flags|=98560,s=!1;else if(s=Ey(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Ve(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ve(317));s[rl]=t}else Om(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pa(t),s=!1}else xo!==null&&(k2(xo),xo=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||zr.current&1?Mn===0&&(Mn=3):vA())),t.updateQueue!==null&&(t.flags|=4),pa(t),null);case 4:return Dm(),v2(e,t),e===null&&Xg(t.stateNode.containerInfo),pa(t),null;case 10:return eA(t.type._context),pa(t),null;case 17:return Cs(t.type)&&l1(),pa(t),null;case 19:if(Rr(zr),s=t.memoizedState,s===null)return pa(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)j0(s,!1);else{if(Mn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=p1(e),i!==null){for(t.flags|=128,j0(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Nr(zr,zr.current&1|2),t.child}e=e.sibling}s.tail!==null&&nn()>Im&&(t.flags|=128,n=!0,j0(s,!1),t.lanes=4194304)}else{if(!n)if(e=p1(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),j0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Lr)return pa(t),null}else 2*nn()-s.renderingStartTime>Im&&r!==1073741824&&(t.flags|=128,n=!0,j0(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=nn(),t.sibling=null,r=zr.current,Nr(zr,n?r&1|2:r&1),t):(pa(t),null);case 22:case 23:return gA(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ys&1073741824&&(pa(t),t.subtreeFlags&6&&(t.flags|=8192)):pa(t),null;case 24:return null;case 25:return null}throw Error(Ve(156,t.tag))}function Mee(e,t){switch(XT(t),t.tag){case 1:return Cs(t.type)&&l1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dm(),Rr(Ns),Rr(Ra),sA(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return aA(t),null;case 13:if(Rr(zr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ve(340));Om()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Rr(zr),null;case 4:return Dm(),null;case 10:return eA(t.type._context),null;case 22:case 23:return gA(),null;case 24:return null;default:return null}}var Oy=!1,Ca=!1,Fee=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Wh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Jr(e,t,n)}else r.current=null}function x2(e,t,r){try{r()}catch(n){Jr(e,t,n)}}var hR=!1;function Lee(e,t){if(t2=a1,e=W6(),GT(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=i),h===s&&++d===n&&(c=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(r2={focusedElem:e,selectionRange:r},a1=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){t=tt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:io(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(_){Jr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}return p=hR,hR=!1,p}function hg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&x2(t,r,s)}a=a.next}while(a!==n)}}function N_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function y2(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function BB(e){var t=e.alternate;t!==null&&(e.alternate=null,BB(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rl],delete t[Qg],delete t[s2],delete t[bee],delete t[wee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function UB(e){return e.tag===5||e.tag===3||e.tag===4}function mR(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||UB(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function b2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=o1));else if(n!==4&&(e=e.child,e!==null))for(b2(e,t,r),e=e.sibling;e!==null;)b2(e,t,r),e=e.sibling}function w2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(w2(e,t,r),e=e.sibling;e!==null;)w2(e,t,r),e=e.sibling}var ta=null,fo=!1;function Mc(e,t,r){for(r=r.child;r!==null;)zB(e,t,r),r=r.sibling}function zB(e,t,r){if(dl&&typeof dl.onCommitFiberUnmount=="function")try{dl.onCommitFiberUnmount(x_,r)}catch{}switch(r.tag){case 5:Ca||Wh(r,t);case 6:var n=ta,a=fo;ta=null,Mc(e,t,r),ta=n,fo=a,ta!==null&&(fo?(e=ta,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ta.removeChild(r.stateNode));break;case 18:ta!==null&&(fo?(e=ta,r=r.stateNode,e.nodeType===8?Yj(e.parentNode,r):e.nodeType===1&&Yj(e,r),Kg(e)):Yj(ta,r.stateNode));break;case 4:n=ta,a=fo,ta=r.stateNode.containerInfo,fo=!0,Mc(e,t,r),ta=n,fo=a;break;case 0:case 11:case 14:case 15:if(!Ca&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&x2(r,t,i),a=a.next}while(a!==n)}Mc(e,t,r);break;case 1:if(!Ca&&(Wh(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Jr(r,t,l)}Mc(e,t,r);break;case 21:Mc(e,t,r);break;case 22:r.mode&1?(Ca=(n=Ca)||r.memoizedState!==null,Mc(e,t,r),Ca=n):Mc(e,t,r);break;default:Mc(e,t,r)}}function pR(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Fee),t.forEach(function(n){var a=Kee.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Qi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:ta=l.stateNode,fo=!1;break e;case 3:ta=l.stateNode.containerInfo,fo=!0;break e;case 4:ta=l.stateNode.containerInfo,fo=!0;break e}l=l.return}if(ta===null)throw Error(Ve(160));zB(s,i,a),ta=null,fo=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Jr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)VB(t,e),t=t.sibling}function VB(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qi(t,e),Wo(e),n&4){try{hg(3,e,e.return),N_(3,e)}catch(g){Jr(e,e.return,g)}try{hg(5,e,e.return)}catch(g){Jr(e,e.return,g)}}break;case 1:Qi(t,e),Wo(e),n&512&&r!==null&&Wh(r,r.return);break;case 5:if(Qi(t,e),Wo(e),n&512&&r!==null&&Wh(r,r.return),e.flags&32){var a=e.stateNode;try{Vg(a,"")}catch(g){Jr(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&d6(a,s),HN(l,i);var u=HN(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?g6(a,f):d==="dangerouslySetInnerHTML"?m6(a,f):d==="children"?Vg(a,f):IT(a,d,f,u)}switch(l){case"input":BN(a,s);break;case"textarea":f6(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Qh(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Qh(a,!!s.multiple,s.defaultValue,!0):Qh(a,!!s.multiple,s.multiple?[]:"",!1))}a[Qg]=s}catch(g){Jr(e,e.return,g)}}break;case 6:if(Qi(t,e),Wo(e),n&4){if(e.stateNode===null)throw Error(Ve(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){Jr(e,e.return,g)}}break;case 3:if(Qi(t,e),Wo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Kg(t.containerInfo)}catch(g){Jr(e,e.return,g)}break;case 4:Qi(t,e),Wo(e);break;case 13:Qi(t,e),Wo(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(mA=nn())),n&4&&pR(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ca=(u=Ca)||d,Qi(t,e),Ca=u):Qi(t,e),Wo(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(tt=e,d=e.child;d!==null;){for(f=tt=d;tt!==null;){switch(h=tt,m=h.child,h.tag){case 0:case 11:case 14:case 15:hg(4,h,h.return);break;case 1:Wh(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Jr(n,r,g)}}break;case 5:Wh(h,h.return);break;case 22:if(h.memoizedState!==null){vR(f);continue}}m!==null?(m.return=h,tt=m):vR(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=p6("display",i))}catch(g){Jr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Jr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qi(t,e),Wo(e),n&4&&pR(e);break;case 21:break;default:Qi(t,e),Wo(e)}}function Wo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(UB(r)){var n=r;break e}r=r.return}throw Error(Ve(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Vg(a,""),n.flags&=-33);var s=mR(e);w2(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=mR(e);b2(e,l,i);break;default:throw Error(Ve(161))}}catch(c){Jr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $ee(e,t,r){tt=e,WB(e)}function WB(e,t,r){for(var n=(e.mode&1)!==0;tt!==null;){var a=tt,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Oy;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ca;l=Oy;var u=Ca;if(Oy=i,(Ca=c)&&!u)for(tt=a;tt!==null;)i=tt,c=i.child,i.tag===22&&i.memoizedState!==null?xR(a):c!==null?(c.return=i,tt=c):xR(a);for(;s!==null;)tt=s,WB(s),s=s.sibling;tt=a,Oy=l,Ca=u}gR(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,tt=s):gR(e)}}function gR(e){for(;tt!==null;){var t=tt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ca||N_(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ca)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:io(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&eR(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}eR(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Kg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}Ca||t.flags&512&&y2(t)}catch(h){Jr(t,t.return,h)}}if(t===e){tt=null;break}if(r=t.sibling,r!==null){r.return=t.return,tt=r;break}tt=t.return}}function vR(e){for(;tt!==null;){var t=tt;if(t===e){tt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,tt=r;break}tt=t.return}}function xR(e){for(;tt!==null;){var t=tt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{N_(4,t)}catch(c){Jr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Jr(t,a,c)}}var s=t.return;try{y2(t)}catch(c){Jr(t,s,c)}break;case 5:var i=t.return;try{y2(t)}catch(c){Jr(t,i,c)}}}catch(c){Jr(t,t.return,c)}if(t===e){tt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,tt=l;break}tt=t.return}}var Bee=Math.ceil,x1=Ec.ReactCurrentDispatcher,fA=Ec.ReactCurrentOwner,Li=Ec.ReactCurrentBatchConfig,Jt=0,Gn=null,bn=null,aa=0,Ys=0,Hh=Yu(0),Mn=0,av=null,pf=0,C_=0,hA=0,mg=null,_s=null,mA=0,Im=1/0,ql=null,y1=!1,_2=null,Eu=null,Py=!1,pu=null,b1=0,pg=0,S2=null,Mb=-1,Fb=0;function cs(){return Jt&6?nn():Mb!==-1?Mb:Mb=nn()}function Tu(e){return e.mode&1?Jt&2&&aa!==0?aa&-aa:See.transition!==null?(Fb===0&&(Fb=E6()),Fb):(e=gr,e!==0||(e=window.event,e=e===void 0?16:I6(e.type)),e):1}function No(e,t,r,n){if(50<pg)throw pg=0,S2=null,Error(Ve(185));gx(e,r,n),(!(Jt&2)||e!==Gn)&&(e===Gn&&(!(Jt&2)&&(C_|=r),Mn===4&&Qc(e,aa)),Es(e,n),r===1&&Jt===0&&!(t.mode&1)&&(Im=nn()+500,S_&&Xu()))}function Es(e,t){var r=e.callbackNode;SZ(e,t);var n=n1(e,e===Gn?aa:0);if(n===0)r!==null&&CD(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&CD(r),t===1)e.tag===0?_ee(yR.bind(null,e)):eB(yR.bind(null,e)),xee(function(){!(Jt&6)&&Xu()}),r=null;else{switch(T6(n)){case 1:r=BT;break;case 4:r=N6;break;case 16:r=r1;break;case 536870912:r=C6;break;default:r=r1}r=QB(r,HB.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function HB(e,t){if(Mb=-1,Fb=0,Jt&6)throw Error(Ve(327));var r=e.callbackNode;if(nm()&&e.callbackNode!==r)return null;var n=n1(e,e===Gn?aa:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=w1(e,n);else{t=n;var a=Jt;Jt|=2;var s=KB();(Gn!==e||aa!==t)&&(ql=null,Im=nn()+500,tf(e,t));do try{Vee();break}catch(l){qB(e,l)}while(!0);ZT(),x1.current=s,Jt=a,bn!==null?t=0:(Gn=null,aa=0,t=Mn)}if(t!==0){if(t===2&&(a=XN(e),a!==0&&(n=a,t=j2(e,a))),t===1)throw r=av,tf(e,0),Qc(e,n),Es(e,nn()),r;if(t===6)Qc(e,n);else{if(a=e.current.alternate,!(n&30)&&!Uee(a)&&(t=w1(e,n),t===2&&(s=XN(e),s!==0&&(n=s,t=j2(e,s))),t===1))throw r=av,tf(e,0),Qc(e,n),Es(e,nn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ve(345));case 2:bd(e,_s,ql);break;case 3:if(Qc(e,n),(n&130023424)===n&&(t=mA+500-nn(),10<t)){if(n1(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){cs(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=a2(bd.bind(null,e,_s,ql),t);break}bd(e,_s,ql);break;case 4:if(Qc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-ko(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=nn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Bee(n/1960))-n,10<n){e.timeoutHandle=a2(bd.bind(null,e,_s,ql),n);break}bd(e,_s,ql);break;case 5:bd(e,_s,ql);break;default:throw Error(Ve(329))}}}return Es(e,nn()),e.callbackNode===r?HB.bind(null,e):null}function j2(e,t){var r=mg;return e.current.memoizedState.isDehydrated&&(tf(e,t).flags|=256),e=w1(e,t),e!==2&&(t=_s,_s=r,t!==null&&k2(t)),e}function k2(e){_s===null?_s=e:_s.push.apply(_s,e)}function Uee(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Ao(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qc(e,t){for(t&=~hA,t&=~C_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ko(t),n=1<<r;e[r]=-1,t&=~n}}function yR(e){if(Jt&6)throw Error(Ve(327));nm();var t=n1(e,0);if(!(t&1))return Es(e,nn()),null;var r=w1(e,t);if(e.tag!==0&&r===2){var n=XN(e);n!==0&&(t=n,r=j2(e,n))}if(r===1)throw r=av,tf(e,0),Qc(e,t),Es(e,nn()),r;if(r===6)throw Error(Ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bd(e,_s,ql),Es(e,nn()),null}function pA(e,t){var r=Jt;Jt|=1;try{return e(t)}finally{Jt=r,Jt===0&&(Im=nn()+500,S_&&Xu())}}function gf(e){pu!==null&&pu.tag===0&&!(Jt&6)&&nm();var t=Jt;Jt|=1;var r=Li.transition,n=gr;try{if(Li.transition=null,gr=1,e)return e()}finally{gr=n,Li.transition=r,Jt=t,!(Jt&6)&&Xu()}}function gA(){Ys=Hh.current,Rr(Hh)}function tf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,vee(r)),bn!==null)for(r=bn.return;r!==null;){var n=r;switch(XT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&l1();break;case 3:Dm(),Rr(Ns),Rr(Ra),sA();break;case 5:aA(n);break;case 4:Dm();break;case 13:Rr(zr);break;case 19:Rr(zr);break;case 10:eA(n.type._context);break;case 22:case 23:gA()}r=r.return}if(Gn=e,bn=e=Au(e.current,null),aa=Ys=t,Mn=0,av=null,hA=C_=pf=0,_s=mg=null,Rd!==null){for(t=0;t<Rd.length;t++)if(r=Rd[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}Rd=null}return e}function qB(e,t){do{var r=bn;try{if(ZT(),Db.current=v1,g1){for(var n=qr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}g1=!1}if(mf=0,Hn=Dn=qr=null,fg=!1,tv=0,fA.current=null,r===null||r.return===null){Mn=1,av=t,bn=null;break}e:{var s=e,i=r.return,l=r,c=t;if(t=aa,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=iR(i);if(m!==null){m.flags&=-257,oR(m,i,l,s,t),m.mode&1&&sR(s,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}else{if(!(t&1)){sR(s,u,t),vA();break e}c=Error(Ve(426))}}else if(Lr&&l.mode&1){var v=iR(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),oR(v,i,l,s,t),JT(Rm(c,l));break e}}s=c=Rm(c,l),Mn!==4&&(Mn=2),mg===null?mg=[s]:mg.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=TB(s,c,t);ZD(s,y);break e;case 1:l=c;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Eu===null||!Eu.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=AB(s,l,t);ZD(s,_);break e}}s=s.return}while(s!==null)}YB(r)}catch(S){t=S,bn===r&&r!==null&&(bn=r=r.return);continue}break}while(!0)}function KB(){var e=x1.current;return x1.current=v1,e===null?v1:e}function vA(){(Mn===0||Mn===3||Mn===2)&&(Mn=4),Gn===null||!(pf&268435455)&&!(C_&268435455)||Qc(Gn,aa)}function w1(e,t){var r=Jt;Jt|=2;var n=KB();(Gn!==e||aa!==t)&&(ql=null,tf(e,t));do try{zee();break}catch(a){qB(e,a)}while(!0);if(ZT(),Jt=r,x1.current=n,bn!==null)throw Error(Ve(261));return Gn=null,aa=0,Mn}function zee(){for(;bn!==null;)GB(bn)}function Vee(){for(;bn!==null&&!mZ();)GB(bn)}function GB(e){var t=JB(e.alternate,e,Ys);e.memoizedProps=e.pendingProps,t===null?YB(e):bn=t,fA.current=null}function YB(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Mee(r,t),r!==null){r.flags&=32767,bn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mn=6,bn=null;return}}else if(r=Iee(r,t,Ys),r!==null){bn=r;return}if(t=t.sibling,t!==null){bn=t;return}bn=t=e}while(t!==null);Mn===0&&(Mn=5)}function bd(e,t,r){var n=gr,a=Li.transition;try{Li.transition=null,gr=1,Wee(e,t,r,n)}finally{Li.transition=a,gr=n}return null}function Wee(e,t,r,n){do nm();while(pu!==null);if(Jt&6)throw Error(Ve(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ve(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(jZ(e,s),e===Gn&&(bn=Gn=null,aa=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Py||(Py=!0,QB(r1,function(){return nm(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Li.transition,Li.transition=null;var i=gr;gr=1;var l=Jt;Jt|=4,fA.current=null,Lee(e,r),VB(r,e),uee(r2),a1=!!t2,r2=t2=null,e.current=r,$ee(r),pZ(),Jt=l,gr=i,Li.transition=s}else e.current=r;if(Py&&(Py=!1,pu=e,b1=a),s=e.pendingLanes,s===0&&(Eu=null),xZ(r.stateNode),Es(e,nn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(y1)throw y1=!1,e=_2,_2=null,e;return b1&1&&e.tag!==0&&nm(),s=e.pendingLanes,s&1?e===S2?pg++:(pg=0,S2=e):pg=0,Xu(),null}function nm(){if(pu!==null){var e=T6(b1),t=Li.transition,r=gr;try{if(Li.transition=null,gr=16>e?16:e,pu===null)var n=!1;else{if(e=pu,pu=null,b1=0,Jt&6)throw Error(Ve(331));var a=Jt;for(Jt|=4,tt=e.current;tt!==null;){var s=tt,i=s.child;if(tt.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(tt=u;tt!==null;){var d=tt;switch(d.tag){case 0:case 11:case 15:hg(8,d,s)}var f=d.child;if(f!==null)f.return=d,tt=f;else for(;tt!==null;){d=tt;var h=d.sibling,m=d.return;if(BB(d),d===u){tt=null;break}if(h!==null){h.return=m,tt=h;break}tt=m}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}tt=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,tt=i;else e:for(;tt!==null;){if(s=tt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hg(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,tt=y;break e}tt=s.return}}var b=e.current;for(tt=b;tt!==null;){i=tt;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,tt=w;else e:for(i=b;tt!==null;){if(l=tt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:N_(9,l)}}catch(S){Jr(l,l.return,S)}if(l===i){tt=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,tt=_;break e}tt=l.return}}if(Jt=a,Xu(),dl&&typeof dl.onPostCommitFiberRoot=="function")try{dl.onPostCommitFiberRoot(x_,e)}catch{}n=!0}return n}finally{gr=r,Li.transition=t}}return!1}function bR(e,t,r){t=Rm(r,t),t=TB(e,t,1),e=Cu(e,t,1),t=cs(),e!==null&&(gx(e,1,t),Es(e,t))}function Jr(e,t,r){if(e.tag===3)bR(e,e,r);else for(;t!==null;){if(t.tag===3){bR(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Eu===null||!Eu.has(n))){e=Rm(r,e),e=AB(t,e,1),t=Cu(t,e,1),e=cs(),t!==null&&(gx(t,1,e),Es(t,e));break}}t=t.return}}function Hee(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=cs(),e.pingedLanes|=e.suspendedLanes&r,Gn===e&&(aa&r)===r&&(Mn===4||Mn===3&&(aa&130023424)===aa&&500>nn()-mA?tf(e,0):hA|=r),Es(e,t)}function XB(e,t){t===0&&(e.mode&1?(t=_y,_y<<=1,!(_y&130023424)&&(_y=4194304)):t=1);var r=cs();e=mc(e,t),e!==null&&(gx(e,t,r),Es(e,r))}function qee(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),XB(e,r)}function Kee(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ve(314))}n!==null&&n.delete(t),XB(e,r)}var JB;JB=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ns.current)Ss=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ss=!1,Ree(e,t,r);Ss=!!(e.flags&131072)}else Ss=!1,Lr&&t.flags&1048576&&tB(t,d1,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ib(e,t),e=t.pendingProps;var a=Am(t,Ra.current);rm(t,r),a=oA(null,t,n,e,a,r);var s=lA();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Cs(n)?(s=!0,c1(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,rA(t),a.updater=k_,t.stateNode=a,a._reactInternals=t,d2(t,n,e,r),t=m2(null,t,n,!0,s,r)):(t.tag=0,Lr&&s&&YT(t),Ga(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ib(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Yee(n),e=io(n,e),a){case 0:t=h2(null,t,n,e,r);break e;case 1:t=uR(null,t,n,e,r);break e;case 11:t=lR(null,t,n,e,r);break e;case 14:t=cR(null,t,n,io(n.type,e),r);break e}throw Error(Ve(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:io(n,a),h2(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:io(n,a),uR(e,t,n,a,r);case 3:e:{if(RB(t),e===null)throw Error(Ve(387));n=t.pendingProps,s=t.memoizedState,a=s.element,oB(e,t),m1(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Rm(Error(Ve(423)),t),t=dR(e,t,n,r,a);break e}else if(n!==a){a=Rm(Error(Ve(424)),t),t=dR(e,t,n,r,a);break e}else for(ii=Nu(t.stateNode.containerInfo.firstChild),li=t,Lr=!0,xo=null,r=sB(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Om(),n===a){t=pc(e,t,r);break e}Ga(e,t,n,r)}t=t.child}return t;case 5:return lB(t),e===null&&l2(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,n2(n,a)?i=null:s!==null&&n2(n,s)&&(t.flags|=32),DB(e,t),Ga(e,t,i,r),t.child;case 6:return e===null&&l2(t),null;case 13:return IB(e,t,r);case 4:return nA(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Pm(t,null,n,r):Ga(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:io(n,a),lR(e,t,n,a,r);case 7:return Ga(e,t,t.pendingProps,r),t.child;case 8:return Ga(e,t,t.pendingProps.children,r),t.child;case 12:return Ga(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,Nr(f1,n._currentValue),n._currentValue=i,s!==null)if(Ao(s.value,i)){if(s.children===a.children&&!Ns.current){t=pc(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=sc(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),c2(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(Ve(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),c2(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Ga(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,rm(t,r),a=Bi(a),n=n(a),t.flags|=1,Ga(e,t,n,r),t.child;case 14:return n=t.type,a=io(n,t.pendingProps),a=io(n.type,a),cR(e,t,n,a,r);case 15:return OB(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:io(n,a),Ib(e,t),t.tag=1,Cs(n)?(e=!0,c1(t)):e=!1,rm(t,r),EB(t,n,a),d2(t,n,a,r),m2(null,t,n,!0,e,r);case 19:return MB(e,t,r);case 22:return PB(e,t,r)}throw Error(Ve(156,t.tag))};function QB(e,t){return k6(e,t)}function Gee(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(e,t,r,n){return new Gee(e,t,r,n)}function xA(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yee(e){if(typeof e=="function")return xA(e)?1:0;if(e!=null){if(e=e.$$typeof,e===FT)return 11;if(e===LT)return 14}return 2}function Au(e,t){var r=e.alternate;return r===null?(r=Mi(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Lb(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")xA(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ih:return rf(r.children,a,s,t);case MT:i=8,a|=8;break;case IN:return e=Mi(12,r,t,a|2),e.elementType=IN,e.lanes=s,e;case MN:return e=Mi(13,r,t,a),e.elementType=MN,e.lanes=s,e;case FN:return e=Mi(19,r,t,a),e.elementType=FN,e.lanes=s,e;case l6:return E_(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case i6:i=10;break e;case o6:i=9;break e;case FT:i=11;break e;case LT:i=14;break e;case Hc:i=16,n=null;break e}throw Error(Ve(130,e==null?e:typeof e,""))}return t=Mi(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function rf(e,t,r,n){return e=Mi(7,e,n,t),e.lanes=r,e}function E_(e,t,r,n){return e=Mi(22,e,n,t),e.elementType=l6,e.lanes=r,e.stateNode={isHidden:!1},e}function nk(e,t,r){return e=Mi(6,e,null,t),e.lanes=r,e}function ak(e,t,r){return t=Mi(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xee(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lj(0),this.expirationTimes=Lj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lj(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function yA(e,t,r,n,a,s,i,l,c){return e=new Xee(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Mi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rA(s),e}function Jee(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ZB(e){if(!e)return Lu;e=e._reactInternals;e:{if(Lf(e)!==e||e.tag!==1)throw Error(Ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Cs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ve(171))}if(e.tag===1){var r=e.type;if(Cs(r))return Z6(e,r,t)}return t}function eU(e,t,r,n,a,s,i,l,c){return e=yA(r,n,!0,e,a,s,i,l,c),e.context=ZB(null),r=e.current,n=cs(),a=Tu(r),s=sc(n,a),s.callback=t??null,Cu(r,s,a),e.current.lanes=a,gx(e,a,n),Es(e,n),e}function T_(e,t,r,n){var a=t.current,s=cs(),i=Tu(a);return r=ZB(r),t.context===null?t.context=r:t.pendingContext=r,t=sc(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Cu(a,t,i),e!==null&&(No(e,a,i,s),Pb(e,a,i)),i}function _1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wR(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function bA(e,t){wR(e,t),(e=e.alternate)&&wR(e,t)}function Qee(){return null}var tU=typeof reportError=="function"?reportError:function(e){console.error(e)};function wA(e){this._internalRoot=e}A_.prototype.render=wA.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ve(409));T_(e,t,null,null)};A_.prototype.unmount=wA.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gf(function(){T_(null,e,null,null)}),t[hc]=null}};function A_(e){this._internalRoot=e}A_.prototype.unstable_scheduleHydration=function(e){if(e){var t=P6();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Jc.length&&t!==0&&t<Jc[r].priority;r++);Jc.splice(r,0,e),r===0&&R6(e)}};function _A(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function O_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _R(){}function Zee(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=_1(i);s.call(u)}}var i=eU(t,n,e,0,null,!1,!1,"",_R);return e._reactRootContainer=i,e[hc]=i.current,Xg(e.nodeType===8?e.parentNode:e),gf(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=_1(c);l.call(u)}}var c=yA(e,0,!1,null,null,!1,!1,"",_R);return e._reactRootContainer=c,e[hc]=c.current,Xg(e.nodeType===8?e.parentNode:e),gf(function(){T_(t,c,r,n)}),c}function P_(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=_1(i);l.call(c)}}T_(t,i,e,a)}else i=Zee(r,t,e,a,n);return _1(i)}A6=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Y0(t.pendingLanes);r!==0&&(UT(t,r|1),Es(t,nn()),!(Jt&6)&&(Im=nn()+500,Xu()))}break;case 13:gf(function(){var n=mc(e,1);if(n!==null){var a=cs();No(n,e,1,a)}}),bA(e,1)}};zT=function(e){if(e.tag===13){var t=mc(e,134217728);if(t!==null){var r=cs();No(t,e,134217728,r)}bA(e,134217728)}};O6=function(e){if(e.tag===13){var t=Tu(e),r=mc(e,t);if(r!==null){var n=cs();No(r,e,t,n)}bA(e,t)}};P6=function(){return gr};D6=function(e,t){var r=gr;try{return gr=e,t()}finally{gr=r}};KN=function(e,t,r){switch(t){case"input":if(BN(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=__(n);if(!a)throw Error(Ve(90));u6(n),BN(n,a)}}}break;case"textarea":f6(e,r);break;case"select":t=r.value,t!=null&&Qh(e,!!r.multiple,t,!1)}};y6=pA;b6=gf;var ete={usingClientEntryPoint:!1,Events:[xx,$h,__,v6,x6,pA]},k0={findFiberByHostInstance:Dd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tte={bundleType:k0.bundleType,version:k0.version,rendererPackageName:k0.rendererPackageName,rendererConfig:k0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ec.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=S6(e),e===null?null:e.stateNode},findFiberByHostInstance:k0.findFiberByHostInstance||Qee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dy.isDisabled&&Dy.supportsFiber)try{x_=Dy.inject(tte),dl=Dy}catch{}}gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ete;gi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_A(t))throw Error(Ve(200));return Jee(e,t,null,r)};gi.createRoot=function(e,t){if(!_A(e))throw Error(Ve(299));var r=!1,n="",a=tU;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=yA(e,1,!1,null,null,r,!1,n,a),e[hc]=t.current,Xg(e.nodeType===8?e.parentNode:e),new wA(t)};gi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ve(188)):(e=Object.keys(e).join(","),Error(Ve(268,e)));return e=S6(t),e=e===null?null:e.stateNode,e};gi.flushSync=function(e){return gf(e)};gi.hydrate=function(e,t,r){if(!O_(t))throw Error(Ve(200));return P_(null,e,t,!0,r)};gi.hydrateRoot=function(e,t,r){if(!_A(e))throw Error(Ve(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=tU;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=eU(t,null,e,1,r??null,a,!1,s,i),e[hc]=t.current,Xg(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new A_(t)};gi.render=function(e,t,r){if(!O_(t))throw Error(Ve(200));return P_(null,e,t,!1,r)};gi.unmountComponentAtNode=function(e){if(!O_(e))throw Error(Ve(40));return e._reactRootContainer?(gf(function(){P_(null,null,e,!1,function(){e._reactRootContainer=null,e[hc]=null})}),!0):!1};gi.unstable_batchedUpdates=pA;gi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!O_(r))throw Error(Ve(200));if(e==null||e._reactInternals===void 0)throw Error(Ve(38));return P_(e,t,r,!1,n)};gi.version="18.3.1-next-f1338f8080-20240426";function rU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rU)}catch(e){console.error(e)}}rU(),r6.exports=gi;var Ip=r6.exports;const rte=fr(Ip);var nU,SR=Ip;nU=SR.createRoot,SR.hydrateRoot;var bx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vf=typeof window>"u"||"Deno"in globalThis;function ws(){}function nte(e,t){return typeof e=="function"?e(t):e}function N2(e){return typeof e=="number"&&e>=0&&e!==1/0}function aU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ou(e,t){return typeof e=="function"?e(t):e}function Ai(e,t){return typeof e=="function"?e(t):e}function jR(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==SA(i,t.options))return!1}else if(!iv(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function kR(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(sv(t.options.mutationKey)!==sv(s))return!1}else if(!iv(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function SA(e,t){return((t==null?void 0:t.queryKeyHashFn)||sv)(e)}function sv(e){return JSON.stringify(e,(t,r)=>E2(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function iv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>iv(e[r],t[r])):!1}function sU(e,t){if(e===t)return e;const r=NR(e)&&NR(t);if(r||E2(e)&&E2(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),i=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<i;d++){const f=r?d:s[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=sU(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===i&&u===a?e:l}return t}function C2(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function NR(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function E2(e){if(!CR(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!CR(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function CR(e){return Object.prototype.toString.call(e)==="[object Object]"}function ate(e){return new Promise(t=>{setTimeout(t,e)})}function T2(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?sU(e,t):t}function ste(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function ite(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var jA=Symbol();function iU(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===jA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ote(e,t){return typeof e=="function"?e(...t):!!e}var qd,iu,vm,R8,lte=(R8=class extends bx{constructor(){super();_t(this,qd);_t(this,iu);_t(this,vm);nt(this,vm,t=>{if(!vf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ve(this,iu)||this.setEventListener(ve(this,vm))}onUnsubscribe(){var t;this.hasListeners()||((t=ve(this,iu))==null||t.call(this),nt(this,iu,void 0))}setEventListener(t){var r;nt(this,vm,t),(r=ve(this,iu))==null||r.call(this),nt(this,iu,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ve(this,qd)!==t&&(nt(this,qd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ve(this,qd)=="boolean"?ve(this,qd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},qd=new WeakMap,iu=new WeakMap,vm=new WeakMap,R8),kA=new lte,xm,ou,ym,I8,cte=(I8=class extends bx{constructor(){super();_t(this,xm,!0);_t(this,ou);_t(this,ym);nt(this,ym,t=>{if(!vf&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ve(this,ou)||this.setEventListener(ve(this,ym))}onUnsubscribe(){var t;this.hasListeners()||((t=ve(this,ou))==null||t.call(this),nt(this,ou,void 0))}setEventListener(t){var r;nt(this,ym,t),(r=ve(this,ou))==null||r.call(this),nt(this,ou,t(this.setOnline.bind(this)))}setOnline(t){ve(this,xm)!==t&&(nt(this,xm,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ve(this,xm)}},xm=new WeakMap,ou=new WeakMap,ym=new WeakMap,I8),S1=new cte;function A2(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function ute(e){return Math.min(1e3*2**e,3e4)}function oU(e){return(e??"online")==="online"?S1.isOnline():!0}var lU=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function sk(e){return e instanceof lU}function cU(e){let t=!1,r=0,n=!1,a;const s=A2(),i=g=>{var v;n||(h(new lU(g)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>kA.isFocused()&&(e.networkMode==="always"||S1.isOnline())&&e.canRun(),d=()=>oU(e.networkMode)&&e.canRun(),f=g=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,g),a==null||a(),s.resolve(g))},h=g=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,g),a==null||a(),s.reject(g))},m=()=>new Promise(g=>{var v;a=y=>{(n||u())&&g(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;a=void 0,n||(g=e.onContinue)==null||g.call(e)}),p=()=>{if(n)return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var k;if(n)return;const b=e.retry??(vf?0:3),w=e.retryDelay??ute,_=typeof w=="function"?w(r,y):w,S=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!S){h(y);return}r++,(k=e.onFail)==null||k.call(e,r,y),ate(_).then(()=>u()?void 0:m()).then(()=>{t?h(y):p()})})};return{promise:s,cancel:i,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():m().then(p),s)}}var dte=e=>setTimeout(e,0);function fte(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=dte;const s=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var na=fte(),Kd,M8,uU=(M8=class{constructor(){_t(this,Kd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),N2(this.gcTime)&&nt(this,Kd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(vf?1/0:5*60*1e3))}clearGcTimeout(){ve(this,Kd)&&(clearTimeout(ve(this,Kd)),nt(this,Kd,void 0))}},Kd=new WeakMap,M8),bm,Gd,Ti,Yd,ja,dx,Xd,co,Hl,F8,hte=(F8=class extends uU{constructor(t){super();_t(this,co);_t(this,bm);_t(this,Gd);_t(this,Ti);_t(this,Yd);_t(this,ja);_t(this,dx);_t(this,Xd);nt(this,Xd,!1),nt(this,dx,t.defaultOptions),this.setOptions(t.options),this.observers=[],nt(this,Yd,t.client),nt(this,Ti,ve(this,Yd).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,nt(this,bm,mte(this.options)),this.state=t.state??ve(this,bm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ve(this,ja))==null?void 0:t.promise}setOptions(t){this.options={...ve(this,dx),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ve(this,Ti).remove(this)}setData(t,r){const n=T2(this.state.data,t,this.options);return Vt(this,co,Hl).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Vt(this,co,Hl).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=ve(this,ja))==null?void 0:n.promise;return(a=ve(this,ja))==null||a.cancel(t),r?r.then(ws).catch(ws):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ve(this,bm))}isActive(){return this.observers.some(t=>Ai(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ou(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!aU(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ve(this,ja))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ve(this,ja))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ve(this,Ti).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ve(this,ja)&&(ve(this,Xd)?ve(this,ja).cancel({revert:!0}):ve(this,ja).cancelRetry()),this.scheduleGc()),ve(this,Ti).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vt(this,co,Hl).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ve(this,ja))return ve(this,ja).continueRetry(),ve(this,ja).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(nt(this,Xd,!0),n.signal)})},s=()=>{const h=iU(this.options,r),p=(()=>{const g={client:ve(this,Yd),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return nt(this,Xd,!1),this.options.persister?this.options.persister(h,p,this):h(p)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ve(this,Yd),state:this.state,fetchFn:s};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),nt(this,Gd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Vt(this,co,Hl).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,p,g,v;sk(h)&&h.silent||Vt(this,co,Hl).call(this,{type:"error",error:h}),sk(h)||((p=(m=ve(this,Ti).config).onError)==null||p.call(m,h,this),(v=(g=ve(this,Ti).config).onSettled)==null||v.call(g,this.state.data,h,this)),this.scheduleGc()};return nt(this,ja,cU({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,p,g,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){c(y);return}(p=(m=ve(this,Ti).config).onSuccess)==null||p.call(m,h,this),(v=(g=ve(this,Ti).config).onSettled)==null||v.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Vt(this,co,Hl).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Vt(this,co,Hl).call(this,{type:"pause"})},onContinue:()=>{Vt(this,co,Hl).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ve(this,ja).start()}},bm=new WeakMap,Gd=new WeakMap,Ti=new WeakMap,Yd=new WeakMap,ja=new WeakMap,dx=new WeakMap,Xd=new WeakMap,co=new WeakSet,Hl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...dU(n.data,this.options),fetchMeta:t.meta??null};case"success":return nt(this,Gd,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return sk(a)&&a.revert&&ve(this,Gd)?{...ve(this,Gd),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),na.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ve(this,Ti).notify({query:this,type:"updated",action:t})})},F8);function dU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oU(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function mte(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Zo,L8,pte=(L8=class extends bx{constructor(t={}){super();_t(this,Zo);this.config=t,nt(this,Zo,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??SA(a,r);let i=this.get(s);return i||(i=new hte({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){ve(this,Zo).has(t.queryHash)||(ve(this,Zo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ve(this,Zo).get(t.queryHash);r&&(t.destroy(),r===t&&ve(this,Zo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){na.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ve(this,Zo).get(t)}getAll(){return[...ve(this,Zo).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>jR(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>jR(t,n)):r}notify(t){na.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){na.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){na.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zo=new WeakMap,L8),el,qa,Jd,tl,zc,$8,gte=($8=class extends uU{constructor(t){super();_t(this,tl);_t(this,el);_t(this,qa);_t(this,Jd);this.mutationId=t.mutationId,nt(this,qa,t.mutationCache),nt(this,el,[]),this.state=t.state||vte(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ve(this,el).includes(t)||(ve(this,el).push(t),this.clearGcTimeout(),ve(this,qa).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){nt(this,el,ve(this,el).filter(r=>r!==t)),this.scheduleGc(),ve(this,qa).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ve(this,el).length||(this.state.status==="pending"?this.scheduleGc():ve(this,qa).remove(this))}continue(){var t;return((t=ve(this,Jd))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,l,c,u,d,f,h,m,p,g,v,y,b,w,_,S,k,j,N;const r=()=>{Vt(this,tl,zc).call(this,{type:"continue"})};nt(this,Jd,cU({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,T)=>{Vt(this,tl,zc).call(this,{type:"failed",failureCount:C,error:T})},onPause:()=>{Vt(this,tl,zc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ve(this,qa).canRun(this)}));const n=this.state.status==="pending",a=!ve(this,Jd).canStart();try{if(n)r();else{Vt(this,tl,zc).call(this,{type:"pending",variables:t,isPaused:a}),await((i=(s=ve(this,qa).config).onMutate)==null?void 0:i.call(s,t,this));const T=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));T!==this.state.context&&Vt(this,tl,zc).call(this,{type:"pending",context:T,variables:t,isPaused:a})}const C=await ve(this,Jd).start();return await((d=(u=ve(this,qa).config).onSuccess)==null?void 0:d.call(u,C,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,C,t,this.state.context)),await((p=(m=ve(this,qa).config).onSettled)==null?void 0:p.call(m,C,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,C,null,t,this.state.context)),Vt(this,tl,zc).call(this,{type:"success",data:C}),C}catch(C){try{throw await((b=(y=ve(this,qa).config).onError)==null?void 0:b.call(y,C,t,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,C,t,this.state.context)),await((k=(S=ve(this,qa).config).onSettled)==null?void 0:k.call(S,void 0,C,this.state.variables,this.state.context,this)),await((N=(j=this.options).onSettled)==null?void 0:N.call(j,void 0,C,t,this.state.context)),C}finally{Vt(this,tl,zc).call(this,{type:"error",error:C})}}finally{ve(this,qa).runNext(this)}}},el=new WeakMap,qa=new WeakMap,Jd=new WeakMap,tl=new WeakSet,zc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),na.batch(()=>{ve(this,el).forEach(n=>{n.onMutationUpdate(t)}),ve(this,qa).notify({mutation:this,type:"updated",action:t})})},$8);function vte(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xl,uo,fx,B8,xte=(B8=class extends bx{constructor(t={}){super();_t(this,Xl);_t(this,uo);_t(this,fx);this.config=t,nt(this,Xl,new Set),nt(this,uo,new Map),nt(this,fx,0)}build(t,r,n){const a=new gte({mutationCache:this,mutationId:++py(this,fx)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){ve(this,Xl).add(t);const r=Ry(t);if(typeof r=="string"){const n=ve(this,uo).get(r);n?n.push(t):ve(this,uo).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ve(this,Xl).delete(t)){const r=Ry(t);if(typeof r=="string"){const n=ve(this,uo).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&ve(this,uo).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ry(t);if(typeof r=="string"){const n=ve(this,uo).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Ry(t);if(typeof r=="string"){const a=(n=ve(this,uo).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){na.batch(()=>{ve(this,Xl).forEach(t=>{this.notify({type:"removed",mutation:t})}),ve(this,Xl).clear(),ve(this,uo).clear()})}getAll(){return Array.from(ve(this,Xl))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>kR(r,n))}findAll(t={}){return this.getAll().filter(r=>kR(t,r))}notify(t){na.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return na.batch(()=>Promise.all(t.map(r=>r.continue().catch(ws))))}},Xl=new WeakMap,uo=new WeakMap,fx=new WeakMap,B8);function Ry(e){var t;return(t=e.options.scope)==null?void 0:t.id}function ER(e){return{onFetch:(t,r)=>{var d,f,h,m,p;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],i=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=iU(t.options,t.fetchOptions),b=async(w,_,S)=>{if(g)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const j=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return v(D),D})(),N=await y(j),{maxPages:C}=t.options,T=S?ite:ste;return{pages:T(w.pages,N,C),pageParams:T(w.pageParams,_,C)}};if(a&&s.length){const w=a==="backward",_=w?yte:TR,S={pages:s,pageParams:i},k=_(n,S);l=await b(S,k,w)}else{const w=e??s.length;do{const _=c===0?i[0]??n.initialPageParam:TR(n,l);if(c>0&&_==null)break;l=await b(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,v;return(v=(g=t.options).persister)==null?void 0:v.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function TR(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function yte(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Yr,lu,cu,wm,_m,uu,Sm,jm,U8,bte=(U8=class{constructor(e={}){_t(this,Yr);_t(this,lu);_t(this,cu);_t(this,wm);_t(this,_m);_t(this,uu);_t(this,Sm);_t(this,jm);nt(this,Yr,e.queryCache||new pte),nt(this,lu,e.mutationCache||new xte),nt(this,cu,e.defaultOptions||{}),nt(this,wm,new Map),nt(this,_m,new Map),nt(this,uu,0)}mount(){py(this,uu)._++,ve(this,uu)===1&&(nt(this,Sm,kA.subscribe(async e=>{e&&(await this.resumePausedMutations(),ve(this,Yr).onFocus())})),nt(this,jm,S1.subscribe(async e=>{e&&(await this.resumePausedMutations(),ve(this,Yr).onOnline())})))}unmount(){var e,t;py(this,uu)._--,ve(this,uu)===0&&((e=ve(this,Sm))==null||e.call(this),nt(this,Sm,void 0),(t=ve(this,jm))==null||t.call(this),nt(this,jm,void 0))}isFetching(e){return ve(this,Yr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ve(this,lu).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ve(this,Yr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ve(this,Yr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ou(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ve(this,Yr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=ve(this,Yr).get(n.queryHash),s=a==null?void 0:a.state.data,i=nte(t,s);if(i!==void 0)return ve(this,Yr).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return na.batch(()=>ve(this,Yr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ve(this,Yr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ve(this,Yr);na.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ve(this,Yr);return na.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=na.batch(()=>ve(this,Yr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ws).catch(ws)}invalidateQueries(e,t={}){return na.batch(()=>(ve(this,Yr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=na.batch(()=>ve(this,Yr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(ws)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(ws)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ve(this,Yr).build(this,t);return r.isStaleByTime(Ou(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ws).catch(ws)}fetchInfiniteQuery(e){return e.behavior=ER(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ws).catch(ws)}ensureInfiniteQueryData(e){return e.behavior=ER(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return S1.isOnline()?ve(this,lu).resumePausedMutations():Promise.resolve()}getQueryCache(){return ve(this,Yr)}getMutationCache(){return ve(this,lu)}getDefaultOptions(){return ve(this,cu)}setDefaultOptions(e){nt(this,cu,e)}setQueryDefaults(e,t){ve(this,wm).set(sv(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ve(this,wm).values()],r={};return t.forEach(n=>{iv(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ve(this,_m).set(sv(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ve(this,_m).values()],r={};return t.forEach(n=>{iv(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ve(this,cu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=SA(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===jA&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ve(this,cu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ve(this,Yr).clear(),ve(this,lu).clear()}},Yr=new WeakMap,lu=new WeakMap,cu=new WeakMap,wm=new WeakMap,_m=new WeakMap,uu=new WeakMap,Sm=new WeakMap,jm=new WeakMap,U8),xs,Wt,hx,Ka,Qd,km,du,fu,mx,Nm,Cm,Zd,ef,hu,Em,dr,J0,O2,P2,D2,R2,I2,M2,F2,fU,z8,wte=(z8=class extends bx{constructor(t,r){super();_t(this,dr);_t(this,xs);_t(this,Wt);_t(this,hx);_t(this,Ka);_t(this,Qd);_t(this,km);_t(this,du);_t(this,fu);_t(this,mx);_t(this,Nm);_t(this,Cm);_t(this,Zd);_t(this,ef);_t(this,hu);_t(this,Em,new Set);this.options=r,nt(this,xs,t),nt(this,fu,null),nt(this,du,A2()),this.options.experimental_prefetchInRender||ve(this,du).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ve(this,Wt).addObserver(this),AR(ve(this,Wt),this.options)?Vt(this,dr,J0).call(this):this.updateResult(),Vt(this,dr,R2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return L2(ve(this,Wt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return L2(ve(this,Wt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Vt(this,dr,I2).call(this),Vt(this,dr,M2).call(this),ve(this,Wt).removeObserver(this)}setOptions(t){const r=this.options,n=ve(this,Wt);if(this.options=ve(this,xs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ai(this.options.enabled,ve(this,Wt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Vt(this,dr,F2).call(this),ve(this,Wt).setOptions(this.options),r._defaulted&&!C2(this.options,r)&&ve(this,xs).getQueryCache().notify({type:"observerOptionsUpdated",query:ve(this,Wt),observer:this});const a=this.hasListeners();a&&OR(ve(this,Wt),n,this.options,r)&&Vt(this,dr,J0).call(this),this.updateResult(),a&&(ve(this,Wt)!==n||Ai(this.options.enabled,ve(this,Wt))!==Ai(r.enabled,ve(this,Wt))||Ou(this.options.staleTime,ve(this,Wt))!==Ou(r.staleTime,ve(this,Wt)))&&Vt(this,dr,O2).call(this);const s=Vt(this,dr,P2).call(this);a&&(ve(this,Wt)!==n||Ai(this.options.enabled,ve(this,Wt))!==Ai(r.enabled,ve(this,Wt))||s!==ve(this,hu))&&Vt(this,dr,D2).call(this,s)}getOptimisticResult(t){const r=ve(this,xs).getQueryCache().build(ve(this,xs),t),n=this.createResult(r,t);return Ste(this,n)&&(nt(this,Ka,n),nt(this,km,this.options),nt(this,Qd,ve(this,Wt).state)),n}getCurrentResult(){return ve(this,Ka)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){ve(this,Em).add(t)}getCurrentQuery(){return ve(this,Wt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=ve(this,xs).defaultQueryOptions(t),n=ve(this,xs).getQueryCache().build(ve(this,xs),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Vt(this,dr,J0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ve(this,Ka)))}createResult(t,r){var C;const n=ve(this,Wt),a=this.options,s=ve(this,Ka),i=ve(this,Qd),l=ve(this,km),u=t!==n?t.state:ve(this,hx),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const T=this.hasListeners(),D=!T&&AR(t,r),A=T&&OR(t,n,r,a);(D||A)&&(f={...f,...dU(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:v}=f;m=f.data;let y=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let T;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(T=s.data,y=!0):T=typeof r.placeholderData=="function"?r.placeholderData((C=ve(this,Cm))==null?void 0:C.state.data,ve(this,Cm)):r.placeholderData,T!==void 0&&(v="success",m=T2(s==null?void 0:s.data,T,r),h=!0)}if(r.select&&m!==void 0&&!y)if(s&&m===(i==null?void 0:i.data)&&r.select===ve(this,mx))m=ve(this,Nm);else try{nt(this,mx,r.select),m=r.select(m),m=T2(s==null?void 0:s.data,m,r),nt(this,Nm,m),nt(this,fu,null)}catch(T){nt(this,fu,T)}ve(this,fu)&&(p=ve(this,fu),m=ve(this,Nm),g=Date.now(),v="error");const b=f.fetchStatus==="fetching",w=v==="pending",_=v==="error",S=w&&b,k=m!==void 0,N={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:_,isInitialLoading:S,isLoading:S,data:m,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:_&&!k,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&k,isStale:NA(t,r),refetch:this.refetch,promise:ve(this,du),isEnabled:Ai(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=H=>{N.status==="error"?H.reject(N.error):N.data!==void 0&&H.resolve(N.data)},D=()=>{const H=nt(this,du,N.promise=A2());T(H)},A=ve(this,du);switch(A.status){case"pending":t.queryHash===n.queryHash&&T(A);break;case"fulfilled":(N.status==="error"||N.data!==A.value)&&D();break;case"rejected":(N.status!=="error"||N.error!==A.reason)&&D();break}}return N}updateResult(){const t=ve(this,Ka),r=this.createResult(ve(this,Wt),this.options);if(nt(this,Qd,ve(this,Wt).state),nt(this,km,this.options),ve(this,Qd).data!==void 0&&nt(this,Cm,ve(this,Wt)),C2(r,t))return;nt(this,Ka,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!ve(this,Em).size)return!0;const i=new Set(s??ve(this,Em));return this.options.throwOnError&&i.add("error"),Object.keys(ve(this,Ka)).some(l=>{const c=l;return ve(this,Ka)[c]!==t[c]&&i.has(c)})};Vt(this,dr,fU).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Vt(this,dr,R2).call(this)}},xs=new WeakMap,Wt=new WeakMap,hx=new WeakMap,Ka=new WeakMap,Qd=new WeakMap,km=new WeakMap,du=new WeakMap,fu=new WeakMap,mx=new WeakMap,Nm=new WeakMap,Cm=new WeakMap,Zd=new WeakMap,ef=new WeakMap,hu=new WeakMap,Em=new WeakMap,dr=new WeakSet,J0=function(t){Vt(this,dr,F2).call(this);let r=ve(this,Wt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ws)),r},O2=function(){Vt(this,dr,I2).call(this);const t=Ou(this.options.staleTime,ve(this,Wt));if(vf||ve(this,Ka).isStale||!N2(t))return;const n=aU(ve(this,Ka).dataUpdatedAt,t)+1;nt(this,Zd,setTimeout(()=>{ve(this,Ka).isStale||this.updateResult()},n))},P2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ve(this,Wt)):this.options.refetchInterval)??!1},D2=function(t){Vt(this,dr,M2).call(this),nt(this,hu,t),!(vf||Ai(this.options.enabled,ve(this,Wt))===!1||!N2(ve(this,hu))||ve(this,hu)===0)&&nt(this,ef,setInterval(()=>{(this.options.refetchIntervalInBackground||kA.isFocused())&&Vt(this,dr,J0).call(this)},ve(this,hu)))},R2=function(){Vt(this,dr,O2).call(this),Vt(this,dr,D2).call(this,Vt(this,dr,P2).call(this))},I2=function(){ve(this,Zd)&&(clearTimeout(ve(this,Zd)),nt(this,Zd,void 0))},M2=function(){ve(this,ef)&&(clearInterval(ve(this,ef)),nt(this,ef,void 0))},F2=function(){const t=ve(this,xs).getQueryCache().build(ve(this,xs),this.options);if(t===ve(this,Wt))return;const r=ve(this,Wt);nt(this,Wt,t),nt(this,hx,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},fU=function(t){na.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(ve(this,Ka))}),ve(this,xs).getQueryCache().notify({query:ve(this,Wt),type:"observerResultsUpdated"})})},z8);function _te(e,t){return Ai(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function AR(e,t){return _te(e,t)||e.state.data!==void 0&&L2(e,t,t.refetchOnMount)}function L2(e,t,r){if(Ai(t.enabled,e)!==!1&&Ou(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&NA(e,t)}return!1}function OR(e,t,r,n){return(e!==t||Ai(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&NA(e,r)}function NA(e,t){return Ai(t.enabled,e)!==!1&&e.isStaleByTime(Ou(t.staleTime,e))}function Ste(e,t){return!C2(e.getCurrentResult(),t)}var hU=x.createContext(void 0),jte=e=>{const t=x.useContext(hU);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},kte=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(hU.Provider,{value:e,children:t})),mU=x.createContext(!1),Nte=()=>x.useContext(mU);mU.Provider;function Cte(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Ete=x.createContext(Cte()),Tte=()=>x.useContext(Ete),Ate=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Ote=e=>{x.useEffect(()=>{e.clearReset()},[e])},Pte=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||ote(r,[e.error,n])),Dte=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Rte=(e,t)=>e.isLoading&&e.isFetching&&!t,Ite=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,PR=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Mte(e,t,r){var f,h,m,p,g;const n=Nte(),a=Tte(),s=jte(),i=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",Dte(i),Ate(i,a),Ote(a);const l=!s.getQueryCache().get(i.queryHash),[c]=x.useState(()=>new t(s,i)),u=c.getOptimisticResult(i),d=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const y=d?c.subscribe(na.batchCalls(v)):ws;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(i)},[i,c]),Ite(i,u))throw PR(i,c,a);if(Pte({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((p=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,i,u),i.experimental_prefetchInRender&&!vf&&Rte(u,n)){const v=l?PR(i,c,a):(g=s.getQueryCache().get(i.queryHash))==null?void 0:g.promise;v==null||v.catch(ws).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function CA(e,t){return Mte(e,wte)}const Ct=e=>typeof e=="string",N0=()=>{let e,t;const r=new Promise((n,a)=>{e=n,t=a});return r.resolve=e,r.reject=t,r},DR=e=>e==null?"":""+e,Fte=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},Lte=/###/g,RR=e=>e&&e.indexOf("###")>-1?e.replace(Lte,"."):e,IR=e=>!e||Ct(e),gg=(e,t,r)=>{const n=Ct(t)?t.split("."):t;let a=0;for(;a<n.length-1;){if(IR(e))return{};const s=RR(n[a]);!e[s]&&r&&(e[s]=new r),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++a}return IR(e)?{}:{obj:e,k:RR(n[a])}},MR=(e,t,r)=>{const{obj:n,k:a}=gg(e,t,Object);if(n!==void 0||t.length===1){n[a]=r;return}let s=t[t.length-1],i=t.slice(0,t.length-1),l=gg(e,i,Object);for(;l.obj===void 0&&i.length;)s=`${i[i.length-1]}.${s}`,i=i.slice(0,i.length-1),l=gg(e,i,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=r},$te=(e,t,r,n)=>{const{obj:a,k:s}=gg(e,t,Object);a[s]=a[s]||[],a[s].push(r)},j1=(e,t)=>{const{obj:r,k:n}=gg(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},Bte=(e,t,r)=>{const n=j1(e,r);return n!==void 0?n:j1(t,r)},pU=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?Ct(e[n])||e[n]instanceof String||Ct(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):pU(e[n],t[n],r):e[n]=t[n]);return e},nh=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ute={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const zte=e=>Ct(e)?e.replace(/[&<>"'\/]/g,t=>Ute[t]):e;class Vte{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const Wte=[" ",",","?","!",";"],Hte=new Vte(20),qte=(e,t,r)=>{t=t||"",r=r||"";const n=Wte.filter(i=>t.indexOf(i)<0&&r.indexOf(i)<0);if(n.length===0)return!0;const a=Hte.getRegExp(`(${n.map(i=>i==="?"?"\\?":i).join("|")})`);let s=!a.test(e);if(!s){const i=e.indexOf(r);i>0&&!a.test(e.substring(0,i))&&(s=!0)}return s},$2=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const n=t.split(r);let a=e;for(let s=0;s<n.length;){if(!a||typeof a!="object")return;let i,l="";for(let c=s;c<n.length;++c)if(c!==s&&(l+=r),l+=n[c],i=a[l],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&c<n.length-1)continue;s+=c-s+1;break}a=i}return a},ov=e=>e==null?void 0:e.replace("_","-"),Kte={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var r,n;(n=(r=console==null?void 0:console[e])==null?void 0:r.apply)==null||n.call(r,console,t)}};class k1{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||Kte,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,a){return a&&!this.debug?null:(Ct(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new k1(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new k1(this.logger,t)}}var il=new k1;let D_=class{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,s])=>{for(let i=0;i<s;i++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,s])=>{for(let i=0;i<s;i++)a.apply(a,[t,...r])})}};class FR extends D_{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n,a={}){var u,d;const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,i=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):Ct(n)&&s?l.push(...n.split(s)):l.push(n)));const c=j1(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!i||!Ct(n)?c:$2((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[r],n,s)}addResource(t,r,n,a,s={silent:!1}){const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(l=t.split("."),a=r,r=l[1]),this.addNamespaces(r),MR(this.data,l,a),s.silent||this.emit("added",t,r,n,a)}addResources(t,r,n,a={silent:!1}){for(const s in n)(Ct(n[s])||Array.isArray(n[s]))&&this.addResource(t,r,s,n[s],{silent:!0});a.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,a,s,i={silent:!1,skipCopy:!1}){let l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),a=n,n=r,r=l[1]),this.addNamespaces(r);let c=j1(this.data,l)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?pU(c,n,s):c={...c,...n},MR(this.data,l,c),i.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var gU={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,a){return e.forEach(s=>{var i;t=((i=this.processors[s])==null?void 0:i.process(t,r,n,a))??t}),t}};const vU=Symbol("i18next/PATH_KEY");function Gte(){const e=[],t=Object.create(null);let r;return t.get=(n,a)=>{var s;return(s=r==null?void 0:r.revoke)==null||s.call(r),a===vU?e:(e.push(a),r=Proxy.revocable(n,t),r.proxy)},Proxy.revocable(Object.create(null),t).proxy}function B2(e,t){const{[vU]:r}=e(Gte());return r.join((t==null?void 0:t.keySeparator)??".")}const LR={},ik=e=>!Ct(e)&&typeof e!="boolean"&&typeof e!="number";class N1 extends D_{constructor(t,r={}){super(),Fte(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=il.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const n={...r};if(t==null)return!1;const a=this.resolve(t,n);if((a==null?void 0:a.res)===void 0)return!1;const s=ik(a.res);return!(n.returnObjects===!1&&s)}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const i=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!qte(t,n,a);if(i&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Ct(s)?[s]:s};const u=t.split(n);(n!==a||n===a&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(a)}return{key:t,namespaces:Ct(s)?[s]:s}}translate(t,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=B2(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const s=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],a),u=c[c.length-1];let d=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=a.lng||this.language,h=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return h?s?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:`${u}${d}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:l;const m=this.resolve(t,a);let p=m==null?void 0:m.res;const g=(m==null?void 0:m.usedKey)||l,v=(m==null?void 0:m.exactUsedKey)||l,y=["[object Number]","[object Function]","[object RegExp]"],b=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,_=a.count!==void 0&&!Ct(a.count),S=N1.hasDefaultValue(a),k=_?this.pluralResolver.getSuffix(f,a.count,a):"",j=a.ordinal&&_?this.pluralResolver.getSuffix(f,a.count,{ordinal:!1}):"",N=_&&!a.ordinal&&a.count===0,C=N&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${k}`]||a[`defaultValue${j}`]||a.defaultValue;let T=p;w&&!p&&S&&(T=C);const D=ik(T),A=Object.prototype.toString.apply(T);if(w&&T&&D&&y.indexOf(A)<0&&!(Ct(b)&&Array.isArray(T))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const H=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,T,{...a,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(m.res=H,m.usedParams=this.getUsedParamsDetails(a),m):H}if(i){const H=Array.isArray(T),X=H?[]:{},L=H?v:g;for(const I in T)if(Object.prototype.hasOwnProperty.call(T,I)){const W=`${L}${i}${I}`;S&&!p?X[I]=this.translate(W,{...a,defaultValue:ik(C)?C[I]:void 0,joinArrays:!1,ns:c}):X[I]=this.translate(W,{...a,joinArrays:!1,ns:c}),X[I]===W&&(X[I]=T[I])}p=X}}else if(w&&Ct(b)&&Array.isArray(p))p=p.join(b),p&&(p=this.extendTranslation(p,t,a,n));else{let H=!1,X=!1;!this.isValidLookup(p)&&S&&(H=!0,p=C),this.isValidLookup(p)||(X=!0,p=l);const I=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&X?void 0:p,W=S&&C!==p&&this.options.updateMissing;if(X||H||W){if(this.logger.log(W?"updateKey":"missingKey",f,u,l,W?C:p),i){const Q=this.resolve(l,{...a,keySeparator:!1});Q&&Q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&M&&M[0])for(let Q=0;Q<M.length;Q++)F.push(M[Q]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(a.lng||this.language):F.push(a.lng||this.language);const G=(Q,E,B)=>{var q;const U=S&&B!==p?B:I;this.options.missingKeyHandler?this.options.missingKeyHandler(Q,u,E,U,W,a):(q=this.backendConnector)!=null&&q.saveMissing&&this.backendConnector.saveMissing(Q,u,E,U,W,a),this.emit("missingKey",Q,u,E,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?F.forEach(Q=>{const E=this.pluralResolver.getSuffixes(Q,a);N&&a[`defaultValue${this.options.pluralSeparator}zero`]&&E.indexOf(`${this.options.pluralSeparator}zero`)<0&&E.push(`${this.options.pluralSeparator}zero`),E.forEach(B=>{G([Q],l+B,a[`defaultValue${B}`]||C)})}):G(F,l,C))}p=this.extendTranslation(p,t,a,m,n),X&&p===l&&this.options.appendNamespaceToMissingKey&&(p=`${u}${d}${l}`),(X||H)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,H?p:void 0,a))}return s?(m.res=p,m.usedParams=this.getUsedParamsDetails(a),m):p}extendTranslation(t,r,n,a,s){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=Ct(t)&&(((u=n==null?void 0:n.interpolation)==null?void 0:u.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const m=t.match(this.interpolator.nestingRegexp);f=m&&m.length}let h=n.replace&&!Ct(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,n.lng||this.language||a.usedLng,n),d){const m=t.match(this.interpolator.nestingRegexp),p=m&&m.length;f<p&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,(...m)=>(s==null?void 0:s[0])===m[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${r[0]}`),null):this.translate(...m,r),n)),n.interpolation&&this.interpolator.reset()}const i=n.postProcess||this.options.postProcess,l=Ct(i)?[i]:i;return t!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(t=gU.handle(l,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t,r={}){let n,a,s,i,l;return Ct(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;a=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=r.count!==void 0&&!Ct(r.count),m=h&&!r.ordinal&&r.count===0,p=r.context!==void 0&&(Ct(r.context)||typeof r.context=="number")&&r.context!=="",g=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(v=>{var y,b;this.isValidLookup(n)||(l=v,!LR[`${g[0]}-${v}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(l))&&(LR[`${g[0]}-${v}`]=!0,this.logger.warn(`key "${a}" for languages "${g.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(w=>{var k;if(this.isValidLookup(n))return;i=w;const _=[d];if((k=this.i18nFormat)!=null&&k.addLookupKeys)this.i18nFormat.addLookupKeys(_,d,w,v,r);else{let j;h&&(j=this.pluralResolver.getSuffix(w,r.count,r));const N=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(r.ordinal&&j.indexOf(C)===0&&_.push(d+j.replace(C,this.options.pluralSeparator)),_.push(d+j),m&&_.push(d+N)),p){const T=`${d}${this.options.contextSeparator||"_"}${r.context}`;_.push(T),h&&(r.ordinal&&j.indexOf(C)===0&&_.push(T+j.replace(C,this.options.pluralSeparator)),_.push(T+j),m&&_.push(T+N))}}let S;for(;S=_.pop();)this.isValidLookup(n)||(s=S,n=this.getResource(w,v,S,r))}))})}),{res:n,usedKey:a,exactUsedKey:s,usedLng:i,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n,a={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,r,n,a):this.resourceStore.getResource(t,r,n,a)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!Ct(t.replace);let a=n?t.replace:t;if(n&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const s of r)delete a[s]}return a}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}class $R{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=il.create("languageUtils")}getScriptPartFromCode(t){if(t=ov(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=ov(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Ct(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Ct(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),a=[],s=i=>{i&&(this.isSupportedCode(i)?a.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return Ct(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):Ct(t)&&s(this.formatLanguageCode(t)),n.forEach(i=>{a.indexOf(i)<0&&s(this.formatLanguageCode(i))}),a}}const BR={zero:0,one:1,two:2,few:3,many:4,other:5},UR={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Yte{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=il.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const n=ov(t==="dev"?"en":t),a=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:a});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let i;try{i=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),UR;if(!t.match(/-|_/))return UR;const c=this.languageUtils.getLanguagePartFromCode(t);i=this.getRule(c,r)}return this.pluralRulesCache[s]=i,i}needsPlural(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,r,n={}){return this.getSuffixes(t,n).map(a=>`${r}${a}`)}getSuffixes(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,s)=>BR[a]-BR[s]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,r,n={}){const a=this.getRule(t,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,n))}}const zR=(e,t,r,n=".",a=!0)=>{let s=Bte(e,t,r);return!s&&a&&Ct(r)&&(s=$2(e,r,n),s===void 0&&(s=$2(t,r,n))),s},ok=e=>e.replace(/\$/g,"$$$$");class Xte{constructor(t={}){var r;this.logger=il.create("interpolator"),this.options=t,this.format=((r=t==null?void 0:t.interpolation)==null?void 0:r.format)||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:s,prefixEscaped:i,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:v,maxReplaces:y,alwaysFormat:b}=t.interpolation;this.escape=r!==void 0?r:zte,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=s?nh(s):i||"{{",this.suffix=l?nh(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?nh(h):m||nh("$t("),this.nestingSuffix=p?nh(p):g||nh(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,r,n,a){var m;let s,i,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const b=zR(r,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,n,{...a,...r,interpolationkey:p}):b}const g=p.split(this.formatSeparator),v=g.shift().trim(),y=g.join(this.formatSeparator).trim();return this.format(zR(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...a,...r,interpolationkey:v})};this.resetRegExp();const d=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((m=a==null?void 0:a.interpolation)==null?void 0:m.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>ok(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?ok(this.escape(p)):ok(p)}].forEach(p=>{for(l=0;s=p.regex.exec(t);){const g=s[1].trim();if(i=u(g),i===void 0)if(typeof d=="function"){const y=d(t,s,a);i=Ct(y)?y:""}else if(a&&Object.prototype.hasOwnProperty.call(a,g))i="";else if(f){i=s[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${t}`),i="";else!Ct(i)&&!this.useRawValueToEscape&&(i=DR(i));const v=p.safeValue(i);if(t=t.replace(s[0],v),f?(p.regex.lastIndex+=i.length,p.regex.lastIndex-=s[0].length):p.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r,n={}){let a,s,i;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let h=`{${f[1]}`;c=f[0],h=this.interpolate(h,i);const m=h.match(/'/g),p=h.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!p||p.length%2!==0)&&(h=h.replace(/'/g,'"'));try{i=JSON.parse(h),u&&(i={...u,...i})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,g),`${c}${d}${h}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,c};for(;a=this.nestingRegexp.exec(t);){let c=[];i={...n},i=i.replace&&!Ct(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;const u=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(u!==-1&&(c=a[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),a[1]=a[1].slice(0,u)),s=r(l.call(this,a[1].trim(),i),i),s&&a[0]===t&&!Ct(s))return s;Ct(s)||(s=DR(s)),s||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),s=""),c.length&&(s=c.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:a[1].trim()}),s.trim())),t=t.replace(a[0],s),this.regexp.lastIndex=0}return t}}const Jte=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);t==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(i=>{if(i){const[l,...c]=i.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},VR=e=>{const t={};return(r,n,a)=>{let s=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(s={...s,[a.interpolationkey]:void 0});const i=n+JSON.stringify(s);let l=t[i];return l||(l=e(ov(n),a),t[i]=l),l(r)}},Qte=e=>(t,r,n)=>e(ov(r),n)(t);class Zte{constructor(t={}){this.logger=il.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?VR:Qte;this.formats={number:n((a,s)=>{const i=new Intl.NumberFormat(a,{...s});return l=>i.format(l)}),currency:n((a,s)=>{const i=new Intl.NumberFormat(a,{...s,style:"currency"});return l=>i.format(l)}),datetime:n((a,s)=>{const i=new Intl.DateTimeFormat(a,{...s});return l=>i.format(l)}),relativetime:n((a,s)=>{const i=new Intl.RelativeTimeFormat(a,{...s});return l=>i.format(l,s.range||"day")}),list:n((a,s)=>{const i=new Intl.ListFormat(a,{...s});return l=>i.format(l)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=VR(r)}format(t,r,n,a={}){const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{var f;const{formatName:u,formatOptions:d}=Jte(c);if(this.formats[u]){let h=l;try{const m=((f=a==null?void 0:a.formatParams)==null?void 0:f[a.interpolationkey])||{},p=m.locale||m.lng||a.locale||a.lng||n;h=this.formats[u](l,p,{...d,...a,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const ere=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class tre extends D_{constructor(t,r,n,a={}){var s,i;super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=il.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(i=(s=this.backend)==null?void 0:s.init)==null||i.call(s,n,a.backend,a)}queueLoad(t,r,n,a){const s={},i={},l={},c={};return t.forEach(u=>{let d=!0;r.forEach(f=>{const h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?i[h]===void 0&&(i[h]=!0):(this.state[h]=1,d=!1,i[h]===void 0&&(i[h]=!0),s[h]===void 0&&(s[h]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(s).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(s),pending:Object.keys(i),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const a=t.split("|"),s=a[0],i=a[1];r&&this.emit("failedLoading",s,i,r),!r&&n&&this.store.addResourceBundle(s,i,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{$te(c.loaded,[s],i),ere(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n,a=0,s=this.retryTimeout,i){if(!t.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:a,wait:s,callback:i});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,a+1,s*2,i)},s);return}i(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(t,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,r,l)}prepareLoading(t,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Ct(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Ct(r)&&(r=[r]);const s=this.queueLoad(t,r,n,a);if(!s.toLoad.length)return s.pending.length||a(),null;s.toLoad.forEach(i=>{this.loadOne(i)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t,r=""){const n=t.split("|"),a=n[0],s=n[1];this.read(a,s,"read",void 0,void 0,(i,l)=>{i&&this.logger.warn(`${r}loading namespace ${s} for language ${a} failed`,i),!i&&l&&this.logger.log(`${r}loaded namespace ${s} for language ${a}`,l),this.loaded(t,i,l)})}saveMissing(t,r,n,a,s,i={},l=()=>{}){var c,u,d,f,h;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((h=this.backend)!=null&&h.create){const m={...i,isUpdate:s},p=this.backend.create.bind(this.backend);if(p.length<6)try{let g;p.length===5?g=p(t,r,n,a,m):g=p(t,r,n,a),g&&typeof g.then=="function"?g.then(v=>l(null,v)).catch(l):l(null,g)}catch(g){l(g)}else p(t,r,n,a,l,m)}!t||!t[0]||this.store.addResource(t[0],r,n,a)}}}const WR=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Ct(e[1])&&(t.defaultValue=e[1]),Ct(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),HR=e=>{var t,r;return Ct(e.ns)&&(e.ns=[e.ns]),Ct(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Ct(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((r=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:r.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Iy=()=>{},rre=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class vg extends D_{constructor(t={},r){if(super(),this.options=HR(t),this.services={},this.logger=il,this.modules={external:[]},rre(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(Ct(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=WR();this.options={...n,...this.options,...HR(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?il.init(a(this.modules.logger),this.options):il.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=Zte;const d=new $R(this.options);this.store=new FR(this.options.resources,this.options);const f=this.services;f.logger=il,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new Yte(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=a(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Xte(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new tre(a(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...p)=>{this.emit(m,...p)}),this.modules.languageDetector&&(f.languageDetector=a(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=a(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new N1(this.services,this.options),this.translator.on("*",(m,...p)=>{this.emit(m,...p)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Iy),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=N0(),c=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(d,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,r=Iy){var s,i;let n=r;const a=Ct(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(i=(s=this.options.preload)==null?void 0:s.forEach)==null||i.call(s,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(t,r,n){const a=N0();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=Iy),this.services.backendConnector.reload(t,r,s=>{a.resolve(),n(s)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&gU.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const n=N0();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===t&&(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(l,(...u)=>this.t(...u))},i=l=>{var d,f;!t&&!l&&this.services.languageDetector&&(l=[]);const c=Ct(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Ct(l)?[l]:l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),(f=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||f.call(d,u)),this.loadResources(u,h=>{s(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?i(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(t),n}getFixedT(t,r,n){const a=(s,i,...l)=>{let c;typeof i!="object"?c=this.options.overloadTranslationOptionHandler([s,i].concat(l)):c={...i},c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||a.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(s)?d=s.map(f=>(typeof f=="function"&&(f=B2(f,{...this.options,...i})),`${c.keyPrefix}${u}${f}`)):(typeof s=="function"&&(s=B2(s,{...this.options,...i})),d=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(d,c)};return Ct(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=n,a}t(...t){var r;return(r=this.translator)==null?void 0:r.translate(...t)}exists(...t){var r;return(r=this.translator)==null?void 0:r.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const i=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,i);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(n,t)&&(!a||i(s,t)))}loadNamespaces(t,r){const n=N0();return this.options.ns?(Ct(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=N0();Ct(t)&&(t=[t]);const a=this.options.preload||[],s=t.filter(i=>a.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return s.length?(this.options.preload=a.concat(s),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}dir(t){var a,s;if(t||(t=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const i=new Intl.Locale(t);if(i&&i.getTextInfo){const l=i.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((s=this.services)==null?void 0:s.languageUtils)||new $R(WR());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){const n=new vg(t,r);return n.createInstance=vg.createInstance,n}cloneInstance(t={},r=Iy){const n=t.forkResourceStore;n&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},s=new vg(a);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,f)=>(d[f]={...c[u][f]},d),c[u]),c),{});s.store=new FR(l,a),s.services.resourceStore=s.store}return s.translator=new N1(s.services,a),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(a,r),s.translator.options=a,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Wr=vg.createInstance();Wr.createInstance;Wr.dir;Wr.init;Wr.loadResources;Wr.reloadResources;Wr.use;Wr.changeLanguage;Wr.getFixedT;Wr.t;Wr.exists;Wr.setDefaultNamespace;Wr.hasLoadedNamespace;Wr.loadNamespaces;Wr.loadLanguages;const nre=(e,t,r,n)=>{var s,i,l,c;const a=[r,{code:t,...n||{}}];if((i=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&i.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);xf(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},qR={},xU=(e,t,r,n)=>{xf(r)&&qR[r]||(xf(r)&&(qR[r]=new Date),nre(e,t,r,n))},yU=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},U2=(e,t,r)=>{e.loadNamespaces(t,yU(e,r))},KR=(e,t,r,n)=>{if(xf(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return U2(e,r,n);r.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,yU(e,n))},are=(e,t,r={})=>!t.languages||!t.languages.length?(xU(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,e))return!1}}),xf=e=>typeof e=="string",sre=e=>typeof e=="object"&&e!==null,ire=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ore={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},lre=e=>ore[e],cre=e=>e.replace(ire,lre);let z2={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:cre};const ure=(e={})=>{z2={...z2,...e}},dre=()=>z2;let bU;const fre=e=>{bU=e},hre=()=>bU,mre={type:"3rdParty",init(e){ure(e.options.react),fre(e)}},wU=x.createContext();class pre{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var _U={exports:{}},SU={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm=x;function gre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vre=typeof Object.is=="function"?Object.is:gre,xre=Mm.useState,yre=Mm.useEffect,bre=Mm.useLayoutEffect,wre=Mm.useDebugValue;function _re(e,t){var r=t(),n=xre({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return bre(function(){a.value=r,a.getSnapshot=t,lk(a)&&s({inst:a})},[e,r,t]),yre(function(){return lk(a)&&s({inst:a}),e(function(){lk(a)&&s({inst:a})})},[e]),wre(r),r}function lk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!vre(e,r)}catch{return!0}}function Sre(e,t){return t()}var jre=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Sre:_re;SU.useSyncExternalStore=Mm.useSyncExternalStore!==void 0?Mm.useSyncExternalStore:jre;_U.exports=SU;var jU=_U.exports;const kre=(e,t)=>xf(t)?t:sre(t)&&xf(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,Nre={t:kre,ready:!1},Cre=()=>()=>{},$t=(e,t={})=>{var j,N;const{i18n:r}=t,{i18n:n,defaultNS:a}=x.useContext(wU)||{},s=r||n||hre();s&&!s.reportNamespaces&&(s.reportNamespaces=new pre),s||xU(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const i=x.useMemo(()=>{var C;return{...dre(),...(C=s==null?void 0:s.options)==null?void 0:C.react,...t}},[s,t]),{useSuspense:l,keyPrefix:c}=i,u=x.useMemo(()=>{var T;const C=a||((T=s==null?void 0:s.options)==null?void 0:T.defaultNS);return xf(C)?[C]:C||["translation"]},[e,a,s]);(N=(j=s==null?void 0:s.reportNamespaces)==null?void 0:j.addUsedNamespaces)==null||N.call(j,u);const d=x.useRef(0),f=x.useCallback(C=>{if(!s)return Cre;const{bindI18n:T,bindI18nStore:D}=i,A=()=>{d.current+=1,C()};return T&&s.on(T,A),D&&s.store.on(D,A),()=>{T&&T.split(" ").forEach(H=>s.off(H,A)),D&&D.split(" ").forEach(H=>s.store.off(H,A))}},[s,i]),h=x.useRef(),m=x.useCallback(()=>{if(!s)return Nre;const C=!!(s.isInitialized||s.initializedStoreOnce)&&u.every(L=>are(L,s,i)),T=t.lng||s.language,D=d.current,A=h.current;if(A&&A.ready===C&&A.lng===T&&A.keyPrefix===c&&A.revision===D)return A;const X={t:s.getFixedT(T,i.nsMode==="fallback"?u:u[0],c),ready:C,lng:T,keyPrefix:c,revision:D};return h.current=X,X},[s,u,c,i,t.lng]),[p,g]=x.useState(0),{t:v,ready:y}=jU.useSyncExternalStore(f,m,m);x.useEffect(()=>{if(s&&!y&&!l){const C=()=>g(T=>T+1);t.lng?KR(s,t.lng,u,C):U2(s,u,C)}},[s,t.lng,u,y,l,p]);const b=s||{},w=x.useRef(null),_=x.useRef(),S=C=>{const T=Object.getOwnPropertyDescriptors(C);T.__original&&delete T.__original;const D=Object.create(Object.getPrototypeOf(C),T);if(!Object.prototype.hasOwnProperty.call(D,"__original"))try{Object.defineProperty(D,"__original",{value:C,writable:!1,enumerable:!1,configurable:!1})}catch{}return D},k=x.useMemo(()=>{const C=b,T=C==null?void 0:C.language;let D=C;C&&(w.current&&w.current.__original===C?_.current!==T?(D=S(C),w.current=D,_.current=T):D=w.current:(D=S(C),w.current=D,_.current=T));const A=[v,D,y];return A.t=v,A.i18n=D,A.ready=y,A},[v,b,y,b.resolvedLanguage,b.language,b.languages]);if(s&&l&&!y)throw new Promise(C=>{const T=()=>C();t.lng?KR(s,t.lng,u,T):U2(s,u,T)});return k};function Ere({i18n:e,defaultNS:t,children:r}){const n=x.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return x.createElement(wU.Provider,{value:n},r)}const Tre={home:"Home",dashboard:"Dashboard",empDashboard:"Emp Dashboard",clientPortal:"Client Portal",partnerDashboard:"Partner Dashboard",leads:"Leads",masterLeads:"Master Leads",projects:"Projects",tasks:"Tasks",tickets:"Tickets",teams:"Teams",chats:"Chats",allChats:"All Chats",surveys:"Surveys",users:"Users",settings:"Settings",mainGroup:"Main",salesGroup:"Sales",workGroup:"Work",communicationGroup:"Communication",requestGroup:"",requests:"Requests",systemGroup:"System",permissions:"Permissions"},Are={save:"Save",cancel:"Cancel",close:"Close",submit:"Submit",delete:"Delete",edit:"Edit",add:"Add",create:"Create",login:"Login",signup:"Sign Up",logout:"Logout",saving:"Saving..."},Ore={name:"Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",phone:"Phone",message:"Message"},Pre={signIn:"Sign In",signUp:"Sign Up",createAccount:"Create Account",enterCredentials:"Enter your credentials to access your account",signUpToGetStarted:"Sign up to get started",chooseAccountType:"Choose your account type to continue with Google",chooseAccountTypeSignUp:"Choose your account type to sign up with Google",client:"Client",partner:"Partner",partnerEmployee:"Partner Employee",redirectingToGoogle:"Redirecting to Google...",orContinueWith:"Or continue with",email:"Email",password:"Password",signingIn:"Logging in...",signInButton:"Login",signUpButton:"Sign Up",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",noAccount:"Don't have an account?",clientPortal:"Client Portal",failedToSignIn:"Failed to sign in",failedToSignInWithGoogle:"Failed to sign in with Google",welcomeBack:"Welcome Back",emailOrUsername:"Email / Username",enterEmail:"Enter your email",enterPassword:"Enter your password",companyCode:"Company Code",forgotPassword:"Forgot your password?",forgotPasswordDesc:"Please contact your administrator to reset your password.",loginSuccess:"Logged in successfully",loginFailed:"Failed to login. Please check your credentials.",loginFailedTitle:"Login Failed"},Dre={welcome:"Welcome",loading:"Loading...",error:"Error",success:"Success",search:"Search",filter:"Filter",filters:"Filters",notifications:"Notifications",kanban:"Kanban",add:"Add",edit:"Edit",delete:"Delete",create:"Create",update:"Update",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close",submit:"Submit",back:"Back",next:"Next",previous:"Previous",first:"First",last:"Last",noData:"No data available",noResults:"No results found",noItems:"No items to display",noRecords:"No records found",noRecordsFound:"No records found",noMatches:"No matches found",list:"List",select:"Select",view:"View",status:"Status",assignee:"Assignee",all:"All",pickDate:"Pick a date",clearFilters:"Clear filters",created:"Created",actions:"Actions",stage:"Stage",priority:"Priority",veryLow:"Very Low",low:"Low",medium:"Medium",high:"High",veryHigh:"Very High",overview:"Overview",unassigned:"Unassigned",page:"Page",of:"of"},Rre={open:"Open",in_progress:"In Progress",closed:"Closed",resolve:"Resolve",reopen:"Reopen",pending:"Pending",approved:"Approved",rejected:"Rejected",completed:"Completed"},Ire={title:"Dashboard",subtitle:"Welcome to your CRM dashboard",totalProjects:"Total Projects",completed:"completed",inProgress:"In Progress",activeProjects:"active projects",clients:"Clients",totalClients:"total clients",teamMembers:"Team Members",activeUsers:"active users",leads:"Leads",totalLeads:"total leads",surveys:"Surveys",totalSurveys:"total surveys",recentProjects:"Recent Projects",projectStatus:"Project Status",noProjectsYet:"No projects yet",noClient:"No client",mleadsTrend:"MLeads Trend (Last 30 Days)",recentMLeads:"Recent MLeads",companyName:"Company",contactPerson:"Contact Person",email:"Email",phone:"Phone",status:"Status",createdAt:"Created At",noMLeads:"No MLeads found",completedStatus:"Completed",inProgressStatus:"In Progress",notStartedStatus:"Not Started"},Mre={title:"Leads",subtitle:"Manage and track all your leads",newLead:"New Lead",addLead:"Add Lead",createLead:"Create New Lead",createLeadDesc:"Add a new lead to the selected stage.",leadName:"Lead Name",leadNamePlaceholder:"Enter lead name",description:"Description",descriptionPlaceholder:"Enter lead description",clientName:"Client Name",clientNamePlaceholder:"Enter client name",client:"Client",selectClient:"Select a client (optional)",noClient:"No client",unknown:"Unknown",created:"Created",updated:"Updated",createdBy:"Created by",assignedTo:"Assigned to",assignToEmployee:"Assign to Employee",selectAssignee:"Select assignee",lead:"Lead",deleteLead:"Delete Lead",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',addStage:"Add Stage",stageNamePlaceholder:"Stage name...",deleteStage:"Delete Stage",deleteStageConfirmation:"This stage contains {{count}} lead(s). Deleting this stage will also remove all leads in it. This action cannot be undone.",addNewLeadCard:"Add New Lead",noLeadsYet:"No leads have been created yet.",value:"Value",currency:"Currency",stageTotal:"Total: {{amount}}",leadDetails:"Lead Details",leadDetailsDesc:"View and edit lead information",notFound:"Lead not found",expectedCloseDate:"Expected Close Date"},Fre={title:"Notes",addNote:"Add Note",noNotes:"No notes yet",placeholder:"Enter your note...",save:"Save Note",edit:"Edit",delete:"Delete Note",deleteConfirmation:"Are you sure you want to delete this note?",unknown:"Unknown user"},Lre={title:"Projects",subtitle:"Manage and track all your projects",newProject:"New Project",createProject:"Create New Project",createProjectDesc:"Add a new project to the selected stage.",projectName:"Project Name",projectNamePlaceholder:"Enter project name",description:"Description",descriptionPlaceholder:"Enter project description",client:"Client",selectClient:"Select a client",initialProgress:"Initial Progress",addProject:"Add Project",addNewProjectCard:"Add New Project",progress:"Progress",started:"Started",completed:"Completed",due:"Due",deleteProject:"Delete Project",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',noProjectsYet:"No projects have been created yet.",dueDate:"Due Date",stage:"Stage",manager:"Manager",deleteComment:"Delete Comment",deleteCommentConfirmation:"Are you sure you want to delete this comment?"},$re={title:"Settings",description:"Manage application settings and configurations",stageManagement:"Stage Management",leads:"Lead Stages",projects:"Project Stages",tasks:"Task Stages",tickets:"Ticket Stages",mleads:"Master Lead Stages",mprojects:"Master Project Stages",addStage:"Add Stage",editStage:"Edit Stage",deleteStage:"Delete Stage",stageName:"Stage Name",stageNamePlaceholder:"Enter stage name",stageColor:"Stage Color",order:"Order",noStages:"No stages found. Add one to get started.",addStageDesc:"Add a new stage for {{type}}",deleteStageConfirmation:"Are you sure you want to delete this stage? This action cannot be undone.",englishName:"English name",arabicName:"Arabic name",changePassword:"Change Password",changePasswordDescription:"Enter your new password below. Make sure it's at least 6 characters long.",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",newPasswordRequired:"New password is required",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",passwordsDoNotMatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters long",changingPassword:"Changing password...",passwordChangedSuccessfully:"Password changed successfully!",passwordChangeFailed:"Failed to change password"},Bre={title:"Messages",channels:"Channels",teams:"Teams",directMessages:"Direct Messages",welcome:"Welcome to Chat",selectRoomDesc:"Select a channel or direct message to start chatting.",membersCount:"{{count}} members",loadingMembers:"Loading members...",today:"Today",placeholder:"Message...",noChannels:"No channels",noMessages:"No messages"},Ure={title:"Tickets",subtitle:"Manage and track all support tickets.",newTicket:"New Ticket",createNewTicket:"Create New Ticket",createTicketDesc:"Fill in the details to create a new support ticket.",searchPlaceholder:"Search tickets...",allTickets:"All Tickets",noTicketsFound:"No Tickets Found",noTicketsFoundDesc:"Try adjusting your search terms.",noTicketsYet:"No tickets have been created yet.",id:"ID",subject:"Subject",subjectPlaceholder:"Enter ticket subject",description:"Description",descriptionPlaceholder:"Describe the issue or request",status:"Status",priority:"Priority",priorityLow:"Low",priorityMedium:"Medium",priorityHigh:"High",priorityUrgent:"Urgent",ticketType:"Ticket Type",typeRequest:"Request",typeFollowUp:"Follow Up",typeIssue:"Issue",typeInternalTask:"Internal Task",assignTo:"Assign To",selectAssignee:"Select assignee (optional)",assignedTo:"Assigned To",createdDate:"Created Date",actions:"Actions",view:"View",loading:"Loading tickets...",createTicket:"Create Ticket",creatingTicket:"Creating...",createError:"Failed to create ticket",allStatuses:"All Statuses",allPriorities:"All Priorities",allTypes:"All Types",allStages:"All Stages",noTicketsInPage:"No tickets in this page",stage:"Stage",statusOpen:"Open",statusInProgress:"In Progress",statusResolved:"Resolved",statusClosed:"Closed",ticketId:"Ticket ID",createdBy:"Created By",resolvedDate:"Resolved Date",closedDate:"Closed Date"},zre={title:"Teams",subtitle:"Manage teams and team members",createTeam:"Create Team",createTeamTitle:"Create New Team",createTeamDesc:"Create a new team and assign a team leader. You can add members after creation.",teamName:"Team Name",teamNamePlaceholder:"Enter team name",team_leader:"Team Leader",teamLeader:"Team Leader",selectTeamLeader:"Select a team leader (optional)",searchPlaceholder:"Search teams...",members:"Members",memberCount:"{{count}} member",memberCount_plural:"{{count}} members",addMember:"Add member",created:"Created",noTeamsFound:"No teams found",noTeamsYet:"No teams yet",createFirstTeam:"Create Your First Team",deleteTeam:"Delete Team",deleteConfirmation:'Are you sure you want to delete "{{name}}"? This will also remove all team members. This action cannot be undone.',moreMembers:"+{{count}} more members",noMembersYet:"No members yet"},Vre={title:"Tasks",subtitle:"Manage and track all your tasks in one place.",loading:"Loading...",error:"Error",description:"Description",deleteTask:"Delete Task",createTask:"Create New Task",createTaskDesc:"Add a new task to the selected stage.",newTask:"New Task",addNewTask:"Add New Task",addTask:"Add Task",taskName:"Task Name",taskNamePlaceholder:"Enter task name",descriptionPlaceholder:"Enter task description",dueDate:"Due Date",selectUser:"Select a user",selectStage:"Select a stage",selectStatus:"Select status",todo:"Todo",inProgress:"In Progress",done:"Done",stage:"Stage",allTasks:"All Tasks",totalTasks:"Total Tasks",status:"Status",assignedTo:"Assigned To",noTasksYet:"No tasks have been created yet."},Wre={brandName:"Middar",badge:" New Feature",hero:{title:{line1:"Streamline Your",line2:"Business Operations"},description:"Powerful CRM solution to manage projects, leads, tasks, and teams all in one place. Boost productivity and grow your business with our comprehensive platform.",cta:{primary:"Get Started",secondary:"Learn More"}},stats:{users:"10K+",usersLabel:"Active Users",projects:"50K+",projectsLabel:"Projects Managed",uptime:"99.9%",uptimeLabel:"Uptime",support:"24/7",supportLabel:"Support"},features:{title:"Everything you need to succeed",subtitle:"Comprehensive tools designed for modern businesses",projectManagement:{title:"Project Management",description:"Track projects from inception to completion with detailed progress monitoring and team collaboration."},leadManagement:{title:"Lead Management",description:"Convert more leads with our advanced CRM tools and automated follow-up systems."},analytics:{title:"Analytics & Insights",description:"Make data-driven decisions with comprehensive analytics and reporting dashboards."},communication:{title:"Team Communication",description:"Keep your team connected with integrated chat, notifications, and collaboration tools."},taskManagement:{title:"Task Management",description:"Organize and prioritize tasks with our intuitive kanban board and deadline tracking."},security:{title:"Enterprise Security",description:"Your data is protected with enterprise-grade security and compliance standards."}},cta:{title:"Ready to get started?",description:"Join thousands of businesses transforming their operations with our CRM.",button:"Start Free Trial"},partner:{title:"Become a Partner",subtitle:"Help distribute this CRM and grow with us. Fill the form below and we will get back to you.",companyName:"Company Name",fullName:"Full Name",email:"Email Address",phone:"Phone Number",submit:"Apply Now",success:"Application Received",successMessage:"Thank you for your interest! We will contact you shortly."},footer:{copyright:" 2025 {{brand}} CRM. All rights reserved."}},Hre={title:"Users",subtitle:"Manage system users and their roles",totalUsers:"Total Users",addUser:"Add User",addNewUser:"Add New User",addUserDescription:"Fill in the details below to create a new user account.",fullName:"Full Name",email:"Email",password:"Password",role:"Role",admin:"Admin",manager:"Manager",employee:"Employee",partner_leader:"Partner Leader",team_leader:"Team Leader",client:"Client",employees:"Employees",clients:"Clients",addingUser:"Adding user...",addUserError:"Failed to add user",deleteUser:"Delete User",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',deleteError:"Failed to delete user",updateRoleError:"Failed to update user role",changeRole:"Change Role",searchPlaceholder:"Search users...",noUsersFound:"No users found",noUsersFoundDesc:"Try adjusting your search terms.",noUsersAvailable:"No users available",joined:"Joined",updated:"Updated",userDetails:"User Details",userDetailsDescription:"View detailed information about this user",phone:"Phone",contact:"Contact",company:"Company",userId:"User ID",authUserId:"Auth User ID",updateUserError:"Failed to update user",partners:"Partners",partnerUsers:"Partner Users",partnerApplications:"Partner Applications",partner:"Partner",partner_employee:"Partner Employee",noPartnerUsersFound:"No partner users found",noApplicationsFound:"No applications found",approve:"Approve",reject:"Reject",rejectConfirmation:"Are you sure you want to reject this application?",viewApplication:"View Application"},qre={title:"Clients",subtitle:"Manage and view all your clients",newClient:"New Client",loading:"Loading clients...",noClientsFound:"No clients found",noClientsYet:"No clients have been added yet",active:"active",totalProjects:"Total Projects",activeProjects:"Active Projects",completedProjects:"Completed Projects",noCompany:"No company",noEmail:"No email",projects:"projects",viewDetails:"View Details",clientDetails:"Client Details",userId:"User ID",emailLabel:"Email",contactLabel:"Contact",companyLabel:"Company",createdLabel:"Created",updatedLabel:"Updated",projectSummary:"Project Summary"},Kre={title:"My Dashboard",subtitle:"Welcome back, {{name}}! Here's your work overview.",employeeInfo:"Employee Information",name:"Name",email:"Email",role:"Role",memberSince:"Member Since",myProjects:"My Projects",active:"active",myTasks:"My Tasks",completed:"completed",inProgress:"In Progress",activeTasks:"Active tasks",completedTasks:"Completed",finishedTasks:"Finished tasks",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentTasks:"Recent Tasks",noDescription:"No description",noProjectsAssigned:"No projects assigned yet",noTasksAssigned:"No tasks assigned yet"},Gre={chatRooms:"Chat Rooms",createRoomTitle:"Create New Room",createRoomDesc:"Create a new chat room for your team or project",roomName:"Room Name",roomNamePlaceholder:"Enter room name",private:"Private",privateRoom:"Private Room",publicRoom:"Public Room",project:"Project",projectIdPlaceholder:"Enter project ID (optional)",createRoom:"Create Room",searchConversations:"Search conversations...",searchRooms:"Search rooms...",members:"members",online:"Online",selectRoom:"Select a room to start chatting",selectConversation:"Select a conversation",connectDescription:"Connect with your clients through Email, WhatsApp, and more.",typeMessage:"Type a message...",you:"You",unknownUser:"Unknown User",justNow:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",viewDetails:"View Details",viewContactDetails:"View Contact Details",deleteConversation:"Delete Conversation",muteNotifications:"Mute Notifications",leaveRoom:"Leave Room",someoneTyping:"Someone is typing...",note:"Note",resolvedMessage:"This conversation is resolved. Reopen it to send a message.",resolved:"Resolved"},Yre={title:"Surveys",subtitle:"Manage and track all surveys and questionnaires",surveys:"Surveys",templates:"Templates",totalSurveys:"Total Surveys",surveyName:"Survey Name",bulkImport:"Bulk Import",selectTemplateForImport:"Select a template to import surveys into",uploadFile:"Upload your Excel file",reviewData:"Review and map your data",importingData:"Importing your data...",importInstructions:"Import Instructions:",importInstruction1:"File must be in Excel (.xlsx, .xls) or CSV format",importInstruction2:"First row should contain column headers",importInstruction3:"Column headers should match template field names",dragDropFile:"Drag and drop your file here, or",selectFile:"Select File",fileEmpty:"The uploaded file is empty",fileParseError:"Failed to parse the file. Please check the format and try again.",validationErrors:"Validation Errors Found",requiredFieldNotFound:"Required field {{field}} not found in file",requiredFieldNotMapped:"Required field {{field}} is not mapped",columnMapping:"Column Mapping",required:"Required",notMapped:"Not Mapped",optional:"Optional",noTemplateSelected:"No template selected",previewFirstRows:"Preview First {{count}} Rows",showingRows:"Showing {{shown}} of {{total}} rows",startImport:"Start Import",processingRows:"Processing",importSuccess:"Successfully imported {{count}} surveys",importFailed:"Failed to import surveys",createdDate:"Created Date",deleteSurvey:"Delete Survey",deleteSurveyConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',createTemplate:"Create Template",createTemplateTitle:"Create New Survey Template",createTemplateDesc:"Create a custom survey template for your needs",templateName:"Template Name",templateNameAr:"Template Name (Arabic)",description:"Description",descriptionAr:"Description (Arabic)",category:"Category",selectCategory:"Select Category",setAsDefault:"Set as Default",customerSatisfaction:"Customer Satisfaction",productFeedback:"Product Feedback",serviceQuality:"Service Quality",general:"General",settings:"Settings",isActive:"Active",isDefault:"Default",searchPlaceholder:"Search surveys...",noSurveysFound:"No surveys found",noSurveysFoundDesc:"Try adjusting your search terms.",noSurveysYet:"No surveys have been created yet.",noTemplatesFound:"No templates found",noTemplatesFoundDesc:"Try adjusting your search terms.",noTemplatesYet:"No templates have been created yet.",survey:"Survey",clientName:"Client Name",clientCompany:"Client Company",contact:"Contact",noContact:"No contact",noCompany:"No company",noEmail:"No email",location:"Location",responses:"Responses",completed:"Completed",inProgress:"In Progress",pending:"Pending",active:"Active",inactive:"Inactive",default:"Default",noCategory:"No category",status:"Status",noDescription:"No description",fields:"Fields",noFields:"No fields defined",noResponsesRecorded:"No responses recorded",created:"Created",updated:"Updated",createdBy:"Created By",unknownCreator:"Unknown Creator",newSurvey:"New Survey",createNewSurvey:"Create New Survey",selectTemplate:"Select Template",fillSurveyDetails:"Fill Survey Details",changeTemplate:"Change Template",submitSurvey:"Submit Survey",locationWillBeCaptured:"Your location will be captured automatically",addField:"Add Field",fieldLabel:"Field Label",fieldType:"Field Type",text:"Text",textarea:"Textarea",email:"Email",date:"Date",select:"Select",multiselect:"Multiselect",radio:"Radio",checkbox:"Checkbox",image:"Image",options:"Options",optionsPlaceholder:"Enter options separated by spaces (e.g., option1 option2 option3)",isRequired:"Required",editTemplateTitle:"Edit Survey Template",updateTemplate:"Update Template",deleteTemplate:"Delete Template",deleteTemplateConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',templateNameRequired:"Template name is required",atLeastOneFieldRequired:"At least one field is required",fieldLabelRequired:"Field {{number}}: Label is required",templateCreated:"Template created successfully!",templateUpdated:"Template updated successfully!",templateValidationFailed:"Please fix the validation errors before saving.",templateSaveError:"Failed to {{action}} template. Please try again.",bulkSelect:"Bulk Select",exitBulkMode:"Exit Bulk Mode",bulkDeleteSuccess:"Successfully deleted {{count}} surveys",bulkDeleteError:"Failed to delete surveys",confirmBulkDelete:"Delete Selected Surveys",confirmBulkDeleteDesc:"Are you sure you want to delete {{count}} selected surveys? This action cannot be undone.",selectedCount:"{{count}} surveys selected",clearSelection:"Clear Selection",deleteSelected:"Delete Selected",selectAll:"Select All"},Xre={company:"Company",city:"City",country:"Country",activity:"Activity",createdBy:"Created By",status:"Status",system:"System",assignedTo:"Assigned To",created:"Created",stage:"Stage",allStatuses:"All Statuses",allActivities:"All Activities",allSystems:"All Systems",allCountries:"All Countries",allCities:"All Cities",allUsers:"All Users",allStages:"All Stages",leadName:"Lead Name",quotation:"Quotation",uploadQuotation:"Upload Quotation",description:"Description",decisionMaker:"Decision Maker",clearFilters:"Clear Filters",notes:"Notes",value:"Value",currency:"Currency",leadDetails:"Lead Details",companyName:"Company Name",address:"Address",contacts:"Contacts",addContact:"+ Add Contact",noContactsFound:"No contacts found",cancel:"Cancel",contactName:"Contact name",email:"Email",showChart:"Show Chart",createLead:"Create Lead",editlead:"Edit Lead",hideChart:"Hide Chart",firstName:"First Name",lastName:"Last Name",mobile:"Mobile",jobTitle:"Job Title",selectContact:"Select contact",selectStage:"Select stage",selectJobTitle:"Select job title",searchActivity:"Search Activity",searchCountry:"Search Country",searchCity:"Search City",searchSystem:"Search System",searchStatus:"Search Status",searchUser:"Search User",searchStage:"Search Stage",searchJobTitle:"Search Job Title",kanbanView:"Kanban View",listView:"List View",searchPlaceholder:"Search by company or address",addNew:"+ Add New",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",selectCountry:"Select country",createCity:"Create City",selectActivity:"Select activity",selectSystem:"Select system",selectStatus:"Select status",selectUser:"Select user",editLead:"Edit Lead",createNewLead:"Create New Lead",addContactTitle:"Add Contact",createNewCity:"Create New City",systemNameEn:"System name (English)",systemNameAr:"System name (Arabic)",createSystem:"Create System",createNewSystem:"Create New System",activityNameEn:"Activity name (English)",activityNameAr:"Activity name (Arabic)",createActivity:"Create Activity",createNewActivity:"Create New Activity",statusNameEn:"Status name (English)",statusNameAr:"Status name (Arabic)",createStatus:"Create Status",createNewStatus:"Create New Status",masterLeads:"Master Leads",manageMasterLeadsData:"Manage master leads data",noLeadsFound:"No leads found",createNewLeadToGetStarted:"Create a new lead to get started",deleteLead:"Delete Lead",deleteLeadConfirmation:"Are you sure you want to delete this lead? This action cannot be undone.",leadUpdatedSuccessfully:"Lead updated successfully",leadCreatedSuccessfully:"Lead created successfully",leadDeletedSuccessfully:"Lead deleted successfully",leadsDeletedSuccessfully:"leads deleted successfully",cityCreatedSuccessfully:"City created successfully",systemCreatedSuccessfully:"System created successfully",activityCreatedSuccessfully:"Activity created successfully",statusCreatedSuccessfully:"Status created successfully",showLead:"Show Lead",hideLead:"Hide Lead"},Jre={masterProjects:"Master Projects",manageMasterProjectsData:"Manage master projects data",kanbanView:"Kanban View",listView:"List View",company:"Company",country:"Country",contactName:"Contact name",mobile:"Mobile",email:"Email",jobTitle:"Job Title",selectJobTitle:"Select job title",addContactTitle:"Add Contact",searchJobTitle:"Search Job Title",contacts:"Contacts",allCountries:"All Countries",allCities:"All Cities",searchPlaceholder:"Search by company, addresses or contract code",notStarted:"Not Started",inProgress:"In Progress",completed:"Completed",clearFilters:"Clear Filters",noContactsFound:"No contacts found",projectName:"Project Name",description:"Description",notes:"Notes",projectDetails:"Project Details",companyName:"Company Name",contractCode:"Contract Code",contractAmount:"Contract Amount",startDate:"Start Date",endDate:"End Date",city:"City",contact:"Contact",created:"Created",createNewProject:"Create New Project",editProject:"Edit Project",deleteProject:"Delete Project",deleteProjectConfirmation:"Are you sure you want to delete this project? This action cannot be undone.",projectUpdatedSuccessfully:"Project updated successfully",projectCreatedSuccessfully:"Project created successfully",projectDeletedSuccessfully:"Project deleted successfully",projectsDeletedSuccessfully:"projects deleted successfully",cityCreatedSuccessfully:"City created successfully",showChart:"Show Chart",hideChart:"Hide Chart",selectCity:"Select city",selectContact:"Select contact",selectCountry:"Select country",addCity:"Add City",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",createNewCity:"Create New City",noProjectsFound:"No projects found",createNewProjectToGetStarted:"Create a new project to get started",analytics:"Analytics",contractDocument:"Contract Document",existingDocumentWillBeReplaced:"Existing document will be replaced",uploadContractDocument:"Upload Contract Document",supportedFormats:"Supported formats",createCity:"Create City",addContact:"Add Contact",createContact:"Create",contactCreatedSuccessfully:"Contact created successfully",cancel:"Cancel"},Qre={title:"Requests",subtitle:"Manage internal requests and tasks",createRequest:"Create Request",editRequest:"Edit Request",requestTitle:"Request Title",titlePlaceholder:"Enter request title",searchPlaceholder:"Search requests...",type:"Type",priority:"Priority",status:"Status",createdDate:"Created Date",deleteSuccess:"Request deleted successfully",updateSuccess:"Request updated successfully",createSuccess:"Request created successfully",deleteConfirmation:"Are you sure you want to delete this request? This action cannot be undone.",description:"Description",descriptionPlaceholder:"Request details...",types:{internalTask:"Internal Task",support:"Support",feature:"Feature"},priorities:{low:"Low",medium:"Medium",high:"High"}},Zre={navigation:Tre,buttons:Are,forms:Ore,auth:Pre,common:Dre,status:Rre,dashboard:Ire,leads:Mre,notes:Fre,projects:Lre,settings:$re,chat:Bre,tickets:Ure,teams:zre,tasks:Vre,landing:Wre,users:Hre,clients:qre,employeeDashboard:Kre,chats:Gre,surveys:Yre,mleads:Xre,mprojects:Jre,requests:Qre},ene={home:"",dashboard:" ",projects:"",users:"",settings:"",leads:" ",masterLeads:" ",tickets:"",tasks:"",teams:"",clients:"",chats:"",allChats:" ",surveys:"",clientPortal:" ",partnerDashboard:"  ",empDashboard:"  ",mainGroup:"",salesGroup:"",workGroup:"",communicationGroup:"",requestGroup:"",requestsGroup:"",requests:"",systemGroup:"",permissions:""},tne={save:"",cancel:"",submit:"",delete:"",edit:"",close:"",add:"",create:"",login:" ",signup:" ",logout:" ",saving:" ..."},rne={name:"",email:" ",password:" ",confirmPassword:"  ",phone:"",message:""},nne={signIn:" ",signUp:" ",createAccount:" ",enterCredentials:"  ",signUpToGetStarted:" ",chooseAccountType:"     ",chooseAccountTypeSignUp:"     ",client:"",partner:"",partnerEmployee:" ",redirectingToGoogle:"    ...",orContinueWith:"  ",email:" ",password:" ",signingIn:"  ...",signInButton:" ",signUpButton:" ",dontHaveAccount:"  ",alreadyHaveAccount:"  ",clientPortal:" ",failedToSignIn:"  ",failedToSignInWithGoogle:"    ",emailOrUsername:"  /  ",enterEmail:"  ",enterPassword:"  ",loginSuccess:"   ",loginFailed:"  .    .",loginFailedTitle:"  "},ane={welcome:"",retry:" ",comingSoon:"",loading:" ...",filters:"",error:"",success:"",add:"",edit:"",delete:"",create:"",update:"",save:"",cancel:"",confirm:"",close:"",submit:"",back:"",next:"",previous:"",first:"",last:"",noData:"   ",noResults:"    ",noItems:"   ",noRecords:"    ",noRecordsFound:"    ",noMatches:"    ",search:"",filter:"",notifications:"",kanban:"",list:"",select:"",view:"",status:"",assignee:" ",all:"",pickDate:" ",clearFilters:" ",created:" ",actions:"",stage:"",priority:"",veryLow:" ",low:"",medium:"",high:"",veryHigh:" ",overview:" ",unassigned:" ",page:"",of:""},sne={fillAllFields:"   ",required:"",invalidEmail:"   ",passwordTooShort:"   ",passwordsNotMatch:"   "},ine={title:"   ",subtitle:"     ",comingSoonMessage:"       ."},one={open:"",in_progress:" ",closed:"",resolve:"",reopen:" ",pending:" ",approved:" ",rejected:"",completed:""},lne={title:" ",noClient:"  ",subtitle:" !     .",totalProjects:" ",completed:"",inProgress:" ",activeProjects:" ",clients:"",totalClients:" ",teamMembers:" ",activeUsers:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentProjects:" ",projectStatus:" ",noProjectsYet:"   ",retry:" ",completedStatus:"",inProgressStatus:" ",notStartedStatus:" "},cne={title:" ",subtitle:"    ",newLead:"  ",addLead:"  ",createLead:"   ",createLeadDesc:"      .",leadName:"  ",leadNamePlaceholder:"   ",description:"",descriptionPlaceholder:"   ",clientName:" ",clientNamePlaceholder:"  ",client:"",selectClient:"  ()",noClient:" ",unknown:" ",created:" ",updated:" ",createdBy:"  ",assignedTo:" ",assignToEmployee:" ",selectAssignee:"  ",lead:" ",deleteLead:"  ",deleteConfirmation:'      "{{name}}"',addStage:" ",stageNamePlaceholder:" ...",deleteStage:" ",deleteStageConfirmation:"    {{count}}  .           .      .",addNewLeadCard:"   ",noLeadsYet:"      .",value:"",currency:"",stageTotal:": {{amount}}",leadDetails:"  ",leadDetailsDesc:"    ",notFound:"   ",expectedCloseDate:"  ",totalLeads:"  ",thisMonth:" ",totalValue:" ",avgValue:" "},une={title:"",addNote:" ",noNotes:"   ",placeholder:" ...",save:" ",edit:"",delete:" ",deleteConfirmation:"       ",unknown:"  "},dne={title:"",subtitle:"   ",newProject:" ",createProject:"  ",createProjectDesc:"     .",projectName:" ",projectNamePlaceholder:"  ",description:"",descriptionPlaceholder:"  ",client:"",selectClient:" ",initialProgress:" ",addProject:" ",addNewProjectCard:"  ",progress:"",started:"",due:"",deleteProject:" ",deleteConfirmation:'      "{{name}}"',noProjectsYet:"     .",dueDate:" ",stage:"",manager:"",total:" ",inProgress:" ",completed:"",avgProgress:" ",deleteComment:" ",deleteCommentConfirmation:"       "},fne={title:"",channels:"",teams:"",directMessages:" ",welcome:"   ",selectRoomDesc:"      .",membersCount:"{{count}} ",loadingMembers:"  ...",today:"",placeholder:" ...",noChannels:"  ",noMessages:"  "},hne={title:"",subtitle:"    .",newTicket:" ",createNewTicket:"  ",createTicketDesc:"     .",searchPlaceholder:"  ...",allTickets:" ",noTicketsFound:"  ",noTicketsFoundDesc:"   .",noTicketsYet:"     .",id:"",subject:"",subjectPlaceholder:"  ",description:"",descriptionPlaceholder:"   ",status:"",priority:"",priorityLow:"",priorityMedium:"",priorityHigh:"",priorityUrgent:"",ticketType:" ",typeRequest:"",typeFollowUp:"",typeIssue:"",typeInternalTask:" ",assignTo:" ",selectAssignee:"   ()",assignedTo:" ",createdDate:" ",actions:"",view:"",loading:"  ...",createTicket:" ",creatingTicket:" ...",createError:"   ",allStatuses:" ",allPriorities:" ",allTypes:" ",allStages:" ",noTicketsInPage:"     ",stage:"",statusOpen:"",statusInProgress:" ",statusResolved:" ",statusClosed:"",ticketId:" ",createdBy:"  ",resolvedDate:" ",closedDate:" ",total:" "},mne={title:"",subtitle:"   ",createTeam:" ",createTeamTitle:"  ",createTeamDesc:"     .     .",teamName:" ",teamNamePlaceholder:"  ",team_leader:" ",selectTeamLeader:"   ()",teamLeader:" ",searchPlaceholder:"  ...",members:"",memberCount:"{{count}} ",memberCount_plural:"{{count}} ",addMember:" ",created:" ",noTeamsFound:"  ",noTeamsYet:"   ",createFirstTeam:"  ",deleteTeam:" ",deleteConfirmation:'      "{{name}}"        .      .',moreMembers:"+{{count}}  ",noMembersYet:"   "},pne={title:"",subtitle:"      .",loading:" ...",description:"",error:"",deleteTask:" ",createTask:"  ",createTaskDesc:"     .",newTask:" ",addNewTask:"  ",addTask:" ",taskName:" ",taskNamePlaceholder:"  ",descriptionPlaceholder:"  ",dueDate:" ",selectUser:" ",selectStage:" ",selectStatus:" ",todo:"",inProgress:" ",done:"",stage:"",allTasks:" ",totalTasks:" ",status:"",assignedTo:" ",noTasksYet:"     ."},gne={brandName:"",badge:"  ",hero:{title:{line1:"",line2:" "},description:" CRM           .       .",cta:{primary:" ",secondary:" "}},stats:{users:"10 +",usersLabel:" ",projects:"50 +",projectsLabel:" ",uptime:"99.9%",uptimeLabel:" ",support:"24/7",supportLabel:""},features:{title:"   ",subtitle:"    ",projectManagement:{title:" ",description:"           ."},leadManagement:{title:"  ",description:"       CRM    ."},analytics:{title:" ",description:"        ."},communication:{title:" ",description:"         ."},taskManagement:{title:" ",description:"         ."},security:{title:" ",description:"       ."}},cta:{title:" ",description:"               .",button:"  "},partner:{title:" ",subtitle:"      .      .",companyName:" ",fullName:" ",email:" ",phone:" ",submit:" ",success:"  ",successMessage:" !   ."},footer:{copyright:" 2025 {{brand}} CRM.   ."}},vne={title:"",subtitle:"   ",totalUsers:" ",addUser:" ",addNewUser:"  ",addUserDescription:"      .",fullName:" ",email:" ",password:" ",role:"",admin:"",manager:"",employee:"",team_leader:" ",client:"",employees:"",clients:"",addingUser:"  ...",addUserError:"   ",deleteUser:" ",deleteConfirmation:'      "{{name}}"',deleteError:"   ",updateRoleError:"    ",changeRole:" ",searchPlaceholder:"  ...",noUsersFound:"  ",noUsersFoundDesc:"   .",noUsersAvailable:"   ",joined:"",updated:" ",userDetails:" ",userDetailsDescription:"     ",phone:"",contact:"",company:"",userId:" ",authUserId:"  ",updateUserError:"   ",partners:"",partnerUsers:" ",partnerApplications:" ",partner:"",partner_employee:" ",noPartnerUsersFound:"   ",noApplicationsFound:"   ",approve:"",reject:"",rejectConfirmation:"       ",viewApplication:" "},xne={title:"",subtitle:"   ",newClient:" ",loading:"  ...",noClientsFound:"  ",noClientsYet:"     ",active:"",totalProjects:" ",activeProjects:" ",completedProjects:" ",noCompany:" ",noEmail:"  ",projects:"",viewDetails:" ",clientDetails:" ",userId:" ",emailLabel:" ",contactLabel:"",companyLabel:"",createdLabel:" ",updatedLabel:" ",projectSummary:" "},yne={title:"   ",subtitle:"  {{name}}!     .",employeeInfo:" ",name:"",email:" ",role:"",memberSince:" ",myProjects:"",active:"",myTasks:"",completed:"",inProgress:" ",activeTasks:" ",completedTasks:"",finishedTasks:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentTasks:" ",noDescription:" ",noProjectsAssigned:"    ",noTasksAssigned:"    "},bne={chatRooms:" ",createRoomTitle:"  ",createRoomDesc:"    ",roomName:" ",roomNamePlaceholder:"  ",private:"",privateRoom:" ",publicRoom:" ",project:"",projectIdPlaceholder:"  ()",createRoom:" ",selectRoom:"   ",selectConversation:" ",connectDescription:"        .",members:"",typeMessage:" ...",you:"",unknownUser:"  ",justNow:"",minutesAgo:" {{count}} ",hoursAgo:" {{count}} ",online:"",someoneTyping:"  ...",searchConversations:"  ...",searchRooms:"  ...",viewDetails:" ",viewContactDetails:"  ",deleteConversation:" ",muteNotifications:" ",leaveRoom:" ",note:"",resolvedMessage:"   .    .",resolved:" "},wne={title:"",subtitle:"    ",fileEmpty:" ",fileParseError:"   ",requiredFieldNotFound:"   : {{field}}",requiredFieldNotMapped:"   : {{field}}",importSuccess:"  {{count}}  ",importFailed:" ",selectTemplateForImport:"  ",uploadFile:"  Excel  CSV  ",reviewData:"   ",importingData:"  ...",importInstructions:" ",importInstruction1:"        ",importInstruction2:"       ",importInstruction3:" : Excel (.xlsx, .xls)  CSV",dragDropFile:"   ",selectFile:" ",validationErrors:" ",columnMapping:" ",required:"",notMapped:" ",optional:"",noTemplateSelected:"   ",previewFirstRows:" ( {{count}} )",showingRows:"  {{shown}}  {{total}} ",processingRows:" ",startImport:" ",surveys:"",templates:"",totalSurveys:" ",deleteSurvey:" ",deleteSurveyConfirmation:'      "{{name}}"      .',createTemplateTitle:"   ",createTemplateDesc:"    ",templateName:" ",templateNameAr:"  ",descriptionAr:" ",selectCategory:" ",setAsDefault:" ",customerSatisfaction:" ",productFeedback:" ",serviceQuality:" ",general:"",settings:"",isActive:"",isDefault:"",surveyName:" ",surveyNameAr:"  ",createdDate:" ",bulkImport:" ",createTemplate:" ",searchPlaceholder:"  ...",noSurveysFound:"  ",noSurveysFoundDesc:"   .",noSurveysYet:"     .",noTemplatesFound:"  ",noTemplatesFoundDesc:"   .",noTemplatesYet:"     .",survey:"",clientName:" ",clientCompany:" ",contact:"",noContact:" ",noCompany:" ",noEmail:"  ",location:"",responses:"",completed:"",inProgress:" ",pending:" ",active:"",inactive:" ",default:"",category:"",noCategory:" ",status:"",description:"",noDescription:" ",fields:"",noFields:"   ",noResponsesRecorded:"    ",created:" ",updated:" ",createdBy:"  ",unknownCreator:"  ",newSurvey:" ",createNewSurvey:"  ",selectTemplate:" ",fillSurveyDetails:"  ",changeTemplate:" ",submitSurvey:" ",locationWillBeCaptured:"    ",addField:" ",fieldLabel:" ",fieldType:" ",text:"",textarea:" ",email:" ",date:"",select:" ",multiselect:"  ",radio:" ",checkbox:" ",image:"",options:"",optionsPlaceholder:"    (: 1 2 3)",isRequired:"",editTemplateTitle:" ",updateTemplate:" ",deleteTemplate:" ",deleteTemplateConfirmation:'      "{{name}}"      .',templateNameRequired:"  ",atLeastOneFieldRequired:"    ",fieldLabelRequired:" {{number}}:  ",templateCreated:"   !",templateUpdated:"   !",templateValidationFailed:"     .",templateSaveError:"  {{action}} .    .",bulkSelect:" ",exitBulkMode:"   ",bulkDeleteSuccess:"  {{count}}  ",bulkDeleteError:"   ",confirmBulkDelete:"  ",confirmBulkDeleteDesc:"      {{count}}        .",selectedCount:"{{count}}  ",clearSelection:" ",deleteSelected:" ",selectAll:" "},_ne={title:"",description:"   ",stageManagement:" ",leads:"  ",projects:" ",tasks:" ",tickets:" ",mleads:"  ",mprojects:"  ",addStage:" ",editStage:" ",deleteStage:" ",stageName:" ",stageNamePlaceholder:"  ",stageColor:" ",order:"",noStages:"    .   .",addStageDesc:"    {{type}}",deleteStageConfirmation:"             .",englishName:" ",arabicName:" ",changePassword:"  ",changePasswordDescription:"    .      6   .",newPassword:"  ",newPasswordPlaceholder:"   ",newPasswordRequired:"   ",confirmPassword:"  ",confirmPasswordPlaceholder:"    ",passwordsDoNotMatch:"   ",passwordTooShort:"     6   ",changingPassword:"   ...",passwordChangedSuccessfully:"    !",passwordChangeFailed:"    "},Sne={company:"",city:"",country:"",activity:"",status:"",system:"",assignedTo:" ",created:" ",stage:"",notes:"",value:"",currency:"",leadDetails:" ",companyName:" ",address:"",contacts:" ",addContact:"+   ",quotation:"",uploadQuotation:" ",noContactsFound:"     ",allActivities:" ",allCountries:" ",allCities:" ",allSystems:" ",allStatuses:" ",allUsers:" ",clearFilters:" ",decisionMaker:"  ",save:"",cancel:"",contactName:"  ",email:" ",mobile:" ",jobTitle:" ",selectContact:"  ",selectStage:" ",selectJobTitle:"  ",kanbanView:"",listView:"",searchPlaceholder:"   ",searchCompany:"  ...",searchActivity:"  ...",searchCity:"  ...",searchCountry:"  ...",searchSystem:"  ...",searchStatus:"  ...",searchUser:"  ...",searchContact:"   ...",searchStage:"  ...",allStages:" ",searchJobTitle:"   ...  ",addNew:"+  ",cityNameEn:"  ()",cityNameAr:"  ()",selectCountry:" ",createCity:" ",selectActivity:" ",selectSystem:" ",selectStatus:" ",selectUser:" ",leadName:"  ",hideChart:"  ",showChart:"  ",leadDescription:"  ",leadValue:"  ",leadCurrency:"  ",saveLead:"  ",editLead:"  ",createNewLead:"   ",addContactTitle:"  ",createNewCity:"  ",systemNameEn:"  ()",systemNameAr:"  ()",createSystem:" ",createNewSystem:"  ",activityNameEn:"  ()",activityNameAr:"  ()",createActivity:" ",createNewActivity:"  ",statusNameEn:"  ()",statusNameAr:"  ()",createStatus:" ",createNewStatus:"  ",masterLeads:" ",manageMasterLeadsData:"   ",noLeadsFound:"    ",createNewLeadToGetStarted:"   ",deleteLead:" ",deleteLeadConfirmation:"             .",leadUpdatedSuccessfully:"   ",leadCreatedSuccessfully:"   ",leadDeletedSuccessfully:"   ",leadsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",systemCreatedSuccessfully:"   ",activityCreatedSuccessfully:"   ",statusCreatedSuccessfully:"   ",createdBy:"  ",description:"",createLead:"  ",editlead:"  ",firstName:" ",lastName:" ",showLead:" ",hideLead:" "},jne={masterProjects:" ",manageMasterProjectsData:"   ",kanbanView:"",listView:"",createdBy:"  ",client:"",company:"",country:"",allCountries:" ",allCities:" ",allClients:" ",allUsers:" ",searchCity:"  ...",searchCountry:"  ...",searchClient:"  ...",searchUser:"  ...",jobTitle:" ",selectJobTitle:"  ",addContactTitle:"  ",searchJobTitle:"   ",contacts:" ",noContactsFound:"     ",contactName:"  ",email:" ",mobile:" ",projectName:" ",description:"",projectDescription:" ",projectCountry:" ",projectCity:" ",clearFilters:" ",searchPlaceholder:"     ",notStarted:" ",inProgress:" ",completed:"",notes:"",projectDetails:" ",companyName:" ",contractCode:" ",contractAmount:" ",startDate:" ",endDate:" ",city:"",contact:" ",created:" ",createNewProject:"  ",editProject:" ",deleteProject:" ",deleteProjectConfirmation:"             .",projectUpdatedSuccessfully:"   ",projectCreatedSuccessfully:"   ",projectDeletedSuccessfully:"   ",projectsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",showChart:"  ",hideChart:"  ",selectCity:" ",selectContact:"  ",selectCountry:" ",addCity:" ",cancel:"",cityNameEn:"  ()",cityNameAr:"  ()",createCity:" ",createNewCity:"  ",noProjectsFound:"    ",createNewProjectToGetStarted:"   ",analytics:"",contractDocument:" ",existingDocumentWillBeReplaced:"   ",uploadContractDocument:"  ",supportedFormats:" ",addContact:"  ",createContact:"",contactCreatedSuccessfully:"    "},kne={title:"",subtitle:"   ",createRequest:" ",editRequest:" ",requestTitle:" ",titlePlaceholder:"  ",searchPlaceholder:"  ...",type:"",priority:"",status:"",createdDate:" ",deleteSuccess:"   ",updateSuccess:"   ",createSuccess:"   ",deleteConfirmation:"             .",description:"",descriptionPlaceholder:" ...",types:{internalTask:" ",support:"",feature:" "},priorities:{low:"",medium:"",high:""}},Nne={navigation:ene,buttons:tne,forms:rne,auth:nne,common:ane,validation:sne,partnerEmployeeDashboard:ine,status:one,dashboard:lne,leads:cne,notes:une,projects:dne,chat:fne,tickets:hne,teams:mne,tasks:pne,landing:gne,users:vne,clients:xne,employeeDashboard:yne,chats:bne,surveys:wne,settings:_ne,mleads:Sne,mprojects:jne,requests:kne},Cne={en:{translation:Zre},ar:{translation:Nne}};Wr.use(mre).init({resources:Cne,lng:"ar",fallbackLng:"en",interpolation:{escapeValue:!1}});const Ee=(e,t)=>{if(Wr.language==="ar"){const a=`${t}_ar`;if(e[a]&&e[a].trim())return e[a]}if(e[t]&&e[t].trim())return e[t];const n=`${t}_ar`;return e[n]&&e[n].trim()?e[n]:""},yl=(e,t)=>{const r=Wr.language,n={...e};return Object.entries(t).forEach(([a,s])=>{r==="ar"?(n[`${s}_ar`]=e[a],n[s]=e[a]):(n[s]=e[a],n[`${s}_ar`]=e[a])}),n},rr=()=>Wr.dir()==="rtl";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lv.apply(this,arguments)}var gu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gu||(gu={}));const GR="popstate";function Ene(e){e===void 0&&(e={});function t(a,s){let{pathname:i="/",search:l="",hash:c=""}=$f(a.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),V2("",{pathname:i,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let i=a.document.querySelector("base"),l="";if(i&&i.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:C1(s))}function n(a,s){EA(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Ane(t,r,n,e)}function ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function EA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Tne(){return Math.random().toString(36).substr(2,8)}function YR(e,t){return{usr:e.state,key:e.key,idx:t}}function V2(e,t,r,n){return r===void 0&&(r=null),lv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$f(t):t,{state:r,key:t&&t.key||n||Tne()})}function C1(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $f(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Ane(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=gu.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(lv({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=gu.Pop;let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:y})}function h(v,y){l=gu.Push;let b=V2(g.location,v,y);r&&r(b,v),u=d()+1;let w=YR(b,u),_=g.createHref(b);try{i.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}s&&c&&c({action:l,location:g.location,delta:1})}function m(v,y){l=gu.Replace;let b=V2(g.location,v,y);r&&r(b,v),u=d();let w=YR(b,u),_=g.createHref(b);i.replaceState(w,"",_),s&&c&&c({action:l,location:g.location,delta:0})}function p(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:C1(v);return b=b.replace(/ $/,"%20"),ln(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let g={get action(){return l},get location(){return e(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(GR,f),c=v,()=>{a.removeEventListener(GR,f),c=null}},createHref(v){return t(a,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(v){return i.go(v)}};return g}var XR;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(XR||(XR={}));function One(e,t,r){return r===void 0&&(r="/"),Pne(e,t,r,!1)}function Pne(e,t,r,n){let a=typeof t=="string"?$f(t):t,s=TA(a.pathname||"/",r);if(s==null)return null;let i=kU(e);Dne(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=Wne(s);l=zne(i[c],u,n)}return l}function kU(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(ln(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Pu([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(ln(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kU(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Bne(u,s.index),routesMeta:d})};return e.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of NU(s.path))a(s,i,c)}),t}function NU(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=NU(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Dne(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Une(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Rne=/^:[\w-]+$/,Ine=3,Mne=2,Fne=1,Lne=10,$ne=-2,JR=e=>e==="*";function Bne(e,t){let r=e.split("/"),n=r.length;return r.some(JR)&&(n+=$ne),t&&(n+=Mne),r.filter(a=>!JR(a)).reduce((a,s)=>a+(Rne.test(s)?Ine:s===""?Fne:Lne),n)}function Une(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function zne(e,t,r){let{routesMeta:n}=e,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=QR({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=QR({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:Pu([s,f.pathname]),pathnameBase:Gne(Pu([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Pu([s,f.pathnameBase]))}return i}function QR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Vne(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=l[f]||"";i=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function Vne(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),EA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Wne(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return EA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function TA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Hne(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?$f(e):e;return{pathname:r?r.startsWith("/")?r:qne(r,t):t,search:Yne(n),hash:Xne(a)}}function qne(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ck(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kne(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function AA(e,t){let r=Kne(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function OA(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=$f(e):(a=lv({},e),ln(!a.pathname||!a.pathname.includes("?"),ck("?","pathname","search",a)),ln(!a.pathname||!a.pathname.includes("#"),ck("#","pathname","hash",a)),ln(!a.search||!a.search.includes("#"),ck("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Hne(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Pu=e=>e.join("/").replace(/\/\/+/g,"/"),Gne=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Yne=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Xne=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Jne(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const CU=["post","put","patch","delete"];new Set(CU);const Qne=["get",...CU];new Set(Qne);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cv.apply(this,arguments)}const PA=x.createContext(null),Zne=x.createContext(null),Ju=x.createContext(null),R_=x.createContext(null),El=x.createContext({outlet:null,matches:[],isDataRoute:!1}),EU=x.createContext(null);function eae(e,t){let{relative:r}=t===void 0?{}:t;Mp()||ln(!1);let{basename:n,navigator:a}=x.useContext(Ju),{hash:s,pathname:i,search:l}=AU(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Pu([n,i])),a.createHref({pathname:c,search:l,hash:s})}function Mp(){return x.useContext(R_)!=null}function Tl(){return Mp()||ln(!1),x.useContext(R_).location}function TU(e){x.useContext(Ju).static||x.useLayoutEffect(e)}function zs(){let{isDataRoute:e}=x.useContext(El);return e?gae():tae()}function tae(){Mp()||ln(!1);let e=x.useContext(PA),{basename:t,future:r,navigator:n}=x.useContext(Ju),{matches:a}=x.useContext(El),{pathname:s}=Tl(),i=JSON.stringify(AA(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return TU(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=OA(u,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Pu([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,s,e])}const rae=x.createContext(null);function nae(e){let t=x.useContext(El).outlet;return t&&x.createElement(rae.Provider,{value:e},t)}function aae(){let{matches:e}=x.useContext(El),t=e[e.length-1];return t?t.params:{}}function AU(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Ju),{matches:a}=x.useContext(El),{pathname:s}=Tl(),i=JSON.stringify(AA(a,n.v7_relativeSplatPath));return x.useMemo(()=>OA(e,JSON.parse(i),s,r==="path"),[e,i,s,r])}function sae(e,t){return iae(e,t)}function iae(e,t,r,n){Mp()||ln(!1);let{navigator:a}=x.useContext(Ju),{matches:s}=x.useContext(El),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Tl(),d;if(t){var f;let v=typeof t=="string"?$f(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||ln(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=One(e,{pathname:m}),g=dae(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Pu([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Pu([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&g?x.createElement(R_.Provider,{value:{location:cv({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:gu.Pop}},g):g}function oae(){let e=pae(),t=Jne(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const lae=x.createElement(oae,null);class cae extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(El.Provider,{value:this.props.routeContext},x.createElement(EU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uae(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(PA);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(El.Provider,{value:t},n)}function dae(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ln(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let m,p=!1,g=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||lae,c&&(u<0&&h===0?(p=!0,v=null):u===h&&(p=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),b=()=>{let w;return m?w=g:p?w=v:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(uae,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(cae,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var OU=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(OU||{}),E1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(E1||{});function fae(e){let t=x.useContext(PA);return t||ln(!1),t}function hae(e){let t=x.useContext(Zne);return t||ln(!1),t}function mae(e){let t=x.useContext(El);return t||ln(!1),t}function PU(e){let t=mae(),r=t.matches[t.matches.length-1];return r.route.id||ln(!1),r.route.id}function pae(){var e;let t=x.useContext(EU),r=hae(E1.UseRouteError),n=PU(E1.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function gae(){let{router:e}=fae(OU.UseNavigateStable),t=PU(E1.UseNavigateStable),r=x.useRef(!1);return TU(()=>{r.current=!0}),x.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,cv({fromRouteId:t},s)))},[e,t])}function vae(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function $b(e){let{to:t,replace:r,state:n,relative:a}=e;Mp()||ln(!1);let{future:s,static:i}=x.useContext(Ju),{matches:l}=x.useContext(El),{pathname:c}=Tl(),u=zs(),d=OA(t,AA(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function ZR(e){return nae(e.context)}function br(e){ln(!1)}function xae(e){let{basename:t="/",children:r=null,location:n,navigationType:a=gu.Pop,navigator:s,static:i=!1,future:l}=e;Mp()&&ln(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:i,future:cv({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=$f(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=n,g=x.useMemo(()=>{let v=TA(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:p},navigationType:a}},[c,d,f,h,m,p,a]);return g==null?null:x.createElement(Ju.Provider,{value:u},x.createElement(R_.Provider,{children:r,value:g}))}function yae(e){let{children:t,location:r}=e;return sae(W2(t),r)}new Promise(()=>{});function W2(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let s=[...t,a];if(n.type===x.Fragment){r.push.apply(r,W2(n.props.children,s));return}n.type!==br&&ln(!1),!n.props.index||!n.props.children||ln(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=W2(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H2(){return H2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H2.apply(this,arguments)}function bae(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function wae(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _ae(e,t){return e.button===0&&(!t||t==="_self")&&!wae(e)}const Sae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jae="6";try{window.__reactRouterVersion=jae}catch{}const kae="startTransition",eI=PT[kae];function Nae(e){let{basename:t,children:r,future:n,window:a}=e,s=x.useRef();s.current==null&&(s.current=Ene({window:a,v5Compat:!0}));let i=s.current,[l,c]=x.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&eI?eI(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>i.listen(d),[i,d]),x.useEffect(()=>vae(n),[n]),x.createElement(xae,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const Cae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Eae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q2=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=bae(t,Sae),{basename:m}=x.useContext(Ju),p,g=!1;if(typeof u=="string"&&Eae.test(u)&&(p=u,Cae))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=TA(_.pathname,m);_.origin===w.origin&&S!=null?u=S+_.search+_.hash:g=!0}catch{}let v=eae(u,{relative:a}),y=Tae(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||y(w)}return x.createElement("a",H2({},h,{href:p||v,onClick:g||s?n:b,ref:r,target:c}))});var tI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tI||(tI={}));var rI;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(rI||(rI={}));function Tae(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}=t===void 0?{}:t,c=zs(),u=Tl(),d=AU(e,{relative:i});return x.useCallback(f=>{if(_ae(f,r)){f.preventDefault();let h=n!==void 0?n:C1(u)===C1(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[u,c,d,n,a,r,e,s,i,l])}function Et(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ps(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ya(e,t){const r=Et(e);return isNaN(t)?Ps(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Oo(e,t){const r=Et(e);if(isNaN(t))return Ps(e,NaN);if(!t)return r;const n=r.getDate(),a=Ps(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const s=a.getDate();return n>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const DA=6048e5,Aae=864e5,My=43200,nI=1440;let Oae={};function Fp(){return Oae}function bl(e,t){var l,c,u,d;const r=Fp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Et(e),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function yf(e){return bl(e,{weekStartsOn:1})}function DU(e){const t=Et(e),r=t.getFullYear(),n=Ps(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=yf(n),s=Ps(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const i=yf(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Fm(e){const t=Et(e);return t.setHours(0,0,0,0),t}function Lm(e){const t=Et(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ol(e,t){const r=Fm(e),n=Fm(t),a=+r-Lm(r),s=+n-Lm(n);return Math.round((a-s)/Aae)}function Pae(e){const t=DU(e),r=Ps(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),yf(r)}function K2(e,t){const r=t*7;return Ya(e,r)}function Dae(e,t){return Oo(e,t*12)}function Rae(e){let t;return e.forEach(function(r){const n=Et(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Iae(e){let t;return e.forEach(r=>{const n=Et(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Bb(e,t){const r=Et(e),n=Et(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Mae(e){return Ps(e,Date.now())}function js(e,t){const r=Fm(e),n=Fm(t);return+r==+n}function RA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Fae(e){if(!RA(e)&&typeof e!="number")return!1;const t=Et(e);return!isNaN(Number(t))}function $m(e,t){const r=Et(e),n=Et(t),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function Lae(e,t,r){const n=bl(e,r),a=bl(t,r),s=+n-Lm(n),i=+a-Lm(a);return Math.round((s-i)/DA)}function $ae(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Bae(e,t){return+Et(e)-+Et(t)}function Uae(e){const t=Et(e);return t.setHours(23,59,59,999),t}function I_(e){const t=Et(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function zae(e){const t=Et(e);return+Uae(t)==+I_(t)}function Vae(e,t){const r=Et(e),n=Et(t),a=Bb(r,n),s=Math.abs($m(r,n));let i;if(s<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let l=Bb(r,n)===-a;zae(Et(e))&&s===1&&Bb(e,n)===1&&(l=!1),i=a*(s-Number(l))}return i===0?0:i}function Wae(e,t,r){const n=Bae(e,t)/1e3;return $ae(r==null?void 0:r.roundingMethod)(n)}function Ts(e){const t=Et(e);return t.setDate(1),t.setHours(0,0,0,0),t}function RU(e){const t=Et(e),r=Ps(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function IA(e,t){var l,c,u,d;const r=Fp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Et(e),s=a.getDay(),i=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function IU(e){return IA(e,{weekStartsOn:1})}const Hae={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qae=(e,t,r)=>{let n;const a=Hae[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function am(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Kae={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gae={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yae={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xae={date:am({formats:Kae,defaultWidth:"full"}),time:am({formats:Gae,defaultWidth:"full"}),dateTime:am({formats:Yae,defaultWidth:"full"})},Jae={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Qae=(e,t,r,n)=>Jae[e];function nl(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[i]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const Zae={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ese={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ase={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sse=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ise={ordinalNumber:sse,era:nl({values:Zae,defaultWidth:"wide"}),quarter:nl({values:ese,defaultWidth:"wide",argumentCallback:e=>e-1}),month:nl({values:tse,defaultWidth:"wide"}),day:nl({values:rse,defaultWidth:"wide"}),dayPeriod:nl({values:nse,defaultWidth:"wide",formattingValues:ase,defaultFormattingWidth:"wide"})};function al(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?lse(l,f=>f.test(i)):ose(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function ose(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function lse(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function MU(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const cse=/^(\d+)(th|st|nd|rd)?/i,use=/\d+/i,dse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fse={any:[/^b/i,/^(a|c)/i]},hse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mse={any:[/1/i,/2/i,/3/i,/4/i]},pse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gse={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vse={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bse={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wse={ordinalNumber:MU({matchPattern:cse,parsePattern:use,valueCallback:e=>parseInt(e,10)}),era:al({matchPatterns:dse,defaultMatchWidth:"wide",parsePatterns:fse,defaultParseWidth:"any"}),quarter:al({matchPatterns:hse,defaultMatchWidth:"wide",parsePatterns:mse,defaultParseWidth:"any",valueCallback:e=>e+1}),month:al({matchPatterns:pse,defaultMatchWidth:"wide",parsePatterns:gse,defaultParseWidth:"any"}),day:al({matchPatterns:vse,defaultMatchWidth:"wide",parsePatterns:xse,defaultParseWidth:"any"}),dayPeriod:al({matchPatterns:yse,defaultMatchWidth:"any",parsePatterns:bse,defaultParseWidth:"any"})},MA={code:"en-US",formatDistance:qae,formatLong:Xae,formatRelative:Qae,localize:ise,match:wse,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _se(e){const t=Et(e);return ol(t,RU(t))+1}function FU(e){const t=Et(e),r=+yf(t)-+Pae(t);return Math.round(r/DA)+1}function LU(e,t){var d,f,h,m;const r=Et(e),n=r.getFullYear(),a=Fp(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=Ps(e,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=bl(i,t),c=Ps(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=bl(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Sse(e,t){var l,c,u,d;const r=Fp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=LU(e,t),s=Ps(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),bl(s,t)}function $U(e,t){const r=Et(e),n=+bl(r,t)-+Sse(r,t);return Math.round(n/DA)+1}function pr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Fc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return pr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):pr(r+1,2)},d(e,t){return pr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return pr(e.getHours()%12||12,t.length)},H(e,t){return pr(e.getHours(),t.length)},m(e,t){return pr(e.getMinutes(),t.length)},s(e,t){return pr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return pr(a,t.length)}},ah={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aI={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Fc.y(e,t)},Y:function(e,t,r,n){const a=LU(e,n),s=a>0?a:1-a;if(t==="YY"){const i=s%100;return pr(i,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):pr(s,t.length)},R:function(e,t){const r=DU(e);return pr(r,t.length)},u:function(e,t){const r=e.getFullYear();return pr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return pr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return pr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Fc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return pr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=$U(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):pr(a,t.length)},I:function(e,t,r){const n=FU(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):pr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Fc.d(e,t)},D:function(e,t,r){const n=_se(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):pr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return pr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return pr(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return pr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=ah.noon:n===0?a=ah.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=ah.evening:n>=12?a=ah.afternoon:n>=4?a=ah.morning:a=ah.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Fc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Fc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):pr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):pr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Fc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Fc.s(e,t)},S:function(e,t){return Fc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return iI(n);case"XXXX":case"XX":return wd(n);case"XXXXX":case"XXX":default:return wd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return iI(n);case"xxxx":case"xx":return wd(n);case"xxxxx":case"xxx":default:return wd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sI(n,":");case"OOOO":default:return"GMT"+wd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sI(n,":");case"zzzz":default:return"GMT"+wd(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return pr(n,t.length)},T:function(e,t,r){const n=e.getTime();return pr(n,t.length)}};function sI(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+pr(s,2)}function iI(e,t){return e%60===0?(e>0?"-":"+")+pr(Math.abs(e)/60,2):wd(e,t)}function wd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=pr(Math.trunc(n/60),2),s=pr(n%60,2);return r+a+t+s}const oI=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},BU=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},jse=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return oI(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",oI(n,t)).replace("{{time}}",BU(a,t))},kse={p:BU,P:jse},Nse=/^D+$/,Cse=/^Y+$/,Ese=["D","DD","YY","YYYY"];function Tse(e){return Nse.test(e)}function Ase(e){return Cse.test(e)}function Ose(e,t,r){const n=Pse(e,t,r);if(console.warn(n),Ese.includes(e))throw new RangeError(n)}function Pse(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Dse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Rse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ise=/^'([^]*?)'?$/,Mse=/''/g,Fse=/[a-zA-Z]/;function us(e,t,r){var d,f,h,m,p,g,v,y;const n=Fp(),a=(r==null?void 0:r.locale)??n.locale??MA,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((g=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,l=Et(e);if(!Fae(l))throw new RangeError("Invalid time value");let c=t.match(Rse).map(b=>{const w=b[0];if(w==="p"||w==="P"){const _=kse[w];return _(b,a.formatLong)}return b}).join("").match(Dse).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:Lse(b)};if(aI[w])return{isToken:!0,value:b};if(w.match(Fse))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const w=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Ase(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Tse(w))&&Ose(w,t,String(e));const _=aI[w[0]];return _(l,w,a.localize,u)}).join("")}function Lse(e){const t=e.match(Ise);return t?t[1].replace(Mse,"'"):e}function $se(e,t,r){const n=Fp(),a=(r==null?void 0:r.locale)??n.locale??MA,s=2520,i=Bb(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let c,u;i>0?(c=Et(t),u=Et(e)):(c=Et(e),u=Et(t));const d=Wae(u,c),f=(Lm(u)-Lm(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<nI){const p=Math.round(h/60);return a.formatDistance("aboutXHours",p,l)}else{if(h<s)return a.formatDistance("xDays",1,l);if(h<My){const p=Math.round(h/nI);return a.formatDistance("xDays",p,l)}else if(h<My*2)return m=Math.round(h/My),a.formatDistance("aboutXMonths",m,l)}if(m=Vae(u,c),m<12){const p=Math.round(h/My);return a.formatDistance("xMonths",p,l)}else{const p=m%12,g=Math.trunc(m/12);return p<3?a.formatDistance("aboutXYears",g,l):p<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function Bse(e,t){return $se(e,Mae(e),t)}function Use(e){const t=Et(e),r=t.getFullYear(),n=t.getMonth(),a=Ps(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function zse(e){return Math.trunc(+Et(e)/1e3)}function Vse(e){const t=Et(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Wse(e,t){return Lae(Vse(e),Ts(e),t)+1}function G2(e,t){const r=Et(e),n=Et(t);return r.getTime()>n.getTime()}function UU(e,t){const r=Et(e),n=Et(t);return+r<+n}function FA(e,t){const r=Et(e),n=Et(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Hse(e,t){const r=Et(e),n=Et(t);return r.getFullYear()===n.getFullYear()}function uk(e,t){return Ya(e,-t)}function dk(e,t){const r=Et(e),n=r.getFullYear(),a=r.getDate(),s=Ps(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const i=Use(s);return r.setMonth(t,Math.min(a,i)),r}function lI(e,t){const r=Et(e);return isNaN(+r)?Ps(e,NaN):(r.setFullYear(t),r)}function cI(e){if(!e)return e;if(typeof e=="string")try{const t=new Date(e);return isNaN(t.getTime())?e:us(t,"yyyy-MM-dd HH:mm:ss")}catch{return e}return e instanceof Date?us(e,"yyyy-MM-dd HH:mm:ss"):e}function Y2(e){if(e==null)return e;if(e instanceof Date)return cI(e);if(Array.isArray(e))return e.map(t=>Y2(t));if(typeof e=="object"){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(r.toLowerCase().includes("date")||r.toLowerCase().includes("time")?t[r]=cI(e[r]):t[r]=Y2(e[r]));return t}return e}const qse="https://api.middar.com";async function Vc(e,t={}){const r={"Content-Type":"application/json",...t.headers},n=localStorage.getItem("authToken");n&&(r.Authorization=`Bearer ${n}`);try{let a=t.body;if(a&&typeof a=="string")try{const l=JSON.parse(a),c=Y2(l);a=JSON.stringify(c)}catch(l){console.warn("Failed to parse request body for date formatting",l)}console.log(`API Request: ${t.method||"GET"} ${e}`,a?JSON.parse(a):null);const s=await fetch(`${qse}${e}`,{...t,headers:r,body:a});let i;try{const l=await s.text();i=l?JSON.parse(l):{}}catch(l){console.error("Failed to parse API response:",l),i={}}if(!s.ok){const l={status:s.status,statusText:s.statusText,url:e,headers:Object.fromEntries(s.headers.entries()),response:i,requestBody:t.body?JSON.parse(t.body):null};console.error("API Error Details:",JSON.stringify(l,null,2));let c="Something went wrong";i&&typeof i=="object"?c=i.message||i.error||JSON.stringify(i):i&&(c=String(i));const u=new Error(c);throw u.status=s.status,u.response=i,u.details=l,u}return i}catch(a){throw console.error("API Request Failed:",{endpoint:e,error:a.message,stack:a.stack}),a}}const Y={get:(e,t,r)=>{const n=new URLSearchParams(r).toString();return Vc(`/api/v1/get/${e}/${t}${n?`?${n}`:""}`)},list:async(e,t={})=>{const r={...t},n=["m_leads","m_projects","tasks","tickets"];r.sort_by||(r.sort_by="created_at",r.sort_order=n.includes(e)?"DESC":"ASC");let a="";if(r.exact_filters&&(a=typeof r.exact_filters=="string"?r.exact_filters:JSON.stringify(r.exact_filters),delete r.exact_filters),r.advanced_filters&&typeof r.advanced_filters=="string")try{JSON.parse(r.advanced_filters)}catch{delete r.advanced_filters}else r.advanced_filters&&(r.advanced_filters=JSON.stringify(r.advanced_filters));const s=new URLSearchParams;Object.entries(r).forEach(([c,u])=>{u!=null&&s.append(c,u.toString())});const i=a?`/api/v1/${e}/list?exact_filters=${encodeURIComponent(a)}&${s.toString()}`:s.toString()?`/api/v1/${e}/list?${s.toString()}`:`/api/v1/${e}/list`;console.log("Sending request to:",i);const l=await Vc(i);return{data:l.data||[],total:l.totalRows||0,page:(l.page||1)-1,pageSize:l.totalRows||0}},count:async(e,t={})=>{try{return(await Y.list(e,{...t,pageSize:1})).total||0}catch{return console.warn(`Count failed for ${e}, returning 0`),0}},create:(e,t)=>e==="messages"?Vc(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(t)}):Vc(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(t)}),update:(e,t,r)=>Vc(`/api/v1/update/${e}/${t}`,{method:"PUT",body:JSON.stringify(r)}),delete:(e,t)=>Vc(`/api/v1/delete/${e}/${t}`,{method:"DELETE"}),getAggregates:async(e,t={})=>{try{console.log("[API] Getting aggregates for tables:",e);const r=e.map(async s=>{try{const l={m_projects:"m_projects",m_leads:"m_leads",clients:"Users",users:"Users",surveys:"surveys",tasks:"tasks"}[s]||s,u=(await Y.list(l,{pageSize:1})).total||0;return console.log(`[API] Got count for ${s} (${l}):`,u),{[s]:{Count:u}}}catch(i){return console.warn(`[API] Count failed for ${s}, using fallback:`,i),{[s]:{Count:0}}}}),a=(await Promise.all(r)).reduce((s,i)=>({...s,...i}),{});return console.log("[API] Combined aggregates result:",a),a}catch(r){return console.error("[API] Failed to get aggregates:",r),{}}},auth:{login:async e=>Vc("/api/v1/account/login",{method:"POST",body:JSON.stringify(e)})},permissions:{list:(e={})=>Y.list("permissions",e),get:e=>Y.get("permissions",e),create:e=>Y.create("permissions",e),update:(e,t)=>Y.update("permissions",e,t),delete:e=>Y.delete("permissions",e)},comments:{list:(e={})=>Y.list("comments",e),get:e=>Y.get("comments",e),create:e=>Y.create("comments",e),update:(e,t)=>Y.update("comments",e,t),delete:e=>Y.delete("comments",e)},leads:{list:(e={})=>Y.list("leads",e),get:e=>Y.get("leads",e),create:e=>Y.create("leads",e),update:(e,t)=>Y.update("leads",e,t),delete:e=>Y.delete("leads",e)},mAction:{list:(e={})=>Y.list("m_action",e),get:e=>Y.get("m_action",e),create:e=>Y.create("m_action",e),update:(e,t)=>Y.update("m_action",e,t),delete:e=>Y.delete("m_action",e)},mActivity:{list:(e={})=>Y.list("m_activity",e),get:e=>Y.get("m_activity",e),create:e=>Y.create("m_activity",e),update:(e,t)=>Y.update("m_activity",e,t),delete:e=>Y.delete("m_activity",e)},messages:{list:(e={})=>Y.list("messages",e),get:e=>Y.get("messages",e),create:e=>Y.create("messages",e),update:(e,t)=>Y.update("messages",e,t),delete:e=>Y.delete("messages",e)},mContacts:{list:(e={})=>Y.list("m_contacts",e),get:e=>Y.get("m_contacts",e),create:e=>Y.create("m_contacts",e),update:(e,t)=>Y.update("m_contacts",e,t),delete:e=>Y.delete("m_contacts",e)},mCountry:{list:(e={})=>Y.list("m_country",e),get:e=>Y.get("m_country",e),create:e=>Y.create("m_country",e),update:(e,t)=>Y.update("m_country",e,t),delete:e=>Y.delete("m_country",e)},mCity:{list:(e={})=>Y.list("m_city",e),get:e=>Y.get("m_city",e),create:e=>Y.create("m_city",e),update:(e,t)=>Y.update("m_city",e,t),delete:e=>Y.delete("m_city",e),getByCountry:(e,t={})=>Y.list("m_city",{...t,exact_filters:{country_id:e}})},mJobtitle:{list:(e={})=>Y.list("m_jobtitle",e),get:e=>Y.get("m_jobtitle",e),create:e=>Y.create("m_jobtitle",e),update:(e,t)=>Y.update("m_jobtitle",e,t),delete:e=>Y.delete("m_jobtitle",e)},mLeads:{list:(e={})=>Y.list("m_leads",e),get:e=>Y.get("m_leads",e),create:e=>Y.create("m_leads",e),update:(e,t)=>Y.update("m_leads",e,t),delete:e=>Y.delete("m_leads",e),getByStage:(e,t={})=>Y.list("m_leads",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>Y.list("m_leads",{...t,exact_filters:{assigned_to:e}}),getByStatus:(e,t={})=>Y.list("m_leads",{...t,exact_filters:{status_id:e}})},mSystem:{list:(e={})=>Y.list("m_system",e),get:e=>Y.get("m_system",e),create:e=>Y.create("m_system",e),update:(e,t)=>Y.update("m_system",e,t),delete:e=>Y.delete("m_system",e)},mLeadsTrans:{list:(e={})=>Y.list("m_leads_trans",e),get:e=>Y.get("m_leads_trans",e),create:e=>Y.create("m_leads_trans",e),update:(e,t)=>Y.update("m_leads_trans",e,t),delete:e=>Y.delete("m_leads_trans",e),getByLead:(e,t={})=>Y.list("m_leads_trans",{...t,exact_filters:{leads_id:e}}),getByUser:(e,t={})=>Y.list("m_leads_trans",{...t,exact_filters:{user_id:e}})},mProjects:{list:(e={})=>Y.list("m_projects",e),get:e=>Y.get("m_projects",e),create:e=>Y.create("m_projects",e),update:(e,t)=>Y.update("m_projects",e,t),delete:e=>Y.delete("m_projects",e)},mStatus:{list:(e={})=>Y.list("m_status",e),get:e=>Y.get("m_status",e),create:e=>Y.create("m_status",e),update:(e,t)=>Y.update("m_status",e,t),delete:e=>Y.delete("m_status",e)},notes:{list:(e={})=>Y.list("notes",e),get:e=>Y.get("notes",e),create:e=>Y.create("notes",e),update:(e,t)=>Y.update("notes",e,t),delete:e=>Y.delete("notes",e),getByRelated:(e,t,r={})=>Y.list("notes",{...r,exact_filters:{related_to_type:e,related_to_id:t}})},partnerApply:{list:(e={})=>Y.list("partner_apply",e),get:e=>Y.get("partner_apply",e),create:e=>Y.create("partner_apply",e),update:(e,t)=>Y.update("partner_apply",e,t),delete:e=>Y.delete("partner_apply",e),getPending:(e={})=>Y.list("partner_apply",{...e,exact_filters:{status:"Pending"}}),getByStatus:(e,t={})=>Y.list("partner_apply",{...t,exact_filters:{status:e}})},projectUsers:{list:(e={})=>Y.list("project_users",e),get:e=>Y.get("project_users",e),create:e=>Y.create("project_users",e),update:(e,t)=>Y.update("project_users",e,t),delete:e=>Y.delete("project_users",e),getByProject:(e,t={})=>Y.list("project_users",{...t,exact_filters:{project_id:e}})},projectImages:{list:(e={})=>Y.list("project_images",e),get:e=>Y.get("project_images",e),create:e=>Y.create("project_images",e),update:(e,t)=>Y.update("project_images",e,t),delete:e=>Y.delete("project_images",e),getByProject:(e,t={})=>Y.list("project_images",{...t,exact_filters:{project_id:e}})},projects:{list:(e={})=>Y.list("projects",e),get:e=>Y.get("projects",e),create:e=>Y.create("projects",e),update:(e,t)=>Y.update("projects",e,t),delete:e=>Y.delete("projects",e),getByStage:(e,t={})=>Y.list("projects",{...t,exact_filters:{stage:e}}),getByLead:(e,t={})=>Y.list("projects",{...t,exact_filters:{lead_id:e}})},requests:{list:(e={})=>Y.list("requests_crm",e),get:e=>Y.get("requests_crm",e),create:e=>Y.create("requests_crm",e),update:(e,t)=>Y.update("requests_crm",e,t),delete:e=>Y.delete("requests_crm",e)},rooms:{list:(e={})=>Y.list("rooms",e),get:e=>Y.get("rooms",e),create:e=>Y.create("rooms",e),update:(e,t)=>Y.update("rooms",e,t),delete:e=>Y.delete("rooms",e),getByProject:(e,t={})=>Y.list("rooms",{...t,exact_filters:{project_id:e}}),getByTeam:(e,t={})=>Y.list("rooms",{...t,exact_filters:{team_id:e}})},roomMembers:{list:(e={})=>Y.list("room_members",e),get:e=>Y.get("room_members",e),create:e=>Y.create("room_members",e),update:(e,t)=>Y.update("room_members",e,t),delete:e=>Y.delete("room_members",e),getByRoom:(e,t={})=>Y.list("room_members",{...t,exact_filters:{room_id:e}})},stages:{list:(e={})=>Y.list("stages",e),get:e=>Y.get("stages",e),create:e=>Y.create("stages",e),update:(e,t)=>Y.update("stages",e,t),delete:e=>Y.delete("stages",e)},tasks:{list:(e={})=>Y.list("tasks",e),get:e=>Y.get("tasks",e),create:e=>Y.create("tasks",e),update:(e,t)=>Y.update("tasks",e,t),delete:e=>Y.delete("tasks",e),getByStage:(e,t={})=>Y.list("tasks",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>Y.list("tasks",{...t,exact_filters:{assigned_to:e}})},surveyTemplates:{list:(e={})=>Y.list("survey_templates",e),get:e=>Y.get("survey_templates",e),create:e=>Y.create("survey_templates",e),update:(e,t)=>Y.update("survey_templates",e,t),delete:e=>Y.delete("survey_templates",e)},surveyTemplateFields:{list:(e={})=>Y.list("survey_template_fields",e),get:e=>Y.get("survey_template_fields",e),create:e=>Y.create("survey_template_fields",e),update:(e,t)=>Y.update("survey_template_fields",e,t),delete:e=>Y.delete("survey_template_fields",e),getByTemplate:(e,t={})=>Y.list("survey_template_fields",{...t,exact_filters:{template_id:e}})},surveys:{list:(e={})=>Y.list("surveys",e),get:e=>Y.get("surveys",e),create:e=>Y.create("surveys",e),update:(e,t)=>Y.update("surveys",e,t),delete:e=>Y.delete("surveys",e)},teams:{list:(e={})=>Y.list("teams",e),get:e=>Y.get("teams",e),create:e=>Y.create("teams",e),update:(e,t)=>Y.update("teams",e,t),delete:e=>Y.delete("teams",e)},teamMembers:{list:(e={})=>Y.list("team_members",e),get:e=>Y.get("team_members",e),create:e=>{const{team_id:t,user_id:r,userid:n,...a}=e??{},s={...a};t!==void 0&&(s.team_id=t);const i=r??(n!==void 0?Number(n):void 0);return i!==void 0&&!Number.isNaN(i)&&(s.user_id=i),Y.create("team_members",s)},update:(e,t)=>Y.update("team_members",e,t),delete:e=>Y.delete("team_members",e),getByTeam:(e,t={})=>Y.list("team_members",{...t,exact_filters:{team_id:e}})},tickets:{list:(e={})=>Y.list("tickets",e),get:e=>Y.get("tickets",e),create:e=>Y.create("tickets",e),update:(e,t)=>Y.update("tickets",e,t),delete:e=>Y.delete("tickets",e),getByStatus:(e,t={})=>Y.list("tickets",{...t,exact_filters:{status:e}}),getByStage:(e,t={})=>Y.list("tickets",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>Y.list("tickets",{...t,exact_filters:{assigned_to:e}})},Users:{list:(e={})=>Y.list("Users",e),get:e=>Y.get("Users",e),create:e=>Y.create("Users",e),update:(e,t)=>Y.update("Users",e,t),delete:e=>Y.delete("Users",e)},whatsappConversations:{list:(e={})=>Y.list("whatsapp_conversations",e),get:e=>Y.get("whatsapp_conversations",e),create:e=>Y.create("whatsapp_conversations",e),update:(e,t)=>Y.update("whatsapp_conversations",e,t),delete:e=>Y.delete("whatsapp_conversations",e),getByLead:(e,t={})=>Y.list("whatsapp_conversations",{...t,exact_filters:{lead_id:e}}),getByUser:(e,t={})=>Y.list("whatsapp_conversations",{...t,exact_filters:{user_id:e}})},whatsappMessages:{list:(e={})=>Y.list("whatsapp_messages",e),get:e=>Y.get("whatsapp_messages",e),create:e=>Y.create("whatsapp_messages",e),update:(e,t)=>Y.update("whatsapp_messages",e,t),delete:e=>Y.delete("whatsapp_messages",e),getByConversation:(e,t={})=>Y.list("whatsapp_messages",{...t,exact_filters:{conversation_id:e}})}};let fk=null,sh=null;async function LA(){return fk||sh||(sh=Y.permissions.list().then(e=>{const t=e.data||[];return fk=t,sh=null,t}).catch(e=>(sh=null,console.error("Failed to fetch permissions:",e),[])),sh)}const zU=x.createContext(void 0),Kse=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(null),[s,i]=x.useState(!0);x.useEffect(()=>{(()=>{try{const h=localStorage.getItem("authToken"),m=localStorage.getItem("authUser");if(h&&m){const p=JSON.parse(m);if(p&&p.role&&(p.role=p.role.toLowerCase()),!p.permissions_permissions_Name)if(p.profile&&p.profile.permissions_permissions_Name)p.permissions_permissions_Name=p.profile.permissions_permissions_Name;else if(p.profile&&p.profile.permissions){const g=p.profile.permissions,v={1:"admin",2:"manager",3:"employee",4:"team_leader",5:"partner_employee",6:"partner_leader"};v[g]&&(p.permissions_permissions_Name=v[g],p.role=v[g])}else p.isAdmin===1&&(p.permissions_permissions_Name="admin",p.role="admin");a(h),r(p)}}catch(h){console.error("Failed to parse stored auth data:",h),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")}finally{i(!1)}})()},[]);const l=x.useCallback(async(f,h)=>{a(f),localStorage.setItem("authToken",f);try{await new Promise(v=>setTimeout(v,100)),await LA()}catch(v){console.warn("Failed to preload permissions:",v)}let m=h;try{let v=null;try{v=await Y.list("Users",{exact_filters:{userid:h.id},pageSize:1})}catch{const b=await fetch(`https://api.middar.com/api/v1/Users/list?exact_filters=${encodeURIComponent(JSON.stringify({userid:h.id}))}&pageSize=1`,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});b.ok&&(v=await b.json())}v&&v.data&&v.data.length>0&&(m=v.data[0])}catch(v){console.warn("Failed to fetch full user profile, using basic login data:",v)}let p="employee";if(m.permissions_permissions_Name){const v=m.permissions_permissions_Name.toLowerCase();v==="admin"?p="admin":v==="manager"?p="manager":v==="employee"?p="employee":v==="team_leader"?p="team_leader":v==="partner_employee"?p="partner_employee":v==="partner_leader"?p="partner_leader":p="employee"}else m.isAdmin===1&&(p="admin");const g={id:m.userid||m.id||"unknown",email:m.Email||m.email||h.email||"",role:p,profile:m,userid:m.userid||0,permissions:m.permissions||0,permissions_permissions_Name:m.permissions_permissions_Name||"",Employee:m.Employee||0,AccountNumber:m.AccountNumber||null,mobile:m.mobile||null,Owner:m.Owner||0,Email_v:m.Email_v||0,IsActive:m.IsActive||0,user_pasword:m.user_pasword||"",name:m.name||h.name||"",Email:m.Email||m.email||h.email||"",pin:m.pin||null,isAllBranches:m.isAllBranches||0,Safe:m.Safe||0,reset_code:m.reset_code||null,reset_expires:m.reset_expires||"",reset_used:m.reset_used||0,isAdmin:m.isAdmin||0};r(g),localStorage.setItem("authUser",JSON.stringify(g)),await new Promise(v=>setTimeout(v,50))},[]),c=x.useCallback(()=>{a(null),r(null),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")},[]),u=x.useCallback(f=>!t||!t.role?!1:f.includes(t.role),[t]),d=x.useMemo(()=>({user:t,token:n,isAuthenticated:!!t&&!!n,loading:s,login:l,logout:c,hasRole:u}),[t,n,s,l,c,u]);return o.jsx(zU.Provider,{value:d,children:e})},hr=()=>{const e=x.useContext(zU);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},VU=x.createContext(void 0),Gse=[{code:"en",name:"English",flag:""},{code:"ar",name:"",flag:""}],Yse=({children:e})=>{const[t,r]=x.useState(Wr.language||"ar"),[n,a]=x.useState(rr());x.useEffect(()=>{const l=c=>{r(c),a(rr())};return Wr.on("languageChanged",l),()=>{Wr.off("languageChanged",l)}},[]);const i={currentLanguage:t,changeLanguage:async l=>{try{await Wr.changeLanguage(l),r(l),a(rr())}catch(c){console.error("Failed to change language:",c)}},isRTL:n,languages:Gse};return o.jsx(VU.Provider,{value:i,children:e})},La=()=>{const e=x.useContext(VU);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},WU=x.createContext(void 0);function Xse({children:e}){const[t,r]=x.useState([]);return o.jsx(WU.Provider,{value:{breadcrumbs:t,setBreadcrumbs:r},children:e})}function wx(){const e=x.useContext(WU);if(e===void 0)throw new Error("useBreadcrumbs must be used within a BreadcrumbsProvider");return e}var T1=["light","dark"],$A="(prefers-color-scheme: dark)",Jse=typeof window>"u",BA=x.createContext(void 0),Qse={setTheme:e=>{},themes:[]},Zse=()=>{var e;return(e=x.useContext(BA))!=null?e:Qse},HU=e=>x.useContext(BA)?e.children:x.createElement(tie,{...e}),eie=["light","dark"],tie=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:s=eie,defaultTheme:i=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=x.useState(()=>uI(a,i)),[m,p]=x.useState(()=>uI(a)),g=c?Object.values(c):s,v=x.useCallback(_=>{let S=_;if(!S)return;_==="system"&&r&&(S=dI());let k=c?c[S]:S,j=t?nie():null,N=document.documentElement;if(l==="class"?(N.classList.remove(...g),k&&N.classList.add(k)):k?N.setAttribute(l,k):N.removeAttribute(l),n){let C=T1.includes(i)?i:null,T=T1.includes(S)?S:C;N.style.colorScheme=T}j==null||j()},[]),y=x.useCallback(_=>{let S=typeof _=="function"?_(_):_;h(S);try{localStorage.setItem(a,S)}catch{}},[e]),b=x.useCallback(_=>{let S=dI(_);p(S),f==="system"&&r&&!e&&v("system")},[f,e]);x.useEffect(()=>{let _=window.matchMedia($A);return _.addListener(b),b(_),()=>_.removeListener(b)},[b]),x.useEffect(()=>{let _=S=>{if(S.key!==a)return;let k=S.newValue||i;y(k)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[y]),x.useEffect(()=>{v(e??f)},[e,f]);let w=x.useMemo(()=>({theme:f,setTheme:y,forcedTheme:e,resolvedTheme:f==="system"?m:f,themes:r?[...s,"system"]:s,systemTheme:r?m:void 0}),[f,y,e,m,r,s]);return x.createElement(BA.Provider,{value:w},x.createElement(rie,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:s,defaultTheme:i,attribute:l,value:c,children:u,attrs:g,nonce:d}),u)},rie=x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:i,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?T1.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(p,g=!1,v=!0)=>{let y=i?i[p]:p,b=g?p+"|| ''":`'${y}'`,w="";return a&&v&&!g&&T1.includes(p)&&(w+=`d.style.colorScheme = '${p}';`),r==="class"?g||y?w+=`c.add(${b})`:w+="null":y&&(w+=`d[s](n,${b})`),w},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${$A}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),uI=(e,t)=>{if(Jse)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},nie=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},dI=e=>(e||(e=window.matchMedia($A)),e.matches?"dark":"light");/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qU=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>x.createElement("svg",{ref:c,...sie,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:qU("lucide",a),...l},[...i.map(([u,d])=>x.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement(iie,{ref:s,iconNode:t,className:qU(`lucide-${aie(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=Ge("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=Ge("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=Ge("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=Ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=Ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=Ge("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=Ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=Ge("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Ge("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=Ge("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=Ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=Ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=Ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Ge("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=Ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=Ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=Ge("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=Ge("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=Ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=Ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=Ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=Ge("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=Ge("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=Ge("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=Ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=Ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=Ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=Ge("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=Ge("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sie=Ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=Ge("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=Ge("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=Ge("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=Ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=Ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nie=Ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=Ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Ge("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cie=Ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=Ge("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=Ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=Ge("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=Ge("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=Ge("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=Ge("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=Ge("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=Ge("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Ge("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=Ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=Ge("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=Ge("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=Ge("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=Ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=Ge("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=Ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=Ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=Ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=Ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=Ge("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=Ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=Ge("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=Ge("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=Ge("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=Ge("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=Ge("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=Ge("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=Ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=Ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=Ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=Ge("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lie=Ge("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=Ge("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bie=Ge("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=Ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=Ge("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=Ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function JU(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=JU(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Rt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=JU(e))&&(n&&(n+=" "),n+=t);return n}const VA="-",zie=e=>{const t=Wie(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(VA);return l[0]===""&&l.length!==1&&l.shift(),QU(l,t)||Vie(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},QU=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?QU(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(VA);return(i=t.validators.find(({validator:l})=>l(s)))==null?void 0:i.classGroupId},xI=/^\[(.+)\]$/,Vie=e=>{if(xI.test(e)){const t=xI.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Wie=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return qie(Object.entries(e.classGroups),r).forEach(([s,i])=>{Q2(i,n,s,t)}),n},Q2=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:yI(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(Hie(a)){Q2(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,i])=>{Q2(i,yI(t,s),r,n)})})},yI=(e,t)=>{let r=e;return t.split(VA).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Hie=e=>e.isThemeGetter,qie=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,l])=>[t+i,l])):s);return[r,a]}):e,Kie=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,i)=>{r.set(s,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let i=r.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return a(s,i),i},set(s,i){r.has(s)?r.set(s,i):a(s,i)}}},ZU="!",Gie=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let y=l[v];if(u===0){if(y===a&&(n||l.slice(v,v+s)===t)){c.push(l.slice(d,v)),d=v+s;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(ZU),p=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:i}):i},Yie=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Xie=e=>({cache:Kie(e.cacheSize),parseClassName:Gie(e),...zie(e)}),Jie=/\s+/,Qie=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],i=e.trim().split(Jie);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let p=!!m,g=n(p?h.substring(0,m):h);if(!g){if(!p){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}p=!1}const v=Yie(d).join(":"),y=f?v+ZU:v,b=y+g;if(s.includes(b))continue;s.push(b);const w=a(g,p);for(let _=0;_<w.length;++_){const S=w[_];s.push(y+S)}l=u+(l.length>0?" "+l:l)}return l};function Zie(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=e9(t))&&(n&&(n+=" "),n+=r);return n}const e9=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=e9(e[n]))&&(r&&(r+=" "),r+=t);return r};function eoe(e,...t){let r,n,a,s=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=Xie(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Qie(c,r);return a(c,d),d}return function(){return s(Zie.apply(null,arguments))}}const Ar=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},t9=/^\[(?:([a-z-]+):)?(.+)\]$/i,toe=/^\d+\/\d+$/,roe=new Set(["px","full","screen"]),noe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aoe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,soe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ioe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ooe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ul=e=>sm(e)||roe.has(e)||toe.test(e),Lc=e=>Lp(e,"length",poe),sm=e=>!!e&&!Number.isNaN(Number(e)),hk=e=>Lp(e,"number",sm),C0=e=>!!e&&Number.isInteger(Number(e)),loe=e=>e.endsWith("%")&&sm(e.slice(0,-1)),Ft=e=>t9.test(e),$c=e=>noe.test(e),coe=new Set(["length","size","percentage"]),uoe=e=>Lp(e,coe,r9),doe=e=>Lp(e,"position",r9),foe=new Set(["image","url"]),hoe=e=>Lp(e,foe,voe),moe=e=>Lp(e,"",goe),E0=()=>!0,Lp=(e,t,r)=>{const n=t9.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},poe=e=>aoe.test(e)&&!soe.test(e),r9=()=>!1,goe=e=>ioe.test(e),voe=e=>ooe.test(e),xoe=()=>{const e=Ar("colors"),t=Ar("spacing"),r=Ar("blur"),n=Ar("brightness"),a=Ar("borderColor"),s=Ar("borderRadius"),i=Ar("borderSpacing"),l=Ar("borderWidth"),c=Ar("contrast"),u=Ar("grayscale"),d=Ar("hueRotate"),f=Ar("invert"),h=Ar("gap"),m=Ar("gradientColorStops"),p=Ar("gradientColorStopPositions"),g=Ar("inset"),v=Ar("margin"),y=Ar("opacity"),b=Ar("padding"),w=Ar("saturate"),_=Ar("scale"),S=Ar("sepia"),k=Ar("skew"),j=Ar("space"),N=Ar("translate"),C=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Ft,t],A=()=>[Ft,t],H=()=>["",Ul,Lc],X=()=>["auto",sm,Ft],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Ft],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[sm,Ft];return{cacheSize:500,separator:":",theme:{colors:[E0],spacing:[Ul,Lc],blur:["none","",$c,Ft],brightness:Q(),borderColor:[e],borderRadius:["none","","full",$c,Ft],borderSpacing:A(),borderWidth:H(),contrast:Q(),grayscale:M(),hueRotate:Q(),invert:M(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[loe,Lc],inset:D(),margin:D(),opacity:Q(),padding:A(),saturate:Q(),scale:Q(),sepia:M(),skew:Q(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Ft]}],container:["container"],columns:[{columns:[$c]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),Ft]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",C0,Ft]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ft]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",C0,Ft]}],"grid-cols":[{"grid-cols":[E0]}],"col-start-end":[{col:["auto",{span:["full",C0,Ft]},Ft]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[E0]}],"row-start-end":[{row:["auto",{span:[C0,Ft]},Ft]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ft]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ft,t]}],"min-w":[{"min-w":[Ft,t,"min","max","fit"]}],"max-w":[{"max-w":[Ft,t,"none","full","min","max","fit","prose",{screen:[$c]},$c]}],h:[{h:[Ft,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ft,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ft,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ft,t,"auto","min","max","fit"]}],"font-size":[{text:["base",$c,Lc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hk]}],"font-family":[{font:[E0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ft]}],"line-clamp":[{"line-clamp":["none",sm,hk]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ul,Ft]}],"list-image":[{"list-image":["none",Ft]}],"list-style-type":[{list:["none","disc","decimal",Ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ul,Lc]}],"underline-offset":[{"underline-offset":["auto",Ul,Ft]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),doe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uoe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hoe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:I()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Ul,Ft]}],"outline-w":[{outline:[Ul,Lc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ul,Lc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",$c,moe]}],"shadow-color":[{shadow:[E0]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$c,Ft]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ft]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",Ft]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[C0,Ft]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ft]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ft]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ft]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ul,Lc,hk]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},yoe=eoe(xoe);function xe(...e){return yoe(Rt(e))}const boe={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12","2xl":"h-16 w-16"};function ua({message:e="Loading...",className:t="",size:r="xl",fullScreen:n=!1,showProgress:a=!1,progress:s=0}){const i=o.jsxs("div",{className:xe("flex flex-col items-center justify-center space-y-4",n?"min-h-screen":"",t),children:[o.jsx(B_,{className:xe("animate-spin text-primary",boe[r])}),a&&o.jsx("div",{className:"w-24 h-1 bg-muted rounded-full overflow-hidden mx-auto",children:o.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${s}%`}})}),e&&!a&&o.jsx("p",{className:"text-sm text-muted-foreground animate-pulse font-medium",children:e}),e&&a&&o.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:e})]});return n?o.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:i}):i}const Ly=({children:e,allowedRoles:t,requireAuth:r=!0,denyPermissionIds:n=[]})=>{var f,h;const a=Tl(),{user:s,loading:i,hasRole:l}=hr(),c=x.useMemo(()=>t?l(t):!0,[t,l]);if(x.useMemo(()=>({loading:i,user:s?{id:s.id,email:s.email,role:s.role}:null,hasRequiredRole:c}),[i,s,c]),console.log("[ProtectedRoute]",{path:a.pathname,loading:i,hasUser:!!s,requireAuth:r,hasRequiredRole:c,userRole:s==null?void 0:s.role}),i)return console.log("[ProtectedRoute] Showing loading spinner"),o.jsx(ua,{size:"xl",fullScreen:!0});if(r&&!s)return console.log("[ProtectedRoute] No user, redirecting to login"),o.jsx($b,{to:"/login",state:{from:a},replace:!0});const u=(s==null?void 0:s.permissions)||((f=s==null?void 0:s.profile)==null?void 0:f.permissions)||((h=s==null?void 0:s.profile)==null?void 0:h.permissions_ID),d=u!=null?Number(u):NaN;return n.length>0&&!Number.isNaN(d)&&n.includes(d)?(console.log("[ProtectedRoute] User permission denied:",d),o.jsx($b,{to:"/unauthorized",replace:!0})):t&&!c?(console.log("[ProtectedRoute] User does not have required role"),o.jsx($b,{to:"/unauthorized",replace:!0})):(console.log("[ProtectedRoute] Rendering protected content"),o.jsx(o.Fragment,{children:e}))};function bI(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gc(...e){return t=>{let r=!1;const n=e.map(a=>{const s=bI(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():bI(e[a],null)}}}}function Lt(...e){return x.useCallback(gc(...e),e)}function Bu(e){const t=woe(e),r=x.forwardRef((n,a)=>{const{children:s,...i}=n,l=x.Children.toArray(s),c=l.find(Soe);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var n9=Bu("Slot");function woe(e){const t=x.forwardRef((r,n)=>{const{children:a,...s}=r;if(x.isValidElement(a)){const i=koe(a),l=joe(s,a.props);return a.type!==x.Fragment&&(l.ref=n?gc(n,i):i),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var a9=Symbol("radix.slottable");function _oe(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=a9,t}function Soe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===a9}function joe(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function koe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const wI=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_I=Rt,Sx=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return _I(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,i=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=wI(d)||wI(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...s,...l}[g]):{...s,...l}[g]===v})?[...u,f,h]:u},[]);return _I(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},zm=Sx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const i=n?n9:"button";return o.jsx(i,{className:xe(zm({variant:t,size:r,className:e})),ref:s,...a})});ue.displayName="Button";const Ue=x.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ue.displayName="Input";var Noe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],st=Noe.reduce((e,t)=>{const r=Bu(`Primitive.${t}`),n=x.forwardRef((a,s)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function s9(e,t){e&&Ip.flushSync(()=>e.dispatchEvent(t))}var Coe="Label",i9=x.forwardRef((e,t)=>o.jsx(st.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i9.displayName=Coe;var o9=i9;const Eoe=Sx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),We=x.forwardRef(({className:e,...t},r)=>o.jsx(o9,{ref:r,className:xe(Eoe(),e),...t}));We.displayName=o9.displayName;const et=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));et.displayName="Card";const Bt=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:xe("flex flex-col space-y-1.5 p-6",e),...t}));Bt.displayName="CardHeader";const lr=x.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:xe("text-2xl font-semibold leading-none tracking-tight",e),...t}));lr.displayName="CardTitle";const Toe=x.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));Toe.displayName="CardDescription";const ot=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:xe("p-6 pt-0",e),...t}));ot.displayName="CardContent";const l9=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:xe("flex items-center p-6 pt-0",e),...t}));l9.displayName="CardFooter";const Aoe=1,Ooe=1e6;let mk=0;function Poe(){return mk=(mk+1)%Number.MAX_SAFE_INTEGER,mk.toString()}const pk=new Map,SI=e=>{if(pk.has(e))return;const t=setTimeout(()=>{pk.delete(e),bg({type:"REMOVE_TOAST",toastId:e})},Ooe);pk.set(e,t)},Doe=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Aoe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?SI(r):e.toasts.forEach(n=>{SI(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ub=[];let zb={toasts:[]};function bg(e){zb=Doe(zb,e),Ub.forEach(t=>{t(zb)})}function Roe({...e}){const t=Poe(),r=a=>bg({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>bg({type:"DISMISS_TOAST",toastId:t});return bg({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Al(){const[e,t]=x.useState(zb);return x.useEffect(()=>(Ub.push(t),()=>{const r=Ub.indexOf(t);r>-1&&Ub.splice(r,1)}),[e]),{...e,toast:Roe,dismiss:r=>bg({type:"DISMISS_TOAST",toastId:r})}}const Ioe=()=>{var b,w;const[e,t]=x.useState(""),[r,n]=x.useState(""),[a,s]=x.useState("crmdb"),[i,l]=x.useState(!1),[c,u]=x.useState(!1),{login:d}=hr(),f=zs(),h=Tl(),{t:m}=$t(),{isRTL:p}=La(),{toast:g}=Al(),v=((w=(b=h.state)==null?void 0:b.from)==null?void 0:w.pathname)||"/dashboard",y=async _=>{if(_.preventDefault(),!e||!r){g({title:m("common.error","Error"),description:m("validation.fillAllFields","Please fill in all fields"),variant:"destructive"});return}l(!0);try{const S=await Y.auth.login({email:e,password:r,company_code:a});if(S.serviceToken&&S.user)await d(S.serviceToken,S.user),g({title:m("common.success","Success"),description:m("auth.loginSuccess","Logged in successfully")}),f(v,{replace:!0});else throw new Error("Invalid response from server")}catch(S){console.error("Login error:",S);let k=m("auth.loginFailed","Failed to login. Please check your credentials.");S.message&&!S.message.includes("Unexpected token")&&(k=S.message),g({title:m("auth.loginFailedTitle","Login Failed"),description:k,variant:"destructive"})}finally{l(!1)}};return o.jsxs("div",{className:"w-full max-w-md mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-primary to-primary/80 rounded-2xl flex items-center justify-center shadow-lg mb-4",children:o.jsx(yn,{className:"h-8 w-8 text-white"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:m("auth.welcomeBack","Welcome Back")}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:m("auth.enterCredentials","Enter your credentials to access your account")})]}),o.jsx(et,{className:"border-0 shadow-xl bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm",children:o.jsxs("form",{onSubmit:y,children:[o.jsxs(ot,{className:"p-8 space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("auth.emailOrUsername","Email / Username")}),o.jsx("div",{className:"relative",children:o.jsx(Ue,{id:"email",type:"text",placeholder:m("auth.enterEmail","Enter your email"),value:e,onChange:_=>t(_.target.value),disabled:i,className:`pl-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${p?"text-right pr-10 pl-3":"text-left"}`,autoComplete:"email"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"password",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("forms.password","Password")}),o.jsxs("div",{className:"relative",children:[o.jsx(Ue,{id:"password",type:c?"text":"password",placeholder:m("auth.enterPassword","Enter your password"),value:r,onChange:_=>n(_.target.value),disabled:i,className:`pl-10 pr-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${p?"text-right pr-16 pl-3":"text-left"}`,autoComplete:"current-password"}),o.jsx("button",{type:"button",onClick:()=>u(!c),className:`absolute ${p?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors`,disabled:i,children:c?o.jsx(bie,{className:"h-4 w-4"}):o.jsx(oi,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"companyCode",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("auth.companyCode","Company Code")}),o.jsx("div",{className:"relative",children:o.jsx(Ue,{id:"companyCode",type:"text",value:a,onChange:_=>s(_.target.value),disabled:i,className:`pl-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${p?"text-right pr-3 pl-10":"text-left"}`,placeholder:"crmdb"})})]})]}),o.jsx(l9,{className:"px-8 pb-8",children:o.jsx(ue,{type:"submit",className:"w-full h-12 text-base font-medium shadow-lg hover:shadow-xl transition-all duration-200 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx(B_,{className:"mr-2 h-4 w-4 animate-spin"}),m("auth.signingIn","Logging in...")]}):o.jsx(o.Fragment,{children:m("auth.signInButton","Login")})})})]})}),o.jsxs("div",{className:"mt-6 text-center space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m("auth.noAccount","Don't have an account?")," ",o.jsx("button",{onClick:()=>f("/signup"),className:"text-primary hover:text-primary/80 font-medium transition-colors",children:m("auth.signUp","Sign up")})]}),o.jsx("button",{onClick:()=>{g({title:m("auth.forgotPassword","Forgot Password"),description:m("auth.forgotPasswordDesc","Please contact your administrator to reset your password.")})},className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:m("auth.forgotPassword","Forgot your password?")})]})]})},Moe=()=>{const[e,t]=x.useState(!1);hr();const r=zs(),{t:n}=$t();return o.jsxs("div",{className:"w-full max-w-md space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-bold",children:n("auth.createAccount")}),o.jsx("p",{className:"text-muted-foreground mt-2",children:n("auth.signUpToGetStarted")})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.chooseAccountTypeSignUp")}),e&&o.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.redirectingToGoogle")})]}),o.jsxs("div",{className:"text-center text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:[n("auth.alreadyHaveAccount")," "]}),o.jsx(ue,{variant:"link",className:"p-0",onClick:()=>r("/login"),children:n("auth.signIn")})]})]})},Foe=()=>{const{user:e}=hr(),t=()=>(e==null?void 0:e.permissions)||0,r=()=>(e==null?void 0:e.permissions_permissions_Name)||"",n=()=>(e==null?void 0:e.role)||"",a=y=>{const b=t();return Array.isArray(y)?y.includes(b):b===y},s=y=>{const b=r().toLowerCase();return Array.isArray(y)?y.some(w=>w.toLowerCase()===b):y.toLowerCase()===b},i=y=>{const b=n().toLowerCase();return Array.isArray(y)?y.some(w=>w.toLowerCase()===b):y.toLowerCase()===b},l=a(1)||s("admin")||i("admin"),c=a(2)||s("manager")||i("manager"),u=a(3)||s("employee")||i("employee"),d=a(4)||s("team_leader")||i("team_leader"),f=a(5)||s("partner_employee")||i("partner_employee"),h=a(6)||s("partner_leader")||i("partner_leader"),m=a([1,2])||s(["admin","manager"])||i(["admin","manager"]),p=a(1)||s("admin")||i("admin"),g=a(1)||s("admin")||i("admin"),v=a(1)||s("admin")||i("admin");return{permissionId:t(),permissionName:r(),role:n(),hasPermissionId:a,hasPermissionName:s,hasRole:i,isAdmin:l,isManager:c,isEmployee:u,isTeamLeader:d,isPartnerEmployee:f,isPartnerLeader:h,canAccessSystem:m,canManageUsers:p,canManagePermissions:g,canAccessSettings:v}},c9=x.createContext(void 0),Loe=({children:e})=>{const[t,r]=x.useState(()=>localStorage.getItem("crm_company_name")||"Middar CRM"),[n,a]=x.useState(()=>localStorage.getItem("crm_primary_color")||"#2563eb"),[s,i]=x.useState(()=>localStorage.getItem("crm_logo_url")||""),l=h=>{r(h),localStorage.setItem("crm_company_name",h)},c=h=>{a(h),localStorage.setItem("crm_primary_color",h),d(h)},u=h=>{i(h),localStorage.setItem("crm_logo_url",h)},d=h=>{const m=f(h);m&&(document.documentElement.style.setProperty("--primary",`${m.h} ${m.s}% ${m.l}%`),document.documentElement.style.setProperty("--ring",`${m.h} ${m.s}% ${m.l}%`))};function f(h){let m=0,p=0,g=0;h.length===4?(m=parseInt(h[1]+h[1],16),p=parseInt(h[2]+h[2],16),g=parseInt(h[3]+h[3],16)):h.length===7&&(m=parseInt(h.substring(1,3),16),p=parseInt(h.substring(3,5),16),g=parseInt(h.substring(5,7),16)),m/=255,p/=255,g/=255;const v=Math.max(m,p,g),y=Math.min(m,p,g);let b=0,w,_=(v+y)/2;if(v===y)b=w=0;else{const S=v-y;switch(w=_>.5?S/(2-v-y):S/(v+y),v){case m:b=(p-g)/S+(p<g?6:0);break;case p:b=(g-m)/S+2;break;case g:b=(m-p)/S+4;break}b/=6}return{h:Math.round(b*360),s:Math.round(w*100),l:Math.round(_*100)}}return x.useEffect(()=>{d(n)},[]),o.jsx(c9.Provider,{value:{companyName:t,setCompanyName:l,primaryColor:n,setPrimaryColor:c,logoUrl:s,setLogoUrl:u},children:e})},u9=()=>{const e=x.useContext(c9);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e};function $oe(e,t){const r=x.createContext(t),n=s=>{const{children:i,...l}=s,c=x.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function a(s){const i=x.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function ps(e,t=[]){let r=[];function n(s,i){const l=x.createContext(i),c=r.length;r=[...r,i];const u=f=>{var y;const{scope:h,children:m,...p}=f,g=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,v=x.useMemo(()=>p,Object.values(p));return o.jsx(g.Provider,{value:v,children:m})};u.displayName=s+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,p=x.useContext(m);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(i=>x.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Boe(a,...t)]}function Boe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Kn(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var kn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function Uoe(){return jU.useSyncExternalStore(zoe,()=>!0,()=>!1)}function zoe(){return()=>{}}var WA="Avatar",[Voe,fXe]=ps(WA),[Woe,d9]=Voe(WA),f9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=x.useState("idle");return o.jsx(Woe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:o.jsx(st.span,{...n,ref:t})})});f9.displayName=WA;var h9="AvatarImage",m9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,i=d9(h9,r),l=Hoe(n,s),c=Kn(u=>{a(u),i.onImageLoadingStatusChange(u)});return kn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(st.img,{...s,ref:t,src:n}):null});m9.displayName=h9;var p9="AvatarFallback",g9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=d9(p9,r),[i,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&s.imageLoadingStatus!=="loaded"?o.jsx(st.span,{...a,ref:t}):null});g9.displayName=p9;function jI(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Hoe(e,{referrerPolicy:t,crossOrigin:r}){const n=Uoe(),a=x.useRef(null),s=n?(a.current||(a.current=new window.Image),a.current):null,[i,l]=x.useState(()=>jI(s,e));return kn(()=>{l(jI(s,e))},[s,e]),kn(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,t]),i}var v9=f9,x9=m9,y9=g9;const Ds=x.forwardRef(({className:e,...t},r)=>o.jsx(v9,{ref:r,className:xe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Ds.displayName=v9.displayName;const Io=x.forwardRef(({className:e,...t},r)=>o.jsx(x9,{ref:r,className:xe("aspect-square h-full w-full",e),...t}));Io.displayName=x9.displayName;const Rs=x.forwardRef(({className:e,...t},r)=>o.jsx(y9,{ref:r,className:xe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Rs.displayName=y9.displayName;const qoe=[{label:"main",items:[{labelKey:"navigation.dashboard",path:"/dashboard",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:jie},{labelKey:"navigation.surveys",path:"/surveys",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Qs}]},{label:"sales",items:[{labelKey:"navigation.masterLeads",path:"/mleads",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:yn},{labelKey:"navigation.projects",path:"/projects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:nf},{labelKey:"mprojects.masterProjects",path:"/mprojects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:yn}]},{label:"work",items:[{labelKey:"navigation.tasks",path:"/tasks",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:yg},{labelKey:"navigation.tickets",path:"/tickets",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:_h},{labelKey:"navigation.requests",path:"/requests",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Qs}]},{label:"communication",items:[{labelKey:"WhatsApp",path:"/whatsapp",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:$u},{labelKey:"navigation.chats",path:"/chats",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:$u},{labelKey:"navigation.teams",path:"/teams",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:A1}]},{label:"system",items:[{labelKey:"navigation.users",path:"/users",roles:["admin"],icon:Lie},{labelKey:"navigation.settings",path:"/settings",roles:["admin"],icon:zA},{labelKey:"navigation.permissions",path:"/permissions",roles:["admin"],icon:A1}]}];function kI({onNavigate:e}={}){var i,l,c;const t=Tl(),{user:r}=hr(),{canAccessSystem:n}=Foe(),{t:a}=$t(),{companyName:s}=u9();return o.jsxs("div",{className:"h-full w-full bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95 border-r border-sidebar-border/50 flex flex-col shadow-xl",children:[o.jsx("div",{className:"p-6 border-b border-sidebar-border/30 bg-gradient-to-r from-primary/5 via-primary/3 to-transparent",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary to-primary/80 shadow-lg flex items-center justify-center ring-2 ring-primary/20",children:o.jsx(yn,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-bold text-sidebar-foreground tracking-tight",children:s}),o.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"CRM System"})]})]})}),o.jsx("div",{className:"flex-1 px-4 py-6 overflow-y-auto",children:o.jsx("nav",{className:"space-y-6",children:qoe.map(u=>{if(u.label==="system"&&!n)return null;let d=u.items;if(!n){const f=new Set(["/users","/permissions","/settings"]);d=d.filter(h=>!f.has(h.path))}return d.length===0?null:o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-sidebar-foreground/50 uppercase tracking-wider",children:a(`navigation.${u.label} Group`,u.label)}),o.jsx("div",{className:"space-y-1",children:d.map(f=>{const h=t.pathname===f.path,m=f.icon;return o.jsxs(q2,{to:f.path,onClick:p=>{h&&p.preventDefault(),e==null||e()},className:xe("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group relative overflow-hidden",h?"bg-gradient-to-r from-primary to-primary/90 text-white shadow-lg shadow-primary/25 translate-x-1":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:translate-x-0.5"),children:[h&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-transparent to-transparent"}),o.jsx(m,{className:xe("h-4 w-4 transition-transform group-hover:scale-110 relative z-10",h?"text-white":"text-sidebar-foreground/50 group-hover:text-sidebar-accent-foreground")}),o.jsx("span",{className:"flex-1 relative z-10",children:a(f.labelKey)})]},f.path)})})]},u.label)})})}),o.jsx("div",{className:"p-4 border-t border-sidebar-border/50 bg-sidebar-accent/30",children:o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-sidebar-accent/50 to-transparent hover:from-sidebar-accent hover:shadow-md transition-all cursor-pointer group",children:[o.jsx(Ds,{className:"h-10 w-10 ring-2 ring-primary/20 transition-all group-hover:ring-primary/40",children:o.jsx(Rs,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-bold",children:(i=r==null?void 0:r.email)==null?void 0:i.charAt(0).toUpperCase()})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-sidebar-foreground truncate",children:((l=r==null?void 0:r.profile)==null?void 0:l.name)||(r==null?void 0:r.email)}),o.jsxs("p",{className:"text-xs text-sidebar-foreground/60 capitalize flex items-center gap-1.5",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-lg shadow-green-500/50"}),(c=r==null?void 0:r.role)==null?void 0:c.replace("_"," ")]})]}),o.jsx(F_,{className:"h-4 w-4 text-sidebar-foreground/30 group-hover:text-sidebar-foreground/60 transition-colors"})]})})]})}function Koe(){const e=Tl(),{t}=$t(),r=e.pathname.split("/").filter(s=>s);if(r.length===0)return null;const n={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",mleads:"navigation.masterLeads",mprojects:"mprojects.masterProjects",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee"},a=s=>n[s]?t(n[s]):/^\d+$/.test(s)||s.length>20?s:s.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ");return o.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[o.jsx(q2,{to:"/",className:"hover:text-foreground transition-colors",children:t("navigation.home")}),r.map((s,i)=>{const l=`/${r.slice(0,i+1).join("/")}`,c=i===r.length-1,u=a(s);return o.jsxs("div",{className:"flex items-center",children:[o.jsx(F_,{className:"h-4 w-4 mx-2 text-muted-foreground rtl:rotate-180"}),c?o.jsx("span",{className:"text-foreground font-medium",children:u}):o.jsx(q2,{to:l,className:"hover:text-foreground transition-colors",children:u})]},s)})]})}function Z2(e,[t,r]){return Math.min(r,Math.max(t,e))}function Qe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function HA(e){const t=e+"CollectionProvider",[r,n]=ps(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:v,children:y}=g,b=ie.useRef(null),w=ie.useRef(new Map).current;return o.jsx(a,{scope:v,itemMap:w,collectionRef:b,children:y})};i.displayName=t;const l=e+"CollectionSlot",c=Bu(l),u=ie.forwardRef((g,v)=>{const{scope:y,children:b}=g,w=s(l,y),_=Lt(v,w.collectionRef);return o.jsx(c,{ref:_,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Bu(d),m=ie.forwardRef((g,v)=>{const{scope:y,children:b,...w}=g,_=ie.useRef(null),S=Lt(v,_),k=s(d,y);return ie.useEffect(()=>(k.itemMap.set(_,{ref:_,...w}),()=>void k.itemMap.delete(_))),o.jsx(h,{[f]:"",ref:S,children:b})});m.displayName=d;function p(g){const v=s(e+"CollectionConsumer",g);return ie.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((k,j)=>w.indexOf(k.ref.current)-w.indexOf(j.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},p,n]}var Goe=x.createContext(void 0);function jx(e){const t=x.useContext(Goe);return e||t||"ltr"}function Yoe(e,t=globalThis==null?void 0:globalThis.document){const r=Kn(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Xoe="DismissableLayer",eC="dismissableLayer.update",Joe="dismissableLayer.pointerDownOutside",Qoe="dismissableLayer.focusOutside",NI,b9=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kx=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...c}=e,u=x.useContext(b9),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),p=Lt(t,j=>f(j)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),b=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=y,S=tle(j=>{const N=j.target,C=[...u.branches].some(T=>T.contains(N));!_||C||(a==null||a(j),i==null||i(j),j.defaultPrevented||l==null||l())},h),k=rle(j=>{const N=j.target;[...u.branches].some(T=>T.contains(N))||(s==null||s(j),i==null||i(j),j.defaultPrevented||l==null||l())},h);return Yoe(j=>{b===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(NI=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),CI(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=NI)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),CI())},[d,u]),x.useEffect(()=>{const j=()=>m({});return document.addEventListener(eC,j),()=>document.removeEventListener(eC,j)},[]),o.jsx(st.div,{...c,ref:p,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Qe(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Qe(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Qe(e.onPointerDownCapture,S.onPointerDownCapture)})});kx.displayName=Xoe;var Zoe="DismissableLayerBranch",ele=x.forwardRef((e,t)=>{const r=x.useContext(b9),n=x.useRef(null),a=Lt(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(st.div,{...e,ref:a})});ele.displayName=Zoe;function tle(e,t=globalThis==null?void 0:globalThis.document){const r=Kn(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){w9(Joe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function rle(e,t=globalThis==null?void 0:globalThis.document){const r=Kn(e),n=x.useRef(!1);return x.useEffect(()=>{const a=s=>{s.target&&!n.current&&w9(Qoe,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function CI(){const e=new CustomEvent(eC);document.dispatchEvent(e)}function w9(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?s9(a,s):a.dispatchEvent(s)}var gk=0;function U_(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??EI()),document.body.insertAdjacentElement("beforeend",e[1]??EI()),gk++,()=>{gk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gk--}},[])}function EI(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vk="focusScope.autoFocusOnMount",xk="focusScope.autoFocusOnUnmount",TI={bubbles:!1,cancelable:!0},nle="FocusScope",Nx=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[l,c]=x.useState(null),u=Kn(a),d=Kn(s),f=x.useRef(null),h=Lt(t,g=>c(g)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let g=function(w){if(m.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:Wc(f.current,{select:!0})},v=function(w){if(m.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||Wc(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Wc(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,m.paused]),x.useEffect(()=>{if(l){OI.add(m);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(vk,TI);l.addEventListener(vk,u),l.dispatchEvent(y),y.defaultPrevented||(ale(cle(_9(l)),{select:!0}),document.activeElement===g&&Wc(l))}return()=>{l.removeEventListener(vk,u),setTimeout(()=>{const y=new CustomEvent(xk,TI);l.addEventListener(xk,d),l.dispatchEvent(y),y.defaultPrevented||Wc(g??document.body,{select:!0}),l.removeEventListener(xk,d),OI.remove(m)},0)}}},[l,u,d,m]);const p=x.useCallback(g=>{if(!r&&!n||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const b=g.currentTarget,[w,_]=sle(b);w&&_?!g.shiftKey&&y===_?(g.preventDefault(),r&&Wc(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),r&&Wc(_,{select:!0})):y===b&&g.preventDefault()}},[r,n,m.paused]);return o.jsx(st.div,{tabIndex:-1,...i,ref:h,onKeyDown:p})});Nx.displayName=nle;function ale(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Wc(n,{select:t}),document.activeElement!==r)return}function sle(e){const t=_9(e),r=AI(t,e),n=AI(t.reverse(),e);return[r,n]}function _9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function AI(e,t){for(const r of e)if(!ile(r,{upTo:t}))return r}function ile(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ole(e){return e instanceof HTMLInputElement&&"select"in e}function Wc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ole(e)&&t&&e.select()}}var OI=lle();function lle(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=PI(e,t),e.unshift(t)},remove(t){var r;e=PI(e,t),(r=e[0])==null||r.resume()}}}function PI(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function cle(e){return e.filter(t=>t.tagName!=="A")}var ule=PT[" useId ".trim().toString()]||(()=>{}),dle=0;function sa(e){const[t,r]=x.useState(ule());return kn(()=>{r(n=>n??String(dle++))},[e]),t?`radix-${t}`:""}const fle=["top","right","bottom","left"],Uu=Math.min,Zs=Math.max,O1=Math.round,$y=Math.floor,hl=e=>({x:e,y:e}),hle={left:"right",right:"left",bottom:"top",top:"bottom"},mle={start:"end",end:"start"};function tC(e,t,r){return Zs(e,Uu(t,r))}function vc(e,t){return typeof e=="function"?e(t):e}function xc(e){return e.split("-")[0]}function $p(e){return e.split("-")[1]}function qA(e){return e==="x"?"y":"x"}function KA(e){return e==="y"?"height":"width"}const ple=new Set(["top","bottom"]);function ll(e){return ple.has(xc(e))?"y":"x"}function GA(e){return qA(ll(e))}function gle(e,t,r){r===void 0&&(r=!1);const n=$p(e),a=GA(e),s=KA(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=P1(i)),[i,P1(i)]}function vle(e){const t=P1(e);return[rC(e),t,rC(t)]}function rC(e){return e.replace(/start|end/g,t=>mle[t])}const DI=["left","right"],RI=["right","left"],xle=["top","bottom"],yle=["bottom","top"];function ble(e,t,r){switch(e){case"top":case"bottom":return r?t?RI:DI:t?DI:RI;case"left":case"right":return t?xle:yle;default:return[]}}function wle(e,t,r,n){const a=$p(e);let s=ble(xc(e),r==="start",n);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map(rC)))),s}function P1(e){return e.replace(/left|right|bottom|top/g,t=>hle[t])}function _le(e){return{top:0,right:0,bottom:0,left:0,...e}}function S9(e){return typeof e!="number"?_le(e):{top:e,right:e,bottom:e,left:e}}function D1(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function II(e,t,r){let{reference:n,floating:a}=e;const s=ll(t),i=GA(t),l=KA(i),c=xc(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch($p(t)){case"start":m[i]-=h*(r&&u?-1:1);break;case"end":m[i]+=h*(r&&u?-1:1);break}return m}const Sle=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,l=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=II(u,n,c),h=n,m={},p=0;for(let g=0;g<l.length;g++){const{name:v,fn:y}=l[g],{x:b,y:w,data:_,reset:S}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});d=b??d,f=w??f,m={...m,[v]:{...m[v],..._}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=II(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function fv(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=vc(t,e),p=S9(m),v=l[h?f==="floating"?"reference":"floating":f],y=D1(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),_=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},S=D1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(y.top-S.top+p.top)/_.y,bottom:(S.bottom-y.bottom+p.bottom)/_.y,left:(y.left-S.left+p.left)/_.x,right:(S.right-y.right+p.right)/_.x}}const jle=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=vc(e,t)||{};if(u==null)return{};const f=S9(d),h={x:r,y:n},m=GA(a),p=KA(m),g=await i.getDimensions(u),v=m==="y",y=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=s.reference[p]+s.reference[m]-h[m]-s.floating[p],S=h[m]-s.reference[m],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=k?k[w]:0;(!j||!await(i.isElement==null?void 0:i.isElement(k)))&&(j=l.floating[w]||s.floating[p]);const N=_/2-S/2,C=j/2-g[p]/2-1,T=Uu(f[y],C),D=Uu(f[b],C),A=T,H=j-g[p]-D,X=j/2-g[p]/2+N,L=tC(A,X,H),I=!c.arrow&&$p(a)!=null&&X!==L&&s.reference[p]/2-(X<A?T:D)-g[p]/2<0,W=I?X<A?X-A:X-H:0;return{[m]:h[m]+W,data:{[m]:L,centerOffset:X-L-W,...I&&{alignmentOffset:W}},reset:I}}}),kle=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=vc(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=xc(a),b=ll(l),w=xc(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(w||!g?[P1(l)]:vle(l)),k=p!=="none";!h&&k&&S.push(...wle(l,g,p,_));const j=[l,...S],N=await fv(t,v),C=[];let T=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&C.push(N[y]),f){const X=gle(a,i,_);C.push(N[X[0]],N[X[1]])}if(T=[...T,{placement:a,overflows:C}],!C.every(X=>X<=0)){var D,A;const X=(((D=s.flip)==null?void 0:D.index)||0)+1,L=j[X];if(L&&(!(f==="alignment"?b!==ll(L):!1)||T.every(F=>F.overflows[0]>0&&ll(F.placement)===b)))return{data:{index:X,overflows:T},reset:{placement:L}};let I=(A=T.filter(W=>W.overflows[0]<=0).sort((W,F)=>W.overflows[1]-F.overflows[1])[0])==null?void 0:A.placement;if(!I)switch(m){case"bestFit":{var H;const W=(H=T.filter(F=>{if(k){const M=ll(F.placement);return M===b||M==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(M=>M>0).reduce((M,G)=>M+G,0)]).sort((F,M)=>F[1]-M[1])[0])==null?void 0:H[0];W&&(I=W);break}case"initialPlacement":I=l;break}if(a!==I)return{reset:{placement:I}}}return{}}}};function MI(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function FI(e){return fle.some(t=>e[t]>=0)}const Nle=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=vc(e,t);switch(n){case"referenceHidden":{const s=await fv(t,{...a,elementContext:"reference"}),i=MI(s,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:FI(i)}}}case"escaped":{const s=await fv(t,{...a,altBoundary:!0}),i=MI(s,r.floating);return{data:{escapedOffsets:i,escaped:FI(i)}}}default:return{}}}}},j9=new Set(["left","top"]);async function Cle(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=xc(r),l=$p(r),c=ll(r)==="y",u=j9.has(i)?-1:1,d=s&&c?-1:1,f=vc(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof p=="number"&&(m=l==="end"?p*-1:p),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Ele=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:l}=t,c=await Cle(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:i}}}}},Tle=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:l={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...c}=vc(e,t),u={x:r,y:n},d=await fv(t,c),f=ll(xc(a)),h=qA(f);let m=u[h],p=u[f];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=m+d[v],w=m-d[y];m=tC(b,m,w)}if(i){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=p+d[v],w=p-d[y];p=tC(b,p,w)}const g=l.fn({...t,[h]:m,[f]:p});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:s,[f]:i}}}}}},Ale=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=vc(e,t),d={x:r,y:n},f=ll(a),h=qA(f);let m=d[h],p=d[f];const g=vc(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=h==="y"?"height":"width",_=s.reference[h]-s.floating[w]+v.mainAxis,S=s.reference[h]+s.reference[w]-v.mainAxis;m<_?m=_:m>S&&(m=S)}if(u){var y,b;const w=h==="y"?"width":"height",_=j9.has(xc(a)),S=s.reference[f]-s.floating[w]+(_&&((y=i.offset)==null?void 0:y[f])||0)+(_?0:v.crossAxis),k=s.reference[f]+s.reference[w]+(_?0:((b=i.offset)==null?void 0:b[f])||0)-(_?v.crossAxis:0);p<S?p=S:p>k&&(p=k)}return{[h]:m,[f]:p}}}},Ole=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:i,elements:l}=t,{apply:c=()=>{},...u}=vc(e,t),d=await fv(t,u),f=xc(a),h=$p(a),m=ll(a)==="y",{width:p,height:g}=s.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const b=g-d.top-d.bottom,w=p-d.left-d.right,_=Uu(g-d[v],b),S=Uu(p-d[y],w),k=!t.middlewareData.shift;let j=_,N=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=b),k&&!h){const T=Zs(d.left,0),D=Zs(d.right,0),A=Zs(d.top,0),H=Zs(d.bottom,0);m?N=p-2*(T!==0||D!==0?T+D:Zs(d.left,d.right)):j=g-2*(A!==0||H!==0?A+H:Zs(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:j});const C=await i.getDimensions(l.floating);return p!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function z_(){return typeof window<"u"}function Bp(e){return k9(e)?(e.nodeName||"").toLowerCase():"#document"}function ci(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ol(e){var t;return(t=(k9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function k9(e){return z_()?e instanceof Node||e instanceof ci(e).Node:!1}function Mo(e){return z_()?e instanceof Element||e instanceof ci(e).Element:!1}function wl(e){return z_()?e instanceof HTMLElement||e instanceof ci(e).HTMLElement:!1}function LI(e){return!z_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ci(e).ShadowRoot}const Ple=new Set(["inline","contents"]);function Cx(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Fo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Ple.has(a)}const Dle=new Set(["table","td","th"]);function Rle(e){return Dle.has(Bp(e))}const Ile=[":popover-open",":modal"];function V_(e){return Ile.some(t=>{try{return e.matches(t)}catch{return!1}})}const Mle=["transform","translate","scale","rotate","perspective"],Fle=["transform","translate","scale","rotate","perspective","filter"],Lle=["paint","layout","strict","content"];function YA(e){const t=XA(),r=Mo(e)?Fo(e):e;return Mle.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Fle.some(n=>(r.willChange||"").includes(n))||Lle.some(n=>(r.contain||"").includes(n))}function $le(e){let t=zu(e);for(;wl(t)&&!Vm(t);){if(YA(t))return t;if(V_(t))return null;t=zu(t)}return null}function XA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ble=new Set(["html","body","#document"]);function Vm(e){return Ble.has(Bp(e))}function Fo(e){return ci(e).getComputedStyle(e)}function W_(e){return Mo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zu(e){if(Bp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||LI(e)&&e.host||Ol(e);return LI(t)?t.host:t}function N9(e){const t=zu(e);return Vm(t)?e.ownerDocument?e.ownerDocument.body:e.body:wl(t)&&Cx(t)?t:N9(t)}function hv(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=N9(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),i=ci(a);if(s){const l=nC(i);return t.concat(i,i.visualViewport||[],Cx(a)?a:[],l&&r?hv(l):[])}return t.concat(a,hv(a,[],r))}function nC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function C9(e){const t=Fo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=wl(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=O1(r)!==s||O1(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function JA(e){return Mo(e)?e:e.contextElement}function im(e){const t=JA(e);if(!wl(t))return hl(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=C9(t);let i=(s?O1(r.width):r.width)/n,l=(s?O1(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Ule=hl(0);function E9(e){const t=ci(e);return!XA()||!t.visualViewport?Ule:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function zle(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ci(e)?!1:t}function bf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=JA(e);let i=hl(1);t&&(n?Mo(n)&&(i=im(n)):i=im(e));const l=zle(s,r,n)?E9(s):hl(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const h=ci(s),m=n&&Mo(n)?ci(n):n;let p=h,g=nC(p);for(;g&&n&&m!==p;){const v=im(g),y=g.getBoundingClientRect(),b=Fo(g),w=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,_=y.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=_,p=ci(g),g=nC(p)}}return D1({width:d,height:f,x:c,y:u})}function QA(e,t){const r=W_(e).scrollLeft;return t?t.left+r:bf(Ol(e)).left+r}function T9(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:QA(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function Vle(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",i=Ol(n),l=t?V_(t.floating):!1;if(n===i||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=hl(1);const d=hl(0),f=wl(n);if((f||!f&&!s)&&((Bp(n)!=="body"||Cx(i))&&(c=W_(n)),wl(n))){const m=bf(n);u=im(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=i&&!f&&!s?T9(i,c,!0):hl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Wle(e){return Array.from(e.getClientRects())}function Hle(e){const t=Ol(e),r=W_(e),n=e.ownerDocument.body,a=Zs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Zs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+QA(e);const l=-r.scrollTop;return Fo(n).direction==="rtl"&&(i+=Zs(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:l}}function qle(e,t){const r=ci(e),n=Ol(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){s=a.width,i=a.height;const u=XA();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:i,x:l,y:c}}const Kle=new Set(["absolute","fixed"]);function Gle(e,t){const r=bf(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=wl(e)?im(e):hl(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:i,height:l,x:c,y:u}}function $I(e,t,r){let n;if(t==="viewport")n=qle(e,r);else if(t==="document")n=Hle(Ol(e));else if(Mo(t))n=Gle(t,r);else{const a=E9(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return D1(n)}function A9(e,t){const r=zu(e);return r===t||!Mo(r)||Vm(r)?!1:Fo(r).position==="fixed"||A9(r,t)}function Yle(e,t){const r=t.get(e);if(r)return r;let n=hv(e,[],!1).filter(l=>Mo(l)&&Bp(l)!=="body"),a=null;const s=Fo(e).position==="fixed";let i=s?zu(e):e;for(;Mo(i)&&!Vm(i);){const l=Fo(i),c=YA(i);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&Kle.has(a.position)||Cx(i)&&!c&&A9(e,i))?n=n.filter(d=>d!==i):a=l,i=zu(i)}return t.set(e,n),n}function Xle(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?V_(t)?[]:Yle(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=$I(t,d,a);return u.top=Zs(f.top,u.top),u.right=Uu(f.right,u.right),u.bottom=Uu(f.bottom,u.bottom),u.left=Zs(f.left,u.left),u},$I(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Jle(e){const{width:t,height:r}=C9(e);return{width:t,height:r}}function Qle(e,t,r){const n=wl(t),a=Ol(t),s=r==="fixed",i=bf(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=hl(0);function u(){c.x=QA(a)}if(n||!n&&!s)if((Bp(t)!=="body"||Cx(a))&&(l=W_(t)),n){const m=bf(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?T9(a,l):hl(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function yk(e){return Fo(e).position==="static"}function BI(e,t){if(!wl(e)||Fo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ol(e)===r&&(r=r.ownerDocument.body),r}function O9(e,t){const r=ci(e);if(V_(e))return r;if(!wl(e)){let a=zu(e);for(;a&&!Vm(a);){if(Mo(a)&&!yk(a))return a;a=zu(a)}return r}let n=BI(e,t);for(;n&&Rle(n)&&yk(n);)n=BI(n,t);return n&&Vm(n)&&yk(n)&&!YA(n)?r:n||$le(e)||r}const Zle=async function(e){const t=this.getOffsetParent||O9,r=this.getDimensions,n=await r(e.floating);return{reference:Qle(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function ece(e){return Fo(e).direction==="rtl"}const tce={convertOffsetParentRelativeRectToViewportRelativeRect:Vle,getDocumentElement:Ol,getClippingRect:Xle,getOffsetParent:O9,getElementRects:Zle,getClientRects:Wle,getDimensions:Jle,getScale:im,isElement:Mo,isRTL:ece};function P9(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function rce(e,t){let r=null,n;const a=Ol(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const p=$y(f),g=$y(a.clientWidth-(d+h)),v=$y(a.clientHeight-(f+m)),y=$y(d),w={rootMargin:-p+"px "+-g+"px "+-v+"px "+-y+"px",threshold:Zs(0,Uu(1,c))||1};let _=!0;function S(k){const j=k[0].intersectionRatio;if(j!==c){if(!_)return i();j?i(!1,j):n=setTimeout(()=>{i(!1,1e-7)},1e3)}j===1&&!P9(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return i(!0),s}function nce(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=JA(e),d=a||s?[...u?hv(u):[],...hv(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=u&&l?rce(u,r):null;let h=-1,m=null;i&&(m=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let p,g=c?bf(e):null;c&&v();function v(){const y=bf(e);g&&!P9(g,y)&&r(),g=y,p=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(b=>{a&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(p)}}const ace=Ele,sce=Tle,ice=kle,oce=Ole,lce=Nle,UI=jle,cce=Ale,uce=(e,t,r)=>{const n=new Map,a={platform:tce,...r},s={...a.platform,_c:n};return Sle(e,t,{...a,platform:s})};var dce=typeof document<"u",fce=function(){},Vb=dce?x.useLayoutEffect:fce;function R1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!R1(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!R1(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function D9(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function zI(e,t){const r=D9(e);return Math.round(t*r)/r}function bk(e){const t=x.useRef(e);return Vb(()=>{t.current=e}),t}function hce(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(n);R1(h,n)||m(n);const[p,g]=x.useState(null),[v,y]=x.useState(null),b=x.useCallback(F=>{F!==k.current&&(k.current=F,g(F))},[]),w=x.useCallback(F=>{F!==j.current&&(j.current=F,y(F))},[]),_=s||p,S=i||v,k=x.useRef(null),j=x.useRef(null),N=x.useRef(d),C=c!=null,T=bk(c),D=bk(a),A=bk(u),H=x.useCallback(()=>{if(!k.current||!j.current)return;const F={placement:t,strategy:r,middleware:h};D.current&&(F.platform=D.current),uce(k.current,j.current,F).then(M=>{const G={...M,isPositioned:A.current!==!1};X.current&&!R1(N.current,G)&&(N.current=G,Ip.flushSync(()=>{f(G)}))})},[h,t,r,D,A]);Vb(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const X=x.useRef(!1);Vb(()=>(X.current=!0,()=>{X.current=!1}),[]),Vb(()=>{if(_&&(k.current=_),S&&(j.current=S),_&&S){if(T.current)return T.current(_,S,H);H()}},[_,S,H,T,C]);const L=x.useMemo(()=>({reference:k,floating:j,setReference:b,setFloating:w}),[b,w]),I=x.useMemo(()=>({reference:_,floating:S}),[_,S]),W=x.useMemo(()=>{const F={position:r,left:0,top:0};if(!I.floating)return F;const M=zI(I.floating,d.x),G=zI(I.floating,d.y);return l?{...F,transform:"translate("+M+"px, "+G+"px)",...D9(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:G}},[r,l,I.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:H,refs:L,elements:I,floatingStyles:W}),[d,H,L,I,W])}const mce=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?UI({element:n.current,padding:a}).fn(r):{}:n?UI({element:n,padding:a}).fn(r):{}}}},pce=(e,t)=>({...ace(e),options:[e,t]}),gce=(e,t)=>({...sce(e),options:[e,t]}),vce=(e,t)=>({...cce(e),options:[e,t]}),xce=(e,t)=>({...ice(e),options:[e,t]}),yce=(e,t)=>({...oce(e),options:[e,t]}),bce=(e,t)=>({...lce(e),options:[e,t]}),wce=(e,t)=>({...mce(e),options:[e,t]});var _ce="Arrow",R9=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return o.jsx(st.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});R9.displayName=_ce;var Sce=R9;function ZA(e){const[t,r]=x.useState(void 0);return kn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let i,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var eO="Popper",[I9,Up]=ps(eO),[jce,M9]=I9(eO),F9=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return o.jsx(jce,{scope:t,anchor:n,onAnchorChange:a,children:r})};F9.displayName=eO;var L9="PopperAnchor",$9=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=M9(L9,r),i=x.useRef(null),l=Lt(t,i);return x.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:o.jsx(st.div,{...a,ref:l})});$9.displayName=L9;var tO="PopperContent",[kce,Nce]=I9(tO),B9=x.forwardRef((e,t)=>{var oe,ge,se,Z,he,P;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:p,...g}=e,v=M9(tO,r),[y,b]=x.useState(null),w=Lt(t,De=>b(De)),[_,S]=x.useState(null),k=ZA(_),j=(k==null?void 0:k.width)??0,N=(k==null?void 0:k.height)??0,C=n+(s!=="center"?"-"+s:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],A=D.length>0,H={padding:T,boundary:D.filter(Ece),altBoundary:A},{refs:X,floatingStyles:L,placement:I,isPositioned:W,middlewareData:F}=hce({strategy:"fixed",placement:C,whileElementsMounted:(...De)=>nce(...De,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[pce({mainAxis:a+N,alignmentAxis:i}),c&&gce({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?vce():void 0,...H}),c&&xce({...H}),yce({...H,apply:({elements:De,rects:Re,availableWidth:Me,availableHeight:Be})=>{const{width:Oe,height:ht}=Re.reference,it=De.floating.style;it.setProperty("--radix-popper-available-width",`${Me}px`),it.setProperty("--radix-popper-available-height",`${Be}px`),it.setProperty("--radix-popper-anchor-width",`${Oe}px`),it.setProperty("--radix-popper-anchor-height",`${ht}px`)}}),_&&wce({element:_,padding:l}),Tce({arrowWidth:j,arrowHeight:N}),h&&bce({strategy:"referenceHidden",...H})]}),[M,G]=V9(I),Q=Kn(p);kn(()=>{W&&(Q==null||Q())},[W,Q]);const E=(oe=F.arrow)==null?void 0:oe.x,B=(ge=F.arrow)==null?void 0:ge.y,U=((se=F.arrow)==null?void 0:se.centerOffset)!==0,[q,ee]=x.useState();return kn(()=>{y&&ee(window.getComputedStyle(y).zIndex)},[y]),o.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:W?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(Z=F.transformOrigin)==null?void 0:Z.x,(he=F.transformOrigin)==null?void 0:he.y].join(" "),...((P=F.hide)==null?void 0:P.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(kce,{scope:r,placedSide:M,onArrowChange:S,arrowX:E,arrowY:B,shouldHideArrow:U,children:o.jsx(st.div,{"data-side":M,"data-align":G,...g,ref:w,style:{...g.style,animation:W?void 0:"none"}})})})});B9.displayName=tO;var U9="PopperArrow",Cce={top:"bottom",right:"left",bottom:"top",left:"right"},z9=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=Nce(U9,n),i=Cce[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(Sce,{...a,ref:r,style:{...a.style,display:"block"}})})});z9.displayName=U9;function Ece(e){return e!==null}var Tce=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:r,rects:n,middlewareData:a}=t,i=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=V9(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let p="",g="";return u==="bottom"?(p=i?f:`${h}px`,g=`${-c}px`):u==="top"?(p=i?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(p=`${-c}px`,g=i?f:`${m}px`):u==="left"&&(p=`${n.floating.width+c}px`,g=i?f:`${m}px`),{data:{x:p,y:g}}}});function V9(e){const[t,r="center"]=e.split("-");return[t,r]}var rO=F9,H_=$9,nO=B9,aO=z9,Ace="Portal",Ex=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=x.useState(!1);kn(()=>s(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?rte.createPortal(o.jsx(st.div,{...n,ref:t}),i):null});Ex.displayName=Ace;var Oce=PT[" useInsertionEffect ".trim().toString()]||kn;function yc({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,i]=Pce({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=Dce(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else s(d)},[l,e,s,i]);return[c,u]}function Pce({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),s=x.useRef(t);return Oce(()=>{s.current=t},[t]),x.useEffect(()=>{var i;a.current!==r&&((i=s.current)==null||i.call(s,r),a.current=r)},[r,a]),[r,n,s]}function Dce(e){return typeof e=="function"}function sO(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var W9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Rce="VisuallyHidden",Ice=x.forwardRef((e,t)=>o.jsx(st.span,{...e,ref:t,style:{...W9,...e.style}}));Ice.displayName=Rce;var Mce=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ih=new WeakMap,By=new WeakMap,Uy={},wk=0,H9=function(e){return e&&(e.host||H9(e.parentNode))},Fce=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=H9(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Lce=function(e,t,r,n){var a=Fce(t,Array.isArray(e)?e:[e]);Uy[r]||(Uy[r]=new WeakMap);var s=Uy[r],i=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),p=m!==null&&m!=="false",g=(ih.get(h)||0)+1,v=(s.get(h)||0)+1;ih.set(h,g),s.set(h,v),i.push(h),g===1&&p&&By.set(h,!0),v===1&&h.setAttribute(r,"true"),p||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),wk++,function(){i.forEach(function(f){var h=ih.get(f)-1,m=s.get(f)-1;ih.set(f,h),s.set(f,m),h||(By.has(f)||f.removeAttribute(n),By.delete(f)),m||f.removeAttribute(r)}),wk--,wk||(ih=new WeakMap,ih=new WeakMap,By=new WeakMap,Uy={})}},q_=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Mce(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Lce(n,a,r,"aria-hidden")):function(){return null}},aC=function(e,t){return aC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},aC(e,t)};function q9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");aC(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ri=function(){return Ri=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ri.apply(this,arguments)};function Qu(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function K9(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function G9(e,t){return function(r,n){t(r,n,e)}}function Y9(e,t,r,n,a,s){function i(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var p={};for(var g in n)p[g]=g==="access"?{}:n[g];for(var g in n.access)p.access[g]=n.access[g];p.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(y||null))};var v=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[c],p);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=i(v.get))&&(d.get=f),(f=i(v.set))&&(d.set=f),(f=i(v.init))&&a.unshift(f)}else(f=i(v))&&(l==="field"?a.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function X9(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function J9(e){return typeof e=="symbol"?e:"".concat(e)}function Q9(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Z9(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ut(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function e7(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var K_=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function t7(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&K_(t,e,r)}function I1(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function iO(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,s=[],i;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(l){i={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function r7(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(iO(arguments[t]));return e}function n7(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],i=0,l=s.length;i<l;i++,a++)n[a]=s[i];return n}function oO(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Wm(e){return this instanceof Wm?(this.v=e,this):new Wm(e)}function a7(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",i),a[Symbol.asyncIterator]=function(){return this},a;function i(m){return function(p){return Promise.resolve(p).then(m,f)}}function l(m,p){n[m]&&(a[m]=function(g){return new Promise(function(v,y){s.push([m,g,v,y])>1||c(m,g)})},p&&(a[m]=p(a[m])))}function c(m,p){try{u(n[m](p))}catch(g){h(s[0][3],g)}}function u(m){m.value instanceof Wm?Promise.resolve(m.value.v).then(d,f):h(s[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function h(m,p){m(p),s.shift(),s.length&&c(s[0][0],s[0][1])}}function s7(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,s){t[a]=e[a]?function(i){return(r=!r)?{value:Wm(e[a](i)),done:!1}:s?s(i):i}:s}}function i7(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof I1=="function"?I1(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(l,c){i=e[s](i),a(l,c,i.done,i.value)})}}function a(s,i,l,c){Promise.resolve(c).then(function(u){s({value:u,done:l})},i)}}function o7(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var $ce=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},sC=function(e){return sC=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},sC(e)};function l7(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=sC(e),n=0;n<r.length;n++)r[n]!=="default"&&K_(t,e,r[n]);return $ce(t,e),t}function c7(e){return e&&e.__esModule?e:{default:e}}function u7(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function d7(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function f7(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function h7(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var Bce=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function m7(e){function t(s){e.error=e.hasError?new Bce(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(i){return t(i),a()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function p7(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,s,i){return n?t?".jsx":".js":a&&(!s||!i)?r:a+s+"."+i.toLowerCase()+"js"}):e}const Uce={__extends:q9,__assign:Ri,__rest:Qu,__decorate:K9,__param:G9,__esDecorate:Y9,__runInitializers:X9,__propKey:J9,__setFunctionName:Q9,__metadata:Z9,__awaiter:ut,__generator:e7,__createBinding:K_,__exportStar:t7,__values:I1,__read:iO,__spread:r7,__spreadArrays:n7,__spreadArray:oO,__await:Wm,__asyncGenerator:a7,__asyncDelegator:s7,__asyncValues:i7,__makeTemplateObject:o7,__importStar:l7,__importDefault:c7,__classPrivateFieldGet:u7,__classPrivateFieldSet:d7,__classPrivateFieldIn:f7,__addDisposableResource:h7,__disposeResources:m7,__rewriteRelativeImportExtension:p7},zce=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:h7,get __assign(){return Ri},__asyncDelegator:s7,__asyncGenerator:a7,__asyncValues:i7,__await:Wm,__awaiter:ut,__classPrivateFieldGet:u7,__classPrivateFieldIn:f7,__classPrivateFieldSet:d7,__createBinding:K_,__decorate:K9,__disposeResources:m7,__esDecorate:Y9,__exportStar:t7,__extends:q9,__generator:e7,__importDefault:c7,__importStar:l7,__makeTemplateObject:o7,__metadata:Z9,__param:G9,__propKey:J9,__read:iO,__rest:Qu,__rewriteRelativeImportExtension:p7,__runInitializers:X9,__setFunctionName:Q9,__spread:r7,__spreadArray:oO,__spreadArrays:n7,__values:I1,default:Uce},Symbol.toStringTag,{value:"Module"}));var Wb="right-scroll-bar-position",Hb="width-before-scroll-bar",Vce="with-scroll-bars-hidden",Wce="--removed-body-scroll-bar-size";function _k(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Hce(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var qce=typeof window<"u"?x.useLayoutEffect:x.useEffect,VI=new WeakMap;function Kce(e,t){var r=Hce(null,function(n){return e.forEach(function(a){return _k(a,n)})});return qce(function(){var n=VI.get(r);if(n){var a=new Set(n),s=new Set(e),i=r.current;a.forEach(function(l){s.has(l)||_k(l,null)}),s.forEach(function(l){a.has(l)||_k(l,i)})}VI.set(r,e)},[e]),r}function Gce(e){return e}function Yce(e,t){t===void 0&&(t=Gce);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var i=t(s,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(s){for(n=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(s),i=r}var c=function(){var d=i;i=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return a}function Xce(e){e===void 0&&(e={});var t=Yce(null);return t.options=Ri({async:!0,ssr:!1},e),t}var g7=function(e){var t=e.sideCar,r=Qu(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Ri({},r))};g7.isSideCarExport=!0;function Jce(e,t){return e.useMedium(t),g7}var v7=Xce(),Sk=function(){},G_=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:Sk,onWheelCapture:Sk,onTouchMoveCapture:Sk}),a=n[0],s=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,p=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,w=e.gapMode,_=Qu(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,k=Kce([r,t]),j=Ri(Ri({},_),a);return x.createElement(x.Fragment,null,d&&x.createElement(S,{sideCar:v7,removeScrollBar:u,shards:f,noRelative:m,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:w}),i?x.cloneElement(x.Children.only(l),Ri(Ri({},j),{ref:k})):x.createElement(b,Ri({},j,{className:c,ref:k}),l))});G_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};G_.classNames={fullWidth:Hb,zeroRight:Wb};var Qce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Zce(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Qce();return t&&e.setAttribute("nonce",t),e}function eue(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function tue(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var rue=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Zce())&&(eue(t,r),tue(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},nue=function(){var e=rue();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},x7=function(){var e=nue(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},aue={left:0,top:0,right:0,gap:0},jk=function(e){return parseInt(e||"",10)||0},sue=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[jk(r),jk(n),jk(a)]},iue=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return aue;var t=sue(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},oue=x7(),om="data-scroll-locked",lue=function(e,t,r,n){var a=e.left,s=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Vce,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(om,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wb,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Hb,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Wb," .").concat(Wb,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Hb," .").concat(Hb,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(om,`] {
    `).concat(Wce,": ").concat(l,`px;
  }
`)},WI=function(){var e=parseInt(document.body.getAttribute(om)||"0",10);return isFinite(e)?e:0},cue=function(){x.useEffect(function(){return document.body.setAttribute(om,(WI()+1).toString()),function(){var e=WI()-1;e<=0?document.body.removeAttribute(om):document.body.setAttribute(om,e.toString())}},[])},uue=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;cue();var s=x.useMemo(function(){return iue(a)},[a]);return x.createElement(oue,{styles:lue(s,!t,a,r?"":"!important")})},iC=!1;if(typeof window<"u")try{var zy=Object.defineProperty({},"passive",{get:function(){return iC=!0,!0}});window.addEventListener("test",zy,zy),window.removeEventListener("test",zy,zy)}catch{iC=!1}var oh=iC?{passive:!1}:!1,due=function(e){return e.tagName==="TEXTAREA"},y7=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!due(e)&&r[t]==="visible")},fue=function(e){return y7(e,"overflowY")},hue=function(e){return y7(e,"overflowX")},HI=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=b7(e,n);if(a){var s=w7(e,n),i=s[1],l=s[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},mue=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},pue=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},b7=function(e,t){return e==="v"?fue(t):hue(t)},w7=function(e,t){return e==="v"?mue(t):pue(t)},gue=function(e,t){return e==="h"&&t==="rtl"?-1:1},vue=function(e,t,r,n,a){var s=gue(e,window.getComputedStyle(t).direction),i=s*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var m=w7(e,l),p=m[0],g=m[1],v=m[2],y=g-v-s*p;(p||y)&&b7(e,l)&&(f+=y,h+=p);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},Vy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qI=function(e){return[e.deltaX,e.deltaY]},KI=function(e){return e&&"current"in e?e.current:e},xue=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},bue=0,lh=[];function wue(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(bue++)[0],s=x.useState(x7)[0],i=x.useRef(e);x.useEffect(function(){i.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=oO([e.lockRef.current],(e.shards||[]).map(KI),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var y=Vy(g),b=r.current,w="deltaX"in g?g.deltaX:b[0]-y[0],_="deltaY"in g?g.deltaY:b[1]-y[1],S,k=g.target,j=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&j==="h"&&k.type==="range")return!1;var N=HI(j,k);if(!N)return!0;if(N?S=j:(S=j==="v"?"h":"v",N=HI(j,k)),!N)return!1;if(!n.current&&"changedTouches"in g&&(w||_)&&(n.current=S),!S)return!0;var C=n.current||S;return vue(C,v,g,C==="h"?w:_,!0)},[]),c=x.useCallback(function(g){var v=g;if(!(!lh.length||lh[lh.length-1]!==s)){var y="deltaY"in v?qI(v):Vy(v),b=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&xue(S.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(KI).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=w.length>0?l(v,w[0]):!i.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=x.useCallback(function(g,v,y,b){var w={name:g,delta:v,target:y,should:b,shadowParent:_ue(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=x.useCallback(function(g){r.current=Vy(g),n.current=void 0},[]),f=x.useCallback(function(g){u(g.type,qI(g),g.target,l(g,e.lockRef.current))},[]),h=x.useCallback(function(g){u(g.type,Vy(g),g.target,l(g,e.lockRef.current))},[]);x.useEffect(function(){return lh.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,oh),document.addEventListener("touchmove",c,oh),document.addEventListener("touchstart",d,oh),function(){lh=lh.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,oh),document.removeEventListener("touchmove",c,oh),document.removeEventListener("touchstart",d,oh)}},[]);var m=e.removeScrollBar,p=e.inert;return x.createElement(x.Fragment,null,p?x.createElement(s,{styles:yue(a)}):null,m?x.createElement(uue,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function _ue(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Sue=Jce(v7,wue);var Tx=x.forwardRef(function(e,t){return x.createElement(G_,Ri({},e,{ref:t,sideCar:Sue}))});Tx.classNames=G_.classNames;var jue=[" ","Enter","ArrowUp","ArrowDown"],kue=[" ","Enter"],wf="Select",[Y_,X_,Nue]=HA(wf),[zp,hXe]=ps(wf,[Nue,Up]),J_=Up(),[Cue,Zu]=zp(wf),[Eue,Tue]=zp(wf),_7=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:p}=e,g=J_(t),[v,y]=x.useState(null),[b,w]=x.useState(null),[_,S]=x.useState(!1),k=jx(u),[j,N]=yc({prop:n,defaultProp:a??!1,onChange:s,caller:wf}),[C,T]=yc({prop:i,defaultProp:l,onChange:c,caller:wf}),D=x.useRef(null),A=v?p||!!v.closest("form"):!0,[H,X]=x.useState(new Set),L=Array.from(H).map(I=>I.props.value).join(";");return o.jsx(rO,{...g,children:o.jsxs(Cue,{required:m,scope:t,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:sa(),value:C,onValueChange:T,open:j,onOpenChange:N,dir:k,triggerPointerDownPosRef:D,disabled:h,children:[o.jsx(Y_.Provider,{scope:t,children:o.jsx(Eue,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(I=>{X(W=>new Set(W).add(I))},[]),onNativeOptionRemove:x.useCallback(I=>{X(W=>{const F=new Set(W);return F.delete(I),F})},[]),children:r})}),A?o.jsxs(q7,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:I=>T(I.target.value),disabled:h,form:p,children:[C===void 0?o.jsx("option",{value:""}):null,Array.from(H)]},L):null]})})};_7.displayName=wf;var S7="SelectTrigger",j7=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=J_(r),i=Zu(S7,r),l=i.disabled||n,c=Lt(t,i.onTriggerChange),u=X_(r),d=x.useRef("touch"),[f,h,m]=G7(g=>{const v=u().filter(w=>!w.disabled),y=v.find(w=>w.value===i.value),b=Y7(v,g,y);b!==void 0&&i.onValueChange(b.value)}),p=g=>{l||(i.onOpenChange(!0),m()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(H_,{asChild:!0,...s,children:o.jsx(st.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":K7(i.value)?"":void 0,...a,ref:c,onClick:Qe(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&p(g)}),onPointerDown:Qe(a.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:Qe(a.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&jue.includes(g.key)&&(p(),g.preventDefault())})})})});j7.displayName=S7;var k7="SelectValue",N7=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:i="",...l}=e,c=Zu(k7,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Lt(t,c.onValueNodeChange);return kn(()=>{u(d)},[u,d]),o.jsx(st.span,{...l,ref:f,style:{pointerEvents:"none"},children:K7(c.value)?o.jsx(o.Fragment,{children:i}):s})});N7.displayName=k7;var Aue="SelectIcon",C7=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(st.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});C7.displayName=Aue;var Oue="SelectPortal",E7=e=>o.jsx(Ex,{asChild:!0,...e});E7.displayName=Oue;var _f="SelectContent",T7=x.forwardRef((e,t)=>{const r=Zu(_f,e.__scopeSelect),[n,a]=x.useState();if(kn(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?Ip.createPortal(o.jsx(A7,{scope:e.__scopeSelect,children:o.jsx(Y_.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(O7,{...e,ref:t})});T7.displayName=_f;var so=10,[A7,ed]=zp(_f),Pue="SelectContentImpl",Due=Bu("SelectContent.RemoveScroll"),O7=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:v,...y}=e,b=Zu(_f,r),[w,_]=x.useState(null),[S,k]=x.useState(null),j=Lt(t,oe=>_(oe)),[N,C]=x.useState(null),[T,D]=x.useState(null),A=X_(r),[H,X]=x.useState(!1),L=x.useRef(!1);x.useEffect(()=>{if(w)return q_(w)},[w]),U_();const I=x.useCallback(oe=>{const[ge,...se]=A().map(P=>P.ref.current),[Z]=se.slice(-1),he=document.activeElement;for(const P of oe)if(P===he||(P==null||P.scrollIntoView({block:"nearest"}),P===ge&&S&&(S.scrollTop=0),P===Z&&S&&(S.scrollTop=S.scrollHeight),P==null||P.focus(),document.activeElement!==he))return},[A,S]),W=x.useCallback(()=>I([N,w]),[I,N,w]);x.useEffect(()=>{H&&W()},[H,W]);const{onOpenChange:F,triggerPointerDownPosRef:M}=b;x.useEffect(()=>{if(w){let oe={x:0,y:0};const ge=Z=>{var he,P;oe={x:Math.abs(Math.round(Z.pageX)-(((he=M.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((P=M.current)==null?void 0:P.y)??0))}},se=Z=>{oe.x<=10&&oe.y<=10?Z.preventDefault():w.contains(Z.target)||F(!1),document.removeEventListener("pointermove",ge),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",se,{capture:!0})}}},[w,F,M]),x.useEffect(()=>{const oe=()=>F(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[F]);const[G,Q]=G7(oe=>{const ge=A().filter(he=>!he.disabled),se=ge.find(he=>he.ref.current===document.activeElement),Z=Y7(ge,oe,se);Z&&setTimeout(()=>Z.ref.current.focus())}),E=x.useCallback((oe,ge,se)=>{const Z=!L.current&&!se;(b.value!==void 0&&b.value===ge||Z)&&(C(oe),Z&&(L.current=!0))},[b.value]),B=x.useCallback(()=>w==null?void 0:w.focus(),[w]),U=x.useCallback((oe,ge,se)=>{const Z=!L.current&&!se;(b.value!==void 0&&b.value===ge||Z)&&D(oe)},[b.value]),q=n==="popper"?oC:P7,ee=q===oC?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:v}:{};return o.jsx(A7,{scope:r,content:w,viewport:S,onViewportChange:k,itemRefCallback:E,selectedItem:N,onItemLeave:B,itemTextRefCallback:U,focusSelectedItem:W,selectedItemText:T,position:n,isPositioned:H,searchRef:G,children:o.jsx(Tx,{as:Due,allowPinchZoom:!0,children:o.jsx(Nx,{asChild:!0,trapped:b.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Qe(a,oe=>{var ge;(ge=b.trigger)==null||ge.focus({preventScroll:!0}),oe.preventDefault()}),children:o.jsx(kx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:o.jsx(q,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:oe=>oe.preventDefault(),...y,...ee,onPlaced:()=>X(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Qe(y.onKeyDown,oe=>{const ge=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ge&&oe.key.length===1&&Q(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Z=A().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const he=oe.target,P=Z.indexOf(he);Z=Z.slice(P+1)}setTimeout(()=>I(Z)),oe.preventDefault()}})})})})})})});O7.displayName=Pue;var Rue="SelectItemAlignedPosition",P7=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Zu(_f,r),i=ed(_f,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=Lt(t,j=>d(j)),h=X_(r),m=x.useRef(!1),p=x.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=i,w=x.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&g&&v&&y){const j=s.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),C=s.valueNode.getBoundingClientRect(),T=y.getBoundingClientRect();if(s.dir!=="rtl"){const he=T.left-N.left,P=C.left-he,De=j.left-P,Re=j.width+De,Me=Math.max(Re,N.width),Be=window.innerWidth-so,Oe=Z2(P,[so,Math.max(so,Be-Me)]);l.style.minWidth=Re+"px",l.style.left=Oe+"px"}else{const he=N.right-T.right,P=window.innerWidth-C.right-he,De=window.innerWidth-j.right-P,Re=j.width+De,Me=Math.max(Re,N.width),Be=window.innerWidth-so,Oe=Z2(P,[so,Math.max(so,Be-Me)]);l.style.minWidth=Re+"px",l.style.right=Oe+"px"}const D=h(),A=window.innerHeight-so*2,H=g.scrollHeight,X=window.getComputedStyle(u),L=parseInt(X.borderTopWidth,10),I=parseInt(X.paddingTop,10),W=parseInt(X.borderBottomWidth,10),F=parseInt(X.paddingBottom,10),M=L+I+H+F+W,G=Math.min(v.offsetHeight*5,M),Q=window.getComputedStyle(g),E=parseInt(Q.paddingTop,10),B=parseInt(Q.paddingBottom,10),U=j.top+j.height/2-so,q=A-U,ee=v.offsetHeight/2,oe=v.offsetTop+ee,ge=L+I+oe,se=M-ge;if(ge<=U){const he=D.length>0&&v===D[D.length-1].ref.current;l.style.bottom="0px";const P=u.clientHeight-g.offsetTop-g.offsetHeight,De=Math.max(q,ee+(he?B:0)+P+W),Re=ge+De;l.style.height=Re+"px"}else{const he=D.length>0&&v===D[0].ref.current;l.style.top="0px";const De=Math.max(U,L+g.offsetTop+(he?E:0)+ee)+se;l.style.height=De+"px",g.scrollTop=ge-U+g.offsetTop}l.style.margin=`${so}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,g,v,y,s.dir,n]);kn(()=>w(),[w]);const[_,S]=x.useState();kn(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=x.useCallback(j=>{j&&p.current===!0&&(w(),b==null||b(),p.current=!1)},[w,b]);return o.jsx(Mue,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(st.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});P7.displayName=Rue;var Iue="SelectPopperPosition",oC=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=so,...s}=e,i=J_(r);return o.jsx(nO,{...i,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});oC.displayName=Iue;var[Mue,lO]=zp(_f,{}),lC="SelectViewport",D7=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=ed(lC,r),i=lO(lC,r),l=Lt(t,s.onViewportChange),c=x.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Y_.Slot,{scope:r,children:o.jsx(st.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Qe(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const p=window.innerHeight-so*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(g,v);if(y<p){const b=y+m,w=Math.min(p,b),_=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});D7.displayName=lC;var R7="SelectGroup",[Fue,Lue]=zp(R7),$ue=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=sa();return o.jsx(Fue,{scope:r,id:a,children:o.jsx(st.div,{role:"group","aria-labelledby":a,...n,ref:t})})});$ue.displayName=R7;var I7="SelectLabel",M7=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Lue(I7,r);return o.jsx(st.div,{id:a.id,...n,ref:t})});M7.displayName=I7;var M1="SelectItem",[Bue,F7]=zp(M1),L7=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...i}=e,l=Zu(M1,r),c=ed(M1,r),u=l.value===n,[d,f]=x.useState(s??""),[h,m]=x.useState(!1),p=Lt(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,a)}),g=sa(),v=x.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Bue,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:x.useCallback(b=>{f(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:o.jsx(Y_.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:o.jsx(st.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:p,onFocus:Qe(i.onFocus,()=>m(!0)),onBlur:Qe(i.onBlur,()=>m(!1)),onClick:Qe(i.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:Qe(i.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:Qe(i.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:Qe(i.onPointerMove,b=>{var w;v.current=b.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Qe(i.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Qe(i.onKeyDown,b=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&b.key===" "||(kue.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});L7.displayName=M1;var Q0="SelectItemText",$7=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,i=Zu(Q0,r),l=ed(Q0,r),c=F7(Q0,r),u=Tue(Q0,r),[d,f]=x.useState(null),h=Lt(t,y=>f(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,p=x.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return kn(()=>(g(p),()=>v(p)),[g,v,p]),o.jsxs(o.Fragment,{children:[o.jsx(st.span,{id:c.textId,...s,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ip.createPortal(s.children,i.valueNode):null]})});$7.displayName=Q0;var B7="SelectItemIndicator",U7=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return F7(B7,r).isSelected?o.jsx(st.span,{"aria-hidden":!0,...n,ref:t}):null});U7.displayName=B7;var cC="SelectScrollUpButton",z7=x.forwardRef((e,t)=>{const r=ed(cC,e.__scopeSelect),n=lO(cC,e.__scopeSelect),[a,s]=x.useState(!1),i=Lt(t,n.onScrollButtonChange);return kn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(W7,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});z7.displayName=cC;var uC="SelectScrollDownButton",V7=x.forwardRef((e,t)=>{const r=ed(uC,e.__scopeSelect),n=lO(uC,e.__scopeSelect),[a,s]=x.useState(!1),i=Lt(t,n.onScrollButtonChange);return kn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(W7,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});V7.displayName=uC;var W7=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=ed("SelectScrollButton",r),i=x.useRef(null),l=X_(r),c=x.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),kn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(st.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Qe(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Qe(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Qe(a.onPointerLeave,()=>{c()})})}),Uue="SelectSeparator",H7=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(st.div,{"aria-hidden":!0,...n,ref:t})});H7.displayName=Uue;var dC="SelectArrow",zue=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=J_(r),s=Zu(dC,r),i=ed(dC,r);return s.open&&i.position==="popper"?o.jsx(aO,{...a,...n,ref:t}):null});zue.displayName=dC;var Vue="SelectBubbleInput",q7=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),s=Lt(n,a),i=sO(t);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(st.select,{...r,style:{...W9,...r.style},ref:s,defaultValue:t})});q7.displayName=Vue;function K7(e){return e===""||e===void 0}function G7(e){const t=Kn(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function Y7(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=Wue(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Wue(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Hue=_7,X7=j7,que=N7,Kue=C7,Gue=E7,J7=T7,Yue=D7,Q7=M7,Z7=L7,Xue=$7,Jue=U7,ez=z7,tz=V7,rz=H7;const xt=Hue,yt=que,gt=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(X7,{ref:n,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(Kue,{asChild:!0,children:o.jsx(M_,{className:"h-4 w-4 opacity-50"})})]}));gt.displayName=X7.displayName;const nz=x.forwardRef(({className:e,...t},r)=>o.jsx(ez,{ref:r,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(pie,{className:"h-4 w-4"})}));nz.displayName=ez.displayName;const az=x.forwardRef(({className:e,...t},r)=>o.jsx(tz,{ref:r,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(M_,{className:"h-4 w-4"})}));az.displayName=tz.displayName;const vt=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>o.jsx(Gue,{children:o.jsxs(J7,{ref:a,className:xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(nz,{}),o.jsx(Yue,{className:xe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(az,{})]})}));vt.displayName=J7.displayName;const Que=x.forwardRef(({className:e,...t},r)=>o.jsx(Q7,{ref:r,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Que.displayName=Q7.displayName;const Ae=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Z7,{ref:n,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Jue,{children:o.jsx(UA,{className:"h-4 w-4"})})}),o.jsx(Xue,{children:t})]}));Ae.displayName=Z7.displayName;const Zue=x.forwardRef(({className:e,...t},r)=>o.jsx(rz,{ref:r,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));Zue.displayName=rz.displayName;const sz=()=>{const{currentLanguage:e,changeLanguage:t,languages:r}=La(),n=r.find(a=>a.code===e);return o.jsxs(xt,{value:e,onValueChange:t,children:[o.jsx(gt,{className:"w-[140px]",children:o.jsx(yt,{children:o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{children:n==null?void 0:n.name})})})}),o.jsx(vt,{children:r.map(a=>o.jsx(Ae,{value:a.code,children:o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{children:a.name})})},a.code))})]})};function ede(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var $a=e=>{const{present:t,children:r}=e,n=tde(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=Lt(n.ref,rde(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:s}):null};$a.displayName="Presence";function tde(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),s=x.useRef("none"),i=e?"mounted":"unmounted",[l,c]=ede(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Wy(n.current);s.current=l==="mounted"?u:"none"},[l]),kn(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=Wy(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),kn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=Wy(n.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(s.current=Wy(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Wy(e){return(e==null?void 0:e.animationName)||"none"}function rde(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var kk="rovingFocusGroup.onEntryFocus",nde={bubbles:!1,cancelable:!0},Ax="RovingFocusGroup",[fC,iz,ade]=HA(Ax),[sde,Q_]=ps(Ax,[ade]),[ide,ode]=sde(Ax),oz=x.forwardRef((e,t)=>o.jsx(fC.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(fC.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(lde,{...e,ref:t})})}));oz.displayName=Ax;var lde=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),m=Lt(t,h),p=jx(s),[g,v]=yc({prop:i,defaultProp:l??null,onChange:c,caller:Ax}),[y,b]=x.useState(!1),w=Kn(u),_=iz(r),S=x.useRef(!1),[k,j]=x.useState(0);return x.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(kk,w),()=>N.removeEventListener(kk,w)},[w]),o.jsx(ide,{scope:r,orientation:n,dir:p,loop:a,currentTabStopId:g,onItemFocus:x.useCallback(N=>v(N),[v]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>j(N=>N+1),[]),onFocusableItemRemove:x.useCallback(()=>j(N=>N-1),[]),children:o.jsx(st.div,{tabIndex:y||k===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Qe(e.onMouseDown,()=>{S.current=!0}),onFocus:Qe(e.onFocus,N=>{const C=!S.current;if(N.target===N.currentTarget&&C&&!y){const T=new CustomEvent(kk,nde);if(N.currentTarget.dispatchEvent(T),!T.defaultPrevented){const D=_().filter(I=>I.focusable),A=D.find(I=>I.active),H=D.find(I=>I.id===g),L=[A,H,...D].filter(Boolean).map(I=>I.ref.current);uz(L,d)}}S.current=!1}),onBlur:Qe(e.onBlur,()=>b(!1))})})}),lz="RovingFocusGroupItem",cz=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:i,...l}=e,c=sa(),u=s||c,d=ode(lz,r),f=d.currentTabStopId===u,h=iz(r),{onFocusableItemAdd:m,onFocusableItemRemove:p,currentTabStopId:g}=d;return x.useEffect(()=>{if(n)return m(),()=>p()},[n,m,p]),o.jsx(fC.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:o.jsx(st.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Qe(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:Qe(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Qe(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=dde(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const _=w.indexOf(v.currentTarget);w=d.loop?fde(w,_+1):w.slice(_+1)}setTimeout(()=>uz(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:g!=null}):i})})});cz.displayName=lz;var cde={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ude(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function dde(e,t,r){const n=ude(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return cde[n]}function uz(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function fde(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var dz=oz,fz=cz,hC=["Enter"," "],hde=["ArrowDown","PageUp","Home"],hz=["ArrowUp","PageDown","End"],mde=[...hde,...hz],pde={ltr:[...hC,"ArrowRight"],rtl:[...hC,"ArrowLeft"]},gde={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ox="Menu",[mv,vde,xde]=HA(Ox),[Bf,mz]=ps(Ox,[xde,Up,Q_]),Z_=Up(),pz=Q_(),[yde,Uf]=Bf(Ox),[bde,Px]=Bf(Ox),gz=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:i=!0}=e,l=Z_(t),[c,u]=x.useState(null),d=x.useRef(!1),f=Kn(s),h=jx(a);return x.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),o.jsx(rO,{...l,children:o.jsx(yde,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(bde,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};gz.displayName=Ox;var wde="MenuAnchor",cO=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Z_(r);return o.jsx(H_,{...a,...n,ref:t})});cO.displayName=wde;var uO="MenuPortal",[_de,vz]=Bf(uO,{forceMount:void 0}),xz=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=Uf(uO,t);return o.jsx(_de,{scope:t,forceMount:r,children:o.jsx($a,{present:r||s.open,children:o.jsx(Ex,{asChild:!0,container:a,children:n})})})};xz.displayName=uO;var $i="MenuContent",[Sde,dO]=Bf($i),yz=x.forwardRef((e,t)=>{const r=vz($i,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Uf($i,e.__scopeMenu),i=Px($i,e.__scopeMenu);return o.jsx(mv.Provider,{scope:e.__scopeMenu,children:o.jsx($a,{present:n||s.open,children:o.jsx(mv.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(jde,{...a,ref:t}):o.jsx(kde,{...a,ref:t})})})})}),jde=x.forwardRef((e,t)=>{const r=Uf($i,e.__scopeMenu),n=x.useRef(null),a=Lt(t,n);return x.useEffect(()=>{const s=n.current;if(s)return q_(s)},[]),o.jsx(fO,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Qe(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),kde=x.forwardRef((e,t)=>{const r=Uf($i,e.__scopeMenu);return o.jsx(fO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Nde=Bu("MenuContent.ScrollLock"),fO=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:p,...g}=e,v=Uf($i,r),y=Px($i,r),b=Z_(r),w=pz(r),_=vde(r),[S,k]=x.useState(null),j=x.useRef(null),N=Lt(t,j,v.onContentChange),C=x.useRef(0),T=x.useRef(""),D=x.useRef(0),A=x.useRef(null),H=x.useRef("right"),X=x.useRef(0),L=p?Tx:x.Fragment,I=p?{as:Nde,allowPinchZoom:!0}:void 0,W=M=>{var oe,ge;const G=T.current+M,Q=_().filter(se=>!se.disabled),E=document.activeElement,B=(oe=Q.find(se=>se.ref.current===E))==null?void 0:oe.textValue,U=Q.map(se=>se.textValue),q=Lde(U,G,B),ee=(ge=Q.find(se=>se.textValue===q))==null?void 0:ge.ref.current;(function se(Z){T.current=Z,window.clearTimeout(C.current),Z!==""&&(C.current=window.setTimeout(()=>se(""),1e3))})(G),ee&&setTimeout(()=>ee.focus())};x.useEffect(()=>()=>window.clearTimeout(C.current),[]),U_();const F=x.useCallback(M=>{var Q,E;return H.current===((Q=A.current)==null?void 0:Q.side)&&Bde(M,(E=A.current)==null?void 0:E.area)},[]);return o.jsx(Sde,{scope:r,searchRef:T,onItemEnter:x.useCallback(M=>{F(M)&&M.preventDefault()},[F]),onItemLeave:x.useCallback(M=>{var G;F(M)||((G=j.current)==null||G.focus(),k(null))},[F]),onTriggerLeave:x.useCallback(M=>{F(M)&&M.preventDefault()},[F]),pointerGraceTimerRef:D,onPointerGraceIntentChange:x.useCallback(M=>{A.current=M},[]),children:o.jsx(L,{...I,children:o.jsx(Nx,{asChild:!0,trapped:a,onMountAutoFocus:Qe(s,M=>{var G;M.preventDefault(),(G=j.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(kx,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:o.jsx(dz,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:Qe(c,M=>{y.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(nO,{role:"menu","aria-orientation":"vertical","data-state":Iz(v.open),"data-radix-menu-content":"",dir:y.dir,...b,...g,ref:N,style:{outline:"none",...g.style},onKeyDown:Qe(g.onKeyDown,M=>{const Q=M.target.closest("[data-radix-menu-content]")===M.currentTarget,E=M.ctrlKey||M.altKey||M.metaKey,B=M.key.length===1;Q&&(M.key==="Tab"&&M.preventDefault(),!E&&B&&W(M.key));const U=j.current;if(M.target!==U||!mde.includes(M.key))return;M.preventDefault();const ee=_().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);hz.includes(M.key)&&ee.reverse(),Mde(ee)}),onBlur:Qe(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(C.current),T.current="")}),onPointerMove:Qe(e.onPointerMove,pv(M=>{const G=M.target,Q=X.current!==M.clientX;if(M.currentTarget.contains(G)&&Q){const E=M.clientX>X.current?"right":"left";H.current=E,X.current=M.clientX}}))})})})})})})});yz.displayName=$i;var Cde="MenuGroup",hO=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(st.div,{role:"group",...n,ref:t})});hO.displayName=Cde;var Ede="MenuLabel",bz=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(st.div,{...n,ref:t})});bz.displayName=Ede;var F1="MenuItem",GI="menu.itemSelect",eS=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=x.useRef(null),i=Px(F1,e.__scopeMenu),l=dO(F1,e.__scopeMenu),c=Lt(t,s),u=x.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(GI,{bubbles:!0,cancelable:!0});f.addEventListener(GI,m=>n==null?void 0:n(m),{once:!0}),s9(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(wz,{...a,ref:c,disabled:r,onClick:Qe(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Qe(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Qe(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||hC.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});eS.displayName=F1;var wz=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,i=dO(F1,r),l=pz(r),c=x.useRef(null),u=Lt(t,c),[d,f]=x.useState(!1),[h,m]=x.useState("");return x.useEffect(()=>{const p=c.current;p&&m((p.textContent??"").trim())},[s.children]),o.jsx(mv.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:o.jsx(fz,{asChild:!0,...l,focusable:!n,children:o.jsx(st.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:Qe(e.onPointerMove,pv(p=>{n?i.onItemLeave(p):(i.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Qe(e.onPointerLeave,pv(p=>i.onItemLeave(p))),onFocus:Qe(e.onFocus,()=>f(!0)),onBlur:Qe(e.onBlur,()=>f(!1))})})})}),Tde="MenuCheckboxItem",_z=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return o.jsx(Cz,{scope:e.__scopeMenu,checked:r,children:o.jsx(eS,{role:"menuitemcheckbox","aria-checked":L1(r)?"mixed":r,...a,ref:t,"data-state":pO(r),onSelect:Qe(a.onSelect,()=>n==null?void 0:n(L1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});_z.displayName=Tde;var Sz="MenuRadioGroup",[Ade,Ode]=Bf(Sz,{value:void 0,onValueChange:()=>{}}),jz=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=Kn(n);return o.jsx(Ade,{scope:e.__scopeMenu,value:r,onValueChange:s,children:o.jsx(hO,{...a,ref:t})})});jz.displayName=Sz;var kz="MenuRadioItem",Nz=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=Ode(kz,e.__scopeMenu),s=r===a.value;return o.jsx(Cz,{scope:e.__scopeMenu,checked:s,children:o.jsx(eS,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":pO(s),onSelect:Qe(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});Nz.displayName=kz;var mO="MenuItemIndicator",[Cz,Pde]=Bf(mO,{checked:!1}),Ez=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=Pde(mO,r);return o.jsx($a,{present:n||L1(s.checked)||s.checked===!0,children:o.jsx(st.span,{...a,ref:t,"data-state":pO(s.checked)})})});Ez.displayName=mO;var Dde="MenuSeparator",Tz=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(st.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Tz.displayName=Dde;var Rde="MenuArrow",Az=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Z_(r);return o.jsx(aO,{...a,...n,ref:t})});Az.displayName=Rde;var Ide="MenuSub",[mXe,Oz]=Bf(Ide),Z0="MenuSubTrigger",Pz=x.forwardRef((e,t)=>{const r=Uf(Z0,e.__scopeMenu),n=Px(Z0,e.__scopeMenu),a=Oz(Z0,e.__scopeMenu),s=dO(Z0,e.__scopeMenu),i=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(cO,{asChild:!0,...u,children:o.jsx(wz,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":Iz(r.open),...e,ref:gc(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Qe(e.onPointerMove,pv(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Qe(e.onPointerLeave,pv(f=>{var m,p;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(p=r.content)==null?void 0:p.dataset.side,v=g==="right",y=v?-5:5,b=h[v?"left":"right"],w=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:b,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:b,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Qe(e.onKeyDown,f=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||pde[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});Pz.displayName=Z0;var Dz="MenuSubContent",Rz=x.forwardRef((e,t)=>{const r=vz($i,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Uf($i,e.__scopeMenu),i=Px($i,e.__scopeMenu),l=Oz(Dz,e.__scopeMenu),c=x.useRef(null),u=Lt(t,c);return o.jsx(mv.Provider,{scope:e.__scopeMenu,children:o.jsx($a,{present:n||s.open,children:o.jsx(mv.Slot,{scope:e.__scopeMenu,children:o.jsx(fO,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Qe(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Qe(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Qe(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=gde[i.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});Rz.displayName=Dz;function Iz(e){return e?"open":"closed"}function L1(e){return e==="indeterminate"}function pO(e){return L1(e)?"indeterminate":e?"checked":"unchecked"}function Mde(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Fde(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Lde(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=Fde(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function $de(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s],c=t[i],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Bde(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return $de(r,t)}function pv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Ude=gz,zde=cO,Vde=xz,Wde=yz,Hde=hO,qde=bz,Kde=eS,Gde=_z,Yde=jz,Xde=Nz,Jde=Ez,Qde=Tz,Zde=Az,efe=Pz,tfe=Rz,tS="DropdownMenu",[rfe,pXe]=ps(tS,[mz]),gs=mz(),[nfe,Mz]=rfe(tS),Fz=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,c=gs(t),u=x.useRef(null),[d,f]=yc({prop:a,defaultProp:s??!1,onChange:i,caller:tS});return o.jsx(nfe,{scope:t,triggerId:sa(),triggerRef:u,contentId:sa(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(Ude,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};Fz.displayName=tS;var Lz="DropdownMenuTrigger",$z=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=Mz(Lz,r),i=gs(r);return o.jsx(zde,{asChild:!0,...i,children:o.jsx(st.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:gc(t,s.triggerRef),onPointerDown:Qe(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Qe(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});$z.displayName=Lz;var afe="DropdownMenuPortal",Bz=e=>{const{__scopeDropdownMenu:t,...r}=e,n=gs(t);return o.jsx(Vde,{...n,...r})};Bz.displayName=afe;var Uz="DropdownMenuContent",zz=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Mz(Uz,r),s=gs(r),i=x.useRef(!1);return o.jsx(Wde,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:Qe(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Qe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zz.displayName=Uz;var sfe="DropdownMenuGroup",ife=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gs(r);return o.jsx(Hde,{...a,...n,ref:t})});ife.displayName=sfe;var ofe="DropdownMenuLabel",Vz=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gs(r);return o.jsx(qde,{...a,...n,ref:t})});Vz.displayName=ofe;var lfe="DropdownMenuItem",Wz=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gs(r);return o.jsx(Kde,{...a,...n,ref:t})});Wz.displayName=lfe;var cfe="DropdownMenuCheckboxItem",Hz=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gs(r);return o.jsx(Gde,{...a,...n,ref:t})});Hz.displayName=cfe;var ufe="DropdownMenuRadioGroup",dfe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gs(r);return o.jsx(Yde,{...a,...n,ref:t})});dfe.displayName=ufe;var ffe="DropdownMenuRadioItem",qz=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gs(r);return o.jsx(Xde,{...a,...n,ref:t})});qz.displayName=ffe;var hfe="DropdownMenuItemIndicator",Kz=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gs(r);return o.jsx(Jde,{...a,...n,ref:t})});Kz.displayName=hfe;var mfe="DropdownMenuSeparator",Gz=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gs(r);return o.jsx(Qde,{...a,...n,ref:t})});Gz.displayName=mfe;var pfe="DropdownMenuArrow",gfe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gs(r);return o.jsx(Zde,{...a,...n,ref:t})});gfe.displayName=pfe;var vfe="DropdownMenuSubTrigger",Yz=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gs(r);return o.jsx(efe,{...a,...n,ref:t})});Yz.displayName=vfe;var xfe="DropdownMenuSubContent",Xz=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gs(r);return o.jsx(tfe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Xz.displayName=xfe;var yfe=Fz,bfe=$z,wfe=Bz,Jz=zz,Qz=Vz,Zz=Wz,eV=Hz,tV=qz,rV=Kz,nV=Gz,aV=Yz,sV=Xz;const gO=yfe,vO=bfe,_fe=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>o.jsxs(aV,{ref:a,className:xe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(F_,{className:"ml-auto h-4 w-4"})]}));_fe.displayName=aV.displayName;const Sfe=x.forwardRef(({className:e,...t},r)=>o.jsx(sV,{ref:r,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Sfe.displayName=sV.displayName;const rS=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(wfe,{children:o.jsx(Jz,{ref:n,sideOffset:t,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));rS.displayName=Jz.displayName;const Jl=x.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(Zz,{ref:n,className:xe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Jl.displayName=Zz.displayName;const jfe=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>o.jsxs(eV,{ref:a,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(rV,{children:o.jsx(UA,{className:"h-4 w-4"})})}),t]}));jfe.displayName=eV.displayName;const kfe=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(tV,{ref:n,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(rV,{children:o.jsx(vie,{className:"h-2 w-2 fill-current"})})}),t]}));kfe.displayName=tV.displayName;const Nfe=x.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(Qz,{ref:n,className:xe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Nfe.displayName=Qz.displayName;const mC=x.forwardRef(({className:e,...t},r)=>o.jsx(nV,{ref:r,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));mC.displayName=nV.displayName;var nS="Dialog",[iV,oV]=ps(nS),[Cfe,Uo]=iV(nS),lV=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=yc({prop:n,defaultProp:a??!1,onChange:s,caller:nS});return o.jsx(Cfe,{scope:t,triggerRef:l,contentRef:c,contentId:sa(),titleId:sa(),descriptionId:sa(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};lV.displayName=nS;var cV="DialogTrigger",uV=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Uo(cV,r),s=Lt(t,a.triggerRef);return o.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":bO(a.open),...n,ref:s,onClick:Qe(e.onClick,a.onOpenToggle)})});uV.displayName=cV;var xO="DialogPortal",[Efe,dV]=iV(xO,{forceMount:void 0}),fV=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Uo(xO,t);return o.jsx(Efe,{scope:t,forceMount:r,children:x.Children.map(n,i=>o.jsx($a,{present:r||s.open,children:o.jsx(Ex,{asChild:!0,container:a,children:i})}))})};fV.displayName=xO;var $1="DialogOverlay",hV=x.forwardRef((e,t)=>{const r=dV($1,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Uo($1,e.__scopeDialog);return s.modal?o.jsx($a,{present:n||s.open,children:o.jsx(Afe,{...a,ref:t})}):null});hV.displayName=$1;var Tfe=Bu("DialogOverlay.RemoveScroll"),Afe=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Uo($1,r);return o.jsx(Tx,{as:Tfe,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(st.div,{"data-state":bO(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Sf="DialogContent",mV=x.forwardRef((e,t)=>{const r=dV(Sf,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Uo(Sf,e.__scopeDialog);return o.jsx($a,{present:n||s.open,children:s.modal?o.jsx(Ofe,{...a,ref:t}):o.jsx(Pfe,{...a,ref:t})})});mV.displayName=Sf;var Ofe=x.forwardRef((e,t)=>{const r=Uo(Sf,e.__scopeDialog),n=x.useRef(null),a=Lt(t,r.contentRef,n);return x.useEffect(()=>{const s=n.current;if(s)return q_(s)},[]),o.jsx(pV,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qe(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Qe(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&s.preventDefault()}),onFocusOutside:Qe(e.onFocusOutside,s=>s.preventDefault())})}),Pfe=x.forwardRef((e,t)=>{const r=Uo(Sf,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return o.jsx(pV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),pV=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...i}=e,l=Uo(Sf,r),c=x.useRef(null),u=Lt(t,c);return U_(),o.jsxs(o.Fragment,{children:[o.jsx(Nx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(kx,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":bO(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Rfe,{titleId:l.titleId}),o.jsx(Mfe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),yO="DialogTitle",gV=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Uo(yO,r);return o.jsx(st.h2,{id:a.titleId,...n,ref:t})});gV.displayName=yO;var vV="DialogDescription",xV=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Uo(vV,r);return o.jsx(st.p,{id:a.descriptionId,...n,ref:t})});xV.displayName=vV;var yV="DialogClose",bV=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Uo(yV,r);return o.jsx(st.button,{type:"button",...n,ref:t,onClick:Qe(e.onClick,()=>a.onOpenChange(!1))})});bV.displayName=yV;function bO(e){return e?"open":"closed"}var wV="DialogTitleWarning",[Dfe,_V]=$oe(wV,{contentName:Sf,titleName:yO,docsSlug:"dialog"}),Rfe=({titleId:e})=>{const t=_V(wV),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Ife="DialogDescriptionWarning",Mfe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_V(Ife).contentName}}.`;return x.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},aS=lV,wO=uV,sS=fV,Vp=hV,Wp=mV,Dx=gV,Rx=xV,iS=bV;const wn=aS,B1=wO,Ffe=sS,SV=x.forwardRef(({className:e,...t},r)=>o.jsx(Vp,{ref:r,className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));SV.displayName=Vp.displayName;const an=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Ffe,{children:[o.jsx(SV,{}),o.jsxs(Wp,{ref:n,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-xl",e),...r,children:[t,o.jsxs(iS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Ro,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));an.displayName=Wp.displayName;const sn=({className:e,...t})=>o.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});sn.displayName="DialogHeader";const Ia=({className:e,...t})=>o.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ia.displayName="DialogFooter";const on=x.forwardRef(({className:e,...t},r)=>o.jsx(Dx,{ref:r,className:xe("text-lg font-semibold leading-none tracking-tight",e),...t}));on.displayName=Dx.displayName;const Ma=x.forwardRef(({className:e,...t},r)=>o.jsx(Rx,{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));Ma.displayName=Rx.displayName;const Lfe=Sx("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Hm=x.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:xe(Lfe({variant:t}),e),...r}));Hm.displayName="Alert";const $fe=x.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:xe("mb-1 font-medium leading-none tracking-tight",e),...t}));$fe.displayName="AlertTitle";const qm=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:xe("text-sm [&_p]:leading-relaxed",e),...t}));qm.displayName="AlertDescription";const Bfe="modulepreload",Ufe=function(e){return"/"+e},YI={},Hp=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Ufe(c),c in YI)return;YI[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Bfe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},zfe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Hp(async()=>{const{default:n}=await Promise.resolve().then(()=>zf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class _O extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class XI extends _O{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class JI extends _O{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class QI extends _O{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pC;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(pC||(pC={}));class Vfe{constructor(t,{headers:r={},customFetch:n,region:a=pC.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=zfe(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ut(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:s,method:i,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:h,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new XI(y)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new JI(m);if(!m.ok)throw new QI(m);let g=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield m.json():g==="application/octet-stream"||g==="application/pdf"?v=yield m.blob():g==="text/event-stream"?v=m:g==="multipart/form-data"?v=yield m.formData():v=yield m.text(),{data:v,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new XI(s)}:{data:null,error:s,response:s instanceof QI||s instanceof JI?s.context:void 0}}})}}var Za={};const qp=W8(zce);var Hy={},qy={},Ky={},Gy={},Yy={},Wfe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Km=Wfe();const Hfe=Km.fetch,jV=Km.fetch.bind(Km),kV=Km.Headers,qfe=Km.Request,Kfe=Km.Response,zf=Object.freeze(Object.defineProperty({__proto__:null,Headers:kV,Request:qfe,Response:Kfe,default:jV,fetch:Hfe},Symbol.toStringTag,{value:"Module"})),Gfe=W8(zf);var Xy={},ZI;function NV(){if(ZI)return Xy;ZI=1,Object.defineProperty(Xy,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Xy.default=e,Xy}var eM;function CV(){if(eM)return Yy;eM=1,Object.defineProperty(Yy,"__esModule",{value:!0});const e=qp,t=e.__importDefault(Gfe),r=e.__importDefault(NV());class n{constructor(s){var i,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,m;let p=null,g=null,v=null,y=u.status,b=u.statusText;if(u.ok){if(this.method!=="HEAD"){const k=await u.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?g=k:g=JSON.parse(k))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,y=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const _=await u.text();try{p=JSON.parse(_),Array.isArray(p)&&u.status===404&&(g=[],p=null,y=200,b="OK")}catch{u.status===404&&_===""?(y=204,b="No Content"):p={message:_}}if(p&&this.isMaybeSingle&&(!((m=p==null?void 0:p.details)===null||m===void 0)&&m.includes("0 rows"))&&(p=null,y=200,b="OK"),p&&this.shouldThrowOnError)throw new r.default(p)}return{error:p,data:g,count:v,status:y,statusText:b}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,i)}returns(){return this}overrideTypes(){return this}}return Yy.default=n,Yy}var tM;function EV(){if(tM)return Gy;tM=1,Object.defineProperty(Gy,"__esModule",{value:!0});const t=qp.__importDefault(CV());class r extends t.default{select(a){let s=!1;const i=(a??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${s?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:i=s}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,s,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,s?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Gy.default=r,Gy}var rM;function SO(){if(rM)return Ky;rM=1,Object.defineProperty(Ky,"__esModule",{value:!0});const t=qp.__importDefault(EV()),r=new RegExp("[,()]");class n extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const l=Array.from(new Set(i)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${u}fts${d}.${i}`),this}match(s){return Object.entries(s).forEach(([i,l])=>{this.url.searchParams.append(i,`eq.${l}`)}),this}not(s,i,l){return this.url.searchParams.append(s,`not.${i}.${l}`),this}or(s,{foreignTable:i,referencedTable:l=i}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,i,l){return this.url.searchParams.append(s,`${i}.${l}`),this}}return Ky.default=n,Ky}var nM;function TV(){if(nM)return qy;nM=1,Object.defineProperty(qy,"__esModule",{value:!0});const t=qp.__importDefault(SO());class r{constructor(a,{headers:s={},schema:i,fetch:l}){this.url=a,this.headers=new Headers(s),this.schema=i,this.fetch=l}select(a,s){const{head:i=!1,count:l}=s??{},c=i?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:i=!0}={}){var l;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:s}={}){var i;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:a}={}){var s;const i="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return qy.default=r,qy}var aM;function Yfe(){if(aM)return Hy;aM=1,Object.defineProperty(Hy,"__esModule",{value:!0});const e=qp,t=e.__importDefault(TV()),r=e.__importDefault(SO());class n{constructor(s,{headers:i={},schema:l,fetch:c}={}){this.url=s,this.headers=new Headers(i),this.schemaName=l,this.fetch=c}from(s){const i=new URL(`${this.url}/${s}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,i={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${s}`);let m;l||c?(f=l?"HEAD":"GET",Object.entries(i).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{h.searchParams.append(g,v)})):(f="POST",m=i);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:p,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Hy.default=n,Hy}Object.defineProperty(Za,"__esModule",{value:!0});var AV=Za.PostgrestError=BV=Za.PostgrestBuilder=LV=Za.PostgrestTransformBuilder=MV=Za.PostgrestFilterBuilder=RV=Za.PostgrestQueryBuilder=PV=Za.PostgrestClient=void 0;const Kp=qp,OV=Kp.__importDefault(Yfe());var PV=Za.PostgrestClient=OV.default;const DV=Kp.__importDefault(TV());var RV=Za.PostgrestQueryBuilder=DV.default;const IV=Kp.__importDefault(SO());var MV=Za.PostgrestFilterBuilder=IV.default;const FV=Kp.__importDefault(EV());var LV=Za.PostgrestTransformBuilder=FV.default;const $V=Kp.__importDefault(CV());var BV=Za.PostgrestBuilder=$V.default;const UV=Kp.__importDefault(NV());AV=Za.PostgrestError=UV.default;var zV=Za.default={PostgrestClient:OV.default,PostgrestQueryBuilder:DV.default,PostgrestFilterBuilder:IV.default,PostgrestTransformBuilder:FV.default,PostgrestBuilder:$V.default,PostgrestError:UV.default};const Xfe=V8({__proto__:null,get PostgrestBuilder(){return BV},get PostgrestClient(){return PV},get PostgrestError(){return AV},get PostgrestFilterBuilder(){return MV},get PostgrestQueryBuilder(){return RV},get PostgrestTransformBuilder(){return LV},default:zV},[Za]),{PostgrestClient:Jfe,PostgrestQueryBuilder:gXe,PostgrestFilterBuilder:vXe,PostgrestTransformBuilder:xXe,PostgrestBuilder:yXe,PostgrestError:bXe}=zV||Xfe;class Qfe{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Zfe="2.78.0",ehe=`realtime-js/${Zfe}`,the="1.0.0",gC=1e4,rhe=1e3,nhe=100;var wg;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wg||(wg={}));var An;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(An||(An={}));var ho;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ho||(ho={}));var vC;(function(e){e.websocket="websocket"})(vC||(vC={}));var Nd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Nd||(Nd={}));class ahe{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+a));i=i+a;const c=n.decode(t.slice(i,i+s));i=i+s;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class VV{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Sr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Sr||(Sr={}));const sM=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,i)=>(s[i]=she(i,e,t,a),s),{}):{}},she=(e,t,r,n)=>{const a=t.find(l=>l.name===e),s=a==null?void 0:a.type,i=r[e];return s&&!n.includes(s)?WV(s,i):xC(i)},WV=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return che(t,r)}switch(e){case Sr.bool:return ihe(t);case Sr.float4:case Sr.float8:case Sr.int2:case Sr.int4:case Sr.int8:case Sr.numeric:case Sr.oid:return ohe(t);case Sr.json:case Sr.jsonb:return lhe(t);case Sr.timestamp:return uhe(t);case Sr.abstime:case Sr.date:case Sr.daterange:case Sr.int4range:case Sr.int8range:case Sr.money:case Sr.reltime:case Sr.text:case Sr.time:case Sr.timestamptz:case Sr.timetz:case Sr.tsrange:case Sr.tstzrange:return xC(t);default:return xC(t)}},xC=e=>e,ihe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ohe=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lhe=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},che=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(l=>WV(t,l))}return e},uhe=e=>typeof e=="string"?e.replace(" ","T"):e,HV=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Nk{constructor(t,r,n={},a=gC){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var iM;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(iM||(iM={}));class _g{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_g.syncState(this.state,a,s,i),this.pendingDiffs.forEach(c=>{this.state=_g.syncDiff(this.state,c,s,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=_g.syncDiff(this.state,a,s,i),l())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=s[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),p=d.filter(v=>m.indexOf(v.presence_ref)<0),g=f.filter(v=>h.indexOf(v.presence_ref)<0);p.length>0&&(l[u]=p),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var oM;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(oM||(oM={}));var Sg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Sg||(Sg={}));var Kl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Kl||(Kl={}));class jO{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=An.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Nk(this,ho.join,this.params,this.timeout),this.rejoinTimer=new VV(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=An.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=An.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=An.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=An.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=An.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ho.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new _g(this),this.broadcastEndpointURL=HV(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==An.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Sg.PRESENCE]&&this.bindings[Sg.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Kl.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Kl.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(Kl.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,y=[];for(let b=0;b<v;b++){const w=g[b],{filter:{event:_,schema:S,table:k,filter:j}}=w,N=m&&m[b];if(N&&N.event===_&&N.schema===S&&N.table===k&&N.filter===j)y.push(Object.assign(Object.assign({},w),{id:N.id}));else{this.unsubscribe(),this.state=An.errored,t==null||t(Kl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Kl.SUBSCRIBED);return}}).receive("error",m=>{this.state=An.errored,t==null||t(Kl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Kl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===An.joined&&t===Sg.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=An.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ho.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Nk(this,ho.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=An.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Nk(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>nhe){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ho;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var p,g,v;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(g=m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(m=>m.callback(h,n)):(s=this.bindings[i])===null||s===void 0||s.filter(m=>{var p,g,v,y,b,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const _=m.id,S=(p=m.filter)===null||p===void 0?void 0:p.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(b=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:g,table:v,commit_timestamp:y,type:b,errors:w}=p;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:y,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===An.closed}_isJoined(){return this.state===An.joined}_isJoining(){return this.state===An.joining}_isLeaving(){return this.state===An.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&jO.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ho.close,{},t)}_onError(t){this._on(ho.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=An.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=sM(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=sM(t.columns,t.old_record)),r}}const Ck=()=>{},Jy={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dhe=[1e3,2e3,5e3,1e4],fhe=1e4,hhe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mhe{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gC,this.transport=null,this.heartbeatIntervalMs=Jy.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ck,this.ref=0,this.reconnectTimer=null,this.logger=Ck,this.conn=null,this.sendBuffer=[],this.serializer=new ahe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...i)=>Hp(async()=>{const{default:l}=await Promise.resolve().then(()=>zf);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...i)=>s(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${vC.websocket}`,this.httpEndpoint=HV(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Qfe.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:the}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case wg.connecting:return Nd.Connecting;case wg.open:return Nd.Open;case wg.closing:return Nd.Closing;default:return Nd.Closed}}isConnected(){return this.connectionState()===Nd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new jO(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(rhe,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Jy.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:i}=r,l=i?`(${i})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,s,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ho.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([hhe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:ehe};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(ho.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new VV(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jy.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,i,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:gC,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Jy.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Ck,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>dhe[f-1]||fhe,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class kO extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ur(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class phe extends kO{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yC extends kO{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const NO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Hp(async()=>{const{default:n}=await Promise.resolve().then(()=>zf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ghe=()=>ut(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hp(()=>Promise.resolve().then(()=>zf),void 0)).Response:Response}),bC=e=>{if(Array.isArray(e))return e.map(r=>bC(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=bC(n)}),t},vhe=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ek=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},xhe=(e,t,r)=>ut(void 0,void 0,void 0,function*(){const n=yield ghe();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const s=e.status||500,i=(a==null?void 0:a.statusCode)||s+"";t(new phe(Ek(a),s,i))}).catch(a=>{t(new yC(Ek(a),a))}):t(new yC(Ek(e),e))}),yhe=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(vhe(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Ix(e,t,r,n,a,s){return ut(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,yhe(t,n,a,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>xhe(c,l,n))})})}function gv(e,t,r,n){return ut(this,void 0,void 0,function*(){return Ix(e,"GET",t,r,n)})}function oo(e,t,r,n,a){return ut(this,void 0,void 0,function*(){return Ix(e,"POST",t,n,a,r)})}function wC(e,t,r,n,a){return ut(this,void 0,void 0,function*(){return Ix(e,"PUT",t,n,a,r)})}function bhe(e,t,r,n){return ut(this,void 0,void 0,function*(){return Ix(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function CO(e,t,r,n,a){return ut(this,void 0,void 0,function*(){return Ix(e,"DELETE",t,n,a,r)})}class whe{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ut(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ur(t))return{data:null,error:t};throw t}})}}var qV;class _he{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[qV]="BlobDownloadBuilder",this.promise=null}asStream(){return new whe(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ut(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ur(t))return{data:null,error:t};throw t}})}}qV=Symbol.toStringTag;const She={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lM={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jhe{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=NO(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return ut(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},lM),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?wC:oo)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ur(s))return{data:null,error:s};throw s}})}upload(t,r,n){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return ut(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),i=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:lM.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield wC(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ur(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ut(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield oo(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+s.url),l=i.searchParams.get("token");if(!l)throw new kO("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}update(t,r,n){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ut(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ur(a))return{data:null,error:a};throw a}})}copy(t,r,n){return ut(this,void 0,void 0,function*(){try{return{data:{path:(yield oo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ur(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return ut(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield oo(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ur(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return ut(this,void 0,void 0,function*(){try{const a=yield oo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ur(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=s?`?${s}`:"",l=this._getFinalPath(t),c=()=>gv(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new _he(c,this.shouldThrowOnError)}info(t){return ut(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield gv(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:bC(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}exists(t){return ut(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield bhe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n)&&n instanceof yC){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return ut(this,void 0,void 0,function*(){try{return{data:yield CO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ur(r))return{data:null,error:r};throw r}})}list(t,r,n){return ut(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},She),r),{prefix:t||""});return{data:yield oo(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ur(a))return{data:null,error:a};throw a}})}listV2(t,r){return ut(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield oo(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const KV="2.78.0",GV={"X-Client-Info":`storage-js/${KV}`};class khe{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},GV),r),this.fetch=NO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ut(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield gv(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ur(r))return{data:null,error:r};throw r}})}getBucket(t){return ut(this,void 0,void 0,function*(){try{return{data:yield gv(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ur(r))return{data:null,error:r};throw r}})}createBucket(t){return ut(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield oo(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ur(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return ut(this,void 0,void 0,function*(){try{return{data:yield wC(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ur(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ut(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ur(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ut(this,void 0,void 0,function*(){try{return{data:yield CO(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ur(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Nhe{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},GV),r),this.fetch=NO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ut(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ur(r))return{data:null,error:r};throw r}})}listBuckets(t){return ut(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield gv(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ur(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ut(this,void 0,void 0,function*(){try{return{data:yield CO(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ur(r))return{data:null,error:r};throw r}})}}const EO={"X-Client-Info":`storage-js/${KV}`,"Content-Type":"application/json"};class YV extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ri(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Tk extends YV{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Che extends YV{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var cM;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(cM||(cM={}));const TO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Hp(async()=>{const{default:n}=await Promise.resolve().then(()=>zf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Ehe=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},uM=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),The=(e,t,r)=>ut(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||a+"";t(new Tk(uM(i),a,l))}).catch(()=>{const i=a+"",l=s.statusText||`HTTP ${a} error`;t(new Tk(l,a,i))});else{const i=a+"",l=s.statusText||`HTTP ${a} error`;t(new Tk(l,a,i))}}else t(new Che(uM(e),e))}),Ahe=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Ehe(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function Ohe(e,t,r,n,a,s){return ut(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,Ahe(t,n,a,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>The(c,l,n))})})}function ni(e,t,r,n,a){return ut(this,void 0,void 0,function*(){return Ohe(e,"POST",t,n,a,r)})}class Phe{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EO),r),this.fetch=TO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ut(this,void 0,void 0,function*(){try{return{data:(yield ni(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ut(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}listIndexes(t){return ut(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ut(this,void 0,void 0,function*(){try{return{data:(yield ni(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}}class Dhe{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EO),r),this.fetch=TO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ut(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ni(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}getVectors(t){return ut(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}listVectors(t){return ut(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ni(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}queryVectors(t){return ut(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ut(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ni(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}}class Rhe{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EO),r),this.fetch=TO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ut(this,void 0,void 0,function*(){try{return{data:(yield ni(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}getBucket(t){return ut(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}listBuckets(){return ut(this,arguments,void 0,function*(t={}){try{return{data:yield ni(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ut(this,void 0,void 0,function*(){try{return{data:(yield ni(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}}class Ihe extends Rhe{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Mhe(this.url,this.headers,t,this.fetch)}}class Mhe extends Phe{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ut(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ut(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ut(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ut(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Fhe(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Fhe extends Dhe{constructor(t,r,n,a,s){super(t,r,s),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ut(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ut(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ut(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ut(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ut(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Lhe extends khe{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new jhe(this.url,this.headers,t,this.fetch)}get vectors(){return new Ihe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Nhe(this.url+"/iceberg",this.headers,this.fetch)}}const $he="2.78.0";let eg="";typeof Deno<"u"?eg="deno":typeof document<"u"?eg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?eg="react-native":eg="node";const Bhe={"X-Client-Info":`supabase-js-${eg}/${$he}`},Uhe={headers:Bhe},zhe={schema:"public"},Vhe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Whe={},Hhe=e=>{let t;return e?t=e:typeof fetch>"u"?t=jV:t=fetch,(...r)=>t(...r)},qhe=()=>typeof Headers>"u"?kV:Headers,Khe=(e,t,r)=>{const n=Hhe(r),a=qhe();return async(s,i)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},i),{headers:u}))}};function Ghe(e){return e.endsWith("/")?e:e+"/"}function Yhe(e,t){var r,n;const{db:a,auth:s,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Xhe(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ghe(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const XV="2.78.0",Sh=30*1e3,_C=3,Ak=_C*Sh,Jhe="http://localhost:9999",Qhe="supabase.auth.token",Zhe={"X-Client-Info":`gotrue-js/${XV}`},SC="X-Supabase-Api-Version",JV={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eme=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tme=10*60*1e3;class vv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function mt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class rme extends vv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function nme(e){return mt(e)&&e.name==="AuthApiError"}class Cd extends vv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class td extends vv{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class no extends td{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ame(e){return mt(e)&&e.name==="AuthSessionMissingError"}class ch extends td{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qy extends td{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zy extends td{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sme(e){return mt(e)&&e.name==="AuthImplicitGrantRedirectError"}class dM extends td{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jC extends td{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ok(e){return mt(e)&&e.name==="AuthRetryableFetchError"}class fM extends td{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class kC extends td{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const U1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hM=` 	
\r=`.split(""),ime=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<hM.length;t+=1)e[hM[t].charCodeAt(0)]=-2;for(let t=0;t<U1.length;t+=1)e[U1[t].charCodeAt(0)]=t;return e})();function mM(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(U1[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(U1[n]),t.queuedBits-=6}}function QV(e,t,r){const n=ime[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pM(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{cme(i,n,r)};for(let i=0;i<e.length;i+=1)QV(e.charCodeAt(i),a,s);return t.join("")}function ome(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function lme(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}ome(n,t)}}function cme(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function lm(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)QV(e.charCodeAt(a),r,n);return new Uint8Array(t)}function ume(e){const t=[];return lme(e,r=>t.push(r)),new Uint8Array(t)}function Fd(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>mM(a,r,n)),mM(null,r,n),t.join("")}function dme(e){return Math.round(Date.now()/1e3)+e}function fme(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ha=()=>typeof window<"u"&&typeof document<"u",md={tested:!1,writable:!1},ZV=()=>{if(!Ha())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(md.tested)return md.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),md.tested=!0,md.writable=!0}catch{md.tested=!0,md.writable=!1}return md.writable};function hme(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const eW=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Hp(async()=>{const{default:n}=await Promise.resolve().then(()=>zf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},mme=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",jh=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},pd=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Bc=async(e,t)=>{await e.removeItem(t)};class oS{constructor(){this.promise=new oS.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}oS.promiseConstructor=Promise;function Pk(e){const t=e.split(".");if(t.length!==3)throw new kC("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!eme.test(t[n]))throw new kC("JWT not in base64url format");return{header:JSON.parse(pM(t[0])),payload:JSON.parse(pM(t[1])),signature:lm(t[2]),raw:{header:t[0],payload:t[1]}}}async function pme(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function gme(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){n(i);return}}catch(i){if(!t(s,i)){a(i);return}}})()})}function vme(e){return("0"+e.toString(16)).substr(-2)}function xme(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,vme).join("")}async function yme(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function bme(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await yme(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function uh(e,t,r=!1){const n=xme();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await jh(e,`${t}-code-verifier`,a);const s=await bme(n);return[s,n===s?"plain":"s256"]}const wme=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _me(e){const t=e.headers.get(SC);if(!t||!t.match(wme))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Sme(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function jme(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kme=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dh(e){if(!kme.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dk(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nme(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function gM(e){return JSON.parse(JSON.stringify(e))}const _d=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Cme=[502,503,504];async function vM(e){var t;if(!mme(e))throw new jC(_d(e),0);if(Cme.includes(e.status))throw new jC(_d(e),e.status);let r;try{r=await e.json()}catch(s){throw new Cd(_d(s),s)}let n;const a=_me(e);if(a&&a.getTime()>=JV["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new fM(_d(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new no}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new fM(_d(r),e.status,r.weak_password.reasons);throw new rme(_d(r),e.status||500,n)}const Eme=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function St(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[SC]||(s[SC]=JV["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await Tme(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Tme(e,t,r,n,a,s){const i=Eme(t,n,a,s);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new jC(_d(c),0)}if(l.ok||await vM(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await vM(c)}}function ao(e){var t;let r=null;Pme(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=dme(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function xM(e){const t=ao(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Zc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ame(e){return{data:e,error:null}}function Ome(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=Qu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function yM(e){return e}function Pme(e){return e.access_token&&e.refresh_token&&e.expires_in}const Rk=["global","local","others"];class Dme{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=eW(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Rk[0]){if(Rk.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rk.join(", ")}`);try{return await St(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await St(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Zc})}catch(n){if(mt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Qu(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await St(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Ome,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(mt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await St(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zc})}catch(r){if(mt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await St(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:yM});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(mt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){dh(t);try{return await St(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zc})}catch(r){if(mt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){dh(t);try{return await St(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Zc})}catch(n){if(mt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){dh(t);try{return await St(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Zc})}catch(n){if(mt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){dh(t.userId);try{const{data:r,error:n}=await St(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(mt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){dh(t.userId),dh(t.id);try{return{data:await St(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await St(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:yM});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(mt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await St(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(mt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await St(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(mt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await St(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(mt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await St(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await St(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(mt(r))return{data:null,error:r};throw r}}}function bM(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const fh={debug:!!(globalThis&&ZV()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tW extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Rme extends tW{}async function Ime(e,t,r){fh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),fh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){fh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{fh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw fh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Rme(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fh.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Mme(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function rW(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Fme(e){return parseInt(e,16)}function Lme(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function $me(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=rW(e.address),p=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",v=`${p} wants you to sign in with your Ethereum account:
${m}

${g}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${s.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}y+=b}return`${v}
${y}`}class xn extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class z1 extends xn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Bme({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new xn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new xn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new xn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new xn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new xn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new xn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new xn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new xn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(nW(i)){if(s.rp.id!==i)return new xn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new xn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new xn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new xn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new xn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Ume({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new xn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new xn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(nW(n)){if(r.rpId!==n)return new xn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new xn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new xn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new xn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class zme{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Vme=new zme;function Wme(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Qu(e,["challenge","user","excludeCredentials"]),s=lm(t).buffer,i=Object.assign(Object.assign({},r),{id:lm(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:s,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:lm(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Hme(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Qu(e,["challenge","allowCredentials"]),a=lm(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];s.allowCredentials[i]=Object.assign(Object.assign({},l),{id:lm(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function qme(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Fd(new Uint8Array(e.response.attestationObject)),clientDataJSON:Fd(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Kme(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Fd(new Uint8Array(a.authenticatorData)),clientDataJSON:Fd(new Uint8Array(a.clientDataJSON)),signature:Fd(new Uint8Array(a.signature)),userHandle:a.userHandle?Fd(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function nW(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function wM(){var e,t;return!!(Ha()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Gme(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new z1("Browser returned unexpected credential type",t)}:{data:null,error:new z1("Empty credential response",t)}}catch(t){return{data:null,error:Bme({error:t,options:e})}}}async function Yme(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new z1("Browser returned unexpected credential type",t)}:{data:null,error:new z1("Empty credential response",t)}}catch(t){return{data:null,error:Ume({error:t,options:e})}}}const Xme={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Jme={userVerification:"preferred",hints:["security-key"]};function V1(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const i=a[s];if(i!==void 0)if(Array.isArray(i))n[s]=i;else if(r(i))n[s]=i;else if(t(i)){const l=n[s];t(l)?n[s]=V1(l,i):n[s]=V1(i)}else n[s]=i}return n}function Qme(e,t){return V1(Xme,e,t||{})}function Zme(e,t){return V1(Jme,e,t||{})}class epe{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const c=a??Vme.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=Qme(i.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:f}=await Gme({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=Zme(i.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:f}=await Yme(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return mt(i)?{data:null,error:i}:{data:null,error:new Cd("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},s){if(!r)return{data:null,error:new vv("rpId is required for WebAuthn authentication")};try{if(!wM())return{data:null,error:new Cd("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return mt(i)?{data:null,error:i}:{data:null,error:new Cd("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},s){if(!r)return{data:null,error:new vv("rpId is required for WebAuthn registration")};try{if(!wM())return{data:null,error:new Cd("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return mt(i)?{data:null,error:i}:{data:null,error:new Cd("Unexpected error in register",i)}}}}Mme();const tpe={url:Jhe,storageKey:Qhe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zhe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _M(e,t,r){return await r()}const hh={};class xv{get jwks(){var t,r;return(r=(t=hh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){hh[this.storageKey]=Object.assign(Object.assign({},hh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=hh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){hh[this.storageKey]=Object.assign(Object.assign({},hh[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xv.nextInstanceID,xv.nextInstanceID+=1,this.instanceID>0&&Ha()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},tpe),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Dme({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=eW(a.fetch),this.lock=a.lock||_M,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ha()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Ime:this.lock=_M,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new epe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:ZV()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bM(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=bM(this.memoryStorage)),Ha()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${XV}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=hme(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ha()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),sme(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return mt(r)?{error:r}:{error:new Cd("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ao}),{data:i,error:l}=s;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(mt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await uh(this.storage,this.storageKey)),s=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:ao})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ao})}else throw new Qy("You must provide either an email or phone number and a password");const{data:i,error:l}=s;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(mt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:i,options:l}=t;r=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:xM})}else if("phone"in t){const{phone:s,password:i,options:l}=t;r=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:xM})}else throw new Qy("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ch}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(mt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,i,l,c,u,d,f,h;let m,p;if("message"in t)m=t.message,p=t.signature;else{const{chain:g,wallet:v,statement:y,options:b}=t;let w;if(Ha())if(typeof v=="object")w=v;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const _=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=rW(S[0]);let j=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const C=await w.request({method:"eth_chainId"});j=Fme(C)}const N={domain:_.host,address:k,statement:y,uri:_.href,version:"1",chainId:j,nonce:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(i=(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=$me(N),p=await w.request({method:"personal_sign",params:[Lme(m),k]})}try{const{data:g,error:v}=await St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ao});if(v)throw v;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new ch}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:v})}catch(g){if(mt(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,a,s,i,l,c,u,d,f,h,m;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:v,wallet:y,statement:b,options:w}=t;let _;if(Ha())if(typeof y=="object")_=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)p=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(p),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:v,error:y}=await St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Fd(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ao});if(y)throw y;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new ch}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:y})}catch(v){if(mt(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await pd(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:i}=await St(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ao});if(await Bc(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ch}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(mt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:i}=t,l=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ao}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ch}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(mt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,s,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await uh(this.storage,this.storageKey));const{error:f}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Qy("You must provide either an email or phone number.")}catch(l){if(mt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await St(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:ao});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(mt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await uh(this.storage,this.storageKey)),await St(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:Ame})}catch(s){if(mt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new no;const{error:a}=await St(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(mt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:i}=await St(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:i,error:l}=await St(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Qy("You must provide either an email or phone number and a type")}catch(r){if(mt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await pd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ak:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await pd(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Dk()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=Nme(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Zc}):await this._useSession(async r=>{var n,a,s;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new no}:await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Zc})})}catch(r){if(mt(r))return ame(r)&&(await this._removeSession(),await Bc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new no;const i=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await uh(this.storage,this.storageKey));const{data:u,error:d}=await St(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Zc});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(mt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new no;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:i}=Pk(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(mt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new no;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(mt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ha())throw new Zy("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zy(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new dM("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zy("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new dM("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!i||!u)throw new Zy("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Sh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:g,error:v}=await this._getUser(s);if(v)throw v;const y={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(mt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await pd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(nme(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Bc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=fme(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await uh(this.storage,this.storageKey,!0));try{return await St(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(mt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var i,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await St(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Ha()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(mt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:i,provider:l,token:c,access_token:u,nonce:d}=t,f=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:ao}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new ch}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(mt(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)throw i;return await St(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(mt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await gme(async a=>(a>0&&await pme(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await St(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ao})),(a,s)=>{const i=200*Math.pow(2,a);return s&&Ok(s)&&Date.now()+i-n<Sh})}catch(n){if(this._debug(r,"error",n),mt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ha()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await pd(this.storage,this.storageKey);if(a&&this.userStorage){let i=await pd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:a.user},await jh(this.userStorage,this.storageKey+"-user",i)),a.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Dk()}else if(a&&!a.user&&!a.user){const i=await pd(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(a.user=i.user,await Bc(this.storage,this.storageKey+"-user"),await jh(this.storage,this.storageKey,a)):a.user=Dk()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ak;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Ak}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),Ok(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(a.access_token);!l&&(i!=null&&i.user)?(a.user=i.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new no;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new oS;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new no;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),mt(s)){const i={data:null,error:s};return Ok(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(i),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await jh(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=gM(a);await jh(this.storage,this.storageKey,s)}else{const a=gM(r);await jh(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Bc(this.storage,this.storageKey),await Bc(this.storage,this.storageKey+"-code-verifier"),await Bc(this.storage,this.storageKey+"-user"),this.userStorage&&await Bc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ha()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Sh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Sh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Sh}ms, refresh threshold is ${_C} ticks`),a<=_C&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof tW)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ha()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await uh(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await St(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(mt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await St(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(mt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?qme(t.webauthn.credential_response):Kme(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await St(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(mt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const i=await St(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Wme(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Hme(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(mt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Pk(n.access_token);let i=null;s.aal&&(i=s.aal);let l=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?{data:null,error:a}:n?await St(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new no}})}catch(r){if(mt(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return{data:null,error:s};if(!a)return{data:null,error:new no};const i=await St(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&Ha()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(mt(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return{data:null,error:s};if(!a)return{data:null,error:new no};const i=await St(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&Ha()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(mt(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+tme>a)return n;const{data:s,error:i}=await St(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:a,payload:s,signature:i,raw:{header:l,payload:c}}=Pk(n);r!=null&&r.allowExpired||Sme(s.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:a,signature:i},error:null}}const d=jme(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,ume(`${l}.${c}`)))throw new kC("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}}}xv.nextInstanceID=0;const rpe=xv;class npe extends rpe{constructor(t){super(t)}}class ape{constructor(t,r,n){var a,s,i;this.supabaseUrl=t,this.supabaseKey=r;const l=Xhe(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:zhe,realtime:Whe,auth:Object.assign(Object.assign({},Vhe),{storageKey:c}),global:Uhe},d=Yhe(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=Khe(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Jfe(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Lhe(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Vfe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,storageKey:i,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new npe({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new mhe(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const spe=(e,t,r)=>new ape(e,t,r);function ipe(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}ipe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ope="https://studio.middar.com/",lpe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlzcyI6InN1cGFiYXNlLWRlbW8iLCJpYXQiOjE3NjQwMDE2ODQsImV4cCI6MjA3OTU3NzY4NH0.sHsfXuCJ0n1y6g29oFxifU1KCkSZzCzZ7_x1zQDbFDY",Vr=spe(ope,lpe,{auth:{autoRefreshToken:!1,persistSession:!0,detectSessionInUrl:!0,storageKey:"middar_crm_session"}});function cpe({onToggleSidebar:e}){var _,S,k;const{breadcrumbs:t}=wx(),{user:r,logout:n}=hr(),{t:a}=$t(),s=zs(),{setTheme:i}=Zse(),[l,c]=x.useState(!1),[u,d]=x.useState(""),[f,h]=x.useState(""),[m,p]=x.useState(""),[g,v]=x.useState(!1),y=()=>{try{n(),s("/login")}catch(j){console.error("Logout failed:",j),s("/login")}},b=()=>{c(!0)},w=async j=>{if(j.preventDefault(),!g){if(!u.trim()){p(a("settings.newPasswordRequired"));return}if(u.length<6){p(a("settings.passwordTooShort"));return}if(u!==f){p(a("settings.passwordsDoNotMatch"));return}p(""),v(!0);try{const{error:N}=await Vr.auth.updateUser({password:u});if(N)throw N;c(!1),d(""),h(""),alert(a("settings.passwordChangedSuccessfully"))}catch(N){console.error("Password change failed:",N),p(N.message||a("settings.passwordChangeFailed"))}finally{v(!1)}}};return o.jsxs("header",{className:"border-b bg-background/80 backdrop-blur-md sticky top-0 z-50 shadow-sm",children:[o.jsxs("div",{className:"h-16 flex items-center px-4 md:px-6 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:e,className:"text-foreground hover:bg-accent hover:text-accent-foreground p-2 rounded-lg transition-all","aria-label":"Toggle sidebar",children:o.jsx(Cie,{className:"h-5 w-5"})}),t&&t.length>0&&o.jsx("div",{className:"hidden md:block",children:o.jsx(Koe,{items:t})})]}),o.jsx("div",{className:"hidden md:flex flex-1 max-w-md",children:o.jsxs("div",{className:"relative w-full",children:[o.jsx(Vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Ue,{type:"search",placeholder:a("common.search","Search..."),className:"pl-10 pr-4 h-9 bg-muted/50 border-0 focus-visible:ring-1"})]})}),o.jsx("div",{className:"flex-1"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:Ee((r==null?void 0:r.profile)||{},"user_name")||(r==null?void 0:r.email)}),o.jsx(sz,{}),o.jsxs("button",{className:"text-foreground hover:text-muted-foreground relative transition-colors",title:a("common.notifications"),children:[o.jsx(die,{className:"h-5 w-5"}),o.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-primary flex items-center justify-center",children:o.jsx("span",{className:"h-2 w-2 rounded-full bg-primary-foreground"})}),o.jsx("span",{className:"sr-only",children:a("common.notifications")})]}),o.jsxs(gO,{children:[o.jsx(vO,{asChild:!0,children:o.jsxs(ue,{variant:"ghost",size:"icon",className:"h-9 w-9 hover:bg-accent",title:a("navigation.settings"),children:[o.jsxs(Ds,{className:"h-8 w-8",children:[o.jsx(Io,{src:(_=r==null?void 0:r.profile)==null?void 0:_.avatar}),o.jsx(Rs,{className:"bg-primary/10 text-primary font-semibold text-sm",children:(S=r==null?void 0:r.email)==null?void 0:S.charAt(0).toUpperCase()})]}),o.jsx("span",{className:"sr-only",children:a("navigation.settings")})]})}),o.jsxs(rS,{align:"end",className:"w-56",children:[o.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:o.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[o.jsx("p",{className:"font-medium text-sm",children:Ee((r==null?void 0:r.profile)||{},"user_name")||((k=r==null?void 0:r.email)==null?void 0:k.split("@")[0])}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r==null?void 0:r.email})]})}),o.jsx(mC,{}),o.jsxs(Jl,{onClick:()=>i("light"),children:[o.jsx(Mie,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:a("theme.light","Light")})]}),o.jsxs(Jl,{onClick:()=>i("dark"),children:[o.jsx(Tie,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:a("theme.dark","Dark")})]}),o.jsxs(Jl,{onClick:()=>i("system"),children:[o.jsx(zA,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:a("theme.system","System")})]}),o.jsx(mC,{}),o.jsxs(Jl,{onClick:b,children:[o.jsx(kie,{className:"h-4 w-4 mr-2"}),a("settings.changePassword")]}),o.jsxs(Jl,{onClick:y,className:"text-destructive focus:text-destructive",children:[o.jsx(Bie,{className:"h-4 w-4 mr-2"}),a("buttons.logout")]})]})]})]})]}),o.jsx(wn,{open:l,onOpenChange:c,children:o.jsxs(an,{className:"sm:max-w-[425px]",children:[o.jsxs(sn,{children:[o.jsx(on,{children:a("settings.changePassword")}),o.jsx(Ma,{children:a("settings.changePasswordDescription")})]}),o.jsxs("form",{onSubmit:w,className:"space-y-4",children:[m&&o.jsx(Hm,{variant:"destructive",children:o.jsx(qm,{children:m})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"newPassword",children:a("settings.newPassword")}),o.jsx(Ue,{id:"newPassword",type:"password",value:u,onChange:j=>d(j.target.value),placeholder:a("settings.newPasswordPlaceholder"),required:!0,minLength:6})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"confirmPassword",children:a("settings.confirmPassword")}),o.jsx(Ue,{id:"confirmPassword",type:"password",value:f,onChange:j=>h(j.target.value),placeholder:a("settings.confirmPasswordPlaceholder"),required:!0,minLength:6})]}),o.jsxs(Ia,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[o.jsx(ue,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:a("buttons.cancel")}),o.jsx(ue,{type:"submit",disabled:g||!u.trim()||!f.trim(),className:"w-full sm:w-auto",children:a(g?"settings.changingPassword":"settings.changePassword")})]})]})]})})]})}const _l=aS,aW=wO,upe=sS,sW=x.forwardRef(({className:e,...t},r)=>o.jsx(Vp,{className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));sW.displayName=Vp.displayName;const dpe=Sx("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Lo=x.forwardRef(({side:e="right",className:t,children:r,...n},a)=>o.jsxs(upe,{children:[o.jsx(sW,{}),o.jsxs(Wp,{ref:a,className:xe(dpe({side:e}),t),...n,children:[r,o.jsxs(iS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Ro,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Lo.displayName=Wp.displayName;const bc=({className:e,...t})=>o.jsx("div",{className:xe("flex flex-col space-y-2 text-center sm:text-left",e),...t});bc.displayName="SheetHeader";const Sl=x.forwardRef(({className:e,...t},r)=>o.jsx(Dx,{ref:r,className:xe("text-lg font-semibold text-foreground",e),...t}));Sl.displayName=Dx.displayName;const Mx=x.forwardRef(({className:e,...t},r)=>o.jsx(Rx,{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));Mx.displayName=Rx.displayName;function NC({children:e}){const[t,r]=x.useState(!0),[n,a]=x.useState(!1);x.useEffect(()=>{const l=()=>{a(window.innerWidth<1024),window.innerWidth<1024?r(!1):r(!0)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const s=()=>{r(!t)},i=()=>{n&&r(!1)};return o.jsxs("div",{className:"h-screen bg-background w-full flex flex-col",children:[o.jsx(cpe,{onToggleSidebar:s}),o.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[!n&&o.jsx("aside",{className:xe("bg-sidebar transition-all duration-300 ease-in-out hidden lg:block",t?"w-60":"w-0 overflow-hidden"),style:{height:"calc(100vh - 64px)"},children:o.jsx(kI,{onNavigate:i})}),n&&o.jsx(_l,{open:t,onOpenChange:r,children:o.jsxs(Lo,{side:rr()?"right":"left",className:"p-0 w-60 [&>button]:hidden",children:[o.jsx(Sl,{className:"sr-only",children:"Navigation Menu"}),o.jsx(Mx,{className:"sr-only",children:"Application navigation sidebar"}),o.jsx(kI,{onNavigate:i})]})}),o.jsx("main",{className:"flex-1 overflow-hidden bg-background w-full",children:o.jsx("div",{className:"h-full p-3 sm:p-4 md:p-6 pt-2 overflow-y-auto",children:e})})]})]})}const Ik=1024;function un(){const[e,t]=x.useState(void 0);return x.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Ik-1}px)`),n=()=>{t(window.innerWidth<Ik)};return r.addEventListener("change",n),t(window.innerWidth<Ik),()=>r.removeEventListener("change",n)},[]),!!e}const fpe=Sx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ct({className:e,variant:t,...r}){return o.jsx("div",{className:xe(fpe({variant:t}),e),...r})}function iW(){$t();const[e,t]=x.useState(new Date);x.useEffect(()=>{const a=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(a)},[]);const r=a=>a.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"short",day:"numeric"}),n=a=>a.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[o.jsx("div",{className:"text-lg font-mono font-semibold text-foreground",children:n(e)}),o.jsx("div",{className:"text-sm",children:r(e)})]})}var hpe=Array.isArray,Ws=hpe,mpe=typeof gy=="object"&&gy&&gy.Object===Object&&gy,oW=mpe,ppe=oW,gpe=typeof self=="object"&&self&&self.Object===Object&&self,vpe=ppe||gpe||Function("return this")(),Pl=vpe,xpe=Pl,ype=xpe.Symbol,Fx=ype,SM=Fx,lW=Object.prototype,bpe=lW.hasOwnProperty,wpe=lW.toString,T0=SM?SM.toStringTag:void 0;function _pe(e){var t=bpe.call(e,T0),r=e[T0];try{e[T0]=void 0;var n=!0}catch{}var a=wpe.call(e);return n&&(t?e[T0]=r:delete e[T0]),a}var Spe=_pe,jpe=Object.prototype,kpe=jpe.toString;function Npe(e){return kpe.call(e)}var Cpe=Npe,jM=Fx,Epe=Spe,Tpe=Cpe,Ape="[object Null]",Ope="[object Undefined]",kM=jM?jM.toStringTag:void 0;function Ppe(e){return e==null?e===void 0?Ope:Ape:kM&&kM in Object(e)?Epe(e):Tpe(e)}var Tc=Ppe;function Dpe(e){return e!=null&&typeof e=="object"}var Ac=Dpe,Rpe=Tc,Ipe=Ac,Mpe="[object Symbol]";function Fpe(e){return typeof e=="symbol"||Ipe(e)&&Rpe(e)==Mpe}var Gp=Fpe,Lpe=Ws,$pe=Gp,Bpe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Upe=/^\w*$/;function zpe(e,t){if(Lpe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||$pe(e)?!0:Upe.test(e)||!Bpe.test(e)||t!=null&&e in Object(t)}var AO=zpe;function Vpe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var rd=Vpe;const Yp=fr(rd);var Wpe=Tc,Hpe=rd,qpe="[object AsyncFunction]",Kpe="[object Function]",Gpe="[object GeneratorFunction]",Ype="[object Proxy]";function Xpe(e){if(!Hpe(e))return!1;var t=Wpe(e);return t==Kpe||t==Gpe||t==qpe||t==Ype}var OO=Xpe;const Nt=fr(OO);var Jpe=Pl,Qpe=Jpe["__core-js_shared__"],Zpe=Qpe,Mk=Zpe,NM=function(){var e=/[^.]+$/.exec(Mk&&Mk.keys&&Mk.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function e0e(e){return!!NM&&NM in e}var t0e=e0e,r0e=Function.prototype,n0e=r0e.toString;function a0e(e){if(e!=null){try{return n0e.call(e)}catch{}try{return e+""}catch{}}return""}var cW=a0e,s0e=OO,i0e=t0e,o0e=rd,l0e=cW,c0e=/[\\^$.*+?()[\]{}|]/g,u0e=/^\[object .+?Constructor\]$/,d0e=Function.prototype,f0e=Object.prototype,h0e=d0e.toString,m0e=f0e.hasOwnProperty,p0e=RegExp("^"+h0e.call(m0e).replace(c0e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g0e(e){if(!o0e(e)||i0e(e))return!1;var t=s0e(e)?p0e:u0e;return t.test(l0e(e))}var v0e=g0e;function x0e(e,t){return e==null?void 0:e[t]}var y0e=x0e,b0e=v0e,w0e=y0e;function _0e(e,t){var r=w0e(e,t);return b0e(r)?r:void 0}var Vf=_0e,S0e=Vf,j0e=S0e(Object,"create"),lS=j0e,CM=lS;function k0e(){this.__data__=CM?CM(null):{},this.size=0}var N0e=k0e;function C0e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var E0e=C0e,T0e=lS,A0e="__lodash_hash_undefined__",O0e=Object.prototype,P0e=O0e.hasOwnProperty;function D0e(e){var t=this.__data__;if(T0e){var r=t[e];return r===A0e?void 0:r}return P0e.call(t,e)?t[e]:void 0}var R0e=D0e,I0e=lS,M0e=Object.prototype,F0e=M0e.hasOwnProperty;function L0e(e){var t=this.__data__;return I0e?t[e]!==void 0:F0e.call(t,e)}var $0e=L0e,B0e=lS,U0e="__lodash_hash_undefined__";function z0e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=B0e&&t===void 0?U0e:t,this}var V0e=z0e,W0e=N0e,H0e=E0e,q0e=R0e,K0e=$0e,G0e=V0e;function Xp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xp.prototype.clear=W0e;Xp.prototype.delete=H0e;Xp.prototype.get=q0e;Xp.prototype.has=K0e;Xp.prototype.set=G0e;var Y0e=Xp;function X0e(){this.__data__=[],this.size=0}var J0e=X0e;function Q0e(e,t){return e===t||e!==e&&t!==t}var PO=Q0e,Z0e=PO;function ege(e,t){for(var r=e.length;r--;)if(Z0e(e[r][0],t))return r;return-1}var cS=ege,tge=cS,rge=Array.prototype,nge=rge.splice;function age(e){var t=this.__data__,r=tge(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():nge.call(t,r,1),--this.size,!0}var sge=age,ige=cS;function oge(e){var t=this.__data__,r=ige(t,e);return r<0?void 0:t[r][1]}var lge=oge,cge=cS;function uge(e){return cge(this.__data__,e)>-1}var dge=uge,fge=cS;function hge(e,t){var r=this.__data__,n=fge(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var mge=hge,pge=J0e,gge=sge,vge=lge,xge=dge,yge=mge;function Jp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Jp.prototype.clear=pge;Jp.prototype.delete=gge;Jp.prototype.get=vge;Jp.prototype.has=xge;Jp.prototype.set=yge;var uS=Jp,bge=Vf,wge=Pl,_ge=bge(wge,"Map"),DO=_ge,EM=Y0e,Sge=uS,jge=DO;function kge(){this.size=0,this.__data__={hash:new EM,map:new(jge||Sge),string:new EM}}var Nge=kge;function Cge(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Ege=Cge,Tge=Ege;function Age(e,t){var r=e.__data__;return Tge(t)?r[typeof t=="string"?"string":"hash"]:r.map}var dS=Age,Oge=dS;function Pge(e){var t=Oge(this,e).delete(e);return this.size-=t?1:0,t}var Dge=Pge,Rge=dS;function Ige(e){return Rge(this,e).get(e)}var Mge=Ige,Fge=dS;function Lge(e){return Fge(this,e).has(e)}var $ge=Lge,Bge=dS;function Uge(e,t){var r=Bge(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var zge=Uge,Vge=Nge,Wge=Dge,Hge=Mge,qge=$ge,Kge=zge;function Qp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qp.prototype.clear=Vge;Qp.prototype.delete=Wge;Qp.prototype.get=Hge;Qp.prototype.has=qge;Qp.prototype.set=Kge;var RO=Qp,uW=RO,Gge="Expected a function";function IO(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Gge);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=e.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(IO.Cache||uW),r}IO.Cache=uW;var dW=IO;const Yge=fr(dW);var Xge=dW,Jge=500;function Qge(e){var t=Xge(e,function(n){return r.size===Jge&&r.clear(),n}),r=t.cache;return t}var Zge=Qge,eve=Zge,tve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rve=/\\(\\)?/g,nve=eve(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(tve,function(r,n,a,s){t.push(a?s.replace(rve,"$1"):n||r)}),t}),ave=nve;function sve(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var MO=sve,TM=Fx,ive=MO,ove=Ws,lve=Gp,cve=1/0,AM=TM?TM.prototype:void 0,OM=AM?AM.toString:void 0;function fW(e){if(typeof e=="string")return e;if(ove(e))return ive(e,fW)+"";if(lve(e))return OM?OM.call(e):"";var t=e+"";return t=="0"&&1/e==-cve?"-0":t}var uve=fW,dve=uve;function fve(e){return e==null?"":dve(e)}var hW=fve,hve=Ws,mve=AO,pve=ave,gve=hW;function vve(e,t){return hve(e)?e:mve(e,t)?[e]:pve(gve(e))}var mW=vve,xve=Gp,yve=1/0;function bve(e){if(typeof e=="string"||xve(e))return e;var t=e+"";return t=="0"&&1/e==-yve?"-0":t}var fS=bve,wve=mW,_ve=fS;function Sve(e,t){t=wve(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[_ve(t[r++])];return r&&r==n?e:void 0}var FO=Sve,jve=FO;function kve(e,t,r){var n=e==null?void 0:jve(e,t);return n===void 0?r:n}var pW=kve;const ui=fr(pW);function Nve(e){return e==null}var Cve=Nve;const Pt=fr(Cve);var Eve=Tc,Tve=Ws,Ave=Ac,Ove="[object String]";function Pve(e){return typeof e=="string"||!Tve(e)&&Ave(e)&&Eve(e)==Ove}var Dve=Pve;const jf=fr(Dve);var gW={exports:{}},vr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LO=Symbol.for("react.element"),$O=Symbol.for("react.portal"),hS=Symbol.for("react.fragment"),mS=Symbol.for("react.strict_mode"),pS=Symbol.for("react.profiler"),gS=Symbol.for("react.provider"),vS=Symbol.for("react.context"),Rve=Symbol.for("react.server_context"),xS=Symbol.for("react.forward_ref"),yS=Symbol.for("react.suspense"),bS=Symbol.for("react.suspense_list"),wS=Symbol.for("react.memo"),_S=Symbol.for("react.lazy"),Ive=Symbol.for("react.offscreen"),vW;vW=Symbol.for("react.module.reference");function Hi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case LO:switch(e=e.type,e){case hS:case pS:case mS:case yS:case bS:return e;default:switch(e=e&&e.$$typeof,e){case Rve:case vS:case xS:case _S:case wS:case gS:return e;default:return t}}case $O:return t}}}vr.ContextConsumer=vS;vr.ContextProvider=gS;vr.Element=LO;vr.ForwardRef=xS;vr.Fragment=hS;vr.Lazy=_S;vr.Memo=wS;vr.Portal=$O;vr.Profiler=pS;vr.StrictMode=mS;vr.Suspense=yS;vr.SuspenseList=bS;vr.isAsyncMode=function(){return!1};vr.isConcurrentMode=function(){return!1};vr.isContextConsumer=function(e){return Hi(e)===vS};vr.isContextProvider=function(e){return Hi(e)===gS};vr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===LO};vr.isForwardRef=function(e){return Hi(e)===xS};vr.isFragment=function(e){return Hi(e)===hS};vr.isLazy=function(e){return Hi(e)===_S};vr.isMemo=function(e){return Hi(e)===wS};vr.isPortal=function(e){return Hi(e)===$O};vr.isProfiler=function(e){return Hi(e)===pS};vr.isStrictMode=function(e){return Hi(e)===mS};vr.isSuspense=function(e){return Hi(e)===yS};vr.isSuspenseList=function(e){return Hi(e)===bS};vr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===hS||e===pS||e===mS||e===yS||e===bS||e===Ive||typeof e=="object"&&e!==null&&(e.$$typeof===_S||e.$$typeof===wS||e.$$typeof===gS||e.$$typeof===vS||e.$$typeof===xS||e.$$typeof===vW||e.getModuleId!==void 0)};vr.typeOf=Hi;gW.exports=vr;var Mve=gW.exports,Fve=Tc,Lve=Ac,$ve="[object Number]";function Bve(e){return typeof e=="number"||Lve(e)&&Fve(e)==$ve}var xW=Bve;const Uve=fr(xW);var zve=xW;function Vve(e){return zve(e)&&e!=+e}var Wve=Vve;const Lx=fr(Wve);var as=function(t){return t===0?0:t>0?1:-1},Ld=function(t){return jf(t)&&t.indexOf("%")===t.length-1},Ke=function(t){return Uve(t)&&!Lx(t)},Hve=function(t){return Pt(t)},Fn=function(t){return Ke(t)||jf(t)},qve=0,Zp=function(t){var r=++qve;return"".concat(t||"").concat(r)},ss=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ke(t)&&!jf(t))return n;var s;if(Ld(t)){var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return Lx(s)&&(s=n),a&&s>r&&(s=r),s},eu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Kve=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},ei=function(t,r){return Ke(t)&&Ke(r)?function(n){return t+n*(r-t)}:function(){return r}};function W1(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ui(n,t))===r})}var Gve=function(t,r){return Ke(t)&&Ke(r)?t-r:jf(t)&&jf(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function cm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function CC(e){"@babel/helpers - typeof";return CC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CC(e)}var Yve=["viewBox","children"],Xve=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PM=["points","pathLength"],Fk={svg:Yve,polygon:PM,polyline:PM},BO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],H1=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!Yp(n))return null;var a={};return Object.keys(n).forEach(function(s){BO.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},Jve=function(t,r,n){return function(a){return t(r,n,a),null}},kf=function(t,r,n){if(!Yp(t)||CC(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var i=t[s];BO.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=Jve(i,r,n))}),a},Qve=["children"],Zve=["children"];function DM(e,t){if(e==null)return{};var r=exe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function exe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function EC(e){"@babel/helpers - typeof";return EC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EC(e)}var RM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},oc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},IM=null,Lk=null,UO=function e(t){if(t===IM&&Array.isArray(Lk))return Lk;var r=[];return x.Children.forEach(t,function(n){Pt(n)||(Mve.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Lk=r,IM=t,r};function di(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return oc(a)}):n=[oc(t)],UO(e).forEach(function(a){var s=ui(a,"type.displayName")||ui(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Xs(e,t){var r=di(e,t);return r&&r[0]}var MM=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ke(n)||n<=0||!Ke(a)||a<=0)},txe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],rxe=function(t){return t&&t.type&&jf(t.type)&&txe.indexOf(t.type)>=0},nxe=function(t){return t&&EC(t)==="object"&&"clipDot"in t},axe=function(t,r,n,a){var s,i=(s=Fk==null?void 0:Fk[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Nt(t)&&(a&&i.includes(r)||Xve.includes(r))||n&&BO.includes(r)},bt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!Yp(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;axe((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},TC=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return FM(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!e(s,i))return!1}else if(!FM(s,i))return!1}return!0},FM=function(t,r){if(Pt(t)&&Pt(r))return!0;if(!Pt(t)&&!Pt(r)){var n=t.props||{},a=n.children,s=DM(n,Qve),i=r.props||{},l=i.children,c=DM(i,Zve);return a&&l?cm(s,c)&&TC(a,l):!a&&!l?cm(s,c):!1}return!1},LM=function(t,r){var n=[],a={};return UO(t).forEach(function(s,i){if(rxe(s))n.push(s);else if(s){var l=oc(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,i);n.push(f),a[l]=!0}}}),n},sxe=function(t){var r=t&&t.type;return r&&RM[r]?RM[r]:null},ixe=function(t,r){return UO(r).indexOf(t)},oxe=["children","width","height","viewBox","className","style","title","desc"];function AC(){return AC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AC.apply(this,arguments)}function lxe(e,t){if(e==null)return{};var r=cxe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OC(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,i=e.style,l=e.title,c=e.desc,u=lxe(e,oxe),d=a||{width:r,height:n,x:0,y:0},f=Rt("recharts-surface",s);return ie.createElement("svg",AC({},bt(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ie.createElement("title",null,l),ie.createElement("desc",null,c),t)}var uxe=["children","className"];function PC(){return PC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PC.apply(this,arguments)}function dxe(e,t){if(e==null)return{};var r=fxe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ar=ie.forwardRef(function(e,t){var r=e.children,n=e.className,a=dxe(e,uxe),s=Rt("recharts-layer",n);return ie.createElement("g",PC({className:s},bt(a,!0),{ref:t}),r)}),Co=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function hxe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var mxe=hxe,pxe=mxe;function gxe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:pxe(e,t,r)}var vxe=gxe,xxe="\\ud800-\\udfff",yxe="\\u0300-\\u036f",bxe="\\ufe20-\\ufe2f",wxe="\\u20d0-\\u20ff",_xe=yxe+bxe+wxe,Sxe="\\ufe0e\\ufe0f",jxe="\\u200d",kxe=RegExp("["+jxe+xxe+_xe+Sxe+"]");function Nxe(e){return kxe.test(e)}var yW=Nxe;function Cxe(e){return e.split("")}var Exe=Cxe,bW="\\ud800-\\udfff",Txe="\\u0300-\\u036f",Axe="\\ufe20-\\ufe2f",Oxe="\\u20d0-\\u20ff",Pxe=Txe+Axe+Oxe,Dxe="\\ufe0e\\ufe0f",Rxe="["+bW+"]",DC="["+Pxe+"]",RC="\\ud83c[\\udffb-\\udfff]",Ixe="(?:"+DC+"|"+RC+")",wW="[^"+bW+"]",_W="(?:\\ud83c[\\udde6-\\uddff]){2}",SW="[\\ud800-\\udbff][\\udc00-\\udfff]",Mxe="\\u200d",jW=Ixe+"?",kW="["+Dxe+"]?",Fxe="(?:"+Mxe+"(?:"+[wW,_W,SW].join("|")+")"+kW+jW+")*",Lxe=kW+jW+Fxe,$xe="(?:"+[wW+DC+"?",DC,_W,SW,Rxe].join("|")+")",Bxe=RegExp(RC+"(?="+RC+")|"+$xe+Lxe,"g");function Uxe(e){return e.match(Bxe)||[]}var zxe=Uxe,Vxe=Exe,Wxe=yW,Hxe=zxe;function qxe(e){return Wxe(e)?Hxe(e):Vxe(e)}var Kxe=qxe,Gxe=vxe,Yxe=yW,Xxe=Kxe,Jxe=hW;function Qxe(e){return function(t){t=Jxe(t);var r=Yxe(t)?Xxe(t):void 0,n=r?r[0]:t.charAt(0),a=r?Gxe(r,1).join(""):t.slice(1);return n[e]()+a}}var Zxe=Qxe,eye=Zxe,tye=eye("toUpperCase"),rye=tye;const SS=fr(rye);function kr(e){return function(){return e}}const NW=Math.cos,q1=Math.sin,zo=Math.sqrt,K1=Math.PI,jS=2*K1,IC=Math.PI,MC=2*IC,Sd=1e-6,nye=MC-Sd;function CW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function aye(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return CW;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class sye{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?CW:aye(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-t,u=a-r,d=i-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Sd)if(!(Math.abs(f*c-u*d)>Sd)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-i,p=a-l,g=c*c+u*u,v=m*m+p*p,y=Math.sqrt(g),b=Math.sqrt(h),w=s*Math.tan((IC-Math.acos((g+h-v)/(2*y*b)))/2),_=w/b,S=w/y;Math.abs(_-1)>Sd&&this._append`L${t+_*d},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*m>d*p)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Sd||Math.abs(this._y1-d)>Sd)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%MC+MC),h>nye?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Sd&&this._append`A${n},${n},0,${+(h>=IC)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function zO(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new sye(t)}function VO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function EW(e){this._context=e}EW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function kS(e){return new EW(e)}function TW(e){return e[0]}function AW(e){return e[1]}function OW(e,t){var r=kr(!0),n=null,a=kS,s=null,i=zO(l);e=typeof e=="function"?e:e===void 0?TW:kr(e),t=typeof t=="function"?t:t===void 0?AW:kr(t);function l(c){var u,d=(c=VO(c)).length,f,h=!1,m;for(n==null&&(s=a(m=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:kr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:kr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:kr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function eb(e,t,r){var n=null,a=kr(!0),s=null,i=kS,l=null,c=zO(u);e=typeof e=="function"?e:e===void 0?TW:kr(+e),t=typeof t=="function"?t:kr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?AW:kr(+r);function u(f){var h,m,p,g=(f=VO(f)).length,v,y=!1,b,w=new Array(g),_=new Array(g);for(s==null&&(l=i(b=c())),h=0;h<=g;++h){if(!(h<g&&a(v=f[h],h,f))===y)if(y=!y)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(w[p],_[p]);l.lineEnd(),l.areaEnd()}y&&(w[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):_[h]))}if(b)return l=null,b+""||null}function d(){return OW().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:kr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:kr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:kr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:kr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:kr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:kr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:kr(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class PW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function iye(e){return new PW(e,!0)}function oye(e){return new PW(e,!1)}const WO={draw(e,t){const r=zo(t/K1);e.moveTo(r,0),e.arc(0,0,r,0,jS)}},lye={draw(e,t){const r=zo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},DW=zo(1/3),cye=DW*2,uye={draw(e,t){const r=zo(t/cye),n=r*DW;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},dye={draw(e,t){const r=zo(t),n=-r/2;e.rect(n,n,r,r)}},fye=.8908130915292852,RW=q1(K1/10)/q1(7*K1/10),hye=q1(jS/10)*RW,mye=-NW(jS/10)*RW,pye={draw(e,t){const r=zo(t*fye),n=hye*r,a=mye*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=jS*s/5,l=NW(i),c=q1(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},$k=zo(3),gye={draw(e,t){const r=-zo(t/($k*3));e.moveTo(0,r*2),e.lineTo(-$k*r,-r),e.lineTo($k*r,-r),e.closePath()}},_i=-.5,Si=zo(3)/2,FC=1/zo(12),vye=(FC/2+1)*3,xye={draw(e,t){const r=zo(t/vye),n=r/2,a=r*FC,s=n,i=r*FC+r,l=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(l,c),e.lineTo(_i*n-Si*a,Si*n+_i*a),e.lineTo(_i*s-Si*i,Si*s+_i*i),e.lineTo(_i*l-Si*c,Si*l+_i*c),e.lineTo(_i*n+Si*a,_i*a-Si*n),e.lineTo(_i*s+Si*i,_i*i-Si*s),e.lineTo(_i*l+Si*c,_i*c-Si*l),e.closePath()}};function yye(e,t){let r=null,n=zO(a);e=typeof e=="function"?e:kr(e||WO),t=typeof t=="function"?t:kr(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:kr(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:kr(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function G1(){}function Y1(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function IW(e){this._context=e}IW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Y1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Y1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bye(e){return new IW(e)}function MW(e){this._context=e}MW.prototype={areaStart:G1,areaEnd:G1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Y1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wye(e){return new MW(e)}function FW(e){this._context=e}FW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Y1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _ye(e){return new FW(e)}function LW(e){this._context=e}LW.prototype={areaStart:G1,areaEnd:G1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Sye(e){return new LW(e)}function $M(e){return e<0?-1:1}function BM(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return($M(s)+$M(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function UM(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Bk(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,i-l*r,s,i)}function X1(e){this._context=e}X1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bk(this,this._t0,UM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Bk(this,UM(this,r=BM(this,e,t)),r);break;default:Bk(this,this._t0,r=BM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function $W(e){this._context=new BW(e)}($W.prototype=Object.create(X1.prototype)).point=function(e,t){X1.prototype.point.call(this,t,e)};function BW(e){this._context=e}BW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function jye(e){return new X1(e)}function kye(e){return new $W(e)}function UW(e){this._context=e}UW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=zM(e),a=zM(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function zM(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function Nye(e){return new UW(e)}function NS(e,t){this._context=e,this._t=t}NS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Cye(e){return new NS(e,.5)}function Eye(e){return new NS(e,0)}function Tye(e){return new NS(e,1)}function Gm(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,l=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function LC(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Aye(e,t){return e[t]}function Oye(e){const t=[];return t.key=e,t}function Pye(){var e=kr([]),t=LC,r=Gm,n=Aye;function a(s){var i=Array.from(e.apply(this,arguments),Oye),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=VO(t(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:kr(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:kr(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?LC:typeof s=="function"?s:kr(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Gm,a):r},a}function Dye(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Gm(e,t)}}function Rye(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Gm(e,t)}}function Iye(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var g=e[t[p]],v=g[n][1]||0,y=g[n-1][1]||0;m+=v-y}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Gm(e,t)}}function yv(e){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(e)}var Mye=["type","size","sizeType"];function $C(){return $C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$C.apply(this,arguments)}function VM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(r),!0).forEach(function(n){Fye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fye(e,t,r){return t=Lye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lye(e){var t=$ye(e,"string");return yv(t)=="symbol"?t:t+""}function $ye(e,t){if(yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bye(e,t){if(e==null)return{};var r=Uye(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var zW={symbolCircle:WO,symbolCross:lye,symbolDiamond:uye,symbolSquare:dye,symbolStar:pye,symbolTriangle:gye,symbolWye:xye},zye=Math.PI/180,Vye=function(t){var r="symbol".concat(SS(t));return zW[r]||WO},Wye=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*zye;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Hye=function(t,r){zW["symbol".concat(SS(t))]=r},HO=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,i=t.sizeType,l=i===void 0?"area":i,c=Bye(t,Mye),u=WM(WM({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=Vye(n),y=yye().type(v).size(Wye(s,l,n));return y()},f=u.className,h=u.cx,m=u.cy,p=bt(u,!0);return h===+h&&m===+m&&s===+s?ie.createElement("path",$C({},p,{className:Rt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};HO.registerSymbol=Hye;function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function BC(){return BC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BC.apply(this,arguments)}function HM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(r),!0).forEach(function(n){bv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WW(n.key),n)}}function Yye(e,t,r){return t&&Gye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xye(e,t,r){return t=J1(t),Jye(e,VW()?Reflect.construct(t,r||[],J1(e).constructor):t.apply(e,r))}function Jye(e,t){if(t&&(Ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qye(e)}function Qye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VW=function(){return!!e})()}function J1(e){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J1(e)}function Zye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UC(e,t)}function UC(e,t){return UC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UC(e,t)}function bv(e,t,r){return t=WW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WW(e){var t=ebe(e,"string");return Ym(t)=="symbol"?t:t+""}function ebe(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ji=32,qO=function(e){function t(){return Kye(this,t),Xye(this,t,arguments)}return Zye(t,e),Yye(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=ji/2,i=ji/6,l=ji/3,c=n.inactive?a:n.color;if(n.type==="plainline")return ie.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:ji,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return ie.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(ji,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return ie.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ji/8,"h").concat(ji,"v").concat(ji*3/4,"h").concat(-ji,"z"),className:"recharts-legend-icon"});if(ie.isValidElement(n.legendIcon)){var u=qye({},n);return delete u.legendIcon,ie.cloneElement(n.legendIcon,u)}return ie.createElement(HO,{fill:c,cx:s,cy:s,size:ji,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ji,height:ji},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,p){var g=m.formatter||c,v=Rt(bv(bv({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=Nt(m.value)?null:m.value;Co(!Nt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return ie.createElement("li",BC({className:v,style:f,key:"legend-item-".concat(p)},kf(n.props,m,p)),ie.createElement(OC,{width:i,height:i,viewBox:d,style:h},n.renderIcon(m)),ie.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(y,m,p):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return ie.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);bv(qO,"displayName","Legend");bv(qO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var tbe=uS;function rbe(){this.__data__=new tbe,this.size=0}var nbe=rbe;function abe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var sbe=abe;function ibe(e){return this.__data__.get(e)}var obe=ibe;function lbe(e){return this.__data__.has(e)}var cbe=lbe,ube=uS,dbe=DO,fbe=RO,hbe=200;function mbe(e,t){var r=this.__data__;if(r instanceof ube){var n=r.__data__;if(!dbe||n.length<hbe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new fbe(n)}return r.set(e,t),this.size=r.size,this}var pbe=mbe,gbe=uS,vbe=nbe,xbe=sbe,ybe=obe,bbe=cbe,wbe=pbe;function e0(e){var t=this.__data__=new gbe(e);this.size=t.size}e0.prototype.clear=vbe;e0.prototype.delete=xbe;e0.prototype.get=ybe;e0.prototype.has=bbe;e0.prototype.set=wbe;var HW=e0,_be="__lodash_hash_undefined__";function Sbe(e){return this.__data__.set(e,_be),this}var jbe=Sbe;function kbe(e){return this.__data__.has(e)}var Nbe=kbe,Cbe=RO,Ebe=jbe,Tbe=Nbe;function Q1(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Cbe;++t<r;)this.add(e[t])}Q1.prototype.add=Q1.prototype.push=Ebe;Q1.prototype.has=Tbe;var qW=Q1;function Abe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var KW=Abe;function Obe(e,t){return e.has(t)}var GW=Obe,Pbe=qW,Dbe=KW,Rbe=GW,Ibe=1,Mbe=2;function Fbe(e,t,r,n,a,s){var i=r&Ibe,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&Mbe?new Pbe:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var p=e[f],g=t[f];if(n)var v=i?n(g,p,f,t,e,s):n(p,g,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!Dbe(t,function(y,b){if(!Rbe(m,b)&&(p===y||a(p,y,r,n,s)))return m.push(b)})){h=!1;break}}else if(!(p===g||a(p,g,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var YW=Fbe,Lbe=Pl,$be=Lbe.Uint8Array,Bbe=$be;function Ube(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var zbe=Ube;function Vbe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var KO=Vbe,qM=Fx,KM=Bbe,Wbe=PO,Hbe=YW,qbe=zbe,Kbe=KO,Gbe=1,Ybe=2,Xbe="[object Boolean]",Jbe="[object Date]",Qbe="[object Error]",Zbe="[object Map]",e1e="[object Number]",t1e="[object RegExp]",r1e="[object Set]",n1e="[object String]",a1e="[object Symbol]",s1e="[object ArrayBuffer]",i1e="[object DataView]",GM=qM?qM.prototype:void 0,Uk=GM?GM.valueOf:void 0;function o1e(e,t,r,n,a,s,i){switch(r){case i1e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case s1e:return!(e.byteLength!=t.byteLength||!s(new KM(e),new KM(t)));case Xbe:case Jbe:case e1e:return Wbe(+e,+t);case Qbe:return e.name==t.name&&e.message==t.message;case t1e:case n1e:return e==t+"";case Zbe:var l=qbe;case r1e:var c=n&Gbe;if(l||(l=Kbe),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=Ybe,i.set(e,t);var d=Hbe(l(e),l(t),n,a,s,i);return i.delete(e),d;case a1e:if(Uk)return Uk.call(e)==Uk.call(t)}return!1}var l1e=o1e;function c1e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var XW=c1e,u1e=XW,d1e=Ws;function f1e(e,t,r){var n=t(e);return d1e(e)?n:u1e(n,r(e))}var h1e=f1e;function m1e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s}var p1e=m1e;function g1e(){return[]}var v1e=g1e,x1e=p1e,y1e=v1e,b1e=Object.prototype,w1e=b1e.propertyIsEnumerable,YM=Object.getOwnPropertySymbols,_1e=YM?function(e){return e==null?[]:(e=Object(e),x1e(YM(e),function(t){return w1e.call(e,t)}))}:y1e,S1e=_1e;function j1e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var k1e=j1e,N1e=Tc,C1e=Ac,E1e="[object Arguments]";function T1e(e){return C1e(e)&&N1e(e)==E1e}var A1e=T1e,XM=A1e,O1e=Ac,JW=Object.prototype,P1e=JW.hasOwnProperty,D1e=JW.propertyIsEnumerable,R1e=XM(function(){return arguments}())?XM:function(e){return O1e(e)&&P1e.call(e,"callee")&&!D1e.call(e,"callee")},GO=R1e,Z1={exports:{}};function I1e(){return!1}var M1e=I1e;Z1.exports;(function(e,t){var r=Pl,n=M1e,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Z1,Z1.exports);var QW=Z1.exports,F1e=9007199254740991,L1e=/^(?:0|[1-9]\d*)$/;function $1e(e,t){var r=typeof e;return t=t??F1e,!!t&&(r=="number"||r!="symbol"&&L1e.test(e))&&e>-1&&e%1==0&&e<t}var YO=$1e,B1e=9007199254740991;function U1e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=B1e}var XO=U1e,z1e=Tc,V1e=XO,W1e=Ac,H1e="[object Arguments]",q1e="[object Array]",K1e="[object Boolean]",G1e="[object Date]",Y1e="[object Error]",X1e="[object Function]",J1e="[object Map]",Q1e="[object Number]",Z1e="[object Object]",ewe="[object RegExp]",twe="[object Set]",rwe="[object String]",nwe="[object WeakMap]",awe="[object ArrayBuffer]",swe="[object DataView]",iwe="[object Float32Array]",owe="[object Float64Array]",lwe="[object Int8Array]",cwe="[object Int16Array]",uwe="[object Int32Array]",dwe="[object Uint8Array]",fwe="[object Uint8ClampedArray]",hwe="[object Uint16Array]",mwe="[object Uint32Array]",Pr={};Pr[iwe]=Pr[owe]=Pr[lwe]=Pr[cwe]=Pr[uwe]=Pr[dwe]=Pr[fwe]=Pr[hwe]=Pr[mwe]=!0;Pr[H1e]=Pr[q1e]=Pr[awe]=Pr[K1e]=Pr[swe]=Pr[G1e]=Pr[Y1e]=Pr[X1e]=Pr[J1e]=Pr[Q1e]=Pr[Z1e]=Pr[ewe]=Pr[twe]=Pr[rwe]=Pr[nwe]=!1;function pwe(e){return W1e(e)&&V1e(e.length)&&!!Pr[z1e(e)]}var gwe=pwe;function vwe(e){return function(t){return e(t)}}var ZW=vwe,ew={exports:{}};ew.exports;(function(e,t){var r=oW,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(ew,ew.exports);var xwe=ew.exports,ywe=gwe,bwe=ZW,JM=xwe,QM=JM&&JM.isTypedArray,wwe=QM?bwe(QM):ywe,eH=wwe,_we=k1e,Swe=GO,jwe=Ws,kwe=QW,Nwe=YO,Cwe=eH,Ewe=Object.prototype,Twe=Ewe.hasOwnProperty;function Awe(e,t){var r=jwe(e),n=!r&&Swe(e),a=!r&&!n&&kwe(e),s=!r&&!n&&!a&&Cwe(e),i=r||n||a||s,l=i?_we(e.length,String):[],c=l.length;for(var u in e)(t||Twe.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Nwe(u,c)))&&l.push(u);return l}var Owe=Awe,Pwe=Object.prototype;function Dwe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Pwe;return e===r}var Rwe=Dwe;function Iwe(e,t){return function(r){return e(t(r))}}var tH=Iwe,Mwe=tH,Fwe=Mwe(Object.keys,Object),Lwe=Fwe,$we=Rwe,Bwe=Lwe,Uwe=Object.prototype,zwe=Uwe.hasOwnProperty;function Vwe(e){if(!$we(e))return Bwe(e);var t=[];for(var r in Object(e))zwe.call(e,r)&&r!="constructor"&&t.push(r);return t}var Wwe=Vwe,Hwe=OO,qwe=XO;function Kwe(e){return e!=null&&qwe(e.length)&&!Hwe(e)}var $x=Kwe,Gwe=Owe,Ywe=Wwe,Xwe=$x;function Jwe(e){return Xwe(e)?Gwe(e):Ywe(e)}var CS=Jwe,Qwe=h1e,Zwe=S1e,e_e=CS;function t_e(e){return Qwe(e,e_e,Zwe)}var r_e=t_e,ZM=r_e,n_e=1,a_e=Object.prototype,s_e=a_e.hasOwnProperty;function i_e(e,t,r,n,a,s){var i=r&n_e,l=ZM(e),c=l.length,u=ZM(t),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var h=l[f];if(!(i?h in t:s_e.call(t,h)))return!1}var m=s.get(e),p=s.get(t);if(m&&p)return m==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var v=i;++f<c;){h=l[f];var y=e[h],b=t[h];if(n)var w=i?n(b,y,h,t,e,s):n(y,b,h,e,t,s);if(!(w===void 0?y===b||a(y,b,r,n,s):w)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(g=!1)}return s.delete(e),s.delete(t),g}var o_e=i_e,l_e=Vf,c_e=Pl,u_e=l_e(c_e,"DataView"),d_e=u_e,f_e=Vf,h_e=Pl,m_e=f_e(h_e,"Promise"),p_e=m_e,g_e=Vf,v_e=Pl,x_e=g_e(v_e,"Set"),rH=x_e,y_e=Vf,b_e=Pl,w_e=y_e(b_e,"WeakMap"),__e=w_e,zC=d_e,VC=DO,WC=p_e,HC=rH,qC=__e,nH=Tc,t0=cW,eF="[object Map]",S_e="[object Object]",tF="[object Promise]",rF="[object Set]",nF="[object WeakMap]",aF="[object DataView]",j_e=t0(zC),k_e=t0(VC),N_e=t0(WC),C_e=t0(HC),E_e=t0(qC),jd=nH;(zC&&jd(new zC(new ArrayBuffer(1)))!=aF||VC&&jd(new VC)!=eF||WC&&jd(WC.resolve())!=tF||HC&&jd(new HC)!=rF||qC&&jd(new qC)!=nF)&&(jd=function(e){var t=nH(e),r=t==S_e?e.constructor:void 0,n=r?t0(r):"";if(n)switch(n){case j_e:return aF;case k_e:return eF;case N_e:return tF;case C_e:return rF;case E_e:return nF}return t});var T_e=jd,zk=HW,A_e=YW,O_e=l1e,P_e=o_e,sF=T_e,iF=Ws,oF=QW,D_e=eH,R_e=1,lF="[object Arguments]",cF="[object Array]",tb="[object Object]",I_e=Object.prototype,uF=I_e.hasOwnProperty;function M_e(e,t,r,n,a,s){var i=iF(e),l=iF(t),c=i?cF:sF(e),u=l?cF:sF(t);c=c==lF?tb:c,u=u==lF?tb:u;var d=c==tb,f=u==tb,h=c==u;if(h&&oF(e)){if(!oF(t))return!1;i=!0,d=!1}if(h&&!d)return s||(s=new zk),i||D_e(e)?A_e(e,t,r,n,a,s):O_e(e,t,c,r,n,a,s);if(!(r&R_e)){var m=d&&uF.call(e,"__wrapped__"),p=f&&uF.call(t,"__wrapped__");if(m||p){var g=m?e.value():e,v=p?t.value():t;return s||(s=new zk),a(g,v,r,n,s)}}return h?(s||(s=new zk),P_e(e,t,r,n,a,s)):!1}var F_e=M_e,L_e=F_e,dF=Ac;function aH(e,t,r,n,a){return e===t?!0:e==null||t==null||!dF(e)&&!dF(t)?e!==e&&t!==t:L_e(e,t,r,n,aH,a)}var JO=aH,$_e=HW,B_e=JO,U_e=1,z_e=2;function V_e(e,t,r,n){var a=r.length,s=a,i=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new $_e;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?B_e(d,u,U_e|z_e,n,f):h))return!1}}return!0}var W_e=V_e,H_e=rd;function q_e(e){return e===e&&!H_e(e)}var sH=q_e,K_e=sH,G_e=CS;function Y_e(e){for(var t=G_e(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,K_e(a)]}return t}var X_e=Y_e;function J_e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var iH=J_e,Q_e=W_e,Z_e=X_e,eSe=iH;function tSe(e){var t=Z_e(e);return t.length==1&&t[0][2]?eSe(t[0][0],t[0][1]):function(r){return r===e||Q_e(r,e,t)}}var rSe=tSe;function nSe(e,t){return e!=null&&t in Object(e)}var aSe=nSe,sSe=mW,iSe=GO,oSe=Ws,lSe=YO,cSe=XO,uSe=fS;function dSe(e,t,r){t=sSe(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var i=uSe(t[n]);if(!(s=e!=null&&r(e,i)))break;e=e[i]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&cSe(a)&&lSe(i,a)&&(oSe(e)||iSe(e)))}var fSe=dSe,hSe=aSe,mSe=fSe;function pSe(e,t){return e!=null&&mSe(e,t,hSe)}var gSe=pSe,vSe=JO,xSe=pW,ySe=gSe,bSe=AO,wSe=sH,_Se=iH,SSe=fS,jSe=1,kSe=2;function NSe(e,t){return bSe(e)&&wSe(t)?_Se(SSe(e),t):function(r){var n=xSe(r,e);return n===void 0&&n===t?ySe(r,e):vSe(t,n,jSe|kSe)}}var CSe=NSe;function ESe(e){return e}var r0=ESe;function TSe(e){return function(t){return t==null?void 0:t[e]}}var ASe=TSe,OSe=FO;function PSe(e){return function(t){return OSe(t,e)}}var DSe=PSe,RSe=ASe,ISe=DSe,MSe=AO,FSe=fS;function LSe(e){return MSe(e)?RSe(FSe(e)):ISe(e)}var $Se=LSe,BSe=rSe,USe=CSe,zSe=r0,VSe=Ws,WSe=$Se;function HSe(e){return typeof e=="function"?e:e==null?zSe:typeof e=="object"?VSe(e)?USe(e[0],e[1]):BSe(e):WSe(e)}var Dl=HSe;function qSe(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var oH=qSe;function KSe(e){return e!==e}var GSe=KSe;function YSe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var XSe=YSe,JSe=oH,QSe=GSe,ZSe=XSe;function eje(e,t,r){return t===t?ZSe(e,t,r):JSe(e,QSe,r)}var tje=eje,rje=tje;function nje(e,t){var r=e==null?0:e.length;return!!r&&rje(e,t,0)>-1}var aje=nje;function sje(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var ije=sje;function oje(){}var lje=oje,Vk=rH,cje=lje,uje=KO,dje=1/0,fje=Vk&&1/uje(new Vk([,-0]))[1]==dje?function(e){return new Vk(e)}:cje,hje=fje,mje=qW,pje=aje,gje=ije,vje=GW,xje=hje,yje=KO,bje=200;function wje(e,t,r){var n=-1,a=pje,s=e.length,i=!0,l=[],c=l;if(r)i=!1,a=gje;else if(s>=bje){var u=t?null:xje(e);if(u)return yje(u);i=!1,a=vje,c=new mje}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var _je=wje,Sje=Dl,jje=_je;function kje(e,t){return e&&e.length?jje(e,Sje(t)):[]}var Nje=kje;const fF=fr(Nje);function lH(e,t,r){return t===!0?fF(e,r):Nt(t)?fF(e,t):e}function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}var Cje=["ref"];function hF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hF(Object(r),!0).forEach(function(n){ES(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uH(n.key),n)}}function Tje(e,t,r){return t&&mF(e.prototype,t),r&&mF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Aje(e,t,r){return t=tw(t),Oje(e,cH()?Reflect.construct(t,r||[],tw(e).constructor):t.apply(e,r))}function Oje(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pje(e)}function Pje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!e})()}function tw(e){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tw(e)}function Dje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KC(e,t)}function KC(e,t){return KC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KC(e,t)}function ES(e,t,r){return t=uH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uH(e){var t=Rje(e,"string");return Xm(t)=="symbol"?t:t+""}function Rje(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ije(e,t){if(e==null)return{};var r=Mje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fje(e){return e.value}function Lje(e,t){if(ie.isValidElement(e))return ie.cloneElement(e,t);if(typeof e=="function")return ie.createElement(e,t);t.ref;var r=Ije(t,Cje);return ie.createElement(qO,r)}var pF=1,Eo=function(e){function t(){var r;Eje(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Aje(this,t,[].concat(a)),ES(r,"lastBoundingBox",{width:-1,height:-1}),r}return Dje(t,e),Tje(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>pF||Math.abs(a.height-this.lastBoundingBox.height)>pF)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?zl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();h={top:((d||0)-p.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return zl(zl({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=zl(zl({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ie.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},Lje(s,zl(zl({},this.props),{},{payload:lH(d,u,Fje)})))}}],[{key:"getWithHeight",value:function(n,a){var s=zl(zl({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&Ke(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(x.PureComponent);ES(Eo,"displayName","Legend");ES(Eo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var gF=Fx,$je=GO,Bje=Ws,vF=gF?gF.isConcatSpreadable:void 0;function Uje(e){return Bje(e)||$je(e)||!!(vF&&e&&e[vF])}var zje=Uje,Vje=XW,Wje=zje;function dH(e,t,r,n,a){var s=-1,i=e.length;for(r||(r=Wje),a||(a=[]);++s<i;){var l=e[s];t>0&&r(l)?t>1?dH(l,t-1,r,n,a):Vje(a,l):n||(a[a.length]=l)}return a}var fH=dH;function Hje(e){return function(t,r,n){for(var a=-1,s=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var qje=Hje,Kje=qje,Gje=Kje(),Yje=Gje,Xje=Yje,Jje=CS;function Qje(e,t){return e&&Xje(e,t,Jje)}var hH=Qje,Zje=$x;function eke(e,t){return function(r,n){if(r==null)return r;if(!Zje(r))return e(r,n);for(var a=r.length,s=t?a:-1,i=Object(r);(t?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var tke=eke,rke=hH,nke=tke,ake=nke(rke),QO=ake,ske=QO,ike=$x;function oke(e,t){var r=-1,n=ike(e)?Array(e.length):[];return ske(e,function(a,s,i){n[++r]=t(a,s,i)}),n}var mH=oke;function lke(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var cke=lke,xF=Gp;function uke(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=xF(e),i=t!==void 0,l=t===null,c=t===t,u=xF(t);if(!l&&!u&&!s&&e>t||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var dke=uke,fke=dke;function hke(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,i=a.length,l=r.length;++n<i;){var c=fke(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var mke=hke,Wk=MO,pke=FO,gke=Dl,vke=mH,xke=cke,yke=ZW,bke=mke,wke=r0,_ke=Ws;function Ske(e,t,r){t.length?t=Wk(t,function(s){return _ke(s)?function(i){return pke(i,s.length===1?s[0]:s)}:s}):t=[wke];var n=-1;t=Wk(t,yke(gke));var a=vke(e,function(s,i,l){var c=Wk(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return xke(a,function(s,i){return bke(s,i,r)})}var jke=Ske;function kke(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Nke=kke,Cke=Nke,yF=Math.max;function Eke(e,t,r){return t=yF(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=yF(n.length-t,0),i=Array(s);++a<s;)i[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(i),Cke(e,this,l)}}var Tke=Eke;function Ake(e){return function(){return e}}var Oke=Ake,Pke=Vf,Dke=function(){try{var e=Pke(Object,"defineProperty");return e({},"",{}),e}catch{}}(),pH=Dke,Rke=Oke,bF=pH,Ike=r0,Mke=bF?function(e,t){return bF(e,"toString",{configurable:!0,enumerable:!1,value:Rke(t),writable:!0})}:Ike,Fke=Mke,Lke=800,$ke=16,Bke=Date.now;function Uke(e){var t=0,r=0;return function(){var n=Bke(),a=$ke-(n-r);if(r=n,a>0){if(++t>=Lke)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var zke=Uke,Vke=Fke,Wke=zke,Hke=Wke(Vke),qke=Hke,Kke=r0,Gke=Tke,Yke=qke;function Xke(e,t){return Yke(Gke(e,t,Kke),e+"")}var Jke=Xke,Qke=PO,Zke=$x,eNe=YO,tNe=rd;function rNe(e,t,r){if(!tNe(r))return!1;var n=typeof t;return(n=="number"?Zke(r)&&eNe(t,r.length):n=="string"&&t in r)?Qke(r[t],e):!1}var TS=rNe,nNe=fH,aNe=jke,sNe=Jke,wF=TS,iNe=sNe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&wF(e,t[0],t[1])?t=[]:r>2&&wF(t[0],t[1],t[2])&&(t=[t[0]]),aNe(e,nNe(t,1),[])}),oNe=iNe;const ZO=fr(oNe);function wv(e){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wv(e)}function GC(){return GC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GC.apply(this,arguments)}function lNe(e,t){return fNe(e)||dNe(e,t)||uNe(e,t)||cNe()}function cNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uNe(e,t){if(e){if(typeof e=="string")return _F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _F(e,t)}}function _F(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function fNe(e){if(Array.isArray(e))return e}function SF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SF(Object(r),!0).forEach(function(n){hNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hNe(e,t,r){return t=mNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mNe(e){var t=pNe(e,"string");return wv(t)=="symbol"?t:t+""}function pNe(e,t){if(wv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gNe(e){return Array.isArray(e)&&Fn(e[0])&&Fn(e[1])?e.join(" ~ "):e}var vNe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,i=t.itemStyle,l=i===void 0?{}:i,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,p=t.labelClassName,g=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(d&&d.length){var A={padding:0,margin:0},H=(h?ZO(d,h):d).map(function(X,L){if(X.type==="none")return null;var I=Hk({display:"block",paddingTop:4,paddingBottom:4,color:X.color||"#000"},l),W=X.formatter||f||gNe,F=X.value,M=X.name,G=F,Q=M;if(W&&G!=null&&Q!=null){var E=W(F,M,X,L,d);if(Array.isArray(E)){var B=lNe(E,2);G=B[0],Q=B[1]}else G=E}return ie.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:I},Fn(Q)?ie.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Fn(Q)?ie.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ie.createElement("span",{className:"recharts-tooltip-item-value"},G),ie.createElement("span",{className:"recharts-tooltip-item-unit"},X.unit||""))});return ie.createElement("ul",{className:"recharts-tooltip-item-list",style:A},H)}return null},_=Hk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=Hk({margin:0},u),k=!Pt(g),j=k?g:"",N=Rt("recharts-default-tooltip",m),C=Rt("recharts-tooltip-label",p);k&&v&&d!==void 0&&d!==null&&(j=v(g,d));var T=b?{role:"status","aria-live":"assertive"}:{};return ie.createElement("div",GC({className:N,style:_},T),ie.createElement("p",{className:C,style:S},ie.isValidElement(j)?j:"".concat(j)),w())};function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}function rb(e,t,r){return t=xNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xNe(e){var t=yNe(e,"string");return _v(t)=="symbol"?t:t+""}function yNe(e,t){if(_v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A0="recharts-tooltip-wrapper",bNe={visibility:"hidden"};function wNe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Rt(A0,rb(rb(rb(rb({},"".concat(A0,"-right"),Ke(r)&&t&&Ke(t.x)&&r>=t.x),"".concat(A0,"-left"),Ke(r)&&t&&Ke(t.x)&&r<t.x),"".concat(A0,"-bottom"),Ke(n)&&t&&Ke(t.y)&&n>=t.y),"".concat(A0,"-top"),Ke(n)&&t&&Ke(t.y)&&n<t.y))}function jF(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&Ke(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return i[n]?d:f;if(i[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var p=f+l,g=c[n]+u;return p>g?Math.max(d,c[n]):Math.max(f,c[n])}function _Ne(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function SNe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,i=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=jF({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=jF({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=_Ne({translateX:d,translateY:f,useTranslate3d:l})):u=bNe,{cssProperties:u,cssClasses:wNe({translateX:d,translateY:f,coordinate:r})}}function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function kF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kF(Object(r),!0).forEach(function(n){XC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vH(n.key),n)}}function NNe(e,t,r){return t&&kNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CNe(e,t,r){return t=rw(t),ENe(e,gH()?Reflect.construct(t,r||[],rw(e).constructor):t.apply(e,r))}function ENe(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TNe(e)}function TNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gH=function(){return!!e})()}function rw(e){return rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rw(e)}function ANe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YC(e,t)}function YC(e,t){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YC(e,t)}function XC(e,t,r){return t=vH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vH(e){var t=ONe(e,"string");return Jm(t)=="symbol"?t:t+""}function ONe(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CF=1,PNe=function(e){function t(){var r;jNe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=CNe(this,t,[].concat(a)),XC(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),XC(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return ANe(t,e),NNe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>CF||Math.abs(n.height-this.state.lastBoundingBox.height)>CF)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,p=a.position,g=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,w=SNe({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:m,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),_=w.cssClasses,S=w.cssProperties,k=NF(NF({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return ie.createElement("div",{tabIndex:-1,className:_,style:k,ref:function(N){n.wrapperNode=N}},u)}}])}(x.PureComponent),DNe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ml={isSsr:DNe(),get:function(t){return ml[t]},set:function(t,r){if(typeof t=="string")ml[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){ml[a]=t[a]})}}};function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function EF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EF(Object(r),!0).forEach(function(n){eP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function INe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yH(n.key),n)}}function MNe(e,t,r){return t&&INe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FNe(e,t,r){return t=nw(t),LNe(e,xH()?Reflect.construct(t,r||[],nw(e).constructor):t.apply(e,r))}function LNe(e,t){if(t&&(Qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ne(e)}function $Ne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xH=function(){return!!e})()}function nw(e){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nw(e)}function BNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JC(e,t)}function JC(e,t){return JC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JC(e,t)}function eP(e,t,r){return t=yH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yH(e){var t=UNe(e,"string");return Qm(t)=="symbol"?t:t+""}function UNe(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zNe(e){return e.dataKey}function VNe(e,t){return ie.isValidElement(e)?ie.cloneElement(e,t):typeof e=="function"?ie.createElement(e,t):ie.createElement(vNe,t)}var Qa=function(e){function t(){return RNe(this,t),FNe(this,t,arguments)}return BNe(t,e),MNe(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,p=a.payload,g=a.payloadUniqBy,v=a.position,y=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,_=a.wrapperStyle,S=p??[];f&&S.length&&(S=lH(p.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),g,zNe));var k=S.length>0;return ie.createElement(PNe,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:k,offset:m,position:v,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:_},VNe(u,TF(TF({},this.props),{},{payload:S})))}}])}(x.PureComponent);eP(Qa,"displayName","Tooltip");eP(Qa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ml.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var WNe=Pl,HNe=function(){return WNe.Date.now()},qNe=HNe,KNe=/\s/;function GNe(e){for(var t=e.length;t--&&KNe.test(e.charAt(t)););return t}var YNe=GNe,XNe=YNe,JNe=/^\s+/;function QNe(e){return e&&e.slice(0,XNe(e)+1).replace(JNe,"")}var ZNe=QNe,e2e=ZNe,AF=rd,t2e=Gp,OF=NaN,r2e=/^[-+]0x[0-9a-f]+$/i,n2e=/^0b[01]+$/i,a2e=/^0o[0-7]+$/i,s2e=parseInt;function i2e(e){if(typeof e=="number")return e;if(t2e(e))return OF;if(AF(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=AF(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e2e(e);var r=n2e.test(e);return r||a2e.test(e)?s2e(e.slice(2),r?2:8):r2e.test(e)?OF:+e}var bH=i2e,o2e=rd,qk=qNe,PF=bH,l2e="Expected a function",c2e=Math.max,u2e=Math.min;function d2e(e,t,r){var n,a,s,i,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(l2e);t=PF(t)||0,o2e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?c2e(PF(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(k){var j=n,N=a;return n=a=void 0,u=k,i=e.apply(N,j),i}function p(k){return u=k,l=setTimeout(y,t),d?m(k):i}function g(k){var j=k-c,N=k-u,C=t-j;return f?u2e(C,s-N):C}function v(k){var j=k-c,N=k-u;return c===void 0||j>=t||j<0||f&&N>=s}function y(){var k=qk();if(v(k))return b(k);l=setTimeout(y,g(k))}function b(k){return l=void 0,h&&n?m(k):(n=a=void 0,i)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?i:b(qk())}function S(){var k=qk(),j=v(k);if(n=arguments,a=this,c=k,j){if(l===void 0)return p(c);if(f)return clearTimeout(l),l=setTimeout(y,t),m(c)}return l===void 0&&(l=setTimeout(y,t)),i}return S.cancel=w,S.flush=_,S}var f2e=d2e,h2e=f2e,m2e=rd,p2e="Expected a function";function g2e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(p2e);return m2e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),h2e(e,t,{leading:n,maxWait:t,trailing:a})}var v2e=g2e;const wH=fr(v2e);function Sv(e){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(e)}function DF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DF(Object(r),!0).forEach(function(n){x2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x2e(e,t,r){return t=y2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y2e(e){var t=b2e(e,"string");return Sv(t)=="symbol"?t:t+""}function b2e(e,t){if(Sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w2e(e,t){return k2e(e)||j2e(e,t)||S2e(e,t)||_2e()}function _2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S2e(e,t){if(e){if(typeof e=="string")return RF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RF(e,t)}}function RF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function k2e(e){if(Array.isArray(e))return e}var n0=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,i=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,p=e.debounce,g=p===void 0?0:p,v=e.id,y=e.className,b=e.onResize,w=e.style,_=w===void 0?{}:w,S=x.useRef(null),k=x.useRef();k.current=b,x.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var j=x.useState({containerWidth:a.width,containerHeight:a.height}),N=w2e(j,2),C=N[0],T=N[1],D=x.useCallback(function(H,X){T(function(L){var I=Math.round(H),W=Math.round(X);return L.containerWidth===I&&L.containerHeight===W?L:{containerWidth:I,containerHeight:W}})},[]);x.useEffect(function(){var H=function(M){var G,Q=M[0].contentRect,E=Q.width,B=Q.height;D(E,B),(G=k.current)===null||G===void 0||G.call(k,E,B)};g>0&&(H=wH(H,g,{trailing:!0,leading:!1}));var X=new ResizeObserver(H),L=S.current.getBoundingClientRect(),I=L.width,W=L.height;return D(I,W),X.observe(S.current),function(){X.disconnect()}},[D,g]);var A=x.useMemo(function(){var H=C.containerWidth,X=C.containerHeight;if(H<0||X<0)return null;Co(Ld(i)||Ld(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),Co(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Ld(i)?H:i,I=Ld(c)?X:c;r&&r>0&&(L?I=L/r:I&&(L=I*r),h&&I>h&&(I=h)),Co(L>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,I,i,c,d,f,r);var W=!Array.isArray(m)&&oc(m.type).endsWith("Chart");return ie.Children.map(m,function(F){return ie.isValidElement(F)?x.cloneElement(F,nb({width:L,height:I},W?{style:nb({height:"100%",width:"100%",maxHeight:I,maxWidth:L},F.props.style)}:{})):F})},[r,m,c,h,f,d,C,i]);return ie.createElement("div",{id:v?"".concat(v):void 0,className:Rt("recharts-responsive-container",y),style:nb(nb({},_),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},A)}),sl=function(t){return null};sl.displayName="Cell";function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}function IF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IF(Object(r),!0).forEach(function(n){N2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N2e(e,t,r){return t=C2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C2e(e){var t=E2e(e,"string");return jv(t)=="symbol"?t:t+""}function E2e(e,t){if(jv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mh={widthCache:{},cacheCount:0},T2e=2e3,A2e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MF="recharts_measurement_span";function O2e(e){var t=QC({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var jg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ml.isSsr)return{width:0,height:0};var n=O2e(r),a=JSON.stringify({text:t,copyStyle:n});if(mh.widthCache[a])return mh.widthCache[a];try{var s=document.getElementById(MF);s||(s=document.createElement("span"),s.setAttribute("id",MF),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=QC(QC({},A2e),n);Object.assign(s.style,i),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return mh.widthCache[a]=c,++mh.cacheCount>T2e&&(mh.cacheCount=0,mh.widthCache={}),c}catch{return{width:0,height:0}}},P2e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kv(e)}function aw(e,t){return M2e(e)||I2e(e,t)||R2e(e,t)||D2e()}function D2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R2e(e,t){if(e){if(typeof e=="string")return FF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FF(e,t)}}function FF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function M2e(e){if(Array.isArray(e))return e}function F2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$2e(n.key),n)}}function L2e(e,t,r){return t&&LF(e.prototype,t),r&&LF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $2e(e){var t=B2e(e,"string");return kv(t)=="symbol"?t:t+""}function B2e(e,t){if(kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $F=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,U2e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,z2e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_H={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},V2e=Object.keys(_H),qh="NaN";function W2e(e,t){return e*_H[t]}var ab=function(){function e(t,r){F2e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!U2e.test(r)&&(this.num=NaN,this.unit=""),V2e.includes(r)&&(this.num=W2e(t,r),this.unit="px")}return L2e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=z2e.exec(r))!==null&&n!==void 0?n:[],s=aw(a,3),i=s[1],l=s[2];return new e(parseFloat(i),l??"")}}])}();function SH(e){if(e.includes(qh))return qh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=$F.exec(t))!==null&&r!==void 0?r:[],a=aw(n,4),s=a[1],i=a[2],l=a[3],c=ab.parse(s??""),u=ab.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return qh;t=t.replace($F,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=BF.exec(t))!==null&&f!==void 0?f:[],m=aw(h,4),p=m[1],g=m[2],v=m[3],y=ab.parse(p??""),b=ab.parse(v??""),w=g==="+"?y.add(b):y.subtract(b);if(w.isNaN())return qh;t=t.replace(BF,w.toString())}return t}var UF=/\(([^()]*)\)/;function H2e(e){for(var t=e;t.includes("(");){var r=UF.exec(t),n=aw(r,2),a=n[1];t=t.replace(UF,SH(a))}return t}function q2e(e){var t=e.replace(/\s+/g,"");return t=H2e(t),t=SH(t),t}function K2e(e){try{return q2e(e)}catch{return qh}}function Kk(e){var t=K2e(e.slice(5,-1));return t===qh?"":t}var G2e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Y2e=["dx","dy","angle","className","breakAll"];function ZC(){return ZC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZC.apply(this,arguments)}function zF(e,t){if(e==null)return{};var r=X2e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VF(e,t){return eCe(e)||Z2e(e,t)||Q2e(e,t)||J2e()}function J2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q2e(e,t){if(e){if(typeof e=="string")return WF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WF(e,t)}}function WF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function eCe(e){if(Array.isArray(e))return e}var jH=/[ \f\n\r\t\v\u2028\u2029]+/,kH=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Pt(r)||(n?s=r.toString().split(""):s=r.toString().split(jH));var i=s.map(function(c){return{word:c,width:jg(c,a).width}}),l=n?0:jg("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},tCe=function(t,r,n,a,s){var i=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ke(i),f=l,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(I,W){var F=W.word,M=W.width,G=I[I.length-1];if(G&&(a==null||s||G.width+M+n<Number(a)))G.words.push(F),G.width+=M+n;else{var Q={words:[F],width:M};I.push(Q)}return I},[])},m=h(r),p=function(L){return L.reduce(function(I,W){return I.width>W.width?I:W})};if(!d)return m;for(var g="",v=function(L){var I=f.slice(0,L),W=kH({breakAll:u,style:c,children:I+g}).wordsWithComputedWidth,F=h(W),M=F.length>i||p(F).width>Number(a);return[M,F]},y=0,b=f.length-1,w=0,_;y<=b&&w<=f.length-1;){var S=Math.floor((y+b)/2),k=S-1,j=v(k),N=VF(j,2),C=N[0],T=N[1],D=v(S),A=VF(D,1),H=A[0];if(!C&&!H&&(y=S+1),C&&H&&(b=S-1),!C&&H){_=T;break}w++}return _||m},HF=function(t){var r=Pt(t)?[]:t.toString().split(jH);return[{words:r}]},rCe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,i=t.breakAll,l=t.maxLines;if((r||n)&&!ml.isSsr){var c,u,d=kH({breakAll:i,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return HF(a);return tCe({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return HF(a)},qF="#808080",Nf=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.lineHeight,l=i===void 0?"1em":i,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,p=t.verticalAnchor,g=p===void 0?"end":p,v=t.fill,y=v===void 0?qF:v,b=zF(t,G2e),w=x.useMemo(function(){return rCe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),_=b.dx,S=b.dy,k=b.angle,j=b.className,N=b.breakAll,C=zF(b,Y2e);if(!Fn(n)||!Fn(s))return null;var T=n+(Ke(_)?_:0),D=s+(Ke(S)?S:0),A;switch(g){case"start":A=Kk("calc(".concat(u,")"));break;case"middle":A=Kk("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:A=Kk("calc(".concat(w.length-1," * -").concat(l,")"));break}var H=[];if(f){var X=w[0].width,L=b.width;H.push("scale(".concat((Ke(L)?L/X:1)/X,")"))}return k&&H.push("rotate(".concat(k,", ").concat(T,", ").concat(D,")")),H.length&&(C.transform=H.join(" ")),ie.createElement("text",ZC({},bt(C,!0),{x:T,y:D,className:Rt("recharts-text",j),textAnchor:m,fill:y.includes("url")?qF:y}),w.map(function(I,W){var F=I.words.join(N?"":" ");return ie.createElement("tspan",{x:T,dy:W===0?A:l,key:"".concat(F,"-").concat(W)},F)}))};function Du(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nCe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tP(e){let t,r,n;e.length!==2?(t=Du,r=(l,c)=>Du(e(l),c),n=(l,c)=>e(l)-c):(t=e===Du||e===nCe?e:aCe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function aCe(){return 0}function NH(e){return e===null?NaN:+e}function*sCe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const iCe=tP(Du),Bx=iCe.right;tP(NH).center;class KF extends Map{constructor(t,r=cCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(GF(this,t))}has(t){return super.has(GF(this,t))}set(t,r){return super.set(oCe(this,t),r)}delete(t){return super.delete(lCe(this,t))}}function GF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function oCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function lCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function cCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function uCe(e=Du){if(e===Du)return CH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function CH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const dCe=Math.sqrt(50),fCe=Math.sqrt(10),hCe=Math.sqrt(2);function sw(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=dCe?10:s>=fCe?5:s>=hCe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?sw(e,t,r*2):[l,c,u]}function eE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?sw(t,e,r):sw(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function tE(e,t,r){return t=+t,e=+e,r=+r,sw(e,t,r)[2]}function rE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?tE(t,e,r):tE(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function YF(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function XF(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function EH(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?CH:uCe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));EH(e,t,m,p,a)}const s=e[t];let i=r,l=n;for(O0(e,r,t),a(e[n],s)>0&&O0(e,r,n);i<l;){for(O0(e,i,l),++i,--l;a(e[i],s)<0;)++i;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?O0(e,r,l):(++l,O0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function O0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function mCe(e,t,r){if(e=Float64Array.from(sCe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return XF(e);if(t>=1)return YF(e);var n,a=(n-1)*t,s=Math.floor(a),i=YF(EH(e,s).subarray(0,s+1)),l=XF(e.subarray(s+1));return i+(l-i)*(a-s)}}function pCe(e,t,r=NH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return i+(l-i)*(a-s)}}function gCe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function qi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Oc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const nE=Symbol("implicit");function rP(){var e=new KF,t=[],r=[],n=nE;function a(s){let i=e.get(s);if(i===void 0){if(n!==nE)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new KF;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return rP(t,r).unknown(n)},qi.apply(a,arguments),a}function Nv(){var e=rP().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,g=m?n:a;s=(g-p)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),p+=(g-p-s*(h-c))*d,i=s*(1-c),l&&(p=Math.round(p),i=Math.round(i));var v=gCe(h).map(function(y){return p+s*y});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Nv(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},qi.apply(f(),arguments)}function TH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return TH(t())},e}function kg(){return TH(Nv.apply(null,arguments).paddingInner(1))}function nP(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function AH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ux(){}var Cv=.7,iw=1/Cv,um="\\s*([+-]?\\d+)\\s*",Ev="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vCe=/^#([0-9a-f]{3,8})$/,xCe=new RegExp(`^rgb\\(${um},${um},${um}\\)$`),yCe=new RegExp(`^rgb\\(${pl},${pl},${pl}\\)$`),bCe=new RegExp(`^rgba\\(${um},${um},${um},${Ev}\\)$`),wCe=new RegExp(`^rgba\\(${pl},${pl},${pl},${Ev}\\)$`),_Ce=new RegExp(`^hsl\\(${Ev},${pl},${pl}\\)$`),SCe=new RegExp(`^hsla\\(${Ev},${pl},${pl},${Ev}\\)$`),JF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nP(Ux,Tv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:QF,formatHex:QF,formatHex8:jCe,formatHsl:kCe,formatRgb:ZF,toString:ZF});function QF(){return this.rgb().formatHex()}function jCe(){return this.rgb().formatHex8()}function kCe(){return OH(this).formatHsl()}function ZF(){return this.rgb().formatRgb()}function Tv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=vCe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?e3(t):r===3?new ks(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?sb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?sb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xCe.exec(e))?new ks(t[1],t[2],t[3],1):(t=yCe.exec(e))?new ks(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=bCe.exec(e))?sb(t[1],t[2],t[3],t[4]):(t=wCe.exec(e))?sb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_Ce.exec(e))?n3(t[1],t[2]/100,t[3]/100,1):(t=SCe.exec(e))?n3(t[1],t[2]/100,t[3]/100,t[4]):JF.hasOwnProperty(e)?e3(JF[e]):e==="transparent"?new ks(NaN,NaN,NaN,0):null}function e3(e){return new ks(e>>16&255,e>>8&255,e&255,1)}function sb(e,t,r,n){return n<=0&&(e=t=r=NaN),new ks(e,t,r,n)}function NCe(e){return e instanceof Ux||(e=Tv(e)),e?(e=e.rgb(),new ks(e.r,e.g,e.b,e.opacity)):new ks}function aE(e,t,r,n){return arguments.length===1?NCe(e):new ks(e,t,r,n??1)}function ks(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}nP(ks,aE,AH(Ux,{brighter(e){return e=e==null?iw:Math.pow(iw,e),new ks(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cv:Math.pow(Cv,e),new ks(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ks(of(this.r),of(this.g),of(this.b),ow(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t3,formatHex:t3,formatHex8:CCe,formatRgb:r3,toString:r3}));function t3(){return`#${$d(this.r)}${$d(this.g)}${$d(this.b)}`}function CCe(){return`#${$d(this.r)}${$d(this.g)}${$d(this.b)}${$d((isNaN(this.opacity)?1:this.opacity)*255)}`}function r3(){const e=ow(this.opacity);return`${e===1?"rgb(":"rgba("}${of(this.r)}, ${of(this.g)}, ${of(this.b)}${e===1?")":`, ${e})`}`}function ow(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function of(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $d(e){return e=of(e),(e<16?"0":"")+e.toString(16)}function n3(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new yo(e,t,r,n)}function OH(e){if(e instanceof yo)return new yo(e.h,e.s,e.l,e.opacity);if(e instanceof Ux||(e=Tv(e)),!e)return new yo;if(e instanceof yo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(t===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new yo(i,l,c,e.opacity)}function ECe(e,t,r,n){return arguments.length===1?OH(e):new yo(e,t,r,n??1)}function yo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}nP(yo,ECe,AH(Ux,{brighter(e){return e=e==null?iw:Math.pow(iw,e),new yo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cv:Math.pow(Cv,e),new yo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ks(Gk(e>=240?e-240:e+120,a,n),Gk(e,a,n),Gk(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new yo(a3(this.h),ib(this.s),ib(this.l),ow(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ow(this.opacity);return`${e===1?"hsl(":"hsla("}${a3(this.h)}, ${ib(this.s)*100}%, ${ib(this.l)*100}%${e===1?")":`, ${e})`}`}}));function a3(e){return e=(e||0)%360,e<0?e+360:e}function ib(e){return Math.max(0,Math.min(1,e||0))}function Gk(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const aP=e=>()=>e;function TCe(e,t){return function(r){return e+r*t}}function ACe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function OCe(e){return(e=+e)==1?PH:function(t,r){return r-t?ACe(t,r,e):aP(isNaN(t)?r:t)}}function PH(e,t){var r=t-e;return r?TCe(e,r):aP(isNaN(e)?t:e)}const s3=function e(t){var r=OCe(t);function n(a,s){var i=r((a=aE(a)).r,(s=aE(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=PH(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function PCe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function DCe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function RCe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=a0(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function ICe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function lw(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function MCe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=a0(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var sE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yk=new RegExp(sE.source,"g");function FCe(e){return function(){return e}}function LCe(e){return function(t){return e(t)+""}}function $Ce(e,t){var r=sE.lastIndex=Yk.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=sE.exec(e))&&(a=Yk.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:lw(n,a)})),r=Yk.lastIndex;return r<t.length&&(s=t.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?LCe(c[0].x):FCe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function a0(e,t){var r=typeof t,n;return t==null||r==="boolean"?aP(t):(r==="number"?lw:r==="string"?(n=Tv(t))?(t=n,s3):$Ce:t instanceof Tv?s3:t instanceof Date?ICe:DCe(t)?PCe:Array.isArray(t)?RCe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?MCe:lw)(e,t)}function sP(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function BCe(e,t){t===void 0&&(t=e,e=a0);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function UCe(e){return function(){return e}}function cw(e){return+e}var i3=[0,1];function is(e){return e}function iE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:UCe(isNaN(t)?NaN:.5)}function zCe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function VCe(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=iE(a,n),s=r(i,s)):(n=iE(n,a),s=r(s,i)),function(l){return s(n(l))}}function WCe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=iE(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(l){var c=Bx(e,l,1,n)-1;return s[c](a[c](l))}}function zx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function AS(){var e=i3,t=i3,r=a0,n,a,s,i=is,l,c,u;function d(){var h=Math.min(e.length,t.length);return i!==is&&(i=zCe(e[0],e[h-1])),l=h>2?WCe:VCe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((u||(u=l(t,e.map(n),lw)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,cw),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=sP,d()},f.clamp=function(h){return arguments.length?(i=h?!0:is,d()):i!==is},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function iP(){return AS()(is,is)}function HCe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function uw(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Zm(e){return e=uw(Math.abs(e)),e?e[1]:NaN}function qCe(e,t){return function(r,n){for(var a=r.length,s=[],i=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return s.reverse().join(t)}}function KCe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var GCe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Av(e){if(!(t=GCe.exec(e)))throw new Error("invalid format: "+e);var t;return new oP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Av.prototype=oP.prototype;function oP(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}oP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function YCe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var DH;function XCe(e,t){var r=uw(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(DH=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+uw(e,Math.max(0,t+s-1))[0]}function o3(e,t){var r=uw(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const l3={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:HCe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>o3(e*100,t),r:o3,s:XCe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function c3(e){return e}var u3=Array.prototype.map,d3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function JCe(e){var t=e.grouping===void 0||e.thousands===void 0?c3:qCe(u3.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?c3:KCe(u3.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Av(f);var h=f.fill,m=f.align,p=f.sign,g=f.symbol,v=f.zero,y=f.width,b=f.comma,w=f.precision,_=f.trim,S=f.type;S==="n"?(b=!0,S="g"):l3[S]||(w===void 0&&(w=12),_=!0,S="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var k=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",j=g==="$"?n:/[%p]/.test(S)?i:"",N=l3[S],C=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(D){var A=k,H=j,X,L,I;if(S==="c")H=N(D)+H,D="";else{D=+D;var W=D<0||1/D<0;if(D=isNaN(D)?c:N(Math.abs(D),w),_&&(D=YCe(D)),W&&+D==0&&p!=="+"&&(W=!1),A=(W?p==="("?p:l:p==="-"||p==="("?"":p)+A,H=(S==="s"?d3[8+DH/3]:"")+H+(W&&p==="("?")":""),C){for(X=-1,L=D.length;++X<L;)if(I=D.charCodeAt(X),48>I||I>57){H=(I===46?a+D.slice(X+1):D.slice(X))+H,D=D.slice(0,X);break}}}b&&!v&&(D=t(D,1/0));var F=A.length+D.length+H.length,M=F<y?new Array(y-F+1).join(h):"";switch(b&&v&&(D=t(M+D,M.length?y-H.length:1/0),M=""),m){case"<":D=A+D+H+M;break;case"=":D=A+M+D+H;break;case"^":D=M.slice(0,F=M.length>>1)+A+D+H+M.slice(F);break;default:D=M+A+D+H;break}return s(D)}return T.toString=function(){return f+""},T}function d(f,h){var m=u((f=Av(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Zm(h)/3)))*3,g=Math.pow(10,-p),v=d3[8+p/3];return function(y){return m(g*y)+v}}return{format:u,formatPrefix:d}}var ob,lP,RH;QCe({thousands:",",grouping:[3],currency:["$",""]});function QCe(e){return ob=JCe(e),lP=ob.format,RH=ob.formatPrefix,ob}function ZCe(e){return Math.max(0,-Zm(Math.abs(e)))}function eEe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zm(t)/3)))*3-Zm(Math.abs(e)))}function tEe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zm(t)-Zm(e))+1}function IH(e,t,r,n){var a=rE(e,t,r),s;switch(n=Av(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=eEe(a,i))&&(n.precision=s),RH(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=tEe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=ZCe(a))&&(n.precision=s-(n.type==="%")*2);break}}return lP(n)}function nd(e){var t=e.domain;return e.ticks=function(r){var n=t();return eE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return IH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=tE(i,l,r),u===c)return n[a]=i,n[s]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function dw(){var e=iP();return e.copy=function(){return zx(e,dw())},qi.apply(e,arguments),nd(e)}function MH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,cw),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return MH(e).unknown(t)},e=arguments.length?Array.from(e,cw):[0,1],nd(r)}function FH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function f3(e){return Math.log(e)}function h3(e){return Math.exp(e)}function rEe(e){return-Math.log(-e)}function nEe(e){return-Math.exp(-e)}function aEe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function sEe(e){return e===10?aEe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function iEe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function m3(e){return(t,r)=>-e(-t,r)}function cP(e){const t=e(f3,h3),r=t.domain;let n=10,a,s;function i(){return a=iEe(n),s=sEe(n),r()[0]<0?(a=m3(a),s=m3(s),e(rEe,nEe)):e(f3,h3),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),p,g;const v=l==null?10:+l;let y=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(g=h<0?p/s(-h):p*s(h),!(g<u)){if(g>d)break;y.push(g)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/s(-h):p*s(h),!(g<u)){if(g>d)break;y.push(g)}y.length*2<v&&(y=eE(u,d,v))}else y=eE(h,m,Math.min(m-h,v)).map(s);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Av(c)).precision==null&&(c.trim=!0),c=lP(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(FH(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function LH(){const e=cP(AS()).domain([1,10]);return e.copy=()=>zx(e,LH()).base(e.base()),qi.apply(e,arguments),e}function p3(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function g3(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function uP(e){var t=1,r=e(p3(t),g3(t));return r.constant=function(n){return arguments.length?e(p3(t=+n),g3(t)):t},nd(r)}function $H(){var e=uP(AS());return e.copy=function(){return zx(e,$H()).constant(e.constant())},qi.apply(e,arguments)}function v3(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function oEe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function lEe(e){return e<0?-e*e:e*e}function dP(e){var t=e(is,is),r=1;function n(){return r===1?e(is,is):r===.5?e(oEe,lEe):e(v3(r),v3(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},nd(t)}function fP(){var e=dP(AS());return e.copy=function(){return zx(e,fP()).exponent(e.exponent())},qi.apply(e,arguments),e}function cEe(){return fP.apply(null,arguments).exponent(.5)}function x3(e){return Math.sign(e)*e*e}function uEe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function BH(){var e=iP(),t=[0,1],r=!1,n;function a(s){var i=uEe(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(x3(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,cw)).map(x3)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return BH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},qi.apply(a,arguments),nd(a)}function UH(){var e=[],t=[],r=[],n;function a(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=pCe(e,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:t[Bx(r,i)]}return s.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Du),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return UH().domain(e).range(t).unknown(n)},qi.apply(s,arguments)}function zH(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[Bx(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return zH().domain([e,t]).range(a).unknown(s)},qi.apply(nd(i),arguments)}function VH(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Bx(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return VH().domain(e).range(t).unknown(r)},qi.apply(a,arguments)}const Xk=new Date,Jk=new Date;function Bn(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<i);return c},a.filter=s=>Bn(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!s(i););else for(;--l>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(Xk.setTime(+s),Jk.setTime(+i),e(Xk),e(Jk),Math.floor(r(Xk,Jk))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const fw=Bn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fw.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Bn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):fw);fw.range;const tc=1e3,Fi=tc*60,rc=Fi*60,wc=rc*24,hP=wc*7,y3=wc*30,Qk=wc*365,Bd=Bn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*tc)},(e,t)=>(t-e)/tc,e=>e.getUTCSeconds());Bd.range;const mP=Bn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tc)},(e,t)=>{e.setTime(+e+t*Fi)},(e,t)=>(t-e)/Fi,e=>e.getMinutes());mP.range;const pP=Bn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fi)},(e,t)=>(t-e)/Fi,e=>e.getUTCMinutes());pP.range;const gP=Bn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tc-e.getMinutes()*Fi)},(e,t)=>{e.setTime(+e+t*rc)},(e,t)=>(t-e)/rc,e=>e.getHours());gP.range;const vP=Bn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rc)},(e,t)=>(t-e)/rc,e=>e.getUTCHours());vP.range;const Vx=Bn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fi)/wc,e=>e.getDate()-1);Vx.range;const OS=Bn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wc,e=>e.getUTCDate()-1);OS.range;const WH=Bn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wc,e=>Math.floor(e/wc));WH.range;function Wf(e){return Bn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Fi)/hP)}const PS=Wf(0),hw=Wf(1),dEe=Wf(2),fEe=Wf(3),ep=Wf(4),hEe=Wf(5),mEe=Wf(6);PS.range;hw.range;dEe.range;fEe.range;ep.range;hEe.range;mEe.range;function Hf(e){return Bn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/hP)}const DS=Hf(0),mw=Hf(1),pEe=Hf(2),gEe=Hf(3),tp=Hf(4),vEe=Hf(5),xEe=Hf(6);DS.range;mw.range;pEe.range;gEe.range;tp.range;vEe.range;xEe.range;const xP=Bn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());xP.range;const yP=Bn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());yP.range;const _c=Bn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_c.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});_c.range;const Sc=Bn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Sc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Sc.range;function HH(e,t,r,n,a,s){const i=[[Bd,1,tc],[Bd,5,5*tc],[Bd,15,15*tc],[Bd,30,30*tc],[s,1,Fi],[s,5,5*Fi],[s,15,15*Fi],[s,30,30*Fi],[a,1,rc],[a,3,3*rc],[a,6,6*rc],[a,12,12*rc],[n,1,wc],[n,2,2*wc],[r,1,hP],[t,1,y3],[t,3,3*y3],[e,1,Qk]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=tP(([,,v])=>v).right(i,h);if(m===i.length)return e.every(rE(u/Qk,d/Qk,f));if(m===0)return fw.every(Math.max(rE(u,d,f),1));const[p,g]=i[h/i[m-1][2]<i[m][2]/h?m-1:m];return p.every(g)}return[l,c]}const[yEe,bEe]=HH(Sc,yP,DS,WH,vP,pP),[wEe,_Ee]=HH(_c,xP,PS,Vx,gP,mP);function Zk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function eN(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function P0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function SEe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=D0(a),d=R0(a),f=D0(s),h=R0(s),m=D0(i),p=R0(i),g=D0(l),v=R0(l),y=D0(c),b=R0(c),w={a:W,A:F,b:M,B:G,c:null,d:k3,e:k3,f:qEe,g:rTe,G:aTe,H:VEe,I:WEe,j:HEe,L:qH,m:KEe,M:GEe,p:Q,q:E,Q:E3,s:T3,S:YEe,u:XEe,U:JEe,V:QEe,w:ZEe,W:eTe,x:null,X:null,y:tTe,Y:nTe,Z:sTe,"%":C3},_={a:B,A:U,b:q,B:ee,c:null,d:N3,e:N3,f:cTe,g:yTe,G:wTe,H:iTe,I:oTe,j:lTe,L:GH,m:uTe,M:dTe,p:oe,q:ge,Q:E3,s:T3,S:fTe,u:hTe,U:mTe,V:pTe,w:gTe,W:vTe,x:null,X:null,y:xTe,Y:bTe,Z:_Te,"%":C3},S={a:T,A:D,b:A,B:H,c:X,d:S3,e:S3,f:$Ee,g:_3,G:w3,H:j3,I:j3,j:IEe,L:LEe,m:REe,M:MEe,p:C,q:DEe,Q:UEe,s:zEe,S:FEe,u:EEe,U:TEe,V:AEe,w:CEe,W:OEe,x:L,X:I,y:_3,Y:w3,Z:PEe,"%":BEe};w.x=k(r,w),w.X=k(n,w),w.c=k(t,w),_.x=k(r,_),_.X=k(n,_),_.c=k(t,_);function k(se,Z){return function(he){var P=[],De=-1,Re=0,Me=se.length,Be,Oe,ht;for(he instanceof Date||(he=new Date(+he));++De<Me;)se.charCodeAt(De)===37&&(P.push(se.slice(Re,De)),(Oe=b3[Be=se.charAt(++De)])!=null?Be=se.charAt(++De):Oe=Be==="e"?" ":"0",(ht=Z[Be])&&(Be=ht(he,Oe)),P.push(Be),Re=De+1);return P.push(se.slice(Re,De)),P.join("")}}function j(se,Z){return function(he){var P=P0(1900,void 0,1),De=N(P,se,he+="",0),Re,Me;if(De!=he.length)return null;if("Q"in P)return new Date(P.Q);if("s"in P)return new Date(P.s*1e3+("L"in P?P.L:0));if(Z&&!("Z"in P)&&(P.Z=0),"p"in P&&(P.H=P.H%12+P.p*12),P.m===void 0&&(P.m="q"in P?P.q:0),"V"in P){if(P.V<1||P.V>53)return null;"w"in P||(P.w=1),"Z"in P?(Re=eN(P0(P.y,0,1)),Me=Re.getUTCDay(),Re=Me>4||Me===0?mw.ceil(Re):mw(Re),Re=OS.offset(Re,(P.V-1)*7),P.y=Re.getUTCFullYear(),P.m=Re.getUTCMonth(),P.d=Re.getUTCDate()+(P.w+6)%7):(Re=Zk(P0(P.y,0,1)),Me=Re.getDay(),Re=Me>4||Me===0?hw.ceil(Re):hw(Re),Re=Vx.offset(Re,(P.V-1)*7),P.y=Re.getFullYear(),P.m=Re.getMonth(),P.d=Re.getDate()+(P.w+6)%7)}else("W"in P||"U"in P)&&("w"in P||(P.w="u"in P?P.u%7:"W"in P?1:0),Me="Z"in P?eN(P0(P.y,0,1)).getUTCDay():Zk(P0(P.y,0,1)).getDay(),P.m=0,P.d="W"in P?(P.w+6)%7+P.W*7-(Me+5)%7:P.w+P.U*7-(Me+6)%7);return"Z"in P?(P.H+=P.Z/100|0,P.M+=P.Z%100,eN(P)):Zk(P)}}function N(se,Z,he,P){for(var De=0,Re=Z.length,Me=he.length,Be,Oe;De<Re;){if(P>=Me)return-1;if(Be=Z.charCodeAt(De++),Be===37){if(Be=Z.charAt(De++),Oe=S[Be in b3?Z.charAt(De++):Be],!Oe||(P=Oe(se,he,P))<0)return-1}else if(Be!=he.charCodeAt(P++))return-1}return P}function C(se,Z,he){var P=u.exec(Z.slice(he));return P?(se.p=d.get(P[0].toLowerCase()),he+P[0].length):-1}function T(se,Z,he){var P=m.exec(Z.slice(he));return P?(se.w=p.get(P[0].toLowerCase()),he+P[0].length):-1}function D(se,Z,he){var P=f.exec(Z.slice(he));return P?(se.w=h.get(P[0].toLowerCase()),he+P[0].length):-1}function A(se,Z,he){var P=y.exec(Z.slice(he));return P?(se.m=b.get(P[0].toLowerCase()),he+P[0].length):-1}function H(se,Z,he){var P=g.exec(Z.slice(he));return P?(se.m=v.get(P[0].toLowerCase()),he+P[0].length):-1}function X(se,Z,he){return N(se,t,Z,he)}function L(se,Z,he){return N(se,r,Z,he)}function I(se,Z,he){return N(se,n,Z,he)}function W(se){return i[se.getDay()]}function F(se){return s[se.getDay()]}function M(se){return c[se.getMonth()]}function G(se){return l[se.getMonth()]}function Q(se){return a[+(se.getHours()>=12)]}function E(se){return 1+~~(se.getMonth()/3)}function B(se){return i[se.getUTCDay()]}function U(se){return s[se.getUTCDay()]}function q(se){return c[se.getUTCMonth()]}function ee(se){return l[se.getUTCMonth()]}function oe(se){return a[+(se.getUTCHours()>=12)]}function ge(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Z=k(se+="",w);return Z.toString=function(){return se},Z},parse:function(se){var Z=j(se+="",!1);return Z.toString=function(){return se},Z},utcFormat:function(se){var Z=k(se+="",_);return Z.toString=function(){return se},Z},utcParse:function(se){var Z=j(se+="",!0);return Z.toString=function(){return se},Z}}}var b3={"-":"",_:" ",0:"0"},Xn=/^\s*\d+/,jEe=/^%/,kEe=/[\\^$*+?|[\]().{}]/g;function sr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function NEe(e){return e.replace(kEe,"\\$&")}function D0(e){return new RegExp("^(?:"+e.map(NEe).join("|")+")","i")}function R0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function CEe(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function EEe(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function TEe(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function AEe(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function OEe(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function w3(e,t,r){var n=Xn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function _3(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function PEe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function DEe(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function REe(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function S3(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function IEe(e,t,r){var n=Xn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function j3(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function MEe(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function FEe(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function LEe(e,t,r){var n=Xn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $Ee(e,t,r){var n=Xn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function BEe(e,t,r){var n=jEe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function UEe(e,t,r){var n=Xn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function zEe(e,t,r){var n=Xn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function k3(e,t){return sr(e.getDate(),t,2)}function VEe(e,t){return sr(e.getHours(),t,2)}function WEe(e,t){return sr(e.getHours()%12||12,t,2)}function HEe(e,t){return sr(1+Vx.count(_c(e),e),t,3)}function qH(e,t){return sr(e.getMilliseconds(),t,3)}function qEe(e,t){return qH(e,t)+"000"}function KEe(e,t){return sr(e.getMonth()+1,t,2)}function GEe(e,t){return sr(e.getMinutes(),t,2)}function YEe(e,t){return sr(e.getSeconds(),t,2)}function XEe(e){var t=e.getDay();return t===0?7:t}function JEe(e,t){return sr(PS.count(_c(e)-1,e),t,2)}function KH(e){var t=e.getDay();return t>=4||t===0?ep(e):ep.ceil(e)}function QEe(e,t){return e=KH(e),sr(ep.count(_c(e),e)+(_c(e).getDay()===4),t,2)}function ZEe(e){return e.getDay()}function eTe(e,t){return sr(hw.count(_c(e)-1,e),t,2)}function tTe(e,t){return sr(e.getFullYear()%100,t,2)}function rTe(e,t){return e=KH(e),sr(e.getFullYear()%100,t,2)}function nTe(e,t){return sr(e.getFullYear()%1e4,t,4)}function aTe(e,t){var r=e.getDay();return e=r>=4||r===0?ep(e):ep.ceil(e),sr(e.getFullYear()%1e4,t,4)}function sTe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sr(t/60|0,"0",2)+sr(t%60,"0",2)}function N3(e,t){return sr(e.getUTCDate(),t,2)}function iTe(e,t){return sr(e.getUTCHours(),t,2)}function oTe(e,t){return sr(e.getUTCHours()%12||12,t,2)}function lTe(e,t){return sr(1+OS.count(Sc(e),e),t,3)}function GH(e,t){return sr(e.getUTCMilliseconds(),t,3)}function cTe(e,t){return GH(e,t)+"000"}function uTe(e,t){return sr(e.getUTCMonth()+1,t,2)}function dTe(e,t){return sr(e.getUTCMinutes(),t,2)}function fTe(e,t){return sr(e.getUTCSeconds(),t,2)}function hTe(e){var t=e.getUTCDay();return t===0?7:t}function mTe(e,t){return sr(DS.count(Sc(e)-1,e),t,2)}function YH(e){var t=e.getUTCDay();return t>=4||t===0?tp(e):tp.ceil(e)}function pTe(e,t){return e=YH(e),sr(tp.count(Sc(e),e)+(Sc(e).getUTCDay()===4),t,2)}function gTe(e){return e.getUTCDay()}function vTe(e,t){return sr(mw.count(Sc(e)-1,e),t,2)}function xTe(e,t){return sr(e.getUTCFullYear()%100,t,2)}function yTe(e,t){return e=YH(e),sr(e.getUTCFullYear()%100,t,2)}function bTe(e,t){return sr(e.getUTCFullYear()%1e4,t,4)}function wTe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?tp(e):tp.ceil(e),sr(e.getUTCFullYear()%1e4,t,4)}function _Te(){return"+0000"}function C3(){return"%"}function E3(e){return+e}function T3(e){return Math.floor(+e/1e3)}var ph,XH,JH;STe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function STe(e){return ph=SEe(e),XH=ph.format,ph.parse,JH=ph.utcFormat,ph.utcParse,ph}function jTe(e){return new Date(e)}function kTe(e){return e instanceof Date?+e:+new Date(+e)}function bP(e,t,r,n,a,s,i,l,c,u){var d=iP(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),g=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),b=u("%b %d"),w=u("%B"),_=u("%Y");function S(k){return(c(k)<k?m:l(k)<k?p:i(k)<k?g:s(k)<k?v:n(k)<k?a(k)<k?y:b:r(k)<k?w:_)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,kTe)):h().map(jTe)},d.ticks=function(k){var j=h();return e(j[0],j[j.length-1],k??10)},d.tickFormat=function(k,j){return j==null?S:u(j)},d.nice=function(k){var j=h();return(!k||typeof k.range!="function")&&(k=t(j[0],j[j.length-1],k??10)),k?h(FH(j,k)):d},d.copy=function(){return zx(d,bP(e,t,r,n,a,s,i,l,c,u))},d}function NTe(){return qi.apply(bP(wEe,_Ee,_c,xP,PS,Vx,gP,mP,Bd,XH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function CTe(){return qi.apply(bP(yEe,bEe,Sc,yP,DS,OS,vP,pP,Bd,JH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function RS(){var e=0,t=1,r,n,a,s,i=is,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,i=f(m,p),u):[i(0),i(1)]}}return u.range=d(a0),u.rangeRound=d(sP),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function ad(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function QH(){var e=nd(RS()(is));return e.copy=function(){return ad(e,QH())},Oc.apply(e,arguments)}function ZH(){var e=cP(RS()).domain([1,10]);return e.copy=function(){return ad(e,ZH()).base(e.base())},Oc.apply(e,arguments)}function eq(){var e=uP(RS());return e.copy=function(){return ad(e,eq()).constant(e.constant())},Oc.apply(e,arguments)}function wP(){var e=dP(RS());return e.copy=function(){return ad(e,wP()).exponent(e.exponent())},Oc.apply(e,arguments)}function ETe(){return wP.apply(null,arguments).exponent(.5)}function tq(){var e=[],t=is;function r(n){if(n!=null&&!isNaN(n=+n))return t((Bx(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Du),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>mCe(e,s/n))},r.copy=function(){return tq(t).domain(e)},Oc.apply(r,arguments)}function IS(){var e=0,t=.5,r=1,n=1,a,s,i,l,c,u=is,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-s)*(n*g<n*s?l:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),s=d(t=+t),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function p(g){return function(v){var y,b,w;return arguments.length?([y,b,w]=v,u=BCe(g,[y,b,w]),m):[u(0),u(.5),u(1)]}}return m.range=p(a0),m.rangeRound=p(sP),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,a=g(e),s=g(t),i=g(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m}}function rq(){var e=nd(IS()(is));return e.copy=function(){return ad(e,rq())},Oc.apply(e,arguments)}function nq(){var e=cP(IS()).domain([.1,1,10]);return e.copy=function(){return ad(e,nq()).base(e.base())},Oc.apply(e,arguments)}function aq(){var e=uP(IS());return e.copy=function(){return ad(e,aq()).constant(e.constant())},Oc.apply(e,arguments)}function _P(){var e=dP(IS());return e.copy=function(){return ad(e,_P()).exponent(e.exponent())},Oc.apply(e,arguments)}function TTe(){return _P.apply(null,arguments).exponent(.5)}const A3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nv,scaleDiverging:rq,scaleDivergingLog:nq,scaleDivergingPow:_P,scaleDivergingSqrt:TTe,scaleDivergingSymlog:aq,scaleIdentity:MH,scaleImplicit:nE,scaleLinear:dw,scaleLog:LH,scaleOrdinal:rP,scalePoint:kg,scalePow:fP,scaleQuantile:UH,scaleQuantize:zH,scaleRadial:BH,scaleSequential:QH,scaleSequentialLog:ZH,scaleSequentialPow:wP,scaleSequentialQuantile:tq,scaleSequentialSqrt:ETe,scaleSequentialSymlog:eq,scaleSqrt:cEe,scaleSymlog:$H,scaleThreshold:VH,scaleTime:NTe,scaleUtc:CTe,tickFormat:IH},Symbol.toStringTag,{value:"Module"}));var ATe=Gp;function OTe(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],i=t(s);if(i!=null&&(l===void 0?i===i&&!ATe(i):r(i,l)))var l=i,c=s}return c}var MS=OTe;function PTe(e,t){return e>t}var sq=PTe,DTe=MS,RTe=sq,ITe=r0;function MTe(e){return e&&e.length?DTe(e,ITe,RTe):void 0}var FTe=MTe;const FS=fr(FTe);function LTe(e,t){return e<t}var iq=LTe,$Te=MS,BTe=iq,UTe=r0;function zTe(e){return e&&e.length?$Te(e,UTe,BTe):void 0}var VTe=zTe;const LS=fr(VTe);var WTe=MO,HTe=Dl,qTe=mH,KTe=Ws;function GTe(e,t){var r=KTe(e)?WTe:qTe;return r(e,HTe(t))}var YTe=GTe,XTe=fH,JTe=YTe;function QTe(e,t){return XTe(JTe(e,t),1)}var ZTe=QTe;const eAe=fr(ZTe);var tAe=JO;function rAe(e,t){return tAe(e,t)}var nAe=rAe;const Wx=fr(nAe);var s0=1e9,aAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jP,Br=!0,Vi="[DecimalError] ",lf=Vi+"Invalid argument: ",SP=Vi+"Exponent out of range: ",i0=Math.floor,kd=Math.pow,sAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ai,Vn=1e7,Dr=7,oq=9007199254740991,pw=i0(oq/Dr),rt={};rt.absoluteValue=rt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};rt.comparedTo=rt.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};rt.decimalPlaces=rt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Dr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};rt.dividedBy=rt.div=function(e){return lc(this,new this.constructor(e))};rt.dividedToIntegerBy=rt.idiv=function(e){var t=this,r=t.constructor;return wr(lc(t,new r(e),0,1),r.precision)};rt.equals=rt.eq=function(e){return!this.cmp(e)};rt.exponent=function(){return Sn(this)};rt.greaterThan=rt.gt=function(e){return this.cmp(e)>0};rt.greaterThanOrEqualTo=rt.gte=function(e){return this.cmp(e)>=0};rt.isInteger=rt.isint=function(){return this.e>this.d.length-2};rt.isNegative=rt.isneg=function(){return this.s<0};rt.isPositive=rt.ispos=function(){return this.s>0};rt.isZero=function(){return this.s===0};rt.lessThan=rt.lt=function(e){return this.cmp(e)<0};rt.lessThanOrEqualTo=rt.lte=function(e){return this.cmp(e)<1};rt.logarithm=rt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ai))throw Error(Vi+"NaN");if(r.s<1)throw Error(Vi+(r.s?"NaN":"-Infinity"));return r.eq(ai)?new n(0):(Br=!1,t=lc(Ov(r,s),Ov(e,s),s),Br=!0,wr(t,a))};rt.minus=rt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uq(t,e):lq(t,(e.s=-e.s,e))};rt.modulo=rt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Vi+"NaN");return r.s?(Br=!1,t=lc(r,e,0,1).times(e),Br=!0,r.minus(t)):wr(new n(r),a)};rt.naturalExponential=rt.exp=function(){return cq(this)};rt.naturalLogarithm=rt.ln=function(){return Ov(this)};rt.negated=rt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};rt.plus=rt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?lq(t,e):uq(t,(e.s=-e.s,e))};rt.precision=rt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(lf+e);if(t=Sn(a)+1,n=a.d.length-1,r=n*Dr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};rt.squareRoot=rt.sqrt=function(){var e,t,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Vi+"NaN")}for(e=Sn(l),Br=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=cl(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=i0((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(lc(l,s,i+2)).times(.5),cl(s.d).slice(0,i)===(t=cl(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(wr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;i+=4}return Br=!0,wr(n,r)};rt.times=rt.mul=function(e){var t,r,n,a,s,i,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%Vn|0,t=l/Vn|0;s[a]=(s[a]+t)%Vn|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Br?wr(e,f.precision):e};rt.toDecimalPlaces=rt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(jl(e,0,s0),t===void 0?t=n.rounding:jl(t,0,8),wr(r,e+Sn(r)+1,t))};rt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Cf(n,!0):(jl(e,0,s0),t===void 0?t=a.rounding:jl(t,0,8),n=wr(new a(n),e+1,t),r=Cf(n,!0,e+1)),r};rt.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Cf(a):(jl(e,0,s0),t===void 0?t=s.rounding:jl(t,0,8),n=wr(new s(a),e+Sn(a)+1,t),r=Cf(n.abs(),!1,e+Sn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};rt.toInteger=rt.toint=function(){var e=this,t=e.constructor;return wr(new t(e),Sn(e)+1,t.rounding)};rt.toNumber=function(){return+this};rt.toPower=rt.pow=function(e){var t,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ai);if(l=new c(l),!l.s){if(e.s<1)throw Error(Vi+"Infinity");return l}if(l.eq(ai))return l;if(n=c.precision,e.eq(ai))return wr(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=l.s,i){if((r=d<0?-d:d)<=oq){for(a=new c(ai),t=Math.ceil(n/Dr+4),Br=!1;r%2&&(a=a.times(l),P3(a.d,t)),r=i0(r/2),r!==0;)l=l.times(l),P3(l.d,t);return Br=!0,e.s<0?new c(ai).div(a):wr(a,n)}}else if(s<0)throw Error(Vi+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Br=!1,a=e.times(Ov(l,n+u)),Br=!0,a=cq(a),a.s=s,a};rt.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Sn(a),n=Cf(a,r<=s.toExpNeg||r>=s.toExpPos)):(jl(e,1,s0),t===void 0?t=s.rounding:jl(t,0,8),a=wr(new s(a),e,t),r=Sn(a),n=Cf(a,e<=r||r<=s.toExpNeg,e)),n};rt.toSignificantDigits=rt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(jl(e,1,s0),t===void 0?t=n.rounding:jl(t,0,8)),wr(new n(r),e,t)};rt.toString=rt.valueOf=rt.val=rt.toJSON=rt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Sn(e),r=e.constructor;return Cf(e,t<=r.toExpNeg||t>=r.toExpPos)};function lq(e,t){var r,n,a,s,i,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Br?wr(t,f):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/Dr),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Vn|0,c[s]%=Vn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Br?wr(t,f):t}function jl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(lf+e)}function cl(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=Dr-n.length,r&&(s+=Kc(r)),s+=n;i=e[t],n=i+"",r=Dr-n.length,r&&(s+=Kc(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var lc=function(){function e(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%Vn|0,i=s/Vn|0;return i&&n.unshift(i),n}function t(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*Vn+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,h,m,p,g,v,y,b,w,_,S,k,j,N,C=n.constructor,T=n.s==a.s?1:-1,D=n.d,A=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(Vi+"Division by zero");for(c=n.e-a.e,j=A.length,S=D.length,m=new C(T),p=m.d=[],u=0;A[u]==(D[u]||0);)++u;if(A[u]>(D[u]||0)&&--c,s==null?b=s=C.precision:i?b=s+(Sn(n)-Sn(a))+1:b=s,b<0)return new C(0);if(b=b/Dr+2|0,u=0,j==1)for(d=0,A=A[0],b++;(u<S||d)&&b--;u++)w=d*Vn+(D[u]||0),p[u]=w/A|0,d=w%A|0;else{for(d=Vn/(A[0]+1)|0,d>1&&(A=e(A,d),D=e(D,d),j=A.length,S=D.length),_=j,g=D.slice(0,j),v=g.length;v<j;)g[v++]=0;N=A.slice(),N.unshift(0),k=A[0],A[1]>=Vn/2&&++k;do d=0,l=t(A,g,j,v),l<0?(y=g[0],j!=v&&(y=y*Vn+(g[1]||0)),d=y/k|0,d>1?(d>=Vn&&(d=Vn-1),f=e(A,d),h=f.length,v=g.length,l=t(f,g,h,v),l==1&&(d--,r(f,j<h?N:A,h))):(d==0&&(l=d=1),f=A.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),l==-1&&(v=g.length,l=t(A,g,j,v),l<1&&(d++,r(g,j<v?N:A,v))),v=g.length):l===0&&(d++,g=[0]),p[u++]=d,l&&g[0]?g[v++]=D[_]||0:(g=[D[_]],v=1);while((_++<S||g[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=c,wr(m,i?s+Sn(m)+1:s)}}();function cq(e,t){var r,n,a,s,i,l,c=0,u=0,d=e.constructor,f=d.precision;if(Sn(e)>16)throw Error(SP+Sn(e));if(!e.s)return new d(ai);for(t==null?(Br=!1,l=f):l=t,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(kd(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(ai),d.precision=l;;){if(a=wr(a.times(e),l),r=r.times(++c),i=s.plus(lc(a,r,l)),cl(i.d).slice(0,l)===cl(s.d).slice(0,l)){for(;u--;)s=wr(s.times(s),l);return d.precision=f,t==null?(Br=!0,wr(s,f)):s}s=i}}function Sn(e){for(var t=e.e*Dr,r=e.d[0];r>=10;r/=10)t++;return t}function tN(e,t,r){if(t>e.LN10.sd())throw Br=!0,r&&(e.precision=r),Error(Vi+"LN10 precision limit exceeded");return wr(new e(e.LN10),t)}function Kc(e){for(var t="";e--;)t+="0";return t}function Ov(e,t){var r,n,a,s,i,l,c,u,d,f=1,h=10,m=e,p=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Vi+(m.s?"NaN":"-Infinity"));if(m.eq(ai))return new g(0);if(t==null?(Br=!1,u=v):u=t,m.eq(10))return t==null&&(Br=!0),tN(g,u);if(u+=h,g.precision=u,r=cl(p),n=r.charAt(0),s=Sn(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=cl(m.d),n=r.charAt(0),f++;s=Sn(m),n>1?(m=new g("0."+r),s++):m=new g(n+"."+r.slice(1))}else return c=tN(g,u+2,v).times(s+""),m=Ov(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=v,t==null?(Br=!0,wr(m,v)):m;for(l=i=m=lc(m.minus(ai),m.plus(ai),u),d=wr(m.times(m),u),a=3;;){if(i=wr(i.times(d),u),c=l.plus(lc(i,new g(a),u)),cl(c.d).slice(0,u)===cl(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(tN(g,u+2,v).times(s+""))),l=lc(l,new g(f),u),g.precision=v,t==null?(Br=!0,wr(l,v)):l;l=c,a+=2}}function O3(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=i0(r/Dr),e.d=[],n=(r+1)%Dr,r<0&&(n+=Dr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Dr;n<a;)e.d.push(+t.slice(n,n+=Dr));t=t.slice(n),n=Dr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Br&&(e.e>pw||e.e<-pw))throw Error(SP+r)}else e.s=0,e.e=0,e.d=[0];return e}function wr(e,t,r){var n,a,s,i,l,c,u,d,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=Dr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Dr),s=f.length,d>=s)return e;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Dr,a=n-Dr+i}if(r!==void 0&&(s=kd(10,i-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/kd(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Sn(e),f.length=1,t=t-s-1,f[0]=kd(10,(Dr-t%Dr)%Dr),e.e=i0(-t/Dr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=kd(10,Dr-n),f[d]=a>0?(u/kd(10,i-a)%kd(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Vn&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Vn)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Br&&(e.e>pw||e.e<-pw))throw Error(SP+Sn(e));return e}function uq(e,t){var r,n,a,s,i,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Br?wr(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Dr),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=Vn-1;--c[s],c[a]+=Vn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Br?wr(t,m):t):new h(0)}function Cf(e,t,r){var n,a=Sn(e),s=cl(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+Kc(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Kc(-a-1)+s,r&&(n=r-i)>0&&(s+=Kc(n))):a>=i?(s+=Kc(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+Kc(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=Kc(n))),e.s<0?"-"+s:s}function P3(e,t){if(e.length>t)return e.length=t,!0}function dq(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(lf+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return O3(i,s.toString())}else if(typeof s!="string")throw Error(lf+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,sAe.test(s))O3(i,s);else throw Error(lf+s)}if(a.prototype=rt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=dq,a.config=a.set=iAe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function iAe(e){if(!e||typeof e!="object")throw Error(Vi+"Object expected");var t,r,n,a=["precision",1,s0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(i0(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(lf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(lf+r+": "+n);return this}var jP=dq(aAe);ai=new jP(1);const xr=jP;function oAe(e){return dAe(e)||uAe(e)||cAe(e)||lAe()}function lAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cAe(e,t){if(e){if(typeof e=="string")return oE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oE(e,t)}}function uAe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function dAe(e){if(Array.isArray(e))return oE(e)}function oE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fAe=function(t){return t},fq={"@@functional/placeholder":!0},hq=function(t){return t===fq},D3=function(t){return function r(){return arguments.length===0||arguments.length===1&&hq(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},hAe=function e(t,r){return t===1?r:D3(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==fq}).length;return i>=t?r.apply(void 0,a):e(t-i,D3(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return hq(f)?c.shift():f});return r.apply(void 0,oAe(d).concat(c))}))})},$S=function(t){return hAe(t.length,t)},lE=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},mAe=$S(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),pAe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return fAe;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},cE=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},mq=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function gAe(e){var t;return e===0?t=1:t=Math.floor(new xr(e).abs().log(10).toNumber())+1,t}function vAe(e,t,r){for(var n=new xr(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var xAe=$S(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),yAe=$S(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),bAe=$S(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const BS={rangeStep:vAe,getDigitCount:gAe,interpolateNumber:xAe,uninterpolateNumber:yAe,uninterpolateTruncation:bAe};function uE(e){return SAe(e)||_Ae(e)||pq(e)||wAe()}function wAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ae(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function SAe(e){if(Array.isArray(e))return dE(e)}function Pv(e,t){return NAe(e)||kAe(e,t)||pq(e,t)||jAe()}function jAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pq(e,t){if(e){if(typeof e=="string")return dE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dE(e,t)}}function dE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kAe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=e[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function NAe(e){if(Array.isArray(e))return e}function gq(e){var t=Pv(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function vq(e,t,r){if(e.lte(0))return new xr(0);var n=BS.getDigitCount(e.toNumber()),a=new xr(10).pow(n),s=e.div(a),i=n!==1?.05:.1,l=new xr(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return t?c:new xr(Math.ceil(c))}function CAe(e,t,r){var n=1,a=new xr(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new xr(10).pow(BS.getDigitCount(e)-1),a=new xr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new xr(Math.floor(e)))}else e===0?a=new xr(Math.floor((t-1)/2)):r||(a=new xr(Math.floor(e)));var i=Math.floor((t-1)/2),l=pAe(mAe(function(c){return a.add(new xr(c-i).mul(n)).toNumber()}),lE);return l(0,t)}function xq(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new xr(0),tickMin:new xr(0),tickMax:new xr(0)};var s=vq(new xr(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new xr(0):(i=new xr(e).add(t).div(2),i=i.sub(new xr(i).mod(s)));var l=Math.ceil(i.sub(e).div(s).toNumber()),c=Math.ceil(new xr(t).sub(i).div(s).toNumber()),u=l+c+1;return u>r?xq(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:i.sub(new xr(l).mul(s)),tickMax:i.add(new xr(c).mul(s))})}function EAe(e){var t=Pv(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=gq([r,n]),c=Pv(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(uE(lE(0,a-1).map(function(){return 1/0}))):[].concat(uE(lE(0,a-1).map(function(){return-1/0})),[d]);return r>n?cE(f):f}if(u===d)return CAe(u,a,s);var h=xq(u,d,i,s),m=h.step,p=h.tickMin,g=h.tickMax,v=BS.rangeStep(p,g.add(new xr(.1).mul(m)),m);return r>n?cE(v):v}function TAe(e,t){var r=Pv(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=gq([n,a]),l=Pv(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=vq(new xr(u).sub(c).div(d-1),s,0),h=[].concat(uE(BS.rangeStep(new xr(c),new xr(u).sub(new xr(.99).mul(f)),f)),[u]);return n>a?cE(h):h}var AAe=mq(EAe),OAe=mq(TAe),PAe="Invariant failed";function Ef(e,t){throw new Error(PAe)}var DAe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gw.apply(this,arguments)}function RAe(e,t){return LAe(e)||FAe(e,t)||MAe(e,t)||IAe()}function IAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MAe(e,t){if(e){if(typeof e=="string")return R3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R3(e,t)}}function R3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function LAe(e){if(Array.isArray(e))return e}function $Ae(e,t){if(e==null)return{};var r=BAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wq(n.key),n)}}function VAe(e,t,r){return t&&zAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WAe(e,t,r){return t=vw(t),HAe(e,yq()?Reflect.construct(t,r||[],vw(e).constructor):t.apply(e,r))}function HAe(e,t){if(t&&(rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qAe(e)}function qAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yq=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(e)}function KAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fE(e,t)}function fE(e,t){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fE(e,t)}function bq(e,t,r){return t=wq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wq(e){var t=GAe(e,"string");return rp(t)=="symbol"?t:t+""}function GAe(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hx=function(e){function t(){return UAe(this,t),WAe(this,t,arguments)}return KAe(t,e),VAe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=$Ae(n,DAe),m=bt(h,!1);this.props.direction==="x"&&d.type!=="number"&&Ef();var p=c.map(function(g){var v=u(g,l),y=v.x,b=v.y,w=v.value,_=v.errorVal;if(!_)return null;var S=[],k,j;if(Array.isArray(_)){var N=RAe(_,2);k=N[0],j=N[1]}else k=j=_;if(s==="vertical"){var C=d.scale,T=b+a,D=T+i,A=T-i,H=C(w-k),X=C(w+j);S.push({x1:X,y1:D,x2:X,y2:A}),S.push({x1:H,y1:T,x2:X,y2:T}),S.push({x1:H,y1:D,x2:H,y2:A})}else if(s==="horizontal"){var L=f.scale,I=y+a,W=I-i,F=I+i,M=L(w-k),G=L(w+j);S.push({x1:W,y1:G,x2:F,y2:G}),S.push({x1:I,y1:M,x2:I,y2:G}),S.push({x1:W,y1:M,x2:F,y2:M})}return ie.createElement(ar,gw({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),S.map(function(Q){return ie.createElement("line",gw({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return ie.createElement(ar,{className:"recharts-errorBars"},p)}}])}(ie.Component);bq(Hx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});bq(Hx,"displayName","ErrorBar");function Dv(e){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dv(e)}function I3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(r),!0).forEach(function(n){YAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YAe(e,t,r){return t=XAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XAe(e){var t=JAe(e,"string");return Dv(t)=="symbol"?t:t+""}function JAe(e,t){if(Dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _q=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,i=Xs(r,Eo);if(!i)return null;var l=Eo.defaultProps,c=l!==void 0?gd(gd({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,p=m.sectors||m.data||[];return d.concat(p.map(function(g){return{type:i.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?gd(gd({},h),f.props):{},p=m.dataKey,g=m.name,v=m.legendType,y=m.hide;return{inactive:y,dataKey:p,type:c.iconType||v||"square",color:kP(f),value:g||p,payload:m}}),gd(gd(gd({},c),Eo.getWithHeight(i,a)),{},{payload:u,item:i})};function Rv(e){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rv(e)}function M3(e){return tOe(e)||eOe(e)||ZAe(e)||QAe()}function QAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZAe(e,t){if(e){if(typeof e=="string")return hE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hE(e,t)}}function eOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tOe(e){if(Array.isArray(e))return hE(e)}function hE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(r),!0).forEach(function(n){dm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dm(e,t,r){return t=rOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rOe(e){var t=nOe(e,"string");return Rv(t)=="symbol"?t:t+""}function nOe(e,t){if(Rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function In(e,t,r){return Pt(e)||Pt(t)?r:Fn(t)?ui(e,t,r):Nt(t)?t(e):r}function Ng(e,t,r,n){var a=eAe(e,function(l){return In(l,t)});if(r==="number"){var s=a.filter(function(l){return Ke(l)||parseFloat(l)});return s.length?[LS(s),FS(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Pt(l)}):a;return i.map(function(l){return Fn(l)||l instanceof Date?l:""})}var aOe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(as(f-d)!==as(h-f)){var p=[];if(as(h-f)===as(c[1]-c[0])){m=h;var g=f+c[1]-c[0];p[0]=Math.min(g,(g+d)/2),p[1]=Math.max(g,(g+d)/2)}else{m=d;var v=h+c[1]-c[0];p[0]=Math.min(f,(v+f)/2),p[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>y[0]&&t<=y[1]||t>=p[0]&&t<=p[1]){i=a[u].index;break}}else{var b=Math.min(d,h),w=Math.max(d,h);if(t>(b+f)/2&&t<=(w+f)/2){i=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){i=n[_].index;break}return i},kP=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Qr(Qr({},t.type.defaultProps),t.props):t.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},sOe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var p=d[f[h]],g=p.items,v=p.cateAxisId,y=g.filter(function(j){return oc(j.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?Qr(Qr({},b),y[0].props):y[0].props,_=w.barSize,S=w[v];i[S]||(i[S]=[]);var k=Pt(_)?r:_;i[S].push({item:y[0],stackList:y.slice(1),barSize:Pt(k)?void 0:ss(k,n,0)})}}return i},iOe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,i=s===void 0?[]:s,l=t.maxBarSize,c=i.length;if(c<1)return null;var u=ss(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,m=a/c,p=i.reduce(function(_,S){return _+S.barSize||0},0);p+=(c-1)*u,p>=a&&(p-=(c-1)*u,u=0),p>=a&&m>0&&(h=!0,m*=.9,p=c*m);var g=(a-p)/2>>0,v={offset:g-u,size:0};d=i.reduce(function(_,S){var k={item:S.item,position:{offset:v.offset+v.size+u,size:h?m:S.barSize}},j=[].concat(M3(_),[k]);return v=j[j.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(N){j.push({item:N,position:v})}),j},f)}else{var y=ss(n,a,0,!0);a-2*y-(c-1)*u<=0&&(u=0);var b=(a-2*y-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=i.reduce(function(_,S,k){var j=[].concat(M3(_),[{item:S.item,position:{offset:y+(b+u)*k+(b-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(N){j.push({item:N,position:j[j.length-1].position})}),j},f)}return d},oOe=function(t,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=_q({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,p=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&m!=="center"&&Ke(t[m]))return Qr(Qr({},t),{},dm({},m,t[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&p!=="middle"&&Ke(t[p]))return Qr(Qr({},t),{},dm({},p,t[p]+(h||0)))}return t},lOe=function(t,r,n){return Pt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Sq=function(t,r,n,a,s){var i=r.props.children,l=di(i,Hx).filter(function(u){return lOe(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=In(d,n);if(Pt(f))return u;var h=Array.isArray(f)?[LS(f),FS(f)]:[f,f],m=c.reduce(function(p,g){var v=In(d,g,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,p[0]),Math.max(b,p[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},cOe=function(t,r,n,a,s){var i=r.map(function(l){return Sq(t,l,n,s,a)}).filter(function(l){return!Pt(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},jq=function(t,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Sq(t,c,u,a)||Ng(t,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},kq=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Nq=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,i,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(i=!0),c.coordinate});return s||l.push(r),i||l.push(n),l},nc=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,i=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?as(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Lx(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},rN=new WeakMap,lb=function(t,r){if(typeof r!="function")return t;rN.has(t)||rN.set(t,new WeakMap);var n=rN.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},Cq=function(t,r,n){var a=t.scale,s=t.type,i=t.layout,l=t.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:Nv(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:dw(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:kg(),realScaleType:"point"}:s==="category"?{scale:Nv(),realScaleType:"band"}:{scale:dw(),realScaleType:"linear"};if(jf(a)){var c="scale".concat(SS(a));return{scale:(A3[c]||kg)(),realScaleType:A3[c]?c:"point"}}return Nt(a)?{scale:a}:{scale:kg(),realScaleType:"point"}},L3=1e-4,Eq=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-L3,i=Math.max(a[0],a[1])+L3,l=t(r[0]),c=t(r[n-1]);(l<s||l>i||c<s||c>i)&&t.domain([r[0],r[n-1]])}},uOe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},dOe=function(t,r){if(!r||r.length!==2||!Ke(r[0])||!Ke(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Ke(t[0])||t[0]<n)&&(s[0]=n),(!Ke(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},fOe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=Lx(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1])}},hOe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=Lx(t[i][n][1])?t[i][n][0]:t[i][n][1];l>=0?(t[i][n][0]=s,t[i][n][1]=s+l,s=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},mOe={sign:fOe,expand:Dye,none:Gm,silhouette:Rye,wiggle:Iye,positive:hOe},pOe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=mOe[n],i=Pye().keys(a).value(function(l,c){return+In(l,c,0)}).order(LC).offset(s);return i(t)},gOe=function(t,r,n,a,s,i){if(!t)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,h){var m,p=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Qr(Qr({},h.type.defaultProps),h.props):h.props,g=p.stackId,v=p.hide;if(v)return f;var y=p[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(Fn(g)){var w=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[g]=w}else b.stackGroups[Zp("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Qr(Qr({},f),{},dm({},y,b))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var p={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var y=m.stackGroups[v];return Qr(Qr({},g),{},dm({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:pOe(t,y.items,s)}))},p)}return Qr(Qr({},f),{},dm({},h,m))},d)},Tq=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=AAe(u,s,l);return t.domain([LS(d),FS(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=OAe(f,s,l);return{niceTicks:h}}return null};function $3(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Pt(a[t.dataKey])){var l=W1(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=In(a,Pt(i)?t.dataKey:i);return Pt(c)?null:t.scale(c)}var B3=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,i=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=In(i,r.dataKey,r.domain[l]);return Pt(c)?null:r.scale(c)-s/2+a},vOe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},xOe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Qr(Qr({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(Fn(s)){var i=r[s];if(i){var l=i.items.indexOf(t);return l>=0?i.stackedData[l]:null}}return null},yOe=function(t){return t.reduce(function(r,n){return[LS(n.concat([r[0]]).filter(Ke)),FS(n.concat([r[1]]).filter(Ke))]},[1/0,-1/0])},Aq=function(t,r,n){return Object.keys(t).reduce(function(a,s){var i=t[s],l=i.stackedData,c=l.reduce(function(u,d){var f=yOe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},U3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,z3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mE=function(t,r,n){if(Nt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ke(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(U3.test(t[0])){var s=+U3.exec(t[0])[1];a[0]=r[0]-s}else Nt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ke(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(z3.test(t[1])){var i=+z3.exec(t[1])[1];a[1]=r[1]+i}else Nt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},xw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=ZO(r,function(f){return f.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},V3=function(t,r,n){return!t||!t.length||Wx(t,ui(n,"type.defaultProps.domain"))?r:t},Oq=function(t,r){var n=t.type.defaultProps?Qr(Qr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Qr(Qr({},bt(t,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:kP(t),value:In(r,a),type:c,payload:r,chartType:u,hide:d})};function Iv(e){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iv(e)}function W3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W3(Object(r),!0).forEach(function(n){Pq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pq(e,t,r){return t=bOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bOe(e){var t=wOe(e,"string");return Iv(t)=="symbol"?t:t+""}function wOe(e,t){if(Iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Oe(e,t){return NOe(e)||kOe(e,t)||jOe(e,t)||SOe()}function SOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jOe(e,t){if(e){if(typeof e=="string")return H3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H3(e,t)}}function H3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function NOe(e){if(Array.isArray(e))return e}var yw=Math.PI/180,COe=function(t){return t*180/Math.PI},Cr=function(t,r,n,a){return{x:t+Math.cos(-yw*a)*n,y:r+Math.sin(-yw*a)*n}},Dq=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},EOe=function(t,r,n,a,s){var i=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=ss(t.cx,i,i/2),f=ss(t.cy,l,l/2),h=Dq(i,l,n),m=ss(t.innerRadius,h,0),p=ss(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(v,y){var b=r[y],w=b.domain,_=b.reversed,S;if(Pt(b.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[m,p]),_&&(S=[S[1],S[0]]);else{S=b.range;var k=S,j=_Oe(k,2);c=j[0],u=j[1]}var N=Cq(b,s),C=N.realScaleType,T=N.scale;T.domain(w).range(S),Eq(T);var D=Tq(T,Gl(Gl({},b),{},{realScaleType:C})),A=Gl(Gl(Gl({},b),D),{},{range:S,radius:p,realScaleType:C,scale:T,cx:d,cy:f,innerRadius:m,outerRadius:p,startAngle:c,endAngle:u});return Gl(Gl({},v),{},Pq({},y,A))},{})},TOe=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},AOe=function(t,r){var n=t.x,a=t.y,s=r.cx,i=r.cy,l=TOe({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:COe(u),angleInRadian:u}},OOe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},POe=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return t+l*360},q3=function(t,r){var n=t.x,a=t.y,s=AOe({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=OOe(r),f=d.startAngle,h=d.endAngle,m=l,p;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=f}return p?Gl(Gl({},r),{},{radius:i,angle:POe(m,r)}):null},Rq=function(t){return!x.isValidElement(t)&&!Nt(t)&&typeof t!="boolean"?t.className:""};function Mv(e){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mv(e)}var DOe=["offset"];function ROe(e){return LOe(e)||FOe(e)||MOe(e)||IOe()}function IOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MOe(e,t){if(e){if(typeof e=="string")return pE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pE(e,t)}}function FOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LOe(e){if(Array.isArray(e))return pE(e)}function pE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $Oe(e,t){if(e==null)return{};var r=BOe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function K3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K3(Object(r),!0).forEach(function(n){UOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UOe(e,t,r){return t=zOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zOe(e){var t=VOe(e,"string");return Mv(t)=="symbol"?t:t+""}function VOe(e,t){if(Mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fv.apply(this,arguments)}var WOe=function(t){var r=t.value,n=t.formatter,a=Pt(t.children)?r:t.children;return Nt(n)?n(a):a},HOe=function(t,r){var n=as(r-t),a=Math.min(Math.abs(r-t),360);return n*a},qOe=function(t,r,n){var a=t.position,s=t.viewBox,i=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,p=c.endAngle,g=c.clockWise,v=(f+h)/2,y=HOe(m,p),b=y>=0?1:-1,w,_;a==="insideStart"?(w=m+b*i,_=g):a==="insideEnd"?(w=p-b*i,_=!g):a==="end"&&(w=p+b*i,_=g),_=y<=0?_:!_;var S=Cr(u,d,v,w),k=Cr(u,d,v,w+(_?1:-1)*359),j="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(k.x,",").concat(k.y),N=Pt(t.id)?Zp("recharts-radial-line-"):t.id;return ie.createElement("text",Fv({},n,{dominantBaseline:"central",className:Rt("recharts-radial-bar-label",l)}),ie.createElement("defs",null,ie.createElement("path",{id:N,d:j})),ie.createElement("textPath",{xlinkHref:"#".concat(N)},r))},KOe=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=Cr(i,l,u+n,h),p=m.x,g=m.y;return{x:p,y:g,textAnchor:p>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,y=Cr(i,l,v,h),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},GOe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",p=f>0?"start":"end",g=u>=0?1:-1,v=g*a,y=g>0?"end":"start",b=g>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return Tn(Tn({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:p};return Tn(Tn({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var S={x:l-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Tn(Tn({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(s==="right"){var k={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Tn(Tn({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:d}:{})}var j=n?{width:u,height:d}:{};return s==="insideLeft"?Tn({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},j):s==="insideRight"?Tn({x:l+u-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},j):s==="insideTop"?Tn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:p},j):s==="insideBottom"?Tn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},j):s==="insideTopLeft"?Tn({x:l+v,y:c+h,textAnchor:b,verticalAnchor:p},j):s==="insideTopRight"?Tn({x:l+u-v,y:c+h,textAnchor:y,verticalAnchor:p},j):s==="insideBottomLeft"?Tn({x:l+v,y:c+d-h,textAnchor:b,verticalAnchor:m},j):s==="insideBottomRight"?Tn({x:l+u-v,y:c+d-h,textAnchor:y,verticalAnchor:m},j):Yp(s)&&(Ke(s.x)||Ld(s.x))&&(Ke(s.y)||Ld(s.y))?Tn({x:l+ss(s.x,u),y:c+ss(s.y,d),textAnchor:"end",verticalAnchor:"end"},j):Tn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},YOe=function(t){return"cx"in t&&Ke(t.cx)};function qn(e){var t=e.offset,r=t===void 0?5:t,n=$Oe(e,DOe),a=Tn({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||Pt(l)&&Pt(c)&&!x.isValidElement(u)&&!Nt(u))return null;if(x.isValidElement(u))return x.cloneElement(u,a);var m;if(Nt(u)){if(m=x.createElement(u,a),x.isValidElement(m))return m}else m=WOe(a);var p=YOe(s),g=bt(a,!0);if(p&&(i==="insideStart"||i==="insideEnd"||i==="end"))return qOe(a,m,g);var v=p?KOe(a):GOe(a);return ie.createElement(Nf,Fv({className:Rt("recharts-label",f)},g,v,{breakAll:h}),m)}qn.displayName="Label";var Iq=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,i=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,p=t.left,g=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(Ke(g)&&Ke(v)){if(Ke(f)&&Ke(h))return{x:f,y:h,width:g,height:v};if(Ke(m)&&Ke(p))return{x:m,y:p,width:g,height:v}}return Ke(f)&&Ke(h)?{x:f,y:h,width:0,height:0}:Ke(r)&&Ke(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},XOe=function(t,r){return t?t===!0?ie.createElement(qn,{key:"label-implicit",viewBox:r}):Fn(t)?ie.createElement(qn,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===qn?x.cloneElement(t,{key:"label-implicit",viewBox:r}):ie.createElement(qn,{key:"label-implicit",content:t,viewBox:r}):Nt(t)?ie.createElement(qn,{key:"label-implicit",content:t,viewBox:r}):Yp(t)?ie.createElement(qn,Fv({viewBox:r},t,{key:"label-implicit"})):null:null},JOe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=Iq(t),i=di(a,qn).map(function(c,u){return x.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=XOe(t.label,r||s);return[l].concat(ROe(i))};qn.parseViewBox=Iq;qn.renderCallByParent=JOe;function QOe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ZOe=QOe;const ePe=fr(ZOe);function Lv(e){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lv(e)}var tPe=["valueAccessor"],rPe=["data","dataKey","clockWise","id","textBreakAll"];function nPe(e){return oPe(e)||iPe(e)||sPe(e)||aPe()}function aPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sPe(e,t){if(e){if(typeof e=="string")return gE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gE(e,t)}}function iPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oPe(e){if(Array.isArray(e))return gE(e)}function gE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bw(){return bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bw.apply(this,arguments)}function G3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G3(Object(r),!0).forEach(function(n){lPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lPe(e,t,r){return t=cPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cPe(e){var t=uPe(e,"string");return Lv(t)=="symbol"?t:t+""}function uPe(e,t){if(Lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X3(e,t){if(e==null)return{};var r=dPe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fPe=function(t){return Array.isArray(t.value)?ePe(t.value):t.value};function cc(e){var t=e.valueAccessor,r=t===void 0?fPe:t,n=X3(e,tPe),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=X3(n,rPe);return!a||!a.length?null:ie.createElement(ar,{className:"recharts-label-list"},a.map(function(d,f){var h=Pt(s)?r(d,f):In(d&&d.payload,s),m=Pt(l)?{}:{id:"".concat(l,"-").concat(f)};return ie.createElement(qn,bw({},bt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:qn.parseViewBox(Pt(i)?d:Y3(Y3({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}cc.displayName="LabelList";function hPe(e,t){return e?e===!0?ie.createElement(cc,{key:"labelList-implicit",data:t}):ie.isValidElement(e)||Nt(e)?ie.createElement(cc,{key:"labelList-implicit",data:t,content:e}):Yp(e)?ie.createElement(cc,bw({data:t},e,{key:"labelList-implicit"})):null:null}function mPe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=di(n,cc).map(function(i,l){return x.cloneElement(i,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=hPe(e.label,t);return[s].concat(nPe(a))}cc.renderCallByParent=mPe;function $v(e){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(e)}function vE(){return vE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vE.apply(this,arguments)}function J3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(r),!0).forEach(function(n){pPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pPe(e,t,r){return t=gPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gPe(e){var t=vPe(e,"string");return $v(t)=="symbol"?t:t+""}function vPe(e,t){if($v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xPe=function(t,r){var n=as(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},cb=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,i=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/yw,h=u?s:s+i*f,m=Cr(r,n,d,h),p=Cr(r,n,a,h),g=u?s-i*f:s,v=Cr(r,n,d*Math.cos(f*yw),g);return{center:m,circleTangency:p,lineTangency:v,theta:f}},Mq=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.startAngle,l=t.endAngle,c=xPe(i,l),u=i+c,d=Cr(r,n,s,i),f=Cr(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Cr(r,n,a,i),p=Cr(r,n,a,u);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},yPe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=as(d-u),h=cb({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),m=h.circleTangency,p=h.lineTangency,g=h.theta,v=cb({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),y=v.circleTangency,b=v.lineTangency,w=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-g-w;if(_<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):Mq({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var S="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var k=cb({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),j=k.circleTangency,N=k.lineTangency,C=k.theta,T=cb({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),D=T.circleTangency,A=T.lineTangency,H=T.theta,X=c?Math.abs(u-d):Math.abs(u-d)-C-H;if(X<0&&i===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(X>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},bPe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Fq=function(t){var r=Q3(Q3({},bPe),t),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(i<s||d===f)return null;var m=Rt("recharts-sector",h),p=i-s,g=ss(l,p,0,!0),v;return g>0&&Math.abs(d-f)<360?v=yPe({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=Mq({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f}),ie.createElement("path",vE({},bt(r,!0),{className:m,d:v,role:"img"}))};function Bv(e){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(e)}function xE(){return xE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xE.apply(this,arguments)}function Z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z3(Object(r),!0).forEach(function(n){wPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wPe(e,t,r){return t=_Pe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Pe(e){var t=SPe(e,"string");return Bv(t)=="symbol"?t:t+""}function SPe(e,t){if(Bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tL={curveBasisClosed:wye,curveBasisOpen:_ye,curveBasis:bye,curveBumpX:iye,curveBumpY:oye,curveLinearClosed:Sye,curveLinear:kS,curveMonotoneX:jye,curveMonotoneY:kye,curveNatural:Nye,curveStep:Cye,curveStepAfter:Tye,curveStepBefore:Eye},ub=function(t){return t.x===+t.x&&t.y===+t.y},I0=function(t){return t.x},M0=function(t){return t.y},jPe=function(t,r){if(Nt(t))return t;var n="curve".concat(SS(t));return(n==="curveMonotone"||n==="curveBump")&&r?tL["".concat(n).concat(r==="vertical"?"Y":"X")]:tL[n]||kS},kPe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,i=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=jPe(n,l),f=u?s.filter(function(g){return ub(g)}):s,h;if(Array.isArray(i)){var m=u?i.filter(function(g){return ub(g)}):i,p=f.map(function(g,v){return eL(eL({},g),{},{base:m[v]})});return l==="vertical"?h=eb().y(M0).x1(I0).x0(function(g){return g.base.x}):h=eb().x(I0).y1(M0).y0(function(g){return g.base.y}),h.defined(ub).curve(d),h(p)}return l==="vertical"&&Ke(i)?h=eb().y(M0).x1(I0).x0(i):Ke(i)?h=eb().x(I0).y1(M0).y0(i):h=OW().x(I0).y(M0),h.defined(ub).curve(d),h(f)},ww=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?kPe(t):a;return x.createElement("path",xE({},bt(t,!1),H1(t),{className:Rt("recharts-curve",r),d:i,ref:s}))},Lq={exports:{}},NPe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CPe=NPe,EPe=CPe;function $q(){}function Bq(){}Bq.resetWarningCache=$q;var TPe=function(){function e(n,a,s,i,l,c){if(c!==EPe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Bq,resetWarningCache:$q};return r.PropTypes=r,r};Lq.exports=TPe();var APe=Lq.exports;const ur=fr(APe);var OPe=Object.getOwnPropertyNames,PPe=Object.getOwnPropertySymbols,DPe=Object.prototype.hasOwnProperty;function rL(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function db(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function nL(e){return OPe(e).concat(PPe(e))}var RPe=Object.hasOwn||function(e,t){return DPe.call(e,t)};function qf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var IPe="__v",MPe="__o",FPe="_owner",aL=Object.getOwnPropertyDescriptor,sL=Object.keys;function LPe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function $Pe(e,t){return qf(e.getTime(),t.getTime())}function BPe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function UPe(e,t){return e===t}function iL(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=i.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var zPe=qf;function VPe(e,t,r){var n=sL(e),a=n.length;if(sL(t).length!==a)return!1;for(;a-- >0;)if(!Uq(e,t,r,n[a]))return!1;return!0}function F0(e,t,r){var n=nL(e),a=n.length;if(nL(t).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!Uq(e,t,r,s)||(i=aL(e,s),l=aL(t,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function WPe(e,t){return qf(e.valueOf(),t.valueOf())}function HPe(e,t){return e.source===t.source&&e.flags===t.flags}function oL(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),i,l;(i=s.next())&&!i.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(i.value,l.value,i.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function qPe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function KPe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Uq(e,t,r,n){return(n===FPe||n===MPe||n===IPe)&&(e.$$typeof||t.$$typeof)?!0:RPe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var GPe="[object Arguments]",YPe="[object Boolean]",XPe="[object Date]",JPe="[object Error]",QPe="[object Map]",ZPe="[object Number]",e4e="[object Object]",t4e="[object RegExp]",r4e="[object Set]",n4e="[object String]",a4e="[object URL]",s4e=Array.isArray,lL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,cL=Object.assign,i4e=Object.prototype.toString.call.bind(Object.prototype.toString);function o4e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,i=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(p,g,v){if(p===g)return!0;if(p==null||g==null)return!1;var y=typeof p;if(y!==typeof g)return!1;if(y!=="object")return y==="number"?i(p,g,v):y==="function"?a(p,g,v):!1;var b=p.constructor;if(b!==g.constructor)return!1;if(b===Object)return l(p,g,v);if(s4e(p))return t(p,g,v);if(lL!=null&&lL(p))return f(p,g,v);if(b===Date)return r(p,g,v);if(b===RegExp)return u(p,g,v);if(b===Map)return s(p,g,v);if(b===Set)return d(p,g,v);var w=i4e(p);return w===XPe?r(p,g,v):w===t4e?u(p,g,v):w===QPe?s(p,g,v):w===r4e?d(p,g,v):w===e4e?typeof p.then!="function"&&typeof g.then!="function"&&l(p,g,v):w===a4e?h(p,g,v):w===JPe?n(p,g,v):w===GPe?l(p,g,v):w===YPe||w===ZPe||w===n4e?c(p,g,v):!1}}function l4e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?F0:LPe,areDatesEqual:$Pe,areErrorsEqual:BPe,areFunctionsEqual:UPe,areMapsEqual:n?rL(iL,F0):iL,areNumbersEqual:zPe,areObjectsEqual:n?F0:VPe,arePrimitiveWrappersEqual:WPe,areRegExpsEqual:HPe,areSetsEqual:n?rL(oL,F0):oL,areTypedArraysEqual:n?F0:qPe,areUrlsEqual:KPe};if(r&&(a=cL({},a,r(a))),t){var s=db(a.areArraysEqual),i=db(a.areMapsEqual),l=db(a.areObjectsEqual),c=db(a.areSetsEqual);a=cL({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function c4e(e){return function(t,r,n,a,s,i,l){return e(t,r,l)}}function u4e(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var d4e=sd();sd({strict:!0});sd({circular:!0});sd({circular:!0,strict:!0});sd({createInternalComparator:function(){return qf}});sd({strict:!0,createInternalComparator:function(){return qf}});sd({circular:!0,createInternalComparator:function(){return qf}});sd({circular:!0,createInternalComparator:function(){return qf},strict:!0});function sd(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,i=s===void 0?!1:s,l=l4e(e),c=o4e(l),u=n?n(c):c4e(c);return u4e({circular:r,comparator:c,createState:a,equals:u,strict:i})}function f4e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function uL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):f4e(a)};requestAnimationFrame(n)}function yE(e){"@babel/helpers - typeof";return yE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yE(e)}function h4e(e){return v4e(e)||g4e(e)||p4e(e)||m4e()}function m4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p4e(e,t){if(e){if(typeof e=="string")return dL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dL(e,t)}}function dL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v4e(e){if(Array.isArray(e))return e}function x4e(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=h4e(i),c=l[0],u=l.slice(1);if(typeof c=="number"){uL(a.bind(null,u),c);return}a(c),uL(a.bind(null,u));return}yE(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(e)}function fL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fL(Object(r),!0).forEach(function(n){zq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zq(e,t,r){return t=y4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y4e(e){var t=b4e(e,"string");return Uv(t)==="symbol"?t:String(t)}function b4e(e,t){if(Uv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w4e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},_4e=function(t){return t},S4e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Cg=function(t,r){return Object.keys(r).reduce(function(n,a){return hL(hL({},n),{},zq({},a,t(a,r[a])))},{})},mL=function(t,r,n){return t.map(function(a){return"".concat(S4e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function j4e(e,t){return C4e(e)||N4e(e,t)||Vq(e,t)||k4e()}function k4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function C4e(e){if(Array.isArray(e))return e}function E4e(e){return O4e(e)||A4e(e)||Vq(e)||T4e()}function T4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vq(e,t){if(e){if(typeof e=="string")return bE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bE(e,t)}}function A4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function O4e(e){if(Array.isArray(e))return bE(e)}function bE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _w=1e-4,Wq=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Hq=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},pL=function(t,r){return function(n){var a=Wq(t,r);return Hq(a,n)}},P4e=function(t,r){return function(n){var a=Wq(t,r),s=[].concat(E4e(a.map(function(i,l){return i*l}).slice(1)),[0]);return Hq(s,n)}},gL=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=j4e(u,4);a=d[0],s=d[1],i=d[2],l=d[3]}}}var f=pL(a,i),h=pL(s,l),m=P4e(a,i),p=function(y){return y>1?1:y<0?0:y},g=function(y){for(var b=y>1?1:y,w=b,_=0;_<8;++_){var S=f(w)-b,k=m(w);if(Math.abs(S-b)<_w||k<_w)return h(w);w=p(w-S/k)}return h(w)};return g.isStepper=!1,g},D4e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,i=t.dt,l=i===void 0?17:i,c=function(d,f,h){var m=-(d-f)*n,p=h*s,g=h+(m-p)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<_w&&Math.abs(g)<_w?[f,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},R4e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gL(a);case"spring":return D4e();default:if(a.split("(")[0]==="cubic-bezier")return gL(a)}return typeof a=="function"?a:null};function zv(e){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zv(e)}function vL(e){return F4e(e)||M4e(e)||qq(e)||I4e()}function I4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function F4e(e){if(Array.isArray(e))return _E(e)}function xL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xL(Object(r),!0).forEach(function(n){wE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wE(e,t,r){return t=L4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L4e(e){var t=$4e(e,"string");return zv(t)==="symbol"?t:String(t)}function $4e(e,t){if(zv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B4e(e,t){return V4e(e)||z4e(e,t)||qq(e,t)||U4e()}function U4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qq(e,t){if(e){if(typeof e=="string")return _E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _E(e,t)}}function _E(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function V4e(e){if(Array.isArray(e))return e}var Sw=function(t,r,n){return t+(r-t)*n},SE=function(t){var r=t.from,n=t.to;return r!==n},W4e=function e(t,r,n){var a=Cg(function(s,i){if(SE(i)){var l=t(i.from,i.to,i.velocity),c=B4e(l,2),u=c[0],d=c[1];return ea(ea({},i),{},{from:u,velocity:d})}return i},r);return n<1?Cg(function(s,i){return SE(i)?ea(ea({},i),{},{velocity:Sw(i.velocity,a[s].velocity,n),from:Sw(i.from,a[s].from,n)}):i},r):e(t,a,n-1)};const H4e=function(e,t,r,n,a){var s=w4e(e,t),i=s.reduce(function(v,y){return ea(ea({},v),{},wE({},y,[e[y],t[y]]))},{}),l=s.reduce(function(v,y){return ea(ea({},v),{},wE({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Cg(function(y,b){return b.from},l)},m=function(){return!Object.values(l).filter(SE).length},p=function(y){u||(u=y);var b=y-u,w=b/r.dt;l=W4e(r,l,w),a(ea(ea(ea({},e),t),h())),u=y,m()||(c=requestAnimationFrame(f))},g=function(y){d||(d=y);var b=(y-d)/n,w=Cg(function(S,k){return Sw.apply(void 0,vL(k).concat([r(b)]))},i);if(a(ea(ea(ea({},e),t),w)),b<1)c=requestAnimationFrame(f);else{var _=Cg(function(S,k){return Sw.apply(void 0,vL(k).concat([r(1)]))},i);a(ea(ea(ea({},e),t),_))}};return f=r.isStepper?p:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}var q4e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function K4e(e,t){if(e==null)return{};var r=G4e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G4e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function nN(e){return Q4e(e)||J4e(e)||X4e(e)||Y4e()}function Y4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X4e(e,t){if(e){if(typeof e=="string")return jE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jE(e,t)}}function J4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Q4e(e){if(Array.isArray(e))return jE(e)}function jE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yL(Object(r),!0).forEach(function(n){tg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tg(e,t,r){return t=Kq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kq(n.key),n)}}function tDe(e,t,r){return t&&eDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kq(e){var t=rDe(e,"string");return np(t)==="symbol"?t:String(t)}function rDe(e,t){if(np(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(np(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kE(e,t)}function kE(e,t){return kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kE(e,t)}function aDe(e){var t=sDe();return function(){var n=jw(e),a;if(t){var s=jw(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return NE(this,a)}}function NE(e,t){if(t&&(np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CE(e)}function CE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jw(e){return jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jw(e)}var kl=function(e){nDe(r,e);var t=aDe(r);function r(n,a){var s;Z4e(this,r),s=t.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,h=i.children,m=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(CE(s)),s.changeStyle=s.changeStyle.bind(CE(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),NE(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},NE(s);s.state={style:c?tg({},c,u):u}}else s.state={style:{}};return s}return tDe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!i){var m={style:c?tg({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(d4e(a.to,d)&&a.canBegin&&a.isActive)){var p=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||u?f:a.to;if(this.state&&h){var v={style:c?tg({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(v)}this.runAnimation(Zi(Zi({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=H4e(i,l,R4e(u),c,this.changeStyle),p=function(){s.stopJSAnimation=m()};this.manager.start([h,d,p,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,v,y){if(y===0)return g;var b=v.duration,w=v.easing,_=w===void 0?"ease":w,S=v.style,k=v.properties,j=v.onAnimationEnd,N=y>0?i[y-1]:v,C=k||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(nN(g),[s.runJSAnimation.bind(s,{from:N.style,to:S,duration:b,easing:_}),b]);var T=mL(C,b,_),D=Zi(Zi(Zi({},N.style),S),{},{transition:T});return[].concat(nN(g),[D,b,j]).filter(_4e)};return this.manager.start([c].concat(nN(i.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=x4e());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=l?tg({},l,c):c,v=mL(Object.keys(g),i,u);p.start([d,s,Zi(Zi({},g),{},{transition:v}),i,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=K4e(a,q4e),u=x.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||i<=0)return s;var f=function(m){var p=m.props,g=p.style,v=g===void 0?{}:g,y=p.className,b=x.cloneElement(m,Zi(Zi({},c),{},{style:Zi(Zi({},v),d),className:y}));return b};return u===1?f(x.Children.only(s)):ie.createElement("div",null,x.Children.map(s,function(h){return f(h)}))}}]),r}(x.PureComponent);kl.displayName="Animate";kl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};kl.propTypes={from:ur.oneOfType([ur.object,ur.string]),to:ur.oneOfType([ur.object,ur.string]),attributeName:ur.string,duration:ur.number,begin:ur.number,easing:ur.oneOfType([ur.string,ur.func]),steps:ur.arrayOf(ur.shape({duration:ur.number.isRequired,style:ur.object.isRequired,easing:ur.oneOfType([ur.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ur.func]),properties:ur.arrayOf("string"),onAnimationEnd:ur.func})),children:ur.oneOfType([ur.node,ur.func]),isActive:ur.bool,canBegin:ur.bool,onAnimationEnd:ur.func,shouldReAnimate:ur.bool,onAnimationStart:ur.func,onAnimationReStart:ur.func};function Vv(e){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(e)}function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kw.apply(this,arguments)}function iDe(e,t){return uDe(e)||cDe(e,t)||lDe(e,t)||oDe()}function oDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lDe(e,t){if(e){if(typeof e=="string")return bL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bL(e,t)}}function bL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function uDe(e){if(Array.isArray(e))return e}function wL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _L(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wL(Object(r),!0).forEach(function(n){dDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dDe(e,t,r){return t=fDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fDe(e){var t=hDe(e,"string");return Vv(t)=="symbol"?t:t+""}function hDe(e,t){if(Vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SL=function(t,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>i?i:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var p=Math.min(i,s);d="M ".concat(t,",").concat(r+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+c*p,",").concat(r,`
            L `).concat(t+n-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*p,`
            L `).concat(t+n,",").concat(r+a-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+n-c*p,",").concat(r+a,`
            L `).concat(t+c*p,",").concat(r+a,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*p," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},mDe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(i,i+c),h=Math.max(i,i+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},pDe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NP=function(t){var r=_L(_L({},pDe),t),n=x.useRef(),a=x.useState(-1),s=iDe(a,2),i=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Rt("recharts-rectangle",m);return b?ie.createElement(kl,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:p,isActive:b},function(_){var S=_.width,k=_.height,j=_.x,N=_.y;return ie.createElement(kl,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:y,easing:p},ie.createElement("path",kw({},bt(r,!0),{className:w,d:SL(j,N,S,k,h),ref:n})))}):ie.createElement("path",kw({},bt(r,!0),{className:w,d:SL(c,u,d,f,h)}))},gDe=["points","className","baseLinePoints","connectNulls"];function Kh(){return Kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kh.apply(this,arguments)}function vDe(e,t){if(e==null)return{};var r=xDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jL(e){return _De(e)||wDe(e)||bDe(e)||yDe()}function yDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bDe(e,t){if(e){if(typeof e=="string")return EE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EE(e,t)}}function wDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _De(e){if(Array.isArray(e))return EE(e)}function EE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kL=function(t){return t&&t.x===+t.x&&t.y===+t.y},SDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){kL(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),kL(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Eg=function(t,r){var n=SDe(t);r&&(n=[n.reduce(function(s,i){return[].concat(jL(s),jL(i))},[])]);var a=n.map(function(s){return s.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},jDe=function(t,r,n){var a=Eg(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Eg(r.reverse(),n).slice(1))},kDe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,i=vDe(t,gDe);if(!r||!r.length)return null;var l=Rt("recharts-polygon",n);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",u=jDe(r,a,s);return ie.createElement("g",{className:l},ie.createElement("path",Kh({},bt(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?ie.createElement("path",Kh({},bt(i,!0),{fill:"none",d:Eg(r,s)})):null,c?ie.createElement("path",Kh({},bt(i,!0),{fill:"none",d:Eg(a,s)})):null)}var d=Eg(r,s);return ie.createElement("path",Kh({},bt(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))};function TE(){return TE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TE.apply(this,arguments)}var US=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,i=Rt("recharts-dot",s);return r===+r&&n===+n&&a===+a?x.createElement("circle",TE({},bt(t,!1),H1(t),{className:i,cx:r,cy:n,r:a})):null};function Wv(e){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wv(e)}var NDe=["x","y","top","left","width","height","className"];function AE(){return AE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AE.apply(this,arguments)}function NL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CDe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NL(Object(r),!0).forEach(function(n){EDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EDe(e,t,r){return t=TDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TDe(e){var t=ADe(e,"string");return Wv(t)=="symbol"?t:t+""}function ADe(e,t){if(Wv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ODe(e,t){if(e==null)return{};var r=PDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var DDe=function(t,r,n,a,s,i){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},RDe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.top,l=i===void 0?0:i,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,p=t.className,g=ODe(t,NDe),v=CDe({x:n,y:s,top:l,left:u,width:f,height:m},g);return!Ke(n)||!Ke(s)||!Ke(f)||!Ke(m)||!Ke(l)||!Ke(u)?null:ie.createElement("path",AE({},bt(v,!0),{className:Rt("recharts-cross",p),d:DDe(n,s,f,m,l,u)}))},IDe=MS,MDe=sq,FDe=Dl;function LDe(e,t){return e&&e.length?IDe(e,FDe(t),MDe):void 0}var $De=LDe;const BDe=fr($De);var UDe=MS,zDe=Dl,VDe=iq;function WDe(e,t){return e&&e.length?UDe(e,zDe(t),VDe):void 0}var HDe=WDe;const qDe=fr(HDe);var KDe=["cx","cy","angle","ticks","axisLine"],GDe=["ticks","tick","angle","tickFormatter","stroke"];function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(this,arguments)}function CL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CL(Object(r),!0).forEach(function(n){zS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EL(e,t){if(e==null)return{};var r=YDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yq(n.key),n)}}function JDe(e,t,r){return t&&TL(e.prototype,t),r&&TL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QDe(e,t,r){return t=Nw(t),ZDe(e,Gq()?Reflect.construct(t,r||[],Nw(e).constructor):t.apply(e,r))}function ZDe(e,t){if(t&&(ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eRe(e)}function eRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gq=function(){return!!e})()}function Nw(e){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nw(e)}function tRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OE(e,t)}function OE(e,t){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OE(e,t)}function zS(e,t,r){return t=Yq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=rRe(e,"string");return ap(t)=="symbol"?t:t+""}function rRe(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VS=function(e){function t(){return XDe(this,t),QDe(this,t,arguments)}return tRe(t,e),JDe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,i=s.angle,l=s.cx,c=s.cy;return Cr(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=BDe(l,function(d){return d.coordinate||0}),u=qDe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=EL(n,KDe),d=l.reduce(function(p,g){return[Math.min(p[0],g.coordinate),Math.max(p[1],g.coordinate)]},[1/0,-1/0]),f=Cr(a,s,d[0],i),h=Cr(a,s,d[1],i),m=vd(vd(vd({},bt(u,!1)),{},{fill:"none"},bt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return ie.createElement("line",Tg({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=EL(a,GDe),f=this.getTickTextAnchor(),h=bt(d,!1),m=bt(i,!1),p=s.map(function(g,v){var y=n.getTickValueCoord(g),b=vd(vd(vd(vd({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},y),{},{payload:g});return ie.createElement(ar,Tg({className:Rt("recharts-polar-radius-axis-tick",Rq(i)),key:"tick-".concat(g.coordinate)},kf(n.props,g,v)),t.renderTickItem(i,b,c?c(g.value,v):g.value))});return ie.createElement(ar,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,i=n.tick;return!a||!a.length?null:ie.createElement(ar,{className:Rt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),i&&this.renderTicks(),qn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var i;return ie.isValidElement(n)?i=ie.cloneElement(n,a):Nt(n)?i=n(a):i=ie.createElement(Nf,Tg({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),i}}])}(x.PureComponent);zS(VS,"displayName","PolarRadiusAxis");zS(VS,"axisType","radiusAxis");zS(VS,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function Ed(){return Ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ed.apply(this,arguments)}function AL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(r),!0).forEach(function(n){WS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jq(n.key),n)}}function aRe(e,t,r){return t&&OL(e.prototype,t),r&&OL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sRe(e,t,r){return t=Cw(t),iRe(e,Xq()?Reflect.construct(t,r||[],Cw(e).constructor):t.apply(e,r))}function iRe(e,t){if(t&&(sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oRe(e)}function oRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xq=function(){return!!e})()}function Cw(e){return Cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cw(e)}function lRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PE(e,t)}function PE(e,t){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PE(e,t)}function WS(e,t,r){return t=Jq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jq(e){var t=cRe(e,"string");return sp(t)=="symbol"?t:t+""}function cRe(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uRe=Math.PI/180,PL=1e-5,HS=function(e){function t(){return nRe(this,t),sRe(this,t,arguments)}return lRe(t,e),aRe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,i=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Cr(s,i,l,n.coordinate),h=Cr(s,i,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*uRe),i;return s>PL?i=a==="outer"?"start":"end":s<-PL?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=xd(xd({},bt(this.props,!1)),{},{fill:"none"},bt(l,!1));if(c==="circle")return ie.createElement(US,Ed({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:i}));var d=this.props.ticks,f=d.map(function(h){return Cr(a,s,i,h.coordinate)});return ie.createElement(kDe,Ed({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=bt(this.props,!1),f=bt(i,!1),h=xd(xd({},d),{},{fill:"none"},bt(l,!1)),m=s.map(function(p,g){var v=n.getTickLineCoord(p),y=n.getTickTextAnchor(p),b=xd(xd(xd({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:p,x:v.x2,y:v.y2});return ie.createElement(ar,Ed({className:Rt("recharts-polar-angle-axis-tick",Rq(i)),key:"tick-".concat(p.coordinate)},kf(n.props,p,g)),l&&ie.createElement("line",Ed({className:"recharts-polar-angle-axis-tick-line"},h,v)),i&&t.renderTickItem(i,b,c?c(p.value,g):p.value))});return ie.createElement(ar,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,i=n.axisLine;return s<=0||!a||!a.length?null:ie.createElement(ar,{className:Rt("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var i;return ie.isValidElement(n)?i=ie.cloneElement(n,a):Nt(n)?i=n(a):i=ie.createElement(Nf,Ed({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),i}}])}(x.PureComponent);WS(HS,"displayName","PolarAngleAxis");WS(HS,"axisType","angleAxis");WS(HS,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var dRe=tH,fRe=dRe(Object.getPrototypeOf,Object),hRe=fRe,mRe=Tc,pRe=hRe,gRe=Ac,vRe="[object Object]",xRe=Function.prototype,yRe=Object.prototype,Qq=xRe.toString,bRe=yRe.hasOwnProperty,wRe=Qq.call(Object);function _Re(e){if(!gRe(e)||mRe(e)!=vRe)return!1;var t=pRe(e);if(t===null)return!0;var r=bRe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Qq.call(r)==wRe}var SRe=_Re;const jRe=fr(SRe);var kRe=Tc,NRe=Ac,CRe="[object Boolean]";function ERe(e){return e===!0||e===!1||NRe(e)&&kRe(e)==CRe}var TRe=ERe;const ARe=fr(TRe);function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(e)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ew.apply(this,arguments)}function ORe(e,t){return IRe(e)||RRe(e,t)||DRe(e,t)||PRe()}function PRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DRe(e,t){if(e){if(typeof e=="string")return DL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DL(e,t)}}function DL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function IRe(e){if(Array.isArray(e))return e}function RL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RL(Object(r),!0).forEach(function(n){MRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MRe(e,t,r){return t=FRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FRe(e){var t=LRe(e,"string");return Hv(t)=="symbol"?t:t+""}function LRe(e,t){if(Hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ML=function(t,r,n,a,s){var i=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-i/2,",").concat(r+s),l+="L ".concat(t+n-i/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},$Re={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BRe=function(t){var r=IL(IL({},$Re),t),n=x.useRef(),a=x.useState(-1),s=ORe(a,2),i=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Rt("recharts-trapezoid",m);return y?ie.createElement(kl,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:p,isActive:y},function(w){var _=w.upperWidth,S=w.lowerWidth,k=w.height,j=w.x,N=w.y;return ie.createElement(kl,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:p},ie.createElement("path",Ew({},bt(r,!0),{className:b,d:ML(j,N,_,S,k),ref:n})))}):ie.createElement("g",null,ie.createElement("path",Ew({},bt(r,!0),{className:b,d:ML(c,u,d,f,h)})))},URe=["option","shapeType","propTransformer","activeClassName","isActive"];function qv(e){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qv(e)}function zRe(e,t){if(e==null)return{};var r=VRe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FL(Object(r),!0).forEach(function(n){WRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WRe(e,t,r){return t=HRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HRe(e){var t=qRe(e,"string");return qv(t)=="symbol"?t:t+""}function qRe(e,t){if(qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KRe(e,t){return Tw(Tw({},t),e)}function GRe(e,t){return e==="symbols"}function LL(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ie.createElement(NP,r);case"trapezoid":return ie.createElement(BRe,r);case"sector":return ie.createElement(Fq,r);case"symbols":if(GRe(t))return ie.createElement(HO,r);break;default:return null}}function YRe(e){return x.isValidElement(e)?e.props:e}function Zq(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?KRe:n,s=e.activeClassName,i=s===void 0?"recharts-active-shape":s,l=e.isActive,c=zRe(e,URe),u;if(x.isValidElement(t))u=x.cloneElement(t,Tw(Tw({},c),YRe(t)));else if(Nt(t))u=t(c);else if(jRe(t)&&!ARe(t)){var d=a(t,c);u=ie.createElement(LL,{shapeType:r,elementProps:d})}else{var f=c;u=ie.createElement(LL,{shapeType:r,elementProps:f})}return l?ie.createElement(ar,{className:i},u):u}function qS(e,t){return t!=null&&"trapezoids"in e.props}function KS(e,t){return t!=null&&"sectors"in e.props}function Kv(e,t){return t!=null&&"points"in e.props}function XRe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function JRe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function QRe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function ZRe(e,t){var r;return qS(e,t)?r=XRe:KS(e,t)?r=JRe:Kv(e,t)&&(r=QRe),r}function eIe(e,t){var r;return qS(e,t)?r="trapezoids":KS(e,t)?r="sectors":Kv(e,t)&&(r="points"),r}function tIe(e,t){if(qS(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(KS(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Kv(e,t)?t.payload:{}}function rIe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=eIe(r,t),s=tIe(r,t),i=n.filter(function(c,u){var d=Wx(s,c),f=r.props[a].filter(function(p){var g=ZRe(r,t);return g(p,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(i[i.length-1]);return l}var qb;function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gh.apply(this,arguments)}function $L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(r),!0).forEach(function(n){Ii(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tK(n.key),n)}}function aIe(e,t,r){return t&&BL(e.prototype,t),r&&BL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sIe(e,t,r){return t=Aw(t),iIe(e,eK()?Reflect.construct(t,r||[],Aw(e).constructor):t.apply(e,r))}function iIe(e,t){if(t&&(ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oIe(e)}function oIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eK=function(){return!!e})()}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aw(e)}function lIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DE(e,t)}function DE(e,t){return DE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DE(e,t)}function Ii(e,t,r){return t=tK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tK(e){var t=cIe(e,"string");return ip(t)=="symbol"?t:t+""}function cIe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ts=function(e){function t(r){var n;return nIe(this,t),n=sIe(this,t,[r]),Ii(n,"pieRef",null),Ii(n,"sectorRefs",[]),Ii(n,"id",Zp("recharts-pie-")),Ii(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Nt(a)&&a()}),Ii(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Nt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return lIe(t,e),aIe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=bt(this.props,!1),f=bt(i,!1),h=bt(l,!1),m=i&&i.offsetRadius||20,p=n.map(function(g,v){var y=(g.startAngle+g.endAngle)/2,b=Cr(g.cx,g.cy,g.outerRadius+m,y),w=jr(jr(jr(jr({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,g.cx)},b),_=jr(jr(jr(jr({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[Cr(g.cx,g.cy,g.outerRadius,y),b]}),S=c;return Pt(c)&&Pt(u)?S="value":Pt(c)&&(S=u),ie.createElement(ar,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(i,w,In(g,S)))});return ie.createElement(ar,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,i=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?i:h,p=jr(jr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ie.createElement(ar,Gh({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},kf(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ie.createElement(Zq,Gh({option:m,isActive:f,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return ie.createElement(kl,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var g=p.t,v=[],y=s&&s[0],b=y.startAngle;return s.forEach(function(w,_){var S=h&&h[_],k=_>0?ui(w,"paddingAngle",0):0;if(S){var j=ei(S.endAngle-S.startAngle,w.endAngle-w.startAngle),N=jr(jr({},w),{},{startAngle:b+k,endAngle:b+j(g)+k});v.push(N),b=N.endAngle}else{var C=w.endAngle,T=w.startAngle,D=ei(0,C-T),A=D(g),H=jr(jr({},w),{},{startAngle:b+k,endAngle:b+A+k});v.push(H),b=H.endAngle}}),ie.createElement(ar,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,i=this.state.prevSectors;return s&&a&&a.length&&(!i||!Wx(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,i=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,p=this.state.isAnimationFinished;if(s||!i||!i.length||!Ke(u)||!Ke(d)||!Ke(f)||!Ke(h))return null;var g=Rt("recharts-pie",l);return ie.createElement(ar,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(i),qn.renderCallByParent(this.props,null,!1),(!m||p)&&cc.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(ie.isValidElement(n))return ie.cloneElement(n,a);if(Nt(n))return n(a);var i=Rt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ie.createElement(ww,Gh({},a,{key:s,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,a,s){if(ie.isValidElement(n))return ie.cloneElement(n,a);var i=s;if(Nt(n)&&(i=n(a),ie.isValidElement(i)))return i;var l=Rt("recharts-pie-label-text",typeof n!="boolean"&&!Nt(n)?n.className:"");return ie.createElement(Nf,Gh({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(x.PureComponent);qb=ts;Ii(ts,"displayName","Pie");Ii(ts,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ml.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ii(ts,"parseDeltaAngle",function(e,t){var r=as(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Ii(ts,"getRealPieData",function(e){var t=e.data,r=e.children,n=bt(e,!1),a=di(r,sl);return t&&t.length?t.map(function(s,i){return jr(jr(jr({payload:s},n),s),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(s){return jr(jr({},n),s.props)}):[]});Ii(ts,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,i=Dq(a,s),l=n+ss(e.cx,a,a/2),c=r+ss(e.cy,s,s/2),u=ss(e.innerRadius,i,0),d=ss(e.outerRadius,i,i*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ii(ts,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?jr(jr({},t.type.defaultProps),t.props):t.props,a=qb.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),p=qb.parseCoordinateOfPie(n,r),g=qb.parseDeltaAngle(i,l),v=Math.abs(g),y=u;Pt(u)&&Pt(f)?(Co(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Pt(u)&&(Co(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var b=a.filter(function(N){return In(N,y,0)!==0}).length,w=(v>=360?b:b-1)*c,_=v-b*m-w,S=a.reduce(function(N,C){var T=In(C,y,0);return N+(Ke(T)?T:0)},0),k;if(S>0){var j;k=a.map(function(N,C){var T=In(N,y,0),D=In(N,d,C),A=(Ke(T)?T:0)/S,H;C?H=j.endAngle+as(g)*c*(T!==0?1:0):H=i;var X=H+as(g)*((T!==0?m:0)+A*_),L=(H+X)/2,I=(p.innerRadius+p.outerRadius)/2,W=[{name:D,value:T,payload:N,dataKey:y,type:h}],F=Cr(p.cx,p.cy,I,L);return j=jr(jr(jr({percent:A,cornerRadius:s,name:D,tooltipPayload:W,midAngle:L,middleRadius:I,tooltipPosition:F},N),p),{},{value:In(N,y),startAngle:H,endAngle:X,payload:N,paddingAngle:as(g)*c}),j})}return jr(jr({},p),{},{sectors:k,data:a})});var uIe=Math.ceil,dIe=Math.max;function fIe(e,t,r,n){for(var a=-1,s=dIe(uIe((t-e)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=e,e+=r;return i}var hIe=fIe,mIe=bH,UL=1/0,pIe=17976931348623157e292;function gIe(e){if(!e)return e===0?e:0;if(e=mIe(e),e===UL||e===-UL){var t=e<0?-1:1;return t*pIe}return e===e?e:0}var rK=gIe,vIe=hIe,xIe=TS,aN=rK;function yIe(e){return function(t,r,n){return n&&typeof n!="number"&&xIe(t,r,n)&&(r=n=void 0),t=aN(t),r===void 0?(r=t,t=0):r=aN(r),n=n===void 0?t<r?1:-1:aN(n),vIe(t,r,n,e)}}var bIe=yIe,wIe=bIe,_Ie=wIe(),SIe=_Ie;const Ow=fr(SIe);function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}function zL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zL(Object(r),!0).forEach(function(n){nK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nK(e,t,r){return t=jIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jIe(e){var t=kIe(e,"string");return Gv(t)=="symbol"?t:t+""}function kIe(e,t){if(Gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NIe=["Webkit","Moz","O","ms"],CIe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=NIe.reduce(function(s,i){return VL(VL({},s),{},nK({},i+n,r))},{});return a[t]=r,a};function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pw.apply(this,arguments)}function WL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WL(Object(r),!0).forEach(function(n){Gs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sK(n.key),n)}}function TIe(e,t,r){return t&&HL(e.prototype,t),r&&HL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AIe(e,t,r){return t=Dw(t),OIe(e,aK()?Reflect.construct(t,r||[],Dw(e).constructor):t.apply(e,r))}function OIe(e,t){if(t&&(op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PIe(e)}function PIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aK=function(){return!!e})()}function Dw(e){return Dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dw(e)}function DIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RE(e,t)}function RE(e,t){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RE(e,t)}function Gs(e,t,r){return t=sK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=RIe(e,"string");return op(t)=="symbol"?t:t+""}function RIe(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IIe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,i=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=kg().domain(Ow(0,c)).range([s,s+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},qL=function(t){return t.changedTouches&&!!t.changedTouches.length},lp=function(e){function t(r){var n;return EIe(this,t),n=AIe(this,t,[r]),Gs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Gs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Gs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Gs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Gs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Gs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Gs(n,"handleSlideDragStart",function(a){var s=qL(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return DIe(t,e),TIe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(i,f),p=t.getIndexInRange(i,h);return{startIndex:m-m%c,endIndex:p===d?d:p-p%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=In(s[n],l,n);return Nt(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,p=c.onChange,g=n.pageX-s;g>0?g=Math.min(g,u+d-f-l,u+d-f-i):g<0&&(g=Math.max(g,u-i,u-l));var v=this.getIndex({startX:i+g,endX:l+g});(v.startIndex!==h||v.endIndex!==m)&&p&&p(v),this.setState({startX:i+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=qL(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,p=d.onChange,g=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-s;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),y[i]=u+b;var w=this.getIndex(y),_=w.startIndex,S=w.endIndex,k=function(){var N=v.length-1;return i==="startX"&&(l>c?_%g===0:S%g===0)||l<c&&S===N||i==="endX"&&(l>c?S%g===0:_%g===0)||l>c&&S===N};this.setState(Gs(Gs({},i,u+b),"brushMoveStartX",n.pageX),function(){p&&k()&&p(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Gs({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return ie.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?ie.cloneElement(f,{x:a,y:s,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,p=c.data,g=c.startIndex,v=c.endIndex,y=Math.max(n,this.props.x),b=sN(sN({},bt(this.props,!1)),{},{x:y,y:u,width:d,height:f}),w=m||"Min value: ".concat((s=p[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=p[v])===null||i===void 0?void 0:i.name);return ie.createElement(ar,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return ie.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,p={pointerEvents:"none",fill:u};return ie.createElement(ar,{className:"recharts-brush-texts"},ie.createElement(Nf,Pw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:i+l/2},p),this.getTextOfTick(a)),ie.createElement(Nf,Pw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:i+l/2},p),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,p=h.endX,g=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Ke(l)||!Ke(c)||!Ke(u)||!Ke(d)||u<=0||d<=0)return null;var w=Rt("recharts-brush",s),_=ie.Children.count(i)===1,S=CIe("userSelect","none");return ie.createElement(ar,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,p),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(p,"endX"),(g||v||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return ie.createElement(ie.Fragment,null,ie.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),ie.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),ie.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return ie.isValidElement(n)?s=ie.cloneElement(n,a):Nt(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return sN({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?IIe({data:s,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(x.PureComponent);Gs(lp,"displayName","Brush");Gs(lp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var MIe=QO;function FIe(e,t){var r;return MIe(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var LIe=FIe,$Ie=KW,BIe=Dl,UIe=LIe,zIe=Ws,VIe=TS;function WIe(e,t,r){var n=zIe(e)?$Ie:UIe;return r&&VIe(e,t,r)&&(t=void 0),n(e,BIe(t))}var HIe=WIe;const qIe=fr(HIe);var gl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},KL=pH;function KIe(e,t,r){t=="__proto__"&&KL?KL(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var GIe=KIe,YIe=GIe,XIe=hH,JIe=Dl;function QIe(e,t){var r={};return t=JIe(t),XIe(e,function(n,a,s){YIe(r,a,t(n,a,s))}),r}var ZIe=QIe;const eMe=fr(ZIe);function tMe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var rMe=tMe,nMe=QO;function aMe(e,t){var r=!0;return nMe(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var sMe=aMe,iMe=rMe,oMe=sMe,lMe=Dl,cMe=Ws,uMe=TS;function dMe(e,t,r){var n=cMe(e)?iMe:oMe;return r&&uMe(e,t,r)&&(t=void 0),n(e,lMe(t))}var fMe=dMe;const iK=fr(fMe);var hMe=["x","y"];function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function IE(){return IE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IE.apply(this,arguments)}function GL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GL(Object(r),!0).forEach(function(n){mMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mMe(e,t,r){return t=pMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pMe(e){var t=gMe(e,"string");return Yv(t)=="symbol"?t:t+""}function gMe(e,t){if(Yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vMe(e,t){if(e==null)return{};var r=xMe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yMe(e,t){var r=e.x,n=e.y,a=vMe(e,hMe),s="".concat(r),i=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return L0(L0(L0(L0(L0({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function YL(e){return ie.createElement(Zq,IE({shapeType:"rectangle",propTransformer:yMe,activeClassName:"recharts-active-bar"},e))}var bMe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=Ke(n)||Hve(n);return s?t(n,a):(s||Ef(),r)}},wMe=["value","background"],oK;function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function _Me(e,t){if(e==null)return{};var r=SMe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rw.apply(this,arguments)}function XL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XL(Object(r),!0).forEach(function(n){vu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cK(n.key),n)}}function kMe(e,t,r){return t&&JL(e.prototype,t),r&&JL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NMe(e,t,r){return t=Iw(t),CMe(e,lK()?Reflect.construct(t,r||[],Iw(e).constructor):t.apply(e,r))}function CMe(e,t){if(t&&(cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EMe(e)}function EMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lK=function(){return!!e})()}function Iw(e){return Iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iw(e)}function TMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ME(e,t)}function ME(e,t){return ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ME(e,t)}function vu(e,t,r){return t=cK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cK(e){var t=AMe(e,"string");return cp(t)=="symbol"?t:t+""}function AMe(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qx=function(e){function t(){var r;jMe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=NMe(this,t,[].concat(a)),vu(r,"state",{isAnimationFinished:!1}),vu(r,"id",Zp("recharts-bar-")),vu(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),vu(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return TMe(t,e),kMe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,i=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=bt(this.props,!1);return n&&n.map(function(f,h){var m=h===c,p=m?u:i,g=pn(pn(pn({},d),f),{},{isActive:m,option:p,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ie.createElement(ar,Rw({className:"recharts-bar-rectangle"},kf(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),ie.createElement(YL,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,i=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return ie.createElement(kl,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var p=m.t,g=s.map(function(v,y){var b=h&&h[y];if(b){var w=ei(b.x,v.x),_=ei(b.y,v.y),S=ei(b.width,v.width),k=ei(b.height,v.height);return pn(pn({},v),{},{x:w(p),y:_(p),width:S(p),height:k(p)})}if(i==="horizontal"){var j=ei(0,v.height),N=j(p);return pn(pn({},v),{},{y:v.y+v.height-N,height:N})}var C=ei(0,v.width),T=C(p);return pn(pn({},v),{},{width:T})});return ie.createElement(ar,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,i=this.state.prevData;return s&&a&&a.length&&(!i||!Wx(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,i=a.dataKey,l=a.activeIndex,c=bt(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=_Me(u,wMe);if(!f)return null;var m=pn(pn(pn(pn(pn({},h),{},{fill:"#eee"},f),c),kf(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return ie.createElement(YL,Rw({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=di(d,Hx);if(!f)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,m=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:In(v,y)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ie.createElement(ar,p,f.map(function(g){return ie.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,i=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,p=n.background,g=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,y=Rt("recharts-bar",i),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=b||w,S=Pt(g)?this.id:g;return ie.createElement(ar,{className:y},b||w?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(S)},ie.createElement("rect",{x:b?u:u-f/2,y:w?d:d-h/2,width:b?f:f*2,height:w?h:h*2}))):null,ie.createElement(ar,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!m||v)&&cc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(x.PureComponent);oK=qx;vu(qx,"displayName","Bar");vu(qx,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ml.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});vu(qx,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,i=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=uOe(n,r);if(!m)return null;var p=t.layout,g=r.type.defaultProps,v=g!==void 0?pn(pn({},g),r.props):r.props,y=v.dataKey,b=v.children,w=v.minPointSize,_=p==="horizontal"?i:s,S=u?_.scale.domain():null,k=vOe({numericAxis:_}),j=di(b,sl),N=f.map(function(C,T){var D,A,H,X,L,I;u?D=dOe(u[d+T],S):(D=In(C,y),Array.isArray(D)||(D=[k,D]));var W=bMe(w,oK.defaultProps.minPointSize)(D[1],T);if(p==="horizontal"){var F,M=[i.scale(D[0]),i.scale(D[1])],G=M[0],Q=M[1];A=B3({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:C,index:T}),H=(F=Q??G)!==null&&F!==void 0?F:void 0,X=m.size;var E=G-Q;if(L=Number.isNaN(E)?0:E,I={x:A,y:i.y,width:X,height:i.height},Math.abs(W)>0&&Math.abs(L)<Math.abs(W)){var B=as(L||W)*(Math.abs(W)-Math.abs(L));H-=B,L+=B}}else{var U=[s.scale(D[0]),s.scale(D[1])],q=U[0],ee=U[1];if(A=q,H=B3({axis:i,ticks:c,bandSize:a,offset:m.offset,entry:C,index:T}),X=ee-q,L=m.size,I={x:s.x,y:H,width:s.width,height:L},Math.abs(W)>0&&Math.abs(X)<Math.abs(W)){var oe=as(X||W)*(Math.abs(W)-Math.abs(X));X+=oe}}return pn(pn(pn({},C),{},{x:A,y:H,width:X,height:L,value:u?D:D[1],payload:C,background:I},j&&j[T]&&j[T].props),{},{tooltipPayload:[Oq(r,C)],tooltipPosition:{x:A+X/2,y:H+L/2}})});return pn({data:N,layout:p},h)});function Xv(e){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(e)}function OMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uK(n.key),n)}}function PMe(e,t,r){return t&&QL(e.prototype,t),r&&QL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZL(Object(r),!0).forEach(function(n){GS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GS(e,t,r){return t=uK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uK(e){var t=DMe(e,"string");return Xv(t)=="symbol"?t:t+""}function DMe(e,t){if(Xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RMe=function(t,r,n,a,s){var i=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Xs(u,qx);return d.reduce(function(m,p){var g=r[p],v=g.orientation,y=g.domain,b=g.padding,w=b===void 0?{}:b,_=g.mirror,S=g.reversed,k="".concat(v).concat(_?"Mirror":""),j,N,C,T,D;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var A=y[1]-y[0],H=1/0,X=g.categoricalDomain.sort(Gve);if(X.forEach(function(U,q){q>0&&(H=Math.min((U||0)-(X[q-1]||0),H))}),Number.isFinite(H)){var L=H/A,I=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(j=L*I/2),g.padding==="no-gap"){var W=ss(t.barCategoryGap,L*I),F=L*I/2;j=F-W-(F-W)/I*W}}}a==="xAxis"?N=[n.left+(w.left||0)+(j||0),n.left+n.width-(w.right||0)-(j||0)]:a==="yAxis"?N=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(j||0),n.top+n.height-(w.bottom||0)-(j||0)]:N=g.range,S&&(N=[N[1],N[0]]);var M=Cq(g,s,h),G=M.scale,Q=M.realScaleType;G.domain(y).range(N),Eq(G);var E=Tq(G,mo(mo({},g),{},{realScaleType:Q}));a==="xAxis"?(D=v==="top"&&!_||v==="bottom"&&_,C=n.left,T=f[k]-D*g.height):a==="yAxis"&&(D=v==="left"&&!_||v==="right"&&_,C=f[k]-D*g.width,T=n.top);var B=mo(mo(mo({},g),E),{},{realScaleType:Q,x:C,y:T,scale:G,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return B.bandSize=xw(B,E),!g.hide&&a==="xAxis"?f[k]+=(D?-1:1)*B.height:g.hide||(f[k]+=(D?-1:1)*B.width),mo(mo({},m),{},GS({},p,B))},{})},dK=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},IMe=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return dK({x:r,y:n},{x:a,y:s})},fK=function(){function e(t){OMe(this,e),this.scale=t}return PMe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();GS(fK,"EPS",1e-4);var CP=function(t){var r=Object.keys(t).reduce(function(n,a){return mo(mo({},n),{},GS({},a,fK.create(t[a])))},{});return mo(mo({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return eMe(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return iK(a,function(s,i){return r[i].isInRange(s)})}})};function MMe(e){return(e%180+180)%180}var FMe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=MMe(a),i=s*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},LMe=Dl,$Me=$x,BMe=CS;function UMe(e){return function(t,r,n){var a=Object(t);if(!$Me(t)){var s=LMe(r);t=BMe(t),r=function(l){return s(a[l],l,a)}}var i=e(t,r,n);return i>-1?a[s?t[i]:i]:void 0}}var zMe=UMe,VMe=rK;function WMe(e){var t=VMe(e),r=t%1;return t===t?r?t-r:t:0}var HMe=WMe,qMe=oH,KMe=Dl,GMe=HMe,YMe=Math.max;function XMe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:GMe(r);return a<0&&(a=YMe(n+a,0)),qMe(e,KMe(t),a)}var JMe=XMe,QMe=zMe,ZMe=JMe,eFe=QMe(ZMe),tFe=eFe;const rFe=fr(tFe);var nFe=Yge(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),EP=x.createContext(void 0),TP=x.createContext(void 0),hK=x.createContext(void 0),mK=x.createContext({}),pK=x.createContext(void 0),gK=x.createContext(0),vK=x.createContext(0),e$=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=t.clipPathId,l=t.children,c=t.width,u=t.height,d=nFe(s);return ie.createElement(EP.Provider,{value:n},ie.createElement(TP.Provider,{value:a},ie.createElement(mK.Provider,{value:s},ie.createElement(hK.Provider,{value:d},ie.createElement(pK.Provider,{value:i},ie.createElement(gK.Provider,{value:u},ie.createElement(vK.Provider,{value:c},l)))))))},aFe=function(){return x.useContext(pK)},xK=function(t){var r=x.useContext(EP);r==null&&Ef();var n=r[t];return n==null&&Ef(),n},sFe=function(){var t=x.useContext(EP);return eu(t)},iFe=function(){var t=x.useContext(TP),r=rFe(t,function(n){return iK(n.domain,Number.isFinite)});return r||eu(t)},yK=function(t){var r=x.useContext(TP);r==null&&Ef();var n=r[t];return n==null&&Ef(),n},oFe=function(){var t=x.useContext(hK);return t},lFe=function(){return x.useContext(mK)},AP=function(){return x.useContext(vK)},OP=function(){return x.useContext(gK)};function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function cFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wK(n.key),n)}}function dFe(e,t,r){return t&&uFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fFe(e,t,r){return t=Mw(t),hFe(e,bK()?Reflect.construct(t,r||[],Mw(e).constructor):t.apply(e,r))}function hFe(e,t){if(t&&(up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mFe(e)}function mFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bK=function(){return!!e})()}function Mw(e){return Mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mw(e)}function pFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FE(e,t)}function FE(e,t){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FE(e,t)}function t$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t$(Object(r),!0).forEach(function(n){PP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PP(e,t,r){return t=wK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=gFe(e,"string");return up(t)=="symbol"?t:t+""}function gFe(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vFe(e,t){return wFe(e)||bFe(e,t)||yFe(e,t)||xFe()}function xFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yFe(e,t){if(e){if(typeof e=="string")return n$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n$(e,t)}}function n$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function wFe(e){if(Array.isArray(e))return e}function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LE.apply(this,arguments)}var _Fe=function(t,r){var n;return ie.isValidElement(t)?n=ie.cloneElement(t,r):Nt(t)?n=t(r):n=ie.createElement("line",LE({},r,{className:"recharts-reference-line-line"})),n},SFe=function(t,r,n,a,s,i,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var p=u.y,g=t.y.apply(p,{position:i});if(gl(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(r){var y=u.x,b=t.x.apply(y,{position:i});if(gl(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+m},{x:b,y:f}];return l==="top"?w.reverse():w}if(a){var _=u.segment,S=_.map(function(k){return t.apply(k,{position:i})});return gl(u,"discard")&&qIe(S,function(k){return!t.isInRange(k)})?null:S}return null};function jFe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=aFe(),d=xK(a),f=yK(s),h=oFe();if(!u||!h)return null;Co(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=CP({x:d.scale,y:f.scale}),p=Fn(t),g=Fn(r),v=n&&n.length===2,y=SFe(m,p,g,v,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var b=vFe(y,2),w=b[0],_=w.x,S=w.y,k=b[1],j=k.x,N=k.y,C=gl(e,"hidden")?"url(#".concat(u,")"):void 0,T=r$(r$({clipPath:C},bt(e,!0)),{},{x1:_,y1:S,x2:j,y2:N});return ie.createElement(ar,{className:Rt("recharts-reference-line",l)},_Fe(i,T),qn.renderCallByParent(e,IMe({x1:_,y1:S,x2:j,y2:N})))}var DP=function(e){function t(){return cFe(this,t),fFe(this,t,arguments)}return pFe(t,e),dFe(t,[{key:"render",value:function(){return ie.createElement(jFe,this.props)}}])}(ie.Component);PP(DP,"displayName","ReferenceLine");PP(DP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $E(){return $E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$E.apply(this,arguments)}function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function a$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a$(Object(r),!0).forEach(function(n){YS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SK(n.key),n)}}function CFe(e,t,r){return t&&NFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EFe(e,t,r){return t=Fw(t),TFe(e,_K()?Reflect.construct(t,r||[],Fw(e).constructor):t.apply(e,r))}function TFe(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AFe(e)}function AFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_K=function(){return!!e})()}function Fw(e){return Fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fw(e)}function OFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BE(e,t)}function BE(e,t){return BE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BE(e,t)}function YS(e,t,r){return t=SK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SK(e){var t=PFe(e,"string");return dp(t)=="symbol"?t:t+""}function PFe(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DFe=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,i=CP({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return gl(t,"discard")&&!i.isInRange(l)?null:l},XS=function(e){function t(){return kFe(this,t),EFe(this,t,arguments)}return OFe(t,e),CFe(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=Fn(a),d=Fn(s);if(Co(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=DFe(this.props);if(!f)return null;var h=f.x,m=f.y,p=this.props,g=p.shape,v=p.className,y=gl(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=s$(s$({clipPath:y},bt(this.props,!0)),{},{cx:h,cy:m});return ie.createElement(ar,{className:Rt("recharts-reference-dot",v)},t.renderDot(g,b),qn.renderCallByParent(this.props,{x:h-i,y:m-i,width:2*i,height:2*i}))}}])}(ie.Component);YS(XS,"displayName","ReferenceDot");YS(XS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});YS(XS,"renderDot",function(e,t){var r;return ie.isValidElement(e)?r=ie.cloneElement(e,t):Nt(e)?r=e(t):r=ie.createElement(US,$E({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function UE(){return UE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UE.apply(this,arguments)}function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function i$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i$(Object(r),!0).forEach(function(n){JS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kK(n.key),n)}}function MFe(e,t,r){return t&&IFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FFe(e,t,r){return t=Lw(t),LFe(e,jK()?Reflect.construct(t,r||[],Lw(e).constructor):t.apply(e,r))}function LFe(e,t){if(t&&(fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Fe(e)}function $Fe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jK=function(){return!!e})()}function Lw(e){return Lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lw(e)}function BFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zE(e,t)}function zE(e,t){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zE(e,t)}function JS(e,t,r){return t=kK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kK(e){var t=UFe(e,"string");return fp(t)=="symbol"?t:t+""}function UFe(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zFe=function(t,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=CP({x:d.scale,y:f.scale}),m={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},p={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return gl(s,"discard")&&(!h.isInRange(m)||!h.isInRange(p))?null:dK(m,p)},QS=function(e){function t(){return RFe(this,t),FFe(this,t,arguments)}return BFe(t,e),MFe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Co(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Fn(a),h=Fn(s),m=Fn(i),p=Fn(l),g=this.props.shape;if(!f&&!h&&!m&&!p&&!g)return null;var v=zFe(f,h,m,p,this.props);if(!v&&!g)return null;var y=gl(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ie.createElement(ar,{className:Rt("recharts-reference-area",c)},t.renderRect(g,o$(o$({clipPath:y},bt(this.props,!0)),v)),qn.renderCallByParent(this.props,v))}}])}(ie.Component);JS(QS,"displayName","ReferenceArea");JS(QS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});JS(QS,"renderRect",function(e,t){var r;return ie.isValidElement(e)?r=ie.cloneElement(e,t):Nt(e)?r=e(t):r=ie.createElement(NP,UE({},t,{className:"recharts-reference-area-rect"})),r});function NK(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function VFe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return FMe(n,r)}function WFe(e,t,r){var n=r==="width",a=e.x,s=e.y,i=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function $w(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function HFe(e,t){return NK(e,t+1)}function qFe(e,t,r,n,a){for(var s=(n||[]).slice(),i=t.start,l=t.end,c=0,u=1,d=i,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:NK(n,u)};var g=c,v,y=function(){return v===void 0&&(v=r(p,g)),v},b=p.coordinate,w=c===0||$w(e,b,y,d,l);w||(c=0,d=i,u+=1),w&&(d=b+e*(y()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Jv(e){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jv(e)}function l$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l$(Object(r),!0).forEach(function(n){KFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KFe(e,t,r){return t=GFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GFe(e){var t=YFe(e,"string");return Jv(t)=="symbol"?t:t+""}function YFe(e,t){if(Jv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XFe(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],p,g=function(){return p===void 0&&(p=r(m,h)),p};if(h===i-1){var v=e*(m.coordinate+e*g()/2-c);s[h]=m=ka(ka({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=ka(ka({},m),{},{tickCoord:m.coordinate});var y=$w(e,m.tickCoord,g,l,c);y&&(c=m.tickCoord-e*(g()/2+a),s[h]=ka(ka({},m),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return s}function JFe(e,t,r,n,a,s){var i=(n||[]).slice(),l=i.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);i[l-1]=d=ka(ka({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=$w(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),i[l-1]=ka(ka({},d),{},{isShow:!0}))}for(var p=s?l-1:l,g=function(b){var w=i[b],_,S=function(){return _===void 0&&(_=r(w,b)),_};if(b===0){var k=e*(w.coordinate-e*S()/2-c);i[b]=w=ka(ka({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else i[b]=w=ka(ka({},w),{},{tickCoord:w.coordinate});var j=$w(e,w.tickCoord,S,c,u);j&&(c=w.tickCoord+e*(S()/2+a),i[b]=ka(ka({},w),{},{isShow:!0}))},v=0;v<p;v++)g(v);return i}function RP(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,i=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Ke(c)||ml.isSsr)return HFe(a,typeof c=="number"&&Ke(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",p=d&&m==="width"?jg(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(w,_){var S=Nt(u)?u(w.value,_):w.value;return m==="width"?VFe(jg(S,{fontSize:t,letterSpacing:r}),p,f):jg(S,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?as(a[1].coordinate-a[0].coordinate):1,y=WFe(s,v,m);return c==="equidistantPreserveStart"?qFe(v,y,g,a,i):(c==="preserveStart"||c==="preserveStartEnd"?h=JFe(v,y,g,a,i,c==="preserveStartEnd"):h=XFe(v,y,g,a,i),h.filter(function(b){return b.isShow}))}var QFe=["viewBox"],ZFe=["viewBox"],e3e=["ticks"];function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yh.apply(this,arguments)}function c$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c$(Object(r),!0).forEach(function(n){IP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iN(e,t){if(e==null)return{};var r=t3e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function r3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EK(n.key),n)}}function n3e(e,t,r){return t&&u$(e.prototype,t),r&&u$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a3e(e,t,r){return t=Bw(t),s3e(e,CK()?Reflect.construct(t,r||[],Bw(e).constructor):t.apply(e,r))}function s3e(e,t){if(t&&(hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i3e(e)}function i3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CK=function(){return!!e})()}function Bw(e){return Bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bw(e)}function o3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VE(e,t)}function VE(e,t){return VE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VE(e,t)}function IP(e,t,r){return t=EK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EK(e){var t=l3e(e,"string");return hp(t)=="symbol"?t:t+""}function l3e(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o0=function(e){function t(r){var n;return r3e(this,t),n=a3e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return o3e(t,e),n3e(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,i=iN(n,QFe),l=this.props,c=l.viewBox,u=iN(l,ZFe);return!cm(s,c)||!cm(i,u)||!cm(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,i=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,p,g,v,y,b,w=f?-1:1,_=n.tickSize||d,S=Ke(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=p=n.coordinate,v=i+ +!f*c,g=v-w*_,b=g-w*h,y=S;break;case"left":g=v=n.coordinate,p=s+ +!f*l,m=p-w*_,y=m-w*h,b=S;break;case"right":g=v=n.coordinate,p=s+ +f*l,m=p+w*_,y=m+w*h,b=S;break;default:m=p=n.coordinate,v=i+ +f*c,g=v+w*_,b=g+w*h,y=S;break}return{line:{x1:m,y1:g,x2:p,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i;switch(a){case"left":i=s?"start":"end";break;case"right":i=s?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=s?"start":"end";break;default:i=s?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=En(En(En({},bt(this.props,!1)),bt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=En(En({},f),{},{x1:a,y1:s+h*l,x2:a+i,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=En(En({},f),{},{x1:a+m*i,y1:s,x2:a+m*i,y2:s+l})}return ie.createElement("line",Yh({},f,{className:Rt("recharts-cartesian-axis-line",ui(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var i=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=RP(En(En({},this.props),{},{ticks:n}),a,s),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=bt(this.props,!1),y=bt(d,!1),b=En(En({},v),{},{fill:"none"},bt(c,!1)),w=m.map(function(_,S){var k=i.getTickLineCoord(_),j=k.line,N=k.tick,C=En(En(En(En({textAnchor:p,verticalAnchor:g},v),{},{stroke:"none",fill:u},y),N),{},{index:S,payload:_,visibleTicksCount:m.length,tickFormatter:f});return ie.createElement(ar,Yh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},kf(i.props,_,S)),c&&ie.createElement("line",Yh({},b,j,{className:Rt("recharts-cartesian-axis-tick-line",ui(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(Nt(f)?f(_.value,S):_.value).concat(h||"")))});return ie.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,i=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=iN(f,e3e),p=h;return Nt(c)&&(p=h&&h.length>0?c(this.props):c(m)),i<=0||l<=0||!p||!p.length?null:ie.createElement(ar,{className:Rt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),qn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var i,l=Rt(a.className,"recharts-cartesian-axis-tick-value");return ie.isValidElement(n)?i=ie.cloneElement(n,En(En({},a),{},{className:l})):Nt(n)?i=n(En(En({},a),{},{className:l})):i=ie.createElement(Nf,Yh({},a,{className:"recharts-cartesian-axis-tick-value"}),s),i}}])}(x.Component);IP(o0,"displayName","CartesianAxis");IP(o0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var c3e=["x1","y1","x2","y2","key"],u3e=["offset"];function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function d$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d$(Object(r),!0).forEach(function(n){d3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d3e(e,t,r){return t=f3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f3e(e){var t=h3e(e,"string");return Tf(t)=="symbol"?t:t+""}function h3e(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ud.apply(this,arguments)}function f$(e,t){if(e==null)return{};var r=m3e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var p3e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,i=t.width,l=t.height,c=t.ry;return ie.createElement("rect",{x:a,y:s,ry:c,width:i,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function TK(e,t){var r;if(ie.isValidElement(e))r=ie.cloneElement(e,t);else if(Nt(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,i=t.y2,l=t.key,c=f$(t,c3e),u=bt(c,!1);u.offset;var d=f$(u,u3e);r=ie.createElement("line",Ud({},d,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:l}))}return r}function g3e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Ea(Ea({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return TK(a,u)});return ie.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function v3e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Ea(Ea({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return TK(a,u)});return ie.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function x3e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],g=p?a+i-h:d[m+1]-h;if(g<=0)return null;var v=m%t.length;return ie.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ie.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function y3e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,i=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],g=p?s+l-h:d[m+1]-h;if(g<=0)return null;var v=m%n.length;return ie.createElement("rect",{key:"react-".concat(m),x:h,y:i,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ie.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var b3e=function(t,r){var n=t.xAxis,a=t.width,s=t.height,i=t.offset;return Nq(RP(Ea(Ea(Ea({},o0.defaultProps),n),{},{ticks:nc(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.left,i.left+i.width,r)},w3e=function(t,r){var n=t.yAxis,a=t.width,s=t.height,i=t.offset;return Nq(RP(Ea(Ea(Ea({},o0.defaultProps),n),{},{ticks:nc(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.top,i.top+i.height,r)},gh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function l0(e){var t,r,n,a,s,i,l=AP(),c=OP(),u=lFe(),d=Ea(Ea({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:gh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:gh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:gh.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:gh.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:gh.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:gh.verticalFill,x:Ke(e.x)?e.x:u.left,y:Ke(e.y)?e.y:u.top,width:Ke(e.width)?e.width:u.width,height:Ke(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,p=d.height,g=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,b=sFe(),w=iFe();if(!Ke(m)||m<=0||!Ke(p)||p<=0||!Ke(f)||f!==+f||!Ke(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||b3e,S=d.horizontalCoordinatesGenerator||w3e,k=d.horizontalPoints,j=d.verticalPoints;if((!k||!k.length)&&Nt(S)){var N=v&&v.length,C=S({yAxis:w?Ea(Ea({},w),{},{ticks:N?v:w.ticks}):void 0,width:l,height:c,offset:u},N?!0:g);Co(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Tf(C),"]")),Array.isArray(C)&&(k=C)}if((!j||!j.length)&&Nt(_)){var T=y&&y.length,D=_({xAxis:b?Ea(Ea({},b),{},{ticks:T?y:b.ticks}):void 0,width:l,height:c,offset:u},T?!0:g);Co(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Tf(D),"]")),Array.isArray(D)&&(j=D)}return ie.createElement("g",{className:"recharts-cartesian-grid"},ie.createElement(p3e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ie.createElement(g3e,Ud({},d,{offset:u,horizontalPoints:k,xAxis:b,yAxis:w})),ie.createElement(v3e,Ud({},d,{offset:u,verticalPoints:j,xAxis:b,yAxis:w})),ie.createElement(x3e,Ud({},d,{horizontalPoints:k})),ie.createElement(y3e,Ud({},d,{verticalPoints:j})))}l0.displayName="CartesianGrid";var _3e=["type","layout","connectNulls","ref"],S3e=["key"];function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function h$(e,t){if(e==null)return{};var r=j3e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function j3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(this,arguments)}function m$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m$(Object(r),!0).forEach(function(n){po(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vh(e){return E3e(e)||C3e(e)||N3e(e)||k3e()}function k3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N3e(e,t){if(e){if(typeof e=="string")return WE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WE(e,t)}}function C3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function E3e(e){if(Array.isArray(e))return WE(e)}function WE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OK(n.key),n)}}function A3e(e,t,r){return t&&p$(e.prototype,t),r&&p$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O3e(e,t,r){return t=Uw(t),P3e(e,AK()?Reflect.construct(t,r||[],Uw(e).constructor):t.apply(e,r))}function P3e(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D3e(e)}function D3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AK=function(){return!!e})()}function Uw(e){return Uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uw(e)}function R3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HE(e,t)}function HE(e,t){return HE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HE(e,t)}function po(e,t,r){return t=OK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OK(e){var t=I3e(e,"string");return mp(t)=="symbol"?t:t+""}function I3e(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pc=function(e){function t(){var r;T3e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=O3e(this,t,[].concat(a)),po(r,"state",{isAnimationFinished:!0,totalLength:0}),po(r,"generateSimpleStrokeDasharray",function(i,l){return"".concat(l,"px ").concat(i-l,"px")}),po(r,"getStrokeDasharray",function(i,l,c){var u=c.reduce(function(y,b){return y+b});if(!u)return r.generateSimpleStrokeDasharray(l,i);for(var d=Math.floor(i/u),f=i%u,h=l-i,m=[],p=0,g=0;p<c.length;g+=c[p],++p)if(g+c[p]>f){m=[].concat(vh(c.slice(0,p)),[f-g]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(vh(t.repeat(c,d)),vh(m),v).map(function(y){return"".concat(y,"px")}).join(", ")}),po(r,"id",Zp("recharts-line-")),po(r,"pathRef",function(i){r.mainCurve=i}),po(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),po(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return R3e(t,e),A3e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=di(d,Hx);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:In(g.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ie.createElement(ar,m,f.map(function(p){return ie.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=bt(this.props,!1),h=bt(c,!0),m=u.map(function(g,v){var y=Ks(Ks(Ks({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,y)}),p={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return ie.createElement(ar,Ag({className:"recharts-line-dots",key:"dots"},p),m)}},{key:"renderCurveStatically",value:function(n,a,s,i){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=h$(l,_3e),h=Ks(Ks(Ks({},bt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},i),{},{type:c,layout:u,connectNulls:d});return ie.createElement(ww,Ag({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,i=this.props,l=i.points,c=i.strokeDasharray,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,p=i.animateNewValues,g=i.width,v=i.height,y=this.state,b=y.prevPoints,w=y.totalLength;return ie.createElement(kl,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(b){var k=b.length/l.length,j=l.map(function(A,H){var X=Math.floor(H*k);if(b[X]){var L=b[X],I=ei(L.x,A.x),W=ei(L.y,A.y);return Ks(Ks({},A),{},{x:I(S),y:W(S)})}if(p){var F=ei(g*2,A.x),M=ei(v/2,A.y);return Ks(Ks({},A),{},{x:F(S),y:M(S)})}return Ks(Ks({},A),{},{x:A.x,y:A.y})});return s.renderCurveStatically(j,n,a)}var N=ei(0,w),C=N(S),T;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});T=s.getStrokeDasharray(C,w,D)}else T=s.generateSimpleStrokeDasharray(w,C);return s.renderCurveStatically(l,n,a,{strokeDasharray:T})})}},{key:"renderCurve",value:function(n,a){var s=this.props,i=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&i&&i.length&&(!u&&d>0||!Wx(u,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,i=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,p=a.height,g=a.isAnimationActive,v=a.id;if(s||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,w=Rt("recharts-line",c),_=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,k=_||S,j=Pt(v)?this.id:v,N=(n=bt(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=N.r,T=C===void 0?3:C,D=N.strokeWidth,A=D===void 0?2:D,H=nxe(i)?i:{},X=H.clipDot,L=X===void 0?!0:X,I=T*2+A;return ie.createElement(ar,{className:w},_||S?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(j)},ie.createElement("rect",{x:_?h:h-m/2,y:S?f:f-p/2,width:_?m:m*2,height:S?p:p*2})),!L&&ie.createElement("clipPath",{id:"clipPath-dots-".concat(j)},ie.createElement("rect",{x:h-I/2,y:f-I/2,width:m+I,height:p+I}))):null,!b&&this.renderCurve(k,j),this.renderErrorBar(k,j),(b||i)&&this.renderDots(k,L,j),(!g||y)&&cc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(vh(n),[0]):n,i=[],l=0;l<a;++l)i=[].concat(vh(i),vh(s));return i}},{key:"renderDotItem",value:function(n,a){var s;if(ie.isValidElement(n))s=ie.cloneElement(n,a);else if(Nt(n))s=n(a);else{var i=a.key,l=h$(a,S3e),c=Rt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=ie.createElement(US,Ag({key:i},l,{className:c}))}return s}}])}(x.PureComponent);po(Pc,"displayName","Line");po(Pc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ml.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});po(Pc,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,i=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var p=In(h,i);return d==="horizontal"?{x:$3({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Pt(p)?null:n.scale(p),value:p,payload:h}:{x:Pt(p)?null:r.scale(p),y:$3({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:p,payload:h}});return Ks({points:f,layout:d},u)});function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function M3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RK(n.key),n)}}function L3e(e,t,r){return t&&F3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $3e(e,t,r){return t=zw(t),B3e(e,PK()?Reflect.construct(t,r||[],zw(e).constructor):t.apply(e,r))}function B3e(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U3e(e)}function U3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PK=function(){return!!e})()}function zw(e){return zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zw(e)}function z3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qE(e,t)}function qE(e,t){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qE(e,t)}function DK(e,t,r){return t=RK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RK(e){var t=V3e(e,"string");return pp(t)=="symbol"?t:t+""}function V3e(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KE(){return KE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KE.apply(this,arguments)}function W3e(e){var t=e.xAxisId,r=AP(),n=OP(),a=xK(t);return a==null?null:x.createElement(o0,KE({},a,{className:Rt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return nc(i,!0)}}))}var id=function(e){function t(){return M3e(this,t),$3e(this,t,arguments)}return z3e(t,e),L3e(t,[{key:"render",value:function(){return x.createElement(W3e,this.props)}}])}(x.Component);DK(id,"displayName","XAxis");DK(id,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function H3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FK(n.key),n)}}function K3e(e,t,r){return t&&q3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G3e(e,t,r){return t=Vw(t),Y3e(e,IK()?Reflect.construct(t,r||[],Vw(e).constructor):t.apply(e,r))}function Y3e(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X3e(e)}function X3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IK=function(){return!!e})()}function Vw(e){return Vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vw(e)}function J3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GE(e,t)}function GE(e,t){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},GE(e,t)}function MK(e,t,r){return t=FK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FK(e){var t=Q3e(e,"string");return gp(t)=="symbol"?t:t+""}function Q3e(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YE(){return YE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YE.apply(this,arguments)}var Z3e=function(t){var r=t.yAxisId,n=AP(),a=OP(),s=yK(r);return s==null?null:x.createElement(o0,YE({},s,{className:Rt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return nc(l,!0)}}))},od=function(e){function t(){return H3e(this,t),G3e(this,t,arguments)}return J3e(t,e),K3e(t,[{key:"render",value:function(){return x.createElement(Z3e,this.props)}}])}(x.Component);MK(od,"displayName","YAxis");MK(od,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function g$(e){return nLe(e)||rLe(e)||tLe(e)||eLe()}function eLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tLe(e,t){if(e){if(typeof e=="string")return XE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XE(e,t)}}function rLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nLe(e){if(Array.isArray(e))return XE(e)}function XE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var JE=function(t,r,n,a,s){var i=di(t,DP),l=di(t,XS),c=[].concat(g$(i),g$(l)),u=di(t,QS),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(g,v){if(v.props[d]===n&&gl(v.props,"extendDomain")&&Ke(v.props[f])){var y=v.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},h)),u.length){var m="".concat(f,"1"),p="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&gl(v.props,"extendDomain")&&Ke(v.props[m])&&Ke(v.props[p])){var y=v.props[m],b=v.props[p];return[Math.min(g[0],y,b),Math.max(g[1],y,b)]}return g},h)}return s&&s.length&&(h=s.reduce(function(g,v){return Ke(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},LK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,p),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var _=v.length,S;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!b)for(S=1,b=new Array(y-1);S<y;S++)b[S-1]=arguments[S];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return i(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&i(this,m);else{for(var g=0,v=[],y=p.length;g<y;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&v.push(p[g]);v.length?this._events[m]=v.length===1?v[0]:v:i(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(LK);var aLe=LK.exports;const sLe=fr(aLe);var oN=new sLe,lN="recharts.syncMouseEvents";function Qv(e){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qv(e)}function iLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$K(n.key),n)}}function lLe(e,t,r){return t&&oLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cN(e,t,r){return t=$K(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $K(e){var t=cLe(e,"string");return Qv(t)=="symbol"?t:t+""}function cLe(e,t){if(Qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uLe=function(){function e(){iLe(this,e),cN(this,"activeIndex",0),cN(this,"coordinateList",[]),cN(this,"layout","horizontal")}return lLe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function dLe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ke(n)&&Ke(a))return!0}return!1}function fLe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function BK(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,i=Cr(t,r,n,a),l=Cr(t,r,n,s);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function hLe(e,t,r){var n,a,s,i;if(e==="horizontal")n=t.x,s=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Cr(l,c,u,f),m=Cr(l,c,d,f);n=h.x,a=h.y,s=m.x,i=m.y}else return BK(t);return[{x:n,y:a},{x:s,y:i}]}function Zv(e){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zv(e)}function v$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v$(Object(r),!0).forEach(function(n){mLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mLe(e,t,r){return t=pLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pLe(e){var t=gLe(e,"string");return Zv(t)=="symbol"?t:t+""}function gLe(e,t){if(Zv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vLe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,i=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!i||h!=="ScatterChart"&&a!=="axis")return null;var p,g=ww;if(h==="ScatterChart")p=i,g=RDe;else if(h==="BarChart")p=fLe(f,i,c,d),g=NP;else if(f==="radial"){var v=BK(i),y=v.cx,b=v.cy,w=v.radius,_=v.startAngle,S=v.endAngle;p={cx:y,cy:b,startAngle:_,endAngle:S,innerRadius:w,outerRadius:w},g=Fq}else p={points:hLe(f,i,c)},g=ww;var k=fb(fb(fb(fb({stroke:"#ccc",pointerEvents:"none"},c),p),bt(m,!1)),{},{payload:l,payloadIndex:u,className:Rt("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,k):x.createElement(g,k)}var xLe=["item"],yLe=["children","className","width","height","style","compact","title","desc"];function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xh.apply(this,arguments)}function x$(e,t){return _Le(e)||wLe(e,t)||zK(e,t)||bLe()}function bLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function _Le(e){if(Array.isArray(e))return e}function y$(e,t){if(e==null)return{};var r=SLe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VK(n.key),n)}}function NLe(e,t,r){return t&&kLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CLe(e,t,r){return t=Ww(t),ELe(e,UK()?Reflect.construct(t,r||[],Ww(e).constructor):t.apply(e,r))}function ELe(e,t){if(t&&(vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TLe(e)}function TLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UK=function(){return!!e})()}function Ww(e){return Ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ww(e)}function ALe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QE(e,t)}function QE(e,t){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QE(e,t)}function xp(e){return DLe(e)||PLe(e)||zK(e)||OLe()}function OLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zK(e,t){if(e){if(typeof e=="string")return ZE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZE(e,t)}}function PLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DLe(e){if(Array.isArray(e))return ZE(e)}function ZE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b$(Object(r),!0).forEach(function(n){wt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wt(e,t,r){return t=VK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VK(e){var t=RLe(e,"string");return vp(t)=="symbol"?t:t+""}function RLe(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ILe={xAxis:["bottom","top"],yAxis:["left","right"]},MLe={width:"100%",height:"100%"},WK={x:0,y:0};function hb(e){return e}var FLe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},LLe=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var i=s.coordinate,l=a.radius;return Ie(Ie(Ie({},a),Cr(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return Ie(Ie(Ie({},a),Cr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return WK},ZS=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(xp(l),xp(u)):l},[]);return i.length>0?i:t&&t.length&&Ke(a)&&Ke(s)?t.slice(a,s+1):[]};function HK(e){return e==="number"?[0,"auto"]:void 0}var eT=function(t,r,n,a){var s=t.graphicalItems,i=t.tooltipAxis,l=ZS(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var m=f===void 0?l:f;h=W1(m,i.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(xp(c),[Oq(u,h)]):c},[])},w$=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},i=FLe(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=aOe(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=eT(t,r,d,f),m=LLe(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},$Le=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=kq(d,s);return n.reduce(function(p,g){var v,y=g.type.defaultProps!==void 0?Ie(Ie({},g.type.defaultProps),g.props):g.props,b=y.type,w=y.dataKey,_=y.allowDataOverflow,S=y.allowDuplicatedCategory,k=y.scale,j=y.ticks,N=y.includeHidden,C=y[i];if(p[C])return p;var T=ZS(t.data,{graphicalItems:a.filter(function(E){var B,U=i in E.props?E.props[i]:(B=E.type.defaultProps)===null||B===void 0?void 0:B[i];return U===C}),dataStartIndex:c,dataEndIndex:u}),D=T.length,A,H,X;dLe(y.domain,_,b)&&(A=mE(y.domain,null,_),m&&(b==="number"||k!=="auto")&&(X=Ng(T,w,"category")));var L=HK(b);if(!A||A.length===0){var I,W=(I=y.domain)!==null&&I!==void 0?I:L;if(w){if(A=Ng(T,w,b),b==="category"&&m){var F=Kve(A);S&&F?(H=A,A=Ow(0,D)):S||(A=V3(W,A,g).reduce(function(E,B){return E.indexOf(B)>=0?E:[].concat(xp(E),[B])},[]))}else if(b==="category")S?A=A.filter(function(E){return E!==""&&!Pt(E)}):A=V3(W,A,g).reduce(function(E,B){return E.indexOf(B)>=0||B===""||Pt(B)?E:[].concat(xp(E),[B])},[]);else if(b==="number"){var M=cOe(T,a.filter(function(E){var B,U,q=i in E.props?E.props[i]:(B=E.type.defaultProps)===null||B===void 0?void 0:B[i],ee="hide"in E.props?E.props.hide:(U=E.type.defaultProps)===null||U===void 0?void 0:U.hide;return q===C&&(N||!ee)}),w,s,d);M&&(A=M)}m&&(b==="number"||k!=="auto")&&(X=Ng(T,w,"category"))}else m?A=Ow(0,D):l&&l[C]&&l[C].hasStack&&b==="number"?A=h==="expand"?[0,1]:Aq(l[C].stackGroups,c,u):A=jq(T,a.filter(function(E){var B=i in E.props?E.props[i]:E.type.defaultProps[i],U="hide"in E.props?E.props.hide:E.type.defaultProps.hide;return B===C&&(N||!U)}),b,d,!0);if(b==="number")A=JE(f,A,C,s,j),W&&(A=mE(W,A,_));else if(b==="category"&&W){var G=W,Q=A.every(function(E){return G.indexOf(E)>=0});Q&&(A=G)}}return Ie(Ie({},p),{},wt({},C,Ie(Ie({},y),{},{axisType:s,domain:A,categoricalDomain:X,duplicateDomain:H,originalDomain:(v=y.domain)!==null&&v!==void 0?v:L,isCategorical:m,layout:d})))},{})},BLe=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=ZS(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,p=kq(d,s),g=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?Ie(Ie({},y.type.defaultProps),y.props):y.props,w=b[i],_=HK("number");if(!v[w]){g++;var S;return p?S=Ow(0,m):l&&l[w]&&l[w].hasStack?(S=Aq(l[w].stackGroups,c,u),S=JE(f,S,w,s)):(S=mE(_,jq(h,n.filter(function(k){var j,N,C=i in k.props?k.props[i]:(j=k.type.defaultProps)===null||j===void 0?void 0:j[i],T="hide"in k.props?k.props.hide:(N=k.type.defaultProps)===null||N===void 0?void 0:N.hide;return C===w&&!T}),"number",d),a.defaultProps.allowDataOverflow),S=JE(f,S,w,s)),Ie(Ie({},v),{},wt({},w,Ie(Ie({axisType:s},a.defaultProps),{},{hide:!0,orientation:ui(ILe,"".concat(s,".").concat(g%2),null),domain:S,originalDomain:_,isCategorical:p,layout:d})))}return v},{})},ULe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=di(d,s),m={};return h&&h.length?m=$Le(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(m=BLe(t,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},zLe=function(t){var r=eu(t),n=nc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ZO(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:xw(r,n)}},_$=function(t){var r=t.children,n=t.defaultShowTooltip,a=Xs(r,lp),s=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},VLe=function(t){return!t||!t.length?!1:t.some(function(r){var n=oc(r&&r.type);return n&&n.indexOf("Bar")>=0})},S$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},WLe=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,i=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Xs(f,lp),p=Xs(f,Eo),g=Object.keys(c).reduce(function(S,k){var j=c[k],N=j.orientation;return!j.mirror&&!j.hide?Ie(Ie({},S),{},wt({},N,S[N]+j.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(i).reduce(function(S,k){var j=i[k],N=j.orientation;return!j.mirror&&!j.hide?Ie(Ie({},S),{},wt({},N,ui(S,"".concat(N))+j.height)):S},{top:h.top||0,bottom:h.bottom||0}),y=Ie(Ie({},v),g),b=y.bottom;m&&(y.bottom+=m.props.height||lp.defaultProps.height),p&&r&&(y=oOe(y,a,n,r));var w=u-y.left-y.right,_=d-y.top-y.bottom;return Ie(Ie({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(_,0)})},HLe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},qK=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,i=t.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var w=b.graphicalItems,_=b.stackGroups,S=b.offset,k=b.updateId,j=b.dataStartIndex,N=b.dataEndIndex,C=y.barSize,T=y.layout,D=y.barGap,A=y.barCategoryGap,H=y.maxBarSize,X=S$(T),L=X.numericAxisName,I=X.cateAxisName,W=VLe(w),F=[];return w.forEach(function(M,G){var Q=ZS(y.data,{graphicalItems:[M],dataStartIndex:j,dataEndIndex:N}),E=M.type.defaultProps!==void 0?Ie(Ie({},M.type.defaultProps),M.props):M.props,B=E.dataKey,U=E.maxBarSize,q=E["".concat(L,"Id")],ee=E["".concat(I,"Id")],oe={},ge=c.reduce(function(me,z){var fe=b["".concat(z.axisType,"Map")],_e=E["".concat(z.axisType,"Id")];fe&&fe[_e]||z.axisType==="zAxis"||Ef();var be=fe[_e];return Ie(Ie({},me),{},wt(wt({},z.axisType,be),"".concat(z.axisType,"Ticks"),nc(be)))},oe),se=ge[I],Z=ge["".concat(I,"Ticks")],he=_&&_[q]&&_[q].hasStack&&xOe(M,_[q].stackGroups),P=oc(M.type).indexOf("Bar")>=0,De=xw(se,Z),Re=[],Me=W&&sOe({barSize:C,stackGroups:_,totalSize:HLe(ge,I)});if(P){var Be,Oe,ht=Pt(U)?H:U,it=(Be=(Oe=xw(se,Z,!0))!==null&&Oe!==void 0?Oe:ht)!==null&&Be!==void 0?Be:0;Re=iOe({barGap:D,barCategoryGap:A,bandSize:it!==De?it:De,sizeList:Me[ee],maxBarSize:ht}),it!==De&&(Re=Re.map(function(me){return Ie(Ie({},me),{},{position:Ie(Ie({},me.position),{},{offset:me.position.offset-it/2})})}))}var ce=M&&M.type&&M.type.getComposedData;ce&&F.push({props:Ie(Ie({},ce(Ie(Ie({},ge),{},{displayedData:Q,props:y,dataKey:B,item:M,bandSize:De,barPosition:Re,offset:S,stackedData:he,layout:T,dataStartIndex:j,dataEndIndex:N}))),{},wt(wt(wt({key:M.key||"item-".concat(G)},L,ge[L]),I,ge[I]),"animationId",k)),childIndex:ixe(M,y.children),item:M})}),F},m=function(y,b){var w=y.props,_=y.dataStartIndex,S=y.dataEndIndex,k=y.updateId;if(!MM({props:w}))return null;var j=w.children,N=w.layout,C=w.stackOffset,T=w.data,D=w.reverseStackOrder,A=S$(N),H=A.numericAxisName,X=A.cateAxisName,L=di(j,n),I=gOe(T,L,"".concat(H,"Id"),"".concat(X,"Id"),C,D),W=c.reduce(function(E,B){var U="".concat(B.axisType,"Map");return Ie(Ie({},E),{},wt({},U,ULe(w,Ie(Ie({},B),{},{graphicalItems:L,stackGroups:B.axisType===H&&I,dataStartIndex:_,dataEndIndex:S}))))},{}),F=WLe(Ie(Ie({},W),{},{props:w,graphicalItems:L}),b==null?void 0:b.legendBBox);Object.keys(W).forEach(function(E){W[E]=d(w,W[E],F,E.replace("Map",""),r)});var M=W["".concat(X,"Map")],G=zLe(M),Q=h(w,Ie(Ie({},W),{},{dataStartIndex:_,dataEndIndex:S,updateId:k,graphicalItems:L,stackGroups:I,offset:F}));return Ie(Ie({formattedGraphicalItems:Q,graphicalItems:L,offset:F,stackGroups:I},G),W)},p=function(v){function y(b){var w,_,S;return jLe(this,y),S=CLe(this,y,[b]),wt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),wt(S,"accessibilityManager",new uLe),wt(S,"handleLegendBBoxUpdate",function(k){if(k){var j=S.state,N=j.dataStartIndex,C=j.dataEndIndex,T=j.updateId;S.setState(Ie({legendBBox:k},m({props:S.props,dataStartIndex:N,dataEndIndex:C,updateId:T},Ie(Ie({},S.state),{},{legendBBox:k}))))}}),wt(S,"handleReceiveSyncEvent",function(k,j,N){if(S.props.syncId===k){if(N===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(j)}}),wt(S,"handleBrushChange",function(k){var j=k.startIndex,N=k.endIndex;if(j!==S.state.dataStartIndex||N!==S.state.dataEndIndex){var C=S.state.updateId;S.setState(function(){return Ie({dataStartIndex:j,dataEndIndex:N},m({props:S.props,dataStartIndex:j,dataEndIndex:N,updateId:C},S.state))}),S.triggerSyncEvent({dataStartIndex:j,dataEndIndex:N})}}),wt(S,"handleMouseEnter",function(k){var j=S.getMouseInfo(k);if(j){var N=Ie(Ie({},j),{},{isTooltipActive:!0});S.setState(N),S.triggerSyncEvent(N);var C=S.props.onMouseEnter;Nt(C)&&C(N,k)}}),wt(S,"triggeredAfterMouseMove",function(k){var j=S.getMouseInfo(k),N=j?Ie(Ie({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(N),S.triggerSyncEvent(N);var C=S.props.onMouseMove;Nt(C)&&C(N,k)}),wt(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),wt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),wt(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),wt(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};S.setState(j),S.triggerSyncEvent(j);var N=S.props.onMouseLeave;Nt(N)&&N(j,k)}),wt(S,"handleOuterEvent",function(k){var j=sxe(k),N=ui(S.props,"".concat(j));if(j&&Nt(N)){var C,T;/.*touch.*/i.test(j)?T=S.getMouseInfo(k.changedTouches[0]):T=S.getMouseInfo(k),N((C=T)!==null&&C!==void 0?C:{},k)}}),wt(S,"handleClick",function(k){var j=S.getMouseInfo(k);if(j){var N=Ie(Ie({},j),{},{isTooltipActive:!0});S.setState(N),S.triggerSyncEvent(N);var C=S.props.onClick;Nt(C)&&C(N,k)}}),wt(S,"handleMouseDown",function(k){var j=S.props.onMouseDown;if(Nt(j)){var N=S.getMouseInfo(k);j(N,k)}}),wt(S,"handleMouseUp",function(k){var j=S.props.onMouseUp;if(Nt(j)){var N=S.getMouseInfo(k);j(N,k)}}),wt(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),wt(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),wt(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),wt(S,"handleDoubleClick",function(k){var j=S.props.onDoubleClick;if(Nt(j)){var N=S.getMouseInfo(k);j(N,k)}}),wt(S,"handleContextMenu",function(k){var j=S.props.onContextMenu;if(Nt(j)){var N=S.getMouseInfo(k);j(N,k)}}),wt(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&oN.emit(lN,S.props.syncId,k,S.eventEmitterSymbol)}),wt(S,"applySyncEvent",function(k){var j=S.props,N=j.layout,C=j.syncMethod,T=S.state.updateId,D=k.dataStartIndex,A=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(Ie({dataStartIndex:D,dataEndIndex:A},m({props:S.props,dataStartIndex:D,dataEndIndex:A,updateId:T},S.state)));else if(k.activeTooltipIndex!==void 0){var H=k.chartX,X=k.chartY,L=k.activeTooltipIndex,I=S.state,W=I.offset,F=I.tooltipTicks;if(!W)return;if(typeof C=="function")L=C(F,k);else if(C==="value"){L=-1;for(var M=0;M<F.length;M++)if(F[M].value===k.activeLabel){L=M;break}}var G=Ie(Ie({},W),{},{x:W.left,y:W.top}),Q=Math.min(H,G.x+G.width),E=Math.min(X,G.y+G.height),B=F[L]&&F[L].value,U=eT(S.state,S.props.data,L),q=F[L]?{x:N==="horizontal"?F[L].coordinate:Q,y:N==="horizontal"?E:F[L].coordinate}:WK;S.setState(Ie(Ie({},k),{},{activeLabel:B,activeCoordinate:q,activePayload:U,activeTooltipIndex:L}))}else S.setState(k)}),wt(S,"renderCursor",function(k){var j,N=S.state,C=N.isTooltipActive,T=N.activeCoordinate,D=N.activePayload,A=N.offset,H=N.activeTooltipIndex,X=N.tooltipAxisBandSize,L=S.getTooltipEventType(),I=(j=k.props.active)!==null&&j!==void 0?j:C,W=S.props.layout,F=k.key||"_recharts-cursor";return ie.createElement(vLe,{key:F,activeCoordinate:T,activePayload:D,activeTooltipIndex:H,chartName:r,element:k,isActive:I,layout:W,offset:A,tooltipAxisBandSize:X,tooltipEventType:L})}),wt(S,"renderPolarAxis",function(k,j,N){var C=ui(k,"type.axisType"),T=ui(S.state,"".concat(C,"Map")),D=k.type.defaultProps,A=D!==void 0?Ie(Ie({},D),k.props):k.props,H=T&&T[A["".concat(C,"Id")]];return x.cloneElement(k,Ie(Ie({},H),{},{className:Rt(C,H.className),key:k.key||"".concat(j,"-").concat(N),ticks:nc(H,!0)}))}),wt(S,"renderPolarGrid",function(k){var j=k.props,N=j.radialLines,C=j.polarAngles,T=j.polarRadius,D=S.state,A=D.radiusAxisMap,H=D.angleAxisMap,X=eu(A),L=eu(H),I=L.cx,W=L.cy,F=L.innerRadius,M=L.outerRadius;return x.cloneElement(k,{polarAngles:Array.isArray(C)?C:nc(L,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(T)?T:nc(X,!0).map(function(G){return G.coordinate}),cx:I,cy:W,innerRadius:F,outerRadius:M,key:k.key||"polar-grid",radialLines:N})}),wt(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,j=S.props,N=j.children,C=j.width,T=j.height,D=S.props.margin||{},A=C-(D.left||0)-(D.right||0),H=_q({children:N,formattedGraphicalItems:k,legendWidth:A,legendContent:u});if(!H)return null;var X=H.item,L=y$(H,xLe);return x.cloneElement(X,Ie(Ie({},L),{},{chartWidth:C,chartHeight:T,margin:D,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),wt(S,"renderTooltip",function(){var k,j=S.props,N=j.children,C=j.accessibilityLayer,T=Xs(N,Qa);if(!T)return null;var D=S.state,A=D.isTooltipActive,H=D.activeCoordinate,X=D.activePayload,L=D.activeLabel,I=D.offset,W=(k=T.props.active)!==null&&k!==void 0?k:A;return x.cloneElement(T,{viewBox:Ie(Ie({},I),{},{x:I.left,y:I.top}),active:W,label:L,payload:W?X:[],coordinate:H,accessibilityLayer:C})}),wt(S,"renderBrush",function(k){var j=S.props,N=j.margin,C=j.data,T=S.state,D=T.offset,A=T.dataStartIndex,H=T.dataEndIndex,X=T.updateId;return x.cloneElement(k,{key:k.key||"_recharts-brush",onChange:lb(S.handleBrushChange,k.props.onChange),data:C,x:Ke(k.props.x)?k.props.x:D.left,y:Ke(k.props.y)?k.props.y:D.top+D.height+D.brushBottom-(N.bottom||0),width:Ke(k.props.width)?k.props.width:D.width,startIndex:A,endIndex:H,updateId:"brush-".concat(X)})}),wt(S,"renderReferenceElement",function(k,j,N){if(!k)return null;var C=S,T=C.clipPathId,D=S.state,A=D.xAxisMap,H=D.yAxisMap,X=D.offset,L=k.type.defaultProps||{},I=k.props,W=I.xAxisId,F=W===void 0?L.xAxisId:W,M=I.yAxisId,G=M===void 0?L.yAxisId:M;return x.cloneElement(k,{key:k.key||"".concat(j,"-").concat(N),xAxis:A[F],yAxis:H[G],viewBox:{x:X.left,y:X.top,width:X.width,height:X.height},clipPathId:T})}),wt(S,"renderActivePoints",function(k){var j=k.item,N=k.activePoint,C=k.basePoint,T=k.childIndex,D=k.isRange,A=[],H=j.props.key,X=j.item.type.defaultProps!==void 0?Ie(Ie({},j.item.type.defaultProps),j.item.props):j.item.props,L=X.activeDot,I=X.dataKey,W=Ie(Ie({index:T,dataKey:I,cx:N.x,cy:N.y,r:4,fill:kP(j.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},bt(L,!1)),H1(L));return A.push(y.renderActiveDot(L,W,"".concat(H,"-activePoint-").concat(T))),C?A.push(y.renderActiveDot(L,Ie(Ie({},W),{},{cx:C.x,cy:C.y}),"".concat(H,"-basePoint-").concat(T))):D&&A.push(null),A}),wt(S,"renderGraphicChild",function(k,j,N){var C=S.filterFormatItem(k,j,N);if(!C)return null;var T=S.getTooltipEventType(),D=S.state,A=D.isTooltipActive,H=D.tooltipAxis,X=D.activeTooltipIndex,L=D.activeLabel,I=S.props.children,W=Xs(I,Qa),F=C.props,M=F.points,G=F.isRange,Q=F.baseLine,E=C.item.type.defaultProps!==void 0?Ie(Ie({},C.item.type.defaultProps),C.item.props):C.item.props,B=E.activeDot,U=E.hide,q=E.activeBar,ee=E.activeShape,oe=!!(!U&&A&&W&&(B||q||ee)),ge={};T!=="axis"&&W&&W.props.trigger==="click"?ge={onClick:lb(S.handleItemMouseEnter,k.props.onClick)}:T!=="axis"&&(ge={onMouseLeave:lb(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:lb(S.handleItemMouseEnter,k.props.onMouseEnter)});var se=x.cloneElement(k,Ie(Ie({},C.props),ge));function Z(z){return typeof H.dataKey=="function"?H.dataKey(z.payload):null}if(oe)if(X>=0){var he,P;if(H.dataKey&&!H.allowDuplicatedCategory){var De=typeof H.dataKey=="function"?Z:"payload.".concat(H.dataKey.toString());he=W1(M,De,L),P=G&&Q&&W1(Q,De,L)}else he=M==null?void 0:M[X],P=G&&Q&&Q[X];if(ee||q){var Re=k.props.activeIndex!==void 0?k.props.activeIndex:X;return[x.cloneElement(k,Ie(Ie(Ie({},C.props),ge),{},{activeIndex:Re})),null,null]}if(!Pt(he))return[se].concat(xp(S.renderActivePoints({item:C,activePoint:he,basePoint:P,childIndex:X,isRange:G})))}else{var Me,Be=(Me=S.getItemByXY(S.state.activeCoordinate))!==null&&Me!==void 0?Me:{graphicalItem:se},Oe=Be.graphicalItem,ht=Oe.item,it=ht===void 0?k:ht,ce=Oe.childIndex,me=Ie(Ie(Ie({},C.props),ge),{},{activeIndex:ce});return[x.cloneElement(it,me),null,null]}return G?[se,null,null]:[se,null]}),wt(S,"renderCustomized",function(k,j,N){return x.cloneElement(k,Ie(Ie({key:"recharts-customized-".concat(N)},S.props),S.state))}),wt(S,"renderMap",{CartesianGrid:{handler:hb,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:hb},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:hb},YAxis:{handler:hb},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Zp("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=wH(S.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return ALe(y,v),NLe(y,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,S=w.data,k=w.height,j=w.layout,N=Xs(_,Qa);if(N){var C=N.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,D=eT(this.state,S,C,T),A=this.state.tooltipTicks[C].coordinate,H=(this.state.offset.top+k)/2,X=j==="horizontal",L=X?{x:A,y:H}:{y:A,x:H},I=this.state.formattedGraphicalItems.find(function(F){var M=F.item;return M.type.name==="Scatter"});I&&(L=Ie(Ie({},L),I.props.points[C].tooltipPosition),D=I.props.points[C].tooltipPayload);var W={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:T,activePayload:D,activeCoordinate:L};this.setState(W),this.renderCursor(N),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(w){TC([Xs(w.children,Qa)],[Xs(this.props.children,Qa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Xs(this.props.children,Qa);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),k=P2e(S),j={chartX:Math.round(w.pageX-k.left),chartY:Math.round(w.pageY-k.top)},N=S.width/_.offsetWidth||1,C=this.inRange(j.chartX,j.chartY,N);if(!C)return null;var T=this.state,D=T.xAxisMap,A=T.yAxisMap,H=this.getTooltipEventType(),X=w$(this.state,this.props.data,this.props.layout,C);if(H!=="axis"&&D&&A){var L=eu(D).scale,I=eu(A).scale,W=L&&L.invert?L.invert(j.chartX):null,F=I&&I.invert?I.invert(j.chartY):null;return Ie(Ie({},j),{},{xValue:W,yValue:F},X)}return X?Ie(Ie({},j),X):null}},{key:"inRange",value:function(w,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,j=w/S,N=_/S;if(k==="horizontal"||k==="vertical"){var C=this.state.offset,T=j>=C.left&&j<=C.left+C.width&&N>=C.top&&N<=C.top+C.height;return T?{x:j,y:N}:null}var D=this.state,A=D.angleAxisMap,H=D.radiusAxisMap;if(A&&H){var X=eu(A);return q3({x:j,y:N},X)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),S=Xs(w,Qa),k={};S&&_==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=H1(this.props,this.handleOuterEvent);return Ie(Ie({},j),k)}},{key:"addListener",value:function(){oN.on(lN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){oN.removeListener(lN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,S){for(var k=this.state.formattedGraphicalItems,j=0,N=k.length;j<N;j++){var C=k[j];if(C.item===w||C.props.key===w.key||_===oc(C.item.type)&&S===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,S=_.left,k=_.top,j=_.height,N=_.width;return ie.createElement("defs",null,ie.createElement("clipPath",{id:w},ie.createElement("rect",{x:S,y:k,height:j,width:N})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,S){var k=x$(S,2),j=k[0],N=k[1];return Ie(Ie({},_),{},wt({},j,N.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,S){var k=x$(S,2),j=k[0],N=k[1];return Ie(Ie({},_),{},wt({},j,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,S=_.formattedGraphicalItems,k=_.activeItem;if(S&&S.length)for(var j=0,N=S.length;j<N;j++){var C=S[j],T=C.props,D=C.item,A=D.type.defaultProps!==void 0?Ie(Ie({},D.type.defaultProps),D.props):D.props,H=oc(D.type);if(H==="Bar"){var X=(T.data||[]).find(function(F){return mDe(w,F)});if(X)return{graphicalItem:C,payload:X}}else if(H==="RadialBar"){var L=(T.data||[]).find(function(F){return q3(w,F)});if(L)return{graphicalItem:C,payload:L}}else if(qS(C,k)||KS(C,k)||Kv(C,k)){var I=rIe({graphicalItem:C,activeTooltipItem:k,itemData:A.data}),W=A.activeIndex===void 0?I:A.activeIndex;return{graphicalItem:Ie(Ie({},C),{},{childIndex:W}),payload:Kv(C,k)?A.data[I]:C.props.data[I]}}}return null}},{key:"render",value:function(){var w=this;if(!MM(this))return null;var _=this.props,S=_.children,k=_.className,j=_.width,N=_.height,C=_.style,T=_.compact,D=_.title,A=_.desc,H=y$(_,yLe),X=bt(H,!1);if(T)return ie.createElement(e$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ie.createElement(OC,Xh({},X,{width:j,height:N,title:D,desc:A}),this.renderClipPath(),LM(S,this.renderMap)));if(this.props.accessibilityLayer){var L,I;X.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,X.role=(I=this.props.role)!==null&&I!==void 0?I:"application",X.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},X.onFocus=function(){w.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return ie.createElement(e$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ie.createElement("div",Xh({className:Rt("recharts-wrapper",k),style:Ie({position:"relative",cursor:"default",width:j,height:N},C)},W,{ref:function(M){w.container=M}}),ie.createElement(OC,Xh({},X,{width:j,height:N,title:D,desc:A,style:MLe}),this.renderClipPath(),LM(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);wt(p,"displayName",r),wt(p,"defaultProps",Ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),wt(p,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,w=v.data,_=v.children,S=v.width,k=v.height,j=v.layout,N=v.stackOffset,C=v.margin,T=y.dataStartIndex,D=y.dataEndIndex;if(y.updateId===void 0){var A=_$(v);return Ie(Ie(Ie({},A),{},{updateId:0},m(Ie(Ie({props:v},A),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:k,prevLayout:j,prevStackOffset:N,prevMargin:C,prevChildren:_})}if(b!==y.prevDataKey||w!==y.prevData||S!==y.prevWidth||k!==y.prevHeight||j!==y.prevLayout||N!==y.prevStackOffset||!cm(C,y.prevMargin)){var H=_$(v),X={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},L=Ie(Ie({},w$(y,w,j)),{},{updateId:y.updateId+1}),I=Ie(Ie(Ie({},H),X),L);return Ie(Ie(Ie({},I),m(Ie({props:v},I),y)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:k,prevLayout:j,prevStackOffset:N,prevMargin:C,prevChildren:_})}if(!TC(_,y.prevChildren)){var W,F,M,G,Q=Xs(_,lp),E=Q&&(W=(F=Q.props)===null||F===void 0?void 0:F.startIndex)!==null&&W!==void 0?W:T,B=Q&&(M=(G=Q.props)===null||G===void 0?void 0:G.endIndex)!==null&&M!==void 0?M:D,U=E!==T||B!==D,q=!Pt(w),ee=q&&!U?y.updateId:y.updateId+1;return Ie(Ie({updateId:ee},m(Ie(Ie({props:v},y),{},{updateId:ee,dataStartIndex:E,dataEndIndex:B}),y)),{},{prevChildren:_,dataStartIndex:E,dataEndIndex:B})}return null}),wt(p,"renderActiveDot",function(v,y,b){var w;return x.isValidElement(v)?w=x.cloneElement(v,y):Nt(v)?w=v(y):w=ie.createElement(US,y),ie.createElement(ar,{className:"recharts-active-dot",key:b},w)});var g=x.forwardRef(function(y,b){return ie.createElement(p,Xh({},y,{ref:b}))});return g.displayName=p.displayName,g},Kx=qK({chartName:"LineChart",GraphicalChild:Pc,axisComponents:[{axisType:"xAxis",AxisComp:id},{axisType:"yAxis",AxisComp:od}],formatAxisMap:RMe}),Td=qK({chartName:"PieChart",GraphicalChild:ts,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:HS},{axisType:"radiusAxis",AxisComp:VS}],formatAxisMap:EOe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const j$=({projects:e,clients:t,users:r,leads:n,surveys:a,loadData:s,isRTL:i,t:l,counts:c,mleadsChartData:u})=>{var w;const{user:d}=hr(),f=c.projects,h=0,m=c.projects,p=0;c.clients;const g=c.users,v=c.leads,y=c.surveys,b=[...e].sort((_,S)=>new Date(S.created_at||"").getTime()-new Date(_.created_at||"").getTime()).slice(0,5);return o.jsxs("div",{className:"space-y-8",dir:i?"rtl":"ltr",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:l("dashboard.title")}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:l("dashboard.subtitle")})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(iW,{})})]}),o.jsxs(et,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[o.jsx(Bt,{className:"border-b border-slate-200 dark:border-slate-700",children:o.jsxs(lr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[o.jsx(Rn,{className:"h-6 w-6 text-primary"}),l("employeeDashboard.employeeInfo")]})}),o.jsx(ot,{className:"pt-6",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.name")}),o.jsx("p",{className:"font-medium",children:Ee(d.profile||{},"user_name")||d.name||"N/A"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.email")}),o.jsx("p",{className:"font-medium",children:d.email})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.role")}),o.jsx(ct,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:d.permissions_permissions_Name||d.role||"Unknown"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.memberSince")}),o.jsx("p",{className:"font-medium",children:(w=d.profile)!=null&&w.created_at?new Date(d.profile.created_at).toLocaleDateString():"N/A"})]})]})})]}),o.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-5",children:[o.jsx(Di,{title:l("dashboard.totalProjects"),value:f,subtext:`${h} ${l("dashboard.completed")}`,icon:Fie,isRTL:i}),o.jsx(Di,{title:l("dashboard.inProgress"),value:m,subtext:l("dashboard.activeProjects"),icon:ns,isRTL:i}),o.jsx(Di,{title:l("dashboard.teamMembers"),value:g,subtext:l("dashboard.activeUsers"),icon:ns,isRTL:i}),o.jsx(Di,{title:l("dashboard.leads"),value:v,subtext:l("dashboard.totalLeads"),icon:sf,isRTL:i}),o.jsx(Di,{title:l("dashboard.surveys"),value:y,subtext:l("dashboard.totalSurveys"),icon:Qs,isRTL:i})]}),o.jsxs(et,{className:"border-0 shadow-md",children:[o.jsx(Bt,{children:o.jsxs(lr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[o.jsx(sf,{className:"h-6 w-6 text-primary"}),l("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),o.jsx(ot,{children:o.jsx("div",{className:"w-full h-[400px]",children:o.jsx(n0,{width:"100%",height:"100%",children:o.jsxs(Kx,{data:u,margin:{top:5,right:30,left:30,bottom:5},children:[o.jsx(l0,{strokeDasharray:"3 3"}),o.jsx(id,{dataKey:"date",angle:i?45:-45,textAnchor:i?"start":"end",height:80,tick:{fontSize:12},reversed:i}),o.jsx(od,{orientation:i?"right":"left",label:{value:"Number of Leads",angle:i?90:-90,position:i?"insideRight":"insideLeft"}}),o.jsx(Qa,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:_=>[`${_} leads`,"Total"]}),o.jsx(Eo,{}),o.jsx(Pc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),o.jsxs("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2",children:[o.jsxs(et,{className:"border-0 shadow-md",children:[o.jsx(Bt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:o.jsx(lr,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:l("dashboard.recentProjects")})}),o.jsx(ot,{className:"space-y-2 pt-4",children:b.length>0?b.map(_=>o.jsx(KLe,{project:_,clientName:_.company_name||l("dashboard.noClient"),isRTL:i,t:l},_.project_id)):o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:l("dashboard.noProjectsYet")})})]}),o.jsxs(et,{className:"border-0 shadow-md",children:[o.jsx(Bt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:o.jsx(lr,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:l("dashboard.projectStatus")})}),o.jsxs(ot,{className:"space-y-2 pt-4",children:[o.jsx(uN,{color:"bg-emerald-500",label:l("dashboard.completedStatus"),value:h,isRTL:i}),o.jsx(uN,{color:"bg-blue-500",label:l("dashboard.inProgressStatus"),value:m,isRTL:i}),o.jsx(uN,{color:"bg-slate-400",label:l("dashboard.notStartedStatus"),value:p,isRTL:i})]})]})]})]})},qLe=({user:e,myTasks:t,myProjects:r,leads:n,surveys:a,isRTL:s,t:i,counts:l,mleadsChartData:c})=>{var m;const u=t.filter(p=>p.task_status==="completed").length,d=t.filter(p=>p.task_status==="in_progress").length,f=l.projects,h=[...t].sort((p,g)=>new Date(g.created_at||"").getTime()-new Date(p.created_at||"").getTime()).slice(0,5);return o.jsxs("div",{className:"space-y-8",dir:s?"rtl":"ltr",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:i("employeeDashboard.title")}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:i("employeeDashboard.subtitle",{name:Ee(e.profile||{},"user.name")||e.email})})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(iW,{})})]}),o.jsxs(et,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[o.jsx(Bt,{className:"border-b border-slate-200 dark:border-slate-700",children:o.jsxs(lr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[o.jsx(Rn,{className:"h-6 w-6 text-primary"}),i("employeeDashboard.employeeInfo")]})}),o.jsx(ot,{className:"pt-6",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[o.jsx(dN,{label:i("employeeDashboard.name"),value:Ee(e.profile||{},"user_name")||"N/A",isRTL:s}),o.jsx(dN,{label:i("employeeDashboard.email"),value:e.email,isRTL:s}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:i("employeeDashboard.role")}),o.jsx(ct,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:e.permissions_permissions_Name||e.role||"Unknown"})]}),o.jsx(dN,{label:i("employeeDashboard.memberSince"),value:(m=e.profile)!=null&&m.created_at?new Date(e.profile.created_at).toLocaleDateString():"N/A",isRTL:s})]})})]}),o.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[o.jsx(Di,{title:i("employeeDashboard.myProjects"),value:l.projects,subtext:`${f} ${i("employeeDashboard.active")}`,icon:nf,isRTL:s}),o.jsx(Di,{title:i("employeeDashboard.myTasks"),value:l.myTasks,subtext:`${u} ${i("employeeDashboard.completed")}`,icon:sf,isRTL:s}),o.jsx(Di,{title:i("employeeDashboard.inProgress"),value:d,subtext:i("employeeDashboard.activeTasks"),icon:Md,isRTL:s}),o.jsx(Di,{title:i("employeeDashboard.completedTasks"),value:u,subtext:i("employeeDashboard.finishedTasks"),icon:ic,isRTL:s}),o.jsx(Di,{title:i("employeeDashboard.leads"),value:l.leads,subtext:i("employeeDashboard.totalLeads"),icon:sf,isRTL:s}),o.jsx(Di,{title:i("employeeDashboard.surveys"),value:l.surveys,subtext:i("employeeDashboard.totalSurveys"),icon:Qs,isRTL:s})]}),o.jsxs(et,{className:"border-0 shadow-md",children:[o.jsx(Bt,{children:o.jsxs(lr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[o.jsx(sf,{className:"h-6 w-6 text-primary"}),i("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),o.jsx(ot,{children:o.jsx("div",{className:"w-full h-[400px]",children:o.jsx(n0,{width:"100%",height:"100%",children:o.jsxs(Kx,{data:c,margin:{top:5,right:30,left:30,bottom:5},children:[o.jsx(l0,{strokeDasharray:"3 3"}),o.jsx(id,{dataKey:"date",angle:s?45:-45,textAnchor:s?"start":"end",height:80,tick:{fontSize:12},reversed:s}),o.jsx(od,{orientation:s?"right":"left",label:{value:"Number of Leads",angle:s?90:-90,position:s?"insideRight":"insideLeft"}}),o.jsx(Qa,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:p=>[`${p} leads`,"Total"]}),o.jsx(Eo,{}),o.jsx(Pc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(et,{className:"border-0 shadow-md",children:[o.jsx(Bt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:o.jsx(lr,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:i("employeeDashboard.myProjects")})}),o.jsx(ot,{className:"space-y-2 pt-4",children:r.length>0?r.slice(0,5).map(p=>o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[o.jsxs("div",{className:"space-y-1 flex-1",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:p.company_name}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:p.contract_code||i("employeeDashboard.noDescription")})]}),o.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:p.contract_code})]},p.project_id)):o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:i("employeeDashboard.noProjectsAssigned")})})]}),o.jsxs(et,{className:"border-0 shadow-md",children:[o.jsx(Bt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:o.jsx(lr,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:i("employeeDashboard.recentTasks")})}),o.jsx(ot,{className:"space-y-2 pt-4",children:h.length>0?h.map(p=>{var g;return o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[o.jsxs("div",{className:"space-y-1 flex-1",children:[o.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:p.task_name}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:p.description||i("employeeDashboard.noDescription")})]}),o.jsx(ct,{variant:p.task_status==="completed"?"default":p.task_status==="in_progress"?"secondary":"outline",className:"text-xs whitespace-nowrap",children:(g=p.task_status)==null?void 0:g.replace("_"," ")})]},p.task_id)}):o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:i("employeeDashboard.noTasksAssigned")})})]})]})]})},Di=({title:e,value:t,subtext:r,icon:n,isRTL:a})=>o.jsxs(et,{className:"border-0 shadow-md hover:shadow-lg transition-shadow duration-300 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",dir:a?"rtl":"ltr",children:[o.jsxs(Bt,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[o.jsx(lr,{className:"text-xs sm:text-sm font-semibold text-slate-700 dark:text-slate-300",children:e}),o.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:o.jsx(n,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})})]}),o.jsxs(ot,{children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-slate-900 dark:text-white",children:t}),o.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 mt-1",children:r})]})]}),KLe=({project:e,clientName:t,isRTL:r,t:n})=>o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",dir:r?"rtl":"ltr",children:[o.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[o.jsx("p",{className:"text-sm sm:text-base font-semibold text-slate-900 dark:text-white leading-none truncate",children:e.company_name}),o.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 truncate",children:t||n("dashboard.noClient")})]}),o.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:e.contract_code})]}),uN=({color:e,label:t,value:r,isRTL:n})=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-900 transition-colors duration-200",dir:n?"rtl":"ltr",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-3 h-3 sm:w-4 sm:h-4 rounded-full ${e} shadow-sm`}),o.jsx("span",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300",children:t})]}),o.jsx("span",{className:"text-sm sm:text-base font-bold text-slate-900 dark:text-white",children:r})]}),dN=({label:e,value:t,isRTL:r})=>o.jsxs("div",{dir:r?"rtl":"ltr",children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium mb-2",children:e}),o.jsx("p",{className:"text-base font-semibold text-slate-900 dark:text-white",children:t})]});function GLe(){const{t:e}=$t(),{currentLanguage:t,isRTL:r}=La();un();const{user:n,loading:a}=hr(),[s,i]=x.useState({projects:[],clients:[],users:[],leads:[],surveys:[],myTasks:[],counts:{projects:0,users:0,leads:0,surveys:0,clients:0,myTasks:0}}),[l,c]=x.useState([]),[u,d]=x.useState(!0),[f,h]=x.useState(null),[m,p]=x.useState(new Map),g=s.projects.filter(w=>{var k;const _=(k=n==null?void 0:n.profile)==null?void 0:k.userid,S=_?Number(_):null;return S!==null&&!isNaN(S)&&w.created_by===S}),v=async()=>{try{if(l.length>0){console.log("[Dashboard] MLeads chart data already loaded, skipping...");return}const w={pageSize:100,select_fields:"leads_id,created_at"},S=(await Y.mLeads.list(w)).data||[],k=new Map;S.forEach(C=>{const T=new Date(C.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});k.set(T,(k.get(T)||0)+1)});const N=Array.from(k.entries()).sort((C,T)=>new Date(C[0]).getTime()-new Date(T[0]).getTime()).map(([C,T])=>({date:C,count:T}));c(N)}catch(w){console.error("[Dashboard] Failed to load MLeads chart data:",w)}};x.useEffect(()=>{n&&!a&&(b(),y(),v())},[n,a]);const y=async()=>{try{const w=await LA(),_=new Map;w.forEach(S=>{_.set(S.permissions_ID,S.permissions_Name)}),p(_)}catch(w){console.error("Failed to load permission names:",w)}},b=async()=>{var w,_,S,k,j,N;try{d(!0),h(null);const[C]=await Promise.all([Y.getAggregates(["m_projects","users","m_leads","surveys","tasks","clients"])]),T=((w=C.m_projects)==null?void 0:w.Count)||0,D=((_=C.users)==null?void 0:_.Count)||0,A=((S=C.m_leads)==null?void 0:S.Count)||0,H=((k=C.surveys)==null?void 0:k.Count)||0,X=((j=C.clients)==null?void 0:j.Count)||0,L=((N=C.tasks)==null?void 0:N.Count)||0;i({projects:[],users:[],leads:[],surveys:[],clients:[],myTasks:[],counts:{projects:T,users:D,leads:A,surveys:H,clients:X,myTasks:0}})}catch(C){console.error("[Dashboard] Failed to load data:",C),i({projects:[],users:[],leads:[],surveys:[],clients:[],myTasks:[],counts:{projects:0,users:0,leads:0,surveys:0,clients:0,myTasks:0}}),h(C.message||"Failed to load data")}finally{d(!1)}};return u||a||!n?o.jsx("div",{className:"flex items-center justify-center h-full py-12",dir:r?"rtl":"ltr",children:o.jsx(ua,{message:e("common.loading"),size:"2xl"})}):f?o.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",dir:r?"rtl":"ltr",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-600",children:e("common.error")}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:f}),o.jsx(ue,{onClick:b,className:"mt-4",children:e("common.retry","Retry")})]})}):n.role==="client"?o.jsx($b,{to:"/client-portal",replace:!0}):n.role==="admin"?o.jsx(j$,{projects:s.projects,users:s.users,leads:s.leads,clients:s.clients,surveys:s.surveys,loadData:b,isRTL:r,t:e,counts:s.counts,mleadsChartData:l}):["employee","manager","team_leader"].includes(n.role)?o.jsx(qLe,{user:n,myTasks:s.myTasks,myProjects:g,leads:s.leads,surveys:s.surveys,isRTL:r,t:e,counts:s.counts,mleadsChartData:l}):["partner_employee","partner_leader"].includes(n.role)?o.jsxs("div",{className:"space-y-8",dir:r?"rtl":"ltr",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:e("partnerEmployeeDashboard.title","Partner Employee Dashboard")}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("partnerEmployeeDashboard.subtitle","Welcome to your partner employee portal")})]})}),o.jsxs(et,{className:"border-0 shadow-md",children:[o.jsx(Bt,{children:o.jsxs(lr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[o.jsx(sf,{className:"h-6 w-6 text-primary"}),e("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),o.jsx(ot,{children:o.jsx("div",{className:"w-full h-[400px]",children:o.jsx(n0,{width:"100%",height:"100%",children:o.jsxs(Kx,{data:l,margin:{top:5,right:30,left:30,bottom:5},children:[o.jsx(l0,{strokeDasharray:"3 3"}),o.jsx(id,{dataKey:"date",angle:r?45:-45,textAnchor:r?"start":"end",height:80,tick:{fontSize:12},reversed:r}),o.jsx(od,{orientation:r?"right":"left",label:{value:"Number of Leads",angle:r?90:-90,position:r?"insideRight":"insideLeft"}}),o.jsx(Qa,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:w=>[`${w} leads`,"Total"]}),o.jsx(Eo,{}),o.jsx(Pc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),o.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:o.jsx(Di,{title:"",value:0,subtext:"",icon:nf,isRTL:r})}),o.jsx("h2",{className:"text-2xl font-semibold",children:e("common.comingSoon","Coming Soon")}),o.jsx("p",{className:"text-muted-foreground max-w-md",children:e("partnerEmployeeDashboard.comingSoonMessage","We're working hard to bring you an amazing partner employee experience.")})]})})]}):o.jsx(j$,{projects:s.projects,users:s.users,leads:s.leads,clients:s.clients,surveys:s.surveys,loadData:b,isRTL:r,t:e,counts:s.counts,mleadsChartData:l})}var ej="Popover",[KK,wXe]=ps(ej,[Up]),Gx=Up(),[YLe,ld]=KK(ej),GK=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!1}=e,l=Gx(t),c=x.useRef(null),[u,d]=x.useState(!1),[f,h]=yc({prop:n,defaultProp:a??!1,onChange:s,caller:ej});return o.jsx(rO,{...l,children:o.jsx(YLe,{scope:t,contentId:sa(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:i,children:r})})};GK.displayName=ej;var YK="PopoverAnchor",XLe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ld(YK,r),s=Gx(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(H_,{...s,...n,ref:t})});XLe.displayName=YK;var XK="PopoverTrigger",JK=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ld(XK,r),s=Gx(r),i=Lt(t,a.triggerRef),l=o.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":rG(a.open),...n,ref:i,onClick:Qe(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:o.jsx(H_,{asChild:!0,...s,children:l})});JK.displayName=XK;var MP="PopoverPortal",[JLe,QLe]=KK(MP,{forceMount:void 0}),QK=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=ld(MP,t);return o.jsx(JLe,{scope:t,forceMount:r,children:o.jsx($a,{present:r||s.open,children:o.jsx(Ex,{asChild:!0,container:a,children:n})})})};QK.displayName=MP;var yp="PopoverContent",ZK=x.forwardRef((e,t)=>{const r=QLe(yp,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=ld(yp,e.__scopePopover);return o.jsx($a,{present:n||s.open,children:s.modal?o.jsx(e$e,{...a,ref:t}):o.jsx(t$e,{...a,ref:t})})});ZK.displayName=yp;var ZLe=Bu("PopoverContent.RemoveScroll"),e$e=x.forwardRef((e,t)=>{const r=ld(yp,e.__scopePopover),n=x.useRef(null),a=Lt(t,n),s=x.useRef(!1);return x.useEffect(()=>{const i=n.current;if(i)return q_(i)},[]),o.jsx(Tx,{as:ZLe,allowPinchZoom:!0,children:o.jsx(eG,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qe(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Qe(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Qe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),t$e=x.forwardRef((e,t)=>{const r=ld(yp,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return o.jsx(eG,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),eG=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=ld(yp,r),m=Gx(r);return U_(),o.jsx(Nx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(kx,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(nO,{"data-state":rG(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),tG="PopoverClose",r$e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ld(tG,r);return o.jsx(st.button,{type:"button",...n,ref:t,onClick:Qe(e.onClick,()=>a.onOpenChange(!1))})});r$e.displayName=tG;var n$e="PopoverArrow",a$e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Gx(r);return o.jsx(aO,{...a,...n,ref:t})});a$e.displayName=n$e;function rG(e){return e?"open":"closed"}var s$e=GK,i$e=JK,o$e=QK,nG=ZK;const va=s$e,xa=i$e,Zn=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>o.jsx(o$e,{children:o.jsx(nG,{ref:a,align:t,sideOffset:r,className:xe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Zn.displayName=nG.displayName;const l$e={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},c$e=(e,t,r)=>{const n=l$e[e];let a;return typeof n=="string"?a=n:t===1?a=n.one:t===2?a=n.two:t<=10?a=n.threeToTen.replace("{{count}}",String(t)):a=n.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?" "+a:" "+a:a},u$e={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},d$e={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},f$e={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},h$e={date:am({formats:u$e,defaultWidth:"full"}),time:am({formats:d$e,defaultWidth:"full"}),dateTime:am({formats:f$e,defaultWidth:"full"})},m$e={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},p$e=e=>m$e[e],g$e={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},v$e={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},x$e={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},y$e={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},b$e={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},w$e={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},_$e=e=>String(e),S$e={ordinalNumber:_$e,era:nl({values:g$e,defaultWidth:"wide"}),quarter:nl({values:v$e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:nl({values:x$e,defaultWidth:"wide"}),day:nl({values:y$e,defaultWidth:"wide"}),dayPeriod:nl({values:b$e,defaultWidth:"wide",formattingValues:w$e,defaultFormattingWidth:"wide"})},j$e=/^(\d+)(th|st|nd|rd)?/i,k$e=/\d+/i,N$e={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},C$e={any:[//,//]},E$e={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},T$e={any:[/1/i,/2/i,/3/i,/4/i]},A$e={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},O$e={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},P$e={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},D$e={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},R$e={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},I$e={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},M$e={ordinalNumber:MU({matchPattern:j$e,parsePattern:k$e,valueCallback:e=>parseInt(e,10)}),era:al({matchPatterns:N$e,defaultMatchWidth:"wide",parsePatterns:C$e,defaultParseWidth:"any"}),quarter:al({matchPatterns:E$e,defaultMatchWidth:"wide",parsePatterns:T$e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:al({matchPatterns:A$e,defaultMatchWidth:"wide",parsePatterns:O$e,defaultParseWidth:"any"}),day:al({matchPatterns:P$e,defaultMatchWidth:"wide",parsePatterns:D$e,defaultParseWidth:"any"}),dayPeriod:al({matchPatterns:R$e,defaultMatchWidth:"any",parsePatterns:I$e,defaultParseWidth:"any"})},F$e={code:"ar",formatDistance:c$e,formatLong:h$e,formatRelative:p$e,localize:S$e,match:M$e,options:{weekStartsOn:6,firstWeekContainsDate:1}};var jt=function(){return jt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},jt.apply(this,arguments)};function L$e(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function aG(e,t,r){for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Yx(e){return e.mode==="multiple"}function Xx(e){return e.mode==="range"}function tj(e){return e.mode==="single"}var $$e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function B$e(e,t){return us(e,"LLLL y",t)}function U$e(e,t){return us(e,"d",t)}function z$e(e,t){return us(e,"LLLL",t)}function V$e(e){return"".concat(e)}function W$e(e,t){return us(e,"cccccc",t)}function H$e(e,t){return us(e,"yyyy",t)}var q$e=Object.freeze({__proto__:null,formatCaption:B$e,formatDay:U$e,formatMonthCaption:z$e,formatWeekNumber:V$e,formatWeekdayName:W$e,formatYearCaption:H$e}),K$e=function(e,t,r){return us(e,"do MMMM (EEEE)",r)},G$e=function(){return"Month: "},Y$e=function(){return"Go to next month"},X$e=function(){return"Go to previous month"},J$e=function(e,t){return us(e,"cccc",t)},Q$e=function(e){return"Week n. ".concat(e)},Z$e=function(){return"Year: "},e5e=Object.freeze({__proto__:null,labelDay:K$e,labelMonthDropdown:G$e,labelNext:Y$e,labelPrevious:X$e,labelWeekNumber:Q$e,labelWeekday:J$e,labelYearDropdown:Z$e});function t5e(){var e="buttons",t=$$e,r=MA,n={},a={},s=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:q$e,labels:e5e,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:s,styles:i,today:l,mode:"default"}}function r5e(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,s=e.fromDate,i=e.toDate;return n?s=Ts(n):t&&(s=new Date(t,0,1)),a?i=I_(a):r&&(i=new Date(r,11,31)),{fromDate:s?Fm(s):void 0,toDate:i?Fm(i):void 0}}var sG=x.createContext(void 0);function n5e(e){var t,r=e.initialProps,n=t5e(),a=r5e(r),s=a.fromDate,i=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!s||!i)&&(l="buttons");var c;(tj(r)||Yx(r)||Xx(r))&&(c=r.onSelect);var u=jt(jt(jt({},n),r),{captionLayout:l,classNames:jt(jt({},n.classNames),r.classNames),components:jt({},r.components),formatters:jt(jt({},n.formatters),r.formatters),fromDate:s,labels:jt(jt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:jt(jt({},n.modifiers),r.modifiers),modifiersClassNames:jt(jt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:jt(jt({},n.styles),r.styles),toDate:i});return o.jsx(sG.Provider,{value:u,children:e.children})}function Tr(){var e=x.useContext(sG);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function iG(e){var t=Tr(),r=t.locale,n=t.classNames,a=t.styles,s=t.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function a5e(e){return o.jsx("svg",jt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function oG(e){var t,r,n=e.onChange,a=e.value,s=e.children,i=e.caption,l=e.className,c=e.style,u=Tr(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:a5e;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:s}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function s5e(e){var t,r=Tr(),n=r.fromDate,a=r.toDate,s=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});var f=[];if(Hse(n,a))for(var h=Ts(n),m=n.getMonth();m<=a.getMonth();m++)f.push(dk(h,m));else for(var h=Ts(new Date),m=0;m<=11;m++)f.push(dk(h,m));var p=function(v){var y=Number(v.target.value),b=dk(Ts(e.displayMonth),y);e.onChange(b)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:oG;return o.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:p,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:f.map(function(v){return o.jsx("option",{value:v.getMonth(),children:l(v,{locale:i})},v.getMonth())})})}function i5e(e){var t,r=e.displayMonth,n=Tr(),a=n.fromDate,s=n.toDate,i=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});for(var m=a.getFullYear(),p=s.getFullYear(),g=m;g<=p;g++)h.push(lI(RU(new Date),g));var v=function(b){var w=lI(Ts(r),Number(b.target.value));e.onChange(w)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:oG;return o.jsx(y,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:i}),children:h.map(function(b){return o.jsx("option",{value:b.getFullYear(),children:d(b,{locale:i})},b.getFullYear())})})}function o5e(e,t){var r=x.useState(e),n=r[0],a=r[1],s=t===void 0?n:t;return[s,a]}function l5e(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,s=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&$m(s,a)<0){var u=-1*(c-1);a=Oo(s,u)}return i&&$m(a,i)<0&&(a=i),Ts(a)}function c5e(){var e=Tr(),t=l5e(e),r=o5e(t,e.month),n=r[0],a=r[1],s=function(i){var l;if(!e.disableNavigation){var c=Ts(i);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,s]}function u5e(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Ts(e),s=Ts(Oo(a,n)),i=$m(s,a),l=[],c=0;c<i;c++){var u=Oo(a,c);l.push(u)}return r&&(l=l.reverse()),l}function d5e(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,i=n?s:1,l=Ts(e);if(!r)return Oo(l,i);var c=$m(r,e);if(!(c<s))return Oo(l,i)}}function f5e(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,i=n?s:1,l=Ts(e);if(!r)return Oo(l,-i);var c=$m(l,r);if(!(c<=0))return Oo(l,-i)}}var lG=x.createContext(void 0);function h5e(e){var t=Tr(),r=c5e(),n=r[0],a=r[1],s=u5e(n,t),i=d5e(n,t),l=f5e(n,t),c=function(f){return s.some(function(h){return FA(f,h)})},u=function(f,h){c(f)||(h&&UU(f,h)?a(Oo(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:s,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return o.jsx(lG.Provider,{value:d,children:e.children})}function Jx(){var e=x.useContext(lG);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function k$(e){var t,r=Tr(),n=r.classNames,a=r.styles,s=r.components,i=Jx().goToMonth,l=function(d){i(Oo(d,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:iG,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(s5e,{onChange:l,displayMonth:e.displayMonth}),o.jsx(i5e,{onChange:l,displayMonth:e.displayMonth})]})}function m5e(e){return o.jsx("svg",jt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function p5e(e){return o.jsx("svg",jt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Hw=x.forwardRef(function(e,t){var r=Tr(),n=r.classNames,a=r.styles,s=[n.button_reset,n.button];e.className&&s.push(e.className);var i=s.join(" "),l=jt(jt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),o.jsx("button",jt({},e,{ref:t,type:"button",className:i,style:l}))});function g5e(e){var t,r,n=Tr(),a=n.dir,s=n.locale,i=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var h=u(e.previousMonth,{locale:s}),m=[i.nav_button,i.nav_button_previous].join(" "),p=d(e.nextMonth,{locale:s}),g=[i.nav_button,i.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:p5e,y=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:m5e;return o.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(Hw,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?o.jsx(v,{className:i.nav_icon,style:l.nav_icon}):o.jsx(y,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(Hw,{name:"next-month","aria-label":p,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?o.jsx(y,{className:i.nav_icon,style:l.nav_icon}):o.jsx(v,{className:i.nav_icon,style:l.nav_icon})})]})}function N$(e){var t=Tr().numberOfMonths,r=Jx(),n=r.previousMonth,a=r.nextMonth,s=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(p){return FA(e.displayMonth,p)}),c=l===0,u=l===i.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&s(n)},m=function(){a&&s(a)};return o.jsx(g5e,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function v5e(e){var t,r=Tr(),n=r.classNames,a=r.disableNavigation,s=r.styles,i=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:iG,u;return a?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=o.jsx(k$,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(k$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(N$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(N$,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:n.caption,style:s.caption,children:u})}function x5e(e){var t=Tr(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?o.jsx("tfoot",{className:a,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function y5e(e,t,r){for(var n=r?yf(new Date):bl(new Date,{locale:e,weekStartsOn:t}),a=[],s=0;s<7;s++){var i=Ya(n,s);a.push(i)}return a}function b5e(){var e=Tr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,s=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=y5e(a,s,i);return o.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function w5e(){var e,t=Tr(),r=t.classNames,n=t.styles,a=t.components,s=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:b5e;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(s,{})})}function _5e(e){var t=Tr(),r=t.locale,n=t.formatters.formatDay;return o.jsx(o.Fragment,{children:n(e.date,{locale:r})})}var FP=x.createContext(void 0);function S5e(e){if(!Yx(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(FP.Provider,{value:t,children:e.children})}return o.jsx(j5e,{initialProps:e.initialProps,children:e.children})}function j5e(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,s=t.max,i=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var p=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!p){var g=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!g){var v=n?aG([],n):[];if(d.selected){var y=v.findIndex(function(b){return js(u,b)});v.splice(y,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=s&&n.length>s-1,f=n.some(function(h){return js(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:i,modifiers:l};return o.jsx(FP.Provider,{value:c,children:r})}function LP(){var e=x.useContext(FP);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function k5e(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?js(a,e)&&js(n,e)?void 0:js(a,e)?{from:a,to:void 0}:js(n,e)?void 0:G2(n,e)?{from:e,to:a}:{from:n,to:e}:a?G2(e,a)?{from:a,to:e}:{from:e,to:a}:n?UU(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var $P=x.createContext(void 0);function N5e(e){if(!Xx(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx($P.Provider,{value:t,children:e.children})}return o.jsx(C5e,{initialProps:e.initialProps,children:e.children})}function C5e(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},s=a.from,i=a.to,l=t.min,c=t.max,u=function(m,p,g){var v,y;(v=t.onDayClick)===null||v===void 0||v.call(t,m,p,g);var b=k5e(m,n);(y=t.onSelect)===null||y===void 0||y.call(t,b,m,p,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],i?(d.range_end=[i],js(s,i)||(d.range_middle=[{after:s,before:i}])):d.range_end=[s]):i&&(d.range_start=[i],d.range_end=[i]),l&&(s&&!i&&d.disabled.push({after:uk(s,l-1),before:Ya(s,l-1)}),s&&i&&d.disabled.push({after:s,before:Ya(s,l-1)}),!s&&i&&d.disabled.push({after:uk(i,l-1),before:Ya(i,l-1)})),c){if(s&&!i&&(d.disabled.push({before:Ya(s,-c+1)}),d.disabled.push({after:Ya(s,c-1)})),s&&i){var f=ol(i,s)+1,h=c-f;d.disabled.push({before:uk(s,h)}),d.disabled.push({after:Ya(i,h)})}!s&&i&&(d.disabled.push({before:Ya(i,-c+1)}),d.disabled.push({after:Ya(i,c-1)}))}return o.jsx($P.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function BP(){var e=x.useContext($P);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Kb(e){return Array.isArray(e)?aG([],e):e!==void 0?[e]:[]}function E5e(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Kb(a)}),t}var $o;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})($o||($o={}));var T5e=$o.Selected,Vl=$o.Disabled,A5e=$o.Hidden,O5e=$o.Today,fN=$o.RangeEnd,hN=$o.RangeMiddle,mN=$o.RangeStart,P5e=$o.Outside;function D5e(e,t,r){var n,a=(n={},n[T5e]=Kb(e.selected),n[Vl]=Kb(e.disabled),n[A5e]=Kb(e.hidden),n[O5e]=[e.today],n[fN]=[],n[hN]=[],n[mN]=[],n[P5e]=[],n);return e.fromDate&&a[Vl].push({before:e.fromDate}),e.toDate&&a[Vl].push({after:e.toDate}),Yx(e)?a[Vl]=a[Vl].concat(t.modifiers[Vl]):Xx(e)&&(a[Vl]=a[Vl].concat(r.modifiers[Vl]),a[mN]=r.modifiers[mN],a[hN]=r.modifiers[hN],a[fN]=r.modifiers[fN]),a}var cG=x.createContext(void 0);function R5e(e){var t=Tr(),r=LP(),n=BP(),a=D5e(t,r,n),s=E5e(t.modifiers),i=jt(jt({},a),s);return o.jsx(cG.Provider,{value:i,children:e.children})}function uG(){var e=x.useContext(cG);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function I5e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function M5e(e){return!!(e&&typeof e=="object"&&"from"in e)}function F5e(e){return!!(e&&typeof e=="object"&&"after"in e)}function L5e(e){return!!(e&&typeof e=="object"&&"before"in e)}function $5e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function B5e(e,t){var r,n=t.from,a=t.to;if(n&&a){var s=ol(a,n)<0;s&&(r=[a,n],n=r[0],a=r[1]);var i=ol(e,n)>=0&&ol(a,e)>=0;return i}return a?js(a,e):n?js(n,e):!1}function U5e(e){return RA(e)}function z5e(e){return Array.isArray(e)&&e.every(RA)}function V5e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(U5e(r))return js(e,r);if(z5e(r))return r.includes(e);if(M5e(r))return B5e(e,r);if($5e(r))return r.dayOfWeek.includes(e.getDay());if(I5e(r)){var n=ol(r.before,e),a=ol(r.after,e),s=n>0,i=a<0,l=G2(r.before,r.after);return l?i&&s:s||i}return F5e(r)?ol(e,r.after)>0:L5e(r)?ol(r.before,e)>0:typeof r=="function"?r(e):!1})}function UP(e,t,r){var n=Object.keys(t).reduce(function(s,i){var l=t[i];return V5e(e,l)&&s.push(i),s},[]),a={};return n.forEach(function(s){return a[s]=!0}),r&&!FA(e,r)&&(a.outside=!0),a}function W5e(e,t){for(var r=Ts(e[0]),n=I_(e[e.length-1]),a,s,i=r;i<=n;){var l=UP(i,t),c=!l.disabled&&!l.hidden;if(!c){i=Ya(i,1);continue}if(l.selected)return i;l.today&&!s&&(s=i),a||(a=i),i=Ya(i,1)}return s||a}var H5e=365;function dG(e,t){var r=t.moveBy,n=t.direction,a=t.context,s=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Ya,week:K2,month:Oo,year:Dae,startOfWeek:function(v){return a.ISOWeek?yf(v):bl(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?IU(v):IA(v,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=Rae([u,m]):n==="after"&&d&&(m=Iae([d,m]));var p=!0;if(s){var g=UP(m,s);p=!g.disabled&&!g.hidden}return p?m:l.count>H5e?l.lastFocused:dG(m,{moveBy:r,direction:n,context:a,modifiers:s,retry:jt(jt({},l),{count:l.count+1})})}var fG=x.createContext(void 0);function q5e(e){var t=Jx(),r=uG(),n=x.useState(),a=n[0],s=n[1],i=x.useState(),l=i[0],c=i[1],u=W5e(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),s(void 0)},h=function(v){s(v)},m=Tr(),p=function(v,y){if(a){var b=dG(a,{moveBy:v,direction:y,context:m,modifiers:r});js(a,b)||(t.goToDate(b,a),h(b))}},g={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return o.jsx(fG.Provider,{value:g,children:e.children})}function zP(){var e=x.useContext(fG);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function K5e(e,t){var r=uG(),n=UP(e,r,t);return n}var VP=x.createContext(void 0);function G5e(e){if(!tj(e.initialProps)){var t={selected:void 0};return o.jsx(VP.Provider,{value:t,children:e.children})}return o.jsx(Y5e,{initialProps:e.initialProps,children:e.children})}function Y5e(e){var t=e.initialProps,r=e.children,n=function(s,i,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,s,i,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,s,s,i,l)},a={selected:t.selected,onDayClick:n};return o.jsx(VP.Provider,{value:a,children:r})}function hG(){var e=x.useContext(VP);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function X5e(e,t){var r=Tr(),n=hG(),a=LP(),s=BP(),i=zP(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,h=i.focus,m=i.focusMonthBefore,p=i.focusMonthAfter,g=i.focusYearBefore,v=i.focusYearAfter,y=i.focusStartOfWeek,b=i.focusEndOfWeek,w=function(W){var F,M,G,Q;tj(r)?(F=n.onDayClick)===null||F===void 0||F.call(n,e,t,W):Yx(r)?(M=a.onDayClick)===null||M===void 0||M.call(a,e,t,W):Xx(r)?(G=s.onDayClick)===null||G===void 0||G.call(s,e,t,W):(Q=r.onDayClick)===null||Q===void 0||Q.call(r,e,t,W)},_=function(W){var F;h(e),(F=r.onDayFocus)===null||F===void 0||F.call(r,e,t,W)},S=function(W){var F;f(),(F=r.onDayBlur)===null||F===void 0||F.call(r,e,t,W)},k=function(W){var F;(F=r.onDayMouseEnter)===null||F===void 0||F.call(r,e,t,W)},j=function(W){var F;(F=r.onDayMouseLeave)===null||F===void 0||F.call(r,e,t,W)},N=function(W){var F;(F=r.onDayPointerEnter)===null||F===void 0||F.call(r,e,t,W)},C=function(W){var F;(F=r.onDayPointerLeave)===null||F===void 0||F.call(r,e,t,W)},T=function(W){var F;(F=r.onDayTouchCancel)===null||F===void 0||F.call(r,e,t,W)},D=function(W){var F;(F=r.onDayTouchEnd)===null||F===void 0||F.call(r,e,t,W)},A=function(W){var F;(F=r.onDayTouchMove)===null||F===void 0||F.call(r,e,t,W)},H=function(W){var F;(F=r.onDayTouchStart)===null||F===void 0||F.call(r,e,t,W)},X=function(W){var F;(F=r.onDayKeyUp)===null||F===void 0||F.call(r,e,t,W)},L=function(W){var F;switch(W.key){case"ArrowLeft":W.preventDefault(),W.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":W.preventDefault(),W.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":W.preventDefault(),W.stopPropagation(),u();break;case"ArrowUp":W.preventDefault(),W.stopPropagation(),d();break;case"PageUp":W.preventDefault(),W.stopPropagation(),W.shiftKey?g():m();break;case"PageDown":W.preventDefault(),W.stopPropagation(),W.shiftKey?v():p();break;case"Home":W.preventDefault(),W.stopPropagation(),y();break;case"End":W.preventDefault(),W.stopPropagation(),b();break}(F=r.onDayKeyDown)===null||F===void 0||F.call(r,e,t,W)},I={onClick:w,onFocus:_,onBlur:S,onKeyDown:L,onKeyUp:X,onMouseEnter:k,onMouseLeave:j,onPointerEnter:N,onPointerLeave:C,onTouchCancel:T,onTouchEnd:D,onTouchMove:A,onTouchStart:H};return I}function J5e(){var e=Tr(),t=hG(),r=LP(),n=BP(),a=tj(e)?t.selected:Yx(e)?r.selected:Xx(e)?n.selected:void 0;return a}function Q5e(e){return Object.values($o).includes(e)}function Z5e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(Q5e(n)){var s=e.classNames["day_".concat(n)];s&&r.push(s)}}),r}function e8e(e,t){var r=jt({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=jt(jt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function t8e(e,t,r){var n,a,s,i=Tr(),l=zP(),c=K5e(e,t),u=X5e(e,c),d=J5e(),f=!!(i.onDayClick||i.mode!=="default");x.useEffect(function(){var k;c.outside||l.focusedDay&&f&&js(l.focusedDay,e)&&((k=r.current)===null||k===void 0||k.focus())},[l.focusedDay,e,r,f,c.outside]);var h=Z5e(i,c).join(" "),m=e8e(i,c),p=!!(c.outside&&!i.showOutsideDays||c.hidden),g=(s=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&s!==void 0?s:_5e,v=o.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),y={style:m,className:h,children:v,role:"gridcell"},b=l.focusTarget&&js(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&js(l.focusedDay,e),_=jt(jt(jt({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||b?0:-1,n)),u),S={isButton:f,isHidden:p,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:y};return S}function r8e(e){var t=x.useRef(null),r=t8e(e.date,e.displayMonth,t);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(Hw,jt({name:"day",ref:t},r.buttonProps)):o.jsx("div",jt({},r.divProps))}function n8e(e){var t=e.number,r=e.dates,n=Tr(),a=n.onWeekNumberClick,s=n.styles,i=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return o.jsx("span",{className:i.weeknumber,style:s.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return o.jsx(Hw,{name:"week-number","aria-label":f,className:i.weeknumber,style:s.weeknumber,onClick:h,children:d})}function a8e(e){var t,r,n=Tr(),a=n.styles,s=n.classNames,i=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:r8e,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:n8e,d;return i&&(d=o.jsx("td",{className:s.cell,style:a.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:s.row,style:a.row,children:[d,e.dates.map(function(f){return o.jsx("td",{className:s.cell,style:a.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:f})},zse(f))})]})}function C$(e,t,r){for(var n=r!=null&&r.ISOWeek?IU(t):IA(t,r),a=r!=null&&r.ISOWeek?yf(e):bl(e,r),s=ol(n,a),i=[],l=0;l<=s;l++)i.push(Ya(a,l));var c=i.reduce(function(u,d){var f=r!=null&&r.ISOWeek?FU(d):$U(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function s8e(e,t){var r=C$(Ts(e),I_(e),t);if(t!=null&&t.useFixedWeeks){var n=Wse(e,t);if(n<6){var a=r[r.length-1],s=a.dates[a.dates.length-1],i=K2(s,6-n),l=C$(K2(s,1),i,t);r.push.apply(r,l)}}return r}function i8e(e){var t,r,n,a=Tr(),s=a.locale,i=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,p=s8e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:w5e,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:a8e,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:x5e;return o.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(g,{}),o.jsx("tbody",{className:i.tbody,style:l.tbody,children:p.map(function(b){return o.jsx(v,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),o.jsx(y,{displayMonth:e.displayMonth})]})}function o8e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var l8e=o8e()?x.useLayoutEffect:x.useEffect,pN=!1,c8e=0;function E$(){return"react-day-picker-".concat(++c8e)}function u8e(e){var t,r=e??(pN?E$():null),n=x.useState(r),a=n[0],s=n[1];return l8e(function(){a===null&&s(E$())},[]),x.useEffect(function(){pN===!1&&(pN=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function d8e(e){var t,r,n=Tr(),a=n.dir,s=n.classNames,i=n.styles,l=n.components,c=Jx().displayMonths,u=u8e(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[s.month],h=i.month,m=e.displayIndex===0,p=e.displayIndex===c.length-1,g=!m&&!p;a==="rtl"&&(t=[m,p],p=t[0],m=t[1]),m&&(f.push(s.caption_start),h=jt(jt({},h),i.caption_start)),p&&(f.push(s.caption_end),h=jt(jt({},h),i.caption_end)),g&&(f.push(s.caption_between),h=jt(jt({},h),i.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:v5e;return o.jsxs("div",{className:f.join(" "),style:h,children:[o.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(i8e,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function f8e(e){var t=Tr(),r=t.classNames,n=t.styles;return o.jsx("div",{className:r.months,style:n.months,children:e.children})}function h8e(e){var t,r,n=e.initialProps,a=Tr(),s=zP(),i=Jx(),l=x.useState(!1),c=l[0],u=l[1];x.useEffect(function(){a.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[a.initialFocus,c,s.focus,s.focusTarget,s]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=jt(jt({},a.styles.root),a.style),h=Object.keys(n).filter(function(p){return p.startsWith("data-")}).reduce(function(p,g){var v;return jt(jt({},p),(v={},v[g]=n[g],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:f8e;return o.jsx("div",jt({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:o.jsx(m,{children:i.displayMonths.map(function(p,g){return o.jsx(d8e,{displayIndex:g,displayMonth:p},g)})})}))}function m8e(e){var t=e.children,r=L$e(e,["children"]);return o.jsx(n5e,{initialProps:r,children:o.jsx(h5e,{children:o.jsx(G5e,{initialProps:r,children:o.jsx(S5e,{initialProps:r,children:o.jsx(N5e,{initialProps:r,children:o.jsx(R5e,{children:o.jsx(q5e,{children:t})})})})})})})}function p8e(e){return o.jsx(m8e,jt({},e,{children:o.jsx(h8e,{initialProps:e})}))}function mG({className:e,classNames:t,showOutsideDays:r=!0,...n}){return o.jsx(p8e,{showOutsideDays:r,className:xe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:xe(zm({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:xe(zm({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>o.jsx(mie,{className:"h-4 w-4"}),IconRight:({...a})=>o.jsx(F_,{className:"h-4 w-4"})},...n})}mG.displayName="Calendar";function WP({onSearch:e,onFilterStatus:t,onFilterAssignee:r,onFilterDateRange:n,users:a=[],statuses:s=[],placeholder:i,className:l}){const{t:c}=$t(),{currentLanguage:u}=La(),[d,f]=x.useState(""),[h,m]=x.useState({from:void 0,to:void 0}),p=u==="ar"?F$e:void 0;x.useEffect(()=>{const y=setTimeout(()=>{e(d)},300);return()=>clearTimeout(y)},[d,e]);const g=y=>{m(y),n&&n(y)},v=()=>{f(""),m({from:void 0,to:void 0}),t&&t("all"),r&&r("all"),n&&n({from:void 0,to:void 0})};return o.jsxs("div",{className:xe("flex flex-col sm:flex-row gap-3 mb-6",l),children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Vs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground rtl:right-2.5 rtl:left-auto"}),o.jsx(Ue,{placeholder:i||c("common.search","Search..."),value:d,onChange:y=>f(y.target.value),className:"pl-9 rtl:pr-9 rtl:pl-3"})]}),o.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:[t&&s.length>0&&o.jsxs(xt,{onValueChange:t,children:[o.jsxs(gt,{className:"w-[140px]",children:[o.jsx(wie,{className:"mr-2 h-4 w-4"}),o.jsx(yt,{placeholder:c("common.status","Status")})]}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"all",children:c("common.all","All")}),s.map(y=>o.jsx(Ae,{value:y.value,children:y.label},y.value))]})]}),r&&a.length>0&&o.jsxs(xt,{onValueChange:r,children:[o.jsxs(gt,{className:"w-[140px]",children:[o.jsx(g8e,{className:"mr-2 h-4 w-4"}),o.jsx(yt,{placeholder:c("common.assignee","Assignee")})]}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"all",children:c("common.all","All")}),a.filter(y=>["employee","admin","manager","team_leader"].includes(y.user_role)).map(y=>o.jsx(Ae,{value:y.user_id.toString(),children:Ee(y,"user_name")},y.user_id))]})]}),n&&o.jsxs(va,{children:[o.jsx(xa,{asChild:!0,children:o.jsxs(ue,{variant:"outline",className:xe("w-[240px] justify-start text-left font-normal",!h.from&&"text-muted-foreground"),children:[o.jsx(Po,{className:"mr-2 h-4 w-4"}),h.from?h.to?o.jsxs(o.Fragment,{children:[us(h.from,"LLL dd, y",{locale:p})," -"," ",us(h.to,"LLL dd, y",{locale:p})]}):us(h.from,"LLL dd, y",{locale:p}):o.jsx("span",{children:c("common.pickDate","Pick a date")})]})}),o.jsx(Zn,{className:"w-auto p-0",align:"start",children:o.jsx(mG,{initialFocus:!0,mode:"range",defaultMonth:h.from,selected:h,onSelect:g,numberOfMonths:2})})]}),o.jsx(ue,{variant:"ghost",size:"icon",onClick:v,title:c("common.clearFilters","Clear filters"),children:o.jsx(Ro,{className:"h-4 w-4"})})]})]})}function g8e(e){return o.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}const os={async getAll(){try{console.log("[stageService] Fetching all stages...");const e=await Y.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch stages:",e),e}},async getGlobalStages(){try{console.log("[stageService] Fetching global stages...");const e=await Y.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} global stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch global stages:",e),e}},async getByType(e){try{console.log(`[stageService] Fetching stages for type: ${e}...`);const t=await Y.stages.list({exact_filters:{stage_type:e},sort_by:"stager_order_index",sort_order:"asc"});return console.log(`[stageService] Successfully fetched ${t.data.length} ${e} stages`),t.data}catch(t){throw console.error(`[stageService] Failed to fetch ${e} stages: `,t),t}},async create(e){try{const t=await this.getAll(),r=t.length>0?Math.max(...t.map(i=>i.stager_order_index||0)):-1,n=e.stager_order_index??r+1,a={stage_name:e.stage_name,stage_name_ar:e.stage_name_ar||null,stage_type:e.stage_type,stager_order_index:n,color:e.color,color_var:e.color_var};return await Y.stages.create(a)}catch(t){throw console.error("[stageService] Failed to create stage:",t),t}},async update(e,t){try{const r=yl(t,{stage_name:"stage_name"});await Y.stages.update(e,r)}catch(r){throw console.error("[stageService] Failed to update stage:",r),r}},async delete(e){try{await Y.stages.delete(e)}catch(t){throw console.error("[stageService] Failed to delete stage:",t),t}}},jn={async getAll(){try{console.log("[userService] Fetching all users...");const e=await Y.Users.list();return console.log(`[userService] Successfully fetched ${e.data.length} users`),e.data}catch(e){throw console.error("[userService] Failed to fetch users:",e),e}},async getCount(){return Y.count("Users")},async getById(e){try{const t=await Y.Users.list({exact_filters:{userid:e},pageSize:1});return t.data&&t.data.length>0?t.data[0]:null}catch(t){return console.error("[userService] Failed to fetch user:",t),null}},async getByAuthId(e){try{return(await Y.Users.list({exact_filters:{userid:e}})).data[0]||null}catch(t){return console.error("[userService] Failed to fetch user by auth ID:",t),null}},async update(e,t){try{const r={};t.name!==void 0&&(r.name=t.name),t.Email!==void 0&&(r.Email=t.Email),t.permissions!==void 0&&(r.permissions=t.permissions),t.mobile!==void 0&&(r.mobile=t.mobile),t.IsActive!==void 0&&(r.IsActive=t.IsActive),t.Employee!==void 0&&(r.Employee=t.Employee),await Y.Users.update(e,r),console.log(`[userService] Successfully updated user ${e} `)}catch(r){throw console.error("[userService] Failed to update user:",r),r}}},pG={async getAll(){try{console.log("[clientService] Fetching all clients...");const e=await Y.Users.list({exact_filters:{user_role:"client"}});return console.log(`[clientService] Successfully fetched ${e.data.length} clients`),e.data}catch(e){throw console.error("[clientService] Failed to fetch clients:",e),e}},async getCount(){return Y.count("Users")},async getById(e){try{const t=await Y.Users.list({exact_filters:{userid:e},pageSize:1});if(t.data&&t.data.length>0){const r=t.data[0];if(r.user_role==="client")return r}return null}catch(t){return console.error("[clientService] Failed to fetch client:",t),null}},async create(e){try{const t={name:e.name,Email:e.Email,mobile:e.mobile,IsActive:1,Employee:0,Owner:0,permissions:e.permissions||0};return await Y.Users.create(t)}catch(t){throw console.error("[clientService] Failed to create client:",t),t}}},Gc={async getAll(){try{console.log("[projectService] Fetching all projects...");const e=await Y.projects.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[projectService] Successfully fetched ${e.data.length} projects`),e.data}catch(e){throw console.error("[projectService] Failed to fetch projects:",e),e}},async getCount(){return Y.count("projects")},async getById(e){try{return await Y.projects.get(e)}catch(t){return console.error("[projectService] Failed to fetch project:",t),null}},async create(e){try{return await Y.projects.create({project_name:e.project_name,project_description:e.project_description,created_by:e.created_by,progress:e.progress||0,stage:e.stage,end_date:e.end_date})}catch(t){throw console.error("[projectService] Failed to create project:",t),t}},async update(e,t){try{const r={};t.project_name&&(r.project_name=t.project_name),t.project_description!==void 0&&(r.project_description=t.project_description),t.progress!==void 0&&(r.progress=t.progress),t.stage!==void 0&&(r.stage=t.stage),t.end_date!==void 0&&(r.end_date=t.end_date),await Y.projects.update(e,r)}catch(r){throw console.error("[projectService] Failed to update project:",r),r}},async delete(e){try{await Y.projects.delete(e)}catch(t){throw console.error("[projectService] Failed to delete project:",t),t}},async getByUserAuthId(e){try{console.log("[projectService] Fetching projects for user:",e);const r=(await Y.projectUsers.list({exact_filters:{userid:e}})).data.map(a=>a.project_id);if(r.length===0)return[];const n=await Promise.all(r.map(a=>Y.projects.get(a)));return console.log(`[projectService] Successfully fetched ${n.length} projects for user`),n.filter(a=>a!==null)}catch(t){throw console.error("[projectService] Failed to fetch projects for user:",t),t}}},zd={async getAll(){try{console.log("[taskService] Fetching all tasks...");const e=await Y.tasks.list();return console.log(`[taskService] Successfully fetched ${e.data.length} tasks`),e.data}catch(e){throw console.error("[taskService] Failed to fetch tasks:",e),e}},async getCount(e={}){return Y.count("tasks",e)},async getByStage(e){try{return(await Y.tasks.getByStage(e)).data}catch(t){throw console.error("[taskService] Failed to fetch tasks:",t),t}},async create(e){try{const t=yl({task_name:e.task_name,stage_id:e.stage_id,assigned_to:e.assigned_to,task_status:e.task_status,due_date:e.due_date,description:e.description,userid:e.userid},{task_name:"task_name",description:"description"});return await Y.tasks.create(t)}catch(t){throw console.error("[taskService] Failed to create task:",t),t}},async update(e,t){try{const r=yl(t,{task_name:"task_name",description:"description"});await Y.tasks.update(e,r)}catch(r){throw console.error("[taskService] Failed to update task:",r),r}},async delete(e){try{await Y.tasks.delete(e)}catch(t){throw console.error("[taskService] Failed to delete task:",t),t}}},tT={async getByTask(e){try{return(await Y.comments.list({exact_filters:{task_id:e},sort_by:"created_date",sort_order:"asc"})).data}catch(t){throw console.error("[commentService] Failed to fetch comments:",t),t}},async create(e){try{return await Y.comments.create({task_id:e.task_id,userid:e.userid,message:e.message})}catch(t){throw console.error("[commentService] Failed to create comment:",t),t}}},lo={async getUserRooms(e){try{const r=(await Y.roomMembers.list({exact_filters:{userid:e}})).data;if(!r||r.length===0)return[];const n=r.map(i=>i.room_id);return(await Y.rooms.list({advanced_filters:[{column:"room_id",filter_type:"in",value:n}]})).data}catch(t){throw console.error("[roomService] Failed to get user rooms:",t),t}},async createRoom(e){let t=e.created_by;if(!t||t===0){const n=await jn.getByAuthId(e.userid);n&&(t=n.userid)}return await Y.rooms.create({room_name:e.name,is_private:e.is_private??!0,project_id:e.project_id,created_by:t,userid:e.userid})},async addMember(e,t){await Y.roomMembers.create({room_id:e,userid:t})},async getRoomMembers(e){const t=await Y.roomMembers.getByRoom(e);if(!t.data||t.data.length===0)return[];const r=t.data.map(n=>n.userid).filter(Boolean);if(r.length===0)return[];try{return(await Y.Users.list({advanced_filters:[{column:"userid",filter_type:"in",value:r}]})).data||[]}catch(n){return console.warn("[roomService] Batch user fetch failed, falling back to individual calls:",n),(await Promise.all(t.data.map(async s=>await jn.getByAuthId(s.userid)))).filter(Boolean)}},async markAsRead(e,t){try{const r=await Y.roomMembers.list({exact_filters:{room_id:e,userid:t}});if(r.data.length>0){const n=r.data[0].id;n&&await Y.roomMembers.update(n,{last_read_at:new Date().toISOString()})}}catch(r){console.error("[roomService] Failed to mark room as read:",r)}}},v8e={async getProjectUsers(e){try{console.log("[projectUserService] Fetching users for project:",e);const t=await Y.projectUsers.getByProject(e);if(!t.data||t.data.length===0)return[];const r=t.data.map(a=>a.user_id);return(await Promise.all(r.map(a=>jn.getById(a)))).filter(Boolean)}catch(t){throw console.error("[projectUserService] Failed to fetch project users:",t),t}},async addUserToProject(e,t){try{console.log("[projectUserService] Adding user",t,"to project",e),await Y.projectUsers.create({project_id:e,user_id:t}),console.log("[projectUserService] Successfully added user to project")}catch(r){throw console.error("[projectUserService] Failed to add user to project:",r),r}},async removeUserFromProject(e,t){try{console.log("[projectUserService] Removing user",t,"from project",e);const r=await Y.projectUsers.list({exact_filters:{project_id:e,user_id:t}});if(r.data.length>0){const n=r.data[0].id;n&&await Y.projectUsers.delete(n)}console.log("[projectUserService] Successfully removed user from project")}catch(r){throw console.error("[projectUserService] Failed to remove user from project:",r),r}}},xh={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await Y.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getAllWithMembers(){try{console.log("[teamService] Fetching all teams with members...");const e=await this.getAll();if(!e||e.length===0)return[];const n=((await Y.teamMembers.list()).data||[]).reduce((s,i)=>(s[i.team_id]||(s[i.team_id]=[]),s[i.team_id].push({userid:i.userid,joined_at:i.joined_at||i.created_at}),s),{});return e.map(s=>({...s,team_members:n[s.team_id]||[]}))}catch(e){throw console.error("[teamService] Failed to fetch teams with members:",e),e}},async getAllTeamMembers(){try{console.log("[teamService] Fetching all team members with user details...");const t=(await Y.teamMembers.list()).data,r={};return(t||[]).forEach(n=>{const a={userid:n.user_id,name:n.Users_name||n.user_name||"Unknown User",Email:n.Users_Email||n.user_email,mobile:n.Users_mobile||n.user_mobile,IsActive:n.Users_IsActive,isAdmin:n.Users_isAdmin};r[n.team_id]||(r[n.team_id]=[]),r[n.team_id].push(a)}),r}catch(e){throw console.error("[teamService] Failed to fetch all team members:",e),e}},async getById(e){try{return await Y.teams.get(e)}catch(t){return console.error("[teamService] Failed to fetch team:",t),null}},async create(e){try{return await Y.teams.create(e)}catch(t){throw console.error("[teamService] Failed to create team:",t),t}},async update(e,t){try{const r=yl(t,{team_name:"team_name"});await Y.teams.update(e,r)}catch(r){throw console.error("[teamService] Failed to update team:",r),r}},async delete(e){try{await Y.teams.delete(e)}catch(t){throw console.error("[teamService] Failed to delete team:",t),t}},async getTeamMembers(e){try{console.log("[teamService] Fetching members for team:",e);const r=(await Y.teamMembers.getByTeam(e)).data;if(!r||r.length===0)return[];const n=r.map(s=>s.userid);return(await Promise.all(n.map(s=>jn.getByAuthId(s)))).filter(Boolean)}catch(t){throw console.error("[teamService] Failed to fetch team members:",t),t}},async addMember(e,t){try{const r=Number(t);if(Number.isNaN(r))throw new Error(`Invalid user ID: ${t}`);console.log("[teamService] Adding member",r,"to team",e),await Y.teamMembers.create({team_id:e,user_id:r}),console.log("[teamService] Successfully added member to team")}catch(r){throw console.error("[teamService] Failed to add member to team:",r),r}},async removeMember(e,t){try{const r=Number(t);if(Number.isNaN(r))throw new Error(`Invalid user ID: ${t}`);console.log("[teamService] Removing member",r,"from team",e);const n=await Y.teamMembers.list({exact_filters:{team_id:e,user_id:r}});if(console.log("[teamService] Found records for deletion:",n.data.length,n.data),n.data.length>0){const a=n.data[0],s=(a==null?void 0:a.team_mem_id)??(a==null?void 0:a.id)??(a==null?void 0:a.team_members_id)??(a==null?void 0:a.team_membersId)??(a==null?void 0:a.team_id);if(!s)throw new Error("Unable to determine team member identifier for deletion");console.log("[teamService] Deleting team member record with ID:",s),await Y.teamMembers.delete(s)}else console.warn("[teamService] No team member record found for team_id:",e,"user_id:",r);console.log("[teamService] Successfully removed member from team")}catch(r){throw console.error("[teamService] Failed to remove member from team:",r),r}}},$0={async getAll(){try{console.log("[ticketService] Fetching all tickets...");const e=await Y.tickets.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[ticketService] Successfully fetched ${e.data.length} tickets`),e.data}catch(e){throw console.error("[ticketService] Failed to fetch tickets:",e),e}},async getById(e){try{return await Y.tickets.get(e)}catch(t){return console.error("[ticketService] Failed to fetch ticket:",t),null}},async create(e){try{return await Y.tickets.create({created_by:e.created_by,assigned_to:e.assigned_to,subject:e.subject,description:e.description,priority:e.priority,ticket_type:e.ticket_type,stage_id:e.stage_id,status:e.status,resolved_date:e.resolved_date,closed_at:e.closed_at,closed_by:e.closed_by,room_id:e.room_id,task_id:e.task_id})}catch(t){throw console.error("[ticketService] Failed to create ticket:",t),t}},async update(e,t){try{const r={};t.created_by!==void 0&&(r.created_by=t.created_by),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.subject!==void 0&&(r.subject=t.subject),t.description!==void 0&&(r.description=t.description),t.priority!==void 0&&(r.priority=t.priority),t.ticket_type!==void 0&&(r.ticket_type=t.ticket_type),t.stage_id!==void 0&&(r.stage_id=t.stage_id),t.resolved_date!==void 0&&(r.resolved_date=t.resolved_date),t.closed_at!==void 0&&(r.closed_at=t.closed_at),t.closed_by!==void 0&&(r.closed_by=t.closed_by),t.room_id!==void 0&&(r.room_id=t.room_id),t.task_id!==void 0&&(r.task_id=t.task_id),t.status!==void 0&&(r.status=t.status),await Y.tickets.update(e,r)}catch(r){throw console.error("[ticketService] Failed to update ticket:",r),r}},async moveToStage(e,t){try{console.log(`[ticketService] Moving ticket ${e} to stage ${t}`),await Y.tickets.update(e,{stage_id:t}),console.log("[ticketService] Successfully moved ticket to stage")}catch(r){throw console.error("[ticketService] Failed to move ticket to stage:",r),r}},async delete(e){try{await Y.tickets.delete(e)}catch(t){throw console.error("[ticketService] Failed to delete ticket:",t),t}}},tu={async getByRoom(e,t){try{const r={exact_filters:{room_id:e}};t!=null&&t.limit&&(r.limit=t.limit);const n=await Y.messages.list(r);if(!n.data)return[];const a=n.data,s=[...new Set(a.map(u=>u.userid))];let i=[];try{if(s.length===0)return[];i=(await Y.Users.list({advanced_filters:[{column:"userid",filter_type:"in",value:s}]})).data||[]}catch(u){console.warn("[messageService] Batch user fetch failed, falling back to individual calls:",u),i=await Promise.all(s.map(d=>jn.getByAuthId(d)))}const l=new Map(i.filter(u=>u).map(u=>[u.userid,u]));return a.map(u=>({...u,sender:l.get(u.userid)||null})).reverse()}catch(r){throw console.error("[messageService] Failed to fetch messages:",r),r}},async create(e){try{return await Y.messages.create(e)}catch(t){throw console.error("[messageService] Failed to create message:",t),t}},async update(e,t){try{await Y.messages.update(e,{content:t,is_edited:!0})}catch(r){throw console.error("[messageService] Failed to update message:",r),r}},async delete(e){try{await Y.messages.delete(e)}catch(t){throw console.error("[messageService] Failed to delete message:",t),t}},async uploadAttachment(e){try{const t=e.name.split(".").pop(),n=`${`${Math.random().toString(36).substring(2)}_${Date.now()}.${t}`}`,{error:a}=await Vr.storage.from("chat-attachments").upload(n,e);if(a)throw a;const{data:s}=Vr.storage.from("chat-attachments").getPublicUrl(n);return s.publicUrl}catch(t){throw console.error("[messageService] Failed to upload attachment:",t),t}}},Ad={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await Y.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getCount(){return Y.count("teams")},async getById(e){try{return await Y.leads.get(e)}catch(t){return console.error("[leadService] Failed to fetch lead:",t),null}},async create(e){try{return await Y.leads.create({lead_name:e.lead_name,lead_description:e.lead_description,client_name:e.client_name,client_user_id:e.client_user_id,created_by:e.created_by,stage:e.stage,assigned_to:e.assigned_to,assigned_at:e.assigned_at,value:e.value||0,currency:e.currency||"SAR"})}catch(t){throw console.error("[leadService] Failed to create lead:",t),t}},async createMLead(e){try{return await Y.mLeads.create(e)}catch(t){throw console.error("[leadService] Failed to create MLead:",t),t}},async update(e,t){try{const r={};t.lead_name&&(r.lead_name=t.lead_name),t.lead_description!==void 0&&(r.lead_description=t.lead_description),t.client_name&&(r.client_name=t.client_name),t.client_user_id&&(r.client_user_id=t.client_user_id),t.stage!==void 0&&(r.stage=t.stage),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.assigned_at!==void 0&&(r.assigned_at=t.assigned_at),t.value!==void 0&&(r.value=t.value),t.currency!==void 0&&(r.currency=t.currency),await Y.leads.update(e,r)}catch(r){throw console.error("[leadService] Failed to update lead:",r),r}},async delete(e){try{await Y.leads.delete(e)}catch(t){throw console.error("[leadService] Failed to delete lead:",t),t}}},fm={async getByRelated(e,t){try{console.log(`[noteService] Fetching notes for ${e} ${t}...`);const n=(await Y.notes.list({exact_filters:{related_to_type:e,related_to_id:t}})).data;if(!n||n.length===0)return[];const a=[...new Set(n.map(l=>l.created_by))],s=await Promise.all(a.map(l=>jn.getById(l))),i=new Map(s.filter(l=>l).map(l=>[l.userid,l]));return n.map(l=>({...l,user:i.get(l.created_by)?{userid:i.get(l.created_by).userid,user_id:i.get(l.created_by).userid,user_name:i.get(l.created_by).name,name:i.get(l.created_by).name,Email:i.get(l.created_by).Email}:void 0}))}catch(r){throw console.error("[noteService] Failed to fetch notes:",r),r}},async create(e){try{const t=await Y.notes.create({content:e.content,related_to_type:e.related_to_type,related_to_id:e.related_to_id,created_by:e.created_by});return console.log("[noteService] Successfully created note"),t}catch(t){throw console.error("[noteService] Failed to create note:",t),t}},async update(e,t){try{await Y.notes.update(e,{content:t,updated_at:new Date().toISOString()}),console.log("[noteService] Successfully updated note")}catch(r){throw console.error("[noteService] Failed to update note:",r),r}},async delete(e){try{await Y.notes.delete(e),console.log("[noteService] Successfully deleted note")}catch(t){throw console.error("[noteService] Failed to delete note:",t),t}}},eo={async getAll(){try{console.log("[surveyTemplateService] Fetching all survey templates...");const e=await Y.surveyTemplates.list();return console.log(`[surveyTemplateService] Successfully fetched ${e.data.length} templates`),e.data}catch(e){throw console.error("[surveyTemplateService] Failed to fetch survey templates:",e),e}},async getById(e){try{return await Y.surveyTemplates.get(e)}catch(t){return console.error("[surveyTemplateService] Failed to fetch template:",t),null}},async create(e){try{const t=await Y.surveyTemplates.create(e);return{...e,template_id:t.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),updated_by:null}}catch(t){throw console.error("[surveyTemplateService] Failed to create template:",t),t}},async update(e,t){try{const r={};t.template_name&&(r.template_name=t.template_name),t.template_name_ar&&(r.template_name_ar=t.template_name_ar),t.template_description!==void 0&&(r.template_description=t.template_description),t.template_description_ar!==void 0&&(r.template_description_ar=t.template_description_ar),t.category&&(r.category=t.category),t.is_active!==void 0&&(r.is_active=t.is_active),t.is_default!==void 0&&(r.is_default=t.is_default),await Y.surveyTemplates.update(e,r)}catch(r){throw console.error("[surveyTemplateService] Failed to update template:",r),r}},async delete(e){try{await Y.surveyTemplates.delete(e)}catch(t){throw console.error("[surveyTemplateService] Failed to delete template:",t),t}},async getFields(e){try{console.log("[surveyTemplateService] Fetching fields for template:",e);const r=(await Y.surveyTemplateFields.getByTemplate(e)).data;return console.log(`[surveyTemplateService] Successfully fetched ${(r==null?void 0:r.length)||0} fields`),(r||[]).sort((n,a)=>(n.field_order||0)-(a.field_order||0))}catch(t){throw console.error("[surveyTemplateService] Failed to fetch template fields:",t),t}},async createField(e){try{const t={...e,field_options:e.field_options?JSON.stringify(e.field_options):null},r=await Y.surveyTemplateFields.create(t);return{...e,field_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(t){throw console.error("[surveyTemplateService] Failed to create field:",t),t}},async updateField(e,t){try{const r={};t.field_order!==void 0&&(r.field_order=t.field_order),t.field_type&&(r.field_type=t.field_type),t.field_label&&(r.field_label=t.field_label),t.field_label_ar&&(r.field_label_ar=t.field_label_ar),t.help_text!==void 0&&(r.help_text=t.help_text),t.help_text_ar!==void 0&&(r.help_text_ar=t.help_text_ar),t.is_required!==void 0&&(r.is_required=t.is_required),t.field_options!==void 0&&(r.field_options=t.field_options?JSON.stringify(t.field_options):null),t.validation_rules!==void 0&&(r.validation_rules=t.validation_rules),t.default_value!==void 0&&(r.default_value=t.default_value),t.conditional_logic!==void 0&&(r.conditional_logic=t.conditional_logic?JSON.stringify(t.conditional_logic):null),await Y.surveyTemplateFields.update(e,r)}catch(r){throw console.error("[surveyTemplateService] Failed to update field:",r),r}},async deleteField(e){try{await Y.surveyTemplateFields.delete(e)}catch(t){throw console.error("[surveyTemplateService] Failed to delete field:",t),t}}},kh={async getAll(){try{console.log("[surveyService] Fetching all surveys...");const e=await Y.surveys.list({select_fields:["survey_id","created_at","survey_name","client_name","client_name_ar","client_company","client_contact","client_email","client_address","location_address","location_latitude","location_longitude","location_accuracy","survey_responses","status","created_by","created_by_name","notes","notes_ar","template_id","lead_id","device_info","decision_maker","updated_at","updated_by","reviewed_at","reviewed_by","converted_to_lead_at","completion_time_seconds"],pageSize:1e3});return console.log(`[surveyService] Successfully fetched ${e.data.length} surveys`),e.data}catch(e){throw console.error("[surveyService] Failed to fetch surveys:",e),e}},async getCount(){try{console.log("[surveyService] Fetching surveys count...");const t=(await Vc("/api/v1/surveys/list?pageSize=1")).totalRows||0;return console.log(`[surveyService] Successfully fetched surveys count: ${t}`),t}catch(e){return console.error("[surveyService] Failed to fetch surveys count:",e),0}},async getById(e){try{return await Y.surveys.get(e)}catch(t){return console.error("[surveyService] Failed to fetch survey:",t),null}},async create(e){try{const t={...e,survey_responses:e.survey_responses?JSON.stringify(e.survey_responses):null},r=await Y.surveys.create(t);return{...e,survey_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(t){throw console.error("[surveyService] Failed to create survey:",t),t}},async createBatch(e){try{if(e.length===0)return[];console.log(`[surveyService] Batch creating ${e.length} surveys...`);const t=e.map(n=>({...n,survey_responses:n.survey_responses?JSON.stringify(n.survey_responses):null})),r=await Promise.all(t.map(n=>Y.surveys.create(n)));return console.log(`[surveyService] Successfully batch created ${r.length} surveys`),r}catch(t){throw console.error("[surveyService] Failed to batch create surveys:",t),t}},async update(e,t){try{const r={};t.template_id!==void 0&&(r.template_id=t.template_id),t.survey_name&&(r.survey_name=t.survey_name),t.survey_description!==void 0&&(r.survey_description=t.survey_description),t.client_name&&(r.client_name=t.client_name),t.client_name_ar&&(r.client_name_ar=t.client_name_ar),t.client_contact!==void 0&&(r.client_contact=t.client_contact),t.client_email&&(r.client_email=t.client_email),t.client_address&&(r.client_address=t.client_address),t.client_company&&(r.client_company=t.client_company),t.client_company_ar&&(r.client_company_ar=t.client_company_ar),t.survey_responses!==void 0&&(r.survey_responses=t.survey_responses?JSON.stringify(t.survey_responses):null),t.location_latitude!==void 0&&(r.location_latitude=t.location_latitude),t.location_longitude!==void 0&&(r.location_longitude=t.location_longitude),t.location_accuracy!==void 0&&(r.location_accuracy=t.location_accuracy),t.location_address&&(r.location_address=t.location_address),t.status&&(r.status=t.status),t.lead_id!==void 0&&(r.lead_id=t.lead_id),t.converted_to_lead_at!==void 0&&(r.converted_to_lead_at=t.converted_to_lead_at),t.device_info!==void 0&&(r.device_info=t.device_info),t.completion_time_seconds!==void 0&&(r.completion_time_seconds=t.completion_time_seconds),t.notes&&(r.notes=t.notes),t.notes_ar&&(r.notes_ar=t.notes_ar),await Y.surveys.update(e,r)}catch(r){throw console.error("[surveyService] Failed to update survey:",r),r}},async delete(e){try{await Y.surveys.delete(e)}catch(t){throw console.error("[surveyService] Failed to delete survey:",t),t}}};var gG="AlertDialog",[x8e,_Xe]=ps(gG,[oV]),Dc=oV(),vG=e=>{const{__scopeAlertDialog:t,...r}=e,n=Dc(t);return o.jsx(aS,{...n,...r,modal:!0})};vG.displayName=gG;var y8e="AlertDialogTrigger",xG=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Dc(r);return o.jsx(wO,{...a,...n,ref:t})});xG.displayName=y8e;var b8e="AlertDialogPortal",yG=e=>{const{__scopeAlertDialog:t,...r}=e,n=Dc(t);return o.jsx(sS,{...n,...r})};yG.displayName=b8e;var w8e="AlertDialogOverlay",bG=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Dc(r);return o.jsx(Vp,{...a,...n,ref:t})});bG.displayName=w8e;var hm="AlertDialogContent",[_8e,S8e]=x8e(hm),j8e=_oe("AlertDialogContent"),wG=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=Dc(r),i=x.useRef(null),l=Lt(t,i),c=x.useRef(null);return o.jsx(Dfe,{contentName:hm,titleName:_G,docsSlug:"alert-dialog",children:o.jsx(_8e,{scope:r,cancelRef:c,children:o.jsxs(Wp,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:Qe(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(j8e,{children:n}),o.jsx(N8e,{contentRef:i})]})})})});wG.displayName=hm;var _G="AlertDialogTitle",SG=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Dc(r);return o.jsx(Dx,{...a,...n,ref:t})});SG.displayName=_G;var jG="AlertDialogDescription",kG=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Dc(r);return o.jsx(Rx,{...a,...n,ref:t})});kG.displayName=jG;var k8e="AlertDialogAction",NG=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Dc(r);return o.jsx(iS,{...a,...n,ref:t})});NG.displayName=k8e;var CG="AlertDialogCancel",EG=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=S8e(CG,r),s=Dc(r),i=Lt(t,a);return o.jsx(iS,{...s,...n,ref:i})});EG.displayName=CG;var N8e=({contentRef:e})=>{const t=`\`${hm}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${hm}\` by passing a \`${jG}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${hm}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},C8e=vG,E8e=xG,T8e=yG,TG=bG,AG=wG,OG=NG,PG=EG,DG=SG,RG=kG;const hi=C8e,Qx=E8e,A8e=T8e,IG=x.forwardRef(({className:e,...t},r)=>o.jsx(TG,{className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));IG.displayName=TG.displayName;const Is=x.forwardRef(({className:e,...t},r)=>o.jsxs(A8e,{children:[o.jsx(IG,{}),o.jsx(AG,{ref:r,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Is.displayName=AG.displayName;const Ms=({className:e,...t})=>o.jsx("div",{className:xe("flex flex-col space-y-2 text-center sm:text-left",e),...t});Ms.displayName="AlertDialogHeader";const Fs=({className:e,...t})=>o.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fs.displayName="AlertDialogFooter";const Ls=x.forwardRef(({className:e,...t},r)=>o.jsx(DG,{ref:r,className:xe("text-lg font-semibold",e),...t}));Ls.displayName=DG.displayName;const $s=x.forwardRef(({className:e,...t},r)=>o.jsx(RG,{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));$s.displayName=RG.displayName;const Bs=x.forwardRef(({className:e,...t},r)=>o.jsx(OG,{ref:r,className:xe(zm(),e),...t}));Bs.displayName=OG.displayName;const Us=x.forwardRef(({className:e,...t},r)=>o.jsx(PG,{ref:r,className:xe(zm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Us.displayName=PG.displayName;const ia=x.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ia.displayName="Textarea";function Zx({stages:e,currentStageId:t,onStageChange:r,children:n}){const a=un(),s=x.useRef(null),i=e.find(l=>l.id===t)??e[0];return x.useEffect(()=>{a&&s.current&&s.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[i==null?void 0:i.id,a]),a?o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-20 shadow-sm",children:o.jsx("div",{className:"w-full overflow-x-auto scrollbar-hide",dir:rr()?"ltr":"rtl",children:o.jsx("div",{className:"flex gap-2 p-3 min-w-max rtl:flex-row-reverse",children:[...e].sort((l,c)=>(rr(),l.id-c.id)).map(l=>{const c=l.id===i.id;return o.jsxs("button",{ref:c?s:null,onClick:()=>r(l.id),className:xe("inline-flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all font-medium text-sm border-2 flex-shrink-0",c?"bg-primary text-primary-foreground shadow-md border-primary":"bg-card text-muted-foreground hover:bg-accent hover:text-accent-foreground border-border"),children:[o.jsx("span",{className:"truncate max-w-[140px]",children:l.name}),o.jsx(ct,{variant:"secondary",className:xe("h-5 min-w-5 px-1.5 text-xs font-semibold",c?"bg-primary-foreground/20 text-primary-foreground border-primary-foreground/30":"bg-muted"),children:l.count})]},l.id)})})})}),o.jsx("div",{className:"flex-1 overflow-auto scrollbar-hide",children:o.jsx("div",{className:"p-2",children:n})})]}):o.jsx(o.Fragment,{children:n})}var rj="Tabs",[O8e,SXe]=ps(rj,[Q_]),MG=Q_(),[P8e,HP]=O8e(rj),FG=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=jx(l),[f,h]=yc({prop:n,onChange:a,defaultProp:s??"",caller:rj});return o.jsx(P8e,{scope:r,baseId:sa(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:o.jsx(st.div,{dir:d,"data-orientation":i,...u,ref:t})})});FG.displayName=rj;var LG="TabsList",$G=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=HP(LG,r),i=MG(r);return o.jsx(dz,{asChild:!0,...i,orientation:s.orientation,dir:s.dir,loop:n,children:o.jsx(st.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});$G.displayName=LG;var BG="TabsTrigger",UG=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,i=HP(BG,r),l=MG(r),c=WG(i.baseId,n),u=HG(i.baseId,n),d=n===i.value;return o.jsx(fz,{asChild:!0,...l,focusable:!a,active:d,children:o.jsx(st.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:Qe(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:Qe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:Qe(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!a&&f&&i.onValueChange(n)})})})});UG.displayName=BG;var zG="TabsContent",VG=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...i}=e,l=HP(zG,r),c=WG(l.baseId,n),u=HG(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx($a,{present:a||d,children:({present:h})=>o.jsx(st.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});VG.displayName=zG;function WG(e,t){return`${e}-trigger-${t}`}function HG(e,t){return`${e}-content-${t}`}var D8e=FG,qG=$G,KG=UG,GG=VG;const Nl=D8e,Bo=x.forwardRef(({className:e,...t},r)=>o.jsx(qG,{ref:r,className:xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Bo.displayName=qG.displayName;const Hr=x.forwardRef(({className:e,...t},r)=>o.jsx(KG,{ref:r,className:xe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Hr.displayName=KG.displayName;const _n=x.forwardRef(({className:e,...t},r)=>o.jsx(GG,{ref:r,className:xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));_n.displayName=GG.displayName;function qP({relatedType:e,relatedId:t,notes:r,onNotesChange:n}){const{t:a}=$t(),{user:s}=hr(),[i,l]=x.useState(""),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,m]=x.useState(null),[p,g]=x.useState(!1),v=async()=>{if(!(!i.trim()||!(s!=null&&s.id))){g(!0);try{await fm.create({content:i.trim(),related_to_type:e,related_to_id:t,created_by:s.id}),l(""),n()}catch(_){console.error("Failed to create note:",_)}finally{g(!1)}}},y=async _=>{if(d.trim()){g(!0);try{await fm.update(_,d.trim()),u(null),f(""),n()}catch(S){console.error("Failed to update note:",S)}finally{g(!1)}}},b=async()=>{if(h){g(!0);try{await fm.delete(h),m(null),n()}catch(_){console.error("Failed to delete note:",_)}finally{g(!1)}}},w=_=>{if(!_)return"";try{return Bse(new Date(_),{addSuffix:!0})}catch{return _}};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ia,{value:i,onChange:_=>l(_.target.value),placeholder:a("notes.placeholder"),rows:3,className:"resize-none"}),o.jsxs(ue,{onClick:v,disabled:!i.trim()||p,className:"w-full",children:[o.jsx(Do,{className:"h-4 w-4 mr-2"}),a("notes.save")]})]}),o.jsx("div",{className:"space-y-3",children:r.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:a("notes.noNotes")}):r.map(_=>{var j;const S=c===_.note_id,k=_.created_by===(s==null?void 0:s.id);return o.jsxs("div",{className:"border rounded-lg p-4 space-y-2 bg-card",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[(j=_.user)!=null&&j.avatar?o.jsx("img",{src:_.user.avatar,alt:Ee(_.user,"user_name"),className:"h-8 w-8 rounded-full flex-shrink-0"}):o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-xs font-semibold text-primary",children:_.user?Ee(_.user,"user_name")[0]:"?"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:_.user?Ee(_.user,"user_name"):a("notes.unknown")}),o.jsx("p",{className:"text-xs text-muted-foreground",children:w(_.created_at)})]})]}),k&&!S&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{u(_.note_id),f(_.content)},children:o.jsx(zi,{className:"h-3.5 w-3.5"})}),o.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive",onClick:()=>m(_.note_id),children:o.jsx(or,{className:"h-3.5 w-3.5"})})]})]}),S?o.jsxs("div",{className:"space-y-2",children:[o.jsx(ia,{value:d,onChange:N=>f(N.target.value),rows:3,className:"resize-none"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ue,{size:"sm",onClick:()=>y(_.note_id),disabled:!d.trim()||p,children:[o.jsx(Do,{className:"h-3.5 w-3.5 mr-1"}),a("notes.save")]}),o.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>{u(null),f("")},children:[o.jsx(Ro,{className:"h-3.5 w-3.5 mr-1"}),a("buttons.cancel")]})]})]}):o.jsx("p",{className:"text-sm whitespace-pre-wrap",children:_.content})]},_.note_id)})}),o.jsx(hi,{open:!!h,onOpenChange:()=>m(null),children:o.jsxs(Is,{children:[o.jsxs(Ms,{children:[o.jsx(Ls,{children:a("notes.delete")}),o.jsx($s,{children:a("notes.deleteConfirmation")})]}),o.jsxs(Fs,{children:[o.jsx(Us,{children:a("buttons.cancel")}),o.jsx(Bs,{onClick:b,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a("buttons.delete")})]})]})})]})}function YG({priority:e=3,size:t="sm",showCount:r=!1,className:n}){const a=e||3,s={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return o.jsxs("div",{className:xe("flex items-center gap-0.5",n),children:[[1,2,3,4,5].map(i=>o.jsx(YU,{className:xe(s[t],i<=a?"fill-yellow-400 text-yellow-400":"fill-none text-gray-300 dark:text-gray-600")},i)),r&&o.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",a,"/5)"]})]})}function R8e({leadId:e}){const{t}=$t(),{isRTL:r}=La(),{user:n}=hr(),[a,s]=x.useState(null),[i,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(null),[h,m]=x.useState(""),[p,g]=x.useState([]),[v,y]=x.useState(!0),[b,w]=x.useState(!1),[_,S]=x.useState([]),[k,j]=x.useState([]),[N,C]=x.useState([]),[T,D]=x.useState({lead_name:"",lead_description:"",client_user_id:"",stage:"",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});x.useEffect(()=>{H(),A()},[e]);const A=async()=>{try{const G=await jn.getAll().then(Q=>Q.filter(E=>E.user_role==="client"));C(G)}catch(G){console.error("Failed to load clients:",G)}},H=async()=>{var G,Q,E;try{y(!0);const[B,U,q]=await Promise.all([Ad.getById(e),os.getByType("leads"),jn.getAll()]);if(s(B),S(U),j(q),!B)return;if(D({lead_name:B.lead_name||"",lead_description:B.lead_description||"",client_user_id:B.client_user_id||"",stage:((G=B.stage)==null?void 0:G.toString())||"",assigned_to:B.assigned_to||"",value:((Q=B.value)==null?void 0:Q.toString())||"",currency:B.currency||"SAR",priority:((E=B.priority)==null?void 0:E.toString())||"3",expected_close_date:B.expected_close_date||""}),B.client_user_id){const ee=await jn.getByAuthId(B.client_user_id);l(ee)}if(B.created_by){const ee=q.find(oe=>oe.auth_user_id===B.created_by)||null;u(ee)}if(B.assigned_to){const ee=q.find(oe=>oe.auth_user_id===B.assigned_to)||null;f(ee)}if(B.stage){const ee=U.find(oe=>oe.stage_id===B.stage);ee&&m(Ee(ee,"stage_name"))}X()}catch(B){console.error("Failed to load lead data:",B)}finally{y(!1)}},X=async()=>{try{const G=await fm.getByRelated("lead",e);g(G)}catch(G){console.error("Failed to load notes:",G)}},L=async()=>{if(a)try{const G=T.assigned_to&&T.assigned_to!=="unassigned"?T.assigned_to:null,Q=yl({lead_name:T.lead_name,lead_description:T.lead_description||null,client_user_id:T.client_user_id||null,stage:parseInt(T.stage),assigned_to:G,value:T.value?parseFloat(T.value):null,currency:T.currency,priority:parseInt(T.priority),expected_close_date:T.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description"});await Ad.update(a.lead_id,Q);const E={...a,...Q};if(s(E),T.client_user_id){const U=N.find(q=>q.auth_user_id===T.client_user_id)||null;l(U)}if(G){const U=k.find(q=>q.auth_user_id===G)||null;f(U)}const B=_.find(U=>U.stage_id===parseInt(T.stage));B&&m(Ee(B,"stage_name")),w(!1)}catch(G){console.error("Failed to update lead:",G)}},I=()=>{var G,Q,E;a&&D({lead_name:a.lead_name||"",lead_description:a.lead_description||"",client_user_id:a.client_user_id||"",stage:((G=a.stage)==null?void 0:G.toString())||"",assigned_to:a.assigned_to||"",value:((Q=a.value)==null?void 0:Q.toString())||"",currency:a.currency||"SAR",priority:((E=a.priority)==null?void 0:E.toString())||"3",expected_close_date:a.expected_close_date||""}),w(!1)},W=(G,Q)=>{if(G===null)return"-";const E=Q||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:E==="SAR"?"SAR":E}).format(G)},F=G=>G?new Date(G).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-";if(v)return o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})});if(!a)return o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t("leads.notFound")});const M=(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager";return o.jsxs("div",{className:"w-full",dir:r?"rtl":"ltr",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:t("leads.leadDetails")}),M&&!b&&o.jsxs(ue,{onClick:()=>w(!0),variant:"outline",size:"sm",children:[o.jsx(zi,{className:"h-4 w-4 mr-2"}),t("buttons.edit")]}),b&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ue,{onClick:I,variant:"outline",size:"sm",children:[o.jsx(Ro,{className:"h-4 w-4 mr-2"}),t("buttons.cancel")]}),o.jsxs(ue,{onClick:L,size:"sm",children:[o.jsx(Do,{className:"h-4 w-4 mr-2"}),t("buttons.save")]})]})]}),o.jsxs(Nl,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Bo,{className:"grid w-full grid-cols-2",children:[o.jsx(Hr,{value:"overview",children:t("common.overview")}),o.jsx(Hr,{value:"notes",children:t("notes.title")})]}),o.jsx(_n,{value:"overview",className:"space-y-4 mt-4",children:b?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(We,{htmlFor:"lead_name",children:[t("leads.leadName")," *"]}),o.jsx(Ue,{id:"lead_name",value:T.lead_name,onChange:G=>D(Q=>({...Q,lead_name:G.target.value})),placeholder:t("leads.leadName")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"lead_description",children:t("leads.description")}),o.jsx(ia,{id:"lead_description",value:T.lead_description,onChange:G=>D(Q=>({...Q,lead_description:G.target.value})),placeholder:t("leads.description"),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{children:t("leads.client")}),o.jsxs(xt,{value:T.client_user_id,onValueChange:G=>D(Q=>({...Q,client_user_id:G})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:t("leads.selectClient")})}),o.jsx(vt,{children:N.filter(G=>G.auth_user_id).map(G=>o.jsx(Ae,{value:G.auth_user_id,children:Ee(G,"user_name")},G.user_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{children:t("common.stage")}),o.jsxs(xt,{value:T.stage,onValueChange:G=>D(Q=>({...Q,stage:G})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:t("leads.selectStage")})}),o.jsx(vt,{children:_.map(G=>o.jsx(Ae,{value:G.stage_id.toString(),children:Ee(G,"stage_name")},G.stage_id))})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{children:t("leads.value")}),o.jsx(Ue,{type:"number",min:"0",step:"0.01",value:T.value,onChange:G=>D(Q=>({...Q,value:G.target.value})),placeholder:"0.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{children:t("leads.currency")}),o.jsxs(xt,{value:T.currency,onValueChange:G=>D(Q=>({...Q,currency:G})),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"SAR",children:"SAR (.)"}),o.jsx(Ae,{value:"USD",children:"USD ($)"}),o.jsx(Ae,{value:"EUR",children:"EUR ()"}),o.jsx(Ae,{value:"GBP",children:"GBP ()"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{children:t("common.priority")}),o.jsxs(xt,{value:T.priority,onValueChange:G=>D(Q=>({...Q,priority:G})),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsxs(Ae,{value:"1",children:[" ",t("common.veryLow")]}),o.jsxs(Ae,{value:"2",children:[" ",t("common.low")]}),o.jsxs(Ae,{value:"3",children:[" ",t("common.medium")]}),o.jsxs(Ae,{value:"4",children:[" ",t("common.high")]}),o.jsxs(Ae,{value:"5",children:[" ",t("common.veryHigh")]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{children:t("leads.expectedCloseDate")}),o.jsx(Ue,{type:"date",value:T.expected_close_date,onChange:G=>D(Q=>({...Q,expected_close_date:G.target.value}))})]})]}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{children:t("leads.assignToEmployee")}),o.jsxs(xt,{value:T.assigned_to,onValueChange:G=>D(Q=>({...Q,assigned_to:G})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:t("leads.selectAssignee")})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"unassigned",children:t("common.unassigned")}),k.filter(G=>["employee","admin","manager","team_leader"].includes(G.user_role)&&G.auth_user_id).map(G=>o.jsx(Ae,{value:G.auth_user_id,children:Ee(G,"user_name")},G.user_id))]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold",children:Ee(a,"lead_name")}),Ee(a,"lead_description")&&o.jsx("p",{className:"text-muted-foreground mt-1",children:Ee(a,"lead_description")})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(gI,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.priority")}),o.jsx(YG,{priority:a.priority,size:"sm"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[o.jsx(xg,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.value")}),o.jsx("p",{className:"text-lg font-semibold",children:W(a.value,a.currency)})]})]}),i&&o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[o.jsx(yn,{className:"h-5 w-5 text-primary mt-0.5"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.client")}),o.jsx("p",{className:"font-medium truncate",children:Ee(i,"user_name")}),i.user_email&&o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:i.user_email})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(gI,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.stage")}),o.jsx(ct,{variant:"secondary",children:h||"-"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Rn,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.assignedTo")}),o.jsx("p",{className:"font-medium",children:d?Ee(d,"user_name"):t("common.unassigned")})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"p-3 rounded-lg border",children:[o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(Po,{className:"h-3.5 w-3.5"}),t("common.created")]}),o.jsx("p",{className:"text-sm font-medium mt-1",children:F(a.created_date)})]}),c&&o.jsxs("div",{className:"p-3 rounded-lg border",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.createdBy")}),o.jsx("p",{className:"text-sm font-medium mt-1 truncate",children:Ee(c,"user_name")})]})]})]})}),o.jsx(_n,{value:"notes",className:"mt-4",children:o.jsx(qP,{relatedType:"lead",relatedId:e,notes:p,onNotesChange:X})})]})]})}function ey({title:e,description:t,icon:r,actions:n,stats:a,className:s=""}){$t();const i=un();return o.jsxs("div",{className:xe("mb-6",s),children:[o.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[r&&o.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center flex-shrink-0 border border-primary/10 ring-4 ring-primary/5",children:typeof r=="function"?ie.createElement(r):r}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold tracking-tight text-foreground",children:e}),t&&o.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl text-sm",children:t})]})]}),n&&o.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:n})]}),a&&a.length>0&&!i&&o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mt-6",children:a.map((l,c)=>o.jsx(et,{className:"p-2 md:p-3 hover:shadow-md transition-all hover:-translate-y-0.5 border-border/50",children:o.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.icon&&o.jsx("div",{className:"h-7 w-7 md:h-9 md:w-9 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:typeof l.icon=="function"?ie.createElement(l.icon):l.icon}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:l.label}),o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsx("p",{className:"text-lg md:text-xl font-bold text-foreground truncate",children:l.value}),l.trend&&o.jsxs("span",{className:xe("text-xs font-medium",l.trend.isPositive?"text-green-600":"text-red-600"),children:[l.trend.isPositive?"+":"",l.trend.value,"%"]})]})]})]})},c))})]})}function vl({icon:e,title:t,description:r,action:n,className:a=""}){return o.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-4 ${a}`,children:[e&&o.jsx("div",{className:"h-24 w-24 rounded-full bg-muted/50 flex items-center justify-center mb-6 ring-4 ring-muted/20",children:typeof e=="function"?ie.createElement(e):e}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2 text-center",children:t}),o.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:r}),n]})}const KP=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:xe("w-full caption-bottom text-sm",e),...t})}));KP.displayName="Table";const GP=x.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:xe("[&_tr]:border-b",e),...t}));GP.displayName="TableHeader";const YP=x.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:xe("[&_tr:last-child]:border-0",e),...t}));YP.displayName="TableBody";const I8e=x.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:xe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));I8e.displayName="TableFooter";const ex=x.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:xe("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));ex.displayName="TableRow";const go=x.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:xe("h-12 py-4 align-middle font-medium text-muted-foreground",rr()?"text-right px-2 [&:has([role=checkbox])]:px-4":"text-left px-4 [&:has([role=checkbox])]:px-6",e),...t}));go.displayName="TableHead";const vo=x.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:xe("py-4 align-middle",rr()?"px-2 [&:has([role=checkbox])]:px-4":"px-4 [&:has([role=checkbox])]:px-6",e),...t}));vo.displayName="TableCell";const M8e=x.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:xe("mt-4 text-sm text-muted-foreground",e),...t}));M8e.displayName="TableCaption";var nj="Checkbox",[F8e,jXe]=ps(nj),[L8e,XP]=F8e(nj);function $8e(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:i,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=yc({prop:r,defaultProp:a??!1,onChange:c,caller:nj}),[p,g]=x.useState(null),[v,y]=x.useState(null),b=x.useRef(!1),w=p?!!i||!!p.closest("form"):!0,_={checked:h,disabled:s,setChecked:m,control:p,setControl:g,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Ru(a)?!1:a,isFormControl:w,bubbleInput:v,setBubbleInput:y};return o.jsx(L8e,{scope:t,..._,children:B8e(f)?f(_):n})}var XG="CheckboxTrigger",JG=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:i,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:p}=XP(XG,e),g=Lt(a,d),v=x.useRef(c);return x.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const b=()=>f(v.current);return y.addEventListener("reset",b),()=>y.removeEventListener("reset",b)}},[s,f]),o.jsx(st.button,{type:"button",role:"checkbox","aria-checked":Ru(c)?"mixed":c,"aria-required":u,"data-state":rY(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:g,onKeyDown:Qe(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:Qe(r,y=>{f(b=>Ru(b)?!0:!b),p&&m&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});JG.displayName=XG;var JP=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:i,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return o.jsx($8e,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:l,required:i,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>o.jsxs(o.Fragment,{children:[o.jsx(JG,{...f,ref:t,__scopeCheckbox:r}),h&&o.jsx(tY,{__scopeCheckbox:r})]})})});JP.displayName=nj;var QG="CheckboxIndicator",ZG=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=XP(QG,r);return o.jsx($a,{present:n||Ru(s.checked)||s.checked===!0,children:o.jsx(st.span,{"data-state":rY(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});ZG.displayName=QG;var eY="CheckboxBubbleInput",tY=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:i,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=XP(eY,e),p=Lt(r,m),g=sO(s),v=ZA(n);x.useEffect(()=>{const b=h;if(!b)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,k=!a.current;if(g!==s&&S){const j=new Event("click",{bubbles:k});b.indeterminate=Ru(s),S.call(b,Ru(s)?!1:s),b.dispatchEvent(j)}},[h,g,s,a]);const y=x.useRef(Ru(s)?!1:s);return o.jsx(st.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:p,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});tY.displayName=eY;function B8e(e){return typeof e=="function"}function Ru(e){return e==="indeterminate"}function rY(e){return Ru(e)?"indeterminate":e?"checked":"unchecked"}const qw=x.forwardRef(({className:e,indeterminate:t,...r},n)=>o.jsx(JP,{ref:n,className:xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t&&"bg-primary text-primary-foreground",e),...r,children:o.jsx(ZG,{className:xe("flex items-center justify-center text-current"),children:t?o.jsx(Eie,{className:"h-4 w-4"}):o.jsx(UA,{className:"h-4 w-4"})})}));qw.displayName=JP.displayName;function jc({data:e,columns:t,actions:r=[],bulkActions:n=[],keyExtractor:a,onRowClick:s,emptyState:i,mobileCardRender:l,className:c,enableBulkSelect:u=!1,rowHeight:d}){const f=un(),{t:h}=$t(),[m,p]=x.useState(new Set),g=j=>{const N=new Set(m);N.has(j)?N.delete(j):N.add(j),p(N)},v=()=>{m.size===e.length?p(new Set):p(new Set(e.map(a)))},y=()=>{p(new Set)},b=()=>e.filter(j=>m.has(a(j))),w=j=>{const N=r.filter(C=>!C.show||C.show(j));return N.length===0?null:o.jsxs(gO,{children:[o.jsx(vO,{asChild:!0,onClick:C=>C.stopPropagation(),children:o.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:o.jsx(xie,{className:"h-4 w-4"})})}),o.jsx(rS,{align:"end",children:N.map((C,T)=>o.jsxs(Jl,{onClick:D=>{D.stopPropagation(),C.onClick(j)},className:xe(C.variant==="destructive"&&"text-destructive focus:text-destructive"),children:[C.icon&&o.jsx("span",{className:"mr-2",children:C.icon}),C.label]},T))})]})};if(e.length===0)return i||o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:h("common.noData","No data available")});if(f)return o.jsx("div",{className:xe("space-y-3 w-full overflow-hidden",c),children:e.map((j,N)=>l?o.jsx("div",{onClick:()=>s==null?void 0:s(j),className:"w-full",children:l(j,w(j))},a(j)):o.jsx(et,{className:xe("w-full overflow-hidden transition-all",s&&"cursor-pointer hover:shadow-md active:scale-[0.99]"),onClick:()=>s==null?void 0:s(j),children:o.jsx(ot,{className:"p-4 w-full",children:o.jsxs("div",{className:"space-y-3 w-full",children:[t.filter(C=>!C.hideOnMobile).map((C,T)=>o.jsxs("div",{className:"flex items-start justify-between gap-2 w-full min-w-0",children:[o.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide flex-shrink-0",children:C.header}),o.jsx("div",{className:"text-sm text-right flex-shrink-0 max-w-[60%]",children:C.render(j,N)})]},C.key)),r.length>0&&o.jsx("div",{className:"pt-2 border-t flex justify-end",children:w(j)})]})})},a(j)))});const _=m.size,S=_===e.length&&e.length>0,k=_>0&&_<e.length;return o.jsxs("div",{className:"space-y-4",children:[u&&_>0&&o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in slide-in-from-top-2",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("p",{className:"text-sm font-medium",children:[_," ",_===1?h("common.item","item"):h("common.items","items")," ",h("common.selected","selected")]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[n.map((j,N)=>o.jsxs(ue,{variant:j.variant==="destructive"?"destructive":"outline",size:"sm",onClick:()=>j.onClick(b()),className:xe(j.variant==="destructive"&&"hover:bg-destructive/90"),children:[j.icon&&o.jsx("span",{className:"mr-2",children:j.icon}),j.label]},N)),o.jsx(ue,{variant:"ghost",size:"sm",onClick:y,className:"text-muted-foreground hover:text-foreground",children:o.jsx(Ro,{className:"h-4 w-4"})})]})]}),o.jsx(et,{className:xe("overflow-hidden",c),children:o.jsx(ot,{className:"p-0",children:o.jsxs(KP,{children:[o.jsx(GP,{children:o.jsxs(ex,{className:"bg-muted/50 hover:bg-muted/50 sticky top-0 z-20 shadow-sm",children:[u&&o.jsx(go,{className:"w-12",children:o.jsx(qw,{checked:S,indeterminate:k,onCheckedChange:v,"aria-label":h("common.selectAll","Select all")})}),t.map(j=>o.jsx(go,{className:xe("font-semibold",j.className),children:j.header},j.key)),r.length>0&&o.jsx(go,{className:"w-[100px] text-right",children:h("common.actions")})]})}),o.jsx(YP,{children:e.map((j,N)=>{const C=a(j),T=m.has(C);return o.jsxs(ex,{className:xe("group transition-colors",T&&"bg-primary/5",s&&"cursor-pointer hover:bg-muted/50",d),onClick:()=>s==null?void 0:s(j),children:[u&&o.jsx(vo,{onClick:D=>D.stopPropagation(),children:o.jsx(qw,{checked:T,onCheckedChange:()=>g(C),"aria-label":h("common.selectItem","Select item")})}),t.map(D=>o.jsx(vo,{className:xe(D.className,"overflow-hidden"),children:D.render(j,N)},D.key)),r.length>0&&o.jsx(vo,{className:"text-right",children:o.jsx("div",{children:w(j)})})]},C)})})]})})})]})}function nY({children:e,variant:t="secondary"}){return o.jsx(ct,{variant:t,className:"text-xs font-medium",children:e})}function bp({name:e,fallback:t="Unassigned"}){return o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Rn,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("span",{className:xe(!e&&"text-muted-foreground"),children:e||t})]})}function Kf({date:e,fallback:t="Not set"}){return e?o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Po,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("span",{children:new Date(e).toLocaleDateString()})]}):o.jsx("span",{className:"text-muted-foreground",children:t})}function kc({title:e,subtitle:t,icon:r}){return o.jsxs("div",{className:"flex items-center gap-2 min-w-0 w-full",children:[r&&(typeof r=="function"?ie.createElement(r):r),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"font-medium truncate text-sm break-words",children:e}),t&&o.jsx("div",{className:"text-xs text-muted-foreground truncate break-words",children:t})]})]})}function U8e({value:e,currency:t="SAR"}){return e==null?o.jsx("span",{className:"text-muted-foreground",children:"-"}):o.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)})}function z8e({lead:e,client:t,creator:r,assignedUser:n,userRole:a,users:s=[],onDelete:i,onEdit:l,onAssign:c,onClick:u,onDragStart:d,isDragging:f=!1}){const{t:h}=$t(),m=un(),p=v=>v?new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):h("leads.unknown"),g=(v,y)=>{if(v===null)return"-";const b=y||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:b}).format(v)};return o.jsxs(et,{className:xe("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",m?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",f&&"opacity-50 rotate-2 scale-105"),onClick:u,draggable:!!d,onDragStart:v=>{d&&(v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",e.lead_id.toString()),d(e.lead_id))},children:[o.jsxs(Bt,{className:"pb-3 px-4 pt-4",children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Ee(e,"lead_name")}),Ee(e,"lead_description")&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Ee(e,"lead_description")})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[l&&(a==="admin"||a==="manager")&&o.jsx(ue,{variant:"ghost",size:"sm",className:xe("h-8 w-8 p-0 text-muted-foreground hover:text-primary hover:bg-primary/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),onClick:v=>{v.stopPropagation(),l()},children:o.jsx(zi,{className:"h-4 w-4"})}),i&&o.jsxs(hi,{children:[o.jsx(Qx,{asChild:!0,onClick:v=>v.stopPropagation(),children:o.jsx(ue,{variant:"ghost",size:"sm",className:xe("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(or,{className:"h-4 w-4"})})}),o.jsxs(Is,{onClick:v=>v.stopPropagation(),children:[o.jsxs(Ms,{children:[o.jsx(Ls,{children:h("leads.deleteLead")}),o.jsx($s,{children:h("leads.deleteConfirmation",{name:Ee(e,"lead_name")})})]}),o.jsxs(Fs,{children:[o.jsx(Us,{children:h("buttons.cancel")}),o.jsx(Bs,{onClick:v=>{v.stopPropagation(),i(e.lead_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:h("buttons.delete")})]})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2 mt-2",children:[o.jsx(YG,{priority:e.priority,size:"sm"}),e.expected_close_date&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(Po,{className:"h-3 w-3"}),o.jsx("span",{children:p(e.expected_close_date)})]})]})]}),o.jsxs(ot,{className:"px-4 pb-4 space-y-3",children:[e.value!==null&&e.value!==void 0&&e.value>0&&o.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border border-green-200 dark:border-green-800/50",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:o.jsx(xg,{className:"h-4 w-4 text-green-600 dark:text-green-500"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] uppercase tracking-wide text-green-700/70 dark:text-green-400/70 font-medium",children:h("leads.value")}),o.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-400 truncate",children:g(e.value,e.currency)})]})]}),t&&o.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors border border-border/50",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(yn,{className:"h-4 w-4 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] uppercase tracking-wide text-muted-foreground font-medium",children:h("leads.client")}),o.jsx("p",{className:"text-sm font-semibold truncate",children:Ee(t,"user_name")})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r&&o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(Rn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.createdBy")}),o.jsx("p",{className:"text-xs font-medium truncate",children:Ee(r,"user_name")})]})]}),o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(Rn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.assignedTo")}),o.jsx("p",{className:"text-xs font-medium truncate",children:n?Ee(n,"user_name"):h("common.all","Unassigned")})]})]})]}),o.jsx("div",{className:"pt-1",children:o.jsxs(xt,{value:e.assigned_to||"unassigned",onValueChange:v=>c&&c(e.lead_id,v==="unassigned"?"":v),children:[o.jsx(gt,{className:"h-7 text-xs",children:o.jsx(yt,{placeholder:h("leads.selectAssignee","Select assignee")})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"unassigned",children:h("common.all","Unassigned")}),s.map(v=>o.jsx(Ae,{value:(v.userid||v.userid||"").toString(),children:Ee(v,"user_name")},v.userid))]})]})})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[o.jsx(Po,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:p(e.created_date)})]}),o.jsx(ct,{variant:"secondary",className:"text-xs",children:h("leads.lead")})]})]})]})}function V8e(){var it,ce,me;zs();const{hasRole:e,user:t}=hr(),r=un(),{t:n}=$t(),{setBreadcrumbs:a}=wx();x.useEffect(()=>{a([{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.leads")}])},[n,a]);const[s,i]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState([]),[m,p]=x.useState(!0);x.useState(!1),x.useState("");const[g,v]=x.useState(null),[y,b]=x.useState(""),[w,_]=x.useState(null),[S,k]=x.useState(null),[j,N]=x.useState(!1),[C,T]=x.useState(null),[D,A]=x.useState("kanban"),[H,X]=x.useState(null),[L,I]=x.useState(""),[W,F]=x.useState("all"),[M,G]=x.useState("all"),[Q,E]=x.useState({from:void 0,to:void 0}),B=x.useMemo(()=>s.filter(z=>{const fe=(z.lead_name||"").toLowerCase().includes(L.toLowerCase())||(z.lead_description||"").toLowerCase().includes(L.toLowerCase())||(z.client_name||"").toLowerCase().includes(L.toLowerCase()),_e=M==="all"||z.assigned_to&&z.assigned_to===M;let be=!0;if(Q.from&&z.created_date){const Le=new Date(z.created_date),Se=new Date(Q.from);Se.setHours(0,0,0,0);const je=new Date(Le);if(je.setHours(0,0,0,0),be=je>=Se,be&&Q.to){const pe=new Date(Q.to);pe.setHours(23,59,59,999),be=je<=pe}}else Q.from&&!z.created_date&&(be=!1);return fe&&_e&&be}),[s,L,W,M,Q]),[U,q]=x.useState({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});x.useEffect(()=>{ee()},[]),x.useEffect(()=>{if(f.length>0&&C===null){const z=f.find(fe=>fe.stage_id===1);z&&T(z.stage_id)}},[f,C]);const ee=async()=>{try{p(!0);const[z,fe,_e,be]=await Promise.all([Ad.getAll(),jn.getAll(),pG.getAll(),os.getByType("leads")]);console.log("[Leads] Loaded data:",{leads:z.length,clients:_e.length,users:fe.length,stages:be.length}),console.log("[Leads] Leads data:",z),console.log("[Leads] Stages data:",be),i(z),c(_e),d(fe),h(be)}catch(z){console.error("Failed to load data:",z)}finally{p(!1)}},oe=async z=>{if(y.trim())try{await os.update(z,{stage_name:y.trim()}),h(f.map(fe=>fe.stage_id===z?{...fe,stage_name:y.trim()}:fe)),v(null),b("")}catch(fe){console.error("Failed to update stage:",fe)}},ge=async z=>{if(s.filter(_e=>_e.stage===z).length>0){_(z);return}try{await os.delete(z),h(f.filter(_e=>_e.stage_id!==z))}catch(_e){console.error("Failed to delete stage:",_e)}},se=async()=>{if(w)try{await os.delete(w),h(f.filter(z=>z.stage_id!==w)),_(null),ee()}catch(z){console.error("Failed to delete stage:",z)}},Z=z=>{k(z)},he=z=>{z.preventDefault(),z.dataTransfer.dropEffect="move"},P=async z=>{if(!S)return;const fe=s.find(_e=>_e.lead_id===S);if(fe&&fe.stage!==z)try{await Ad.update(S,{stage:z}),i(s.map(_e=>_e.lead_id===S?{..._e,stage:z}:_e))}catch(_e){console.error("Failed to update lead stage:",_e)}k(null)},De=async z=>{try{await Ad.delete(z),i(s.filter(fe=>fe.lead_id!==z))}catch(fe){console.error("Failed to delete lead:",fe)}},Re=async(z,fe)=>{const _e=fe||null,be=_e?new Date().toISOString():null,Le=s.find(Se=>Se.lead_id===z);if(Le){i(s.map(Se=>Se.lead_id===z?{...Se,assigned_to:_e,assigned_at:be}:Se));try{await Ad.update(z,{assigned_to:_e,assigned_at:be})}catch(Se){console.error("Failed to assign lead:",Se),i(s.map(je=>je.lead_id===z?{...je,assigned_to:Le.assigned_to,assigned_at:Le.assigned_at}:je))}}},Me=z=>{q(fe=>({...fe,stage:z.toString()})),N(!0)},Be=async()=>{if(U.lead_name.trim())try{const z=U.assigned_to&&U.assigned_to!=="unassigned"?U.assigned_to:null,fe=z?new Date().toISOString():null,_e=yl({lead_name:U.lead_name.trim(),lead_description:U.lead_description.trim()||null,client_name:U.client_name.trim()||null,client_user_id:U.client_user_id||null,created_by:(t==null?void 0:t.id)||null,stage:parseInt(U.stage),assigned_to:z,assigned_at:fe,value:U.value?parseFloat(U.value):null,currency:U.currency||"SAR",priority:U.priority?parseInt(U.priority):3,expected_close_date:U.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description",client_name:"client_name"}),be=await Ad.create(_e);i([...s,be]),q({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""}),N(!1)}catch(z){console.error("Failed to create lead:",z)}},Oe=f.filter(z=>z.stage_type==="leads").sort((z,fe)=>{const _e=z.stager_order_index??0,be=fe.stager_order_index??0;return _e-be}),ht=Oe.map(z=>({id:z.stage_id,name:Ee(z,"stage_name"),color:z.color,count:B.filter(fe=>fe.stage===z.stage_id).length}));return m?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx(ua,{message:n("common.loading"),size:"2xl"})}):o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:rr()?"rtl":"ltr",children:[o.jsx(ey,{title:n("leads.title"),description:n("leads.description","Manage and track all your sales leads"),icon:o.jsx(ns,{className:"h-6 w-6 text-primary"}),actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(ue,{variant:D==="kanban"?"default":"ghost",size:"sm",onClick:()=>A("kanban"),className:"h-8 w-8 p-0",children:o.jsx($_,{className:"h-4 w-4"})}),o.jsx(ue,{variant:D==="list"?"default":"ghost",size:"sm",onClick:()=>A("list"),className:"h-8 w-8 p-0",children:o.jsx(Bm,{className:"h-4 w-4"})})]}),o.jsxs(ue,{onClick:()=>N(!0),children:[o.jsx(Gt,{className:"mr-2 h-4 w-4"})," ",n("leads.newLead")]})]}),stats:[{label:n("leads.totalLeads","Total Leads"),value:s.length,icon:o.jsx(ns,{className:"h-5 w-5 text-primary"})},{label:n("leads.thisMonth","This Month"),value:s.filter(z=>{const fe=new Date(z.created_date),_e=new Date;return fe.getMonth()===_e.getMonth()&&fe.getFullYear()===_e.getFullYear()}).length,icon:o.jsx(Po,{className:"h-5 w-5 text-green-500"})},{label:n("leads.totalValue","Total Value"),value:`SAR ${s.reduce((z,fe)=>z+(fe.value||0),0).toLocaleString()}`,icon:o.jsx(xg,{className:"h-5 w-5 text-green-600"})},{label:n("leads.avgValue","Avg Value"),value:s.length>0?`SAR ${Math.round(s.reduce((z,fe)=>z+(fe.value||0),0)/s.length).toLocaleString()}`:"SAR 0",icon:o.jsx(xg,{className:"h-5 w-5 text-blue-500"})}]}),o.jsx(WP,{onSearch:I,onFilterAssignee:G,onFilterDateRange:E,users:u}),D==="kanban"?o.jsxs(Zx,{stages:ht,currentStageId:C||((it=ht[0])==null?void 0:it.id),onStageChange:T,children:[o.jsx(wn,{open:j,onOpenChange:N,children:o.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(sn,{children:[o.jsx(on,{children:n("leads.createLead")}),o.jsx(Ma,{children:n("leads.createLeadDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),o.jsx(Ue,{value:U.lead_name,onChange:z=>q(fe=>({...fe,lead_name:z.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),o.jsx(ia,{value:U.lead_description,onChange:z=>q(fe=>({...fe,lead_description:z.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),o.jsx(Ue,{value:U.client_name,onChange:z=>q(fe=>({...fe,client_name:z.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),o.jsxs(xt,{value:U.client_user_id,onValueChange:z=>q(fe=>({...fe,client_user_id:z})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("leads.selectClient")})}),o.jsx(vt,{children:l.filter(z=>z.userid||z.userid).map(z=>o.jsx(Ae,{value:(z.userid||z.userid||"").toString(),children:Ee(z,"user_name")},z.userid))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.value")}),o.jsx(Ue,{type:"number",min:"0",step:"0.01",value:U.value,onChange:z=>q(fe=>({...fe,value:z.target.value})),placeholder:"0.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.currency")}),o.jsxs(xt,{value:U.currency,onValueChange:z=>q(fe=>({...fe,currency:z})),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"SAR",children:"SAR (.)"}),o.jsx(Ae,{value:"USD",children:"USD ($)"}),o.jsx(Ae,{value:"EUR",children:"EUR ()"}),o.jsx(Ae,{value:"GBP",children:"GBP ()"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("common.priority")}),o.jsxs(xt,{value:U.priority,onValueChange:z=>q(fe=>({...fe,priority:z})),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsxs(Ae,{value:"1",children:[" ",n("common.veryLow")]}),o.jsxs(Ae,{value:"2",children:[" ",n("common.low")]}),o.jsxs(Ae,{value:"3",children:[" ",n("common.medium")]}),o.jsxs(Ae,{value:"4",children:[" ",n("common.high")]}),o.jsxs(Ae,{value:"5",children:[" ",n("common.veryHigh")]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.expectedCloseDate")}),o.jsx(Ue,{type:"date",value:U.expected_close_date,onChange:z=>q(fe=>({...fe,expected_close_date:z.target.value}))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),o.jsxs(xt,{value:U.assigned_to,onValueChange:z=>q(fe=>({...fe,assigned_to:z})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("leads.selectAssignee","Select assignee")})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"unassigned",children:n("common.all","Unassigned")}),u.map(z=>o.jsx(Ae,{value:String(z.userid),children:Ee(z,"user_name")},z.userid))]})]})]})]}),o.jsxs(Ia,{children:[o.jsx(ue,{variant:"outline",onClick:()=>N(!1),children:n("buttons.cancel")}),o.jsxs(ue,{onClick:Be,disabled:!((ce=U.lead_name)!=null&&ce.trim()),children:[o.jsx(Do,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})}),o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0 flex-1",children:Oe.filter(z=>{var fe;return r?z.stage_id===(C||((fe=ht[0])==null?void 0:fe.id)):!0}).map((z,fe)=>{var pe,ke;const _e=B.filter(Ne=>Ne.stage===z.stage_id),be=_e.reduce((Ne,Xe)=>Ne+(Xe.value||0),0),Le=new Set(_e.filter(Ne=>Ne.value!==null&&Ne.currency).map(Ne=>Ne.currency)),Se=Le.size===1?Array.from(Le)[0]:"SAR",je=Ne=>new Intl.NumberFormat(void 0,{style:"currency",currency:Se}).format(Ne);return _e.length>0&&console.log(`[Leads] Stage ${z.stage_name} (${z.stage_id}): ${_e.length} leads`),fe===0&&B.length>0&&(console.log("[Leads] First lead structure:",B[0]),console.log("[Leads] Stage IDs:",f.map(Ne=>Ne.stage_id))),o.jsxs("div",{className:xe("flex-shrink-0 animate-fade-in h-full flex flex-col",r?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${fe*.1}s`},onDragOver:he,onDrop:()=>P(z.stage_id),children:[o.jsx("div",{className:xe("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft","sticky top-0 z-10",z.color||"border-l-4 border-primary/50","hidden md:block"),children:o.jsx("div",{className:"flex items-center justify-between mb-2 rtl:flex-row-reverse",children:g===z.stage_id?o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx(Ue,{value:y,onChange:Ne=>b(Ne.target.value),onKeyDown:Ne=>{Ne.key==="Enter"&&oe(z.stage_id),Ne.key==="Escape"&&(v(null),b(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),o.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>oe(z.stage_id),className:"h-8 w-8 p-0",children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h2",{className:"font-bold text-base",children:Ee(z,"stage_name")})}),o.jsxs("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:[o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm border",children:_e.length}),o.jsxs(o.Fragment,{children:[o.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>Me(z.stage_id),className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary",title:n("leads.addLead"),children:o.jsx(Gt,{className:"h-4 w-4"})}),o.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>{v(z.stage_id),b(Ee(z,"stage_name"))},className:"h-6 w-6 p-0",title:n("buttons.edit"),children:o.jsx(zi,{className:"h-3 w-3"})}),o.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>ge(z.stage_id),className:"h-6 w-6 p-0 text-destructive",title:n("buttons.delete"),children:o.jsx(or,{className:"h-3 w-3"})})]})]})]})})}),o.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto pr-2 rtl:pr-0 rtl:pl-2 scrollbar-hide",children:[((pe=f.sort((Ne,Xe)=>(Ne.stager_order_index||0)-(Xe.stager_order_index||0))[0])==null?void 0:pe.stage_id)===z.stage_id&&o.jsx("div",{className:"mb-4",children:o.jsx(et,{className:xe("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",r?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>Me(z.stage_id),children:o.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[o.jsx(Gt,{className:"h-8 w-8"}),o.jsx("span",{className:"text-sm font-medium",children:n("leads.addNewLeadCard")})]})})}),_e.map(Ne=>{const Xe=l.find(Dt=>{var qt,yr;return((qt=Dt.userid||Dt.userid)==null?void 0:qt.toString())===((yr=Ne.client_user_id)==null?void 0:yr.toString())}),He=u.find(Dt=>{var qt,yr;return((qt=Dt.userid||Dt.userid)==null?void 0:qt.toString())===((yr=Ne.created_by)==null?void 0:yr.toString())}),at=u.find(Dt=>{var qt,yr;return((qt=Dt.userid||Dt.userid)==null?void 0:qt.toString())===((yr=Ne.assigned_to)==null?void 0:yr.toString())});return o.jsx("div",{children:o.jsx(z8e,{lead:Ne,client:Xe||null,creator:He||null,assignedUser:at||null,userRole:t==null?void 0:t.role,users:u,onDelete:()=>De(Ne.lead_id),onEdit:()=>X(Ne.lead_id),onAssign:Re,onClick:()=>X(Ne.lead_id),onDragStart:Z,isDragging:S===Ne.lead_id})},Ne.lead_id)}),((ke=f.sort((Ne,Xe)=>(Ne.stager_order_index||0)-(Xe.stager_order_index||0))[0])==null?void 0:ke.stage_id)!==z.stage_id&&o.jsx("div",{className:"mt-2",children:o.jsxs(ue,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>Me(z.stage_id),children:[o.jsx(Gt,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})]}),o.jsx("div",{className:xe("rounded-xl bg-muted/30 backdrop-blur p-3 mt-2 shadow-soft","sticky bottom-0 z-10","border-t-4 border-t-primary/30","hidden md:block"),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xg,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:n("leads.stageTotal",{amount:""}).replace(":","").trim()})]}),o.jsx("span",{className:"text-lg font-bold text-primary",children:je(be)})]})})]},z.stage_id)})}),o.jsx(hi,{open:!!w,onOpenChange:()=>_(null),children:o.jsxs(Is,{children:[o.jsxs(Ms,{children:[o.jsx(Ls,{children:n("leads.deleteStage")}),o.jsx($s,{children:n("leads.deleteStageConfirmation",{count:s.filter(z=>z.stage===w).length})})]}),o.jsxs(Fs,{children:[o.jsx(Us,{children:n("buttons.cancel")}),o.jsx(Bs,{onClick:se,className:"bg-destructive text-destructive-foreground",children:n("buttons.delete")})]})]})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-lg font-semibold",children:[n("leads.title")," (",s.length,")"]}),o.jsx(wn,{open:j,onOpenChange:N,children:o.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(sn,{children:[o.jsx(on,{children:n("leads.createLead")}),o.jsx(Ma,{children:n("leads.createLeadDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),o.jsx(Ue,{value:U.lead_name,onChange:z=>q(fe=>({...fe,lead_name:z.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),o.jsx(ia,{value:U.lead_description,onChange:z=>q(fe=>({...fe,lead_description:z.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),o.jsx(Ue,{value:U.client_name,onChange:z=>q(fe=>({...fe,client_name:z.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),o.jsxs(xt,{value:U.client_user_id,onValueChange:z=>q(fe=>({...fe,client_user_id:z})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("leads.selectClient")})}),o.jsx(vt,{children:l.filter(z=>z.userid).map(z=>o.jsx(Ae,{value:String(z.userid),children:Ee(z,"user_name")},z.userid))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),o.jsxs(xt,{value:U.assigned_to,onValueChange:z=>q(fe=>({...fe,assigned_to:z})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("leads.selectAssignee","Select assignee")})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"unassigned",children:n("common.all","Unassigned")}),u.map(z=>o.jsx(Ae,{value:String(z.userid),children:Ee(z,"user_name")},z.userid))]})]})]})]}),o.jsxs(Ia,{children:[o.jsx(ue,{variant:"outline",onClick:()=>N(!1),children:n("buttons.cancel")}),o.jsxs(ue,{onClick:Be,disabled:!((me=U.lead_name)!=null&&me.trim()),children:[o.jsx(Do,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})})]}),(()=>{const z=[{key:"lead",header:n("leads.leadName"),render:be=>o.jsx(kc,{title:Ee(be,"lead_name"),subtitle:Ee(be,"lead_description")})},{key:"value",header:n("leads.value","Value"),render:be=>o.jsx(U8e,{value:be.value,currency:be.currency||"SAR"})},{key:"client",header:n("leads.client"),hideOnMobile:!0,render:be=>{const Le=l.find(Se=>String(Se.userid)===be.client_user_id);return Le?Ee(Le,"user_name"):n("leads.unknown")}},{key:"creator",header:n("leads.createdBy"),hideOnMobile:!0,render:be=>{const Le=u.find(Se=>String(Se.userid)===be.created_by);return o.jsx(bp,{name:Le?Ee(Le,"user_name"):null,fallback:n("leads.unknown")})}},{key:"assignee",header:n("leads.assignedTo"),hideOnMobile:!0,render:be=>{const Le=u.find(Se=>String(Se.userid)===be.assigned_to);return o.jsx(bp,{name:Le?Ee(Le,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:be=>{const Le=f.find(Se=>Se.stage_id===be.stage);return Le?Ee(Le,"stage_name"):n("leads.unknown")}},{key:"created",header:n("common.created"),hideOnMobile:!0,render:be=>o.jsx(Kf,{date:be.created_date,fallback:n("leads.notSet")})}],fe=[{label:n("common.view"),icon:o.jsx(oi,{className:"h-4 w-4"}),onClick:be=>X(be.lead_id)},{label:n("buttons.delete","Delete"),icon:o.jsx(or,{className:"h-4 w-4"}),onClick:be=>De(be.lead_id),variant:"destructive",show:()=>!0}],_e=[{label:n("buttons.delete","Delete"),icon:o.jsx(or,{className:"h-4 w-4"}),onClick:be=>{be.forEach(Le=>De(Le.lead_id))},variant:"destructive"}];return o.jsx(jc,{data:B,columns:z,actions:fe,bulkActions:_e,keyExtractor:be=>be.lead_id,onRowClick:be=>X(be.lead_id),enableBulkSelect:!0,emptyState:o.jsx(vl,{icon:o.jsx(ns,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("leads.noLeadsYet"),description:n("leads.createFirst","Create a lead to get started"),action:o.jsxs(ue,{onClick:()=>N(!0),children:[o.jsx(Gt,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})})})()]}),o.jsx(_l,{open:!!H,onOpenChange:()=>X(null),children:o.jsxs(Lo,{className:"w-full sm:max-w-[540px] overflow-y-auto",side:rr()?"left":"right",children:[o.jsxs(bc,{children:[o.jsx(Sl,{children:n("leads.leadDetails")}),o.jsx(Mx,{children:n("leads.leadDetailsDesc")})]}),o.jsx("div",{className:"mt-6",children:H&&o.jsx(R8e,{leadId:H})})]})})]})}const QP={users:["users"],projects:["projects"],tasks:["tasks"],stages:["stages"],globalStages:["stages","global"],clients:["clients"],teams:["teams"],teamMembers:["teams","members"],tickets:["tickets"],projectUsers:e=>["projects",e,"users"],comments:e=>["tasks",e,"comments"],rooms:e=>["rooms",e],messages:e=>["messages",e],userProjects:e=>["users",e,"projects"]},W8e=()=>CA({queryKey:QP.users,queryFn:jn.getAll}),H8e=()=>CA({queryKey:QP.tasks,queryFn:zd.getAll,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),q8e=e=>CA({queryKey:[...QP.stages,"type",e],queryFn:()=>os.getByType(e)});function c0({title:e="Something went wrong",message:t,onRetry:r,className:n=""}){return o.jsxs("div",{className:`flex flex-col items-center justify-center py-12 ${n}`,children:[o.jsx("div",{className:"h-20 w-20 rounded-full bg-destructive/10 flex items-center justify-center mb-6 ring-4 ring-destructive/5",children:o.jsx(L_,{className:"h-10 w-10 text-destructive"})}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e}),o.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:t}),r&&o.jsxs(ue,{onClick:r,variant:"outline",className:"gap-2",children:[o.jsx(uv,{className:"h-4 w-4"}),"Try Again"]})]})}function K8e({task:e,assignedUser:t,stages:r=[],onDelete:n,onClick:a,onDragStart:s,onStageChange:i,isDragging:l=!1}){var g,v;const{t:c}=$t(),u=un(),d=y=>y?new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set",f=y=>{switch(y){case"done":return o.jsx(ic,{className:"h-3 w-3 text-green-500"});case"in_progress":return o.jsx(Md,{className:"h-3 w-3 text-blue-500"});case"todo":default:return o.jsx(L_,{className:"h-3 w-3 text-gray-500"})}},h=y=>{switch(y){case"done":return"border-l-green-500 rtl:border-r-green-500";case"in_progress":return"border-l-blue-500 rtl:border-r-blue-500";case"todo":default:return"border-l-gray-500 rtl:border-r-gray-500"}},m=y=>{if(!y)return null;const b=new Date,_=(new Date(y).getTime()-b.getTime())/(1e3*60*60);return _<0?"overdue":_<24?"urgent":_<72?"soon":null},p=y=>{switch(m(y)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return o.jsxs(et,{className:xe("group relative hover:shadow-lg transition-all duration-200","border-l-4 rtl:border-l-0 rtl:border-r-4",u?"w-full":"w-[280px] h-[180px]",h(e.task_status),p(e.due_date),l&&"opacity-50 rotate-2 scale-105"),draggable:!!s,onDragStart:y=>{s&&(y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",e.task_id.toString()),s(e.task_id))},children:[o.jsx(Bt,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:a,children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:e.task_name}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),n&&o.jsxs(hi,{children:[o.jsx(Qx,{asChild:!0,onClick:y=>y.stopPropagation(),children:o.jsx(ue,{variant:"ghost",size:"sm",className:xe("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",u?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(or,{className:"h-4 w-4"})})}),o.jsxs(Is,{onClick:y=>y.stopPropagation(),children:[o.jsxs(Ms,{children:[o.jsx(Ls,{children:"Delete Task"}),o.jsxs($s,{children:['Are you sure you want to delete "',e.task_name,'"?']})]}),o.jsxs(Fs,{children:[o.jsx(Us,{children:"Cancel"}),o.jsx(Bs,{onClick:y=>{y.stopPropagation(),n(e.task_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})}),o.jsxs(ot,{className:"px-4 pb-3 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Rn,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),o.jsx("p",{className:"text-xs font-medium truncate",children:t?Ee(t,"user_name"):c("common.all","Unassigned")})]})}),o.jsx("div",{children:o.jsxs("div",{className:"flex items-center gap-1",children:[f(e.task_status),o.jsx("span",{className:"text-xs font-medium capitalize",children:((g=e.task_status)==null?void 0:g.replace("_"," "))||"Todo"})]})})]}),u&&i&&o.jsx("div",{className:"pt-1",children:o.jsxs(xt,{value:((v=e.stage_id)==null?void 0:v.toString())||"",onValueChange:y=>i(e.task_id,parseInt(y)),children:[o.jsx(gt,{className:"h-7 text-xs",children:o.jsx(yt,{placeholder:c("tasks.selectStage","Select stage")})}),o.jsx(vt,{children:r.map(y=>{var b;return o.jsx(Ae,{value:((b=y.stage_id)==null?void 0:b.toString())||"",children:Ee(y,"stage_name")},y.stage_id)})})]})}),e.due_date&&o.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:[o.jsx(Po,{className:"h-3 w-3 flex-shrink-0"}),o.jsxs("span",{children:["Due: ",d(e.due_date)]})]})]})]})}function G8e(){var se;zs();const{hasRole:e,user:t,loading:r}=hr(),{t:n}=$t(),a=un(),[s,i]=x.useState(null),[l,c]=x.useState("kanban");x.useState(!1);const u=Z=>{switch(Z==null?void 0:Z.toLowerCase()){case"done":case"completed":return"default";case"in_progress":return"secondary";case"pending":case"todo":return"outline";default:return"secondary"}};x.useState(""),x.useState(null),x.useState(""),x.useState(null);const[d,f]=x.useState(null),[h,m]=x.useState(!1),[p,g]=x.useState({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),[v,y]=x.useState(""),[b,w]=x.useState("all"),[_,S]=x.useState("all"),[k,j]=x.useState({from:void 0,to:void 0}),{data:N=[],isLoading:C,error:T}=H8e(),{data:D=[],isLoading:A,error:H}=W8e(),{data:X=[],isLoading:L,error:I}=q8e("tasks"),W=x.useMemo(()=>N.filter(Z=>{const he=Z.task_name.toLowerCase().includes(v.toLowerCase())||Z.description&&Z.description.toLowerCase().includes(v.toLowerCase()),P=b==="all"||Z.task_status===b,De=_==="all"||Z.assigned_to&&Z.assigned_to.toString()===_;let Re=!0;if(k.from&&Z.due_date){const Me=new Date(Z.due_date),Be=new Date(k.from);Be.setHours(0,0,0,0);const Oe=new Date(Me);if(Oe.setHours(0,0,0,0),Re=Oe>=Be,Re&&k.to){const ht=new Date(k.to);ht.setHours(23,59,59,999),Re=Oe<=ht}}else k.from&&!Z.due_date&&(Re=!1);return he&&P&&De&&Re}),[N,v,b,_,k]),F=X.sort((Z,he)=>{const P=Z.stager_order_index??0,De=he.stager_order_index??0;return P-De}).map(Z=>({id:Z.stage_id,name:Ee(Z,"stage_name"),color:Z.color,count:W.filter(he=>he.stage_id===Z.stage_id).length})),M=C||A||L||r,G=(T==null?void 0:T.message)||(H==null?void 0:H.message)||(I==null?void 0:I.message)||null;console.log("[Tasks] Rendering. Auth state:",{user:t?{id:t.id,email:t.email,role:t.role}:null,authLoading:r,hasUser:!!t,loading:M,data:{tasks:N.length,users:D.length,stages:X.length}});const Q=()=>{},E=async Z=>{try{await zd.delete(Z),Q()}catch(he){console.error("Failed to delete task:",he)}},B=Z=>{f(Z)},U=Z=>{Z.preventDefault(),Z.dataTransfer.dropEffect="move"},q=async Z=>{if(!d)return;const he=N.find(P=>P.task_id===d);if(he&&he.stage_id!==Z)try{await zd.update(d,{stage_id:Z}),Q()}catch(P){console.error("Failed to update task stage:",P)}f(null)},ee=async(Z,he)=>{const P=N.find(De=>De.task_id===Z);if(P&&P.stage_id!==he)try{await zd.update(Z,{stage_id:he}),Q()}catch(De){console.error("Failed to update task stage:",De)}},oe=async()=>{if(p.task_name.trim())try{const Z=yl({task_name:p.task_name.trim(),stage_id:p.stage_id?parseInt(p.stage_id):null,assigned_to:p.assigned_to?parseInt(p.assigned_to):null,task_status:p.task_status,due_date:p.due_date?new Date(p.due_date).toISOString():null,description:p.description.trim()||null,userid:(t==null?void 0:t.id)||null},{task_name:"task_name",description:"description"});await zd.create(Z),Q(),g({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),m(!1)}catch(Z){console.error("Failed to create task:",Z)}},ge=!0;return x.useEffect(()=>{if(X.length>0&&s===null){const Z=X.sort((he,P)=>(he.stager_order_index??0)-(P.stager_order_index??0));Z.length>0&&i(Z[0].stage_id)}},[X,s]),M||r||!t?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx(ua,{message:n("common.loading"),size:"2xl"})}):G?o.jsx(c0,{message:G}):o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:rr()?"rtl":"ltr",children:[o.jsx(ey,{title:n("tasks.title"),description:n("tasks.description","Manage and track all your tasks"),icon:o.jsx(yg,{className:"h-5 w-5 text-primary"}),breadcrumbs:[{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.tasks")}],actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(ue,{variant:l==="kanban"?"default":"ghost",size:"sm",onClick:()=>c("kanban"),className:"h-8 w-8 p-0",children:o.jsx($_,{className:"h-4 w-4"})}),o.jsx(ue,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),className:"h-8 w-8 p-0",children:o.jsx(Bm,{className:"h-4 w-4"})})]}),o.jsxs(ue,{onClick:()=>m(!0),children:[o.jsx(Gt,{className:"mr-2 h-4 w-4"})," ",n("tasks.addNewTask")]})]}),stats:[{label:n("tasks.totalTasks"),value:N.length,icon:o.jsx(yg,{className:"h-4 w-4 text-primary"})},{label:n("tasks.todo","To Do"),value:N.filter(Z=>Z.task_status==="todo").length,icon:o.jsx(L_,{className:"h-4 w-4 text-gray-500"})},{label:n("tasks.inProgress","In Progress"),value:N.filter(Z=>Z.task_status==="in_progress").length,icon:o.jsx(Md,{className:"h-4 w-4 text-blue-500"})},{label:n("tasks.done","Done"),value:N.filter(Z=>Z.task_status==="done").length,icon:o.jsx(ic,{className:"h-4 w-4 text-green-500"})}]}),o.jsx(WP,{onSearch:y,onFilterStatus:w,onFilterAssignee:S,onFilterDateRange:j,users:D,statuses:[{value:"todo",label:n("tasks.todo")},{value:"in_progress",label:n("tasks.inProgress")},{value:"done",label:n("tasks.done")}]}),l==="kanban"?o.jsxs(Zx,{stages:F,currentStageId:s||((se=F[0])==null?void 0:se.id),onStageChange:i,children:[o.jsx(wn,{open:h,onOpenChange:m,children:o.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(sn,{children:[o.jsx(on,{children:n("tasks.createTask")}),o.jsx(Ma,{children:n("tasks.createTaskDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),o.jsx(Ue,{value:p.task_name,onChange:Z=>g(he=>({...he,task_name:Z.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),o.jsx(ia,{value:p.description,onChange:Z=>g(he=>({...he,description:Z.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),o.jsxs(xt,{value:p.assigned_to,onValueChange:Z=>g(he=>({...he,assigned_to:Z})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("tasks.selectUser")})}),o.jsx(vt,{children:D.map(Z=>{var he;return o.jsx(Ae,{value:((he=Z.user_id)==null?void 0:he.toString())||"",children:Ee(Z,"user_name")},Z.user_id)})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),o.jsxs(xt,{value:p.stage_id,onValueChange:Z=>g(he=>({...he,stage_id:Z})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("tasks.selectStage")})}),o.jsx(vt,{children:X.map(Z=>{var he;return o.jsx(Ae,{value:((he=Z.stage_id)==null?void 0:he.toString())||"",children:Ee(Z,"stage_name")},Z.stage_id)})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),o.jsxs(xt,{value:p.task_status,onValueChange:Z=>g(he=>({...he,task_status:Z})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("tasks.selectStatus")})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"todo",children:n("tasks.todo")}),o.jsx(Ae,{value:"in_progress",children:n("tasks.inProgress")}),o.jsx(Ae,{value:"done",children:n("tasks.done")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),o.jsx(Ue,{type:"date",value:p.due_date,onChange:Z=>g(he=>({...he,due_date:Z.target.value}))})]})]}),o.jsxs(Ia,{children:[o.jsx(ue,{variant:"outline",onClick:()=>m(!1),children:n("buttons.cancel")}),o.jsxs(ue,{onClick:oe,disabled:!p.task_name.trim(),children:[o.jsx(Do,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})}),o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:X.sort((Z,he)=>{const P=Z.stager_order_index??0,De=he.stager_order_index??0;return P-De}).filter(Z=>{var he;return a?Z.stage_id===(s||((he=F[0])==null?void 0:he.id)):!0}).map((Z,he)=>{var De,Re;const P=W.filter(Me=>Me.stage_id===Z.stage_id);return o.jsxs("div",{className:xe("flex-shrink-0 animate-fade-in",a?"w-full":"w-[300px]"),style:{animationDelay:`${he*.1}s`},onDragOver:U,onDrop:()=>q(Z.stage_id),children:[o.jsx("div",{className:xe("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft hidden md:block",Z.color||"border-l-4 border-primary/50"),children:o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qo,{className:"h-4 w-4 text-muted-foreground cursor-move"}),o.jsx("h2",{className:"font-bold text-base",children:Ee(Z,"stage_name")})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:P.length})})]})}),o.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 custom-scrollbar",children:[((De=X.sort((Me,Be)=>(Me.stager_order_index||0)-(Be.stager_order_index||0))[0])==null?void 0:De.stage_id)===Z.stage_id&&o.jsx("div",{className:"mb-4",children:o.jsx(et,{className:xe("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",a?"w-full h-[100px]":"w-[280px] h-[120px]"),onClick:()=>m(!0),children:o.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[o.jsx(Gt,{className:"h-8 w-8"}),o.jsx("span",{className:"text-sm font-medium",children:n("tasks.addNewTask")})]})})}),P.map(Me=>{const Be=D.find(Oe=>Oe.user_id===Me.assigned_to);return o.jsx("div",{draggable:ge,onDragStart:()=>B(Me.task_id),className:"cursor-move",children:o.jsx(K8e,{task:Me,assignedUser:Be||null,stages:X,onDelete:()=>E(Me.task_id),onClick:()=>{console.log("Task clicked:",Me.task_id)},onDragStart:B,onStageChange:ee,isDragging:d===Me.task_id})},Me.task_id)}),((Re=X.sort((Me,Be)=>(Me.stager_order_index||0)-(Be.stager_order_index||0))[0])==null?void 0:Re.stage_id)!==Z.stage_id&&o.jsx("div",{className:"mt-2",children:o.jsxs(ue,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>m(!0),children:[o.jsx(Gt,{className:"h-4 w-4 mr-2"}),n("tasks.addTask")]})})]})]},Z.stage_id)})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-lg font-semibold",children:[n("tasks.allTasks")," (",N.length,")"]}),o.jsx(wn,{open:h,onOpenChange:m,children:o.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(sn,{children:[o.jsx(on,{children:n("tasks.createTask")}),o.jsx(Ma,{children:n("tasks.createTaskDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),o.jsx(Ue,{value:p.task_name,onChange:Z=>g(he=>({...he,task_name:Z.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),o.jsx(ia,{value:p.description,onChange:Z=>g(he=>({...he,description:Z.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),o.jsxs(xt,{value:p.assigned_to,onValueChange:Z=>g(he=>({...he,assigned_to:Z})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("tasks.selectUser")})}),o.jsx(vt,{children:D.map(Z=>{var he;return o.jsx(Ae,{value:((he=Z.user_id)==null?void 0:he.toString())||"",children:Ee(Z,"user_name")},Z.user_id)})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),o.jsxs(xt,{value:p.stage_id,onValueChange:Z=>g(he=>({...he,stage_id:Z})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("tasks.selectStage")})}),o.jsx(vt,{children:X.map(Z=>{var he;return o.jsx(Ae,{value:((he=Z.stage_id)==null?void 0:he.toString())||"",children:Ee(Z,"stage_name")},Z.stage_id)})})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),o.jsxs(xt,{value:p.task_status,onValueChange:Z=>g(he=>({...he,task_status:Z})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:n("tasks.selectStatus")})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"todo",children:n("tasks.todo")}),o.jsx(Ae,{value:"in_progress",children:n("tasks.inProgress")}),o.jsx(Ae,{value:"done",children:n("tasks.done")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),o.jsx(Ue,{type:"date",value:p.due_date,onChange:Z=>g(he=>({...he,due_date:Z.target.value}))})]})]})]}),o.jsxs(Ia,{children:[o.jsx(ue,{variant:"outline",onClick:()=>m(!1),children:n("buttons.cancel")}),o.jsxs(ue,{onClick:oe,disabled:!p.task_name.trim(),children:[o.jsx(Do,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})})]}),(()=>{const Z=[{key:"task",header:n("tasks.taskName"),render:P=>o.jsx(kc,{title:P.task_name,subtitle:P.description})},{key:"assignee",header:n("tasks.assignedTo"),hideOnMobile:!0,render:P=>{const De=D.find(Re=>Re.user_id===P.assigned_to);return o.jsx(bp,{name:De?Ee(De,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"status",header:n("tasks.status"),render:P=>o.jsx(nY,{variant:u(P.task_status),children:P.task_status||n("leads.unknown")})},{key:"due_date",header:n("tasks.dueDate"),hideOnMobile:!0,render:P=>o.jsx(Kf,{date:P.due_date,fallback:n("leads.notSet")})},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:P=>{const De=X.find(Re=>Re.stage_id===P.stage_id);return De?Ee(De,"stage_name"):n("leads.unknown")}}],he=[{label:n("common.view"),icon:o.jsx(oi,{className:"h-4 w-4"}),onClick:P=>console.log("View task:",P.task_id)},{label:n("buttons.delete","Delete"),icon:o.jsx(or,{className:"h-4 w-4"}),onClick:P=>E(P.task_id),variant:"destructive"}];return o.jsx(jc,{data:W,columns:Z,actions:he,keyExtractor:P=>P.task_id,emptyState:o.jsx(vl,{icon:o.jsx(yg,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("tasks.noTasksYet"),description:n("tasks.createFirst","Create a task to get started"),action:o.jsxs(ue,{onClick:()=>m(!0),children:[o.jsx(Gt,{className:"h-4 w-4 mr-2"}),n("tasks.addNewTask")]})})})})()]})]})}function T$(e){const[t,r]=x.useState(e),n=x.useCallback((s,i)=>{r(l=>({...l,[s]:i}))},[]),a=x.useCallback(s=>{r(s??e)},[e]);return{values:t,setValues:r,setField:n,reset:a}}const rT=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}},Y8e=(e,t)=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):t,X8e=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return o.jsx(J2,{className:"h-3 w-3 text-red-500"});case"high":return o.jsx(J2,{className:"h-3 w-3 text-orange-500"});default:return null}};function A$({ticket:e,assignedUser:t,userRole:r,onDelete:n,onClick:a,onDragStart:s,onDragEnd:i,isDragging:l=!1,stageName:c}){const{t:u}=$t(),d=un();return o.jsxs(et,{className:xe("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",l&&"opacity-50 rotate-2 scale-105"),onClick:a,draggable:!!s,onDragStart:f=>{s&&(f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("text/plain",e.ticket_id.toString()),s(e.ticket_id))},onDragEnd:()=>{i&&i()},children:[o.jsx(Bt,{className:"pb-3 px-4 pt-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",e.ticket_id]}),X8e(e.priority)]}),o.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:e.subject||u("tickets.noSubject","No Subject")}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description})]}),n&&r==="admin"&&o.jsxs(hi,{children:[o.jsx(Qx,{asChild:!0,onClick:f=>f.stopPropagation(),children:o.jsx(ue,{variant:"ghost",size:"sm",className:xe("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(or,{className:"h-4 w-4"})})}),o.jsxs(Is,{onClick:f=>f.stopPropagation(),children:[o.jsxs(Ms,{children:[o.jsx(Ls,{children:u("tickets.deleteTicket","Delete Ticket")}),o.jsx($s,{children:u("tickets.deleteConfirmation",{name:e.subject||"this ticket"})})]}),o.jsxs(Fs,{children:[o.jsx(Us,{children:u("buttons.cancel")}),o.jsx(Bs,{onClick:f=>{f.stopPropagation(),n(e.ticket_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),o.jsxs(ot,{className:"px-4 pb-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c&&o.jsx(ct,{variant:"outline",className:"text-xs",children:c}),o.jsx(ct,{variant:rT(e.priority),className:"text-xs",children:e.priority||u("leads.unknown")}),e.ticket_type&&o.jsx(ct,{variant:"outline",className:"text-xs",children:e.ticket_type})]}),t&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rn,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("span",{className:"text-sm text-muted-foreground truncate",children:Ee(t,"user_name")})]}),o.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[o.jsx(Po,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:Y8e(e.created_date,u("leads.unknown"))})]})})]})]})}function J8e(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,s]=x.useState([]),[i,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,m]=x.useState("all"),[p,g]=x.useState("all"),[v,y]=x.useState("all"),[b,w]=x.useState(!1),[_,S]=x.useState(null),[k,j]=x.useState(!1),[N,C]=x.useState(!1),T=x.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"",stage_id:""}),[]),D=x.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"unassigned",stage_id:""}),[]),{values:A,setField:H,reset:X,setValues:L}=T$(T),{values:I,setField:W,reset:F,setValues:M}=T$(D),[G,Q]=x.useState(null),[E,B]=x.useState(null),[U,q]=x.useState("kanban"),[ee,oe]=x.useState(""),[ge,se]=x.useState(!1),{user:Z,loading:he}=hr(),{t:P}=$t(),De=un();x.useEffect(()=>{Z&&!he&&Re()},[Z,he]),x.useEffect(()=>{if(a.length>0&&E===null){const pe=a.filter(ke=>ke.stage_type==="tickets");pe.length>0&&B(pe[0].stage_id)}},[a,E]);const Re=async()=>{try{l(!0),u(null);const[pe,ke,Ne]=await Promise.all([$0.getAll().catch(Xe=>(console.error("[Tickets] Error fetching tickets:",Xe),[])),jn.getAll().catch(Xe=>(console.error("[Tickets] Error fetching users:",Xe),[])),os.getByType("tickets").catch(Xe=>(console.error("[Tickets] Error fetching stages:",Xe),[]))]);if(t(pe),n(ke),s(Ne),Ne.length>0){const Xe=[...Ne].sort((He,at)=>(He.stager_order_index||0)-(at.stager_order_index||0));L(He=>{var at;return{...He,stage_id:He.stage_id||((at=Xe[0].stage_id)==null?void 0:at.toString())||""}})}}catch(pe){console.error("[Tickets] Failed to load data:",pe),u(pe.message||P("common.error"))}finally{l(!1)}},Me=pe=>pe&&r.find(ke=>ke.user_id===pe)||null,Be=async pe=>{var ke,Ne;if(pe.preventDefault(),!(ge||!Z)){oe(""),se(!0);try{const Xe=A.assigned_to?parseInt(A.assigned_to):null,He=r.find(yr=>yr.user_id===Xe),at={subject:A.subject,description:A.description||null,priority:A.priority,ticket_type:A.ticket_type,stage_id:A.stage_id?parseInt(A.stage_id):null,created_by:((ke=Z.profile)==null?void 0:ke.user_id)||null,assigned_to:Xe,resolved_date:null,closed_at:null,closed_by:null,room_id:null,task_id:null,status:"open"},Dt=await $0.create(at);t([Dt,...e]);const qt=a.length>0&&((Ne=[...a].sort((yr,Un)=>(yr.stager_order_index||0)-(Un.stager_order_index||0))[0].stage_id)==null?void 0:Ne.toString())||"";X({...T,stage_id:qt}),w(!1)}catch(Xe){oe(Xe.message||P("tickets.createError"))}finally{se(!1)}}},Oe=pe=>{var ke,Ne;S(pe),C(!1),M({...D,subject:pe.subject||"",description:pe.description||"",priority:pe.priority||"medium",ticket_type:pe.ticket_type||"request",assigned_to:((ke=pe.assigned_to)==null?void 0:ke.toString())||"unassigned",stage_id:((Ne=pe.stage_id)==null?void 0:Ne.toString())||""}),j(!0)},ht=async()=>{if(!(!_||ge)){oe(""),se(!0);try{const pe=I.assigned_to&&I.assigned_to!=="unassigned"?parseInt(I.assigned_to):null,ke=r.find(Ne=>Ne.user_id===pe);await $0.update(_.ticket_id,{subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:pe,stage_id:I.stage_id?parseInt(I.stage_id):null}),t(e.map(Ne=>Ne.ticket_id===_.ticket_id?{...Ne,subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:pe,stage_id:I.stage_id?parseInt(I.stage_id):null}:Ne)),S(Ne=>Ne?{...Ne,subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:pe,stage_id:I.stage_id?parseInt(I.stage_id):null}:null),C(!1)}catch(pe){oe(pe.message||P("tickets.updateError","Failed to update ticket"))}finally{se(!1)}}},it=async pe=>{try{await $0.delete(pe),t(e.filter(ke=>ke.ticket_id!==pe))}catch(ke){console.error("[Tickets] Failed to delete ticket:",ke)}},ce=pe=>{Q(pe)},me=()=>{Q(null)},z=pe=>{pe.preventDefault(),pe.dataTransfer.dropEffect="move"},fe=async pe=>{if(!G)return;const ke=e.find(Ne=>Ne.ticket_id===G);if(ke&&ke.stage_id!==pe){t(Ne=>Ne.map(Xe=>Xe.ticket_id===G?{...Xe,stage_id:pe}:Xe));try{await $0.moveToStage(G,pe)}catch(Ne){console.error("Failed to update ticket stage:",Ne),t(Xe=>Xe.map(He=>He.ticket_id===G?{...He,stage_id:ke.stage_id}:He))}}Q(null)},_e=x.useMemo(()=>e.filter(pe=>{var at,Dt,qt;const ke=((at=pe.subject)==null?void 0:at.toLowerCase().includes(d.toLowerCase()))||((Dt=pe.description)==null?void 0:Dt.toLowerCase().includes(d.toLowerCase())),Ne=h==="all"||pe.priority===h,Xe=p==="all"||pe.ticket_type===p,He=v==="all"||((qt=pe.stage_id)==null?void 0:qt.toString())===v;return ke&&Ne&&Xe&&He}),[e,d,h,p,v]),be=x.useMemo(()=>a.filter(pe=>pe.stage_type==="tickets").sort((pe,ke)=>{const Ne=pe.stager_order_index??0,Xe=ke.stager_order_index??0;return Ne-Xe}),[a]),Le=x.useMemo(()=>be.map(pe=>({id:pe.stage_id,name:Ee(pe,"stage_name"),color:pe.color,count:_e.filter(ke=>ke.stage_id===pe.stage_id).length})),[be,_e]),Se=()=>{var pe;return be.length===0?o.jsx(vl,{icon:o.jsx(_h,{className:"h-12 w-12 text-muted-foreground/50"}),title:P("tickets.noStages","No ticket stages found"),description:P("tickets.noStagesDesc","Create ticket stages in the database to enable Kanban view")}):o.jsxs(Zx,{stages:Le,currentStageId:E||((pe=Le[0])==null?void 0:pe.id),onStageChange:B,children:[o.jsx("div",{className:xe("flex gap-4 pb-4 overflow-x-auto",De?"hidden":"flex"),children:be.map(ke=>{const Ne=_e.filter(at=>at.stage_id===ke.stage_id),Xe=ke.color||"border-l-4 border-gray-400",He=Ee(ke,"stage_name");return o.jsxs("div",{className:"flex-shrink-0 w-[320px] flex flex-col h-[calc(100vh-280px)]",onDragOver:z,onDrop:()=>fe(ke.stage_id),children:[o.jsx("div",{className:xe("bg-muted/50 backdrop-blur rounded-t-lg p-3 sticky top-0 z-10",Xe),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold text-sm",children:Ee(ke,"stage_name")}),o.jsx(ct,{variant:"secondary",className:"text-xs",children:Ne.length})]}),o.jsx(ue,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>{L(at=>{var Dt;return{...at,stage_id:((Dt=ke.stage_id)==null?void 0:Dt.toString())||""}}),w(!0)},children:o.jsx(Gt,{className:"h-4 w-4"})})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto bg-muted/30 rounded-b-lg p-3",children:o.jsxs("div",{className:"space-y-3",children:[Ne.map(at=>o.jsx(A$,{ticket:at,assignedUser:Me(at.assigned_to),userRole:Z==null?void 0:Z.role,onDelete:it,onClick:()=>Oe(at),onDragStart:ce,onDragEnd:me,isDragging:G===at.ticket_id,stageName:He},at.ticket_id)),Ne.length===0&&o.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:P("tickets.noTicketsInStage","No tickets in this stage")})]})})]},ke.stage_id)})}),De&&E&&o.jsxs("div",{className:"space-y-3 p-2",children:[_e.filter(ke=>ke.stage_id===E).map(ke=>{var Ne;return o.jsx(A$,{ticket:ke,assignedUser:Me(ke.assigned_to),userRole:Z==null?void 0:Z.role,onDelete:it,onClick:()=>Oe(ke),onDragStart:ce,onDragEnd:me,isDragging:G===ke.ticket_id,stageName:((Ne=Le.find(Xe=>Xe.id===E))==null?void 0:Ne.name)||null},ke.ticket_id)}),_e.filter(ke=>ke.stage_id===E).length===0&&o.jsx(vl,{icon:o.jsx(_h,{className:"h-12 w-12 text-muted-foreground/50"}),title:P("tickets.noTicketsInStage","No tickets in this stage"),description:P("tickets.createFirst","Create a ticket to get started"),action:o.jsxs(ue,{onClick:()=>{L(ke=>({...ke,stage_id:(E==null?void 0:E.toString())||""})),w(!0)},children:[o.jsx(Gt,{className:"h-4 w-4 mr-2"}),P("tickets.newTicket")]})})]})]})},je=()=>{const pe=[{key:"ticket",header:P("tickets.subject","Subject"),render:Ne=>o.jsx(kc,{title:Ne.subject||P("tickets.noSubject","No Subject"),subtitle:Ne.description})},{key:"priority",header:P("tickets.priority","Priority"),render:Ne=>o.jsx(nY,{variant:rT(Ne.priority),children:Ne.priority||P("leads.unknown")})},{key:"type",header:P("tickets.ticketType","Type"),hideOnMobile:!0,render:Ne=>o.jsx(ct,{variant:"outline",className:"text-xs",children:Ne.ticket_type||P("leads.unknown")})},{key:"assignee",header:P("tickets.assignedTo","Assigned To"),hideOnMobile:!0,render:Ne=>{const Xe=Me(Ne.assigned_to);return o.jsx(bp,{name:Xe?Ee(Xe,"user_name"):null,fallback:P("tickets.unassigned","Unassigned")})}},{key:"stage",header:P("tickets.stage","Stage"),hideOnMobile:!0,render:Ne=>{const Xe=be.find(He=>He.stage_id===Ne.stage_id);return Xe?Ee(Xe,"stage_name"):P("tickets.noStage","No stage")}},{key:"created",header:P("tickets.createdDate","Created"),hideOnMobile:!0,render:Ne=>o.jsx(Kf,{date:Ne.created_date,fallback:P("leads.notSet","Not set")})}],ke=[{label:P("common.view","View"),icon:o.jsx(oi,{className:"h-4 w-4"}),onClick:Oe},{label:P("buttons.delete","Delete"),icon:o.jsx(or,{className:"h-4 w-4"}),onClick:Ne=>it(Ne.ticket_id),variant:"destructive",show:()=>!0}];return o.jsx(jc,{data:_e,columns:pe,actions:ke,keyExtractor:Ne=>Ne.ticket_id,onRowClick:Oe,emptyState:o.jsx(vl,{icon:o.jsx(_h,{className:"h-12 w-12 text-muted-foreground/50"}),title:P("tickets.noTicketsInPage"),description:P("tickets.noTicketsFoundDesc","Try adjusting your filters"),action:o.jsxs(ue,{onClick:()=>w(!0),children:[o.jsx(Gt,{className:"h-4 w-4 mr-2"}),P("tickets.newTicket","New Ticket")]})})})};return i||he?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx(ua,{message:P("common.loading"),size:"2xl"})}):Z?c?o.jsx(c0,{title:P("tickets.errorTitle","Error loading tickets"),message:c,onRetry:Re}):o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:rr()?"rtl":"ltr",children:[o.jsx(ey,{title:P("tickets.title"),description:P("tickets.description","Manage and track support tickets"),icon:o.jsx(_h,{className:"h-5 w-5 text-primary"}),actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(ue,{variant:U==="kanban"?"default":"ghost",size:"sm",onClick:()=>q("kanban"),className:"h-8 w-8 p-0",children:o.jsx($_,{className:"h-4 w-4"})}),o.jsx(ue,{variant:U==="list"?"default":"ghost",size:"sm",onClick:()=>q("list"),className:"h-8 w-8 p-0",children:o.jsx(Bm,{className:"h-4 w-4"})})]}),o.jsxs(ue,{onClick:()=>w(!0),children:[o.jsx(Gt,{className:"h-4 w-4 mr-2"}),P("tickets.newTicket")]})]}),stats:[{label:P("tickets.total","Total Tickets"),value:e.length,icon:o.jsx(_h,{className:"h-4 w-4 text-primary"})},...be.map(pe=>({label:Ee(pe,"stage_name"),value:e.filter(ke=>ke.stage_id===pe.stage_id).length,icon:o.jsx(Qo,{className:"h-4 w-4 text-muted-foreground"})}))]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(Vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Ue,{placeholder:P("tickets.searchPlaceholder","Search tickets..."),value:d,onChange:pe=>f(pe.target.value),className:"pl-10 h-9"})]}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[o.jsxs(xt,{value:v,onValueChange:y,children:[o.jsx(gt,{className:"w-[130px] h-9",children:o.jsx(yt,{placeholder:P("tickets.allStages","All Stages")})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"all",children:P("tickets.allStages","All Stages")}),be.map(pe=>{var ke;return o.jsx(Ae,{value:((ke=pe.stage_id)==null?void 0:ke.toString())||"",children:Ee(pe,"stage_name")},pe.stage_id)})]})]}),o.jsxs(xt,{value:p,onValueChange:g,children:[o.jsx(gt,{className:"w-[130px] h-9",children:o.jsx(yt,{placeholder:P("tickets.allTypes")})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"all",children:P("tickets.allTypes","All Types")}),o.jsx(Ae,{value:"issue",children:P("tickets.typeIssue","Issue")}),o.jsx(Ae,{value:"request",children:P("tickets.typeRequest","Request")}),o.jsx(Ae,{value:"follow_up",children:P("tickets.typeFollowUp","Follow Up")}),o.jsx(Ae,{value:"internal_task",children:P("tickets.typeInternalTask","Internal Task")})]})]}),o.jsxs(xt,{value:h,onValueChange:m,children:[o.jsx(gt,{className:"w-[130px] h-9",children:o.jsx(yt,{placeholder:P("tickets.allPriorities")})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"all",children:P("tickets.allPriorities","All Priorities")}),o.jsx(Ae,{value:"low",children:P("tickets.priorityLow","Low")}),o.jsx(Ae,{value:"medium",children:P("tickets.priorityMedium","Medium")}),o.jsx(Ae,{value:"high",children:P("tickets.priorityHigh","High")}),o.jsx(Ae,{value:"urgent",children:P("tickets.priorityUrgent","Urgent")})]})]})]})]}),o.jsx("div",{className:"flex-1 overflow-auto",children:U==="kanban"?Se():je()}),o.jsx(wn,{open:b,onOpenChange:w,children:o.jsxs(an,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(sn,{children:[o.jsx(on,{children:P("tickets.createNewTicket")}),o.jsx(Ma,{children:P("tickets.createTicketDesc")})]}),o.jsxs("form",{onSubmit:Be,className:"space-y-4",children:[ee&&o.jsx(Hm,{variant:"destructive",children:o.jsx(qm,{children:ee})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(We,{htmlFor:"subject",children:[P("tickets.subject")," *"]}),o.jsx(Ue,{id:"subject",value:A.subject,onChange:pe=>H("subject",pe.target.value),placeholder:P("tickets.subjectPlaceholder"),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"description",children:P("tickets.description")}),o.jsx(ia,{id:"description",value:A.description,onChange:pe=>H("description",pe.target.value),placeholder:P("tickets.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"stage",children:P("tickets.stage","Stage")}),o.jsxs(xt,{value:A.stage_id,onValueChange:pe=>H("stage_id",pe),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:P("tickets.selectStage","Select stage")})}),o.jsx(vt,{children:be.map(pe=>{var ke;return o.jsx(Ae,{value:((ke=pe.stage_id)==null?void 0:ke.toString())||"",children:Ee(pe,"stage_name")},pe.stage_id)})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(We,{htmlFor:"priority",children:[P("tickets.priority")," *"]}),o.jsxs(xt,{value:A.priority,onValueChange:pe=>H("priority",pe),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"low",children:P("tickets.priorityLow")}),o.jsx(Ae,{value:"medium",children:P("tickets.priorityMedium")}),o.jsx(Ae,{value:"high",children:P("tickets.priorityHigh")}),o.jsx(Ae,{value:"urgent",children:P("tickets.priorityUrgent")})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(We,{htmlFor:"ticket_type",children:[P("tickets.ticketType")," *"]}),o.jsxs(xt,{value:A.ticket_type,onValueChange:pe=>H("ticket_type",pe),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"request",children:P("tickets.typeRequest")}),o.jsx(Ae,{value:"follow_up",children:P("tickets.typeFollowUp")}),o.jsx(Ae,{value:"issue",children:P("tickets.typeIssue")}),o.jsx(Ae,{value:"internal_task",children:P("tickets.typeInternalTask")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"assigned_to",children:P("tickets.assignTo")}),o.jsxs(xt,{value:A.assigned_to,onValueChange:pe=>H("assigned_to",pe),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:P("tickets.selectAssignee")})}),o.jsx(vt,{children:r.map(pe=>{var ke;return o.jsx(Ae,{value:((ke=pe.user_id)==null?void 0:ke.toString())||"",children:Ee(pe,"user_name")},pe.user_id)})})]})]})]}),o.jsxs(Ia,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[o.jsx(ue,{type:"button",variant:"outline",onClick:()=>w(!1),className:"w-full sm:w-auto",children:P("buttons.cancel")}),o.jsx(ue,{type:"submit",disabled:ge||!A.subject.trim(),className:"w-full sm:w-auto",children:P(ge?"tickets.creatingTicket":"tickets.createTicket")})]})]})]})}),o.jsx(wn,{open:k,onOpenChange:j,children:o.jsxs(an,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[o.jsxs(sn,{children:[o.jsx(on,{className:"text-lg sm:text-xl leading-tight",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[o.jsx("span",{className:"break-words",children:_==null?void 0:_.subject}),o.jsx(ct,{variant:"secondary",className:"self-start sm:self-center shrink-0",children:(_==null?void 0:_.status)||P("leads.unknown")})]})}),o.jsxs(Ma,{className:"text-sm",children:[P("tickets.ticketId"),": #",_==null?void 0:_.ticket_id]})]}),_&&o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[ee&&o.jsx(Hm,{variant:"destructive",children:o.jsx(qm,{children:ee})}),N?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(We,{htmlFor:"edit-subject",children:[P("tickets.subject")," *"]}),o.jsx(Ue,{id:"edit-subject",value:I.subject,onChange:pe=>W("subject",pe.target.value),placeholder:P("tickets.subjectPlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"edit-description",children:P("tickets.description")}),o.jsx(ia,{id:"edit-description",value:I.description,onChange:pe=>W("description",pe.target.value),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{children:P("tickets.stage","Stage")}),o.jsxs(xt,{value:I.stage_id,onValueChange:pe=>W("stage_id",pe),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:P("tickets.selectStage","Select stage")})}),o.jsx(vt,{children:be.map(pe=>{var ke;return o.jsx(Ae,{value:((ke=pe.stage_id)==null?void 0:ke.toString())||"",children:Ee(pe,"stage_name")},pe.stage_id)})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{children:P("tickets.priority")}),o.jsxs(xt,{value:I.priority,onValueChange:pe=>W("priority",pe),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"low",children:P("tickets.priorityLow")}),o.jsx(Ae,{value:"medium",children:P("tickets.priorityMedium")}),o.jsx(Ae,{value:"high",children:P("tickets.priorityHigh")}),o.jsx(Ae,{value:"urgent",children:P("tickets.priorityUrgent")})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{children:P("tickets.ticketType")}),o.jsxs(xt,{value:I.ticket_type,onValueChange:pe=>W("ticket_type",pe),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"request",children:P("tickets.typeRequest")}),o.jsx(Ae,{value:"follow_up",children:P("tickets.typeFollowUp")}),o.jsx(Ae,{value:"issue",children:P("tickets.typeIssue")}),o.jsx(Ae,{value:"internal_task",children:P("tickets.typeInternalTask")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{children:P("tickets.assignTo")}),o.jsxs(xt,{value:I.assigned_to,onValueChange:pe=>W("assigned_to",pe),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:P("tickets.selectAssignee")})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"unassigned",children:P("tickets.unassigned","Unassigned")}),r.map(pe=>{var ke;return o.jsx(Ae,{value:((ke=pe.user_id)==null?void 0:ke.toString())||"",children:Ee(pe,"user_name")},pe.user_id)})]})]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:P("tickets.priority")}),o.jsx("div",{className:"mt-1",children:o.jsx(ct,{variant:rT(_.priority),className:"text-xs",children:_.priority||P("leads.unknown")})})]}),o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:P("tickets.ticketType")}),o.jsx("div",{className:"mt-1",children:o.jsx(ct,{variant:"outline",className:"text-xs",children:_.ticket_type||P("leads.unknown")})})]})]}),o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:P("tickets.stage","Stage")}),o.jsx("div",{className:"mt-1 text-sm",children:be.find(pe=>pe.stage_id===_.stage_id)?Ee(be.find(pe=>pe.stage_id===_.stage_id),"stage_name"):P("tickets.noStage","No stage")})]}),o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:P("tickets.assignedTo")}),o.jsx("div",{className:"mt-1 text-sm break-words",children:Me(_.assigned_to)?Ee(Me(_.assigned_to),"user_name"):P("tickets.unassigned","Unassigned")})]}),o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:P("tickets.createdDate")}),o.jsx("div",{className:"mt-1 text-sm",children:_.created_date?new Date(_.created_date).toLocaleString():"N/A"})]})]}),_.description&&o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:P("tickets.description")}),o.jsx("div",{className:"mt-2 p-3 bg-muted rounded-md text-sm whitespace-pre-wrap break-words",children:_.description})]})]}),o.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:P("tickets.createdBy")}),o.jsx("div",{className:"mt-1 text-sm break-words",children:Me(_.created_by)?Ee(Me(_.created_by),"user_name"):P("leads.unknown")})]}),_.resolved_date&&o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:P("tickets.resolvedDate")}),o.jsx("div",{className:"mt-1 text-sm",children:new Date(_.resolved_date).toLocaleString()})]}),_.closed_at&&o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:P("tickets.closedDate")}),o.jsx("div",{className:"mt-1 text-sm",children:new Date(_.closed_at).toLocaleString()})]})]})]}),o.jsx(Ia,{className:"flex flex-col-reverse sm:flex-row gap-2 pt-4",children:N?o.jsxs(o.Fragment,{children:[o.jsx(ue,{variant:"outline",onClick:()=>C(!1),className:"w-full sm:w-auto",children:P("buttons.cancel")}),o.jsxs(ue,{onClick:ht,disabled:ge||!I.subject.trim(),className:"w-full sm:w-auto",children:[o.jsx(Do,{className:"h-4 w-4 mr-2"}),ge?P("buttons.saving","Saving..."):P("buttons.save","Save")]})]}):o.jsxs(o.Fragment,{children:[o.jsx(ue,{variant:"outline",onClick:()=>j(!1),className:"w-full sm:w-auto",children:P("buttons.close","Close")}),o.jsxs(ue,{onClick:()=>C(!0),className:"w-full sm:w-auto",children:[o.jsx(zi,{className:"h-4 w-4 mr-2"}),P("buttons.edit","Edit")]})]})})]})})]}):null}var ZP="Progress",e4=100,[Q8e,kXe]=ps(ZP),[Z8e,e6e]=Q8e(ZP),aY=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=t6e,...i}=e;(a||a===0)&&!O$(a)&&console.error(r6e(`${a}`,"Progress"));const l=O$(a)?a:e4;n!==null&&!P$(n,l)&&console.error(n6e(`${n}`,"Progress"));const c=P$(n,l)?n:null,u=Kw(c)?s(c,l):void 0;return o.jsx(Z8e,{scope:r,value:c,max:l,children:o.jsx(st.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Kw(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":oY(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});aY.displayName=ZP;var sY="ProgressIndicator",iY=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=e6e(sY,r);return o.jsx(st.div,{"data-state":oY(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});iY.displayName=sY;function t6e(e,t){return`${Math.round(e/t*100)}%`}function oY(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Kw(e){return typeof e=="number"}function O$(e){return Kw(e)&&!isNaN(e)&&e>0}function P$(e,t){return Kw(e)&&!isNaN(e)&&e<=t&&e>=0}function r6e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${e4}\`.`}function n6e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${e4} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var lY=aY,a6e=iY;const Af=x.forwardRef(({className:e,value:t,...r},n)=>o.jsx(lY,{ref:n,className:xe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(a6e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Af.displayName=lY.displayName;function s6e({projectId:e,onClose:t}){const{id:r}=aae(),n=zs(),{user:a}=hr(),[s,i]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!0),[f,h]=x.useState(null),[m,p]=x.useState(null),[g,v]=x.useState(null),[y,b]=x.useState(null),[w,_]=x.useState([]),[S,k]=x.useState([]),j=e||(r?parseInt(r):null),N=!!e;x.useEffect(()=>{(async()=>{!j||!a||h(!0)})()},[j,a]),x.useEffect(()=>{j&&f&&C()},[j,f]);const C=async()=>{if(j)try{d(!0);const L=await Gc.getById(j);if(p(L),L){if(L.created_by)try{const I=await jn.getByAuthId(L.created_by.toString());v(I)}catch(I){console.error("Failed to fetch client:",I)}if(L.created_by)try{const I=await jn.getByAuthId(L.created_by.toString());b(I)}catch(I){console.error("Failed to fetch manager:",I)}try{const W=(await v8e.getProjectUsers(j)).map(M=>M.userid),F=await Promise.all(W.map(M=>M?jn.getByAuthId(M.toString()).catch(()=>null):null));_(F.filter(M=>M!==null))}catch(I){console.error("Failed to fetch project users:",I)}try{const F=(await os.getAll()).filter(Q=>Q.project_id===j).map(Q=>Q.stage_id),G=(await Promise.all(F.map(Q=>zd.getByStage(Q)))).flat();k(G)}catch(I){console.error("Failed to fetch tasks:",I)}}}catch(L){console.error("Failed to load project data:",L)}finally{d(!1)}};x.useEffect(()=>{j&&m&&S.length>0&&T()},[j,m,S]);const T=async()=>{if(!(!j||!m||S.length===0))try{const L=[];for(const I of S){const W=await tT.getByTask(I.task_id);L.push(...W)}i(L)}catch(L){console.error("Failed to load comments:",L)}},D=async L=>{if(!(!l.trim()||!a))try{const I=await tT.create({task_id:L,userid:a.id.toString(),message:l.trim()});i(W=>[...W,I]),c("")}catch(I){console.error("Failed to add comment:",I)}},A=()=>{t?t():n("/projects")},H=({children:L})=>N?o.jsx("div",{className:"h-full overflow-y-auto p-1",children:L}):o.jsx(NC,{children:L});if(f===!1)return o.jsx(H,{children:o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have permission to view this project."}),o.jsx(ue,{onClick:A,children:"Back to Projects"})]})})});if(f===null||!m||!g||!y)return u?o.jsx(H,{children:o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):o.jsx(H,{children:o.jsx("div",{children:"Project not found"})});const X={todo:"bg-slate-200 text-slate-700",in_progress:"bg-blue-200 text-blue-700",done:"bg-green-200 text-green-700"};return o.jsx(H,{children:o.jsxs("div",{className:"space-y-6 pb-10",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(ue,{variant:"ghost",size:"icon",onClick:A,children:o.jsx(KU,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:Ee(m,"project_name")}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:Ee(g,"company_name")})]})]}),o.jsx(ue,{variant:"outline",className:"self-start sm:self-auto",children:"Settings"})]}),o.jsx(et,{children:o.jsxs(ot,{className:"pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),o.jsxs("span",{className:"text-sm font-bold",children:[m.progress||0,"%"]})]}),o.jsx(Af,{value:m.progress||0,className:"h-3"})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[o.jsx("div",{className:"lg:col-span-2 space-y-4 lg:space-y-6",children:o.jsxs(Nl,{defaultValue:"tasks",children:[o.jsxs(Bo,{className:"w-full sm:w-auto",children:[o.jsx(Hr,{value:"tasks",className:"flex-1 sm:flex-none",children:"Tasks"}),o.jsx(Hr,{value:"images",className:"flex-1 sm:flex-none",children:"Images"}),o.jsx(Hr,{value:"comments",className:"flex-1 sm:flex-none",children:"Comments"})]}),o.jsxs(_n,{value:"tasks",className:"space-y-3",children:[S.map(L=>{var W;const I=w.find(F=>F.user_id===L.assigned_to);return o.jsx(et,{children:o.jsx(ot,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold",children:Ee(L,"task_name")}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Ee(L,"description")}),o.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[o.jsx(ct,{className:xe("text-xs",X[L.task_status]),children:((W=L.task_status)==null?void 0:W.replace("_"," "))||"todo"}),L.due_date&&o.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(Po,{className:"h-3 w-3"}),"Due: ",new Date(L.due_date).toLocaleDateString()]})]})]}),I&&o.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[o.jsx("div",{className:"text-2xl mb-1",children:""}),Ee(I,"user_name")]})]})})},L.task_id)}),o.jsx(ue,{variant:"outline",className:"w-full",children:"+ Add New Task"})]}),o.jsx(_n,{value:"images",children:o.jsx(et,{children:o.jsxs(ot,{className:"pt-6",children:[o.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(L=>o.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:""})},L))}),o.jsxs(ue,{variant:"outline",className:"w-full mt-4",children:[o.jsx(dv,{className:"h-4 w-4 mr-2"}),"Upload Images"]})]})})}),o.jsxs(_n,{value:"comments",className:"space-y-3",children:[s.map(L=>{const I=[...w,g,y].find(W=>{var F,M,G,Q;return W&&(((F=W.userid)==null?void 0:F.toString())===((M=L.userid)==null?void 0:M.toString())||((G=W.user_id)==null?void 0:G.toString())===((Q=L.userid)==null?void 0:Q.toString()))});return o.jsx(et,{children:o.jsx(ot,{className:"pt-6",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"text-2xl",children:(I==null?void 0:I.avatar)||""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-sm",children:I?Ee(I,"user_name"):"Unknown"}),o.jsx("p",{className:"text-sm mt-1",children:L.message}),o.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:new Date(L.created_date||"").toLocaleString()})]})]})})},L.comment_id)}),S.length>0&&o.jsx(et,{children:o.jsx(ot,{className:"pt-6",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ue,{placeholder:"Add a comment...",value:l,onChange:L=>c(L.target.value),onKeyDown:L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),D(S[0].task_id))}}),o.jsx(ue,{size:"icon",onClick:()=>D(S[0].task_id),children:o.jsx(_x,{className:"h-4 w-4"})})]})})})]})]})}),o.jsxs("div",{className:"space-y-4 lg:order-last",children:[o.jsxs(et,{children:[o.jsx(Bt,{children:o.jsx(lr,{className:"text-base sm:text-lg",children:"Project Summary"})}),o.jsxs(ot,{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-1",children:"Client"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:g.avatar}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold",children:Ee(g,"user_name")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:Ee(g,"company_name")})]})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-1",children:"Project Manager"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:y.avatar}),o.jsx("div",{className:"text-sm",children:Ee(y,"user_name")})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:"Team"}),o.jsx("div",{className:"space-y-2",children:w.map(L=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:L.avatar||""}),o.jsx("div",{className:"text-sm",children:Ee(L,"user_name")})]},L.user_id))})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-1",children:"Timeline"}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Start: ",m.created_date?new Date(m.created_date).toLocaleDateString():"Not set",m.end_date&&o.jsxs("div",{children:["End: ",new Date(m.end_date).toLocaleDateString()]})]})]})]})]}),o.jsxs(et,{children:[o.jsx(Bt,{children:o.jsx(lr,{className:"text-base sm:text-lg",children:"Recent Activity"})}),o.jsx(ot,{children:o.jsxs("div",{className:"space-y-3 text-xs",children:[o.jsxs("div",{className:"pb-2 border-b",children:[o.jsx("div",{className:"font-medium",children:"Task completed"}),o.jsx("div",{className:"text-muted-foreground",children:"2 hours ago"})]}),o.jsxs("div",{className:"pb-2 border-b",children:[o.jsx("div",{className:"font-medium",children:"New comment added"}),o.jsx("div",{className:"text-muted-foreground",children:"5 hours ago"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Images uploaded"}),o.jsx("div",{className:"text-muted-foreground",children:"1 day ago"})]})]})})]})]})]})]})})}function i6e({project:e,client:t,manager:r,stages:n,onDelete:a,onClick:s,onDragStart:i,onStageChange:l,isDragging:c=!1}){const{t:u}=$t(),d=un(),f=e.progress||0,h=g=>g?new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):u("leads.notSet","Not set"),m=g=>{if(!g)return null;const v=new Date,b=(new Date(g).getTime()-v.getTime())/(1e3*60*60);return b<0?"overdue":b<24?"urgent":b<72?"soon":null},p=g=>{switch(m(g)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return o.jsxs(et,{className:xe("group relative hover:shadow-lg transition-all duration-200",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px] border-l-4 rtl:border-l-0 rtl:border-r-4",!d&&(f===100?"border-l-green-500 rtl:border-r-green-500":"border-l-blue-500 rtl:border-r-blue-500"),p(e.end_date),c&&"opacity-50 rotate-2 scale-105"),draggable:!!i,onDragStart:g=>{i&&(g.dataTransfer.effectAllowed="move",g.dataTransfer.setData("text/plain",e.project_id.toString()),i(e.project_id))},children:[o.jsx(Bt,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:s,children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Ee(e,"project_name")}),Ee(e,"project_description")&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Ee(e,"project_description")})]}),a&&o.jsxs(hi,{children:[o.jsx(Qx,{asChild:!0,onClick:g=>g.stopPropagation(),children:o.jsx(ue,{variant:"ghost",size:"sm",className:xe("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(or,{className:"h-4 w-4"})})}),o.jsxs(Is,{onClick:g=>g.stopPropagation(),children:[o.jsxs(Ms,{children:[o.jsx(Ls,{children:u("projects.deleteProject")}),o.jsx($s,{children:u("projects.deleteConfirmation",{name:Ee(e,"project_name")})})]}),o.jsxs(Fs,{children:[o.jsx(Us,{children:u("buttons.cancel")}),o.jsx(Bs,{onClick:g=>{g.stopPropagation(),a(e.project_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),o.jsxs(ot,{className:"px-4 pb-4 space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:u("projects.progress")}),o.jsxs("span",{className:"font-medium",children:[f,"%"]})]}),o.jsx(Af,{value:f,className:"h-2"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t&&o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(yn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Client"}),o.jsx("p",{className:"text-xs font-medium truncate",children:t.user_name})]})]}),o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(Rn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Manager"}),o.jsx("p",{className:"text-xs font-medium truncate",children:r?r.user_name:u("common.all","Unassigned")})]})]})]}),d&&l&&o.jsx("div",{className:"pt-1",children:o.jsxs(xt,{value:e.stage.toString(),onValueChange:g=>l(e.project_id,parseInt(g)),children:[o.jsx(gt,{className:"h-7 text-xs",children:o.jsx(yt,{placeholder:u("projects.selectStage","Select stage")})}),o.jsx(vt,{children:n.filter(g=>["New","In Progress","Overdue","Completed"].includes(g.stage_name)).map(g=>o.jsx(Ae,{value:g.stage_id.toString(),children:Ee(g,"stage_name")},g.stage_id))})]})}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[o.jsx(Po,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:h(e.created_date)})]}),f===100?o.jsx(ct,{variant:"default",className:"bg-green-500 text-xs",children:"Completed"}):f>0?o.jsx(ct,{variant:"default",className:"text-xs",children:"In Progress"}):o.jsx(ct,{variant:"secondary",className:"text-xs",children:"Not Started"})]})]})]})}function o6e(){var be,Le;zs();const{hasRole:e,user:t}=hr();La();const{t:r}=$t(),n=un(),[a,s]=x.useState([]),[i,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState(!0),[p,g]=x.useState(null);x.useState(!1),x.useState("");const[v,y]=x.useState(null),[b,w]=x.useState(""),[_,S]=x.useState(null),[k,j]=x.useState(null),[N,C]=x.useState(!1),[T,D]=x.useState(null),[A,H]=x.useState({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),[X,L]=x.useState(!1),[I,W]=x.useState({project_name:"",project_description:"",client_id:""}),[F,M]=x.useState("kanban"),[G,Q]=x.useState(null),[E,B]=x.useState(""),[U,q]=x.useState("all"),[ee,oe]=x.useState("all"),[ge,se]=x.useState({from:void 0,to:void 0}),Z=x.useMemo(()=>a.filter(Se=>{const je=(Se.project_name||"").toLowerCase().includes(E.toLowerCase())||(Se.project_description||"").toLowerCase().includes(E.toLowerCase());let pe=!0;U==="todo"?pe=(Se.progress||0)===0:U==="in_progress"?pe=(Se.progress||0)>0&&(Se.progress||0)<100:U==="done"&&(pe=(Se.progress||0)===100);const ke=ee==="all"||Se.created_by&&Se.created_by.toString()===ee;let Ne=!0;if(ge.from&&Se.end_date){const Xe=new Date(Se.end_date),He=new Date(ge.from);He.setHours(0,0,0,0);const at=new Date(Xe);if(at.setHours(0,0,0,0),Ne=at>=He,Ne&&ge.to){const Dt=new Date(ge.to);Dt.setHours(23,59,59,999),Ne=at<=Dt}}else ge.from&&!Se.end_date&&(Ne=!1);return je&&pe&&ke&&Ne}),[a,E,U,ee,ge]);x.useEffect(()=>{he()},[]),x.useEffect(()=>{if(d.length>0&&T===null){const Se=d.find(je=>je.stage_id===5);Se&&D(Se.stage_id)}},[d,T]);const he=async()=>{try{m(!0),g(null);const[Se,je,pe,ke]=await Promise.all([Gc.getAll(),pG.getAll(),jn.getAll(),os.getByType("projects")]);console.log("[Projects] Loaded data:",{projects:Se.length,clients:je.length,users:pe.length,stages:ke.length}),console.log("[Projects] Projects data:",Se),console.log("[Projects] Stages data:",ke),s(Se),l(je),u(pe),f(ke)}catch(Se){console.error("Failed to load data:",Se),g(r("projects.loadError","Failed to load projects. Please try again."))}finally{m(!1)}},P=async Se=>{if(b.trim())try{await os.update(Se,{stage_name:b.trim()}),f(d.map(je=>je.stage_id===Se?{...je,stage_name:b.trim()}:je)),y(null),w("")}catch(je){console.error("Failed to update stage:",je)}},De=async Se=>{if(a.filter(pe=>pe.stage===Se).length>0){S(Se);return}try{await os.delete(Se),f(d.filter(pe=>pe.stage_id!==Se))}catch(pe){console.error("Failed to delete stage:",pe)}},Re=Se=>{j(Se)},Me=Se=>{Se.preventDefault(),Se.dataTransfer.dropEffect="move"},Be=async Se=>{if(!k)return;const je=a.find(pe=>pe.project_id===k);if(je&&je.stage!==Se)try{await Gc.update(k,{stage:Se}),s(a.map(pe=>pe.project_id===k?{...pe,stage:Se}:pe))}catch(pe){console.error("Failed to update project stage:",pe)}j(null)},Oe=async(Se,je)=>{const pe=a.find(ke=>ke.project_id===Se);if(pe&&pe.stage!==je)try{await Gc.update(Se,{stage:je}),s(a.map(ke=>ke.project_id===Se?{...ke,stage:je}:ke))}catch(ke){console.error("Failed to update project stage:",ke)}},ht=async Se=>{try{await Gc.delete(Se),s(a.filter(je=>je.project_id!==Se))}catch(je){console.error("Failed to delete project:",je)}},it=Se=>{H(je=>({...je,stage:Se.toString()})),C(!0)},ce=async()=>{var Se;if(A.project_name.trim())try{const je=yl({project_name:A.project_name.trim(),project_description:A.project_description.trim()||null,created_by:((Se=t==null?void 0:t.profile)==null?void 0:Se.user_id)||1,progress:A.progress,stage:parseInt(A.stage),end_date:null,userid:(t==null?void 0:t.id)||null},{project_name:"project_name",project_description:"project_description"}),pe=await Gc.create(je);s([...a,pe]),H({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),C(!1)}catch(je){console.error("Failed to create project:",je)}},me=async()=>{var Se;if(I.project_name.trim())try{const je=yl({project_name:I.project_name.trim(),project_description:I.project_description.trim()||null,created_by:((Se=t==null?void 0:t.profile)==null?void 0:Se.user_id)||1,progress:0,stage:1,end_date:null,userid:(t==null?void 0:t.id)||null},{project_name:"project_name",project_description:"project_description"}),pe=await Gc.create(je);s([...a,pe]),W({project_name:"",project_description:"",client_id:""}),L(!1)}catch(je){console.error("Failed to create lead:",je)}},z=d.filter(Se=>Se.stage_type==="projects").sort((Se,je)=>{const pe=Se.stager_order_index??0,ke=je.stager_order_index??0;return rr()?ke-pe:pe-ke}),fe=z.map(Se=>({id:Se.stage_id,name:Ee(Se,"stage_name"),color:Se.color,count:Z.filter(je=>je.stage===Se.stage_id).length}));if(h)return o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx(ua,{message:r("common.loading"),size:"2xl"})});const _e=()=>{var Se;return p?o.jsx(c0,{title:r("projects.errorTitle","Error loading projects"),message:p,onRetry:he}):a.length===0&&!E&&U==="all"&&ee==="all"?o.jsx(vl,{title:r("projects.emptyTitle","No projects found"),description:r("projects.emptyDescription","Get started by creating your first project."),icon:o.jsx(nf,{className:"h-10 w-10 text-muted-foreground"}),action:o.jsxs(ue,{onClick:()=>L(!0),children:[o.jsx(Gt,{className:"mr-2 h-4 w-4"})," ",r("projects.createProject")]})}):o.jsxs(o.Fragment,{children:[o.jsx(WP,{onSearch:B,onFilterStatus:q,onFilterAssignee:oe,onFilterDateRange:se,users:c,statuses:[{value:"todo",label:r("mprojects.notStarted")},{value:"in_progress",label:r("mprojects.inProgress")},{value:"done",label:r("mprojects.completed")}]}),F==="kanban"?o.jsx(o.Fragment,{children:o.jsx(Zx,{stages:fe,currentStageId:T||((Se=fe[0])==null?void 0:Se.id),onStageChange:D,children:o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:z.sort((je,pe)=>je.stage_id-pe.stage_id).filter(je=>{var ke;return window.innerWidth<1024?je.stage_id===(T||((ke=fe[0])==null?void 0:ke.id)):!0}).map((je,pe)=>{var Ne,Xe;const ke=Z.filter(He=>He.stage===je.stage_id);return console.log(`[Projects] Stage ${je.stage_name} (${je.stage_id}): ${ke.length} projects`),console.log("[Projects] Stage projects:",ke),o.jsxs("div",{className:xe("flex-shrink-0 animate-fade-in h-[calc(100vh-300px)]",n?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${pe*.1}s`},onDragOver:Me,onDrop:()=>Be(je.stage_id),children:[!n&&o.jsx("div",{className:xe("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft",je.color||"border-l-4 border-primary/50"),children:o.jsx("div",{className:"flex items-center justify-between mb-2",children:v===je.stage_id?o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx(Ue,{value:b,onChange:He=>w(He.target.value),onKeyDown:He=>{He.key==="Enter"&&P(je.stage_id),He.key==="Escape"&&(y(null),w(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),o.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>P(je.stage_id),className:"h-8 w-8 p-0",children:""})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qo,{className:"h-4 w-4 text-muted-foreground cursor-move"}),o.jsx("h2",{className:"font-bold text-base",children:Ee(je,"stage_name")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:ke.length}),o.jsxs(o.Fragment,{children:[o.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>{y(je.stage_id),w(Ee(je,"stage_name"))},className:"h-6 w-6 p-0",title:r("buttons.edit"),children:o.jsx(zi,{className:"h-3 w-3"})}),o.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>De(je.stage_id),className:"h-6 w-6 p-0 text-destructive",title:r("buttons.delete"),children:o.jsx(or,{className:"h-3 w-3"})})]})]})]})})}),o.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto scrollbar-hide",children:[((Ne=d.sort((He,at)=>(He.stager_order_index||0)-(at.stager_order_index||0))[0])==null?void 0:Ne.stage_id)===je.stage_id&&o.jsx("div",{className:"mb-4",children:o.jsx(et,{className:xe("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",n?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>it(je.stage_id),children:o.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[o.jsx(Gt,{className:"h-8 w-8"}),o.jsx("span",{className:"text-sm font-medium",children:r("projects.addNewProjectCard")})]})})}),ke.map(He=>{const at=c.find(Dt=>Dt.userid===Number(He.created_by)||Dt.user_id===Number(He.created_by));return o.jsx(i6e,{project:He,client:i.find(Dt=>{var qt,yr;return((qt=Dt.user_id)==null?void 0:qt.toString())===((yr=He.client_id)==null?void 0:yr.toString())})||null,manager:at||null,stages:d,onDelete:ht,onClick:()=>Q(He.project_id),onDragStart:Re,onStageChange:Oe,isDragging:k===He.project_id},He.project_id)}),((Xe=d.sort((He,at)=>(He.stager_order_index||0)-(at.stager_order_index||0))[0])==null?void 0:Xe.stage_id)!==je.stage_id&&o.jsx("div",{className:"mt-2",children:o.jsxs(ue,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>it(je.stage_id),children:[o.jsx(Gt,{className:"h-4 w-4 mr-2"}),r("projects.addProject")]})})]})]},je.stage_id)})})})}):o.jsx("div",{className:"bg-card rounded-lg border shadow-sm",children:o.jsxs(KP,{children:[o.jsx(GP,{children:o.jsxs(ex,{children:[o.jsx(go,{children:r("projects.projectName")}),o.jsx(go,{children:r("projects.client")}),o.jsx(go,{children:r("projects.manager")}),o.jsx(go,{children:r("projects.stage")}),o.jsx(go,{children:r("projects.progress")}),o.jsx(go,{children:r("projects.dueDate")}),o.jsx(go,{className:"w-[50px]"})]})}),o.jsx(YP,{children:Z.map(je=>{const pe=c.find(Xe=>Xe.userid===Number(je.created_by)||Xe.user_id===Number(je.created_by)),ke=i.find(Xe=>{var He,at;return((He=Xe.user_id)==null?void 0:He.toString())===((at=je.client_id)==null?void 0:at.toString())}),Ne=d.find(Xe=>Xe.stage_id===je.stage);return o.jsxs(ex,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>Q(je.project_id),children:[o.jsx(vo,{className:"font-medium",children:Ee(je,"project_name")}),o.jsx(vo,{children:ke?Ee(ke,"user_name"):"-"}),o.jsx(vo,{children:pe?Ee(pe,"user_name"):"-"}),o.jsx(vo,{children:o.jsx(ct,{variant:"outline",className:"bg-background",children:Ne?Ee(Ne,"stage_name"):"-"})}),o.jsx(vo,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Af,{value:je.progress||0,className:"w-16 h-2"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[je.progress,"%"]})]})}),o.jsx(vo,{className:"text-muted-foreground text-sm",children:je.end_date?new Date(je.end_date).toLocaleDateString():"-"}),o.jsx(vo,{children:o.jsx(ue,{variant:"ghost",size:"icon",onClick:Xe=>{Xe.stopPropagation(),ht(je.project_id)},className:"h-8 w-8 text-muted-foreground hover:text-destructive",children:o.jsx(or,{className:"h-4 w-4"})})})]},je.project_id)})})]})})]})};return o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:rr()?"rtl":"ltr",children:[o.jsx(ey,{title:r("projects.title"),description:r("projects.subtitle"),icon:o.jsx(nf,{className:"h-5 w-5 text-primary"}),actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(ue,{variant:F==="kanban"?"default":"ghost",size:"sm",onClick:()=>M("kanban"),className:"h-8 w-8 p-0",children:o.jsx($_,{className:"h-4 w-4"})}),o.jsx(ue,{variant:F==="list"?"default":"ghost",size:"sm",onClick:()=>M("list"),className:"h-8 w-8 p-0",children:o.jsx(Bm,{className:"h-4 w-4"})})]}),o.jsxs(ue,{onClick:()=>L(!0),children:[o.jsx(Gt,{className:"mr-2 h-4 w-4"})," ",r("projects.newProject")]})]}),stats:[{label:r("projects.total","Total Projects"),value:a.length,icon:o.jsx(nf,{className:"h-4 w-4 text-primary"})},{label:r("projects.inProgress","In Progress"),value:a.filter(Se=>(Se.progress||0)>0&&(Se.progress||0)<100).length,icon:o.jsx(Po,{className:"h-4 w-4 text-blue-500"})},{label:r("projects.completed","Completed"),value:a.filter(Se=>(Se.progress||0)===100).length,icon:o.jsx(yn,{className:"h-4 w-4 text-green-600"})},{label:r("projects.avgProgress","Avg Progress"),value:a.length>0?`${Math.round(a.reduce((Se,je)=>Se+(je.progress||0),0)/a.length)}%`:"0%",icon:o.jsx(Af,{className:"h-4 w-4 text-blue-500"})}]}),_e(),o.jsx(wn,{open:N,onOpenChange:C,children:o.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(sn,{children:[o.jsx(on,{children:r("projects.createProject")}),o.jsx(Ma,{children:r("projects.createProjectDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[r("projects.projectName")," *"]}),o.jsx(Ue,{value:A.project_name,onChange:Se=>H(je=>({...je,project_name:Se.target.value})),placeholder:r("projects.projectNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.description")}),o.jsx(ia,{value:A.project_description,onChange:Se=>H(je=>({...je,project_description:Se.target.value})),placeholder:r("projects.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.client")}),o.jsxs(xt,{value:A.client_id,onValueChange:Se=>H(je=>({...je,client_id:Se})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:r("projects.selectClient")})}),o.jsx(vt,{children:i.map(Se=>{var je;return o.jsx(Ae,{value:((je=Se.user_id)==null?void 0:je.toString())||"",children:Ee(Se,"user_name")},Se.user_id)})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.initialProgress")}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"range",min:"0",max:"100",value:A.progress,onChange:Se=>H(je=>({...je,progress:parseInt(Se.target.value)})),className:"w-full h-1.5"}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"0%"}),o.jsxs("span",{children:[A.progress,"%"]}),o.jsx("span",{children:"100%"})]})]})]})]}),o.jsxs(Ia,{children:[o.jsx(ue,{variant:"outline",onClick:()=>C(!1),children:r("buttons.cancel")}),o.jsxs(ue,{onClick:ce,disabled:!((be=A.project_name)!=null&&be.trim()),children:[o.jsx(Do,{className:"h-4 w-4 mr-2"}),r("projects.createProject")]})]})]})}),o.jsx(wn,{open:X,onOpenChange:L,children:o.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(sn,{children:[o.jsx(on,{children:r("projects.createProject")}),o.jsx(Ma,{children:r("projects.createProjectDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[r("projects.projectName")," *"]}),o.jsx(Ue,{value:I.project_name,onChange:Se=>W(je=>({...je,project_name:Se.target.value})),placeholder:r("projects.projectNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.description")}),o.jsx(ia,{value:I.project_description,onChange:Se=>W(je=>({...je,project_description:Se.target.value})),placeholder:r("projects.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.client")}),o.jsxs(xt,{value:I.client_id,onValueChange:Se=>W(je=>({...je,client_id:Se})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:r("projects.selectClient")})}),o.jsx(vt,{children:i.map(Se=>{var je;return o.jsx(Ae,{value:((je=Se.user_id)==null?void 0:je.toString())||"",children:Ee(Se,"user_name")},Se.user_id)})})]})]})]}),o.jsxs(Ia,{children:[o.jsx(ue,{variant:"outline",onClick:()=>L(!1),children:r("buttons.cancel")}),o.jsxs(ue,{onClick:me,disabled:!((Le=I.project_name)!=null&&Le.trim()),children:[o.jsx(Do,{className:"h-4 w-4 mr-2"}),r("projects.createProject")]})]})]})}),o.jsx(_l,{open:!!G,onOpenChange:Se=>!Se&&Q(null),children:o.jsxs(Lo,{side:rr()?"left":"right",className:"w-full sm:max-w-2xl p-0 overflow-hidden sm:w-[800px]",children:[o.jsxs(bc,{className:"sr-only",children:[o.jsx(Sl,{children:"Project Details"}),o.jsx(Mx,{children:"View and manage project information"})]}),G&&o.jsx(s6e,{projectId:G,onClose:()=>Q(null)})]})})]})}function l6e(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var t4="ScrollArea",[cY,NXe]=ps(t4),[c6e,Ki]=cY(t4),uY=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...i}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,p]=x.useState(null),[g,v]=x.useState(null),[y,b]=x.useState(0),[w,_]=x.useState(0),[S,k]=x.useState(!1),[j,N]=x.useState(!1),C=Lt(t,D=>c(D)),T=jx(a);return o.jsx(c6e,{scope:r,type:n,dir:T,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:p,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:j,onScrollbarYEnabledChange:N,onCornerWidthChange:b,onCornerHeightChange:_,children:o.jsx(st.div,{dir:T,...i,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});uY.displayName=t4;var dY="ScrollAreaViewport",fY=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,i=Ki(dY,r),l=x.useRef(null),c=Lt(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(st.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});fY.displayName=dY;var Rl="ScrollAreaScrollbar",r4=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ki(Rl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return x.useEffect(()=>(l?s(!0):i(!0),()=>{l?s(!1):i(!1)}),[l,s,i]),a.type==="hover"?o.jsx(u6e,{...n,ref:t,forceMount:r}):a.type==="scroll"?o.jsx(d6e,{...n,ref:t,forceMount:r}):a.type==="auto"?o.jsx(hY,{...n,ref:t,forceMount:r}):a.type==="always"?o.jsx(n4,{...n,ref:t}):null});r4.displayName=Rl;var u6e=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ki(Rl,e.__scopeScrollArea),[s,i]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx($a,{present:r||s,children:o.jsx(hY,{"data-state":s?"visible":"hidden",...n,ref:t})})}),d6e=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ki(Rl,e.__scopeScrollArea),s=e.orientation==="horizontal",i=sj(()=>c("SCROLL_END"),100),[l,c]=l6e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),i()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,i]),o.jsx($a,{present:r||l!=="hidden",children:o.jsx(n4,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Qe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Qe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),hY=x.forwardRef((e,t)=>{const r=Ki(Rl,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,i]=x.useState(!1),l=e.orientation==="horizontal",c=sj(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return wp(r.viewport,c),wp(r.content,c),o.jsx($a,{present:n||s,children:o.jsx(n4,{"data-state":s?"visible":"hidden",...a,ref:t})})}),n4=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Ki(Rl,e.__scopeScrollArea),s=x.useRef(null),i=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=xY(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,m){return v6e(h,i.current,l,m)}return r==="horizontal"?o.jsx(f6e,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,m=D$(h,l,a.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?o.jsx(h6e,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,m=D$(h,l);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),f6e=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Ki(Rl,e.__scopeScrollArea),[i,l]=x.useState(),c=x.useRef(null),u=Lt(t,c,s.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(pY,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":aj(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),bY(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&i&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Yw(i.paddingLeft),paddingEnd:Yw(i.paddingRight)}})}})}),h6e=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Ki(Rl,e.__scopeScrollArea),[i,l]=x.useState(),c=x.useRef(null),u=Lt(t,c,s.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(pY,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":aj(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),bY(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&i&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Yw(i.paddingTop),paddingEnd:Yw(i.paddingBottom)}})}})}),[m6e,mY]=cY(Rl),pY=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Ki(Rl,r),[p,g]=x.useState(null),v=Lt(t,C=>g(C)),y=x.useRef(null),b=x.useRef(""),w=m.viewport,_=n.content-n.viewport,S=Kn(d),k=Kn(c),j=sj(f,10);function N(C){if(y.current){const T=C.clientX-y.current.left,D=C.clientY-y.current.top;u({x:T,y:D})}}return x.useEffect(()=>{const C=T=>{const D=T.target;(p==null?void 0:p.contains(D))&&S(T,_)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,p,_,S]),x.useEffect(k,[n,k]),wp(p,j),wp(m.content,j),o.jsx(m6e,{scope:r,scrollbar:p,hasThumb:a,onThumbChange:Kn(s),onThumbPointerUp:Kn(i),onThumbPositionChange:k,onThumbPointerDown:Kn(l),children:o.jsx(st.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:Qe(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=p.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),N(C))}),onPointerMove:Qe(e.onPointerMove,N),onPointerUp:Qe(e.onPointerUp,C=>{const T=C.target;T.hasPointerCapture(C.pointerId)&&T.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),Gw="ScrollAreaThumb",gY=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=mY(Gw,e.__scopeScrollArea);return o.jsx($a,{present:r||a.hasThumb,children:o.jsx(p6e,{ref:t,...n})})}),p6e=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=Ki(Gw,r),i=mY(Gw,r),{onThumbPositionChange:l}=i,c=Lt(t,f=>i.onThumbChange(f)),u=x.useRef(void 0),d=sj(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=x6e(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),o.jsx(st.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Qe(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),p=f.clientX-m.left,g=f.clientY-m.top;i.onThumbPointerDown({x:p,y:g})}),onPointerUp:Qe(e.onPointerUp,i.onThumbPointerUp)})});gY.displayName=Gw;var a4="ScrollAreaCorner",vY=x.forwardRef((e,t)=>{const r=Ki(a4,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(g6e,{...e,ref:t}):null});vY.displayName=a4;var g6e=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Ki(a4,r),[s,i]=x.useState(0),[l,c]=x.useState(0),u=!!(s&&l);return wp(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),wp(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),i(d)}),u?o.jsx(st.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Yw(e){return e?parseInt(e,10):0}function xY(e,t){const r=e/t;return isNaN(r)?0:r}function aj(e){const t=xY(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function v6e(e,t,r,n="ltr"){const a=aj(r),s=a/2,i=t||s,l=a-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return yY([c,u],f)(e)}function D$(e,t,r="ltr"){const n=aj(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,i=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,i]:[i*-1,0],u=Z2(e,c);return yY([0,i],[0,l])(u)}function yY(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function bY(e,t){return e>0&&e<t}var x6e=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},i=r.left!==s.left,l=r.top!==s.top;(i||l)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function sj(e,t){const r=Kn(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function wp(e,t){const r=Kn(t);kn(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var wY=uY,y6e=fY,b6e=vY;const rs=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(wY,{ref:n,className:xe("relative overflow-hidden",e),...r,children:[o.jsx(y6e,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(_Y,{}),o.jsx(b6e,{})]}));rs.displayName=wY.displayName;const _Y=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(r4,{ref:n,orientation:t,className:xe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(gY,{className:"relative flex-1 rounded-full bg-border"})}));_Y.displayName=r4.displayName;const Gb={async createApplication(e){return await Y.partnerApply.create(e)},async getApplications(){return(await Y.partnerApply.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async updateStatus(e,t){await Y.partnerApply.update(e,{status:t})}},w6e=async e=>{const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")};function _6e(){const{user:e}=hr(),{currentLanguage:t,isRTL:r}=La();un();const{t:n}=$t(),[a,s]=x.useState([]),[i,l]=x.useState([]),[c,u]=x.useState(!0),[d,f]=x.useState(""),[h,m]=x.useState(!1),[p,g]=x.useState(""),[v,y]=x.useState(""),[b,w]=x.useState(""),[_,S]=x.useState("employee"),[k,j]=x.useState(""),[N,C]=x.useState(!1),[T,D]=x.useState(null),[A,H]=x.useState("all"),[X,L]=x.useState("employees"),[I,W]=x.useState(!1),[F,M]=x.useState(null),[G,Q]=x.useState(!1),[E,B]=x.useState({name:"",Email:"",mobile:"",permissions:""}),[U,q]=x.useState(!1),[ee,oe]=x.useState(""),[ge,se]=x.useState(new Map);x.useEffect(()=>{he(),Z()},[]);const Z=async()=>{try{const z=await LA(),fe=new Map;z.forEach(_e=>{fe.set(_e.permissions_ID,_e.permissions_Name)}),se(fe)}catch(z){console.error("Failed to load permission names:",z)}},he=async()=>{try{u(!0);const[z,fe]=await Promise.all([jn.getAll(),Gb.getApplications()]);s(z),l(fe)}catch(z){console.error("Failed to load users:",z)}finally{u(!1)}},P=a.filter(z=>{var ke,Ne;const fe=X==="employees",_e=X==="clients",be=X==="partners";if(fe&&![1,2,3,4].includes(Number(z.permissions))||be&&![5,6].includes(Number(z.permissions)))return!1;const Le=((ke=z.name)==null?void 0:ke.toLowerCase())||"",Se=((Ne=z.Email)==null?void 0:Ne.toLowerCase())||"",je=String(z.permissions||""),pe=d.toLowerCase();return Le.includes(pe)||Se.includes(pe)||je.includes(pe)}),De=z=>{const fe=["destructive","default","secondary","outline","default","secondary"];return z&&z>=1&&z<=fe.length?fe[z-1]:"secondary"},Re=z=>{if(!z)return"User";const fe=ge.get(z);return fe||{1:"Admin",2:"Manager",3:"Employee",4:"Team Leader",5:"Partner Employee",6:"Partner Leader"}[z]||`Permission ${z}`},Me=async z=>{if(z.preventDefault(),!N){j(""),C(!0);try{const fe=await w6e(b),_e={name:p,Email:v,user_pasword:fe,permissions:_==="admin"?1:_==="manager"||_==="employee"?2:_==="team_leader"?4:2},be=await Y.Users.create(_e);T&&(await Gb.updateStatus(T,"approved"),D(null)),m(!1),g(""),y(""),w(""),S("employee"),he()}catch(fe){j(fe.message||n("users.addUserError"))}finally{C(!1)}}},Be=z=>{g(z.full_name),y(z.email),S("employee"),w(""),D(z.apply_id),m(!0),L("employees")},Oe=async z=>{if(confirm(n("users.rejectConfirmation")))try{await Gb.updateStatus(z,"rejected"),he()}catch(fe){console.error("Failed to reject application:",fe)}},ht=async(z,fe)=>{if(confirm(n("users.deleteConfirmation",{name:fe})))try{await Y.Users.delete(z),he()}catch(_e){alert(`${n("users.deleteError")}: ${_e.message}`)}},it=async(z,fe)=>{try{const _e=fe==="1"?1:2;await Y.Users.update(z,{permissions:_e}),he()}catch(_e){alert(`${n("users.updateRoleError")}: ${_e.message}`)}},ce=async z=>{var fe;if(z.preventDefault(),!(U||!F)){oe(""),q(!0);try{const _e={};E.name!==Ee(F,"name")&&(_e.name=E.name),E.Email!==F.Email&&(_e.Email=E.Email),E.mobile!==((fe=F.mobile)==null?void 0:fe.toString())&&(_e.mobile=E.mobile?parseInt(E.mobile):null),E.permissions!==F.permissions&&(_e.permissions=E.permissions),Object.keys(_e).length>0?(await Y.Users.update(F.userid,_e),Q(!1),he()):Q(!1)}catch(_e){oe(_e.message||n("users.updateUserError"))}finally{q(!1)}}},me=z=>{var fe;M(z),B({name:z.name||"",Email:z.Email||"",mobile:((fe=z.mobile)==null?void 0:fe.toString())||"",permissions:z.permissions||""}),Q(!1),oe(""),W(!0)};return c?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx(ua,{message:n("common.loading"),size:"2xl"})}):o.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:r?"rtl":"ltr",children:[o.jsxs("div",{className:"flex items-center justify-between md:justify-start gap-4",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:n("users.title")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ns,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-sm font-medium",children:[a.length," ",n("users.totalUsers")]})]}),o.jsx("p",{className:"hidden md:block text-muted-foreground",children:n("users.subtitle")})]}),o.jsxs("div",{className:"flex flex-row items-center border rounded-lg p-1 bg-muted/50 w-fit",children:[o.jsxs(ue,{variant:X==="employees"?"default":"ghost",size:"sm",onClick:()=>L("employees"),className:"h-8 px-3",children:[o.jsx(vI,{className:"h-4 w-4 mr-2"}),n("users.employees")]}),o.jsxs(ue,{variant:X==="clients"?"default":"ghost",size:"sm",onClick:()=>L("clients"),className:"h-8 px-3",children:[o.jsx(Rn,{className:"h-4 w-4 mr-2"}),n("users.clients")]}),o.jsxs(ue,{variant:X==="partners"?"default":"ghost",size:"sm",onClick:()=>L("partners"),className:"h-8 px-3",children:[o.jsx(ns,{className:"h-4 w-4 mr-2"}),n("users.partners")]})]}),X==="employees"&&o.jsxs("div",{className:"space-y-6",children:[(e==null?void 0:e.role)!=="manager"&&o.jsxs(wn,{open:h,onOpenChange:m,children:[o.jsx(B1,{asChild:!0,children:o.jsxs(ue,{className:"w-full",children:[o.jsx(Gt,{className:"h-4 w-4 mr-2"}),n("users.addUser")]})}),o.jsxs(an,{children:[o.jsxs(sn,{children:[o.jsx(on,{children:n("users.addNewUser")}),o.jsx(Ma,{children:n("users.addUserDescription")})]}),o.jsxs("form",{onSubmit:Me,className:"space-y-4",children:[k&&o.jsx(Hm,{variant:"destructive",children:o.jsx(qm,{children:k})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"formName",children:n("users.fullName")}),o.jsx(Ue,{id:"formName",value:p,onChange:z=>g(z.target.value),placeholder:n("users.fullName"),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"formEmail",children:n("users.email")}),o.jsx(Ue,{id:"formEmail",type:"email",value:v,onChange:z=>y(z.target.value),placeholder:n("users.email"),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"formPassword",children:n("users.password")}),o.jsx(Ue,{id:"formPassword",type:"password",value:b,onChange:z=>w(z.target.value),placeholder:n("users.password"),required:!0,minLength:6})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"formRole",children:n("users.role")}),o.jsxs(xt,{value:_,onValueChange:z=>S(z),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"employee",children:n("users.employee")}),o.jsx(Ae,{value:"manager",children:n("users.manager")}),o.jsx(Ae,{value:"admin",children:n("users.admin")}),o.jsx(Ae,{value:"team_leader",children:n("users.team_leader")})]})]})]}),o.jsx(ue,{type:"submit",className:"w-full",disabled:N,children:n(N?"users.addingUser":"users.addUser")})]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Ue,{placeholder:n("users.searchPlaceholder"),value:d,onChange:z=>f(z.target.value),className:"pl-10"})]}),o.jsxs(rs,{className:"flex-1",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(z=>o.jsxs(et,{className:"hover:shadow-md transition-shadow",children:[o.jsx(Bt,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(lr,{className:"text-lg truncate",children:Ee(z,"name")}),o.jsx(ct,{variant:De(z.permissions),className:"mt-1",children:Re(z.permissions)})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>me(z),children:o.jsx(oi,{className:"h-4 w-4"})}),o.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>ht(z.userid,Ee(z,"name")),children:o.jsx(or,{className:"h-4 w-4"})})]})]})}),o.jsxs(ot,{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(wh,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:z.Email})]}),z.mobile&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(af,{className:"h-4 w-4"}),o.jsx("span",{children:z.mobile})]}),(z.permissions===2||z.permissions===1)&&!0&&o.jsxs("div",{className:"pt-2 border-t",children:[o.jsx("div",{className:"text-xs font-medium mb-1",children:n("users.changeRole")}),o.jsxs(xt,{value:String(z.permissions),onValueChange:fe=>it(z.userid,fe),children:[o.jsx(gt,{className:"w-full h-8",children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"2",children:n("users.employee")}),o.jsx(Ae,{value:"1",children:n("users.manager")})]})]})]}),o.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[n("users.joined")," ",z.created_at?new Date(z.created_at).toLocaleDateString():"-"]})]})]},z.userid))}),P.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ns,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:n("users.noUsersFound")}),o.jsx("p",{className:"text-muted-foreground",children:n(d?"users.noUsersFoundDesc":"users.noUsersAvailable")})]})]})]}),X==="clients"&&o.jsx("div",{className:"space-y-6",children:o.jsxs(rs,{className:"flex-1",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(z=>o.jsxs(et,{className:"hover:shadow-md transition-shadow",children:[o.jsx(Bt,{className:"pb-3",children:o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(lr,{className:"text-lg truncate",children:Ee(z,"name")}),o.jsx(ct,{variant:"outline",className:"mt-1",children:n("users.client")})]})})}),o.jsxs(ot,{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(wh,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:z.Email})]}),z.mobile&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(af,{className:"h-4 w-4"}),o.jsx("span",{children:z.mobile})]}),o.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[n("users.joined")," ",z.created_at?new Date(z.created_at).toLocaleDateString():"-"]})]})]},z.userid))}),P.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Rn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:n("clients.noClientsFound")}),o.jsx("p",{className:"text-muted-foreground",children:n("clients.noClientsYet")})]})]})}),X==="partners"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-[calc(100vh-280px)]",children:[o.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(vI,{className:"h-5 w-5"}),n("users.partnerUsers"),o.jsx(ct,{variant:"secondary",className:"ml-auto",children:a.filter(z=>[5,6].includes(Number(z.permissions))).length})]}),o.jsx(rs,{className:"flex-1 pr-4",children:o.jsx("div",{className:"space-y-3",children:a.filter(z=>[5,6].includes(Number(z.permissions))).length>0?a.filter(z=>[5,6].includes(Number(z.permissions))).map(z=>o.jsx(et,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>me(z),children:o.jsxs(ot,{className:"p-4 flex items-center gap-3",children:[o.jsxs(Ds,{children:[o.jsx(Io,{src:z.avatar||""}),o.jsx(Rs,{children:Ee(z,"name").charAt(0).toUpperCase()})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium truncate",children:Ee(z,"name")}),o.jsx("div",{className:"text-xs text-muted-foreground truncate",children:z.Email}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(ct,{variant:"outline",className:"text-xs py-0 h-5",children:z.permissions===5?n("users.partner_leader"):n("users.partner_employee")}),z.company_name&&o.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(fie,{className:"h-3 w-3"}),z.company_name]})]})]})]})},z.userid)):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(ns,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:n("users.noPartnerUsersFound")})]})})})]}),o.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(wh,{className:"h-5 w-5"}),n("users.partnerApplications"),o.jsx(ct,{variant:"secondary",children:i.length})]}),o.jsx("div",{className:"w-[140px]",children:o.jsxs(xt,{value:A,onValueChange:z=>H(z),children:[o.jsx(gt,{className:"h-8",children:o.jsx(yt,{placeholder:n("common.filter")})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"all",children:n("common.all")}),o.jsx(Ae,{value:"pending",children:n("status.pending")}),o.jsx(Ae,{value:"approved",children:n("status.approved")}),o.jsx(Ae,{value:"rejected",children:n("status.rejected")})]})]})})]}),o.jsx(rs,{className:"flex-1 pr-4",children:o.jsx("div",{className:"space-y-3",children:i.filter(z=>A==="all"||z.status===A).length>0?i.filter(z=>A==="all"||z.status===A).map(z=>o.jsx(et,{children:o.jsxs(ot,{className:"p-4",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2",children:[o.jsx("div",{className:"font-medium",children:z.company_name||z.full_name}),o.jsx(ct,{variant:z.status==="pending"?"outline":z.status==="approved"?"default":"destructive",className:"capitalize",children:n(`status.${z.status}`)})]}),o.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rn,{className:"h-3 w-3"}),z.full_name]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wh,{className:"h-3 w-3"}),z.email]}),z.phone&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(af,{className:"h-3 w-3"}),z.phone]})]}),z.status==="pending"&&o.jsxs("div",{className:"mt-3 flex gap-2 justify-end pt-3 border-t",children:[o.jsx(ue,{size:"sm",variant:"ghost",className:"h-7 text-xs text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>Oe(z.apply_id),children:n("users.reject")}),o.jsx(ue,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>Be(z),children:n("users.approve")})]})]})},z.apply_id)):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(wh,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:n("users.noApplicationsFound")})]})})})]})]}),o.jsx(wn,{open:I,onOpenChange:W,children:o.jsxs(an,{className:"max-w-2xl max-h-[80vh]",children:[o.jsxs(sn,{children:[o.jsx(on,{children:n("users.userDetails")}),o.jsx(Ma,{children:n("users.userDetailsDescription")})]}),F&&o.jsx(rs,{className:"max-h-[60vh] pr-4",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold",children:Ee(F,"name")}),o.jsx(ct,{variant:De(F.permissions),className:"mt-1",children:Re(F.permissions)})]})}),G?o.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[ee&&o.jsx(Hm,{variant:"destructive",children:o.jsx(qm,{children:ee})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"editName",children:n("users.fullName")}),o.jsx(Ue,{id:"editName",value:E.name,onChange:z=>B(fe=>({...fe,name:z.target.value})),placeholder:n("users.fullName")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"editEmail",children:n("users.email")}),o.jsx(Ue,{id:"editEmail",type:"email",value:E.Email,onChange:z=>B(fe=>({...fe,Email:z.target.value})),placeholder:n("users.email")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"editRole",children:n("users.role")}),o.jsxs(xt,{value:String(E.permissions),onValueChange:z=>B(fe=>({...fe,permissions:Number(z)})),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"2",children:n("users.employee")}),o.jsx(Ae,{value:"1",children:n("users.manager")}),o.jsx(Ae,{value:"3",children:n("users.client")}),o.jsx(Ae,{value:"4",children:n("users.partner")}),o.jsx(Ae,{value:"5",children:n("users.partner_employee")})]})]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(We,{className:"text-sm font-medium",children:n("users.joined")}),o.jsx("p",{className:"text-sm",children:new Date(F.created_at).toLocaleDateString()})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(We,{className:"text-sm font-medium",children:n("users.updated")}),o.jsx("p",{className:"text-sm",children:F.updated_at?new Date(F.updated_at).toLocaleDateString():"-"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"editPhone",children:n("users.phone")}),o.jsx(Ue,{id:"editPhone",type:"tel",value:E.mobile,onChange:z=>B(fe=>({...fe,mobile:z.target.value})),placeholder:n("users.phone")})]}),F.client_contact&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(We,{className:"text-sm font-medium",children:n("users.contact")}),o.jsx("p",{className:"text-sm",children:F.client_contact})]}),F.company_name&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(We,{className:"text-sm font-medium",children:n("users.company")}),o.jsx("p",{className:"text-sm",children:Ee(F,"company_name")})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(We,{className:"text-sm font-medium",children:n("users.userId")}),o.jsx("p",{className:"text-sm font-mono text-xs",children:F.userid})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ue,{type:"button",variant:"outline",onClick:()=>Q(!1),children:n("buttons.cancel")}),o.jsx(ue,{type:"submit",disabled:U,children:n(U?"buttons.saving":"buttons.save")})]})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium text-muted-foreground",children:n("users.fullName")}),o.jsx("p",{className:"text-sm",children:Ee(F,"name")})]}),o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium text-muted-foreground",children:n("users.email")}),o.jsx("p",{className:"text-sm",children:F.Email||n("common.na")})]}),o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium text-muted-foreground",children:n("users.role")}),o.jsx("p",{className:"text-sm",children:n(`users.${F.permissions===1?"admin":F.permissions===2?"employee":F.permissions===3?"client":"user"}`)})]}),o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium text-muted-foreground",children:n("users.joined")}),o.jsx("p",{className:"text-sm",children:new Date(F.created_at).toLocaleDateString()})]}),F.updated_at&&o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium text-muted-foreground",children:n("users.updated")}),o.jsx("p",{className:"text-sm",children:new Date(F.updated_at).toLocaleDateString()})]})]}),o.jsxs("div",{className:"space-y-3",children:[F.user_phone&&o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium text-muted-foreground",children:n("users.phone")}),o.jsx("p",{className:"text-sm",children:F.mobile})]}),F.client_contact&&o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium text-muted-foreground",children:n("users.contact")}),o.jsx("p",{className:"text-sm",children:F.client_contact})]}),F.company_name&&o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium text-muted-foreground",children:n("users.company")}),o.jsx("p",{className:"text-sm",children:Ee(F,"company_name")})]}),o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium text-muted-foreground",children:n("users.userId")}),o.jsx("p",{className:"text-sm font-mono text-xs",children:F.userid})]})]})]}),F.userid&&o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium text-muted-foreground",children:n("users.authId","Auth ID")}),o.jsx("p",{className:"text-sm font-mono text-xs break-all",children:F.userid})]})]})}),o.jsxs(Ia,{children:[!G&&!0&&o.jsx(ue,{variant:"outline",onClick:()=>Q(!0),children:n("buttons.edit")}),o.jsx(ue,{onClick:()=>W(!1),children:n("buttons.close")})]})]})})]})}function S6e(){hr();const{t:e}=$t(),{isRTL:t}=La();un();const r=zs();console.log("Teams Page - isRTL:",t);const[n,a]=x.useState([]),[s,i]=x.useState([]),[l,c]=x.useState({}),[u,d]=x.useState(!0),[f,h]=x.useState(""),[m,p]=x.useState(!1),[g,v]=x.useState(""),[y,b]=x.useState(""),[w,_]=x.useState(null),S=!0;x.useEffect(()=>{j(),N()},[]);const k=L=>{r("/chats",{state:{teamId:L}})},j=async()=>{try{d(!0);const L=await xh.getAll(),I=await xh.getAllTeamMembers();a(L),c(I)}catch(L){console.error("Failed to load teams:",L)}finally{d(!1)}},N=async()=>{try{const L=await jn.getAll();i(L)}catch(L){console.error("Failed to load users:",L)}},C=async()=>{if(g.trim())try{const L=yl({team_name:g.trim(),team_leader_id:(y==null?void 0:y.toString())||null,partner_id:null,auth_user_id:null},{team_name:"team_name"});await xh.create(L),v(""),b(""),p(!1),await j()}catch(L){console.error("Failed to create team:",L)}},T=async(L,I)=>{try{await xh.addMember(L,I),await j()}catch(W){console.error("Failed to add team member:",W)}},D=async(L,I)=>{try{await xh.removeMember(L,I),await j()}catch(W){console.error("Failed to remove team member:",W)}},A=async L=>{try{await xh.delete(L),a(I=>I.filter(W=>W.team_id!==L)),c(I=>{const W={...I};return delete W[L],W}),_(null)}catch(I){console.error("Failed to delete team:",I)}},H=n.filter(L=>(Ee(L,"team_name")||"").toLowerCase().includes(f.toLowerCase())),X=s;return u?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx(ua,{message:e("common.loading"),size:"2xl"})}):o.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:t?"rtl":"ltr",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:e("teams.title")}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("teams.subtitle")})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ns,{className:"h-5 w-5"}),o.jsx("span",{className:"text-sm font-medium",children:e("teams.memberCount_plural",{count:n.length})})]}),o.jsxs(wn,{open:m,onOpenChange:p,children:[o.jsx(B1,{asChild:!0,children:o.jsxs(ue,{children:[o.jsx(Gt,{className:"h-4 w-4 mr-2"}),e("teams.createTeam")]})}),o.jsxs(an,{className:"sm:max-w-[425px]",children:[o.jsxs(sn,{children:[o.jsx(on,{children:e("teams.createTeamTitle")}),o.jsx(Ma,{children:e("teams.createTeamDesc")})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(We,{htmlFor:"team-name",className:"text-right rtl:text-left",children:e("teams.teamName")}),o.jsx(Ue,{id:"team-name",value:g,onChange:L=>v(L.target.value),className:"col-span-3",placeholder:e("teams.teamNamePlaceholder")})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(We,{htmlFor:"team-leader",className:"text-right rtl:text-left",children:e("teams.teamLeader")}),o.jsxs(xt,{value:y,onValueChange:b,children:[o.jsx(gt,{className:"col-span-3",children:o.jsx(yt,{placeholder:e("teams.selectTeamLeader")})}),o.jsx(vt,{children:X.map(L=>o.jsx(Ae,{value:L.userid.toString(),children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:""}),o.jsx("span",{children:L.name})]})},L.userid))})]})]})]}),o.jsx(Ia,{children:o.jsx(ue,{type:"submit",onClick:C,disabled:!g.trim(),children:e("teams.createTeam")})})]})]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Ue,{placeholder:e("teams.searchPlaceholder"),value:f,onChange:L=>h(L.target.value),className:"pl-10"})]}),o.jsxs(rs,{className:"flex-1",dir:t?"rtl":"ltr",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",dir:t?"rtl":"ltr",children:H.map(L=>{const I=l[L.team_id]||[];return o.jsxs(et,{className:"hover:shadow-md transition-shadow",children:[o.jsxs(Bt,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(lr,{className:"text-lg",children:Ee(L,"team_name")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",onClick:()=>k(L.team_id),title:e("teams.chat","Chat"),children:o.jsx($u,{className:"h-4 w-4"})}),o.jsx(ct,{variant:"outline",children:e("teams.memberCount_plural",{count:I.length})}),o.jsxs(hi,{children:[o.jsx(Qx,{asChild:!0,children:o.jsx(ue,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:W=>{W.stopPropagation(),_(L.team_id)},children:o.jsx(or,{className:"h-3 w-3"})})}),o.jsxs(Is,{onClick:W=>W.stopPropagation(),children:[o.jsxs(Ms,{children:[o.jsx(Ls,{children:e("teams.deleteTeam")}),o.jsx($s,{children:e("teams.deleteConfirmation",{name:Ee(L,"team_name")})})]}),o.jsxs(Fs,{children:[o.jsx(Us,{children:e("buttons.cancel")}),o.jsx(Bs,{onClick:W=>{W.stopPropagation(),A(L.team_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]}),L.team_leader_id_name&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsxs("span",{children:[e("teams.teamLeader"),":"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{children:""}),o.jsx("span",{children:L.team_leader_id_name})]})]})]}),o.jsxs(ot,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:e("teams.members")}),o.jsxs("div",{className:"space-y-2",children:[I.slice(0,4).map(W=>o.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-2 rounded",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Ds,{className:"h-6 w-6",children:[o.jsx(Io,{src:""}),o.jsx(Rs,{className:"text-xs",children:(W.name||"").charAt(0).toUpperCase()})]}),o.jsx("span",{className:"text-sm",children:W.name})]}),o.jsx(ue,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:()=>{var F;return D(L.team_id,((F=W.userid)==null?void 0:F.toString())||"")},children:o.jsx($ie,{className:"h-3 w-3"})})]},W.userid)),I.length>4&&o.jsx("div",{className:"text-xs text-muted-foreground text-center",children:e("teams.moreMembers",{count:I.length-4})}),I.length===0&&o.jsx("div",{className:"text-xs text-muted-foreground text-center py-2",children:e("teams.noMembersYet")})]})]}),o.jsx("div",{children:o.jsxs(xt,{onValueChange:W=>{W&&T(L.team_id,W)},children:[o.jsx(gt,{className:"w-full",children:o.jsx(yt,{placeholder:e("teams.addMember")})}),o.jsx(vt,{children:s.filter(W=>!I.some(F=>F.userid.toString()===W.userid.toString())).map(W=>o.jsx(Ae,{value:W.userid.toString(),children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:""}),o.jsx("span",{children:W.name})]})},W.userid))})]})}),o.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[e("teams.created")," ",L.created_at?new Date(L.created_at).toLocaleDateString():"N/A"]})]})]},L.team_id)})}),H.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ns,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:e(f?"teams.noTeamsFound":"teams.noTeamsYet")}),o.jsx("p",{className:"text-muted-foreground mb-4",children:e(f?"tickets.noTicketsFoundDesc":"teams.createFirstTeam")}),!f&&S&&o.jsxs(ue,{onClick:()=>p(!0),children:[o.jsx(Gt,{className:"h-4 w-4 mr-2"}),e("teams.createFirstTeam")]})]})]})]})}function j6e({rooms:e,selectedRoom:t,onSelectRoom:r,currentUser:n,onNewChannel:a,onNewDM:s,className:i}){const{t:l}=$t(),[c,u]=x.useState(""),d=e.filter(g=>{const v=g.is_private&&Ee(g.other_user||{},"user_name")||g.room_name;return v==null?void 0:v.toLowerCase().includes(c.toLowerCase())}),f=d.filter(g=>!g.is_private&&!g.team_id),h=d.filter(g=>g.is_private),m=d.filter(g=>g.team_id),p=g=>{var S;const v=(t==null?void 0:t.room_id)===g.room_id,y=g.is_private,b=y&&Ee(g.other_user||{},"user_name")||g.room_name,w=y?(S=g.other_user)==null?void 0:S.avatar:null,_=(b==null?void 0:b.charAt(0).toUpperCase())||"?";return o.jsxs("button",{onClick:()=>r(g),className:xe("w-full flex items-center gap-2 px-2 py-1.5 rounded-md transition-colors text-sm mb-0.5",v?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[o.jsx("div",{className:"relative flex-shrink-0",children:y?o.jsxs(Ds,{className:"h-6 w-6",children:[o.jsx(Io,{src:w}),o.jsx(Rs,{className:"text-[10px]",children:_})]}):o.jsx("div",{className:"h-6 w-6 rounded bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:o.jsx(ns,{className:"h-3.5 w-3.5"})})}),o.jsx("span",{className:"truncate flex-1 text-left",children:b})]},g.room_id)};return o.jsxs("div",{className:xe("flex flex-col h-full bg-background border-r",i),children:[o.jsxs("div",{className:"flex-shrink-0 p-3 border-b",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h2",{className:"font-semibold text-lg",children:l("chat.title","Messages")}),o.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8",children:o.jsx(GU,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Vs,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Ue,{placeholder:l("common.search","Jump to..."),value:c,onChange:g=>u(g.target.value),className:"pl-9 h-8 bg-muted/50 border-0"})]})]}),o.jsxs(rs,{className:"flex-1 px-2 py-3 overflow-hidden",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[o.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.channels","Channels")}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&o.jsx(ue,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-muted",onClick:a,title:l("chat.createChannel","Create Channel"),children:o.jsx(Gt,{className:"h-3 w-3"})})]}),o.jsxs("div",{className:"space-y-0.5",children:[f.map(p),f.length===0&&o.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noChannels","No channels")})]})]}),m.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"flex items-center justify-between px-2 mb-1",children:o.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.teams","Teams")})}),o.jsx("div",{className:"space-y-0.5",children:m.map(p)})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[o.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.directMessages","Direct Messages")}),o.jsx(ue,{variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity",onClick:s,children:o.jsx(Gt,{className:"h-3 w-3"})})]}),o.jsxs("div",{className:"space-y-0.5",children:[h.map(p),h.length===0&&o.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noMessages","No messages")})]})]})]})]})}function k6e({room:e,messages:t,currentUser:r,onSendMessage:n,onBack:a,loading:s,onLoadMore:i,hasMoreMessages:l,isLoadingMore:c,onEditMessage:u,onDeleteMessage:d,className:f}){var q;const{t:h}=$t(),[m,p]=x.useState(""),g=x.useRef(null),[v,y]=x.useState(!1),[b,w]=x.useState(null),[_,S]=x.useState(""),[k,j]=x.useState(!1),N=x.useRef(null),[C,T]=x.useState(null);x.useEffect(()=>{if(g.current&&!c){const ee=g.current.querySelector("[data-radix-scroll-area-viewport]");ee&&(ee.scrollTop=ee.scrollHeight)}},[t,c]);const D=ee=>{const oe=ee.target;if(!oe)return;const se=oe.scrollTop<100;y(se),se&&l&&i&&!c&&i()};x.useEffect(()=>{var oe;const ee=(oe=g.current)==null?void 0:oe.querySelector("[data-radix-scroll-area-viewport]");if(ee)return ee.addEventListener("scroll",D),()=>ee.removeEventListener("scroll",D)},[l,c,i]),x.useEffect(()=>{e&&!e.is_private?(async()=>{try{if(console.log("[ChatArea] Room data:",e),e.member_count!==void 0){console.log("[ChatArea] Using room.member_count:",e.member_count),T(e.member_count);return}console.log("[ChatArea] Fetching room members for room:",e.room_id);const oe=await lo.getRoomMembers(e.room_id);console.log("[ChatArea] Fetched members:",oe.length),T(oe.length)}catch(oe){console.error("Failed to fetch member count:",oe),T(null)}})():(console.log("[ChatArea] Room is private or null, clearing member count"),T(null))},[e==null?void 0:e.room_id]);const A=ee=>{w(ee.message_id),S(ee.content)},H=()=>{w(null),S("")},X=()=>{b&&_.trim()&&u&&(u(b,_),w(null),S(""))},L=()=>{m.trim()&&(n(m),p(""))},I=ee=>{ee.key==="Enter"&&!ee.shiftKey&&(ee.preventDefault(),L())},W=async ee=>{var ge;const oe=(ge=ee.target.files)==null?void 0:ge[0];if(!(!oe||!n))try{j(!0);const se=await tu.uploadAttachment(oe),he=oe.type.startsWith("image/")?`![${oe.name}](${se})`:`[${oe.name}](${se})`;n(he)}catch(se){console.error("Failed to upload file:",se),alert(h("chat.uploadError","Failed to upload file"))}finally{j(!1),N.current&&(N.current.value="")}},F=()=>{var ee;(ee=N.current)==null||ee.click()},M=ee=>{const oe=/!\\[(.*?)\\]\((.*?)\)/g,ge=/\\[(.*?)\\]\((.*?)\)/g,se=oe.exec(ee);if(se)return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("img",{src:se[2],alt:se[1],className:"max-w-full rounded-lg max-h-[300px] object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(se[2],"_blank")}),ee.replace(se[0],"").trim()&&o.jsx("span",{children:ee.replace(se[0],"").trim()})]});const Z=ge.exec(ee);return Z?o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("a",{href:Z[2],target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-500 hover:underline bg-background/50 p-2 rounded",children:[o.jsx(mI,{className:"h-4 w-4"}),Z[1]]}),ee.replace(Z[0],"").trim()&&o.jsx("span",{children:ee.replace(Z[0],"").trim()})]}):ee};if(s)return o.jsx("div",{className:xe("flex items-center justify-center h-full bg-background",f),children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!e)return o.jsxs("div",{className:xe("flex flex-col items-center justify-center h-full bg-background text-muted-foreground p-4 text-center",f),children:[o.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center mb-4",children:o.jsx($u,{className:"h-8 w-8"})}),o.jsx("h3",{className:"font-semibold text-lg mb-2",children:h("chat.welcome","Welcome to Chat")}),o.jsx("p",{className:"max-w-xs",children:h("chat.selectRoomDesc","Select a channel or direct message to start chatting.")})]});const G=e.is_private,Q=G&&Ee(e.other_user||{},"user_name")||e.room_name,E=G?(q=e.other_user)==null?void 0:q.avatar:null,B=(Q==null?void 0:Q.charAt(0).toUpperCase())||"?",U=t.reduce((ee,oe)=>{const ge=new Date(oe.created_at).toLocaleDateString();return ee[ge]||(ee[ge]=[]),ee[ge].push(oe),ee},{});return o.jsxs("div",{className:xe("flex flex-col h-full bg-background overflow-x-hidden",f),children:[o.jsxs("div",{className:"flex-shrink-0 h-16 border-b flex items-center justify-between px-4 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-10",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[a&&o.jsx(ue,{variant:"ghost",size:"icon",className:"md:hidden -ml-2",onClick:a,children:o.jsx(KU,{className:"h-5 w-5"})}),o.jsxs("div",{className:"flex items-center gap-3",children:[G?o.jsxs(Ds,{className:"h-9 w-9",children:[o.jsx(Io,{src:E}),o.jsx(Rs,{children:B})]}):o.jsx("div",{className:"h-9 w-9 rounded-md bg-muted flex items-center justify-center",children:e.team_id?o.jsx(ns,{className:"h-5 w-5"}):o.jsx(_ie,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsxs("h2",{className:"font-semibold text-sm flex items-center gap-2",children:[Q,G&&o.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})]}),!G&&o.jsx("p",{className:"text-xs text-muted-foreground",children:C!==null?h("chat.membersCount",{count:C}):h("chat.loadingMembers","Loading members...")})]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ue,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:o.jsx(af,{className:"h-5 w-5"})}),o.jsx(ue,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:o.jsx(Uie,{className:"h-5 w-5"})}),o.jsx(ue,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:o.jsx(Sie,{className:"h-5 w-5"})})]})]}),o.jsx(rs,{className:"flex-1 p-4 overflow-hidden",ref:g,children:o.jsxs("div",{className:"space-y-6 pb-4",children:[c&&o.jsx("div",{className:"flex justify-center py-4",children:o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}),!l&&t.length>10&&o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-xs text-muted-foreground",children:h("chat.beginningOfConversation","Beginning of conversation")})}),Object.entries(U).map(([ee,oe])=>o.jsxs("div",{children:[o.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:ee===new Date().toLocaleDateString()?h("common.today","Today"):ee})})]}),o.jsx("div",{className:"space-y-4",children:oe.map((ge,se)=>{var Re;const Z=ge.auth_user_id===(r==null?void 0:r.id),he=se===0||oe[se-1].auth_user_id!==ge.auth_user_id,P=ge.sender,De=b===ge.message_id;return o.jsxs("div",{className:xe("flex gap-3 group",Z?"flex-row-reverse":""),children:[he?o.jsxs(Ds,{className:"h-8 w-8 mt-0.5 flex-shrink-0",children:[o.jsx(Io,{src:P==null?void 0:P.avatar}),o.jsx(Rs,{children:((Re=P==null?void 0:P.user_name)==null?void 0:Re.charAt(0))||"?"})]}):o.jsx("div",{className:"w-8 flex-shrink-0"}),o.jsxs("div",{className:xe("flex flex-col max-w-[75%]",Z?"items-end":"items-start"),children:[he&&o.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[o.jsx("span",{className:"text-sm font-semibold",children:P==null?void 0:P.user_name}),o.jsx("span",{className:"text-[10px] text-muted-foreground",children:us(new Date(ge.created_at),"h:mm a")})]}),o.jsx("div",{className:xe("px-4 py-2 rounded-2xl text-sm shadow-sm relative group",Z?"bg-primary text-primary-foreground rounded-tr-none":"bg-muted text-foreground rounded-tl-none",De?"w-full min-w-[200px]":""),children:De?o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("textarea",{value:_,onChange:Me=>S(Me.target.value),className:"w-full bg-transparent border rounded p-1 text-foreground min-h-[60px]",autoFocus:!0}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ue,{size:"sm",variant:"ghost",onClick:H,className:"h-6 px-2 text-xs",children:h("common.cancel","Cancel")}),o.jsx(ue,{size:"sm",variant:"secondary",onClick:X,className:"h-6 px-2 text-xs",children:h("common.save","Save")})]})]}):o.jsxs(o.Fragment,{children:[M(ge.content),Z&&!De&&o.jsxs("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 bg-background rounded-md shadow-sm border p-0.5",children:[o.jsxs(ue,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-primary",onClick:()=>A(ge),children:[o.jsx("span",{className:"sr-only",children:"Edit"}),o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:[o.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),o.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]})]}),o.jsxs(ue,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-destructive",onClick:()=>d&&d(ge.message_id),children:[o.jsx("span",{className:"sr-only",children:"Delete"}),o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:o.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})]})]})]})})]})]},`${ge.message_id}-${se}`)})})]},ee))]})}),o.jsxs("div",{className:"flex-shrink-0 p-4 bg-background border-t",children:[o.jsxs("div",{className:"flex items-end gap-2 bg-muted/50 p-2 rounded-xl border focus-within:border-primary/50 focus-within:ring-1 focus-within:ring-primary/20 transition-all",children:[o.jsx(ue,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-primary flex-shrink-0",onClick:F,disabled:k,children:k?o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):o.jsx(mI,{className:"h-5 w-5"})}),o.jsx("input",{type:"file",ref:N,className:"hidden",onChange:W,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"}),o.jsx("textarea",{value:m,onChange:ee=>p(ee.target.value),onKeyDown:I,placeholder:h("chat.typeMessage","Type a message..."),className:"flex-1 bg-transparent border-0 focus:ring-0 resize-none max-h-32 min-h-[36px] py-2 text-sm",rows:1,style:{height:"auto",minHeight:"36px"},onInput:ee=>{const oe=ee.target;oe.style.height="auto",oe.style.height=`${Math.min(oe.scrollHeight,128)}px`}}),o.jsxs("div",{className:"flex items-center gap-1 pb-1",children:[o.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hidden sm:flex",children:o.jsx(Rie,{className:"h-5 w-5"})}),o.jsx(ue,{size:"icon",className:xe("h-8 w-8 transition-all",m.trim()?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),onClick:L,disabled:!m.trim()&&!k,children:o.jsx(_x,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"flex justify-between items-center mt-2 px-1",children:o.jsx("p",{className:"text-[10px] text-muted-foreground"})})]})]})}function N6e({open:e,onOpenChange:t,onSelectUser:r,currentUserId:n}){const{t:a}=$t(),[s,i]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!1);x.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{d(!0);const m=await jn.getAll();i(m.filter(p=>p.auth_user_id!==n))}catch(m){console.error("Failed to load users:",m)}finally{d(!1)}},h=s.filter(m=>{var p,g;return((p=m.user_name)==null?void 0:p.toLowerCase().includes(l.toLowerCase()))||((g=m.user_email)==null?void 0:g.toLowerCase().includes(l.toLowerCase()))});return o.jsx(wn,{open:e,onOpenChange:t,children:o.jsxs(an,{className:"sm:max-w-[425px]",children:[o.jsx(sn,{children:o.jsx(on,{children:a("chat.newDirectMessage","New Direct Message")})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Vs,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(Ue,{placeholder:a("chat.searchUsers","Search users..."),value:l,onChange:m=>c(m.target.value),className:"pl-8"})]}),o.jsx(rs,{className:"h-[300px]",children:u?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):h.length===0?o.jsx("div",{className:"text-center text-muted-foreground py-8",children:a("chat.noUsersFound","No users found")}):o.jsx("div",{className:"space-y-1",children:h.map(m=>{var p;return o.jsxs("button",{onClick:()=>{r(m),t(!1)},className:"w-full flex items-center gap-3 p-2 hover:bg-muted rounded-md transition-colors text-left",children:[o.jsxs(Ds,{children:[o.jsx(Io,{src:m.avatar}),o.jsx(Rs,{children:((p=m.user_name)==null?void 0:p.charAt(0))||"?"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:m.user_name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:m.user_email})]})]},m.user_id)})})})]})]})})}var ij="Switch",[C6e,CXe]=ps(ij),[E6e,T6e]=C6e(ij),SY=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=x.useState(null),p=Lt(t,w=>m(w)),g=x.useRef(!1),v=h?d||!!h.closest("form"):!0,[y,b]=yc({prop:a,defaultProp:s??!1,onChange:u,caller:ij});return o.jsxs(E6e,{scope:r,checked:y,disabled:l,children:[o.jsx(st.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":CY(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:p,onClick:Qe(e.onClick,w=>{b(_=>!_),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&o.jsx(NY,{control:h,bubbles:!g.current,name:n,value:c,checked:y,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});SY.displayName=ij;var jY="SwitchThumb",kY=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=T6e(jY,r);return o.jsx(st.span,{"data-state":CY(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});kY.displayName=jY;var A6e="SwitchBubbleInput",NY=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const i=x.useRef(null),l=Lt(i,s),c=sO(r),u=ZA(t);return x.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const p=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(p)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});NY.displayName=A6e;function CY(e){return e?"checked":"unchecked"}var EY=SY,O6e=kY;const TY=x.forwardRef(({className:e,...t},r)=>o.jsx(EY,{className:xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:o.jsx(O6e,{className:xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));TY.displayName=EY.displayName;function P6e({open:e,onOpenChange:t,onCreate:r}){const{t:n}=$t(),[a,s]=x.useState(""),[i,l]=x.useState(!1),[c,u]=x.useState(!1),d=async f=>{if(f.preventDefault(),!!a.trim())try{u(!0),await r(a,i),t(!1),s(""),l(!1)}catch(h){console.error("Failed to create channel:",h)}finally{u(!1)}};return o.jsx(wn,{open:e,onOpenChange:t,children:o.jsxs(an,{children:[o.jsx(sn,{children:o.jsx(on,{children:n("chat.createRoomTitle","Create New Room")})}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"name",children:n("chat.roomName","Room Name")}),o.jsx(Ue,{id:"name",value:a,onChange:f=>s(f.target.value),placeholder:n("chat.roomNamePlaceholder","Enter room name"),disabled:c})]}),o.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[o.jsxs(We,{htmlFor:"private",className:"flex flex-col space-y-1",children:[o.jsx("span",{children:n("chat.privateRoom","Private Room")}),o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:n("chat.privateRoomDesc","Only invited members can view this room.")})]}),o.jsx(TY,{id:"private",checked:i,onCheckedChange:l,disabled:c})]}),o.jsxs(Ia,{children:[o.jsx(ue,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:n("common.cancel","Cancel")}),o.jsx(ue,{type:"submit",disabled:!a.trim()||c,children:c?n("common.creating","Creating..."):n("chat.createRoom","Create Room")})]})]})]})})}function D6e(){var F;const{user:e}=hr(),{t}=$t(),{isRTL:r}=La(),[n,a]=x.useState([]),[s,i]=x.useState(null),[l,c]=x.useState([]),[u,d]=x.useState(!0),[f,h]=x.useState(!1),[m,p]=x.useState(!0),[g,v]=x.useState(!0),[y,b]=x.useState(!1);x.useState([]);const[w,_]=x.useState(!1),[S,k]=x.useState(!1),j=x.useRef(!1),N=x.useRef(null);x.useRef(null),x.useRef(null),x.useEffect(()=>{const M=()=>{const G=window.innerWidth<768;h(G),G||p(!0)};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),x.useEffect(()=>{e&&!j.current&&D()},[e]),x.useEffect(()=>{var G;const M=(G=window.history.state)==null?void 0:G.usr;if(M!=null&&M.teamId&&n.length>0){const Q=n.find(E=>E.team_id===M.teamId);Q&&i(Q)}},[n]),x.useEffect(()=>{s&&(N.current!==s.room_id&&(v(!0),b(!1),A(s.room_id),e&&(lo.markAsRead(s.room_id,e.id.toString()),a(M=>M.map(G=>G.room_id===s.room_id?{...G,unreadCount:0}:G)))),f&&p(!1))},[s,f,e]),x.useEffect(()=>{var E;if(!e||!s)return;let M=((E=l[0])==null?void 0:E.message_id)||0;const G=async()=>{try{const B=await tu.getByRoom(s.room_id.toString(),{limit:5});if(B.length>0){const U=B[0];U.message_id>M&&(console.log("New message detected, refreshing..."),await A(s.room_id.toString()),M=U.message_id)}}catch(B){console.warn("Failed to poll for new messages:",B)}},Q=setInterval(G,2e3);return G(),()=>{clearInterval(Q)}},[e,s,l]);const C=async(M,G)=>{try{await tu.update(M,G)}catch(Q){console.error("Failed to edit message:",Q)}},T=async M=>{if(confirm(t("chat.deleteConfirm","Are you sure you want to delete this message?")))try{await tu.delete(M)}catch(G){console.error("Failed to delete message:",G)}},D=async()=>{try{d(!0);const M=await lo.getUserRooms(e==null?void 0:e.id.toString()),G=M.filter(B=>B.is_private).map(B=>B.room_id),Q=new Map;if(G.length>0){const B=G.map(q=>lo.getRoomMembers(q).catch(()=>[])),U=await Promise.all(B);G.forEach((q,ee)=>{Q.set(q,U[ee])})}const E=M.map(B=>{if(B.is_private){const q=(Q.get(B.room_id)||[]).find(ee=>{var oe;return((oe=ee.userid)==null?void 0:oe.toString())!==(e==null?void 0:e.id.toString())});return{...B,other_user:q}}return B});a(E),j.current=!0}catch(M){console.error("Failed to load rooms:",M)}finally{d(!1)}},A=async(M,G=!1)=>{try{G&&b(!0);const Q=10,E=G&&l.length>0?l[0].created_at:void 0,B=await tu.getByRoom(M,{limit:Q,before:E});G?(c(U=>[...B,...U]),v(B.length===Q)):(c(B),v(B.length===Q),N.current=M)}catch(Q){console.error("Failed to load messages:",Q)}finally{G&&b(!1)}},H=async()=>{!s||y||!g||await A(s.room_id,!0)},X=async M=>{if(!(!s||!e))try{const G={message_id:Date.now(),room_id:s.room_id,user_id:parseInt(e.id.toString()),content:M,metadata:null,created_at:new Date().toISOString(),sender:e.profile};c(Q=>[...Q,G]),await tu.create({room_id:s.room_id,user_id:parseInt(e.id.toString()),content:M,metadata:null}),setTimeout(()=>{A(s.room_id.toString())},500)}catch(G){console.error("Failed to send message:",G),c(Q=>Q.filter(E=>E.message_id!==Date.now()))}},L=()=>{p(!0)},I=async(M,G)=>{if(e)try{const Q=await lo.createRoom({name:M,is_private:G,created_by:e.profile.user_id||0,userid:e.id.toString()});await lo.addMember(Q.room_id,e.id.toString()),await D();const E={...Q};i(E)}catch(Q){console.error("Failed to create channel:",Q)}},W=async M=>{if(!e)return;const G=n.find(Q=>{var E;return Q.is_private&&((E=Q.other_user)==null?void 0:E.userid)===M.userid});if(G){i(G);return}try{const Q=await lo.createRoom({name:"DM",is_private:!0,created_by:e.profile.user_id||0,userid:e.id.toString()});await lo.addMember(Q.room_id,e.id.toString()),await lo.addMember(Q.room_id,(M.userid||M.user_id||"").toString()),await D();const E={...Q,other_user:M};i(E)}catch(Q){console.error("Failed to create DM:",Q)}};return o.jsxs("div",{className:"flex w-full h-full overflow-hidden bg-background",dir:r?"rtl":"ltr",children:[o.jsx("div",{className:xe("w-full md:w-80 flex-shrink-0 transition-all duration-300 ease-in-out absolute md:relative z-20 h-full bg-background border-r overflow-hidden",m?"translate-x-0":"-translate-x-full md:translate-x-0",f&&!m&&"hidden"),children:o.jsx(j6e,{rooms:n,selectedRoom:s,onSelectRoom:i,currentUser:e,onNewChannel:()=>_(!0),onNewDM:()=>k(!0)})}),o.jsx("div",{className:xe("flex-1 flex flex-col min-w-0 bg-background transition-all duration-300 h-full overflow-hidden",f&&m?"hidden":"flex"),children:o.jsx(k6e,{room:s,messages:l,currentUser:e,onSendMessage:X,onBack:L,loading:u,onLoadMore:H,hasMoreMessages:g,isLoadingMore:y,onEditMessage:C,onDeleteMessage:T})}),o.jsx(P6e,{open:w,onOpenChange:_,onCreate:I}),o.jsx(N6e,{open:S,onOpenChange:k,onSelectUser:W,currentUserId:(F=e==null?void 0:e.id)==null?void 0:F.toString()})]})}function AY(e,t){return function(){return e.apply(t,arguments)}}const{toString:R6e}=Object.prototype,{getPrototypeOf:s4}=Object,{iterator:oj,toStringTag:OY}=Symbol,lj=(e=>t=>{const r=R6e.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Vo=e=>(e=e.toLowerCase(),t=>lj(t)===e),cj=e=>t=>typeof t===e,{isArray:u0}=Array,_p=cj("undefined");function ty(e){return e!==null&&!_p(e)&&e.constructor!==null&&!_p(e.constructor)&&As(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const PY=Vo("ArrayBuffer");function I6e(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&PY(e.buffer),t}const M6e=cj("string"),As=cj("function"),DY=cj("number"),ry=e=>e!==null&&typeof e=="object",F6e=e=>e===!0||e===!1,Yb=e=>{if(lj(e)!=="object")return!1;const t=s4(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(OY in e)&&!(oj in e)},L6e=e=>{if(!ry(e)||ty(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},$6e=Vo("Date"),B6e=Vo("File"),U6e=Vo("Blob"),z6e=Vo("FileList"),V6e=e=>ry(e)&&As(e.pipe),W6e=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||As(e.append)&&((t=lj(e))==="formdata"||t==="object"&&As(e.toString)&&e.toString()==="[object FormData]"))},H6e=Vo("URLSearchParams"),[q6e,K6e,G6e,Y6e]=["ReadableStream","Request","Response","Headers"].map(Vo),X6e=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ny(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),u0(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(ty(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let l;for(n=0;n<i;n++)l=s[n],t.call(null,e[l],l,e)}}function RY(e,t){if(ty(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Vd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,IY=e=>!_p(e)&&e!==Vd;function nT(){const{caseless:e,skipUndefined:t}=IY(this)&&this||{},r={},n=(a,s)=>{const i=e&&RY(r,s)||s;Yb(r[i])&&Yb(a)?r[i]=nT(r[i],a):Yb(a)?r[i]=nT({},a):u0(a)?r[i]=a.slice():(!t||!_p(a))&&(r[i]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&ny(arguments[a],n);return r}const J6e=(e,t,r,{allOwnKeys:n}={})=>(ny(t,(a,s)=>{r&&As(a)?e[s]=AY(a,r):e[s]=a},{allOwnKeys:n}),e),Q6e=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Z6e=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},eBe=(e,t,r,n)=>{let a,s,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&s4(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},tBe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},rBe=e=>{if(!e)return null;if(u0(e))return e;let t=e.length;if(!DY(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},nBe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&s4(Uint8Array)),aBe=(e,t)=>{const n=(e&&e[oj]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},sBe=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},iBe=Vo("HTMLFormElement"),oBe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),R$=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),lBe=Vo("RegExp"),MY=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ny(r,(a,s)=>{let i;(i=t(a,s,e))!==!1&&(n[s]=i||a)}),Object.defineProperties(e,n)},cBe=e=>{MY(e,(t,r)=>{if(As(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(As(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},uBe=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return u0(e)?n(e):n(String(e).split(t)),r},dBe=()=>{},fBe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function hBe(e){return!!(e&&As(e.append)&&e[OY]==="FormData"&&e[oj])}const mBe=e=>{const t=new Array(10),r=(n,a)=>{if(ry(n)){if(t.indexOf(n)>=0)return;if(ty(n))return n;if(!("toJSON"in n)){t[a]=n;const s=u0(n)?[]:{};return ny(n,(i,l)=>{const c=r(i,a+1);!_p(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},pBe=Vo("AsyncFunction"),gBe=e=>e&&(ry(e)||As(e))&&As(e.then)&&As(e.catch),FY=((e,t)=>e?setImmediate:t?((r,n)=>(Vd.addEventListener("message",({source:a,data:s})=>{a===Vd&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Vd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",As(Vd.postMessage)),vBe=typeof queueMicrotask<"u"?queueMicrotask.bind(Vd):typeof process<"u"&&process.nextTick||FY,xBe=e=>e!=null&&As(e[oj]),Te={isArray:u0,isArrayBuffer:PY,isBuffer:ty,isFormData:W6e,isArrayBufferView:I6e,isString:M6e,isNumber:DY,isBoolean:F6e,isObject:ry,isPlainObject:Yb,isEmptyObject:L6e,isReadableStream:q6e,isRequest:K6e,isResponse:G6e,isHeaders:Y6e,isUndefined:_p,isDate:$6e,isFile:B6e,isBlob:U6e,isRegExp:lBe,isFunction:As,isStream:V6e,isURLSearchParams:H6e,isTypedArray:nBe,isFileList:z6e,forEach:ny,merge:nT,extend:J6e,trim:X6e,stripBOM:Q6e,inherits:Z6e,toFlatObject:eBe,kindOf:lj,kindOfTest:Vo,endsWith:tBe,toArray:rBe,forEachEntry:aBe,matchAll:sBe,isHTMLForm:iBe,hasOwnProperty:R$,hasOwnProp:R$,reduceDescriptors:MY,freezeMethods:cBe,toObjectSet:uBe,toCamelCase:oBe,noop:dBe,toFiniteNumber:fBe,findKey:RY,global:Vd,isContextDefined:IY,isSpecCompliantForm:hBe,toJSONObject:mBe,isAsyncFn:pBe,isThenable:gBe,setImmediate:FY,asap:vBe,isIterable:xBe};function Mt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Te.inherits(Mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Te.toJSONObject(this.config),code:this.code,status:this.status}}});const LY=Mt.prototype,$Y={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{$Y[e]={value:e}});Object.defineProperties(Mt,$Y);Object.defineProperty(LY,"isAxiosError",{value:!0});Mt.from=(e,t,r,n,a,s)=>{const i=Object.create(LY);Te.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Mt.call(i,l,c,r,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const yBe=null;function aT(e){return Te.isPlainObject(e)||Te.isArray(e)}function BY(e){return Te.endsWith(e,"[]")?e.slice(0,-2):e}function I$(e,t,r){return e?e.concat(t).map(function(a,s){return a=BY(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function bBe(e){return Te.isArray(e)&&!e.some(aT)}const wBe=Te.toFlatObject(Te,{},null,function(t){return/^is[A-Z]/.test(t)});function uj(e,t,r){if(!Te.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Te.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!Te.isUndefined(v[g])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Te.isSpecCompliantForm(t);if(!Te.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(Te.isDate(p))return p.toISOString();if(Te.isBoolean(p))return p.toString();if(!c&&Te.isBlob(p))throw new Mt("Blob is not supported. Use a Buffer instead.");return Te.isArrayBuffer(p)||Te.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,g,v){let y=p;if(p&&!v&&typeof p=="object"){if(Te.endsWith(g,"{}"))g=n?g:g.slice(0,-2),p=JSON.stringify(p);else if(Te.isArray(p)&&bBe(p)||(Te.isFileList(p)||Te.endsWith(g,"[]"))&&(y=Te.toArray(p)))return g=BY(g),y.forEach(function(w,_){!(Te.isUndefined(w)||w===null)&&t.append(i===!0?I$([g],_,s):i===null?g:g+"[]",u(w))}),!1}return aT(p)?!0:(t.append(I$(v,g,s),u(p)),!1)}const f=[],h=Object.assign(wBe,{defaultVisitor:d,convertValue:u,isVisitable:aT});function m(p,g){if(!Te.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(p),Te.forEach(p,function(y,b){(!(Te.isUndefined(y)||y===null)&&a.call(t,y,Te.isString(b)?b.trim():b,g,h))===!0&&m(y,g?g.concat(b):[b])}),f.pop()}}if(!Te.isObject(e))throw new TypeError("data must be an object");return m(e),t}function M$(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function i4(e,t){this._pairs=[],e&&uj(e,this,t)}const UY=i4.prototype;UY.append=function(t,r){this._pairs.push([t,r])};UY.toString=function(t){const r=t?function(n){return t.call(this,n,M$)}:M$;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function _Be(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function zY(e,t,r){if(!t)return e;const n=r&&r.encode||_Be;Te.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=Te.isURLSearchParams(t)?t.toString():new i4(t,r).toString(n),s){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class F${constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Te.forEach(this.handlers,function(n){n!==null&&t(n)})}}const VY={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},SBe=typeof URLSearchParams<"u"?URLSearchParams:i4,jBe=typeof FormData<"u"?FormData:null,kBe=typeof Blob<"u"?Blob:null,NBe={isBrowser:!0,classes:{URLSearchParams:SBe,FormData:jBe,Blob:kBe},protocols:["http","https","file","blob","url","data"]},o4=typeof window<"u"&&typeof document<"u",sT=typeof navigator=="object"&&navigator||void 0,CBe=o4&&(!sT||["ReactNative","NativeScript","NS"].indexOf(sT.product)<0),EBe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",TBe=o4&&window.location.href||"http://localhost",ABe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:o4,hasStandardBrowserEnv:CBe,hasStandardBrowserWebWorkerEnv:EBe,navigator:sT,origin:TBe},Symbol.toStringTag,{value:"Module"})),Aa={...ABe,...NBe};function OBe(e,t){return uj(e,new Aa.classes.URLSearchParams,{visitor:function(r,n,a,s){return Aa.isNode&&Te.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function PBe(e){return Te.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function DBe(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function WY(e){function t(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&Te.isArray(a)?a.length:i,c?(Te.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!Te.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],s)&&Te.isArray(a[i])&&(a[i]=DBe(a[i])),!l)}if(Te.isFormData(e)&&Te.isFunction(e.entries)){const r={};return Te.forEachEntry(e,(n,a)=>{t(PBe(n),a,r,0)}),r}return null}function RBe(e,t,r){if(Te.isString(e))try{return(t||JSON.parse)(e),Te.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const ay={transitional:VY,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=Te.isObject(t);if(s&&Te.isHTMLForm(t)&&(t=new FormData(t)),Te.isFormData(t))return a?JSON.stringify(WY(t)):t;if(Te.isArrayBuffer(t)||Te.isBuffer(t)||Te.isStream(t)||Te.isFile(t)||Te.isBlob(t)||Te.isReadableStream(t))return t;if(Te.isArrayBufferView(t))return t.buffer;if(Te.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return OBe(t,this.formSerializer).toString();if((l=Te.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return uj(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),RBe(t)):t}],transformResponse:[function(t){const r=this.transitional||ay.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Te.isResponse(t)||Te.isReadableStream(t))return t;if(t&&Te.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Mt.from(l,Mt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Aa.classes.FormData,Blob:Aa.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Te.forEach(["delete","get","head","post","put","patch"],e=>{ay.headers[e]={}});const IBe=Te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),MBe=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&IBe[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},L$=Symbol("internals");function B0(e){return e&&String(e).trim().toLowerCase()}function Xb(e){return e===!1||e==null?e:Te.isArray(e)?e.map(Xb):String(e)}function FBe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const LBe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function gN(e,t,r,n,a){if(Te.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!Te.isString(t)){if(Te.isString(n))return t.indexOf(n)!==-1;if(Te.isRegExp(n))return n.test(t)}}function $Be(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function BBe(e,t){const r=Te.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,i){return this[n].call(this,t,a,s,i)},configurable:!0})})}class Os{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=B0(c);if(!d)throw new Error("header name must be a non-empty string");const f=Te.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Xb(l))}const i=(l,c)=>Te.forEach(l,(u,d)=>s(u,d,c));if(Te.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(Te.isString(t)&&(t=t.trim())&&!LBe(t))i(MBe(t),r);else if(Te.isObject(t)&&Te.isIterable(t)){let l={},c,u;for(const d of t){if(!Te.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Te.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=B0(t),t){const n=Te.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return FBe(a);if(Te.isFunction(r))return r.call(this,a,n);if(Te.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=B0(t),t){const n=Te.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||gN(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(i){if(i=B0(i),i){const l=Te.findKey(n,i);l&&(!r||gN(n,n[l],l,r))&&(delete n[l],a=!0)}}return Te.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||gN(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return Te.forEach(this,(a,s)=>{const i=Te.findKey(n,s);if(i){r[i]=Xb(a),delete r[s];return}const l=t?$Be(s):String(s).trim();l!==s&&delete r[s],r[l]=Xb(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Te.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&Te.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[L$]=this[L$]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=B0(i);n[l]||(BBe(a,i),n[l]=!0)}return Te.isArray(t)?t.forEach(s):s(t),this}}Os.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Te.reduceDescriptors(Os.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Te.freezeMethods(Os);function vN(e,t){const r=this||ay,n=t||r,a=Os.from(n.headers);let s=n.data;return Te.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function HY(e){return!!(e&&e.__CANCEL__)}function d0(e,t,r){Mt.call(this,e??"canceled",Mt.ERR_CANCELED,t,r),this.name="CanceledError"}Te.inherits(d0,Mt,{__CANCEL__:!0});function qY(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Mt("Request failed with status code "+r.status,[Mt.ERR_BAD_REQUEST,Mt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function UBe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function zBe(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-i<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function VBe(e,t){let r=0,n=1e3/t,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const Xw=(e,t,r=3)=>{let n=0;const a=zBe(50,250);return VBe(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},$$=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},B$=e=>(...t)=>Te.asap(()=>e(...t)),WBe=Aa.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Aa.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Aa.origin),Aa.navigator&&/(msie|trident)/i.test(Aa.navigator.userAgent)):()=>!0,HBe=Aa.hasStandardBrowserEnv?{write(e,t,r,n,a,s,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Te.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Te.isString(n)&&l.push(`path=${n}`),Te.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),Te.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function qBe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function KBe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function KY(e,t,r){let n=!qBe(t);return e&&(n||r==!1)?KBe(e,t):t}const U$=e=>e instanceof Os?{...e}:e;function Of(e,t){t=t||{};const r={};function n(u,d,f,h){return Te.isPlainObject(u)&&Te.isPlainObject(d)?Te.merge.call({caseless:h},u,d):Te.isPlainObject(d)?Te.merge({},d):Te.isArray(d)?d.slice():d}function a(u,d,f,h){if(Te.isUndefined(d)){if(!Te.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!Te.isUndefined(d))return n(void 0,d)}function i(u,d){if(Te.isUndefined(d)){if(!Te.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(U$(u),U$(d),f,!0)};return Te.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);Te.isUndefined(h)&&f!==l||(r[d]=h)}),r}const GY=e=>{const t=Of({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=t;if(t.headers=i=Os.from(i),t.url=zY(KY(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Te.isFormData(r)){if(Aa.hasStandardBrowserEnv||Aa.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Te.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Aa.hasStandardBrowserEnv&&(n&&Te.isFunction(n)&&(n=n(t)),n||n!==!1&&WBe(t.url))){const c=a&&s&&HBe.read(s);c&&i.set(a,c)}return t},GBe=typeof XMLHttpRequest<"u",YBe=GBe&&function(e){return new Promise(function(r,n){const a=GY(e);let s=a.data;const i=Os.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,p;function g(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function y(){if(!v)return;const w=Os.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};qY(function(j){r(j),g()},function(j){n(j),g()},S),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new Mt("Request aborted",Mt.ECONNABORTED,e,v)),v=null)},v.onerror=function(_){const S=_&&_.message?_.message:"Network Error",k=new Mt(S,Mt.ERR_NETWORK,e,v);k.event=_||null,n(k),v=null},v.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||VY;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),n(new Mt(_,S.clarifyTimeoutError?Mt.ETIMEDOUT:Mt.ECONNABORTED,e,v)),v=null},s===void 0&&i.setContentType(null),"setRequestHeader"in v&&Te.forEach(i.toJSON(),function(_,S){v.setRequestHeader(S,_)}),Te.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([h,p]=Xw(u,!0),v.addEventListener("progress",h)),c&&v.upload&&([f,m]=Xw(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=w=>{v&&(n(!w||w.type?new d0(null,e,v):w),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=UBe(a.url);if(b&&Aa.protocols.indexOf(b)===-1){n(new Mt("Unsupported protocol "+b+":",Mt.ERR_BAD_REQUEST,e));return}v.send(s||null)})},XBe=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Mt?d:new d0(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,s(new Mt(`timeout ${t} of ms exceeded`,Mt.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>Te.asap(l),c}},JBe=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},QBe=async function*(e,t){for await(const r of ZBe(e))yield*JBe(r,t)},ZBe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},z$=(e,t,r,n)=>{const a=QBe(e,t);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},V$=64*1024,{isFunction:mb}=Te,eUe=(({Request:e,Response:t})=>({Request:e,Response:t}))(Te.global),{ReadableStream:W$,TextEncoder:H$}=Te.global,q$=(e,...t)=>{try{return!!e(...t)}catch{return!1}},tUe=e=>{e=Te.merge.call({skipUndefined:!0},eUe,e);const{fetch:t,Request:r,Response:n}=e,a=t?mb(t):typeof fetch=="function",s=mb(r),i=mb(n);if(!a)return!1;const l=a&&mb(W$),c=a&&(typeof H$=="function"?(p=>g=>p.encode(g))(new H$):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=s&&l&&q$(()=>{let p=!1;const g=new r(Aa.origin,{body:new W$,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!g}),d=i&&l&&q$(()=>Te.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(g,v)=>{let y=g&&g[p];if(y)return y.call(g);throw new Mt(`Response type '${p}' is not supported`,Mt.ERR_NOT_SUPPORT,v)})});const h=async p=>{if(p==null)return 0;if(Te.isBlob(p))return p.size;if(Te.isSpecCompliantForm(p))return(await new r(Aa.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(Te.isArrayBufferView(p)||Te.isArrayBuffer(p))return p.byteLength;if(Te.isURLSearchParams(p)&&(p=p+""),Te.isString(p))return(await c(p)).byteLength},m=async(p,g)=>{const v=Te.toFiniteNumber(p.getContentLength());return v??h(g)};return async p=>{let{url:g,method:v,data:y,signal:b,cancelToken:w,timeout:_,onDownloadProgress:S,onUploadProgress:k,responseType:j,headers:N,withCredentials:C="same-origin",fetchOptions:T}=GY(p),D=t||fetch;j=j?(j+"").toLowerCase():"text";let A=XBe([b,w&&w.toAbortSignal()],_),H=null;const X=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let L;try{if(k&&u&&v!=="get"&&v!=="head"&&(L=await m(N,y))!==0){let Q=new r(g,{method:"POST",body:y,duplex:"half"}),E;if(Te.isFormData(y)&&(E=Q.headers.get("content-type"))&&N.setContentType(E),Q.body){const[B,U]=$$(L,Xw(B$(k)));y=z$(Q.body,V$,B,U)}}Te.isString(C)||(C=C?"include":"omit");const I=s&&"credentials"in r.prototype,W={...T,signal:A,method:v.toUpperCase(),headers:N.normalize().toJSON(),body:y,duplex:"half",credentials:I?C:void 0};H=s&&new r(g,W);let F=await(s?D(H,T):D(g,W));const M=d&&(j==="stream"||j==="response");if(d&&(S||M&&X)){const Q={};["status","statusText","headers"].forEach(q=>{Q[q]=F[q]});const E=Te.toFiniteNumber(F.headers.get("content-length")),[B,U]=S&&$$(E,Xw(B$(S),!0))||[];F=new n(z$(F.body,V$,B,()=>{U&&U(),X&&X()}),Q)}j=j||"text";let G=await f[Te.findKey(f,j)||"text"](F,p);return!M&&X&&X(),await new Promise((Q,E)=>{qY(Q,E,{data:G,headers:Os.from(F.headers),status:F.status,statusText:F.statusText,config:p,request:H})})}catch(I){throw X&&X(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new Mt("Network Error",Mt.ERR_NETWORK,p,H),{cause:I.cause||I}):Mt.from(I,I&&I.code,p,H)}}},rUe=new Map,YY=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let i=s.length,l=i,c,u,d=rUe;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:tUe(t)),d=u;return u};YY();const l4={http:yBe,xhr:YBe,fetch:{get:YY}};Te.forEach(l4,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const K$=e=>`- ${e}`,nUe=e=>Te.isFunction(e)||e===null||e===!1;function aUe(e,t){e=Te.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let i=0;i<r;i++){n=e[i];let l;if(a=n,!nUe(n)&&(a=l4[(l=String(n)).toLowerCase()],a===void 0))throw new Mt(`Unknown adapter '${l}'`);if(a&&(Te.isFunction(a)||(a=a.get(t))))break;s[l||"#"+i]=a}if(!a){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(K$).join(`
`):" "+K$(i[0]):"as no adapter specified";throw new Mt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const XY={getAdapter:aUe,adapters:l4};function xN(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new d0(null,e)}function G$(e){return xN(e),e.headers=Os.from(e.headers),e.data=vN.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),XY.getAdapter(e.adapter||ay.adapter,e)(e).then(function(n){return xN(e),n.data=vN.call(e,e.transformResponse,n),n.headers=Os.from(n.headers),n},function(n){return HY(n)||(xN(e),n&&n.response&&(n.response.data=vN.call(e,e.transformResponse,n.response),n.response.headers=Os.from(n.response.headers))),Promise.reject(n)})}const JY="1.13.2",dj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{dj[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Y$={};dj.transitional=function(t,r,n){function a(s,i){return"[Axios v"+JY+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(t===!1)throw new Mt(a(i," has been removed"+(r?" in "+r:"")),Mt.ERR_DEPRECATED);return r&&!Y$[i]&&(Y$[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,i,l):!0}};dj.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function sUe(e,t,r){if(typeof e!="object")throw new Mt("options must be an object",Mt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],i=t[s];if(i){const l=e[s],c=l===void 0||i(l,s,e);if(c!==!0)throw new Mt("option "+s+" must be "+c,Mt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Mt("Unknown option "+s,Mt.ERR_BAD_OPTION)}}const Jb={assertOptions:sUe,validators:dj},Ho=Jb.validators;class cf{constructor(t){this.defaults=t||{},this.interceptors={request:new F$,response:new F$}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Of(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Jb.assertOptions(n,{silentJSONParsing:Ho.transitional(Ho.boolean),forcedJSONParsing:Ho.transitional(Ho.boolean),clarifyTimeoutError:Ho.transitional(Ho.boolean)},!1),a!=null&&(Te.isFunction(a)?r.paramsSerializer={serialize:a}:Jb.assertOptions(a,{encode:Ho.function,serialize:Ho.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Jb.assertOptions(r,{baseUrl:Ho.spelling("baseURL"),withXsrfToken:Ho.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&Te.merge(s.common,s[r.method]);s&&Te.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=Os.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,h;if(!c){const p=[G$.bind(this),void 0];for(p.unshift(...l),p.push(...u),h=p.length,d=Promise.resolve(r);f<h;)d=d.then(p[f++],p[f++]);return d}h=l.length;let m=r;for(;f<h;){const p=l[f++],g=l[f++];try{m=p(m)}catch(v){g.call(this,v);break}}try{d=G$.call(this,m)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Of(this.defaults,t);const r=KY(t.baseURL,t.url,t.allowAbsoluteUrls);return zY(r,t.params,t.paramsSerializer)}}Te.forEach(["delete","get","head","options"],function(t){cf.prototype[t]=function(r,n){return this.request(Of(n||{},{method:t,url:r,data:(n||{}).data}))}});Te.forEach(["post","put","patch"],function(t){function r(n){return function(s,i,l){return this.request(Of(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}cf.prototype[t]=r(),cf.prototype[t+"Form"]=r(!0)});class c4{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},t(function(s,i,l){n.reason||(n.reason=new d0(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new c4(function(a){t=a}),cancel:t}}}function iUe(e){return function(r){return e.apply(null,r)}}function oUe(e){return Te.isObject(e)&&e.isAxiosError===!0}const iT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(iT).forEach(([e,t])=>{iT[t]=e});function QY(e){const t=new cf(e),r=AY(cf.prototype.request,t);return Te.extend(r,cf.prototype,t,{allOwnKeys:!0}),Te.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return QY(Of(e,a))},r}const $r=QY(ay);$r.Axios=cf;$r.CanceledError=d0;$r.CancelToken=c4;$r.isCancel=HY;$r.VERSION=JY;$r.toFormData=uj;$r.AxiosError=Mt;$r.Cancel=$r.CanceledError;$r.all=function(t){return Promise.all(t)};$r.spread=iUe;$r.isAxiosError=oUe;$r.mergeConfig=Of;$r.AxiosHeaders=Os;$r.formToJSON=e=>WY(Te.isHTMLForm(e)?new FormData(e):e);$r.getAdapter=XY.getAdapter;$r.HttpStatusCode=iT;$r.default=$r;const U0="https://app.chatwoot.com",qo="pMLFqLKix7PAnMnWJDorh2ne",Ko="144075",pb={async getConversations(e="open",t=1){var r;try{const a=(await $r.get(`${U0}/api/v1/accounts/${Ko}/conversations`,{headers:{api_access_token:qo},params:{status:e,page:t}})).data;return(r=a==null?void 0:a.data)!=null&&r.payload?a.data.payload:a!=null&&a.payload?a.payload:[]}catch(n){return console.error("[Chatwoot] Failed to fetch conversations:",n),[]}},async getMessages(e){try{return(await $r.get(`${U0}/api/v1/accounts/${Ko}/conversations/${e}/messages`,{headers:{api_access_token:qo}})).data.payload||[]}catch(t){return console.error(`[Chatwoot] Failed to fetch messages for conversation ${e}:`,t),[]}},async sendMessage(e,t,r=!1){try{return(await $r.post(`${U0}/api/v1/accounts/${Ko}/conversations/${e}/messages`,{content:t,message_type:r?"private":"outgoing",private:r},{headers:{api_access_token:qo}})).data}catch(n){throw console.error(`[Chatwoot] Failed to send message to ${e}:`,n),n}},async toggleStatus(e,t){try{await $r.post(`${U0}/api/v1/accounts/${Ko}/conversations/${e}/toggle_status`,{status:t},{headers:{api_access_token:qo}})}catch(r){throw console.error(`[Chatwoot] Failed to toggle status for ${e}:`,r),r}},async getInboxes(){try{return(await $r.get(`${U0}/api/v1/accounts/${Ko}/inboxes`,{headers:{api_access_token:qo}})).data.payload||[]}catch(e){return console.error("[Chatwoot] Failed to fetch inboxes:",e),[]}}};function lUe(){const{t:e}=$t();hr(),Al();const[t,r]=x.useState([]),[n,a]=x.useState(null),[s,i]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[m,p]=x.useState(""),[g,v]=x.useState("open"),y=x.useRef(null);x.useEffect(()=>{b(g);const N=setInterval(()=>{b(g,!0)},3e4);return()=>clearInterval(N)},[g]),x.useEffect(()=>{if(n){w(n.id);const N=setInterval(()=>w(n.id),1e4);return()=>clearInterval(N)}},[n]),x.useEffect(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)},[s]);const b=async(N,C=!1)=>{C||c(!0);try{const T=await pb.getConversations(N);r(T||[])}catch(T){console.error("Failed to load conversations:",T),C||console.error("User notification skipped for load error")}finally{C||c(!1)}},w=async N=>{s.length===0&&d(!0);try{const C=await pb.getMessages(N);i(C)}catch(C){console.error("Failed to load messages",C)}finally{d(!1)}},_=async()=>{if(!(!m.trim()||!n)){h(!0);try{const N=await pb.sendMessage(n.id,m);N&&(i(C=>[...C,N]),p(""))}catch(N){console.error("Failed to send message",N)}finally{h(!1)}}},S=async N=>{try{const C=g==="open"?"resolved":"open";await pb.toggleStatus(N,C),g!=="all"?(r(T=>T.filter(D=>D.id!==N)),(n==null?void 0:n.id)===N&&(a(null),i([]))):(r(T=>T.map(D=>D.id===N?{...D,status:C}:D)),b(g))}catch(C){console.error("Failed to toggle status",C)}},k=N=>N!=null&&N.includes("email")?o.jsx(wh,{className:"h-4 w-4"}):N!=null&&N.includes("whatsapp")?o.jsx(af,{className:"h-4 w-4"}):o.jsx($u,{className:"h-4 w-4"}),j=N=>new Date(N*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return o.jsxs("div",{className:"flex flex-1 overflow-hidden bg-background border rounded-lg shadow-sm",dir:rr()?"rtl":"ltr",children:[o.jsxs("div",{className:"w-80 border-r flex flex-col bg-muted/10",children:[o.jsxs("div",{className:"p-4 border-b space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"font-semibold text-lg",children:e("navigation.chats")}),o.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>b(g),disabled:l,children:o.jsx(uv,{className:`h-4 w-4 ${l?"animate-spin":""}`})})]}),o.jsx(Nl,{defaultValue:"open",onValueChange:N=>v(N),className:"w-full",children:o.jsxs(Bo,{className:"grid w-full grid-cols-3",children:[o.jsx(Hr,{value:"open",children:e("status.open")}),o.jsx(Hr,{value:"resolved",children:e("status.closed")}),o.jsx(Hr,{value:"all",children:e("common.all")})]})}),o.jsxs("div",{className:"relative",children:[o.jsx(Vs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(Ue,{placeholder:e("common.search"),className:"pl-8 bg-background"})]})]}),o.jsx(rs,{className:"flex-1",children:t.length===0&&!l?o.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:e("common.noRecordsFound")}):o.jsx("div",{className:"divide-y",children:t.map(N=>o.jsxs("div",{className:`p-4 cursor-pointer hover:bg-accent/50 transition-colors ${(n==null?void 0:n.id)===N.id?"bg-accent/80 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}`,onClick:()=>a(N),children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Ds,{className:"h-8 w-8",children:[o.jsx(Io,{src:N.meta.sender.thumbnail}),o.jsx(Rs,{children:N.meta.sender.name.charAt(0)})]}),o.jsx("span",{className:"font-medium text-sm truncate max-w-[120px]",children:N.meta.sender.name})]}),o.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:j(N.timestamp)})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[k(N.meta.channel),o.jsx("span",{className:"capitalize",children:N.meta.channel.split(".")[1]||"Web"}),N.status==="resolved"&&o.jsx(ct,{variant:"outline",className:"text-[10px] h-4 px-1 ml-auto",children:e("chats.resolved")})]}),o.jsx("p",{className:"text-sm text-muted-foreground truncate line-clamp-1",children:N.messages&&N.messages.length>0?N.messages[N.messages.length-1].content:e("common.noMessages")||"No messages"})]},N.id))})})]}),o.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:n?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-card",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(Ds,{children:[o.jsx(Io,{src:n.meta.sender.thumbnail}),o.jsx(Rs,{children:n.meta.sender.name.charAt(0)})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:n.meta.sender.name}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.meta.sender.email&&o.jsx("span",{children:n.meta.sender.email}),n.meta.sender.phone_number&&o.jsxs("span",{children:[" ",n.meta.sender.phone_number]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ue,{variant:n.status==="resolved"?"outline":"default",size:"sm",onClick:()=>S(n.id),children:n.status==="resolved"?o.jsxs(o.Fragment,{children:[o.jsx(uv,{className:"mr-2 h-4 w-4"})," ",e("status.reopen")]}):o.jsxs(o.Fragment,{children:[o.jsx(hI,{className:"mr-2 h-4 w-4"})," ",e("status.resolve")]})}),o.jsxs(gO,{children:[o.jsx(vO,{asChild:!0,children:o.jsx(ue,{variant:"ghost",size:"icon",children:o.jsx(GU,{className:"h-4 w-4"})})}),o.jsxs(rS,{align:"end",children:[o.jsx(Jl,{children:e("chats.viewContactDetails")}),o.jsx(Jl,{className:"text-red-500",children:e("chats.deleteConversation")})]})]})]})]}),o.jsx("div",{ref:y,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-muted/5 scroll-smooth",children:u?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):s.map(N=>{const C=N.message_type==="outgoing"||N.sender&&N.sender.type==="user",T=N.private;return o.jsx("div",{className:`flex w-full ${C?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 shadow-sm ${T?"bg-yellow-50 border border-yellow-200":C?"bg-primary text-primary-foreground":"bg-white border text-foreground"}`,children:[T&&o.jsxs("div",{className:"text-[10px] uppercase font-bold text-yellow-600 mb-1 flex items-center gap-1",children:[o.jsx(oie,{className:"h-3 w-3"})," ",e("chats.note")]}),o.jsx("div",{className:"text-sm whitespace-pre-wrap",children:N.content}),o.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${C?"text-primary-foreground/70":"text-muted-foreground"}`,children:[j(N.created_at),C&&o.jsx(hI,{className:"h-3 w-3"})]})]})},N.id)})}),o.jsxs("div",{className:"p-4 border-t bg-background",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ue,{placeholder:e("chats.typeMessage"),value:m,onChange:N=>p(N.target.value),onKeyDown:N=>N.key==="Enter"&&!N.shiftKey&&_(),disabled:f||n.status==="resolved",className:"flex-1"}),o.jsx(ue,{onClick:_,disabled:f||!m.trim()||n.status==="resolved",children:f?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):o.jsx(_x,{className:"h-4 w-4"})})]}),n.status==="resolved"&&o.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:e("chats.resolvedMessage")})]})]}):o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground",children:[o.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mb-4",children:o.jsx($u,{className:"h-8 w-8 text-muted-foreground/50"})}),o.jsx("h3",{className:"text-lg font-semibold mb-1",children:e("chats.selectConversation")}),o.jsx("p",{className:"max-w-xs text-center text-sm",children:e("chats.connectDescription")})]})})]})}const oT={async signUpStaff(e,t,r){console.log("[authService] Creating staff user:",{email:e,userData:r});try{const{data:n,error:a}=await supabase.auth.signUp({email:e,password:t});if(a)throw a;if(!n.user)throw new Error("No user data returned from sign up");console.log("[authService] Auth user created:",n.user.id);const s=await Y.users.create({name:r.name,Email:e,permissions:r.role==="admin"?1:2,IsActive:1,Employee:1,userid:n.user.id});return console.log("[authService] User profile created in MySQL:",s),console.log("[authService] User profile created:",s),{id:n.user.id,email:e,role:r.role,profile:{userid:s.userid,name:s.name||r.name,Email:s.Email||e,permissions:s.permissions||(r.role==="admin"?1:2),IsActive:s.IsActive||1,Employee:s.Employee||1,AccountNumber:s.AccountNumber||null,mobile:s.mobile||null,user_pasword:s.user_pasword||null,pin:s.pin||null,Owner:s.Owner||0,Email_v:s.Email_v||0,isAllBranches:s.isAllBranches||0,Safe:s.Safe||1,created_at:s.created_at||new Date().toISOString(),updated_at:s.updated_at||new Date().toISOString()}}}catch(n){throw console.error("[authService] Error in signUpStaff:",n),n}},async createStaffUser(e,t,r){console.log("[authService] Creating staff user via custom API:",{email:e,userData:r});try{const a=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",a),l=Array.from(new Uint8Array(s)).map(u=>u.toString(16).padStart(2,"0")).join(""),c=await Y.Users.create({name:r.name,Email:e,user_pasword:l,permissions:r.role==="admin"?1:(r.role==="manager",2),IsActive:1,Employee:1,userid:`staff_${Date.now()}_${Math.random().toString(36).substr(2,9)}`});return console.log("[authService] Staff user created successfully:",c),{id:c.userid,email:e,role:r.role,profile:{userid:c.userid,name:c.name||r.name,Email:c.Email||e,permissions:c.permissions||(r.role==="admin"?1:2),IsActive:c.IsActive||1,Employee:c.Employee||1,AccountNumber:c.AccountNumber||null,mobile:c.mobile||null,user_pasword:c.user_pasword||null,pin:c.pin||null,Owner:c.Owner||0,Email_v:c.Email_v||0,isAllBranches:c.isAllBranches||0,Safe:c.Safe||1,created_at:c.created_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString()}}}catch(n){throw console.error("[authService] Error in createStaffUser:",n),n}},async updateUserRole(e,t){console.log("[authService] Updating user role:",{targetUserId:e,newRole:t});try{const r=t==="admin"?1:2;await Y.Users.update(e,{permissions:r}),console.log("[authService] User role updated successfully")}catch(r){throw console.error("[authService] Error in updateUserRole:",r),r}},async updateUser(e,t){console.log("[authService] Updating user details:",{targetUserId:e,userData:t});try{await Y.Users.update(e,t),console.log("[authService] User details updated successfully")}catch(r){throw console.error("[authService] Error in updateUser:",r),r}},async deleteUser(e){console.log("[authService] Deleting user:",e);try{await Y.Users.delete(e),console.log("[authService] User deleted successfully")}catch(t){throw console.error("[authService] Error in deleteUser:",t),t}},async signUpClient(e,t,r){console.log("[authService] Signing up client:",{email:e,...r});const{data:n,error:a}=await supabase.auth.signUp({email:e,password:t});if(a)throw a;if(!n.user)throw new Error("User creation failed");console.log("[authService] Auth user created:",n.user.id);const s=await Y.users.create({name:r.name,Email:e,permissions:3,IsActive:1,Employee:0,mobile:r.contact?String(r.contact):null,userid:n.user.id});return console.log("[authService] User profile created in MySQL:",s),{id:n.user.id,email:e,role:"client",profile:{userid:s.userid,name:s.name||r.name,Email:s.Email||e,permissions:3,mobile:s.mobile||(r.contact?String(r.contact):null),IsActive:1,Employee:0,AccountNumber:null,user_pasword:null,pin:null,Owner:0,Email_v:0,isAllBranches:0,Safe:1,created_at:s.created_at||new Date().toISOString(),updated_at:s.updated_at||new Date().toISOString()}}},async signIn(e,t){var r;console.log("[authService] Signing in with email:",e);try{const{data:n,error:a}=await supabase.auth.signInWithPassword({email:e,password:t});if(a)throw console.error("[authService] Authentication error:",a),a;if(!n.user)throw new Error("Sign in failed: No user data returned");console.log("[authService] User authenticated, fetching profile...");const i=(r=(await Y.users.list({exact_filters:{userid:n.user.id}})).data)==null?void 0:r[0];if(!i)throw console.error("[authService] User profile not found in MySQL for user:",n.user.id),new Error("User profile not found");return console.log("[authService] User profile found in MySQL:",i),{id:n.user.id,email:n.user.email,role:i.permissions===1?"admin":"client",profile:{...i}}}catch(n){throw console.error("[authService] Error in signIn:",n),n}},async signOut(){console.log("[authService] Signing out...");try{const{data:{session:e}}=await supabase.auth.getSession();if(!e){console.warn("[authService] No active session found  skipping signOut()");return}const{error:t}=await supabase.auth.signOut();if(t)throw console.error("[authService] Error signing out:",t),t;console.log("[authService] Sign out successful")}catch(e){throw console.error("[authService] Error in signOut:",e),e}},async signInWithGoogle(e="client"){console.log("[authService] Starting Google OAuth sign-in with role:",e);try{localStorage.setItem("oauth_intended_role",e);const{data:t,error:r}=await supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,data:{intended_role:e},queryParams:{access_type:"offline",prompt:"consent select_account"}}});if(r)throw console.error("[authService] Google OAuth error:",r),localStorage.removeItem("oauth_intended_role"),r;console.log("[authService] Google OAuth initiated successfully with role:",e)}catch(t){throw console.error("[authService] Error in Google sign-in:",t),localStorage.removeItem("oauth_intended_role"),t}},async getFreshJwt(){const{data:{session:e},error:t}=await supabase.auth.getSession();if(t)throw t;if(!(e!=null&&e.access_token))throw new Error("No access token available");return e.access_token},async getCurrentUser(e){var t;try{let r;if(e)r={id:e,email:""};else{const{data:{user:s},error:i}=await supabase.auth.getUser();if(i||!s)return null;r=s}console.log("[authService] Fetching profile for:",r.id);const a=(t=(await Y.users.list({exact_filters:{userid:r.id}})).data)==null?void 0:t[0];return a?{id:r.id,email:a.Email||r.email||"",role:a.permissions===1?"admin":"client",profile:a}:(console.warn("[authService] User not found in Users table, returning minimal profile"),{id:r.id,email:r.email||"",role:"client",profile:{userid:0,name:"User",Email:r.email||"",permissions:3,IsActive:1,Employee:0,AccountNumber:null,mobile:null,user_pasword:null,pin:null,Owner:0,Email_v:0,isAllBranches:0,Safe:1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}})}catch(r){return console.error("[authService] Error in getCurrentUser:",r),null}},onAuthStateChange(e){let t=null;const{data:{subscription:r}}=supabase.auth.onAuthStateChange(async(n,a)=>{if(console.log("[authService] Auth event:",n),a!=null&&a.user){const s=await this.getCurrentUser(a.user.id);JSON.stringify(s)!==JSON.stringify(t)&&(t=s,e(s))}else t!==null&&(t=null,e(null))});return{data:{subscription:r}}}};function cUe(){const{user:e}=hr(),{t}=$t(),[r,n]=x.useState([]),[a,s]=x.useState(null),[i,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState(""),[h,m]=x.useState(!0),[p,g]=x.useState(!1),[v,y]=x.useState(null),[b,w]=x.useState(null),[_,S]=x.useState(!1),[k,j]=x.useState(!0),N=x.useRef(!1),C=x.useRef(null),T=x.useRef(null);x.useEffect(()=>{e&&!N.current&&D()},[e]),x.useEffect(()=>{a&&(T.current!==a.room_id&&H(),C.current!==a.room_id&&A())},[a]),x.useEffect(()=>{a&&(async()=>{try{await Vr.realtime.setAuth(await oT.getFreshJwt());const W=`room:${a.room_id}:messages`,F=Vr.channel(W,{config:{broadcast:{self:!0,ack:!0},private:!0}});return F.on("broadcast",{event:"*"},M=>{var Q;const G=(Q=M.payload)==null?void 0:Q.record;G&&G.message_id&&l(E=>E.some(U=>U.message_id===G.message_id)?E:[...E.filter(U=>!(U.message_id.startsWith("temp-")&&U.userid===G.userid&&U.content===G.content)),G])}),await F.subscribe(),()=>{F.unsubscribe()}}catch(W){console.error("Failed to setup realtime:",W)}})()},[a]),x.useEffect(()=>{g(!1),y(null),w(null),N.current=!1,C.current=null,T.current=null},[e]);const D=async()=>{if(!N.current)try{m(!0);const I=await lo.getUserRooms((e==null?void 0:e.id)||"");n(I),I.length>0&&s(I[0]),g(!0),N.current=!0}catch(I){console.error("Failed to load rooms:",I)}finally{m(!1)}},A=async()=>{if(!(!a||C.current===a.room_id))try{const I=await tu.getByRoom(a.room_id);l(I),y(a.room_id),C.current=a.room_id}catch(I){console.error("Failed to load messages:",I)}},H=async()=>{if(!(!a||T.current===a.room_id))try{const I=await lo.getRoomMembers(a.room_id);u(I),w(a.room_id),T.current=a.room_id}catch(I){console.error("Failed to load room members:",I)}},X=async()=>{if(!d.trim()||!a||!e)return;const I=d.trim(),W={message_id:`temp-${Date.now()}`,room_id:a.room_id,userid:e.id.toString(),content:I,created_at:new Date().toISOString(),metadata:null};l(F=>[...F,W]),f("");try{await tu.create({room_id:a.room_id,userid:e.id.toString(),content:I,metadata:null})}catch(F){console.error("Failed to send message:",F),l(M=>M.filter(G=>G.message_id!==W.message_id)),f(I)}},L=I=>new Date(I).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return h?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx(ua,{size:"xl"})}):o.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-120px)] gap-4 sm:gap-6 pb-6",children:[o.jsxs("div",{className:`flex-col border rounded-lg ${k?"flex w-80":"hidden"} lg:flex lg:w-80`,children:[o.jsx("div",{className:"p-4 border-b",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h2",{className:"text-xl font-semibold",children:t("chats.myChatRooms")})})}),o.jsx(rs,{className:"flex-1 p-4",children:o.jsx("div",{className:"space-y-2",children:r.map(I=>o.jsx(et,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===I.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>s(I),children:o.jsx(ot,{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Fy,{className:"h-5 w-5 text-muted-foreground"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:I.room_name||`Room ${I.room_id.slice(0,8)}`}),o.jsx("p",{className:"text-xs text-muted-foreground",children:I.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},I.room_id))})})]}),a&&o.jsx("div",{className:"md:hidden mb-4",children:o.jsxs(_l,{open:_,onOpenChange:S,children:[o.jsx(aW,{asChild:!0,children:o.jsxs(ue,{variant:"outline",className:"w-full justify-between",children:[o.jsx("span",{className:"truncate",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),o.jsx(Fy,{className:"h-4 w-4 ml-2"})]})}),o.jsx(Lo,{side:"left",className:"w-80 p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:t("chats.myChatRooms")}),o.jsx(rs,{className:"h-[60vh]",children:o.jsx("div",{className:"space-y-2",children:r.map(I=>o.jsx(et,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===I.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>{s(I),S(!1)},children:o.jsx(ot,{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Fy,{className:"h-5 w-5 text-muted-foreground"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:I.room_name||`Room ${I.room_id.slice(0,8)}`}),o.jsx("p",{className:"text-xs text-muted-foreground",children:I.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},I.room_id))})})]})})]})}),o.jsx("div",{className:"flex-1 flex flex-col",children:a?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(ns,{className:"h-4 w-4"}),o.jsxs("span",{children:[c.length," ",t("chats.members")]}),a.is_private&&o.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:t("chats.private")})]})]}),o.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all",onClick:()=>j(!k),children:o.jsx(Aie,{className:"h-4 w-4"})})]}),o.jsx(rs,{className:"flex-1 mb-4",children:o.jsx("div",{className:"space-y-4 p-4",children:b===a.room_id&&i.map(I=>{var F,M,G,Q,E;let W;return I.userid===((F=e==null?void 0:e.id)==null?void 0:F.toString())?W={userid:e.id.toString(),user_name:((M=e.profile)==null?void 0:M.user_name)||e.email||t("chats.you"),avatar:(G=e.profile)==null?void 0:G.avatar,user_id:((Q=e.profile)==null?void 0:Q.user_id)||0,user_email:e.email}:W=c.find(B=>B.userid===I.userid),W||(W={userid:I.userid,user_name:t("chats.unknownUser"),avatar:"",user_id:0}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(Ds,{className:"h-8 w-8",children:[o.jsx(Io,{src:W.avatar||""}),o.jsx(Rs,{children:((E=W.user_name)==null?void 0:E.charAt(0))||"?"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-medium text-sm",children:W.user_name}),o.jsx("span",{className:"text-xs text-muted-foreground",children:L(I.created_at)})]}),o.jsx("p",{className:"text-sm",children:I.content})]})]},I.message_id)})})}),o.jsxs("div",{className:"flex gap-2 p-4 border-t",children:[o.jsx(Ue,{value:d,onChange:I=>f(I.target.value),placeholder:t("chats.typeMessage"),onKeyPress:I=>I.key==="Enter"&&X(),className:"flex-1"}),o.jsx(ue,{onClick:X,disabled:!d.trim(),children:o.jsx(_x,{className:"h-4 w-4"})})]})]}):o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx(Fy,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:t("chats.selectRoom")})]})})})]})}function uUe(){const{isRTL:e}=La();un();const[t,r]=x.useState(null),[n,a]=x.useState([]),[s,i]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState(!0),{user:f,signOut:h}=hr();x.useEffect(()=>{(async()=>{if(f!=null&&f.id)try{d(!0);const g=await Gc.getByUserAuthId(f.id);a(g)}catch(g){console.error("Failed to fetch user projects:",g)}finally{d(!1)}})()},[f==null?void 0:f.id]),x.useEffect(()=>{(async()=>{if(t)try{const[g,v]=await Promise.all([zd.getAll(),tT.getByTask(0)]),y=g.filter(b=>!0);i(y),c(v)}catch(g){console.error("Failed to fetch project data:",g)}})()},[t]);const m=t?n.find(p=>p.project_id===t):null;return o.jsxs("div",{className:"space-y-6",dir:e?"rtl":"ltr",children:[o.jsx("header",{className:"border-b bg-card",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("h1",{className:"text-xl font-bold",children:"Client Portal"})]}),o.jsxs(ue,{variant:"ghost",size:"sm",children:[o.jsx(Nie,{className:"h-4 w-4 mr-2"}),"Logout"]})]})}),o.jsxs("div",{className:"container mx-auto px-6 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold",children:["Hello, ",Ee((f==null?void 0:f.profile)||{},"user_name"),"! "]}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Here's your project progress"})]}),m?o.jsxs("div",{children:[o.jsx(ue,{variant:"ghost",className:"mb-4",onClick:()=>r(null),children:" Back to Projects"}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(et,{children:[o.jsx(Bt,{children:o.jsx(lr,{children:m.project_name})}),o.jsxs(ot,{children:[o.jsx("p",{className:"text-muted-foreground",children:m.project_description||"No description available"}),o.jsxs("div",{className:"mt-4",children:[o.jsx(Af,{value:m.progress||0,className:"h-3"}),o.jsxs("div",{className:"text-right mt-2 text-sm font-semibold",children:[m.progress||0,"% Complete"]})]})]})]}),o.jsxs(Nl,{defaultValue:"tasks",children:[o.jsxs(Bo,{children:[o.jsx(Hr,{value:"tasks",children:"Tasks"}),o.jsx(Hr,{value:"images",children:"Gallery"}),o.jsx(Hr,{value:"comments",children:"Comments"})]}),o.jsx(_n,{value:"tasks",className:"space-y-3",children:s.filter(p=>p.stage_id!==null).map(p=>{var g;return o.jsx(et,{children:o.jsx(ot,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:p.task_name}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:p.description||"No description"})]}),o.jsxs(ct,{variant:p.task_status==="completed"?"default":"secondary",children:[p.task_status==="completed"?"":""," ",((g=p.task_status)==null?void 0:g.replace("_"," "))||"pending"]})]})})},p.task_id)})}),o.jsx(_n,{value:"images",children:o.jsx(et,{children:o.jsx(ot,{className:"pt-6",children:o.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(p=>o.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:""})},p))})})})}),o.jsx(_n,{value:"comments",children:o.jsx(et,{children:o.jsxs(ot,{className:"pt-6 space-y-4",children:[l.map(p=>o.jsxs("div",{className:"flex gap-3 pb-4 border-b last:border-0",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-sm",children:"Team Member"}),o.jsx("p",{className:"text-sm mt-1",children:p.message||"No message"}),o.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:p.created_date?new Date(p.created_date).toLocaleString():"Unknown date"})]})]},p.comment_id)),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsx(Ue,{placeholder:"Add a comment..."}),o.jsx(ue,{children:o.jsx($u,{className:"h-4 w-4"})})]})]})})})]})]}),o.jsx("div",{children:o.jsxs(et,{children:[o.jsx(Bt,{children:o.jsx(lr,{className:"text-lg",children:"Timeline"})}),o.jsxs(ot,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium",children:"Created Date"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:m.created_date?new Date(m.created_date).toLocaleDateString():"N/A"})]}),m.end_date&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium",children:"End Date"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(m.end_date).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:"Milestones"}),o.jsxs("div",{className:"space-y-2 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsx("span",{children:"Project Kickoff"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsx("span",{children:"Design Phase"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-blue-500",children:""}),o.jsx("span",{children:"Development Phase"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:""}),o.jsx("span",{children:"Testing & Launch"})]})]})]})]})]})})]})]}):u?o.jsx(ua,{size:"xl"}):n.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Projects Found"}),o.jsx("p",{className:"text-muted-foreground",children:"You don't have any projects assigned yet."})]}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(p=>o.jsxs(et,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>r(p.project_id),children:[o.jsxs(Bt,{children:[o.jsx(lr,{className:"text-lg",children:p.project_name}),o.jsxs(ct,{className:"w-fit mt-2",variant:"secondary",children:["Stage ",p.stage||"N/A"]})]}),o.jsx(ot,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Progress"}),o.jsxs("span",{className:"font-semibold",children:[p.progress||0,"%"]})]}),o.jsx(Af,{value:p.progress||0,className:"h-2"})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Created: ",p.created_date?new Date(p.created_date).toLocaleDateString():"N/A"]}),o.jsx(ue,{className:"w-full",variant:"outline",children:"View Details "})]})})]},p.project_id))})]})]})}const dUe=()=>{const e=zs(),{t}=$t(),{toast:r}=Al(),{companyName:n}=u9(),a=[{icon:o.jsx(nf,{className:"h-6 w-6"}),title:t("landing.features.projectManagement.title"),description:t("landing.features.projectManagement.description")},{icon:o.jsx(ns,{className:"h-6 w-6"}),title:t("landing.features.leadManagement.title"),description:t("landing.features.leadManagement.description")},{icon:o.jsx(hie,{className:"h-6 w-6"}),title:t("landing.features.analytics.title"),description:t("landing.features.analytics.description")},{icon:o.jsx($u,{className:"h-6 w-6"}),title:t("landing.features.communication.title"),description:t("landing.features.communication.description")},{icon:o.jsx(yg,{className:"h-6 w-6"}),title:t("landing.features.taskManagement.title"),description:t("landing.features.taskManagement.description")},{icon:o.jsx(A1,{className:"h-6 w-6"}),title:t("landing.features.security.title"),description:t("landing.features.security.description")}];return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[o.jsx("header",{className:"relative z-10 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between py-4 sm:py-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:(n==null?void 0:n.charAt(0))||"M"})}),o.jsx("span",{className:"text-xl font-bold text-gray-900",children:n})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(sz,{}),o.jsx(ue,{onClick:()=>e("/login"),className:"shadow-lg hover:shadow-xl transition-all duration-200",children:t("buttons.login")})]})]})}),o.jsxs("section",{className:"relative px-4 sm:px-6 lg:px-8 pb-12 sm:pb-16 lg:pb-20",children:[o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center",children:[o.jsxs(ct,{variant:"secondary",className:"mb-4 px-3 py-1 text-sm font-medium",children:[o.jsx(YU,{className:"h-3 w-3 mr-1"}),t("landing.badge")]}),o.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:[t("landing.hero.title.line1"),o.jsx("span",{className:"text-primary block",children:t("landing.hero.title.line2")})]}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:t("landing.hero.description")}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[o.jsxs(ue,{size:"lg",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group",children:[t("landing.hero.cta.primary"),o.jsx(cie,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),o.jsx(ue,{variant:"outline",size:"lg",className:"px-8 py-3 text-lg",children:t("landing.hero.cta.secondary")})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.users")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.usersLabel")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.projects")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.projectsLabel")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.uptime")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.uptimeLabel")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.support")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.supportLabel")})]})]})]})}),o.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-400/10 rounded-full blur-3xl"})]})]}),o.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20 bg-white/50 backdrop-blur-sm",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:t("landing.features.title")}),o.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:t("landing.features.subtitle")})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:a.map((s,i)=>o.jsx(et,{className:"group hover:shadow-lg transition-all duration-200 border-0 shadow-md bg-white/80 backdrop-blur-sm",children:o.jsxs(ot,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:s.icon}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.title})]}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:s.description})]})},i))})]})}),o.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch",children:[o.jsx(et,{className:"bg-gradient-to-r from-primary to-blue-600 text-white border-0 shadow-2xl flex flex-col justify-center",children:o.jsxs(ot,{className:"p-8 sm:p-12 text-center",children:[o.jsx(XU,{className:"h-12 w-12 mx-auto mb-6 text-primary-foreground/80"}),o.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:t("landing.cta.title")}),o.jsx("p",{className:"text-lg mb-8 text-primary-foreground/90 max-w-2xl mx-auto",children:t("landing.cta.description")}),o.jsxs(ue,{size:"lg",variant:"secondary",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group w-full sm:w-auto",children:[t("landing.cta.button"),o.jsx(sf,{className:"ml-2 h-5 w-5 group-hover:scale-110 transition-transform"})]})]})}),o.jsx(et,{className:"border-0 shadow-2xl bg-white/80 backdrop-blur-sm",children:o.jsxs(ot,{className:"p-8 sm:p-12",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:t("landing.partner.title")}),o.jsx("p",{className:"text-gray-600",children:t("landing.partner.subtitle")})]}),o.jsxs("form",{className:"space-y-4",onSubmit:async s=>{s.preventDefault();const i=s.target,l=new FormData(i);try{await Gb.createApplication({company_name:l.get("company_name"),full_name:l.get("full_name"),email:l.get("email"),phone:l.get("phone")}),r({title:t("landing.partner.success"),description:t("landing.partner.successMessage")}),i.reset()}catch{r({title:"Error",description:"Failed to submit application. Please try again.",variant:"destructive"})}},children:[o.jsx("div",{className:"space-y-2",children:o.jsx(Ue,{name:"company_name",placeholder:t("landing.partner.companyName"),required:!0,className:"bg-white"})}),o.jsx("div",{className:"space-y-2",children:o.jsx(Ue,{name:"full_name",placeholder:t("landing.partner.fullName"),required:!0,className:"bg-white"})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(Ue,{name:"email",type:"email",placeholder:t("landing.partner.email"),required:!0,className:"bg-white"}),o.jsx(Ue,{name:"phone",type:"tel",placeholder:t("landing.partner.phone"),required:!0,className:"bg-white"})]}),o.jsx(ue,{type:"submit",className:"w-full text-lg h-12",children:t("landing.partner.submit")})]})]})})]})})}),o.jsx("footer",{className:"px-4 sm:px-6 lg:px-8 py-8 border-t border-gray-200 bg-white/50 backdrop-blur-sm",children:o.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx("div",{className:"h-6 w-6 rounded bg-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:(n==null?void 0:n.charAt(0))||"M"})}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[n," CRM"]})]}),o.jsx("p",{className:"text-sm text-gray-600",children:t("landing.footer.copyright",{brand:t("landing.brandName")})})]})})]})},fUe=()=>{const[e,t]=x.useState("loading"),[r,n]=x.useState("Processing authentication..."),a=zs(),{user:s}=hr();return x.useEffect(()=>{let i;return(async()=>{try{if(console.log("[AuthCallback] Handling OAuth callback"),s){console.log("[AuthCallback] User already authenticated by auth context:",s.role),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{s.role==="client"?a("/client-portal"):s.role==="employee"||s.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}console.log("[AuthCallback] Waiting for OAuth session to establish...");let c=0;const u=20,d=async()=>{c++,console.log(`[AuthCallback] Checking session and profile (attempt ${c}/${u})`);try{const{data:{user:f},error:h}=await Vr.auth.getUser();if(h&&console.error("[AuthCallback] User error:",h),f){console.log("[AuthCallback] Found authenticated user:",f.id);const{data:g}=await Vr.from("Users").select("userid").eq("userid",f.id).maybeSingle();if(g){console.log("[AuthCallback] User profile exists, fetching user data...");const v=await oT.getCurrentUser(f.id);if(v){localStorage.removeItem("oauth_intended_role"),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{v.role==="client"?a("/client-portal"):v.role==="employee"||v.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}}else console.log("[AuthCallback] Profile not yet created by trigger, waiting...")}const{data:{session:m},error:p}=await Vr.auth.getSession();if(p&&console.error("[AuthCallback] Session error:",p),m!=null&&m.user){console.log("[AuthCallback] Found session user:",m.user.id);const{data:g}=await Vr.from("Users").select("userid").eq("userid",m.user.id).maybeSingle();if(g){console.log("[AuthCallback] User profile exists, fetching user data...");const v=await oT.getCurrentUser(m.user.id);if(v){localStorage.removeItem("oauth_intended_role"),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{v.role==="client"?a("/client-portal"):v.role==="employee"||v.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}}else console.log("[AuthCallback] Profile not yet created by trigger, waiting...")}c<u?(console.log("[AuthCallback] No session or profile found, waiting and retrying..."),i=setTimeout(d,1e3)):(console.error("[AuthCallback] No session or profile found after maximum attempts"),t("error"),n("Authentication session not established. Please try signing in again."),setTimeout(()=>a("/login"),3e3))}catch(f){console.error("[AuthCallback] Error checking session and profile:",f),c<u?i=setTimeout(d,1e3):(t("error"),n("Authentication failed. Please try again."),setTimeout(()=>a("/login"),3e3))}};d()}catch(c){console.error("[AuthCallback] Error handling callback:",c),t("error"),n("Authentication failed. Please try again."),setTimeout(()=>a("/login"),3e3)}})(),()=>{i&&clearTimeout(i)}},[s,a]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center max-w-md",children:[e==="loading"&&o.jsxs(o.Fragment,{children:[o.jsx(ua,{size:"xl",message:r}),o.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Completing Sign In"}),o.jsx("p",{className:"text-gray-600",children:r})]}),e==="success"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h2",{className:"text-xl font-semibold mb-2 text-green-600",children:"Success!"}),o.jsx("p",{className:"text-gray-600",children:r})]}),e==="error"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"Authentication Failed"}),o.jsx("p",{className:"text-gray-600",children:r})]})]})})},Sp=({className:e,...t})=>o.jsx("nav",{role:"navigation","aria-label":"pagination",className:xe("mx-auto flex w-full justify-center",e),...t});Sp.displayName="Pagination";const jp=x.forwardRef(({className:e,...t},r)=>o.jsx("ul",{ref:r,className:xe("flex flex-row items-center gap-1",e),...t}));jp.displayName="PaginationContent";const Ta=x.forwardRef(({className:e,...t},r)=>o.jsx("li",{ref:r,className:xe("",e),...t}));Ta.displayName="PaginationItem";const u4=({className:e,isActive:t,size:r="icon",...n})=>o.jsx("a",{"aria-current":t?"page":void 0,className:xe(zm({variant:t?"outline":"ghost",size:r}),e),...n});u4.displayName="PaginationLink";const xu=({className:e,children:t,...r})=>o.jsx(u4,{"aria-label":"Go to previous page",size:"default",className:xe("gap-1 pl-2.5",e),...r,children:o.jsx("span",{children:t||"Previous"})});xu.displayName="PaginationPrevious";const yu=({className:e,children:t,...r})=>o.jsx(u4,{"aria-label":"Go to next page",size:"default",className:xe("gap-1 pr-2.5",e),...r,children:o.jsx("span",{children:t||"Next"})});yu.displayName="PaginationNext";/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var ZY=1252,hUe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],d4={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},f4=function(e){hUe.indexOf(e)!=-1&&(ZY=d4[0]=e)};function mUe(){f4(1252)}var So=function(e){f4(e)};function eX(){So(1200),mUe()}function X$(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function pUe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function tX(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var rg=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?pUe(e.slice(2)):t==254&&r==255?tX(e.slice(2)):t==65279?e.slice(1):e},gb=function(t){return String.fromCharCode(t)},J$=function(t){return String.fromCharCode(t)},ru,bu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Q$(e){for(var t="",r=0,n=0,a=0,s=0,i=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),i=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=bu.charAt(s)+bu.charAt(i)+bu.charAt(l)+bu.charAt(c);return t}function mi(e){var t="",r=0,n=0,a=0,s=0,i=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=bu.indexOf(e.charAt(u++)),i=bu.indexOf(e.charAt(u++)),r=s<<2|i>>4,t+=String.fromCharCode(r),l=bu.indexOf(e.charAt(u++)),n=(i&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=bu.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Ht=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Gf=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Vu(e){return Ht?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Z$(e){return Ht?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var bo=function(t){return Ht?Gf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Yf(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function h4(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return h4(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var nu=Ht?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Gf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function gUe(e){for(var t=[],r=0,n=e.length+250,a=Vu(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|l>>6&15|(i&3)<<4,a[r++]=128|l&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Vu(65535),n=65530)}return t.push(a.slice(0,r)),nu(t)}var ds=/\u0000/g,ng=/[\u0001-\u0006]/g;function mm(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function jo(e,t){var r=""+e;return r.length>=t?r:Zr("0",t-r.length)+r}function m4(e,t){var r=""+e;return r.length>=t?r:Zr(" ",t-r.length)+r}function Jw(e,t){var r=""+e;return r.length>=t?r:r+Zr(" ",t-r.length)}function vUe(e,t){var r=""+Math.round(e);return r.length>=t?r:Zr("0",t-r.length)+r}function xUe(e,t){var r=""+e;return r.length>=t?r:Zr("0",t-r.length)+r}var e5=Math.pow(2,32);function yh(e,t){if(e>e5||e<-e5)return vUe(e,t);var r=Math.round(e);return xUe(r,t)}function Qw(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var t5=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],yN=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function yUe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var It={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},r5={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},bUe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Zw(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*i+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=i,i=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=i)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function Wd(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=NUe(c,i))}return l.y=i[0],l.m=i[1],l.d=i[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var rX=new Date(1899,11,31,0,0,0),wUe=rX.getTime(),_Ue=new Date(1900,2,1,0,0,0);function nX(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=_Ue&&(r+=24*60*60*1e3),(r-(wUe+(e.getTimezoneOffset()-rX.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function p4(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function SUe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function jUe(e){var t=e<0?12:11,r=p4(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function kUe(e){var t=p4(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function tx(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=jUe(e):t===10?r=e.toFixed(10).substr(0,12):r=kUe(e),p4(SUe(r.toUpperCase()))}function Pf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):tx(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Wi(14,nX(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function NUe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function CUe(e,t,r,n){var a="",s=0,i=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return yN[r.m-1][1];case 5:return yN[r.m-1][0];default:return yN[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return t5[r.q][0];default:return t5[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?jo(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=jo(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?jo(c,u):"";return d}function wu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var aX=/%/g;function EUe(e,t,r){var n=t.replace(aX,""),a=t.length-n.length;return uc(e,n,r*Math.pow(10,2*a))+Zr("%",a)}function TUe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return uc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function sX(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+sX(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var iX=/# (\?+)( ?)\/( ?)(\d+)/;function AUe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(i===0?Zr(" ",e[1].length+1+e[4].length):m4(i,e[1].length)+e[2]+"/"+e[3]+jo(l,e[4].length))}function OUe(e,t,r){return r+(t===0?"":""+t)+Zr(" ",e[1].length+2+e[4].length)}var oX=/^#*0*\.([0#]+)/,lX=/\).*[0#]/,cX=/\(###\) ###\\?-####/;function Xa(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function n5(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function a5(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function PUe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function DUe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ci(e,t,r){if(e.charCodeAt(0)===40&&!t.match(lX)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ci("n",n,r):"("+Ci("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return TUe(e,t,r);if(t.indexOf("%")!==-1)return EUe(e,t,r);if(t.indexOf("E")!==-1)return sX(t,r);if(t.charCodeAt(0)===36)return"$"+Ci(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+yh(c,t.length);if(t.match(/^[#?]+$/))return a=yh(r,0),a==="0"&&(a=""),a.length>t.length?a:Xa(t.substr(0,t.length-a.length))+a;if(s=t.match(iX))return AUe(s,c,u);if(t.match(/^#+0+$/))return u+yh(c,t.length-t.indexOf("0"));if(s=t.match(oX))return a=n5(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Xa(s[1])).replace(/\.$/,"."+Xa(s[1])).replace(/\.(\d*)$/,function(p,g){return"."+g+Zr("0",Xa(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+n5(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+wu(yh(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ci(e,t,-r):wu(""+(Math.floor(r)+PUe(r,s[1].length)))+"."+jo(a5(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Ci(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=mm(Ci(e,t.replace(/[\\-]/g,""),r)),i=0,mm(mm(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return i<a.length?a.charAt(i++):p==="0"?"0":""}));if(t.match(cX))return a=Ci(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=Zw(c,Math.pow(10,i)-1,!1),a=""+u,d=uc("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Jw(l[2],i),d.length<s[4].length&&(d=Xa(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=Zw(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?m4(l[1],i)+s[2]+"/"+s[3]+Jw(l[2],i):Zr(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=yh(r,0),t.length<=a.length?a:Xa(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return Xa(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=a5(r,s[1].length),r<0?"-"+Ci(e,t,-r):wu(DUe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?jo(0,3-p.length):"")+p})+"."+jo(i,s[1].length);switch(t){case"###,##0.00":return Ci(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=wu(yh(c,0));return m!=="0"?u+m:"";case"###,###.00":return Ci(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ci(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function RUe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return uc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function IUe(e,t,r){var n=t.replace(aX,""),a=t.length-n.length;return uc(e,n,r*Math.pow(10,2*a))+Zr("%",a)}function uX(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+uX(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Xo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(lX)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Xo("n",n,r):"("+Xo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return RUe(e,t,r);if(t.indexOf("%")!==-1)return IUe(e,t,r);if(t.indexOf("E")!==-1)return uX(t,r);if(t.charCodeAt(0)===36)return"$"+Xo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+jo(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Xa(t.substr(0,t.length-a.length))+a;if(s=t.match(iX))return OUe(s,c,u);if(t.match(/^#+0+$/))return u+jo(c,t.length-t.indexOf("0"));if(s=t.match(oX))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Xa(s[1])).replace(/\.$/,"."+Xa(s[1])),a=a.replace(/\.(\d*)$/,function(p,g){return"."+g+Zr("0",Xa(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+wu(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Xo(e,t,-r):wu(""+r)+"."+Zr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Xo(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=mm(Xo(e,t.replace(/[\\-]/g,""),r)),i=0,mm(mm(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return i<a.length?a.charAt(i++):p==="0"?"0":""}));if(t.match(cX))return a=Xo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=Zw(c,Math.pow(10,i)-1,!1),a=""+u,d=uc("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Jw(l[2],i),d.length<s[4].length&&(d=Xa(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=Zw(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?m4(l[1],i)+s[2]+"/"+s[3]+Jw(l[2],i):Zr(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Xa(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return Xa(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Xo(e,t,-r):wu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?jo(0,3-p.length):"")+p})+"."+jo(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=wu(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Xo(e,t.slice(0,t.lastIndexOf(".")),r)+Xa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function uc(e,t,r){return(r|0)===r?Xo(e,t,r):Ci(e,t,r)}function MUe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var dX=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function f0(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Qw(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(dX))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function FUe(e,t,r,n){for(var a=[],s="",i=0,l="",c="t",u,d,f,h="H";i<e.length;)switch(l=e.charAt(i)){case"G":if(!Qw(e,i))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var m=e.charAt(++i),p=m==="("||m===")"?m:"t";a[a.length]={t:p,v:m},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(u==null&&(u=Wd(t,r,e.charAt(i+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},c=l,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Wd(t,r),u==null))return"";for(s=l;++i<e.length&&e.charAt(i).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var g={t:l,v:l};if(u==null&&(u=Wd(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",i+=5,h="h"):(g.t="t",++i),u==null&&g.t==="T")return"";a[a.length]=g,c=l;break;case"[":for(s=l;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(dX)){if(u==null&&(u=Wd(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",f0(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++i<e.length&&(l=e.charAt(i))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++i<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(i))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++i)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++i;break}var v=0,y=0,b;for(i=a.length-1,c="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=h,c="h",v<1&&(v=1);break;case"s":(b=a[i].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[i].t;break;case"m":c==="s"&&(a[i].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[i].v.match(/[Hh]/)&&(v=1),v<2&&a[i].v.match(/[Mm]/)&&(v=2),v<3&&a[i].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",_;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=CUe(a[i].t.charCodeAt(0),a[i].v,u,y),a[i].t="t";break;case"n":case"?":for(_=i+1;a[_]!=null&&((l=a[_].t)==="?"||l==="D"||(l===" "||l==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[i].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[i].v+=a[_].v,a[_]={v:"",t:";"},++_;w+=a[i].v,i=_-1;break;case"G":a[i].t="t",a[i].v=Pf(t,r);break}var S="",k,j;if(w.length>0){w.charCodeAt(0)==40?(k=t<0&&w.charCodeAt(0)===45?-t:t,j=uc("n",w,k)):(k=t<0&&n>1?-t:t,j=uc("n",w,k),k<0&&a[0]&&a[0].t=="t"&&(j=j.substr(1),a[0].v="-"+a[0].v)),_=j.length-1;var N=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){N=i;break}var C=a.length;if(N===a.length&&j.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(_>=a[i].v.length-1?(_-=a[i].v.length,a[i].v=j.substr(_+1,a[i].v.length)):_<0?a[i].v="":(a[i].v=j.substr(0,_+1),_=-1),a[i].t="t",C=i);_>=0&&C<a.length&&(a[C].v=j.substr(0,_+1)+a[C].v)}else if(N!==a.length&&j.indexOf("E")===-1){for(_=j.indexOf(".")-1,i=N;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(d=a[i].v.indexOf(".")>-1&&i===N?a[i].v.indexOf(".")-1:a[i].v.length-1,S=a[i].v.substr(d+1);d>=0;--d)_>=0&&(a[i].v.charAt(d)==="0"||a[i].v.charAt(d)==="#")&&(S=j.charAt(_--)+S);a[i].v=S,a[i].t="t",C=i}for(_>=0&&C<a.length&&(a[C].v=j.substr(0,_+1)+a[C].v),_=j.indexOf(".")+1,i=N;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==N)){for(d=a[i].v.indexOf(".")>-1&&i===N?a[i].v.indexOf(".")+1:0,S=a[i].v.substr(0,d);d<a[i].v.length;++d)_<j.length&&(S+=j.charAt(_++));a[i].v=S,a[i].t="t",C=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(k=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=uc(a[i].t,a[i].v,k),a[i].t="t");var T="";for(i=0;i!==a.length;++i)a[i]!=null&&(T+=a[i].v);return T}var s5=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function i5(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function LUe(e,t){var r=MUe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(s5),l=r[1].match(s5);return i5(t,i)?[n,r[0]]:i5(t,l)?[n,r[1]]:[n,r[i!=null&&l!=null?2:1]]}return[n,s]}function Wi(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:It)[e],n==null&&(n=r.table&&r.table[r5[e]]||It[r5[e]]),n==null&&(n=bUe[e]||"General");break}if(Qw(n,0))return Pf(t,r);t instanceof Date&&(t=nX(t,r.date1904));var a=LUe(n,t);if(Qw(a[1]))return Pf(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return FUe(a[1],t,r,a[0])}function uf(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(It[r]==null){t<0&&(t=r);continue}if(It[r]==e){t=r;break}}t<0&&(t=391)}return It[t]=e,t}function fX(){It=yUe()}var $Ue={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},hX=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function BUe(e){var t=typeof e=="number"?It[e]:e;return t=t.replace(hX,"(\\d+)"),new RegExp("^"+t+"$")}function UUe(e,t,r){var n=-1,a=-1,s=-1,i=-1,l=-1,c=-1;(t.match(hX)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":i=m;break;case"s":c=m;break;case"m":i>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var zUe=function(){var e={};e.version="1.2.0";function t(){for(var j=0,N=new Array(256),C=0;C!=256;++C)j=C,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,N[C]=j;return typeof Int32Array<"u"?new Int32Array(N):N}var r=t();function n(j){var N=0,C=0,T=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(T=0;T!=256;++T)D[T]=j[T];for(T=0;T!=256;++T)for(C=j[T],N=256+T;N<4096;N+=256)C=D[N]=C>>>8^j[C&255];var A=[];for(T=1;T!=16;++T)A[T-1]=typeof Int32Array<"u"?D.subarray(T*256,T*256+256):D.slice(T*256,T*256+256);return A}var a=n(r),s=a[0],i=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],p=a[9],g=a[10],v=a[11],y=a[12],b=a[13],w=a[14];function _(j,N){for(var C=N^-1,T=0,D=j.length;T<D;)C=C>>>8^r[(C^j.charCodeAt(T++))&255];return~C}function S(j,N){for(var C=N^-1,T=j.length-15,D=0;D<T;)C=w[j[D++]^C&255]^b[j[D++]^C>>8&255]^y[j[D++]^C>>16&255]^v[j[D++]^C>>>24]^g[j[D++]]^p[j[D++]]^m[j[D++]]^h[j[D++]]^f[j[D++]]^d[j[D++]]^u[j[D++]]^c[j[D++]]^l[j[D++]]^i[j[D++]]^s[j[D++]]^r[j[D++]];for(T+=15;D<T;)C=C>>>8^r[(C^j[D++])&255];return~C}function k(j,N){for(var C=N^-1,T=0,D=j.length,A=0,H=0;T<D;)A=j.charCodeAt(T++),A<128?C=C>>>8^r[(C^A)&255]:A<2048?(C=C>>>8^r[(C^(192|A>>6&31))&255],C=C>>>8^r[(C^(128|A&63))&255]):A>=55296&&A<57344?(A=(A&1023)+64,H=j.charCodeAt(T++)&1023,C=C>>>8^r[(C^(240|A>>8&7))&255],C=C>>>8^r[(C^(128|A>>2&63))&255],C=C>>>8^r[(C^(128|H>>6&15|(A&3)<<4))&255],C=C>>>8^r[(C^(128|H&63))&255]):(C=C>>>8^r[(C^(224|A>>12&15))&255],C=C>>>8^r[(C^(128|A>>6&63))&255],C=C>>>8^r[(C^(128|A&63))&255]);return~C}return e.table=r,e.bstr=_,e.buf=S,e.str=k,e}(),Kt=function(){var t={};t.version="1.2.1";function r(K,ae){for(var te=K.split("/"),ne=ae.split("/"),R=0,O=0,J=Math.min(te.length,ne.length);R<J;++R){if(O=te[R].length-ne[R].length)return O;if(te[R]!=ne[R])return te[R]<ne[R]?-1:1}return te.length-ne.length}function n(K){if(K.charAt(K.length-1)=="/")return K.slice(0,-1).indexOf("/")===-1?K:n(K.slice(0,-1));var ae=K.lastIndexOf("/");return ae===-1?K:K.slice(0,ae+1)}function a(K){if(K.charAt(K.length-1)=="/")return a(K.slice(0,-1));var ae=K.lastIndexOf("/");return ae===-1?K:K.slice(ae+1)}function s(K,ae){typeof ae=="string"&&(ae=new Date(ae));var te=ae.getHours();te=te<<6|ae.getMinutes(),te=te<<5|ae.getSeconds()>>>1,K.write_shift(2,te);var ne=ae.getFullYear()-1980;ne=ne<<4|ae.getMonth()+1,ne=ne<<5|ae.getDate(),K.write_shift(2,ne)}function i(K){var ae=K.read_shift(2)&65535,te=K.read_shift(2)&65535,ne=new Date,R=te&31;te>>>=5;var O=te&15;te>>>=4,ne.setMilliseconds(0),ne.setFullYear(te+1980),ne.setMonth(O-1),ne.setDate(R);var J=ae&31;ae>>>=5;var le=ae&63;return ae>>>=6,ne.setHours(ae),ne.setMinutes(le),ne.setSeconds(J<<1),ne}function l(K){ra(K,0);for(var ae={},te=0;K.l<=K.length-4;){var ne=K.read_shift(2),R=K.read_shift(2),O=K.l+R,J={};switch(ne){case 21589:te=K.read_shift(1),te&1&&(J.mtime=K.read_shift(4)),R>5&&(te&2&&(J.atime=K.read_shift(4)),te&4&&(J.ctime=K.read_shift(4))),J.mtime&&(J.mt=new Date(J.mtime*1e3));break}K.l=O,ae[ne]=J}return ae}var c;function u(){return c||(c={})}function d(K,ae){if(K[0]==80&&K[1]==75)return xi(K,ae);if((K[0]|32)==109&&(K[1]|32)==105)return Fl(K,ae);if(K.length<512)throw new Error("CFB file size "+K.length+" < 512");var te=3,ne=512,R=0,O=0,J=0,le=0,re=0,de=[],ye=K.slice(0,512);ra(ye,0);var Fe=f(ye);switch(te=Fe[0],te){case 3:ne=512;break;case 4:ne=4096;break;case 0:if(Fe[1]==0)return xi(K,ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+te)}ne!==512&&(ye=K.slice(0,ne),ra(ye,28));var Ce=K.slice(0,ne);h(ye,te);var Pe=ye.read_shift(4,"i");if(te===3&&Pe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Pe);ye.l+=4,J=ye.read_shift(4,"i"),ye.l+=4,ye.chk("00100000","Mini Stream Cutoff Size: "),le=ye.read_shift(4,"i"),R=ye.read_shift(4,"i"),re=ye.read_shift(4,"i"),O=ye.read_shift(4,"i");for(var $e=-1,Ye=0;Ye<109&&($e=ye.read_shift(4,"i"),!($e<0));++Ye)de[Ye]=$e;var pt=m(K,ne);v(re,O,pt,ne,de);var tr=b(pt,J,de,ne);tr[J].name="!Directory",R>0&&le!==H&&(tr[le].name="!MiniFAT"),tr[de[0]].name="!FAT",tr.fat_addrs=de,tr.ssz=ne;var cr={},Ir=[],Gr=[],Qn=[];w(J,tr,pt,Ir,R,cr,Gr,le),p(Gr,Qn,Ir),Ir.shift();var da={FileIndex:Gr,FullPaths:Qn};return ae&&ae.raw&&(da.raw={header:Ce,sectors:pt}),da}function f(K){if(K[K.l]==80&&K[K.l+1]==75)return[0,0];K.chk(X,"Header Signature: "),K.l+=16;var ae=K.read_shift(2,"u");return[K.read_shift(2,"u"),ae]}function h(K,ae){var te=9;switch(K.l+=2,te=K.read_shift(2)){case 9:if(ae!=3)throw new Error("Sector Shift: Expected 9 saw "+te);break;case 12:if(ae!=4)throw new Error("Sector Shift: Expected 12 saw "+te);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+te)}K.chk("0600","Mini Sector Shift: "),K.chk("000000000000","Reserved: ")}function m(K,ae){for(var te=Math.ceil(K.length/ae)-1,ne=[],R=1;R<te;++R)ne[R-1]=K.slice(R*ae,(R+1)*ae);return ne[te-1]=K.slice(te*ae),ne}function p(K,ae,te){for(var ne=0,R=0,O=0,J=0,le=0,re=te.length,de=[],ye=[];ne<re;++ne)de[ne]=ye[ne]=ne,ae[ne]=te[ne];for(;le<ye.length;++le)ne=ye[le],R=K[ne].L,O=K[ne].R,J=K[ne].C,de[ne]===ne&&(R!==-1&&de[R]!==R&&(de[ne]=de[R]),O!==-1&&de[O]!==O&&(de[ne]=de[O])),J!==-1&&(de[J]=ne),R!==-1&&ne!=de[ne]&&(de[R]=de[ne],ye.lastIndexOf(R)<le&&ye.push(R)),O!==-1&&ne!=de[ne]&&(de[O]=de[ne],ye.lastIndexOf(O)<le&&ye.push(O));for(ne=1;ne<re;++ne)de[ne]===ne&&(O!==-1&&de[O]!==O?de[ne]=de[O]:R!==-1&&de[R]!==R&&(de[ne]=de[R]));for(ne=1;ne<re;++ne)if(K[ne].type!==0){if(le=ne,le!=de[le])do le=de[le],ae[ne]=ae[le]+"/"+ae[ne];while(le!==0&&de[le]!==-1&&le!=de[le]);de[ne]=-1}for(ae[0]+="/",ne=1;ne<re;++ne)K[ne].type!==2&&(ae[ne]+="/")}function g(K,ae,te){for(var ne=K.start,R=K.size,O=[],J=ne;te&&R>0&&J>=0;)O.push(ae.slice(J*A,J*A+A)),R-=A,J=Od(te,J*4);return O.length===0?Pn(0):nu(O).slice(0,K.size)}function v(K,ae,te,ne,R){var O=H;if(K===H){if(ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(K!==-1){var J=te[K],le=(ne>>>2)-1;if(!J)return;for(var re=0;re<le&&(O=Od(J,re*4))!==H;++re)R.push(O);v(Od(J,ne-4),ae-1,te,ne,R)}}function y(K,ae,te,ne,R){var O=[],J=[];R||(R=[]);var le=ne-1,re=0,de=0;for(re=ae;re>=0;){R[re]=!0,O[O.length]=re,J.push(K[re]);var ye=te[Math.floor(re*4/ne)];if(de=re*4&le,ne<4+de)throw new Error("FAT boundary crossed: "+re+" 4 "+ne);if(!K[ye])break;re=Od(K[ye],de)}return{nodes:O,data:g5([J])}}function b(K,ae,te,ne){var R=K.length,O=[],J=[],le=[],re=[],de=ne-1,ye=0,Fe=0,Ce=0,Pe=0;for(ye=0;ye<R;++ye)if(le=[],Ce=ye+ae,Ce>=R&&(Ce-=R),!J[Ce]){re=[];var $e=[];for(Fe=Ce;Fe>=0;){$e[Fe]=!0,J[Fe]=!0,le[le.length]=Fe,re.push(K[Fe]);var Ye=te[Math.floor(Fe*4/ne)];if(Pe=Fe*4&de,ne<4+Pe)throw new Error("FAT boundary crossed: "+Fe+" 4 "+ne);if(!K[Ye]||(Fe=Od(K[Ye],Pe),$e[Fe]))break}O[Ce]={nodes:le,data:g5([re])}}return O}function w(K,ae,te,ne,R,O,J,le){for(var re=0,de=ne.length?2:0,ye=ae[K].data,Fe=0,Ce=0,Pe;Fe<ye.length;Fe+=128){var $e=ye.slice(Fe,Fe+128);ra($e,64),Ce=$e.read_shift(2),Pe=b4($e,0,Ce-de),ne.push(Pe);var Ye={name:Pe,type:$e.read_shift(1),color:$e.read_shift(1),L:$e.read_shift(4,"i"),R:$e.read_shift(4,"i"),C:$e.read_shift(4,"i"),clsid:$e.read_shift(16),state:$e.read_shift(4,"i"),start:0,size:0},pt=$e.read_shift(2)+$e.read_shift(2)+$e.read_shift(2)+$e.read_shift(2);pt!==0&&(Ye.ct=_($e,$e.l-8));var tr=$e.read_shift(2)+$e.read_shift(2)+$e.read_shift(2)+$e.read_shift(2);tr!==0&&(Ye.mt=_($e,$e.l-8)),Ye.start=$e.read_shift(4,"i"),Ye.size=$e.read_shift(4,"i"),Ye.size<0&&Ye.start<0&&(Ye.size=Ye.type=0,Ye.start=H,Ye.name=""),Ye.type===5?(re=Ye.start,R>0&&re!==H&&(ae[re].name="!StreamData")):Ye.size>=4096?(Ye.storage="fat",ae[Ye.start]===void 0&&(ae[Ye.start]=y(te,Ye.start,ae.fat_addrs,ae.ssz)),ae[Ye.start].name=Ye.name,Ye.content=ae[Ye.start].data.slice(0,Ye.size)):(Ye.storage="minifat",Ye.size<0?Ye.size=0:re!==H&&Ye.start!==H&&ae[re]&&(Ye.content=g(Ye,ae[re].data,(ae[le]||{}).data))),Ye.content&&ra(Ye.content,0),O[Pe]=Ye,J.push(Ye)}}function _(K,ae){return new Date((ti(K,ae+4)/1e7*Math.pow(2,32)+ti(K,ae)/1e7-11644473600)*1e3)}function S(K,ae){return u(),d(c.readFileSync(K),ae)}function k(K,ae){var te=ae&&ae.type;switch(te||Ht&&Buffer.isBuffer(K)&&(te="buffer"),te||"base64"){case"file":return S(K,ae);case"base64":return d(bo(mi(K)),ae);case"binary":return d(bo(K),ae)}return d(K,ae)}function j(K,ae){var te=ae||{},ne=te.root||"Root Entry";if(K.FullPaths||(K.FullPaths=[]),K.FileIndex||(K.FileIndex=[]),K.FullPaths.length!==K.FileIndex.length)throw new Error("inconsistent CFB structure");K.FullPaths.length===0&&(K.FullPaths[0]=ne+"/",K.FileIndex[0]={name:ne,type:5}),te.CLSID&&(K.FileIndex[0].clsid=te.CLSID),N(K)}function N(K){var ae="Sh33tJ5";if(!Kt.find(K,"/"+ae)){var te=Pn(4);te[0]=55,te[1]=te[3]=50,te[2]=54,K.FileIndex.push({name:ae,type:2,content:te,size:4,L:69,R:69,C:69}),K.FullPaths.push(K.FullPaths[0]+ae),C(K)}}function C(K,ae){j(K);for(var te=!1,ne=!1,R=K.FullPaths.length-1;R>=0;--R){var O=K.FileIndex[R];switch(O.type){case 0:ne?te=!0:(K.FileIndex.pop(),K.FullPaths.pop());break;case 1:case 2:case 5:ne=!0,isNaN(O.R*O.L*O.C)&&(te=!0),O.R>-1&&O.L>-1&&O.R==O.L&&(te=!0);break;default:te=!0;break}}if(!(!te&&!ae)){var J=new Date(1987,1,19),le=0,re=Object.create?Object.create(null):{},de=[];for(R=0;R<K.FullPaths.length;++R)re[K.FullPaths[R]]=!0,K.FileIndex[R].type!==0&&de.push([K.FullPaths[R],K.FileIndex[R]]);for(R=0;R<de.length;++R){var ye=n(de[R][0]);ne=re[ye],ne||(de.push([ye,{name:a(ye).replace("/",""),type:1,clsid:I,ct:J,mt:J,content:null}]),re[ye]=!0)}for(de.sort(function(Pe,$e){return r(Pe[0],$e[0])}),K.FullPaths=[],K.FileIndex=[],R=0;R<de.length;++R)K.FullPaths[R]=de[R][0],K.FileIndex[R]=de[R][1];for(R=0;R<de.length;++R){var Fe=K.FileIndex[R],Ce=K.FullPaths[R];if(Fe.name=a(Ce).replace("/",""),Fe.L=Fe.R=Fe.C=-(Fe.color=1),Fe.size=Fe.content?Fe.content.length:0,Fe.start=0,Fe.clsid=Fe.clsid||I,R===0)Fe.C=de.length>1?1:-1,Fe.size=0,Fe.type=5;else if(Ce.slice(-1)=="/"){for(le=R+1;le<de.length&&n(K.FullPaths[le])!=Ce;++le);for(Fe.C=le>=de.length?-1:le,le=R+1;le<de.length&&n(K.FullPaths[le])!=n(Ce);++le);Fe.R=le>=de.length?-1:le,Fe.type=1}else n(K.FullPaths[R+1]||"")==n(Ce)&&(Fe.R=R+1),Fe.type=2}}}function T(K,ae){var te=ae||{};if(te.fileType=="mad")return Ll(K,te);switch(C(K),te.fileType){case"zip":return zn(K,te)}var ne=function(Pe){for(var $e=0,Ye=0,pt=0;pt<Pe.FileIndex.length;++pt){var tr=Pe.FileIndex[pt];if(tr.content){var cr=tr.content.length;cr>0&&(cr<4096?$e+=cr+63>>6:Ye+=cr+511>>9)}}for(var Ir=Pe.FullPaths.length+3>>2,Gr=$e+7>>3,Qn=$e+127>>7,da=Gr+Ye+Ir+Qn,Ua=da+127>>7,wi=Ua<=109?0:Math.ceil((Ua-109)/127);da+Ua+wi+127>>7>Ua;)wi=++Ua<=109?0:Math.ceil((Ua-109)/127);var vs=[1,wi,Ua,Qn,Ir,Ye,$e,0];return Pe.FileIndex[0].size=$e<<6,vs[7]=(Pe.FileIndex[0].start=vs[0]+vs[1]+vs[2]+vs[3]+vs[4]+vs[5])+(vs[6]+7>>3),vs}(K),R=Pn(ne[7]<<9),O=0,J=0;{for(O=0;O<8;++O)R.write_shift(1,L[O]);for(O=0;O<8;++O)R.write_shift(2,0);for(R.write_shift(2,62),R.write_shift(2,3),R.write_shift(2,65534),R.write_shift(2,9),R.write_shift(2,6),O=0;O<3;++O)R.write_shift(2,0);for(R.write_shift(4,0),R.write_shift(4,ne[2]),R.write_shift(4,ne[0]+ne[1]+ne[2]+ne[3]-1),R.write_shift(4,0),R.write_shift(4,4096),R.write_shift(4,ne[3]?ne[0]+ne[1]+ne[2]-1:H),R.write_shift(4,ne[3]),R.write_shift(-4,ne[1]?ne[0]-1:H),R.write_shift(4,ne[1]),O=0;O<109;++O)R.write_shift(-4,O<ne[2]?ne[1]+O:-1)}if(ne[1])for(J=0;J<ne[1];++J){for(;O<236+J*127;++O)R.write_shift(-4,O<ne[2]?ne[1]+O:-1);R.write_shift(-4,J===ne[1]-1?H:J+1)}var le=function(Pe){for(J+=Pe;O<J-1;++O)R.write_shift(-4,O+1);Pe&&(++O,R.write_shift(-4,H))};for(J=O=0,J+=ne[1];O<J;++O)R.write_shift(-4,W.DIFSECT);for(J+=ne[2];O<J;++O)R.write_shift(-4,W.FATSECT);le(ne[3]),le(ne[4]);for(var re=0,de=0,ye=K.FileIndex[0];re<K.FileIndex.length;++re)ye=K.FileIndex[re],ye.content&&(de=ye.content.length,!(de<4096)&&(ye.start=J,le(de+511>>9)));for(le(ne[6]+7>>3);R.l&511;)R.write_shift(-4,W.ENDOFCHAIN);for(J=O=0,re=0;re<K.FileIndex.length;++re)ye=K.FileIndex[re],ye.content&&(de=ye.content.length,!(!de||de>=4096)&&(ye.start=J,le(de+63>>6)));for(;R.l&511;)R.write_shift(-4,W.ENDOFCHAIN);for(O=0;O<ne[4]<<2;++O){var Fe=K.FullPaths[O];if(!Fe||Fe.length===0){for(re=0;re<17;++re)R.write_shift(4,0);for(re=0;re<3;++re)R.write_shift(4,-1);for(re=0;re<12;++re)R.write_shift(4,0);continue}ye=K.FileIndex[O],O===0&&(ye.start=ye.size?ye.start-1:H);var Ce=O===0&&te.root||ye.name;if(de=2*(Ce.length+1),R.write_shift(64,Ce,"utf16le"),R.write_shift(2,de),R.write_shift(1,ye.type),R.write_shift(1,ye.color),R.write_shift(-4,ye.L),R.write_shift(-4,ye.R),R.write_shift(-4,ye.C),ye.clsid)R.write_shift(16,ye.clsid,"hex");else for(re=0;re<4;++re)R.write_shift(4,0);R.write_shift(4,ye.state||0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,ye.start),R.write_shift(4,ye.size),R.write_shift(4,0)}for(O=1;O<K.FileIndex.length;++O)if(ye=K.FileIndex[O],ye.size>=4096)if(R.l=ye.start+1<<9,Ht&&Buffer.isBuffer(ye.content))ye.content.copy(R,R.l,0,ye.size),R.l+=ye.size+511&-512;else{for(re=0;re<ye.size;++re)R.write_shift(1,ye.content[re]);for(;re&511;++re)R.write_shift(1,0)}for(O=1;O<K.FileIndex.length;++O)if(ye=K.FileIndex[O],ye.size>0&&ye.size<4096)if(Ht&&Buffer.isBuffer(ye.content))ye.content.copy(R,R.l,0,ye.size),R.l+=ye.size+63&-64;else{for(re=0;re<ye.size;++re)R.write_shift(1,ye.content[re]);for(;re&63;++re)R.write_shift(1,0)}if(Ht)R.l=R.length;else for(;R.l<R.length;)R.write_shift(1,0);return R}function D(K,ae){var te=K.FullPaths.map(function(re){return re.toUpperCase()}),ne=te.map(function(re){var de=re.split("/");return de[de.length-(re.slice(-1)=="/"?2:1)]}),R=!1;ae.charCodeAt(0)===47?(R=!0,ae=te[0].slice(0,-1)+ae):R=ae.indexOf("/")!==-1;var O=ae.toUpperCase(),J=R===!0?te.indexOf(O):ne.indexOf(O);if(J!==-1)return K.FileIndex[J];var le=!O.match(ng);for(O=O.replace(ds,""),le&&(O=O.replace(ng,"!")),J=0;J<te.length;++J)if((le?te[J].replace(ng,"!"):te[J]).replace(ds,"")==O||(le?ne[J].replace(ng,"!"):ne[J]).replace(ds,"")==O)return K.FileIndex[J];return null}var A=64,H=-2,X="d0cf11e0a1b11ae1",L=[208,207,17,224,161,177,26,225],I="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:H,FREESECT:-1,HEADER_SIGNATURE:X,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:I,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function F(K,ae,te){u();var ne=T(K,te);c.writeFileSync(ae,ne)}function M(K){for(var ae=new Array(K.length),te=0;te<K.length;++te)ae[te]=String.fromCharCode(K[te]);return ae.join("")}function G(K,ae){var te=T(K,ae);switch(ae&&ae.type||"buffer"){case"file":return u(),c.writeFileSync(ae.filename,te),te;case"binary":return typeof te=="string"?te:M(te);case"base64":return Q$(typeof te=="string"?te:M(te));case"buffer":if(Ht)return Buffer.isBuffer(te)?te:Gf(te);case"array":return typeof te=="string"?bo(te):te}return te}var Q;function E(K){try{var ae=K.InflateRaw,te=new ae;if(te._processChunk(new Uint8Array([3,0]),te._finishFlushFlag),te.bytesRead)Q=K;else throw new Error("zlib does not expose bytesRead")}catch(ne){console.error("cannot use native zlib: "+(ne.message||ne))}}function B(K,ae){if(!Q)return Un(K,ae);var te=Q.InflateRaw,ne=new te,R=ne._processChunk(K.slice(K.l),ne._finishFlushFlag);return K.l+=ne.bytesRead,R}function U(K){return Q?Q.deflateRawSync(K):ke(K)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ge(K){var ae=(K<<1|K<<11)&139536|(K<<5|K<<15)&558144;return(ae>>16|ae>>8|ae)&255}for(var se=typeof Uint8Array<"u",Z=se?new Uint8Array(256):[],he=0;he<256;++he)Z[he]=ge(he);function P(K,ae){var te=Z[K&255];return ae<=8?te>>>8-ae:(te=te<<8|Z[K>>8&255],ae<=16?te>>>16-ae:(te=te<<8|Z[K>>16&255],te>>>24-ae))}function De(K,ae){var te=ae&7,ne=ae>>>3;return(K[ne]|(te<=6?0:K[ne+1]<<8))>>>te&3}function Re(K,ae){var te=ae&7,ne=ae>>>3;return(K[ne]|(te<=5?0:K[ne+1]<<8))>>>te&7}function Me(K,ae){var te=ae&7,ne=ae>>>3;return(K[ne]|(te<=4?0:K[ne+1]<<8))>>>te&15}function Be(K,ae){var te=ae&7,ne=ae>>>3;return(K[ne]|(te<=3?0:K[ne+1]<<8))>>>te&31}function Oe(K,ae){var te=ae&7,ne=ae>>>3;return(K[ne]|(te<=1?0:K[ne+1]<<8))>>>te&127}function ht(K,ae,te){var ne=ae&7,R=ae>>>3,O=(1<<te)-1,J=K[R]>>>ne;return te<8-ne||(J|=K[R+1]<<8-ne,te<16-ne)||(J|=K[R+2]<<16-ne,te<24-ne)||(J|=K[R+3]<<24-ne),J&O}function it(K,ae,te){var ne=ae&7,R=ae>>>3;return ne<=5?K[R]|=(te&7)<<ne:(K[R]|=te<<ne&255,K[R+1]=(te&7)>>8-ne),ae+3}function ce(K,ae,te){var ne=ae&7,R=ae>>>3;return te=(te&1)<<ne,K[R]|=te,ae+1}function me(K,ae,te){var ne=ae&7,R=ae>>>3;return te<<=ne,K[R]|=te&255,te>>>=8,K[R+1]=te,ae+8}function z(K,ae,te){var ne=ae&7,R=ae>>>3;return te<<=ne,K[R]|=te&255,te>>>=8,K[R+1]=te&255,K[R+2]=te>>>8,ae+16}function fe(K,ae){var te=K.length,ne=2*te>ae?2*te:ae+5,R=0;if(te>=ae)return K;if(Ht){var O=Z$(ne);if(K.copy)K.copy(O);else for(;R<K.length;++R)O[R]=K[R];return O}else if(se){var J=new Uint8Array(ne);if(J.set)J.set(K);else for(;R<te;++R)J[R]=K[R];return J}return K.length=ne,K}function _e(K){for(var ae=new Array(K),te=0;te<K;++te)ae[te]=0;return ae}function be(K,ae,te){var ne=1,R=0,O=0,J=0,le=0,re=K.length,de=se?new Uint16Array(32):_e(32);for(O=0;O<32;++O)de[O]=0;for(O=re;O<te;++O)K[O]=0;re=K.length;var ye=se?new Uint16Array(re):_e(re);for(O=0;O<re;++O)de[R=K[O]]++,ne<R&&(ne=R),ye[O]=0;for(de[0]=0,O=1;O<=ne;++O)de[O+16]=le=le+de[O-1]<<1;for(O=0;O<re;++O)le=K[O],le!=0&&(ye[O]=de[le+16]++);var Fe=0;for(O=0;O<re;++O)if(Fe=K[O],Fe!=0)for(le=P(ye[O],ne)>>ne-Fe,J=(1<<ne+4-Fe)-1;J>=0;--J)ae[le|J<<Fe]=Fe&15|O<<4;return ne}var Le=se?new Uint16Array(512):_e(512),Se=se?new Uint16Array(32):_e(32);if(!se){for(var je=0;je<512;++je)Le[je]=0;for(je=0;je<32;++je)Se[je]=0}(function(){for(var K=[],ae=0;ae<32;ae++)K.push(5);be(K,Se,32);var te=[];for(ae=0;ae<=143;ae++)te.push(8);for(;ae<=255;ae++)te.push(9);for(;ae<=279;ae++)te.push(7);for(;ae<=287;ae++)te.push(8);be(te,Le,288)})();var pe=function(){for(var ae=se?new Uint8Array(32768):[],te=0,ne=0;te<oe.length-1;++te)for(;ne<oe[te+1];++ne)ae[ne]=te;for(;ne<32768;++ne)ae[ne]=29;var R=se?new Uint8Array(259):[];for(te=0,ne=0;te<ee.length-1;++te)for(;ne<ee[te+1];++ne)R[ne]=te;function O(le,re){for(var de=0;de<le.length;){var ye=Math.min(65535,le.length-de),Fe=de+ye==le.length;for(re.write_shift(1,+Fe),re.write_shift(2,ye),re.write_shift(2,~ye&65535);ye-- >0;)re[re.l++]=le[de++]}return re.l}function J(le,re){for(var de=0,ye=0,Fe=se?new Uint16Array(32768):[];ye<le.length;){var Ce=Math.min(65535,le.length-ye);if(Ce<10){for(de=it(re,de,+(ye+Ce==le.length)),de&7&&(de+=8-(de&7)),re.l=de/8|0,re.write_shift(2,Ce),re.write_shift(2,~Ce&65535);Ce-- >0;)re[re.l++]=le[ye++];de=re.l*8;continue}de=it(re,de,+(ye+Ce==le.length)+2);for(var Pe=0;Ce-- >0;){var $e=le[ye];Pe=(Pe<<5^$e)&32767;var Ye=-1,pt=0;if((Ye=Fe[Pe])&&(Ye|=ye&-32768,Ye>ye&&(Ye-=32768),Ye<ye))for(;le[Ye+pt]==le[ye+pt]&&pt<250;)++pt;if(pt>2){$e=R[pt],$e<=22?de=me(re,de,Z[$e+1]>>1)-1:(me(re,de,3),de+=5,me(re,de,Z[$e-23]>>5),de+=3);var tr=$e<8?0:$e-4>>2;tr>0&&(z(re,de,pt-ee[$e]),de+=tr),$e=ae[ye-Ye],de=me(re,de,Z[$e]>>3),de-=3;var cr=$e<4?0:$e-2>>1;cr>0&&(z(re,de,ye-Ye-oe[$e]),de+=cr);for(var Ir=0;Ir<pt;++Ir)Fe[Pe]=ye&32767,Pe=(Pe<<5^le[ye])&32767,++ye;Ce-=pt-1}else $e<=143?$e=$e+48:de=ce(re,de,1),de=me(re,de,Z[$e]),Fe[Pe]=ye&32767,++ye}de=me(re,de,0)-1}return re.l=(de+7)/8|0,re.l}return function(re,de){return re.length<8?O(re,de):J(re,de)}}();function ke(K){var ae=Pn(50+Math.floor(K.length*1.1)),te=pe(K,ae);return ae.slice(0,te)}var Ne=se?new Uint16Array(32768):_e(32768),Xe=se?new Uint16Array(32768):_e(32768),He=se?new Uint16Array(128):_e(128),at=1,Dt=1;function qt(K,ae){var te=Be(K,ae)+257;ae+=5;var ne=Be(K,ae)+1;ae+=5;var R=Me(K,ae)+4;ae+=4;for(var O=0,J=se?new Uint8Array(19):_e(19),le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],re=1,de=se?new Uint8Array(8):_e(8),ye=se?new Uint8Array(8):_e(8),Fe=J.length,Ce=0;Ce<R;++Ce)J[q[Ce]]=O=Re(K,ae),re<O&&(re=O),de[O]++,ae+=3;var Pe=0;for(de[0]=0,Ce=1;Ce<=re;++Ce)ye[Ce]=Pe=Pe+de[Ce-1]<<1;for(Ce=0;Ce<Fe;++Ce)(Pe=J[Ce])!=0&&(le[Ce]=ye[Pe]++);var $e=0;for(Ce=0;Ce<Fe;++Ce)if($e=J[Ce],$e!=0){Pe=Z[le[Ce]]>>8-$e;for(var Ye=(1<<7-$e)-1;Ye>=0;--Ye)He[Pe|Ye<<$e]=$e&7|Ce<<3}var pt=[];for(re=1;pt.length<te+ne;)switch(Pe=He[Oe(K,ae)],ae+=Pe&7,Pe>>>=3){case 16:for(O=3+De(K,ae),ae+=2,Pe=pt[pt.length-1];O-- >0;)pt.push(Pe);break;case 17:for(O=3+Re(K,ae),ae+=3;O-- >0;)pt.push(0);break;case 18:for(O=11+Oe(K,ae),ae+=7;O-- >0;)pt.push(0);break;default:pt.push(Pe),re<Pe&&(re=Pe);break}var tr=pt.slice(0,te),cr=pt.slice(te);for(Ce=te;Ce<286;++Ce)tr[Ce]=0;for(Ce=ne;Ce<30;++Ce)cr[Ce]=0;return at=be(tr,Ne,286),Dt=be(cr,Xe,30),ae}function yr(K,ae){if(K[0]==3&&!(K[1]&3))return[Vu(ae),2];for(var te=0,ne=0,R=Z$(ae||1<<18),O=0,J=R.length>>>0,le=0,re=0;!(ne&1);){if(ne=Re(K,te),te+=3,ne>>>1)ne>>1==1?(le=9,re=5):(te=qt(K,te),le=at,re=Dt);else{te&7&&(te+=8-(te&7));var de=K[te>>>3]|K[(te>>>3)+1]<<8;if(te+=32,de>0)for(!ae&&J<O+de&&(R=fe(R,O+de),J=R.length);de-- >0;)R[O++]=K[te>>>3],te+=8;continue}for(;;){!ae&&J<O+32767&&(R=fe(R,O+32767),J=R.length);var ye=ht(K,te,le),Fe=ne>>>1==1?Le[ye]:Ne[ye];if(te+=Fe&15,Fe>>>=4,!(Fe>>>8&255))R[O++]=Fe;else{if(Fe==256)break;Fe-=257;var Ce=Fe<8?0:Fe-4>>2;Ce>5&&(Ce=0);var Pe=O+ee[Fe];Ce>0&&(Pe+=ht(K,te,Ce),te+=Ce),ye=ht(K,te,re),Fe=ne>>>1==1?Se[ye]:Xe[ye],te+=Fe&15,Fe>>>=4;var $e=Fe<4?0:Fe-2>>1,Ye=oe[Fe];for($e>0&&(Ye+=ht(K,te,$e),te+=$e),!ae&&J<Pe&&(R=fe(R,Pe+100),J=R.length);O<Pe;)R[O]=R[O-Ye],++O}}}return ae?[R,te+7>>>3]:[R.slice(0,O),te+7>>>3]}function Un(K,ae){var te=K.slice(K.l||0),ne=yr(te,ae);return K.l+=ne[1],ne[0]}function dn(K,ae){if(K)typeof console<"u"&&console.error(ae);else throw new Error(ae)}function xi(K,ae){var te=K;ra(te,0);var ne=[],R=[],O={FileIndex:ne,FullPaths:R};j(O,{root:ae.root});for(var J=te.length-4;(te[J]!=80||te[J+1]!=75||te[J+2]!=5||te[J+3]!=6)&&J>=0;)--J;te.l=J+4,te.l+=4;var le=te.read_shift(2);te.l+=6;var re=te.read_shift(4);for(te.l=re,J=0;J<le;++J){te.l+=20;var de=te.read_shift(4),ye=te.read_shift(4),Fe=te.read_shift(2),Ce=te.read_shift(2),Pe=te.read_shift(2);te.l+=8;var $e=te.read_shift(4),Ye=l(te.slice(te.l+Fe,te.l+Fe+Ce));te.l+=Fe+Ce+Pe;var pt=te.l;te.l=$e+4,Nn(te,de,ye,O,Ye),te.l=pt}return O}function Nn(K,ae,te,ne,R){K.l+=2;var O=K.read_shift(2),J=K.read_shift(2),le=i(K);if(O&8257)throw new Error("Unsupported ZIP encryption");for(var re=K.read_shift(4),de=K.read_shift(4),ye=K.read_shift(4),Fe=K.read_shift(2),Ce=K.read_shift(2),Pe="",$e=0;$e<Fe;++$e)Pe+=String.fromCharCode(K[K.l++]);if(Ce){var Ye=l(K.slice(K.l,K.l+Ce));(Ye[21589]||{}).mt&&(le=Ye[21589].mt),((R||{})[21589]||{}).mt&&(le=R[21589].mt)}K.l+=Ce;var pt=K.slice(K.l,K.l+de);switch(J){case 8:pt=B(K,ye);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+J)}var tr=!1;O&8&&(re=K.read_shift(4),re==134695760&&(re=K.read_shift(4),tr=!0),de=K.read_shift(4),ye=K.read_shift(4)),de!=ae&&dn(tr,"Bad compressed size: "+ae+" != "+de),ye!=te&&dn(tr,"Bad uncompressed size: "+te+" != "+ye),$l(ne,Pe,pt,{unsafe:!0,mt:le})}function zn(K,ae){var te=ae||{},ne=[],R=[],O=Pn(1),J=te.compression?8:0,le=0,re=0,de=0,ye=0,Fe=0,Ce=K.FullPaths[0],Pe=Ce,$e=K.FileIndex[0],Ye=[],pt=0;for(re=1;re<K.FullPaths.length;++re)if(Pe=K.FullPaths[re].slice(Ce.length),$e=K.FileIndex[re],!(!$e.size||!$e.content||Pe=="Sh33tJ5")){var tr=ye,cr=Pn(Pe.length);for(de=0;de<Pe.length;++de)cr.write_shift(1,Pe.charCodeAt(de)&127);cr=cr.slice(0,cr.l),Ye[Fe]=zUe.buf($e.content,0);var Ir=$e.content;J==8&&(Ir=U(Ir)),O=Pn(30),O.write_shift(4,67324752),O.write_shift(2,20),O.write_shift(2,le),O.write_shift(2,J),$e.mt?s(O,$e.mt):O.write_shift(4,0),O.write_shift(-4,Ye[Fe]),O.write_shift(4,Ir.length),O.write_shift(4,$e.content.length),O.write_shift(2,cr.length),O.write_shift(2,0),ye+=O.length,ne.push(O),ye+=cr.length,ne.push(cr),ye+=Ir.length,ne.push(Ir),O=Pn(46),O.write_shift(4,33639248),O.write_shift(2,0),O.write_shift(2,20),O.write_shift(2,le),O.write_shift(2,J),O.write_shift(4,0),O.write_shift(-4,Ye[Fe]),O.write_shift(4,Ir.length),O.write_shift(4,$e.content.length),O.write_shift(2,cr.length),O.write_shift(2,0),O.write_shift(2,0),O.write_shift(2,0),O.write_shift(2,0),O.write_shift(4,0),O.write_shift(4,tr),pt+=O.l,R.push(O),pt+=cr.length,R.push(cr),++Fe}return O=Pn(22),O.write_shift(4,101010256),O.write_shift(2,0),O.write_shift(2,0),O.write_shift(2,Fe),O.write_shift(2,Fe),O.write_shift(4,pt),O.write_shift(4,ye),O.write_shift(2,0),nu([nu(ne),nu(R),O])}var Cn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Xi(K,ae){if(K.ctype)return K.ctype;var te=K.name||"",ne=te.match(/\.([^\.]+)$/);return ne&&Cn[ne[1]]||ae&&(ne=(te=ae).match(/[\.\\]([^\.\\])+$/),ne&&Cn[ne[1]])?Cn[ne[1]]:"application/octet-stream"}function qs(K){for(var ae=Q$(K),te=[],ne=0;ne<ae.length;ne+=76)te.push(ae.slice(ne,ne+76));return te.join(`\r
`)+`\r
`}function yi(K){var ae=K.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(de){var ye=de.charCodeAt(0).toString(16).toUpperCase();return"="+(ye.length==1?"0"+ye:ye)});ae=ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ae.charAt(0)==`
`&&(ae="=0D"+ae.slice(1)),ae=ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var te=[],ne=ae.split(`\r
`),R=0;R<ne.length;++R){var O=ne[R];if(O.length==0){te.push("");continue}for(var J=0;J<O.length;){var le=76,re=O.slice(J,J+le);re.charAt(le-1)=="="?le--:re.charAt(le-2)=="="?le-=2:re.charAt(le-3)=="="&&(le-=3),re=O.slice(J,J+le),J+=le,J<O.length&&(re+="="),te.push(re)}}return te.join(`\r
`)}function Jn(K){for(var ae=[],te=0;te<K.length;++te){for(var ne=K[te];te<=K.length&&ne.charAt(ne.length-1)=="=";)ne=ne.slice(0,ne.length-1)+K[++te];ae.push(ne)}for(var R=0;R<ae.length;++R)ae[R]=ae[R].replace(/[=][0-9A-Fa-f]{2}/g,function(O){return String.fromCharCode(parseInt(O.slice(1),16))});return bo(ae.join(`\r
`))}function bi(K,ae,te){for(var ne="",R="",O="",J,le=0;le<10;++le){var re=ae[le];if(!re||re.match(/^\s*$/))break;var de=re.match(/^(.*?):\s*([^\s].*)$/);if(de)switch(de[1].toLowerCase()){case"content-location":ne=de[2].trim();break;case"content-type":O=de[2].trim();break;case"content-transfer-encoding":R=de[2].trim();break}}switch(++le,R.toLowerCase()){case"base64":J=bo(mi(ae.slice(le).join("")));break;case"quoted-printable":J=Jn(ae.slice(le));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+R)}var ye=$l(K,ne.slice(te.length),J,{unsafe:!0});O&&(ye.ctype=O)}function Fl(K,ae){if(M(K.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var te=ae&&ae.root||"",ne=(Ht&&Buffer.isBuffer(K)?K.toString("binary"):M(K)).split(`\r
`),R=0,O="";for(R=0;R<ne.length;++R)if(O=ne[R],!!/^Content-Location:/i.test(O)&&(O=O.slice(O.indexOf("file")),te||(te=O.slice(0,O.lastIndexOf("/")+1)),O.slice(0,te.length)!=te))for(;te.length>0&&(te=te.slice(0,te.length-1),te=te.slice(0,te.lastIndexOf("/")+1),O.slice(0,te.length)!=te););var J=(ne[1]||"").match(/boundary="(.*?)"/);if(!J)throw new Error("MAD cannot find boundary");var le="--"+(J[1]||""),re=[],de=[],ye={FileIndex:re,FullPaths:de};j(ye);var Fe,Ce=0;for(R=0;R<ne.length;++R){var Pe=ne[R];Pe!==le&&Pe!==le+"--"||(Ce++&&bi(ye,ne.slice(Fe,R),te),Fe=R)}return ye}function Ll(K,ae){var te=ae||{},ne=te.boundary||"SheetJS";ne="------="+ne;for(var R=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ne.slice(2)+'"',"","",""],O=K.FullPaths[0],J=O,le=K.FileIndex[0],re=1;re<K.FullPaths.length;++re)if(J=K.FullPaths[re].slice(O.length),le=K.FileIndex[re],!(!le.size||!le.content||J=="Sh33tJ5")){J=J.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(pt){return"_x"+pt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(pt){return"_u"+pt.charCodeAt(0).toString(16)+"_"});for(var de=le.content,ye=Ht&&Buffer.isBuffer(de)?de.toString("binary"):M(de),Fe=0,Ce=Math.min(1024,ye.length),Pe=0,$e=0;$e<=Ce;++$e)(Pe=ye.charCodeAt($e))>=32&&Pe<128&&++Fe;var Ye=Fe>=Ce*4/5;R.push(ne),R.push("Content-Location: "+(te.root||"file:///C:/SheetJS/")+J),R.push("Content-Transfer-Encoding: "+(Ye?"quoted-printable":"base64")),R.push("Content-Type: "+Xi(le,J)),R.push(""),R.push(Ye?yi(ye):qs(ye))}return R.push(ne+`--\r
`),R.join(`\r
`)}function eh(K){var ae={};return j(ae,K),ae}function $l(K,ae,te,ne){var R=ne&&ne.unsafe;R||j(K);var O=!R&&Kt.find(K,ae);if(!O){var J=K.FullPaths[0];ae.slice(0,J.length)==J?J=ae:(J.slice(-1)!="/"&&(J+="/"),J=(J+ae).replace("//","/")),O={name:a(ae),type:2},K.FileIndex.push(O),K.FullPaths.push(J),R||Kt.utils.cfb_gc(K)}return O.content=te,O.size=te?te.length:0,ne&&(ne.CLSID&&(O.clsid=ne.CLSID),ne.mt&&(O.mt=ne.mt),ne.ct&&(O.ct=ne.ct)),O}function er(K,ae){j(K);var te=Kt.find(K,ae);if(te){for(var ne=0;ne<K.FileIndex.length;++ne)if(K.FileIndex[ne]==te)return K.FileIndex.splice(ne,1),K.FullPaths.splice(ne,1),!0}return!1}function ud(K,ae,te){j(K);var ne=Kt.find(K,ae);if(ne){for(var R=0;R<K.FileIndex.length;++R)if(K.FileIndex[R]==ne)return K.FileIndex[R].name=a(te),K.FullPaths[R]=te,!0}return!1}function dd(K){C(K,!0)}return t.find=D,t.read=k,t.parse=d,t.write=G,t.writeFile=F,t.utils={cfb_new:eh,cfb_add:$l,cfb_del:er,cfb_mov:ud,cfb_gc:dd,ReadShift:Og,CheckField:IX,prep_blob:ra,bconcat:nu,use_zlib:E,_deflateRaw:ke,_inflateRaw:Un,consts:W},t}();function VUe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Cl(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function g4(e){for(var t=[],r=Cl(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var e_=new Date(1899,11,30,0,0,0);function fs(e,t){var r=e.getTime(),n=e_.getTime()+(e.getTimezoneOffset()-e_.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var mX=new Date,WUe=e_.getTime()+(mX.getTimezoneOffset()-e_.getTimezoneOffset())*6e4,o5=mX.getTimezoneOffset();function fj(e){var t=new Date;return t.setTime(e*24*60*60*1e3+WUe),t.getTimezoneOffset()!==o5&&t.setTime(t.getTime()+(t.getTimezoneOffset()-o5)*6e4),t}function HUe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var l5=new Date("2017-02-19T19:06:09.000Z"),pX=isNaN(l5.getFullYear())?new Date("2/19/17"):l5,qUe=pX.getFullYear()==2017;function Yn(e,t){var r=new Date(e);if(qUe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(pX.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Df(e,t){if(Ht&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return sg(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return sg(tX(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return sg(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return sg(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function oa(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=oa(e[r]));return t}function Zr(e,t){for(var r="";r.length<t;)r+=e;return r}function To(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var KUe=["january","february","march","april","may","june","july","august","september","october","november","december"];function kp(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&KUe.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var GUe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],l=1;l<s.length;++l)i.push(a),i.push(s[l]);return i}}();function gX(e){return e?e.content&&e.type?Df(e.content,!0):e.data?rg(e.data):e.asNodeBuffer&&Ht?rg(e.asNodeBuffer().toString("binary")):e.asBinary?rg(e.asBinary()):e._data&&e._data.getContent?rg(Df(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function vX(e){if(!e)return null;if(e.data)return X$(e.data);if(e.asNodeBuffer&&Ht)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?X$(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function YUe(e){return e&&e.name.slice(-4)===".bin"?vX(e):gX(e)}function Ei(e,t){for(var r=e.FullPaths||Cl(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function v4(e,t){var r=Ei(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function gn(e,t,r){if(!r)return YUe(v4(e,t));if(!t)return null;try{return gn(e,t)}catch{return null}}function si(e,t,r){if(!r)return gX(v4(e,t));if(!t)return null;try{return si(e,t)}catch{return null}}function XUe(e,t,r){return vX(v4(e,t))}function c5(e){for(var t=e.FullPaths||Cl(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function JUe(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Ht?n=Gf(r):n=gUe(r),Kt.utils.cfb_add(e,t,n)}Kt.utils.cfb_add(e,t,r)}else e.file(t,r)}function xX(e,t){switch(t.type){case"base64":return Kt.read(e,{type:"base64"});case"binary":return Kt.read(e,{type:"binary"});case"buffer":case"array":return Kt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function ag(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var yX=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,QUe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,u5=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,ZUe=/<[^>]*>/g,Ba=yX.match(u5)?u5:ZUe,e9e=/<\w*:/,t9e=/<(\/?)\w+:/;function kt(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(QUe),l=0,c="",u=0,d="",f="",h=1;if(i)for(u=0;u!=i.length;++u){for(f=i[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,c=f.slice(s+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var m=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[m]&&d.slice(l-3,l)=="ext")continue;n[m]=c,n[m.toLowerCase()]=c}}return n}function Il(e){return e.replace(t9e,"<$1")}var bX={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},r9e=g4(bX),Qt=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(l,c){return bX[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),n9e=/[&<>'"]/g,a9e=/[\u0000-\u001f]/g;function x4(e){var t=e+"";return t.replace(n9e,function(r){return r9e[r]}).replace(/\n/g,"<br/>").replace(a9e,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var d5=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Fr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function bN(e){for(var t="",r=0,n=0,a=0,s=0,i=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function f5(e){var t=Vu(2*e.length),r,n,a=1,s=0,i=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function h5(e){return Gf(e,"binary").toString("utf8")}var vb="foo bar baz",Er=Ht&&(h5(vb)==bN(vb)&&h5||f5(vb)==bN(vb)&&f5)||bN,sg=Ht?function(e){return Gf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},rx=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),wX=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),s9e=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),i9e=/<\/?(?:vt:)?variant>/g,o9e=/<(?:vt:)([^>]*)>([\s\S]*)</;function m5(e,t){var r=kt(e),n=e.match(s9e(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(i9e,"").match(o9e);i&&a.push({v:Er(i[2]),t:i[1]})}),a}var l9e=/(^\s|\s$|\n)/;function c9e(e){return Cl(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function u9e(e,t,r){return"<"+e+(r!=null?c9e(r):"")+(t!=null?(t.match(l9e)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function y4(e){if(Ht&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Er(Yf(h4(e)));throw new Error("Bad input format: expected Buffer or string")}var nx=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,d9e={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},f9e=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function h9e(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function m9e(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var p5=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},g5=Ht?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Gf(t)})):p5(e)}:p5,v5=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(ac(e,a)));return n.join("").replace(ds,"")},b4=Ht?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(ds,""):v5(e,t,r)}:v5,x5=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},_X=Ht?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):x5(e,t,r)}:x5,y5=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Nh(e,a)));return n.join("")},sy=Ht?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):y5(t,r,n)}:y5,SX=function(e,t){var r=ti(e,t);return r>0?sy(e,t+4,t+4+r-1):""},jX=SX,kX=function(e,t){var r=ti(e,t);return r>0?sy(e,t+4,t+4+r-1):""},NX=kX,CX=function(e,t){var r=2*ti(e,t);return r>0?sy(e,t+4,t+4+r-1):""},EX=CX,TX=function(t,r){var n=ti(t,r);return n>0?b4(t,r+4,r+4+n):""},AX=TX,OX=function(e,t){var r=ti(e,t);return r>0?sy(e,t+4,t+4+r):""},PX=OX,DX=function(e,t){return h9e(e,t)},t_=DX,RX=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Ht&&(jX=function(t,r){if(!Buffer.isBuffer(t))return SX(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},NX=function(t,r){if(!Buffer.isBuffer(t))return kX(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},EX=function(t,r){if(!Buffer.isBuffer(t))return CX(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},AX=function(t,r){if(!Buffer.isBuffer(t))return TX(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},PX=function(t,r){if(!Buffer.isBuffer(t))return OX(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},t_=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):DX(t,r)},RX=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Nh=function(e,t){return e[t]},ac=function(e,t){return e[t+1]*256+e[t]},p9e=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ti=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Od=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},g9e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Og(e,t){var r="",n,a,s=[],i,l,c,u;switch(t){case"dbcs":if(u=this.l,Ht&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(ac(this,u)),u+=2;e*=2;break;case"utf8":r=sy(this,this.l,this.l+e);break;case"utf16le":e*=2,r=b4(this,this.l,this.l+e);break;case"wstr":return Og.call(this,e,"dbcs");case"lpstr-ansi":r=jX(this,this.l),e=4+ti(this,this.l);break;case"lpstr-cp":r=NX(this,this.l),e=4+ti(this,this.l);break;case"lpwstr":r=EX(this,this.l),e=4+2*ti(this,this.l);break;case"lpp4":e=4+ti(this,this.l),r=AX(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ti(this,this.l),r=PX(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=Nh(this,this.l+e++))!==0;)s.push(gb(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=ac(this,this.l+e))!==0;)s.push(gb(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=Nh(this,u),this.l=u+1,l=Og.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(gb(ac(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=Nh(this,u),this.l=u+1,l=Og.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(gb(Nh(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=Nh(this,this.l),this.l++,n;case 2:return n=(t==="i"?p9e:ac)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Od:g9e)(this,this.l),this.l+=4,n):(a=ti(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=t_(this,this.l):a=t_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=_X(this,this.l,e);break}}return this.l+=e,r}var v9e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},x9e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},y9e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function b9e(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)y9e(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,v9e(this,t,this.l);break;case 8:if(n=8,r==="f"){m9e(this,t,this.l);break}case 16:break;case-4:n=4,x9e(this,t,this.l);break}return this.l+=n,this}function IX(e,t){var r=_X(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ra(e,t){e.l=t,e.read_shift=Og,e.chk=IX,e.write_shift=b9e}function Fa(e,t){e.l+=t}function Pn(e){var t=Vu(e);return ra(t,0),t}function Rc(e,t,r){if(e){var n,a,s;ra(e,e.l||0);for(var i=e.length,l=0,c=0;e.l<i;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=o_[l]||o_[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;c=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=c,t(d,u,l))return}}}function lT(){var e=[],t=Ht?256:2048,r=function(u){var d=Pn(u);return ra(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},i=function(){return a(),nu(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:i,_bufs:e}}function Pg(e,t,r){var n=oa(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function b5(e,t,r){var n=oa(e);return n.s=Pg(n.s,t.s,r),n.e=Pg(n.e,t.s,r),n}function Dg(e,t){if(e.cRel&&e.c<0)for(e=oa(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=oa(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Tt(e);return!e.cRel&&e.cRel!=null&&(r=S9e(r)),!e.rRel&&e.rRel!=null&&(r=w9e(r)),r}function wN(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ln(e.s.c)+":"+(e.e.cRel?"":"$")+Ln(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+la(e.s.r)+":"+(e.e.rRel?"":"$")+la(e.e.r):Dg(e.s,t.biff)+":"+Dg(e.e,t.biff)}function w4(e){return parseInt(_9e(e),10)-1}function la(e){return""+(e+1)}function w9e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function _9e(e){return e.replace(/\$(\d+)$/,"$1")}function _4(e){for(var t=j9e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ln(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function S9e(e){return e.replace(/^([A-Z])/,"$$$1")}function j9e(e){return e.replace(/^\$([A-Z])/,"$1")}function k9e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ls(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Tt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function h0(e){var t=e.indexOf(":");return t==-1?{s:ls(e),e:ls(e)}:{s:ls(e.slice(0,t)),e:ls(e.slice(t+1))}}function Yt(e,t){return typeof t>"u"||typeof t=="number"?Yt(e.s,e.e):(typeof e!="string"&&(e=Tt(e)),typeof t!="string"&&(t=Tt(t)),e==t?e:e+":"+t)}function en(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function w5(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Wi(e.z,r?fs(t):t)}catch{}try{return e.w=Wi((e.XF||{}).numFmtId||(r?14:0),r?fs(t):t)}catch{return""+t}}function Nc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Qf[e.v]||e.v:t==null?w5(e,e.v):w5(e,t))}function cd(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function MX(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?ls(n.origin):n.origin;i=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=en(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),i==-1&&(u.e.r=i=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},p=i+f,g=l+h;if(u.s.r>p&&(u.s.r=p),u.s.c>g&&(u.s.c=g),u.e.r<p&&(u.e.r=p),u.e.c<g&&(u.e.c=g),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||It[14],n.cellDates?(m.t="d",m.w=Wi(m.z,fs(m.v))):(m.t="n",m.v=fs(m.v),m.w=Wi(m.z,m.v))):m.t="s";if(a)s[p]||(s[p]=[]),s[p][g]&&s[p][g].z&&(m.z=s[p][g].z),s[p][g]=m;else{var v=Tt({c:g,r:p});s[v]&&s[v].z&&(m.z=s[v].z),s[v]=m}}}return u.s.c<1e7&&(s["!ref"]=Yt(u)),s}function m0(e,t){return MX(null,e,t)}function N9e(e){return e.read_shift(4,"i")}function Da(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function C9e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function S4(e,t){var r=e.l,n=e.read_shift(1),a=Da(e),s=[],i={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(C9e(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var E9e=S4;function Gi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Xf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var T9e=Da;function j4(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var A9e=Da,cT=j4;function k4(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?t_([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Od(t,0)>>2;return r?a/100:a}function FX(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Jf=FX;function Oa(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function O9e(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=df[a];u&&(t.rgb=sx(u));break;case 2:t.rgb=sx([i,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function P9e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function LX(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function D9e(e){return LX(e,1)}function R9e(e){return LX(e,2)}var N4=2,bs=3,xb=11,_5=12,r_=19,yb=64,I9e=65,M9e=71,F9e=4108,L9e=4126,Wn=80,$X=81,$9e=[Wn,$X],B9e={1:{n:"CodePage",t:N4},2:{n:"Category",t:Wn},3:{n:"PresentationFormat",t:Wn},4:{n:"ByteCount",t:bs},5:{n:"LineCount",t:bs},6:{n:"ParagraphCount",t:bs},7:{n:"SlideCount",t:bs},8:{n:"NoteCount",t:bs},9:{n:"HiddenCount",t:bs},10:{n:"MultimediaClipCount",t:bs},11:{n:"ScaleCrop",t:xb},12:{n:"HeadingPairs",t:F9e},13:{n:"TitlesOfParts",t:L9e},14:{n:"Manager",t:Wn},15:{n:"Company",t:Wn},16:{n:"LinksUpToDate",t:xb},17:{n:"CharacterCount",t:bs},19:{n:"SharedDoc",t:xb},22:{n:"HyperlinksChanged",t:xb},23:{n:"AppVersion",t:bs,p:"version"},24:{n:"DigSig",t:I9e},26:{n:"ContentType",t:Wn},27:{n:"ContentStatus",t:Wn},28:{n:"Language",t:Wn},29:{n:"Version",t:Wn},255:{},2147483648:{n:"Locale",t:r_},2147483651:{n:"Behavior",t:r_},1919054434:{}},U9e={1:{n:"CodePage",t:N4},2:{n:"Title",t:Wn},3:{n:"Subject",t:Wn},4:{n:"Author",t:Wn},5:{n:"Keywords",t:Wn},6:{n:"Comments",t:Wn},7:{n:"Template",t:Wn},8:{n:"LastAuthor",t:Wn},9:{n:"RevNumber",t:Wn},10:{n:"EditTime",t:yb},11:{n:"LastPrinted",t:yb},12:{n:"CreatedDate",t:yb},13:{n:"ModifiedDate",t:yb},14:{n:"PageCount",t:bs},15:{n:"WordCount",t:bs},16:{n:"CharCount",t:bs},17:{n:"Thumbnail",t:M9e},18:{n:"Application",t:Wn},19:{n:"DocSecurity",t:bs},255:{},2147483648:{n:"Locale",t:r_},2147483651:{n:"Behavior",t:r_},1919054434:{}},S5={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},z9e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function V9e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var W9e=V9e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),df=oa(W9e),Qf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},BX={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},j5={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function H9e(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function q9e(e){var t=H9e();if(!e||!e.match)return t;var r={};if((e.match(Ba)||[]).forEach(function(n){var a=kt(n);switch(a[0].replace(e9e,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[j5[a.ContentType]]!==void 0&&t[j5[a.ContentType]].push(a.PartName);break}}),t.xmlns!==d9e.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Jh={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function uT(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Rg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ba)||[]).forEach(function(a){var s=kt(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:ag(s.Target,t);r[l]=i,n[s.Id]=i}}),r["!id"]=n,r}var K9e="application/vnd.oasis.opendocument.spreadsheet";function G9e(e,t){for(var r=y4(e),n,a;n=nx.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=kt(n[0],!1),a.path=="/"&&a.type!==K9e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Ig=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Y9e=function(){for(var e=new Array(Ig.length),t=0;t<Ig.length;++t){var r=Ig[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function UX(e){var t={};e=Er(e);for(var r=0;r<Ig.length;++r){var n=Ig[r],a=e.match(Y9e[r]);a!=null&&a.length>0&&(t[n[1]]=Qt(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Yn(t[n[1]]))}return t}var X9e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function zX(e,t,r,n){var a=[];if(typeof e=="string")a=m5(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var i=typeof t=="string"?m5(t,n).map(function(d){return d.v}):t,l=0,c=0;if(i.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=i.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=i.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=i.slice(l,l+c);break}l+=c}}function J9e(e,t,r){var n={};return t||(t={}),e=Er(e),X9e.forEach(function(a){var s=(e.match(rx(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=Qt(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&zX(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Q9e=/<[^>]+>[^<]*/g;function Z9e(e,t){var r={},n="",a=e.match(Q9e);if(a)for(var s=0;s!=a.length;++s){var i=a[s],l=kt(i);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Qt(l.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var c=i.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Qt(d);break;case"bool":r[n]=Fr(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Yn(d);break;case"cy":case"error":r[n]=Qt(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,u,c)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}var e7e={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},_N;function t7e(e,t,r){_N||(_N=g4(e7e)),t=_N[t]||t,e[t]=r}function C4(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function VX(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function WX(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function HX(e,t,r){return t===31?WX(e):VX(e,t,r)}function dT(e,t,r){return HX(e,t,r===!1?0:4)}function r7e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return HX(e,t,0)}function n7e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(ds,""),e.l-a&2&&(e.l+=2)}return r}function a7e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(ds,"");return r}function s7e(e){var t=e.l,r=n_(e,$X);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=n_(e,bs);return[r,n]}function i7e(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(s7e(e));return r}function k5(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(ds,"").replace(ng,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function qX(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function o7e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function n_(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==_5&&n!==t&&$9e.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===_5?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return VX(e,n,4).replace(ds,"");case 31:return WX(e);case 64:return C4(e);case 65:return qX(e);case 71:return o7e(e);case 80:return dT(e,n,!s.raw).replace(ds,"");case 81:return r7e(e,n).replace(ds,"");case 4108:return i7e(e);case 4126:case 4127:return n==4127?n7e(e):a7e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function N5(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,l=0,c=-1,u={};for(i=0;i!=a;++i){var d=e.read_shift(4),f=e.read_shift(4);s[i]=[d,f+r]}s.sort(function(b,w){return b[1]-w[1]});var h={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var m=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,m=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],m=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],m=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(m=!1,e.l=s[i][1]),m)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var p=t[s[i][0]];if(h[p.n]=n_(e,p.t,{raw:!0}),p.p==="version"&&(h[p.n]=String(h[p.n]>>16)+"."+("0000"+String(h[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(h[p.n]){case 0:h[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:So(l=h[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[p.n])}}else if(s[i][0]===1){if(l=h.CodePage=n_(e,N4),So(l),c!==-1){var g=e.l;e.l=s[c][1],u=k5(e,l),e.l=g}}else if(s[i][0]===0){if(l===0){c=i,e.l=s[i+1][1];continue}u=k5(e,l)}else{var v=u[s[i][0]],y;switch(e[e.l]){case 65:e.l+=4,y=qX(e);break;case 30:e.l+=4,y=dT(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=dT(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=tn(e,4);break;case 64:e.l+=4,y=Yn(C4(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function C5(e,t,r){var n=e.content;if(!n)return{};ra(n,0);var a,s,i,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Kt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(i=n.read_shift(16),c=n.read_shift(4));var f=N5(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=s,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var p;try{p=N5(n,null)}catch{}for(m in p)h[m]=p[m];return h.FMTID=[s,i],h}function Uc(e,t){return e.read_shift(t),null}function l7e(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function tn(e,t){return e.read_shift(t)===1}function vn(e){return e.read_shift(2,"u")}function KX(e,t){return l7e(e,t,vn)}function c7e(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function iy(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function u7e(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,l,c={};a&&(i=e.read_shift(2)),n&&(l=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*i),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Rf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function oy(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Rf(e,n,r)}function Zf(e,t,r){if(r.biff>5)return oy(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function d7e(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function f7e(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(ds,"");return n&&(e.l+=24),a}function h7e(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(ds,"");return r+i}function m7e(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return f7e(e);case"0303000000000000c000000000000046":return h7e(e);default:throw new Error("Unsupported Moniker "+r)}}function bb(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(ds,""):"";return r}function p7e(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,l,c,u="",d,f;a&16&&(s=bb(e,r-e.l)),a&128&&(i=bb(e,r-e.l)),(a&257)===257&&(l=bb(e,r-e.l)),(a&257)===1&&(c=m7e(e,r-e.l)),a&8&&(u=bb(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=C4(e)),e.l=r;var h=i||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),s&&(m.Tooltip=s),m}function GX(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function YX(e,t){var r=GX(e);return r[3]=0,r}function Ml(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function g7e(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function v7e(e,t,r){return t===0?"":Zf(e,t,r)}function x7e(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function XX(e){var t=e.read_shift(2),r=k4(e);return[t,r]}function y7e(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=iy(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function hj(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function JX(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var b7e=JX;function QX(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function w7e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function _7e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ga(e){e.l+=2,e.l+=e.read_shift(2)}var S7e={0:ga,4:ga,5:ga,6:ga,7:_7e,8:ga,9:ga,10:ga,11:ga,12:ga,13:w7e,14:ga,15:ga,16:ga,17:ga,18:ga,19:ga,20:ga,21:QX};function j7e(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(S7e[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function wb(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function k7e(e,t){return t===0||e.read_shift(2),1200}function N7e(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Zf(e,0,r);return e.read_shift(t+n-e.l),a}function C7e(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function E7e(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=iy(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function T7e(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(u7e(e));return s.Count=n,s.Unique=a,s}function A7e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function O7e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function P7e(e){var t=g7e(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function D7e(e){return e.read_shift(2),e.read_shift(4)}function E5(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function R7e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:l,Selected:c,TabRatio:u}}function I7e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function M7e(){}function F7e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=iy(e,0,r),n}function L7e(e){var t=Ml(e);return t.isst=e.read_shift(4),t}function $7e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Ml(e);r.biff==2&&e.l++;var s=oy(e,n-e.l,r);return a.val=s,a}function B7e(e,t,r){var n=e.read_shift(2),a=Zf(e,0,r);return[n,a]}var U7e=Zf;function T5(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:s,c:l},e:{r:i,c}}}function z7e(e){var t=e.read_shift(2),r=e.read_shift(2),n=XX(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function V7e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(XX(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function W7e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function H7e(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=z9e[l>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function q7e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=H7e(e,t,n.fStyle,r),n}function K7e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function A5(e,t,r){var n=Ml(e);(r.biff==2||t==9)&&++e.l;var a=c7e(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function G7e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Ml(e),a=Oa(e);return n.val=a,n}var O5=v7e;function Y7e(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=Rf(e,s),l=[];n>e.l;)l.push(oy(e));return[s,a,i,l]}function P5(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=y7e(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var X7e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function D5(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=Rf(e,i,r);a&32&&(u=X7e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:OHe(e,d,r,l);return{chKey:s,Name:u,itab:c,rgce:f}}function ZX(e,t,r){if(r.biff<8)return J7e(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(x7e(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function J7e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=iy(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Q7e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=Rf(e,n,r),i=Rf(e,a,r);return[s,i]}function Z7e(e,t,r){var n=JX(e);e.l++;var a=e.read_shift(1);return t-=8,[PHe(e,t,r),a,n]}function R5(e,t,r){var n=b7e(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,THe(e,t,r)]}function eze(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function tze(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),l=Zf(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,i,s]}}function rze(e,t,r){return tze(e,t,r)}function nze(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(hj(e));return r}function aze(e,t,r){if(r&&r.biff<8)return ize(e,t,r);var n=QX(e),a=j7e(e,t-22,n[1]);return{cmo:n,ft:a}}var sze={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function ize(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((sze[n]||Fa)(e,t,r)),{cmo:[a,n,s],ft:i}}function oze(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=d7e(e,6,r);var l=e.read_shift(2);e.read_shift(2),vn(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=Rf(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function lze(e,t){var r=hj(e);e.l+=16;var n=p7e(e,t-24);return[r,n]}function cze(e,t){e.read_shift(2);var r=hj(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(ds,""),[r,n]}function uze(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=S5[r]||r,r=e.read_shift(2),t[1]=S5[r]||r,t}function dze(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(YX(e));return r}function fze(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(YX(e));return r}function hze(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function eJ(e,t,r){if(!r.cellStyles)return Fa(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:i,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function mze(e,t){var r={};return t<32||(e.l+=16,r.header=Oa(e),r.footer=Oa(e),e.l+=2),r}function pze(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var gze=Ml,vze=KX,xze=oy;function yze(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function bze(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Ml(e);++e.l;var a=Zf(e,t-7,r);return n.t="str",n.val=a,n}function wze(e){var t=Ml(e);++e.l;var r=Oa(e);return t.t="n",t.val=r,t}function _ze(e){var t=Ml(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function Sze(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function jze(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function kze(e,t,r){var n=e.l+t,a=Ml(e),s=e.read_shift(2),i=Rf(e,s,r);return e.l=n,a.t="str",a.val=i,a}var Nze=[2,3,48,49,131,139,140,245],I5=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=g4({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Vu(1);switch(c.type){case"base64":d=bo(mi(l));break;case"binary":d=bo(l);break;case"buffer":case"array":d=l;break}ra(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,v=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(v=d.read_shift(2));var y=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),p&&(d.l+=36);for(var w=[],_={},S=Math.min(d.length,f==2?521:v-10-(m?264:0)),k=p?32:11;d.l<S&&d[d.l]!=13;)switch(_={},_.name=ru.utils.decode(b,d.slice(d.l,d.l+k)).replace(/[\u0000\r\n].*$/g,""),d.l+=k,_.type=String.fromCharCode(d.read_shift(1)),f!=2&&!p&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),f==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&w.push(_),f!=2&&(d.l+=p?13:14),_.type){case"B":(!m||_.len!=8)&&c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var j=0,N=0;for(u[0]=[],N=0;N!=w.length;++N)u[0][N]=w[N].name;for(;g-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++j]=[],N=0,N=0;N!=w.length;++N){var C=d.slice(d.l,d.l+w[N].len);d.l+=w[N].len,ra(C,0);var T=ru.utils.decode(b,C);switch(w[N].type){case"C":T.trim().length&&(u[j][N]=T.replace(/\s+$/,""));break;case"D":T.length===8?u[j][N]=new Date(+T.slice(0,4),+T.slice(4,6)-1,+T.slice(6,8)):u[j][N]=T;break;case"F":u[j][N]=parseFloat(T.trim());break;case"+":case"I":u[j][N]=p?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(T.trim().toUpperCase()){case"Y":case"T":u[j][N]=!0;break;case"N":case"F":u[j][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+T+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[j][N]="##MEMO##"+(p?parseInt(T.trim(),10):C.read_shift(4));break;case"N":T=T.replace(/\u0000/g,"").trim(),T&&T!="."&&(u[j][N]=+T||0);break;case"@":u[j][N]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":u[j][N]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":u[j][N]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[j][N]=-C.read_shift(-8,"f");break;case"B":if(m&&w[N].len==8){u[j][N]=C.read_shift(8,"f");break}case"G":case"P":C.l+=w[N].len;break;case"0":if(w[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[N].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=w,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=m0(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return cd(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(l,c){var u=c||{};if(+u.codepage>=0&&So(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=lT(),f=xT(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),p=l["!cols"]||[],g=0,v=0,y=0,b=1;for(g=0;g<h.length;++g){if(((p[g]||{}).DBF||{}).name){h[g]=p[g].DBF.name,++y;continue}if(h[g]!=null){if(++y,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(v=0;v<1024;++v)if(h.indexOf(h[g]+"_"+v)==-1){h[g]+="_"+v;break}}}}var w=en(l["!ref"]),_=[],S=[],k=[];for(g=0;g<=w.e.c-w.s.c;++g){var j="",N="",C=0,T=[];for(v=0;v<m.length;++v)m[v][g]!=null&&T.push(m[v][g]);if(T.length==0||h[g]==null){_[g]="?";continue}for(v=0;v<T.length;++v){switch(typeof T[v]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=T[v]instanceof Date?"D":"C";break;default:N="C"}C=Math.max(C,String(T[v]).length),j=j&&j!=N?"C":N}C>250&&(C=250),N=((p[g]||{}).DBF||{}).type,N=="C"&&p[g].DBF.len>C&&(C=p[g].DBF.len),j=="B"&&N=="N"&&(j="N",k[g]=p[g].DBF.dec,C=p[g].DBF.len),S[g]=j=="C"||N=="N"?C:s[j]||0,b+=S[g],_[g]=j}var D=d.next(32);for(D.write_shift(4,318902576),D.write_shift(4,m.length),D.write_shift(2,296+32*y),D.write_shift(2,b),g=0;g<4;++g)D.write_shift(4,0);for(D.write_shift(4,0|(+t[ZY]||3)<<8),g=0,v=0;g<h.length;++g)if(h[g]!=null){var A=d.next(32),H=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);A.write_shift(1,H,"sbcs"),A.write_shift(1,_[g]=="?"?"C":_[g],"sbcs"),A.write_shift(4,v),A.write_shift(1,S[g]||s[_[g]]||0),A.write_shift(1,k[g]||0),A.write_shift(1,2),A.write_shift(4,0),A.write_shift(1,0),A.write_shift(4,0),A.write_shift(4,0),v+=S[g]||s[_[g]]||0}var X=d.next(264);for(X.write_shift(4,13),g=0;g<65;++g)X.write_shift(4,0);for(g=0;g<m.length;++g){var L=d.next(b);for(L.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(_[v]){case"L":L.write_shift(1,m[g][v]==null?63:m[g][v]?84:70);break;case"B":L.write_shift(8,m[g][v]||0,"f");break;case"N":var I="0";for(typeof m[g][v]=="number"&&(I=m[g][v].toFixed(k[v]||0)),y=0;y<S[v]-I.length;++y)L.write_shift(1,32);L.write_shift(1,I,"sbcs");break;case"D":m[g][v]?(L.write_shift(4,("0000"+m[g][v].getFullYear()).slice(-4),"sbcs"),L.write_shift(2,("00"+(m[g][v].getMonth()+1)).slice(-2),"sbcs"),L.write_shift(2,("00"+m[g][v].getDate()).slice(-2),"sbcs")):L.write_shift(8,"00000000","sbcs");break;case"C":var W=String(m[g][v]!=null?m[g][v]:"").slice(0,S[v]);for(L.write_shift(1,W,"sbcs"),y=0;y<S[v]-W.length;++y)L.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),Cze=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Cl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var p=e[m];return typeof p=="number"?J$(p):p},n=function(h,m,p){var g=m.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return g==59?h:J$(g)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return s(mi(h),m);case"binary":return s(h,m);case"buffer":return s(Ht&&Buffer.isBuffer(h)?h.toString("binary"):Yf(h),m);case"array":return s(Df(h),m)}throw new Error("Unrecognized type "+m.type)}function s(h,m){var p=h.split(/[\n\r]+/),g=-1,v=-1,y=0,b=0,w=[],_=[],S=null,k={},j=[],N=[],C=[],T=0,D;for(+m.codepage>=0&&So(+m.codepage);y!==p.length;++y){T=0;var A=p[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),H=A.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),X=H[0],L;if(A.length>0)switch(X){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":H[1].charAt(0)=="P"&&_.push(A.slice(3).replace(/;;/g,";"));break;case"C":var I=!1,W=!1,F=!1,M=!1,G=-1,Q=-1;for(b=1;b<H.length;++b)switch(H[b].charAt(0)){case"A":break;case"X":v=parseInt(H[b].slice(1))-1,W=!0;break;case"Y":for(g=parseInt(H[b].slice(1))-1,W||(v=0),D=w.length;D<=g;++D)w[D]=[];break;case"K":L=H[b].slice(1),L.charAt(0)==='"'?L=L.slice(1,L.length-1):L==="TRUE"?L=!0:L==="FALSE"?L=!1:isNaN(To(L))?isNaN(kp(L).getDate())||(L=Yn(L)):(L=To(L),S!==null&&f0(S)&&(L=fj(L))),I=!0;break;case"E":M=!0;var E=pm(H[b].slice(1),{r:g,c:v});w[g][v]=[w[g][v],E];break;case"S":F=!0,w[g][v]=[w[g][v],"S5S"];break;case"G":break;case"R":G=parseInt(H[b].slice(1))-1;break;case"C":Q=parseInt(H[b].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+A)}if(I&&(w[g][v]&&w[g][v].length==2?w[g][v][0]=L:w[g][v]=L,S=null),F){if(M)throw new Error("SYLK shared formula cannot have own formula");var B=G>-1&&w[G][Q];if(!B||!B[1])throw new Error("SYLK shared formula cannot find base");w[g][v][1]=uJ(B[1],{r:g-G,c:v-Q})}break;case"F":var U=0;for(b=1;b<H.length;++b)switch(H[b].charAt(0)){case"X":v=parseInt(H[b].slice(1))-1,++U;break;case"Y":for(g=parseInt(H[b].slice(1))-1,D=w.length;D<=g;++D)w[D]=[];break;case"M":T=parseInt(H[b].slice(1))/20;break;case"F":break;case"G":break;case"P":S=_[parseInt(H[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=H[b].slice(1).split(" "),D=parseInt(C[0],10);D<=parseInt(C[1],10);++D)T=parseInt(C[2],10),N[D-1]=T===0?{hidden:!0}:{wch:T},Np(N[D-1]);break;case"C":v=parseInt(H[b].slice(1))-1,N[v]||(N[v]={});break;case"R":g=parseInt(H[b].slice(1))-1,j[g]||(j[g]={}),T>0?(j[g].hpt=T,j[g].hpx=ix(T)):T===0&&(j[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+A)}U<1&&(S=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+A)}}return j.length>0&&(k["!rows"]=j),N.length>0&&(k["!cols"]=N),m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),[w,k]}function i(h,m){var p=a(h,m),g=p[0],v=p[1],y=m0(g,m);return Cl(v).forEach(function(b){y[b]=v[b]}),y}function l(h,m){return cd(i(h,m),m)}function c(h,m,p,g){var v="C;Y"+(p+1)+";X"+(g+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+hWe(h.f,{r:p,c:g}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(h,m){m.forEach(function(p,g){var v="F;W"+(g+1)+" "+(g+1)+" ";p.hidden?v+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=s_(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=i_(p.wpx)),typeof p.wch=="number"&&(v+=Math.round(p.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function d(h,m){m.forEach(function(p,g){var v="F;";p.hidden?v+="M0;":p.hpt?v+="M"+20*p.hpt+";":p.hpx&&(v+="M"+20*oJ(p.hpx)+";"),v.length>2&&h.push(v+"R"+(g+1))})}function f(h,m){var p=["ID;PWXL;N;E"],g=[],v=en(h["!ref"]),y,b=Array.isArray(h),w=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),h["!cols"]&&u(p,h["!cols"]),h["!rows"]&&d(p,h["!rows"]),p.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var _=v.s.r;_<=v.e.r;++_)for(var S=v.s.c;S<=v.e.c;++S){var k=Tt({r:_,c:S});y=b?(h[_]||[])[S]:h[k],!(!y||y.v==null&&(!y.f||y.F))&&g.push(c(y,h,_,S))}return p.join(w)+w+g.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:i,from_sheet:f}}(),Eze=function(){function e(s,i){switch(i.type){case"base64":return t(mi(s),i);case"binary":return t(s,i);case"buffer":return t(Ht&&Buffer.isBuffer(s)?s.toString("binary"):Yf(s),i);case"array":return t(Df(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var l=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),m=h[0],p=h[1];++d;for(var g=l[d]||"";(g.match(/["]/g)||[]).length&1&&d<l.length-1;)g+=`
`+l[++d];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(To(p))?isNaN(kp(p).getDate())?f[c][u]=p:f[c][u]=Yn(p):f[c][u]=To(p),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(s,i){return m0(e(s,i),i)}function n(s,i){return cd(r(s,i),i)}var a=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},i=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=en(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){i(u,-1,0,"BOT");for(var p=d.s.c;p<=d.e.c;++p){var g=Tt({r:m,c:p});if(f=h?(c[m]||[])[p]:c[g],!f){i(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?i(u,1,0,"="+f.f):i(u,1,0,""):i(u,0,v,"V");break;case"b":i(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Wi(f.z||It[14],fs(Yn(f.v)))),i(u,0,f.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var y=`\r
`,b=u.join(y);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),Tze=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),p=-1,g=-1,v=0,y=[];v!==m.length;++v){var b=m[v].trim().split(":");if(b[0]==="cell"){var w=ls(b[1]);if(y.length<=w.r)for(p=y.length;p<=w.r;++p)y[p]||(y[p]=[]);switch(p=w.r,g=w.c,b[2]){case"t":y[p][g]=e(b[3]);break;case"v":y[p][g]=+b[3];break;case"vtf":var _=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[p][g]=!!+b[4];break;default:y[p][g]=+b[4];break}b[2]=="vtf"&&(y[p][g]=[y[p][g],_])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return m0(r(f,h),h)}function a(f,h){return cd(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],p,g="",v=h0(f["!ref"]),y=Array.isArray(f),b=v.s.r;b<=v.e.r;++b)for(var w=v.s.c;w<=v.e.c;++w)if(g=Tt({r:b,c:w}),p=y?(f[b]||[])[w]:f[g],!(!p||p.v==null||p.t==="z")){switch(m=["cell",g,"t"],p.t){case"s":case"str":m.push(t(p.v));break;case"n":p.f?(m[2]="vtf",m[3]="n",m[4]=p.v,m[5]=t(p.f)):(m[2]="v",m[3]=p.v);break;case"b":m[2]="vt"+(p.f?"f":"c"),m[3]="nl",m[4]=p.v?"1":"0",m[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var _=fs(Yn(p.v));m[2]="vtc",m[3]="nd",m[4]=""+_,m[5]=p.w||Wi(p.z||It[14],_);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,i,l,i,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),ax=function(){function e(d,f,h,m,p){p.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(To(d))?isNaN(kp(d).getDate())?f[h][m]=d:f[h][m]=Yn(d):f[h][m]=To(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var p=d.split(/[\r\n]/),g=p.length-1;g>=0&&p[g].length===0;)--g;for(var v=10,y=0,b=0;b<=g;++b)y=p[b].indexOf(" "),y==-1?y=p[b].length:y++,v=Math.max(v,y);for(b=0;b<=g;++b){m[b]=[];var w=0;for(e(p[b].slice(0,v).trim(),m,b,w,h),w=1;w<=(p[b].length-v)/10+1;++w)e(p[b].slice(v+(w-1)*10,v+w*10).trim(),m,b,w,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,p=0;m<d.length;++m)(p=d.charCodeAt(m))==34?h=!h:!h&&p in r&&(f[p]=(f[p]||0)+1);p=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m]);if(!p.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m])}return p.sort(function(g,v){return g[0]-v[0]||n[g[1]]-n[v[1]]}),r[p.pop()[1]]||44}function s(d,f){var h=f||{},m="",p=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var v=0,y=0,b=0,w=0,_=0,S=m.charCodeAt(0),k=!1,j=0,N=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var C=h.dateNF!=null?BUe(h.dateNF):null;function T(){var D=d.slice(w,_),A={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)A.t="z";else if(h.raw)A.t="s",A.v=D;else if(D.trim().length===0)A.t="s",A.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(A.t="s",A.v=D.slice(2,-1).replace(/""/g,'"')):pWe(D)?(A.t="n",A.f=D.slice(1)):(A.t="s",A.v=D);else if(D=="TRUE")A.t="b",A.v=!0;else if(D=="FALSE")A.t="b",A.v=!1;else if(!isNaN(b=To(D)))A.t="n",h.cellText!==!1&&(A.w=D),A.v=b;else if(!isNaN(kp(D).getDate())||C&&D.match(C)){A.z=h.dateNF||It[14];var H=0;C&&D.match(C)&&(D=UUe(D,h.dateNF,D.match(C)||[]),H=1),h.cellDates?(A.t="d",A.v=Yn(D,H)):(A.t="n",A.v=fs(Yn(D,H))),h.cellText!==!1&&(A.w=Wi(A.z,A.v instanceof Date?fs(A.v):A.v)),h.cellNF||delete A.z}else A.t="s",A.v=D;if(A.t=="z"||(h.dense?(p[v]||(p[v]=[]),p[v][y]=A):p[Tt({c:y,r:v})]=A),w=_+1,N=d.charCodeAt(w),g.e.c<y&&(g.e.c=y),g.e.r<v&&(g.e.r=v),j==S)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;_<d.length;++_)switch(j=d.charCodeAt(_)){case 34:N===34&&(k=!k);break;case S:case 10:case 13:if(!k&&T())break e;break}return _-w>0&&T(),p["!ref"]=Yt(g),p}function i(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):m0(t(d,f),f)}function l(d,f){var h="",m=f.type=="string"?[0,0,0,0]:I4(d,f);switch(f.type){case"base64":h=mi(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof ru<"u"?h=ru.utils.decode(f.codepage,d):h=Ht&&Buffer.isBuffer(d)?d.toString("binary"):Yf(d);break;case"array":h=Df(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Er(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Er(h):f.type=="binary"&&typeof ru<"u"&&f.codepage&&(h=ru.utils.decode(f.codepage,ru.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?Tze.to_sheet(f.type=="string"?h:Er(h),f):i(h,f)}function c(d,f){return cd(l(d,f),f)}function u(d){for(var f=[],h=en(d["!ref"]),m,p=Array.isArray(d),g=h.s.r;g<=h.e.r;++g){for(var v=[],y=h.s.c;y<=h.e.c;++y){var b=Tt({r:g,c:y});if(m=p?(d[g]||[])[y]:d[b],!m||m.v==null){v.push("          ");continue}for(var w=(m.w||(Nc(m),m.w)||"").slice(0,10);w.length<10;)w+=" ";v.push(w+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function Aze(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=Cze.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return ax.to_workbook(e,t)}}var Mg=function(){function e(E,B,U){if(E){ra(E,E.l||0);for(var q=U.Enum||G;E.l<E.length;){var ee=E.read_shift(2),oe=q[ee]||q[65535],ge=E.read_shift(2),se=E.l+ge,Z=oe.f&&oe.f(E,ge,U);if(E.l=se,B(Z,oe,ee))return}}}function t(E,B){switch(B.type){case"base64":return r(bo(mi(E)),B);case"binary":return r(bo(E),B);case"buffer":case"array":return r(E,B)}throw"Unsupported type "+B.type}function r(E,B){if(!E)return E;var U=B||{},q=U.dense?[]:{},ee="Sheet1",oe="",ge=0,se={},Z=[],he=[],P={s:{r:0,c:0},e:{r:0,c:0}},De=U.sheetRows||0;if(E[2]==0&&(E[3]==8||E[3]==9)&&E.length>=16&&E[14]==5&&E[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(E[2]==2)U.Enum=G,e(E,function(Oe,ht,it){switch(it){case 0:U.vers=Oe,Oe>=4096&&(U.qpro=!0);break;case 6:P=Oe;break;case 204:Oe&&(oe=Oe);break;case 222:oe=Oe;break;case 15:case 51:U.qpro||(Oe[1].v=Oe[1].v.slice(1));case 13:case 14:case 16:it==14&&(Oe[2]&112)==112&&(Oe[2]&15)>1&&(Oe[2]&15)<15&&(Oe[1].z=U.dateNF||It[14],U.cellDates&&(Oe[1].t="d",Oe[1].v=fj(Oe[1].v))),U.qpro&&Oe[3]>ge&&(q["!ref"]=Yt(P),se[ee]=q,Z.push(ee),q=U.dense?[]:{},P={s:{r:0,c:0},e:{r:0,c:0}},ge=Oe[3],ee=oe||"Sheet"+(ge+1),oe="");var ce=U.dense?(q[Oe[0].r]||[])[Oe[0].c]:q[Tt(Oe[0])];if(ce){ce.t=Oe[1].t,ce.v=Oe[1].v,Oe[1].z!=null&&(ce.z=Oe[1].z),Oe[1].f!=null&&(ce.f=Oe[1].f);break}U.dense?(q[Oe[0].r]||(q[Oe[0].r]=[]),q[Oe[0].r][Oe[0].c]=Oe[1]):q[Tt(Oe[0])]=Oe[1];break}},U);else if(E[2]==26||E[2]==14)U.Enum=Q,E[2]==14&&(U.qpro=!0,E.l=0),e(E,function(Oe,ht,it){switch(it){case 204:ee=Oe;break;case 22:Oe[1].v=Oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Oe[3]>ge&&(q["!ref"]=Yt(P),se[ee]=q,Z.push(ee),q=U.dense?[]:{},P={s:{r:0,c:0},e:{r:0,c:0}},ge=Oe[3],ee="Sheet"+(ge+1)),De>0&&Oe[0].r>=De)break;U.dense?(q[Oe[0].r]||(q[Oe[0].r]=[]),q[Oe[0].r][Oe[0].c]=Oe[1]):q[Tt(Oe[0])]=Oe[1],P.e.c<Oe[0].c&&(P.e.c=Oe[0].c),P.e.r<Oe[0].r&&(P.e.r=Oe[0].r);break;case 27:Oe[14e3]&&(he[Oe[14e3][0]]=Oe[14e3][1]);break;case 1537:he[Oe[0]]=Oe[1],Oe[0]==ge&&(ee=Oe[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+E[2]);if(q["!ref"]=Yt(P),se[oe||ee]=q,Z.push(oe||ee),!he.length)return{SheetNames:Z,Sheets:se};for(var Re={},Me=[],Be=0;Be<he.length;++Be)se[Z[Be]]?(Me.push(he[Be]||Z[Be]),Re[he[Be]]=se[he[Be]]||se[Z[Be]]):(Me.push(he[Be]),Re[he[Be]]={"!ref":"A1"});return{SheetNames:Me,Sheets:Re}}function n(E,B){var U=B||{};if(+U.codepage>=0&&So(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var q=lT(),ee=en(E["!ref"]),oe=Array.isArray(E),ge=[];ro(q,0,s(1030)),ro(q,6,c(ee));for(var se=Math.min(ee.e.r,8191),Z=ee.s.r;Z<=se;++Z)for(var he=la(Z),P=ee.s.c;P<=ee.e.c;++P){Z===ee.s.r&&(ge[P]=Ln(P));var De=ge[P]+he,Re=oe?(E[Z]||[])[P]:E[De];if(!(!Re||Re.t=="z"))if(Re.t=="n")(Re.v|0)==Re.v&&Re.v>=-32768&&Re.v<=32767?ro(q,13,m(Z,P,Re.v)):ro(q,14,g(Z,P,Re.v));else{var Me=Nc(Re);ro(q,15,f(Z,P,Me.slice(0,239)))}}return ro(q,1),q.end()}function a(E,B){var U=B||{};if(+U.codepage>=0&&So(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var q=lT();ro(q,0,i(E));for(var ee=0,oe=0;ee<E.SheetNames.length;++ee)(E.Sheets[E.SheetNames[ee]]||{})["!ref"]&&ro(q,27,M(E.SheetNames[ee],oe++));var ge=0;for(ee=0;ee<E.SheetNames.length;++ee){var se=E.Sheets[E.SheetNames[ee]];if(!(!se||!se["!ref"])){for(var Z=en(se["!ref"]),he=Array.isArray(se),P=[],De=Math.min(Z.e.r,8191),Re=Z.s.r;Re<=De;++Re)for(var Me=la(Re),Be=Z.s.c;Be<=Z.e.c;++Be){Re===Z.s.r&&(P[Be]=Ln(Be));var Oe=P[Be]+Me,ht=he?(se[Re]||[])[Be]:se[Oe];if(!(!ht||ht.t=="z"))if(ht.t=="n")ro(q,23,T(Re,Be,ge,ht.v));else{var it=Nc(ht);ro(q,22,j(Re,Be,ge,it.slice(0,239)))}}++ge}}return ro(q,1),q.end()}function s(E){var B=Pn(2);return B.write_shift(2,E),B}function i(E){var B=Pn(26);B.write_shift(2,4096),B.write_shift(2,4),B.write_shift(4,0);for(var U=0,q=0,ee=0,oe=0;oe<E.SheetNames.length;++oe){var ge=E.SheetNames[oe],se=E.Sheets[ge];if(!(!se||!se["!ref"])){++ee;var Z=h0(se["!ref"]);U<Z.e.r&&(U=Z.e.r),q<Z.e.c&&(q=Z.e.c)}}return U>8191&&(U=8191),B.write_shift(2,U),B.write_shift(1,ee),B.write_shift(1,q),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(1,1),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(4,0),B}function l(E,B,U){var q={s:{c:0,r:0},e:{c:0,r:0}};return B==8&&U.qpro?(q.s.c=E.read_shift(1),E.l++,q.s.r=E.read_shift(2),q.e.c=E.read_shift(1),E.l++,q.e.r=E.read_shift(2),q):(q.s.c=E.read_shift(2),q.s.r=E.read_shift(2),B==12&&U.qpro&&(E.l+=2),q.e.c=E.read_shift(2),q.e.r=E.read_shift(2),B==12&&U.qpro&&(E.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function c(E){var B=Pn(8);return B.write_shift(2,E.s.c),B.write_shift(2,E.s.r),B.write_shift(2,E.e.c),B.write_shift(2,E.e.r),B}function u(E,B,U){var q=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(q[0].c=E.read_shift(1),q[3]=E.read_shift(1),q[0].r=E.read_shift(2),E.l+=2):(q[2]=E.read_shift(1),q[0].c=E.read_shift(2),q[0].r=E.read_shift(2)),q}function d(E,B,U){var q=E.l+B,ee=u(E,B,U);if(ee[1].t="s",U.vers==20768){E.l++;var oe=E.read_shift(1);return ee[1].v=E.read_shift(oe,"utf8"),ee}return U.qpro&&E.l++,ee[1].v=E.read_shift(q-E.l,"cstr"),ee}function f(E,B,U){var q=Pn(7+U.length);q.write_shift(1,255),q.write_shift(2,B),q.write_shift(2,E),q.write_shift(1,39);for(var ee=0;ee<q.length;++ee){var oe=U.charCodeAt(ee);q.write_shift(1,oe>=128?95:oe)}return q.write_shift(1,0),q}function h(E,B,U){var q=u(E,B,U);return q[1].v=E.read_shift(2,"i"),q}function m(E,B,U){var q=Pn(7);return q.write_shift(1,255),q.write_shift(2,B),q.write_shift(2,E),q.write_shift(2,U,"i"),q}function p(E,B,U){var q=u(E,B,U);return q[1].v=E.read_shift(8,"f"),q}function g(E,B,U){var q=Pn(13);return q.write_shift(1,255),q.write_shift(2,B),q.write_shift(2,E),q.write_shift(8,U,"f"),q}function v(E,B,U){var q=E.l+B,ee=u(E,B,U);if(ee[1].v=E.read_shift(8,"f"),U.qpro)E.l=q;else{var oe=E.read_shift(2);_(E.slice(E.l,E.l+oe),ee),E.l+=oe}return ee}function y(E,B,U){var q=B&32768;return B&=-32769,B=(q?E:0)+(B>=8192?B-16384:B),(q?"":"$")+(U?Ln(B):la(B))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(E,B){ra(E,0);for(var U=[],q=0,ee="",oe="",ge="",se="";E.l<E.length;){var Z=E[E.l++];switch(Z){case 0:U.push(E.read_shift(8,"f"));break;case 1:oe=y(B[0].c,E.read_shift(2),!0),ee=y(B[0].r,E.read_shift(2),!1),U.push(oe+ee);break;case 2:{var he=y(B[0].c,E.read_shift(2),!0),P=y(B[0].r,E.read_shift(2),!1);oe=y(B[0].c,E.read_shift(2),!0),ee=y(B[0].r,E.read_shift(2),!1),U.push(he+P+":"+oe+ee)}break;case 3:if(E.l<E.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(E.read_shift(2));break;case 6:{for(var De="";Z=E[E.l++];)De+=String.fromCharCode(Z);U.push('"'+De.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:se=U.pop(),ge=U.pop(),U.push(["AND","OR"][Z-20]+"("+ge+","+se+")");break;default:if(Z<32&&w[Z])se=U.pop(),ge=U.pop(),U.push(ge+w[Z]+se);else if(b[Z]){if(q=b[Z][1],q==69&&(q=E[E.l++]),q>U.length){console.error("WK1 bad formula parse 0x"+Z.toString(16)+":|"+U.join("|")+"|");return}var Re=U.slice(-q);U.length-=q,U.push(b[Z][0]+"("+Re.join(",")+")")}else return Z<=7?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=24?console.error("WK1 unsupported op "+Z.toString(16)):Z<=30?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=115?console.error("WK1 unsupported function opcode "+Z.toString(16)):console.error("WK1 unrecognized opcode "+Z.toString(16))}}U.length==1?B[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function S(E){var B=[{c:0,r:0},{t:"n",v:0},0];return B[0].r=E.read_shift(2),B[3]=E[E.l++],B[0].c=E[E.l++],B}function k(E,B){var U=S(E);return U[1].t="s",U[1].v=E.read_shift(B-4,"cstr"),U}function j(E,B,U,q){var ee=Pn(6+q.length);ee.write_shift(2,E),ee.write_shift(1,U),ee.write_shift(1,B),ee.write_shift(1,39);for(var oe=0;oe<q.length;++oe){var ge=q.charCodeAt(oe);ee.write_shift(1,ge>=128?95:ge)}return ee.write_shift(1,0),ee}function N(E,B){var U=S(E);U[1].v=E.read_shift(2);var q=U[1].v>>1;if(U[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return U[1].v=q,U}function C(E,B){var U=S(E),q=E.read_shift(4),ee=E.read_shift(4),oe=E.read_shift(2);if(oe==65535)return q===0&&ee===3221225472?(U[1].t="e",U[1].v=15):q===0&&ee===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var ge=oe&32768;return oe=(oe&32767)-16446,U[1].v=(1-ge*2)*(ee*Math.pow(2,oe+32)+q*Math.pow(2,oe)),U}function T(E,B,U,q){var ee=Pn(14);if(ee.write_shift(2,E),ee.write_shift(1,U),ee.write_shift(1,B),q==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var oe=0,ge=0,se=0,Z=0;return q<0&&(oe=1,q=-q),ge=Math.log2(q)|0,q/=Math.pow(2,ge-31),Z=q>>>0,Z&2147483648||(q/=2,++ge,Z=q>>>0),q-=Z,Z|=2147483648,Z>>>=0,q*=Math.pow(2,32),se=q>>>0,ee.write_shift(4,se),ee.write_shift(4,Z),ge+=16383+(oe?32768:0),ee.write_shift(2,ge),ee}function D(E,B){var U=C(E);return E.l+=B-14,U}function A(E,B){var U=S(E),q=E.read_shift(4);return U[1].v=q>>6,U}function H(E,B){var U=S(E),q=E.read_shift(8,"f");return U[1].v=q,U}function X(E,B){var U=H(E);return E.l+=B-10,U}function L(E,B){return E[E.l+B-1]==0?E.read_shift(B,"cstr"):""}function I(E,B){var U=E[E.l++];U>B-1&&(U=B-1);for(var q="";q.length<U;)q+=String.fromCharCode(E[E.l++]);return q}function W(E,B,U){if(!(!U.qpro||B<21)){var q=E.read_shift(1);E.l+=17,E.l+=1,E.l+=2;var ee=E.read_shift(B-21,"cstr");return[q,ee]}}function F(E,B){for(var U={},q=E.l+B;E.l<q;){var ee=E.read_shift(2);if(ee==14e3){for(U[ee]=[0,""],U[ee][0]=E.read_shift(2);E[E.l];)U[ee][1]+=String.fromCharCode(E[E.l]),E.l++;E.l++}}return U}function M(E,B){var U=Pn(5+E.length);U.write_shift(2,14e3),U.write_shift(2,B);for(var q=0;q<E.length;++q){var ee=E.charCodeAt(q);U[U.l++]=ee>127?95:ee}return U[U.l++]=0,U}var G={0:{n:"BOF",f:vn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:L},222:{n:"SHEETNAMELP",f:I},65535:{n:""}},Q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:F},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:A},38:{n:"??"},39:{n:"NUMBER27",f:H},40:{n:"FORMULA28",f:X},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:L},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function Oze(e){var t={},r=e.match(Ba),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=kt(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=d4[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var Pze=function(){var e=rx("t"),t=rx("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var l={t:"s",v:Qt(i[1])},c=s.match(t);return c&&(l.s=Oze(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),Dze=function(){var t=/(\r\n|\n)/g;function r(a,s,i){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),i.push("</"+c+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),Rze=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Ize=/<(?:\w+:)?r>/,Mze=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function E4(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Qt(Er(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Er(e),r&&(n.h=x4(n.t))):e.match(Ize)&&(n.r=Er(e),n.t=Qt(Er((e.replace(Mze,"").match(Rze)||[]).join("").replace(Ba,""))),r&&(n.h=Dze(Pze(n.r)))),n):{t:""}}var Fze=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Lze=/<(?:\w+:)?(?:si|sstItem)>/g,$ze=/<\/(?:\w+:)?(?:si|sstItem)>/;function Bze(e,t){var r=[],n="";if(!e)return r;var a=e.match(Fze);if(a){n=a[2].replace(Lze,"").split($ze);for(var s=0;s!=n.length;++s){var i=E4(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=kt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function Uze(e){return[e.read_shift(4),e.read_shift(4)]}function zze(e,t){var r=[],n=!1;return Rc(e,function(s,i,l){switch(l){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function tJ(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function dc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Vze(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=dc(e,4),t.U=dc(e,4),t.W=dc(e,4),t}function Wze(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function Hze(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Wze(e));return t}function qze(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Kze(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=dc(e,4),t.U=dc(e,4),t.W=dc(e,4),t}function Gze(e){var t=Kze(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function rJ(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function nJ(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function Yze(e){var t=dc(e);switch(t.Minor){case 2:return[t.Minor,Xze(e)];case 3:return[t.Minor,Jze()];case 4:return[t.Minor,Qze(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Xze(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=rJ(e,r),a=nJ(e,e.length-e.l);return{t:"Std",h:n,v:a}}function Jze(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Qze(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ba,function(s){var i=kt(s);switch(Il(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=i[l]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function Zze(e,t){var r={},n=r.EncryptionVersionInfo=dc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=rJ(e,a),t-=a,r.EncryptionVerifier=nJ(e,t),r}function eVe(e){var t={},r=t.EncryptionVersionInfo=dc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function tVe(e){var t=0,r,n=tJ(e),a=n.length+1,s,i,l,c,u;for(r=Vu(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^i;return t^52811}var aJ=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,l){return n(i^l)},s=function(i){for(var l=t[i.length-1],c=104,u=i.length-1;u>=0;--u)for(var d=i[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(i){for(var l=tJ(i),c=s(l),u=l.length,d=Vu(16),f=0;f!=16;++f)d[f]=0;var h,m,p;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,m=l[l.length-1],d[u]=a(m,h));u>0;)--u,h=c>>8,d[u]=a(l[u],h),--u,h=c&255,d[u]=a(l[u],h);for(u=15,p=15-l.length;p>0;)h=c>>8,d[u]=a(e[p],h),--u,--p,h=c&255,d[u]=a(l[u],h),--u,--p;return d}}(),rVe=function(e,t,r,n,a){a||(a=t),n||(n=aJ(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},nVe=function(e){var t=0,r=aJ(e);return function(n){var a=rVe("",n,t,r);return t=a[1],a[0]}};function aVe(e,t,r,n){var a={key:vn(e),verificationBytes:vn(e)};return r.password&&(a.verifier=tVe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=nVe(r.password)),a}function sVe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=eVe(e):n.Data=Zze(e,t),n}function iVe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?sVe(e,t-2,n):aVe(e,r.biff>=8?t:t-2,r,n),n}var oVe=function(){function e(a,s){switch(s.type){case"base64":return t(mi(a),s);case"binary":return t(a,s);case"buffer":return t(Ht&&Buffer.isBuffer(a)?a.toString("binary"):Yf(a),s);case"array":return t(Df(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},l=i.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,p,g=-1;p=h.exec(d);){switch(p[0]){case"\\cell":var v=d.slice(m,h.lastIndex-p[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var y={v,t:"s"};Array.isArray(l)?l[f][g]=y:l[Tt({r:f,c:g})]=y}break}m=h.lastIndex}g>u.e.c&&(u.e.c=g)}),l["!ref"]=Yt(u),l}function r(a,s){return cd(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=en(a["!ref"]),l,c=Array.isArray(a),u=i.s.r;u<=i.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var f=Tt({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(Nc(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function lVe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function sx(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function cVe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var l=0,c=0,u=a+s;switch(c=i/(u>1?2-u:u),a){case t:l=((r-n)/i+6)%6;break;case r:l=(n-t)/i+2;break;case n:l=(t-r)/i+4;break}return[l/6,c,u/2]}function uVe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,i[0]+=a,i[1]+=c;break;case 1:c=a*(2-l),i[0]+=c,i[1]+=a;break;case 2:c=a*(l-2),i[1]+=a,i[2]+=c;break;case 3:c=a*(4-l),i[1]+=c,i[2]+=a;break;case 4:c=a*(l-4),i[2]+=a,i[0]+=c;break;case 5:c=a*(6-l),i[2]+=c,i[0]+=a;break}for(var u=0;u!=3;++u)i[u]=Math.round(i[u]*255);return i}function a_(e,t){if(t===0)return e;var r=cVe(lVe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),sx(uVe(r))}var sJ=6,dVe=15,fVe=1,es=sJ;function s_(e){return Math.floor((e+Math.round(128/es)/256)*es)}function i_(e){return Math.floor((e-5)/es*100+.5)/100}function fT(e){return Math.round((e*es+5)/es*256)/256}function SN(e){return fT(i_(s_(e)))}function T4(e){var t=Math.abs(e-SN(e)),r=es;if(t>.005)for(es=fVe;es<dVe;++es)Math.abs(e-SN(e))<=t&&(t=Math.abs(e-SN(e)),r=es);es=r}function Np(e){e.width?(e.wpx=s_(e.width),e.wch=i_(e.wpx),e.MDW=es):e.wpx?(e.wch=i_(e.wpx),e.width=fT(e.wch),e.MDW=es):typeof e.wch=="number"&&(e.width=fT(e.wch),e.wpx=s_(e.width),e.MDW=es),e.customWidth&&delete e.customWidth}var hVe=96,iJ=hVe;function oJ(e){return e*96/iJ}function ix(e){return e*iJ/96}var mVe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function pVe(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Ba)||[]).forEach(function(i){var l=kt(i);switch(Il(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Fr(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Fr(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function gVe(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Ba)||[]).forEach(function(i){var l=kt(i);switch(Il(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function vVe(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Ba)||[]).forEach(function(i){var l=kt(i);switch(Il(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Er(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Fr(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Fr(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Fr(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Fr(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Fr(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Fr(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Fr(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=d4[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Fr(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=df[a.color.index];a.color.index==81&&(c=df[1]),c||(c=df[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=a_(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function xVe(e,t,r){t.NumberFmt=[];for(var n=Cl(It),a=0;a<n.length;++a)t.NumberFmt[n[a]]=It[n[a]];var s=e[0].match(Ba);if(s)for(a=0;a<s.length;++a){var i=kt(s[a]);switch(Il(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Qt(Er(i.formatCode)),c=parseInt(i.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}uf(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}var _b=["numFmtId","fillId","fontId","borderId","xfId"],Sb=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function yVe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ba)||[]).forEach(function(s){var i=kt(s),l=0;switch(Il(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],l=0;l<_b.length;++l)n[_b[l]]&&(n[_b[l]]=parseInt(n[_b[l]],10));for(l=0;l<Sb.length;++l)n[Sb[l]]&&(n[Sb[l]]=Fr(n[Sb[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};i.vertical&&(c.vertical=i.vertical),i.horizontal&&(c.horizontal=i.horizontal),i.textRotation!=null&&(c.textRotation=i.textRotation),i.indent&&(c.indent=i.indent),i.wrapText&&(c.wrapText=Fr(i.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}var bVe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&xVe(f,d,u),(f=l.match(a))&&vVe(f,d,c,u),(f=l.match(n))&&gVe(f,d,c,u),(f=l.match(s))&&pVe(f,d,c,u),(f=l.match(r))&&yVe(f,d,u),d}}();function wVe(e,t){var r=e.read_shift(2),n=Da(e);return[r,n]}function _Ve(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=P9e(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=O9e(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Da(e),n}var SVe=Fa;function jVe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var kVe=Fa;function NVe(e,t,r){var n={};n.NumberFmt=[];for(var a in It)n.NumberFmt[a]=It[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return Rc(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],uf(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=a_(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(d),i=!0;break;case 38:s.pop(),i=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var CVe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function EVe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ba)||[]).forEach(function(a){var s=kt(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[CVe.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function TVe(){}function AVe(){}var OVe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,PVe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,DVe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function RVe(e,t,r){t.themeElements={};var n;[["clrScheme",OVe,EVe],["fontScheme",PVe,TVe],["fmtScheme",DVe,AVe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var IVe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function lJ(e,t){(!e||e.length===0)&&(e=MVe());var r,n={};if(!(r=e.match(IVe)))throw new Error("themeElements not found in theme");return RVe(r[0],n,t),n.raw=e,n}function MVe(e,t){var r=[yX];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function FVe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=xX(s,{type:"array"})}catch{return}var l=si(i,"theme/theme/theme1.xml",!0);if(l)return lJ(l,r)}}function LVe(e){return e.read_shift(4)}function $Ve(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=BVe(e,4);break;case 2:t.xclrValue=GX(e);break;case 3:t.xclrValue=LVe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function BVe(e,t){return Fa(e,t)}function UVe(e,t){return Fa(e,t)}function zVe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=$Ve(e);break;case 6:n[1]=UVe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function VVe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(zVe(e,r-e.l));return{ixfe:n,ext:s}}function WVe(e,t){t.forEach(function(r){switch(r[0]){}})}function HVe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Da(e)}}function qVe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function KVe(e){return e.l+=4,e.read_shift(4)!=0}function GVe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,l=2;return Rc(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:s.push(d),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!u.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function YVe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace(Ba,function(l){var c=kt(l);switch(Il(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(i=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function XVe(e){var t=[];if(!e)return t;var r=1;return(e.match(Ba)||[]).forEach(function(n){var a=kt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function JVe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Tt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function QVe(e,t,r){var n=[];return Rc(e,function(s,i,l){switch(l){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function ZVe(e,t,r,n){if(!e)return e;var a=n||{},s=!1;Rc(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function eWe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function M5(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var l=ls(i.ref);if(a?(e[l.r]||(e[l.r]=[]),s=e[l.r][l.c]):s=e[i.ref],!s){s={t:"z"},a?e[l.r][l.c]=s:e[i.ref]=s;var c=en(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=Yt(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:i.author,t:i.t,r:i.r,T:r};i.h&&(d.h=i.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function tWe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var l=i.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var l=i.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=kt(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=ls(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&E4(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function rWe(e,t){var r=[],n=!1,a={},s=0;return e.replace(Ba,function(l,c){var u=kt(l);switch(Il(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=c+l.length;break;case"</text>":a.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function nWe(e,t){var r=[],n=!1;return e.replace(Ba,function(s){var i=kt(s);switch(Il(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function aWe(e){var t={};t.iauthor=e.read_shift(4);var r=Jf(e);return t.rfx=r.s,t.ref=Tt(r.s),e.l+=16,t}var sWe=Da;function iWe(e,t){var r=[],n=[],a={},s=!1;return Rc(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var oWe="application/vnd.ms-office.vbaProject";function lWe(e){var t=Kt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Kt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Kt.write(t)}function cWe(){return{"!type":"dialog"}}function uWe(){return{"!type":"dialog"}}function dWe(){return{"!type":"macro"}}function fWe(){return{"!type":"macro"}}var pm=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+Ln(d)+(c?"":"$")+la(u)}return function(a,s){return t=s,a.replace(e,r)}}(),cJ=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,hWe=function(){return function(t,r){return t.replace(cJ,function(n,a,s,i,l,c){var u=_4(i)-(s?0:r.c),d=w4(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function uJ(e,t){return e.replace(cJ,function(r,n,a,s,i,l){return n+(a=="$"?a+s:Ln(_4(s)+t.c))+(i=="$"?i+l:la(w4(l)+t.r))})}function mWe(e,t,r){var n=h0(t),a=n.s,s=ls(r),i={r:s.r-a.r,c:s.c-a.c};return uJ(e,i)}function pWe(e){return e.length!=1}function F5(e){return e.replace(/_xlfn\./g,"")}function hn(e){e.l+=1}function Wu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function dJ(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return fJ(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=Wu(e),l=Wu(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function fJ(e){var t=Wu(e),r=Wu(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function gWe(e,t,r){if(r.biff<8)return fJ(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Wu(e),i=Wu(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function hJ(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return vWe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Wu(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function vWe(e){var t=Wu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function xWe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function yWe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return bWe(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:l}}function bWe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function wWe(e,t,r){var n=(e[e.l++]&96)>>5,a=dJ(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function _We(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=dJ(e,s,r);return[n,a,i]}function SWe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function jWe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function kWe(e,t,r){var n=(e[e.l++]&96)>>5,a=gWe(e,t-1,r);return[n,a]}function NWe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function L5(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function CWe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function EWe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function TWe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function AWe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function OWe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function mJ(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function PWe(e){return e.read_shift(2),mJ(e)}function DWe(e){return e.read_shift(2),mJ(e)}function RWe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=hJ(e,0,r);return[n,a]}function IWe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=yWe(e,0,r);return[n,a]}function MWe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=hJ(e,0,r);return[n,a,s]}function FWe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[LHe[a],vJ[a],n]}function LWe(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:$We(e);return[a,(s[0]===0?vJ:FHe)[s[1]]]}function $We(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function BWe(e,t,r){e.l+=r&&r.biff==2?3:4}function UWe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function zWe(e){return e.l++,Qf[e.read_shift(1)]}function VWe(e){return e.l++,e.read_shift(2)}function WWe(e){return e.l++,e.read_shift(1)!==0}function HWe(e){return e.l++,Oa(e)}function qWe(e,t,r){return e.l++,iy(e,t-1,r)}function KWe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=tn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Qf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Oa(e);break;case 2:r[1]=Zf(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function GWe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?Jf:hj)(e));return a}function YWe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var l=0;l!=a;++l)i[s][l]=KWe(e,r.biff);return i}function XWe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function JWe(e,t,r){if(r.biff==5)return QWe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function QWe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function ZWe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function eHe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function tHe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function rHe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var nHe=Fa,aHe=Fa,sHe=Fa;function ly(e,t,r){return e.l+=2,[xWe(e)]}function A4(e){return e.l+=6,[]}var iHe=ly,oHe=A4,lHe=A4,cHe=ly;function pJ(e){return e.l+=2,[vn(e),e.read_shift(2)&1]}var uHe=ly,dHe=pJ,fHe=A4,hHe=ly,mHe=ly,pHe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function gHe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=pHe[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function vHe(e){return e.l+=2,[e.read_shift(4)]}function xHe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function yHe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function bHe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function wHe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function _He(e){return e.l+=4,[0,0]}var $5={1:{n:"PtgExp",f:UWe},2:{n:"PtgTbl",f:sHe},3:{n:"PtgAdd",f:hn},4:{n:"PtgSub",f:hn},5:{n:"PtgMul",f:hn},6:{n:"PtgDiv",f:hn},7:{n:"PtgPower",f:hn},8:{n:"PtgConcat",f:hn},9:{n:"PtgLt",f:hn},10:{n:"PtgLe",f:hn},11:{n:"PtgEq",f:hn},12:{n:"PtgGe",f:hn},13:{n:"PtgGt",f:hn},14:{n:"PtgNe",f:hn},15:{n:"PtgIsect",f:hn},16:{n:"PtgUnion",f:hn},17:{n:"PtgRange",f:hn},18:{n:"PtgUplus",f:hn},19:{n:"PtgUminus",f:hn},20:{n:"PtgPercent",f:hn},21:{n:"PtgParen",f:hn},22:{n:"PtgMissArg",f:hn},23:{n:"PtgStr",f:qWe},26:{n:"PtgSheet",f:xHe},27:{n:"PtgEndSheet",f:yHe},28:{n:"PtgErr",f:zWe},29:{n:"PtgBool",f:WWe},30:{n:"PtgInt",f:VWe},31:{n:"PtgNum",f:HWe},32:{n:"PtgArray",f:NWe},33:{n:"PtgFunc",f:FWe},34:{n:"PtgFuncVar",f:LWe},35:{n:"PtgName",f:XWe},36:{n:"PtgRef",f:RWe},37:{n:"PtgArea",f:wWe},38:{n:"PtgMemArea",f:ZWe},39:{n:"PtgMemErr",f:nHe},40:{n:"PtgMemNoMem",f:aHe},41:{n:"PtgMemFunc",f:eHe},42:{n:"PtgRefErr",f:tHe},43:{n:"PtgAreaErr",f:SWe},44:{n:"PtgRefN",f:IWe},45:{n:"PtgAreaN",f:kWe},46:{n:"PtgMemAreaN",f:bHe},47:{n:"PtgMemNoMemN",f:wHe},57:{n:"PtgNameX",f:JWe},58:{n:"PtgRef3d",f:MWe},59:{n:"PtgArea3d",f:_We},60:{n:"PtgRefErr3d",f:rHe},61:{n:"PtgAreaErr3d",f:jWe},255:{}},SHe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},jHe={1:{n:"PtgElfLel",f:pJ},2:{n:"PtgElfRw",f:hHe},3:{n:"PtgElfCol",f:iHe},6:{n:"PtgElfRwV",f:mHe},7:{n:"PtgElfColV",f:cHe},10:{n:"PtgElfRadical",f:uHe},11:{n:"PtgElfRadicalS",f:fHe},13:{n:"PtgElfColS",f:oHe},15:{n:"PtgElfColSV",f:lHe},16:{n:"PtgElfRadicalLel",f:dHe},25:{n:"PtgList",f:gHe},29:{n:"PtgSxName",f:vHe},255:{}},kHe={0:{n:"PtgAttrNoop",f:_He},1:{n:"PtgAttrSemi",f:OWe},2:{n:"PtgAttrIf",f:TWe},4:{n:"PtgAttrChoose",f:CWe},8:{n:"PtgAttrGoto",f:EWe},16:{n:"PtgAttrSum",f:BWe},32:{n:"PtgAttrBaxcel",f:L5},33:{n:"PtgAttrBaxcel",f:L5},64:{n:"PtgAttrSpace",f:PWe},65:{n:"PtgAttrSpaceSemi",f:DWe},128:{n:"PtgAttrIfError",f:AWe},255:{}};function cy(e,t,r,n){if(n.biff<8)return Fa(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=YWe(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=GWe(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(Fa(e,t)),s}function uy(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=$5[s]||$5[SHe[s]],(s===24||s===25)&&(a=(s===24?jHe:kHe)[e[e.l+1]]),!a||!a.f?Fa(e,t):i.push([a.n,a.f(e,t,r)]);return i}function NHe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var CHe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function EHe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function gJ(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function B5(e,t,r){var n=gJ(e,t,r);return n=="#REF"?n:EHe(n,r)}function Na(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,m,p="";if(!e[0]||!e[0][0])return"";for(var g=-1,v="",y=0,b=e[0].length;y<b;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),g>=0){switch(e[0][g][1][0]){case 0:v=Zr(" ",e[0][g][1][1]);break;case 1:v=Zr("\r",e[0][g][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+v,g=-1}l.push(u+CHe[w[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Pg(w[1][1],i,a),l.push(Dg(d,s));break;case"PtgRefN":d=r?Pg(w[1][1],r,a):w[1][1],l.push(Dg(d,s));break;case"PtgRef3d":f=w[1][1],d=Pg(w[1][2],i,a),p=B5(n,f,a),l.push(p+"!"+Dg(d,s));break;case"PtgFunc":case"PtgFuncVar":var _=w[1][0],S=w[1][1];_||(_=0),_&=127;var k=_==0?[]:l.slice(-_);l.length-=_,S==="User"&&(S=k.shift()),l.push(S+"("+k.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":m=b5(w[1][1],r?{s:r}:i,a),l.push(wN(m,a));break;case"PtgArea":m=b5(w[1][1],i,a),l.push(wN(m,a));break;case"PtgArea3d":f=w[1][1],m=w[1][2],p=B5(n,f,a),l.push(p+"!"+wN(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var j=(n.names||[])[h-1]||(n[0]||[])[h],N=j?j.Name:"SH33TJSNAME"+String(h);N&&N.slice(0,6)=="_xlfn."&&!a.xlfn&&(N=N.slice(6)),l.push(N);break;case"PtgNameX":var C=w[1][1];h=w[1][2];var T;if(a.biff<=5)C<0&&(C=-C),n[C]&&(T=n[C][h]);else{var D="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][h]&&n[C][h].itab>0&&(D=n.SheetNames[n[C][h].itab-1]+"!"):D=n.SheetNames[h-1]+"!"),n[C]&&n[C][h])D+=n[C][h].Name;else if(n[0]&&n[0][h])D+=n[0][h].Name;else{var A=(gJ(n,C,a)||"").split(";;");A[h-1]?D=A[h-1]:D+="SH33TJSERRX"}l.push(D);break}T||(T={Name:"SH33TJSERRY"}),l.push(T.Name);break;case"PtgParen":var H="(",X=")";if(g>=0){switch(v="",e[0][g][1][0]){case 2:H=Zr(" ",e[0][g][1][1])+H;break;case 3:H=Zr("\r",e[0][g][1][1])+H;break;case 4:X=Zr(" ",e[0][g][1][1])+X;break;case 5:X=Zr("\r",e[0][g][1][1])+X;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}l.push(H+l.pop()+X);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var L={c:r.c,r:r.r};if(n.sharedf[Tt(d)]){var I=n.sharedf[Tt(d)];l.push(Na(I,i,L,n,a))}else{var W=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(Na(u[1],i,L,n,a)),W=!0;break}W||l.push(w[1])}break;case"PtgArray":l.push("{"+NHe(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var F=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&F.indexOf(e[0][y][0])==-1){w=e[0][g];var M=!0;switch(w[1][0]){case 4:M=!1;case 0:v=Zr(" ",w[1][1]);break;case 5:M=!1;case 1:v=Zr("\r",w[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((M?v:"")+l.pop()+(M?"":v)),g=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function THe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],Fa(e,t-2)];var l=uy(e,i,r);return t!==i+a&&(s=cy(e,t-i-a,l,r)),e.l=n,[l,s]}function AHe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],Fa(e,t-2)];var l=uy(e,i,r);return t!==i+a&&(s=cy(e,t-i-a,l,r)),e.l=n,[l,s]}function OHe(e,t,r,n){var a=e.l+t,s=uy(e,n,r),i;return a!==e.l&&(i=cy(e,a-e.l,s,r)),[s,i]}function PHe(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=uy(e,s,r);return s==65535?[[],Fa(e,t-2)]:(t!==s+2&&(a=cy(e,n-s-2,i,r)),[i,a])}function DHe(e){var t;if(ac(e,e.l+6)!==65535)return[Oa(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function jN(e,t,r){var n=e.l+t,a=Ml(e);r.biff==2&&++e.l;var s=DHe(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=AHe(e,n-e.l,r);return{cell:a,val:s[0],formula:l,shared:i>>3&1,tt:s[1]}}function mj(e,t,r){var n=e.read_shift(4),a=uy(e,n,r),s=e.read_shift(4),i=s>0?cy(e,s,a,r):null;return[a,i]}var RHe=mj,pj=mj,IHe=mj,MHe=mj,FHe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},vJ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},LHe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function U5(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function kN(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Fg={},gm={};function Lg(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function xJ(e,t,r,n,a,s){try{n.cellNF&&(e.z=It[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Yn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(It[t]==null&&uf($Ue[t]||"General",t),e.t==="e")e.w=e.w||Qf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=tx(e.v);else if(e.t==="d"){var i=fs(e.v);(i|0)===i?e.w=i.toString(10):e.w=tx(i)}else{if(e.v===void 0)return"";e.w=Pf(e.v,gm)}else e.t==="d"?e.w=Wi(t,fs(e.v),gm):e.w=Wi(t,e.v,gm)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=a_(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=a_(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&s.Fills)throw l}}}function $He(e,t){var r=en(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Yt(r))}var BHe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,UHe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,zHe=/<(?:\w:)?hyperlink [^>]*>/mg,VHe=/"(\w*:\w*)"/,WHe=/<(?:\w:)?col\b[^>]*[\/]?>/g,HHe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,qHe=/<(?:\w:)?pageMargins[^>]*\/>/g,yJ=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,KHe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,GHe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function YHe(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(UHe);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(yJ);h?O4(h[0],l,a,r):(h=u.match(KHe))&&XHe(h[0],h[1]||"",l,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var p=u.slice(m,m+50).match(VHe);p&&$He(l,p[1])}var g=u.match(GHe);g&&g[1]&&rqe(g[1],a);var v=[];if(t.cellStyles){var y=u.match(WHe);y&&ZHe(v,y)}f&&nqe(f[1],l,t,c,s,i);var b=d.match(HHe);b&&(l["!autofilter"]=eqe(b[0]));var w=[],_=d.match(BHe);if(_)for(m=0;m!=_.length;++m)w[m]=en(_[m].slice(_[m].indexOf('"')+1));var S=d.match(zHe);S&&JHe(l,S,n);var k=d.match(qHe);if(k&&(l["!margins"]=QHe(kt(k[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Yt(c)),t.sheetRows>0&&l["!ref"]){var j=en(l["!ref"]);t.sheetRows<=+j.e.r&&(j.e.r=t.sheetRows-1,j.e.r>c.e.r&&(j.e.r=c.e.r),j.e.r<j.s.r&&(j.s.r=j.e.r),j.e.c>c.e.c&&(j.e.c=c.e.c),j.e.c<j.s.c&&(j.s.c=j.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Yt(j))}return v.length>0&&(l["!cols"]=v),w.length>0&&(l["!merges"]=w),l}function O4(e,t,r,n){var a=kt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Qt(Er(a.codeName)))}function XHe(e,t,r,n,a){O4(e.slice(0,e.indexOf(">")),r,n,a)}function JHe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=kt(Er(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+Qt(s.location))):(s.Target="#"+Qt(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=en(s.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=Tt({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function QHe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function ZHe(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=kt(t[n],!0);a.hidden&&(a.hidden=Fr(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,T4(a.width)),Np(a);s<=i;)e[s++]=oa(a)}}function eqe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var tqe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function rqe(e,t){t.Views||(t.Views=[{}]),(e.match(tqe)||[]).forEach(function(r,n){var a=kt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Fr(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var nqe=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=rx("v"),i=rx("f");return function(c,u,d,f,h,m){for(var p=0,g="",v=[],y=[],b=0,w=0,_=0,S="",k,j,N=0,C=0,T,D,A=0,H=0,X=Array.isArray(m.CellXf),L,I=[],W=[],F=Array.isArray(u),M=[],G={},Q=!1,E=!!d.sheetStubs,B=c.split(t),U=0,q=B.length;U!=q;++U){g=B[U].trim();var ee=g.length;if(ee!==0){var oe=0;e:for(p=0;p<ee;++p)switch(g[p]){case">":if(g[p-1]!="/"){++p;break e}if(d&&d.cellStyles){if(j=kt(g.slice(oe,p),!0),N=j.r!=null?parseInt(j.r,10):N+1,C=-1,d.sheetRows&&d.sheetRows<N)continue;G={},Q=!1,j.ht&&(Q=!0,G.hpt=parseFloat(j.ht),G.hpx=ix(G.hpt)),j.hidden=="1"&&(Q=!0,G.hidden=!0),j.outlineLevel!=null&&(Q=!0,G.level=+j.outlineLevel),Q&&(M[N-1]=G)}break;case"<":oe=p;break}if(oe>=p)break;if(j=kt(g.slice(oe,p),!0),N=j.r!=null?parseInt(j.r,10):N+1,C=-1,!(d.sheetRows&&d.sheetRows<N)){f.s.r>N-1&&(f.s.r=N-1),f.e.r<N-1&&(f.e.r=N-1),d&&d.cellStyles&&(G={},Q=!1,j.ht&&(Q=!0,G.hpt=parseFloat(j.ht),G.hpx=ix(G.hpt)),j.hidden=="1"&&(Q=!0,G.hidden=!0),j.outlineLevel!=null&&(Q=!0,G.level=+j.outlineLevel),Q&&(M[N-1]=G)),v=g.slice(p).split(e);for(var ge=0;ge!=v.length&&v[ge].trim().charAt(0)=="<";++ge);for(v=v.slice(ge),p=0;p!=v.length;++p)if(g=v[p].trim(),g.length!==0){if(y=g.match(r),b=p,w=0,_=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,y!=null&&y.length===2){for(b=0,S=y[1],w=0;w!=S.length&&!((_=S.charCodeAt(w)-64)<1||_>26);++w)b=26*b+_;--b,C=b}else++C;for(w=0;w!=g.length&&g.charCodeAt(w)!==62;++w);if(++w,j=kt(g.slice(0,w),!0),j.r||(j.r=Tt({r:N-1,c:C})),S=g.slice(w),k={t:""},(y=S.match(s))!=null&&y[1]!==""&&(k.v=Qt(y[1])),d.cellFormula){if((y=S.match(i))!=null&&y[1]!==""){if(k.f=Qt(Er(y[1])).replace(/\r\n/g,`
`),d.xlfn||(k.f=F5(k.f)),y[0].indexOf('t="array"')>-1)k.F=(S.match(a)||[])[1],k.F.indexOf(":")>-1&&I.push([en(k.F),k.F]);else if(y[0].indexOf('t="shared"')>-1){D=kt(y[0]);var se=Qt(Er(y[1]));d.xlfn||(se=F5(se)),W[parseInt(D.si,10)]=[D,se,j.r]}}else(y=S.match(/<f[^>]*\/>/))&&(D=kt(y[0]),W[D.si]&&(k.f=mWe(W[D.si][1],W[D.si][2],j.r)));var Z=ls(j.r);for(w=0;w<I.length;++w)Z.r>=I[w][0].s.r&&Z.r<=I[w][0].e.r&&Z.c>=I[w][0].s.c&&Z.c<=I[w][0].e.c&&(k.F=I[w][1])}if(j.t==null&&k.v===void 0)if(k.f||k.F)k.v=0,k.t="n";else if(E)k.t="z";else continue;else k.t=j.t||"n";switch(f.s.c>C&&(f.s.c=C),f.e.c<C&&(f.e.c=C),k.t){case"n":if(k.v==""||k.v==null){if(!E)continue;k.t="z"}else k.v=parseFloat(k.v);break;case"s":if(typeof k.v>"u"){if(!E)continue;k.t="z"}else T=Fg[parseInt(k.v,10)],k.v=T.t,k.r=T.r,d.cellHTML&&(k.h=T.h);break;case"str":k.t="s",k.v=k.v!=null?Er(k.v):"",d.cellHTML&&(k.h=x4(k.v));break;case"inlineStr":y=S.match(n),k.t="s",y!=null&&(T=E4(y[1]))?(k.v=T.t,d.cellHTML&&(k.h=T.h)):k.v="";break;case"b":k.v=Fr(k.v);break;case"d":d.cellDates?k.v=Yn(k.v,1):(k.v=fs(Yn(k.v,1)),k.t="n");break;case"e":(!d||d.cellText!==!1)&&(k.w=k.v),k.v=BX[k.v];break}if(A=H=0,L=null,X&&j.s!==void 0&&(L=m.CellXf[j.s],L!=null&&(L.numFmtId!=null&&(A=L.numFmtId),d.cellStyles&&L.fillId!=null&&(H=L.fillId))),xJ(k,A,H,d,h,m),d.cellDates&&X&&k.t=="n"&&f0(It[A])&&(k.t="d",k.v=fj(k.v)),j.cm&&d.xlmeta){var he=(d.xlmeta.Cell||[])[+j.cm-1];he&&he.type=="XLDAPR"&&(k.D=!0)}if(F){var P=ls(j.r);u[P.r]||(u[P.r]=[]),u[P.r][P.c]=k}else u[j.r]=k}}}}M.length>0&&(u["!rows"]=M)}}();function aqe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var sqe=Jf;function iqe(){}function oqe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=T9e(e),r}function lqe(e){var t=Gi(e);return[t]}function cqe(e){var t=Xf(e);return[t]}function uqe(e){var t=Gi(e),r=e.read_shift(1);return[t,r,"b"]}function dqe(e){var t=Xf(e),r=e.read_shift(1);return[t,r,"b"]}function fqe(e){var t=Gi(e),r=e.read_shift(1);return[t,r,"e"]}function hqe(e){var t=Xf(e),r=e.read_shift(1);return[t,r,"e"]}function mqe(e){var t=Gi(e),r=e.read_shift(4);return[t,r,"s"]}function pqe(e){var t=Xf(e),r=e.read_shift(4);return[t,r,"s"]}function gqe(e){var t=Gi(e),r=Oa(e);return[t,r,"n"]}function bJ(e){var t=Xf(e),r=Oa(e);return[t,r,"n"]}function vqe(e){var t=Gi(e),r=k4(e);return[t,r,"n"]}function xqe(e){var t=Xf(e),r=k4(e);return[t,r,"n"]}function yqe(e){var t=Gi(e),r=S4(e);return[t,r,"is"]}function bqe(e){var t=Gi(e),r=Da(e);return[t,r,"str"]}function wqe(e){var t=Xf(e),r=Da(e);return[t,r,"str"]}function _qe(e,t,r){var n=e.l+t,a=Gi(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=pj(e,n-e.l,r);i[3]=Na(l,null,a,r.supbooks,r)}else e.l=n;return i}function Sqe(e,t,r){var n=e.l+t,a=Gi(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=pj(e,n-e.l,r);i[3]=Na(l,null,a,r.supbooks,r)}else e.l=n;return i}function jqe(e,t,r){var n=e.l+t,a=Gi(e);a.r=r["!row"];var s=Oa(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=pj(e,n-e.l,r);i[3]=Na(l,null,a,r.supbooks,r)}else e.l=n;return i}function kqe(e,t,r){var n=e.l+t,a=Gi(e);a.r=r["!row"];var s=Da(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=pj(e,n-e.l,r);i[3]=Na(l,null,a,r.supbooks,r)}else e.l=n;return i}var Nqe=Jf;function Cqe(e,t){var r=e.l+t,n=Jf(e),a=j4(e),s=Da(e),i=Da(e),l=Da(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return i&&(c.Tooltip=i),c}function Eqe(){}function Tqe(e,t,r){var n=e.l+t,a=FX(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var l=RHe(e,n-e.l,r);i[1]=l}else e.l=n;return i}function Aqe(e,t,r){var n=e.l+t,a=Jf(e),s=[a];if(r.cellFormula){var i=MHe(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}var Oqe=["left","right","top","bottom","header","footer"];function Pqe(e){var t={};return Oqe.forEach(function(r){t[r]=Oa(e)}),t}function Dqe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Rqe(){}function Iqe(){}function Mqe(e,t,r,n,a,s,i){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,p,g,v,y,b,w,_,S,k=[];l.biff=12,l["!row"]=0;var j=0,N=!1,C=[],T={},D=l.supbooks||a.supbooks||[[]];if(D.sharedf=T,D.arrayf=C,D.SheetNames=a.SheetNames||a.Sheets.map(function(F){return F.name}),!l.supbooks&&(l.supbooks=D,a.Names))for(var A=0;A<a.Names.length;++A)D[0][A+1]=a.Names[A];var H=[],X=[],L=!1;o_[16]={n:"BrtShortReal",f:bJ};var I;if(Rc(e,function(M,G,Q){if(!h)switch(Q){case 148:u=M;break;case 0:m=M,l.sheetRows&&l.sheetRows<=m.r&&(h=!0),_=la(v=m.r),l["!row"]=m.r,(M.hidden||M.hpt||M.level!=null)&&(M.hpt&&(M.hpx=ix(M.hpt)),X[M.r]=M);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:M[2]},M[2]){case"n":p.v=M[1];break;case"s":w=Fg[M[1]],p.v=w.t,p.r=w.r;break;case"b":p.v=!!M[1];break;case"e":p.v=M[1],l.cellText!==!1&&(p.w=Qf[p.v]);break;case"str":p.t="s",p.v=M[1];break;case"is":p.t="s",p.v=M[1].t;break}if((g=i.CellXf[M[0].iStyleRef])&&xJ(p,g.numFmtId,null,l,s,i),y=M[0].c==-1?y+1:M[0].c,l.dense?(c[v]||(c[v]=[]),c[v][y]=p):c[Ln(y)+_]=p,l.cellFormula){for(N=!1,j=0;j<C.length;++j){var E=C[j];m.r>=E[0].s.r&&m.r<=E[0].e.r&&y>=E[0].s.c&&y<=E[0].e.c&&(p.F=Yt(E[0]),N=!0)}!N&&M.length>3&&(p.f=M[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),l.cellDates&&g&&p.t=="n"&&f0(It[g.numFmtId])){var B=Wd(p.v);B&&(p.t="d",p.v=new Date(B.y,B.m-1,B.d,B.H,B.M,B.S,B.u))}I&&(I.type=="XLDAPR"&&(p.D=!0),I=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;p={t:"z",v:void 0},y=M[0].c==-1?y+1:M[0].c,l.dense?(c[v]||(c[v]=[]),c[v][y]=p):c[Ln(y)+_]=p,d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),I&&(I.type=="XLDAPR"&&(p.D=!0),I=void 0);break;case 176:k.push(M);break;case 49:I=((l.xlmeta||{}).Cell||[])[M-1];break;case 494:var U=n["!id"][M.relId];for(U?(M.Target=U.Target,M.loc&&(M.Target+="#"+M.loc),M.Rel=U):M.relId==""&&(M.Target="#"+M.loc),v=M.rfx.s.r;v<=M.rfx.e.r;++v)for(y=M.rfx.s.c;y<=M.rfx.e.c;++y)l.dense?(c[v]||(c[v]=[]),c[v][y]||(c[v][y]={t:"z",v:void 0}),c[v][y].l=M):(b=Tt({c:y,r:v}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=M);break;case 426:if(!l.cellFormula)break;C.push(M),S=l.dense?c[v][y]:c[Ln(y)+_],S.f=Na(M[1],d,{r:m.r,c:y},D,l),S.F=Yt(M[0]);break;case 427:if(!l.cellFormula)break;T[Tt(M[0].s)]=M[1],S=l.dense?c[v][y]:c[Ln(y)+_],S.f=Na(M[1],d,{r:m.r,c:y},D,l);break;case 60:if(!l.cellStyles)break;for(;M.e>=M.s;)H[M.e--]={width:M.w/256,hidden:!!(M.flags&1),level:M.level},L||(L=!0,T4(M.w/256)),Np(H[M.e+1]);break;case 161:c["!autofilter"]={ref:Yt(M)};break;case 476:c["!margins"]=M;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),M.name&&(a.Sheets[r].CodeName=M.name),(M.above||M.left)&&(c["!outline"]={above:M.above,left:M.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),M.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!G.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+Q.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Yt(u||d)),l.sheetRows&&c["!ref"]){var W=en(c["!ref"]);l.sheetRows<=+W.e.r&&(W.e.r=l.sheetRows-1,W.e.r>d.e.r&&(W.e.r=d.e.r),W.e.r<W.s.r&&(W.s.r=W.e.r),W.e.c>d.e.c&&(W.e.c=d.e.c),W.e.c<W.s.c&&(W.s.c=W.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Yt(W))}return k.length>0&&(c["!merges"]=k),H.length>0&&(c["!cols"]=H),X.length>0&&(c["!rows"]=X),c}function Fqe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=Qt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function Lqe(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Fqe(f);d.s.r=d.s.c=0,d.e.c=l,u=Ln(l),h[0].forEach(function(m,p){i[u+la(p)]={t:"n",v:m,z:h[1]},c=p}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(i["!ref"]=Yt(d)),i}function $qe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,l=e.match(yJ);return l&&O4(l[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function Bqe(e,t){e.l+=10;var r=Da(e);return{name:r}}function Uqe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return Rc(e,function(c,u,d){switch(d){case 550:s["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var wJ=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],zqe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Vqe=[],Wqe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function z5(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Fr(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function V5(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Fr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function _J(e){V5(e.WBProps,wJ),V5(e.CalcPr,Wqe),z5(e.WBView,zqe),z5(e.Sheets,Vqe),gm.date1904=Fr(e.WBProps.date1904)}var Hqe="][*?/\\".split("");function qqe(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Hqe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var Kqe=/<\w+:workbook/;function Gqe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace(Ba,function(c,u){var d=kt(c);switch(Il(d[0])){case"<?xml":break;case"<workbook":c.match(Kqe)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":wJ.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Fr(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Er(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Qt(Er(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Er(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Fr(d.hidden||"0")&&(s.Hidden=!0),i=u+c.length;break;case"</definedName>":s.Ref=Qt(Er(e.slice(i,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),f9e.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return _J(r),r}function Yqe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=cT(e),r.name=Da(e),r}function Xqe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Da(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Jqe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Qqe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=A9e(e),i=IHe(e,0,r),l=j4(e);e.l=n;var c={Name:s,Ptg:i};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function Zqe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],o_[16]={n:"BrtFRTArchID$",f:Jqe},Rc(e,function(c,u,d){switch(d){case 156:i.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Na(c.Ptg,null,null,i,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([d,c]):i[0]=[d,c],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(c),i.XTI=i.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),_J(r),r.Names=s,r.supbooks=i,r}function eKe(e,t,r){return t.slice(-4)===".bin"?Zqe(e,r):Gqe(e,r)}function tKe(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?Mqe(e,n,r,a,s,i,l):YHe(e,n,r,a,s,i,l)}function rKe(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?Uqe(e,n,r,a,s):$qe(e,n,r,a,s)}function nKe(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?dWe():fWe()}function aKe(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?cWe():uWe()}function sKe(e,t,r,n){return t.slice(-4)===".bin"?NVe(e,r,n):bVe(e,r,n)}function iKe(e,t,r){return lJ(e,r)}function oKe(e,t,r){return t.slice(-4)===".bin"?zze(e,r):Bze(e,r)}function lKe(e,t,r){return t.slice(-4)===".bin"?iWe(e,r):tWe(e,r)}function cKe(e,t,r){return t.slice(-4)===".bin"?QVe(e):XVe(e)}function uKe(e,t,r,n){return r.slice(-4)===".bin"?ZVe(e,t,r,n):void 0}function dKe(e,t,r){return t.slice(-4)===".bin"?GVe(e,t,r):YVe(e,t,r)}var SJ=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,jJ=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function to(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(SJ),s,i,l,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(jJ),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(i+1),n[l]=s[2].slice(1,s[2].length-1));return n}function fKe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(SJ),a,s,i,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(jJ),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var $g;function hKe(e,t){var r=$g[e]||Qt(e);return r==="General"?Pf(t):Wi(r,t)}function mKe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Fr(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Yn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Qt(t)]=a}function pKe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Qf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=tx(e.v):e.w=Pf(e.v):e.w=hKe(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=$g[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&f0(n)){var a=Wd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function gKe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=mVe[n.Pattern]||n.Pattern)}e[t.ID]=t}function vKe(e,t,r,n,a,s,i,l,c,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],p=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&i&&(f=i.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&m.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Fr(e);break;case"String":n.t="s",n.r=d5(Qt(e)),n.v=e.indexOf("<")>-1?Qt(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Yn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Qt(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=BX[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=d5(t||e));break}if(pKe(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=Qt(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=pm(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=pm("RC:RC",a):n.ArrayRange&&(n.F=pm(n.ArrayRange,a),c.push([en(n.F),n.F]))}else for(p=0;p<c.length;++p)a.r>=c[p][0].s.r&&a.r<=c[p][0].e.r&&a.c>=c[p][0].s.c&&a.c<=c[p][0].e.c&&(n.F=c[p][1]);u.cellStyles&&(m.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function xKe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function NN(e,t){var r=t||{};fX();var n=rg(y4(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Er(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=oa(r);return i.type="string",ax.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ht){a.indexOf("<"+ht)>=0&&(s=!0)}),s)return CKe(n,r);$g={"General Number":"General","General Date":It[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":It[15],"Short Date":It[14],"Long Time":It[19],"Medium Time":It[18],"Short Time":It[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:It[2],Standard:It[4],Percent:It[10],Scientific:It[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=r.dense?[]:{},m="",p={},g={},v=to('<Data ss:Type="String">'),y=0,b=0,w=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},k={},j="",N=0,C=[],T={},D={},A=0,H=[],X=[],L={},I=[],W,F=!1,M=[],G=[],Q={},E=0,B=0,U={Sheets:[],WBProps:{date1904:!1}},q={};nx.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ee="";l=nx.exec(n);)switch(l[3]=(ee=l[3]).toLowerCase()){case"data":if(ee=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?vKe(n.slice(y,l.index),j,v,c[c.length-1][0]=="comment"?L:p,{c:b,r:w},S,I[b],g,M,r):(j="",v=to(l[0]),y=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(X.length>0&&(p.c=X),(!r.sheetRows||r.sheetRows>w)&&p.v!==void 0&&(r.dense?(h[w]||(h[w]=[]),h[w][b]=p):h[Ln(b)+la(w)]=p),p.HRef&&(p.l={Target:Qt(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(E=b+(parseInt(p.MergeAcross,10)|0),B=w+(parseInt(p.MergeDown,10)|0),C.push({s:{c:b,r:w},e:{c:E,r:B}})),!r.sheetStubs)p.MergeAcross?b=E+1:++b;else if(p.MergeAcross||p.MergeDown){for(var oe=b;oe<=E;++oe)for(var ge=w;ge<=B;++ge)(oe>b||ge>w)&&(r.dense?(h[ge]||(h[ge]=[]),h[ge][oe]={t:"z"}):h[Ln(oe)+la(ge)]={t:"z"});b=E+1}else++b;else p=fKe(l[0]),p.Index&&(b=+p.Index-1),b<_.s.c&&(_.s.c=b),b>_.e.c&&(_.e.c=b),l[0].slice(-2)==="/>"&&++b,X=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(w<_.s.r&&(_.s.r=w),w>_.e.r&&(_.e.r=w),l[0].slice(-2)==="/>"&&(g=to(l[0]),g.Index&&(w=+g.Index-1)),b=0,++w):(g=to(l[0]),g.Index&&(w=+g.Index-1),Q={},(g.AutoFitHeight=="0"||g.Height)&&(Q.hpx=parseInt(g.Height,10),Q.hpt=oJ(Q.hpx),G[w]=Q),g.Hidden=="1"&&(Q.hidden=!0,G[w]=Q));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(m),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(h["!ref"]=Yt(_),r.sheetRows&&r.sheetRows<=_.e.r&&(h["!fullref"]=h["!ref"],_.e.r=r.sheetRows-1,h["!ref"]=Yt(_))),C.length&&(h["!merges"]=C),I.length>0&&(h["!cols"]=I),G.length>0&&(h["!rows"]=G),d[m]=h}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=b=0,c.push([l[3],!1]),u=to(l[0]),m=Qt(u.Name),h=r.dense?[]:{},C=[],M=[],G=[],q={name:m,Hidden:0},U.Sheets.push(q);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),I=[],F=!1}break;case"style":l[1]==="/"?gKe(S,k,r):k=to(l[0]);break;case"numberformat":k.nf=Qt(to(l[0]).Format||"General"),$g[k.nf]&&(k.nf=$g[k.nf]);for(var se=0;se!=392&&It[se]!=k.nf;++se);if(se==392){for(se=57;se!=392;++se)if(It[se]==null){uf(k.nf,se);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(W=to(l[0]),W.Hidden&&(W.hidden=!0,delete W.Hidden),W.Width&&(W.wpx=parseInt(W.Width,10)),!F&&W.wpx>10){F=!0,es=sJ;for(var Z=0;Z<I.length;++Z)I[Z]&&Np(I[Z])}F&&Np(W),I[W.Index-1||I.length]=W;for(var he=0;he<+W.Span;++he)I[I.length]=oa(W);break;case"namedrange":if(l[1]==="/")break;U.Names||(U.Names=[]);var P=kt(l[0]),De={Name:P.Name,Ref:pm(P.RefersTo.slice(1),{r:0,c:0})};U.Sheets.length>0&&(De.Sheet=U.Sheets.length-1),U.Names.push(De);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?j+=n.slice(N,l.index):N=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;k.Interior=to(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?t7e(T,ee,n.slice(A,l.index)):A=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));xKe(L),X.push(L)}else c.push([l[3],!1]),u=to(l[0]),L={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Re=to(l[0]);h["!autofilter"]={ref:pm(Re.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return Y5(n,r);var Me=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Me=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Me=!1}break;case"excelworkbook":switch(l[3]){case"date1904":U.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Me=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Me=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(A,l.index)){case"SheetHidden":q.Hidden=1;break;case"SheetVeryHidden":q.Hidden=2;break}else A=l.index+l[0].length;break;case"header":h["!margins"]||Lg(h["!margins"]={},"xlml"),isNaN(+kt(l[0]).Margin)||(h["!margins"].header=+kt(l[0]).Margin);break;case"footer":h["!margins"]||Lg(h["!margins"]={},"xlml"),isNaN(+kt(l[0]).Margin)||(h["!margins"].footer=+kt(l[0]).Margin);break;case"pagemargins":var Be=kt(l[0]);h["!margins"]||Lg(h["!margins"]={},"xlml"),isNaN(+Be.Top)||(h["!margins"].top=+Be.Top),isNaN(+Be.Left)||(h["!margins"].left=+Be.Left),isNaN(+Be.Right)||(h["!margins"].right=+Be.Right),isNaN(+Be.Bottom)||(h["!margins"].bottom=+Be.Bottom);break;case"displayrighttoleft":U.Views||(U.Views=[]),U.Views[0]||(U.Views[0]={}),U.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Me=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Me=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Me=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Me=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Me=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Me=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Me=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Me=!1}break;case"smarttags":break;default:Me=!1;break}if(Me||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?mKe(D,ee,H,n.slice(A,l.index)):(H=l,A=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var Oe={};return!r.bookSheets&&!r.bookProps&&(Oe.Sheets=d),Oe.SheetNames=f,Oe.Workbook=U,Oe.SSF=oa(It),Oe.Props=T,Oe.Custprops=D,Oe}function hT(e,t){switch(R4(t=t||{}),t.type||"base64"){case"base64":return NN(mi(e),t);case"binary":case"buffer":case"file":return NN(e,t);case"array":return NN(Yf(e),t)}}function yKe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=D9e(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=R9e(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var bKe=[60,1084,2066,2165,2175];function wKe(e,t,r,n,a){var s=n,i=[],l=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}i.push(l),r.l+=s;for(var c=ac(r,r.l),u=mT[c],d=0;u!=null&&bKe.indexOf(c)>-1;)s=ac(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+s),i.push(l),r.l+=4+s,u=mT[c=ac(r,r.l)];var f=nu(i);ra(f,0);var h=0;f.lens=[];for(var m=0;m<i.length;++m)f.lens.push(h),h+=i[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Go(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=It[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Qf[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=tx(e.v):e.w=Pf(e.v):e.w=Wi(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&f0(It[n]||String(n))){var a=Wd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function jb(e,t,r){return{v:e,ixfe:t,t:r}}function _Ke(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},l=null,c=[],u="",d={},f,h="",m,p,g,v,y={},b=[],w,_,S=[],k=[],j={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},C=function(ke){return ke<8?df[ke]:ke<64&&k[ke-8]||df[ke]},T=function(ke,Ne,Xe){var He=Ne.XF.data;if(!(!He||!He.patternType||!Xe||!Xe.cellStyles)){Ne.s={},Ne.s.patternType=He.patternType;var at;(at=sx(C(He.icvFore)))&&(Ne.s.fgColor={rgb:at}),(at=sx(C(He.icvBack)))&&(Ne.s.bgColor={rgb:at})}},D=function(ke,Ne,Xe){if(!(Q>1)&&!(Xe.sheetRows&&ke.r>=Xe.sheetRows)){if(Xe.cellStyles&&Ne.XF&&Ne.XF.data&&T(ke,Ne,Xe),delete Ne.ixfe,delete Ne.XF,f=ke,h=Tt(ke),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),ke.r<i.s.r&&(i.s.r=ke.r),ke.c<i.s.c&&(i.s.c=ke.c),ke.r+1>i.e.r&&(i.e.r=ke.r+1),ke.c+1>i.e.c&&(i.e.c=ke.c+1),Xe.cellFormula&&Ne.f){for(var He=0;He<b.length;++He)if(!(b[He][0].s.c>ke.c||b[He][0].s.r>ke.r)&&!(b[He][0].e.c<ke.c||b[He][0].e.r<ke.r)){Ne.F=Yt(b[He][0]),(b[He][0].s.c!=ke.c||b[He][0].s.r!=ke.r)&&delete Ne.f,Ne.f&&(Ne.f=""+Na(b[He][1],i,ke,M,A));break}}Xe.dense?(a[ke.r]||(a[ke.r]=[]),a[ke.r][ke.c]=Ne):a[h]=Ne}},A={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(A.password=t.password);var H,X=[],L=[],I=[],W=[],F=!1,M=[];M.SheetNames=A.snames,M.sharedf=A.sharedf,M.arrayf=A.arrayf,M.names=[],M.XTI=[];var G=0,Q=0,E=0,B=[],U=[],q;A.codepage=1200,So(1200);for(var ee=!1;e.l<e.length-1;){var oe=e.l,ge=e.read_shift(2);if(ge===0&&G===10)break;var se=e.l===e.length?0:e.read_shift(2),Z=mT[ge];if(Z&&Z.f){if(t.bookSheets&&G===133&&ge!==133)break;if(G=ge,Z.r===2||Z.r==12){var he=e.read_shift(2);if(se-=2,!A.enc&&he!==ge&&((he&255)<<8|he>>8)!==ge)throw new Error("rt mismatch: "+he+"!="+ge);Z.r==12&&(e.l+=10,se-=10)}var P={};if(ge===10?P=Z.f(e,se,A):P=wKe(ge,Z,e,se,A),Q==0&&[9,521,1033,2057].indexOf(G)===-1)continue;switch(ge){case 34:r.opts.Date1904=j.WBProps.date1904=P;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(A.enc||(e.l=0),A.enc=P,!t.password)throw new Error("File is password-protected");if(P.valid==null)throw new Error("Encryption scheme unsupported");if(!P.valid)throw new Error("Password is incorrect");break;case 92:A.lastuser=P;break;case 66:var De=Number(P);switch(De){case 21010:De=1200;break;case 32768:De=1e4;break;case 32769:De=1252;break}So(A.codepage=De),ee=!0;break;case 317:A.rrtabid=P;break;case 25:A.winlocked=P;break;case 439:r.opts.RefreshAll=P;break;case 12:r.opts.CalcCount=P;break;case 16:r.opts.CalcDelta=P;break;case 17:r.opts.CalcIter=P;break;case 13:r.opts.CalcMode=P;break;case 14:r.opts.CalcPrecision=P;break;case 95:r.opts.CalcSaveRecalc=P;break;case 15:A.CalcRefMode=P;break;case 2211:r.opts.FullCalc=P;break;case 129:P.fDialog&&(a["!type"]="dialog"),P.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),P.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:S.push(P);break;case 430:M.push([P]),M[M.length-1].XTI=[];break;case 35:case 547:M[M.length-1].push(P);break;case 24:case 536:q={Name:P.Name,Ref:Na(P.rgce,i,null,M,A)},P.itab>0&&(q.Sheet=P.itab-1),M.names.push(q),M[0]||(M[0]=[],M[0].XTI=[]),M[M.length-1].push(P),P.Name=="_xlnm._FilterDatabase"&&P.itab>0&&P.rgce&&P.rgce[0]&&P.rgce[0][0]&&P.rgce[0][0][0]=="PtgArea3d"&&(U[P.itab-1]={ref:Yt(P.rgce[0][0][1][2])});break;case 22:A.ExternCount=P;break;case 23:M.length==0&&(M[0]=[],M[0].XTI=[]),M[M.length-1].XTI=M[M.length-1].XTI.concat(P),M.XTI=M.XTI.concat(P);break;case 2196:if(A.biff<8)break;q!=null&&(q.Comment=P[1]);break;case 18:a["!protect"]=P;break;case 19:P!==0&&A.WTF&&console.error("Password verifier: "+P);break;case 133:s[P.pos]=P,A.snames.push(P.name);break;case 10:{if(--Q)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=Yt(i),t.sheetRows&&t.sheetRows<=i.e.r){var Re=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Yt(i),i.e.r=Re}i.e.r++,i.e.c++}X.length>0&&(a["!merges"]=X),L.length>0&&(a["!objects"]=L),I.length>0&&(a["!cols"]=I),W.length>0&&(a["!rows"]=W),j.Sheets.push(N)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(A.biff===8&&(A.biff={9:2,521:3,1033:4}[ge]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[P.BIFFVer]||8),A.biffguess=P.BIFFVer==0,P.BIFFVer==0&&P.dt==4096&&(A.biff=5,ee=!0,So(A.codepage=28591)),A.biff==8&&P.BIFFVer==0&&P.dt==16&&(A.biff=2),Q++)break;if(a=t.dense?[]:{},A.biff<8&&!ee&&(ee=!0,So(A.codepage=t.codepage||1252)),A.biff<5||P.BIFFVer==0&&P.dt==4096){u===""&&(u="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var Me={pos:e.l-se,name:u};s[Me.pos]=Me,A.snames.push(u)}else u=(s[oe]||{name:""}).name;P.dt==32&&(a["!type"]="chart"),P.dt==64&&(a["!type"]="macro"),X=[],L=[],A.arrayf=b=[],I=[],W=[],F=!1,N={Hidden:(s[oe]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[P.r]||[])[P.c]:a[Tt({c:P.c,r:P.r})])&&++P.c,w={ixfe:P.ixfe,XF:S[P.ixfe]||{},v:P.val,t:"n"},E>0&&(w.z=B[w.ixfe>>8&63]),Go(w,t,r.opts.Date1904),D({c:P.c,r:P.r},w,t);break;case 5:case 517:w={ixfe:P.ixfe,XF:S[P.ixfe],v:P.val,t:P.t},E>0&&(w.z=B[w.ixfe>>8&63]),Go(w,t,r.opts.Date1904),D({c:P.c,r:P.r},w,t);break;case 638:w={ixfe:P.ixfe,XF:S[P.ixfe],v:P.rknum,t:"n"},E>0&&(w.z=B[w.ixfe>>8&63]),Go(w,t,r.opts.Date1904),D({c:P.c,r:P.r},w,t);break;case 189:for(var Be=P.c;Be<=P.C;++Be){var Oe=P.rkrec[Be-P.c][0];w={ixfe:Oe,XF:S[Oe],v:P.rkrec[Be-P.c][1],t:"n"},E>0&&(w.z=B[w.ixfe>>8&63]),Go(w,t,r.opts.Date1904),D({c:Be,r:P.r},w,t)}break;case 6:case 518:case 1030:{if(P.val=="String"){l=P;break}if(w=jb(P.val,P.cell.ixfe,P.tt),w.XF=S[w.ixfe],t.cellFormula){var ht=P.formula;if(ht&&ht[0]&&ht[0][0]&&ht[0][0][0]=="PtgExp"){var it=ht[0][0][1][0],ce=ht[0][0][1][1],me=Tt({r:it,c:ce});y[me]?w.f=""+Na(P.formula,i,P.cell,M,A):w.F=((t.dense?(a[it]||[])[ce]:a[me])||{}).F}else w.f=""+Na(P.formula,i,P.cell,M,A)}E>0&&(w.z=B[w.ixfe>>8&63]),Go(w,t,r.opts.Date1904),D(P.cell,w,t),l=P}break;case 7:case 519:if(l)l.val=P,w=jb(P,l.cell.ixfe,"s"),w.XF=S[w.ixfe],t.cellFormula&&(w.f=""+Na(l.formula,i,l.cell,M,A)),E>0&&(w.z=B[w.ixfe>>8&63]),Go(w,t,r.opts.Date1904),D(l.cell,w,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(P);var z=Tt(P[0].s);if(m=t.dense?(a[P[0].s.r]||[])[P[0].s.c]:a[z],t.cellFormula&&m){if(!l||!z||!m)break;m.f=""+Na(P[1],i,P[0],M,A),m.F=Yt(P[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;y[Tt(l.cell)]=P[0],m=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[Tt(l.cell)],(m||{}).f=""+Na(P[0],i,f,M,A)}}break;case 253:w=jb(c[P.isst].t,P.ixfe,"s"),c[P.isst].h&&(w.h=c[P.isst].h),w.XF=S[w.ixfe],E>0&&(w.z=B[w.ixfe>>8&63]),Go(w,t,r.opts.Date1904),D({c:P.c,r:P.r},w,t);break;case 513:t.sheetStubs&&(w={ixfe:P.ixfe,XF:S[P.ixfe],t:"z"},E>0&&(w.z=B[w.ixfe>>8&63]),Go(w,t,r.opts.Date1904),D({c:P.c,r:P.r},w,t));break;case 190:if(t.sheetStubs)for(var fe=P.c;fe<=P.C;++fe){var _e=P.ixfe[fe-P.c];w={ixfe:_e,XF:S[_e],t:"z"},E>0&&(w.z=B[w.ixfe>>8&63]),Go(w,t,r.opts.Date1904),D({c:fe,r:P.r},w,t)}break;case 214:case 516:case 4:w=jb(P.val,P.ixfe,"s"),w.XF=S[w.ixfe],E>0&&(w.z=B[w.ixfe>>8&63]),Go(w,t,r.opts.Date1904),D({c:P.c,r:P.r},w,t);break;case 0:case 512:Q===1&&(i=P);break;case 252:c=P;break;case 1054:if(A.biff==4){B[E++]=P[1];for(var be=0;be<E+163&&It[be]!=P[1];++be);be>=163&&uf(P[1],E+163)}else uf(P[1],P[0]);break;case 30:{B[E++]=P;for(var Le=0;Le<E+163&&It[Le]!=P;++Le);Le>=163&&uf(P,E+163)}break;case 229:X=X.concat(P);break;case 93:L[P.cmo[0]]=A.lastobj=P;break;case 438:A.lastobj.TxO=P;break;case 127:A.lastobj.ImData=P;break;case 440:for(v=P[0].s.r;v<=P[0].e.r;++v)for(g=P[0].s.c;g<=P[0].e.c;++g)m=t.dense?(a[v]||[])[g]:a[Tt({c:g,r:v})],m&&(m.l=P[1]);break;case 2048:for(v=P[0].s.r;v<=P[0].e.r;++v)for(g=P[0].s.c;g<=P[0].e.c;++g)m=t.dense?(a[v]||[])[g]:a[Tt({c:g,r:v})],m&&m.l&&(m.l.Tooltip=P[1]);break;case 28:{if(A.biff<=5&&A.biff>=2)break;m=t.dense?(a[P[0].r]||[])[P[0].c]:a[Tt(P[0])];var Se=L[P[2]];m||(t.dense?(a[P[0].r]||(a[P[0].r]=[]),m=a[P[0].r][P[0].c]={t:"z"}):m=a[Tt(P[0])]={t:"z"},i.e.r=Math.max(i.e.r,P[0].r),i.s.r=Math.min(i.s.r,P[0].r),i.e.c=Math.max(i.e.c,P[0].c),i.s.c=Math.min(i.s.c,P[0].c)),m.c||(m.c=[]),p={a:P[1],t:Se.TxO.t},m.c.push(p)}break;case 2173:WVe(S[P.ixfe],P.ext);break;case 125:{if(!A.cellStyles)break;for(;P.e>=P.s;)I[P.e--]={width:P.w/256,level:P.level||0,hidden:!!(P.flags&1)},F||(F=!0,T4(P.w/256)),Np(I[P.e+1])}break;case 520:{var je={};P.level!=null&&(W[P.r]=je,je.level=P.level),P.hidden&&(W[P.r]=je,je.hidden=!0),P.hpt&&(W[P.r]=je,je.hpt=P.hpt,je.hpx=ix(P.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Lg(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ge]]=P;break;case 161:a["!margins"]||Lg(a["!margins"]={}),a["!margins"].header=P.header,a["!margins"].footer=P.footer;break;case 574:P.RTL&&(j.Views[0].RTL=!0);break;case 146:k=P;break;case 2198:H=P;break;case 140:_=P;break;case 442:u?N.CodeName=P||N.name:j.WBProps.CodeName=P||"ThisWorkbook";break}}else Z||console.error("Missing Info for XLS Record 0x"+ge.toString(16)),e.l+=se}return r.SheetNames=Cl(s).sort(function(pe,ke){return Number(pe)-Number(ke)}).map(function(pe){return s[pe].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&U.forEach(function(pe,ke){r.Sheets[r.SheetNames[ke]]["!autofilter"]=pe}),r.Strings=c,r.SSF=oa(It),A.enc&&(r.Encryption=A.enc),H&&(r.Themes=H),r.Metadata={},_!==void 0&&(r.Metadata.Country=_),M.names.length>0&&(j.Names=M.names),r.Workbook=j,r}var W5={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function SKe(e,t,r){var n=Kt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=C5(n,B9e,W5.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var i=Kt.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var l=C5(i,U9e,W5.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(zX(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function kJ(e,t){t||(t={}),R4(t),eX(),t.codepage&&f4(t.codepage);var r,n;if(e.FullPaths){if(Kt.find(e,"/encryption"))throw new Error("File is password-protected");r=Kt.find(e,"!CompObj"),n=Kt.find(e,"/Workbook")||Kt.find(e,"/Book")}else{switch(t.type){case"base64":e=bo(mi(e));break;case"binary":e=bo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ra(e,0),n={content:e}}var a,s;if(r&&yKe(r),t.bookProps&&!t.bookSheets)a={};else{var i=Ht?"buffer":"array";if(n&&n.content)a=_Ke(n.content,t);else if((s=Kt.find(e,"PerfectOffice_MAIN"))&&s.content)a=Mg.to_workbook(s.content,(t.type=i,t));else if((s=Kt.find(e,"NativeContent_MAIN"))&&s.content)a=Mg.to_workbook(s.content,(t.type=i,t));else throw(s=Kt.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Kt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=lWe(e))}var l={};return e.FullPaths&&SKe(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}var o_={0:{f:aqe},1:{f:lqe},2:{f:vqe},3:{f:fqe},4:{f:uqe},5:{f:gqe},6:{f:bqe},7:{f:mqe},8:{f:kqe},9:{f:jqe},10:{f:_qe},11:{f:Sqe},12:{f:cqe},13:{f:xqe},14:{f:hqe},15:{f:dqe},16:{f:bJ},17:{f:wqe},18:{f:pqe},19:{f:S4},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Qqe},40:{},42:{},43:{f:_Ve},44:{f:wVe},45:{f:SVe},46:{f:kVe},47:{f:jVe},48:{},49:{f:N9e},50:{},51:{f:qVe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:eJ},62:{f:yqe},63:{f:JVe},64:{f:Rqe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Fa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Dqe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:oqe},148:{f:sqe,p:16},151:{f:Eqe},152:{},153:{f:Xqe},154:{},155:{},156:{f:Yqe},157:{},158:{},159:{T:1,f:Uze},160:{T:-1},161:{T:1,f:Jf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Nqe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:HVe},336:{T:-1},337:{f:KVe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:cT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ZX},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Tqe},427:{f:Aqe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Pqe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:iqe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Cqe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:cT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:sWe},633:{T:1},634:{T:-1},635:{T:1,f:aWe},636:{T:-1},637:{f:E9e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Bqe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Iqe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},mT={6:{f:jN},10:{f:Uc},12:{f:vn},13:{f:vn},14:{f:tn},15:{f:tn},16:{f:Oa},17:{f:tn},18:{f:tn},19:{f:vn},20:{f:O5},21:{f:O5},23:{f:ZX},24:{f:D5},25:{f:tn},26:{},27:{},28:{f:rze},29:{},34:{f:tn},35:{f:P5},38:{f:Oa},39:{f:Oa},40:{f:Oa},41:{f:Oa},42:{f:tn},43:{f:tn},47:{f:iVe},49:{f:F7e},51:{f:vn},60:{},61:{f:R7e},64:{f:tn},65:{f:M7e},66:{f:vn},77:{},80:{},81:{},82:{},85:{f:vn},89:{},90:{},91:{},92:{f:N7e},93:{f:aze},94:{},95:{f:tn},96:{},97:{},99:{f:tn},125:{f:eJ},128:{f:K7e},129:{f:C7e},130:{f:vn},131:{f:tn},132:{f:tn},133:{f:E7e},134:{},140:{f:uze},141:{f:vn},144:{},146:{f:fze},151:{},152:{},153:{},154:{},155:{},156:{f:vn},157:{},158:{},160:{f:vze},161:{f:mze},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:V7e},190:{f:W7e},193:{f:Uc},197:{},198:{},199:{},200:{},201:{},202:{f:tn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:vn},220:{},221:{f:tn},222:{},224:{f:q7e},225:{f:k7e},226:{f:Uc},227:{},229:{f:nze},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:T7e},253:{f:L7e},255:{f:A7e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:KX},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:tn},353:{f:Uc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Y7e},431:{f:tn},432:{},433:{},434:{},437:{},438:{f:oze},439:{f:tn},440:{f:lze},441:{},442:{f:oy},443:{},444:{f:vn},445:{},446:{},448:{f:Uc},449:{f:D7e,r:2},450:{f:Uc},512:{f:T5},513:{f:gze},515:{f:G7e},516:{f:$7e},517:{f:A5},519:{f:xze},520:{f:O7e},523:{},545:{f:R5},549:{f:E5},566:{},574:{f:I7e},638:{f:z7e},659:{},1048:{},1054:{f:B7e},1084:{},1212:{f:Z7e},2048:{f:cze},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:wb},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Uc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:hze,r:12},2173:{f:VVe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:tn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Q7e,r:12},2197:{},2198:{f:FVe,r:12},2199:{},2200:{},2201:{},2202:{f:eze,r:12},2203:{f:Uc},2204:{},2205:{},2206:{},2207:{},2211:{f:P7e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:vn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:pze},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:dze},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:T5},1:{},2:{f:_ze},3:{f:wze},4:{f:bze},5:{f:A5},7:{f:Sze},8:{},9:{f:wb},11:{},22:{f:vn},30:{f:U7e},31:{},32:{},33:{f:R5},36:{},37:{f:E5},50:{f:jze},62:{},52:{},67:{},68:{f:vn},69:{},86:{},126:{},127:{f:yze},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:kze},223:{},234:{},354:{},421:{},518:{f:jN},521:{f:wb},536:{f:D5},547:{f:P5},561:{},579:{},1030:{f:jN},1033:{f:wb},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ro(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&RX(r)&&e.push(r)}}function H5(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,l=s&&s.index||e.length,c=GUe(e.slice(i,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(i=0;i<c.length;++i){var g=c[i].trim(),v=g.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var y=g.split(/<\/t[dh]>/i);for(l=0;l<y.length;++l){var b=y[l].trim();if(b.match(/<t[dh]/i)){for(var w=b,_=0;w.charAt(0)=="<"&&(_=w.indexOf(">"))>-1;)w=w.slice(_+1);for(var S=0;S<p.length;++S){var k=p[S];k.s.c==d&&k.s.r<u&&u<=k.e.r&&(d=k.e.c+1,S=-1)}var j=kt(b.slice(0,b.indexOf(">")));h=j.colspan?+j.colspan:1,((f=+j.rowspan)>1||h>1)&&p.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var N=j.t||j["data-t"]||"";if(!w.length){d+=h;continue}if(w=wX(w),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!w.length){d+=h;continue}var C={t:"s",v:w};r.raw||!w.trim().length||N=="s"||(w==="TRUE"?C={t:"b",v:!0}:w==="FALSE"?C={t:"b",v:!1}:isNaN(To(w))?isNaN(kp(w).getDate())||(C={t:"d",v:Yn(w)},r.cellDates||(C={t:"n",v:fs(C.v)}),C.z=r.dateNF||It[14]):C={t:"n",v:To(w)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=C):n[Tt({r:u,c:d})]=C,d+=h}}}}return n["!ref"]=Yt(m),p.length&&(n["!merges"]=p),n}function jKe(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>i)&&!(a[u].e.r<r||a[u].e.c<i)){if(a[u].s.r<r||a[u].s.c<i){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=Tt({r,c:i}),f=n.dense?(e[r]||[])[i]:e[d],h=f&&f.v!=null&&(f.h||x4(f.w||(Nc(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,s.push(u9e("td",h,m))}}var p="<tr>";return p+s.join("")+"</tr>"}var kKe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',NKe="</body></html>";function CKe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return cd(H5(r[0],t),t);var n=M4();return r.forEach(function(a,s){F4(n,H5(a,t),"Sheet"+(s+1))}),n}function EKe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function TKe(e,t){var r=t||{},n=r.header!=null?r.header:kKe,a=r.footer!=null?r.footer:NKe,s=[n],i=h0(e["!ref"]);r.dense=Array.isArray(e),s.push(EKe(e,i,r));for(var l=i.s.r;l<=i.e.r;++l)s.push(jKe(e,i,l,r));return s.push("</table>"+a),s.join("")}function NJ(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?ls(n.origin):n.origin;a=i.r,s=i.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=h0(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),p=0,g=0,v=0,y=0,b=0,w=0;for(e["!cols"]||(e["!cols"]=[]);p<l.length&&g<c;++p){var _=l[p];if(q5(_)){if(n.display)continue;m[g]={hidden:!0}}var S=_.children;for(v=y=0;v<S.length;++v){var k=S[v];if(!(n.display&&q5(k))){var j=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):wX(k.innerHTML),N=k.getAttribute("data-z")||k.getAttribute("z");for(h=0;h<f.length;++h){var C=f[h];C.s.c==y+s&&C.s.r<g+a&&g+a<=C.e.r&&(y=C.e.c+1-s,h=-1)}w=+k.getAttribute("colspan")||1,((b=+k.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:g+a,c:y+s},e:{r:g+a+(b||1)-1,c:y+s+(w||1)-1}});var T={t:"s",v:j},D=k.getAttribute("data-t")||k.getAttribute("t")||"";j!=null&&(j.length==0?T.t=D||"z":n.raw||j.trim().length==0||D=="s"||(j==="TRUE"?T={t:"b",v:!0}:j==="FALSE"?T={t:"b",v:!1}:isNaN(To(j))?isNaN(kp(j).getDate())||(T={t:"d",v:Yn(j)},n.cellDates||(T={t:"n",v:fs(T.v)}),T.z=n.dateNF||It[14]):T={t:"n",v:To(j)})),T.z===void 0&&N!=null&&(T.z=N);var A="",H=k.getElementsByTagName("A");if(H&&H.length)for(var X=0;X<H.length&&!(H[X].hasAttribute("href")&&(A=H[X].getAttribute("href"),A.charAt(0)!="#"));++X);A&&A.charAt(0)!="#"&&(T.l={Target:A}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][y+s]=T):e[Tt({c:y+s,r:g+a})]=T,u.e.c<y+s&&(u.e.c=y+s),y+=w}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=Yt(u),g>=c&&(e["!fullref"]=Yt((u.e.r=l.length-p+g-1+a,u))),e}function CJ(e,t){var r=t||{},n=r.dense?[]:{};return NJ(n,e,t)}function AKe(e,t){return cd(CJ(e,t),t)}function q5(e){var t="",r=OKe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function OKe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function PKe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Qt(t.replace(/<[^>]*>/g,""));return[r]}var K5={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function EJ(e,t){var r=t||{},n=y4(e),a=[],s,i,l={name:""},c="",u=0,d,f,h={},m=[],p=r.dense?[]:{},g,v,y={value:""},b="",w=0,_=[],S=-1,k=-1,j={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,C={},T=[],D={},A=0,H=0,X=[],L=1,I=1,W=[],F={Names:[]},M={},G=["",""],Q=[],E={},B="",U=0,q=!1,ee=!1,oe=0;for(nx.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=nx.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(j.e.c>=j.s.c&&j.e.r>=j.s.r?p["!ref"]=Yt(j):p["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=j.e.r&&(p["!fullref"]=p["!ref"],j.e.r=r.sheetRows-1,p["!ref"]=Yt(j)),T.length&&(p["!merges"]=T),X.length&&(p["!rows"]=X),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=p,ee=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=kt(g[0],!1),S=k=-1,j.s.r=j.s.c=1e7,j.e.r=j.e.c=0,p=r.dense?[]:{},T=[],X=[],ee=!0);break;case"table-row-group":g[1]==="/"?--N:++N;break;case"table-row":case"":if(g[1]==="/"){S+=L,L=1;break}if(f=kt(g[0],!1),f.?S=f.-1:S==-1&&(S=0),L=+f["number-rows-repeated"]||1,L<10)for(oe=0;oe<L;++oe)N>0&&(X[S+oe]={level:N});k=-1;break;case"covered-table-cell":g[1]!=="/"&&++k,r.sheetStubs&&(r.dense?(p[S]||(p[S]=[]),p[S][k]={t:"z"}):p[Tt({r:S,c:k})]={t:"z"}),b="",_=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++k,y=kt(g[0],!1),I=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=U5(Qt(y.formula))),(y.||y["value-type"])=="string"&&(v.t="s",v.v=Qt(y["string-value"]||""),r.dense?(p[S]||(p[S]=[]),p[S][k]=v):p[Tt({r:S,c:k})]=v),k+=I-1;else if(g[1]!=="/"){++k,b="",w=0,_=[],I=1;var ge=L?S+L-1:S;if(k>j.e.c&&(j.e.c=k),k<j.s.c&&(j.s.c=k),S<j.s.r&&(j.s.r=S),ge>j.e.r&&(j.e.r=ge),y=kt(g[0],!1),Q=[],E={},v={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=Qt(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(A=parseInt(y["number-matrix-rows-spanned"],10)||0,H=parseInt(y["number-matrix-columns-spanned"],10)||0,D={s:{r:S,c:k},e:{r:S+A-1,c:k+H-1}},v.F=Yt(D),W.push([D,v.F])),y.formula)v.f=U5(y.formula);else for(oe=0;oe<W.length;++oe)S>=W[oe][0].s.r&&S<=W[oe][0].e.r&&k>=W[oe][0].s.c&&k<=W[oe][0].e.c&&(v.F=W[oe][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(A=parseInt(y["number-rows-spanned"],10)||0,H=parseInt(y["number-columns-spanned"],10)||0,D={s:{r:S,c:k},e:{r:S+A-1,c:k+H-1}},T.push(D)),y["number-columns-repeated"]&&(I=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Fr(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=Yn(y["date-value"]),r.cellDates||(v.t="n",v.v=fs(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=HUe(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=fj(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(b=Qt(y["string-value"]),_=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(q=!1,v.t==="s"&&(v.v=b||"",_.length&&(v.R=_),q=w==0),M.Target&&(v.l=M),Q.length>0&&(v.c=Q,Q=[]),b&&r.cellText!==!1&&(v.w=b),q&&(v.t="z",delete v.v),(!q||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var se=0;se<L;++se){if(I=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(p[S+se]||(p[S+se]=[]),p[S+se][k]=se==0?v:oa(v);--I>0;)p[S+se][k+I]=oa(v);else for(p[Tt({r:S+se,c:k})]=v;--I>0;)p[Tt({r:S+se,c:k+I})]=oa(v);j.e.c<=k&&(j.e.c=k)}I=parseInt(y["number-columns-repeated"]||"1",10),k+=I-1,I=0,v={},b="",_=[]}M={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s;E.t=b,_.length&&(E.R=_),E.a=B,Q.push(E)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);B="",U=0,b="",w=0,_=[];break;case"creator":g[1]==="/"?B=n.slice(U,g.index):U=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);b="",w=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(C[l.name]=c,(s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&(c="",l=kt(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=kt(g[0],!1),c+=K5[g[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=kt(g[0],!1),c+=K5[g[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":i=kt(g[0],!1),G=kN(i["cell-range-address"]);var Z={Name:i.name,Ref:G[0]+"!"+G[1]};ee&&(Z.Sheet=m.length),F.Names.push(Z);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!y||!y["string-value"])){var he=PKe(n.slice(w,g.index));b=(b.length>0?b+`
`:"")+he[0]}else kt(g[0],!1),w=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{G=kN(kt(g[0])["target-range-address"]),h[G[0]]["!autofilter"]={ref:G[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(M=kt(g[0],!1),!M.href)break;M.Target=Qt(M.href),delete M.href,M.Target.charAt(0)=="#"&&M.Target.indexOf(".")>-1?(G=kN(M.Target.slice(1)),M.Target="#"+G[0]+"!"+G[1]):M.Target.match(/^\.\.[\\\/]/)&&(M.Target=M.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(g)}}var P={Sheets:h,SheetNames:m,Workbook:F};return r.bookSheets&&delete P.Sheets,P}function G5(e,t){t=t||{},Ei(e,"META-INF/manifest.xml")&&G9e(gn(e,"META-INF/manifest.xml"),t);var r=si(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=EJ(Er(r),t);return Ei(e,"meta.xml")&&(n.Props=UX(gn(e,"meta.xml"))),n}function Y5(e,t){return EJ(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function P4(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function pT(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Er(Yf(e))}function gT(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function X5(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function DKe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function ox(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function $n(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Pa(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=ox(e,r),s=a&7;a=Math.floor(a/8);var i=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:i=4,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=ox(e,r),l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function D4(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function RKe(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=ox(e,n),s=Pa(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:$n(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Pa(l.data),u=$n(c[3][0].data);i.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(i.merge=$n(s[3][0].data)>>>0>0),r.push(i)}return r}function IKe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=ox(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var l=i-59;i=t[r[0]],l>1&&(i|=t[r[0]+1]<<8),l>2&&(i|=t[r[0]+2]<<16),l>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=l}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[gT(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=gT(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function MKe(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(IKe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return gT(t)}function FKe(e,t,r,n){var a=P4(e),s=a.getUint32(4,!0),i=(n>1?12:8)+X5(s&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);s&512&&(l=a.getUint32(i,!0),i+=4),i+=X5(s&(n>1?12288:4096))*4,s&16&&(c=a.getUint32(i,!0),i+=4),s&32&&(u=a.getFloat64(i,!0),i+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function LKe(e,t,r){var n=P4(e),a=n.getUint32(8,!0),s=12,i=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=DKe(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(l=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function $Ke(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return FKe(e,t,r,e[0]);case 5:return LKe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Iu(e){var t=Pa(e);return ox(t[1][0].data)}function J5(e,t){var r=Pa(t.data),n=$n(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var l=Pa(i.data),c=$n(l[1][0].data)>>>0;switch(n){case 1:s[c]=pT(l[3][0].data);break;case 8:{var u=e[Iu(l[9][0].data)][0],d=Pa(u.data),f=e[Iu(d[1][0].data)][0],h=$n(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Pa(f.data);s[c]=m[3].map(function(p){return pT(p.data)}).join("")}break}}),s}function BKe(e,t){var r,n,a,s,i,l,c,u,d,f,h,m,p,g,v=Pa(e),y=$n(v[1][0].data)>>>0,b=$n(v[2][0].data)>>>0,w=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&$n(v[8][0].data)>0||!1,_,S;if((s=(a=v[7])==null?void 0:a[0])!=null&&s.data&&t!=0)_=(l=(i=v[7])==null?void 0:i[0])==null?void 0:l.data,S=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)_=(m=(h=v[4])==null?void 0:h[0])==null?void 0:m.data,S=(g=(p=v[3])==null?void 0:p[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var k=w?4:1,j=P4(_),N=[],C=0;C<_.length/2;++C){var T=j.getUint16(C*2,!0);T<65535&&N.push([C,T])}if(N.length!=b)throw"Expected ".concat(b," cells, found ").concat(N.length);var D=[];for(C=0;C<N.length-1;++C)D[N[C][0]]=S.subarray(N[C][1]*k,N[C+1][1]*k);return N.length>=1&&(D[N[N.length-1][0]]=S.subarray(N[N.length-1][1]*k)),{R:y,cells:D}}function UKe(e,t){var r,n=Pa(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?$n(n[7][0].data)>>>0>0?1:0:-1,s=D4(n[5],function(i){return BKe(i,a)});return{nrows:$n(n[4][0].data)>>>0,data:s.reduce(function(i,l){return i[l.R]||(i[l.R]=[]),l.cells.forEach(function(c,u){if(i[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));i[l.R][u]=c}),i},[])}}function zKe(e,t,r){var n,a=Pa(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=($n(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=($n(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Yt(s);var i=Pa(a[4][0].data),l=J5(e,e[Iu(i[4][0].data)][0]),c=(n=i[17])!=null&&n[0]?J5(e,e[Iu(i[17][0].data)][0]):[],u=Pa(i[3][0].data),d=0;u[1].forEach(function(f){var h=Pa(f.data),m=e[Iu(h[2][0].data)][0],p=$n(m.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var g=UKe(e,m);g.data.forEach(function(v,y){v.forEach(function(b,w){var _=Tt({r:d+y,c:w}),S=$Ke(b,l,c);S&&(r[_]=S)})}),d+=g.nrows})}function VKe(e,t){var r=Pa(t.data),n={"!ref":"A1"},a=e[Iu(r[2][0].data)],s=$n(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return zKe(e,a[0],n),n}function WKe(e,t){var r,n=Pa(t.data),a={name:(r=n[1])!=null&&r[0]?pT(n[1][0].data):"",sheets:[]},s=D4(n[2],Iu);return s.forEach(function(i){e[i].forEach(function(l){var c=$n(l.meta[1][0].data);c==6e3&&a.sheets.push(VKe(e,l))})}),a}function HKe(e,t){var r=M4(),n=Pa(t.data),a=D4(n[1],Iu);if(a.forEach(function(s){e[s].forEach(function(i){var l=$n(i.meta[1][0].data);if(l==2){var c=WKe(e,i);c.sheets.forEach(function(u,d){F4(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function CN(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=MKe(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=RKe(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&$n(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||i.forEach(function(c){s[c].forEach(function(u){var d=$n(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return HKe(s,l)}function qKe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function R4(e){qKe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function KKe(e){return Jh.WS.indexOf(e)>-1?"sheet":e==Jh.CS?"chart":e==Jh.DS?"dialog":e==Jh.MS?"macro":e&&e.length?e:"sheet"}function GKe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,KKe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function YKe(e,t,r,n,a,s,i,l,c,u,d,f){try{s[n]=Rg(si(e,r,!0),t);var h=gn(e,t),m;switch(l){case"sheet":m=tKe(h,t,a,c,s[n],u,d,f);break;case"chart":if(m=rKe(h,t,a,c,s[n],u,d,f),!m||!m["!drawel"])break;var p=ag(m["!drawel"].Target,t),g=uT(p),v=eWe(si(e,p,!0),Rg(si(e,g,!0),p)),y=ag(v,p),b=uT(y);m=Lqe(si(e,y,!0),y,c,Rg(si(e,b,!0),y),u,m);break;case"macro":m=nKe(h,t,a,c,s[n],u,d,f);break;case"dialog":m=aKe(h,t,a,c,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}i[n]=m;var w=[];s&&s[n]&&Cl(s[n]).forEach(function(_){var S="";if(s[n][_].Type==Jh.CMNT){S=ag(s[n][_].Target,t);var k=lKe(gn(e,S,!0),S,c);if(!k||!k.length)return;M5(m,k,!1)}s[n][_].Type==Jh.TCMNT&&(S=ag(s[n][_].Target,t),w=w.concat(rWe(gn(e,S,!0),c)))}),w&&w.length&&M5(m,w,!0,c.people||[])}catch(_){if(c.WTF)throw _}}function ki(e){return e.charAt(0)=="/"?e.slice(1):e}function XKe(e,t){if(fX(),t=t||{},R4(t),Ei(e,"META-INF/manifest.xml")||Ei(e,"objectdata.xml"))return G5(e,t);if(Ei(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof CN<"u"){if(e.FileIndex)return CN(e);var r=Kt.utils.cfb_new();return c5(e).forEach(function(X){JUe(r,X,XUe(e,X))}),CN(r)}throw new Error("Unsupported NUMBERS file")}if(!Ei(e,"[Content_Types].xml"))throw Ei(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ei(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=c5(e),a=q9e(si(e,"[Content_Types].xml")),s=!1,i,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",gn(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!gn(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(Fg=[],a.sst)try{Fg=oKe(gn(e,ki(a.sst)),a.sst,t)}catch(X){if(t.WTF)throw X}t.cellStyles&&a.themes.length&&(c=iKe(si(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=sKe(gn(e,ki(a.style)),a.style,c,t))}a.links.map(function(X){try{var L=Rg(si(e,uT(ki(X))),X);return uKe(gn(e,ki(X)),L,X,t)}catch{}});var d=eKe(gn(e,ki(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=gn(e,ki(a.coreprops[0]),!0),h&&(f=UX(h)),a.extprops.length!==0&&(h=gn(e,ki(a.extprops[0]),!0),h&&J9e(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=si(e,ki(a.custprops[0]),!0),h&&(m=Z9e(h,t)));var p={};if((t.bookSheets||t.bookProps)&&(d.Sheets?i=d.Sheets.map(function(L){return L.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(p.Props=f,p.Custprops=m),t.bookSheets&&typeof i<"u"&&(p.SheetNames=i),t.bookSheets?p.SheetNames:t.bookProps))return p;i={};var g={};t.bookDeps&&a.calcchain&&(g=cKe(gn(e,ki(a.calcchain)),a.calcchain));var v=0,y={},b,w;{var _=d.Sheets;f.Worksheets=_.length,f.SheetNames=[];for(var S=0;S!=_.length;++S)f.SheetNames[S]=_[S].name}var k=s?"bin":"xml",j=a.workbooks[0].lastIndexOf("/"),N=(a.workbooks[0].slice(0,j+1)+"_rels/"+a.workbooks[0].slice(j+1)+".rels").replace(/^\//,"");Ei(e,N)||(N="xl/_rels/workbook."+k+".rels");var C=Rg(si(e,N,!0),N.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=dKe(gn(e,ki(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=nWe(gn(e,ki(a.people[0])),t)),C&&(C=GKe(C,d.Sheets));var T=gn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var D="sheet";if(C&&C[v]?(b="xl/"+C[v][1].replace(/[\/]?xl\//,""),Ei(e,b)||(b=C[v][1]),Ei(e,b)||(b=N.replace(/_rels\/.*$/,"")+C[v][1]),D=C[v][2]):(b="xl/worksheets/sheet"+(v+1-T)+"."+k,b=b.replace(/sheet0\./,"sheet.")),w=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var A=!1,H=0;H!=t.sheets.length;++H)typeof t.sheets[H]=="number"&&t.sheets[H]==v&&(A=1),typeof t.sheets[H]=="string"&&t.sheets[H].toLowerCase()==f.SheetNames[v].toLowerCase()&&(A=1);if(!A)continue e}}YKe(e,b,w,f.SheetNames[v],v,y,i,D,t,d,c,u)}return p={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:g,Sheets:i,SheetNames:f.SheetNames,Strings:Fg,Styles:u,Themes:c,SSF:oa(It)},t&&t.bookFiles&&(e.files?(p.keys=n,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach(function(X,L){X=X.replace(/^Root Entry[\/]/,""),p.keys.push(X),p.files[X]=e.FileIndex[L]}))),t&&t.bookVBA&&(a.vba.length>0?p.vbaraw=gn(e,ki(a.vba[0]),!0):a.defaults&&a.defaults.bin===oWe&&(p.vbaraw=gn(e,"xl/vbaProject.bin",!0))),p}function JKe(e,t){var r=t||{},n="Workbook",a=Kt.find(e,n);try{if(n="/!DataSpaces/Version",a=Kt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Vze(a.content),n="/!DataSpaces/DataSpaceMap",a=Kt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Hze(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Kt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=qze(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Kt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);Gze(a.content)}catch{}if(n="/EncryptionInfo",a=Kt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=Yze(a.content);if(n="/EncryptedPackage",a=Kt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function I4(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=mi(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function QKe(e,t){return Kt.find(e,"EncryptedPackage")?JKe(e,t):kJ(e,t)}function ZKe(e,t){var r,n=e,a=t||{};return a.type||(a.type=Ht&&Buffer.isBuffer(e)?"buffer":"base64"),r=xX(n,a),XKe(r,a)}function TJ(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return hT(e.slice(r),t);default:break e}return ax.to_workbook(e,t)}function eGe(e,t){var r="",n=I4(e,t);switch(t.type){case"base64":r=mi(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Df(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Er(r)),t.type="binary",TJ(r,t)}function tGe(e,t){var r=e;return t.type=="base64"&&(r=mi(r)),r=ru.utils.decode(1200,r.slice(2),"str"),t.type="binary",TJ(r,t)}function rGe(e){return e.match(/[^\x00-\x7F]/)?sg(e):e}function EN(e,t,r,n){return n?(r.type="string",ax.to_workbook(e,r)):ax.to_workbook(t,r)}function vT(e,t){eX();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return vT(new Uint8Array(e),(r=oa(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),gm={},r.dateNF&&(gm.dateNF=r.dateNF),r.type||(r.type=Ht&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Ht?"buffer":"binary",n=VUe(e),typeof Uint8Array<"u"&&!Ht&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=rGe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),l=new Uint8Array(i);if(l.foo="bar",!l.foo)return r=oa(r),r.type="array",vT(h4(n),r)}switch((a=I4(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return QKe(Kt.read(n,r),r);break;case 9:if(a[1]<=8)return kJ(n,r);break;case 60:return hT(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return Aze(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return Eze.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?ZKe(n,r):EN(e,n,r,s);case 239:return a[3]===60?hT(n,r):EN(e,n,r,s);case 255:if(a[1]===254)return tGe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Mg.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Mg.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return I5.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return oVe.to_workbook(n,r);break;case 10:case 13:case 32:return eGe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Nze.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?I5.to_workbook(n,r):EN(e,n,r,s)}function nGe(e,t,r,n,a,s,i,l){var c=la(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var m=t.s.c;m<=t.e.c;++m){var p=i?e[r][m]:e[n[m]+c];if(p===void 0||p.t===void 0){if(u===void 0)continue;s[m]!=null&&(h[s[m]]=u);continue}var g=p.v;switch(p.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(s[m]!=null){if(g==null)if(p.t=="e"&&g===null)h[s[m]]=null;else if(u!==void 0)h[s[m]]=u;else if(d&&g===null)h[s[m]]=null;else continue;else h[s[m]]=d&&(p.t!=="n"||p.t==="n"&&l.rawNumbers!==!1)?g:Nc(p,g,l);g!=null&&(f=!1)}}return{row:h,isempty:f}}function xT(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=en(d);break;case"number":c=en(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=la(c.s.r),h=[],m=[],p=0,g=0,v=Array.isArray(e),y=c.s.r,b=0,w={};v&&!e[y]&&(e[y]=[]);var _=u.skipHidden&&e["!cols"]||[],S=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(_[b]||{}).hidden)switch(h[b]=Ln(b),r=v?e[y][b]:e[h[b]+f],n){case 1:s[b]=b-c.s.c;break;case 2:s[b]=h[b];break;case 3:s[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=i=Nc(r,null,u),g=w[i]||0,!g)w[i]=1;else{do l=i+"_"+g++;while(w[l]);w[i]=g,w[l]=1}s[b]=l}for(y=c.s.r+a;y<=c.e.r;++y)if(!(S[y]||{}).hidden){var k=nGe(e,c,y,h,n,s,v,u);(k.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[p++]=k.row)}return m.length=p,m}var Q5=/"/g;function aGe(e,t,r,n,a,s,i,l){for(var c=!0,u=[],d="",f=la(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=l.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(l.rawNumbers&&m.t=="n"?m.v:Nc(m,null,l));for(var p=0,g=0;p!==d.length;++p)if((g=d.charCodeAt(p))===a||g===s||g===34||l.forceQuotes){d='"'+d.replace(Q5,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(Q5,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(i)}function AJ(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=en(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(h[p]||{}).hidden||(f[p]=Ln(p));for(var g=0,v=a.s.r;v<=a.e.r;++v)(m[v]||{}).hidden||(d=aGe(e,a,v,f,i,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?l:"")+d)));return delete n.dense,r.join("")}function sGe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=AJ(e,t);return r}function iGe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=en(e["!ref"]),s="",i=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)i[l]=Ln(l);for(var d=a.s.r;d<=a.e.r;++d)for(s=la(d),l=a.s.c;l<=a.e.c;++l)if(t=i[l]+s,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function OJ(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?ls(n.origin):n.origin;i=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:i+t.length-1+a}};if(s["!ref"]){var f=en(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),i==-1&&(i=f.e.r+1,d.e.r=i+t.length-1+a)}else i==-1&&(i=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(g,v){Cl(g).forEach(function(y){(m=h.indexOf(y))==-1&&(h[m=h.length]=y);var b=g[y],w="z",_="",S=Tt({c:l+m,r:i+v+a});u=lx(s,S),b&&typeof b=="object"&&!(b instanceof Date)?s[S]=b:(typeof b=="number"?w="n":typeof b=="boolean"?w="b":typeof b=="string"?w="s":b instanceof Date?(w="d",n.cellDates||(w="n",b=fs(b)),_=n.dateNF||It[14]):b===null&&n.nullError&&(w="e",b=0),u?(u.t=w,u.v=b,delete u.w,delete u.R,_&&(u.z=_)):s[S]=u={t:w,v:b},_&&(u.z=_))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var p=la(i);if(a)for(m=0;m<h.length;++m)s[Ln(m+l)+p]={t:"s",v:h[m]};return s["!ref"]=Yt(d),s}function oGe(e,t){return OJ(null,e,t)}function lx(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ls(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?lx(e,Tt(t)):lx(e,Tt({r:t,c:r||0}))}function lGe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function M4(){return{SheetNames:[],Sheets:{}}}function F4(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(qqe(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function cGe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=lGe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function uGe(e,t){return e.z=t,e}function PJ(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function dGe(e,t,r){return PJ(e,"#"+t,r)}function fGe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function hGe(e,t,r,n){for(var a=typeof t!="string"?t:en(t),s=typeof t=="string"?t:Yt(t),i=a.s.r;i<=a.e.r;++i)for(var l=a.s.c;l<=a.e.c;++l){var c=lx(e,i,l);c.t="n",c.F=s,delete c.v,i==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var mGe={encode_col:Ln,encode_row:la,encode_cell:Tt,encode_range:Yt,decode_col:_4,decode_row:w4,split_cell:k9e,decode_cell:ls,decode_range:h0,format_cell:Nc,sheet_add_aoa:MX,sheet_add_json:OJ,sheet_add_dom:NJ,aoa_to_sheet:m0,json_to_sheet:oGe,table_to_sheet:CJ,table_to_book:AKe,sheet_to_csv:AJ,sheet_to_txt:sGe,sheet_to_json:xT,sheet_to_html:TKe,sheet_to_formulae:iGe,sheet_to_row_object_array:xT,sheet_get_cell:lx,book_new:M4,book_append_sheet:F4,book_set_sheet_visibility:cGe,cell_set_number_format:uGe,cell_set_hyperlink:PJ,cell_set_internal_link:dGe,cell_add_comment:fGe,sheet_set_array_formula:hGe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function pGe({templates:e,templateFields:t,onImportComplete:r,onClose:n}){var T,D;const{t:a}=$t(),{user:s}=hr(),{toast:i}=Al(),[l,c]=x.useState("template"),[u,d]=x.useState(null),[f,h]=x.useState([]),[m,p]=x.useState({}),[g,v]=x.useState([]),[y,b]=x.useState(!1),[w,_]=x.useState(0),S=async A=>{var X;const H=(X=A.target.files)==null?void 0:X[0];if(H)try{const L=await H.arrayBuffer(),I=vT(L,{type:"array"}),W=I.Sheets[I.SheetNames[0]],F=mGe.sheet_to_json(W);if(F.length===0){i({title:a("common.error"),description:a("surveys.fileEmpty"),variant:"destructive"});return}h(F),k(F),c("preview")}catch(L){console.error("Error parsing file:",L),i({title:a("common.error"),description:a("surveys.fileParseError"),variant:"destructive"})}},k=A=>{if(!u)return;const H=t[u.template_id]||[],X=Object.keys(A[0]||{}),L=[],I={};for(const W of H){const F=W.field_label||"",M=X.find(G=>G.toLowerCase().trim()===F.toLowerCase().trim());M?I[F]=M:W.is_required&&L.push(a("surveys.requiredFieldNotFound",{field:`"${F}"`}))}p(I),v(L)},j=()=>f.slice(0,5),N=async()=>{if(!u||!s)return;const A=t[u.template_id]||[],H=[];for(const X of A)X.is_required&&!m[X.field_label||""]&&H.push(a("surveys.requiredFieldNotMapped",{field:`"${X.field_label}"`}));if(H.length>0){v(H);return}c("importing"),b(!0);try{const X=f.length,L=[];for(let W=0;W<f.length;W++){const F=f[W],M={};for(const Q of A){const E=Q.field_label||"",B=m[E];B&&F[B]!==void 0&&F[B]!==null&&F[B]!==""&&(M[E]=F[B])}const G={template_id:u.template_id,survey_name:F.survey_name||F["Survey Name"]||`Bulk Import ${W+1}`,survey_description:F.survey_description||F["Survey Description"]||null,client_name:F.client_name||F["Client Name"]||`Client ${W+1}`,client_name_ar:F.client_name_ar||F["Client Name AR"]||null,client_contact:F.client_contact||F["Client Contact"]||null,client_email:F.client_email||F["Client Email"]||null,client_address:F.client_address||F["Client Address"]||null,client_company:F.client_company||F["Client Company"]||null,client_company_ar:F.client_company_ar||F["Client Company AR"]||null,survey_responses:M,location_latitude:parseFloat(F.location_latitude||F.Latitude||"0"),location_longitude:parseFloat(F.location_longitude||F.Longitude||"0"),location_accuracy:F.location_accuracy?parseFloat(F.location_accuracy):null,location_address:F.location_address||F["Location Address"]||null,created_by:s.id,status:"collected",lead_id:null,converted_to_lead_at:null,device_info:null,completion_time_seconds:null,notes:F.notes||null,notes_ar:F.notes_ar||null,updated_by:null,reviewed_by:null,reviewed_at:null};L.push(G),_(Math.round((W+1)/X*50))}_(50);const I=await kh.createBatch(L);_(100),i({title:a("common.success"),description:a("surveys.importSuccess",{count:I.length})}),r(I),C()}catch(X){console.error("Error importing surveys:",X),i({title:a("common.error"),description:X.message||a("surveys.importFailed"),variant:"destructive"}),c("preview")}finally{b(!1)}},C=()=>{c("template"),d(null),h([]),p({}),v([]),_(0),n()};return o.jsxs(o.Fragment,{children:[o.jsxs(sn,{children:[o.jsx(on,{children:a("surveys.bulkImport")}),o.jsxs(Ma,{children:[l==="template"&&a("surveys.selectTemplateForImport"),l==="upload"&&a("surveys.uploadFile"),l==="preview"&&a("surveys.reviewData"),l==="importing"&&a("surveys.importingData")]})]}),o.jsxs("div",{className:"space-y-6 py-4",children:[l==="template"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(We,{className:"text-base font-medium",children:a("surveys.selectTemplate")}),o.jsx("div",{className:"grid gap-3 grid-cols-1 md:grid-cols-2",children:e.filter(A=>A.is_active).map(A=>o.jsx(et,{className:`cursor-pointer transition-all ${(u==null?void 0:u.template_id)===A.template_id?"ring-2 ring-primary":"hover:shadow-md"}`,onClick:()=>d(A),children:o.jsxs(ot,{className:"p-4",children:[o.jsx("h4",{className:"font-medium text-sm",children:A.template_name}),A.template_description&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:A.template_description}),A.category&&o.jsx(ct,{variant:"outline",className:"mt-2 text-xs",children:A.category})]})},A.template_id||`template-${Math.random()}`))})]}),l==="upload"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(L_,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[o.jsx("p",{className:"font-medium mb-1",children:a("surveys.importInstructions")}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[o.jsx("li",{children:a("surveys.importInstruction1")}),o.jsx("li",{children:a("surveys.importInstruction2")}),o.jsx("li",{children:a("surveys.importInstruction3")})]})]})]})}),o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[o.jsx(dv,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),o.jsx(We,{className:"block text-sm font-medium mb-2",children:a("surveys.dragDropFile")}),o.jsx(Ue,{type:"file",accept:".xlsx,.xls,.csv",onChange:S,className:"hidden",id:"file-upload"}),o.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:o.jsx(ue,{variant:"outline",asChild:!0,children:o.jsx("span",{children:a("surveys.selectFile")})})})]})]}),l==="preview"&&o.jsxs("div",{className:"space-y-4",children:[g.length>0&&o.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(J2,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300",children:[o.jsx("p",{className:"font-medium mb-2",children:a("surveys.validationErrors")}),o.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs",children:g.map((A,H)=>o.jsx("li",{children:A},H))})]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"font-medium text-sm",children:a("surveys.columnMapping")}),o.jsxs(ct,{variant:"secondary",children:[Object.keys(m).length," / ",u&&((T=t[u.template_id])==null?void 0:T.length)||0]})]}),o.jsx("div",{className:"grid gap-2 max-h-48 overflow-y-auto",children:u?(D=t[u.template_id])==null?void 0:D.map(A=>o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:A.field_label}),A.is_required&&o.jsx(ct,{variant:"destructive",className:"text-xs mt-1",children:a("surveys.required")})]}),m[A.field_label||""]?o.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[o.jsx(ic,{className:"h-4 w-4"}),o.jsx("span",{className:"text-xs font-medium",children:m[A.field_label||""]})]}):o.jsx("div",{className:"text-xs text-muted-foreground",children:A.is_required?o.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:a("surveys.notMapped")}):o.jsx("span",{children:a("surveys.optional")})})]},A.field_id)):o.jsx("div",{className:"text-center text-muted-foreground py-4",children:a("surveys.noTemplateSelected")})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium text-sm",children:a("surveys.previewFirstRows",{count:5})}),o.jsx("div",{className:"border rounded-lg overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted border-b",children:o.jsx("tr",{children:Object.keys(j()[0]||{}).map(A=>o.jsx("th",{className:"px-3 py-2 text-start font-medium text-xs",children:A},A))})}),o.jsx("tbody",{children:j().map((A,H)=>o.jsx("tr",{className:"border-b hover:bg-muted/50",children:Object.entries(A).map(([X,L],I)=>o.jsx("td",{className:"px-3 py-2 text-xs",children:typeof L=="boolean"?X.toLowerCase().includes("is_default")?L?o.jsx(ic,{className:"h-4 w-4 text-green-600"}):o.jsx("span",{className:"text-transparent",children:"-"}):L?o.jsx(ic,{className:"h-4 w-4 text-green-600"}):o.jsx(gie,{className:"h-4 w-4 text-gray-400"}):String(L||"")},I))},H))})]})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:a("surveys.showingRows",{shown:Math.min(5,f.length),total:f.length})})]})]}),l==="importing"&&o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx(B_,{className:"h-12 w-12 mx-auto animate-spin text-primary mb-4"}),o.jsx("p",{className:"font-medium mb-2",children:a("surveys.importingData")}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[a("surveys.processingRows",{progress:w}),"%"]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${w}%`}})})]})})})]}),o.jsxs(Ia,{children:[o.jsx(ue,{variant:"outline",onClick:C,disabled:y,children:a("buttons.cancel")}),l==="template"&&o.jsx(ue,{onClick:()=>c("upload"),disabled:!u,children:a("common.next")}),l==="upload"&&o.jsx(ue,{onClick:()=>c("template"),variant:"outline",children:a("common.back")}),l==="preview"&&o.jsxs(o.Fragment,{children:[o.jsx(ue,{onClick:()=>c("upload"),variant:"outline",children:"Back"}),o.jsx(ue,{onClick:N,disabled:g.length>0||y,children:a("surveys.startImport")})]})]})]})}function gGe(){var ae,te,ne,R;const{t:e}=$t(),{user:t}=hr(),{isRTL:r}=La(),{toast:n}=Al(),[a,s]=x.useState([]),[i,l]=x.useState([]),[c,u]=x.useState({}),[d,f]=x.useState(!0),[h,m]=x.useState(""),[p,g]=x.useState(null),[v,y]=x.useState(null),[b,w]=x.useState([]);x.useState(!1);const[_,S]=x.useState(!1),[k,j]=x.useState(null),[N,C]=x.useState({}),[T,D]=x.useState({}),[A,H]=x.useState([]),[X,L]=x.useState(!1),[I,W]=x.useState(null),[F,M]=x.useState(null),[G,Q]=x.useState(null),[E,B]=x.useState("list"),[U,q]=x.useState("list"),[ee,oe]=x.useState(1),[ge,se]=x.useState(1),[Z,he]=x.useState(10),[P,De]=x.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});x.useEffect(()=>{oe(1),se(1)},[h]);const[Re,Me]=x.useState([]);x.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});const[Be,Oe]=x.useState({}),[ht,it]=x.useState(!1),[ce,me]=x.useState(!1),[z,fe]=x.useState(new Set);x.useState(!1),x.useEffect(()=>{_e()},[]),x.useEffect(()=>{oe(1)},[h,E]);const _e=async()=>{try{f(!0);const[O,J,le]=await Promise.all([kh.getAll().catch(Ce=>(console.error("[Surveys] Error fetching surveys:",Ce),[])),eo.getAll().catch(Ce=>(console.error("[Surveys] Error fetching templates:",Ce),[])),jn.getAll().catch(Ce=>(console.error("[Surveys] Error fetching users:",Ce),[]))]),re=J.map(Ce=>eo.getFields(Ce.template_id).catch(Pe=>(console.error(`[Surveys] Error fetching fields for template ${Ce.template_id}:`,Pe),[]))),de=await Promise.all(re),ye={};J.forEach((Ce,Pe)=>{ye[Ce.template_id]=de[Pe]||[]}),u(ye),console.log(`[Surveys] Loaded template fields for ${Object.keys(ye).length} templates`);const Fe=O.map(Ce=>{try{let Pe=Ce.survey_responses;return typeof Ce.survey_responses=="string"&&(Pe=JSON.parse(Ce.survey_responses)),{...Ce,survey_responses:Pe}}catch(Pe){return console.error(`[Surveys] Error parsing survey_responses for survey ${Ce.survey_id}:`,Pe),Ce}});s(Fe),l(J),H(le),u(ye)}catch(O){console.error("Failed to load surveys data:",O)}finally{f(!1)}},be=a.filter(O=>h?O.client_name&&O.client_name.toLowerCase().includes(h.toLowerCase())||O.client_company&&O.client_company.toLowerCase().includes(h.toLowerCase())||O.survey_name&&O.survey_name.toLowerCase().includes(h.toLowerCase()):!0),Le=Math.ceil(be.length/Z),Se=(ee-1)*Z,je=Se+Z,pe=be.slice(Se,je),ke=i.filter(O=>{if(!h)return!0;const J=Ee(O,"template_name");return J&&J.toLowerCase().includes(h.toLowerCase())||O.category&&O.category.toLowerCase().includes(h.toLowerCase())}),Ne=Math.ceil(ke.length/Z),Xe=(ge-1)*Z,He=Xe+Z,at=ke.slice(Xe,He),Dt=O=>{if(!O)return e("surveys.unknownCreator");const J=A.find(le=>{var re,de;return((re=le.userid)==null?void 0:re.toString())===O||((de=le.user_id)==null?void 0:de.toString())===O});return J?Ee(J,"user_name"):e("surveys.unknownCreator")},qt=O=>{switch(O.toLowerCase()){case"completed":return o.jsxs(ct,{variant:"default",className:"bg-green-500",children:[o.jsx(ic,{className:"h-3 w-3 me-1"}),e("surveys.completed")]});case"in_progress":return o.jsxs(ct,{variant:"secondary",children:[o.jsx(Md,{className:"h-3 w-3 me-1"}),e("surveys.inProgress")]});case"pending":return o.jsxs(ct,{variant:"outline",children:[o.jsx(Md,{className:"h-3 w-3 me-1"}),e("surveys.pending")]});default:return o.jsx(ct,{variant:"outline",children:O})}},yr=O=>{const J=O.filter(le=>le.survey_id);J.length!==O.length&&console.warn("[Surveys] Some imported surveys are missing IDs and will be skipped"),s([...J,...a])},Un=async O=>{y(O);const J=c[O.template_id]||[];w(J)},dn=()=>{const O={field_type:"text",field_label:"",is_required:!1,field_options:null,validation_rules:null,conditional_logic:null};Me(J=>[...J,O])},xi=O=>{Me(J=>J.filter((le,re)=>re!==O))},Nn=(O,J)=>{Me(le=>le.map((re,de)=>de===O?{...re,...J}:re))},zn=(O,J)=>{Me(le=>{const re=[...le],[de]=re.splice(O,1);return re.splice(J,0,de),re})},Cn=()=>{De({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),Me([]),W(null)},Xi=async O=>{De({template_name:O.template_name||"",template_name_ar:O.template_name_ar||"",template_description:O.template_description||"",template_description_ar:O.template_description_ar||"",category:O.category||"",is_active:O.is_active,is_default:O.is_default||!1});const le=(c[O.template_id]||[]).map(re=>({field_type:re.field_type,field_label:re.field_label||"",field_label_ar:re.field_label_ar||"",help_text:re.help_text||"",help_text_ar:re.help_text_ar||"",is_required:re.is_required||!1,field_options:re.field_options,validation_rules:re.validation_rules,default_value:re.default_value,conditional_logic:re.conditional_logic,image_path:re.image_path}));Me(le),W(O.template_id),L(!0)},qs=()=>{const O={};return P.template_name.trim()||(O.template_name=e("surveys.templateNameRequired")),Re.length===0?O.fields=e("surveys.atLeastOneFieldRequired"):Re.forEach((J,le)=>{J.field_label.trim()||(O[`field_${le}`]=e("surveys.fieldLabelRequired",{number:le+1}))}),Oe(O),Object.keys(O).length===0},yi=async()=>{if(!qs()){n({title:e("common.error"),description:e("surveys.templateValidationFailed"),variant:"destructive"});return}it(!0);try{if(I){await eo.update(I,P);const O=c[I]||[];for(const J of O)J.field_id&&await eo.deleteField(J.field_id);for(let J=0;J<Re.length;J++){const le=Re[J];await eo.createField({template_id:I,field_order:J+1,field_type:le.field_type,field_label:le.field_label,field_label_ar:le.field_label_ar||"",help_text:le.help_text||null,help_text_ar:le.help_text_ar||null,is_required:le.is_required,field_options:le.field_options,validation_rules:le.validation_rules,default_value:le.default_value||null,conditional_logic:le.conditional_logic,image_path:le.image_path||null})}n({title:e("common.success"),description:e("surveys.templateUpdated")})}else{const O={...P,created_by:t==null?void 0:t.id},J=await eo.create(O);for(let le=0;le<Re.length;le++){const re=Re[le];await eo.createField({template_id:J.template_id,field_order:le+1,field_type:re.field_type,field_label:re.field_label,field_label_ar:re.field_label_ar||"",help_text:re.help_text||null,help_text_ar:re.help_text_ar||null,is_required:re.is_required,field_options:re.field_options,validation_rules:re.validation_rules,default_value:re.default_value||null,conditional_logic:re.conditional_logic,image_path:re.image_path||null})}n({title:e("common.success"),description:e("surveys.templateCreated")})}Cn(),L(!1),_e()}catch(O){console.error("Failed to save template:",O),n({title:e("common.error"),description:e("surveys.templateSaveError",{action:e(I?"surveys.updateTemplate":"surveys.createTemplate")}),variant:"destructive"})}finally{it(!1)}},Jn=async O=>{j(O);const J=c[O.template_id]||[],le={};J.forEach(re=>{re.default_value!==null&&re.default_value!==void 0&&(le[re.field_id.toString()]=re.default_value)}),setFormData(le),setSelectedTemplateId(O.template_id)},bi=async O=>{try{await eo.delete(O),l(J=>J.filter(le=>le.template_id!==O)),M(null),u(J=>{const le={...J};return delete le[O],le})}catch(J){console.error("Failed to delete template:",J),alert("Failed to delete template. Please try again.")}},Fl=async O=>{try{await kh.delete(O),s(J=>J.filter(le=>le.survey_id!==O)),Q(null)}catch(J){console.error("Failed to delete survey:",J),alert("Failed to delete survey. Please try again.")}},Ll=async O=>{try{const J=i.filter(le=>le.is_default&&le.template_id!==O);for(const le of J)await eo.update(le.template_id,{is_default:!1});await eo.update(O,{is_default:!0}),l(le=>le.map(re=>({...re,is_default:re.template_id===O}))),n({title:e("common.success"),description:e("surveys.templateSetAsDefault")})}catch(J){console.error("Failed to set default template:",J),n({title:e("common.error"),description:e("surveys.templateSetDefaultError"),variant:"destructive"})}},eh=()=>new Promise((O,J)=>{if(!navigator.geolocation){J(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(le=>{O({latitude:le.coords.latitude,longitude:le.coords.longitude,accuracy:le.coords.accuracy})},le=>{J(le)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}),$l=async()=>{var O;if(!(!k||!t))try{let J={latitude:0,longitude:0,accuracy:0};try{J=await eh()}catch(Gr){console.warn("Could not get location:",Gr)}const le=c[k.template_id]||[],re=new Map(le.map(Gr=>[Gr.field_id.toString(),Gr.field_label])),de={};for(const[Gr,Qn]of Object.entries(N)){const da=re.get(Gr)||Gr;de[da]=Qn}const ye=de["Customer Name"]||de["Client Name"]||de.client_name||de.customer_name||"Anonymous",Fe=de["Customer Company"]||de["Client Company"]||de.Company||de.company||de.client_company||null,Ce=de["Contact Number"]||de["Contact Email"]||de.Contact||de.contact||de.phone||null,Pe=de["Contact Email"]||de.Email||de.email||de.client_email||null,$e=de.Address||de.address||de.client_address||null,Ye=de["Additional Notes"]||de.Notes||de.notes||null,pt={},tr=Object.keys(T);for(const[Gr,Qn]of Object.entries(N))tr.includes(Gr)||(pt[Gr]=Array.isArray(Qn)?Qn.join(", "):Qn);const cr={template_id:k.template_id,survey_name:`${Ee(k,"template_name")} - ${new Date().toLocaleDateString()}`,survey_description:Ee(k,"template_description")||null,client_name:ye,client_name_ar:null,client_contact:Ce,client_email:Pe,client_address:$e,client_company:Fe,client_company_ar:null,survey_responses:pt,location_latitude:J.latitude,location_longitude:J.longitude,location_accuracy:J.accuracy,location_address:$e,status:"collected",created_by:t.id,lead_id:null,converted_to_lead_at:null,device_info:navigator.userAgent,completion_time_seconds:null,notes:Ye,notes_ar:null,updated_by:null,reviewed_by:null,reviewed_at:null},Ir=await kh.create(cr);if(Object.keys(T).length>0){const Gr={...pt};for(const[da,Ua]of Object.entries(T)){const wi=(O=Ua.name.split(".").pop())==null?void 0:O.toLowerCase(),vs=`${da.replace(/[^a-zA-Z0-9]/g,"_")}_${Date.now()}.${wi}`,th=`surveys/survey_${Ir.survey_id}/${vs}`,{data:p0,error:g0}=await Vr.storage.from("survey-uploads").upload(th,Ua);if(g0)throw g0;const{data:{publicUrl:hy}}=Vr.storage.from("survey-uploads").getPublicUrl(th);Gr[da]={bucket:"survey-uploads",path:th,url:hy}}const Qn=Object.entries(Gr).reduce((da,[Ua,wi])=>(da[Ua]=Array.isArray(wi)?wi.join(", "):wi,da),{});await kh.update(Ir.survey_id,{survey_responses:Qn}),Ir.survey_responses=Qn}s([Ir,...a]),j(null),C({}),D({}),S(!1)}catch(J){console.error("[Survey] Failed to create survey:",J),alert(`Failed to create survey: ${J.message}`)}},er=O=>O.is_required===1||O.is_required===!0,ud=O=>{const J=O.field_id.toString(),le=N[J]||"";switch(O.field_type.toLowerCase()){case"text":return o.jsx(Ue,{id:J,value:le,onChange:Ce=>C(Pe=>({...Pe,[J]:Ce.target.value})),placeholder:Ee(O,"help_text")||O.field_label,required:O.is_required});case"textarea":return o.jsx(ia,{id:J,value:le,onChange:Ce=>C(Pe=>({...Pe,[J]:Ce.target.value})),placeholder:Ee(O,"help_text")||O.field_label,required:O.is_required,rows:3});case"number":return o.jsx(Ue,{id:J,type:"number",value:le,onChange:Ce=>C(Pe=>({...Pe,[J]:Ce.target.value})),placeholder:Ee(O,"help_text")||O.field_label,required:O.is_required});case"email":return o.jsx(Ue,{id:J,type:"email",value:le,onChange:Ce=>C(Pe=>({...Pe,[J]:Ce.target.value})),placeholder:Ee(O,"help_text")||O.field_label,required:O.is_required});case"date":return o.jsx(Ue,{id:J,type:"date",value:le,onChange:Ce=>C(Pe=>({...Pe,[J]:Ce.target.value})),required:O.is_required});case"select":let re=O.field_options;if(typeof re=="string")try{re=JSON.parse(re)}catch(Ce){console.error("Failed to parse field_options:",Ce),re=null}if(re&&typeof re=="object"&&!Array.isArray(re)&&"options"in re&&Array.isArray(re.options)){const Ce=re.options.filter(Pe=>typeof Pe=="string");return o.jsxs(xt,{value:le,onValueChange:Pe=>C($e=>({...$e,[J]:Pe})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:Ee(O,"help_text")||`${e("common.select")} ${Ee(O,"field_label")}`})}),o.jsx(vt,{children:Ce.map((Pe,$e)=>o.jsx(Ae,{value:Pe,children:Pe},$e))})]})}return o.jsx(Ue,{id:J,value:le,onChange:Ce=>C(Pe=>({...Pe,[J]:Ce.target.value})),placeholder:Ee(O,"help_text")||O.field_label,required:O.is_required});case"radio":let de=O.field_options;if(typeof de=="string")try{de=JSON.parse(de)}catch(Ce){console.error("Failed to parse field_options:",Ce),de=null}if(de&&typeof de=="object"&&!Array.isArray(de)&&"options"in de&&Array.isArray(de.options)){const Ce=de.options.filter(Pe=>typeof Pe=="string");return o.jsx("div",{className:"space-y-2",children:Ce.map((Pe,$e)=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:J,value:Pe,checked:le===Pe,onChange:Ye=>C(pt=>({...pt,[J]:Ye.target.value}))}),o.jsx("span",{className:"text-sm",children:Pe})]},$e))})}return o.jsx(Ue,{id:J,value:le,onChange:Ce=>C(Pe=>({...Pe,[J]:Ce.target.value})),placeholder:Ee(O,"help_text")||O.field_label,required:O.is_required});case"multiselect":case"checkbox":let ye=O.field_options;if(typeof ye=="string")try{ye=JSON.parse(ye)}catch(Ce){console.error("Failed to parse field_options:",Ce),ye=null}if(ye&&typeof ye=="object"&&!Array.isArray(ye)&&"options"in ye&&Array.isArray(ye.options)){const Ce=ye.options.filter(Pe=>typeof Pe=="string");return o.jsx("div",{className:"space-y-2",children:Ce.map((Pe,$e)=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:Array.isArray(le)?le.includes(Pe):!1,onChange:Ye=>{const pt=Array.isArray(le)?le:[];Ye.target.checked?C(tr=>({...tr,[J]:[...pt,Pe]})):C(tr=>({...tr,[J]:pt.filter(cr=>cr!==Pe)}))}}),o.jsx("span",{className:"text-sm",children:Pe})]},$e))})}return o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:!!le,onChange:Ce=>C(Pe=>({...Pe,[J]:Ce.target.checked}))}),o.jsx("span",{className:"text-sm",children:Ee(O,"field_label")})]});case"image":const Fe=N[J];return o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{id:J,type:"file",accept:"image/*",onChange:Ce=>{var $e;const Pe=($e=Ce.target.files)==null?void 0:$e[0];Pe&&(D(Ye=>({...Ye,[J]:Pe})),C(Ye=>({...Ye,[J]:{preview:URL.createObjectURL(Pe),filename:Pe.name}})))},required:O.is_required}),(Fe==null?void 0:Fe.preview)&&o.jsxs("div",{className:"relative w-full",children:[o.jsx("img",{src:Fe.preview,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border"}),o.jsx(ue,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 inset-inline-end-2",onClick:()=>{D(Ce=>{const Pe={...Ce};return delete Pe[J],Pe}),C(Ce=>{const Pe={...Ce};return delete Pe[J],Pe})},children:o.jsx(or,{className:"h-4 w-4"})})]})]});default:return o.jsx(Ue,{id:J,value:le,onChange:Ce=>C(Pe=>({...Pe,[J]:Ce.target.value})),placeholder:Ee(O,"help_text")||O.field_label,required:O.is_required})}},dd=()=>{const O=[{key:"survey",header:e("surveys.surveyName"),render:re=>o.jsx(kc,{title:re.survey_name||`${e("surveys.survey")} #${re.survey_id||"Unknown"}`,subtitle:Ee(re,"client_name")})},{key:"creator",header:e("surveys.createdBy"),render:re=>o.jsx(bp,{name:re.created_by_name||Dt(re.created_by),fallback:e("surveys.unknownCreator")})}],J=[{label:e("common.view"),icon:o.jsx(oi,{className:"h-4 w-4"}),onClick:re=>g(re)},{label:e("buttons.delete"),icon:o.jsx(or,{className:"h-4 w-4"}),onClick:re=>Q(re.survey_id),variant:"destructive"}],le=[{label:e("buttons.delete"),icon:o.jsx(or,{className:"h-4 w-4"}),onClick:async re=>{if(re.length===0)return;if(window.confirm(e("surveys.confirmBulkDeleteDesc",{count:re.length})))try{const ye=re.map(Fe=>kh.delete(Fe.survey_id));await Promise.all(ye),s(Fe=>Fe.filter(Ce=>!re.find(Pe=>Pe.survey_id===Ce.survey_id))),fe(new Set),n({title:e("common.success"),description:e("surveys.bulkDeleteSuccess",{count:re.length})})}catch(ye){console.error("Failed to bulk delete surveys:",ye),n({title:e("common.error"),description:e("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}];return o.jsx(jc,{data:pe,columns:O,actions:J,bulkActions:le,keyExtractor:re=>{var de;return((de=re.survey_id)==null?void 0:de.toString())||`survey-${Math.random()}`},onRowClick:re=>g(re),enableBulkSelect:!0,rowHeight:"h-26",rtl:r,emptyState:o.jsx(vl,{icon:o.jsx(Qs,{className:"h-12 w-12 text-muted-foreground/50"}),title:e("surveys.noSurveysFound"),description:e(h?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})})},K=()=>{const O=[{key:"template",header:e("surveys.templateName"),render:re=>o.jsx(kc,{title:Ee(re,"template_name"),subtitle:Ee(re,"template_description")})},{key:"category",header:e("surveys.category"),render:re=>re.category||e("surveys.noCategory")},{key:"status",header:e("surveys.status"),render:re=>o.jsxs("div",{className:"flex items-center gap-2",children:[re.is_active?o.jsx(ct,{variant:"default",className:"bg-green-500",children:e("surveys.active")}):o.jsx(ct,{variant:"secondary",children:e("surveys.inactive")}),re.is_default&&o.jsx(ct,{variant:"default",children:e("surveys.default")})]})},{key:"created",header:e("surveys.createdDate"),hideOnMobile:!0,render:re=>o.jsx(Kf,{date:re.created_at,fallback:e("leads.notSet")})}],J=[{label:e("common.view"),icon:o.jsx(oi,{className:"h-4 w-4"}),onClick:re=>Un(re)},{label:e("surveys.setAsDefault"),icon:o.jsx(ic,{className:"h-4 w-4"}),onClick:re=>Ll(re.template_id),show:re=>!re.is_default},{label:e("buttons.edit"),icon:o.jsx(X2,{className:"h-4 w-4"}),onClick:re=>Xi(re)},{label:e("buttons.delete"),icon:o.jsx(or,{className:"h-4 w-4"}),onClick:re=>M(re.template_id),variant:"destructive"}],le=[{label:e("buttons.delete"),icon:o.jsx(or,{className:"h-4 w-4"}),onClick:async re=>{if(window.confirm(e("surveys.bulkDeleteConfirm",{count:re.length})))try{await Promise.all(re.map(de=>eo.delete(de.template_id))),await _e(),n({title:e("common.success"),description:e("surveys.bulkDeleteSuccess",{count:re.length})})}catch(de){console.error("Failed to bulk delete templates:",de),n({title:e("common.error"),description:e("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}];return o.jsx(jc,{data:at,columns:O,actions:J,bulkActions:le,keyExtractor:re=>{var de;return((de=re.template_id)==null?void 0:de.toString())||`template-${Math.random()}`},onRowClick:re=>Un(re),enableBulkSelect:!0,rtl:r,emptyState:o.jsx(vl,{icon:o.jsx(Qs,{className:"h-12 w-12 text-muted-foreground/50"}),title:e("surveys.noTemplatesFound"),description:e(h?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})})};return d?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx(ua,{message:e("common.loading"),size:"2xl"})}):o.jsxs("div",{className:"h-full flex flex-col overflow-hidden pb-4",dir:r?"rtl":"ltr",children:[o.jsx("div",{className:"w-full flex-1 flex flex-col min-h-0 px-6",dir:r?"rtl":"ltr",children:o.jsxs(Nl,{defaultValue:"surveys",className:"w-full flex-1 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[o.jsxs(Bo,{className:"grid w-full grid-cols-2",children:[o.jsxs(Hr,{value:"surveys",children:[e("surveys.surveys")," (",be.length,")"]}),o.jsxs(Hr,{value:"templates",children:[e("surveys.templates")," (",ke.length,")"]})]}),o.jsxs(_n,{value:"surveys",className:"space-y-3 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Vs,{className:"absolute inset-inline-start-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Ue,{placeholder:e("surveys.searchPlaceholder"),value:h,onChange:O=>m(O.target.value),className:"ps-10 pe-3"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(ue,{variant:E==="list"?"default":"ghost",size:"sm",onClick:()=>B("list"),className:"h-8 w-8 p-0",children:o.jsx(Bm,{className:"h-4 w-4"})}),o.jsx(ue,{variant:E==="card"?"default":"ghost",size:"sm",onClick:()=>B("card"),className:"h-8 w-8 p-0",children:o.jsx(Qs,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex flex-row items-center gap-2 overflow-x-auto pb-1 scrollbar-hide min-w-0 flex-1 justify-end",dir:r?"rtl":"ltr",children:[o.jsxs(wn,{open:_,onOpenChange:S,children:[o.jsx(B1,{asChild:!0,children:o.jsxs(ue,{size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[o.jsx(Gt,{className:"h-4 w-4 me-2"}),e("surveys.newSurvey")]})}),o.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsx(sn,{children:o.jsx(on,{children:e("surveys.createNewSurvey")})}),o.jsx("div",{className:"space-y-6 py-4",children:k?o.jsxs("div",{className:"space-y-6",dir:r?"rtl":"ltr",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium",children:Ee(k,"template_name")}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e("surveys.fillSurveyDetails")})]}),o.jsx(ue,{variant:"outline",size:"sm",onClick:()=>{j(null),C({})},children:e("surveys.changeTemplate")})]}),o.jsx("div",{className:"space-y-4",dir:r?"rtl":"ltr",children:(ae=c[k.template_id])==null?void 0:ae.map(O=>o.jsxs("div",{className:"space-y-2",dir:r?"rtl":"ltr",children:[o.jsxs(We,{className:"text-sm font-medium mb-1.5 block",children:[Ee(O,"field_label"),er(O)&&o.jsx("span",{className:"text-red-500 ms-1",children:"*"})]}),ud(O),Ee(O,"help_text")&&o.jsx("p",{className:"text-xs text-muted-foreground",children:Ee(O,"help_text")})]},O.field_id))}),o.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",dir:r?"rtl":"ltr",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",dir:r?"rtl":"ltr",children:[o.jsx(Um,{className:"h-4 w-4"}),o.jsx("span",{children:e("surveys.locationWillBeCaptured")})]})})]}):o.jsxs("div",{children:[o.jsx(We,{className:"text-base font-medium mb-4 block",children:e("surveys.selectTemplate")}),o.jsx("div",{className:"w-full max-w-full grid gap-4 grid-cols-1 md:grid-cols-2",children:i.filter(O=>O.is_active).map(O=>o.jsx(et,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(k==null?void 0:k.template_id)===O.template_id?"ring-2 ring-primary":""}`,onClick:()=>Jn(O),children:o.jsx(ot,{className:"p-4",dir:r?"rtl":"ltr",children:o.jsx("div",{className:"flex items-start gap-3",dir:r?"rtl":"ltr",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-medium text-sm truncate",children:Ee(O,"template_name")}),O.category&&o.jsx(ct,{variant:"outline",className:"mt-1 text-xs",children:O.category}),Ee(O,"template_description")&&o.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:Ee(O,"template_description")})]})})})},O.template_id||`template-${Math.random()}`))})]})}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2",dir:r?"rtl":"ltr",children:[o.jsx(ue,{variant:"outline",onClick:()=>{S(!1),j(null),C({})},className:"w-full sm:w-auto",children:e("buttons.cancel")}),k&&o.jsx(ue,{onClick:$l,disabled:!k,className:"w-full sm:w-auto",children:e("surveys.submitSurvey")})]})]})]}),o.jsxs(wn,{open:ce,onOpenChange:me,children:[o.jsx(B1,{asChild:!0,children:o.jsxs(ue,{variant:"outline",size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all border-primary/20 hover:bg-primary/5 px-4 h-9",children:[o.jsx(dv,{className:"h-4 w-4 me-2 text-primary"}),e("surveys.bulkImport")]})}),o.jsx(an,{className:"w-[95vw] sm:w-full sm:max-w-4xl max-h-[85vh] overflow-y-auto",children:o.jsx(pGe,{templates:i,templateFields:c,onImportComplete:yr,onClose:()=>me(!1)})})]})]})]}),o.jsx("div",{className:"flex-1 min-h-0 overflow-auto",dir:r?"rtl":"ltr",children:pe.length===0?o.jsx(et,{children:o.jsxs(ot,{className:"text-center py-12",children:[o.jsx(Qs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("surveys.noSurveysFound")}),o.jsx("p",{className:"text-muted-foreground",children:e(h?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})]})}):E==="card"?o.jsx("div",{className:"w-full max-w-full grid gap-4 md:grid-cols-2 lg:grid-cols-3 overflow-y-auto",children:pe.map(O=>o.jsxs(et,{className:"w-full overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer",children:[o.jsx(Bt,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base truncate",children:O.survey_name||`${e("surveys.survey")} #${O.survey_id||"Unknown"}`}),o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:Ee(O,"client_name")})]}),qt(O.status)]})}),o.jsxs(ot,{className:"pt-0 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(yn,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:O.client_company||e("surveys.noCompany")})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Um,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:O.location_address||(O.location_latitude&&O.location_longitude?`${O.location_latitude.toFixed(4)}, ${O.location_longitude.toFixed(4)}`:e("surveys.noLocation"))})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Rn,{className:"h-4 w-4"}),o.jsxs("span",{children:[e("surveys.createdBy"),": ",Dt(O.created_by)]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(Md,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:new Date(O.created_at).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ue,{size:"sm",variant:"outline",className:"h-8 px-2 flex items-center gap-1 hover:bg-primary hover:text-primary-foreground border-primary/20",onClick:()=>g(O),children:[o.jsx(oi,{className:"h-4 w-4 me-1"}),o.jsx("span",{className:"text-xs",children:e("common.view")})]}),o.jsx(ue,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:J=>{J.stopPropagation(),Q(O.survey_id)},children:o.jsx(or,{className:"h-4 w-4"})})]})]})]})]})]},O.survey_id||`survey-${Math.random()}`))}):o.jsx("div",{className:"w-full overflow-hidden",dir:r?"rtl":"ltr",children:dd()})}),o.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",dir:r?"rtl":"ltr",children:Le>0&&o.jsx("div",{className:"flex justify-center",children:o.jsx(Sp,{children:o.jsxs(jp,{className:r?"flex-row-reverse":"",children:[o.jsx(Ta,{children:r?o.jsx(yu,{onClick:()=>oe(Math.min(Le,ee+1)),className:ee===Le?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")}):o.jsx(xu,{onClick:()=>oe(Math.max(1,ee-1)),className:ee===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),o.jsx(Ta,{children:o.jsxs("span",{className:"px-3 py-2 text-sm text-muted-foreground font-medium",children:[e("common.page")," ",ee," ",e("common.of")," ",Le]})}),o.jsx(Ta,{children:r?o.jsx(xu,{onClick:()=>oe(Math.max(1,ee-1)),className:ee===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")}):o.jsx(yu,{onClick:()=>oe(Math.min(Le,ee+1)),className:ee===Le?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})})]}),o.jsxs(_n,{value:"templates",className:"space-y-3 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(ue,{variant:U==="list"?"default":"ghost",size:"sm",onClick:()=>q("list"),className:"h-8 w-8 p-0",children:o.jsx(Bm,{className:"h-4 w-4"})}),o.jsx(ue,{variant:U==="card"?"default":"ghost",size:"sm",onClick:()=>q("card"),className:"h-8 w-8 p-0",children:o.jsx(Qs,{className:"h-4 w-4"})})]}),o.jsxs(ue,{onClick:()=>{Cn(),L(!0)},size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[o.jsx(Gt,{className:"h-4 w-4 me-2"}),e("surveys.createTemplate")]})]}),o.jsx("div",{className:"flex-1 min-h-0 overflow-auto",dir:r?"rtl":"ltr",children:ke.length===0?o.jsx(et,{className:"border-dashed",children:o.jsxs(ot,{className:"text-center py-16",children:[o.jsx("div",{className:"bg-muted/50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Qs,{className:"h-8 w-8 text-muted-foreground"})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("surveys.noTemplatesFound")}),o.jsx("p",{className:"text-muted-foreground max-w-sm mx-auto",children:e(h?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})]})}):U==="card"?o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 pb-4",dir:r?"rtl":"ltr",children:at.map(O=>o.jsxs(et,{className:"group relative overflow-hidden transition-all duration-300 hover:shadow-xl border-primary/5 hover:border-primary/20",children:[o.jsx("div",{className:"absolute top-0 inset-inline-start-0 w-1 h-full bg-primary/10 group-hover:bg-primary transition-colors"}),o.jsx(Bt,{className:"pb-3",children:o.jsx("div",{className:"flex items-start justify-between gap-2",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:Ee(O,"template_name")}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[O.category&&o.jsx(ct,{variant:"secondary",className:"text-[10px] uppercase tracking-wider font-bold bg-muted/50",children:O.category}),O.is_default&&o.jsx(ct,{variant:"default",className:"text-[10px] uppercase tracking-wider font-bold bg-green-500 hover:bg-green-600",children:e("surveys.default")}),o.jsx(ct,{variant:O.is_active?"outline":"secondary",className:"text-[10px] uppercase tracking-wider font-bold",children:O.is_active?e("surveys.active"):e("surveys.inactive")})]})]})})}),o.jsxs(ot,{className:"space-y-4",children:[Ee(O,"template_description")&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 min-h-[40px]",children:Ee(O,"template_description")}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-primary/5",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[o.jsx(Md,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:new Date(O.created_at).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-1 opacity-80 group-hover:opacity-100 transition-opacity",children:[o.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hover:bg-primary/5",onClick:()=>Un(O),title:e("common.view"),children:o.jsx(oi,{className:"h-4 w-4"})}),!O.is_default&&o.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-green-500 hover:bg-green-50",onClick:J=>{J.stopPropagation(),Ll(O.template_id)},title:e("surveys.setAsDefault"),children:o.jsx(ic,{className:"h-4 w-4"})}),o.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-500 hover:bg-blue-50",onClick:J=>{J.stopPropagation(),Xi(O)},title:e("buttons.edit"),children:o.jsx(X2,{className:"h-4 w-4"})}),o.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:bg-red-50",onClick:J=>{J.stopPropagation(),M(O.template_id)},title:e("buttons.delete"),children:o.jsx(or,{className:"h-4 w-4"})})]})]})]})]},O.template_id||`template-${Math.random()}`))}):o.jsx("div",{className:"w-full overflow-hidden",dir:r?"rtl":"ltr",children:K()})}),o.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",dir:r?"rtl":"ltr",children:Ne>0&&o.jsx("div",{className:"flex justify-center",children:o.jsx(Sp,{children:o.jsxs(jp,{className:r?"flex-row-reverse":"",children:[o.jsx(Ta,{children:r?o.jsx(yu,{onClick:()=>se(Math.min(Ne,ge+1)),className:ge===Ne?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")}):o.jsx(xu,{onClick:()=>se(Math.max(1,ge-1)),className:ge===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),o.jsx(Ta,{children:o.jsxs("span",{className:"px-3 py-2 text-sm text-muted-foreground font-medium",children:[e("common.page")," ",ge," ",e("common.of")," ",Ne]})}),o.jsx(Ta,{children:r?o.jsx(xu,{onClick:()=>se(Math.max(1,ge-1)),className:ge===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")}):o.jsx(yu,{onClick:()=>se(Math.min(Ne,ge+1)),className:ge===Ne?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})})]})]})}),o.jsx(wn,{open:!!p,onOpenChange:O=>!O&&g(null),children:o.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsx(sn,{children:o.jsx(on,{children:(p==null?void 0:p.survey_name)||`${e("surveys.survey")} #${p==null?void 0:p.survey_id}`})}),p&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:e("surveys.clientName")}),o.jsx("p",{className:"text-sm",children:Ee(p,"client_name")})]}),o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:e("surveys.clientCompany")}),o.jsx("p",{className:"text-sm",children:p.client_company||e("surveys.noCompany")})]}),o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:e("surveys.contact")}),o.jsx("p",{className:"text-sm",children:p.client_contact||e("surveys.noContact")})]}),o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:e("surveys.email")}),o.jsx("p",{className:"text-sm",children:p.client_email||e("surveys.noEmail")})]})]}),o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:e("surveys.location")}),o.jsx("p",{className:"text-sm",children:o.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${p.location_latitude},${p.location_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:p.location_address||`${(te=p.location_latitude)==null?void 0:te.toFixed(6)}, ${(ne=p.location_longitude)==null?void 0:ne.toFixed(6)}`})})]}),o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:e("surveys.responses")}),o.jsx("div",{className:"mt-2 space-y-2",children:p.survey_responses&&Object.keys(p.survey_responses).length>0?(()=>{const O=c[p.template_id]||[],J=new Map(O.map(le=>[le.field_id.toString(),le.field_label]));return Object.entries(p.survey_responses).map(([le,re])=>{const de=J.get(le)||le,ye=typeof re=="object"&&re!==null&&"bucket"in re&&"path"in re&&"url"in re;return o.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-muted/30 rounded-lg",children:[o.jsxs("div",{className:"font-medium text-sm text-primary",children:[de,":"]}),ye?o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:re.url,alt:de,className:"w-full max-w-md h-auto rounded-lg border object-cover"})}):o.jsx("div",{className:"text-sm text-muted-foreground break-words",children:(()=>{if(re==null)return"N/A";if(Array.isArray(re))return re.join(", ");if(typeof re=="object"){if("bucket"in re&&"path"in re&&"url"in re)return"Image";try{const Fe=JSON.stringify(re,null,2);return o.jsx("pre",{className:"bg-slate-100 dark:bg-slate-800 p-2 rounded text-xs overflow-x-auto",children:Fe})}catch{return String(re)}}if(typeof re=="string"){if(re.trim().startsWith("{")||re.trim().startsWith("["))try{const Fe=JSON.parse(re),Ce=JSON.stringify(Fe,null,2);return o.jsx("pre",{className:"bg-slate-100 dark:bg-slate-800 p-2 rounded text-xs overflow-x-auto",children:Ce})}catch{return re}return re}return String(re)})()})]},le)})})():o.jsx("div",{className:"text-sm text-muted-foreground italic p-3 bg-muted/30 rounded-lg",children:e("surveys.noResponsesRecorded")})})]})]})]})}),o.jsx(hi,{open:!!G,onOpenChange:O=>!O&&Q(null),children:o.jsxs(Is,{children:[o.jsxs(Ms,{children:[o.jsx(Ls,{children:e("surveys.deleteSurvey")}),o.jsx($s,{children:e("surveys.deleteSurveyConfirmation",{name:((R=a.find(O=>O.survey_id===G))==null?void 0:R.survey_name)||`${e("surveys.survey")} #${G}`})})]}),o.jsxs(Fs,{children:[o.jsx(Us,{children:e("buttons.cancel")}),o.jsx(Bs,{onClick:()=>{G&&Fl(G)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})}),o.jsx(wn,{open:!!v,onOpenChange:O=>!O&&y(null),children:o.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsx(sn,{children:o.jsx(on,{children:Ee(v||{},"template_name")})}),v&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:e("surveys.category")}),o.jsx("p",{className:"text-sm",children:v.category||e("surveys.noCategory")})]}),o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:e("surveys.status")}),o.jsxs("div",{className:"flex items-center gap-2",children:[v.is_active?o.jsx(ct,{variant:"default",className:"bg-green-500",children:e("surveys.active")}):o.jsx(ct,{variant:"secondary",children:e("surveys.inactive")}),v.is_default&&o.jsx(ct,{variant:"default",children:e("surveys.default")})]})]})]}),o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:e("surveys.description")}),o.jsx("p",{className:"text-sm mt-1",children:Ee(v,"template_description")||e("surveys.noDescription")})]}),o.jsxs("div",{children:[o.jsxs(We,{className:"text-sm font-medium",children:[e("surveys.fields")," (",b.length,")"]}),o.jsx("div",{className:"mt-2 space-y-2",children:b.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:e("surveys.noFields")}):b.sort((O,J)=>O.field_order-J.field_order).map(O=>o.jsx("div",{className:"border rounded-lg p-3 bg-muted/30",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(ct,{variant:"outline",className:"text-xs",children:O.field_type}),o.jsx("span",{className:"text-sm font-medium",children:Ee(O,"field_label")}),er(O)&&o.jsx("span",{className:"text-red-500 text-sm",children:"*"})]}),Ee(O,"help_text")&&o.jsx("p",{className:"text-xs text-muted-foreground",children:Ee(O,"help_text")})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["#",O.field_order]})]})},O.field_id))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:e("surveys.created")}),o.jsx("p",{children:new Date(v.created_at).toLocaleString()})]}),o.jsxs("div",{children:[o.jsx(We,{className:"text-sm font-medium",children:e("surveys.updated")}),o.jsx("p",{children:new Date(v.updated_at).toLocaleString()})]})]})]})]})}),o.jsx(hi,{open:!!F,onOpenChange:O=>!O&&M(null),children:o.jsxs(Is,{children:[o.jsxs(Ms,{children:[o.jsx(Ls,{children:e("surveys.deleteTemplate")}),o.jsx($s,{children:e("surveys.deleteTemplateConfirmation",{name:i.find(O=>O.template_id===F)?Ee(i.find(O=>O.template_id===F),"template_name"):`${e("surveys.template")} #${F}`})})]}),o.jsxs(Fs,{children:[o.jsx(Us,{children:e("buttons.cancel")}),o.jsx(Bs,{onClick:()=>{F&&bi(F)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})}),o.jsx(wn,{open:X,onOpenChange:L,children:o.jsxs(an,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsxs(sn,{children:[o.jsx(on,{children:e(I?"surveys.editTemplateTitle":"surveys.createTemplateTitle")}),o.jsx(Ma,{children:e("surveys.createTemplateDesc")})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(We,{htmlFor:"template_name",children:[e("surveys.templateName")," *"]}),o.jsx(Ue,{id:"template_name",value:P.template_name,onChange:O=>De(J=>({...J,template_name:O.target.value})),placeholder:e("surveys.templateName"),className:Be.template_name?"border-red-500":""}),Be.template_name&&o.jsx("p",{className:"text-sm text-red-500",children:Be.template_name})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"category",children:e("surveys.category")}),o.jsxs(xt,{value:P.category,onValueChange:O=>De(J=>({...J,category:O})),children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:e("surveys.selectCategory")})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"customer_satisfaction",children:e("surveys.customerSatisfaction")}),o.jsx(Ae,{value:"product_feedback",children:e("surveys.productFeedback")}),o.jsx(Ae,{value:"service_quality",children:e("surveys.serviceQuality")}),o.jsx(Ae,{value:"general",children:e("surveys.general")})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"template_description",children:e("surveys.description")}),o.jsx(ia,{id:"template_description",value:P.template_description,onChange:O=>De(J=>({...J,template_description:O.target.value})),placeholder:e("surveys.description"),rows:3})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"is_active",checked:P.is_active,onChange:O=>De(J=>({...J,is_active:O.target.checked})),className:"rounded"}),o.jsx(We,{htmlFor:"is_active",children:e("surveys.isActive")})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h3",{className:"text-lg font-semibold",children:e("surveys.fields")})}),Be.fields&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-600",children:Be.fields})}),o.jsx("div",{className:"space-y-3",children:Re.map((O,J)=>{var le,re,de;return o.jsx(et,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[o.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>zn(J,Math.max(0,J-1)),disabled:J===0,children:o.jsx(uie,{className:"h-4 w-4"})}),o.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>zn(J,Math.min(Re.length-1,J+1)),disabled:J===Re.length-1,children:o.jsx(lie,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(We,{children:[e("surveys.fieldLabel")," *"]}),o.jsx(Ue,{value:O.field_label,onChange:ye=>Nn(J,{field_label:ye.target.value}),placeholder:e("surveys.fieldLabel"),className:Be[`field_${J}`]?"border-red-500":""}),Be[`field_${J}`]&&o.jsx("p",{className:"text-sm text-red-500",children:Be[`field_${J}`]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(We,{children:[e("surveys.fieldType")," *"]}),o.jsxs(xt,{value:O.field_type,onValueChange:ye=>Nn(J,{field_type:ye}),children:[o.jsx(gt,{children:o.jsx(yt,{})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"text",children:e("surveys.text")}),o.jsx(Ae,{value:"textarea",children:e("surveys.textarea")}),o.jsx(Ae,{value:"email",children:e("surveys.email")}),o.jsx(Ae,{value:"date",children:e("surveys.date")}),o.jsx(Ae,{value:"select",children:e("surveys.select")}),o.jsx(Ae,{value:"multiselect",children:e("surveys.multiselect")}),o.jsx(Ae,{value:"radio",children:e("surveys.radio")}),o.jsx(Ae,{value:"checkbox",children:e("surveys.checkbox")}),o.jsx(Ae,{value:"image",children:e("surveys.image")})]})]})]})]}),(O.field_type==="select"||O.field_type==="multiselect"||O.field_type==="radio")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{children:e("surveys.options")}),o.jsx(ia,{defaultValue:((re=(le=O.field_options)==null?void 0:le.options)==null?void 0:re.join(`
`))||"",onBlur:ye=>{const Fe=ye.target.value.split(/[\n\s]+/).filter(Ce=>Ce.trim()).map(Ce=>Ce.trim());Nn(J,{field_options:{options:Fe,allow_multiple:O.field_type==="multiselect"}})},placeholder:"Enter options separated by spaces or new lines (e.g., POS CRM ERP)",rows:3}),((de=O.field_options)==null?void 0:de.options)&&O.field_options.options.length>0&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[O.field_options.options.length," option(s): ",O.field_options.options.join(", ")]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:`required-${J}`,checked:O.is_required,onChange:ye=>Nn(J,{is_required:ye.target.checked}),className:"rounded"}),o.jsx(We,{htmlFor:`required-${J}`,children:e("surveys.isRequired")})]})]}),o.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>xi(J),className:"text-red-500 hover:text-red-700",children:o.jsx(or,{className:"h-4 w-4"})})]})},J)})}),o.jsx("div",{className:"flex justify-center pt-4",children:o.jsxs(ue,{onClick:dn,size:"sm",className:"bg-primary hover:bg-primary/90 text-white",children:[o.jsx(Gt,{className:"h-4 w-4 me-2"}),e("surveys.addField")]})})]})]}),o.jsxs(Ia,{children:[o.jsx(ue,{variant:"outline",onClick:()=>L(!1),disabled:ht,children:e("buttons.cancel")}),o.jsx(ue,{onClick:yi,disabled:!P.template_name.trim()||ht,children:e(ht?"buttons.saving":I?"surveys.updateTemplate":"surveys.createTemplate")})]})]})})]})}function vGe(){const{t:e}=$t();hr();const{isRTL:t}=La(),r=un(),[n,a]=x.useState([]),[s,i]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState(""),[f,h]=x.useState(null),[m,p]=x.useState(!1),[g,v]=x.useState("leads"),[y,b]=x.useState(""),[w,_]=x.useState("");x.useEffect(()=>{S()},[]);const S=async()=>{try{i(!0);const D=await os.getAll();a(D)}catch(D){console.error("Failed to load stages:",D)}finally{i(!1)}},k=D=>n.filter(A=>A.stage_type===D).sort((A,H)=>(A.stager_order_index??0)-(H.stager_order_index??0)),j=async()=>{if(y.trim())try{const D=k(g),A=D.length>0?Math.max(...D.map(X=>X.stager_order_index||0)):-1,H={stage_name:y.trim(),stage_name_ar:w.trim()||null,stage_type:g,stager_order_index:A+1,color:"border-l-4 border-gray-400",color_var:"--gray-400"};await os.create(H),await S(),b(""),_(""),p(!1)}catch(D){console.error("Failed to create stage:",D)}},N=async(D,A)=>{try{await os.update(D.stage_id,A),await S(),c(null),d("")}catch(H){console.error("Failed to update stage:",H)}},C=async D=>{try{await os.delete(D),await S(),h(null)}catch(A){console.error("Failed to delete stage:",A)}},T=D=>{const A=k(D);return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 rtl:flex-row-reverse",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:e(`settings.${D}`)}),o.jsxs(ue,{size:r?"default":"sm",onClick:()=>{v(D),p(!0)},className:"w-full sm:w-auto",children:[o.jsx(Gt,{className:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),e("settings.addStage")]})]}),A.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("settings.noStages")}):o.jsx("div",{className:"space-y-2",children:A.map((H,X)=>o.jsx(et,{className:"p-3 md:p-4",children:o.jsxs("div",{className:xe("flex gap-2 md:gap-3 rtl:flex-row-reverse",r?"flex-col":"items-center"),children:[!r&&o.jsx(Qo,{className:"h-5 w-5 text-muted-foreground cursor-move flex-shrink-0"}),(l==null?void 0:l.stage_id)===H.stage_id?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(Ue,{value:l.stage_name,onChange:L=>c({...l,stage_name:L.target.value}),placeholder:e("settings.englishName"),autoFocus:!0,className:"text-left rtl:text-right"}),o.jsx(Ue,{value:u,onChange:L=>d(L.target.value),placeholder:e("settings.arabicName"),dir:"rtl",className:"text-right"})]}),o.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[o.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>N(H,{stage_name:l.stage_name,stage_name_ar:u||null}),className:"flex-1 sm:flex-initial",children:o.jsx(Do,{className:"h-4 w-4"})}),o.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>{c(null),d("")},className:"flex-1 sm:flex-initial",children:o.jsx(Ro,{className:"h-4 w-4"})})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:Ee(H,"stage_name")}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("settings.order"),": ",H.stager_order_index]})]}),o.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[o.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>{c(H),d(H.stage_name_ar||"")},className:"flex-1 sm:flex-initial",children:o.jsx(zi,{className:"h-4 w-4"})}),o.jsx(ue,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive flex-1 sm:flex-initial",onClick:()=>h(H.stage_id),children:o.jsx(or,{className:"h-4 w-4"})})]})]})]})},H.stage_id))})]})};return s?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx(ua,{message:e("common.loading"),size:"2xl"})}):o.jsxs("div",{className:"space-y-4 md:space-y-6 bg-background p-4 rounded-md",dir:t?"rtl":"ltr",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:e("settings.title")}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:e("settings.description")})]}),o.jsxs(Nl,{defaultValue:"stages",className:"space-y-6",children:[o.jsx(Bo,{className:"bg-muted/50 p-1 w-full sm:w-auto overflow-x-auto overflow-y-hidden",dir:t?"rtl":"ltr",children:o.jsx(Hr,{value:"stages",className:"px-6",children:e("settings.stageManagement")})}),o.jsx(_n,{value:"stages",className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",dir:t?"rtl":"ltr",children:[o.jsxs(et,{className:"border-none shadow-soft overflow-hidden",children:[o.jsx(Bt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:o.jsxs(lr,{className:"text-lg flex items-center gap-2",children:[o.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.leads")]})}),o.jsx(ot,{className:"p-4 md:p-6",children:T("leads")})]}),o.jsxs(et,{className:"border-none shadow-soft overflow-hidden",children:[o.jsx(Bt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:o.jsxs(lr,{className:"text-lg flex items-center gap-2",children:[o.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.projects")]})}),o.jsx(ot,{className:"p-4 md:p-6",children:T("projects")})]}),o.jsxs(et,{className:"border-none shadow-soft overflow-hidden",children:[o.jsx(Bt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:o.jsxs(lr,{className:"text-lg flex items-center gap-2",children:[o.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tasks")]})}),o.jsx(ot,{className:"p-4 md:p-6",children:T("tasks")})]}),o.jsxs(et,{className:"border-none shadow-soft overflow-hidden",children:[o.jsx(Bt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:o.jsxs(lr,{className:"text-lg flex items-center gap-2",children:[o.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tickets")]})}),o.jsx(ot,{className:"p-4 md:p-6",children:T("tickets")})]}),o.jsxs(et,{className:"border-none shadow-soft overflow-hidden",children:[o.jsx(Bt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:o.jsxs(lr,{className:"text-lg flex items-center gap-2",children:[o.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mleads")]})}),o.jsx(ot,{className:"p-4 md:p-6",children:T("mleads")})]}),o.jsxs(et,{className:"border-none shadow-soft overflow-hidden",children:[o.jsx(Bt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:o.jsxs(lr,{className:"text-lg flex items-center gap-2",children:[o.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mprojects")]})}),o.jsx(ot,{className:"p-4 md:p-6",children:T("mprojects")})]})]})})]}),o.jsx(wn,{open:m,onOpenChange:p,children:o.jsxs(an,{className:"w-[95vw] sm:max-w-[425px]",children:[o.jsxs(sn,{children:[o.jsx(on,{children:e("settings.addStage")}),o.jsx(Ma,{children:e("settings.addStageDesc",{type:e(`settings.${g}`)})})]}),o.jsxs("div",{className:"space-y-4 py-4",dir:t?"rtl":"ltr",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"stage-name",className:"text-left rtl:text-right",children:e("settings.englishName")}),o.jsx(Ue,{id:"stage-name",value:y,onChange:D=>b(D.target.value),placeholder:e("settings.stageNamePlaceholder"),className:"text-left rtl:text-right"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"stage-name-ar",className:"text-left rtl:text-right",children:e("settings.arabicName")}),o.jsx(Ue,{id:"stage-name-ar",value:w,onChange:D=>_(D.target.value),placeholder:e("settings.stageNamePlaceholder"),dir:"rtl",className:"text-right"})]})]}),o.jsxs(Ia,{className:"flex-col sm:flex-row gap-2",dir:t?"rtl":"ltr",children:[o.jsx(ue,{variant:"outline",onClick:()=>p(!1),className:"w-full sm:w-auto",children:e("buttons.cancel")}),o.jsx(ue,{onClick:j,disabled:!y.trim(),className:"w-full sm:w-auto",children:e("buttons.create")})]})]})}),o.jsx(hi,{open:!!f,onOpenChange:D=>!D&&h(null),children:o.jsxs(Is,{children:[o.jsxs(Ms,{children:[o.jsx(Ls,{children:e("settings.deleteStage")}),o.jsx($s,{children:e("settings.deleteStageConfirmation")})]}),o.jsxs(Fs,{dir:t?"rtl":"ltr",children:[o.jsx(Us,{children:e("buttons.cancel")}),o.jsx(Bs,{onClick:()=>f&&C(f),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})})]})}var Z5=1,xGe=.9,yGe=.8,bGe=.17,TN=.1,AN=.999,wGe=.9999,_Ge=.99,SGe=/[\\\/_+.#"@\[\(\{&]/,jGe=/[\\\/_+.#"@\[\(\{&]/g,kGe=/[\s-]/,DJ=/[\s-]/g;function yT(e,t,r,n,a,s,i){if(s===t.length)return a===e.length?Z5:_Ge;var l=`${a},${s}`;if(i[l]!==void 0)return i[l];for(var c=n.charAt(s),u=r.indexOf(c,a),d=0,f,h,m,p;u>=0;)f=yT(e,t,r,n,u+1,s+1,i),f>d&&(u===a?f*=Z5:SGe.test(e.charAt(u-1))?(f*=yGe,m=e.slice(a,u-1).match(jGe),m&&a>0&&(f*=Math.pow(AN,m.length))):kGe.test(e.charAt(u-1))?(f*=xGe,p=e.slice(a,u-1).match(DJ),p&&a>0&&(f*=Math.pow(AN,p.length))):(f*=bGe,a>0&&(f*=Math.pow(AN,u-a))),e.charAt(u)!==t.charAt(s)&&(f*=wGe)),(f<TN&&r.charAt(u-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(u-1)!==n.charAt(s))&&(h=yT(e,t,r,n,u+1,s+2,i),h*TN>f&&(f=h*TN)),f>d&&(d=f),u=r.indexOf(c,u+1);return i[l]=d,d}function e8(e){return e.toLowerCase().replace(DJ," ")}function NGe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,yT(e,t,e8(e),e8(t),0,0,{})}var z0='[cmdk-group=""]',ON='[cmdk-group-items=""]',CGe='[cmdk-group-heading=""]',RJ='[cmdk-item=""]',t8=`${RJ}:not([aria-disabled="true"])`,bT="cmdk-item-select",Ch="data-value",EGe=(e,t,r)=>NGe(e,t,r),IJ=x.createContext(void 0),dy=()=>x.useContext(IJ),MJ=x.createContext(void 0),L4=()=>x.useContext(MJ),FJ=x.createContext(void 0),LJ=x.forwardRef((e,t)=>{let r=Eh(()=>{var E,B;return{search:"",value:(B=(E=e.value)!=null?E:e.defaultValue)!=null?B:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Eh(()=>new Set),a=Eh(()=>new Map),s=Eh(()=>new Map),i=Eh(()=>new Set),l=$J(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:p,disablePointerSelection:g=!1,vimBindings:v=!0,...y}=e,b=sa(),w=sa(),_=sa(),S=x.useRef(null),k=$Ge();If(()=>{if(d!==void 0){let E=d.trim();r.current.value=E,j.emit()}},[d]),If(()=>{k(6,H)},[]);let j=x.useMemo(()=>({subscribe:E=>(i.current.add(E),()=>i.current.delete(E)),snapshot:()=>r.current,setState:(E,B,U)=>{var q,ee,oe,ge;if(!Object.is(r.current[E],B)){if(r.current[E]=B,E==="search")A(),T(),k(1,D);else if(E==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let se=document.getElementById(_);se?se.focus():(q=document.getElementById(b))==null||q.focus()}if(k(7,()=>{var se;r.current.selectedItemId=(se=X())==null?void 0:se.id,j.emit()}),U||k(5,H),((ee=l.current)==null?void 0:ee.value)!==void 0){let se=B??"";(ge=(oe=l.current).onValueChange)==null||ge.call(oe,se);return}}j.emit()}},emit:()=>{i.current.forEach(E=>E())}}),[]),N=x.useMemo(()=>({value:(E,B,U)=>{var q;B!==((q=s.current.get(E))==null?void 0:q.value)&&(s.current.set(E,{value:B,keywords:U}),r.current.filtered.items.set(E,C(B,U)),k(2,()=>{T(),j.emit()}))},item:(E,B)=>(n.current.add(E),B&&(a.current.has(B)?a.current.get(B).add(E):a.current.set(B,new Set([E]))),k(3,()=>{A(),T(),r.current.value||D(),j.emit()}),()=>{s.current.delete(E),n.current.delete(E),r.current.filtered.items.delete(E);let U=X();k(4,()=>{A(),(U==null?void 0:U.getAttribute("id"))===E&&D(),j.emit()})}),group:E=>(a.current.has(E)||a.current.set(E,new Set),()=>{s.current.delete(E),a.current.delete(E)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:b,inputId:_,labelId:w,listInnerRef:S}),[]);function C(E,B){var U,q;let ee=(q=(U=l.current)==null?void 0:U.filter)!=null?q:EGe;return E?ee(E,r.current.search,B):0}function T(){if(!r.current.search||l.current.shouldFilter===!1)return;let E=r.current.filtered.items,B=[];r.current.filtered.groups.forEach(q=>{let ee=a.current.get(q),oe=0;ee.forEach(ge=>{let se=E.get(ge);oe=Math.max(se,oe)}),B.push([q,oe])});let U=S.current;L().sort((q,ee)=>{var oe,ge;let se=q.getAttribute("id"),Z=ee.getAttribute("id");return((oe=E.get(Z))!=null?oe:0)-((ge=E.get(se))!=null?ge:0)}).forEach(q=>{let ee=q.closest(ON);ee?ee.appendChild(q.parentElement===ee?q:q.closest(`${ON} > *`)):U.appendChild(q.parentElement===U?q:q.closest(`${ON} > *`))}),B.sort((q,ee)=>ee[1]-q[1]).forEach(q=>{var ee;let oe=(ee=S.current)==null?void 0:ee.querySelector(`${z0}[${Ch}="${encodeURIComponent(q[0])}"]`);oe==null||oe.parentElement.appendChild(oe)})}function D(){let E=L().find(U=>U.getAttribute("aria-disabled")!=="true"),B=E==null?void 0:E.getAttribute(Ch);j.setState("value",B||void 0)}function A(){var E,B,U,q;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ee=0;for(let oe of n.current){let ge=(B=(E=s.current.get(oe))==null?void 0:E.value)!=null?B:"",se=(q=(U=s.current.get(oe))==null?void 0:U.keywords)!=null?q:[],Z=C(ge,se);r.current.filtered.items.set(oe,Z),Z>0&&ee++}for(let[oe,ge]of a.current)for(let se of ge)if(r.current.filtered.items.get(se)>0){r.current.filtered.groups.add(oe);break}r.current.filtered.count=ee}function H(){var E,B,U;let q=X();q&&(((E=q.parentElement)==null?void 0:E.firstChild)===q&&((U=(B=q.closest(z0))==null?void 0:B.querySelector(CGe))==null||U.scrollIntoView({block:"nearest"})),q.scrollIntoView({block:"nearest"}))}function X(){var E;return(E=S.current)==null?void 0:E.querySelector(`${RJ}[aria-selected="true"]`)}function L(){var E;return Array.from(((E=S.current)==null?void 0:E.querySelectorAll(t8))||[])}function I(E){let B=L()[E];B&&j.setState("value",B.getAttribute(Ch))}function W(E){var B;let U=X(),q=L(),ee=q.findIndex(ge=>ge===U),oe=q[ee+E];(B=l.current)!=null&&B.loop&&(oe=ee+E<0?q[q.length-1]:ee+E===q.length?q[0]:q[ee+E]),oe&&j.setState("value",oe.getAttribute(Ch))}function F(E){let B=X(),U=B==null?void 0:B.closest(z0),q;for(;U&&!q;)U=E>0?FGe(U,z0):LGe(U,z0),q=U==null?void 0:U.querySelector(t8);q?j.setState("value",q.getAttribute(Ch)):W(E)}let M=()=>I(L().length-1),G=E=>{E.preventDefault(),E.metaKey?M():E.altKey?F(1):W(1)},Q=E=>{E.preventDefault(),E.metaKey?I(0):E.altKey?F(-1):W(-1)};return x.createElement(st.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:E=>{var B;(B=y.onKeyDown)==null||B.call(y,E);let U=E.nativeEvent.isComposing||E.keyCode===229;if(!(E.defaultPrevented||U))switch(E.key){case"n":case"j":{v&&E.ctrlKey&&G(E);break}case"ArrowDown":{G(E);break}case"p":case"k":{v&&E.ctrlKey&&Q(E);break}case"ArrowUp":{Q(E);break}case"Home":{E.preventDefault(),I(0);break}case"End":{E.preventDefault(),M();break}case"Enter":{E.preventDefault();let q=X();if(q){let ee=new Event(bT);q.dispatchEvent(ee)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:N.inputId,id:N.labelId,style:UGe},c),gj(e,E=>x.createElement(MJ.Provider,{value:j},x.createElement(IJ.Provider,{value:N},E))))}),TGe=x.forwardRef((e,t)=>{var r,n;let a=sa(),s=x.useRef(null),i=x.useContext(FJ),l=dy(),c=$J(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;If(()=>{if(!u)return l.item(a,i==null?void 0:i.id)},[u]);let d=BJ(a,s,[e.value,e.children,s],e.keywords),f=L4(),h=Hu(k=>k.value&&k.value===d.current),m=Hu(k=>u||l.filter()===!1?!0:k.search?k.filtered.items.get(a)>0:!0);x.useEffect(()=>{let k=s.current;if(!(!k||e.disabled))return k.addEventListener(bT,p),()=>k.removeEventListener(bT,p)},[m,e.onSelect,e.disabled]);function p(){var k,j;g(),(j=(k=c.current).onSelect)==null||j.call(k,d.current)}function g(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:v,value:y,onSelect:b,forceMount:w,keywords:_,...S}=e;return x.createElement(st.div,{ref:gc(s,t),...S,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!h,"data-disabled":!!v,"data-selected":!!h,onPointerMove:v||l.getDisablePointerSelection()?void 0:g,onClick:v?void 0:p},e.children)}),AGe=x.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...s}=e,i=sa(),l=x.useRef(null),c=x.useRef(null),u=sa(),d=dy(),f=Hu(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(i):!0);If(()=>d.group(i),[]),BJ(i,l,[e.value,e.heading,c]);let h=x.useMemo(()=>({id:i,forceMount:a}),[a]);return x.createElement(st.div,{ref:gc(l,t),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&x.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),gj(e,m=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},x.createElement(FJ.Provider,{value:h},m))))}),OGe=x.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=x.useRef(null),s=Hu(i=>!i.search);return!r&&!s?null:x.createElement(st.div,{ref:gc(a,t),...n,"cmdk-separator":"",role:"separator"})}),PGe=x.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,s=L4(),i=Hu(u=>u.search),l=Hu(u=>u.selectedItemId),c=dy();return x.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),x.createElement(st.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||s.setState("search",u.target.value),r==null||r(u.target.value)}})}),DGe=x.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,s=x.useRef(null),i=x.useRef(null),l=Hu(u=>u.selectedItemId),c=dy();return x.useEffect(()=>{if(i.current&&s.current){let u=i.current,d=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),x.createElement(st.div,{ref:gc(s,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},gj(e,u=>x.createElement("div",{ref:gc(i,c.listInnerRef),"cmdk-list-sizer":""},u)))}),RGe=x.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:s,container:i,...l}=e;return x.createElement(aS,{open:r,onOpenChange:n},x.createElement(sS,{container:i},x.createElement(Vp,{"cmdk-overlay":"",className:a}),x.createElement(Wp,{"aria-label":e.label,"cmdk-dialog":"",className:s},x.createElement(LJ,{ref:t,...l}))))}),IGe=x.forwardRef((e,t)=>Hu(r=>r.filtered.count===0)?x.createElement(st.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),MGe=x.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...s}=e;return x.createElement(st.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},gj(e,i=>x.createElement("div",{"aria-hidden":!0},i)))}),Hs=Object.assign(LJ,{List:DGe,Item:TGe,Input:PGe,Group:AGe,Separator:OGe,Dialog:RGe,Empty:IGe,Loading:MGe});function FGe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function LGe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function $J(e){let t=x.useRef(e);return If(()=>{t.current=e}),t}var If=typeof window>"u"?x.useEffect:x.useLayoutEffect;function Eh(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function Hu(e){let t=L4(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function BJ(e,t,r,n=[]){let a=x.useRef(),s=dy();return If(()=>{var i;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());s.value(e,l,c),(i=t.current)==null||i.setAttribute(Ch,l),a.current=l}),a}var $Ge=()=>{let[e,t]=x.useState(),r=Eh(()=>new Map);return If(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function BGe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function gj({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(BGe(t),{ref:t.ref},r(t.props.children)):r(t)}var UGe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ya=x.forwardRef(({className:e,...t},r)=>o.jsx(Hs,{ref:r,className:xe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));ya.displayName=Hs.displayName;const ba=x.forwardRef(({className:e,...t},r)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx(Vs,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(Hs.Input,{ref:r,className:xe("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));ba.displayName=Hs.Input.displayName;const wa=x.forwardRef(({className:e,...t},r)=>o.jsx(Hs.List,{ref:r,className:xe("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));wa.displayName=Hs.List.displayName;const _a=x.forwardRef((e,t)=>o.jsx(Hs.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));_a.displayName=Hs.Empty.displayName;const Sa=x.forwardRef(({className:e,...t},r)=>o.jsx(Hs.Group,{ref:r,className:xe("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Sa.displayName=Hs.Group.displayName;const zGe=x.forwardRef(({className:e,...t},r)=>o.jsx(Hs.Separator,{ref:r,className:xe("-mx-1 h-px bg-border",e),...t}));zGe.displayName=Hs.Separator.displayName;const Mr=x.forwardRef(({className:e,...t},r)=>o.jsx(Hs.Item,{ref:r,className:xe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));Mr.displayName=Hs.Item.displayName;const VGe={light:"",dark:".dark"},UJ=x.createContext(null);function zJ(){const e=x.useContext(UJ);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const au=x.forwardRef(({id:e,className:t,children:r,config:n,...a},s)=>{const i=x.useId(),l=`chart-${e||i.replace(/:/g,"")}`;return o.jsx(UJ.Provider,{value:{config:n},children:o.jsxs("div",{"data-chart":l,ref:s,className:xe("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[o.jsx(WGe,{id:l,config:n}),o.jsx(n0,{children:r})]})})});au.displayName="Chart";const WGe=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?o.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(VGe).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([s,i])=>{var c;const l=((c=i.theme)==null?void 0:c[n])||i.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Pd=Qa,su=x.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:s=!1,label:i,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:h},m)=>{const{config:p}=zJ(),g=x.useMemo(()=>{var S;if(a||!(t!=null&&t.length))return null;const[y]=t,b=`${h||y.dataKey||y.name||"value"}`,w=wT(p,y,b),_=!h&&typeof i=="string"?((S=p[i])==null?void 0:S.label)||i:w==null?void 0:w.label;return l?o.jsx("div",{className:xe("font-medium",c),children:l(_,t)}):_?o.jsx("div",{className:xe("font-medium",c),children:_}):null},[i,l,t,a,c,p,h]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&n!=="dot";return o.jsxs("div",{ref:m,className:xe("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:g,o.jsx("div",{className:"grid gap-1.5",children:t.map((y,b)=>{const w=`${f||y.name||y.dataKey||"value"}`,_=wT(p,y,w),S=d||y.payload.fill||y.color;return o.jsx("div",{className:xe("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(y==null?void 0:y.value)!==void 0&&y.name?u(y.value,y.name,y,b,y.payload):o.jsxs(o.Fragment,{children:[_!=null&&_.icon?o.jsx(_.icon,{}):!s&&o.jsx("div",{className:xe("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),o.jsxs("div",{className:xe("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[o.jsxs("div",{className:"grid gap-1.5",children:[v?g:null,o.jsx("span",{className:"text-muted-foreground",children:(_==null?void 0:_.label)||y.name})]}),y.value&&o.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:y.value.toLocaleString()})]})]})},y.dataKey)})})]})});su.displayName="ChartTooltip";const HGe=x.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},s)=>{const{config:i}=zJ();return r!=null&&r.length?o.jsx("div",{ref:s,className:xe("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=wT(i,l,c);return o.jsxs("div",{className:xe("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?o.jsx(u.icon,{}):o.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});HGe.displayName="ChartLegend";function wT(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}function qGe(){var oD,lD,cD,uD,dD,fD,hD;const{t:e}=$t(),{user:t}=hr(),{currentLanguage:r}=La(),{toast:n}=Al(),a=un(),{setBreadcrumbs:s}=wx();zs();const[i,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState([]),[p,g]=x.useState([]),[v,y]=x.useState([]),[b,w]=x.useState([]),[_,S]=x.useState([]),[k,j]=x.useState([]),[N,C]=x.useState([]),[T,D]=x.useState([]),[A,H]=x.useState([]),[X,L]=x.useState(!0),[I,W]=x.useState(null),[F,M]=x.useState(""),[G,Q]=x.useState(""),[E,B]=x.useState(!1),[U,q]=x.useState(1),[ee]=x.useState(10),[oe,ge]=x.useState(0),[se,Z]=x.useState(0),[he,P]=x.useState(""),[De,Re]=x.useState(""),[Me,Be]=x.useState(""),[Oe,ht]=x.useState(""),[it,ce]=x.useState(""),[me,z]=x.useState(""),[fe,_e]=x.useState(null),[be,Le]=x.useState(null),[Se,je]=x.useState(!1),[pe,ke]=x.useState(!1),[Ne,Xe]=x.useState({city_name_en:"",city_name_ar:"",country_id:null}),[He,at]=x.useState(!1),[Dt,qt]=x.useState({system_name_en:"",system_name_ar:""}),[yr,Un]=x.useState(!1),[dn,xi]=x.useState({activity_name_en:"",activity_name_ar:""}),[Nn,zn]=x.useState(!1),[Cn,Xi]=x.useState({status_name_en:"",status_name_ar:""}),[qs,yi]=x.useState([]),[Jn,bi]=x.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[Fl,Ll]=x.useState(!1),[eh,$l]=x.useState(null),[er,ud]=x.useState(null),[dd,K]=x.useState(!1),[ae,te]=x.useState([]),[ne,R]=x.useState(!1),[O,J]=x.useState("list"),[le,re]=x.useState(null),[de,ye]=x.useState(!1),[Fe,Ce]=x.useState(!1),[Pe,$e]=x.useState(!1),[Ye,pt]=x.useState(!1),[tr,cr]=x.useState(!1),[Ir,Gr]=x.useState(!1),[Qn,da]=x.useState(!1),[Ua,wi]=x.useState(!1),[vs,th]=x.useState(!1),[p0,g0]=x.useState(null),[hy,oQ]=x.useState(null),[K4,bj]=x.useState(!1),[G4,wj]=x.useState(!1),[Y4,_j]=x.useState(!1),[X4,Sj]=x.useState(!1),[J4,jj]=x.useState(!1),[Q4,kj]=x.useState(!1),[Xt,za]=x.useState({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null});x.useEffect(()=>{s([{label:e("navigation.dashboard"),href:"/"},{label:"Master Leads",href:"/mleads"}])},[s,e]),x.useEffect(()=>{eD()},[]),x.useEffect(()=>{const V=setTimeout(()=>{Q(F)},500);return()=>clearTimeout(V)},[F]);const Z4=x.useMemo(()=>!!(he||De||Me||Oe||it||me),[he,De,Me,Oe,it,me]),Ic=x.useMemo(()=>Z4||!!G,[Z4,G]);x.useEffect(()=>{v0(G!=="")},[U,G,he,De,Me,Oe,it,me,r]),x.useEffect(()=>{ne&&lQ()},[ne,G,he,De,Me,Oe,it,me,r]);const eD=async()=>{try{L(!0),W(null);const[V,we,ze,ft,_r,Va,Ji,Bl,fn]=await Promise.all([Y.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:200,select_fields:"city_id,city_name_en,city_name_ar"}),Y.mActivity.list({sort_by:"activity_name_en",sort_order:"asc",pageSize:200,select_fields:"activity_id,activity_name_en,activity_name_ar"}),Y.mStatus.list({sort_by:"status_name_en",sort_order:"asc",pageSize:200,select_fields:"status_id,status_name_en,status_name_ar"}),Y.mSystem.list({sort_by:"system_name_en",sort_order:"asc",pageSize:200,select_fields:"system_id,system_name_en,system_name_ar"}),Y.stages.list({exact_filters:{stage_type:"mleads"},sort_by:"stager_order_index",sort_order:"asc",pageSize:200,select_fields:"stage_id,stage_name,stage_name_ar,stage_type,stager_order_index"}),Y.mContacts.list({select_fields:"contact_id,contact_name,leads_id",sort_by:"contact_name",sort_order:"asc",pageSize:200}),Y.Users.list({sort_by:"name",sort_order:"asc",pageSize:200,select_fields:"name,Employee,userid,user_id,permissions,permissions_permissions_Name"}),Y.mCountry.list({sort_by:"country_name_en",sort_order:"asc",pageSize:200,select_fields:"country_id,country_name_en,country_name_ar"}),Y.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc",pageSize:200,select_fields:"jobtitle_id,jobtitle_name_en,jobtitle_name_ar"})]),ha=hd=>Array.isArray(hd)?hd:hd!=null&&hd.data&&Array.isArray(hd.data)?hd.data:[];f(ha(V)),m(ha(we)),g(ha(ze)),y(ha(ft)),w(ha(_r)),S(ha(Va)),C(ha(Ji)),D(ha(Bl)),H(ha(fn))}catch(V){const we=V instanceof Error?V.message:"Failed to load data";W(we),n({title:"Error",description:we,variant:"destructive"})}finally{L(!1)}},v0=async(V=!1)=>{try{V?B(!0):L(!0),W(null);const we={};he&&(we.city_id=parseInt(he)),Me&&(we.system_id=parseInt(Me)),Oe&&(we.status_id=parseInt(Oe)),it&&(we.activity_id=parseInt(it)),me&&(we.assigned_to=parseInt(me)),De&&(we.m_city_country_id=parseInt(De));const Bl=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation","decision_maker",r==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",r==="ar"?"m_city_city_name_ar":"m_city_city_name_en",r==="ar"?"m_system_system_name_ar":"m_system_system_name_en",r==="ar"?"m_status_status_name_ar":"m_status_status_name_en",r==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),fn={page:Ic?0:U-1,pageSize:Ic?1e3:ee,sort_by:"created_at",sort_order:"desc",exact_filters:we,select_fields:Bl};G&&(fn.search_fields="company_name",fn.search=G);const ha=await Y.mLeads.list(fn);l(ha.data||[]),Z(ha.total||0)}catch(we){const ze=we instanceof Error?we.message:"Failed to load data";W(ze),n({title:"Error",description:ze,variant:"destructive"})}finally{L(!1),B(!1)}},lQ=async()=>{try{const V={};he&&(V.city_id=parseInt(he)),Me&&(V.system_id=parseInt(Me)),Oe&&(V.status_id=parseInt(Oe)),it&&(V.activity_id=parseInt(it)),me&&(V.assigned_to=parseInt(me)),De&&(V.m_city_country_id=parseInt(De));const Ji=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation",r==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",r==="ar"?"m_city_city_name_ar":"m_city_city_name_en",r==="ar"?"m_system_system_name_ar":"m_system_system_name_en",r==="ar"?"m_status_status_name_ar":"m_status_status_name_en",r==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),Bl={pageSize:1e3,exact_filters:V,select_fields:Ji};G&&(Bl.search=G);const fn=await Y.mLeads.list(Bl);u(fn.data||[])}catch(V){console.error("Failed to load all filtered leads:",V)}},tD=x.useMemo(()=>{if(!Ic)return i;const V=fn=>fn?parseInt(fn,10):void 0,we=V(Oe),ze=V(it),ft=V(Me),_r=V(he),Va=V(De),Ji=V(me),Bl=G.trim().toLowerCase();return i.filter(fn=>{if(we!==void 0&&fn.status_id!==we||ze!==void 0&&fn.activity_id!==ze||ft!==void 0&&fn.system_id!==ft||_r!==void 0&&fn.city_id!==_r)return!1;if(Va!==void 0){const ha=fn.m_city_country_id??null;if(ha===null||ha!==Va)return!1}return!(Ji!==void 0&&(fn.assigned_to===null||fn.assigned_to===void 0||fn.assigned_to!==Ji)||Bl&&!(fn.company_name||"").toLowerCase().includes(Bl))})},[Ic,i,Oe,it,Me,he,De,me,G]),fa=x.useMemo(()=>ne?c:tD,[ne,c,tD]),cQ=x.useMemo(()=>{if(ne){const V=(U-1)*ee,we=V+ee;return fa.slice(V,we)}if(Ic){const V=(U-1)*ee,we=V+ee;return fa.slice(V,we)}return i},[ne,Ic,fa,i,U,ee]),fd=x.useMemo(()=>Math.max(1,Math.ceil(oe/ee)),[oe,ee]);x.useEffect(()=>{ge(Ic?fa.length:se)},[fa,Ic,se]),x.useEffect(()=>{U>fd&&q(fd)},[U,fd]);const ir=(V,we,ze)=>{if(!V)return"-";let ft=r==="ar"&&(V==null?void 0:V[ze])||(V==null?void 0:V[we]);if(!ft){const _r=we.replace(/_en$/,""),Va=ze.replace(/_ar$/,"");ft=r==="ar"&&(V==null?void 0:V[Va])||(V==null?void 0:V[_r])}return ft||(V==null?void 0:V.name)||(V==null?void 0:V.label)||(V==null?void 0:V.title)||"-"},Nj=V=>V&&(r==="ar"?V.m_city_city_name_ar||V.m_city_city_name_en:V.m_city_city_name_en||V.m_city_city_name_ar)||"-",Cj=V=>V&&(r==="ar"?V.m_activity_activity_name_ar||V.m_activity_activity_name_en:V.m_activity_activity_name_en||V.m_activity_activity_name_ar)||"-",Ej=V=>V&&(r==="ar"?V.m_status_status_name_ar||V.m_status_status_name_en:V.m_status_status_name_en||V.m_status_status_name_ar)||"-",Tj=V=>V&&(r==="ar"?V.m_system_system_name_ar||V.m_system_system_name_en:V.m_system_system_name_en||V.m_system_system_name_ar)||"-",rD=V=>V&&(r==="ar"?V.stages_stage_name_ar||V.stages_stage_name:V.stages_stage_name||V.stages_stage_name_ar)||"-",my=V=>{if(!V)return"-";const we=N.find(ze=>{var ft,_r;return((ft=ze.userid)==null?void 0:ft.toString())===V||((_r=ze.user_id)==null?void 0:_r.toString())===V});return(we==null?void 0:we.name)||(we==null?void 0:we.user_name)||(we==null?void 0:we.display_name)||"-"},uQ=V=>{if(V==null||V==="")return"";const we=Number(V),ze=d.find(ft=>Number(ft.city_id)===we);return ir(ze,"city_name_en","city_name_ar")},dQ=V=>{if(V==null||V==="")return"";const we=Number(V),ze=h.find(ft=>Number(ft.activity_id)===we);return ir(ze,"activity_name_en","activity_name_ar")},fQ=V=>{if(V==null||V==="")return"";const we=Number(V),ze=p.find(ft=>Number(ft.status_id)===we);return ir(ze,"status_name_en","status_name_ar")},hQ=V=>{if(V==null||V==="")return"";const we=Number(V),ze=v.find(ft=>Number(ft.system_id)===we);return ir(ze,"system_name_en","system_name_ar")},mQ=V=>{if(!V)return"";const we=b.find(ze=>Number(ze.stage_id)===Number(V));return ir(we,"stage_name","stage_name_ar")},Aj=V=>{const ze={2:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},4:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"},5:{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"},1:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"},6:{bg:"bg-white-100",text:"text-white-800",border:"border-white-200"},3:{bg:"bg-orange-100",text:"text-orange-800",border:"border-orange-200"}}[V]||{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"};return`${ze.bg} ${ze.text} ${ze.border}`},pQ=async(V,we)=>{const ze=V.name.split(".").pop(),_r=`leads-quotation/${`${we}/${Math.random().toString(36).substring(2)}.${ze}`}`,{error:Va}=await Vr.storage.from("leads-quotation").upload(_r,V);if(Va)throw Va;const{data:{publicUrl:Ji}}=Vr.storage.from("leads-quotation").getPublicUrl(_r);return{file_key:_r,public_url:Ji,name:V.name,size:V.size,content_type:V.type,uploaded_at:new Date().toISOString(),uploaded_by:t==null?void 0:t.id}},gQ=async()=>{try{let V;if(be)await Y.mLeads.update(be,Xt),V=be,n({title:e("common.success"),description:e("mleads.leadUpdatedSuccessfully")});else{const we={...Xt,created_by:t==null?void 0:t.id},ze=await Y.mLeads.create(we);if(ze&&ze.leads_id)V=ze.leads_id;else if(V=ze.id||ze.leads_id,!V)throw new Error("Failed to create lead");n({title:e("common.success"),description:e("mleads.leadCreatedSuccessfully")})}if(be){await Oj(be);const we=k.filter(ze=>ze.leads_id===be);for(const ze of we)await Y.mContacts.delete(ze.contact_id);qs.length>0&&await iD(V)}else qs.length>0&&await iD(V);if(le&&Xt.status_id===7){ye(!0);try{const we=await pQ(le,V);await Y.mLeads.update(V,{lead_quotation:we})}catch(we){console.error("File upload failed:",we),n({title:"Warning",description:"Lead saved but file upload failed",variant:"destructive"})}finally{ye(!1),re(null)}}je(!1),Le(null),za({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),yi([]),await v0()}catch(V){const we=V instanceof Error?V.message:"Failed to save";n({title:"Error",description:we,variant:"destructive"})}},vQ=async V=>{try{await Y.mLeads.delete(V),n({title:e("common.success"),description:e("mleads.leadDeletedSuccessfully")}),_e(null),await v0()}catch(we){const ze=we instanceof Error?we.message:"Failed to delete";n({title:"Error",description:ze,variant:"destructive"})}},nD=V=>{ud(V),aD(V.leads_id),Oj(V.leads_id),K(!0)},aD=async V=>{try{const we=await fm.getByRelated("mlead",V);te(we)}catch(we){console.error("Failed to load notes:",we),te([])}},Oj=async V=>{try{const we=await Y.mContacts.list({exact_filters:{leads_id:V},select_fields:"contact_id,contact_name,contact_mobile,contact_email,jobtitle_id,leads_id",sort_by:"contact_name",sort_order:"asc"});j(we.data||[])}catch(we){console.error("Failed to load contacts:",we),j([])}},sD=async V=>{Le(V.leads_id),za(V),await Oj(V.leads_id);const we=k.filter(ze=>ze.leads_id===V.leads_id);yi(we.map(ze=>{var ft;return{contact_name:ze.contact_name||"",contact_email:ze.contact_email||"",contact_mobile:((ft=ze.contact_mobile)==null?void 0:ft.toString())||"",jobtitle_id:ze.jobtitle_id}})),je(!0)},xQ=async V=>{try{await Promise.all(V.map(we=>Y.mLeads.delete(we))),n({title:e("common.success"),description:e("mleads.leadsDeletedSuccessfully")}),await v0()}catch(we){const ze=we instanceof Error?we.message:"Failed to delete";n({title:"Error",description:ze,variant:"destructive"})}},yQ=async()=>{try{if(!Ne.city_name_en&&!Ne.city_name_ar){n({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const V=await Y.mCity.create(Ne);V&&(f([...d,V]),za({...Xt,city_id:V.city_id}),ke(!1),Xe({city_name_en:"",city_name_ar:"",country_id:null}),n({title:e("common.success"),description:e("mleads.cityCreatedSuccessfully")}))}catch(V){const we=V instanceof Error?V.message:"Failed to create city";n({title:"Error",description:we,variant:"destructive"})}},bQ=async()=>{try{if(!Dt.system_name_en&&!Dt.system_name_ar){n({title:"Error",description:"Please enter at least one system name",variant:"destructive"});return}const V=await Y.mSystem.create(Dt);V&&(y([...v,V]),za({...Xt,system_id:V.system_id}),at(!1),qt({system_name_en:"",system_name_ar:""}),n({title:e("common.success"),description:e("mleads.systemCreatedSuccessfully")}))}catch(V){const we=V instanceof Error?V.message:"Failed to create system";n({title:"Error",description:we,variant:"destructive"})}},wQ=async()=>{try{if(!dn.activity_name_en&&!dn.activity_name_ar){n({title:"Error",description:"Please enter at least one activity name",variant:"destructive"});return}const V=await Y.mActivity.create(dn);V&&(m([...h,V]),za({...Xt,activity_id:V.activity_id}),Un(!1),xi({activity_name_en:"",activity_name_ar:""}),n({title:e("common.success"),description:e("mleads.activityCreatedSuccessfully")}))}catch(V){const we=V instanceof Error?V.message:"Failed to create activity";n({title:"Error",description:we,variant:"destructive"})}},_Q=async()=>{try{if(!Cn.status_name_en&&!Cn.status_name_ar){n({title:"Error",description:"Please enter at least one status name",variant:"destructive"});return}const V=await Y.mStatus.create(Cn);V&&(g([...p,V]),za({...Xt,status_id:V.status_id}),zn(!1),Xi({status_name_en:"",status_name_ar:""}),n({title:e("common.success"),description:e("mleads.statusCreatedSuccessfully")}))}catch(V){const we=V instanceof Error?V.message:"Failed to create status";n({title:"Error",description:we,variant:"destructive"})}},SQ=()=>{if(!Jn.contact_name.trim()){n({title:"Error",description:"Please enter contact name",variant:"destructive"});return}yi([...qs,{...Jn}]),bi({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),Ll(!1)},jQ=V=>{yi(qs.filter((we,ze)=>ze!==V))},iD=async V=>{try{const we=qs.map(ze=>({...ze,leads_id:V,contact_mobile:ze.contact_mobile?parseInt(ze.contact_mobile):null}));if(we.length>0)for(const ze of we)await Y.mContacts.create(ze)}catch(we){const ze=we instanceof Error?we.message:"Failed to save contacts";n({title:"Error",description:ze,variant:"destructive"})}},kQ=V=>{g0(V)},NQ=V=>{V.preventDefault(),V.dataTransfer.dropEffect="move"},CQ=async V=>{if(!p0)return;const we=i.find(ze=>ze.leads_id===p0);if(we&&we.stage_id!==V)try{await Y.mLeads.update(p0,{stage_id:V}),n({title:e("common.success"),description:"Lead stage updated successfully"}),await v0()}catch(ze){console.error("Failed to update lead stage:",ze),n({title:"Error",description:"Failed to update lead stage",variant:"destructive"})}g0(null)};if(X)return o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx(ua,{message:e("common.loading"),size:"2xl"})});if(I)return o.jsx(c0,{message:I,onRetry:eD});const EQ=[{label:e("common.delete"),icon:o.jsx(or,{}),onClick:V=>{window.confirm(`Delete ${V.length} leads?`)&&xQ(V.map(we=>we.leads_id))},variant:"destructive"}],TQ=[{key:"company_name",header:e("mleads.company"),className:"w-1/4 min-w-[200px]",render:V=>o.jsx(kc,{title:V.company_name||"-",subtitle:V.address||"",icon:o.jsx(yn,{className:"h-4 w-4"})})},{key:"city_id",header:e("mleads.city"),className:"w-1/6 min-w-[120px]",render:V=>o.jsx("span",{className:"text-sm text-foreground",children:Nj(V)})},{key:"activity_id",header:e("mleads.activity"),className:"w-1/6 min-w-[120px]",render:V=>o.jsx(ct,{variant:"outline",className:"text-xs truncate",children:Cj(V)})},{key:"status_id",header:e("mleads.status"),className:"w-1/6 min-w-[120px]",render:V=>{const we=Ej(V);return o.jsx(ct,{variant:"outline",className:`text-xs truncate ${Aj(V.status_id)}`,children:we})}},{key:"stage_id",header:e("mleads.stage"),className:"w-1/6 min-w-[120px]",render:V=>o.jsx(ct,{variant:"outline",className:"text-xs truncate bg-blue-50 text-blue-700 border-blue-200",children:rD(V)})},{key:"system_id",header:e("mleads.system"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:V=>o.jsx("div",{className:"text-sm text-muted-foreground truncate",children:Tj(V)})},{key:"created_by",header:e("mleads.createdBy"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:V=>o.jsx("div",{className:"truncate",children:o.jsx(bp,{name:V.created_by_name||"-"})})},{key:"decision_maker",header:e("mleads.decisionMaker"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:V=>o.jsx("div",{className:"truncate",children:o.jsx("span",{className:"text-sm",children:V.decision_maker||"-"})})},{key:"created_at",header:e("mleads.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:V=>o.jsx(Kf,{date:V.created_at})}],AQ=[{icon:o.jsx(zi,{}),label:e("common.edit"),onClick:V=>sD(V)},{icon:o.jsx(or,{}),label:e("common.delete"),onClick:V=>_e(V.leads_id),variant:"destructive"}];return o.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:rr()?"rtl":"ltr",children:[o.jsx("div",{className:"flex-shrink-0 pb-3",children:o.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[o.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[o.jsxs(ue,{variant:"outline",size:"default",onClick:()=>J(O==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[O==="list"?o.jsx(oi,{className:"h-4 w-4"}):o.jsx(yn,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:e(O==="list"?"mleads.kanbanView":"mleads.listView")})]}),o.jsxs(ue,{variant:ne?"default":"outline",size:"default",onClick:()=>R(!ne),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[o.jsx(oi,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:e("mleads.showChart")}),o.jsx(M_,{className:`h-4 w-4 transition-transform ${ne?"rotate-180":""}`})]}),o.jsxs("div",{className:"flex-1 min-w-[200px] relative",children:[o.jsx(Vs,{className:"absolute inset-inline-start-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ue,{placeholder:e("mleads.searchPlaceholder"),value:F,onChange:V=>{M(V.target.value),q(1)},className:"ps-10 pe-3 h-10 bg-background border-input"})]})]}),o.jsxs(ue,{size:"default",onClick:()=>{Le(null),za({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),yi([]),$l(null),ke(!1),at(!1),Un(!1),zn(!1),Xe({city_name_en:"",city_name_ar:"",country_id:null}),qt({system_name_en:"",system_name_ar:""}),xi({activity_name_en:"",activity_name_ar:""}),Xi({status_name_en:"",status_name_ar:""}),re(null),je(!0)},variant:"outline",className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:rr()?"rtl":"ltr",children:[o.jsx(Gt,{className:`w-4 h-4 ${rr()?"order-2":"order-1"}`}),o.jsx("span",{className:`${rr()?"order-1":"order-2"}`,children:e("common.add")})]})]})})}),o.jsx("div",{className:"flex-shrink-0 pb-4",children:o.jsxs("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")}),(he||De||Me||Oe||it||me)&&o.jsxs(ue,{variant:"outline",size:"default",onClick:()=>{P(""),Re(""),Be(""),ht(""),ce(""),z(""),q(1)},title:e("mleads.clearFilters"),className:"h-8 px-3 hover:bg-destructive/10 hover:border-destructive/30 hover:text-destructive transition-colors",children:[o.jsx(Ro,{className:`h-3 w-3 ${rr()?"ms-2":"me-2"}`}),e("mleads.clearFilters")]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3",children:[o.jsxs(va,{open:K4,onOpenChange:bj,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":K4,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[o.jsx("span",{className:"truncate",children:Oe?ir(p.find(V=>V.status_id.toString()===Oe),"status_name_en","status_name_ar"):e("mleads.allStatuses")}),o.jsx(Wa,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(ba,{placeholder:e("mleads.searchStatus")}),o.jsxs(wa,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsxs(Sa,{children:[o.jsx(Mr,{value:e("mleads.allStatuses"),onSelect:()=>{ht(""),q(1),bj(!1)},children:e("mleads.allStatuses")},"all-statuses"),p.map(V=>o.jsx(Mr,{value:V.status_id.toString(),onSelect:()=>{ht(V.status_id.toString()),q(1),bj(!1)},children:ir(V,"status_name_en","status_name_ar")},V.status_id))]})]})]})})]}),o.jsxs(va,{open:G4,onOpenChange:wj,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":G4,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[o.jsx("span",{className:"truncate",children:it?ir(h.find(V=>V.activity_id.toString()===it),"activity_name_en","activity_name_ar"):e("mleads.allActivities")}),o.jsx(Wa,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(ba,{placeholder:e("mleads.searchActivity")}),o.jsxs(wa,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsxs(Sa,{children:[o.jsx(Mr,{value:e("mleads.allActivities"),onSelect:()=>{ce(""),q(1),wj(!1)},children:e("mleads.allActivities")},"all-activities"),h.map(V=>o.jsx(Mr,{value:V.activity_id.toString(),onSelect:()=>{ce(V.activity_id.toString()),q(1),wj(!1)},children:ir(V,"activity_name_en","activity_name_ar")},V.activity_id))]})]})]})})]}),o.jsxs(va,{open:Y4,onOpenChange:_j,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Y4,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[o.jsx("span",{className:"truncate",children:Me?ir(v.find(V=>V.system_id.toString()===Me),"system_name_en","system_name_ar"):e("mleads.allSystems")}),o.jsx(Wa,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(ba,{placeholder:e("mleads.searchSystem")}),o.jsxs(wa,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsxs(Sa,{children:[o.jsx(Mr,{value:e("mleads.allSystems"),onSelect:()=>{Be(""),q(1),_j(!1)},children:e("mleads.allSystems")},"all-systems"),v.map(V=>o.jsx(Mr,{value:V.system_id.toString(),onSelect:()=>{Be(V.system_id.toString()),q(1),_j(!1)},children:ir(V,"system_name_en","system_name_ar")},V.system_id))]})]})]})})]}),o.jsxs(va,{open:X4,onOpenChange:Sj,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":X4,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[o.jsx("span",{className:"truncate",children:De?ir(T.find(V=>V.country_id.toString()===De),"country_name_en","country_name_ar"):e("mleads.allCountries")}),o.jsx(Wa,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(ba,{placeholder:e("mleads.searchCountry")}),o.jsxs(wa,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsxs(Sa,{children:[o.jsx(Mr,{value:e("mleads.allCountries"),onSelect:()=>{Re(""),q(1),Sj(!1)},children:e("mleads.allCountries")},"all-countries"),T.map(V=>o.jsx(Mr,{value:V.country_id.toString(),onSelect:()=>{Re(V.country_id.toString()),q(1),Sj(!1)},children:ir(V,"country_name_en","country_name_ar")},V.country_id))]})]})]})})]}),o.jsxs(va,{open:J4,onOpenChange:jj,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":J4,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[o.jsx("span",{className:"truncate",children:he?ir(d.find(V=>V.city_id.toString()===he),"city_name_en","city_name_ar"):e("mleads.allCities")}),o.jsx(Wa,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(ba,{placeholder:e("mleads.searchCity")}),o.jsxs(wa,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsxs(Sa,{children:[o.jsx(Mr,{value:e("mleads.allCities"),onSelect:()=>{P(""),q(1),jj(!1)},children:e("mleads.allCities")},"all-cities"),d.map(V=>o.jsx(Mr,{value:V.city_id.toString(),onSelect:()=>{P(V.city_id.toString()),q(1),jj(!1)},children:ir(V,"city_name_en","city_name_ar")},V.city_id))]})]})]})})]}),o.jsxs(va,{open:Q4,onOpenChange:kj,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Q4,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[o.jsx("span",{className:"truncate",children:me?my(me):e("mleads.allUsers")}),o.jsx(Wa,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(ba,{placeholder:e("mleads.searchUser")}),o.jsxs(wa,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsxs(Sa,{children:[o.jsx(Mr,{value:e("mleads.allUsers"),onSelect:()=>{z(""),q(1),kj(!1)},children:e("mleads.allUsers")},"all-users"),N.map(V=>{var ft;const we=(ft=V.userid||V.user_id||V.id)==null?void 0:ft.toString(),ze=V.name||V.user_name||V.display_name||"-";return o.jsx(Mr,{value:we,onSelect:()=>{z(we),q(1),kj(!1)},children:ze},we)})]})]})]})})]})]})]})}),o.jsx(_l,{open:Se,onOpenChange:je,children:o.jsxs(Lo,{className:`w-full sm:max-w-[540px] flex flex-col h-full ${r==="ar"?"rtl":"ltr"}`,children:[o.jsx(bc,{children:o.jsx(Sl,{children:e(be?"mleads.editLead":"mleads.createNewLead")})}),o.jsxs("div",{className:"mt-6 space-y-4 px-4 flex-1 overflow-y-auto",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.companyName")}),o.jsx(Ue,{value:Xt.company_name||"",onChange:V=>za({...Xt,company_name:V.target.value}),placeholder:e("mleads.companyName")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.address")}),o.jsx(ia,{value:Xt.address||"",onChange:V=>za({...Xt,address:V.target.value}),placeholder:e("mleads.address")})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.contacts")}),o.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ll(!Fl),className:"h-6 px-2 text-xs",children:e(Fl?"mleads.cancel":"mleads.addContact")})]}),qs.length>0&&o.jsx("div",{className:"space-y-2 mb-3",children:qs.map((V,we)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium",children:V.contact_name}),o.jsxs("div",{className:"text-muted-foreground",children:[V.contact_email&&`${V.contact_email}  `,V.contact_mobile&&`${V.contact_mobile}`]})]}),o.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>jQ(we),className:"h-6 w-6 p-0",children:o.jsx(Ro,{className:"h-3 w-3"})})]},we))}),Fl&&o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(Ue,{placeholder:e("mleads.contactName"),value:Jn.contact_name,onChange:V=>bi({...Jn,contact_name:V.target.value})}),o.jsx(Ue,{placeholder:e("mleads.email"),type:"email",value:Jn.contact_email,onChange:V=>bi({...Jn,contact_email:V.target.value})}),o.jsx(Ue,{placeholder:e("mleads.mobile"),value:Jn.contact_mobile,onChange:V=>bi({...Jn,contact_mobile:V.target.value})}),o.jsxs(va,{open:Ua,onOpenChange:wi,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Ua,className:"w-full justify-between",children:[Jn.jobtitle_id?(oD=A.find(V=>V.jobtitle_id===Jn.jobtitle_id))==null?void 0:oD.jobtitle_name_en:e("mleads.selectJobTitle"),o.jsx(Wa,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(ba,{placeholder:e("mleads.searchJobTitle")}),o.jsxs(wa,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsx(Sa,{children:A&&A.length>0?A.map(V=>o.jsx(Mr,{value:ir(V,"jobtitle_name_en","jobtitle_name_ar")||V.jobtitle_name_en||"Unknown",onSelect:()=>{bi(we=>({...we,jobtitle_id:V.jobtitle_id})),wi(!1)},children:ir(V,"jobtitle_name_en","jobtitle_name_ar")||V.jobtitle_name_en||"Unknown"},V.jobtitle_id)):o.jsx(Mr,{disabled:!0,children:"No job titles available"})})]})]})})]}),o.jsx(ue,{type:"button",onClick:SQ,className:"w-full",children:e("mleads.addContactTitle")})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.city")}),o.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>ke(!pe),className:"h-6 px-2 text-xs",children:e(pe?"mleads.cancel":"mleads.addNew")})]}),pe?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(Ue,{placeholder:e("mleads.cityNameEn"),value:Ne.city_name_en,onChange:V=>Xe({...Ne,city_name_en:V.target.value})}),o.jsx(Ue,{placeholder:e("mleads.cityNameAr"),value:Ne.city_name_ar,onChange:V=>Xe({...Ne,city_name_ar:V.target.value})}),o.jsxs(va,{open:vs,onOpenChange:th,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":vs,className:"w-full justify-between",children:[Ne.country_id?(lD=T.find(V=>V.country_id===Ne.country_id))==null?void 0:lD.country_name_en:e("mleads.selectCountry"),o.jsx(Wa,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(ba,{placeholder:e("mleads.searchCountry")}),o.jsxs(wa,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsx(Sa,{children:T.map(V=>o.jsx(Mr,{value:ir(V,"country_name_en","country_name_ar"),onSelect:()=>{Xe({...Ne,country_id:V.country_id}),th(!1)},children:ir(V,"country_name_en","country_name_ar")},V.country_id))})]})]})})]}),o.jsx(ue,{type:"button",onClick:yQ,className:"w-full",children:e("mleads.createCity")})]}):o.jsxs(va,{open:Fe,onOpenChange:Ce,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Fe,className:"w-full justify-between",children:[Xt.city_id?uQ(Xt.city_id):e("mleads.city"),o.jsx(Wa,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(ba,{placeholder:e("mleads.searchCity")}),o.jsxs(wa,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsx(Sa,{children:d.map(V=>o.jsx(Mr,{value:ir(V,"city_name_en","city_name_ar"),onSelect:()=>{za({...Xt,city_id:V.city_id}),Ce(!1)},children:ir(V,"city_name_en","city_name_ar")},V.city_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.activity")}),o.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>Un(!yr),className:"h-6 px-2 text-xs",children:e(yr?"mleads.cancel":"mleads.addNew")})]}),yr?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(Ue,{placeholder:e("mleads.activityNameEn"),value:dn.activity_name_en,onChange:V=>xi({...dn,activity_name_en:V.target.value})}),o.jsx(Ue,{placeholder:e("mleads.activityNameAr"),value:dn.activity_name_ar,onChange:V=>xi({...dn,activity_name_ar:V.target.value})}),o.jsx(ue,{type:"button",onClick:wQ,className:"w-full",children:e("mleads.createActivity")})]}):o.jsxs(va,{open:Pe,onOpenChange:$e,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Pe,className:"w-full justify-between",children:[Xt.activity_id?dQ(Xt.activity_id):e("mleads.selectActivity"),o.jsx(Wa,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(ba,{placeholder:e("mleads.searchActivity")}),o.jsxs(wa,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsx(Sa,{children:h.map(V=>o.jsx(Mr,{value:ir(V,"activity_name_en","activity_name_ar"),onSelect:()=>{za({...Xt,activity_id:V.activity_id}),$e(!1)},children:ir(V,"activity_name_en","activity_name_ar")},V.activity_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.system")}),o.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>at(!He),className:"h-6 px-2 text-xs",children:e(He?"mleads.cancel":"mleads.addNew")})]}),He?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(Ue,{placeholder:e("mleads.systemNameEn"),value:Dt.system_name_en,onChange:V=>qt({...Dt,system_name_en:V.target.value})}),o.jsx(Ue,{placeholder:e("mleads.systemNameAr"),value:Dt.system_name_ar,onChange:V=>qt({...Dt,system_name_ar:V.target.value})}),o.jsx(ue,{type:"button",onClick:bQ,className:"w-full",children:e("mleads.createSystem")})]}):o.jsxs(va,{open:Ye,onOpenChange:pt,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Ye,className:"w-full justify-between",children:[Xt.system_id?hQ(Xt.system_id):e("mleads.selectSystem"),o.jsx(Wa,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(ba,{placeholder:e("mleads.searchSystem")}),o.jsxs(wa,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsx(Sa,{children:v.map(V=>o.jsx(Mr,{value:ir(V,"system_name_en","system_name_ar"),onSelect:()=>{za({...Xt,system_id:V.system_id}),pt(!1)},children:ir(V,"system_name_en","system_name_ar")},V.system_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.status")}),o.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>zn(!Nn),className:"h-6 px-2 text-xs",children:e(Nn?"mleads.cancel":"mleads.addNew")})]}),Nn?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(Ue,{placeholder:e("mleads.statusNameEn"),value:Cn.status_name_en,onChange:V=>Xi({...Cn,status_name_en:V.target.value})}),o.jsx(Ue,{placeholder:e("mleads.statusNameAr"),value:Cn.status_name_ar,onChange:V=>Xi({...Cn,status_name_ar:V.target.value})}),o.jsx(ue,{type:"button",onClick:_Q,className:"w-full",children:e("mleads.createStatus")})]}):o.jsxs(va,{open:tr,onOpenChange:cr,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":tr,className:"w-full justify-between",children:[Xt.status_id?fQ(Xt.status_id):e("mleads.selectStatus"),o.jsx(Wa,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(ba,{placeholder:e("mleads.searchStatus")}),o.jsxs(wa,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsx(Sa,{children:p.map(V=>o.jsx(Mr,{value:ir(V,"status_name_en","status_name_ar"),onSelect:()=>{za({...Xt,status_id:V.status_id}),cr(!1)},children:ir(V,"status_name_en","status_name_ar")},V.status_id))})]})]})})]})]}),Xt.status_id===7&&o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[o.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(dv,{className:"h-4 w-4 text-yellow-600"}),e("mleads.uploadQuotation")]}),o.jsx(Ue,{type:"file",onChange:V=>{var ze;const we=(ze=V.target.files)==null?void 0:ze[0];we&&re(we)},className:"cursor-pointer"}),Xt.lead_quotation&&o.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Current file:",o.jsx("a",{href:(cD=Xt.lead_quotation)==null?void 0:cD.public_url,target:"_blank",rel:"noopener noreferrer",className:"ms-1 text-blue-600 hover:underline font-medium",children:(uD=Xt.lead_quotation)==null?void 0:uD.name})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.stage")}),o.jsxs(va,{open:Ir,onOpenChange:Gr,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Ir,className:"w-full justify-between",children:[Xt.stage_id?mQ(Xt.stage_id):e("mleads.selectStage"),o.jsx(Wa,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(ba,{placeholder:e("mleads.searchStage")}),o.jsxs(wa,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsx(Sa,{children:b.map(V=>o.jsx(Mr,{value:V.stage_name,onSelect:()=>{za({...Xt,stage_id:V.stage_id}),Gr(!1)},children:V.stage_name},V.stage_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.assignedTo")}),o.jsxs(va,{open:Qn,onOpenChange:da,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Qn,className:"w-full justify-between",children:[Xt.assigned_to?my(Xt.assigned_to):e("mleads.selectUser"),o.jsx(Wa,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(ba,{placeholder:e("mleads.searchUser")}),o.jsxs(wa,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsx(Sa,{children:N.map(V=>o.jsx(Mr,{value:V.user_name,onSelect:()=>{za({...Xt,assigned_to:V.userid}),da(!1)},children:V.user_name},V.user_id))})]})]})})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4 border-t mt-4",children:[o.jsx(ue,{variant:"outline",onClick:()=>je(!1),children:e("common.cancel")}),o.jsx(ue,{onClick:gQ,children:e("common.save")})]})]})}),ne&&o.jsx("div",{className:"flex-shrink-0 px-4 pb-4",children:o.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lead Analytics"}),o.jsxs(Nl,{defaultValue:"pie",className:"w-full",children:[o.jsxs(Bo,{className:`flex w-full ${rr()?"flex-row-reverse":""}`,children:[o.jsx(Hr,{value:"pie",className:"flex-1",children:e("mleads.distributionCharts")}),o.jsx(Hr,{value:"timeline",className:"flex-1",children:e("mleads.timeline")})]}),o.jsx(_n,{value:"pie",className:"mt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Status"}),o.jsx(au,{config:{},className:"h-[350px]",children:o.jsxs(Td,{children:[o.jsx(ts,{data:(()=>{const V=p.map(we=>({name:ir(we,"status_name_en","status_name_ar"),value:fa.filter(ze=>ze.status_id===we.status_id).length})).filter(we=>we.value>0);return V.length>0?V:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:V,value:we})=>`${V}: ${we}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((V,we)=>o.jsx(sl,{fill:V},`cell-${we}`))}),o.jsx(Pd,{content:o.jsx(su,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By System"}),o.jsx(au,{config:{},className:"h-[350px]",children:o.jsxs(Td,{children:[o.jsx(ts,{data:(()=>{const V=v.map(we=>({name:ir(we,"system_name_en","system_name_ar"),value:fa.filter(ze=>ze.system_id===we.system_id).length})).filter(we=>we.value>0);return V.length>0?V:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:V,value:we})=>`${V}: ${we}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((V,we)=>o.jsx(sl,{fill:V},`cell-${we}`))}),o.jsx(Pd,{content:o.jsx(su,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Activity"}),o.jsx(au,{config:{},className:"h-[350px]",children:o.jsxs(Td,{children:[o.jsx(ts,{data:(()=>{const V=h.map(we=>({name:ir(we,"activity_name_en","activity_name_ar"),value:fa.filter(ze=>ze.activity_id===we.activity_id).length})).filter(we=>we.value>0);return V.length>0?V:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:V,value:we})=>`${V}: ${we}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((V,we)=>o.jsx(sl,{fill:V},`cell-${we}`))}),o.jsx(Pd,{content:o.jsx(su,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),o.jsx(au,{config:{},className:"h-[350px]",children:o.jsxs(Td,{children:[o.jsx(ts,{data:(()=>{const V=d.map(we=>({name:ir(we,"city_name_en","city_name_ar"),value:fa.filter(ze=>ze.city_id===we.city_id).length})).filter(we=>we.value>0);return V.length>0?V:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:V,value:we})=>`${V}: ${we}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((V,we)=>o.jsx(sl,{fill:V},`cell-${we}`))}),o.jsx(Pd,{content:o.jsx(su,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Assigned User"}),o.jsx(au,{config:{},className:"h-[350px]",children:o.jsxs(Td,{children:[o.jsx(ts,{data:(()=>{const V=N.map(we=>({name:we.user_name,value:fa.filter(ze=>ze.assigned_to===we.userid).length})).filter(we=>we.value>0);return V.length>0?V:[{name:"Unassigned",value:fa.filter(we=>!we.assigned_to).length||1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:V,value:we})=>`${V}: ${we}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((V,we)=>o.jsx(sl,{fill:V},`cell-${we}`))}),o.jsx(Pd,{content:o.jsx(su,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Leads"}),o.jsx("div",{className:"text-5xl font-bold text-primary",children:fa.length}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),o.jsx(_n,{value:"timeline",className:"mt-4",children:o.jsx("div",{className:"w-full h-[400px]",children:o.jsx(n0,{width:"100%",height:"100%",children:o.jsxs(Kx,{data:(()=>{const V=new Map;return fa.forEach(ze=>{const ft=new Date(ze.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});V.set(ft,(V.get(ft)||0)+1)}),Array.from(V.entries()).sort((ze,ft)=>new Date(ze[0]).getTime()-new Date(ft[0]).getTime()).map(([ze,ft])=>({date:ze,count:ft}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[o.jsx(l0,{strokeDasharray:"3 3"}),o.jsx(id,{dataKey:"date",angle:rr()?45:-45,textAnchor:rr()?"start":"end",height:80,tick:{fontSize:12},reversed:rr()}),o.jsx(od,{label:{value:"Number of Leads",angle:rr()?90:-90,position:"insideLeft"}}),o.jsx(Qa,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:V=>[`${V} leads`,"Total"]}),o.jsx(Eo,{}),o.jsx(Pc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]})]})}),o.jsx(et,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:o.jsx(ot,{className:"h-full flex flex-col p-0 overflow-hidden",children:O==="kanban"?o.jsx(Zx,{stages:b.map(V=>({id:V.stage_id,name:V.stage_name,count:fa.filter(we=>we.stage_id===V.stage_id).length})),currentStageId:hy||((dD=b[0])==null?void 0:dD.stage_id),onStageChange:oQ,children:o.jsx("div",{className:"space-y-4 h-full flex flex-col",children:o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto pt-4 scrollbar-hide flex-1 min-h-0",children:b.filter(V=>{var we;return!a||V.stage_id===(hy||((we=b[0])==null?void 0:we.stage_id))}).map((V,we)=>{const ze=fa.filter(ft=>ft.stage_id===V.stage_id);return o.jsxs("div",{className:xe("flex-shrink-0 animate-fade-in h-full flex flex-col",a?"w-full":"w-[300px]"),style:{animationDelay:`${we*.1}s`},onDragOver:NQ,onDrop:()=>CQ(V.stage_id),children:[!a&&o.jsx("div",{className:"rounded-xl bg-muted/30 backdrop-blur p-4 mb-5 shadow-soft border-s-4 border-primary/50 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h2",{className:"font-bold text-base",children:V.stage_name}),o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:ze.length})]})}),o.jsx("div",{className:"space-y-4 overflow-y-auto pe-2 custom-scrollbar flex-1 min-h-0",children:ze.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-40 border-2 border-dashed rounded-xl border-muted-foreground/20 text-muted-foreground",children:[o.jsx(yn,{className:"h-8 w-8 mb-2 opacity-20"}),o.jsx("p",{className:"text-sm",children:e("common.noLeads")})]}):ze.map(ft=>o.jsxs(et,{className:xe("group relative hover:shadow-lg transition-all duration-200 cursor-pointer border-s-4 border-s-blue-500",a?"w-full":"w-[300px]","min-h-[160px]",p0===ft.leads_id&&"opacity-50 rotate-2 scale-105"),onClick:()=>nD(ft),draggable:!0,onDragStart:_r=>{_r.dataTransfer.effectAllowed="move",_r.dataTransfer.setData("text/plain",ft.leads_id.toString()),kQ(ft.leads_id)},children:[o.jsx(Bt,{className:"pb-2 px-4 pt-3",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate group-hover:text-primary transition-colors",children:ft.company_name||"No Company"}),ft.address&&o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:ft.address})]})})}),o.jsxs(ot,{className:"px-4 pb-3 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Um,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),o.jsx("p",{className:"text-xs font-medium truncate",children:Nj(ft)})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(fI,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("p",{className:"text-xs truncate",children:Cj(ft)})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(yn,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("p",{className:"text-xs truncate text-muted-foreground",children:Tj(ft)})]})]}),o.jsx("div",{children:o.jsx(ct,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${Aj(ft.status_id)}`,children:Ej(ft)})})]}),(()=>{const _r=_.filter(Va=>Number(Va.leads_id)===Number(ft.leads_id));return _r.length===0?null:o.jsxs("div",{className:"pt-2 border-t mt-2 flex flex-col gap-1",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wider",children:e("mleads.contacts")}),_r.slice(0,1).map((Va,Ji)=>o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Rn,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("p",{className:"text-[11px] truncate",children:Va.contact_name})]},Ji)),_r.length>1&&o.jsxs("p",{className:"text-[10px] text-muted-foreground ps-4",children:["+",_r.length-1," more"]})]})})(),o.jsxs("div",{className:"pt-2 border-t flex flex-col gap-1.5",children:[o.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[o.jsx(Rn,{className:"h-2.5 w-2.5 flex-shrink-0"}),o.jsxs("span",{className:"truncate",children:["Assign: ",my(ft.assigned_to)]})]}),o.jsx("div",{className:"flex items-center gap-1 min-w-0",children:o.jsxs("span",{className:"truncate opacity-70",children:["By: ",my(ft.created_by_name)]})})]}),o.jsx("div",{className:"text-[10px] text-muted-foreground italic opacity-60",children:new Date(ft.created_at).toLocaleDateString()})]})]})]},ft.leads_id))})]},V.stage_id)})})})}):o.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[o.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:fa.length===0?o.jsx(vl,{title:e("mleads.noLeadsFound"),description:e("mleads.createNewLeadToGetStarted"),icon:o.jsx(yn,{className:"h-12 w-12"})}):o.jsx(jc,{data:cQ,columns:["kanban","timeline"].includes(O)?[]:TQ,actions:AQ,bulkActions:EQ,enableBulkSelect:!0,keyExtractor:V=>V.leads_id.toString(),onRowClick:V=>nD(V),rowHeight:"h-26"},`leads-${Oe}-${it}-${Me}-${he}-${De}-${me}-${F}-${U}`)}),o.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:fd>0&&o.jsx("div",{className:"flex justify-center",children:o.jsx(Sp,{children:o.jsxs(jp,{children:[o.jsx(Ta,{children:o.jsx(xu,{onClick:()=>q(Math.max(1,U-1)),className:U===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),o.jsx(Ta,{children:o.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",U," ",e("common.of")," ",fd]})}),o.jsx(Ta,{children:o.jsx(yu,{onClick:()=>q(Math.min(fd,U+1)),className:U===fd?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})})]})})}),o.jsx(hi,{open:fe!==null,onOpenChange:()=>_e(null),children:o.jsxs(Is,{children:[o.jsxs(Ms,{children:[o.jsx(Ls,{children:e("mleads.deleteLead")}),o.jsx($s,{children:e("mleads.deleteLeadConfirmation")})]}),o.jsxs(Fs,{children:[o.jsx(Us,{children:e("common.cancel")}),o.jsx(Bs,{onClick:()=>fe&&vQ(fe),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),o.jsx(_l,{open:dd,onOpenChange:K,children:o.jsxs(Lo,{side:rr()?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[o.jsx(bc,{children:o.jsxs(Sl,{className:"flex items-center gap-2 min-w-0",children:[o.jsx(yn,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:er==null?void 0:er.company_name})]})}),er&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:e("mleads.leadDetails")}),o.jsxs(ue,{onClick:()=>{sD(er),K(!1)},variant:"outline",size:"sm",children:[o.jsx(zi,{className:"h-4 w-4 me-2"}),e("common.edit")]})]}),o.jsxs(Nl,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Bo,{className:`flex w-full ${rr()?"flex-row-reverse":""}`,children:[o.jsx(Hr,{value:"overview",className:"flex-1",children:e("common.overview")}),o.jsx(Hr,{value:"notes",className:"flex-1",children:e("notes.title")})]}),o.jsxs(_n,{value:"overview",className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold",children:er.company_name||"-"}),er.address&&o.jsx("p",{className:"text-muted-foreground mt-1",children:er.address})]}),er.lead_quotation&&o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-blue-50/50 dark:bg-blue-900/10",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:o.jsx(dv,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.quotation")}),o.jsx("a",{href:(fD=er.lead_quotation)==null?void 0:fD.public_url,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-600 hover:underline truncate block",children:(hD=er.lead_quotation)==null?void 0:hD.name})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Um,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.city")}),o.jsx("p",{className:"font-medium",children:Nj(er)})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(fI,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.activity")}),o.jsx("p",{className:"font-medium",children:Cj(er)})]})]}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.status")}),o.jsx(ct,{variant:"outline",className:`text-xs ${Aj(er.status_id)}`,children:Ej(er)})]})}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.stage")}),o.jsx(ct,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:rD(er)})]})}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(yn,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.system")}),o.jsx("p",{className:"font-medium",children:Tj(er)})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Rn,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.createdBy")}),o.jsx("p",{className:"font-medium",children:er.created_by_name||"-"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Rn,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.assignedTo")}),o.jsx("p",{className:"text-sm font-medium",children:er.Users_name||"-"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Rn,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.decisionMaker")}),o.jsx("p",{className:"text-sm font-medium",children:er.decision_maker||"-"})]})]}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.created")}),o.jsx("p",{className:"text-sm font-medium",children:new Date(er.created_at).toLocaleDateString()})]})}),o.jsx("div",{className:"flex items-start gap-2 p-3 rounded-lg border",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.notes")}),o.jsx("p",{className:"text-sm mt-1",children:er.notes||"-"})]})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mleads.contacts")}),(()=>{const V=k.length>0?k:[];return V.length>0?o.jsx("div",{className:"space-y-2",children:V.map((we,ze)=>{var ft;return o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:we.contact_name||"-"}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[we.contact_email&&`${we.contact_email}  `,we.contact_mobile&&`${we.contact_mobile}`]})]}),o.jsx(ct,{variant:"outline",className:"text-xs",children:((ft=A.find(_r=>_r.jobtitle_id===we.jobtitle_id))==null?void 0:ft.jobtitle_name_en)||"-"})]},we.contact_id||ze)})}):o.jsx("p",{className:"text-sm text-muted-foreground",children:e("mleads.noContactsFound")})})()]})]}),o.jsx(_n,{value:"notes",className:"mt-4",children:o.jsx(qP,{relatedType:"mlead",relatedId:er.leads_id,notes:ae,onNotesChange:()=>aD(er.leads_id)})})]})]})]})})]})}function KGe(e){const t=e.lastIndexOf("."),r=t!==-1?e.slice(t):"";return`contract-${crypto.randomUUID()}${r}`}async function GGe(e,t,r={}){const n=r.bucket||"projects",a=!!r.publicBucket;if(!e)throw new Error("No file provided");if(!t)throw new Error("projectId is required");const s=KGe(e.name),i=`projects/${t}/${s}`,{data:l,error:c}=await Vr.storage.from(n).upload(i,e,{cacheControl:"3600",upsert:!1});if(c)throw c;let u=null;if(a){const{data:m}=Vr.storage.from(n).getPublicUrl(i);u=(m==null?void 0:m.publicUrl)||null}else{const{data:p,error:g}=await Vr.storage.from(n).createSignedUrl(i,3600);if(g){const{data:v}=Vr.storage.from(n).getPublicUrl(i);if(u=(v==null?void 0:v.publicUrl)||null,!u)throw g}else u=(p==null?void 0:p.signedUrl)||null}const{data:{user:d}}=await Vr.auth.getUser(),f={bucket:n,path:i,url:u,name:e.name,filename:s,mime:e.type||null,size:e.size||null,uploaded_by:(d==null?void 0:d.id)||null,uploaded_at:new Date().toISOString()},{error:h}=await Vr.from("m_projects").update({contract_document:f}).eq("project_id",t);if(h){try{await Vr.storage.from(n).remove([i])}catch(m){console.error("Failed to delete uploaded file after DB update error:",m)}throw h}return f}async function YGe(e){try{const{data:t,error:r}=await Vr.from("m_projects").select("contract_document").eq("project_id",e).single();if(r)throw r;if(t!=null&&t.contract_document){const n=t.contract_document,{error:a}=await Vr.storage.from(n.bucket).remove([n.path]);a&&console.error("Failed to delete file from storage:",a);const{error:s}=await Vr.from("m_projects").update({contract_document:null}).eq("project_id",e);if(s)throw s}}catch(t){throw console.error("Error deleting contract document:",t),t}}function XGe(){var ae,te,ne;const{t:e}=$t(),{user:t}=hr(),{currentLanguage:r,isRTL:n}=La(),{toast:a}=Al();un();const{setBreadcrumbs:s}=wx();zs();const[i,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState([]),[p,g]=x.useState([]),[v,y]=x.useState([]),[b,w]=x.useState([]),[_,S]=x.useState(!0),[k,j]=x.useState(null),[N,C]=x.useState(""),[T,D]=x.useState(0),[A]=x.useState(9),[H,X]=x.useState(0),[L,I]=x.useState(""),[W,F]=x.useState(""),[M,G]=x.useState(null),[Q,E]=x.useState(null),[B,U]=x.useState(!1),[q,ee]=x.useState(!1),[oe,ge]=x.useState({city_name_en:"",city_name_ar:"",country_id:null});x.useState(null);const[se,Z]=x.useState(null),[he,P]=x.useState(!1),[De,Re]=x.useState([]),[Me,Be]=x.useState(!1),[Oe,ht]=x.useState("list"),[it,ce]=x.useState(null),[me,z]=x.useState(""),[fe,_e]=x.useState([]),[be,Le]=x.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[Se,je]=x.useState(!1),[pe,ke]=x.useState(!1);x.useState(!1),x.useState(!1),x.useState(!1);const[Ne,Xe]=x.useState(!1),[He,at]=x.useState({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""});x.useEffect(()=>{s([{label:e("navigation.dashboard"),href:"/"},{label:e("mprojects.masterProjects"),href:"/mprojects"}])},[s,e]),x.useEffect(()=>{Dt()},[]),x.useEffect(()=>{qt()},[T,N,L,W,d]),x.useEffect(()=>{Me&&yr()},[Me,N,L,W,d]);const Dt=async()=>{try{S(!0),j(null);const[R,O,J,le,re]=await Promise.all([Y.mCity.list({sort_by:"city_name_en",sort_order:"asc"}),Y.mContacts.list({sort_by:"contact_name",sort_order:"asc"}),Y.users.list({sort_by:"user_name",sort_order:"asc"}),Y.mCountry.list({sort_by:"country_name_en",sort_order:"asc"}),Y.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc"})]),de=ye=>Array.isArray(ye)?ye:ye!=null&&ye.data&&Array.isArray(ye.data)?ye.data:[];f(de(R)),m(de(O)),g(de(J)),y(de(le)),w(de(re))}catch(R){const O=R instanceof Error?R.message:"Failed to load data";j(O),a({title:"Error",description:O,variant:"destructive"})}finally{S(!1)}},qt=async()=>{try{S(!0),j(null);const R={};if(L&&(R.city_id=L),W){const le=d.filter(re=>{var de;return((de=re.country_id)==null?void 0:de.toString())===W}).map(re=>re.city_id);le.length>0?R.city_id=le:R.city_id=-1}const O={page:T,limit:A,sort_by:"created_at",sort_order:"desc",exact_filters:R};N&&(O.search=N);const J=await Y.mProjects.list(O);l(J.data||[]),X(J.total||0)}catch(R){const O=R instanceof Error?R.message:"Failed to load data";j(O),a({title:"Error",description:O,variant:"destructive"})}finally{S(!1)}},yr=async()=>{try{const R={};if(L&&(R.city_id=L),W){const le=d.filter(re=>{var de;return((de=re.country_id)==null?void 0:de.toString())===W}).map(re=>re.city_id);le.length>0?R.city_id=le:R.city_id=-1}const O={limit:1e3,exact_filters:R};N&&(O.search=N);const J=await Y.mProjects.list(O);u(J.data||[])}catch(R){console.error("Failed to load all filtered projects:",R)}},Un=async()=>{try{const R=await Y.mContacts.list({sort_by:"contact_name",sort_order:"asc"});m(R.data||[])}catch(R){console.error("Failed to load contacts:",R)}},dn=x.useMemo(()=>Me?c:i,[Me,c,i]),xi=x.useMemo(()=>{if(Me){const R=T*A,O=R+A;return dn.slice(R,O)}else return i},[Me,dn,i,T,A]),Nn=Math.ceil(H/A);x.useEffect(()=>{T>=Nn&&Nn>0&&D(Nn-1)},[T,Nn]);const zn=(R,O,J)=>{if(!R)return"-";let le=r==="ar"&&(R==null?void 0:R[J])||(R==null?void 0:R[O]);if(!le){const re=O.replace(/_en$/,""),de=J.replace(/_ar$/,"");le=r==="ar"&&(R==null?void 0:R[de])||(R==null?void 0:R[re])}return le||(R==null?void 0:R.name)||(R==null?void 0:R.label)||(R==null?void 0:R.title)||"-"},Cn=R=>{if(R==null||R==="")return"-";const O=Number(R),J=d.find(le=>Number(le.city_id)===O||Number(le.id)===O);return zn(J,"city_name_en","city_name_ar")},Xi=async()=>{if(!pe){ke(!0);try{let R;if(Q)await Y.mProjects.update(Q,He),R=Q,a({title:e("common.success"),description:e("mprojects.projectUpdatedSuccessfully")});else{const O={...He,created_by:t==null?void 0:t.id},J=await Y.mProjects.create(O);if(R=J.id||J.project_id,!R)throw new Error("Failed to create project");a({title:e("common.success"),description:e("mprojects.projectCreatedSuccessfully")})}if(Q){const O=h.filter(J=>J.project_id===Q);for(const J of O)await Y.mContacts.delete(J.contact_id);fe.length>0&&await er(R)}else fe.length>0&&await er(R);if(it){z("Uploading contract document...");try{await GGe(it,R,{bucket:"projects",publicBucket:!1}),z("Document uploaded successfully"),a({title:e("common.success"),description:"Contract document uploaded successfully"})}catch(O){console.error("File upload failed:",O),z("Document upload failed"),a({title:"Warning",description:"Project saved but document upload failed",variant:"destructive"})}}U(!1),E(null),at({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),_e([]),ce(null),z(""),await qt(),await Un()}catch(R){const O=R instanceof Error?R.message:"Failed to save";a({title:"Error",description:O,variant:"destructive"})}finally{ke(!1)}}},qs=async R=>{try{await Y.mProjects.delete(R),a({title:e("common.success"),description:e("mprojects.projectDeletedSuccessfully")}),G(null),await qt()}catch(O){const J=O instanceof Error?O.message:"Failed to delete";a({title:"Error",description:J,variant:"destructive"})}},yi=R=>{Z(R),Jn(R.project_id),Un(),P(!0)},Jn=async R=>{try{const O=await fm.getByRelated("mlead",R);Re(O)}catch(O){console.error("Failed to load notes:",O),Re([])}},bi=R=>{E(R.project_id),at(R);const O=h.filter(J=>J.project_id===R.project_id);_e(O.map(J=>{var le;return{contact_name:J.contact_name||"",contact_email:J.contact_email||"",contact_mobile:((le=J.contact_mobile)==null?void 0:le.toString())||"",jobtitle_id:J.jobtitle_id}})),U(!0)},Fl=async R=>{try{await Promise.all(R.map(O=>Y.mProjects.delete(O))),a({title:e("common.success"),description:e("mprojects.projectsDeletedSuccessfully")}),await qt()}catch(O){const J=O instanceof Error?O.message:"Failed to delete";a({title:"Error",description:J,variant:"destructive"})}},Ll=async()=>{try{if(!oe.city_name_en&&!oe.city_name_ar){a({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const R=await Y.mCity.create(oe);R&&(f([...d,R]),at({...He,city_id:R.city_id}),ee(!1),ge({city_name_en:"",city_name_ar:"",country_id:null}),a({title:e("common.success"),description:e("mprojects.cityCreatedSuccessfully")}))}catch(R){const O=R instanceof Error?R.message:"Failed to create city";a({title:"Error",description:O,variant:"destructive"})}},eh=()=>{if(!be.contact_name.trim()){a({title:"Error",description:"Please enter contact name",variant:"destructive"});return}if(fe.some(O=>O.contact_name===be.contact_name&&O.contact_email===be.contact_email&&O.contact_mobile===be.contact_mobile)){a({title:"Warning",description:"This contact already exists",variant:"destructive"});return}_e([...fe,{...be}]),Le({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),je(!1)},$l=R=>{_e(fe.filter((O,J)=>J!==R))},er=async R=>{try{const O=fe.map(J=>({contact_name:J.contact_name,contact_email:J.contact_email,contact_mobile:J.contact_mobile?parseInt(J.contact_mobile):null,jobtitle_id:J.jobtitle_id,project_id:R}));if(O.length>0)for(const J of O)await Y.mContacts.create(J)}catch(O){const J=O instanceof Error?O.message:"Failed to save contacts";a({title:"Error",description:J,variant:"destructive"})}};if(_)return o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx(ua,{message:e("common.loading"),size:"2xl"})});if(k)return o.jsx(c0,{message:k,onRetry:Dt});const ud=[{label:e("common.delete"),icon:o.jsx(or,{}),onClick:R=>{window.confirm(`Delete ${R.length} projects?`)&&Fl(R.map(O=>O.project_id))},variant:"destructive"}],dd=[{key:"company_name",header:e("mprojects.company"),className:"w-1/4 min-w-[200px]",render:R=>o.jsx(kc,{title:R.company_name||"-",subtitle:R.contract_code||"",icon:o.jsx(yn,{className:"h-4 w-4"})})},{key:"city_id",header:e("mprojects.city"),className:"w-1/6 min-w-[120px]",render:R=>o.jsx("span",{className:"text-sm text-foreground",children:Cn(R.city_id)})},{key:"contract_amount",header:e("mprojects.contractAmount"),className:"w-1/6 min-w-[120px]",render:R=>o.jsx(ct,{variant:"outline",className:"text-xs",children:R.contract_amount?`$${R.contract_amount.toLocaleString()}`:"-"})},{key:"cont_start_date",header:e("mprojects.startDate"),className:"w-1/6 min-w-[120px]",render:R=>o.jsx("span",{className:"text-sm text-muted-foreground",children:R.cont_start_date?new Date(R.cont_start_date).toLocaleDateString():"-"})},{key:"cont_end_date",header:e("mprojects.endDate"),className:"w-1/6 min-w-[120px]",render:R=>o.jsx("span",{className:"text-sm text-muted-foreground",children:R.cont_end_date?new Date(R.cont_end_date).toLocaleDateString():"-"})},{key:"created_at",header:e("mprojects.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:R=>o.jsx(Kf,{date:R.created_at})}],K=[{icon:o.jsx(zi,{}),label:e("common.edit"),onClick:R=>bi(R)},{icon:o.jsx(or,{}),label:e("common.delete"),onClick:R=>G(R.project_id),variant:"destructive"}];return o.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:n?"rtl":"ltr",children:[o.jsxs("div",{className:"flex-shrink-0 pb-3",children:[o.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4 mb-3",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[o.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[o.jsxs(ue,{variant:"outline",size:"default",onClick:()=>ht(Oe==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[Oe==="list"?o.jsx(oi,{className:"h-4 w-4"}):o.jsx(yn,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:e(Oe==="list"?"mprojects.kanbanView":"mprojects.listView")})]}),o.jsxs(ue,{variant:Me?"default":"outline",size:"default",onClick:()=>Be(!Me),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[o.jsx(oi,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:e("mprojects.showChart")}),o.jsx(M_,{className:`h-4 w-4 transition-transform ${Me?"rotate-180":""}`})]}),o.jsxs("div",{className:"flex-1 min-w-[200px] relative",dir:n?"rtl":"ltr",children:[o.jsx(Vs,{className:`absolute ${n?"right-3":"left-3"} top-3 h-4 w-4 text-muted-foreground`}),o.jsx(Ue,{placeholder:e("mprojects.searchPlaceholder"),value:N,onChange:R=>{C(R.target.value),D(1)},className:`${n?"pr-10 pl-3":"pl-10 pr-3"} h-10 bg-background border-input`})]})]}),o.jsxs(_l,{open:B,onOpenChange:U,children:[o.jsx(aW,{asChild:!0,children:o.jsxs(ue,{size:"default",onClick:()=>{E(null),at({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),_e([]),ce(null),z(""),ee(!1),je(!1),ge({city_name_en:"",city_name_ar:"",country_id:null}),Le({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),U(!0)},className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:n?"rtl":"ltr",children:[o.jsx(Gt,{className:`w-4 h-4 ${n?"order-2":"order-1"}`}),o.jsx("span",{className:`${n?"order-1":"order-2"}`,children:e("common.add")})]})}),o.jsxs(Lo,{side:n?"left":"right",className:"w-full sm:max-w-[540px] flex flex-col h-full p-0",children:[o.jsx(bc,{className:"p-6 pb-0",children:o.jsx(Sl,{children:e(Q?"mprojects.editProject":"mprojects.createNewProject")})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.companyName")," & ",e("mprojects.contractCode")]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.companyName")}),o.jsx(Ue,{value:He.company_name||"",onChange:R=>at({...He,company_name:R.target.value}),placeholder:e("mprojects.companyName"),className:"h-10"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractCode")}),o.jsx(Ue,{value:He.contract_code||"",onChange:R=>at({...He,contract_code:R.target.value}),placeholder:e("mprojects.contractCode"),className:"h-10"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.contractAmount")," & ",e("mprojects.startDate")]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractAmount")}),o.jsx(Ue,{type:"number",value:He.contract_amount||"",onChange:R=>at({...He,contract_amount:parseFloat(R.target.value)||null}),placeholder:e("mprojects.contractAmount"),className:"h-10"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.startDate")}),o.jsx(Ue,{type:"date",value:He.cont_start_date||"",onChange:R=>at({...He,cont_start_date:R.target.value}),className:"h-10"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.endDate")}),o.jsx(Ue,{type:"date",value:He.cont_end_date||"",onChange:R=>at({...He,cont_end_date:R.target.value}),className:"h-10"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.city")}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.city")}),o.jsxs(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>ee(!q),className:"h-7 px-3 text-xs hover:bg-primary/10",children:[o.jsx(Gt,{className:"h-3 w-3 mr-1"}),e(q?"mprojects.cancel":"mprojects.addCity")]})]}),q?o.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[o.jsx(Ue,{placeholder:"City Name (English)",value:oe.city_name_en,onChange:R=>ge({...oe,city_name_en:R.target.value}),className:"h-9"}),o.jsx(Ue,{placeholder:"City Name (Arabic)",value:oe.city_name_ar,onChange:R=>ge({...oe,city_name_ar:R.target.value}),className:"h-9"}),o.jsxs(xt,{value:((ae=oe.country_id)==null?void 0:ae.toString())||"",onValueChange:R=>ge({...oe,country_id:parseInt(R)}),children:[o.jsx(gt,{className:"h-9",children:o.jsx(yt,{placeholder:"Select Country"})}),o.jsx(vt,{children:v.map(R=>o.jsx(Ae,{value:R.country_id.toString(),children:zn(R,"country_name_en","country_name_ar")},R.country_id))})]}),o.jsxs(ue,{onClick:Ll,size:"sm",className:"w-full h-9",children:[o.jsx(Gt,{className:"h-4 w-4 mr-2"}),e("mprojects.createCity")]})]}):o.jsxs(xt,{value:((te=He.city_id)==null?void 0:te.toString())||"",onValueChange:R=>at({...He,city_id:parseInt(R)||null}),children:[o.jsx(gt,{className:"h-10",children:o.jsx(yt,{placeholder:e("mprojects.selectCity")})}),o.jsx(vt,{children:d.map(R=>o.jsx(Ae,{value:R.city_id.toString(),children:zn(R,"city_name_en","city_name_ar")},R.city_id))})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contacts")}),o.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>je(!Se),className:"h-6 px-2 text-xs",children:e(Se?"mprojects.cancel":"mprojects.addContact")})]}),fe.length>0&&o.jsx("div",{className:"space-y-2 mb-3",children:fe.map((R,O)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium",children:R.contact_name}),o.jsxs("div",{className:"text-muted-foreground",children:[R.contact_email&&`${R.contact_email}  `,R.contact_mobile&&`${R.contact_mobile}`]})]}),o.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>$l(O),className:"h-6 w-6 p-0",children:o.jsx(Ro,{className:"h-3 w-3"})})]},O))}),Se&&o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(Ue,{placeholder:e("mprojects.contactName"),value:be.contact_name,onChange:R=>Le({...be,contact_name:R.target.value})}),o.jsx(Ue,{placeholder:e("mprojects.email"),type:"email",value:be.contact_email,onChange:R=>Le({...be,contact_email:R.target.value})}),o.jsx(Ue,{placeholder:e("mprojects.mobile"),value:be.contact_mobile,onChange:R=>Le({...be,contact_mobile:R.target.value})}),o.jsxs(va,{open:Ne,onOpenChange:Xe,children:[o.jsx(xa,{asChild:!0,children:o.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Ne,className:"w-full justify-between",children:[be.jobtitle_id?(ne=b.find(R=>R.jobtitle_id===be.jobtitle_id))==null?void 0:ne.jobtitle_name_en:e("mprojects.selectJobTitle"),o.jsx(Wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Zn,{className:"w-full p-0",children:o.jsxs(ya,{children:[o.jsx(ba,{placeholder:e("mprojects.searchJobTitle")}),o.jsxs(wa,{children:[o.jsx(_a,{children:e("common.noResults")}),o.jsx(Sa,{children:b&&b.length>0?b.map(R=>o.jsx(Mr,{value:zn(R,"jobtitle_name_en","jobtitle_name_ar")||R.jobtitle_name_en||"Unknown",onSelect:()=>{Le(O=>({...O,jobtitle_id:R.jobtitle_id})),Xe(!1)},children:zn(R,"jobtitle_name_en","jobtitle_name_ar")||R.jobtitle_name_en||"Unknown"},R.jobtitle_id)):o.jsx(Mr,{disabled:!0,children:"No job titles available"})})]})]})})]}),o.jsx(ue,{type:"button",onClick:eh,className:"w-full",children:e("mprojects.addContactTitle")})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.contractDocument")}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mprojects.uploadContractDocument")}),o.jsx(Ue,{type:"file",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png",onChange:R=>{var J;const O=(J=R.target.files)==null?void 0:J[0];ce(O||null)},className:"file:hidden cursor-pointer"}),o.jsxs(ue,{type:"button",variant:"outline",className:"w-full flex items-center justify-center gap-2",onClick:()=>{const R=document.querySelector('input[type="file"]');R==null||R.click()},children:[o.jsx(Gt,{className:"h-4 w-4"}),e("common.add")]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("mprojects.supportedFormats"),": PDF, DOC, DOCX, TXT, JPG, JPEG, PNG"]})]}),it&&o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[o.jsx(Qs,{className:"h-5 w-5 text-primary flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:it.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[(it.size/1024/1024).toFixed(2)," MB"]})]}),o.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>ce(null),className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",children:o.jsx(Ro,{className:"h-4 w-4"})})]}),me&&o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx(ua,{size:"sm"}),o.jsx("span",{className:"text-sm text-blue-700",children:me})]})]})]})]}),o.jsx("div",{className:"p-6 border-t bg-muted/20",children:o.jsx(ue,{onClick:Xi,className:"w-full",disabled:pe||!He.company_name,children:e(pe?"common.saving":Q?"common.save":"common.create")})})]})]})]})}),o.jsxs("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")||"Filters"}),(L||W||N)&&o.jsx(ue,{variant:"outline",size:"sm",onClick:()=>{I(""),F(""),C(""),D(1)},children:e("mprojects.clearFilters")})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(xt,{value:W||"all",onValueChange:R=>{F(R==="all"?"":R),D(1)},children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:e("mprojects.country")})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"all",children:e("mprojects.allCountries")}),v.map(R=>o.jsx(Ae,{value:R.country_id.toString(),children:zn(R,"country_name_en","country_name_ar")},R.country_id))]})]}),o.jsxs(xt,{value:L||"all",onValueChange:R=>{I(R==="all"?"":R),D(1)},children:[o.jsx(gt,{children:o.jsx(yt,{placeholder:e("mprojects.city")})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"all",children:e("mprojects.allCities")}),d.map(R=>o.jsx(Ae,{value:R.city_id.toString(),children:zn(R,"city_name_en","city_name_ar")},R.city_id))]})]})]})]})]}),Me&&o.jsxs(et,{children:[o.jsx(Bt,{children:o.jsx(lr,{children:e("mprojects.analytics")})}),o.jsx(ot,{children:o.jsxs(Nl,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Bo,{className:"grid w-full grid-cols-2",children:[o.jsx(Hr,{value:"overview",children:"Overview"}),o.jsx(Hr,{value:"timeline",children:"Timeline"})]}),o.jsx(_n,{value:"overview",className:"mt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Contract Amount Range"}),o.jsx(au,{config:{},className:"h-[350px]",children:o.jsxs(Td,{children:[o.jsx(ts,{data:[{name:"< $10K",min:0,max:1e4},{name:"$10K - $50K",min:1e4,max:5e4},{name:"$50K - $100K",min:5e4,max:1e5},{name:"> $100K",min:1e5,max:1/0}].map(J=>({name:J.name,value:dn.filter(le=>le.contract_amount&&le.contract_amount>=J.min&&le.contract_amount<J.max).length})).filter(J=>J.value>0),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,value:O})=>`${R}: ${O}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((R,O)=>o.jsx(sl,{fill:R},`cell-${O}`))}),o.jsx(Pd,{content:o.jsx(su,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),o.jsx(au,{config:{},className:"h-[350px]",children:o.jsxs(Td,{children:[o.jsx(ts,{data:(()=>{const R=d.map(O=>({name:zn(O,"city_name_en","city_name_ar"),value:dn.filter(J=>J.city_id===O.city_id).length})).filter(O=>O.value>0);return R.length>0?R:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,value:O})=>`${R}: ${O}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((R,O)=>o.jsx(sl,{fill:R},`cell-${O}`))}),o.jsx(Pd,{content:o.jsx(su,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Projects"}),o.jsx("div",{className:"text-5xl font-bold text-primary",children:dn.length}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),o.jsx(_n,{value:"timeline",className:"mt-4",children:o.jsx("div",{className:"w-full h-[400px]",children:o.jsx(n0,{width:"100%",height:"100%",children:o.jsxs(Kx,{data:(()=>{const R=new Map;return dn.forEach(J=>{const le=new Date(J.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});R.set(le,(R.get(le)||0)+1)}),Array.from(R.entries()).sort((J,le)=>new Date(J[0]).getTime()-new Date(le[0]).getTime()).map(([J,le])=>({date:J,count:le}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[o.jsx(l0,{strokeDasharray:"3 3"}),o.jsx(id,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),o.jsx(od,{label:{value:"Number of Projects",angle:-90,position:"insideLeft"}}),o.jsx(Qa,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:R=>[`${R} projects`,"Total"]}),o.jsx(Eo,{}),o.jsx(Pc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Projects"})]})})})})]})})]}),o.jsx(et,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:o.jsx(ot,{className:"h-full flex flex-col p-0",children:o.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 p-4",children:Oe==="kanban"?o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pt-4",children:xi.map(R=>{var O;return o.jsxs(et,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>yi(R),children:[o.jsx(Bt,{className:"pb-2 px-4 pt-3",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:R.company_name||"No Company"}),R.contract_code&&o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:R.contract_code})]})})}),o.jsxs(ot,{className:"px-4 pb-3 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Um,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),o.jsx("p",{className:"text-xs font-medium truncate",children:Cn(R.city_id)})]})}),o.jsx("div",{children:o.jsxs(ct,{variant:"outline",className:"text-xs",children:["$",((O=R.contract_amount)==null?void 0:O.toLocaleString())||"0"]})})]}),o.jsx("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("span",{children:["Created: ",new Date(R.created_at).toLocaleDateString()]})})})]})]},R.project_id)})})}):o.jsx(o.Fragment,{children:dn.length===0?o.jsx(vl,{title:e("mprojects.noProjectsFound"),description:e("mprojects.createNewProjectToGetStarted"),icon:o.jsx(yn,{className:"h-12 w-12"})}):o.jsx(jc,{data:xi,columns:dd,actions:K,bulkActions:ud,enableBulkSelect:!0,keyExtractor:R=>R.project_id.toString(),onRowClick:R=>yi(R),rowHeight:"h-26"})})})})}),o.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:Nn>0&&o.jsx("div",{className:"flex justify-center",children:o.jsx(Sp,{children:o.jsxs(jp,{children:[o.jsx(Ta,{children:o.jsx(xu,{onClick:()=>D(Math.max(0,T-1)),className:T===0?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),o.jsx(Ta,{children:o.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",T+1," ",e("common.of")," ",Nn]})}),o.jsx(Ta,{children:o.jsx(yu,{onClick:()=>D(Math.min(Nn-1,T+1)),className:T===Nn-1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})}),o.jsx(hi,{open:M!==null,onOpenChange:()=>G(null),children:o.jsxs(Is,{children:[o.jsxs(Ms,{children:[o.jsx(Ls,{children:e("mprojects.deleteProject")}),o.jsx($s,{children:e("mprojects.deleteProjectConfirmation")})]}),o.jsxs(Fs,{children:[o.jsx(Us,{children:e("common.cancel")}),o.jsx(Bs,{onClick:()=>M&&qs(M),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),o.jsx(_l,{open:he,onOpenChange:P,children:o.jsxs(Lo,{side:n?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[o.jsx(bc,{children:o.jsxs(Sl,{className:"flex items-center gap-2 min-w-0",children:[o.jsx(yn,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:se==null?void 0:se.company_name})]})}),se&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:e("mprojects.projectDetails")}),o.jsxs(ue,{onClick:()=>{bi(se),P(!1)},variant:"outline",size:"sm",children:[o.jsx(zi,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),o.jsxs(Nl,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Bo,{className:"grid w-full grid-cols-2",children:[o.jsx(Hr,{value:"overview",children:e("common.overview")}),o.jsx(Hr,{value:"notes",children:e("notes.title")})]}),o.jsxs(_n,{value:"overview",className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold",children:se.company_name||"-"}),se.contract_code&&o.jsxs("p",{className:"text-muted-foreground mt-1",children:["Contract: ",se.contract_code]})]}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractAmount")}),o.jsx("p",{className:"font-medium",children:se.contract_amount?`$${se.contract_amount.toLocaleString()}`:"-"})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.startDate")}),o.jsx("p",{className:"font-medium",children:se.cont_start_date?new Date(se.cont_start_date).toLocaleDateString():"-"})]})}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.endDate")}),o.jsx("p",{className:"font-medium",children:se.cont_end_date?new Date(se.cont_end_date).toLocaleDateString():"-"})]})})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Um,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.city")}),o.jsx("p",{className:"font-medium",children:Cn(se.city_id)})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mprojects.contacts")}),(()=>{const R=h.filter(O=>O.project_id===se.project_id);return R.length>0?o.jsx("div",{className:"space-y-2",children:R.map((O,J)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:O.contact_name||"-"}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[O.contact_email&&`${O.contact_email}  `,O.contact_mobile&&`${O.contact_mobile}`]})]}),o.jsx(ct,{variant:"outline",className:"text-xs",children:b.find(le=>le.jobtitle_id===O.jobtitle_id)?zn(b.find(le=>le.jobtitle_id===O.jobtitle_id),"jobtitle_name_en","jobtitle_name_ar"):"-"})]},O.contact_id||J))}):o.jsx("p",{className:"text-sm text-muted-foreground",children:e("mprojects.noContactsFound")})})()]}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.created")}),o.jsx("p",{className:"text-sm font-medium",children:new Date(se.created_at).toLocaleDateString()})]})}),se.contract_document&&(()=>{const R=se.contract_document;return o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Qs,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractDocument")}),o.jsx("p",{className:"text-sm font-medium truncate",children:R.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[R.size&&`${(R.size/1024/1024).toFixed(2)} MB`,"  ",new Date(R.uploaded_at).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex gap-1",children:[R.url&&o.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>window.open(R.url,"_blank"),className:"h-8 w-8 p-0",children:o.jsx(yie,{className:"h-4 w-4"})}),o.jsx(ue,{variant:"ghost",size:"sm",onClick:async()=>{try{await YGe(se.project_id),a({title:e("common.success"),description:"Contract document deleted successfully"}),await qt(),P(!1)}catch{a({title:"Error",description:"Failed to delete contract document",variant:"destructive"})}},className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:o.jsx(or,{className:"h-4 w-4"})})]})]})})()]}),o.jsx(_n,{value:"notes",className:"mt-4",children:o.jsx(qP,{relatedType:"mlead",relatedId:se.project_id,notes:De,onNotesChange:()=>Jn(se.project_id)})})]})]})]})})]})}const V0={async getRequests(){return(await Y.requests.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async getRequestById(e){return await Y.requests.get(e)},async createRequest(e){return await Y.requests.create(e)},async updateRequest(e,t){return await Y.requests.update(e,t)},async deleteRequest(e){await Y.requests.delete(e)}};var fy=e=>e.type==="checkbox",Hd=e=>e instanceof Date,Ja=e=>e==null;const VJ=e=>typeof e=="object";var cn=e=>!Ja(e)&&!Array.isArray(e)&&VJ(e)&&!Hd(e),WJ=e=>cn(e)&&e.target?fy(e.target)?e.target.checked:e.target.value:e,JGe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,HJ=(e,t)=>e.has(JGe(t)),QGe=e=>{const t=e.constructor&&e.constructor.prototype;return cn(t)&&t.hasOwnProperty("isPrototypeOf")},$4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function On(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!($4&&(e instanceof Blob||n))&&(r||cn(e)))if(t=r?[]:{},!r&&!QGe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=On(e[a]));else return e;return t}var vj=e=>/^\w*$/.test(e),rn=e=>e===void 0,B4=e=>Array.isArray(e)?e.filter(Boolean):[],U4=e=>B4(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Je=(e,t,r)=>{if(!t||!cn(e))return r;const n=(vj(t)?[t]:U4(t)).reduce((a,s)=>Ja(a)?a:a[s],e);return rn(n)||n===e?rn(e[t])?r:e[t]:n},Js=e=>typeof e=="boolean",mr=(e,t,r)=>{let n=-1;const a=vj(t)?[t]:U4(t),s=a.length,i=s-1;for(;++n<s;){const l=a[n];let c=r;if(n!==i){const u=e[l];c=cn(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const l_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},wo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},z4=ie.createContext(null);z4.displayName="HookFormContext";const xj=()=>ie.useContext(z4),ZGe=e=>{const{children:t,...r}=e;return ie.createElement(z4.Provider,{value:r},t)};var qJ=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const i=s;return t._proxyFormState[i]!==wo.all&&(t._proxyFormState[i]=!n||wo.all),r&&(r[i]=!0),e[i]}});return a};const V4=typeof window<"u"?ie.useLayoutEffect:ie.useEffect;function eYe(e){const t=xj(),{control:r=t.control,disabled:n,name:a,exact:s}=e||{},[i,l]=ie.useState(r._formState),c=ie.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return V4(()=>r._subscribe({name:a,formState:c.current,exact:s,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,s]),ie.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),ie.useMemo(()=>qJ(i,r,c.current,!1),[i,r])}var ul=e=>typeof e=="string",KJ=(e,t,r,n,a)=>ul(e)?(n&&t.watch.add(e),Je(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),Je(r,s))):(n&&(t.watchAll=!0),r),_T=e=>Ja(e)||!VJ(e);function Ql(e,t,r=new WeakSet){if(_T(e)||_T(t))return e===t;if(Hd(e)&&Hd(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const i=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const l=t[s];if(Hd(i)&&Hd(l)||cn(i)&&cn(l)||Array.isArray(i)&&Array.isArray(l)?!Ql(i,l,r):i!==l)return!1}}return!0}function tYe(e){const t=xj(),{control:r=t.control,name:n,defaultValue:a,disabled:s,exact:i,compute:l}=e||{},c=ie.useRef(a),u=ie.useRef(l),d=ie.useRef(void 0);u.current=l;const f=ie.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=ie.useState(u.current?u.current(f):f);return V4(()=>r._subscribe({name:n,formState:{values:!0},exact:i,callback:p=>{if(!s){const g=KJ(n,r._names,p.values||r._formValues,!1,c.current);if(u.current){const v=u.current(g);Ql(v,d.current)||(m(v),d.current=v)}else m(g)}}}),[r,s,n,i]),ie.useEffect(()=>r._removeUnmounted()),h}function rYe(e){const t=xj(),{name:r,disabled:n,control:a=t.control,shouldUnregister:s,defaultValue:i}=e,l=HJ(a._names.array,r),c=ie.useMemo(()=>Je(a._formValues,r,Je(a._defaultValues,r,i)),[a,r,i]),u=tYe({control:a,name:r,defaultValue:c,exact:!0}),d=eYe({control:a,name:r,exact:!0}),f=ie.useRef(e),h=ie.useRef(a.register(r,{...e.rules,value:u,...Js(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=ie.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Je(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Je(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Je(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Je(d.validatingFields,r)},error:{enumerable:!0,get:()=>Je(d.errors,r)}}),[d,r]),p=ie.useCallback(b=>h.current.onChange({target:{value:WJ(b),name:r},type:l_.CHANGE}),[r]),g=ie.useCallback(()=>h.current.onBlur({target:{value:Je(a._formValues,r),name:r},type:l_.BLUR}),[r,a._formValues]),v=ie.useCallback(b=>{const w=Je(a._fields,r);w&&b&&(w._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:_=>b.setCustomValidity(_),reportValidity:()=>b.reportValidity()})},[a._fields,r]),y=ie.useMemo(()=>({name:r,value:u,...Js(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:p,onBlur:g,ref:v}),[r,n,d.disabled,p,g,v,u]);return ie.useEffect(()=>{const b=a._options.shouldUnregister||s;a.register(r,{...f.current.rules,...Js(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(_,S)=>{const k=Je(a._fields,_);k&&k._f&&(k._f.mount=S)};if(w(r,!0),b){const _=On(Je(a._options.defaultValues,r));mr(a._defaultValues,r,_),rn(Je(a._formValues,r))&&mr(a._formValues,r,_)}return!l&&a.register(r),()=>{(l?b&&!a._state.action:b)?a.unregister(r):w(r,!1)}},[r,a,l,s]),ie.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),ie.useMemo(()=>({field:y,formState:d,fieldState:m}),[y,d,m])}const nYe=e=>e.render(rYe(e));var GJ=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Bg=e=>Array.isArray(e)?e:[e],r8=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},ys=e=>cn(e)&&!Object.keys(e).length,W4=e=>e.type==="file",_o=e=>typeof e=="function",c_=e=>{if(!$4)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},YJ=e=>e.type==="select-multiple",H4=e=>e.type==="radio",aYe=e=>H4(e)||fy(e),PN=e=>c_(e)&&e.isConnected;function sYe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=rn(e)?n++:e[t[n++]];return e}function iYe(e){for(const t in e)if(e.hasOwnProperty(t)&&!rn(e[t]))return!1;return!0}function mn(e,t){const r=Array.isArray(t)?t:vj(t)?[t]:U4(t),n=r.length===1?e:sYe(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(cn(n)&&ys(n)||Array.isArray(n)&&iYe(n))&&mn(e,r.slice(0,-1)),e}var XJ=e=>{for(const t in e)if(_o(e[t]))return!0;return!1};function u_(e,t={}){const r=Array.isArray(e);if(cn(e)||r)for(const n in e)Array.isArray(e[n])||cn(e[n])&&!XJ(e[n])?(t[n]=Array.isArray(e[n])?[]:{},u_(e[n],t[n])):Ja(e[n])||(t[n]=!0);return t}function JJ(e,t,r){const n=Array.isArray(e);if(cn(e)||n)for(const a in e)Array.isArray(e[a])||cn(e[a])&&!XJ(e[a])?rn(t)||_T(r[a])?r[a]=Array.isArray(e[a])?u_(e[a],[]):{...u_(e[a])}:JJ(e[a],Ja(t)?{}:t[a],r[a]):r[a]=!Ql(e[a],t[a]);return r}var W0=(e,t)=>JJ(e,t,u_(t));const n8={value:!1,isValid:!1},a8={value:!0,isValid:!0};var QJ=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!rn(e[0].attributes.value)?rn(e[0].value)||e[0].value===""?a8:{value:e[0].value,isValid:!0}:a8:n8}return n8},ZJ=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>rn(e)?e:t?e===""?NaN:e&&+e:r&&ul(e)?new Date(e):n?n(e):e;const s8={isValid:!1,value:null};var eQ=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,s8):s8;function i8(e){const t=e.ref;return W4(t)?t.files:H4(t)?eQ(e.refs).value:YJ(t)?[...t.selectedOptions].map(({value:r})=>r):fy(t)?QJ(e.refs).value:ZJ(rn(t.value)?e.ref.value:t.value,e)}var oYe=(e,t,r,n)=>{const a={};for(const s of e){const i=Je(t,s);i&&mr(a,s,i._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},d_=e=>e instanceof RegExp,H0=e=>rn(e)?e:d_(e)?e.source:cn(e)?d_(e.value)?e.value.source:e.value:e,o8=e=>({isOnSubmit:!e||e===wo.onSubmit,isOnBlur:e===wo.onBlur,isOnChange:e===wo.onChange,isOnAll:e===wo.all,isOnTouch:e===wo.onTouched});const l8="AsyncFunction";var lYe=e=>!!e&&!!e.validate&&!!(_o(e.validate)&&e.validate.constructor.name===l8||cn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===l8)),cYe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),c8=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Ug=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=Je(e,a);if(s){const{_f:i,...l}=s;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],a)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(Ug(l,t))break}else if(cn(l)&&Ug(l,t))break}}};function u8(e,t,r){const n=Je(e,r);if(n||vj(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),i=Je(t,s),l=Je(e,s);if(i&&!Array.isArray(i)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};a.pop()}return{name:r}}var uYe=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return ys(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(i=>t[i]===(!n||wo.all))},dYe=(e,t,r)=>!e||!t||e===t||Bg(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),fYe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,hYe=(e,t)=>!B4(Je(e,t)).length&&mn(e,t),mYe=(e,t,r)=>{const n=Bg(Je(e,r));return mr(n,"root",t[r]),mr(e,r,n),e},Qb=e=>ul(e);function d8(e,t,r="validate"){if(Qb(e)||Array.isArray(e)&&e.every(Qb)||Js(e)&&!e)return{type:r,message:Qb(e)?e:"",ref:t}}var bh=e=>cn(e)&&!d_(e)?e:{value:e,message:""},f8=async(e,t,r,n,a,s)=>{const{ref:i,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:p,name:g,valueAsNumber:v,mount:y}=e._f,b=Je(r,g);if(!y||t.has(g))return{};const w=l?l[0]:i,_=A=>{a&&w.reportValidity&&(w.setCustomValidity(Js(A)?"":A||""),w.reportValidity())},S={},k=H4(i),j=fy(i),N=k||j,C=(v||W4(i))&&rn(i.value)&&rn(b)||c_(i)&&i.value===""||b===""||Array.isArray(b)&&!b.length,T=GJ.bind(null,g,n,S),D=(A,H,X,L=Wl.maxLength,I=Wl.minLength)=>{const W=A?H:X;S[g]={type:A?L:I,message:W,ref:i,...T(A?L:I,W)}};if(s?!Array.isArray(b)||!b.length:c&&(!N&&(C||Ja(b))||Js(b)&&!b||j&&!QJ(l).isValid||k&&!eQ(l).isValid)){const{value:A,message:H}=Qb(c)?{value:!!c,message:c}:bh(c);if(A&&(S[g]={type:Wl.required,message:H,ref:w,...T(Wl.required,H)},!n))return _(H),S}if(!C&&(!Ja(f)||!Ja(h))){let A,H;const X=bh(h),L=bh(f);if(!Ja(b)&&!isNaN(b)){const I=i.valueAsNumber||b&&+b;Ja(X.value)||(A=I>X.value),Ja(L.value)||(H=I<L.value)}else{const I=i.valueAsDate||new Date(b),W=G=>new Date(new Date().toDateString()+" "+G),F=i.type=="time",M=i.type=="week";ul(X.value)&&b&&(A=F?W(b)>W(X.value):M?b>X.value:I>new Date(X.value)),ul(L.value)&&b&&(H=F?W(b)<W(L.value):M?b<L.value:I<new Date(L.value))}if((A||H)&&(D(!!A,X.message,L.message,Wl.max,Wl.min),!n))return _(S[g].message),S}if((u||d)&&!C&&(ul(b)||s&&Array.isArray(b))){const A=bh(u),H=bh(d),X=!Ja(A.value)&&b.length>+A.value,L=!Ja(H.value)&&b.length<+H.value;if((X||L)&&(D(X,A.message,H.message),!n))return _(S[g].message),S}if(m&&!C&&ul(b)){const{value:A,message:H}=bh(m);if(d_(A)&&!b.match(A)&&(S[g]={type:Wl.pattern,message:H,ref:i,...T(Wl.pattern,H)},!n))return _(H),S}if(p){if(_o(p)){const A=await p(b,r),H=d8(A,w);if(H&&(S[g]={...H,...T(Wl.validate,H.message)},!n))return _(H.message),S}else if(cn(p)){let A={};for(const H in p){if(!ys(A)&&!n)break;const X=d8(await p[H](b,r),w,H);X&&(A={...X,...T(H,X.message)},_(X.message),n&&(S[g]=A))}if(!ys(A)&&(S[g]={ref:w,...A},!n))return S}}return _(!0),S};const pYe={mode:wo.onSubmit,reValidateMode:wo.onChange,shouldFocusError:!0};function gYe(e={}){let t={...pYe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:_o(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=cn(t.defaultValues)||cn(t.values)?On(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:On(a),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:r8(),state:r8()},m=t.criteriaMode===wo.all,p=ce=>me=>{clearTimeout(u),u=setTimeout(ce,me)},g=async ce=>{if(!t.disabled&&(d.isValid||f.isValid||ce)){const me=t.resolver?ys((await j()).errors):await C(n,!0);me!==r.isValid&&h.state.next({isValid:me})}},v=(ce,me)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((ce||Array.from(l.mount)).forEach(z=>{z&&(me?mr(r.validatingFields,z,me):mn(r.validatingFields,z))}),h.state.next({validatingFields:r.validatingFields,isValidating:!ys(r.validatingFields)}))},y=(ce,me=[],z,fe,_e=!0,be=!0)=>{if(fe&&z&&!t.disabled){if(i.action=!0,be&&Array.isArray(Je(n,ce))){const Le=z(Je(n,ce),fe.argA,fe.argB);_e&&mr(n,ce,Le)}if(be&&Array.isArray(Je(r.errors,ce))){const Le=z(Je(r.errors,ce),fe.argA,fe.argB);_e&&mr(r.errors,ce,Le),hYe(r.errors,ce)}if((d.touchedFields||f.touchedFields)&&be&&Array.isArray(Je(r.touchedFields,ce))){const Le=z(Je(r.touchedFields,ce),fe.argA,fe.argB);_e&&mr(r.touchedFields,ce,Le)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=W0(a,s)),h.state.next({name:ce,isDirty:D(ce,me),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else mr(s,ce,me)},b=(ce,me)=>{mr(r.errors,ce,me),h.state.next({errors:r.errors})},w=ce=>{r.errors=ce,h.state.next({errors:r.errors,isValid:!1})},_=(ce,me,z,fe)=>{const _e=Je(n,ce);if(_e){const be=Je(s,ce,rn(z)?Je(a,ce):z);rn(be)||fe&&fe.defaultChecked||me?mr(s,ce,me?be:i8(_e._f)):X(ce,be),i.mount&&g()}},S=(ce,me,z,fe,_e)=>{let be=!1,Le=!1;const Se={name:ce};if(!t.disabled){if(!z||fe){(d.isDirty||f.isDirty)&&(Le=r.isDirty,r.isDirty=Se.isDirty=D(),be=Le!==Se.isDirty);const je=Ql(Je(a,ce),me);Le=!!Je(r.dirtyFields,ce),je?mn(r.dirtyFields,ce):mr(r.dirtyFields,ce,!0),Se.dirtyFields=r.dirtyFields,be=be||(d.dirtyFields||f.dirtyFields)&&Le!==!je}if(z){const je=Je(r.touchedFields,ce);je||(mr(r.touchedFields,ce,z),Se.touchedFields=r.touchedFields,be=be||(d.touchedFields||f.touchedFields)&&je!==z)}be&&_e&&h.state.next(Se)}return be?Se:{}},k=(ce,me,z,fe)=>{const _e=Je(r.errors,ce),be=(d.isValid||f.isValid)&&Js(me)&&r.isValid!==me;if(t.delayError&&z?(c=p(()=>b(ce,z)),c(t.delayError)):(clearTimeout(u),c=null,z?mr(r.errors,ce,z):mn(r.errors,ce)),(z?!Ql(_e,z):_e)||!ys(fe)||be){const Le={...fe,...be&&Js(me)?{isValid:me}:{},errors:r.errors,name:ce};r={...r,...Le},h.state.next(Le)}},j=async ce=>{v(ce,!0);const me=await t.resolver(s,t.context,oYe(ce||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(ce),me},N=async ce=>{const{errors:me}=await j(ce);if(ce)for(const z of ce){const fe=Je(me,z);fe?mr(r.errors,z,fe):mn(r.errors,z)}else r.errors=me;return me},C=async(ce,me,z={valid:!0})=>{for(const fe in ce){const _e=ce[fe];if(_e){const{_f:be,...Le}=_e;if(be){const Se=l.array.has(be.name),je=_e._f&&lYe(_e._f);je&&d.validatingFields&&v([fe],!0);const pe=await f8(_e,l.disabled,s,m,t.shouldUseNativeValidation&&!me,Se);if(je&&d.validatingFields&&v([fe]),pe[be.name]&&(z.valid=!1,me))break;!me&&(Je(pe,be.name)?Se?mYe(r.errors,pe,be.name):mr(r.errors,be.name,pe[be.name]):mn(r.errors,be.name))}!ys(Le)&&await C(Le,me,z)}}return z.valid},T=()=>{for(const ce of l.unMount){const me=Je(n,ce);me&&(me._f.refs?me._f.refs.every(z=>!PN(z)):!PN(me._f.ref))&&oe(ce)}l.unMount=new Set},D=(ce,me)=>!t.disabled&&(ce&&me&&mr(s,ce,me),!Ql(G(),a)),A=(ce,me,z)=>KJ(ce,l,{...i.mount?s:rn(me)?a:ul(ce)?{[ce]:me}:me},z,me),H=ce=>B4(Je(i.mount?s:a,ce,t.shouldUnregister?Je(a,ce,[]):[])),X=(ce,me,z={})=>{const fe=Je(n,ce);let _e=me;if(fe){const be=fe._f;be&&(!be.disabled&&mr(s,ce,ZJ(me,be)),_e=c_(be.ref)&&Ja(me)?"":me,YJ(be.ref)?[...be.ref.options].forEach(Le=>Le.selected=_e.includes(Le.value)):be.refs?fy(be.ref)?be.refs.forEach(Le=>{(!Le.defaultChecked||!Le.disabled)&&(Array.isArray(_e)?Le.checked=!!_e.find(Se=>Se===Le.value):Le.checked=_e===Le.value||!!_e)}):be.refs.forEach(Le=>Le.checked=Le.value===_e):W4(be.ref)?be.ref.value="":(be.ref.value=_e,be.ref.type||h.state.next({name:ce,values:On(s)})))}(z.shouldDirty||z.shouldTouch)&&S(ce,_e,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&M(ce)},L=(ce,me,z)=>{for(const fe in me){if(!me.hasOwnProperty(fe))return;const _e=me[fe],be=ce+"."+fe,Le=Je(n,be);(l.array.has(ce)||cn(_e)||Le&&!Le._f)&&!Hd(_e)?L(be,_e,z):X(be,_e,z)}},I=(ce,me,z={})=>{const fe=Je(n,ce),_e=l.array.has(ce),be=On(me);mr(s,ce,be),_e?(h.array.next({name:ce,values:On(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&z.shouldDirty&&h.state.next({name:ce,dirtyFields:W0(a,s),isDirty:D(ce,be)})):fe&&!fe._f&&!Ja(be)?L(ce,be,z):X(ce,be,z),c8(ce,l)&&h.state.next({...r,name:ce}),h.state.next({name:i.mount?ce:void 0,values:On(s)})},W=async ce=>{i.mount=!0;const me=ce.target;let z=me.name,fe=!0;const _e=Je(n,z),be=je=>{fe=Number.isNaN(je)||Hd(je)&&isNaN(je.getTime())||Ql(je,Je(s,z,je))},Le=o8(t.mode),Se=o8(t.reValidateMode);if(_e){let je,pe;const ke=me.type?i8(_e._f):WJ(ce),Ne=ce.type===l_.BLUR||ce.type===l_.FOCUS_OUT,Xe=!cYe(_e._f)&&!t.resolver&&!Je(r.errors,z)&&!_e._f.deps||fYe(Ne,Je(r.touchedFields,z),r.isSubmitted,Se,Le),He=c8(z,l,Ne);mr(s,z,ke),Ne?(_e._f.onBlur&&_e._f.onBlur(ce),c&&c(0)):_e._f.onChange&&_e._f.onChange(ce);const at=S(z,ke,Ne),Dt=!ys(at)||He;if(!Ne&&h.state.next({name:z,type:ce.type,values:On(s)}),Xe)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Ne&&g():Ne||g()),Dt&&h.state.next({name:z,...He?{}:at});if(!Ne&&He&&h.state.next({...r}),t.resolver){const{errors:qt}=await j([z]);if(be(ke),fe){const yr=u8(r.errors,n,z),Un=u8(qt,n,yr.name||z);je=Un.error,z=Un.name,pe=ys(qt)}}else v([z],!0),je=(await f8(_e,l.disabled,s,m,t.shouldUseNativeValidation))[z],v([z]),be(ke),fe&&(je?pe=!1:(d.isValid||f.isValid)&&(pe=await C(n,!0)));fe&&(_e._f.deps&&M(_e._f.deps),k(z,pe,je,at))}},F=(ce,me)=>{if(Je(r.errors,me)&&ce.focus)return ce.focus(),1},M=async(ce,me={})=>{let z,fe;const _e=Bg(ce);if(t.resolver){const be=await N(rn(ce)?ce:_e);z=ys(be),fe=ce?!_e.some(Le=>Je(be,Le)):z}else ce?(fe=(await Promise.all(_e.map(async be=>{const Le=Je(n,be);return await C(Le&&Le._f?{[be]:Le}:Le)}))).every(Boolean),!(!fe&&!r.isValid)&&g()):fe=z=await C(n);return h.state.next({...!ul(ce)||(d.isValid||f.isValid)&&z!==r.isValid?{}:{name:ce},...t.resolver||!ce?{isValid:z}:{},errors:r.errors}),me.shouldFocus&&!fe&&Ug(n,F,ce?_e:l.mount),fe},G=ce=>{const me={...i.mount?s:a};return rn(ce)?me:ul(ce)?Je(me,ce):ce.map(z=>Je(me,z))},Q=(ce,me)=>({invalid:!!Je((me||r).errors,ce),isDirty:!!Je((me||r).dirtyFields,ce),error:Je((me||r).errors,ce),isValidating:!!Je(r.validatingFields,ce),isTouched:!!Je((me||r).touchedFields,ce)}),E=ce=>{ce&&Bg(ce).forEach(me=>mn(r.errors,me)),h.state.next({errors:ce?r.errors:{}})},B=(ce,me,z)=>{const fe=(Je(n,ce,{_f:{}})._f||{}).ref,_e=Je(r.errors,ce)||{},{ref:be,message:Le,type:Se,...je}=_e;mr(r.errors,ce,{...je,...me,ref:fe}),h.state.next({name:ce,errors:r.errors,isValid:!1}),z&&z.shouldFocus&&fe&&fe.focus&&fe.focus()},U=(ce,me)=>_o(ce)?h.state.subscribe({next:z=>"values"in z&&ce(A(void 0,me),z)}):A(ce,me,!0),q=ce=>h.state.subscribe({next:me=>{dYe(ce.name,me.name,ce.exact)&&uYe(me,ce.formState||d,Oe,ce.reRenderRoot)&&ce.callback({values:{...s},...r,...me,defaultValues:a})}}).unsubscribe,ee=ce=>(i.mount=!0,f={...f,...ce.formState},q({...ce,formState:f})),oe=(ce,me={})=>{for(const z of ce?Bg(ce):l.mount)l.mount.delete(z),l.array.delete(z),me.keepValue||(mn(n,z),mn(s,z)),!me.keepError&&mn(r.errors,z),!me.keepDirty&&mn(r.dirtyFields,z),!me.keepTouched&&mn(r.touchedFields,z),!me.keepIsValidating&&mn(r.validatingFields,z),!t.shouldUnregister&&!me.keepDefaultValue&&mn(a,z);h.state.next({values:On(s)}),h.state.next({...r,...me.keepDirty?{isDirty:D()}:{}}),!me.keepIsValid&&g()},ge=({disabled:ce,name:me})=>{(Js(ce)&&i.mount||ce||l.disabled.has(me))&&(ce?l.disabled.add(me):l.disabled.delete(me))},se=(ce,me={})=>{let z=Je(n,ce);const fe=Js(me.disabled)||Js(t.disabled);return mr(n,ce,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:ce}},name:ce,mount:!0,...me}}),l.mount.add(ce),z?ge({disabled:Js(me.disabled)?me.disabled:t.disabled,name:ce}):_(ce,!0,me.value),{...fe?{disabled:me.disabled||t.disabled}:{},...t.progressive?{required:!!me.required,min:H0(me.min),max:H0(me.max),minLength:H0(me.minLength),maxLength:H0(me.maxLength),pattern:H0(me.pattern)}:{},name:ce,onChange:W,onBlur:W,ref:_e=>{if(_e){se(ce,me),z=Je(n,ce);const be=rn(_e.value)&&_e.querySelectorAll&&_e.querySelectorAll("input,select,textarea")[0]||_e,Le=aYe(be),Se=z._f.refs||[];if(Le?Se.find(je=>je===be):be===z._f.ref)return;mr(n,ce,{_f:{...z._f,...Le?{refs:[...Se.filter(PN),be,...Array.isArray(Je(a,ce))?[{}]:[]],ref:{type:be.type,name:ce}}:{ref:be}}}),_(ce,!1,void 0,be)}else z=Je(n,ce,{}),z._f&&(z._f.mount=!1),(t.shouldUnregister||me.shouldUnregister)&&!(HJ(l.array,ce)&&i.action)&&l.unMount.add(ce)}}},Z=()=>t.shouldFocusError&&Ug(n,F,l.mount),he=ce=>{Js(ce)&&(h.state.next({disabled:ce}),Ug(n,(me,z)=>{const fe=Je(n,z);fe&&(me.disabled=fe._f.disabled||ce,Array.isArray(fe._f.refs)&&fe._f.refs.forEach(_e=>{_e.disabled=fe._f.disabled||ce}))},0,!1))},P=(ce,me)=>async z=>{let fe;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let _e=On(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:be,values:Le}=await j();r.errors=be,_e=On(Le)}else await C(n);if(l.disabled.size)for(const be of l.disabled)mn(_e,be);if(mn(r.errors,"root"),ys(r.errors)){h.state.next({errors:{}});try{await ce(_e,z)}catch(be){fe=be}}else me&&await me({...r.errors},z),Z(),setTimeout(Z);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ys(r.errors)&&!fe,submitCount:r.submitCount+1,errors:r.errors}),fe)throw fe},De=(ce,me={})=>{Je(n,ce)&&(rn(me.defaultValue)?I(ce,On(Je(a,ce))):(I(ce,me.defaultValue),mr(a,ce,On(me.defaultValue))),me.keepTouched||mn(r.touchedFields,ce),me.keepDirty||(mn(r.dirtyFields,ce),r.isDirty=me.defaultValue?D(ce,On(Je(a,ce))):D()),me.keepError||(mn(r.errors,ce),d.isValid&&g()),h.state.next({...r}))},Re=(ce,me={})=>{const z=ce?On(ce):a,fe=On(z),_e=ys(ce),be=_e?a:fe;if(me.keepDefaultValues||(a=z),!me.keepValues){if(me.keepDirtyValues){const Le=new Set([...l.mount,...Object.keys(W0(a,s))]);for(const Se of Array.from(Le))Je(r.dirtyFields,Se)?mr(be,Se,Je(s,Se)):I(Se,Je(be,Se))}else{if($4&&rn(ce))for(const Le of l.mount){const Se=Je(n,Le);if(Se&&Se._f){const je=Array.isArray(Se._f.refs)?Se._f.refs[0]:Se._f.ref;if(c_(je)){const pe=je.closest("form");if(pe){pe.reset();break}}}}if(me.keepFieldsRef)for(const Le of l.mount)I(Le,Je(be,Le));else n={}}s=t.shouldUnregister?me.keepDefaultValues?On(a):{}:On(be),h.array.next({values:{...be}}),h.state.next({values:{...be}})}l={mount:me.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!me.keepIsValid||!!me.keepDirtyValues,i.watch=!!t.shouldUnregister,h.state.next({submitCount:me.keepSubmitCount?r.submitCount:0,isDirty:_e?!1:me.keepDirty?r.isDirty:!!(me.keepDefaultValues&&!Ql(ce,a)),isSubmitted:me.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:_e?{}:me.keepDirtyValues?me.keepDefaultValues&&s?W0(a,s):r.dirtyFields:me.keepDefaultValues&&ce?W0(a,ce):me.keepDirty?r.dirtyFields:{},touchedFields:me.keepTouched?r.touchedFields:{},errors:me.keepErrors?r.errors:{},isSubmitSuccessful:me.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Me=(ce,me)=>Re(_o(ce)?ce(s):ce,me),Be=(ce,me={})=>{const z=Je(n,ce),fe=z&&z._f;if(fe){const _e=fe.refs?fe.refs[0]:fe.ref;_e.focus&&(_e.focus(),me.shouldSelect&&_o(_e.select)&&_e.select())}},Oe=ce=>{r={...r,...ce}},it={control:{register:se,unregister:oe,getFieldState:Q,handleSubmit:P,setError:B,_subscribe:q,_runSchema:j,_focusError:Z,_getWatch:A,_getDirty:D,_setValid:g,_setFieldArray:y,_setDisabledField:ge,_setErrors:w,_getFieldArray:H,_reset:Re,_resetDefaultValues:()=>_o(t.defaultValues)&&t.defaultValues().then(ce=>{Me(ce,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:he,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return i},set _state(ce){i=ce},get _defaultValues(){return a},get _names(){return l},set _names(ce){l=ce},get _formState(){return r},get _options(){return t},set _options(ce){t={...t,...ce}}},subscribe:ee,trigger:M,register:se,handleSubmit:P,watch:U,setValue:I,getValues:G,reset:Me,resetField:De,clearErrors:E,unregister:oe,setError:B,setFocus:Be,getFieldState:Q};return{...it,formControl:it}}function vYe(e={}){const t=ie.useRef(void 0),r=ie.useRef(void 0),[n,a]=ie.useState({isDirty:!1,isValidating:!1,isLoading:_o(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:_o(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!_o(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...l}=gYe(e);t.current={...l,formState:n}}const s=t.current.control;return s._options=e,V4(()=>{const i=s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),s._formState.isReady=!0,i},[s]),ie.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),ie.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),ie.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),ie.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),ie.useEffect(()=>{if(s._proxyFormState.isDirty){const i=s._getDirty();i!==n.isDirty&&s._subjects.state.next({isDirty:i})}},[s,n.isDirty]),ie.useEffect(()=>{e.values&&!Ql(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,a(i=>({...i}))):s._resetDefaultValues()},[s,e.values]),ie.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=qJ(n,s),t.current}const h8=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Je(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},tQ=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?h8(n.ref,r,e):n.refs&&n.refs.forEach(a=>h8(a,r,e))}},xYe=(e,t)=>{t.shouldUseNativeValidation&&tQ(e,t);const r={};for(const n in e){const a=Je(t.fields,n),s=Object.assign(e[n]||{},{ref:a&&a.ref});if(yYe(t.names||Object.keys(e),n)){const i=Object.assign({},Je(r,n));mr(i,"root",s),mr(r,n,i)}else mr(r,n,s)}return r},yYe=(e,t)=>e.some(r=>r.startsWith(t+"."));var bYe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,s=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[i]={message:l.message,type:l.code}}else r[i]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[i].types,u=c&&c[n.code];r[i]=GJ(i,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},wYe=function(e,t,r){return r===void 0&&(r={}),function(n,a,s){try{return Promise.resolve(function(i,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&tQ({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:xYe(bYe(i.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw i}))}catch(i){return Promise.reject(i)}}},nr;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const s={};for(const i of a)s[i]=i;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),i={};for(const l of s)i[l]=a[l];return e.objectValues(i)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&s.push(i);return s},e.find=(a,s)=>{for(const i of a)if(s(i))return i},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(nr||(nr={}));var m8;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(m8||(m8={}));const lt=nr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yc=e=>{switch(typeof e){case"undefined":return lt.undefined;case"string":return lt.string;case"number":return Number.isNaN(e)?lt.nan:lt.number;case"boolean":return lt.boolean;case"function":return lt.function;case"bigint":return lt.bigint;case"symbol":return lt.symbol;case"object":return Array.isArray(e)?lt.array:e===null?lt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?lt.promise:typeof Map<"u"&&e instanceof Map?lt.map:typeof Set<"u"&&e instanceof Set?lt.set:typeof Date<"u"&&e instanceof Date?lt.date:lt.object;default:return lt.unknown}},qe=nr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Cc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},a=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let l=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(i))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof Cc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,nr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];r[s]=r[s]||[],r[s].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Cc.create=e=>new Cc(e);const ST=(e,t)=>{let r;switch(e.code){case qe.invalid_type:e.received===lt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case qe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,nr.jsonStringifyReplacer)}`;break;case qe.unrecognized_keys:r=`Unrecognized key(s) in object: ${nr.joinValues(e.keys,", ")}`;break;case qe.invalid_union:r="Invalid input";break;case qe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${nr.joinValues(e.options)}`;break;case qe.invalid_enum_value:r=`Invalid enum value. Expected ${nr.joinValues(e.options)}, received '${e.received}'`;break;case qe.invalid_arguments:r="Invalid function arguments";break;case qe.invalid_return_type:r="Invalid function return type";break;case qe.invalid_date:r="Invalid date";break;case qe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:nr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case qe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case qe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case qe.custom:r="Invalid input";break;case qe.invalid_intersection_types:r="Intersection results could not be merged";break;case qe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case qe.not_finite:r="Number must be finite";break;default:r=t.defaultError,nr.assertNever(e)}return{message:r}};let _Ye=ST;function SYe(){return _Ye}const jYe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],i={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(i,{data:t,defaultError:l}).message;return{...a,path:s,message:l}};function Ze(e,t){const r=SYe(),n=jYe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===ST?void 0:ST].filter(a=>!!a)});e.common.issues.push(n)}class pi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return At;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const s=await a.key,i=await a.value;n.push({key:s,value:i})}return pi.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:s,value:i}=a;if(s.status==="aborted"||i.status==="aborted")return At;s.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(n[s.value]=i.value)}return{status:t.value,value:n}}}const At=Object.freeze({status:"aborted"}),ig=e=>({status:"dirty",value:e}),Yi=e=>({status:"valid",value:e}),p8=e=>e.status==="aborted",g8=e=>e.status==="dirty",Cp=e=>e.status==="valid",f_=e=>typeof Promise<"u"&&e instanceof Promise;var dt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(dt||(dt={}));class qu{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const v8=(e,t)=>{if(Cp(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Cc(e.common.issues);return this._error=r,this._error}}};function Ut(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(i,l)=>{const{message:c}=e;return i.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Zt{get description(){return this._def.description}_getType(t){return Yc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Yc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new pi,ctx:{common:t.parent.common,data:t.data,parsedType:Yc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(f_(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yc(t)},a=this._parseSync({data:t,path:n.path,parent:n});return v8(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yc(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return Cp(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(a=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>Cp(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yc(t)},a=this._parse({data:t,path:n.path,parent:n}),s=await(f_(a)?a:Promise.resolve(a));return v8(n,s)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const i=t(a),l=()=>s.addIssue({code:qe.custom,...n(a)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Ap({schema:this,typeName:Ot.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Mu.create(this,this._def)}nullable(){return Op.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xl.create(this)}promise(){return g_.create(this,this._def)}or(t){return m_.create([this,t],this._def)}and(t){return p_.create(this,t,this._def)}transform(t){return new Ap({...Ut(this._def),schema:this,typeName:Ot.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new kT({...Ut(this._def),innerType:this,defaultValue:r,typeName:Ot.ZodDefault})}brand(){return new KYe({typeName:Ot.ZodBranded,type:this,...Ut(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new NT({...Ut(this._def),innerType:this,catchValue:r,typeName:Ot.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return q4.create(this,t)}readonly(){return CT.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const kYe=/^c[^\s-]{8,}$/i,NYe=/^[0-9a-z]+$/,CYe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,EYe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,TYe=/^[a-z0-9_-]{21}$/i,AYe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,OYe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,PYe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,DYe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let DN;const RYe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IYe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,MYe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,FYe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,LYe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$Ye=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,rQ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",BYe=new RegExp(`^${rQ}$`);function nQ(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function UYe(e){return new RegExp(`^${nQ(e)}$`)}function zYe(e){let t=`${rQ}T${nQ(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function VYe(e,t){return!!((t==="v4"||!t)&&RYe.test(e)||(t==="v6"||!t)&&MYe.test(e))}function WYe(e,t){if(!AYe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function HYe(e,t){return!!((t==="v4"||!t)&&IYe.test(e)||(t==="v6"||!t)&&FYe.test(e))}class _u extends Zt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==lt.string){const s=this._getOrReturnCtx(t);return Ze(s,{code:qe.invalid_type,expected:lt.string,received:s.parsedType}),At}const n=new pi;let a;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(a=this._getOrReturnCtx(t,a),Ze(a,{code:qe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(a=this._getOrReturnCtx(t,a),Ze(a,{code:qe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const i=t.data.length>s.value,l=t.data.length<s.value;(i||l)&&(a=this._getOrReturnCtx(t,a),i?Ze(a,{code:qe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Ze(a,{code:qe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")PYe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ze(a,{validation:"email",code:qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")DN||(DN=new RegExp(DYe,"u")),DN.test(t.data)||(a=this._getOrReturnCtx(t,a),Ze(a,{validation:"emoji",code:qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")EYe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ze(a,{validation:"uuid",code:qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")TYe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ze(a,{validation:"nanoid",code:qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")kYe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ze(a,{validation:"cuid",code:qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")NYe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ze(a,{validation:"cuid2",code:qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")CYe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ze(a,{validation:"ulid",code:qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Ze(a,{validation:"url",code:qe.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Ze(a,{validation:"regex",code:qe.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(t,a),Ze(a,{code:qe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(a=this._getOrReturnCtx(t,a),Ze(a,{code:qe.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(a=this._getOrReturnCtx(t,a),Ze(a,{code:qe.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?zYe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),Ze(a,{code:qe.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?BYe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ze(a,{code:qe.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?UYe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),Ze(a,{code:qe.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?OYe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ze(a,{validation:"duration",code:qe.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?VYe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),Ze(a,{validation:"ip",code:qe.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?WYe(t.data,s.alg)||(a=this._getOrReturnCtx(t,a),Ze(a,{validation:"jwt",code:qe.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?HYe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),Ze(a,{validation:"cidr",code:qe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?LYe.test(t.data)||(a=this._getOrReturnCtx(t,a),Ze(a,{validation:"base64",code:qe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?$Ye.test(t.data)||(a=this._getOrReturnCtx(t,a),Ze(a,{validation:"base64url",code:qe.invalid_string,message:s.message}),n.dirty()):nr.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:qe.invalid_string,...dt.errToObj(n)})}_addCheck(t){return new _u({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...dt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...dt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...dt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...dt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...dt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...dt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...dt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...dt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...dt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...dt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...dt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...dt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...dt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...dt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...dt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...dt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...dt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...dt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...dt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...dt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...dt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...dt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...dt.errToObj(r)})}nonempty(t){return this.min(1,dt.errToObj(t))}trim(){return new _u({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _u({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _u({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}_u.create=e=>new _u({checks:[],typeName:Ot.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Ut(e)});function qYe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,s=Number.parseInt(e.toFixed(a).replace(".","")),i=Number.parseInt(t.toFixed(a).replace(".",""));return s%i/10**a}class Ep extends Zt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==lt.number){const s=this._getOrReturnCtx(t);return Ze(s,{code:qe.invalid_type,expected:lt.number,received:s.parsedType}),At}let n;const a=new pi;for(const s of this._def.checks)s.kind==="int"?nr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ze(n,{code:qe.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),Ze(n,{code:qe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),Ze(n,{code:qe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?qYe(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),Ze(n,{code:qe.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ze(n,{code:qe.not_finite,message:s.message}),a.dirty()):nr.assertNever(s);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,dt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,dt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,dt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,dt.toString(r))}setLimit(t,r,n,a){return new Ep({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:dt.toString(a)}]})}_addCheck(t){return new Ep({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:dt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:dt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:dt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:dt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:dt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:dt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:dt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:dt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:dt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&nr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Ep.create=e=>new Ep({checks:[],typeName:Ot.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ut(e)});class cx extends Zt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==lt.bigint)return this._getInvalidInput(t);let n;const a=new pi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),Ze(n,{code:qe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),Ze(n,{code:qe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ze(n,{code:qe.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):nr.assertNever(s);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ze(r,{code:qe.invalid_type,expected:lt.bigint,received:r.parsedType}),At}gte(t,r){return this.setLimit("min",t,!0,dt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,dt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,dt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,dt.toString(r))}setLimit(t,r,n,a){return new cx({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:dt.toString(a)}]})}_addCheck(t){return new cx({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:dt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:dt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:dt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:dt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:dt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}cx.create=e=>new cx({checks:[],typeName:Ot.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Ut(e)});class x8 extends Zt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==lt.boolean){const n=this._getOrReturnCtx(t);return Ze(n,{code:qe.invalid_type,expected:lt.boolean,received:n.parsedType}),At}return Yi(t.data)}}x8.create=e=>new x8({typeName:Ot.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ut(e)});class h_ extends Zt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==lt.date){const s=this._getOrReturnCtx(t);return Ze(s,{code:qe.invalid_type,expected:lt.date,received:s.parsedType}),At}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return Ze(s,{code:qe.invalid_date}),At}const n=new pi;let a;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(a=this._getOrReturnCtx(t,a),Ze(a,{code:qe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(a=this._getOrReturnCtx(t,a),Ze(a,{code:qe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):nr.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new h_({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:dt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:dt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}h_.create=e=>new h_({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ot.ZodDate,...Ut(e)});class y8 extends Zt{_parse(t){if(this._getType(t)!==lt.symbol){const n=this._getOrReturnCtx(t);return Ze(n,{code:qe.invalid_type,expected:lt.symbol,received:n.parsedType}),At}return Yi(t.data)}}y8.create=e=>new y8({typeName:Ot.ZodSymbol,...Ut(e)});class b8 extends Zt{_parse(t){if(this._getType(t)!==lt.undefined){const n=this._getOrReturnCtx(t);return Ze(n,{code:qe.invalid_type,expected:lt.undefined,received:n.parsedType}),At}return Yi(t.data)}}b8.create=e=>new b8({typeName:Ot.ZodUndefined,...Ut(e)});class w8 extends Zt{_parse(t){if(this._getType(t)!==lt.null){const n=this._getOrReturnCtx(t);return Ze(n,{code:qe.invalid_type,expected:lt.null,received:n.parsedType}),At}return Yi(t.data)}}w8.create=e=>new w8({typeName:Ot.ZodNull,...Ut(e)});class _8 extends Zt{constructor(){super(...arguments),this._any=!0}_parse(t){return Yi(t.data)}}_8.create=e=>new _8({typeName:Ot.ZodAny,...Ut(e)});class S8 extends Zt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Yi(t.data)}}S8.create=e=>new S8({typeName:Ot.ZodUnknown,...Ut(e)});class Ku extends Zt{_parse(t){const r=this._getOrReturnCtx(t);return Ze(r,{code:qe.invalid_type,expected:lt.never,received:r.parsedType}),At}}Ku.create=e=>new Ku({typeName:Ot.ZodNever,...Ut(e)});class j8 extends Zt{_parse(t){if(this._getType(t)!==lt.undefined){const n=this._getOrReturnCtx(t);return Ze(n,{code:qe.invalid_type,expected:lt.void,received:n.parsedType}),At}return Yi(t.data)}}j8.create=e=>new j8({typeName:Ot.ZodVoid,...Ut(e)});class xl extends Zt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==lt.array)return Ze(r,{code:qe.invalid_type,expected:lt.array,received:r.parsedType}),At;if(a.exactLength!==null){const i=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(i||l)&&(Ze(r,{code:i?qe.too_big:qe.too_small,minimum:l?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ze(r,{code:qe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ze(r,{code:qe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,l)=>a.type._parseAsync(new qu(r,i,r.path,l)))).then(i=>pi.mergeArray(n,i));const s=[...r.data].map((i,l)=>a.type._parseSync(new qu(r,i,r.path,l)));return pi.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new xl({...this._def,minLength:{value:t,message:dt.toString(r)}})}max(t,r){return new xl({...this._def,maxLength:{value:t,message:dt.toString(r)}})}length(t,r){return new xl({...this._def,exactLength:{value:t,message:dt.toString(r)}})}nonempty(t){return this.min(1,t)}}xl.create=(e,t)=>new xl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ot.ZodArray,...Ut(t)});function Th(e){if(e instanceof Xr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Mu.create(Th(n))}return new Xr({...e._def,shape:()=>t})}else return e instanceof xl?new xl({...e._def,type:Th(e.element)}):e instanceof Mu?Mu.create(Th(e.unwrap())):e instanceof Op?Op.create(Th(e.unwrap())):e instanceof Mf?Mf.create(e.items.map(t=>Th(t))):e}class Xr extends Zt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=nr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==lt.object){const u=this._getOrReturnCtx(t);return Ze(u,{code:qe.invalid_type,expected:lt.object,received:u.parsedType}),At}const{status:n,ctx:a}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ku&&this._def.unknownKeys==="strip"))for(const u in a.data)i.includes(u)||l.push(u);const c=[];for(const u of i){const d=s[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new qu(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Ku){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Ze(a,{code:qe.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new qu(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>pi.mergeObjectSync(n,u)):pi.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return dt.errToObj,new Xr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i;const a=((i=(s=this._def).errorMap)==null?void 0:i.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:dt.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Xr({...this._def,unknownKeys:"strip"})}passthrough(){return new Xr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Xr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Xr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ot.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Xr({...this._def,catchall:t})}pick(t){const r={};for(const n of nr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Xr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of nr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Xr({...this._def,shape:()=>r})}deepPartial(){return Th(this)}partial(t){const r={};for(const n of nr.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Xr({...this._def,shape:()=>r})}required(t){const r={};for(const n of nr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Mu;)s=s._def.innerType;r[n]=s}return new Xr({...this._def,shape:()=>r})}keyof(){return aQ(nr.objectKeys(this.shape))}}Xr.create=(e,t)=>new Xr({shape:()=>e,unknownKeys:"strip",catchall:Ku.create(),typeName:Ot.ZodObject,...Ut(t)});Xr.strictCreate=(e,t)=>new Xr({shape:()=>e,unknownKeys:"strict",catchall:Ku.create(),typeName:Ot.ZodObject,...Ut(t)});Xr.lazycreate=(e,t)=>new Xr({shape:e,unknownKeys:"strip",catchall:Ku.create(),typeName:Ot.ZodObject,...Ut(t)});class m_ extends Zt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const i=s.map(l=>new Cc(l.ctx.common.issues));return Ze(r,{code:qe.invalid_union,unionErrors:i}),At}if(r.common.async)return Promise.all(n.map(async s=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(a);{let s;const i=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=i.map(c=>new Cc(c));return Ze(r,{code:qe.invalid_union,unionErrors:l}),At}}get options(){return this._def.options}}m_.create=(e,t)=>new m_({options:e,typeName:Ot.ZodUnion,...Ut(t)});function jT(e,t){const r=Yc(e),n=Yc(t);if(e===t)return{valid:!0,data:e};if(r===lt.object&&n===lt.object){const a=nr.objectKeys(t),s=nr.objectKeys(e).filter(l=>a.indexOf(l)!==-1),i={...e,...t};for(const l of s){const c=jT(e[l],t[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(r===lt.array&&n===lt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const i=e[s],l=t[s],c=jT(i,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===lt.date&&n===lt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class p_ extends Zt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(s,i)=>{if(p8(s)||p8(i))return At;const l=jT(s.value,i.value);return l.valid?((g8(s)||g8(i))&&r.dirty(),{status:r.value,value:l.data}):(Ze(n,{code:qe.invalid_intersection_types}),At)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,i])=>a(s,i)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}p_.create=(e,t,r)=>new p_({left:e,right:t,typeName:Ot.ZodIntersection,...Ut(r)});class Mf extends Zt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==lt.array)return Ze(n,{code:qe.invalid_type,expected:lt.array,received:n.parsedType}),At;if(n.data.length<this._def.items.length)return Ze(n,{code:qe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),At;!this._def.rest&&n.data.length>this._def.items.length&&(Ze(n,{code:qe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new qu(n,i,n.path,l)):null}).filter(i=>!!i);return n.common.async?Promise.all(s).then(i=>pi.mergeArray(r,i)):pi.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new Mf({...this._def,rest:t})}}Mf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mf({items:e,typeName:Ot.ZodTuple,rest:null,...Ut(t)})};class k8 extends Zt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==lt.map)return Ze(n,{code:qe.invalid_type,expected:lt.map,received:n.parsedType}),At;const a=this._def.keyType,s=this._def.valueType,i=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new qu(n,l,n.path,[u,"key"])),value:s._parse(new qu(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return At;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of i){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return At;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}k8.create=(e,t,r)=>new k8({valueType:t,keyType:e,typeName:Ot.ZodMap,...Ut(r)});class ux extends Zt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==lt.set)return Ze(n,{code:qe.invalid_type,expected:lt.set,received:n.parsedType}),At;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ze(n,{code:qe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ze(n,{code:qe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return At;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new qu(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(t,r){return new ux({...this._def,minSize:{value:t,message:dt.toString(r)}})}max(t,r){return new ux({...this._def,maxSize:{value:t,message:dt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}ux.create=(e,t)=>new ux({valueType:e,minSize:null,maxSize:null,typeName:Ot.ZodSet,...Ut(t)});class N8 extends Zt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}N8.create=(e,t)=>new N8({getter:e,typeName:Ot.ZodLazy,...Ut(t)});class C8 extends Zt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ze(r,{received:r.data,code:qe.invalid_literal,expected:this._def.value}),At}return{status:"valid",value:t.data}}get value(){return this._def.value}}C8.create=(e,t)=>new C8({value:e,typeName:Ot.ZodLiteral,...Ut(t)});function aQ(e,t){return new Tp({values:e,typeName:Ot.ZodEnum,...Ut(t)})}class Tp extends Zt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ze(r,{expected:nr.joinValues(n),received:r.parsedType,code:qe.invalid_type}),At}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ze(r,{received:r.data,code:qe.invalid_enum_value,options:n}),At}return Yi(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Tp.create(t,{...this._def,...r})}exclude(t,r=this._def){return Tp.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Tp.create=aQ;class E8 extends Zt{_parse(t){const r=nr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==lt.string&&n.parsedType!==lt.number){const a=nr.objectValues(r);return Ze(n,{expected:nr.joinValues(a),received:n.parsedType,code:qe.invalid_type}),At}if(this._cache||(this._cache=new Set(nr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=nr.objectValues(r);return Ze(n,{received:n.data,code:qe.invalid_enum_value,options:a}),At}return Yi(t.data)}get enum(){return this._def.values}}E8.create=(e,t)=>new E8({values:e,typeName:Ot.ZodNativeEnum,...Ut(t)});class g_ extends Zt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==lt.promise&&r.common.async===!1)return Ze(r,{code:qe.invalid_type,expected:lt.promise,received:r.parsedType}),At;const n=r.parsedType===lt.promise?r.data:Promise.resolve(r.data);return Yi(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}g_.create=(e,t)=>new g_({type:e,typeName:Ot.ZodPromise,...Ut(t)});class Ap extends Zt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ot.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,s={addIssue:i=>{Ze(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const i=a.transform(n.data,s);if(n.common.async)return Promise.resolve(i).then(async l=>{if(r.value==="aborted")return At;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?At:c.status==="dirty"||r.value==="dirty"?ig(c.value):c});{if(r.value==="aborted")return At;const l=this._def.schema._parseSync({data:i,path:n.path,parent:n});return l.status==="aborted"?At:l.status==="dirty"||r.value==="dirty"?ig(l.value):l}}if(a.type==="refinement"){const i=l=>{const c=a.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?At:(l.status==="dirty"&&r.dirty(),i(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?At:(l.status==="dirty"&&r.dirty(),i(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Cp(i))return At;const l=a.transform(i.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>Cp(i)?Promise.resolve(a.transform(i.value,s)).then(l=>({status:r.value,value:l})):At);nr.assertNever(a)}}Ap.create=(e,t,r)=>new Ap({schema:e,typeName:Ot.ZodEffects,effect:t,...Ut(r)});Ap.createWithPreprocess=(e,t,r)=>new Ap({schema:t,effect:{type:"preprocess",transform:e},typeName:Ot.ZodEffects,...Ut(r)});class Mu extends Zt{_parse(t){return this._getType(t)===lt.undefined?Yi(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Mu.create=(e,t)=>new Mu({innerType:e,typeName:Ot.ZodOptional,...Ut(t)});class Op extends Zt{_parse(t){return this._getType(t)===lt.null?Yi(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Op.create=(e,t)=>new Op({innerType:e,typeName:Ot.ZodNullable,...Ut(t)});class kT extends Zt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===lt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}kT.create=(e,t)=>new kT({innerType:e,typeName:Ot.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ut(t)});class NT extends Zt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return f_(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Cc(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Cc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}NT.create=(e,t)=>new NT({innerType:e,typeName:Ot.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ut(t)});class T8 extends Zt{_parse(t){if(this._getType(t)!==lt.nan){const n=this._getOrReturnCtx(t);return Ze(n,{code:qe.invalid_type,expected:lt.nan,received:n.parsedType}),At}return{status:"valid",value:t.data}}}T8.create=e=>new T8({typeName:Ot.ZodNaN,...Ut(e)});class KYe extends Zt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class q4 extends Zt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?At:s.status==="dirty"?(r.dirty(),ig(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?At:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new q4({in:t,out:r,typeName:Ot.ZodPipeline})}}class CT extends Zt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Cp(a)&&(a.value=Object.freeze(a.value)),a);return f_(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}CT.create=(e,t)=>new CT({innerType:e,typeName:Ot.ZodReadonly,...Ut(t)});Xr.lazycreate;var Ot;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ot||(Ot={}));const kb=_u.create,GYe=Ep.create;Ku.create;xl.create;const YYe=Xr.create;Xr.strictCreate;m_.create;p_.create;Mf.create;Tp.create;g_.create;Mu.create;Op.create;const XYe=ZGe,sQ=x.createContext({}),q0=({...e})=>o.jsx(sQ.Provider,{value:{name:e.name},children:o.jsx(nYe,{...e})}),yj=()=>{const e=x.useContext(sQ),t=x.useContext(iQ),{getFieldState:r,formState:n}=xj(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...a}},iQ=x.createContext({}),Ah=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return o.jsx(iQ.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:xe("space-y-2",e),...t})})});Ah.displayName="FormItem";const Oh=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=yj();return o.jsx(We,{ref:r,className:xe(n&&"text-destructive",e),htmlFor:a,...t})});Oh.displayName="FormLabel";const Ph=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:s}=yj();return o.jsx(n9,{ref:t,id:n,"aria-describedby":r?`${a} ${s}`:`${a}`,"aria-invalid":!!r,...e})});Ph.displayName="FormControl";const JYe=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=yj();return o.jsx("p",{ref:r,id:n,className:xe("text-sm text-muted-foreground",e),...t})});JYe.displayName="FormDescription";const Dh=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:s}=yj(),i=a?String(a==null?void 0:a.message):t;return i?o.jsx("p",{ref:n,id:s,className:xe("text-sm font-medium text-destructive",e),...r,children:i}):null});Dh.displayName="FormMessage";const QYe=YYe({request_title:kb().min(1,"Title is required"),request_description:kb().optional(),request_type:kb().optional(),priority:GYe().optional(),status:kb().optional()});function ZYe({open:e,onOpenChange:t,onSubmit:r,initialData:n}){const{t:a}=$t(),{user:s}=hr(),i=(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.role)==="manager",l=vYe({resolver:wYe(QYe),defaultValues:{request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"}});x.useEffect(()=>{n?l.reset({request_title:n.request_title,request_description:n.request_description||"",request_type:n.request_type||"internal_task",priority:n.priority||1,status:n.status||"pending"}):l.reset({request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"})},[n,l,e]);const c=async u=>{await r(u),t(!1),l.reset()};return o.jsx(_l,{open:e,onOpenChange:t,children:o.jsxs(Lo,{side:rr()?"left":"right",className:"sm:max-w-md overflow-y-auto",children:[o.jsx(bc,{children:o.jsx(Sl,{children:a(n?"requests.editRequest":"requests.createRequest")})}),o.jsx("div",{className:"py-4",children:o.jsx(XYe,{...l,children:o.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[o.jsx(q0,{control:l.control,name:"request_title",render:({field:u})=>o.jsxs(Ah,{children:[o.jsx(Oh,{children:a("requests.title")}),o.jsx(Ph,{children:o.jsx(Ue,{placeholder:a("requests.titlePlaceholder"),...u})}),o.jsx(Dh,{})]})}),o.jsx(q0,{control:l.control,name:"request_description",render:({field:u})=>o.jsxs(Ah,{children:[o.jsx(Oh,{children:a("requests.description")}),o.jsx(Ph,{children:o.jsx(ia,{placeholder:a("requests.descriptionPlaceholder"),className:"resize-none min-h-[100px]",...u})}),o.jsx(Dh,{})]})}),i&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(q0,{control:l.control,name:"request_type",render:({field:u})=>o.jsxs(Ah,{children:[o.jsx(Oh,{children:a("requests.type")}),o.jsxs(xt,{onValueChange:u.onChange,defaultValue:u.value,value:u.value,children:[o.jsx(Ph,{children:o.jsx(gt,{children:o.jsx(yt,{placeholder:"Select type"})})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"internal_task",children:a("requests.types.internalTask")}),o.jsx(Ae,{value:"support",children:a("requests.types.support")}),o.jsx(Ae,{value:"feature",children:a("requests.types.feature")})]})]}),o.jsx(Dh,{})]})}),o.jsx(q0,{control:l.control,name:"priority",render:({field:u})=>{var d,f;return o.jsxs(Ah,{children:[o.jsx(Oh,{children:a("requests.priority")}),o.jsxs(xt,{onValueChange:h=>u.onChange(parseInt(h)),defaultValue:(d=u.value)==null?void 0:d.toString(),value:(f=u.value)==null?void 0:f.toString(),children:[o.jsx(Ph,{children:o.jsx(gt,{children:o.jsx(yt,{placeholder:"Select priority"})})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"0",children:a("requests.priorities.low")}),o.jsx(Ae,{value:"1",children:a("requests.priorities.medium")}),o.jsx(Ae,{value:"2",children:a("requests.priorities.high")})]})]}),o.jsx(Dh,{})]})}})]}),o.jsx(q0,{control:l.control,name:"status",render:({field:u})=>o.jsxs(Ah,{children:[o.jsx(Oh,{children:a("requests.status")}),o.jsxs(xt,{onValueChange:u.onChange,defaultValue:u.value,value:u.value,children:[o.jsx(Ph,{children:o.jsx(gt,{children:o.jsx(yt,{placeholder:"Select status"})})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"pending",children:a("status.pending")}),o.jsx(Ae,{value:"in_progress",children:a("status.in_progress")}),o.jsx(Ae,{value:"completed",children:a("status.completed")}),o.jsx(Ae,{value:"approved",children:a("status.approved")}),o.jsx(Ae,{value:"rejected",children:a("status.rejected")})]})]}),o.jsx(Dh,{})]})})]}),o.jsx("div",{className:"flex justify-end pt-4 gap-2",children:o.jsx(ue,{type:"submit",children:a(n?"common.save":"common.create")})})]})})})]})})}function eXe(){const{t:e}=$t(),{toast:t}=Al(),{user:r}=hr();un();const[n,a]=x.useState([]),[s,i]=x.useState(!0),[l,c]=x.useState(""),[u,d]=x.useState(!1),[f,h]=x.useState(null),[m,p]=x.useState(null),[g,v]=x.useState([]),[y,b]=x.useState("all"),[w,_]=x.useState("all"),[S,k]=x.useState(1),j=10,N=async()=>{try{i(!0);const Q=await V0.getRequests();a(Q)}catch(Q){console.error("Failed to fetch requests:",Q),t({title:e("common.error"),description:"Failed to load requests",variant:"destructive"})}finally{i(!1)}};x.useEffect(()=>{N()},[]);const C=()=>{h(null),d(!0)},T=Q=>{h(Q),d(!0)},D=async()=>{if(m)try{await V0.deleteRequest(m),t({title:e("common.success"),description:e("requests.deleteSuccess")}),N()}catch(Q){console.error("Failed to delete request:",Q),t({title:e("common.error"),description:"Failed to delete request",variant:"destructive"})}finally{p(null)}},A=async Q=>{try{if(!(r!=null&&r.id)){t({title:"Error",description:"You must be logged in to perform this action",variant:"destructive"});return}f?(await V0.updateRequest(f.request_id,Q),t({title:e("common.success"),description:e("requests.updateSuccess")})):(await V0.createRequest({...Q,requested_by_auth:r.id,related_entity_id:null,related_entity_type:null,metadata:{},assigned_to:null}),t({title:e("common.success"),description:e("requests.createSuccess")})),N()}catch(E){console.error("Failed to save request:",E),t({title:e("common.error"),description:"Failed to save request",variant:"destructive"})}},H=n.filter(Q=>{var q;const E=Q.request_title.toLowerCase().includes(l.toLowerCase()),B=y==="all"||Q.status===y,U=w==="all"||((q=Q.priority)==null?void 0:q.toString())===w;return E&&B&&U}),X=Math.ceil(H.length/j),L=(S-1)*j,I=L+j,W=H.slice(L,I),F=Q=>{switch(Q){case"completed":case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"pending":default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"}},M=Q=>{switch(Q){case 2:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case 1:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case 0:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},G=Q=>{switch(Q){case 2:return e("requests.priorities.high");case 1:return e("requests.priorities.medium");case 0:return e("requests.priorities.low");default:return e("requests.priorities.medium")}};return o.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:rr()?"rtl":"ltr",children:[o.jsx(ey,{title:e("requests.title"),description:e("requests.subtitle"),icon:o.jsx(Qs,{className:"h-5 w-5 text-primary"}),actions:o.jsxs(ue,{onClick:C,children:[o.jsx(Gt,{className:"mr-2 h-4 w-4"}),e("requests.createRequest")]})}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(Vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Ue,{placeholder:e("requests.searchPlaceholder"),className:"pl-10 h-9",value:l,onChange:Q=>c(Q.target.value)})]}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[o.jsxs(xt,{value:w,onValueChange:_,children:[o.jsx(gt,{className:"w-[130px] h-9",children:o.jsx(yt,{placeholder:e("requests.priority")})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"all",children:e("common.all")}),o.jsx(Ae,{value:"0",children:e("requests.priorities.low")}),o.jsx(Ae,{value:"1",children:e("requests.priorities.medium")}),o.jsx(Ae,{value:"2",children:e("requests.priorities.high")})]})]}),o.jsxs(xt,{value:y,onValueChange:b,children:[o.jsx(gt,{className:"w-[130px] h-9",children:o.jsx(yt,{placeholder:e("requests.status")})}),o.jsxs(vt,{children:[o.jsx(Ae,{value:"all",children:e("common.all")}),o.jsx(Ae,{value:"pending",children:e("status.pending")}),o.jsx(Ae,{value:"approved",children:e("status.approved")}),o.jsx(Ae,{value:"rejected",children:e("status.rejected")}),o.jsx(Ae,{value:"in_progress",children:e("status.in_progress")}),o.jsx(Ae,{value:"completed",children:e("status.completed")})]})]})]})]}),(()=>{const Q=[{key:"title",header:e("requests.requestTitle"),render:U=>{var q;return o.jsx(kc,{title:U.request_title,subtitle:(q=U.request_type)==null?void 0:q.replace("_"," ")})}},{key:"priority",header:e("requests.priority"),render:U=>o.jsx(ct,{variant:"outline",className:M(U.priority),children:G(U.priority)})},{key:"status",header:e("requests.status"),render:U=>o.jsx(ct,{variant:"secondary",className:`capitalize ${F(U.status)}`,children:U.status?e(`status.${U.status}`):e("status.pending")})},{key:"created",header:e("requests.createdDate"),hideOnMobile:!0,render:U=>o.jsx(Kf,{date:U.created_at})}],E=[{icon:o.jsx(X2,{}),label:e("common.edit"),onClick:T},{icon:o.jsx(or,{}),label:e("common.delete"),onClick:U=>p(U.request_id),variant:"destructive"}],B=[{label:e("buttons.delete"),icon:o.jsx(or,{className:"h-4 w-4"}),onClick:async U=>{try{await Promise.all(U.map(q=>V0.deleteRequest(q))),t({title:e("common.success"),description:e("requests.deleteSuccess")}),a(q=>q.filter(ee=>!U.includes(ee.request_id))),v([])}catch(q){console.error("Failed to bulk delete requests:",q),t({title:e("common.error"),description:e("requests.deleteError"),variant:"destructive"})}}}];return o.jsx(jc,{data:W,columns:Q,actions:E,bulkActions:B,keyExtractor:U=>U.request_id,onRowClick:T,enableBulkSelect:!0,selectedItems:g,onSelectionChange:v,loading:s,rtl:rr()})})(),o.jsx(ZYe,{open:u,onOpenChange:d,onSubmit:A,initialData:f}),o.jsx(hi,{open:!!m,onOpenChange:Q=>!Q&&p(null),children:o.jsxs(Is,{children:[o.jsxs(Ms,{children:[o.jsx(Ls,{children:e("common.confirmDelete")}),o.jsx($s,{children:e("requests.deleteConfirmation")})]}),o.jsxs(Fs,{children:[o.jsx(Us,{children:e("common.cancel")}),o.jsx(Bs,{className:"bg-red-500 hover:bg-red-600",onClick:D,children:e("common.delete")})]})]})}),o.jsx("div",{className:"flex justify-center mt-6",children:o.jsx(Sp,{children:o.jsxs(jp,{children:[o.jsx(Ta,{children:o.jsx(xu,{onClick:()=>k(Q=>Math.max(1,Q-1)),className:S===1?"opacity-50 cursor-not-allowed":""})}),o.jsx(Ta,{children:o.jsx("span",{className:"text-sm text-muted-foreground px-2",children:e("pagination.showing",{start:L+1,end:Math.min(I,H.length),total:H.length})})}),o.jsx(Ta,{children:o.jsx(yu,{onClick:()=>k(Q=>Math.min(X,Q+1)),className:S===X?"opacity-50 cursor-not-allowed":""})})]})})})]})}const A8="9",O8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyaWQiOjEsInBlcm1pc3Npb25zIjoidXNlciIsImNvbXBhbnlfY29kZSI6ImNybWRiIiwiY29tcGFueV9pZCI6MjQsImV4cCI6MTc3MDMzNTI5MX0.TJ2ghtluiXDKcYQblubD9KeJzvG_d4ybjYj7TqW_qOc";function tXe(){$t();const{toast:e}=Al();un();const[t,r]=x.useState([]),[n,a]=x.useState(null),[s,i]=x.useState([]),[l,c]=x.useState(null),[u,d]=x.useState([]),[f,h]=x.useState(""),[m,p]=x.useState(null),[g,v]=x.useState(!0),[y,b]=x.useState(!1),[w,_]=x.useState(null),[S,k]=x.useState(!1),j=x.useRef(null),N=x.useCallback(async(E,B={})=>{const U=`https://api.middar.com/api/v1/plugins/${A8}`;console.log(`Calling plugin API: ${U}`,{action:E,data:B});try{const ee=await(await fetch(U,{method:"POST",headers:{Authorization:`Bearer ${O8}`,"Content-Type":"application/json"},body:JSON.stringify({action:E,...B})})).json();return console.log("Plugin API response:",ee),ee}catch(q){return console.error("Plugin API error:",q),{success:!1,message:q.message}}},[A8,O8]);x.useEffect(()=>{const E=localStorage.getItem("whatsapp_sessions");if(E)try{const B=JSON.parse(E);console.log("Loading sessions from localStorage:",B),r(B);const U=B.find(q=>q.is_primary);a(U||null),(U==null?void 0:U.state)==="connected"&&A()}catch(B){console.error("Failed to load sessions from localStorage:",B)}},[]),x.useEffect(()=>{setTimeout(async()=>{await D(),await C()},100)},[]),x.useEffect(()=>{let E;return(n==null?void 0:n.state)==="connected"&&(A(),E=window.setInterval(()=>{A()},1e4)),()=>{E&&window.clearInterval(E)}},[n]);const C=async()=>{try{const E=await N("enable_crm");console.log("Global CRM enable result:",E);for(const B of t){const U=await N("enable_crm",{session_id:B.session_id});console.log(`CRM enable result for session ${B.session_id}:`,U)}E.success&&(console.log("CRM enabled successfully"),e({title:"CRM Enabled",description:"WhatsApp CRM integration is now active"}))}catch(E){console.error("Failed to enable CRM:",E),e({variant:"destructive",title:"CRM Enable Failed",description:"Could not enable CRM functionality"})}},T=(E,B)=>{r(q=>q.map(ee=>ee.session_id===E?{...ee,state:B}:ee));const U=localStorage.getItem("whatsapp_sessions");if(U)try{const ee=JSON.parse(U).map(oe=>oe.session_id===E?{...oe,state:B}:oe);localStorage.setItem("whatsapp_sessions",JSON.stringify(ee))}catch(q){console.error("Failed to update localStorage session state:",q)}};x.useEffect(()=>{t.length>0&&localStorage.setItem("whatsapp_sessions",JSON.stringify(t))},[t]);const D=async()=>{console.log("Loading sessions...");const E=await N("list_sessions");if(console.log("Sessions result:",E),E.success){const B=E.data||[];console.log("Sessions array from API:",B),console.log("Sessions length from API:",B.length);const U=localStorage.getItem("whatsapp_sessions");let q=[];if(U)try{q=JSON.parse(U)}catch(Z){console.error("Failed to parse saved sessions:",Z)}const ee=[...B];q.forEach(Z=>{ee.find(he=>he.session_id===Z.session_id)||ee.push(Z)}),console.log("Merged sessions:",ee),r(ee);const oe=ee.find(Z=>Z.is_primary),ge=ee[0]||null;a(oe||ge);const se=oe||ge;(se==null?void 0:se.state)==="connected"&&A()}else e({variant:"destructive",title:"Error",description:E.message||"Failed to load sessions"})};x.useEffect(()=>{let E;return l&&(H(l.id),E=window.setInterval(()=>H(l.id),3e3)),()=>{E&&window.clearInterval(E)}},[l]);const A=async()=>{if(n)try{const E=await N("get_conversations",{limit:50,offset:0});E.success?(i(E.data||[]),g&&v(!1)):e({variant:"destructive",title:"Error",description:E.message||"Failed to load conversations"})}catch(E){console.error(E),g&&v(!1)}},H=async E=>{if(n)try{const B=await N("get_conversation_messages",{conversation_id:E,limit:50,offset:0});B.success&&(d(B.data||[]),setTimeout(()=>G(),100))}catch(B){console.error(B)}},X=async E=>{_(E);const B=await N("connect_session",{session_id:E});return console.log("Connect session result:",B),B.success?B.needs_qr&&B.qr_code?(p(B.qr_code),L(E)):B.message==="already connected"?await D():L(E):e({variant:"destructive",title:"Connection failed",description:B.message||"Failed to connect session"}),_(null),B},L=async(E,B=40)=>{for(let U=0;U<B;U++){const q=await N("get_status",{session_id:E});if(console.log(`Status check ${U+1}:`,q),q.success&&q.data){const ee=q.data.state||q.data.status;if(console.log("Session state:",ee),ee==="connected"){p(null),T(E,"connected"),await D();return}else if(ee==="pending_qr"&&q.data.qr_code){p(q.data.qr_code),T(E,"pending_qr");return}else if(ee==="pending_qr")console.log("Still waiting for QR code..."),T(E,"pending_qr");else if(ee==="active"||ee==="working"){p(null),T(E,"connected"),await D();return}}await new Promise(ee=>setTimeout(ee,3e3))}e({variant:"destructive",title:"Connection timeout",description:"Timeout waiting for QR scan"}),p(null)},I=async E=>{var B,U,q,ee,oe,ge,se;console.log("Creating session:",E);try{const Z=await N("create_session",{display_name:E,is_primary:!1});if(console.log("Create session result:",Z),Z.success){const he={session_id:((B=Z.data)==null?void 0:B.session_id)||Date.now(),display_name:((U=Z.data)==null?void 0:U.display_name)||E,state:((q=Z.data)==null?void 0:q.state)||"inactive",is_primary:((ee=Z.data)==null?void 0:ee.is_primary)||!1,created_at:((oe=Z.data)==null?void 0:oe.created_at)||new Date().toISOString(),last_activity:((ge=Z.data)==null?void 0:ge.last_activity)||Date.now(),jid:((se=Z.data)==null?void 0:se.jid)||""};console.log("Adding session to state:",he),r(De=>[...De,he]);const P=localStorage.getItem("whatsapp_sessions");if(P)try{const Re=[...JSON.parse(P),he];localStorage.setItem("whatsapp_sessions",JSON.stringify(Re)),console.log("Saved to localStorage")}catch(De){console.error("Failed to save to localStorage:",De)}else localStorage.setItem("whatsapp_sessions",JSON.stringify([he]));e({title:"Session created",description:"New session created successfully (local mode)"})}else if(confirm(`API create failed: ${Z.message}. Create local session anyway?`)){const he={session_id:Date.now(),display_name:E,state:"inactive",is_primary:!1,created_at:new Date().toISOString(),last_activity:Date.now(),jid:""};r(De=>[...De,he]);const P=localStorage.getItem("whatsapp_sessions");if(P)try{const Re=[...JSON.parse(P),he];localStorage.setItem("whatsapp_sessions",JSON.stringify(Re))}catch(De){console.error("Failed to save to localStorage:",De)}else localStorage.setItem("whatsapp_sessions",JSON.stringify([he]));e({title:"Local Session Created",description:"Session created locally (API failed)"})}else e({variant:"destructive",title:"Creation failed",description:Z.message||"Failed to create session"})}catch(Z){console.error("Create session error:",Z),e({variant:"destructive",title:"Creation failed",description:"An error occurred while creating session"})}},W=async E=>{const B=await N("pause_session",{session_id:E});B.success?await D():e({variant:"destructive",title:"Pause failed",description:B.message||"Failed to pause session"})},F=async E=>{const B=await N("resume_session",{session_id:E});B.success?await D():e({variant:"destructive",title:"Resume failed",description:B.message||"Failed to resume session"})},M=async E=>{if(confirm("Are you sure you want to delete this session?")){console.log("Deleting session:",E);try{const B=await N("delete_session",{session_id:E});if(console.log("Delete result:",B),B.success){const U=localStorage.getItem("whatsapp_sessions");if(U)try{const ee=JSON.parse(U).filter(oe=>oe.session_id!==E);localStorage.setItem("whatsapp_sessions",JSON.stringify(ee)),console.log("Removed session from localStorage")}catch(q){console.error("Failed to update localStorage:",q)}r(q=>q.filter(ee=>ee.session_id!==E)),e({title:"Session deleted",description:"Session deleted successfully"})}else if(confirm(`API delete failed: ${B.message}. Remove from local list anyway?`)){const U=localStorage.getItem("whatsapp_sessions");if(U)try{const ee=JSON.parse(U).filter(oe=>oe.session_id!==E);localStorage.setItem("whatsapp_sessions",JSON.stringify(ee))}catch(q){console.error("Failed to update localStorage:",q)}r(q=>q.filter(ee=>ee.session_id!==E)),e({title:"Session removed locally",description:"Session removed from local list (API delete failed)"})}else e({variant:"destructive",title:"Delete failed",description:B.message||"Failed to delete session"})}catch(B){console.error("Delete session error:",B),e({variant:"destructive",title:"Delete failed",description:"An error occurred while deleting session"})}}},G=()=>{j.current&&(j.current.scrollTop=j.current.scrollHeight)},Q=async E=>{if(E==null||E.preventDefault(),!(!f.trim()||!l||!n)){b(!0);try{const B=await N("send_text",{phone:l.phone,message:f,session_id:n.session_id});if(B.success)h(""),setTimeout(()=>H(l.id),500);else throw new Error(B.message||"Failed to send message")}catch(B){e({variant:"destructive",title:"Error sending message",description:(B==null?void 0:B.message)||"Unknown error"})}finally{b(!1)}}};return o.jsxs("div",{className:"h-full flex flex-1 overflow-hidden bg-background border rounded-lg",dir:rr()?"rtl":"ltr",children:[o.jsxs("div",{className:"w-80 border-r bg-muted/10 flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b bg-background/50 backdrop-blur",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"font-semibold flex items-center gap-2",children:[o.jsx(af,{className:"h-4 w-4"}),"WhatsApp"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>k(!S),className:"flex items-center gap-2",children:[o.jsx(zA,{className:"h-4 w-4"}),"Sessions"]}),o.jsx(ue,{variant:"ghost",size:"icon",onClick:A,children:o.jsx(pI,{className:"h-4 w-4"})})]})]}),n&&o.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-lg mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${n.state==="connected"?"bg-green-500":n.state==="pending_qr"?"bg-yellow-500":n.state==="connecting"?"bg-blue-500":n.state==="paused"?"bg-orange-500":"bg-red-500"}`}),o.jsx("span",{className:"text-sm font-medium",children:n.display_name}),n.is_primary&&o.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:"PRIMARY"})]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:n.state==="connected"?" Connected":n.state==="pending_qr"?" Waiting QR":n.state==="connecting"?" Connecting":n.state==="paused"?" Paused":n.state==="disconnected"?" Disconnected":" Inactive"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Vs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(Ue,{placeholder:"Search...",className:"pl-9"})]})]}),o.jsx(rs,{className:"flex-1",children:S?o.jsxs("div",{className:"p-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-medium",children:"Session Manager"}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs(ue,{variant:"outline",size:"sm",onClick:D,className:"flex items-center gap-2",children:[o.jsx(pI,{className:"h-4 w-4"}),"Refresh"]}),o.jsx(ue,{variant:"outline",size:"sm",onClick:async()=>{console.log("Check Status clicked"),console.log("Current sessions:",t),console.log("Active session:",n);const E=n||t[0];if(E){console.log("Checking status for session:",E.session_id);const B=await N("get_status",{session_id:E.session_id});if(console.log("Manual status check:",B),B.success&&B.data){const U=B.data.state||B.data.status;console.log("Current session status:",U),T(E.session_id,U),e({title:"Status Updated",description:`Session status: ${U}`})}else e({variant:"destructive",title:"Status Check Failed",description:B.message||"Failed to check status"})}else e({variant:"destructive",title:"No Session",description:"No session available to check"})},children:"Check Status"}),o.jsx(ue,{variant:"outline",size:"sm",onClick:C,children:"Enable CRM"}),o.jsx(ue,{variant:"outline",size:"sm",onClick:()=>{confirm("Clear all local sessions? This will remove all sessions from the UI.")&&(localStorage.removeItem("whatsapp_sessions"),r([]),a(null),e({title:"Sessions Cleared",description:"All local sessions have been removed"}))},children:"Clear Local"}),o.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>I("New Session"),className:"flex items-center gap-2",children:[o.jsx(Gt,{className:"h-4 w-4"}),"Create Session"]})]})]}),o.jsxs("div",{className:"space-y-2",children:[t.map(E=>o.jsxs("div",{className:`p-3 border rounded-lg ${E.is_primary?"border-primary/20 bg-primary/5":"border-border"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${E.state==="connected"?"bg-green-500":E.state==="pending_qr"?"bg-yellow-500":E.state==="connecting"?"bg-blue-500":E.state==="paused"?"bg-orange-500":"bg-red-500"}`}),o.jsx("span",{className:"font-medium text-sm",children:E.display_name}),E.is_primary&&o.jsx("span",{className:"text-xs bg-primary text-primary-foreground px-2 py-1 rounded",children:"PRIMARY"})]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:E.state==="connected"?"":E.state==="pending_qr"?"":E.state==="connecting"?"":E.state==="paused"?"":E.state==="disconnected"?"":""})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ue,{size:"sm",variant:"outline",onClick:()=>X(E.session_id),disabled:E.state!=="inactive"&&E.state!=="disconnected"||w===E.session_id,children:w===E.session_id?"Connecting...":"Connect"}),E.state==="connected"&&o.jsx(ue,{size:"sm",variant:"outline",onClick:()=>W(E.session_id),children:o.jsx(Oie,{className:"h-3 w-3"})}),E.state==="paused"&&o.jsx(ue,{size:"sm",variant:"outline",onClick:()=>F(E.session_id),children:o.jsx(Pie,{className:"h-3 w-3"})}),o.jsx(ue,{size:"sm",variant:"outline",onClick:()=>M(E.session_id),className:"text-destructive hover:text-destructive",children:o.jsx(or,{className:"h-3 w-3"})})]})]},`session-${E.session_id}-${E.state}`)),t.length===0&&o.jsx("div",{className:"text-center p-4 text-muted-foreground text-sm",children:"No sessions configured. Create your first session to get started."})]})]}):o.jsxs("div",{className:"flex flex-col gap-1 p-2",children:[s.map(E=>o.jsxs("button",{onClick:()=>c(E),className:`flex items-center gap-3 p-3 rounded-lg text-left transition-colors ${(l==null?void 0:l.id)===E.id?"bg-primary/10 hover:bg-primary/15":"hover:bg-muted"}`,children:[o.jsx(Ds,{children:o.jsx(Rs,{className:"bg-green-100 text-green-700",children:o.jsx(Rn,{className:"h-4 w-4"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"font-medium truncate",children:E.phone}),o.jsx("span",{className:"text-xs text-muted-foreground",children:E.last_message_at&&us(new Date(E.last_message_at),"MMM d")})]}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Tap to view messages"})]})]},E.id)),s.length===0&&!g&&o.jsx("div",{className:"text-center p-8 text-muted-foreground text-sm",children:n?"No conversations yet.":"Connect a session to start messaging."})]})})]}),o.jsx("div",{className:"flex-1 flex flex-col bg-background relative",children:l?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-4 border-b flex items-center justify-between bg-background z-10",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ds,{className:"h-10 w-10",children:o.jsx(Rs,{className:"bg-green-600 text-white",children:"WA"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:l.phone}),o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"WhatsApp Business"]})]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-900/50",ref:j,children:u.map(E=>o.jsx("div",{className:`flex ${E.direction==="outbound"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 shadow-sm ${E.direction==="outbound"?"bg-green-600 text-white rounded-br-none":"bg-white dark:bg-slate-800 border rounded-bl-none"}`,children:[E.message&&o.jsx("p",{className:"text-sm",children:E.message}),o.jsx("p",{className:`text-[10px] mt-1 text-right ${E.direction==="outbound"?"text-green-100":"text-muted-foreground"}`,children:E.created_at?us(new Date(E.created_at),"HH:mm"):""})]})},E.id))}),o.jsx("div",{className:"p-4 border-t bg-background",children:o.jsxs("form",{onSubmit:Q,className:"flex gap-2",children:[o.jsx(Ue,{value:f,onChange:E=>h(E.target.value),placeholder:"Type a message...",className:"flex-1",disabled:y}),o.jsx(ue,{type:"submit",size:"icon",disabled:y||!f.trim(),children:o.jsx(_x,{className:"h-4 w-4"})})]})})]}):o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground p-8",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:o.jsx(af,{className:"h-8 w-8 text-green-600"})}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:n?"Select a conversation":"No active session"}),o.jsx("p",{className:"max-w-xs text-center text-sm",children:n?"Choose a conversation from the sidebar to start messaging.":"Connect a WhatsApp session to start messaging."})]})}),m&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-background rounded-lg p-6 max-w-sm w-full mx-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(Die,{className:"h-5 w-5"}),"Scan QR Code"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>p(null),children:""}),o.jsx(ue,{variant:"outline",size:"sm",onClick:async()=>{var B;const E=await N("get_status",{session_id:sessionId});E.success&&((B=E.data)!=null&&B.qr_code)&&p(E.data.qr_code)},children:"Refresh QR"})]})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("img",{src:m.startsWith("data:image/png;base64,")?m:`data:image/png;base64,${m}`,alt:"WhatsApp QR Code",className:"w-64 h-64 border-2 border-border rounded-lg mb-4"}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("p",{className:"font-medium",children:"Scan with WhatsApp"}),o.jsxs("ol",{className:"text-sm text-left space-y-1 text-muted-foreground",children:[o.jsx("li",{children:"1. Open WhatsApp on your phone"}),o.jsx("li",{children:"2. Tap Settings  Linked Devices"}),o.jsx("li",{children:"3. Tap Link a Device"}),o.jsx("li",{children:"4. Point camera at this QR code"})]})]})]})]})})]})}function rXe(){const{t:e}=$t(),{isRTL:t}=La(),r=un(),{setBreadcrumbs:n}=wx(),{toast:a}=Al(),[s,i]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,p]=x.useState(!1),[g,v]=x.useState(!1),[y,b]=x.useState({});x.useEffect(()=>{n([{label:e("navigation.dashboard"),href:"/"},{label:"Permissions",href:"/permissions"}]),w()},[]);const w=async()=>{try{c(!0);const T=await Y.permissions.list();i(T.data||[]),d(null)}catch(T){d(T.message||"Failed to load permissions")}finally{c(!1)}},_=T=>{h(T),b({...T}),v(!0),p(!0)},S=()=>{h(null),b({permissions_Name:"",is_offline_mode:0,can_edit:0,can_update:0,can_delete:0,can_view_system_settings:0,can_view_delete_button:0}),v(!1),p(!0)},k=async()=>{try{if(!y.permissions_Name){a({title:"Error",description:"Permission name is required",variant:"destructive"});return}f?(await Y.permissions.update(f.permissions_ID,y),a({title:"Success",description:"Permission updated"})):(await Y.permissions.create(y),a({title:"Success",description:"Permission created"})),p(!1),w()}catch(T){a({title:"Error",description:T.message,variant:"destructive"})}},j=[{key:"permissions_Name",header:"Role Name",render:T=>o.jsx(kc,{title:T.permissions_Name||"Unnamed Role",icon:o.jsx(A1,{className:"h-4 w-4 text-primary"})}),align:"left"},{key:"permissions_ID",header:"ID",render:T=>o.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:["#",T.permissions_ID]}),align:"left"}],N=[{icon:o.jsx(zi,{}),label:"Edit",onClick:T=>_(T)}],C=()=>{const T=Object.keys(y).filter(D=>D!=="permissions_ID"&&D!=="permissions_Name"&&D!=="created_at"&&D!=="updated_at");return o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:T.map(D=>o.jsxs("div",{className:"flex items-center gap-2 border p-3 rounded-md",children:[o.jsx(qw,{id:D,checked:!!y[D],onCheckedChange:A=>{b(H=>({...H,[D]:A?1:0}))}}),o.jsx(We,{htmlFor:D,className:"cursor-pointer flex-1 capitalize",children:D.replace(/_/g," ")})]},D))})};return l?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx(ua,{message:e("common.loading"),size:"2xl"})}):u?o.jsx(c0,{message:u,onRetry:w}):o.jsxs("div",{className:"space-y-4 p-4",dir:t?"rtl":"ltr",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Permissions"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage user roles and access rights"})]}),o.jsxs(ue,{onClick:S,children:[o.jsx(Gt,{className:xe("h-4 w-4",t?"ml-2":"mr-2")})," Add Role"]})]}),o.jsx(jc,{data:s,columns:j,actions:N,keyExtractor:T=>T.permissions_ID.toString(),rtl:t,isMobile:r}),o.jsx(_l,{open:m,onOpenChange:p,children:o.jsxs(Lo,{side:t?"left":"right",className:"w-full sm:max-w-[850px] overflow-y-auto",dir:t?"rtl":"ltr",children:[o.jsxs(bc,{children:[o.jsx(Sl,{children:f?"Edit Role":"New Role"}),o.jsx(Mx,{children:"Configure access permissions for this role."})]}),o.jsxs("div",{className:"py-4 space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(We,{htmlFor:"roleName",children:"Role Name"}),o.jsx(Ue,{id:"roleName",value:y.permissions_Name||"",onChange:T=>b(D=>({...D,permissions_Name:T.target.value}))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Access Rights"}),C(),Object.keys(y).filter(T=>T!=="permissions_ID"&&T!=="permissions_Name").length===0&&o.jsxs("p",{className:"text-sm text-muted-foreground italic",children:["No permission flags detected.",s.length===0&&" Add your first permission to define the schema or ensure backend migration."]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx(ue,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),o.jsx(ue,{onClick:k,children:"Save Changes"})]})]})})]})}const Ni={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},Yo={primary:"text-primary",secondary:"text-muted-foreground",success:"text-green-600",warning:"text-yellow-600",destructive:"text-red-600"},Nb={primary:"bg-primary",secondary:"bg-muted-foreground",success:"bg-green-600",warning:"bg-yellow-600",destructive:"bg-red-600"};function Xc({size:e="md",variant:t="default",className:r,color:n="primary"}){const a=xe(Ni[e],Yo[n],r);switch(t){case"dots":return o.jsxs("div",{className:xe("flex space-x-1",r),children:[o.jsx("div",{className:xe("animate-bounce",Ni[e],Yo[n]),children:o.jsx("div",{className:"h-full w-full rounded-full bg-current"})}),o.jsx("div",{className:xe("animate-bounce",Ni[e],Yo[n],"animation-delay-100"),children:o.jsx("div",{className:"h-full w-full rounded-full bg-current"})}),o.jsx("div",{className:xe("animate-bounce",Ni[e],Yo[n],"animation-delay-200"),children:o.jsx("div",{className:"h-full w-full rounded-full bg-current"})})]});case"pulse":return o.jsxs("div",{className:xe("relative",Ni[e],r),children:[o.jsx("div",{className:xe("h-full w-full rounded-full border-2 border-current opacity-20")}),o.jsx("div",{className:xe("absolute inset-0 h-full w-full rounded-full border-2 border-t-current animate-spin")})]});case"bounce":return o.jsxs("div",{className:xe("flex space-x-1",r),children:[o.jsx("div",{className:xe("animate-bounce",Ni[e],Yo[n]),children:o.jsx(Iie,{className:"h-full w-full"})}),o.jsx("div",{className:xe("animate-bounce",Ni[e],Yo[n],"animation-delay-100"),children:o.jsx(XU,{className:"h-full w-full"})}),o.jsx("div",{className:xe("animate-bounce",Ni[e],Yo[n],"animation-delay-200"),children:o.jsx(uv,{className:"h-full w-full animate-spin"})})]});case"rotate":return o.jsx("div",{className:xe("relative",Ni[e],r),children:o.jsx(uv,{className:xe("h-full w-full animate-spin",Yo[n])})});case"rings":return o.jsxs("div",{className:xe("relative",Ni[e],r),children:[o.jsx("div",{className:xe("absolute inset-0 h-full w-full rounded-full border-2 border-current opacity-20 animate-ping")}),o.jsx("div",{className:xe("absolute inset-2 h-full w-full rounded-full border-2 border-current opacity-40 animate-ping","animation-delay-100")}),o.jsx("div",{className:xe("absolute inset-4 h-full w-full rounded-full border-2 border-current animate-spin")})]});case"bars":return o.jsx("div",{className:xe("flex items-end space-x-1",r),children:[0,1,2,3,4].map(s=>o.jsx("div",{className:xe("w-1 bg-current rounded-full animate-pulse",e==="sm"?"h-4":e==="md"?"h-6":e==="lg"?"h-8":"h-12",Yo[n],s===0&&"animation-delay-0",s===1&&"animation-delay-100",s===2&&"animation-delay-200",s===3&&"animation-delay-300",s===4&&"animation-delay-400"),style:{animationDelay:`${s*100}ms`,animation:"pulse 1.4s cubic-bezier(0.4, 0, 0.6, 1) infinite"}},s))});case"wave":return o.jsx("div",{className:xe("flex space-x-1",r),children:[0,1,2,3,4].map(s=>o.jsx("div",{className:xe("rounded-full bg-current animate-bounce",e==="sm"?"h-2 w-2":e==="md"?"h-3 w-3":e==="lg"?"h-4 w-4":"h-6 w-6",Yo[n]),style:{animationDelay:`${s*100}ms`}},s))});case"orbit":return o.jsxs("div",{className:xe("relative",Ni[e],r),children:[o.jsxs("div",{className:xe("absolute inset-0 h-full w-full animate-spin"),children:[o.jsx("div",{className:xe("absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full",Nb[n])}),o.jsx("div",{className:xe("absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 w-2 h-2 rounded-full opacity-60",Nb[n])}),o.jsx("div",{className:xe("absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1/2 w-2 h-2 rounded-full opacity-40",Nb[n])}),o.jsx("div",{className:xe("absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-1/2 w-2 h-2 rounded-full opacity-80",Nb[n])})]}),o.jsx("div",{className:xe("absolute inset-2 h-full w-full rounded-full border border-current opacity-20")})]});case"morph":return o.jsx("div",{className:xe("relative",Ni[e],r),children:o.jsx("div",{className:xe("h-full w-full bg-current rounded-full animate-morph")})});default:return o.jsx(B_,{className:xe("animate-spin",a)})}}function P8({message:e="Loading...",size:t="lg",variant:r="default",showProgress:n=!1,progress:a=0,className:s}){return o.jsxs("div",{className:xe("flex flex-col items-center justify-center py-8 space-y-4",s),children:[o.jsxs("div",{className:"relative",children:[o.jsx(Xc,{size:t,variant:r}),n&&o.jsx("div",{className:"absolute -bottom-6 left-0 right-0",children:o.jsx("div",{className:"w-24 h-1 bg-muted rounded-full overflow-hidden mx-auto",children:o.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${a}%`}})})})]}),e&&o.jsx("p",{className:"text-sm text-muted-foreground animate-pulse font-medium text-center max-w-xs",children:e})]})}function nXe({message:e="Loading...",fullScreen:t=!1,variant:r="bounce",className:n}){const a=o.jsxs("div",{className:xe("flex flex-col items-center justify-center space-y-6",t?"min-h-screen":"py-16",n),children:[o.jsxs("div",{className:"relative",children:[o.jsx(Xc,{size:"xl",variant:r}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"h-32 w-32 rounded-full border-4 border-muted/20 animate-ping"})})]}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("p",{className:"text-lg font-medium text-foreground animate-pulse",children:e}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while we prepare your content..."})]})]});return t?o.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:a}):a}function aXe(){const[e,t]=x.useState(!1),[r,n]=x.useState(0),a=()=>{n(0),t(!0);const c=setInterval(()=>{n(u=>u>=100?(clearInterval(c),setTimeout(()=>t(!1),500),100):u+10)},200)},s=["default","dots","pulse","bounce","rotate","rings","bars","wave","orbit","morph"],i=["sm","md","lg","xl"],l=["primary","secondary","success","warning","destructive"];return o.jsxs("div",{className:"min-h-screen bg-background p-8 space-y-8",children:[o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center space-y-4 mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold",children:"Custom Loading Spinners"}),o.jsx("p",{className:"text-muted-foreground text-lg",children:"Showcase of different spinner variants and configurations"}),o.jsx(ue,{onClick:a,className:"mt-4",children:"Show Page Loader with Progress"})]}),o.jsxs(et,{children:[o.jsx(Bt,{children:o.jsx(lr,{children:"Spinner Variants"})}),o.jsx(ot,{children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:s.map(c=>o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"h-20 flex items-center justify-center",children:o.jsx(Xc,{variant:c,size:"lg"})}),o.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:c})]},c))})})]}),o.jsxs(et,{children:[o.jsx(Bt,{children:o.jsx(lr,{children:"Spinner Sizes"})}),o.jsx(ot,{children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:i.map(c=>o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"h-20 flex items-center justify-center",children:o.jsx(Xc,{variant:"bounce",size:c})}),o.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:c})]},c))})})]}),o.jsxs(et,{children:[o.jsx(Bt,{children:o.jsx(lr,{children:"Spinner Colors"})}),o.jsx(ot,{children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:l.map(c=>o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"h-20 flex items-center justify-center",children:o.jsx(Xc,{variant:"default",size:"lg",color:c})}),o.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:c})]},c))})})]}),o.jsxs(et,{children:[o.jsx(Bt,{children:o.jsx(lr,{children:"Loading Spinner with Messages"})}),o.jsx(ot,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold",children:"Basic Loading"}),o.jsx(P8,{message:"Loading dashboard data...",variant:"dots",size:"md"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold",children:"With Progress"}),o.jsx(P8,{message:"Processing files...",variant:"pulse",size:"lg",showProgress:!0,progress:65})]})]})})]}),o.jsxs(et,{children:[o.jsx(Bt,{children:o.jsx(lr,{children:"Combined Examples"})}),o.jsx(ot,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[o.jsx(Xc,{variant:"bounce",size:"xl",color:"success"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Success State"})]}),o.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[o.jsx(Xc,{variant:"rotate",size:"xl",color:"warning"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing"})]}),o.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[o.jsx(Xc,{variant:"dots",size:"xl",color:"destructive"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Error State"})]})]})})]})]}),e&&o.jsx(nXe,{message:"Loading amazing content...",variant:"bounce",fullScreen:!0})]})}const sXe=()=>o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Unauthorized Access"}),o.jsx("p",{className:"mb-4",children:"You don't have permission to view this page."}),o.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Go Back"})]})}),iXe=()=>{const{user:e}=hr();return(e==null?void 0:e.role)==="client"?o.jsx(cUe,{}):o.jsx(D6e,{})},D8=({children:e})=>o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-indigo-400/20 to-blue-400/20 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-primary/5 to-blue-400/5 rounded-full blur-3xl"})]}),o.jsx("div",{className:"relative z-10 w-full px-4 py-8",children:e})]});function oXe(){return o.jsx(Nae,{children:o.jsx(HU,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:o.jsx(Loe,{children:o.jsx(Yse,{children:o.jsx(Kse,{children:o.jsx(Xse,{children:o.jsx(lXe,{})})})})})})})}function lXe(){const{isRTL:e}=La(),t=Tl(),{t:r}=$t();return x.useEffect(()=>{document.documentElement.dir=e?"rtl":"ltr"},[e]),x.useEffect(()=>{const n=t.pathname.split("/").filter(c=>c),a="Middar CRM";if(n.length===0){document.title=a;return}const s=n[n.length-1],i={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee",permissions:"navigation.permissions"};let l="";if(i[s])l=r(i[s]);else if(/^\d+$/.test(s)||s.length>20)if(n.length>1){const c=n[n.length-2];i[c]?l=`${r(i[c])} - ${s}`:l=s}else l=s;else l=s.split("-").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ");document.title=`${l} | ${a}`},[t,r]),o.jsxs(yae,{children:[o.jsx(br,{path:"/login",element:o.jsx(D8,{children:o.jsx(Ioe,{})})}),o.jsx(br,{path:"/signup",element:o.jsx(D8,{children:o.jsx(Moe,{})})}),o.jsx(br,{path:"/unauthorized",element:o.jsx(sXe,{})}),o.jsx(br,{path:"/auth/callback",element:o.jsx(fUe,{})}),o.jsx(br,{path:"/",element:o.jsx(dUe,{})}),o.jsxs(br,{element:o.jsx(Ly,{children:o.jsx(NC,{children:o.jsx(ZR,{})})}),children:[o.jsx(br,{path:"/dashboard",element:o.jsx(GLe,{})}),o.jsx(br,{path:"/leads",element:o.jsx(V8e,{})}),o.jsx(br,{path:"/projects",element:o.jsx(o6e,{})}),o.jsx(br,{path:"/tasks",element:o.jsx(G8e,{})}),o.jsx(br,{path:"/tickets",element:o.jsx(J8e,{})}),o.jsx(br,{path:"/users",element:o.jsx(Ly,{denyPermissionIds:[3,4,5,6],children:o.jsx(_6e,{})})}),o.jsx(br,{path:"/teams",element:o.jsx(S6e,{})}),o.jsx(br,{path:"/chats",element:o.jsx(iXe,{})}),o.jsx(br,{path:"/all-chats",element:o.jsx(lUe,{})}),o.jsx(br,{path:"/whatsapp",element:o.jsx(tXe,{})}),o.jsx(br,{path:"/requests",element:o.jsx(eXe,{})}),o.jsx(br,{path:"/client-portal",element:o.jsx(uUe,{})}),o.jsx(br,{path:"/surveys",element:o.jsx(gGe,{})}),o.jsx(br,{path:"/mleads",element:o.jsx(qGe,{})}),o.jsx(br,{path:"/mprojects",element:o.jsx(XGe,{})}),o.jsx(br,{path:"/permissions",element:o.jsx(Ly,{denyPermissionIds:[3,4,5,6],children:o.jsx(rXe,{})})}),o.jsx(br,{path:"/settings",element:o.jsx(Ly,{denyPermissionIds:[3,4,5,6],children:o.jsx(vGe,{})})}),o.jsx(br,{path:"/spinner-demo",element:o.jsx(aXe,{})})]}),o.jsx(br,{element:o.jsx(NC,{children:o.jsx(ZR,{})})}),o.jsx(br,{path:"*",element:o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("h1",{children:"404 - Page Not Found"})})})]})}const cXe=new bte({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3}}});nU(document.getElementById("root")).render(o.jsx(Ere,{i18n:Wr,children:o.jsx(kte,{client:cXe,children:o.jsx(HU,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:o.jsx(oXe,{})})})}));
